import{_ as Oc}from"./preload-helper-8235fac6.js";import{g as z5,s as bt}from"./supabaseClient-54ee3b77.js";import{deleteCreation as Sb,addCreation as Fg}from"./creations-4ab0b6d9.js";var q5={exports:{}},Bh={},U5={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cu=Symbol.for("react.element"),jb=Symbol.for("react.portal"),Nb=Symbol.for("react.fragment"),Ab=Symbol.for("react.strict_mode"),Cb=Symbol.for("react.profiler"),Pb=Symbol.for("react.provider"),Lb=Symbol.for("react.context"),kb=Symbol.for("react.forward_ref"),_b=Symbol.for("react.suspense"),Eb=Symbol.for("react.memo"),Tb=Symbol.for("react.lazy"),Ig=Symbol.iterator;function Fb(e){return e===null||typeof e!="object"?null:(e=Ig&&e[Ig]||e["@@iterator"],typeof e=="function"?e:null)}var V5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$5=Object.assign,H5={};function xl(e,t,n){this.props=e,this.context=t,this.refs=H5,this.updater=n||V5}xl.prototype.isReactComponent={};xl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function W5(){}W5.prototype=xl.prototype;function v1(e,t,n){this.props=e,this.context=t,this.refs=H5,this.updater=n||V5}var y1=v1.prototype=new W5;y1.constructor=v1;$5(y1,xl.prototype);y1.isPureReactComponent=!0;var Rg=Array.isArray,G5=Object.prototype.hasOwnProperty,x1={current:null},K5={key:!0,ref:!0,__self:!0,__source:!0};function Y5(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)G5.call(t,r)&&!K5.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:cu,type:e,key:s,ref:o,props:i,_owner:x1.current}}function Ib(e,t){return{$$typeof:cu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function w1(e){return typeof e=="object"&&e!==null&&e.$$typeof===cu}function Rb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Dg=/\/+/g;function Jf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rb(""+e.key):t.toString(36)}function Id(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case cu:case jb:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Jf(o,0):r,Rg(i)?(n="",e!=null&&(n=e.replace(Dg,"$&/")+"/"),Id(i,t,n,"",function(d){return d})):i!=null&&(w1(i)&&(i=Ib(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Dg,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Rg(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Jf(s,a);o+=Id(s,t,n,l,i)}else if(l=Fb(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Jf(s,a++),o+=Id(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function sd(e,t,n){if(e==null)return e;var r=[],i=0;return Id(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Db(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hr={current:null},Rd={transition:null},Mb={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:Rd,ReactCurrentOwner:x1};function J5(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:sd,forEach:function(e,t,n){sd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return sd(e,function(){t++}),t},toArray:function(e){return sd(e,function(t){return t})||[]},only:function(e){if(!w1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vt.Component=xl;vt.Fragment=Nb;vt.Profiler=Cb;vt.PureComponent=v1;vt.StrictMode=Ab;vt.Suspense=_b;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mb;vt.act=J5;vt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$5({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=x1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)G5.call(t,l)&&!K5.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:cu,type:e.type,key:i,ref:s,props:r,_owner:o}};vt.createContext=function(e){return e={$$typeof:Lb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pb,_context:e},e.Consumer=e};vt.createElement=Y5;vt.createFactory=function(e){var t=Y5.bind(null,e);return t.type=e,t};vt.createRef=function(){return{current:null}};vt.forwardRef=function(e){return{$$typeof:kb,render:e}};vt.isValidElement=w1;vt.lazy=function(e){return{$$typeof:Tb,_payload:{_status:-1,_result:e},_init:Db}};vt.memo=function(e,t){return{$$typeof:Eb,type:e,compare:t===void 0?null:t}};vt.startTransition=function(e){var t=Rd.transition;Rd.transition={};try{e()}finally{Rd.transition=t}};vt.unstable_act=J5;vt.useCallback=function(e,t){return hr.current.useCallback(e,t)};vt.useContext=function(e){return hr.current.useContext(e)};vt.useDebugValue=function(){};vt.useDeferredValue=function(e){return hr.current.useDeferredValue(e)};vt.useEffect=function(e,t){return hr.current.useEffect(e,t)};vt.useId=function(){return hr.current.useId()};vt.useImperativeHandle=function(e,t,n){return hr.current.useImperativeHandle(e,t,n)};vt.useInsertionEffect=function(e,t){return hr.current.useInsertionEffect(e,t)};vt.useLayoutEffect=function(e,t){return hr.current.useLayoutEffect(e,t)};vt.useMemo=function(e,t){return hr.current.useMemo(e,t)};vt.useReducer=function(e,t,n){return hr.current.useReducer(e,t,n)};vt.useRef=function(e){return hr.current.useRef(e)};vt.useState=function(e){return hr.current.useState(e)};vt.useSyncExternalStore=function(e,t,n){return hr.current.useSyncExternalStore(e,t,n)};vt.useTransition=function(){return hr.current.useTransition()};vt.version="18.3.1";U5.exports=vt;var T=U5.exports;const Dt=z5(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob=T,Bb=Symbol.for("react.element"),zb=Symbol.for("react.fragment"),qb=Object.prototype.hasOwnProperty,Ub=Ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vb={key:!0,ref:!0,__self:!0,__source:!0};function X5(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)qb.call(t,r)&&!Vb.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Bb,type:e,key:s,ref:o,props:i,_owner:Ub.current}}Bh.Fragment=zb;Bh.jsx=X5;Bh.jsxs=X5;q5.exports=Bh;var c=q5.exports,Wp={},Q5={exports:{}},Kr={},Z5={exports:{}},ey={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,ie){var J=W.length;W.push(ie);e:for(;0<J;){var me=J-1>>>1,C=W[me];if(0<i(C,ie))W[me]=ie,W[J]=C,J=me;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ie=W[0],J=W.pop();if(J!==ie){W[0]=J;e:for(var me=0,C=W.length,B=C>>>1;me<B;){var z=2*(me+1)-1,K=W[z],Z=z+1,oe=W[Z];if(0>i(K,J))Z<C&&0>i(oe,K)?(W[me]=oe,W[Z]=J,me=Z):(W[me]=K,W[z]=J,me=z);else if(Z<C&&0>i(oe,J))W[me]=oe,W[Z]=J,me=Z;else break e}}return ie}function i(W,ie){var J=W.sortIndex-ie.sortIndex;return J!==0?J:W.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],d=[],f=1,p=null,g=3,m=!1,S=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(W){for(var ie=n(d);ie!==null;){if(ie.callback===null)r(d);else if(ie.startTime<=W)r(d),ie.sortIndex=ie.expirationTime,t(l,ie);else break;ie=n(d)}}function R(W){if(b=!1,N(W),!S)if(n(l)!==null)S=!0,ae(q);else{var ie=n(d);ie!==null&&le(R,ie.startTime-W)}}function q(W,ie){S=!1,b&&(b=!1,x(F),F=-1),m=!0;var J=g;try{for(N(ie),p=n(l);p!==null&&(!(p.expirationTime>ie)||W&&!E());){var me=p.callback;if(typeof me=="function"){p.callback=null,g=p.priorityLevel;var C=me(p.expirationTime<=ie);ie=e.unstable_now(),typeof C=="function"?p.callback=C:p===n(l)&&r(l),N(ie)}else r(l);p=n(l)}if(p!==null)var B=!0;else{var z=n(d);z!==null&&le(R,z.startTime-ie),B=!1}return B}finally{p=null,g=J,m=!1}}var V=!1,I=null,F=-1,Y=5,X=-1;function E(){return!(e.unstable_now()-X<Y)}function O(){if(I!==null){var W=e.unstable_now();X=W;var ie=!0;try{ie=I(!0,W)}finally{ie?Q():(V=!1,I=null)}}else V=!1}var Q;if(typeof w=="function")Q=function(){w(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,de=H.port2;H.port1.onmessage=O,Q=function(){de.postMessage(null)}}else Q=function(){A(O,0)};function ae(W){I=W,V||(V=!0,Q())}function le(W,ie){F=A(function(){W(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){S||m||(S=!0,ae(q))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(W){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var J=g;g=ie;try{return W()}finally{g=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var J=g;g=W;try{return ie()}finally{g=J}},e.unstable_scheduleCallback=function(W,ie,J){var me=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?me+J:me):J=me,W){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=J+C,W={id:f++,callback:ie,priorityLevel:W,startTime:J,expirationTime:C,sortIndex:-1},J>me?(W.sortIndex=J,t(d,W),n(l)===null&&W===n(d)&&(b?(x(F),F=-1):b=!0,le(R,J-me))):(W.sortIndex=C,t(l,W),S||m||(S=!0,ae(q))),W},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(W){var ie=g;return function(){var J=g;g=ie;try{return W.apply(this,arguments)}finally{g=J}}}})(ey);Z5.exports=ey;var $b=Z5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb=T,Wr=$b;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ty=new Set,Bc={};function na(e,t){ll(e,t),ll(e+"Capture",t)}function ll(e,t){for(Bc[e]=t,e=0;e<t.length;e++)ty.add(t[e])}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gp=Object.prototype.hasOwnProperty,Wb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mg={},Og={};function Gb(e){return Gp.call(Og,e)?!0:Gp.call(Mg,e)?!1:Wb.test(e)?Og[e]=!0:(Mg[e]=!0,!1)}function Kb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yb(e,t,n,r){if(t===null||typeof t>"u"||Kb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var $n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$n[e]=new fr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$n[t]=new fr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$n[e]=new fr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$n[e]=new fr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$n[e]=new fr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$n[e]=new fr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$n[e]=new fr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$n[e]=new fr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$n[e]=new fr(e,5,!1,e.toLowerCase(),null,!1,!1)});var b1=/[\-:]([a-z])/g;function S1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(b1,S1);$n[t]=new fr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(b1,S1);$n[t]=new fr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(b1,S1);$n[t]=new fr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$n[e]=new fr(e,1,!1,e.toLowerCase(),null,!1,!1)});$n.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$n[e]=new fr(e,1,!1,e.toLowerCase(),null,!0,!0)});function j1(e,t,n,r){var i=$n.hasOwnProperty(t)?$n[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yb(t,n,i,r)&&(n=null),r||i===null?Gb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _s=Hb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,od=Symbol.for("react.element"),Fa=Symbol.for("react.portal"),Ia=Symbol.for("react.fragment"),N1=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),ny=Symbol.for("react.provider"),ry=Symbol.for("react.context"),A1=Symbol.for("react.forward_ref"),Yp=Symbol.for("react.suspense"),Jp=Symbol.for("react.suspense_list"),C1=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),iy=Symbol.for("react.offscreen"),Bg=Symbol.iterator;function nc(e){return e===null||typeof e!="object"?null:(e=Bg&&e[Bg]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Object.assign,Xf;function vc(e){if(Xf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xf=t&&t[1]||""}return`
`+Xf+e}var Qf=!1;function Zf(e,t){if(!e||Qf)return"";Qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vc(e):""}function Jb(e){switch(e.tag){case 5:return vc(e.type);case 16:return vc("Lazy");case 13:return vc("Suspense");case 19:return vc("SuspenseList");case 0:case 2:case 15:return e=Zf(e.type,!1),e;case 11:return e=Zf(e.type.render,!1),e;case 1:return e=Zf(e.type,!0),e;default:return""}}function Xp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ia:return"Fragment";case Fa:return"Portal";case Kp:return"Profiler";case N1:return"StrictMode";case Yp:return"Suspense";case Jp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ry:return(e.displayName||"Context")+".Consumer";case ny:return(e._context.displayName||"Context")+".Provider";case A1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C1:return t=e.displayName||null,t!==null?t:Xp(e.type)||"Memo";case Qs:t=e._payload,e=e._init;try{return Xp(e(t))}catch{}}return null}function Xb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xp(t);case 8:return t===N1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function po(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qb(e){var t=sy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ad(e){e._valueTracker||(e._valueTracker=Qb(e))}function oy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ih(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qp(e,t){var n=t.checked;return rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=po(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ay(e,t){t=t.checked,t!=null&&j1(e,"checked",t,!1)}function Zp(e,t){ay(e,t);var n=po(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?em(e,t.type,n):t.hasOwnProperty("defaultValue")&&em(e,t.type,po(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function em(e,t,n){(t!=="number"||ih(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yc=Array.isArray;function Qa(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+po(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function tm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ug(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_e(92));if(yc(n)){if(1<n.length)throw Error(_e(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:po(n)}}function ly(e,t){var n=po(t.value),r=po(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ld,uy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ld=ld||document.createElement("div"),ld.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ld.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zb=["Webkit","ms","Moz","O"];Object.keys(Nc).forEach(function(e){Zb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nc[t]=Nc[e]})});function dy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nc.hasOwnProperty(e)&&Nc[e]?(""+t).trim():t+"px"}function hy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var eS=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rm(e,t){if(t){if(eS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function im(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sm=null;function P1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var om=null,Za=null,el=null;function $g(e){if(e=hu(e)){if(typeof om!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=$h(t),om(e.stateNode,e.type,t))}}function fy(e){Za?el?el.push(e):el=[e]:Za=e}function py(){if(Za){var e=Za,t=el;if(el=Za=null,$g(e),t)for(e=0;e<t.length;e++)$g(t[e])}}function my(e,t){return e(t)}function gy(){}var ep=!1;function vy(e,t,n){if(ep)return e(t,n);ep=!0;try{return my(e,t,n)}finally{ep=!1,(Za!==null||el!==null)&&(gy(),py())}}function qc(e,t){var n=e.stateNode;if(n===null)return null;var r=$h(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_e(231,t,typeof n));return n}var am=!1;if(Ns)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){am=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{am=!1}function tS(e,t,n,r,i,s,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var Ac=!1,sh=null,oh=!1,lm=null,nS={onError:function(e){Ac=!0,sh=e}};function rS(e,t,n,r,i,s,o,a,l){Ac=!1,sh=null,tS.apply(nS,arguments)}function iS(e,t,n,r,i,s,o,a,l){if(rS.apply(this,arguments),Ac){if(Ac){var d=sh;Ac=!1,sh=null}else throw Error(_e(198));oh||(oh=!0,lm=d)}}function ra(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hg(e){if(ra(e)!==e)throw Error(_e(188))}function sS(e){var t=e.alternate;if(!t){if(t=ra(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hg(i),e;if(s===r)return Hg(i),t;s=s.sibling}throw Error(_e(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?e:t}function xy(e){return e=sS(e),e!==null?wy(e):null}function wy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wy(e);if(t!==null)return t;e=e.sibling}return null}var by=Wr.unstable_scheduleCallback,Wg=Wr.unstable_cancelCallback,oS=Wr.unstable_shouldYield,aS=Wr.unstable_requestPaint,vn=Wr.unstable_now,lS=Wr.unstable_getCurrentPriorityLevel,L1=Wr.unstable_ImmediatePriority,Sy=Wr.unstable_UserBlockingPriority,ah=Wr.unstable_NormalPriority,cS=Wr.unstable_LowPriority,jy=Wr.unstable_IdlePriority,zh=null,Yi=null;function uS(e){if(Yi&&typeof Yi.onCommitFiberRoot=="function")try{Yi.onCommitFiberRoot(zh,e,void 0,(e.current.flags&128)===128)}catch{}}var Ei=Math.clz32?Math.clz32:fS,dS=Math.log,hS=Math.LN2;function fS(e){return e>>>=0,e===0?32:31-(dS(e)/hS|0)|0}var cd=64,ud=4194304;function xc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=xc(a):(s&=o,s!==0&&(r=xc(s)))}else o=n&~i,o!==0?r=xc(o):s!==0&&(r=xc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ei(t),i=1<<n,r|=e[n],t&=~i;return r}function pS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ei(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=pS(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function cm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ny(){var e=cd;return cd<<=1,!(cd&4194240)&&(cd=64),e}function tp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function uu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ei(t),e[t]=n}function gS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ei(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function k1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ei(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var It=0;function Ay(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cy,_1,Py,Ly,ky,um=!1,dd=[],so=null,oo=null,ao=null,Uc=new Map,Vc=new Map,eo=[],vS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gg(e,t){switch(e){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":Uc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(t.pointerId)}}function ic(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=hu(t),t!==null&&_1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function yS(e,t,n,r,i){switch(t){case"focusin":return so=ic(so,e,t,n,r,i),!0;case"dragenter":return oo=ic(oo,e,t,n,r,i),!0;case"mouseover":return ao=ic(ao,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Uc.set(s,ic(Uc.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vc.set(s,ic(Vc.get(s)||null,e,t,n,r,i)),!0}return!1}function _y(e){var t=Vo(e.target);if(t!==null){var n=ra(t);if(n!==null){if(t=n.tag,t===13){if(t=yy(n),t!==null){e.blockedOn=t,ky(e.priority,function(){Py(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sm=r,n.target.dispatchEvent(r),sm=null}else return t=hu(n),t!==null&&_1(t),e.blockedOn=n,!1;t.shift()}return!0}function Kg(e,t,n){Dd(e)&&n.delete(t)}function xS(){um=!1,so!==null&&Dd(so)&&(so=null),oo!==null&&Dd(oo)&&(oo=null),ao!==null&&Dd(ao)&&(ao=null),Uc.forEach(Kg),Vc.forEach(Kg)}function sc(e,t){e.blockedOn===t&&(e.blockedOn=null,um||(um=!0,Wr.unstable_scheduleCallback(Wr.unstable_NormalPriority,xS)))}function $c(e){function t(i){return sc(i,e)}if(0<dd.length){sc(dd[0],e);for(var n=1;n<dd.length;n++){var r=dd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(so!==null&&sc(so,e),oo!==null&&sc(oo,e),ao!==null&&sc(ao,e),Uc.forEach(t),Vc.forEach(t),n=0;n<eo.length;n++)r=eo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<eo.length&&(n=eo[0],n.blockedOn===null);)_y(n),n.blockedOn===null&&eo.shift()}var tl=_s.ReactCurrentBatchConfig,ch=!0;function wS(e,t,n,r){var i=It,s=tl.transition;tl.transition=null;try{It=1,E1(e,t,n,r)}finally{It=i,tl.transition=s}}function bS(e,t,n,r){var i=It,s=tl.transition;tl.transition=null;try{It=4,E1(e,t,n,r)}finally{It=i,tl.transition=s}}function E1(e,t,n,r){if(ch){var i=dm(e,t,n,r);if(i===null)dp(e,t,r,uh,n),Gg(e,r);else if(yS(i,e,t,n,r))r.stopPropagation();else if(Gg(e,r),t&4&&-1<vS.indexOf(e)){for(;i!==null;){var s=hu(i);if(s!==null&&Cy(s),s=dm(e,t,n,r),s===null&&dp(e,t,r,uh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else dp(e,t,r,null,n)}}var uh=null;function dm(e,t,n,r){if(uh=null,e=P1(r),e=Vo(e),e!==null)if(t=ra(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uh=e,null}function Ey(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lS()){case L1:return 1;case Sy:return 4;case ah:case cS:return 16;case jy:return 536870912;default:return 16}default:return 16}}var no=null,T1=null,Md=null;function Ty(){if(Md)return Md;var e,t=T1,n=t.length,r,i="value"in no?no.value:no.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Md=i.slice(e,1<r?1-r:void 0)}function Od(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hd(){return!0}function Yg(){return!1}function Yr(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hd:Yg,this.isPropagationStopped=Yg,this}return rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hd)},persist:function(){},isPersistent:hd}),t}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F1=Yr(wl),du=rn({},wl,{view:0,detail:0}),SS=Yr(du),np,rp,oc,qh=rn({},du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oc&&(oc&&e.type==="mousemove"?(np=e.screenX-oc.screenX,rp=e.screenY-oc.screenY):rp=np=0,oc=e),np)},movementY:function(e){return"movementY"in e?e.movementY:rp}}),Jg=Yr(qh),jS=rn({},qh,{dataTransfer:0}),NS=Yr(jS),AS=rn({},du,{relatedTarget:0}),ip=Yr(AS),CS=rn({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),PS=Yr(CS),LS=rn({},wl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kS=Yr(LS),_S=rn({},wl,{data:0}),Xg=Yr(_S),ES={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=FS[e])?!!t[e]:!1}function I1(){return IS}var RS=rn({},du,{key:function(e){if(e.key){var t=ES[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I1,charCode:function(e){return e.type==="keypress"?Od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DS=Yr(RS),MS=rn({},qh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qg=Yr(MS),OS=rn({},du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I1}),BS=Yr(OS),zS=rn({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),qS=Yr(zS),US=rn({},qh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VS=Yr(US),$S=[9,13,27,32],R1=Ns&&"CompositionEvent"in window,Cc=null;Ns&&"documentMode"in document&&(Cc=document.documentMode);var HS=Ns&&"TextEvent"in window&&!Cc,Fy=Ns&&(!R1||Cc&&8<Cc&&11>=Cc),Zg=String.fromCharCode(32),e2=!1;function Iy(e,t){switch(e){case"keyup":return $S.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ry(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function WS(e,t){switch(e){case"compositionend":return Ry(t);case"keypress":return t.which!==32?null:(e2=!0,Zg);case"textInput":return e=t.data,e===Zg&&e2?null:e;default:return null}}function GS(e,t){if(Ra)return e==="compositionend"||!R1&&Iy(e,t)?(e=Ty(),Md=T1=no=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fy&&t.locale!=="ko"?null:t.data;default:return null}}var KS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KS[e.type]:t==="textarea"}function Dy(e,t,n,r){fy(r),t=dh(t,"onChange"),0<t.length&&(n=new F1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pc=null,Hc=null;function YS(e){Gy(e,0)}function Uh(e){var t=Oa(e);if(oy(t))return e}function JS(e,t){if(e==="change")return t}var My=!1;if(Ns){var sp;if(Ns){var op="oninput"in document;if(!op){var n2=document.createElement("div");n2.setAttribute("oninput","return;"),op=typeof n2.oninput=="function"}sp=op}else sp=!1;My=sp&&(!document.documentMode||9<document.documentMode)}function r2(){Pc&&(Pc.detachEvent("onpropertychange",Oy),Hc=Pc=null)}function Oy(e){if(e.propertyName==="value"&&Uh(Hc)){var t=[];Dy(t,Hc,e,P1(e)),vy(YS,t)}}function XS(e,t,n){e==="focusin"?(r2(),Pc=t,Hc=n,Pc.attachEvent("onpropertychange",Oy)):e==="focusout"&&r2()}function QS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uh(Hc)}function ZS(e,t){if(e==="click")return Uh(t)}function ej(e,t){if(e==="input"||e==="change")return Uh(t)}function tj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fi=typeof Object.is=="function"?Object.is:tj;function Wc(e,t){if(Fi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gp.call(t,i)||!Fi(e[i],t[i]))return!1}return!0}function i2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function s2(e,t){var n=i2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=i2(n)}}function By(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?By(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zy(){for(var e=window,t=ih();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ih(e.document)}return t}function D1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nj(e){var t=zy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&By(n.ownerDocument.documentElement,n)){if(r!==null&&D1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=s2(n,s);var o=s2(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rj=Ns&&"documentMode"in document&&11>=document.documentMode,Da=null,hm=null,Lc=null,fm=!1;function o2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fm||Da==null||Da!==ih(r)||(r=Da,"selectionStart"in r&&D1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lc&&Wc(Lc,r)||(Lc=r,r=dh(hm,"onSelect"),0<r.length&&(t=new F1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Da)))}function fd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ma={animationend:fd("Animation","AnimationEnd"),animationiteration:fd("Animation","AnimationIteration"),animationstart:fd("Animation","AnimationStart"),transitionend:fd("Transition","TransitionEnd")},ap={},qy={};Ns&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Vh(e){if(ap[e])return ap[e];if(!Ma[e])return e;var t=Ma[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qy)return ap[e]=t[n];return e}var Uy=Vh("animationend"),Vy=Vh("animationiteration"),$y=Vh("animationstart"),Hy=Vh("transitionend"),Wy=new Map,a2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wo(e,t){Wy.set(e,t),na(t,[e])}for(var lp=0;lp<a2.length;lp++){var cp=a2[lp],ij=cp.toLowerCase(),sj=cp[0].toUpperCase()+cp.slice(1);wo(ij,"on"+sj)}wo(Uy,"onAnimationEnd");wo(Vy,"onAnimationIteration");wo($y,"onAnimationStart");wo("dblclick","onDoubleClick");wo("focusin","onFocus");wo("focusout","onBlur");wo(Hy,"onTransitionEnd");ll("onMouseEnter",["mouseout","mouseover"]);ll("onMouseLeave",["mouseout","mouseover"]);ll("onPointerEnter",["pointerout","pointerover"]);ll("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oj=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function l2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,iS(r,t,void 0,e),e.currentTarget=null}function Gy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;l2(i,a,d),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;l2(i,a,d),s=l}}}if(oh)throw e=lm,oh=!1,lm=null,e}function Ht(e,t){var n=t[ym];n===void 0&&(n=t[ym]=new Set);var r=e+"__bubble";n.has(r)||(Ky(t,e,2,!1),n.add(r))}function up(e,t,n){var r=0;t&&(r|=4),Ky(n,e,r,t)}var pd="_reactListening"+Math.random().toString(36).slice(2);function Gc(e){if(!e[pd]){e[pd]=!0,ty.forEach(function(n){n!=="selectionchange"&&(oj.has(n)||up(n,!1,e),up(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pd]||(t[pd]=!0,up("selectionchange",!1,t))}}function Ky(e,t,n,r){switch(Ey(t)){case 1:var i=wS;break;case 4:i=bS;break;default:i=E1}n=i.bind(null,t,n,e),i=void 0,!am||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function dp(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Vo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}vy(function(){var d=s,f=P1(n),p=[];e:{var g=Wy.get(e);if(g!==void 0){var m=F1,S=e;switch(e){case"keypress":if(Od(n)===0)break e;case"keydown":case"keyup":m=DS;break;case"focusin":S="focus",m=ip;break;case"focusout":S="blur",m=ip;break;case"beforeblur":case"afterblur":m=ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=NS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=BS;break;case Uy:case Vy:case $y:m=PS;break;case Hy:m=qS;break;case"scroll":m=SS;break;case"wheel":m=VS;break;case"copy":case"cut":case"paste":m=kS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Qg}var b=(t&4)!==0,A=!b&&e==="scroll",x=b?g!==null?g+"Capture":null:g;b=[];for(var w=d,N;w!==null;){N=w;var R=N.stateNode;if(N.tag===5&&R!==null&&(N=R,x!==null&&(R=qc(w,x),R!=null&&b.push(Kc(w,R,N)))),A)break;w=w.return}0<b.length&&(g=new m(g,S,null,n,f),p.push({event:g,listeners:b}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==sm&&(S=n.relatedTarget||n.fromElement)&&(Vo(S)||S[As]))break e;if((m||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=d,S=S?Vo(S):null,S!==null&&(A=ra(S),S!==A||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=d),m!==S)){if(b=Jg,R="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(b=Qg,R="onPointerLeave",x="onPointerEnter",w="pointer"),A=m==null?g:Oa(m),N=S==null?g:Oa(S),g=new b(R,w+"leave",m,n,f),g.target=A,g.relatedTarget=N,R=null,Vo(f)===d&&(b=new b(x,w+"enter",S,n,f),b.target=N,b.relatedTarget=A,R=b),A=R,m&&S)t:{for(b=m,x=S,w=0,N=b;N;N=Pa(N))w++;for(N=0,R=x;R;R=Pa(R))N++;for(;0<w-N;)b=Pa(b),w--;for(;0<N-w;)x=Pa(x),N--;for(;w--;){if(b===x||x!==null&&b===x.alternate)break t;b=Pa(b),x=Pa(x)}b=null}else b=null;m!==null&&c2(p,g,m,b,!1),S!==null&&A!==null&&c2(p,A,S,b,!0)}}e:{if(g=d?Oa(d):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var q=JS;else if(t2(g))if(My)q=ej;else{q=QS;var V=XS}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(q=ZS);if(q&&(q=q(e,d))){Dy(p,q,n,f);break e}V&&V(e,g,d),e==="focusout"&&(V=g._wrapperState)&&V.controlled&&g.type==="number"&&em(g,"number",g.value)}switch(V=d?Oa(d):window,e){case"focusin":(t2(V)||V.contentEditable==="true")&&(Da=V,hm=d,Lc=null);break;case"focusout":Lc=hm=Da=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,o2(p,n,f);break;case"selectionchange":if(rj)break;case"keydown":case"keyup":o2(p,n,f)}var I;if(R1)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Ra?Iy(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Fy&&n.locale!=="ko"&&(Ra||F!=="onCompositionStart"?F==="onCompositionEnd"&&Ra&&(I=Ty()):(no=f,T1="value"in no?no.value:no.textContent,Ra=!0)),V=dh(d,F),0<V.length&&(F=new Xg(F,e,null,n,f),p.push({event:F,listeners:V}),I?F.data=I:(I=Ry(n),I!==null&&(F.data=I)))),(I=HS?WS(e,n):GS(e,n))&&(d=dh(d,"onBeforeInput"),0<d.length&&(f=new Xg("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=I))}Gy(p,t)})}function Kc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dh(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=qc(e,n),s!=null&&r.unshift(Kc(e,s,i)),s=qc(e,t),s!=null&&r.push(Kc(e,s,i))),e=e.return}return r}function Pa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function c2(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,i?(l=qc(n,s),l!=null&&o.unshift(Kc(n,l,a))):i||(l=qc(n,s),l!=null&&o.push(Kc(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var aj=/\r\n?/g,lj=/\u0000|\uFFFD/g;function u2(e){return(typeof e=="string"?e:""+e).replace(aj,`
`).replace(lj,"")}function md(e,t,n){if(t=u2(t),u2(e)!==t&&n)throw Error(_e(425))}function hh(){}var pm=null,mm=null;function gm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vm=typeof setTimeout=="function"?setTimeout:void 0,cj=typeof clearTimeout=="function"?clearTimeout:void 0,d2=typeof Promise=="function"?Promise:void 0,uj=typeof queueMicrotask=="function"?queueMicrotask:typeof d2<"u"?function(e){return d2.resolve(null).then(e).catch(dj)}:vm;function dj(e){setTimeout(function(){throw e})}function hp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),$c(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$c(t)}function lo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function h2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bl=Math.random().toString(36).slice(2),Gi="__reactFiber$"+bl,Yc="__reactProps$"+bl,As="__reactContainer$"+bl,ym="__reactEvents$"+bl,hj="__reactListeners$"+bl,fj="__reactHandles$"+bl;function Vo(e){var t=e[Gi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[As]||n[Gi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=h2(e);e!==null;){if(n=e[Gi])return n;e=h2(e)}return t}e=n,n=e.parentNode}return null}function hu(e){return e=e[Gi]||e[As],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Oa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function $h(e){return e[Yc]||null}var xm=[],Ba=-1;function bo(e){return{current:e}}function Gt(e){0>Ba||(e.current=xm[Ba],xm[Ba]=null,Ba--)}function Vt(e,t){Ba++,xm[Ba]=e.current,e.current=t}var mo={},rr=bo(mo),Nr=bo(!1),Xo=mo;function cl(e,t){var n=e.type.contextTypes;if(!n)return mo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ar(e){return e=e.childContextTypes,e!=null}function fh(){Gt(Nr),Gt(rr)}function f2(e,t,n){if(rr.current!==mo)throw Error(_e(168));Vt(rr,t),Vt(Nr,n)}function Yy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(_e(108,Xb(e)||"Unknown",i));return rn({},n,r)}function ph(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mo,Xo=rr.current,Vt(rr,e),Vt(Nr,Nr.current),!0}function p2(e,t,n){var r=e.stateNode;if(!r)throw Error(_e(169));n?(e=Yy(e,t,Xo),r.__reactInternalMemoizedMergedChildContext=e,Gt(Nr),Gt(rr),Vt(rr,e)):Gt(Nr),Vt(Nr,n)}var vs=null,Hh=!1,fp=!1;function Jy(e){vs===null?vs=[e]:vs.push(e)}function pj(e){Hh=!0,Jy(e)}function So(){if(!fp&&vs!==null){fp=!0;var e=0,t=It;try{var n=vs;for(It=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vs=null,Hh=!1}catch(i){throw vs!==null&&(vs=vs.slice(e+1)),by(L1,So),i}finally{It=t,fp=!1}}return null}var za=[],qa=0,mh=null,gh=0,fi=[],pi=0,Qo=null,ys=1,xs="";function Mo(e,t){za[qa++]=gh,za[qa++]=mh,mh=e,gh=t}function Xy(e,t,n){fi[pi++]=ys,fi[pi++]=xs,fi[pi++]=Qo,Qo=e;var r=ys;e=xs;var i=32-Ei(r)-1;r&=~(1<<i),n+=1;var s=32-Ei(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ys=1<<32-Ei(t)+i|n<<i|r,xs=s+e}else ys=1<<s|n<<i|r,xs=e}function M1(e){e.return!==null&&(Mo(e,1),Xy(e,1,0))}function O1(e){for(;e===mh;)mh=za[--qa],za[qa]=null,gh=za[--qa],za[qa]=null;for(;e===Qo;)Qo=fi[--pi],fi[pi]=null,xs=fi[--pi],fi[pi]=null,ys=fi[--pi],fi[pi]=null}var $r=null,qr=null,Jt=!1,_i=null;function Qy(e,t){var n=mi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function m2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$r=e,qr=lo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$r=e,qr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qo!==null?{id:ys,overflow:xs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$r=e,qr=null,!0):!1;default:return!1}}function wm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bm(e){if(Jt){var t=qr;if(t){var n=t;if(!m2(e,t)){if(wm(e))throw Error(_e(418));t=lo(n.nextSibling);var r=$r;t&&m2(e,t)?Qy(r,n):(e.flags=e.flags&-4097|2,Jt=!1,$r=e)}}else{if(wm(e))throw Error(_e(418));e.flags=e.flags&-4097|2,Jt=!1,$r=e}}}function g2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$r=e}function gd(e){if(e!==$r)return!1;if(!Jt)return g2(e),Jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gm(e.type,e.memoizedProps)),t&&(t=qr)){if(wm(e))throw Zy(),Error(_e(418));for(;t;)Qy(e,t),t=lo(t.nextSibling)}if(g2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qr=lo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qr=null}}else qr=$r?lo(e.stateNode.nextSibling):null;return!0}function Zy(){for(var e=qr;e;)e=lo(e.nextSibling)}function ul(){qr=$r=null,Jt=!1}function B1(e){_i===null?_i=[e]:_i.push(e)}var mj=_s.ReactCurrentBatchConfig;function ac(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,e))}return e}function vd(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v2(e){var t=e._init;return t(e._payload)}function ex(e){function t(x,w){if(e){var N=x.deletions;N===null?(x.deletions=[w],x.flags|=16):N.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=fo(x,w),x.index=0,x.sibling=null,x}function s(x,w,N){return x.index=N,e?(N=x.alternate,N!==null?(N=N.index,N<w?(x.flags|=2,w):N):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,w,N,R){return w===null||w.tag!==6?(w=wp(N,x.mode,R),w.return=x,w):(w=i(w,N),w.return=x,w)}function l(x,w,N,R){var q=N.type;return q===Ia?f(x,w,N.props.children,R,N.key):w!==null&&(w.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Qs&&v2(q)===w.type)?(R=i(w,N.props),R.ref=ac(x,w,N),R.return=x,R):(R=Hd(N.type,N.key,N.props,null,x.mode,R),R.ref=ac(x,w,N),R.return=x,R)}function d(x,w,N,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=bp(N,x.mode,R),w.return=x,w):(w=i(w,N.children||[]),w.return=x,w)}function f(x,w,N,R,q){return w===null||w.tag!==7?(w=Ko(N,x.mode,R,q),w.return=x,w):(w=i(w,N),w.return=x,w)}function p(x,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=wp(""+w,x.mode,N),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case od:return N=Hd(w.type,w.key,w.props,null,x.mode,N),N.ref=ac(x,null,w),N.return=x,N;case Fa:return w=bp(w,x.mode,N),w.return=x,w;case Qs:var R=w._init;return p(x,R(w._payload),N)}if(yc(w)||nc(w))return w=Ko(w,x.mode,N,null),w.return=x,w;vd(x,w)}return null}function g(x,w,N,R){var q=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return q!==null?null:a(x,w,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case od:return N.key===q?l(x,w,N,R):null;case Fa:return N.key===q?d(x,w,N,R):null;case Qs:return q=N._init,g(x,w,q(N._payload),R)}if(yc(N)||nc(N))return q!==null?null:f(x,w,N,R,null);vd(x,N)}return null}function m(x,w,N,R,q){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(N)||null,a(w,x,""+R,q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case od:return x=x.get(R.key===null?N:R.key)||null,l(w,x,R,q);case Fa:return x=x.get(R.key===null?N:R.key)||null,d(w,x,R,q);case Qs:var V=R._init;return m(x,w,N,V(R._payload),q)}if(yc(R)||nc(R))return x=x.get(N)||null,f(w,x,R,q,null);vd(w,R)}return null}function S(x,w,N,R){for(var q=null,V=null,I=w,F=w=0,Y=null;I!==null&&F<N.length;F++){I.index>F?(Y=I,I=null):Y=I.sibling;var X=g(x,I,N[F],R);if(X===null){I===null&&(I=Y);break}e&&I&&X.alternate===null&&t(x,I),w=s(X,w,F),V===null?q=X:V.sibling=X,V=X,I=Y}if(F===N.length)return n(x,I),Jt&&Mo(x,F),q;if(I===null){for(;F<N.length;F++)I=p(x,N[F],R),I!==null&&(w=s(I,w,F),V===null?q=I:V.sibling=I,V=I);return Jt&&Mo(x,F),q}for(I=r(x,I);F<N.length;F++)Y=m(I,x,F,N[F],R),Y!==null&&(e&&Y.alternate!==null&&I.delete(Y.key===null?F:Y.key),w=s(Y,w,F),V===null?q=Y:V.sibling=Y,V=Y);return e&&I.forEach(function(E){return t(x,E)}),Jt&&Mo(x,F),q}function b(x,w,N,R){var q=nc(N);if(typeof q!="function")throw Error(_e(150));if(N=q.call(N),N==null)throw Error(_e(151));for(var V=q=null,I=w,F=w=0,Y=null,X=N.next();I!==null&&!X.done;F++,X=N.next()){I.index>F?(Y=I,I=null):Y=I.sibling;var E=g(x,I,X.value,R);if(E===null){I===null&&(I=Y);break}e&&I&&E.alternate===null&&t(x,I),w=s(E,w,F),V===null?q=E:V.sibling=E,V=E,I=Y}if(X.done)return n(x,I),Jt&&Mo(x,F),q;if(I===null){for(;!X.done;F++,X=N.next())X=p(x,X.value,R),X!==null&&(w=s(X,w,F),V===null?q=X:V.sibling=X,V=X);return Jt&&Mo(x,F),q}for(I=r(x,I);!X.done;F++,X=N.next())X=m(I,x,F,X.value,R),X!==null&&(e&&X.alternate!==null&&I.delete(X.key===null?F:X.key),w=s(X,w,F),V===null?q=X:V.sibling=X,V=X);return e&&I.forEach(function(O){return t(x,O)}),Jt&&Mo(x,F),q}function A(x,w,N,R){if(typeof N=="object"&&N!==null&&N.type===Ia&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case od:e:{for(var q=N.key,V=w;V!==null;){if(V.key===q){if(q=N.type,q===Ia){if(V.tag===7){n(x,V.sibling),w=i(V,N.props.children),w.return=x,x=w;break e}}else if(V.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Qs&&v2(q)===V.type){n(x,V.sibling),w=i(V,N.props),w.ref=ac(x,V,N),w.return=x,x=w;break e}n(x,V);break}else t(x,V);V=V.sibling}N.type===Ia?(w=Ko(N.props.children,x.mode,R,N.key),w.return=x,x=w):(R=Hd(N.type,N.key,N.props,null,x.mode,R),R.ref=ac(x,w,N),R.return=x,x=R)}return o(x);case Fa:e:{for(V=N.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){n(x,w.sibling),w=i(w,N.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=bp(N,x.mode,R),w.return=x,x=w}return o(x);case Qs:return V=N._init,A(x,w,V(N._payload),R)}if(yc(N))return S(x,w,N,R);if(nc(N))return b(x,w,N,R);vd(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,N),w.return=x,x=w):(n(x,w),w=wp(N,x.mode,R),w.return=x,x=w),o(x)):n(x,w)}return A}var dl=ex(!0),tx=ex(!1),vh=bo(null),yh=null,Ua=null,z1=null;function q1(){z1=Ua=yh=null}function U1(e){var t=vh.current;Gt(vh),e._currentValue=t}function Sm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nl(e,t){yh=e,z1=Ua=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jr=!0),e.firstContext=null)}function vi(e){var t=e._currentValue;if(z1!==e)if(e={context:e,memoizedValue:t,next:null},Ua===null){if(yh===null)throw Error(_e(308));Ua=e,yh.dependencies={lanes:0,firstContext:e}}else Ua=Ua.next=e;return t}var $o=null;function V1(e){$o===null?$o=[e]:$o.push(e)}function nx(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,V1(t)):(n.next=i.next,i.next=n),t.interleaved=n,Cs(e,r)}function Cs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zs=!1;function $1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ws(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,At&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Cs(e,n)}return i=r.interleaved,i===null?(t.next=t,V1(r)):(t.next=i.next,i.next=t),r.interleaved=t,Cs(e,n)}function Bd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,k1(e,n)}}function y2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xh(e,t,n,r){var i=e.updateQueue;Zs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?s=d:o.next=d,o=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,f=d=l=null,a=s;do{var g=a.lane,m=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=e,b=a;switch(g=t,m=n,b.tag){case 1:if(S=b.payload,typeof S=="function"){p=S.call(m,p,g);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=b.payload,g=typeof S=="function"?S.call(m,p,g):S,g==null)break e;p=rn({},p,g);break e;case 2:Zs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else m={eventTime:m,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=m,l=p):f=f.next=m,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(f===null&&(l=p),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ea|=o,e.lanes=o,e.memoizedState=p}}function x2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var fu={},Ji=bo(fu),Jc=bo(fu),Xc=bo(fu);function Ho(e){if(e===fu)throw Error(_e(174));return e}function H1(e,t){switch(Vt(Xc,t),Vt(Jc,e),Vt(Ji,fu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nm(t,e)}Gt(Ji),Vt(Ji,t)}function hl(){Gt(Ji),Gt(Jc),Gt(Xc)}function ix(e){Ho(Xc.current);var t=Ho(Ji.current),n=nm(t,e.type);t!==n&&(Vt(Jc,e),Vt(Ji,n))}function W1(e){Jc.current===e&&(Gt(Ji),Gt(Jc))}var Zt=bo(0);function wh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pp=[];function G1(){for(var e=0;e<pp.length;e++)pp[e]._workInProgressVersionPrimary=null;pp.length=0}var zd=_s.ReactCurrentDispatcher,mp=_s.ReactCurrentBatchConfig,Zo=0,tn=null,Ln=null,Rn=null,bh=!1,kc=!1,Qc=0,gj=0;function Gn(){throw Error(_e(321))}function K1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fi(e[n],t[n]))return!1;return!0}function Y1(e,t,n,r,i,s){if(Zo=s,tn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zd.current=e===null||e.memoizedState===null?wj:bj,e=n(r,i),kc){s=0;do{if(kc=!1,Qc=0,25<=s)throw Error(_e(301));s+=1,Rn=Ln=null,t.updateQueue=null,zd.current=Sj,e=n(r,i)}while(kc)}if(zd.current=Sh,t=Ln!==null&&Ln.next!==null,Zo=0,Rn=Ln=tn=null,bh=!1,t)throw Error(_e(300));return e}function J1(){var e=Qc!==0;return Qc=0,e}function Wi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?tn.memoizedState=Rn=e:Rn=Rn.next=e,Rn}function yi(){if(Ln===null){var e=tn.alternate;e=e!==null?e.memoizedState:null}else e=Ln.next;var t=Rn===null?tn.memoizedState:Rn.next;if(t!==null)Rn=t,Ln=e;else{if(e===null)throw Error(_e(310));Ln=e,e={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Rn===null?tn.memoizedState=Rn=e:Rn=Rn.next=e}return Rn}function Zc(e,t){return typeof t=="function"?t(e):t}function gp(e){var t=yi(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=Ln,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,d=s;do{var f=d.lane;if((Zo&f)===f)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,tn.lanes|=f,ea|=f}d=d.next}while(d!==null&&d!==s);l===null?o=r:l.next=a,Fi(r,t.memoizedState)||(jr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,tn.lanes|=s,ea|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vp(e){var t=yi(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Fi(s,t.memoizedState)||(jr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function sx(){}function ox(e,t){var n=tn,r=yi(),i=t(),s=!Fi(r.memoizedState,i);if(s&&(r.memoizedState=i,jr=!0),r=r.queue,X1(cx.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Rn!==null&&Rn.memoizedState.tag&1){if(n.flags|=2048,eu(9,lx.bind(null,n,r,i,t),void 0,null),Mn===null)throw Error(_e(349));Zo&30||ax(n,t,i)}return i}function ax(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lx(e,t,n,r){t.value=n,t.getSnapshot=r,ux(t)&&dx(e)}function cx(e,t,n){return n(function(){ux(t)&&dx(e)})}function ux(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fi(e,n)}catch{return!0}}function dx(e){var t=Cs(e,1);t!==null&&Ti(t,e,1,-1)}function w2(e){var t=Wi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:e},t.queue=e,e=e.dispatch=xj.bind(null,tn,e),[t.memoizedState,e]}function eu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hx(){return yi().memoizedState}function qd(e,t,n,r){var i=Wi();tn.flags|=e,i.memoizedState=eu(1|t,n,void 0,r===void 0?null:r)}function Wh(e,t,n,r){var i=yi();r=r===void 0?null:r;var s=void 0;if(Ln!==null){var o=Ln.memoizedState;if(s=o.destroy,r!==null&&K1(r,o.deps)){i.memoizedState=eu(t,n,s,r);return}}tn.flags|=e,i.memoizedState=eu(1|t,n,s,r)}function b2(e,t){return qd(8390656,8,e,t)}function X1(e,t){return Wh(2048,8,e,t)}function fx(e,t){return Wh(4,2,e,t)}function px(e,t){return Wh(4,4,e,t)}function mx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gx(e,t,n){return n=n!=null?n.concat([e]):null,Wh(4,4,mx.bind(null,t,e),n)}function Q1(){}function vx(e,t){var n=yi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&K1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yx(e,t){var n=yi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&K1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xx(e,t,n){return Zo&21?(Fi(n,t)||(n=Ny(),tn.lanes|=n,ea|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jr=!0),e.memoizedState=n)}function vj(e,t){var n=It;It=n!==0&&4>n?n:4,e(!0);var r=mp.transition;mp.transition={};try{e(!1),t()}finally{It=n,mp.transition=r}}function wx(){return yi().memoizedState}function yj(e,t,n){var r=ho(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bx(e))Sx(t,n);else if(n=nx(e,t,n,r),n!==null){var i=dr();Ti(n,e,r,i),jx(n,t,r)}}function xj(e,t,n){var r=ho(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bx(e))Sx(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Fi(a,o)){var l=t.interleaved;l===null?(i.next=i,V1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=nx(e,t,i,r),n!==null&&(i=dr(),Ti(n,e,r,i),jx(n,t,r))}}function bx(e){var t=e.alternate;return e===tn||t!==null&&t===tn}function Sx(e,t){kc=bh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,k1(e,n)}}var Sh={readContext:vi,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},wj={readContext:vi,useCallback:function(e,t){return Wi().memoizedState=[e,t===void 0?null:t],e},useContext:vi,useEffect:b2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qd(4194308,4,mx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qd(4194308,4,e,t)},useInsertionEffect:function(e,t){return qd(4,2,e,t)},useMemo:function(e,t){var n=Wi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yj.bind(null,tn,e),[r.memoizedState,e]},useRef:function(e){var t=Wi();return e={current:e},t.memoizedState=e},useState:w2,useDebugValue:Q1,useDeferredValue:function(e){return Wi().memoizedState=e},useTransition:function(){var e=w2(!1),t=e[0];return e=vj.bind(null,e[1]),Wi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=tn,i=Wi();if(Jt){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=t(),Mn===null)throw Error(_e(349));Zo&30||ax(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,b2(cx.bind(null,r,s,e),[e]),r.flags|=2048,eu(9,lx.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Wi(),t=Mn.identifierPrefix;if(Jt){var n=xs,r=ys;n=(r&~(1<<32-Ei(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bj={readContext:vi,useCallback:vx,useContext:vi,useEffect:X1,useImperativeHandle:gx,useInsertionEffect:fx,useLayoutEffect:px,useMemo:yx,useReducer:gp,useRef:hx,useState:function(){return gp(Zc)},useDebugValue:Q1,useDeferredValue:function(e){var t=yi();return xx(t,Ln.memoizedState,e)},useTransition:function(){var e=gp(Zc)[0],t=yi().memoizedState;return[e,t]},useMutableSource:sx,useSyncExternalStore:ox,useId:wx,unstable_isNewReconciler:!1},Sj={readContext:vi,useCallback:vx,useContext:vi,useEffect:X1,useImperativeHandle:gx,useInsertionEffect:fx,useLayoutEffect:px,useMemo:yx,useReducer:vp,useRef:hx,useState:function(){return vp(Zc)},useDebugValue:Q1,useDeferredValue:function(e){var t=yi();return Ln===null?t.memoizedState=e:xx(t,Ln.memoizedState,e)},useTransition:function(){var e=vp(Zc)[0],t=yi().memoizedState;return[e,t]},useMutableSource:sx,useSyncExternalStore:ox,useId:wx,unstable_isNewReconciler:!1};function Pi(e,t){if(e&&e.defaultProps){t=rn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gh={isMounted:function(e){return(e=e._reactInternals)?ra(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dr(),i=ho(e),s=ws(r,i);s.payload=t,n!=null&&(s.callback=n),t=co(e,s,i),t!==null&&(Ti(t,e,i,r),Bd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dr(),i=ho(e),s=ws(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=co(e,s,i),t!==null&&(Ti(t,e,i,r),Bd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dr(),r=ho(e),i=ws(n,r);i.tag=2,t!=null&&(i.callback=t),t=co(e,i,r),t!==null&&(Ti(t,e,r,n),Bd(t,e,r))}};function S2(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Wc(n,r)||!Wc(i,s):!0}function Nx(e,t,n){var r=!1,i=mo,s=t.contextType;return typeof s=="object"&&s!==null?s=vi(s):(i=Ar(t)?Xo:rr.current,r=t.contextTypes,s=(r=r!=null)?cl(e,i):mo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function j2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gh.enqueueReplaceState(t,t.state,null)}function Nm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},$1(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=vi(s):(s=Ar(t)?Xo:rr.current,i.context=cl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(jm(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Gh.enqueueReplaceState(i,i.state,null),xh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function fl(e,t){try{var n="",r=t;do n+=Jb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function yp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Am(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jj=typeof WeakMap=="function"?WeakMap:Map;function Ax(e,t,n){n=ws(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Nh||(Nh=!0,Rm=r),Am(e,t)},n}function Cx(e,t,n){n=ws(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Am(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Am(e,t),typeof r!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function N2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new jj;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Mj.bind(null,e,t,n),t.then(e,e))}function A2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function C2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ws(-1,1),t.tag=2,co(n,t,1))),n.lanes|=1),e)}var Nj=_s.ReactCurrentOwner,jr=!1;function ur(e,t,n,r){t.child=e===null?tx(t,null,n,r):dl(t,e.child,n,r)}function P2(e,t,n,r,i){n=n.render;var s=t.ref;return nl(t,i),r=Y1(e,t,n,r,s,i),n=J1(),e!==null&&!jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ps(e,t,i)):(Jt&&n&&M1(t),t.flags|=1,ur(e,t,r,i),t.child)}function L2(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!o0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Px(e,t,s,r,i)):(e=Hd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wc,n(o,r)&&e.ref===t.ref)return Ps(e,t,i)}return t.flags|=1,e=fo(s,r),e.ref=t.ref,e.return=t,t.child=e}function Px(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Wc(s,r)&&e.ref===t.ref)if(jr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(jr=!0);else return t.lanes=e.lanes,Ps(e,t,i)}return Cm(e,t,n,r,i)}function Lx(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt($a,zr),zr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vt($a,zr),zr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Vt($a,zr),zr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Vt($a,zr),zr|=r;return ur(e,t,i,n),t.child}function kx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cm(e,t,n,r,i){var s=Ar(n)?Xo:rr.current;return s=cl(t,s),nl(t,i),n=Y1(e,t,n,r,s,i),r=J1(),e!==null&&!jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ps(e,t,i)):(Jt&&r&&M1(t),t.flags|=1,ur(e,t,n,i),t.child)}function k2(e,t,n,r,i){if(Ar(n)){var s=!0;ph(t)}else s=!1;if(nl(t,i),t.stateNode===null)Ud(e,t),Nx(t,n,r),Nm(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=vi(d):(d=Ar(n)?Xo:rr.current,d=cl(t,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&j2(t,o,r,d),Zs=!1;var g=t.memoizedState;o.state=g,xh(t,r,o,i),l=t.memoizedState,a!==r||g!==l||Nr.current||Zs?(typeof f=="function"&&(jm(t,n,f,r),l=t.memoizedState),(a=Zs||S2(t,n,a,r,g,l,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,rx(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:Pi(t.type,a),o.props=d,p=t.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=vi(l):(l=Ar(n)?Xo:rr.current,l=cl(t,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==l)&&j2(t,o,r,l),Zs=!1,g=t.memoizedState,o.state=g,xh(t,r,o,i);var S=t.memoizedState;a!==p||g!==S||Nr.current||Zs?(typeof m=="function"&&(jm(t,n,m,r),S=t.memoizedState),(d=Zs||S2(t,n,d,r,g,S,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),o.props=r,o.state=S,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Pm(e,t,n,r,s,i)}function Pm(e,t,n,r,i,s){kx(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&p2(t,n,!1),Ps(e,t,s);r=t.stateNode,Nj.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=dl(t,e.child,null,s),t.child=dl(t,null,a,s)):ur(e,t,a,s),t.memoizedState=r.state,i&&p2(t,n,!0),t.child}function _x(e){var t=e.stateNode;t.pendingContext?f2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&f2(e,t.context,!1),H1(e,t.containerInfo)}function _2(e,t,n,r,i){return ul(),B1(i),t.flags|=256,ur(e,t,n,r),t.child}var Lm={dehydrated:null,treeContext:null,retryLane:0};function km(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ex(e,t,n){var r=t.pendingProps,i=Zt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Vt(Zt,i&1),e===null)return bm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jh(o,r,0,null),e=Ko(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=km(n),t.memoizedState=Lm,e):Z1(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Aj(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=fo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=fo(a,s):(s=Ko(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?km(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Lm,r}return s=e.child,e=s.sibling,r=fo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Z1(e,t){return t=Jh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yd(e,t,n,r){return r!==null&&B1(r),dl(t,e.child,null,n),e=Z1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Aj(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=yp(Error(_e(422))),yd(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Jh({mode:"visible",children:r.children},i,0,null),s=Ko(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&dl(t,e.child,null,o),t.child.memoizedState=km(o),t.memoizedState=Lm,s);if(!(t.mode&1))return yd(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(_e(419)),r=yp(s,r,void 0),yd(e,t,o,r)}if(a=(o&e.childLanes)!==0,jr||a){if(r=Mn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Cs(e,i),Ti(r,e,i,-1))}return s0(),r=yp(Error(_e(421))),yd(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Oj.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,qr=lo(i.nextSibling),$r=t,Jt=!0,_i=null,e!==null&&(fi[pi++]=ys,fi[pi++]=xs,fi[pi++]=Qo,ys=e.id,xs=e.overflow,Qo=t),t=Z1(t,r.children),t.flags|=4096,t)}function E2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Sm(e.return,t,n)}function xp(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Tx(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ur(e,t,r.children,n),r=Zt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&E2(e,n,t);else if(e.tag===19)E2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Vt(Zt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&wh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xp(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xp(t,!0,n,null,s);break;case"together":xp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ud(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ps(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ea|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,n=fo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Cj(e,t,n){switch(t.tag){case 3:_x(t),ul();break;case 5:ix(t);break;case 1:Ar(t.type)&&ph(t);break;case 4:H1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Vt(vh,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Vt(Zt,Zt.current&1),t.flags|=128,null):n&t.child.childLanes?Ex(e,t,n):(Vt(Zt,Zt.current&1),e=Ps(e,t,n),e!==null?e.sibling:null);Vt(Zt,Zt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Tx(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vt(Zt,Zt.current),r)break;return null;case 22:case 23:return t.lanes=0,Lx(e,t,n)}return Ps(e,t,n)}var Fx,_m,Ix,Rx;Fx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_m=function(){};Ix=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ho(Ji.current);var s=null;switch(n){case"input":i=Qp(e,i),r=Qp(e,r),s=[];break;case"select":i=rn({},i,{value:void 0}),r=rn({},r,{value:void 0}),s=[];break;case"textarea":i=tm(e,i),r=tm(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hh)}rm(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Bc.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(a=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Bc.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ht("scroll",e),s||a===l||(s=[])):(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};Rx=function(e,t,n,r){n!==r&&(t.flags|=4)};function lc(e,t){if(!Jt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Pj(e,t,n){var r=t.pendingProps;switch(O1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(t),null;case 1:return Ar(t.type)&&fh(),Kn(t),null;case 3:return r=t.stateNode,hl(),Gt(Nr),Gt(rr),G1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_i!==null&&(Om(_i),_i=null))),_m(e,t),Kn(t),null;case 5:W1(t);var i=Ho(Xc.current);if(n=t.type,e!==null&&t.stateNode!=null)Ix(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_e(166));return Kn(t),null}if(e=Ho(Ji.current),gd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Gi]=t,r[Yc]=s,e=(t.mode&1)!==0,n){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(i=0;i<wc.length;i++)Ht(wc[i],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":zg(r,s),Ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ht("invalid",r);break;case"textarea":Ug(r,s),Ht("invalid",r)}rm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&md(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&md(r.textContent,a,e),i=["children",""+a]):Bc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ht("scroll",r)}switch(n){case"input":ad(r),qg(r,s,!0);break;case"textarea":ad(r),Vg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hh)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Gi]=t,e[Yc]=r,Fx(e,t,!1,!1),t.stateNode=e;e:{switch(o=im(n,r),n){case"dialog":Ht("cancel",e),Ht("close",e),i=r;break;case"iframe":case"object":case"embed":Ht("load",e),i=r;break;case"video":case"audio":for(i=0;i<wc.length;i++)Ht(wc[i],e);i=r;break;case"source":Ht("error",e),i=r;break;case"img":case"image":case"link":Ht("error",e),Ht("load",e),i=r;break;case"details":Ht("toggle",e),i=r;break;case"input":zg(e,r),i=Qp(e,r),Ht("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=rn({},r,{value:void 0}),Ht("invalid",e);break;case"textarea":Ug(e,r),i=tm(e,r),Ht("invalid",e);break;default:i=r}rm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?hy(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uy(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zc(e,l):typeof l=="number"&&zc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ht("scroll",e):l!=null&&j1(e,s,l,o))}switch(n){case"input":ad(e),qg(e,r,!1);break;case"textarea":ad(e),Vg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+po(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Qa(e,!!r.multiple,s,!1):r.defaultValue!=null&&Qa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=hh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kn(t),null;case 6:if(e&&t.stateNode!=null)Rx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_e(166));if(n=Ho(Xc.current),Ho(Ji.current),gd(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gi]=t,(s=r.nodeValue!==n)&&(e=$r,e!==null))switch(e.tag){case 3:md(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&md(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gi]=t,t.stateNode=r}return Kn(t),null;case 13:if(Gt(Zt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Jt&&qr!==null&&t.mode&1&&!(t.flags&128))Zy(),ul(),t.flags|=98560,s=!1;else if(s=gd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(_e(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_e(317));s[Gi]=t}else ul(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kn(t),s=!1}else _i!==null&&(Om(_i),_i=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Zt.current&1?kn===0&&(kn=3):s0())),t.updateQueue!==null&&(t.flags|=4),Kn(t),null);case 4:return hl(),_m(e,t),e===null&&Gc(t.stateNode.containerInfo),Kn(t),null;case 10:return U1(t.type._context),Kn(t),null;case 17:return Ar(t.type)&&fh(),Kn(t),null;case 19:if(Gt(Zt),s=t.memoizedState,s===null)return Kn(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)lc(s,!1);else{if(kn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wh(e),o!==null){for(t.flags|=128,lc(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Vt(Zt,Zt.current&1|2),t.child}e=e.sibling}s.tail!==null&&vn()>pl&&(t.flags|=128,r=!0,lc(s,!1),t.lanes=4194304)}else{if(!r)if(e=wh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Jt)return Kn(t),null}else 2*vn()-s.renderingStartTime>pl&&n!==1073741824&&(t.flags|=128,r=!0,lc(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=vn(),t.sibling=null,n=Zt.current,Vt(Zt,r?n&1|2:n&1),t):(Kn(t),null);case 22:case 23:return i0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zr&1073741824&&(Kn(t),t.subtreeFlags&6&&(t.flags|=8192)):Kn(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function Lj(e,t){switch(O1(t),t.tag){case 1:return Ar(t.type)&&fh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hl(),Gt(Nr),Gt(rr),G1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return W1(t),null;case 13:if(Gt(Zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));ul()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gt(Zt),null;case 4:return hl(),null;case 10:return U1(t.type._context),null;case 22:case 23:return i0(),null;case 24:return null;default:return null}}var xd=!1,er=!1,kj=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Va(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dn(e,t,r)}else n.current=null}function Em(e,t,n){try{n()}catch(r){dn(e,t,r)}}var T2=!1;function _j(e,t){if(pm=ch,e=zy(),D1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,f=0,p=e,g=null;t:for(;;){for(var m;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)g=p,p=m;for(;;){if(p===e)break t;if(g===n&&++d===i&&(a=o),g===s&&++f===r&&(l=o),(m=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mm={focusedElem:e,selectionRange:n},ch=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){t=$e;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var b=S.memoizedProps,A=S.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:Pi(t.type,b),A);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(R){dn(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}return S=T2,T2=!1,S}function _c(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Em(t,n,s)}i=i.next}while(i!==r)}}function Kh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Tm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Dx(e){var t=e.alternate;t!==null&&(e.alternate=null,Dx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gi],delete t[Yc],delete t[ym],delete t[hj],delete t[fj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mx(e){return e.tag===5||e.tag===3||e.tag===4}function F2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hh));else if(r!==4&&(e=e.child,e!==null))for(Fm(e,t,n),e=e.sibling;e!==null;)Fm(e,t,n),e=e.sibling}function Im(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Im(e,t,n),e=e.sibling;e!==null;)Im(e,t,n),e=e.sibling}var qn=null,ki=!1;function Ks(e,t,n){for(n=n.child;n!==null;)Ox(e,t,n),n=n.sibling}function Ox(e,t,n){if(Yi&&typeof Yi.onCommitFiberUnmount=="function")try{Yi.onCommitFiberUnmount(zh,n)}catch{}switch(n.tag){case 5:er||Va(n,t);case 6:var r=qn,i=ki;qn=null,Ks(e,t,n),qn=r,ki=i,qn!==null&&(ki?(e=qn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qn.removeChild(n.stateNode));break;case 18:qn!==null&&(ki?(e=qn,n=n.stateNode,e.nodeType===8?hp(e.parentNode,n):e.nodeType===1&&hp(e,n),$c(e)):hp(qn,n.stateNode));break;case 4:r=qn,i=ki,qn=n.stateNode.containerInfo,ki=!0,Ks(e,t,n),qn=r,ki=i;break;case 0:case 11:case 14:case 15:if(!er&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Em(n,t,o),i=i.next}while(i!==r)}Ks(e,t,n);break;case 1:if(!er&&(Va(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dn(n,t,a)}Ks(e,t,n);break;case 21:Ks(e,t,n);break;case 22:n.mode&1?(er=(r=er)||n.memoizedState!==null,Ks(e,t,n),er=r):Ks(e,t,n);break;default:Ks(e,t,n)}}function I2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kj),t.forEach(function(r){var i=Bj.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ji(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:qn=a.stateNode,ki=!1;break e;case 3:qn=a.stateNode.containerInfo,ki=!0;break e;case 4:qn=a.stateNode.containerInfo,ki=!0;break e}a=a.return}if(qn===null)throw Error(_e(160));Ox(s,o,i),qn=null,ki=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){dn(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bx(t,e),t=t.sibling}function Bx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ji(t,e),$i(e),r&4){try{_c(3,e,e.return),Kh(3,e)}catch(b){dn(e,e.return,b)}try{_c(5,e,e.return)}catch(b){dn(e,e.return,b)}}break;case 1:ji(t,e),$i(e),r&512&&n!==null&&Va(n,n.return);break;case 5:if(ji(t,e),$i(e),r&512&&n!==null&&Va(n,n.return),e.flags&32){var i=e.stateNode;try{zc(i,"")}catch(b){dn(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ay(i,s),im(a,o);var d=im(a,s);for(o=0;o<l.length;o+=2){var f=l[o],p=l[o+1];f==="style"?hy(i,p):f==="dangerouslySetInnerHTML"?uy(i,p):f==="children"?zc(i,p):j1(i,f,p,d)}switch(a){case"input":Zp(i,s);break;case"textarea":ly(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Qa(i,!!s.multiple,m,!1):g!==!!s.multiple&&(s.defaultValue!=null?Qa(i,!!s.multiple,s.defaultValue,!0):Qa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yc]=s}catch(b){dn(e,e.return,b)}}break;case 6:if(ji(t,e),$i(e),r&4){if(e.stateNode===null)throw Error(_e(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(b){dn(e,e.return,b)}}break;case 3:if(ji(t,e),$i(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$c(t.containerInfo)}catch(b){dn(e,e.return,b)}break;case 4:ji(t,e),$i(e);break;case 13:ji(t,e),$i(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(n0=vn())),r&4&&I2(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(er=(d=er)||f,ji(t,e),er=d):ji(t,e),$i(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for($e=e,f=e.child;f!==null;){for(p=$e=f;$e!==null;){switch(g=$e,m=g.child,g.tag){case 0:case 11:case 14:case 15:_c(4,g,g.return);break;case 1:Va(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(b){dn(r,n,b)}}break;case 5:Va(g,g.return);break;case 22:if(g.memoizedState!==null){D2(p);continue}}m!==null?(m.return=g,$e=m):D2(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dy("display",o))}catch(b){dn(e,e.return,b)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(b){dn(e,e.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ji(t,e),$i(e),r&4&&I2(e);break;case 21:break;default:ji(t,e),$i(e)}}function $i(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Mx(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zc(i,""),r.flags&=-33);var s=F2(e);Im(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=F2(e);Fm(e,a,o);break;default:throw Error(_e(161))}}catch(l){dn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ej(e,t,n){$e=e,zx(e)}function zx(e,t,n){for(var r=(e.mode&1)!==0;$e!==null;){var i=$e,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||er;a=xd;var d=er;if(xd=o,(er=l)&&!d)for($e=i;$e!==null;)o=$e,l=o.child,o.tag===22&&o.memoizedState!==null?M2(i):l!==null?(l.return=o,$e=l):M2(i);for(;s!==null;)$e=s,zx(s),s=s.sibling;$e=i,xd=a,er=d}R2(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$e=s):R2(e)}}function R2(e){for(;$e!==null;){var t=$e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:er||Kh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!er)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Pi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&x2(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}x2(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&$c(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}er||t.flags&512&&Tm(t)}catch(g){dn(t,t.return,g)}}if(t===e){$e=null;break}if(n=t.sibling,n!==null){n.return=t.return,$e=n;break}$e=t.return}}function D2(e){for(;$e!==null;){var t=$e;if(t===e){$e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$e=n;break}$e=t.return}}function M2(e){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kh(4,t)}catch(l){dn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){dn(t,i,l)}}var s=t.return;try{Tm(t)}catch(l){dn(t,s,l)}break;case 5:var o=t.return;try{Tm(t)}catch(l){dn(t,o,l)}}}catch(l){dn(t,t.return,l)}if(t===e){$e=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$e=a;break}$e=t.return}}var Tj=Math.ceil,jh=_s.ReactCurrentDispatcher,e0=_s.ReactCurrentOwner,gi=_s.ReactCurrentBatchConfig,At=0,Mn=null,An=null,Vn=0,zr=0,$a=bo(0),kn=0,tu=null,ea=0,Yh=0,t0=0,Ec=null,Sr=null,n0=0,pl=1/0,gs=null,Nh=!1,Rm=null,uo=null,wd=!1,ro=null,Ah=0,Tc=0,Dm=null,Vd=-1,$d=0;function dr(){return At&6?vn():Vd!==-1?Vd:Vd=vn()}function ho(e){return e.mode&1?At&2&&Vn!==0?Vn&-Vn:mj.transition!==null?($d===0&&($d=Ny()),$d):(e=It,e!==0||(e=window.event,e=e===void 0?16:Ey(e.type)),e):1}function Ti(e,t,n,r){if(50<Tc)throw Tc=0,Dm=null,Error(_e(185));uu(e,n,r),(!(At&2)||e!==Mn)&&(e===Mn&&(!(At&2)&&(Yh|=n),kn===4&&to(e,Vn)),Cr(e,r),n===1&&At===0&&!(t.mode&1)&&(pl=vn()+500,Hh&&So()))}function Cr(e,t){var n=e.callbackNode;mS(e,t);var r=lh(e,e===Mn?Vn:0);if(r===0)n!==null&&Wg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wg(n),t===1)e.tag===0?pj(O2.bind(null,e)):Jy(O2.bind(null,e)),uj(function(){!(At&6)&&So()}),n=null;else{switch(Ay(r)){case 1:n=L1;break;case 4:n=Sy;break;case 16:n=ah;break;case 536870912:n=jy;break;default:n=ah}n=Kx(n,qx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qx(e,t){if(Vd=-1,$d=0,At&6)throw Error(_e(327));var n=e.callbackNode;if(rl()&&e.callbackNode!==n)return null;var r=lh(e,e===Mn?Vn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ch(e,r);else{t=r;var i=At;At|=2;var s=Vx();(Mn!==e||Vn!==t)&&(gs=null,pl=vn()+500,Go(e,t));do try{Rj();break}catch(a){Ux(e,a)}while(1);q1(),jh.current=s,At=i,An!==null?t=0:(Mn=null,Vn=0,t=kn)}if(t!==0){if(t===2&&(i=cm(e),i!==0&&(r=i,t=Mm(e,i))),t===1)throw n=tu,Go(e,0),to(e,r),Cr(e,vn()),n;if(t===6)to(e,r);else{if(i=e.current.alternate,!(r&30)&&!Fj(i)&&(t=Ch(e,r),t===2&&(s=cm(e),s!==0&&(r=s,t=Mm(e,s))),t===1))throw n=tu,Go(e,0),to(e,r),Cr(e,vn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(_e(345));case 2:Oo(e,Sr,gs);break;case 3:if(to(e,r),(r&130023424)===r&&(t=n0+500-vn(),10<t)){if(lh(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){dr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=vm(Oo.bind(null,e,Sr,gs),t);break}Oo(e,Sr,gs);break;case 4:if(to(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ei(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=vn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tj(r/1960))-r,10<r){e.timeoutHandle=vm(Oo.bind(null,e,Sr,gs),r);break}Oo(e,Sr,gs);break;case 5:Oo(e,Sr,gs);break;default:throw Error(_e(329))}}}return Cr(e,vn()),e.callbackNode===n?qx.bind(null,e):null}function Mm(e,t){var n=Ec;return e.current.memoizedState.isDehydrated&&(Go(e,t).flags|=256),e=Ch(e,t),e!==2&&(t=Sr,Sr=n,t!==null&&Om(t)),e}function Om(e){Sr===null?Sr=e:Sr.push.apply(Sr,e)}function Fj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fi(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function to(e,t){for(t&=~t0,t&=~Yh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ei(t),r=1<<n;e[n]=-1,t&=~r}}function O2(e){if(At&6)throw Error(_e(327));rl();var t=lh(e,0);if(!(t&1))return Cr(e,vn()),null;var n=Ch(e,t);if(e.tag!==0&&n===2){var r=cm(e);r!==0&&(t=r,n=Mm(e,r))}if(n===1)throw n=tu,Go(e,0),to(e,t),Cr(e,vn()),n;if(n===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oo(e,Sr,gs),Cr(e,vn()),null}function r0(e,t){var n=At;At|=1;try{return e(t)}finally{At=n,At===0&&(pl=vn()+500,Hh&&So())}}function ta(e){ro!==null&&ro.tag===0&&!(At&6)&&rl();var t=At;At|=1;var n=gi.transition,r=It;try{if(gi.transition=null,It=1,e)return e()}finally{It=r,gi.transition=n,At=t,!(At&6)&&So()}}function i0(){zr=$a.current,Gt($a)}function Go(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cj(n)),An!==null)for(n=An.return;n!==null;){var r=n;switch(O1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fh();break;case 3:hl(),Gt(Nr),Gt(rr),G1();break;case 5:W1(r);break;case 4:hl();break;case 13:Gt(Zt);break;case 19:Gt(Zt);break;case 10:U1(r.type._context);break;case 22:case 23:i0()}n=n.return}if(Mn=e,An=e=fo(e.current,null),Vn=zr=t,kn=0,tu=null,t0=Yh=ea=0,Sr=Ec=null,$o!==null){for(t=0;t<$o.length;t++)if(n=$o[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$o=null}return e}function Ux(e,t){do{var n=An;try{if(q1(),zd.current=Sh,bh){for(var r=tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bh=!1}if(Zo=0,Rn=Ln=tn=null,kc=!1,Qc=0,e0.current=null,n===null||n.return===null){kn=1,tu=t,An=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Vn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=A2(o);if(m!==null){m.flags&=-257,C2(m,o,a,s,t),m.mode&1&&N2(s,d,t),t=m,l=d;var S=t.updateQueue;if(S===null){var b=new Set;b.add(l),t.updateQueue=b}else S.add(l);break e}else{if(!(t&1)){N2(s,d,t),s0();break e}l=Error(_e(426))}}else if(Jt&&a.mode&1){var A=A2(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),C2(A,o,a,s,t),B1(fl(l,a));break e}}s=l=fl(l,a),kn!==4&&(kn=2),Ec===null?Ec=[s]:Ec.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=Ax(s,l,t);y2(s,x);break e;case 1:a=l;var w=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(uo===null||!uo.has(N)))){s.flags|=65536,t&=-t,s.lanes|=t;var R=Cx(s,a,t);y2(s,R);break e}}s=s.return}while(s!==null)}Hx(n)}catch(q){t=q,An===n&&n!==null&&(An=n=n.return);continue}break}while(1)}function Vx(){var e=jh.current;return jh.current=Sh,e===null?Sh:e}function s0(){(kn===0||kn===3||kn===2)&&(kn=4),Mn===null||!(ea&268435455)&&!(Yh&268435455)||to(Mn,Vn)}function Ch(e,t){var n=At;At|=2;var r=Vx();(Mn!==e||Vn!==t)&&(gs=null,Go(e,t));do try{Ij();break}catch(i){Ux(e,i)}while(1);if(q1(),At=n,jh.current=r,An!==null)throw Error(_e(261));return Mn=null,Vn=0,kn}function Ij(){for(;An!==null;)$x(An)}function Rj(){for(;An!==null&&!oS();)$x(An)}function $x(e){var t=Gx(e.alternate,e,zr);e.memoizedProps=e.pendingProps,t===null?Hx(e):An=t,e0.current=null}function Hx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lj(n,t),n!==null){n.flags&=32767,An=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kn=6,An=null;return}}else if(n=Pj(n,t,zr),n!==null){An=n;return}if(t=t.sibling,t!==null){An=t;return}An=t=e}while(t!==null);kn===0&&(kn=5)}function Oo(e,t,n){var r=It,i=gi.transition;try{gi.transition=null,It=1,Dj(e,t,n,r)}finally{gi.transition=i,It=r}return null}function Dj(e,t,n,r){do rl();while(ro!==null);if(At&6)throw Error(_e(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(gS(e,s),e===Mn&&(An=Mn=null,Vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wd||(wd=!0,Kx(ah,function(){return rl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gi.transition,gi.transition=null;var o=It;It=1;var a=At;At|=4,e0.current=null,_j(e,n),Bx(n,e),nj(mm),ch=!!pm,mm=pm=null,e.current=n,Ej(n),aS(),At=a,It=o,gi.transition=s}else e.current=n;if(wd&&(wd=!1,ro=e,Ah=i),s=e.pendingLanes,s===0&&(uo=null),uS(n.stateNode),Cr(e,vn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nh)throw Nh=!1,e=Rm,Rm=null,e;return Ah&1&&e.tag!==0&&rl(),s=e.pendingLanes,s&1?e===Dm?Tc++:(Tc=0,Dm=e):Tc=0,So(),null}function rl(){if(ro!==null){var e=Ay(Ah),t=gi.transition,n=It;try{if(gi.transition=null,It=16>e?16:e,ro===null)var r=!1;else{if(e=ro,ro=null,Ah=0,At&6)throw Error(_e(331));var i=At;for(At|=4,$e=e.current;$e!==null;){var s=$e,o=s.child;if($e.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for($e=d;$e!==null;){var f=$e;switch(f.tag){case 0:case 11:case 15:_c(8,f,s)}var p=f.child;if(p!==null)p.return=f,$e=p;else for(;$e!==null;){f=$e;var g=f.sibling,m=f.return;if(Dx(f),f===d){$e=null;break}if(g!==null){g.return=m,$e=g;break}$e=m}}}var S=s.alternate;if(S!==null){var b=S.child;if(b!==null){S.child=null;do{var A=b.sibling;b.sibling=null,b=A}while(b!==null)}}$e=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$e=o;else e:for(;$e!==null;){if(s=$e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_c(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,$e=x;break e}$e=s.return}}var w=e.current;for($e=w;$e!==null;){o=$e;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,$e=N;else e:for(o=w;$e!==null;){if(a=$e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kh(9,a)}}catch(q){dn(a,a.return,q)}if(a===o){$e=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,$e=R;break e}$e=a.return}}if(At=i,So(),Yi&&typeof Yi.onPostCommitFiberRoot=="function")try{Yi.onPostCommitFiberRoot(zh,e)}catch{}r=!0}return r}finally{It=n,gi.transition=t}}return!1}function B2(e,t,n){t=fl(n,t),t=Ax(e,t,1),e=co(e,t,1),t=dr(),e!==null&&(uu(e,1,t),Cr(e,t))}function dn(e,t,n){if(e.tag===3)B2(e,e,n);else for(;t!==null;){if(t.tag===3){B2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(uo===null||!uo.has(r))){e=fl(n,e),e=Cx(t,e,1),t=co(t,e,1),e=dr(),t!==null&&(uu(t,1,e),Cr(t,e));break}}t=t.return}}function Mj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dr(),e.pingedLanes|=e.suspendedLanes&n,Mn===e&&(Vn&n)===n&&(kn===4||kn===3&&(Vn&130023424)===Vn&&500>vn()-n0?Go(e,0):t0|=n),Cr(e,t)}function Wx(e,t){t===0&&(e.mode&1?(t=ud,ud<<=1,!(ud&130023424)&&(ud=4194304)):t=1);var n=dr();e=Cs(e,t),e!==null&&(uu(e,t,n),Cr(e,n))}function Oj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wx(e,n)}function Bj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(t),Wx(e,n)}var Gx;Gx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nr.current)jr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return jr=!1,Cj(e,t,n);jr=!!(e.flags&131072)}else jr=!1,Jt&&t.flags&1048576&&Xy(t,gh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ud(e,t),e=t.pendingProps;var i=cl(t,rr.current);nl(t,n),i=Y1(null,t,r,e,i,n);var s=J1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ar(r)?(s=!0,ph(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$1(t),i.updater=Gh,t.stateNode=i,i._reactInternals=t,Nm(t,r,e,n),t=Pm(null,t,r,!0,s,n)):(t.tag=0,Jt&&s&&M1(t),ur(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ud(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=qj(r),e=Pi(r,e),i){case 0:t=Cm(null,t,r,e,n);break e;case 1:t=k2(null,t,r,e,n);break e;case 11:t=P2(null,t,r,e,n);break e;case 14:t=L2(null,t,r,Pi(r.type,e),n);break e}throw Error(_e(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pi(r,i),Cm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pi(r,i),k2(e,t,r,i,n);case 3:e:{if(_x(t),e===null)throw Error(_e(387));r=t.pendingProps,s=t.memoizedState,i=s.element,rx(e,t),xh(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=fl(Error(_e(423)),t),t=_2(e,t,r,n,i);break e}else if(r!==i){i=fl(Error(_e(424)),t),t=_2(e,t,r,n,i);break e}else for(qr=lo(t.stateNode.containerInfo.firstChild),$r=t,Jt=!0,_i=null,n=tx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ul(),r===i){t=Ps(e,t,n);break e}ur(e,t,r,n)}t=t.child}return t;case 5:return ix(t),e===null&&bm(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,gm(r,i)?o=null:s!==null&&gm(r,s)&&(t.flags|=32),kx(e,t),ur(e,t,o,n),t.child;case 6:return e===null&&bm(t),null;case 13:return Ex(e,t,n);case 4:return H1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=dl(t,null,r,n):ur(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pi(r,i),P2(e,t,r,i,n);case 7:return ur(e,t,t.pendingProps,n),t.child;case 8:return ur(e,t,t.pendingProps.children,n),t.child;case 12:return ur(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Vt(vh,r._currentValue),r._currentValue=o,s!==null)if(Fi(s.value,o)){if(s.children===i.children&&!Nr.current){t=Ps(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ws(-1,n&-n),l.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?l.next=l:(l.next=f.next,f.next=l),d.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Sm(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(_e(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sm(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ur(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,nl(t,n),i=vi(i),r=r(i),t.flags|=1,ur(e,t,r,n),t.child;case 14:return r=t.type,i=Pi(r,t.pendingProps),i=Pi(r.type,i),L2(e,t,r,i,n);case 15:return Px(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pi(r,i),Ud(e,t),t.tag=1,Ar(r)?(e=!0,ph(t)):e=!1,nl(t,n),Nx(t,r,i),Nm(t,r,i,n),Pm(null,t,r,!0,e,n);case 19:return Tx(e,t,n);case 22:return Lx(e,t,n)}throw Error(_e(156,t.tag))};function Kx(e,t){return by(e,t)}function zj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(e,t,n,r){return new zj(e,t,n,r)}function o0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qj(e){if(typeof e=="function")return o0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===A1)return 11;if(e===C1)return 14}return 2}function fo(e,t){var n=e.alternate;return n===null?(n=mi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hd(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")o0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ia:return Ko(n.children,i,s,t);case N1:o=8,i|=8;break;case Kp:return e=mi(12,n,t,i|2),e.elementType=Kp,e.lanes=s,e;case Yp:return e=mi(13,n,t,i),e.elementType=Yp,e.lanes=s,e;case Jp:return e=mi(19,n,t,i),e.elementType=Jp,e.lanes=s,e;case iy:return Jh(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ny:o=10;break e;case ry:o=9;break e;case A1:o=11;break e;case C1:o=14;break e;case Qs:o=16,r=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=mi(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ko(e,t,n,r){return e=mi(7,e,r,t),e.lanes=n,e}function Jh(e,t,n,r){return e=mi(22,e,r,t),e.elementType=iy,e.lanes=n,e.stateNode={isHidden:!1},e}function wp(e,t,n){return e=mi(6,e,null,t),e.lanes=n,e}function bp(e,t,n){return t=mi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uj(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tp(0),this.expirationTimes=tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function a0(e,t,n,r,i,s,o,a,l){return e=new Uj(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=mi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$1(s),e}function Vj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Yx(e){if(!e)return mo;e=e._reactInternals;e:{if(ra(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ar(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var n=e.type;if(Ar(n))return Yy(e,n,t)}return t}function Jx(e,t,n,r,i,s,o,a,l){return e=a0(n,r,!0,e,i,s,o,a,l),e.context=Yx(null),n=e.current,r=dr(),i=ho(n),s=ws(r,i),s.callback=t??null,co(n,s,i),e.current.lanes=i,uu(e,i,r),Cr(e,r),e}function Xh(e,t,n,r){var i=t.current,s=dr(),o=ho(i);return n=Yx(n),t.context===null?t.context=n:t.pendingContext=n,t=ws(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=co(i,t,o),e!==null&&(Ti(e,i,o,s),Bd(e,i,o)),o}function Ph(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function z2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function l0(e,t){z2(e,t),(e=e.alternate)&&z2(e,t)}function $j(){return null}var Xx=typeof reportError=="function"?reportError:function(e){console.error(e)};function c0(e){this._internalRoot=e}Qh.prototype.render=c0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));Xh(e,t,null,null)};Qh.prototype.unmount=c0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ta(function(){Xh(null,e,null,null)}),t[As]=null}};function Qh(e){this._internalRoot=e}Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ly();e={blockedOn:null,target:e,priority:t};for(var n=0;n<eo.length&&t!==0&&t<eo[n].priority;n++);eo.splice(n,0,e),n===0&&_y(e)}};function u0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function q2(){}function Hj(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=Ph(o);s.call(d)}}var o=Jx(t,r,e,0,null,!1,!1,"",q2);return e._reactRootContainer=o,e[As]=o.current,Gc(e.nodeType===8?e.parentNode:e),ta(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var d=Ph(l);a.call(d)}}var l=a0(e,0,!1,null,null,!1,!1,"",q2);return e._reactRootContainer=l,e[As]=l.current,Gc(e.nodeType===8?e.parentNode:e),ta(function(){Xh(t,l,n,r)}),l}function ef(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ph(o);a.call(l)}}Xh(t,o,e,i)}else o=Hj(n,t,e,i,r);return Ph(o)}Cy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xc(t.pendingLanes);n!==0&&(k1(t,n|1),Cr(t,vn()),!(At&6)&&(pl=vn()+500,So()))}break;case 13:ta(function(){var r=Cs(e,1);if(r!==null){var i=dr();Ti(r,e,1,i)}}),l0(e,1)}};_1=function(e){if(e.tag===13){var t=Cs(e,134217728);if(t!==null){var n=dr();Ti(t,e,134217728,n)}l0(e,134217728)}};Py=function(e){if(e.tag===13){var t=ho(e),n=Cs(e,t);if(n!==null){var r=dr();Ti(n,e,t,r)}l0(e,t)}};Ly=function(){return It};ky=function(e,t){var n=It;try{return It=e,t()}finally{It=n}};om=function(e,t,n){switch(t){case"input":if(Zp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=$h(r);if(!i)throw Error(_e(90));oy(r),Zp(r,i)}}}break;case"textarea":ly(e,n);break;case"select":t=n.value,t!=null&&Qa(e,!!n.multiple,t,!1)}};my=r0;gy=ta;var Wj={usingClientEntryPoint:!1,Events:[hu,Oa,$h,fy,py,r0]},cc={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gj={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xy(e),e===null?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||$j,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bd.isDisabled&&bd.supportsFiber)try{zh=bd.inject(Gj),Yi=bd}catch{}}Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wj;Kr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u0(t))throw Error(_e(200));return Vj(e,t,null,n)};Kr.createRoot=function(e,t){if(!u0(e))throw Error(_e(299));var n=!1,r="",i=Xx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=a0(e,1,!1,null,null,n,!1,r,i),e[As]=t.current,Gc(e.nodeType===8?e.parentNode:e),new c0(t)};Kr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=xy(t),e=e===null?null:e.stateNode,e};Kr.flushSync=function(e){return ta(e)};Kr.hydrate=function(e,t,n){if(!Zh(t))throw Error(_e(200));return ef(null,e,t,!0,n)};Kr.hydrateRoot=function(e,t,n){if(!u0(e))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Xx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Jx(t,null,e,1,n??null,i,!1,s,o),e[As]=t.current,Gc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qh(t)};Kr.render=function(e,t,n){if(!Zh(t))throw Error(_e(200));return ef(null,e,t,!1,n)};Kr.unmountComponentAtNode=function(e){if(!Zh(e))throw Error(_e(40));return e._reactRootContainer?(ta(function(){ef(null,null,e,!1,function(){e._reactRootContainer=null,e[As]=null})}),!0):!1};Kr.unstable_batchedUpdates=r0;Kr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zh(n))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return ef(e,t,n,!1,r)};Kr.version="18.3.1-next-f1338f8080-20240426";function Qx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qx)}catch(e){console.error(e)}}Qx(),Q5.exports=Kr;var Kj=Q5.exports,U2=Kj;Wp.createRoot=U2.createRoot,Wp.hydrateRoot=U2.hydrateRoot;var V2="popstate";function Yj(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Bm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:nu(i)}return Xj(t,n,null,e)}function nn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ii(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jj(){return Math.random().toString(36).substring(2,10)}function $2(e,t){return{usr:e.state,key:e.key,idx:t}}function Bm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Sl(t):t,state:n,key:t&&t.key||r||Jj()}}function nu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Sl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Xj(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let A=f(),x=A==null?null:A-d;d=A,l&&l({action:a,location:b.location,delta:x})}function g(A,x){a="PUSH";let w=Bm(b.location,A,x);n&&n(w,A),d=f()+1;let N=$2(w,d),R=b.createHref(w);try{o.pushState(N,"",R)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(R)}s&&l&&l({action:a,location:b.location,delta:1})}function m(A,x){a="REPLACE";let w=Bm(b.location,A,x);n&&n(w,A),d=f();let N=$2(w,d),R=b.createHref(w);o.replaceState(N,"",R),s&&l&&l({action:a,location:b.location,delta:0})}function S(A){return Qj(A)}let b={get action(){return a},get location(){return e(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(V2,p),l=A,()=>{i.removeEventListener(V2,p),l=null}},createHref(A){return t(i,A)},createURL:S,encodeLocation(A){let x=S(A);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:m,go(A){return o.go(A)}};return b}function Qj(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:nu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Zx(e,t,n="/"){return Zj(e,t,n,!1)}function Zj(e,t,n,r){let i=typeof t=="string"?Sl(t):t,s=Ls(i.pathname||"/",n);if(s==null)return null;let o=ew(e);eN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=dN(s);a=cN(o[l],d,r)}return a}function ew(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&l)return;nn(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let p=bs([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(nn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ew(o.children,t,g,p,l)),!(o.path==null&&!o.index)&&t.push({path:p,score:aN(p,o.index),routesMeta:g})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let d of tw(o.path))s(o,a,!0,d)}),t}function tw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=tw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function eN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:lN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var tN=/^:[\w-]+$/,nN=3,rN=2,iN=1,sN=10,oN=-2,H2=e=>e==="*";function aN(e,t){let n=e.split("/"),r=n.length;return n.some(H2)&&(r+=oN),t&&(r+=rN),n.filter(i=>!H2(i)).reduce((i,s)=>i+(tN.test(s)?nN:s===""?iN:sN),r)}function lN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function cN(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=Lh({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},f),g=l.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Lh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:bs([s,p.pathname]),pathnameBase:mN(bs([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=bs([s,p.pathnameBase]))}return o}function Lh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=uN(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let S=a[g]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const m=a[g];return p&&!m?d[f]=void 0:d[f]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function uN(e,t=!1,n=!0){Ii(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function dN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ii(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ls(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function hN(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Sl(e):e;return{pathname:n?n.startsWith("/")?n:fN(n,t):t,search:gN(r),hash:vN(i)}}function fN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function nw(e){let t=pN(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function rw(e,t,n,r=!1){let i;typeof e=="string"?i=Sl(e):(i={...e},nn(!i.pathname||!i.pathname.includes("?"),Sp("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),Sp("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),Sp("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?t[p]:"/"}let l=hN(i,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||f)&&(l.pathname+="/"),l}var bs=e=>e.join("/").replace(/\/\/+/g,"/"),mN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var iw=["POST","PUT","PATCH","DELETE"];new Set(iw);var xN=["GET",...iw];new Set(xN);var jl=T.createContext(null);jl.displayName="DataRouter";var tf=T.createContext(null);tf.displayName="DataRouterState";T.createContext(!1);var sw=T.createContext({isTransitioning:!1});sw.displayName="ViewTransition";var wN=T.createContext(new Map);wN.displayName="Fetchers";var bN=T.createContext(null);bN.displayName="Await";var es=T.createContext(null);es.displayName="Navigation";var pu=T.createContext(null);pu.displayName="Location";var Es=T.createContext({outlet:null,matches:[],isDataRoute:!1});Es.displayName="Route";var d0=T.createContext(null);d0.displayName="RouteError";function SN(e,{relative:t}={}){nn(mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(es),{hash:i,pathname:s,search:o}=gu(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:bs([n,s])),r.createHref({pathname:a,search:o,hash:i})}function mu(){return T.useContext(pu)!=null}function jo(){return nn(mu(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(pu).location}var ow="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aw(e){T.useContext(es).static||T.useLayoutEffect(e)}function h0(){let{isDataRoute:e}=T.useContext(Es);return e?RN():jN()}function jN(){nn(mu(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(jl),{basename:t,navigator:n}=T.useContext(es),{matches:r}=T.useContext(Es),{pathname:i}=jo(),s=JSON.stringify(nw(r)),o=T.useRef(!1);return aw(()=>{o.current=!0}),T.useCallback((l,d={})=>{if(Ii(o.current,ow),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=rw(l,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:bs([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}T.createContext(null);function gu(e,{relative:t}={}){let{matches:n}=T.useContext(Es),{pathname:r}=jo(),i=JSON.stringify(nw(n));return T.useMemo(()=>rw(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function NN(e,t){return lw(e,t)}function lw(e,t,n,r,i){var w;nn(mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(es),{matches:o}=T.useContext(Es),a=o[o.length-1],l=a?a.params:{},d=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let N=p&&p.path||"";cw(d,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=jo(),m;if(t){let N=typeof t=="string"?Sl(t):t;nn(f==="/"||((w=N.pathname)==null?void 0:w.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${N.pathname}" was given in the \`location\` prop.`),m=N}else m=g;let S=m.pathname||"/",b=S;if(f!=="/"){let N=f.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(N.length).join("/")}let A=Zx(e,{pathname:b});Ii(p||A!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ii(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=kN(A&&A.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:bs([f,s.encodeLocation?s.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:bs([f,s.encodeLocation?s.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,n,r,i);return t&&x?T.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function AN(){let e=IN(),t=yN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,o)}var CN=T.createElement(AN,null),PN=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?T.createElement(Es.Provider,{value:this.props.routeContext},T.createElement(d0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LN({routeContext:e,match:t,children:n}){let r=T.useContext(jl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Es.Provider,{value:e},n)}function kN(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);nn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,l=-1;if(n)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:p,errors:g}=n,m=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let g,m=!1,S=null,b=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,S=f.route.errorElement||CN,a&&(l<0&&p===0?(cw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):l===p&&(m=!0,b=f.route.hydrateFallbackElement||null)));let A=t.concat(s.slice(0,p+1)),x=()=>{let w;return g?w=S:m?w=b:f.route.Component?w=T.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,T.createElement(LN,{match:f,routeContext:{outlet:d,matches:A,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?T.createElement(PN,{location:n.location,revalidation:n.revalidation,component:S,error:g,children:x(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:r}):x()},null)}function f0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _N(e){let t=T.useContext(jl);return nn(t,f0(e)),t}function EN(e){let t=T.useContext(tf);return nn(t,f0(e)),t}function TN(e){let t=T.useContext(Es);return nn(t,f0(e)),t}function p0(e){let t=TN(e),n=t.matches[t.matches.length-1];return nn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function FN(){return p0("useRouteId")}function IN(){var r;let e=T.useContext(d0),t=EN("useRouteError"),n=p0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function RN(){let{router:e}=_N("useNavigate"),t=p0("useNavigate"),n=T.useRef(!1);return aw(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{Ii(n.current,ow),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var W2={};function cw(e,t,n){!t&&!W2[e]&&(W2[e]=!0,Ii(!1,n))}T.memo(DN);function DN({routes:e,future:t,state:n,unstable_onError:r}){return lw(e,void 0,n,r,t)}function Wd(e){nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MN({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){nn(!mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=T.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Sl(n));let{pathname:l="/",search:d="",hash:f="",state:p=null,key:g="default"}=n,m=T.useMemo(()=>{let S=Ls(l,o);return S==null?null:{location:{pathname:S,search:d,hash:f,state:p,key:g},navigationType:r}},[o,l,d,f,p,g,r]);return Ii(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:T.createElement(es.Provider,{value:a},T.createElement(pu.Provider,{children:t,value:m}))}function ON({children:e,location:t}){return NN(zm(e),t)}function zm(e,t=[]){let n=[];return T.Children.forEach(e,(r,i)=>{if(!T.isValidElement(r))return;let s=[...t,i];if(r.type===T.Fragment){n.push.apply(n,zm(r.props.children,s));return}nn(r.type===Wd,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zm(r.props.children,s)),n.push(o)}),n}var Gd="get",Kd="application/x-www-form-urlencoded";function nf(e){return e!=null&&typeof e.tagName=="string"}function BN(e){return nf(e)&&e.tagName.toLowerCase()==="button"}function zN(e){return nf(e)&&e.tagName.toLowerCase()==="form"}function qN(e){return nf(e)&&e.tagName.toLowerCase()==="input"}function UN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VN(e,t){return e.button===0&&(!t||t==="_self")&&!UN(e)}function qm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function $N(e,t){let n=qm(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Sd=null;function HN(){if(Sd===null)try{new FormData(document.createElement("form"),0),Sd=!1}catch{Sd=!0}return Sd}var WN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jp(e){return e!=null&&!WN.has(e)?(Ii(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kd}"`),null):e}function GN(e,t){let n,r,i,s,o;if(zN(e)){let a=e.getAttribute("action");r=a?Ls(a,t):null,n=e.getAttribute("method")||Gd,i=jp(e.getAttribute("enctype"))||Kd,s=new FormData(e)}else if(BN(e)||qN(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ls(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Gd,i=jp(e.getAttribute("formenctype"))||jp(a.getAttribute("enctype"))||Kd,s=new FormData(a,e),!HN()){let{name:d,type:f,value:p}=e;if(f==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,p)}}else{if(nf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gd,r=null,i=Kd,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function m0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function KN(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ls(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function YN(e,t){if(e.id in t)return t[e.id];try{let n=await Oc(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JN(e){return e!=null&&typeof e.page=="string"}function XN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function QN(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await YN(s,n);return o.links?o.links():[]}return[]}));return n6(r.flat(1).filter(XN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function G2(e,t,n,r,i,s){let o=(l,d)=>n[d]?l.route.id!==n[d].route.id:!0,a=(l,d)=>{var f;return n[d].pathname!==l.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,d)=>o(l,d)||a(l,d)):s==="data"?t.filter((l,d)=>{var p;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,d)||a(l,d))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function ZN(e,t,{includeHydrateFallback:n}={}){return e6(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function e6(e){return[...new Set(e)]}function t6(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function n6(e,t){let n=new Set,r=new Set(t);return e.reduce((i,s)=>{if(t&&!JN(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(t6(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function uw(){let e=T.useContext(jl);return m0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function r6(){let e=T.useContext(tf);return m0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var g0=T.createContext(void 0);g0.displayName="FrameworkContext";function dw(){let e=T.useContext(g0);return m0(e,"You must render this element inside a <HydratedRouter> element"),e}function i6(e,t){let n=T.useContext(g0),[r,i]=T.useState(!1),[s,o]=T.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=t,g=T.useRef(null);T.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=x=>{x.forEach(w=>{o(w.isIntersecting)})},A=new IntersectionObserver(b,{threshold:.5});return g.current&&A.observe(g.current),()=>{A.disconnect()}}},[e]),T.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let m=()=>{i(!0)},S=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:uc(a,m),onBlur:uc(l,S),onMouseEnter:uc(d,m),onMouseLeave:uc(f,S),onTouchStart:uc(p,m)}]:[!1,g,{}]}function uc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function s6({page:e,...t}){let{router:n}=uw(),r=T.useMemo(()=>Zx(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?T.createElement(a6,{page:e,matches:r,...t}):null}function o6(e){let{manifest:t,routeModules:n}=dw(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return QN(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function a6({page:e,matches:t,...n}){let r=jo(),{manifest:i,routeModules:s}=dw(),{basename:o}=uw(),{loaderData:a,matches:l}=r6(),d=T.useMemo(()=>G2(e,t,l,i,r,"data"),[e,t,l,i,r]),f=T.useMemo(()=>G2(e,t,l,i,r,"assets"),[e,t,l,i,r]),p=T.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,b=!1;if(t.forEach(x=>{var N;let w=i.routes[x.route.id];!w||!w.hasLoader||(!d.some(R=>R.route.id===x.route.id)&&x.route.id in a&&((N=s[x.route.id])!=null&&N.shouldRevalidate)||w.hasClientLoader?b=!0:S.add(x.route.id))}),S.size===0)return[];let A=KN(e,o,"data");return b&&S.size>0&&A.searchParams.set("_routes",t.filter(x=>S.has(x.route.id)).map(x=>x.route.id).join(",")),[A.pathname+A.search]},[o,a,r,i,d,t,e,s]),g=T.useMemo(()=>ZN(f,i),[f,i]),m=o6(f);return T.createElement(T.Fragment,null,p.map(S=>T.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),g.map(S=>T.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),m.map(({key:S,link:b})=>T.createElement("link",{key:S,nonce:n.nonce,...b})))}function l6(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var hw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hw&&(window.__reactRouterVersion="7.9.3")}catch{}function c6({basename:e,children:t,window:n}){let r=T.useRef();r.current==null&&(r.current=Yj({window:n,v5Compat:!0}));let i=r.current,[s,o]=T.useState({action:i.action,location:i.location}),a=T.useCallback(l=>{T.startTransition(()=>o(l))},[o]);return T.useLayoutEffect(()=>i.listen(a),[i,a]),T.createElement(MN,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var fw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pw=T.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:d,preventScrollReset:f,viewTransition:p,...g},m){let{basename:S}=T.useContext(es),b=typeof d=="string"&&fw.test(d),A,x=!1;if(typeof d=="string"&&b&&(A=d,hw))try{let Y=new URL(window.location.href),X=d.startsWith("//")?new URL(Y.protocol+d):new URL(d),E=Ls(X.pathname,S);X.origin===Y.origin&&E!=null?d=E+X.search+X.hash:x=!0}catch{Ii(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=SN(d,{relative:i}),[N,R,q]=i6(r,g),V=f6(d,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:p});function I(Y){t&&t(Y),Y.defaultPrevented||V(Y)}let F=T.createElement("a",{...g,...q,href:A||w,onClick:x||s?t:I,ref:l6(m,R),target:l,"data-discover":!b&&n==="render"?"true":void 0});return N&&!b?T.createElement(T.Fragment,null,F,T.createElement(s6,{page:w})):F});pw.displayName="Link";var u6=T.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...d},f){let p=gu(o,{relative:d.relative}),g=jo(),m=T.useContext(tf),{navigator:S,basename:b}=T.useContext(es),A=m!=null&&x6(p)&&a===!0,x=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,w=g.pathname,N=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(w=w.toLowerCase(),N=N?N.toLowerCase():null,x=x.toLowerCase()),N&&b&&(N=Ls(N,b)||N);const R=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let q=w===x||!i&&w.startsWith(x)&&w.charAt(R)==="/",V=N!=null&&(N===x||!i&&N.startsWith(x)&&N.charAt(x.length)==="/"),I={isActive:q,isPending:V,isTransitioning:A},F=q?t:void 0,Y;typeof r=="function"?Y=r(I):Y=[r,q?"active":null,V?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let X=typeof s=="function"?s(I):s;return T.createElement(pw,{...d,"aria-current":F,className:Y,ref:f,style:X,to:o,viewTransition:a},typeof l=="function"?l(I):l)});u6.displayName="NavLink";var d6=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Gd,action:a,onSubmit:l,relative:d,preventScrollReset:f,viewTransition:p,...g},m)=>{let S=v6(),b=y6(a,{relative:d}),A=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&fw.test(a),w=N=>{if(l&&l(N),N.defaultPrevented)return;N.preventDefault();let R=N.nativeEvent.submitter,q=(R==null?void 0:R.getAttribute("formmethod"))||o;S(R||N.currentTarget,{fetcherKey:t,method:q,navigate:n,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:p})};return T.createElement("form",{ref:m,method:A,action:b,onSubmit:r?l:w,...g,"data-discover":!x&&e==="render"?"true":void 0})});d6.displayName="Form";function h6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mw(e){let t=T.useContext(jl);return nn(t,h6(e)),t}function f6(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=h0(),l=jo(),d=gu(e,{relative:s});return T.useCallback(f=>{if(VN(f,t)){f.preventDefault();let p=n!==void 0?n:nu(l)===nu(d);a(e,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,d,n,r,t,e,i,s,o])}function p6(e){Ii(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=T.useRef(qm(e)),n=T.useRef(!1),r=jo(),i=T.useMemo(()=>$N(r.search,n.current?null:t.current),[r.search]),s=h0(),o=T.useCallback((a,l)=>{const d=qm(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+d,l)},[s,i]);return[i,o]}var m6=0,g6=()=>`__${String(++m6)}__`;function v6(){let{router:e}=mw("useSubmit"),{basename:t}=T.useContext(es),n=FN();return T.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:d}=GN(r,t);if(i.navigate===!1){let f=i.fetcherKey||g6();await e.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:d,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:d,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function y6(e,{relative:t}={}){let{basename:n}=T.useContext(es),r=T.useContext(Es);nn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...gu(e||".",{relative:t})},o=jo();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:bs([n,s.pathname])),nu(s)}function x6(e,{relative:t}={}){let n=T.useContext(sw);nn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mw("useViewTransitionState"),i=gu(e,{relative:t});if(!n.isTransitioning)return!1;let s=Ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lh(i.pathname,o)!=null||Lh(i.pathname,s)!=null}const v0=T.createContext({});function y0(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const rf=T.createContext(null),x0=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class w6 extends T.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function b6({children:e,isPresent:t}){const n=T.useId(),r=T.useRef(null),i=T.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=T.useContext(x0);return T.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:d}=i.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return s&&(f.nonce=s),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),c.jsx(w6,{isPresent:t,childRef:r,sizeRef:i,children:T.cloneElement(e,{ref:r})})}const S6=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=y0(j6),l=T.useId(),d=T.useCallback(p=>{a.set(p,!0);for(const g of a.values())if(!g)return;r&&r()},[a,r]),f=T.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:d,register:p=>(a.set(p,!1),()=>a.delete(p))}),s?[Math.random(),d]:[n,d]);return T.useMemo(()=>{a.forEach((p,g)=>a.set(g,!1))},[n]),T.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(b6,{isPresent:n,children:e})),c.jsx(rf.Provider,{value:f,children:e})};function j6(){return new Map}function gw(e=!0){const t=T.useContext(rf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=T.useId();T.useEffect(()=>{e&&i(s)},[e]);const o=T.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const jd=e=>e.key||"";function K2(e){const t=[];return T.Children.forEach(e,n=>{T.isValidElement(n)&&t.push(n)}),t}const w0=typeof window<"u",vw=w0?T.useLayoutEffect:T.useEffect,Ur=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=gw(o),d=T.useMemo(()=>K2(e),[e]),f=o&&!a?[]:d.map(jd),p=T.useRef(!0),g=T.useRef(d),m=y0(()=>new Map),[S,b]=T.useState(d),[A,x]=T.useState(d);vw(()=>{p.current=!1,g.current=d;for(let R=0;R<A.length;R++){const q=jd(A[R]);f.includes(q)?m.delete(q):m.get(q)!==!0&&m.set(q,!1)}},[A,f.length,f.join("-")]);const w=[];if(d!==S){let R=[...d];for(let q=0;q<A.length;q++){const V=A[q],I=jd(V);f.includes(I)||(R.splice(q,0,V),w.push(V))}s==="wait"&&w.length&&(R=w),x(K2(R)),b(d);return}const{forceRender:N}=T.useContext(v0);return c.jsx(c.Fragment,{children:A.map(R=>{const q=jd(R),V=o&&!a?!1:d===A||f.includes(q),I=()=>{if(m.has(q))m.set(q,!0);else return;let F=!0;m.forEach(Y=>{Y||(F=!1)}),F&&(N==null||N(),x(g.current),o&&(l==null||l()),r&&r())};return c.jsx(S6,{isPresent:V,initial:!p.current||n?void 0:!1,custom:V?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:V?void 0:I,children:R},q)})})},Hr=e=>e;let yw=Hr;function b0(e){let t;return()=>(t===void 0&&(t=e()),t)}const ml=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ss=e=>e*1e3,js=e=>e/1e3,N6={skipAnimations:!1,useManualTiming:!1};function A6(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(d){s.has(d)&&(l.schedule(d),e()),d(o)}const l={schedule:(d,f=!1,p=!1)=>{const m=p&&r?t:n;return f&&s.add(d),m.has(d)||m.add(d),d},cancel:d=>{n.delete(d),s.delete(d)},process:d=>{if(o=d,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(d))}};return l}const Nd=["read","resolveKeyframes","update","preRender","render","postRender"],C6=40;function xw(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Nd.reduce((x,w)=>(x[w]=A6(s),x),{}),{read:a,resolveKeyframes:l,update:d,preRender:f,render:p,postRender:g}=o,m=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,C6),1),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),d.process(i),f.process(i),p.process(i),g.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},S=()=>{n=!0,r=!0,i.isProcessing||e(m)};return{schedule:Nd.reduce((x,w)=>{const N=o[w];return x[w]=(R,q=!1,V=!1)=>(n||S(),N.schedule(R,q,V)),x},{}),cancel:x=>{for(let w=0;w<Nd.length;w++)o[Nd[w]].cancel(x)},state:i,steps:o}}const{schedule:Kt,cancel:go,state:Un,steps:Np}=xw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hr,!0),ww=T.createContext({strict:!1}),Y2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gl={};for(const e in Y2)gl[e]={isEnabled:t=>Y2[e].some(n=>!!t[n])};function P6(e){for(const t in e)gl[t]={...gl[t],...e[t]}}const L6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||L6.has(e)}let bw=e=>!kh(e);function k6(e){e&&(bw=t=>t.startsWith("on")?!kh(t):e(t))}try{k6(require("@emotion/is-prop-valid").default)}catch{}function _6(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(bw(i)||n===!0&&kh(i)||!t&&!kh(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function E6(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const sf=T.createContext({});function ru(e){return typeof e=="string"||Array.isArray(e)}function of(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const S0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],j0=["initial",...S0];function af(e){return of(e.animate)||j0.some(t=>ru(e[t]))}function Sw(e){return!!(af(e)||e.variants)}function T6(e,t){if(af(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ru(n)?n:void 0,animate:ru(r)?r:void 0}}return e.inherit!==!1?t:{}}function F6(e){const{initial:t,animate:n}=T6(e,T.useContext(sf));return T.useMemo(()=>({initial:t,animate:n}),[J2(t),J2(n)])}function J2(e){return Array.isArray(e)?e.join(" "):e}const I6=Symbol.for("motionComponentSymbol");function Ha(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function R6(e,t,n){return T.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ha(n)&&(n.current=r))},[t])}const N0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D6="framerAppearId",jw="data-"+N0(D6),{schedule:A0,cancel:z_}=xw(queueMicrotask,!1),Nw=T.createContext({});function M6(e,t,n,r,i){var s,o;const{visualElement:a}=T.useContext(sf),l=T.useContext(ww),d=T.useContext(rf),f=T.useContext(x0).reducedMotion,p=T.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,m=T.useContext(Nw);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&O6(p.current,n,i,m);const S=T.useRef(!1);T.useInsertionEffect(()=>{g&&S.current&&g.update(n,d)});const b=n[jw],A=T.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return vw(()=>{g&&(S.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),A0.render(g.render),A.current&&g.animationState&&g.animationState.animateChanges())}),T.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,b)}),A.current=!1))}),g}function O6(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Aw(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ha(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:d})}function Aw(e){if(e)return e.options.allowProjection!==!1?e.projection:Aw(e.parent)}function B6({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,o;e&&P6(e);function a(d,f){let p;const g={...T.useContext(x0),...d,layoutId:z6(d)},{isStatic:m}=g,S=F6(d),b=r(d,m);if(!m&&w0){q6();const A=U6(g);p=A.MeasureLayout,S.visualElement=M6(i,b,g,t,A.ProjectionNode)}return c.jsxs(sf.Provider,{value:S,children:[p&&S.visualElement?c.jsx(p,{visualElement:S.visualElement,...g}):null,n(i,d,R6(b,S.visualElement,f),b,m,S.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=T.forwardRef(a);return l[I6]=i,l}function z6({layoutId:e}){const t=T.useContext(v0).id;return t&&e!==void 0?t+"-"+e:e}function q6(e,t){T.useContext(ww).strict}function U6(e){const{drag:t,layout:n}=gl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const V6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function C0(e){return typeof e!="string"||e.includes("-")?!1:!!(V6.indexOf(e)>-1||/[A-Z]/u.test(e))}function X2(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function P0(e,t,n,r){if(typeof t=="function"){const[i,s]=X2(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=X2(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const Um=e=>Array.isArray(e),$6=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),H6=e=>Um(e)?e[e.length-1]||0:e,nr=e=>!!(e&&e.getVelocity);function Yd(e){const t=nr(e)?e.get():e;return $6(t)?t.toValue():t}function W6({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const o={latestValues:G6(r,i,s,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const Cw=e=>(t,n)=>{const r=T.useContext(sf),i=T.useContext(rf),s=()=>W6(e,t,r,i);return n?s():y0(s)};function G6(e,t,n,r){const i={},s=r(e,{});for(const g in s)i[g]=Yd(s[g]);let{initial:o,animate:a}=e;const l=af(e),d=Sw(e);t&&d&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const p=f?a:o;if(p&&typeof p!="boolean"&&!of(p)){const g=Array.isArray(p)?p:[p];for(let m=0;m<g.length;m++){const S=P0(e,g[m]);if(S){const{transitionEnd:b,transition:A,...x}=S;for(const w in x){let N=x[w];if(Array.isArray(N)){const R=f?N.length-1:0;N=N[R]}N!==null&&(i[w]=N)}for(const w in b)i[w]=b[w]}}}return i}const Nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ia=new Set(Nl),Pw=e=>t=>typeof t=="string"&&t.startsWith(e),Lw=Pw("--"),K6=Pw("var(--"),L0=e=>K6(e)?Y6.test(e.split("/*")[0].trim()):!1,Y6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ks=(e,t,n)=>n>t?t:n<e?e:n,Al={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},iu={...Al,transform:e=>ks(0,1,e)},Ad={...Al,default:1},vu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xs=vu("deg"),Xi=vu("%"),st=vu("px"),J6=vu("vh"),X6=vu("vw"),Q2={...Xi,parse:e=>Xi.parse(e)/100,transform:e=>Xi.transform(e*100)},Q6={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,backgroundPositionX:st,backgroundPositionY:st},Z6={rotate:Xs,rotateX:Xs,rotateY:Xs,rotateZ:Xs,scale:Ad,scaleX:Ad,scaleY:Ad,scaleZ:Ad,skew:Xs,skewX:Xs,skewY:Xs,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:iu,originX:Q2,originY:Q2,originZ:st},Z2={...Al,transform:Math.round},k0={...Q6,...Z6,zIndex:Z2,size:st,fillOpacity:iu,strokeOpacity:iu,numOctaves:Z2},eA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tA=Nl.length;function nA(e,t,n){let r="",i=!0;for(let s=0;s<tA;s++){const o=Nl[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const d=kw(a,k0[o]);if(!l){i=!1;const f=eA[o]||o;r+=`${f}(${d}) `}n&&(t[o]=d)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function _0(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const d=t[l];if(ia.has(l)){o=!0;continue}else if(Lw(l)){i[l]=d;continue}else{const f=kw(d,k0[l]);l.startsWith("origin")?(a=!0,s[l]=f):r[l]=f}}if(t.transform||(o||n?r.transform=nA(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${l} ${d} ${f}`}}const rA={offset:"stroke-dashoffset",array:"stroke-dasharray"},iA={offset:"strokeDashoffset",array:"strokeDasharray"};function sA(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?rA:iA;e[s.offset]=st.transform(-r);const o=st.transform(t),a=st.transform(n);e[s.array]=`${o} ${a}`}function ev(e,t,n){return typeof e=="string"?e:st.transform(t+n*e)}function oA(e,t,n){const r=ev(t,e.x,e.width),i=ev(n,e.y,e.height);return`${r} ${i}`}function E0(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...d},f,p){if(_0(e,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:m,dimensions:S}=e;g.transform&&(S&&(m.transform=g.transform),delete g.transform),S&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=oA(S,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&sA(g,o,a,l,!1)}const T0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),_w=()=>({...T0(),attrs:{}}),F0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ew(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const Tw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fw(e,t,n,r){Ew(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Tw.has(i)?i:N0(i),t.attrs[i])}const _h={};function aA(e){Object.assign(_h,e)}function Iw(e,{layout:t,layoutId:n}){return ia.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!_h[e]||e==="opacity")}function I0(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(nr(i[o])||t.style&&nr(t.style[o])||Iw(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function Rw(e,t,n){const r=I0(e,t,n);for(const i in e)if(nr(e[i])||nr(t[i])){const s=Nl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function lA(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const tv=["x","y","width","height","cx","cy","r"],cA={useVisualState:Cw({scrapeMotionValuesFromProps:Rw,createRenderState:_w,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in i)if(ia.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<tv.length;a++){const l=tv[a];e[l]!==t[l]&&(o=!0)}o&&Kt.read(()=>{lA(n,r),Kt.render(()=>{E0(r,i,F0(n.tagName),e.transformTemplate),Fw(n,r)})})}})},uA={useVisualState:Cw({scrapeMotionValuesFromProps:I0,createRenderState:T0})};function Dw(e,t,n){for(const r in t)!nr(t[r])&&!Iw(r,n)&&(e[r]=t[r])}function dA({transformTemplate:e},t){return T.useMemo(()=>{const n=T0();return _0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function hA(e,t){const n=e.style||{},r={};return Dw(r,n,e),Object.assign(r,dA(e,t)),r}function fA(e,t){const n={},r=hA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function pA(e,t,n,r){const i=T.useMemo(()=>{const s=_w();return E0(s,t,F0(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Dw(s,e.style,e),i.style={...s,...i.style}}return i}function mA(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(C0(n)?pA:fA)(r,s,o,n),d=_6(r,typeof n=="string",e),f=n!==T.Fragment?{...d,...l,ref:i}:{},{children:p}=r,g=T.useMemo(()=>nr(p)?p.get():p,[p]);return T.createElement(n,{...f,children:g})}}function gA(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...C0(r)?cA:uA,preloadedFeatures:e,useRender:mA(i),createVisualElement:t,Component:r};return B6(o)}}function Mw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function lf(e,t,n){const r=e.getProps();return P0(r,t,n!==void 0?n:r.custom,e)}const vA=b0(()=>window.ScrollTimeline!==void 0);class yA{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(vA()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class xA extends yA{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function R0(e,t){return e?e[t]||e.default||e:void 0}const Vm=2e4;function Ow(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Vm;)t+=n,r=e.next(t);return t>=Vm?1/0:t}function D0(e){return typeof e=="function"}function nv(e,t){e.timeline=t,e.onfinish=null}const M0=e=>Array.isArray(e)&&typeof e[0]=="number",wA={linearEasing:void 0};function bA(e,t){const n=b0(e);return()=>{var r;return(r=wA[t])!==null&&r!==void 0?r:n()}}const Eh=bA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bw=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(ml(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function zw(e){return!!(typeof e=="function"&&Eh()||!e||typeof e=="string"&&(e in $m||Eh())||M0(e)||Array.isArray(e)&&e.every(zw))}const bc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,$m={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bc([0,.65,.55,1]),circOut:bc([.55,0,1,.45]),backIn:bc([.31,.01,.66,-.59]),backOut:bc([.33,1.53,.69,.99])};function qw(e,t){if(e)return typeof e=="function"&&Eh()?Bw(e,t):M0(e)?bc(e):Array.isArray(e)?e.map(n=>qw(n,t)||$m.easeOut):$m[e]}const Ci={x:!1,y:!1};function Uw(){return Ci.x||Ci.y}function SA(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;t&&(i=t.current);const s=(r=n==null?void 0:n[e])!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function Vw(e,t){const n=SA(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function rv(e){return t=>{t.pointerType==="touch"||Uw()||e(t)}}function jA(e,t,n={}){const[r,i,s]=Vw(e,n),o=rv(a=>{const{target:l}=a,d=t(a);if(typeof d!="function"||!l)return;const f=rv(p=>{d(p),l.removeEventListener("pointerleave",f)});l.addEventListener("pointerleave",f,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const $w=(e,t)=>t?e===t?!0:$w(e,t.parentElement):!1,O0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,NA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AA(e){return NA.has(e.tagName)||e.tabIndex!==-1}const Sc=new WeakSet;function iv(e){return t=>{t.key==="Enter"&&e(t)}}function Ap(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const CA=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=iv(()=>{if(Sc.has(n))return;Ap(n,"down");const i=iv(()=>{Ap(n,"up")}),s=()=>Ap(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function sv(e){return O0(e)&&!Uw()}function PA(e,t,n={}){const[r,i,s]=Vw(e,n),o=a=>{const l=a.currentTarget;if(!sv(a)||Sc.has(l))return;Sc.add(l);const d=t(a),f=(m,S)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),!(!sv(m)||!Sc.has(l))&&(Sc.delete(l),typeof d=="function"&&d(m,{success:S}))},p=m=>{f(m,n.useGlobalTarget||$w(l,m.target))},g=m=>{f(m,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(a=>{!AA(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",d=>CA(d,i),i)}),s}function LA(e){return e==="x"||e==="y"?Ci[e]?null:(Ci[e]=!0,()=>{Ci[e]=!1}):Ci.x||Ci.y?null:(Ci.x=Ci.y=!0,()=>{Ci.x=Ci.y=!1})}const Hw=new Set(["width","height","top","left","right","bottom",...Nl]);let Jd;function kA(){Jd=void 0}const Qi={now:()=>(Jd===void 0&&Qi.set(Un.isProcessing||N6.useManualTiming?Un.timestamp:performance.now()),Jd),set:e=>{Jd=e,queueMicrotask(kA)}};function B0(e,t){e.indexOf(t)===-1&&e.push(t)}function z0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class q0{constructor(){this.subscriptions=[]}add(t){return B0(this.subscriptions,t),()=>z0(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ww(e,t){return t?e*(1e3/t):0}const ov=30,_A=e=>!isNaN(parseFloat(e));class EA{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Qi.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Qi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_A(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new q0);const r=this.events[t].add(n);return t==="change"?()=>{r(),Kt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Qi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ov)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ov);return Ww(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function su(e,t){return new EA(e,t)}function TA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,su(n))}function FA(e,t){const n=lf(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=H6(s[o]);TA(e,o,a)}}function IA(e){return!!(nr(e)&&e.add)}function Hm(e,t){const n=e.getValue("willChange");if(IA(n))return n.add(t)}function Gw(e){return e.props[jw]}const Kw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,RA=1e-7,DA=12;function MA(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=Kw(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>RA&&++a<DA);return o}function yu(e,t,n,r){if(e===t&&n===r)return Hr;const i=s=>MA(s,0,1,e,n);return s=>s===0||s===1?s:Kw(i(s),t,r)}const Yw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Jw=e=>t=>1-e(1-t),Xw=yu(.33,1.53,.69,.99),U0=Jw(Xw),Qw=Yw(U0),Zw=e=>(e*=2)<1?.5*U0(e):.5*(2-Math.pow(2,-10*(e-1))),V0=e=>1-Math.sin(Math.acos(e)),e3=Jw(V0),t3=Yw(V0),n3=e=>/^0[^.\s]+$/u.test(e);function OA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||n3(e):!0}const Fc=e=>Math.round(e*1e5)/1e5,$0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BA(e){return e==null}const zA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,H0=(e,t)=>n=>!!(typeof n=="string"&&zA.test(n)&&n.startsWith(e)||t&&!BA(n)&&Object.prototype.hasOwnProperty.call(n,t)),r3=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match($0);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},qA=e=>ks(0,255,e),Cp={...Al,transform:e=>Math.round(qA(e))},Wo={test:H0("rgb","red"),parse:r3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Cp.transform(e)+", "+Cp.transform(t)+", "+Cp.transform(n)+", "+Fc(iu.transform(r))+")"};function UA(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Wm={test:H0("#"),parse:UA,transform:Wo.transform},Wa={test:H0("hsl","hue"),parse:r3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Xi.transform(Fc(t))+", "+Xi.transform(Fc(n))+", "+Fc(iu.transform(r))+")"},Zn={test:e=>Wo.test(e)||Wm.test(e)||Wa.test(e),parse:e=>Wo.test(e)?Wo.parse(e):Wa.test(e)?Wa.parse(e):Wm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Wo.transform(e):Wa.transform(e)},VA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $A(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match($0))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(VA))===null||n===void 0?void 0:n.length)||0)>0}const i3="number",s3="color",HA="var",WA="var(",av="${}",GA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ou(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(GA,l=>(Zn.test(l)?(r.color.push(s),i.push(s3),n.push(Zn.parse(l))):l.startsWith(WA)?(r.var.push(s),i.push(HA),n.push(l)):(r.number.push(s),i.push(i3),n.push(parseFloat(l))),++s,av)).split(av);return{values:n,split:a,indexes:r,types:i}}function o3(e){return ou(e).values}function a3(e){const{split:t,types:n}=ou(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===i3?s+=Fc(i[o]):a===s3?s+=Zn.transform(i[o]):s+=i[o]}return s}}const KA=e=>typeof e=="number"?0:e;function YA(e){const t=o3(e);return a3(e)(t.map(KA))}const vo={test:$A,parse:o3,createTransformer:a3,getAnimatableNone:YA},JA=new Set(["brightness","contrast","saturate","opacity"]);function XA(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match($0)||[];if(!r)return e;const i=n.replace(r,"");let s=JA.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const QA=/\b([a-z-]*)\(.*?\)/gu,Gm={...vo,getAnimatableNone:e=>{const t=e.match(QA);return t?t.map(XA).join(" "):e}},ZA={...k0,color:Zn,backgroundColor:Zn,outlineColor:Zn,fill:Zn,stroke:Zn,borderColor:Zn,borderTopColor:Zn,borderRightColor:Zn,borderBottomColor:Zn,borderLeftColor:Zn,filter:Gm,WebkitFilter:Gm},W0=e=>ZA[e];function l3(e,t){let n=W0(e);return n!==Gm&&(n=vo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const eC=new Set(["auto","none","0"]);function tC(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!eC.has(s)&&ou(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=l3(n,i)}const lv=e=>e===Al||e===st,cv=(e,t)=>parseFloat(e.split(", ")[t]),uv=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return cv(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?cv(s[1],e):0}},nC=new Set(["x","y","z"]),rC=Nl.filter(e=>!nC.has(e));function iC(e){const t=[];return rC.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const vl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:uv(4,13),y:uv(5,14)};vl.translateX=vl.x;vl.translateY=vl.y;const Yo=new Set;let Km=!1,Ym=!1;function c3(){if(Ym){const e=Array.from(Yo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=iC(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ym=!1,Km=!1,Yo.forEach(e=>e.complete()),Yo.clear()}function u3(){Yo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ym=!0)})}function sC(){u3(),c3()}class G0{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Yo.add(this),Km||(Km=!0,Kt.read(u3),Kt.resolveKeyframes(c3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Yo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Yo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const d3=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),oC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aC(e){const t=oC.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function h3(e,t,n=1){const[r,i]=aC(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return d3(o)?parseFloat(o):o}return L0(i)?h3(i,t,n+1):i}const f3=e=>t=>t.test(e),lC={test:e=>e==="auto",parse:e=>e},p3=[Al,st,Xi,Xs,X6,J6,lC],dv=e=>p3.find(f3(e));class m3 extends G0{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let d=t[l];if(typeof d=="string"&&(d=d.trim(),L0(d))){const f=h3(d,n.current);f!==void 0&&(t[l]=f),l===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Hw.has(r)||t.length!==2)return;const[i,s]=t,o=dv(i),a=dv(s);if(o!==a)if(lv(o)&&lv(a))for(let l=0;l<t.length;l++){const d=t[l];typeof d=="string"&&(t[l]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)OA(t[i])&&r.push(i);r.length&&tC(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=vl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,d])=>{n.getValue(l).set(d)}),this.resolveNoneKeyframes()}}const hv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(vo.test(e)||e==="0")&&!e.startsWith("url("));function cC(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function uC(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=hv(i,t),a=hv(s,t);return!o||!a?!1:cC(e)||(n==="spring"||D0(n))&&r}const dC=e=>e!==null;function cf(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(dC),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const hC=40;class g3{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Qi.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>hC?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&sC(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Qi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:d}=this.options;if(!d&&!uC(t,r,i,s))if(o)this.options.duration=0;else{l&&l(cf(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,n);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const en=(e,t,n)=>e+(t-e)*n;function Pp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fC({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Pp(l,a,e+1/3),s=Pp(l,a,e),o=Pp(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Th(e,t){return n=>n>0?t:e}const Lp=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},pC=[Wm,Wo,Wa],mC=e=>pC.find(t=>t.test(e));function fv(e){const t=mC(e);if(!t)return!1;let n=t.parse(e);return t===Wa&&(n=fC(n)),n}const pv=(e,t)=>{const n=fv(e),r=fv(t);if(!n||!r)return Th(e,t);const i={...n};return s=>(i.red=Lp(n.red,r.red,s),i.green=Lp(n.green,r.green,s),i.blue=Lp(n.blue,r.blue,s),i.alpha=en(n.alpha,r.alpha,s),Wo.transform(i))},gC=(e,t)=>n=>t(e(n)),xu=(...e)=>e.reduce(gC),Jm=new Set(["none","hidden"]);function vC(e,t){return Jm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function yC(e,t){return n=>en(e,t,n)}function K0(e){return typeof e=="number"?yC:typeof e=="string"?L0(e)?Th:Zn.test(e)?pv:bC:Array.isArray(e)?v3:typeof e=="object"?Zn.test(e)?pv:xC:Th}function v3(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>K0(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function xC(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=K0(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function wC(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const bC=(e,t)=>{const n=vo.createTransformer(t),r=ou(e),i=ou(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Jm.has(e)&&!i.values.length||Jm.has(t)&&!r.values.length?vC(e,t):xu(v3(wC(r,i),i.values),n):Th(e,t)};function y3(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?en(e,t,n):K0(e)(e,t)}const SC=5;function x3(e,t,n){const r=Math.max(t-SC,0);return Ww(n-e(r),t-r)}const un={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kp=.001;function jC({duration:e=un.duration,bounce:t=un.bounce,velocity:n=un.velocity,mass:r=un.mass}){let i,s,o=1-t;o=ks(un.minDamping,un.maxDamping,o),e=ks(un.minDuration,un.maxDuration,js(e)),o<1?(i=d=>{const f=d*o,p=f*e,g=f-n,m=Xm(d,o),S=Math.exp(-p);return kp-g/m*S},s=d=>{const p=d*o*e,g=p*n+n,m=Math.pow(o,2)*Math.pow(d,2)*e,S=Math.exp(-p),b=Xm(Math.pow(d,2),o);return(-i(d)+kp>0?-1:1)*((g-m)*S)/b}):(i=d=>{const f=Math.exp(-d*e),p=(d-n)*e+1;return-kp+f*p},s=d=>{const f=Math.exp(-d*e),p=(n-d)*(e*e);return f*p});const a=5/e,l=AC(i,s,a);if(e=Ss(e),isNaN(l))return{stiffness:un.stiffness,damping:un.damping,duration:e};{const d=Math.pow(l,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const NC=12;function AC(e,t,n){let r=n;for(let i=1;i<NC;i++)r=r-e(r)/t(r);return r}function Xm(e,t){return e*Math.sqrt(1-t*t)}const CC=["duration","bounce"],PC=["stiffness","damping","mass"];function mv(e,t){return t.some(n=>e[n]!==void 0)}function LC(e){let t={velocity:un.velocity,stiffness:un.stiffness,damping:un.damping,mass:un.mass,isResolvedFromDuration:!1,...e};if(!mv(e,PC)&&mv(e,CC))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ks(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:un.mass,stiffness:i,damping:s}}else{const n=jC(e);t={...t,...n,mass:un.mass},t.isResolvedFromDuration=!0}return t}function w3(e=un.visualDuration,t=un.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:d,mass:f,duration:p,velocity:g,isResolvedFromDuration:m}=LC({...n,velocity:-js(n.velocity||0)}),S=g||0,b=d/(2*Math.sqrt(l*f)),A=o-s,x=js(Math.sqrt(l/f)),w=Math.abs(A)<5;r||(r=w?un.restSpeed.granular:un.restSpeed.default),i||(i=w?un.restDelta.granular:un.restDelta.default);let N;if(b<1){const q=Xm(x,b);N=V=>{const I=Math.exp(-b*x*V);return o-I*((S+b*x*A)/q*Math.sin(q*V)+A*Math.cos(q*V))}}else if(b===1)N=q=>o-Math.exp(-x*q)*(A+(S+x*A)*q);else{const q=x*Math.sqrt(b*b-1);N=V=>{const I=Math.exp(-b*x*V),F=Math.min(q*V,300);return o-I*((S+b*x*A)*Math.sinh(F)+q*A*Math.cosh(F))/q}}const R={calculatedDuration:m&&p||null,next:q=>{const V=N(q);if(m)a.done=q>=p;else{let I=0;b<1&&(I=q===0?Ss(S):x3(N,q,V));const F=Math.abs(I)<=r,Y=Math.abs(o-V)<=i;a.done=F&&Y}return a.value=a.done?o:V,a},toString:()=>{const q=Math.min(Ow(R),Vm),V=Bw(I=>R.next(q*I).value,q,30);return q+"ms "+V}};return R}function gv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:d=.5,restSpeed:f}){const p=e[0],g={done:!1,value:p},m=F=>a!==void 0&&F<a||l!==void 0&&F>l,S=F=>a===void 0?l:l===void 0||Math.abs(a-F)<Math.abs(l-F)?a:l;let b=n*t;const A=p+b,x=o===void 0?A:o(A);x!==A&&(b=x-p);const w=F=>-b*Math.exp(-F/r),N=F=>x+w(F),R=F=>{const Y=w(F),X=N(F);g.done=Math.abs(Y)<=d,g.value=g.done?x:X};let q,V;const I=F=>{m(g.value)&&(q=F,V=w3({keyframes:[g.value,S(g.value)],velocity:x3(N,F,g.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return I(0),{calculatedDuration:null,next:F=>{let Y=!1;return!V&&q===void 0&&(Y=!0,R(F),I(F)),q!==void 0&&F>=q?V.next(F-q):(!Y&&R(F),g)}}}const kC=yu(.42,0,1,1),_C=yu(0,0,.58,1),b3=yu(.42,0,.58,1),EC=e=>Array.isArray(e)&&typeof e[0]!="number",TC={linear:Hr,easeIn:kC,easeInOut:b3,easeOut:_C,circIn:V0,circInOut:t3,circOut:e3,backIn:U0,backInOut:Qw,backOut:Xw,anticipate:Zw},vv=e=>{if(M0(e)){yw(e.length===4);const[t,n,r,i]=e;return yu(t,n,r,i)}else if(typeof e=="string")return TC[e];return e};function FC(e,t,n){const r=[],i=n||y3,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Hr:t;a=xu(l,a)}r.push(a)}return r}function IC(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(yw(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=FC(t,r,i),l=a.length,d=f=>{if(o&&f<e[0])return t[0];let p=0;if(l>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const g=ml(e[p],e[p+1],f);return a[p](g)};return n?f=>d(ks(e[0],e[s-1],f)):d}function RC(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=ml(0,t,r);e.push(en(n,1,i))}}function DC(e){const t=[0];return RC(t,e.length-1),t}function MC(e,t){return e.map(n=>n*t)}function OC(e,t){return e.map(()=>t||b3).splice(0,e.length-1)}function Fh({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=EC(r)?r.map(vv):vv(r),s={done:!1,value:t[0]},o=MC(n&&n.length===t.length?n:DC(t),e),a=IC(o,t,{ease:Array.isArray(i)?i:OC(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const BC=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Kt.update(t,!0),stop:()=>go(t),now:()=>Un.isProcessing?Un.timestamp:Qi.now()}},zC={decay:gv,inertia:gv,tween:Fh,keyframes:Fh,spring:w3},qC=e=>e/100;class Y0 extends g3{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||G0,a=(l,d)=>this.onKeyframesResolved(l,d);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=D0(n)?n:zC[n]||Fh;let l,d;a!==Fh&&typeof t[0]!="number"&&(l=xu(qC,y3(t[0],t[1])),t=[0,100]);const f=a({...this.options,keyframes:t});s==="mirror"&&(d=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=Ow(f));const{calculatedDuration:p}=f,g=p+i,m=g*(r+1)-i;return{generator:f,mirroredGenerator:d,mapPercentToKeyframes:l,calculatedDuration:p,resolvedDuration:g,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:F}=this.options;return{done:!0,value:F[F.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:d,totalDuration:f,resolvedDuration:p}=r;if(this.startTime===null)return s.next(0);const{delay:g,repeat:m,repeatType:S,repeatDelay:b,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-g*(this.speed>=0?1:-1),w=this.speed>=0?x<0:x>f;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let N=this.currentTime,R=s;if(m){const F=Math.min(this.currentTime,f)/p;let Y=Math.floor(F),X=F%1;!X&&F>=1&&(X=1),X===1&&Y--,Y=Math.min(Y,m+1),!!(Y%2)&&(S==="reverse"?(X=1-X,b&&(X-=b/p)):S==="mirror"&&(R=o)),N=ks(0,1,X)*p}const q=w?{done:!1,value:l[0]}:R.next(N);a&&(q.value=a(q.value));let{done:V}=q;!w&&d!==null&&(V=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return I&&i!==void 0&&(q.value=cf(l,this.options,i)),A&&A(q.value),I&&this.finish(),q}get duration(){const{resolved:t}=this;return t?js(t.calculatedDuration):0}get time(){return js(this.currentTime)}set time(t){t=Ss(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=js(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=BC,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const UC=new Set(["opacity","clipPath","filter","transform"]);function VC(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const d={[t]:n};l&&(d.offset=l);const f=qw(a,i);return Array.isArray(f)&&(d.easing=f),e.animate(d,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const $C=b0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ih=10,HC=2e4;function WC(e){return D0(e.type)||e.type==="spring"||!zw(e.ease)}function GC(e,t){const n=new Y0({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<HC;)r=n.sample(s),i.push(r.value),s+=Ih;return{times:void 0,keyframes:i,duration:s-Ih,ease:"linear"}}const S3={anticipate:Zw,backInOut:Qw,circInOut:t3};function KC(e){return e in S3}class yv extends g3{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new m3(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:d}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Eh()&&KC(s)&&(s=S3[s]),WC(this.options)){const{onComplete:p,onUpdate:g,motionValue:m,element:S,...b}=this.options,A=GC(t,b);t=A.keyframes,t.length===1&&(t[1]=t[0]),r=A.duration,i=A.times,s=A.ease,o="keyframes"}const f=VC(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:s});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(nv(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;a.set(cf(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return js(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return js(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ss(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Hr;const{animation:r}=n;nv(r,t)}return Hr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:f,onComplete:p,element:g,...m}=this.options,S=new Y0({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),b=Ss(this.time);d.setWithVelocity(S.sample(b-Ih).value,S.sample(b).value,Ih)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:d}=n.owner.getProps();return $C()&&r&&UC.has(r)&&!l&&!d&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const YC={type:"spring",stiffness:500,damping:25,restSpeed:10},JC=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),XC={type:"keyframes",duration:.8},QC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZC=(e,{keyframes:t})=>t.length>2?XC:ia.has(e)?e.startsWith("scale")?JC(t[1]):YC:QC;function eP({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:d,...f}){return!!Object.keys(f).length}const J0=(e,t,n,r={},i,s)=>o=>{const a=R0(r,e)||{},l=a.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ss(l);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-d,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};eP(a)||(f={...f,...ZC(e,f)}),f.duration&&(f.duration=Ss(f.duration)),f.repeatDelay&&(f.repeatDelay=Ss(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!s&&t.get()!==void 0){const g=cf(f.keyframes,a);if(g!==void 0)return Kt.update(()=>{f.onUpdate(g),f.onComplete()}),new xA([])}return!s&&yv.supports(f)?new yv(f):new Y0(f)};function tP({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function j3(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const d=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in l){const g=e.getValue(p,(s=e.latestValues[p])!==null&&s!==void 0?s:null),m=l[p];if(m===void 0||f&&tP(f,p))continue;const S={delay:n,...R0(o||{},p)};let b=!1;if(window.MotionHandoffAnimation){const x=Gw(e);if(x){const w=window.MotionHandoffAnimation(x,p,Kt);w!==null&&(S.startTime=w,b=!0)}}Hm(e,p),g.start(J0(p,g,m,e.shouldReduceMotion&&Hw.has(p)?{type:!1}:S,e,b));const A=g.animation;A&&d.push(A)}return a&&Promise.all(d).then(()=>{Kt.update(()=>{a&&FA(e,a)})}),d}function Qm(e,t,n={}){var r;const i=lf(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(j3(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=s;return nP(e,t,f+d,p,g,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,f]=l==="beforeChildren"?[o,a]:[a,o];return d().then(()=>f())}else return Promise.all([o(),a(n.delay)])}function nP(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(d=0)=>d*r:(d=0)=>a-d*r;return Array.from(e.variantChildren).sort(rP).forEach((d,f)=>{d.notify("AnimationStart",t),o.push(Qm(d,t,{...s,delay:n+l(f)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function rP(e,t){return e.sortNodePosition(t)}function iP(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Qm(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Qm(e,t,n);else{const i=typeof t=="function"?lf(e,t,n.custom):t;r=Promise.all(j3(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const sP=j0.length;function N3(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?N3(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<sP;n++){const r=j0[n],i=e.props[r];(ru(i)||i===!1)&&(t[r]=i)}return t}const oP=[...S0].reverse(),aP=S0.length;function lP(e){return t=>Promise.all(t.map(({animation:n,options:r})=>iP(e,n,r)))}function cP(e){let t=lP(e),n=xv(),r=!0;const i=l=>(d,f)=>{var p;const g=lf(e,f,l==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(g){const{transition:m,transitionEnd:S,...b}=g;d={...d,...b,...S}}return d};function s(l){t=l(e)}function o(l){const{props:d}=e,f=N3(e.parent)||{},p=[],g=new Set;let m={},S=1/0;for(let A=0;A<aP;A++){const x=oP[A],w=n[x],N=d[x]!==void 0?d[x]:f[x],R=ru(N),q=x===l?w.isActive:null;q===!1&&(S=A);let V=N===f[x]&&N!==d[x]&&R;if(V&&r&&e.manuallyAnimateOnMount&&(V=!1),w.protectedKeys={...m},!w.isActive&&q===null||!N&&!w.prevProp||of(N)||typeof N=="boolean")continue;const I=uP(w.prevProp,N);let F=I||x===l&&w.isActive&&!V&&R||A>S&&R,Y=!1;const X=Array.isArray(N)?N:[N];let E=X.reduce(i(x),{});q===!1&&(E={});const{prevResolvedValues:O={}}=w,Q={...O,...E},H=le=>{F=!0,g.has(le)&&(Y=!0,g.delete(le)),w.needsAnimating[le]=!0;const W=e.getValue(le);W&&(W.liveStyle=!1)};for(const le in Q){const W=E[le],ie=O[le];if(m.hasOwnProperty(le))continue;let J=!1;Um(W)&&Um(ie)?J=!Mw(W,ie):J=W!==ie,J?W!=null?H(le):g.add(le):W!==void 0&&g.has(le)?H(le):w.protectedKeys[le]=!0}w.prevProp=N,w.prevResolvedValues=E,w.isActive&&(m={...m,...E}),r&&e.blockInitialAnimation&&(F=!1),F&&(!(V&&I)||Y)&&p.push(...X.map(le=>({animation:le,options:{type:x}})))}if(g.size){const A={};g.forEach(x=>{const w=e.getBaseTarget(x),N=e.getValue(x);N&&(N.liveStyle=!0),A[x]=w??null}),p.push({animation:A})}let b=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function a(l,d){var f;if(n[l].isActive===d)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var m;return(m=g.animationState)===null||m===void 0?void 0:m.setActive(l,d)}),n[l].isActive=d;const p=o(l);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=xv(),r=!0}}}function uP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Mw(t,e):!1}function Ro(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xv(){return{animate:Ro(!0),whileInView:Ro(),whileHover:Ro(),whileTap:Ro(),whileDrag:Ro(),whileFocus:Ro(),exit:Ro()}}class No{constructor(t){this.isMounted=!1,this.node=t}update(){}}class dP extends No{constructor(t){super(t),t.animationState||(t.animationState=cP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();of(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let hP=0;class fP extends No{constructor(){super(...arguments),this.id=hP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const pP={animation:{Feature:dP},exit:{Feature:fP}};function au(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function wu(e){return{point:{x:e.pageX,y:e.pageY}}}const mP=e=>t=>O0(t)&&e(t,wu(t));function Ic(e,t,n,r){return au(e,t,mP(n),r)}const wv=(e,t)=>Math.abs(e-t);function gP(e,t){const n=wv(e.x,t.x),r=wv(e.y,t.y);return Math.sqrt(n**2+r**2)}class A3{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Ep(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=gP(p.offset,{x:0,y:0})>=3;if(!g&&!m)return;const{point:S}=p,{timestamp:b}=Un;this.history.push({...S,timestamp:b});const{onStart:A,onMove:x}=this.handlers;g||(A&&A(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=_p(g,this.transformPagePoint),Kt.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:m,onSessionEnd:S,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Ep(p.type==="pointercancel"?this.lastMoveEventInfo:_p(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(p,A),S&&S(p,A)},!O0(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=wu(t),a=_p(o,this.transformPagePoint),{point:l}=a,{timestamp:d}=Un;this.history=[{...l,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Ep(a,this.history)),this.removeListeners=xu(Ic(this.contextWindow,"pointermove",this.handlePointerMove),Ic(this.contextWindow,"pointerup",this.handlePointerUp),Ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),go(this.updatePoint)}}function _p(e,t){return t?{point:t(e.point)}:e}function bv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ep({point:e},t){return{point:e,delta:bv(e,C3(t)),offset:bv(e,vP(t)),velocity:yP(t,.1)}}function vP(e){return e[0]}function C3(e){return e[e.length-1]}function yP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=C3(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ss(t)));)n--;if(!r)return{x:0,y:0};const s=js(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const P3=1e-4,xP=1-P3,wP=1+P3,L3=.01,bP=0-L3,SP=0+L3;function Gr(e){return e.max-e.min}function jP(e,t,n){return Math.abs(e-t)<=n}function Sv(e,t,n,r=.5){e.origin=r,e.originPoint=en(t.min,t.max,e.origin),e.scale=Gr(n)/Gr(t),e.translate=en(n.min,n.max,e.origin)-e.originPoint,(e.scale>=xP&&e.scale<=wP||isNaN(e.scale))&&(e.scale=1),(e.translate>=bP&&e.translate<=SP||isNaN(e.translate))&&(e.translate=0)}function Rc(e,t,n,r){Sv(e.x,t.x,n.x,r?r.originX:void 0),Sv(e.y,t.y,n.y,r?r.originY:void 0)}function jv(e,t,n){e.min=n.min+t.min,e.max=e.min+Gr(t)}function NP(e,t,n){jv(e.x,t.x,n.x),jv(e.y,t.y,n.y)}function Nv(e,t,n){e.min=t.min-n.min,e.max=e.min+Gr(t)}function Dc(e,t,n){Nv(e.x,t.x,n.x),Nv(e.y,t.y,n.y)}function AP(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?en(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?en(n,e,r.max):Math.min(e,n)),e}function Av(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function CP(e,{top:t,left:n,bottom:r,right:i}){return{x:Av(e.x,n,i),y:Av(e.y,t,r)}}function Cv(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function PP(e,t){return{x:Cv(e.x,t.x),y:Cv(e.y,t.y)}}function LP(e,t){let n=.5;const r=Gr(e),i=Gr(t);return i>r?n=ml(t.min,t.max-r,e.min):r>i&&(n=ml(e.min,e.max-i,t.min)),ks(0,1,n)}function kP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Zm=.35;function _P(e=Zm){return e===!1?e=0:e===!0&&(e=Zm),{x:Pv(e,"left","right"),y:Pv(e,"top","bottom")}}function Pv(e,t,n){return{min:Lv(e,t),max:Lv(e,n)}}function Lv(e,t){return typeof e=="number"?e:e[t]||0}const kv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ga=()=>({x:kv(),y:kv()}),_v=()=>({min:0,max:0}),gn=()=>({x:_v(),y:_v()});function hi(e){return[e("x"),e("y")]}function k3({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function EP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function TP(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Tp(e){return e===void 0||e===1}function e1({scale:e,scaleX:t,scaleY:n}){return!Tp(e)||!Tp(t)||!Tp(n)}function Bo(e){return e1(e)||_3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _3(e){return Ev(e.x)||Ev(e.y)}function Ev(e){return e&&e!=="0%"}function Rh(e,t,n){const r=e-n,i=t*r;return n+i}function Tv(e,t,n,r,i){return i!==void 0&&(e=Rh(e,i,r)),Rh(e,n,r)+t}function t1(e,t=0,n=1,r,i){e.min=Tv(e.min,t,n,r,i),e.max=Tv(e.max,t,n,r,i)}function E3(e,{x:t,y:n}){t1(e.x,t.translate,t.scale,t.originPoint),t1(e.y,n.translate,n.scale,n.originPoint)}const Fv=.999999999999,Iv=1.0000000000001;function FP(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ya(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,E3(e,o)),r&&Bo(s.latestValues)&&Ya(e,s.latestValues))}t.x<Iv&&t.x>Fv&&(t.x=1),t.y<Iv&&t.y>Fv&&(t.y=1)}function Ka(e,t){e.min=e.min+t,e.max=e.max+t}function Rv(e,t,n,r,i=.5){const s=en(e.min,e.max,i);t1(e,t,n,s,r)}function Ya(e,t){Rv(e.x,t.x,t.scaleX,t.scale,t.originX),Rv(e.y,t.y,t.scaleY,t.scale,t.originY)}function T3(e,t){return k3(TP(e.getBoundingClientRect(),t))}function IP(e,t,n){const r=T3(e,n),{scroll:i}=t;return i&&(Ka(r.x,i.offset.x),Ka(r.y,i.offset.y)),r}const F3=({current:e})=>e?e.ownerDocument.defaultView:null,RP=new WeakMap;class DP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wu(f).point)},s=(f,p)=>{const{drag:g,dragPropagation:m,onDragStart:S}=this.getProps();if(g&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LA(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hi(A=>{let x=this.getAxisMotionValue(A).get()||0;if(Xi.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const N=w.layout.layoutBox[A];N&&(x=Gr(N)*(parseFloat(x)/100))}}this.originPoint[A]=x}),S&&Kt.postRender(()=>S(f,p)),Hm(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(f,p)=>{const{dragPropagation:g,dragDirectionLock:m,onDirectionLock:S,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:A}=p;if(m&&this.currentDirection===null){this.currentDirection=MP(A),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",p.point,A),this.updateAxis("y",p.point,A),this.visualElement.render(),b&&b(f,p)},a=(f,p)=>this.stop(f,p),l=()=>hi(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new A3(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:F3(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Kt.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Cd(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=AP(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Ha(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=CP(i.layoutBox,n):this.constraints=!1,this.elastic=_P(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&hi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=kP(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ha(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=IP(r,i.root,this.visualElement.getTransformPagePoint());let o=PP(i.layout.layoutBox,s);if(n){const a=n(EP(o));this.hasMutatedConstraints=!!a,a&&(o=k3(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},d=hi(f=>{if(!Cd(f,n,this.currentDirection))return;let p=l&&l[f]||{};o&&(p={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,S={type:"inertia",velocity:r?t[f]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,S)});return Promise.all(d).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Hm(this.visualElement,t),r.start(J0(t,r,0,n,this.visualElement,!1))}stopAnimation(){hi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){hi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){hi(n=>{const{drag:r}=this.getProps();if(!Cd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-en(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ha(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hi(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=LP({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hi(o=>{if(!Cd(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:d}=this.constraints[o];a.set(en(l,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;RP.set(this.visualElement,this);const t=this.visualElement.current,n=Ic(t,"pointerdown",l=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ha(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Kt.read(r);const o=au(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(hi(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=l[f].translate,p.set(p.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Zm,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Cd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function MP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class OP extends No{constructor(t){super(t),this.removeGroupControls=Hr,this.removeListeners=Hr,this.controls=new DP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dv=e=>(t,n)=>{e&&Kt.postRender(()=>e(t,n))};class BP extends No{constructor(){super(...arguments),this.removePointerDownListener=Hr}onPointerDown(t){this.session=new A3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:F3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Dv(t),onStart:Dv(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Kt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ic(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const dc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(st.test(e))e=parseFloat(e);else return e;const n=Mv(e,t.target.x),r=Mv(e,t.target.y);return`${n}% ${r}%`}},zP={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=vo.parse(e);if(i.length>5)return r;const s=vo.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const d=en(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};class qP extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;aA(UP),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Xd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Kt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),A0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function I3(e){const[t,n]=gw(),r=T.useContext(v0);return c.jsx(qP,{...e,layoutGroup:r,switchLayoutGroup:T.useContext(Nw),isPresent:t,safeToRemove:n})}const UP={borderRadius:{...dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dc,borderTopRightRadius:dc,borderBottomLeftRadius:dc,borderBottomRightRadius:dc,boxShadow:zP};function VP(e,t,n){const r=nr(e)?e:su(e);return r.start(J0("",r,t,n)),r.animation}function $P(e){return e instanceof SVGElement&&e.tagName!=="svg"}const HP=(e,t)=>e.depth-t.depth;class WP{constructor(){this.children=[],this.isDirty=!1}add(t){B0(this.children,t),this.isDirty=!0}remove(t){z0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(HP),this.isDirty=!1,this.children.forEach(t)}}function GP(e,t){const n=Qi.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(go(r),e(s-t))};return Kt.read(r,!0),()=>go(r)}const R3=["TopLeft","TopRight","BottomLeft","BottomRight"],KP=R3.length,Ov=e=>typeof e=="string"?parseFloat(e):e,Bv=e=>typeof e=="number"||st.test(e);function YP(e,t,n,r,i,s){i?(e.opacity=en(0,n.opacity!==void 0?n.opacity:1,JP(r)),e.opacityExit=en(t.opacity!==void 0?t.opacity:1,0,XP(r))):s&&(e.opacity=en(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<KP;o++){const a=`border${R3[o]}Radius`;let l=zv(t,a),d=zv(n,a);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||Bv(l)===Bv(d)?(e[a]=Math.max(en(Ov(l),Ov(d),r),0),(Xi.test(d)||Xi.test(l))&&(e[a]+="%")):e[a]=d}(t.rotate||n.rotate)&&(e.rotate=en(t.rotate||0,n.rotate||0,r))}function zv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const JP=D3(0,.5,e3),XP=D3(.5,.95,Hr);function D3(e,t,n){return r=>r<e?0:r>t?1:n(ml(e,t,r))}function qv(e,t){e.min=t.min,e.max=t.max}function di(e,t){qv(e.x,t.x),qv(e.y,t.y)}function Uv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Vv(e,t,n,r,i){return e-=t,e=Rh(e,1/n,r),i!==void 0&&(e=Rh(e,1/i,r)),e}function QP(e,t=0,n=1,r=.5,i,s=e,o=e){if(Xi.test(t)&&(t=parseFloat(t),t=en(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=en(s.min,s.max,r);e===s&&(a-=t),e.min=Vv(e.min,t,n,a,i),e.max=Vv(e.max,t,n,a,i)}function $v(e,t,[n,r,i],s,o){QP(e,t[n],t[r],t[i],t.scale,s,o)}const ZP=["x","scaleX","originX"],e8=["y","scaleY","originY"];function Hv(e,t,n,r){$v(e.x,t,ZP,n?n.x:void 0,r?r.x:void 0),$v(e.y,t,e8,n?n.y:void 0,r?r.y:void 0)}function Wv(e){return e.translate===0&&e.scale===1}function M3(e){return Wv(e.x)&&Wv(e.y)}function Gv(e,t){return e.min===t.min&&e.max===t.max}function t8(e,t){return Gv(e.x,t.x)&&Gv(e.y,t.y)}function Kv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function O3(e,t){return Kv(e.x,t.x)&&Kv(e.y,t.y)}function Yv(e){return Gr(e.x)/Gr(e.y)}function Jv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class n8{constructor(){this.members=[]}add(t){B0(this.members,t),t.scheduleRender()}remove(t){if(z0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function r8(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:g,skewX:m,skewY:S}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),m&&(r+=`skewX(${m}deg) `),S&&(r+=`skewY(${S}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const zo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},jc=typeof window<"u"&&window.MotionDebug!==void 0,Fp=["","X","Y","Z"],i8={visibility:"hidden"},Xv=1e3;let s8=0;function Ip(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function B3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Gw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Kt,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&B3(r)}function z3({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=s8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,jc&&(zo.totalNodes=zo.resolvedTargetDeltas=zo.recalculatedProjection=0),this.nodes.forEach(l8),this.nodes.forEach(f8),this.nodes.forEach(p8),this.nodes.forEach(c8),jc&&window.MotionDebug.record(zo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new WP)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new q0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$P(o),this.instance=o;const{layoutId:l,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(d||l)&&(this.isLayoutDirty=!0),e){let p;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=GP(g,250),Xd.hasAnimatedSinceResize&&(Xd.hasAnimatedSinceResize=!1,this.nodes.forEach(Zv))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:m,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||x8,{onLayoutAnimationStart:A,onLayoutAnimationComplete:x}=f.getProps(),w=!this.targetLayout||!O3(this.targetLayout,S)||m,N=!g&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||g&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,N);const R={...R0(b,"layout"),onPlay:A,onComplete:x};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else g||Zv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,go(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(m8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&B3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qv);return}this.isUpdating||this.nodes.forEach(d8),this.isUpdating=!1,this.nodes.forEach(h8),this.nodes.forEach(o8),this.nodes.forEach(a8),this.clearAllSnapshots();const a=Qi.now();Un.delta=ks(0,1e3/60,a-Un.timestamp),Un.timestamp=a,Un.isProcessing=!0,Np.update.process(Un),Np.preRender.process(Un),Np.render.process(Un),Un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,A0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(u8),this.sharedNodes.forEach(g8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!M3(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&(a||Bo(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),w8(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return gn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(b8))){const{scroll:f}=this.root;f&&(Ka(l.x,f.offset.x),Ka(l.y,f.offset.y))}return l}removeElementScroll(o){var a;const l=gn();if(di(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&di(l,o),Ka(l.x,p.offset.x),Ka(l.y,p.offset.y))}return l}applyTransform(o,a=!1){const l=gn();di(l,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ya(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Bo(f.latestValues)&&Ya(l,f.latestValues)}return Bo(this.latestValues)&&Ya(l,this.latestValues),l}removeTransform(o){const a=gn();di(a,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!Bo(d.latestValues))continue;e1(d.latestValues)&&d.updateSnapshot();const f=gn(),p=d.measurePageBox();di(f,p),Hv(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Bo(this.latestValues)&&Hv(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Un.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gn(),this.relativeTargetOrigin=gn(),Dc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),di(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=gn(),this.targetWithTransforms=gn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):di(this.target,this.layout.layoutBox),E3(this.target,this.targetDelta)):di(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gn(),this.relativeTargetOrigin=gn(),Dc(this.relativeTargetOrigin,this.target,m.target),di(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}jc&&zo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||e1(this.parent.latestValues)||_3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Un.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;di(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,m=this.treeScale.y;FP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=gn());const{target:S}=a;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Uv(this.prevProjectionDelta.x,this.projectionDelta.x),Uv(this.prevProjectionDelta.y,this.projectionDelta.y)),Rc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==m||!Jv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),jc&&zo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ga(),this.projectionDelta=Ga(),this.projectionDeltaWithTransform=Ga()}setAnimationOrigin(o,a=!1){const l=this.snapshot,d=l?l.latestValues:{},f={...this.latestValues},p=Ga();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=gn(),m=l?l.source:void 0,S=this.layout?this.layout.source:void 0,b=m!==S,A=this.getStack(),x=!A||A.members.length<=1,w=!!(b&&!x&&this.options.crossfade===!0&&!this.path.some(y8));this.animationProgress=0;let N;this.mixTargetDelta=R=>{const q=R/1e3;e5(p.x,o.x,q),e5(p.y,o.y,q),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dc(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v8(this.relativeTarget,this.relativeTargetOrigin,g,q),N&&t8(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=gn()),di(N,this.relativeTarget)),b&&(this.animationValues=f,YP(f,d,this.latestValues,q,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(go(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kt.update(()=>{Xd.hasAnimatedSinceResize=!0,this.currentAnimation=VP(0,Xv,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:d,latestValues:f}=o;if(!(!a||!l||!d)){if(this!==o&&this.layout&&d&&q3(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||gn();const p=Gr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const g=Gr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}di(a,l),Ya(a,f),Rc(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new n8),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const d={};l.z&&Ip("z",o,d,this.animationValues);for(let f=0;f<Fp.length;f++)Ip(`rotate${Fp[f]}`,o,d,this.animationValues),Ip(`skew${Fp[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return i8;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Yd(o==null?void 0:o.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Yd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Bo(this.latestValues)&&(b.transform=f?f({},""):"none",this.hasProjected=!1),b}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=r8(this.projectionDeltaWithTransform,this.treeScale,g),f&&(d.transform=f(g,d.transform));const{x:m,y:S}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${S.origin*100}% 0`,p.animationValues?d.opacity=p===this?(l=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in _h){if(g[b]===void 0)continue;const{correct:A,applyTo:x}=_h[b],w=d.transform==="none"?g[b]:A(g[b],p);if(x){const N=x.length;for(let R=0;R<N;R++)d[x[R]]=w}else d[b]=w}return this.options.layoutId&&(d.pointerEvents=p===this?Yd(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Qv),this.root.sharedNodes.clear()}}}function o8(e){e.updateLayout()}function a8(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?hi(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],m=Gr(g);g.min=r[p].min,g.max=g.min+m}):q3(s,n.layoutBox,r)&&hi(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],m=Gr(r[p]);g.max=g.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+m)});const a=Ga();Rc(a,r,n.layoutBox);const l=Ga();o?Rc(l,e.applyTransform(i,!0),n.measuredBox):Rc(l,r,n.layoutBox);const d=!M3(a);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:m}=p;if(g&&m){const S=gn();Dc(S,n.layoutBox,g.layoutBox);const b=gn();Dc(b,r,m.layoutBox),O3(S,b)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=S,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function l8(e){jc&&zo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function c8(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function u8(e){e.clearSnapshot()}function Qv(e){e.clearMeasurements()}function d8(e){e.isLayoutDirty=!1}function h8(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Zv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function f8(e){e.resolveTargetDelta()}function p8(e){e.calcProjection()}function m8(e){e.resetSkewAndRotation()}function g8(e){e.removeLeadSnapshot()}function e5(e,t,n){e.translate=en(t.translate,0,n),e.scale=en(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function t5(e,t,n,r){e.min=en(t.min,n.min,r),e.max=en(t.max,n.max,r)}function v8(e,t,n,r){t5(e.x,t.x,n.x,r),t5(e.y,t.y,n.y,r)}function y8(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const x8={duration:.45,ease:[.4,0,.1,1]},n5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),r5=n5("applewebkit/")&&!n5("chrome/")?Math.round:Hr;function i5(e){e.min=r5(e.min),e.max=r5(e.max)}function w8(e){i5(e.x),i5(e.y)}function q3(e,t,n){return e==="position"||e==="preserve-aspect"&&!jP(Yv(t),Yv(n),.2)}function b8(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const S8=z3({attachResizeListener:(e,t)=>au(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rp={current:void 0},U3=z3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Rp.current){const e=new S8({});e.mount(window),e.setOptions({layoutScroll:!0}),Rp.current=e}return Rp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),j8={pan:{Feature:BP},drag:{Feature:OP,ProjectionNode:U3,MeasureLayout:I3}};function s5(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Kt.postRender(()=>s(t,wu(t)))}class N8 extends No{mount(){const{current:t}=this.node;t&&(this.unmount=jA(t,n=>(s5(this.node,n,"Start"),r=>s5(this.node,r,"End"))))}unmount(){}}class A8 extends No{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xu(au(this.node.current,"focus",()=>this.onFocus()),au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function o5(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Kt.postRender(()=>s(t,wu(t)))}class C8 extends No{mount(){const{current:t}=this.node;t&&(this.unmount=PA(t,n=>(o5(this.node,n,"Start"),(r,{success:i})=>o5(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const n1=new WeakMap,Dp=new WeakMap,P8=e=>{const t=n1.get(e.target);t&&t(e)},L8=e=>{e.forEach(P8)};function k8({root:e,...t}){const n=e||document;Dp.has(n)||Dp.set(n,{});const r=Dp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(L8,{root:e,...t})),r[i]}function _8(e,t,n){const r=k8(t);return n1.set(e,n),r.observe(e),()=>{n1.delete(e),r.unobserve(e)}}const E8={some:0,all:1};class T8 extends No{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:E8[i]},a=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=d?f:p;g&&g(l)};return _8(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(F8(t,n))&&this.startObserver()}unmount(){}}function F8({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const I8={inView:{Feature:T8},tap:{Feature:C8},focus:{Feature:A8},hover:{Feature:N8}},R8={layout:{ProjectionNode:U3,MeasureLayout:I3}},r1={current:null},V3={current:!1};function D8(){if(V3.current=!0,!!w0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>r1.current=e.matches;e.addListener(t),t()}else r1.current=!1}const M8=[...p3,Zn,vo],O8=e=>M8.find(f3(e)),a5=new WeakMap;function B8(e,t,n){for(const r in t){const i=t[r],s=n[r];if(nr(i))e.addValue(r,i);else if(nr(s))e.addValue(r,su(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,su(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const l5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class z8{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=G0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Qi.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Kt.render(this.render,!1,!0))};const{latestValues:l,renderState:d,onUpdate:f}=o;this.onUpdate=f,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=af(n),this.isVariantNode=Sw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in g){const S=g[m];l[m]!==void 0&&nr(S)&&S.set(l[m],!1)}}mount(t){this.current=t,a5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),V3.current||D8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:r1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){a5.delete(this.current),this.projection&&this.projection.unmount(),go(this.notifyUpdate),go(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ia.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Kt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in gl){const n=gl[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<l5.length;r++){const i=l5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=B8(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=su(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(d3(i)||n3(i))?i=parseFloat(i):!O8(i)&&vo.test(n)&&(i=l3(t,n)),this.setBaseTarget(t,nr(i)?i.get():i)),nr(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=P0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!nr(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new q0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class $3 extends z8{constructor(){super(...arguments),this.KeyframeResolver=m3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;nr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function q8(e){return window.getComputedStyle(e)}class U8 extends $3{constructor(){super(...arguments),this.type="html",this.renderInstance=Ew}readValueFromInstance(t,n){if(ia.has(n)){const r=W0(n);return r&&r.default||0}else{const r=q8(t),i=(Lw(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return T3(t,n)}build(t,n,r){_0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return I0(t,n,r)}}class V8 extends $3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ia.has(n)){const r=W0(n);return r&&r.default||0}return n=Tw.has(n)?n:N0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Rw(t,n,r)}build(t,n,r){E0(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){Fw(t,n,r,i)}mount(t){this.isSVGTag=F0(t.tagName),super.mount(t)}}const $8=(e,t)=>C0(e)?new V8(t):new U8(t,{allowProjection:e!==T.Fragment}),H8=gA({...pP,...I8,...j8,...R8},$8),Fe=E6(H8);function Ft(e){"@babel/helpers - typeof";return Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(e)}var tr=Uint8Array,Vr=Uint16Array,X0=Int32Array,uf=new tr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),df=new tr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),i1=new tr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),H3=function(e,t){for(var n=new Vr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new X0(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},W3=H3(uf,2),G3=W3.b,s1=W3.r;G3[28]=258,s1[258]=28;var K3=H3(df,0),W8=K3.b,c5=K3.r,o1=new Vr(32768);for(var Wt=0;Wt<32768;++Wt){var Ys=(Wt&43690)>>1|(Wt&21845)<<1;Ys=(Ys&52428)>>2|(Ys&13107)<<2,Ys=(Ys&61680)>>4|(Ys&3855)<<4,o1[Wt]=((Ys&65280)>>8|(Ys&255)<<8)>>1}var Zi=function(e,t,n){for(var r=e.length,i=0,s=new Vr(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Vr(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Vr(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],f=t-e[i],p=o[e[i]-1]++<<f,g=p|(1<<f)-1;p<=g;++p)a[o1[p]>>l]=d}else for(a=new Vr(r),i=0;i<r;++i)e[i]&&(a[i]=o1[o[e[i]-1]++]>>15-e[i]);return a},yo=new tr(288);for(var Wt=0;Wt<144;++Wt)yo[Wt]=8;for(var Wt=144;Wt<256;++Wt)yo[Wt]=9;for(var Wt=256;Wt<280;++Wt)yo[Wt]=7;for(var Wt=280;Wt<288;++Wt)yo[Wt]=8;var lu=new tr(32);for(var Wt=0;Wt<32;++Wt)lu[Wt]=5;var G8=Zi(yo,9,0),K8=Zi(yo,9,1),Y8=Zi(lu,5,0),J8=Zi(lu,5,1),Mp=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ni=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Op=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Q0=function(e){return(e+7)/8|0},Y3=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new tr(e.subarray(t,n))},X8=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Li=function(e,t,n){var r=new Error(t||X8[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Li),!n)throw r;return r},Q8=function(e,t,n,r){var i=e.length,s=r?r.length:0;if(!i||t.f&&!t.l)return n||new tr(0);var o=!n,a=o||t.i!=2,l=t.i;o&&(n=new tr(i*3));var d=function(je){var Ee=n.length;if(je>Ee){var ke=new tr(Math.max(Ee*2,je));ke.set(n),n=ke}},f=t.f||0,p=t.p||0,g=t.b||0,m=t.l,S=t.d,b=t.m,A=t.n,x=i*8;do{if(!m){f=Ni(e,p,1);var w=Ni(e,p+1,3);if(p+=3,w)if(w==1)m=K8,S=J8,b=9,A=5;else if(w==2){var V=Ni(e,p,31)+257,I=Ni(e,p+10,15)+4,F=V+Ni(e,p+5,31)+1;p+=14;for(var Y=new tr(F),X=new tr(19),E=0;E<I;++E)X[i1[E]]=Ni(e,p+E*3,7);p+=I*3;for(var O=Mp(X),Q=(1<<O)-1,H=Zi(X,O,1),E=0;E<F;){var de=H[Ni(e,p,Q)];p+=de&15;var N=de>>4;if(N<16)Y[E++]=N;else{var ae=0,le=0;for(N==16?(le=3+Ni(e,p,3),p+=2,ae=Y[E-1]):N==17?(le=3+Ni(e,p,7),p+=3):N==18&&(le=11+Ni(e,p,127),p+=7);le--;)Y[E++]=ae}}var W=Y.subarray(0,V),ie=Y.subarray(V);b=Mp(W),A=Mp(ie),m=Zi(W,b,1),S=Zi(ie,A,1)}else Li(1);else{var N=Q0(p)+4,R=e[N-4]|e[N-3]<<8,q=N+R;if(q>i){l&&Li(0);break}a&&d(g+R),n.set(e.subarray(N,q),g),t.b=g+=R,t.p=p=q*8,t.f=f;continue}if(p>x){l&&Li(0);break}}a&&d(g+131072);for(var J=(1<<b)-1,me=(1<<A)-1,C=p;;C=p){var ae=m[Op(e,p)&J],B=ae>>4;if(p+=ae&15,p>x){l&&Li(0);break}if(ae||Li(2),B<256)n[g++]=B;else if(B==256){C=p,m=null;break}else{var z=B-254;if(B>264){var E=B-257,K=uf[E];z=Ni(e,p,(1<<K)-1)+G3[E],p+=K}var Z=S[Op(e,p)&me],oe=Z>>4;Z||Li(3),p+=Z&15;var ie=W8[oe];if(oe>3){var K=df[oe];ie+=Op(e,p)&(1<<K)-1,p+=K}if(p>x){l&&Li(0);break}a&&d(g+131072);var he=g+z;if(g<ie){var ue=s-ie,xe=Math.min(ie,he);for(ue+g<0&&Li(3);g<xe;++g)n[g]=r[ue+g]}for(;g<he;++g)n[g]=n[g-ie]}}t.l=m,t.p=C,t.b=g,t.f=f,m&&(f=1,t.m=b,t.d=S,t.n=A)}while(!f);return g!=n.length&&o?Y3(n,0,g):n.subarray(0,g)},ms=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},hc=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Bp=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:X3,l:0};if(i==1){var o=new tr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(q,V){return q.f-V.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],d=0,f=1,p=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=i-1;)a=n[n[d].f<n[p].f?d++:p++],l=n[d!=f&&n[d].f<n[p].f?d++:p++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new Vr(g+1),S=a1(n[f-1],m,0);if(S>t){var r=0,b=0,A=S-t,x=1<<A;for(s.sort(function(V,I){return m[I.s]-m[V.s]||V.f-I.f});r<i;++r){var w=s[r].s;if(m[w]>t)b+=x-(1<<S-m[w]),m[w]=t;else break}for(b>>=A;b>0;){var N=s[r].s;m[N]<t?b-=1<<t-m[N]++-1:++r}for(;r>=0&&b;--r){var R=s[r].s;m[R]==t&&(--m[R],++b)}S=t}return{t:new tr(m),l:S}},a1=function(e,t,n){return e.s==-1?Math.max(a1(e.l,t,n+1),a1(e.r,t,n+1)):t[e.s]=n},u5=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Vr(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},fc=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},J3=function(e,t,n){var r=n.length,i=Q0(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},d5=function(e,t,n,r,i,s,o,a,l,d,f){ms(t,f++,n),++i[256];for(var p=Bp(i,15),g=p.t,m=p.l,S=Bp(s,15),b=S.t,A=S.l,x=u5(g),w=x.c,N=x.n,R=u5(b),q=R.c,V=R.n,I=new Vr(19),F=0;F<w.length;++F)++I[w[F]&31];for(var F=0;F<q.length;++F)++I[q[F]&31];for(var Y=Bp(I,7),X=Y.t,E=Y.l,O=19;O>4&&!X[i1[O-1]];--O);var Q=d+5<<3,H=fc(i,yo)+fc(s,lu)+o,de=fc(i,g)+fc(s,b)+o+14+3*O+fc(I,X)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&Q<=H&&Q<=de)return J3(t,f,e.subarray(l,l+d));var ae,le,W,ie;if(ms(t,f,1+(de<H)),f+=2,de<H){ae=Zi(g,m,0),le=g,W=Zi(b,A,0),ie=b;var J=Zi(X,E,0);ms(t,f,N-257),ms(t,f+5,V-1),ms(t,f+10,O-4),f+=14;for(var F=0;F<O;++F)ms(t,f+3*F,X[i1[F]]);f+=3*O;for(var me=[w,q],C=0;C<2;++C)for(var B=me[C],F=0;F<B.length;++F){var z=B[F]&31;ms(t,f,J[z]),f+=X[z],z>15&&(ms(t,f,B[F]>>5&127),f+=B[F]>>12)}}else ae=G8,le=yo,W=Y8,ie=lu;for(var F=0;F<a;++F){var K=r[F];if(K>255){var z=K>>18&31;hc(t,f,ae[z+257]),f+=le[z+257],z>7&&(ms(t,f,K>>23&31),f+=uf[z]);var Z=K&31;hc(t,f,W[Z]),f+=ie[Z],Z>3&&(hc(t,f,K>>5&8191),f+=df[Z])}else hc(t,f,ae[K]),f+=le[K]}return hc(t,f,ae[256]),f+le[256]},Z8=new X0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),X3=new tr(0),eL=function(e,t,n,r,i,s){var o=s.z||e.length,a=new tr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),d=s.l,f=(s.r||0)&7;if(t){f&&(l[0]=s.r>>3);for(var p=Z8[t-1],g=p>>13,m=p&8191,S=(1<<n)-1,b=s.p||new Vr(32768),A=s.h||new Vr(S+1),x=Math.ceil(n/3),w=2*x,N=function(Xe){return(e[Xe]^e[Xe+1]<<x^e[Xe+2]<<w)&S},R=new X0(25e3),q=new Vr(288),V=new Vr(32),I=0,F=0,Y=s.i||0,X=0,E=s.w||0,O=0;Y+2<o;++Y){var Q=N(Y),H=Y&32767,de=A[Q];if(b[H]=de,A[Q]=H,E<=Y){var ae=o-Y;if((I>7e3||X>24576)&&(ae>423||!d)){f=d5(e,l,0,R,q,V,F,X,O,Y-O,f),X=I=F=0,O=Y;for(var le=0;le<286;++le)q[le]=0;for(var le=0;le<30;++le)V[le]=0}var W=2,ie=0,J=m,me=H-de&32767;if(ae>2&&Q==N(Y-me))for(var C=Math.min(g,ae)-1,B=Math.min(32767,Y),z=Math.min(258,ae);me<=B&&--J&&H!=de;){if(e[Y+W]==e[Y+W-me]){for(var K=0;K<z&&e[Y+K]==e[Y+K-me];++K);if(K>W){if(W=K,ie=me,K>C)break;for(var Z=Math.min(me,K-2),oe=0,le=0;le<Z;++le){var he=Y-me+le&32767,ue=b[he],xe=he-ue&32767;xe>oe&&(oe=xe,de=he)}}}H=de,de=b[H],me+=H-de&32767}if(ie){R[X++]=268435456|s1[W]<<18|c5[ie];var je=s1[W]&31,Ee=c5[ie]&31;F+=uf[je]+df[Ee],++q[257+je],++V[Ee],E=Y+W,++I}else R[X++]=e[Y],++q[e[Y]]}}for(Y=Math.max(Y,E);Y<o;++Y)R[X++]=e[Y],++q[e[Y]];f=d5(e,l,d,R,q,V,F,X,O,Y-O,f),d||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=A,s.p=b,s.i=Y,s.w=E)}else{for(var Y=s.w||0;Y<o+d;Y+=65535){var ke=Y+65535;ke>=o&&(l[f/8|0]=d,ke=o),f=J3(l,f+1,e.subarray(Y,ke))}s.i=o}return Y3(a,0,r+Q0(f)+i)},Q3=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},tL=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new tr(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return eL(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},Z3=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},nL=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Q3();i.p(t.dictionary),Z3(e,2,i.d())}},rL=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Li(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Li(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function l1(e,t){t||(t={});var n=Q3();n.p(e);var r=tL(e,t,t.dictionary?6:2,4);return nL(r,t),Z3(r,r.length-4,n.d()),r}function iL(e,t){return Q8(e.subarray(rL(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var sL=typeof TextDecoder<"u"&&new TextDecoder,oL=0;try{sL.decode(X3,{stream:!0}),oL=1}catch{}var at=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function zp(){at.console&&typeof at.console.log=="function"&&at.console.log.apply(at.console,arguments)}var Bt={log:zp,warn:function(e){at.console&&(typeof at.console.warn=="function"?at.console.warn.apply(at.console,arguments):zp.call(null,arguments))},error:function(e){at.console&&(typeof at.console.error=="function"?at.console.error.apply(at.console,arguments):zp(e))}};function qp(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){qo(r.response,t,n)},r.onerror=function(){Bt.error("could not download file")},r.send()}function h5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Pd(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Mc,c1,qo=at.saveAs||((typeof window>"u"?"undefined":Ft(window))!=="object"||window!==at?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=at.URL||at.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?h5(i.href)?qp(e,t,n):Pd(i,i.target="_blank"):Pd(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Pd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(h5(e))qp(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Pd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Ft(s)!=="object"&&(Bt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return qp(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(at.HTMLElement)||at.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Ft(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(e)}else{var l=at.URL||at.webkitURL,d=l.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){l.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function e4(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),d=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),"#"+a+l+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Up(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=Yn(n,r,i,s,t[0],7,-680876936),s=Yn(s,n,r,i,t[1],12,-389564586),i=Yn(i,s,n,r,t[2],17,606105819),r=Yn(r,i,s,n,t[3],22,-1044525330),n=Yn(n,r,i,s,t[4],7,-176418897),s=Yn(s,n,r,i,t[5],12,1200080426),i=Yn(i,s,n,r,t[6],17,-1473231341),r=Yn(r,i,s,n,t[7],22,-45705983),n=Yn(n,r,i,s,t[8],7,1770035416),s=Yn(s,n,r,i,t[9],12,-1958414417),i=Yn(i,s,n,r,t[10],17,-42063),r=Yn(r,i,s,n,t[11],22,-1990404162),n=Yn(n,r,i,s,t[12],7,1804603682),s=Yn(s,n,r,i,t[13],12,-40341101),i=Yn(i,s,n,r,t[14],17,-1502002290),n=Jn(n,r=Yn(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Jn(s,n,r,i,t[6],9,-1069501632),i=Jn(i,s,n,r,t[11],14,643717713),r=Jn(r,i,s,n,t[0],20,-373897302),n=Jn(n,r,i,s,t[5],5,-701558691),s=Jn(s,n,r,i,t[10],9,38016083),i=Jn(i,s,n,r,t[15],14,-660478335),r=Jn(r,i,s,n,t[4],20,-405537848),n=Jn(n,r,i,s,t[9],5,568446438),s=Jn(s,n,r,i,t[14],9,-1019803690),i=Jn(i,s,n,r,t[3],14,-187363961),r=Jn(r,i,s,n,t[8],20,1163531501),n=Jn(n,r,i,s,t[13],5,-1444681467),s=Jn(s,n,r,i,t[2],9,-51403784),i=Jn(i,s,n,r,t[7],14,1735328473),n=Xn(n,r=Jn(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Xn(s,n,r,i,t[8],11,-2022574463),i=Xn(i,s,n,r,t[11],16,1839030562),r=Xn(r,i,s,n,t[14],23,-35309556),n=Xn(n,r,i,s,t[1],4,-1530992060),s=Xn(s,n,r,i,t[4],11,1272893353),i=Xn(i,s,n,r,t[7],16,-155497632),r=Xn(r,i,s,n,t[10],23,-1094730640),n=Xn(n,r,i,s,t[13],4,681279174),s=Xn(s,n,r,i,t[0],11,-358537222),i=Xn(i,s,n,r,t[3],16,-722521979),r=Xn(r,i,s,n,t[6],23,76029189),n=Xn(n,r,i,s,t[9],4,-640364487),s=Xn(s,n,r,i,t[12],11,-421815835),i=Xn(i,s,n,r,t[15],16,530742520),n=Qn(n,r=Xn(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Qn(s,n,r,i,t[7],10,1126891415),i=Qn(i,s,n,r,t[14],15,-1416354905),r=Qn(r,i,s,n,t[5],21,-57434055),n=Qn(n,r,i,s,t[12],6,1700485571),s=Qn(s,n,r,i,t[3],10,-1894986606),i=Qn(i,s,n,r,t[10],15,-1051523),r=Qn(r,i,s,n,t[1],21,-2054922799),n=Qn(n,r,i,s,t[8],6,1873313359),s=Qn(s,n,r,i,t[15],10,-30611744),i=Qn(i,s,n,r,t[6],15,-1560198380),r=Qn(r,i,s,n,t[13],21,1309151649),n=Qn(n,r,i,s,t[4],6,-145523070),s=Qn(s,n,r,i,t[11],10,-1120210379),i=Qn(i,s,n,r,t[2],15,718787259),r=Qn(r,i,s,n,t[9],21,-343485551),e[0]=io(n,e[0]),e[1]=io(r,e[1]),e[2]=io(i,e[2]),e[3]=io(s,e[3])}function hf(e,t,n,r,i,s){return t=io(io(t,e),io(r,s)),io(t<<i|t>>>32-i,n)}function Yn(e,t,n,r,i,s,o){return hf(t&n|~t&r,e,t,i,s,o)}function Jn(e,t,n,r,i,s,o){return hf(t&r|n&~r,e,t,i,s,o)}function Xn(e,t,n,r,i,s,o){return hf(t^n^r,e,t,i,s,o)}function Qn(e,t,n,r,i,s,o){return hf(n^(t|~r),e,t,i,s,o)}function t4(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Up(r,aL(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Up(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Up(r,i),r}function aL(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Mc=at.atob.bind(at),c1=at.btoa.bind(at);var f5="0123456789abcdef".split("");function lL(e){for(var t="",n=0;n<4;n++)t+=f5[e>>8*n+4&15]+f5[e>>8*n&15];return t}function cL(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function u1(e){return t4(e).map(cL).join("")}var uL=function(e){for(var t=0;t<e.length;t++)e[t]=lL(e[t]);return e.join("")}(t4("hello"))!="5d41402abc4b2a76b9719d911017c592";function io(e,t){if(uL){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function d1(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var d=0;for(l=0;l<256;l++){var f=a[l];d=(d+f+o.charCodeAt(l))%256,a[l]=a[d],a[d]=f}n=e,r=a}else a=r;var p=t.length,g=0,m=0,S="";for(l=0;l<p;l++)m=(m+(f=a[g=(g+1)%256]))%256,a[g]=a[m],a[m]=f,o=a[(a[g]+a[m])%256],S+=String.fromCharCode(t.charCodeAt(l)^o);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var p5={print:4,modify:8,copy:16,"annot-forms":32};function Ea(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(p5.perm!==void 0)throw new Error("Invalid permission: "+a);i+=p5[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=u1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=d1(this.encryptionKey,this.padding)}function Ta(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function m5(e){if(Ft(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(a){at.console&&Bt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Dh(e){if(!(this instanceof Dh))return new Dh(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function n4(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Uo(e,t,n,r,i){if(!(this instanceof Uo))return new Uo(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,n4.call(this,r,i)}function Ja(e,t,n,r,i){if(!(this instanceof Ja))return new Ja(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,n4.call(this,r,i)}function nt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,d="S",f=null;Ft(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=m5;var S="1.3",b=m.__private__.getPdfVersion=function(){return S};m.__private__.setPdfVersion=function(v){S=v};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return A};var x=m.__private__.getPageFormat=function(v){return A[v]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},N=w.COMPAT;function R(){this.saveGraphicsState(),G(new et(ze,0,0,-ze,0,Ds()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),d="n",N=w.ADVANCED}function q(){this.restoreGraphicsState(),d="S",N=w.COMPAT}var V=m.__private__.combineFontStyleAndFontWeight=function(v,L){if(v=="bold"&&L=="normal"||v=="bold"&&L==400||v=="normal"&&L=="italic"||v=="bold"&&L=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return L&&(v=L==400||L==="normal"?v==="italic"?"italic":"normal":L!=700&&L!=="bold"||v!=="normal"?(L==700?"bold":L)+""+v:"bold"),v};m.advancedAPI=function(v){var L=N===w.COMPAT;return L&&R.call(this),typeof v!="function"||(v(this),L&&q.call(this)),this},m.compatAPI=function(v){var L=N===w.ADVANCED;return L&&q.call(this),typeof v!="function"||(v(this),L&&R.call(this)),this},m.isAdvancedAPI=function(){return N===w.ADVANCED};var I,F=function(v){if(N!==w.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=m.roundToPrecision=m.__private__.roundToPrecision=function(v,L){var $=t||L;if(isNaN(v)||isNaN($))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed($).replace(/0+$/,"")};I=m.hpf=m.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(v,16)};var X=m.f2=m.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return Y(v,2)},E=m.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return Y(v,3)},O=m.scale=m.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return N===w.COMPAT?v*ze:N===w.ADVANCED?v:void 0},Q=function(v){return N===w.COMPAT?Ds()-v:N===w.ADVANCED?v:void 0},H=function(v){return O(Q(v))};m.__private__.setPrecision=m.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var de,ae="00000000000000000000000000000000",le=m.__private__.getFileId=function(){return ae},W=m.__private__.setFileId=function(v){return ae=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Hn=new Ea(f.userPermissions,f.userPassword,f.ownerPassword,ae)),ae};m.setFileId=function(v){return W(v),this},m.getFileId=function(){return le()};var ie=m.__private__.convertDateToPDFDate=function(v){var L=v.getTimezoneOffset(),$=L<0?"+":"-",ee=Math.floor(Math.abs(L/60)),ce=Math.abs(L%60),ye=[$,z(ee),"'",z(ce),"'"].join("");return["D:",v.getFullYear(),z(v.getMonth()+1),z(v.getDate()),z(v.getHours()),z(v.getMinutes()),z(v.getSeconds()),ye].join("")},J=m.__private__.convertPDFDateToDate=function(v){var L=parseInt(v.substr(2,4),10),$=parseInt(v.substr(6,2),10)-1,ee=parseInt(v.substr(8,2),10),ce=parseInt(v.substr(10,2),10),ye=parseInt(v.substr(12,2),10),Ce=parseInt(v.substr(14,2),10);return new Date(L,$,ee,ce,ye,Ce,0)},me=m.__private__.setCreationDate=function(v){var L;if(v===void 0&&(v=new Date),v instanceof Date)L=ie(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");L=v}return de=L},C=m.__private__.getCreationDate=function(v){var L=de;return v==="jsDate"&&(L=J(de)),L};m.setCreationDate=function(v){return me(v),this},m.getCreationDate=function(v){return C(v)};var B,z=m.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},K=m.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},Z=0,oe=[],he=[],ue=0,xe=[],je=[],Ee=!1,ke=he,Xe=function(){Z=0,ue=0,he=[],oe=[],xe=[],ei=sn(),gr=sn()};m.__private__.setCustomOutputDestination=function(v){Ee=!0,ke=v};var ve=function(v){Ee||(ke=v)};m.__private__.resetCustomOutputDestination=function(){Ee=!1,ke=he};var G=m.__private__.out=function(v){return v=v.toString(),ue+=v.length+1,ke.push(v),ke},lt=m.__private__.write=function(v){return G(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},He=m.__private__.getArrayBuffer=function(v){for(var L=v.length,$=new ArrayBuffer(L),ee=new Uint8Array($);L--;)ee[L]=v.charCodeAt(L);return $},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Pe};var Te=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(v){return Te=N===w.ADVANCED?v/ze:v,this};var Me,Ie=m.__private__.getFontSize=m.getFontSize=function(){return N===w.COMPAT?Te:Te*ze},Ke=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(v){return Ke=v,this},m.__private__.getR2L=m.getR2L=function(){return Ke};var rt,Le=m.__private__.setZoomMode=function(v){var L=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Me=v;else if(isNaN(v)){if(L.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Me=v}else Me=parseInt(v,10)};m.__private__.getZoomMode=function(){return Me};var De,it=m.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');rt=v};m.__private__.getPageMode=function(){return rt};var Ct=m.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');De=v};m.__private__.getLayoutMode=function(){return De},m.__private__.setDisplayMode=m.setDisplayMode=function(v,L,$){return Le(v),Ct(L),it($),this};var ot={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(v){if(Object.keys(ot).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ot[v]},m.__private__.getDocumentProperties=function(){return ot},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(v){for(var L in ot)ot.hasOwnProperty(L)&&v[L]&&(ot[L]=v[L]);return this},m.__private__.setDocumentProperty=function(v,L){if(Object.keys(ot).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ot[v]=L};var Ze,ze,_n,wt,_r,_t={},zt={},pr=[],Pt={},ns={},Yt={},mr={},Jr=null,$t=0,ct=[],jt=new m5(m),rs=e.hotfixes||[],Cn={},Er={},Xr=[],et=function v(L,$,ee,ce,ye,Ce){if(!(this instanceof v))return new v(L,$,ee,ce,ye,Ce);isNaN(L)&&(L=1),isNaN($)&&($=0),isNaN(ee)&&(ee=0),isNaN(ce)&&(ce=1),isNaN(ye)&&(ye=0),isNaN(Ce)&&(Ce=0),this._matrix=[L,$,ee,ce,ye,Ce]};Object.defineProperty(et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(et.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(et.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(et.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(et.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(et.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(et.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),et.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(v)},et.prototype.multiply=function(v){var L=v.sx*this.sx+v.shy*this.shx,$=v.sx*this.shy+v.shy*this.sy,ee=v.shx*this.sx+v.sy*this.shx,ce=v.shx*this.shy+v.sy*this.sy,ye=v.tx*this.sx+v.ty*this.shx+this.tx,Ce=v.tx*this.shy+v.ty*this.sy+this.ty;return new et(L,$,ee,ce,ye,Ce)},et.prototype.decompose=function(){var v=this.sx,L=this.shy,$=this.shx,ee=this.sy,ce=this.tx,ye=this.ty,Ce=Math.sqrt(v*v+L*L),Ue=(v/=Ce)*$+(L/=Ce)*ee;$-=v*Ue,ee-=L*Ue;var Qe=Math.sqrt($*$+ee*ee);return Ue/=Qe,v*(ee/=Qe)<L*($/=Qe)&&(v=-v,L=-L,Ue=-Ue,Ce=-Ce),{scale:new et(Ce,0,0,Qe,0,0),translate:new et(1,0,0,1,ce,ye),rotate:new et(v,L,-L,v,0,0),skew:new et(1,0,Ue,1,0,0)}},et.prototype.toString=function(v){return this.join(" ")},et.prototype.inversed=function(){var v=this.sx,L=this.shy,$=this.shx,ee=this.sy,ce=this.tx,ye=this.ty,Ce=1/(v*ee-L*$),Ue=ee*Ce,Qe=-L*Ce,pt=-$*Ce,ht=v*Ce;return new et(Ue,Qe,pt,ht,-Ue*ce-pt*ye,-Qe*ce-ht*ye)},et.prototype.applyToPoint=function(v){var L=v.x*this.sx+v.y*this.shx+this.tx,$=v.x*this.shy+v.y*this.sy+this.ty;return new da(L,$)},et.prototype.applyToRectangle=function(v){var L=this.applyToPoint(v),$=this.applyToPoint(new da(v.x+v.w,v.y+v.h));return new Dl(L.x,L.y,$.x-L.x,$.y-L.y)},et.prototype.clone=function(){var v=this.sx,L=this.shy,$=this.shx,ee=this.sy,ce=this.tx,ye=this.ty;return new et(v,L,$,ee,ce,ye)},m.Matrix=et;var Tr=m.matrixMult=function(v,L){return L.multiply(v)},Qr=new et(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Qr;var En=function(v,L){if(!ns[v]){var $=(L instanceof Uo?"Sh":"P")+(Object.keys(Pt).length+1).toString(10);L.id=$,ns[v]=$,Pt[$]=L,jt.publish("addPattern",L)}};m.ShadingPattern=Uo,m.TilingPattern=Ja,m.addShadingPattern=function(v,L){return F("addShadingPattern()"),En(v,L),this},m.beginTilingPattern=function(v){F("beginTilingPattern()"),Fu(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},m.endTilingPattern=function(v,L){F("endTilingPattern()"),L.stream=je[B].join(`
`),En(v,L),jt.publish("endTilingPattern",L),Xr.pop().restore()};var dt=m.__private__.newObject=function(){var v=sn();return ir(v,!0),v},sn=m.__private__.newObjectDeferred=function(){return Z++,oe[Z]=function(){return ue},Z},ir=function(v,L){return L=typeof L=="boolean"&&L,oe[v]=ue,L&&G(v+" 0 obj"),v},Zr=m.__private__.newAdditionalObject=function(){var v={objId:sn(),content:""};return xe.push(v),v},ei=sn(),gr=sn(),ti=m.__private__.decodeColorString=function(v){var L=v.split(" ");if(L.length!==2||L[1]!=="g"&&L[1]!=="G")L.length===5&&(L[4]==="k"||L[4]==="K")&&(L=[(1-L[0])*(1-L[3]),(1-L[1])*(1-L[3]),(1-L[2])*(1-L[3]),"r"]);else{var $=parseFloat(L[0]);L=[$,$,$,"r"]}for(var ee="#",ce=0;ce<3;ce++)ee+=("0"+Math.floor(255*parseFloat(L[ce])).toString(16)).slice(-2);return ee},Fr=m.__private__.encodeColorString=function(v){var L;typeof v=="string"&&(v={ch1:v});var $=v.ch1,ee=v.ch2,ce=v.ch3,ye=v.ch4,Ce=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $=="string"&&$.charAt(0)!=="#"){var Ue=new e4($);if(Ue.ok)$=Ue.toHex();else if(!/^\d*\.?\d*$/.test($))throw new Error('Invalid color "'+$+'" passed to jsPDF.encodeColorString.')}if(typeof $=="string"&&/^#[0-9A-Fa-f]{3}$/.test($)&&($="#"+$[1]+$[1]+$[2]+$[2]+$[3]+$[3]),typeof $=="string"&&/^#[0-9A-Fa-f]{6}$/.test($)){var Qe=parseInt($.substr(1),16);$=Qe>>16&255,ee=Qe>>8&255,ce=255&Qe}if(ee===void 0||ye===void 0&&$===ee&&ee===ce)if(typeof $=="string")L=$+" "+Ce[0];else switch(v.precision){case 2:L=X($/255)+" "+Ce[0];break;case 3:default:L=E($/255)+" "+Ce[0]}else if(ye===void 0||Ft(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return L=["1.","1.","1.",Ce[1]].join(" ");if(typeof $=="string")L=[$,ee,ce,Ce[1]].join(" ");else switch(v.precision){case 2:L=[X($/255),X(ee/255),X(ce/255),Ce[1]].join(" ");break;default:case 3:L=[E($/255),E(ee/255),E(ce/255),Ce[1]].join(" ")}}else if(typeof $=="string")L=[$,ee,ce,ye,Ce[2]].join(" ");else switch(v.precision){case 2:L=[X($),X(ee),X(ce),X(ye),Ce[2]].join(" ");break;case 3:default:L=[E($),E(ee),E(ce),E(ye),Ce[2]].join(" ")}return L},ni=m.__private__.getFilters=function(){return o},sr=m.__private__.putStream=function(v){var L=(v=v||{}).data||"",$=v.filters||ni(),ee=v.alreadyAppliedFilters||[],ce=v.addLength1||!1,ye=L.length,Ce=v.objectId,Ue=function(Wn){return Wn};if(f!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ue=Hn.encryptor(Ce,0));var Qe={};$===!0&&($=["FlateEncode"]);var pt=v.additionalKeyValues||[],ht=(Qe=nt.API.processDataByFilters!==void 0?nt.API.processDataByFilters(L,$):{data:L,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(Qe.data.length!==0&&(pt.push({key:"Length",value:Qe.data.length}),ce===!0&&pt.push({key:"Length1",value:ye})),ht.length!=0)if(ht.split("/").length-1==1)pt.push({key:"Filter",value:ht});else{pt.push({key:"Filter",value:"["+ht+"]"});for(var St=0;St<pt.length;St+=1)if(pt[St].key==="DecodeParms"){for(var Qt=[],an=0;an<Qe.reverseChain.split("/").length-1;an+=1)Qt.push("null");Qt.push(pt[St].value),pt[St].value="["+Qt.join(" ")+"]"}}G("<<");for(var bn=0;bn<pt.length;bn++)G("/"+pt[bn].key+" "+pt[bn].value);G(">>"),Qe.data.length!==0&&(G("stream"),G(Ue(Qe.data)),G("endstream"))},Ir=m.__private__.putPage=function(v){var L=v.number,$=v.data,ee=v.objId,ce=v.contentsObjId;ir(ee,!0),G("<</Type /Page"),G("/Parent "+v.rootDictionaryObjId+" 0 R"),G("/Resources "+v.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(I(v.mediaBox.bottomLeftX))+" "+parseFloat(I(v.mediaBox.bottomLeftY))+" "+I(v.mediaBox.topRightX)+" "+I(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&G("/CropBox ["+I(v.cropBox.bottomLeftX)+" "+I(v.cropBox.bottomLeftY)+" "+I(v.cropBox.topRightX)+" "+I(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&G("/BleedBox ["+I(v.bleedBox.bottomLeftX)+" "+I(v.bleedBox.bottomLeftY)+" "+I(v.bleedBox.topRightX)+" "+I(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&G("/TrimBox ["+I(v.trimBox.bottomLeftX)+" "+I(v.trimBox.bottomLeftY)+" "+I(v.trimBox.topRightX)+" "+I(v.trimBox.topRightY)+"]"),v.artBox!==null&&G("/ArtBox ["+I(v.artBox.bottomLeftX)+" "+I(v.artBox.bottomLeftY)+" "+I(v.artBox.topRightX)+" "+I(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&G("/UserUnit "+v.userUnit),jt.publish("putPage",{objId:ee,pageContext:ct[L],pageNumber:L,page:$}),G("/Contents "+ce+" 0 R"),G(">>"),G("endobj");var ye=$.join(`
`);return N===w.ADVANCED&&(ye+=`
Q`),ir(ce,!0),sr({data:ye,filters:ni(),objectId:ce}),G("endobj"),ee},is=m.__private__.putPages=function(){var v,L,$=[];for(v=1;v<=$t;v++)ct[v].objId=sn(),ct[v].contentsObjId=sn();for(v=1;v<=$t;v++)$.push(Ir({number:v,data:je[v],objId:ct[v].objId,contentsObjId:ct[v].contentsObjId,mediaBox:ct[v].mediaBox,cropBox:ct[v].cropBox,bleedBox:ct[v].bleedBox,trimBox:ct[v].trimBox,artBox:ct[v].artBox,userUnit:ct[v].userUnit,rootDictionaryObjId:ei,resourceDictionaryObjId:gr}));ir(ei,!0),G("<</Type /Pages");var ee="/Kids [";for(L=0;L<$t;L++)ee+=$[L]+" 0 R ";G(ee+"]"),G("/Count "+$t),G(">>"),G("endobj"),jt.publish("postPutPages")},Mi=function(v){jt.publish("putFont",{font:v,out:G,newObject:dt,putStream:sr}),v.isAlreadyPutted!==!0&&(v.objectNumber=dt(),G("<<"),G("/Type /Font"),G("/BaseFont /"+Ta(v.postScriptName)),G("/Subtype /Type1"),typeof v.encoding=="string"&&G("/Encoding /"+v.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},Ts=function(){for(var v in _t)_t.hasOwnProperty(v)&&(p===!1||p===!0&&g.hasOwnProperty(v))&&Mi(_t[v])},ss=function(v){v.objectNumber=dt();var L=[];L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Form"}),L.push({key:"BBox",value:"["+[I(v.x),I(v.y),I(v.x+v.width),I(v.y+v.height)].join(" ")+"]"}),L.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var $=v.pages[1].join(`
`);sr({data:$,additionalKeyValues:L,objectId:v.objectNumber}),G("endobj")},Fs=function(){for(var v in Cn)Cn.hasOwnProperty(v)&&ss(Cn[v])},Oi=function(v,L){var $,ee=[],ce=1/(L-1);for($=0;$<1;$+=ce)ee.push($);if(ee.push(1),v[0].offset!=0){var ye={offset:0,color:v[0].color};v.unshift(ye)}if(v[v.length-1].offset!=1){var Ce={offset:1,color:v[v.length-1].color};v.push(Ce)}for(var Ue="",Qe=0,pt=0;pt<ee.length;pt++){for($=ee[pt];$>v[Qe+1].offset;)Qe++;var ht=v[Qe].offset,St=($-ht)/(v[Qe+1].offset-ht),Qt=v[Qe].color,an=v[Qe+1].color;Ue+=K(Math.round((1-St)*Qt[0]+St*an[0]).toString(16))+K(Math.round((1-St)*Qt[1]+St*an[1]).toString(16))+K(Math.round((1-St)*Qt[2]+St*an[2]).toString(16))}return Ue.trim()},Cl=function(v,L){L||(L=21);var $=dt(),ee=Oi(v.colors,L),ce=[];ce.push({key:"FunctionType",value:"0"}),ce.push({key:"Domain",value:"[0.0 1.0]"}),ce.push({key:"Size",value:"["+L+"]"}),ce.push({key:"BitsPerSample",value:"8"}),ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),sr({data:ee,additionalKeyValues:ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$}),G("endobj"),v.objectNumber=dt(),G("<< /ShadingType "+v.type),G("/ColorSpace /DeviceRGB");var ye="/Coords ["+I(parseFloat(v.coords[0]))+" "+I(parseFloat(v.coords[1]))+" ";v.type===2?ye+=I(parseFloat(v.coords[2]))+" "+I(parseFloat(v.coords[3])):ye+=I(parseFloat(v.coords[2]))+" "+I(parseFloat(v.coords[3]))+" "+I(parseFloat(v.coords[4]))+" "+I(parseFloat(v.coords[5])),G(ye+="]"),v.matrix&&G("/Matrix ["+v.matrix.toString()+"]"),G("/Function "+$+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},Pl=function(v,L){var $=sn(),ee=dt();L.push({resourcesOid:$,objectOid:ee}),v.objectNumber=ee;var ce=[];ce.push({key:"Type",value:"/Pattern"}),ce.push({key:"PatternType",value:"1"}),ce.push({key:"PaintType",value:"1"}),ce.push({key:"TilingType",value:"1"}),ce.push({key:"BBox",value:"["+v.boundingBox.map(I).join(" ")+"]"}),ce.push({key:"XStep",value:I(v.xStep)}),ce.push({key:"YStep",value:I(v.yStep)}),ce.push({key:"Resources",value:$+" 0 R"}),v.matrix&&ce.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),sr({data:v.stream,additionalKeyValues:ce,objectId:v.objectNumber}),G("endobj")},qe=function(v){var L;for(L in Pt)Pt.hasOwnProperty(L)&&(Pt[L]instanceof Uo?Cl(Pt[L]):Pt[L]instanceof Ja&&Pl(Pt[L],v))},Ne=function(v){for(var L in v.objectNumber=dt(),G("<<"),v)switch(L){case"opacity":G("/ca "+X(v[L]));break;case"stroke-opacity":G("/CA "+X(v[L]))}G(">>"),G("endobj")},Ye=function(){var v;for(v in Yt)Yt.hasOwnProperty(v)&&Ne(Yt[v])},gt=function(){for(var v in G("/XObject <<"),Cn)Cn.hasOwnProperty(v)&&Cn[v].objectNumber>=0&&G("/"+v+" "+Cn[v].objectNumber+" 0 R");jt.publish("putXobjectDict"),G(">>")},We=function(){Hn.oid=dt(),G("<<"),G("/Filter /Standard"),G("/V "+Hn.v),G("/R "+Hn.r),G("/U <"+Hn.toHexString(Hn.U)+">"),G("/O <"+Hn.toHexString(Hn.O)+">"),G("/P "+Hn.P),G(">>"),G("endobj")},Je=function(){for(var v in G("/Font <<"),_t)_t.hasOwnProperty(v)&&(p===!1||p===!0&&g.hasOwnProperty(v))&&G("/"+v+" "+_t[v].objectNumber+" 0 R");G(">>")},Re=function(){if(Object.keys(Pt).length>0){for(var v in G("/Shading <<"),Pt)Pt.hasOwnProperty(v)&&Pt[v]instanceof Uo&&Pt[v].objectNumber>=0&&G("/"+v+" "+Pt[v].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),G(">>")}},Lt=function(v){if(Object.keys(Pt).length>0){for(var L in G("/Pattern <<"),Pt)Pt.hasOwnProperty(L)&&Pt[L]instanceof m.TilingPattern&&Pt[L].objectNumber>=0&&Pt[L].objectNumber<v&&G("/"+L+" "+Pt[L].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),G(">>")}},On=function(){if(Object.keys(Yt).length>0){var v;for(v in G("/ExtGState <<"),Yt)Yt.hasOwnProperty(v)&&Yt[v].objectNumber>=0&&G("/"+v+" "+Yt[v].objectNumber+" 0 R");jt.publish("putGStateDict"),G(">>")}},yt=function(v){ir(v.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Je(),Re(),Lt(v.objectOid),On(),gt(),G(">>"),G("endobj")},Rr=function(){var v=[];Ts(),Ye(),Fs(),qe(v),jt.publish("putResources"),v.forEach(yt),yt({resourcesOid:gr,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources")},Bi=function(){jt.publish("putAdditionalObjects");for(var v=0;v<xe.length;v++){var L=xe[v];ir(L.objId,!0),G(L.content),G("endobj")}jt.publish("postPutAdditionalObjects")},vr=function(v){zt[v.fontName]=zt[v.fontName]||{},zt[v.fontName][v.fontStyle]=v.id},hn=function(v,L,$,ee,ce){var ye={id:"F"+(Object.keys(_t).length+1).toString(10),postScriptName:v,fontName:L,fontStyle:$,encoding:ee,isStandardFont:ce||!1,metadata:{}};return jt.publish("addFont",{font:ye,instance:this}),_t[ye.id]=ye,vr(ye),ye.id},on=function(v){for(var L=0,$=Pe.length;L<$;L++){var ee=hn.call(this,v[L][0],v[L][1],v[L][2],Pe[L][3],!0);p===!1&&(g[ee]=!0);var ce=v[L][0].split("-");vr({id:ee,fontName:ce[0],fontStyle:ce[1]||""})}jt.publish("addFonts",{fonts:_t,dictionary:zt})},fn=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(ee){var L=ee.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var $="Error in function "+L.split(`
`)[0].split("<")[0]+": "+ee.message;if(!at.console)throw new Error($);at.console.error($,ee),at.alert&&alert($)}},v.foo.bar=v,v.foo},ri=function(v,L){var $,ee,ce,ye,Ce,Ue,Qe,pt,ht;if(ce=(L=L||{}).sourceEncoding||"Unicode",Ce=L.outputEncoding,(L.autoencode||Ce)&&_t[Ze].metadata&&_t[Ze].metadata[ce]&&_t[Ze].metadata[ce].encoding&&(ye=_t[Ze].metadata[ce].encoding,!Ce&&_t[Ze].encoding&&(Ce=_t[Ze].encoding),!Ce&&ye.codePages&&(Ce=ye.codePages[0]),typeof Ce=="string"&&(Ce=ye[Ce]),Ce)){for(Qe=!1,Ue=[],$=0,ee=v.length;$<ee;$++)(pt=Ce[v.charCodeAt($)])?Ue.push(String.fromCharCode(pt)):Ue.push(v[$]),Ue[$].charCodeAt(0)>>8&&(Qe=!0);v=Ue.join("")}for($=v.length;Qe===void 0&&$!==0;)v.charCodeAt($-1)>>8&&(Qe=!0),$--;if(!Qe)return v;for(Ue=L.noBOM?[]:[254,255],$=0,ee=v.length;$<ee;$++){if((ht=(pt=v.charCodeAt($))>>8)>>8)throw new Error("Character at position "+$+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ue.push(ht),Ue.push(pt-(ht<<8))}return String.fromCharCode.apply(void 0,Ue)},Xt=m.__private__.pdfEscape=m.pdfEscape=function(v,L){return ri(v,L).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ll=m.__private__.beginPage=function(v){je[++$t]=[],ct[$t]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},Su($t),ve(je[B])},bu=function(v,L){var $,ee,ce;switch(n=L||n,typeof v=="string"&&($=x(v.toLowerCase()),Array.isArray($)&&(ee=$[0],ce=$[1])),Array.isArray(v)&&(ee=v[0]*ze,ce=v[1]*ze),isNaN(ee)&&(ee=i[0],ce=i[1]),(ee>14400||ce>14400)&&(Bt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),ce=Math.min(14400,ce)),i=[ee,ce],n.substr(0,1)){case"l":ce>ee&&(i=[ce,ee]);break;case"p":ee>ce&&(i=[ce,ee])}Ll(i),Lu(Tl),G(xi),Il!==0&&G(Il+" J"),Rl!==0&&G(Rl+" j"),jt.publish("addPage",{pageNumber:$t})},mf=function(v){v>0&&v<=$t&&(je.splice(v,1),ct.splice(v,1),$t--,B>$t&&(B=$t),this.setPage(B))},Su=function(v){v>0&&v<=$t&&(B=v)},gf=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return je.length-1},ju=function(v,L,$){var ee,ce=void 0;return $=$||{},v=v!==void 0?v:_t[Ze].fontName,L=L!==void 0?L:_t[Ze].fontStyle,ee=v.toLowerCase(),zt[ee]!==void 0&&zt[ee][L]!==void 0?ce=zt[ee][L]:zt[v]!==void 0&&zt[v][L]!==void 0?ce=zt[v][L]:$.disableWarning===!1&&Bt.warn("Unable to look up font label for font '"+v+"', '"+L+"'. Refer to getFontList() for available fonts."),ce||$.noFallback||(ce=zt.times[L])==null&&(ce=zt.times.normal),ce},vf=m.__private__.putInfo=function(){var v=dt(),L=function(ee){return ee};for(var $ in f!==null&&(L=Hn.encryptor(v,0)),G("<<"),G("/Producer ("+Xt(L("jsPDF "+nt.version))+")"),ot)ot.hasOwnProperty($)&&ot[$]&&G("/"+$.substr(0,1).toUpperCase()+$.substr(1)+" ("+Xt(L(ot[$]))+")");G("/CreationDate ("+Xt(L(de))+")"),G(">>"),G("endobj")},kl=m.__private__.putCatalog=function(v){var L=(v=v||{}).rootDictionaryObjId||ei;switch(dt(),G("<<"),G("/Type /Catalog"),G("/Pages "+L+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $=""+Me;$.substr($.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&G("/OpenAction [3 0 R /XYZ null null "+X(Me)+"]")}switch(De||(De="continuous"),De){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}rt&&G("/PageMode /"+rt),jt.publish("putCatalog"),G(">>"),G("endobj")},yf=m.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(Z+1)),G("/Root "+Z+" 0 R"),G("/Info "+(Z-1)+" 0 R"),f!==null&&G("/Encrypt "+Hn.oid+" 0 R"),G("/ID [ <"+ae+"> <"+ae+"> ]"),G(">>")},xf=m.__private__.putHeader=function(){G("%PDF-"+S),G("%")},wf=m.__private__.putXRef=function(){var v="0000000000";G("xref"),G("0 "+(Z+1)),G("0000000000 65535 f ");for(var L=1;L<=Z;L++)typeof oe[L]=="function"?G((v+oe[L]()).slice(-10)+" 00000 n "):oe[L]!==void 0?G((v+oe[L]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},os=m.__private__.buildDocument=function(){Xe(),ve(he),jt.publish("buildDocument"),xf(),is(),Bi(),Rr(),f!==null&&We(),vf(),kl();var v=ue;return wf(),yf(),G("startxref"),G(""+v),G("%%EOF"),ve(je[B]),he.join(`
`)},oa=m.__private__.getBlob=function(v){return new Blob([He(v)],{type:"application/pdf"})},aa=m.output=m.__private__.output=fn(function(v,L){switch(typeof(L=L||{})=="string"?L={filename:L}:L.filename=L.filename||"generated.pdf",v){case void 0:return os();case"save":m.save(L.filename);break;case"arraybuffer":return He(os());case"blob":return oa(os());case"bloburi":case"bloburl":if(at.URL!==void 0&&typeof at.URL.createObjectURL=="function")return at.URL&&at.URL.createObjectURL(oa(os()))||void 0;Bt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $="",ee=os();try{$=c1(ee)}catch{$=c1(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+L.filename+";base64,"+$;case"pdfobjectnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';L.pdfObjectUrl&&(ce=L.pdfObjectUrl,ye="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ce+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(L)+");<\/script></body></html>",Ue=at.open();return Ue!==null&&Ue.document.write(Ce),Ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(L.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+L.filename+'" width="500px" height="400px" /></body></html>',pt=at.open();if(pt!==null){pt.document.write(Qe);var ht=this;pt.document.documentElement.querySelector("#pdfViewer").onload=function(){pt.document.title=L.filename,pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ht.output("bloburl"))}}return pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(at)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",L)+'"></iframe></body></html>',Qt=at.open();if(Qt!==null&&(Qt.document.write(St),Qt.document.title=L.filename),Qt||typeof safari>"u")return Qt;break;case"datauri":case"dataurl":return at.document.location.href=this.output("datauristring",L);default:return null}}),Nu=function(v){return Array.isArray(rs)===!0&&rs.indexOf(v)>-1};switch(r){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=Nu("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ze=r}var Hn=null;me(),W();var bf=function(v){return f!==null?Hn.encryptor(v,0):function(L){return L}},Au=m.__private__.getPageInfo=m.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[v].objId,pageNumber:v,pageContext:ct[v]}},ut=m.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var L in ct)if(ct[L].objId===v)break;return Au(L)},Sf=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ct[B].objId,pageNumber:B,pageContext:ct[B]}};m.addPage=function(){return bu.apply(this,arguments),this},m.setPage=function(){return Su.apply(this,arguments),ve.call(this,je[B]),this},m.insertPage=function(v){return this.addPage(),this.movePage(B,v),this},m.movePage=function(v,L){var $,ee;if(v>L){$=je[v],ee=ct[v];for(var ce=v;ce>L;ce--)je[ce]=je[ce-1],ct[ce]=ct[ce-1];je[L]=$,ct[L]=ee,this.setPage(L)}else if(v<L){$=je[v],ee=ct[v];for(var ye=v;ye<L;ye++)je[ye]=je[ye+1],ct[ye]=ct[ye+1];je[L]=$,ct[L]=ee,this.setPage(L)}return this},m.deletePage=function(){return mf.apply(this,arguments),this},m.__private__.text=m.text=function(v,L,$,ee,ce){var ye,Ce,Ue,Qe,pt,ht,St,Qt,an,bn=(ee=ee||{}).scope||this;if(typeof v=="number"&&typeof L=="number"&&(typeof $=="string"||Array.isArray($))){var Wn=$;$=L,L=v,v=Wn}if(arguments[3]instanceof et?(F("The transform parameter of text() with a Matrix value"),an=ce):(Ue=arguments[4],Qe=arguments[5],Ft(St=arguments[3])==="object"&&St!==null||(typeof Ue=="string"&&(Qe=Ue,Ue=null),typeof St=="string"&&(Qe=St,St=null),typeof St=="number"&&(Ue=St,St=null),ee={flags:St,angle:Ue,align:Qe})),isNaN(L)||isNaN($)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return bn;var Tn="",wi=!1,Dr=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:Co,Ui=bn.internal.scaleFactor;function Iu(qt){return qt=qt.split("	").join(Array(ee.TabLen||9).join(" ")),Xt(qt,St)}function zl(qt){for(var Ut,mn=qt.concat(),Pn=[],ds=mn.length;ds--;)typeof(Ut=mn.shift())=="string"?Pn.push(Ut):Array.isArray(qt)&&(Ut.length===1||Ut[1]===void 0&&Ut[2]===void 0)?Pn.push(Ut[0]):Pn.push([Ut[0],Ut[1],Ut[2]]);return Pn}function ql(qt,Ut){var mn;if(typeof qt=="string")mn=Ut(qt)[0];else if(Array.isArray(qt)){for(var Pn,ds,Yl=qt.concat(),Sa=[],Bu=Yl.length;Bu--;)typeof(Pn=Yl.shift())=="string"?Sa.push(Ut(Pn)[0]):Array.isArray(Pn)&&typeof Pn[0]=="string"&&(ds=Ut(Pn[0],Pn[1],Pn[2]),Sa.push([ds[0],ds[1],ds[2]]));mn=Sa}return mn}var fa=!1,Ul=!0;if(typeof v=="string")fa=!0;else if(Array.isArray(v)){var Vl=v.concat();Ce=[];for(var pa,Bn=Vl.length;Bn--;)(typeof(pa=Vl.shift())!="string"||Array.isArray(pa)&&typeof pa[0]!="string")&&(Ul=!1);fa=Ul}if(fa===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var ma=Te/bn.internal.scaleFactor,ga=ma*(Dr-1);switch(ee.baseline){case"bottom":$-=ga;break;case"top":$+=ma-ga;break;case"hanging":$+=ma-2*ga;break;case"middle":$+=ma/2-ga}if((ht=ee.maxWidth||0)>0&&(typeof v=="string"?v=bn.splitTextToSize(v,ht):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(qt,Ut){return qt.concat(bn.splitTextToSize(Ut,ht))},[]))),ye={text:v,x:L,y:$,options:ee,mutex:{pdfEscape:Xt,activeFontKey:Ze,fonts:_t,activeFontSize:Te}},jt.publish("preProcessText",ye),v=ye.text,Ue=(ee=ye.options).angle,!(an instanceof et)&&Ue&&typeof Ue=="number"){Ue*=Math.PI/180,ee.rotationDirection===0&&(Ue=-Ue),N===w.ADVANCED&&(Ue=-Ue);var va=Math.cos(Ue),$l=Math.sin(Ue);an=new et(va,$l,-$l,va,0,0)}else Ue&&Ue instanceof et&&(an=Ue);N!==w.ADVANCED||an||(an=Qr),(pt=ee.charSpace||ua)!==void 0&&(Tn+=I(O(pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qt=ee.horizontalScale)!==void 0&&(Tn+=I(100*Qt)+` Tz
`),ee.lang;var yr=-1,Tf=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,Hl=bn.internal.getCurrentPageInfo().pageContext;switch(Tf){case 0:case!1:case"fill":yr=0;break;case 1:case!0:case"stroke":yr=1;break;case 2:case"fillThenStroke":yr=2;break;case 3:case"invisible":yr=3;break;case 4:case"fillAndAddForClipping":yr=4;break;case 5:case"strokeAndAddPathForClipping":yr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":yr=6;break;case 7:case"addToPathForClipping":yr=7}var Ru=Hl.usedRenderingMode!==void 0?Hl.usedRenderingMode:-1;yr!==-1?Tn+=yr+` Tr
`:Ru!==-1&&(Tn+=`0 Tr
`),yr!==-1&&(Hl.usedRenderingMode=yr),Qe=ee.align||"left";var ii,ya=Te*Dr,Du=bn.internal.pageSize.getWidth(),Mu=_t[Ze];pt=ee.charSpace||ua,ht=ee.maxWidth||0,St=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var Ms=[],ko=function(qt){return bn.getStringUnitWidth(qt,{font:Mu,charSpace:pt,fontSize:Te,doKerning:!1})*Te/Ui};if(Object.prototype.toString.call(v)==="[object Array]"){var xr;Ce=zl(v),Qe!=="left"&&(ii=Ce.map(ko));var or,Os=0;if(Qe==="right"){L-=ii[0],v=[],Bn=Ce.length;for(var ls=0;ls<Bn;ls++)ls===0?(or=qi(L),xr=as($)):(or=O(Os-ii[ls]),xr=-ya),v.push([Ce[ls],or,xr]),Os=ii[ls]}else if(Qe==="center"){L-=ii[0]/2,v=[],Bn=Ce.length;for(var cs=0;cs<Bn;cs++)cs===0?(or=qi(L),xr=as($)):(or=O((Os-ii[cs])/2),xr=-ya),v.push([Ce[cs],or,xr]),Os=ii[cs]}else if(Qe==="left"){v=[],Bn=Ce.length;for(var xa=0;xa<Bn;xa++)v.push(Ce[xa])}else if(Qe==="justify"&&Mu.encoding==="Identity-H"){v=[],Bn=Ce.length,ht=ht!==0?ht:Du;for(var us=0,pn=0;pn<Bn;pn++)if(xr=pn===0?as($):-ya,or=pn===0?qi(L):us,pn<Bn-1){var Wl=O((ht-ii[pn])/(Ce[pn].split(" ").length-1)),ar=Ce[pn].split(" ");v.push([ar[0]+" ",or,xr]),us=0;for(var si=1;si<ar.length;si++){var wa=(ko(ar[si-1]+" "+ar[si])-ko(ar[si]))*Ui+Wl;si==ar.length-1?v.push([ar[si],wa,0]):v.push([ar[si]+" ",wa,0]),us-=wa}}else v.push([Ce[pn],or,xr]);v.push(["",us,0])}else{if(Qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Bn=Ce.length,ht=ht!==0?ht:Du,pn=0;pn<Bn;pn++)xr=pn===0?as($):-ya,or=pn===0?qi(L):0,pn<Bn-1?Ms.push(I(O((ht-ii[pn])/(Ce[pn].split(" ").length-1)))):Ms.push(0),v.push([Ce[pn],or,xr])}}var Ou=typeof ee.R2L=="boolean"?ee.R2L:Ke;Ou===!0&&(v=ql(v,function(qt,Ut,mn){return[qt.split("").reverse().join(""),Ut,mn]})),ye={text:v,x:L,y:$,options:ee,mutex:{pdfEscape:Xt,activeFontKey:Ze,fonts:_t,activeFontSize:Te}},jt.publish("postProcessText",ye),v=ye.text,wi=ye.mutex.isHex||!1;var Gl=_t[Ze].encoding;Gl!=="WinAnsiEncoding"&&Gl!=="StandardEncoding"||(v=ql(v,function(qt,Ut,mn){return[Iu(qt),Ut,mn]})),Ce=zl(v),v=[];for(var _o,Eo,Bs,To=0,ba=1,Fo=Array.isArray(Ce[0])?ba:To,zs="",Kl=function(qt,Ut,mn){var Pn="";return mn instanceof et?(mn=typeof ee.angle=="number"?Tr(mn,new et(1,0,0,1,qt,Ut)):Tr(new et(1,0,0,1,qt,Ut),mn),N===w.ADVANCED&&(mn=Tr(new et(1,0,0,-1,0,0),mn)),Pn=mn.join(" ")+` Tm
`):Pn=I(qt)+" "+I(Ut)+` Td
`,Pn},oi=0;oi<Ce.length;oi++){switch(zs="",Fo){case ba:Bs=(wi?"<":"(")+Ce[oi][0]+(wi?">":")"),_o=parseFloat(Ce[oi][1]),Eo=parseFloat(Ce[oi][2]);break;case To:Bs=(wi?"<":"(")+Ce[oi]+(wi?">":")"),_o=qi(L),Eo=as($)}Ms!==void 0&&Ms[oi]!==void 0&&(zs=Ms[oi]+` Tw
`),oi===0?v.push(zs+Kl(_o,Eo,an)+Bs):Fo===To?v.push(zs+Bs):Fo===ba&&v.push(zs+Kl(_o,Eo,an)+Bs)}v=Fo===To?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var ai=`BT
/`;return ai+=Ze+" "+Te+` Tf
`,ai+=I(Te*Dr)+` TL
`,ai+=Po+`
`,ai+=Tn,ai+=v,G(ai+="ET"),g[Ze]=!0,bn};var jf=m.__private__.clip=m.clip=function(v){return G(v==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return jf("evenodd")},m.__private__.discardPath=m.discardPath=function(){return G("n"),this};var zi=m.__private__.isValidStyle=function(v){var L=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(L=!0),L};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(v){return zi(v)&&(d=v),this};var Cu=m.__private__.getStyle=m.getStyle=function(v){var L=d;switch(v){case"D":case"S":L="S";break;case"F":L="f";break;case"FD":case"DF":L="B";break;case"f":case"f*":case"B":case"B*":L=v}return L},Pu=m.close=function(){return G("h"),this};m.stroke=function(){return G("S"),this},m.fill=function(v){return la("f",v),this},m.fillEvenOdd=function(v){return la("f*",v),this},m.fillStroke=function(v){return la("B",v),this},m.fillStrokeEvenOdd=function(v){return la("B*",v),this};var la=function(v,L){Ft(L)==="object"?Af(L,v):G(v)},_l=function(v){v===null||N===w.ADVANCED&&v===void 0||(v=Cu(v),G(v))};function Nf(v,L,$,ee,ce){var ye=new Ja(L||this.boundingBox,$||this.xStep,ee||this.yStep,this.gState,ce||this.matrix);ye.stream=this.stream;var Ce=v+"$$"+this.cloneIndex+++"$$";return En(Ce,ye),ye}var Af=function(v,L){var $=ns[v.key],ee=Pt[$];if(ee instanceof Uo)G("q"),G(Cf(L)),ee.gState&&m.setGState(ee.gState),G(v.matrix.toString()+" cm"),G("/"+$+" sh"),G("Q");else if(ee instanceof Ja){var ce=new et(1,0,0,-1,0,Ds());v.matrix&&(ce=ce.multiply(v.matrix||Qr),$=Nf.call(ee,v.key,v.boundingBox,v.xStep,v.yStep,ce).id),G("q"),G("/Pattern cs"),G("/"+$+" scn"),ee.gState&&m.setGState(ee.gState),G(L),G("Q")}},Cf=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},El=m.moveTo=function(v,L){return G(I(O(v))+" "+I(H(L))+" m"),this},Ao=m.lineTo=function(v,L){return G(I(O(v))+" "+I(H(L))+" l"),this},Is=m.curveTo=function(v,L,$,ee,ce,ye){return G([I(O(v)),I(H(L)),I(O($)),I(H(ee)),I(O(ce)),I(H(ye)),"c"].join(" ")),this};m.__private__.line=m.line=function(v,L,$,ee,ce){if(isNaN(v)||isNaN(L)||isNaN($)||isNaN(ee)||!zi(ce))throw new Error("Invalid arguments passed to jsPDF.line");return N===w.COMPAT?this.lines([[$-v,ee-L]],v,L,[1,1],ce||"S"):this.lines([[$-v,ee-L]],v,L,[1,1]).stroke()},m.__private__.lines=m.lines=function(v,L,$,ee,ce,ye){var Ce,Ue,Qe,pt,ht,St,Qt,an,bn,Wn,Tn,wi;if(typeof v=="number"&&(wi=$,$=L,L=v,v=wi),ee=ee||[1,1],ye=ye||!1,isNaN(L)||isNaN($)||!Array.isArray(v)||!Array.isArray(ee)||!zi(ce)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(El(L,$),Ce=ee[0],Ue=ee[1],pt=v.length,Wn=L,Tn=$,Qe=0;Qe<pt;Qe++)(ht=v[Qe]).length===2?(Wn=ht[0]*Ce+Wn,Tn=ht[1]*Ue+Tn,Ao(Wn,Tn)):(St=ht[0]*Ce+Wn,Qt=ht[1]*Ue+Tn,an=ht[2]*Ce+Wn,bn=ht[3]*Ue+Tn,Wn=ht[4]*Ce+Wn,Tn=ht[5]*Ue+Tn,Is(St,Qt,an,bn,Wn,Tn));return ye&&Pu(),_l(ce),this},m.path=function(v){for(var L=0;L<v.length;L++){var $=v[L],ee=$.c;switch($.op){case"m":El(ee[0],ee[1]);break;case"l":Ao(ee[0],ee[1]);break;case"c":Is.apply(this,ee);break;case"h":Pu()}}return this},m.__private__.rect=m.rect=function(v,L,$,ee,ce){if(isNaN(v)||isNaN(L)||isNaN($)||isNaN(ee)||!zi(ce))throw new Error("Invalid arguments passed to jsPDF.rect");return N===w.COMPAT&&(ee=-ee),G([I(O(v)),I(H(L)),I(O($)),I(O(ee)),"re"].join(" ")),_l(ce),this},m.__private__.triangle=m.triangle=function(v,L,$,ee,ce,ye,Ce){if(isNaN(v)||isNaN(L)||isNaN($)||isNaN(ee)||isNaN(ce)||isNaN(ye)||!zi(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$-v,ee-L],[ce-$,ye-ee],[v-ce,L-ye]],v,L,[1,1],Ce,!0),this},m.__private__.roundedRect=m.roundedRect=function(v,L,$,ee,ce,ye,Ce){if(isNaN(v)||isNaN(L)||isNaN($)||isNaN(ee)||isNaN(ce)||isNaN(ye)||!zi(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ue=4/3*(Math.SQRT2-1);return ce=Math.min(ce,.5*$),ye=Math.min(ye,.5*ee),this.lines([[$-2*ce,0],[ce*Ue,0,ce,ye-ye*Ue,ce,ye],[0,ee-2*ye],[0,ye*Ue,-ce*Ue,ye,-ce,ye],[2*ce-$,0],[-ce*Ue,0,-ce,-ye*Ue,-ce,-ye],[0,2*ye-ee],[0,-ye*Ue,ce*Ue,-ye,ce,-ye]],v+ce,L,[1,1],Ce,!0),this},m.__private__.ellipse=m.ellipse=function(v,L,$,ee,ce){if(isNaN(v)||isNaN(L)||isNaN($)||isNaN(ee)||!zi(ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*$,Ce=4/3*(Math.SQRT2-1)*ee;return El(v+$,L),Is(v+$,L-Ce,v+ye,L-ee,v,L-ee),Is(v-ye,L-ee,v-$,L-Ce,v-$,L),Is(v-$,L+Ce,v-ye,L+ee,v,L+ee),Is(v+ye,L+ee,v+$,L+Ce,v+$,L),_l(ce),this},m.__private__.circle=m.circle=function(v,L,$,ee){if(isNaN(v)||isNaN(L)||isNaN($)||!zi(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,L,$,$,ee)},m.setFont=function(v,L,$){return $&&(L=V(L,$)),Ze=ju(v,L,{disableWarning:!1}),this};var Pf=m.__private__.getFont=m.getFont=function(){return _t[ju.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var v,L,$={};for(v in zt)if(zt.hasOwnProperty(v))for(L in $[v]=[],zt[v])zt[v].hasOwnProperty(L)&&$[v].push(L);return $},m.addFont=function(v,L,$,ee,ce){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?ce=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&($=V($,ee)),ce=ce||"Identity-H",hn.call(this,v,L,$,ce)};var Co,Tl=e.lineWidth||.200025,ca=m.__private__.getLineWidth=m.getLineWidth=function(){return Tl},Lu=m.__private__.setLineWidth=m.setLineWidth=function(v){return Tl=v,G(I(O(v))+" w"),this};m.__private__.setLineDash=nt.API.setLineDash=nt.API.setLineDashPattern=function(v,L){if(v=v||[],L=L||0,isNaN(L)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function($){return I(O($))}).join(" "),L=I(O(L)),G("["+v+"] "+L+" d"),this};var ku=m.__private__.getLineHeight=m.getLineHeight=function(){return Te*Co};m.__private__.getLineHeight=m.getLineHeight=function(){return Te*Co};var _u=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Co=v),this},Eu=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Co};_u(e.lineHeight);var qi=m.__private__.getHorizontalCoordinate=function(v){return O(v)},as=m.__private__.getVerticalCoordinate=function(v){return N===w.ADVANCED?v:ct[B].mediaBox.topRightY-ct[B].mediaBox.bottomLeftY-O(v)},Lf=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(v){return I(qi(v))},Rs=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(v){return I(as(v))},xi=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return ti(xi)},m.__private__.setStrokeColor=m.setDrawColor=function(v,L,$,ee){return xi=Fr({ch1:v,ch2:L,ch3:$,ch4:ee,pdfColorType:"draw",precision:2}),G(xi),this};var Fl=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return ti(Fl)},m.__private__.setFillColor=m.setFillColor=function(v,L,$,ee){return Fl=Fr({ch1:v,ch2:L,ch3:$,ch4:ee,pdfColorType:"fill",precision:2}),G(Fl),this};var Po=e.textColor||"0 g",kf=m.__private__.getTextColor=m.getTextColor=function(){return ti(Po)};m.__private__.setTextColor=m.setTextColor=function(v,L,$,ee){return Po=Fr({ch1:v,ch2:L,ch3:$,ch4:ee,pdfColorType:"text",precision:3}),this};var ua=e.charSpace,_f=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(ua||0)};m.__private__.setCharSpace=m.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ua=v,this};var Il=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(v){var L=m.CapJoinStyles[v];if(L===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=L,G(L+" J"),this};var Rl=0;m.__private__.setLineJoin=m.setLineJoin=function(v){var L=m.CapJoinStyles[v];if(L===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rl=L,G(L+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(I(O(v))+" M"),this},m.GState=Dh,m.setGState=function(v){(v=typeof v=="string"?Yt[mr[v]]:Tu(null,v)).equals(Jr)||(G("/"+v.id+" gs"),Jr=v)};var Tu=function(v,L){if(!v||!mr[v]){var $=!1;for(var ee in Yt)if(Yt.hasOwnProperty(ee)&&Yt[ee].equals(L)){$=!0;break}if($)L=Yt[ee];else{var ce="GS"+(Object.keys(Yt).length+1).toString(10);Yt[ce]=L,L.id=ce}return v&&(mr[v]=L.id),jt.publish("addGState",L),L}};m.addGState=function(v,L){return Tu(v,L),this},m.saveGraphicsState=function(){return G("q"),pr.push({key:Ze,size:Te,color:Po}),this},m.restoreGraphicsState=function(){G("Q");var v=pr.pop();return Ze=v.key,Te=v.size,Po=v.color,Jr=null,this},m.setCurrentTransformationMatrix=function(v){return G(v.toString()+" cm"),this},m.comment=function(v){return G("#"+v),this};var da=function(v,L){var $=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(ye){isNaN(ye)||($=parseFloat(ye))}});var ee=L||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(ye){isNaN(ye)||(ee=parseFloat(ye))}});var ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ce},set:function(ye){ce=ye.toString()}}),this},Dl=function(v,L,$,ee){da.call(this,v,L),this.type="rect";var ce=$||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ce},set:function(Ce){isNaN(Ce)||(ce=parseFloat(Ce))}});var ye=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(Ce){isNaN(Ce)||(ye=parseFloat(Ce))}}),this},Ml=function(){this.page=$t,this.currentPage=B,this.pages=je.slice(0),this.pagesContext=ct.slice(0),this.x=_n,this.y=wt,this.matrix=_r,this.width=Lo(B),this.height=Ds(B),this.outputDestination=ke,this.id="",this.objectNumber=-1};Ml.prototype.restore=function(){$t=this.page,B=this.currentPage,ct=this.pagesContext,je=this.pages,_n=this.x,wt=this.y,_r=this.matrix,Ol(B,this.width),Bl(B,this.height),ke=this.outputDestination};var Fu=function(v,L,$,ee,ce){Xr.push(new Ml),$t=B=0,je=[],_n=v,wt=L,_r=ce,Ll([$,ee])},Ef=function(v){if(Er[v])Xr.pop().restore();else{var L=new Ml,$="Xo"+(Object.keys(Cn).length+1).toString(10);L.id=$,Er[v]=$,Cn[$]=L,jt.publish("addFormObject",L),Xr.pop().restore()}};for(var ha in m.beginFormObject=function(v,L,$,ee,ce){return Fu(v,L,$,ee,ce),this},m.endFormObject=function(v){return Ef(v),this},m.doFormObject=function(v,L){var $=Cn[Er[v]];return G("q"),G(L.toString()+" cm"),G("/"+$.id+" Do"),G("Q"),this},m.getFormObject=function(v){var L=Cn[Er[v]];return{x:L.x,y:L.y,width:L.width,height:L.height,matrix:L.matrix}},m.save=function(v,L){return v=v||"generated.pdf",(L=L||{}).returnPromise=L.returnPromise||!1,L.returnPromise===!1?(qo(oa(os()),v),typeof qo.unload=="function"&&at.setTimeout&&setTimeout(qo.unload,911),this):new Promise(function($,ee){try{var ce=qo(oa(os()),v);typeof qo.unload=="function"&&at.setTimeout&&setTimeout(qo.unload,911),$(ce)}catch(ye){ee(ye.message)}})},nt.API)nt.API.hasOwnProperty(ha)&&(ha==="events"&&nt.API.events.length?function(v,L){var $,ee,ce;for(ce=L.length-1;ce!==-1;ce--)$=L[ce][0],ee=L[ce][1],v.subscribe.apply(v,[$].concat(typeof ee=="function"?[ee]:ee))}(jt,nt.API.events):m[ha]=nt.API[ha]);var Lo=m.getPageWidth=function(v){return(ct[v=v||B].mediaBox.topRightX-ct[v].mediaBox.bottomLeftX)/ze},Ol=m.setPageWidth=function(v,L){ct[v].mediaBox.topRightX=L*ze+ct[v].mediaBox.bottomLeftX},Ds=m.getPageHeight=function(v){return(ct[v=v||B].mediaBox.topRightY-ct[v].mediaBox.bottomLeftY)/ze},Bl=m.setPageHeight=function(v,L){ct[v].mediaBox.topRightY=L*ze+ct[v].mediaBox.bottomLeftY};return m.internal={pdfEscape:Xt,getStyle:Cu,getFont:Pf,getFontSize:Ie,getCharSpace:_f,getTextColor:kf,getLineHeight:ku,getLineHeightFactor:Eu,getLineWidth:ca,write:lt,getHorizontalCoordinate:qi,getVerticalCoordinate:as,getCoordinateString:Lf,getVerticalCoordinateString:Rs,collections:{},newObject:dt,newAdditionalObject:Zr,newObjectDeferred:sn,newObjectDeferredBegin:ir,getFilters:ni,putStream:sr,events:jt,scaleFactor:ze,pageSize:{getWidth:function(){return Lo(B)},setWidth:function(v){Ol(B,v)},getHeight:function(){return Ds(B)},setHeight:function(v){Bl(B,v)}},encryptionOptions:f,encryption:Hn,getEncryptor:bf,output:aa,getNumberOfPages:gf,pages:je,out:G,f2:X,f3:E,getPageInfo:Au,getPageInfoByObjId:ut,getCurrentPageInfo:Sf,getPDFVersion:b,Point:da,Rectangle:Dl,Matrix:et,hasHotfix:Nu},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Lo(B)},set:function(v){Ol(B,v)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ds(B)},set:function(v){Bl(B,v)},enumerable:!0,configurable:!0}),on.call(m,Pe),Ze="F1",bu(i,n),jt.publish("initialized"),m}Ea.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Ea.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ea.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Ea.prototype.processOwnerPassword=function(e,t){return d1(u1(t).substr(0,5),e)},Ea.prototype.encryptor=function(e,t){var n=u1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return d1(n,r)}},Dh.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Ft(e)!==Ft(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},nt.API={events:[]},nt.version="3.0.1";var cn=nt.API,Z0=1,sa=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},La=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ft=function(e){return e.toFixed(2)},Js=function(e){return e.toFixed(5)};cn.__acroform__={};var Pr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},g5=function(e){return e*Z0},Hi=function(e){var t=new i4,n=Ge.internal.getHeight(e)||0,r=Ge.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ft(r)),Number(ft(n))],t},dL=cn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},hL=cn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},fL=cn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},yn=cn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fL(e,t-1)},xn=cn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dL(e,t-1)},wn=cn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return hL(e,t-1)},pL=cn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(ft(l.lowerLeft_X)),Number(ft(l.lowerLeft_Y)),Number(ft(l.upperRight_X)),Number(ft(l.upperRight_Y))]},mL=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=h1(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+ft(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Hi(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},h1=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=n,o=Ge.internal.getHeight(e)||0;o=o<0?-o:o;var a=Ge.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(E,O,Q){if(E+1<i.length){var H=O+" "+i[E+1][0];return Ld(H,e,Q).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var d,f,p=Ld("3",e,s).height,g=e.multiline?o-s:(o-p)/2,m=g+=2,S=0,b=0,A=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ld(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var x="",w=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var R=!1;if(i[N].length!==1&&A!==i[N].length-1){if((p+2)*(w+2)+2>o)continue e;x+=i[N][A],R=!0,b=N,N--}else{x=(x+=i[N][A]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var q=parseInt(N),V=l(q,x,s),I=N>=i.length-1;if(V&&!I){x+=" ",A=0;continue}if(V||I){if(I)b=q;else if(e.multiline&&(p+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(p+2)*(w+2)+2>o)continue e;b=q}}for(var F="",Y=S;Y<=b;Y++){var X=i[Y];if(e.multiline){if(Y===b){F+=X[A]+" ",A=(A+1)%X.length;continue}if(Y===S){F+=X[X.length-1]+" ";continue}}F+=X[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,f=Ld(F,e,s).width,e.textAlign){case"right":d=a-f-2;break;case"center":d=(a-f)/2;break;case"left":default:d=2}t+=ft(d)+" "+ft(m)+` Td
`,t+="("+sa(F)+`) Tj
`,t+=-ft(d)+` 0 Td
`,m=-(s+2),f=0,S=R?b:b+1,w++,x=""}break}return r.text=t,r.fontSize=s,r},Ld=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},gL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vL=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},yL=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Ft(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},xL=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ri.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(gL)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Z0=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new s4,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&vL(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],d=a.Rect;if(a.Rect&&(a.Rect=pL(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ge.createDefaultAppearanceStream(a),Ft(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=d,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=mL(a);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var p="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var m=a.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var S=m[o];typeof S=="function"&&(S=S.call(i,a)),p+="/"+o+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=m)=="function"&&(S=S.call(i,a)),p+="/"+o+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&yL(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},r4=cn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Ft(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+sa(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Vp=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+sa(r(e))+")"},Ki=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ki.prototype.toString=function(){return this.objId+" 0 R"},Ki.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ki.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:r4(i,this.objId,this.scope)}):i instanceof Ki?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var i4=function(){Ki.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Pr(i4,Ki);var s4=function(){Ki.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+sa(n(e))+")"}},set:function(n){e=n}})};Pr(s4,Ki);var Ri=function e(){Ki.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yn(t,3)},set:function(x){x?this.F=xn(t,3):this.F=wn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Mh)return;s="FieldObject"+e.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+sa(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Z0:d},set:function(x){d=x}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(x){f=x}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Mh||this instanceof Jo))return Vp(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=x}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Dn?g:Vp(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=this instanceof Dn?x:x.substr(0,1)==="("?La(x.substr(1,x.length-2)):La(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dn?La(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof Dn?"/"+x:x}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Dn?m:Vp(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=this instanceof Dn?x:x.substr(0,1)==="("?La(x.substr(1,x.length-2)):La(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dn?La(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof Dn?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(x){x=!!x,b=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(x){S=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,1)},set:function(x){x?this.Ff=xn(this.Ff,1):this.Ff=wn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,2)},set:function(x){x?this.Ff=xn(this.Ff,2):this.Ff=wn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,3)},set:function(x){x?this.Ff=xn(this.Ff,3):this.Ff=wn(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');A=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(A){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Pr(Ri,Ki);var il=function(){Ri.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return r4(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,d=[];l=o.exec(s);)d.push(l[a]);return d}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,18)},set:function(n){n?this.Ff=xn(this.Ff,18):this.Ff=wn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=xn(this.Ff,19):this.Ff=wn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,20)},set:function(n){n?(this.Ff=xn(this.Ff,20),t.sort()):this.Ff=wn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,22)},set:function(n){n?this.Ff=xn(this.Ff,22):this.Ff=wn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,23)},set:function(n){n?this.Ff=xn(this.Ff,23):this.Ff=wn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,27)},set:function(n){n?this.Ff=xn(this.Ff,27):this.Ff=wn(this.Ff,27)}}),this.hasAppearanceStream=!1};Pr(il,Ri);var sl=function(){il.call(this),this.fontName="helvetica",this.combo=!1};Pr(sl,il);var ol=function(){sl.call(this),this.combo=!0};Pr(ol,sl);var Qd=function(){ol.call(this),this.edit=!0};Pr(Qd,ol);var Dn=function(){Ri.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,15)},set:function(n){n?this.Ff=xn(this.Ff,15):this.Ff=wn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,16)},set:function(n){n?this.Ff=xn(this.Ff,16):this.Ff=wn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,17)},set:function(n){n?this.Ff=xn(this.Ff,17):this.Ff=wn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,26)},set:function(n){n?this.Ff=xn(this.Ff,26):this.Ff=wn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+sa(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ft(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Pr(Dn,Ri);var Zd=function(){Dn.call(this),this.pushButton=!0};Pr(Zd,Dn);var al=function(){Dn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Pr(al,Dn);var Mh=function(){var e,t;Ri.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+sa(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Ft(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Pr(Mh,Ri),al.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},al.prototype.createOption=function(e){var t=new Mh;return t.Parent=this,t.optionName=e,this.Kids.push(t),wL.call(this.scope,t),t};var eh=function(){Dn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ge.CheckBox.createAppearanceStream()};Pr(eh,Dn);var Jo=function(){Ri.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,13)},set:function(t){t?this.Ff=xn(this.Ff,13):this.Ff=wn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,21)},set:function(t){t?this.Ff=xn(this.Ff,21):this.Ff=wn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,23)},set:function(t){t?this.Ff=xn(this.Ff,23):this.Ff=wn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,24)},set:function(t){t?this.Ff=xn(this.Ff,24):this.Ff=wn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,25)},set:function(t){t?this.Ff=xn(this.Ff,25):this.Ff=wn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,26)},set:function(t){t?this.Ff=xn(this.Ff,26):this.Ff=wn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Pr(Jo,Ri);var th=function(){Jo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,14)},set:function(e){e?this.Ff=xn(this.Ff,14):this.Ff=wn(this.Ff,14)}}),this.password=!0};Pr(th,Jo);var Ge={CheckBox:{createAppearanceStream:function(){return{N:{On:Ge.CheckBox.YesNormal},D:{On:Ge.CheckBox.YesPushDown,Off:Ge.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Hi(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=h1(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+ft(Ge.internal.getWidth(e))+" "+ft(Ge.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ft(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Hi(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Ge.internal.getHeight(e),o=Ge.internal.getWidth(e),a=h1(e,e.caption);return i.push("1 g"),i.push("0 0 "+ft(o)+" "+ft(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ft(o-1)+" "+ft(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+ft(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Hi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ft(Ge.internal.getWidth(e))+" "+ft(Ge.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ge.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ge.RadioButton.Circle.YesNormal,t.D[e]=Ge.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Hi(e);t.scope=e.scope;var n=[],r=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Ge.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Js(Ge.internal.getWidth(e)/2)+" "+Js(Ge.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Hi(e);t.scope=e.scope;var n=[],r=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ge.internal.Bezier_C).toFixed(5)),o=Number((r*Ge.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Js(Ge.internal.getWidth(e)/2)+" "+Js(Ge.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Js(Ge.internal.getWidth(e)/2)+" "+Js(Ge.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Hi(e);t.scope=e.scope;var n=[],r=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ge.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Js(Ge.internal.getWidth(e)/2)+" "+Js(Ge.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ge.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ge.RadioButton.Cross.YesNormal,t.D[e]=Ge.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Hi(e);t.scope=e.scope;var n=[],r=Ge.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+ft(Ge.internal.getWidth(e)-2)+" "+ft(Ge.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ft(r.x1.x)+" "+ft(r.x1.y)+" m"),n.push(ft(r.x2.x)+" "+ft(r.x2.y)+" l"),n.push(ft(r.x4.x)+" "+ft(r.x4.y)+" m"),n.push(ft(r.x3.x)+" "+ft(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Hi(e);t.scope=e.scope;var n=Ge.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+ft(Ge.internal.getWidth(e))+" "+ft(Ge.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ft(Ge.internal.getWidth(e)-2)+" "+ft(Ge.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ft(n.x1.x)+" "+ft(n.x1.y)+" m"),r.push(ft(n.x2.x)+" "+ft(n.x2.y)+" l"),r.push(ft(n.x4.x)+" "+ft(n.x4.y)+" m"),r.push(ft(n.x3.x)+" "+ft(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Hi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ft(Ge.internal.getWidth(e))+" "+ft(Ge.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ge.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ge.internal.getWidth(e),n=Ge.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ge.internal.getWidth=function(e){var t=0;return Ft(e)==="object"&&(t=g5(e.Rect[2])),t},Ge.internal.getHeight=function(e){var t=0;return Ft(e)==="object"&&(t=g5(e.Rect[3])),t};var wL=cn.addField=function(e){if(xL(this,e),!(e instanceof Ri))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};cn.AcroFormChoiceField=il,cn.AcroFormListBox=sl,cn.AcroFormComboBox=ol,cn.AcroFormEditBox=Qd,cn.AcroFormButton=Dn,cn.AcroFormPushButton=Zd,cn.AcroFormRadioButton=al,cn.AcroFormCheckBox=eh,cn.AcroFormTextField=Jo,cn.AcroFormPasswordField=th,cn.AcroFormAppearance=Ge,cn.AcroForm={ChoiceField:il,ListBox:sl,ComboBox:ol,EditBox:Qd,Button:Dn,PushButton:Zd,RadioButton:al,CheckBox:eh,TextField:Jo,PasswordField:th,Appearance:Ge},nt.AcroForm={ChoiceField:il,ListBox:sl,ComboBox:ol,EditBox:Qd,Button:Dn,PushButton:Zd,RadioButton:al,CheckBox:eh,TextField:Jo,PasswordField:th,Appearance:Ge};function o4(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(E,O){var Q,H,de,ae,le,W=t;if((O=O||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(V(E))for(le in n)for(de=n[le],Q=0;Q<de.length;Q+=1){for(ae=!0,H=0;H<de[Q].length;H+=1)if(de[Q][H]!==void 0&&de[Q][H]!==E[H]){ae=!1;break}if(ae===!0){W=le;break}}else for(le in n)for(de=n[le],Q=0;Q<de.length;Q+=1){for(ae=!0,H=0;H<de[Q].length;H+=1)if(de[Q][H]!==void 0&&de[Q][H]!==E.charCodeAt(H)){ae=!1;break}if(ae===!0){W=le;break}}return W===t&&O!==t&&(W=O),W},i=function E(O){for(var Q=this.internal.write,H=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:O.width}),ae.push({key:"Height",value:O.height}),O.colorSpace===A.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===A.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var le="",W=0,ie=O.transparency.length;W<ie;W++)le+=O.transparency[W]+" "+O.transparency[W]+" ";ae.push({key:"Mask",value:"["+le+"]"})}O.sMask!==void 0&&ae.push({key:"SMask",value:O.objectId+1+" 0 R"});var J=O.filter!==void 0?["/"+O.filter]:void 0;if(H({data:O.data,additionalKeyValues:ae,alreadyAppliedFilters:J,objectId:O.objectId}),Q("endobj"),"sMask"in O&&O.sMask!==void 0){var me="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,C={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:me,data:O.sMask};"filter"in O&&(C.filter=O.filter),E.call(this,C)}if(O.colorSpace===A.INDEXED){var B=this.internal.newObject();H({data:F(new Uint8Array(O.palette)),objectId:B}),Q("endobj")}},s=function(){var E=this.internal.collections.addImage_images;for(var O in E)i.call(this,E[O])},o=function(){var E,O=this.internal.collections.addImage_images,Q=this.internal.write;for(var H in O)Q("/I"+(E=O[H]).index,E.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var E=this.internal.collections.addImage_images;return a.call(this),E},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(E){return typeof e["process"+E.toUpperCase()]=="function"},p=function(E){return Ft(E)==="object"&&E.nodeType===1},g=function(E,O){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var Q=""+E.getAttribute("src");if(Q.indexOf("data:image/")===0)return Mc(unescape(Q).split("base64,").pop());var H=e.loadFile(Q,!0);if(H!==void 0)return H}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var de;switch(O){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;case"JPEG":case"JPG":default:de="image/jpeg"}return Mc(E.toDataURL(de,1).split("base64,").pop())}},m=function(E){var O=this.internal.collections.addImage_images;if(O){for(var Q in O)if(E===O[Q].alias)return O[Q]}},S=function(E,O,Q){return E||O||(E=-96,O=-96),E<0&&(E=-1*Q.width*72/E/this.internal.scaleFactor),O<0&&(O=-1*Q.height*72/O/this.internal.scaleFactor),E===0&&(E=O*Q.width/Q.height),O===0&&(O=E*Q.height/Q.width),[E,O]},b=function(E,O,Q,H,de,ae){var le=S.call(this,Q,H,de),W=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,J=l.call(this);if(Q=le[0],H=le[1],J[de.index]=de,ae){ae*=Math.PI/180;var me=Math.cos(ae),C=Math.sin(ae),B=function(K){return K.toFixed(4)},z=[B(me),B(C),B(-1*C),B(me),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,W(E),ie(O+H),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([W(Q),"0","0",W(H),"0","0","cm"].join(" "))):this.internal.write([W(Q),"0","0",W(H),W(E),ie(O+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var O,Q,H=0;if(typeof E=="string")for(Q=E.length,O=0;O<Q;O++)H=(H<<5)-H+E.charCodeAt(O),H|=0;else if(V(E))for(Q=E.byteLength/2,O=0;O<Q;O++)H=(H<<5)-H+E[O],H|=0;return H},N=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var O=!0;return E.length===0&&(O=!1),E.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(O=!1),O},R=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var O=E.indexOf(",");return O<0?null:E.substring(0,O).trim().endsWith("base64")?E.substring(O+1):null},q=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return q()&&E instanceof ArrayBuffer};var V=e.__addimage__.isArrayBufferView=function(E){return q()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},I=e.__addimage__.binaryStringToUint8Array=function(E){for(var O=E.length,Q=new Uint8Array(O),H=0;H<O;H++)Q[H]=E.charCodeAt(H);return Q},F=e.__addimage__.arrayBufferToBinaryString=function(E){for(var O="",Q=V(E)?E:new Uint8Array(E),H=0;H<Q.length;H+=8192)O+=String.fromCharCode.apply(null,Q.subarray(H,H+8192));return O};e.addImage=function(){var E,O,Q,H,de,ae,le,W,ie;if(typeof arguments[1]=="number"?(O=t,Q=arguments[1],H=arguments[2],de=arguments[3],ae=arguments[4],le=arguments[5],W=arguments[6],ie=arguments[7]):(O=arguments[1],Q=arguments[2],H=arguments[3],de=arguments[4],ae=arguments[5],le=arguments[6],W=arguments[7],ie=arguments[8]),Ft(E=arguments[0])==="object"&&!p(E)&&"imageData"in E){var J=E;E=J.imageData,O=J.format||O||t,Q=J.x||Q||0,H=J.y||H||0,de=J.w||J.width||de,ae=J.h||J.height||ae,le=J.alias||le,W=J.compression||W,ie=J.rotation||J.angle||ie}var me=this.internal.getFilters();if(W===void 0&&me.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(Q)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var C=Y.call(this,E,O,le,W);return b.call(this,Q,H,de,ae,C,ie),this};var Y=function(E,O,Q,H){var de,ae,le;if(typeof E=="string"&&r(E)===t){E=unescape(E);var W=X(E,!1);(W!==""||(W=e.loadFile(E,!0))!==void 0)&&(E=W)}if(p(E)&&(E=g(E,O)),O=r(E,O),!f(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((le=Q)==null||le.length===0)&&(Q=function(ie){return typeof ie=="string"||V(ie)?w(ie):V(ie.data)?w(ie.data):null}(E)),(de=m.call(this,Q))||(q()&&(E instanceof Uint8Array||O==="RGBA"||(ae=E,E=I(E))),de=this["process"+O.toUpperCase()](E,d.call(this),Q,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in e.image_compression?ie:x.NONE}(H),ae)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},X=e.__addimage__.convertBase64ToBinaryString=function(E,O){O=typeof O!="boolean"||O;var Q,H="";if(typeof E=="string"){var de;Q=(de=R(E))!==null&&de!==void 0?de:E;try{H=Mc(Q)}catch(ae){if(O)throw N(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};e.getImageProperties=function(E){var O,Q,H="";if(p(E)&&(E=g(E)),typeof E=="string"&&r(E)===t&&((H=X(E,!1))===""&&(H=e.loadFile(E)||""),E=H),Q=r(E),!f(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(!q()||E instanceof Uint8Array||(E=I(E)),!(O=this["process"+Q.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=Q,O}})(nt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};nt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,f=!1,p=0;p<d.length&&!f;p++)switch((r=d[p]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){r=d[g];var m=this.internal.pdfEscape,S=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(b.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(x(r.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(x(w))+") >>",b.content=s;var N=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(b.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(S(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(S(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var V=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+V+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:d(r),w:l(n+i),h:d(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(n,a).length;o=Math.ceil(d*f)}else a=l,o=d;return this.text(n,r,i,s),i+=.2*d,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-d,a,o,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(nt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=e.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(b){var A=0,x=n,w="",N=0;for(A=0;A<b.length;A+=1)x[b.charCodeAt(A)]!==void 0?(N++,typeof(x=x[b.charCodeAt(A)])=="number"&&(w+=String.fromCharCode(x),x=n,N=0),A===b.length-1&&(x=n,w+=b.charAt(A-(N-1)),A-=N-1,N=0)):(x=n,w+=b.charAt(A-N),A-=N,N=0);return w};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(b,A,x){return o(b)?s(b)===!1?-1:!d(b)||!o(A)&&!o(x)||!o(x)&&a(A)||a(b)&&!o(A)||a(b)&&l(A)||a(b)&&a(A)?0:f(b)&&o(A)&&!a(A)&&o(x)&&d(x)?3:a(b)||!o(x)?1:2:-1},m=function(b){var A=0,x=0,w=0,N="",R="",q="",V=(b=b||"").split("\\s+"),I=[];for(A=0;A<V.length;A+=1){for(I.push(""),x=0;x<V[A].length;x+=1)N=V[A][x],R=V[A][x-1],q=V[A][x+1],o(N)?(w=g(N,R,q),I[A]+=w!==-1?String.fromCharCode(t[N.charCodeAt(0)][w]):N):I[A]+=N;I[A]=p(I[A])}return I.join(" ")},S=e.__arabicParser__.processArabic=e.processArabic=function(){var b,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(A)){var w=0;for(x=[],w=0;w<A.length;w+=1)Array.isArray(A[w])?x.push([m(A[w][0]),A[w][1],A[w][2]]):x.push([m(A[w])]);b=x}else b=m(A);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",S])}(nt.API),nt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(nt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(b){S=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,d){r.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,m=0,S=0,b=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=d.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,R){return N.concat(A.splitTextToSize(R,x))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)m<(b=this.getStringUnitWidth(l[w],{font:p})*f)&&(m=b);return m!==0&&(S=l.length),{w:m/=g,h:Math.max((S*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===l.lineNumber?(l.x=(d.x||0)+(d.width||0),l.y=d.y||0):d.y+d.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=d.y+d.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};e.table=function(l,d,f,p,g){if(r.call(this),!f)throw new Error("No data for PDF table.");var m,S,b,A,x=[],w=[],N=[],R={},q={},V=[],I=[],F=(g=g||{}).autoSize||!1,Y=g.printHeaders!==!1,X=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,E=g.margins||Object.assign({width:this.getPageWidth()},t),O=typeof g.padding=="number"?g.padding:3,Q=g.headerBackgroundColor||"#c8c8c8",H=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=H,this.setFontSize(X),p==null)w=x=Object.keys(f[0]),N=x.map(function(){return"left"});else if(Array.isArray(p)&&Ft(p[0])==="object")for(x=p.map(function(J){return J.name}),w=p.map(function(J){return J.prompt||J.name||""}),N=p.map(function(J){return J.align||"left"}),m=0;m<p.length;m+=1)q[p[m].name]=p[m].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(w=x=p,N=x.map(function(){return"left"}));if(F||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<x.length;m+=1){for(R[A=x[m]]=f.map(function(J){return J[A]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(w[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=R[A],this.setFont(void 0,"normal"),b=0;b<S.length;b+=1)V.push(this.getTextDimensions(S[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[A]=Math.max.apply(null,V)+O+O,V=[]}if(Y){var de={};for(m=0;m<x.length;m+=1)de[x[m]]={},de[x[m]].text=w[m],de[x[m]].align=N[m];var ae=a.call(this,de,q);I=x.map(function(J){return new s(l,d,q[J],ae,de[J].text,void 0,de[J].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var le=p.reduce(function(J,me){return J[me.name]=me.align,J},{});for(m=0;m<f.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:f[m]},this);var W=a.call(this,f[m],q);for(b=0;b<x.length;b+=1){var ie=f[m][x[b]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:b,data:ie},this),o.call(this,new s(l,d,q[x[b]],W,ie,m+2,le[x[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=d,this};var a=function(l,d){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var S=l[m];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,d[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+f+f},this).reduce(function(m,S){return Math.max(m,S)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=l;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(S)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(nt.API);var a4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},l4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],f1=o4(l4),c4=[100,200,300,400,500,600,700,800,900],bL=o4(c4);function p1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return a4[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof f1[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function v5(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var SL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},y5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function x5(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function jL(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},SL,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=p1(t[a])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+x5(s)+"' and default family '"+r+"'.");if(o=function(l,d){if(d[l])return d[l];var f=f1[l],p=f<=f1.normal?-1:1,g=v5(d,l4,f,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,o),o=function(l,d){if(d[l])return d[l];for(var f=a4[l],p=0;p<f.length;++p)if(d[f[p]])return d[f[p]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,d){if(d[l])return d[l];if(l===400&&d[500])return d[500];if(l===500&&d[400])return d[400];var f=bL[l],p=v5(d,c4,f,l<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+l);return p}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+x5(s)+"'.");return o}function w5(e){return e.trimLeft()}function NL(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function AL(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var kd,b5,S5,$p=["times"];(function(e){var t,n,r,i,s,o,a,l,d,f=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new o,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new o,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,d=new f}]);var p=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=C;Object.defineProperty(this,"pdf",{get:function(){return B}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(ve){z=!!ve}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(ve){K=!!ve}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ve){isNaN(ve)||(Z=ve)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(ve){isNaN(ve)||(oe=ve)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ve){var G;typeof ve=="number"?G=[ve,ve,ve,ve]:((G=new Array(4))[0]=ve[0],G[1]=ve.length>=2?ve[1]:G[0],G[2]=ve.length>=3?ve[2]:G[0],G[3]=ve.length>=4?ve[3]:G[1]),d.margin=G}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ve){he=ve}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(ve){ue=ve}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(ve){xe=ve}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ve){ve instanceof f&&(d=ve)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ve){d.path=ve}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(ve){je=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var G;G=g(ve),this.ctx.fillStyle=G.style,this.ctx.isFillTransparent=G.a===0,this.ctx.fillOpacity=G.a,this.pdf.setFillColor(G.r,G.g,G.b,{a:G.a}),this.pdf.setTextColor(G.r,G.g,G.b,{a:G.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var G=g(ve);this.ctx.strokeStyle=G.style,this.ctx.isStrokeTransparent=G.a===0,this.ctx.strokeOpacity=G.a,G.a===0?this.pdf.setDrawColor(255,255,255):(G.a,this.pdf.setDrawColor(G.r,G.g,G.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Ee=null;function ke(ve,G){if(Ee===null){var lt=function(He){var Pe=[];return Object.keys(He).forEach(function(Te){He[Te].forEach(function(Me){var Ie=null;switch(Me){case"bold":Ie={family:Te,weight:"bold"};break;case"italic":Ie={family:Te,style:"italic"};break;case"bolditalic":Ie={family:Te,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Te}}Ie!==null&&(Ie.ref={name:Te,style:Me},Pe.push(Ie))})}),Pe}(ve.getFontList());Ee=function(He){for(var Pe={},Te=0;Te<He.length;++Te){var Me=p1(He[Te]),Ie=Me.family,Ke=Me.stretch,rt=Me.style,Le=Me.weight;Pe[Ie]=Pe[Ie]||{},Pe[Ie][Ke]=Pe[Ie][Ke]||{},Pe[Ie][Ke][rt]=Pe[Ie][Ke][rt]||{},Pe[Ie][Ke][rt][Le]=Me}return Pe}(lt.concat(G))}return Ee}var Xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xe},set:function(ve){Ee=null,Xe=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var G;if(this.ctx.font=ve,(G=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var lt=G[1];G[2];var He=G[3],Pe=G[4];G[5];var Te=G[6],Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor(Me==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var Ie=function(ot){var Ze,ze,_n=[],wt=ot.trim();if(wt==="")return $p;if(wt in y5)return[y5[wt]];for(;wt!=="";){switch(ze=null,Ze=(wt=w5(wt)).charAt(0)){case'"':case"'":ze=NL(wt.substring(1),Ze);break;default:ze=AL(wt)}if(ze===null||(_n.push(ze[0]),(wt=w5(ze[1]))!==""&&wt.charAt(0)!==","))return $p;wt=wt.replace(/^,/,"")}return _n}(Te);if(this.fontFaces){var Ke=jL(ke(this.pdf,this.fontFaces),Ie.map(function(ot){return{family:ot,stretch:"normal",weight:He,style:lt}}));this.pdf.setFont(Ke.ref.name,Ke.ref.style)}else{var rt="";(He==="bold"||parseInt(He,10)>=700||lt==="bold")&&(rt="bold"),lt==="italic"&&(rt+="italic"),rt.length===0&&(rt="normal");for(var Le="",De={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},it=0;it<Ie.length;it++){if(this.pdf.internal.getFont(Ie[it],rt,{noFallback:!0,disableWarning:!0})!==void 0){Le=Ie[it];break}if(rt==="bolditalic"&&this.pdf.internal.getFont(Ie[it],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Le=Ie[it],rt="bold";else if(this.pdf.internal.getFont(Ie[it],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Le=Ie[it],rt="normal";break}}if(Le===""){for(var Ct=0;Ct<Ie.length;Ct++)if(De[Ie[Ct]]){Le=De[Ie[Ct]];break}}Le=Le===""?"Times":Le,this.pdf.setFont(Le,rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};p.prototype.setLineDash=function(C){this.lineDash=C},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){R.call(this,"fill",!1)},p.prototype.stroke=function(){R.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(C,B){if(isNaN(C)||isNaN(B))throw Bt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new o(C,B));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(C,B)},p.prototype.closePath=function(){var C=new o(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Ft(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){C=new o(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(C.x,C.y)},p.prototype.lineTo=function(C,B){if(isNaN(C)||isNaN(B))throw Bt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new o(C,B));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},p.prototype.quadraticCurveTo=function(C,B,z,K){if(isNaN(z)||isNaN(K)||isNaN(C)||isNaN(B))throw Bt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new o(z,K)),oe=this.ctx.transform.applyToPoint(new o(C,B));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},p.prototype.bezierCurveTo=function(C,B,z,K,Z,oe){if(isNaN(Z)||isNaN(oe)||isNaN(C)||isNaN(B)||isNaN(z)||isNaN(K))throw Bt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(Z,oe)),ue=this.ctx.transform.applyToPoint(new o(C,B)),xe=this.ctx.transform.applyToPoint(new o(z,K));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:xe.x,y2:xe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},p.prototype.arc=function(C,B,z,K,Z,oe){if(isNaN(C)||isNaN(B)||isNaN(z)||isNaN(K)||isNaN(Z))throw Bt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(C,B));C=he.x,B=he.y;var ue=this.ctx.transform.applyToPoint(new o(0,z)),xe=this.ctx.transform.applyToPoint(new o(0,0));z=Math.sqrt(Math.pow(ue.x-xe.x,2)+Math.pow(ue.y-xe.y,2))}Math.abs(Z-K)>=2*Math.PI&&(K=0,Z=2*Math.PI),this.path.push({type:"arc",x:C,y:B,radius:z,startAngle:K,endAngle:Z,counterclockwise:oe})},p.prototype.arcTo=function(C,B,z,K,Z){throw new Error("arcTo not implemented.")},p.prototype.rect=function(C,B,z,K){if(isNaN(C)||isNaN(B)||isNaN(z)||isNaN(K))throw Bt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,B),this.lineTo(C+z,B),this.lineTo(C+z,B+K),this.lineTo(C,B+K),this.lineTo(C,B),this.lineTo(C+z,B),this.lineTo(C,B)},p.prototype.fillRect=function(C,B,z,K){if(isNaN(C)||isNaN(B)||isNaN(z)||isNaN(K))throw Bt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,B,z,K),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},p.prototype.strokeRect=function(C,B,z,K){if(isNaN(C)||isNaN(B)||isNaN(z)||isNaN(K))throw Bt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(C,B,z,K),this.stroke())},p.prototype.clearRect=function(C,B,z,K){if(isNaN(C)||isNaN(B)||isNaN(z)||isNaN(K))throw Bt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,B,z,K))},p.prototype.save=function(C){C=typeof C!="boolean"||C;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},p.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(B),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(C){var B,z,K,Z;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))B=0,z=0,K=0,Z=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(oe!==null)B=parseInt(oe[1]),z=parseInt(oe[2]),K=parseInt(oe[3]),Z=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)B=parseInt(oe[1]),z=parseInt(oe[2]),K=parseInt(oe[3]),Z=parseFloat(oe[4]);else{if(Z=1,typeof C=="string"&&C.charAt(0)!=="#"){var he=new e4(C);C=he.ok?he.toHex():"#000000"}C.length===4?(B=C.substring(1,2),B+=B,z=C.substring(2,3),z+=z,K=C.substring(3,4),K+=K):(B=C.substring(1,3),z=C.substring(3,5),K=C.substring(5,7)),B=parseInt(B,16),z=parseInt(z,16),K=parseInt(K,16)}}return{r:B,g:z,b:K,a:Z,style:C}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(C,B,z,K){if(isNaN(B)||isNaN(z)||typeof C!="string")throw Bt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!m.call(this)){var Z=W(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;O.call(this,{text:C,x:B,y:z,scale:oe,angle:Z,align:this.textAlign,maxWidth:K})}},p.prototype.strokeText=function(C,B,z,K){if(isNaN(B)||isNaN(z)||typeof C!="string")throw Bt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){K=isNaN(K)?void 0:K;var Z=W(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;O.call(this,{text:C,x:B,y:z,scale:oe,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:K})}},p.prototype.measureText=function(C){if(typeof C!="string")throw Bt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,z=this.pdf.internal.scaleFactor,K=B.internal.getFontSize(),Z=B.getStringUnitWidth(C)*K/B.internal.scaleFactor,oe=function(he){var ue=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this};return new oe({width:Z*=Math.round(96*z/72*1e4)/1e4})},p.prototype.scale=function(C,B){if(isNaN(C)||isNaN(B))throw Bt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(C,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},p.prototype.rotate=function(C){if(isNaN(C))throw Bt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},p.prototype.translate=function(C,B){if(isNaN(C)||isNaN(B))throw Bt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,C,B);this.ctx.transform=this.ctx.transform.multiply(z)},p.prototype.transform=function(C,B,z,K,Z,oe){if(isNaN(C)||isNaN(B)||isNaN(z)||isNaN(K)||isNaN(Z)||isNaN(oe))throw Bt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(C,B,z,K,Z,oe);this.ctx.transform=this.ctx.transform.multiply(he)},p.prototype.setTransform=function(C,B,z,K,Z,oe){C=isNaN(C)?1:C,B=isNaN(B)?0:B,z=isNaN(z)?0:z,K=isNaN(K)?1:K,Z=isNaN(Z)?0:Z,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(C,B,z,K,Z,oe)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(C,B,z,K,Z,oe,he,ue,xe){var je=this.pdf.getImageProperties(C),Ee=1,ke=1,Xe=1,ve=1;K!==void 0&&ue!==void 0&&(Xe=ue/K,ve=xe/Z,Ee=je.width/K*ue/K,ke=je.height/Z*xe/Z),oe===void 0&&(oe=B,he=z,B=0,z=0),K!==void 0&&ue===void 0&&(ue=K,xe=Z),K===void 0&&ue===void 0&&(ue=je.width,xe=je.height);for(var G,lt=this.ctx.transform.decompose(),He=W(lt.rotate.shx),Pe=new l,Te=(Pe=(Pe=(Pe=Pe.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new a(oe-B*Xe,he-z*ve,K*Ee,Z*ke)),Me=A.call(this,Te),Ie=[],Ke=0;Ke<Me.length;Ke+=1)Ie.indexOf(Me[Ke])===-1&&Ie.push(Me[Ke]);if(N(Ie),this.autoPaging)for(var rt=Ie[0],Le=Ie[Ie.length-1],De=rt;De<Le+1;De++){this.pdf.setPage(De);var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=De===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=De===1?0:ot+(De-2)*Ze;if(this.ctx.clip_path.length!==0){var _n=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(G,this.posX+this.margin[3],-ze+Ct+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=_n}var wt=JSON.parse(JSON.stringify(Te));wt=w([wt],this.posX+this.margin[3],-ze+Ct+this.ctx.prevPageLastElemOffset)[0];var _r=(De>rt||De<Le)&&b.call(this);_r&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ze,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",wt.x,wt.y,wt.w,wt.h,null,null,He),_r&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,He)};var A=function(C,B,z){var K=[];B=B||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":K.push(Math.floor((C.y+Z)/z)+1);break;case"arc":K.push(Math.floor((C.y+Z-C.radius)/z)+1),K.push(Math.floor((C.y+Z+C.radius)/z)+1);break;case"qct":var oe=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);K.push(Math.floor((oe.y+Z)/z)+1),K.push(Math.floor((oe.y+oe.h+Z)/z)+1);break;case"bct":var he=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);K.push(Math.floor((he.y+Z)/z)+1),K.push(Math.floor((he.y+he.h+Z)/z)+1);break;case"rect":K.push(Math.floor((C.y+Z)/z)+1),K.push(Math.floor((C.y+C.h+Z)/z)+1)}for(var ue=0;ue<K.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<K[ue];)x.call(this);return K},x=function(){var C=this.fillStyle,B=this.strokeStyle,z=this.font,K=this.lineCap,Z=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=B,this.font=z,this.lineCap=K,this.lineWidth=Z,this.lineJoin=oe},w=function(C,B,z){for(var K=0;K<C.length;K++)switch(C[K].type){case"bct":C[K].x2+=B,C[K].y2+=z;case"qct":C[K].x1+=B,C[K].y1+=z;case"mt":case"lt":case"arc":default:C[K].x+=B,C[K].y+=z}return C},N=function(C){return C.sort(function(B,z){return B-z})},R=function(C,B){for(var z,K,Z=this.fillStyle,oe=this.strokeStyle,he=this.lineCap,ue=this.lineWidth,xe=Math.abs(ue*this.ctx.transform.scaleX),je=this.lineJoin,Ee=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),Xe=[],ve=0;ve<ke.length;ve++)if(ke[ve].x!==void 0)for(var G=A.call(this,ke[ve]),lt=0;lt<G.length;lt+=1)Xe.indexOf(G[lt])===-1&&Xe.push(G[lt]);for(var He=0;He<Xe.length;He++)for(;this.pdf.internal.getNumberOfPages()<Xe[He];)x.call(this);if(N(Xe),this.autoPaging)for(var Pe=Xe[0],Te=Xe[Xe.length-1],Me=Pe;Me<Te+1;Me++){this.pdf.setPage(Me),this.fillStyle=Z,this.strokeStyle=oe,this.lineCap=he,this.lineWidth=xe,this.lineJoin=je;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=Me===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=Me===1?0:rt+(Me-2)*Le;if(this.ctx.clip_path.length!==0){var it=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(z,this.posX+this.margin[3],-De+Ke+this.ctx.prevPageLastElemOffset),q.call(this,C,!0),this.path=it}if(K=JSON.parse(JSON.stringify(Ee)),this.path=w(K,this.posX+this.margin[3],-De+Ke+this.ctx.prevPageLastElemOffset),B===!1||Me===0){var Ct=(Me>Pe||Me<Te)&&b.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,Le,null).clip().discardPath()),q.call(this,C,B),Ct&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=xe,q.call(this,C,B),this.lineWidth=ue;this.path=Ee},q=function(C,B){if((C!=="stroke"||B||!S.call(this))&&(C==="stroke"||B||!m.call(this))){for(var z,K,Z=[],oe=this.path,he=0;he<oe.length;he++){var ue=oe[he];switch(ue.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:ue,deltas:[],abs:[]});break;case"lt":var xe=Z.length;if(oe[he-1]&&!isNaN(oe[he-1].x)&&(z=[ue.x-oe[he-1].x,ue.y-oe[he-1].y],xe>0)){for(;xe>=0;xe--)if(Z[xe-1].close!==!0&&Z[xe-1].begin!==!0){Z[xe-1].deltas.push(z),Z[xe-1].abs.push(ue);break}}break;case"bct":z=[ue.x1-oe[he-1].x,ue.y1-oe[he-1].y,ue.x2-oe[he-1].x,ue.y2-oe[he-1].y,ue.x-oe[he-1].x,ue.y-oe[he-1].y],Z[Z.length-1].deltas.push(z);break;case"qct":var je=oe[he-1].x+2/3*(ue.x1-oe[he-1].x),Ee=oe[he-1].y+2/3*(ue.y1-oe[he-1].y),ke=ue.x+2/3*(ue.x1-ue.x),Xe=ue.y+2/3*(ue.y1-ue.y),ve=ue.x,G=ue.y;z=[je-oe[he-1].x,Ee-oe[he-1].y,ke-oe[he-1].x,Xe-oe[he-1].y,ve-oe[he-1].x,G-oe[he-1].y],Z[Z.length-1].deltas.push(z);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(ue)}}K=B?null:C==="stroke"?"stroke":"fill";for(var lt=!1,He=0;He<Z.length;He++)if(Z[He].arc)for(var Pe=Z[He].abs,Te=0;Te<Pe.length;Te++){var Me=Pe[Te];Me.type==="arc"?F.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,B,!lt):Q.call(this,Me.x,Me.y),lt=!0}else if(Z[He].close===!0)this.pdf.internal.out("h"),lt=!1;else if(Z[He].begin!==!0){var Ie=Z[He].start.x,Ke=Z[He].start.y;H.call(this,Z[He].deltas,Ie,Ke),lt=!0}K&&Y.call(this,K),B&&X.call(this)}},V=function(C){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-z;case"top":return C+B-z;case"hanging":return C+B-2*z;case"middle":return C+B/2-z;case"ideographic":return C;case"alphabetic":default:return C}},I=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(B,z){this.colorStops.push([B,z])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(C,B,z,K,Z,oe,he,ue,xe){for(var je=ae.call(this,z,K,Z,oe),Ee=0;Ee<je.length;Ee++){var ke=je[Ee];Ee===0&&(xe?E.call(this,ke.x1+C,ke.y1+B):Q.call(this,ke.x1+C,ke.y1+B)),de.call(this,C,B,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ue?X.call(this):Y.call(this,he)},Y=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(C,B){this.pdf.internal.out(n(C)+" "+r(B)+" m")},O=function(C){var B;switch(C.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var z=this.pdf.getTextDimensions(C.text),K=V.call(this,C.y),Z=I.call(this,K)-z.h,oe=this.ctx.transform.applyToPoint(new o(C.x,K)),he=this.ctx.transform.decompose(),ue=new l;ue=(ue=(ue=ue.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var xe,je,Ee,ke=this.ctx.transform.applyToRectangle(new a(C.x,K,z.w,z.h)),Xe=ue.applyToRectangle(new a(C.x,Z,z.w,z.h)),ve=A.call(this,Xe),G=[],lt=0;lt<ve.length;lt+=1)G.indexOf(ve[lt])===-1&&G.push(ve[lt]);if(N(G),this.autoPaging)for(var He=G[0],Pe=G[G.length-1],Te=He;Te<Pe+1;Te++){this.pdf.setPage(Te);var Me=Te===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[2],rt=Ke-this.margin[0],Le=this.pdf.internal.pageSize.width-this.margin[1],De=Le-this.margin[3],it=Te===1?0:Ie+(Te-2)*rt;if(this.ctx.clip_path.length!==0){var Ct=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(xe,this.posX+this.margin[3],-1*it+Me),q.call(this,"fill",!0),this.path=Ct}var ot=w([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-it+Me+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*C.scale),Ee=this.lineWidth,this.lineWidth=Ee*C.scale);var Ze=this.autoPaging!=="text";if(Ze||ot.y+ot.h<=Ke){if(Ze||ot.y>=Me&&ot.x<=Le){var ze=Ze?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||Le-ot.x)[0],_n=w([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-it+Me+this.ctx.prevPageLastElemOffset)[0],wt=Ze&&(Te>He||Te<Pe)&&b.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,rt,null).clip().discardPath()),this.pdf.text(ze,_n.x,_n.y,{angle:C.angle,align:B,renderingMode:C.renderingMode}),wt&&this.pdf.restoreGraphicsState()}}else ot.y<Ke&&(this.ctx.prevPageLastElemOffset+=Ke-ot.y);C.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Ee)}else C.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*C.scale),Ee=this.lineWidth,this.lineWidth=Ee*C.scale),this.pdf.text(C.text,oe.x+this.posX,oe.y+this.posY,{angle:C.angle,align:B,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Ee)},Q=function(C,B,z,K){z=z||0,K=K||0,this.pdf.internal.out(n(C+z)+" "+r(B+K)+" l")},H=function(C,B,z){return this.pdf.lines(C,B,z,null,null)},de=function(C,B,z,K,Z,oe,he,ue){this.pdf.internal.out([t(i(z+C)),t(s(K+B)),t(i(Z+C)),t(s(oe+B)),t(i(he+C)),t(s(ue+B)),"c"].join(" "))},ae=function(C,B,z,K){for(var Z=2*Math.PI,oe=Math.PI/2;B>z;)B-=Z;var he=Math.abs(z-B);he<Z&&K&&(he=Z-he);for(var ue=[],xe=K?-1:1,je=B;he>1e-5;){var Ee=je+xe*Math.min(he,oe);ue.push(le.call(this,C,je,Ee)),he-=Math.abs(Ee-je),je=Ee}return ue},le=function(C,B,z){var K=(z-B)/2,Z=C*Math.cos(K),oe=C*Math.sin(K),he=Z,ue=-oe,xe=he*he+ue*ue,je=xe+he*Z+ue*oe,Ee=4/3*(Math.sqrt(2*xe*je)-je)/(he*oe-ue*Z),ke=he-Ee*ue,Xe=ue+Ee*he,ve=ke,G=-Xe,lt=K+B,He=Math.cos(lt),Pe=Math.sin(lt);return{x1:C*Math.cos(B),y1:C*Math.sin(B),x2:ke*He-Xe*Pe,y2:ke*Pe+Xe*He,x3:ve*He-G*Pe,y3:ve*Pe+G*He,x4:C*Math.cos(z),y4:C*Math.sin(z)}},W=function(C){return 180*C/Math.PI},ie=function(C,B,z,K,Z,oe){var he=C+.5*(z-C),ue=B+.5*(K-B),xe=Z+.5*(z-Z),je=oe+.5*(K-oe),Ee=Math.min(C,Z,he,xe),ke=Math.max(C,Z,he,xe),Xe=Math.min(B,oe,ue,je),ve=Math.max(B,oe,ue,je);return new a(Ee,Xe,ke-Ee,ve-Xe)},J=function(C,B,z,K,Z,oe,he,ue){var xe,je,Ee,ke,Xe,ve,G,lt,He,Pe,Te,Me,Ie,Ke,rt=z-C,Le=K-B,De=Z-z,it=oe-K,Ct=he-Z,ot=ue-oe;for(je=0;je<41;je++)He=(G=(Ee=C+(xe=je/40)*rt)+xe*((Xe=z+xe*De)-Ee))+xe*(Xe+xe*(Z+xe*Ct-Xe)-G),Pe=(lt=(ke=B+xe*Le)+xe*((ve=K+xe*it)-ke))+xe*(ve+xe*(oe+xe*ot-ve)-lt),je==0?(Te=He,Me=Pe,Ie=He,Ke=Pe):(Te=Math.min(Te,He),Me=Math.min(Me,Pe),Ie=Math.max(Ie,He),Ke=Math.max(Ke,Pe));return new a(Math.round(Te),Math.round(Me),Math.round(Ie-Te),Math.round(Ke-Me))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,B,z=(C=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:B}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(nt.API),function(e){var t=function(s){var o,a,l,d,f,p,g,m,S,b;for(a=[],l=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>l;l+=4)(f=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(p=(f=((f=((f=((f=(f-(b=f%85))/85)-(S=f%85))/85)-(m=f%85))/85)-(g=f%85))/85)%85,a.push(p+33,g+33,m+33,S+33,b+33)):a.push(122);return function(A,x){for(var w=x;w>0;w--)A.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,d,f,p=String,g="length",m=255,S="charCodeAt",b="slice",A="replace";for(s[b](-2),s=s[b](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),l=[],d=0,f=(s+=o="uuuuu"[b](s[g]%5||5))[g];f>d;d+=5)a=52200625*(s[S](d)-33)+614125*(s[S](d+1)-33)+7225*(s[S](d+2)-33)+85*(s[S](d+3)-33)+(s[S](d+4)-33),l.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(x,w){for(var N=w;N>0;N--)x.pop()}(l,o[g]),p.fromCharCode.apply(p,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=l1(o)).reduce(function(l,d){return l+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,o){var a=0,l=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:d.reverse().join(" ")}}}(nt.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,d,f){var p=new XMLHttpRequest,g=0,m=function(S){var b=S.length,A=[],x=String.fromCharCode;for(g=0;g<b;g+=1)A.push(x(255&S.charCodeAt(g)));return A.join("")};if(p.open("GET",l,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?f(m(this.responseText)):f(void 0)}),p.send(null),d&&p.status===200)return m(p.responseText)}(i,s,o)}catch{}return a}(t,n,r)},e.loadImageFile=e.loadFile}(nt.API),function(e){function t(){return(at.html2canvas?Promise.resolve(at.html2canvas):Oc(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(at.DOMPurify?Promise.resolve(at.DOMPurify):Oc(()=>import("./purify.es-31816194.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Ft(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var d in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[d]=a.style[d];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),l);return d=(d=d.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(d,f){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(l(g,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var m=d[g],S=m.src.find(function(b){return b.format==="truetype"});S&&l.addFont(S.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),a(this.prop.container,p)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,d){return Math.floor(l*d/72*96)}return this.then(function(){(o=o||nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,d){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,d){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(d,f){return l.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,d),p}).then(d,f).then(function(p){return l.updateProgress(1),p})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=l.call(d,o,a);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,nt.getPageSize=function(o,a,l){if(Ft(o)==="object"){var d=o;o=d.orientation,a=d.unit||a,l=d.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+a}var m,S=0,b=0;if(g.hasOwnProperty(p))S=g[p][1]/f,b=g[p][0]/f;else try{S=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",b>S&&(m=b,b=S,S=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",S>b&&(m=b,b=S,S=m)}return{width:b,height:S,unit:a,k:f,orientation:o}},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(p1):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(nt.API),nt.API.addJS=function(e){return S5=e,this.internal.events.subscribe("postPutResources",function(){kd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(kd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),b5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+S5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){kd!==void 0&&b5!==void 0&&this.internal.out("/Names <</JavaScript "+kd+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(s=0;s<d;s++){var p=n.internal.newObject();f.push(p);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(nt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,a){var l,d=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),S=p.length,b={width:0,height:0,numcomponents:1},A=4;A<S;A+=2){if(A+=m,t.indexOf(p.charCodeAt(A+1))!==-1){g=256*p.charCodeAt(A+5)+p.charCodeAt(A+6),b={width:256*p.charCodeAt(A+7)+p.charCodeAt(A+8),height:g,numcomponents:p.charCodeAt(A+9)};break}m=256*p.charCodeAt(A+2)+p.charCodeAt(A+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:d,index:r,alias:i}}return f}}(nt.API);var ka,_d,j5,N5,A5,CL=function(){var e,t,n;function r(s){var o,a,l,d,f,p,g,m,S,b,A,x,w,N;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),S=(function(){var R,q;for(q=[],R=0;R<4;++R)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,p.delay=1e3*f/d,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,o-=4),s=(p!=null?p.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(w=0;0<=b?w<b:w>b;0<=b?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(A=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,A.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,A.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(p,g,m,S){var b,A,x,w,N,R,q,V,I,F,Y,X,E,O,Q,H,de,ae,le,W,ie,J=Math.ceil((d.width-p)/m),me=Math.ceil((d.height-g)/S),C=d.width==J&&d.height==me;for(O=o*J,X=C?a:new Uint8Array(O*me),R=s.length,E=0,A=0;E<me&&l<R;){switch(s[l++]){case 0:for(w=de=0;de<O;w=de+=1)X[A++]=s[l++];break;case 1:for(w=ae=0;ae<O;w=ae+=1)b=s[l++],N=w<o?0:X[A-o],X[A++]=(b+N)%256;break;case 2:for(w=le=0;le<O;w=le+=1)b=s[l++],x=(w-w%o)/o,Q=E&&X[(E-1)*O+x*o+w%o],X[A++]=(Q+b)%256;break;case 3:for(w=W=0;W<O;w=W+=1)b=s[l++],x=(w-w%o)/o,N=w<o?0:X[A-o],Q=E&&X[(E-1)*O+x*o+w%o],X[A++]=(b+Math.floor((N+Q)/2))%256;break;case 4:for(w=ie=0;ie<O;w=ie+=1)b=s[l++],x=(w-w%o)/o,N=w<o?0:X[A-o],E===0?Q=H=0:(Q=X[(E-1)*O+x*o+w%o],H=x&&X[(E-1)*O+(x-1)*o+w%o]),q=N+Q-H,V=Math.abs(q-N),F=Math.abs(q-Q),Y=Math.abs(q-H),I=V<=F&&V<=Y?N:F<=Y?Q:H,X[A++]=(b+I)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!C){var B=((g+E*S)*d.width+p)*o,z=E*O;for(w=0;w<J;w+=1){for(var K=0;K<o;K+=1)a[B++]=X[z++];B+=(m-1)*o}}E++}}return s=iL(s),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,d,f,p,g,m;for(a=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+a.length),l=0,s=0,o=p=0,g=a.length;p<g;o=p+=3)d[l++]=a[o],d[l++]=a[o+1],d[l++]=a[o+2],d[l++]=(m=f[s++])!=null?m:255;return d},r.prototype.copyToImageData=function(s,o){var a,l,d,f,p,g,m,S,b,A,x;if(l=this.colors,b=null,a=this.hasAlphaChannel,this.palette.length&&(b=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,a=!0),S=(d=s.data||s).length,p=b||o,f=g=0,l===1)for(;f<S;)m=b?4*o[f/4]:g,A=p[m++],d[f++]=A,d[f++]=A,d[f++]=A,d[f++]=a?p[m++]:255,g=m;else for(;f<S;)m=b?4*o[f/4]:g,d[f++]=p[m++],d[f++]=p[m++],d[f++]=p[m++],d[f++]=a?p[m++]:255,g=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(at)==="[object Window]"){try{t=at.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,d,f,p,g,m;if(this.animation){for(m=[],a=f=0,p=(g=this.animation.frames).length;f<p;a=++f)o=g[a],l=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,d),o.imageData=l,m.push(o.image=e(l));return m}},r.prototype.renderFrame=function(s,o){var a,l,d;return a=(l=this.animation.frames)[o],d=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,d,f,p,g=this;return a=0,p=this.animation,d=p.numFrames,l=p.frames,f=p.numPlays,(o=function(){var m,S;if(m=a++%d,S=l[m],g.renderFrame(s,m),d>1&&a/d<f)return g.animation._timeout=setTimeout(o,S.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function PL(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var d=!0,f=[],p=0,g=null,m=0,S=null;for(this.width=n,this.height=r;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,S=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];p=e[t++]|e[t++]<<8,g=e[t++],!(1&b)&&(g=null),m=b>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var A=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,R=e[t++],q=R>>6&1,V=1<<(7&R)+1,I=a,F=l,Y=!1;R>>7&&(Y=!0,I=t,F=V,t+=3*V);var X=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}f.push({x:A,y:x,width:w,height:N,has_local_palette:Y,palette_offset:I,palette_size:F,data_offset:X,data_length:t-X,transparent_index:g,interlaced:!!q,delay:p,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return S},this.frameInfo=function(O){if(O<0||O>=f.length)throw new Error("Frame index out of range.");return f[O]},this.decodeAndBlitFrameBGRA=function(O,Q){var H=this.frameInfo(O),de=H.width*H.height,ae=new Uint8Array(de);C5(e,H.data_offset,ae,de);var le=H.palette_offset,W=H.transparent_index;W===null&&(W=256);var ie=H.width,J=n-ie,me=ie,C=4*(H.y*n+H.x),B=4*((H.y+H.height)*n+H.x),z=C,K=4*J;H.interlaced===!0&&(K+=4*n*7);for(var Z=8,oe=0,he=ae.length;oe<he;++oe){var ue=ae[oe];if(me===0&&(me=ie,(z+=K)>=B&&(K=4*J+4*n*(Z-1),z=C+(ie+J)*(Z<<1),Z>>=1)),ue===W)z+=4;else{var xe=e[le+3*ue],je=e[le+3*ue+1],Ee=e[le+3*ue+2];Q[z++]=Ee,Q[z++]=je,Q[z++]=xe,Q[z++]=255}--me}},this.decodeAndBlitFrameRGBA=function(O,Q){var H=this.frameInfo(O),de=H.width*H.height,ae=new Uint8Array(de);C5(e,H.data_offset,ae,de);var le=H.palette_offset,W=H.transparent_index;W===null&&(W=256);var ie=H.width,J=n-ie,me=ie,C=4*(H.y*n+H.x),B=4*((H.y+H.height)*n+H.x),z=C,K=4*J;H.interlaced===!0&&(K+=4*n*7);for(var Z=8,oe=0,he=ae.length;oe<he;++oe){var ue=ae[oe];if(me===0&&(me=ie,(z+=K)>=B&&(K=4*J+4*n*(Z-1),z=C+(ie+J)*(Z<<1),Z>>=1)),ue===W)z+=4;else{var xe=e[le+3*ue],je=e[le+3*ue+1],Ee=e[le+3*ue+2];Q[z++]=xe,Q[z++]=je,Q[z++]=Ee,Q[z++]=255}--me}}}function C5(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,d=(1<<l)-1,f=0,p=0,g=0,m=e[t++],S=new Int32Array(4096),b=null;;){for(;f<16&&m!==0;)p|=e[t++]<<f,f+=8,m===1?m=e[t++]:--m;if(f<l)break;var A=p&d;if(p>>=l,f-=l,A!==s){if(A===o)break;for(var x=A<a?A:b,w=0,N=x;N>s;)N=S[N]>>8,++w;var R=N;if(g+w+(x!==A?1:0)>r)return void Bt.log("Warning, gif stream longer than expected.");n[g++]=R;var q=g+=w;for(x!==A&&(n[g++]=R),N=x;w--;)N=S[N],n[--q]=255&N,N>>=8;b!==null&&a<4096&&(S[a++]=b<<8|R,a>=d+1&&l<12&&(++l,d=d<<1|1)),b=A}else a=o+1,d=(1<<(l=i+1))-1,b=null}return g!==r&&Bt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Hp(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),d=new Array(64),f=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),S=new Array(64),b=[],A=0,x=7,w=new Array(64),N=new Array(64),R=new Array(64),q=new Array(256),V=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(C,B){for(var z=0,K=0,Z=new Array,oe=1;oe<=16;oe++){for(var he=1;he<=C[oe];he++)Z[B[K]]=[],Z[B[K]][0]=z,Z[B[K]][1]=oe,K++,z++;z*=2}return Z}function le(C){for(var B=C[0],z=C[1]-1;z>=0;)B&1<<z&&(A|=1<<x),z--,--x<0&&(A==255?(W(255),W(0)):W(A),x=7,A=0)}function W(C){b.push(C)}function ie(C){W(C>>8&255),W(255&C)}function J(C,B,z,K,Z){for(var oe,he=Z[0],ue=Z[240],xe=function(Pe,Te){var Me,Ie,Ke,rt,Le,De,it,Ct,ot,Ze,ze=0;for(ot=0;ot<8;++ot){Me=Pe[ze],Ie=Pe[ze+1],Ke=Pe[ze+2],rt=Pe[ze+3],Le=Pe[ze+4],De=Pe[ze+5],it=Pe[ze+6];var _n=Me+(Ct=Pe[ze+7]),wt=Me-Ct,_r=Ie+it,_t=Ie-it,zt=Ke+De,pr=Ke-De,Pt=rt+Le,ns=rt-Le,Yt=_n+Pt,mr=_n-Pt,Jr=_r+zt,$t=_r-zt;Pe[ze]=Yt+Jr,Pe[ze+4]=Yt-Jr;var ct=.707106781*($t+mr);Pe[ze+2]=mr+ct,Pe[ze+6]=mr-ct;var jt=.382683433*((Yt=ns+pr)-($t=_t+wt)),rs=.5411961*Yt+jt,Cn=1.306562965*$t+jt,Er=.707106781*(Jr=pr+_t),Xr=wt+Er,et=wt-Er;Pe[ze+5]=et+rs,Pe[ze+3]=et-rs,Pe[ze+1]=Xr+Cn,Pe[ze+7]=Xr-Cn,ze+=8}for(ze=0,ot=0;ot<8;++ot){Me=Pe[ze],Ie=Pe[ze+8],Ke=Pe[ze+16],rt=Pe[ze+24],Le=Pe[ze+32],De=Pe[ze+40],it=Pe[ze+48];var Tr=Me+(Ct=Pe[ze+56]),Qr=Me-Ct,En=Ie+it,dt=Ie-it,sn=Ke+De,ir=Ke-De,Zr=rt+Le,ei=rt-Le,gr=Tr+Zr,ti=Tr-Zr,Fr=En+sn,ni=En-sn;Pe[ze]=gr+Fr,Pe[ze+32]=gr-Fr;var sr=.707106781*(ni+ti);Pe[ze+16]=ti+sr,Pe[ze+48]=ti-sr;var Ir=.382683433*((gr=ei+ir)-(ni=dt+Qr)),is=.5411961*gr+Ir,Mi=1.306562965*ni+Ir,Ts=.707106781*(Fr=ir+dt),ss=Qr+Ts,Fs=Qr-Ts;Pe[ze+40]=Fs+is,Pe[ze+24]=Fs-is,Pe[ze+8]=ss+Mi,Pe[ze+56]=ss-Mi,ze++}for(ot=0;ot<64;++ot)Ze=Pe[ot]*Te[ot],m[ot]=Ze>0?Ze+.5|0:Ze-.5|0;return m}(C,B),je=0;je<64;++je)S[I[je]]=xe[je];var Ee=S[0]-z;z=S[0],Ee==0?le(K[0]):(le(K[g[oe=32767+Ee]]),le(p[oe]));for(var ke=63;ke>0&&S[ke]==0;)ke--;if(ke==0)return le(he),z;for(var Xe,ve=1;ve<=ke;){for(var G=ve;S[ve]==0&&ve<=ke;)++ve;var lt=ve-G;if(lt>=16){Xe=lt>>4;for(var He=1;He<=Xe;++He)le(ue);lt&=15}oe=32767+S[ve],le(Z[(lt<<4)+g[oe]]),le(p[oe]),ve++}return ke!=63&&le(he),z}function me(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(B){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var Z=o((z[K]*B+50)/100);Z=Math.min(Math.max(Z,1),255),a[I[K]]=Z}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var ue=o((oe[he]*B+50)/100);ue=Math.min(Math.max(ue,1),255),l[I[he]]=ue}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,Ee=0;Ee<8;Ee++)for(var ke=0;ke<8;ke++)d[je]=1/(a[I[je]]*xe[Ee]*xe[ke]*8),f[je]=1/(l[I[je]]*xe[Ee]*xe[ke]*8),je++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,B){B&&me(B),b=new Array,A=0,x=7,ie(65496),ie(65504),ie(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),ie(1),ie(1),W(0),W(0),function(){ie(65499),ie(132),W(0);for(var Ie=0;Ie<64;Ie++)W(a[Ie]);W(1);for(var Ke=0;Ke<64;Ke++)W(l[Ke])}(),function(Ie,Ke){ie(65472),ie(17),W(8),ie(Ke),ie(Ie),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(C.width,C.height),function(){ie(65476),ie(418),W(0);for(var Ie=0;Ie<16;Ie++)W(F[Ie+1]);for(var Ke=0;Ke<=11;Ke++)W(Y[Ke]);W(16);for(var rt=0;rt<16;rt++)W(X[rt+1]);for(var Le=0;Le<=161;Le++)W(E[Le]);W(1);for(var De=0;De<16;De++)W(O[De+1]);for(var it=0;it<=11;it++)W(Q[it]);W(17);for(var Ct=0;Ct<16;Ct++)W(H[Ct+1]);for(var ot=0;ot<=161;ot++)W(de[ot])}(),ie(65498),ie(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var z=0,K=0,Z=0;A=0,x=7,this.encode.displayName="_encode_";for(var oe,he,ue,xe,je,Ee,ke,Xe,ve,G=C.data,lt=C.width,He=C.height,Pe=4*lt,Te=0;Te<He;){for(oe=0;oe<Pe;){for(je=Pe*Te+oe,ke=-1,Xe=0,ve=0;ve<64;ve++)Ee=je+(Xe=ve>>3)*Pe+(ke=4*(7&ve)),Te+Xe>=He&&(Ee-=Pe*(Te+1+Xe-He)),oe+ke>=Pe&&(Ee-=oe+ke-Pe+4),he=G[Ee++],ue=G[Ee++],xe=G[Ee++],w[ve]=(V[he]+V[ue+256>>0]+V[xe+512>>0]>>16)-128,N[ve]=(V[he+768>>0]+V[ue+1024>>0]+V[xe+1280>>0]>>16)-128,R[ve]=(V[he+1280>>0]+V[ue+1536>>0]+V[xe+1792>>0]>>16)-128;z=J(w,d,z,t,r),K=J(N,f,K,n,i),Z=J(R,f,Z,n,i),oe+=32}Te+=8}if(x>=0){var Me=[];Me[1]=x+1,Me[0]=(1<<x+1)-1,le(Me)}return ie(65497),new Uint8Array(b)},e=e||50,function(){for(var C=String.fromCharCode,B=0;B<256;B++)q[B]=C(B)}(),t=ae(F,Y),n=ae(O,Q),r=ae(X,E),i=ae(H,de),function(){for(var C=1,B=2,z=1;z<=15;z++){for(var K=C;K<B;K++)g[32767+K]=z,p[32767+K]=[],p[32767+K][1]=z,p[32767+K][0]=K;for(var Z=-(B-1);Z<=-C;Z++)g[32767+Z]=z,p[32767+Z]=[],p[32767+Z][1]=z,p[32767+Z][0]=B-1+Z;C<<=1,B<<=1}}(),function(){for(var C=0;C<256;C++)V[C]=19595*C,V[C+256>>0]=38470*C,V[C+512>>0]=7471*C+32768,V[C+768>>0]=-11059*C,V[C+1024>>0]=-21709*C,V[C+1280>>0]=32768*C+8421375,V[C+1536>>0]=-27439*C,V[C+1792>>0]=-5329*C}(),me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ai(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function P5(e){function t(F){if(!F)throw Error("assert :P")}function n(F,Y,X){for(var E=0;4>E;E++)if(F[Y+E]!=X.charCodeAt(E))return!0;return!1}function r(F,Y,X,E,O){for(var Q=0;Q<O;Q++)F[Y+Q]=X[E+Q]}function i(F,Y,X,E){for(var O=0;O<E;O++)F[Y+O]=X}function s(F){return new Int32Array(F)}function o(F,Y){for(var X=[],E=0;E<F;E++)X.push(new Y);return X}function a(F,Y){var X=[];return function E(O,Q,H){for(var de=H[Q],ae=0;ae<de&&(O.push(H.length>Q+1?[]:new Y),!(H.length<Q+1));ae++)E(O[ae],Q+1,H)}(X,0,F),X}var l=function(){var F=this;function Y(u,h){for(var y=1<<h-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function X(u,h,y,j,P){t(!(j%y));do u[h+(j-=y)]=P;while(0<j)}function E(u,h,y,j,P){if(t(2328>=P),512>=P)var k=s(512);else if((k=s(P))==null)return 0;return function(_,D,M,U,te,fe){var pe,se,Se=D,ge=1<<M,ne=s(16),re=s(16);for(t(te!=0),t(U!=null),t(_!=null),t(0<M),se=0;se<te;++se){if(15<U[se])return 0;++ne[U[se]]}if(ne[0]==te)return 0;for(re[1]=0,pe=1;15>pe;++pe){if(ne[pe]>1<<pe)return 0;re[pe+1]=re[pe]+ne[pe]}for(se=0;se<te;++se)pe=U[se],0<U[se]&&(fe[re[pe]++]=se);if(re[15]==1)return(U=new O).g=0,U.value=fe[0],X(_,Se,1,ge,U),ge;var we,Ae=-1,be=ge-1,Ve=0,Oe=1,tt=1,Be=1<<M;for(se=0,pe=1,te=2;pe<=M;++pe,te<<=1){if(Oe+=tt<<=1,0>(tt-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe])(U=new O).g=pe,U.value=fe[se++],X(_,Se+Ve,te,Be,U),Ve=Y(Ve,pe)}for(pe=M+1,te=2;15>=pe;++pe,te<<=1){if(Oe+=tt<<=1,0>(tt-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe]){if(U=new O,(Ve&be)!=Ae){for(Se+=Be,we=1<<(Ae=pe)-M;15>Ae&&!(0>=(we-=ne[Ae]));)++Ae,we<<=1;ge+=Be=1<<(we=Ae-M),_[D+(Ae=Ve&be)].g=we+M,_[D+Ae].value=Se-D-Ae}U.g=pe-M,U.value=fe[se++],X(_,Se+(Ve>>M),te,Be,U),Ve=Y(Ve,pe)}}return Oe!=2*re[15]-1?0:ge}(u,h,y,j,P,k)}function O(){this.value=this.g=0}function Q(){this.value=this.g=0}function H(){this.G=o(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Bn,Q)}function de(u,h,y,j){t(u!=null),t(h!=null),t(2147483648>j),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=y,u.Jd=h,u.Yc=y+j,u.Zc=4<=j?y+j-4+1:y,oe(u)}function ae(u,h){for(var y=0;0<h--;)y|=ue(u,128)<<h;return y}function le(u,h){var y=ae(u,h);return he(u)?-y:y}function W(u,h,y,j){var P,k=0;for(t(u!=null),t(h!=null),t(4294967288>j),u.Sb=j,u.Ra=0,u.u=0,u.h=0,4<j&&(j=4),P=0;P<j;++P)k+=h[y+P]<<8*P;u.Ra=k,u.bb=j,u.oa=h,u.pa=y}function ie(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<va-8>>>0,++u.bb,u.u-=8;z(u)&&(u.h=1,u.u=0)}function J(u,h){if(t(0<=h),!u.h&&h<=ga){var y=B(u)&ma[h];return u.u+=h,ie(u),y}return u.h=1,u.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(u){return u.Ra>>>(u.u&va-1)>>>0}function z(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>va}function K(u,h){u.u=h,u.h=z(u)}function Z(u){u.u>=$l&&(t(u.u>=$l),ie(u))}function oe(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function he(u){return ae(u,1)}function ue(u,h){var y=u.Ca;0>u.b&&oe(u);var j=u.b,P=y*h>>>8,k=(u.I>>>j>P)+0;for(k?(y-=P,u.I-=P+1<<j>>>0):y=P+1,j=y,P=0;256<=j;)P+=8,j>>=8;return j=7^P+yr[j],u.b-=j,u.Ca=(y<<j)-1,k}function xe(u,h,y){u[h+0]=y>>24&255,u[h+1]=y>>16&255,u[h+2]=y>>8&255,u[h+3]=y>>0&255}function je(u,h){return u[h+0]<<0|u[h+1]<<8}function Ee(u,h){return je(u,h)|u[h+2]<<16}function ke(u,h){return je(u,h)|je(u,h+2)<<16}function Xe(u,h){var y=1<<h;return t(u!=null),t(0<h),u.X=s(y),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function ve(u,h){t(u!=null),t(h!=null),t(u.Xa==h.Xa),r(h.X,0,u.X,0,1<<h.Xa)}function G(){this.X=[],this.Xa=this.Mb=0}function lt(u,h,y,j){t(y!=null),t(j!=null);var P=y[0],k=j[0];return P==0&&(P=(u*k+h/2)/h),k==0&&(k=(h*P+u/2)/u),0>=P||0>=k?0:(y[0]=P,j[0]=k,1)}function He(u,h){return u+(1<<h)-1>>>h}function Pe(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function Te(u,h){F[h]=function(y,j,P,k,_,D,M){var U;for(U=0;U<_;++U){var te=F[u](D[M+U-1],P,k+U);D[M+U]=Pe(y[j+U],te)}}}function Me(){this.ud=this.hd=this.jd=0}function Ie(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function Ke(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function rt(u,h){return Ke(u+(u-h+.5>>1))}function Le(u,h,y){return Math.abs(h-y)-Math.abs(u-y)}function De(u,h,y,j,P,k,_){for(j=k[_-1],y=0;y<P;++y)k[_+y]=j=Pe(u[h+y],j)}function it(u,h,y,j,P){var k;for(k=0;k<y;++k){var _=u[h+k],D=_>>8&255,M=16711935&(M=(M=16711935&_)+((D<<16)+D));j[P+k]=(4278255360&_)+M>>>0}}function Ct(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function ot(u,h,y,j,P,k){var _;for(_=0;_<j;++_){var D=h[y+_],M=D>>>8,U=D,te=255&(te=(te=D>>>16)+((u.jd<<24>>24)*(M<<24>>24)>>>5));U=255&(U=(U=U+((u.hd<<24>>24)*(M<<24>>24)>>>5))+((u.ud<<24>>24)*(te<<24>>24)>>>5)),P[k+_]=(4278255360&D)+(te<<16)+U}}function Ze(u,h,y,j,P){F[h]=function(k,_,D,M,U,te,fe,pe,se){for(M=fe;M<pe;++M)for(fe=0;fe<se;++fe)U[te++]=P(D[j(k[_++])])},F[u]=function(k,_,D,M,U,te,fe){var pe=8>>k.b,se=k.Ea,Se=k.K[0],ge=k.w;if(8>pe)for(k=(1<<k.b)-1,ge=(1<<pe)-1;_<D;++_){var ne,re=0;for(ne=0;ne<se;++ne)ne&k||(re=j(M[U++])),te[fe++]=P(Se[re&ge]),re>>=pe}else F["VP8LMapColor"+y](M,U,Se,ge,te,fe,_,D,se)}}function ze(u,h,y,j,P){for(y=h+y;h<y;){var k=u[h++];j[P++]=k>>16&255,j[P++]=k>>8&255,j[P++]=k>>0&255}}function _n(u,h,y,j,P){for(y=h+y;h<y;){var k=u[h++];j[P++]=k>>16&255,j[P++]=k>>8&255,j[P++]=k>>0&255,j[P++]=k>>24&255}}function wt(u,h,y,j,P){for(y=h+y;h<y;){var k=(_=u[h++])>>16&240|_>>12&15,_=_>>0&240|_>>28&15;j[P++]=k,j[P++]=_}}function _r(u,h,y,j,P){for(y=h+y;h<y;){var k=(_=u[h++])>>16&248|_>>13&7,_=_>>5&224|_>>3&31;j[P++]=k,j[P++]=_}}function _t(u,h,y,j,P){for(y=h+y;h<y;){var k=u[h++];j[P++]=k>>0&255,j[P++]=k>>8&255,j[P++]=k>>16&255}}function zt(u,h,y,j,P,k){if(k==0)for(y=h+y;h<y;)xe(j,((k=u[h++])[0]>>24|k[1]>>8&65280|k[2]<<8&16711680|k[3]<<24)>>>0),P+=32;else r(j,P,u,h,y)}function pr(u,h){F[h][0]=F[u+"0"],F[h][1]=F[u+"1"],F[h][2]=F[u+"2"],F[h][3]=F[u+"3"],F[h][4]=F[u+"4"],F[h][5]=F[u+"5"],F[h][6]=F[u+"6"],F[h][7]=F[u+"7"],F[h][8]=F[u+"8"],F[h][9]=F[u+"9"],F[h][10]=F[u+"10"],F[h][11]=F[u+"11"],F[h][12]=F[u+"12"],F[h][13]=F[u+"13"],F[h][14]=F[u+"0"],F[h][15]=F[u+"0"]}function Pt(u){return u==Rf||u==Df||u==Hu||u==Mf}function ns(){this.eb=[],this.size=this.A=this.fb=0}function Yt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ns,this.f.kb=new Yt,this.sd=null}function Jr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function jt(u,h){var y=u.T,j=h.ba.f.RGBA,P=j.eb,k=j.fb+u.ka*j.A,_=ci[h.ba.S],D=u.y,M=u.O,U=u.f,te=u.N,fe=u.ea,pe=u.W,se=h.cc,Se=h.dc,ge=h.Mc,ne=h.Nc,re=u.ka,we=u.ka+u.T,Ae=u.U,be=Ae+1>>1;for(re==0?_(D,M,null,null,U,te,fe,pe,U,te,fe,pe,P,k,null,null,Ae):(_(h.ec,h.fc,D,M,se,Se,ge,ne,U,te,fe,pe,P,k-j.A,P,k,Ae),++y);re+2<we;re+=2)se=U,Se=te,ge=fe,ne=pe,te+=u.Rc,pe+=u.Rc,k+=2*j.A,_(D,(M+=2*u.fa)-u.fa,D,M,se,Se,ge,ne,U,te,fe,pe,P,k-j.A,P,k,Ae);return M+=u.fa,u.j+we<u.o?(r(h.ec,h.fc,D,M,Ae),r(h.cc,h.dc,U,te,be),r(h.Mc,h.Nc,fe,pe,be),y--):1&we||_(D,M,null,null,U,te,fe,pe,U,te,fe,pe,P,k+j.A,null,null,Ae),y}function rs(u,h,y){var j=u.F,P=[u.J];if(j!=null){var k=u.U,_=h.ba.S,D=_==$u||_==Hu;h=h.ba.f.RGBA;var M=[0],U=u.ka;M[0]=u.T,u.Kb&&(U==0?--M[0]:(--U,P[0]-=u.width),u.j+u.ka+u.T==u.o&&(M[0]=u.o-u.j-U));var te=h.eb;U=h.fb+U*h.A,u=Ut(j,P[0],u.width,k,M,te,U+(D?0:3),h.A),t(y==M),u&&Pt(_)&&ai(te,U,D,k,M,h.A)}return 0}function Cn(u){var h=u.ma,y=h.ba.S,j=11>y,P=y==Uu||y==Vu||y==$u||y==If||y==12||Pt(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!Ul(h.Oa,u,P?11:12))return 0;if(P&&Pt(y)&&Ce(),u.da)alert("todo:use_scaling");else{if(j){if(h.Ib=ct,u.Kb){if(y=u.U+1>>1,h.memory=s(u.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=jt,Ce()}}else alert("todo:EmitYUV");P&&(h.Jb=rs,j&&ce())}if(j&&!mg){for(u=0;256>u;++u)rb[u]=89858*(u-128)+Gu>>Wu,ob[u]=-22014*(u-128)+Gu,sb[u]=-45773*(u-128),ib[u]=113618*(u-128)+Gu>>Wu;for(u=Xl;u<zf;++u)h=76283*(u-16)+Gu>>Wu,ab[u-Xl]=Dr(h,255),lb[u-Xl]=Dr(h+8>>4,15);mg=1}return 1}function Er(u){var h=u.ma,y=u.U,j=u.T;return t(!(1&u.ka)),0>=y||0>=j?0:(y=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,y),h.Dc+=y,1)}function Xr(u){u.ma.memory=null}function et(u,h,y,j){return J(u,8)!=47?0:(h[0]=J(u,14)+1,y[0]=J(u,14)+1,j[0]=J(u,1),J(u,3)!=0?0:!u.h)}function Tr(u,h){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+J(h,y)+1}function Qr(u,h){return 120<h?h-120:1<=(y=((y=V4[h-1])>>4)*u+(8-(15&y)))?y:1;var y}function En(u,h,y){var j=B(y),P=u[h+=255&j].g-8;return 0<P&&(K(y,y.u+8),j=B(y),h+=u[h].value,h+=j&(1<<P)-1),K(y,y.u+u[h].g),u[h].value}function dt(u,h,y){return y.g+=u.g,y.value+=u.value<<h>>>0,t(8>=y.g),u.g}function sn(u,h,y){var j=u.xc;return t((h=j==0?0:u.vc[u.md*(y>>j)+(h>>j)])<u.Wb),u.Ya[h]}function ir(u,h,y,j){var P=u.ab,k=u.c*h,_=u.C;h=_+h;var D=y,M=j;for(j=u.Ta,y=u.Ua;0<P--;){var U=u.gc[P],te=_,fe=h,pe=D,se=M,Se=(M=j,D=y,U.Ea);switch(t(te<fe),t(fe<=U.nc),U.hc){case 2:Ru(pe,se,(fe-te)*Se,M,D);break;case 0:var ge=te,ne=fe,re=M,we=D,Ae=(Be=U).Ea;ge==0&&(Tf(pe,se,null,null,1,re,we),De(pe,se+1,0,0,Ae-1,re,we+1),se+=Ae,we+=Ae,++ge);for(var be=1<<Be.b,Ve=be-1,Oe=He(Ae,Be.b),tt=Be.K,Be=Be.w+(ge>>Be.b)*Oe;ge<ne;){var kt=tt,Et=Be,Nt=1;for(Hl(pe,se,re,we-Ae,1,re,we);Nt<Ae;){var xt=(Nt&~Ve)+be;xt>Ae&&(xt=Ae),(0,Ms[kt[Et++]>>8&15])(pe,se+ +Nt,re,we+Nt-Ae,xt-Nt,re,we+Nt),Nt=xt}se+=Ae,we+=Ae,++ge&Ve||(Be+=Oe)}fe!=U.nc&&r(M,D-Se,M,D+(fe-te-1)*Se,Se);break;case 1:for(Se=pe,ne=se,Ae=(pe=U.Ea)-(we=pe&~(re=(se=1<<U.b)-1)),ge=He(pe,U.b),be=U.K,U=U.w+(te>>U.b)*ge;te<fe;){for(Ve=be,Oe=U,tt=new Me,Be=ne+we,kt=ne+pe;ne<Be;)Ct(Ve[Oe++],tt),ko(tt,Se,ne,se,M,D),ne+=se,D+=se;ne<kt&&(Ct(Ve[Oe++],tt),ko(tt,Se,ne,Ae,M,D),ne+=Ae,D+=Ae),++te&re||(U+=ge)}break;case 3:if(pe==M&&se==D&&0<U.b){for(ne=M,pe=Se=D+(fe-te)*Se-(we=(fe-te)*He(U.Ea,U.b)),se=M,re=D,ge=[],we=(Ae=we)-1;0<=we;--we)ge[we]=se[re+we];for(we=Ae-1;0<=we;--we)ne[pe+we]=ge[we];ii(U,te,fe,M,Se,M,D)}else ii(U,te,fe,pe,se,M,D)}D=j,M=y}M!=y&&r(j,y,D,M,k)}function Zr(u,h){var y=u.V,j=u.Ba+u.c*u.C,P=h-u.C;if(t(h<=u.l.o),t(16>=P),0<P){var k=u.l,_=u.Ta,D=u.Ua,M=k.width;if(ir(u,P,y,j),P=D=[D],t((y=u.C)<(j=h)),t(k.v<k.va),j>k.o&&(j=k.o),y<k.j){var U=k.j-y;y=k.j,P[0]+=U*M}if(y>=j?y=0:(P[0]+=4*k.v,k.ka=y-k.j,k.U=k.va-k.v,k.T=j-y,y=1),y){if(D=D[0],11>(y=u.ca).S){var te=y.f.RGBA,fe=(j=y.S,P=k.U,k=k.T,U=te.eb,te.A),pe=k;for(te=te.fb+u.Ma*te.A;0<pe--;){var se=_,Se=D,ge=P,ne=U,re=te;switch(j){case qu:xr(se,Se,ge,ne,re);break;case Uu:or(se,Se,ge,ne,re);break;case Rf:or(se,Se,ge,ne,re),ai(ne,re,0,ge,1,0);break;case sg:cs(se,Se,ge,ne,re);break;case Vu:zt(se,Se,ge,ne,re,1);break;case Df:zt(se,Se,ge,ne,re,1),ai(ne,re,0,ge,1,0);break;case $u:zt(se,Se,ge,ne,re,0);break;case Hu:zt(se,Se,ge,ne,re,0),ai(ne,re,1,ge,1,0);break;case If:Os(se,Se,ge,ne,re);break;case Mf:Os(se,Se,ge,ne,re),qt(ne,re,ge,1,0);break;case og:ls(se,Se,ge,ne,re);break;default:t(0)}D+=M,te+=fe}u.Ma+=k}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=y.height)}}u.C=h,t(u.C<=u.i)}function ei(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var y=u.Ya[h].G,j=u.Ya[h].H;if(0<y[1][j[1]+0].g||0<y[2][j[2]+0].g||0<y[3][j[3]+0].g)return 0}return 1}function gr(u,h,y,j,P,k){if(u.Z!=0){var _=u.qd,D=u.rd;for(t(Us[u.Z]!=null);h<y;++h)Us[u.Z](_,D,j,P,j,P,k),_=j,D=P,P+=k;u.qd=_,u.rd=D}}function ti(u,h){var y=u.l.ma,j=y.Z==0||y.Z==1?u.l.j:u.C;if(j=u.C<j?j:u.C,t(h<=u.l.o),h>j){var P=u.l.width,k=y.ca,_=y.tb+P*j,D=u.V,M=u.Ba+u.c*j,U=u.gc;t(u.ab==1),t(U[0].hc==3),Du(U[0],j,h,D,M,k,_),gr(y,j,h,k,_,P)}u.C=u.Ma=h}function Fr(u,h,y,j,P,k,_){var D=u.$/j,M=u.$%j,U=u.m,te=u.s,fe=y+u.$,pe=fe;P=y+j*P;var se=y+j*k,Se=280+te.ua,ge=u.Pb?D:16777216,ne=0<te.ua?te.Wa:null,re=te.wc,we=fe<se?sn(te,M,D):null;t(u.C<k),t(se<=P);var Ae=!1;e:for(;;){for(;Ae||fe<se;){var be=0;if(D>=ge){var Ve=fe-y;t((ge=u).Pb),ge.wd=ge.m,ge.xd=Ve,0<ge.s.ua&&ve(ge.s.Wa,ge.s.vb),ge=D+H4}if(M&re||(we=sn(te,M,D)),t(we!=null),we.Qb&&(h[fe]=we.qb,Ae=!0),!Ae)if(Z(U),we.jc){be=U,Ve=h;var Oe=fe,tt=we.pd[B(be)&Bn-1];t(we.jc),256>tt.g?(K(be,be.u+tt.g),Ve[Oe]=tt.value,be=0):(K(be,be.u+tt.g-256),t(256<=tt.value),be=tt.value),be==0&&(Ae=!0)}else be=En(we.G[0],we.H[0],U);if(U.h)break;if(Ae||256>be){if(!Ae)if(we.nd)h[fe]=(we.qb|be<<8)>>>0;else{if(Z(U),Ae=En(we.G[1],we.H[1],U),Z(U),Ve=En(we.G[2],we.H[2],U),Oe=En(we.G[3],we.H[3],U),U.h)break;h[fe]=(Oe<<24|Ae<<16|be<<8|Ve)>>>0}if(Ae=!1,++fe,++M>=j&&(M=0,++D,_!=null&&D<=k&&!(D%16)&&_(u,D),ne!=null))for(;pe<fe;)be=h[pe++],ne.X[(506832829*be&4294967295)>>>ne.Mb]=be}else if(280>be){if(be=Tr(be-256,U),Ve=En(we.G[4],we.H[4],U),Z(U),Ve=Qr(j,Ve=Tr(Ve,U)),U.h)break;if(fe-y<Ve||P-fe<be)break e;for(Oe=0;Oe<be;++Oe)h[fe+Oe]=h[fe+Oe-Ve];for(fe+=be,M+=be;M>=j;)M-=j,++D,_!=null&&D<=k&&!(D%16)&&_(u,D);if(t(fe<=P),M&re&&(we=sn(te,M,D)),ne!=null)for(;pe<fe;)be=h[pe++],ne.X[(506832829*be&4294967295)>>>ne.Mb]=be}else{if(!(be<Se))break e;for(Ae=be-280,t(ne!=null);pe<fe;)be=h[pe++],ne.X[(506832829*be&4294967295)>>>ne.Mb]=be;be=fe,t(!(Ae>>>(Ve=ne).Xa)),h[be]=Ve.X[Ae],Ae=!0}Ae||t(U.h==z(U))}if(u.Pb&&U.h&&fe<P)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ve(u.s.vb,u.s.Wa);else{if(U.h)break e;_!=null&&_(u,D>k?k:D),u.a=0,u.$=fe-y}return 1}return u.a=3,0}function ni(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,t(u!=null)}function sr(){var u=new Ef;return u==null?null:(u.a=0,u.xb=cg,pr("Predictor","VP8LPredictors"),pr("Predictor","VP8LPredictors_C"),pr("PredictorAdd","VP8LPredictorsAdd"),pr("PredictorAdd","VP8LPredictorsAdd_C"),Ru=it,ko=ot,xr=ze,or=_n,Os=wt,ls=_r,cs=_t,F.VP8LMapColor32b=ya,F.VP8LMapColor8b=Mu,u)}function Ir(u,h,y,j,P){var k=1,_=[u],D=[h],M=j.m,U=j.s,te=null,fe=0;e:for(;;){if(y)for(;k&&J(M,1);){var pe=_,se=D,Se=j,ge=1,ne=Se.m,re=Se.gc[Se.ab],we=J(ne,2);if(Se.Oc&1<<we)k=0;else{switch(Se.Oc|=1<<we,re.hc=we,re.Ea=pe[0],re.nc=se[0],re.K=[null],++Se.ab,t(4>=Se.ab),we){case 0:case 1:re.b=J(ne,3)+2,ge=Ir(He(re.Ea,re.b),He(re.nc,re.b),0,Se,re.K),re.K=re.K[0];break;case 3:var Ae,be=J(ne,8)+1,Ve=16<be?0:4<be?1:2<be?2:3;if(pe[0]=He(re.Ea,Ve),re.b=Ve,Ae=ge=Ir(be,1,0,Se,re.K)){var Oe,tt=be,Be=re,kt=1<<(8>>Be.b),Et=s(kt);if(Et==null)Ae=0;else{var Nt=Be.K[0],xt=Be.w;for(Et[0]=Be.K[0][0],Oe=1;Oe<1*tt;++Oe)Et[Oe]=Pe(Nt[xt+Oe],Et[Oe-1]);for(;Oe<4*kt;++Oe)Et[Oe]=0;Be.K[0]=null,Be.K[0]=Et,Ae=1}}ge=Ae;break;case 2:break;default:t(0)}k=ge}}if(_=_[0],D=D[0],k&&J(M,1)&&!(k=1<=(fe=J(M,4))&&11>=fe)){j.a=3;break e}var Mt;if(Mt=k)t:{var Rt,mt,Sn,wr=j,jn=_,br=D,Tt=fe,Or=y,Br=wr.m,Fn=wr.s,zn=[null],lr=1,ui=0,Vi=$4[Tt];n:for(;;){if(Or&&J(Br,1)){var In=J(Br,3)+2,fs=He(jn,In),Io=He(br,In),ja=fs*Io;if(!Ir(fs,Io,0,wr,zn))break n;for(zn=zn[0],Fn.xc=In,Rt=0;Rt<ja;++Rt){var Vs=zn[Rt]>>8&65535;zn[Rt]=Vs,Vs>=lr&&(lr=Vs+1)}}if(Br.h)break n;for(mt=0;5>mt;++mt){var ln=ag[mt];!mt&&0<Tt&&(ln+=1<<Tt),ui<ln&&(ui=ln)}var qf=o(lr*Vi,O),yg=lr,xg=o(yg,H);if(xg==null)var Yu=null;else t(65536>=yg),Yu=xg;var Ql=s(ui);if(Yu==null||Ql==null||qf==null){wr.a=1;break n}var Ju=qf;for(Rt=Sn=0;Rt<lr;++Rt){var Si=Yu[Rt],Na=Si.G,Aa=Si.H,wg=0,Xu=1,bg=0;for(mt=0;5>mt;++mt){ln=ag[mt],Na[mt]=Ju,Aa[mt]=Sn,!mt&&0<Tt&&(ln+=1<<Tt);i:{var Qu,Uf=ln,Zu=wr,Zl=Ql,db=Ju,hb=Sn,Vf=0,$s=Zu.m,fb=J($s,1);if(i(Zl,0,0,Uf),fb){var pb=J($s,1)+1,mb=J($s,1),Sg=J($s,mb==0?1:8);Zl[Sg]=1,pb==2&&(Zl[Sg=J($s,8)]=1);var ed=1}else{var jg=s(19),Ng=J($s,4)+4;if(19<Ng){Zu.a=3;var td=0;break i}for(Qu=0;Qu<Ng;++Qu)jg[U4[Qu]]=J($s,3);var $f=void 0,ec=void 0,Ag=Zu,gb=jg,nd=Uf,Cg=Zl,Hf=0,Hs=Ag.m,Pg=8,Lg=o(128,O);r:for(;E(Lg,0,7,gb,19);){if(J(Hs,1)){var vb=2+2*J(Hs,3);if(($f=2+J(Hs,vb))>nd)break r}else $f=nd;for(ec=0;ec<nd&&$f--;){Z(Hs);var kg=Lg[0+(127&B(Hs))];K(Hs,Hs.u+kg.g);var Ca=kg.value;if(16>Ca)Cg[ec++]=Ca,Ca!=0&&(Pg=Ca);else{var yb=Ca==16,_g=Ca-16,xb=z4[_g],Eg=J(Hs,B4[_g])+xb;if(ec+Eg>nd)break r;for(var wb=yb?Pg:0;0<Eg--;)Cg[ec++]=wb}}Hf=1;break r}Hf||(Ag.a=3),ed=Hf}(ed=ed&&!$s.h)&&(Vf=E(db,hb,8,Zl,Uf)),ed&&Vf!=0?td=Vf:(Zu.a=3,td=0)}if(td==0)break n;if(Xu&&q4[mt]==1&&(Xu=Ju[Sn].g==0),wg+=Ju[Sn].g,Sn+=td,3>=mt){var tc,Wf=Ql[0];for(tc=1;tc<ln;++tc)Ql[tc]>Wf&&(Wf=Ql[tc]);bg+=Wf}}if(Si.nd=Xu,Si.Qb=0,Xu&&(Si.qb=(Na[3][Aa[3]+0].value<<24|Na[1][Aa[1]+0].value<<16|Na[2][Aa[2]+0].value)>>>0,wg==0&&256>Na[0][Aa[0]+0].value&&(Si.Qb=1,Si.qb+=Na[0][Aa[0]+0].value<<8)),Si.jc=!Si.Qb&&6>bg,Si.jc){var rd,ps=Si;for(rd=0;rd<Bn;++rd){var Ws=rd,Gs=ps.pd[Ws],id=ps.G[0][ps.H[0]+Ws];256<=id.value?(Gs.g=id.g+256,Gs.value=id.value):(Gs.g=0,Gs.value=0,Ws>>=dt(id,8,Gs),Ws>>=dt(ps.G[1][ps.H[1]+Ws],16,Gs),Ws>>=dt(ps.G[2][ps.H[2]+Ws],0,Gs),dt(ps.G[3][ps.H[3]+Ws],24,Gs))}}}Fn.vc=zn,Fn.Wb=lr,Fn.Ya=Yu,Fn.yc=qf,Mt=1;break t}Mt=0}if(!(k=Mt)){j.a=3;break e}if(0<fe){if(U.ua=1<<fe,!Xe(U.Wa,fe)){j.a=1,k=0;break e}}else U.ua=0;var Gf=j,Tg=_,bb=D,Kf=Gf.s,Yf=Kf.xc;if(Gf.c=Tg,Gf.i=bb,Kf.md=He(Tg,Yf),Kf.wc=Yf==0?-1:(1<<Yf)-1,y){j.xb=Q4;break e}if((te=s(_*D))==null){j.a=1,k=0;break e}k=(k=Fr(j,te,0,_,D,D,null))&&!M.h;break e}return k?(P!=null?P[0]=te:(t(te==null),t(y)),j.$=0,y||ni(U)):ni(U),k}function is(u,h){var y=u.c*u.i,j=y+h+16*h;return t(u.c<=h),u.V=s(j),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+h,1)}function Mi(u,h){var y=u.C,j=h-y,P=u.V,k=u.Ba+u.c*y;for(t(h<=u.l.o);0<j;){var _=16<j?16:j,D=u.l.ma,M=u.l.width,U=M*_,te=D.ca,fe=D.tb+M*y,pe=u.Ta,se=u.Ua;ir(u,_,P,k),mn(pe,se,te,fe,U),gr(D,y,y+_,te,fe,M),j-=_,P+=_*u.c,y+=_}t(y==h),u.C=u.Ma=h}function Ts(){this.ub=this.yd=this.td=this.Rb=0}function ss(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Fs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Oi(){this.Yb=function(){var u=[];return function h(y,j,P){for(var k=P[j],_=0;_<k&&(y.push(P.length>j+1?[]:0),!(P.length<j+1));_++)h(y[_],j+1,P)}(u,0,[3,11]),u}()}function Cl(){this.jb=s(3),this.Wc=a([4,8],Oi),this.Xc=a([4,17],Oi)}function Pl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function qe(){this.ld=this.La=this.dd=this.tc=0}function Ne(){this.Na=this.la=0}function Ye(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function gt(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function We(){this.uc=this.M=this.Nb=0,this.wa=Array(new qe),this.Y=0,this.ya=Array(new gt),this.aa=0,this.l=new Lt}function Je(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Re(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new Ts,this.Kc=new ss,this.ed=new Pl,this.Qa=new Fs,this.Ic=this.$c=this.Aa=0,this.D=new We,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,Ye),this.Pa=new Cl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Je),this.Hd=0,this.rb=Array(new Ne),this.sb=0,this.wa=Array(new qe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new gt),this.L=this.aa=0,this.gd=a([4,2],qe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Lt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function On(){var u=new Re;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Jl||(Jl=vr)),u}function yt(u,h,y){return u.a==0&&(u.a=h,u.sc=y,u.cb=0),0}function Rr(u,h,y){return 3<=y&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function Bi(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return yt(u,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,j=h.w,P=h.ha;if(4>P)return yt(u,7,"Truncated header.");var k=y[j+0]|y[j+1]<<8|y[j+2]<<16,_=u.Od;if(_.Rb=!(1&k),_.td=k>>1&7,_.yd=k>>4&1,_.ub=k>>5,3<_.td)return yt(u,3,"Incorrect keyframe parameters.");if(!_.yd)return yt(u,4,"Frame not displayable.");j+=3,P-=3;var D=u.Kc;if(_.Rb){if(7>P)return yt(u,7,"cannot parse picture header");if(!Rr(y,j,P))return yt(u,3,"Bad code word");D.c=16383&(y[j+4]<<8|y[j+3]),D.Td=y[j+4]>>6,D.i=16383&(y[j+6]<<8|y[j+5]),D.Ud=y[j+6]>>6,j+=7,P-=7,u.za=D.c+15>>4,u.Ub=D.i+15>>4,h.width=D.c,h.height=D.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((k=u.Pa).jb,0,255,k.jb.length),t((k=u.Qa)!=null),k.Cb=0,k.Bb=0,k.Fb=1,i(k.Zb,0,0,k.Zb.length),i(k.Lb,0,0,k.Lb)}if(_.ub>P)return yt(u,7,"bad partition length");de(k=u.m,y,j,_.ub),j+=_.ub,P-=_.ub,_.Rb&&(D.Ld=he(k),D.Kd=he(k)),D=u.Qa;var M,U=u.Pa;if(t(k!=null),t(D!=null),D.Cb=he(k),D.Cb){if(D.Bb=he(k),he(k)){for(D.Fb=he(k),M=0;4>M;++M)D.Zb[M]=he(k)?le(k,7):0;for(M=0;4>M;++M)D.Lb[M]=he(k)?le(k,6):0}if(D.Bb)for(M=0;3>M;++M)U.jb[M]=he(k)?ae(k,8):255}else D.Bb=0;if(k.Ka)return yt(u,3,"cannot parse segment header");if((D=u.ed).zd=he(k),D.Tb=ae(k,6),D.wb=ae(k,3),D.Pc=he(k),D.Pc&&he(k)){for(U=0;4>U;++U)he(k)&&(D.vd[U]=le(k,6));for(U=0;4>U;++U)he(k)&&(D.od[U]=le(k,6))}if(u.L=D.Tb==0?0:D.zd?1:2,k.Ka)return yt(u,3,"cannot parse filter header");var te=P;if(P=M=j,j=M+te,D=te,u.Xb=(1<<ae(u.m,2))-1,te<3*(U=u.Xb))y=7;else{for(M+=3*U,D-=3*U,te=0;te<U;++te){var fe=y[P+0]|y[P+1]<<8|y[P+2]<<16;fe>D&&(fe=D),de(u.Jc[+te],y,M,fe),M+=fe,D-=fe,P+=3}de(u.Jc[+U],y,M,D),y=M<j?0:5}if(y!=0)return yt(u,y,"cannot parse partitions");for(y=ae(M=u.m,7),P=he(M)?le(M,4):0,j=he(M)?le(M,4):0,D=he(M)?le(M,4):0,U=he(M)?le(M,4):0,M=he(M)?le(M,4):0,te=u.Qa,fe=0;4>fe;++fe){if(te.Cb){var pe=te.Zb[fe];te.Fb||(pe+=y)}else{if(0<fe){u.pb[fe]=u.pb[0];continue}pe=y}var se=u.pb[fe];se.Sc[0]=Of[Dr(pe+P,127)],se.Sc[1]=Bf[Dr(pe+0,127)],se.Eb[0]=2*Of[Dr(pe+j,127)],se.Eb[1]=101581*Bf[Dr(pe+D,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=Of[Dr(pe+U,117)],se.Qc[1]=Bf[Dr(pe+M,127)],se.lc=pe+M}if(!_.Rb)return yt(u,4,"Not a key frame.");for(he(k),_=u.Pa,y=0;4>y;++y){for(P=0;8>P;++P)for(j=0;3>j;++j)for(D=0;11>D;++D)U=ue(k,J4[y][P][j][D])?ae(k,8):K4[y][P][j][D],_.Wc[y][P].Yb[j][D]=U;for(P=0;17>P;++P)_.Xc[y][P]=_.Wc[y][X4[P]]}return u.kc=he(k),u.kc&&(u.Bd=ae(k,8)),u.cb=1}function vr(u,h,y,j,P,k,_){var D=h[P].Yb[y];for(y=0;16>P;++P){if(!ue(u,D[y+0]))return P;for(;!ue(u,D[y+1]);)if(D=h[++P].Yb[0],y=0,P==16)return 16;var M=h[P+1].Yb;if(ue(u,D[y+2])){var U=u,te=0;if(ue(U,(pe=D)[(fe=y)+3]))if(ue(U,pe[fe+6])){for(D=0,fe=2*(te=ue(U,pe[fe+8]))+(pe=ue(U,pe[fe+9+te])),te=0,pe=W4[fe];pe[D];++D)te+=te+ue(U,pe[D]);te+=3+(8<<fe)}else ue(U,pe[fe+7])?(te=7+2*ue(U,165),te+=ue(U,145)):te=5+ue(U,159);else te=ue(U,pe[fe+4])?3+ue(U,pe[fe+5]):2;D=M[2]}else te=1,D=M[1];M=_+G4[P],0>(U=u).b&&oe(U);var fe,pe=U.b,se=(fe=U.Ca>>1)-(U.I>>pe)>>31;--U.b,U.Ca+=se,U.Ca|=1,U.I-=(fe+1&se)<<pe,k[M]=((te^se)-se)*j[(0<P)+0]}return 16}function hn(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function on(u,h){if(u==null)return 0;if(h==null)return yt(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Bi(u,h))return 0;if(t(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var y=Ku[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-y>>4,u.zb=h.j-y>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+y>>4,u.Hb=h.va+15+y>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var j=u.ed;for(y=0;4>y;++y){var P;if(u.Qa.Cb){var k=u.Qa.Lb[y];u.Qa.Fb||(k+=j.Tb)}else k=j.Tb;for(P=0;1>=P;++P){var _=u.gd[y][P],D=k;if(j.Pc&&(D+=j.vd[0],P&&(D+=j.od[0])),0<(D=0>D?0:63<D?63:D)){var M=D;0<j.wb&&(M=4<j.wb?M>>2:M>>1)>9-j.wb&&(M=9-j.wb),1>M&&(M=1),_.dd=M,_.tc=2*D+M,_.ld=40<=D?2:15<=D?1:0}else _.tc=0;_.La=P}}}y=0}else yt(u,6,"Frame setup failed"),y=u.a;if(y=y==0){if(y){u.$c=0,0<u.Aa||(u.Ic=ub);e:{y=u.Ic,j=4*(M=u.za);var U=32*M,te=M+1,fe=0<u.L?M*(0<u.Aa?2:1):0,pe=(u.Aa==2?2:1)*M;if((_=j+832+(P=3*(16*y+Ku[u.L])/2*U)+(k=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=_)y=0;else{if(_>u.Vb){if(u.Vb=0,u.Ec=s(_),u.Fc=0,u.Ec==null){y=yt(u,1,"no memory during frame initialization.");break e}u.Vb=_}_=u.Ec,D=u.Fc,u.Ac=_,u.Bc=D,D+=j,u.Gd=o(U,Je),u.Hd=0,u.rb=o(te+1,Ne),u.sb=1,u.wa=fe?o(fe,qe):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=M),t(!0),u.oc=_,u.pc=D,D+=832,u.ya=o(pe,gt),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=M),u.R=16*M,u.B=8*M,M=(U=Ku[u.L])*u.R,U=U/2*u.B,u.sa=_,u.ta=D+M,u.qa=u.sa,u.ra=u.ta+16*y*u.R+U,u.Ha=u.qa,u.Ia=u.ra+8*y*u.B+U,u.$c=0,D+=P,u.mb=k?_:null,u.nb=k?D:null,t(D+k<=u.Fc+u.Vb),hn(u),i(u.Ac,u.Bc,0,j),y=1}}if(y){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!Bu){for(y=-255;255>=y;++y)Pn[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)ds[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Yl[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)Sa[255+y]=0>y?0:255<y?255:y;Bu=1}xa=vf,us=mf,Wl=Su,ar=gf,si=ju,pn=bu,wa=Fl,Ou=Po,Gl=_f,_o=Il,Eo=kf,Bs=ua,To=Rl,ba=Tu,Fo=Eu,zs=qi,Kl=as,oi=Lf,bi[0]=zi,bi[1]=yf,bi[2]=Sf,bi[3]=jf,bi[4]=Cu,bi[5]=la,bi[6]=Pu,bi[7]=_l,bi[8]=Af,bi[9]=Nf,qs[0]=Nu,qs[1]=wf,qs[2]=os,qs[3]=oa,qs[4]=Hn,qs[5]=bf,qs[6]=Au,hs[0]=Is,hs[1]=xf,hs[2]=Cf,hs[3]=El,hs[4]=Co,hs[5]=Pf,hs[6]=Tl,y=1}else y=0}y&&(y=function(se,Se){for(se.M=0;se.M<se.Va;++se.M){var ge,ne=se.Jc[se.M&se.Xb],re=se.m,we=se;for(ge=0;ge<we.za;++ge){var Ae=re,be=we,Ve=be.Ac,Oe=be.Bc+4*ge,tt=be.zc,Be=be.ya[be.aa+ge];if(be.Qa.Bb?Be.$b=ue(Ae,be.Pa.jb[0])?2+ue(Ae,be.Pa.jb[2]):ue(Ae,be.Pa.jb[1]):Be.$b=0,be.kc&&(Be.Ad=ue(Ae,be.Bd)),Be.Za=!ue(Ae,145)+0,Be.Za){var kt=Be.Ob,Et=0;for(be=0;4>be;++be){var Nt,xt=tt[0+be];for(Nt=0;4>Nt;++Nt){xt=Y4[Ve[Oe+Nt]][xt];for(var Mt=lg[ue(Ae,xt[0])];0<Mt;)Mt=lg[2*Mt+ue(Ae,xt[Mt])];xt=-Mt,Ve[Oe+Nt]=xt}r(kt,Et,Ve,Oe,4),Et+=4,tt[0+be]=xt}}else xt=ue(Ae,156)?ue(Ae,128)?1:3:ue(Ae,163)?2:0,Be.Ob[0]=xt,i(Ve,Oe,xt,4),i(tt,0,xt,4);Be.Dd=ue(Ae,142)?ue(Ae,114)?ue(Ae,183)?1:3:2:0}if(we.m.Ka)return yt(se,7,"Premature end-of-partition0 encountered.");for(;se.ja<se.za;++se.ja){if(we=ne,Ae=(re=se).rb[re.sb-1],Ve=re.rb[re.sb+re.ja],ge=re.ya[re.aa+re.ja],Oe=re.kc?ge.Ad:0)Ae.la=Ve.la=0,ge.Za||(Ae.Na=Ve.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var Rt,mt;if(Ae=Ve,Ve=we,Oe=re.Pa.Xc,tt=re.ya[re.aa+re.ja],Be=re.pb[tt.$b],be=tt.ad,kt=0,Et=re.rb[re.sb-1],xt=Nt=0,i(be,kt,0,384),tt.Za)var Sn=0,wr=Oe[3];else{Mt=s(16);var jn=Ae.Na+Et.Na;if(jn=Jl(Ve,Oe[1],jn,Be.Eb,0,Mt,0),Ae.Na=Et.Na=(0<jn)+0,1<jn)xa(Mt,0,be,kt);else{var br=Mt[0]+3>>3;for(Mt=0;256>Mt;Mt+=16)be[kt+Mt]=br}Sn=1,wr=Oe[0]}var Tt=15&Ae.la,Or=15&Et.la;for(Mt=0;4>Mt;++Mt){var Br=1&Or;for(br=mt=0;4>br;++br)Tt=Tt>>1|(Br=(jn=Jl(Ve,wr,jn=Br+(1&Tt),Be.Sc,Sn,be,kt))>Sn)<<7,mt=mt<<2|(3<jn?3:1<jn?2:be[kt+0]!=0),kt+=16;Tt>>=4,Or=Or>>1|Br<<7,Nt=(Nt<<8|mt)>>>0}for(wr=Tt,Sn=Or>>4,Rt=0;4>Rt;Rt+=2){for(mt=0,Tt=Ae.la>>4+Rt,Or=Et.la>>4+Rt,Mt=0;2>Mt;++Mt){for(Br=1&Or,br=0;2>br;++br)jn=Br+(1&Tt),Tt=Tt>>1|(Br=0<(jn=Jl(Ve,Oe[2],jn,Be.Qc,0,be,kt)))<<3,mt=mt<<2|(3<jn?3:1<jn?2:be[kt+0]!=0),kt+=16;Tt>>=2,Or=Or>>1|Br<<5}xt|=mt<<4*Rt,wr|=Tt<<4<<Rt,Sn|=(240&Or)<<Rt}Ae.la=wr,Et.la=Sn,tt.Hc=Nt,tt.Gc=xt,tt.ia=43690&xt?0:Be.ia,Oe=!(Nt|xt)}if(0<re.L&&(re.wa[re.Y+re.ja]=re.gd[ge.$b][ge.Za],re.wa[re.Y+re.ja].La|=!Oe),we.Ka)return yt(se,7,"Premature end-of-file encountered.")}if(hn(se),re=Se,we=1,ge=(ne=se).D,Ae=0<ne.L&&ne.M>=ne.zb&&ne.M<=ne.Va,ne.Aa==0)e:{if(ge.M=ne.M,ge.uc=Ae,ql(ne,ge),we=1,ge=(mt=ne.D).Nb,Ae=(xt=Ku[ne.L])*ne.R,Ve=xt/2*ne.B,Mt=16*ge*ne.R,br=8*ge*ne.B,Oe=ne.sa,tt=ne.ta-Ae+Mt,Be=ne.qa,be=ne.ra-Ve+br,kt=ne.Ha,Et=ne.Ia-Ve+br,Or=(Tt=mt.M)==0,Nt=Tt>=ne.Va-1,ne.Aa==2&&ql(ne,mt),mt.uc)for(Br=(jn=ne).D.M,t(jn.D.uc),mt=jn.yb;mt<jn.Hb;++mt){Sn=mt,wr=Br;var Fn=(zn=(ln=jn).D).Nb;Rt=ln.R;var zn=zn.wa[zn.Y+Sn],lr=ln.sa,ui=ln.ta+16*Fn*Rt+16*Sn,Vi=zn.dd,In=zn.tc;if(In!=0)if(t(3<=In),ln.L==1)0<Sn&&zs(lr,ui,Rt,In+4),zn.La&&oi(lr,ui,Rt,In),0<wr&&Fo(lr,ui,Rt,In+4),zn.La&&Kl(lr,ui,Rt,In);else{var fs=ln.B,Io=ln.qa,ja=ln.ra+8*Fn*fs+8*Sn,Vs=ln.Ha,ln=ln.Ia+8*Fn*fs+8*Sn;Fn=zn.ld,0<Sn&&(Ou(lr,ui,Rt,In+4,Vi,Fn),_o(Io,ja,Vs,ln,fs,In+4,Vi,Fn)),zn.La&&(Bs(lr,ui,Rt,In,Vi,Fn),ba(Io,ja,Vs,ln,fs,In,Vi,Fn)),0<wr&&(wa(lr,ui,Rt,In+4,Vi,Fn),Gl(Io,ja,Vs,ln,fs,In+4,Vi,Fn)),zn.La&&(Eo(lr,ui,Rt,In,Vi,Fn),To(Io,ja,Vs,ln,fs,In,Vi,Fn))}}if(ne.ia&&alert("todo:DitherRow"),re.put!=null){if(mt=16*Tt,Tt=16*(Tt+1),Or?(re.y=ne.sa,re.O=ne.ta+Mt,re.f=ne.qa,re.N=ne.ra+br,re.ea=ne.Ha,re.W=ne.Ia+br):(mt-=xt,re.y=Oe,re.O=tt,re.f=Be,re.N=be,re.ea=kt,re.W=Et),Nt||(Tt-=xt),Tt>re.o&&(Tt=re.o),re.F=null,re.J=null,ne.Fa!=null&&0<ne.Fa.length&&mt<Tt&&(re.J=Bl(ne,re,mt,Tt-mt),re.F=ne.mb,re.F==null&&re.F.length==0)){we=yt(ne,3,"Could not decode alpha data.");break e}mt<re.j&&(xt=re.j-mt,mt=re.j,t(!(1&xt)),re.O+=ne.R*xt,re.N+=ne.B*(xt>>1),re.W+=ne.B*(xt>>1),re.F!=null&&(re.J+=re.width*xt)),mt<Tt&&(re.O+=re.v,re.N+=re.v>>1,re.W+=re.v>>1,re.F!=null&&(re.J+=re.v),re.ka=mt-re.j,re.U=re.va-re.v,re.T=Tt-mt,we=re.put(re))}ge+1!=ne.Ic||Nt||(r(ne.sa,ne.ta-Ae,Oe,tt+16*ne.R,Ae),r(ne.qa,ne.ra-Ve,Be,be+8*ne.B,Ve),r(ne.Ha,ne.Ia-Ve,kt,Et+8*ne.B,Ve))}if(!we)return yt(se,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),y&=1}return y?(u.cb=0,y):0}function fn(u,h,y,j,P){P=u[h+y+32*j]+(P>>3),u[h+y+32*j]=-256&P?0>P?0:255:P}function ri(u,h,y,j,P,k){fn(u,h,0,y,j+P),fn(u,h,1,y,j+k),fn(u,h,2,y,j-k),fn(u,h,3,y,j-P)}function Xt(u){return(20091*u>>16)+u}function Ll(u,h,y,j){var P,k=0,_=s(16);for(P=0;4>P;++P){var D=u[h+0]+u[h+8],M=u[h+0]-u[h+8],U=(35468*u[h+4]>>16)-Xt(u[h+12]),te=Xt(u[h+4])+(35468*u[h+12]>>16);_[k+0]=D+te,_[k+1]=M+U,_[k+2]=M-U,_[k+3]=D-te,k+=4,h++}for(P=k=0;4>P;++P)D=(u=_[k+0]+4)+_[k+8],M=u-_[k+8],U=(35468*_[k+4]>>16)-Xt(_[k+12]),fn(y,j,0,0,D+(te=Xt(_[k+4])+(35468*_[k+12]>>16))),fn(y,j,1,0,M+U),fn(y,j,2,0,M-U),fn(y,j,3,0,D-te),k++,j+=32}function bu(u,h,y,j){var P=u[h+0]+4,k=35468*u[h+4]>>16,_=Xt(u[h+4]),D=35468*u[h+1]>>16;ri(y,j,0,P+_,u=Xt(u[h+1]),D),ri(y,j,1,P+k,u,D),ri(y,j,2,P-k,u,D),ri(y,j,3,P-_,u,D)}function mf(u,h,y,j,P){Ll(u,h,y,j),P&&Ll(u,h+16,y,j+4)}function Su(u,h,y,j){us(u,h+0,y,j,1),us(u,h+32,y,j+128,1)}function gf(u,h,y,j){var P;for(u=u[h+0]+4,P=0;4>P;++P)for(h=0;4>h;++h)fn(y,j,h,P,u)}function ju(u,h,y,j){u[h+0]&&ar(u,h+0,y,j),u[h+16]&&ar(u,h+16,y,j+4),u[h+32]&&ar(u,h+32,y,j+128),u[h+48]&&ar(u,h+48,y,j+128+4)}function vf(u,h,y,j){var P,k=s(16);for(P=0;4>P;++P){var _=u[h+0+P]+u[h+12+P],D=u[h+4+P]+u[h+8+P],M=u[h+4+P]-u[h+8+P],U=u[h+0+P]-u[h+12+P];k[0+P]=_+D,k[8+P]=_-D,k[4+P]=U+M,k[12+P]=U-M}for(P=0;4>P;++P)_=(u=k[0+4*P]+3)+k[3+4*P],D=k[1+4*P]+k[2+4*P],M=k[1+4*P]-k[2+4*P],U=u-k[3+4*P],y[j+0]=_+D>>3,y[j+16]=U+M>>3,y[j+32]=_-D>>3,y[j+48]=U-M>>3,j+=64}function kl(u,h,y){var j,P=h-32,k=Mr,_=255-u[P-1];for(j=0;j<y;++j){var D,M=k,U=_+u[h-1];for(D=0;D<y;++D)u[h+D]=M[U+u[P+D]];h+=32}}function yf(u,h){kl(u,h,4)}function xf(u,h){kl(u,h,8)}function wf(u,h){kl(u,h,16)}function os(u,h){var y;for(y=0;16>y;++y)r(u,h+32*y,u,h-32,16)}function oa(u,h){var y;for(y=16;0<y;--y)i(u,h,u[h-1],16),h+=32}function aa(u,h,y){var j;for(j=0;16>j;++j)i(h,y+32*j,u,16)}function Nu(u,h){var y,j=16;for(y=0;16>y;++y)j+=u[h-1+32*y]+u[h+y-32];aa(j>>5,u,h)}function Hn(u,h){var y,j=8;for(y=0;16>y;++y)j+=u[h-1+32*y];aa(j>>4,u,h)}function bf(u,h){var y,j=8;for(y=0;16>y;++y)j+=u[h+y-32];aa(j>>4,u,h)}function Au(u,h){aa(128,u,h)}function ut(u,h,y){return u+2*h+y+2>>2}function Sf(u,h){var y,j=h-32;for(j=new Uint8Array([ut(u[j-1],u[j+0],u[j+1]),ut(u[j+0],u[j+1],u[j+2]),ut(u[j+1],u[j+2],u[j+3]),ut(u[j+2],u[j+3],u[j+4])]),y=0;4>y;++y)r(u,h+32*y,j,0,j.length)}function jf(u,h){var y=u[h-1],j=u[h-1+32],P=u[h-1+64],k=u[h-1+96];xe(u,h+0,16843009*ut(u[h-1-32],y,j)),xe(u,h+32,16843009*ut(y,j,P)),xe(u,h+64,16843009*ut(j,P,k)),xe(u,h+96,16843009*ut(P,k,k))}function zi(u,h){var y,j=4;for(y=0;4>y;++y)j+=u[h+y-32]+u[h-1+32*y];for(j>>=3,y=0;4>y;++y)i(u,h+32*y,j,4)}function Cu(u,h){var y=u[h-1+0],j=u[h-1+32],P=u[h-1+64],k=u[h-1-32],_=u[h+0-32],D=u[h+1-32],M=u[h+2-32],U=u[h+3-32];u[h+0+96]=ut(j,P,u[h-1+96]),u[h+1+96]=u[h+0+64]=ut(y,j,P),u[h+2+96]=u[h+1+64]=u[h+0+32]=ut(k,y,j),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=ut(_,k,y),u[h+3+64]=u[h+2+32]=u[h+1+0]=ut(D,_,k),u[h+3+32]=u[h+2+0]=ut(M,D,_),u[h+3+0]=ut(U,M,D)}function Pu(u,h){var y=u[h+1-32],j=u[h+2-32],P=u[h+3-32],k=u[h+4-32],_=u[h+5-32],D=u[h+6-32],M=u[h+7-32];u[h+0+0]=ut(u[h+0-32],y,j),u[h+1+0]=u[h+0+32]=ut(y,j,P),u[h+2+0]=u[h+1+32]=u[h+0+64]=ut(j,P,k),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=ut(P,k,_),u[h+3+32]=u[h+2+64]=u[h+1+96]=ut(k,_,D),u[h+3+64]=u[h+2+96]=ut(_,D,M),u[h+3+96]=ut(D,M,M)}function la(u,h){var y=u[h-1+0],j=u[h-1+32],P=u[h-1+64],k=u[h-1-32],_=u[h+0-32],D=u[h+1-32],M=u[h+2-32],U=u[h+3-32];u[h+0+0]=u[h+1+64]=k+_+1>>1,u[h+1+0]=u[h+2+64]=_+D+1>>1,u[h+2+0]=u[h+3+64]=D+M+1>>1,u[h+3+0]=M+U+1>>1,u[h+0+96]=ut(P,j,y),u[h+0+64]=ut(j,y,k),u[h+0+32]=u[h+1+96]=ut(y,k,_),u[h+1+32]=u[h+2+96]=ut(k,_,D),u[h+2+32]=u[h+3+96]=ut(_,D,M),u[h+3+32]=ut(D,M,U)}function _l(u,h){var y=u[h+0-32],j=u[h+1-32],P=u[h+2-32],k=u[h+3-32],_=u[h+4-32],D=u[h+5-32],M=u[h+6-32],U=u[h+7-32];u[h+0+0]=y+j+1>>1,u[h+1+0]=u[h+0+64]=j+P+1>>1,u[h+2+0]=u[h+1+64]=P+k+1>>1,u[h+3+0]=u[h+2+64]=k+_+1>>1,u[h+0+32]=ut(y,j,P),u[h+1+32]=u[h+0+96]=ut(j,P,k),u[h+2+32]=u[h+1+96]=ut(P,k,_),u[h+3+32]=u[h+2+96]=ut(k,_,D),u[h+3+64]=ut(_,D,M),u[h+3+96]=ut(D,M,U)}function Nf(u,h){var y=u[h-1+0],j=u[h-1+32],P=u[h-1+64],k=u[h-1+96];u[h+0+0]=y+j+1>>1,u[h+2+0]=u[h+0+32]=j+P+1>>1,u[h+2+32]=u[h+0+64]=P+k+1>>1,u[h+1+0]=ut(y,j,P),u[h+3+0]=u[h+1+32]=ut(j,P,k),u[h+3+32]=u[h+1+64]=ut(P,k,k),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=k}function Af(u,h){var y=u[h-1+0],j=u[h-1+32],P=u[h-1+64],k=u[h-1+96],_=u[h-1-32],D=u[h+0-32],M=u[h+1-32],U=u[h+2-32];u[h+0+0]=u[h+2+32]=y+_+1>>1,u[h+0+32]=u[h+2+64]=j+y+1>>1,u[h+0+64]=u[h+2+96]=P+j+1>>1,u[h+0+96]=k+P+1>>1,u[h+3+0]=ut(D,M,U),u[h+2+0]=ut(_,D,M),u[h+1+0]=u[h+3+32]=ut(y,_,D),u[h+1+32]=u[h+3+64]=ut(j,y,_),u[h+1+64]=u[h+3+96]=ut(P,j,y),u[h+1+96]=ut(k,P,j)}function Cf(u,h){var y;for(y=0;8>y;++y)r(u,h+32*y,u,h-32,8)}function El(u,h){var y;for(y=0;8>y;++y)i(u,h,u[h-1],8),h+=32}function Ao(u,h,y){var j;for(j=0;8>j;++j)i(h,y+32*j,u,8)}function Is(u,h){var y,j=8;for(y=0;8>y;++y)j+=u[h+y-32]+u[h-1+32*y];Ao(j>>4,u,h)}function Pf(u,h){var y,j=4;for(y=0;8>y;++y)j+=u[h+y-32];Ao(j>>3,u,h)}function Co(u,h){var y,j=4;for(y=0;8>y;++y)j+=u[h-1+32*y];Ao(j>>3,u,h)}function Tl(u,h){Ao(128,u,h)}function ca(u,h,y){var j=u[h-y],P=u[h+0],k=3*(P-j)+Ff[1020+u[h-2*y]-u[h+y]],_=zu[112+(k+4>>3)];u[h-y]=Mr[255+j+zu[112+(k+3>>3)]],u[h+0]=Mr[255+P-_]}function Lu(u,h,y,j){var P=u[h+0],k=u[h+y];return li[255+u[h-2*y]-u[h-y]]>j||li[255+k-P]>j}function ku(u,h,y,j){return 4*li[255+u[h-y]-u[h+0]]+li[255+u[h-2*y]-u[h+y]]<=j}function _u(u,h,y,j,P){var k=u[h-3*y],_=u[h-2*y],D=u[h-y],M=u[h+0],U=u[h+y],te=u[h+2*y],fe=u[h+3*y];return 4*li[255+D-M]+li[255+_-U]>j?0:li[255+u[h-4*y]-k]<=P&&li[255+k-_]<=P&&li[255+_-D]<=P&&li[255+fe-te]<=P&&li[255+te-U]<=P&&li[255+U-M]<=P}function Eu(u,h,y,j){var P=2*j+1;for(j=0;16>j;++j)ku(u,h+j,y,P)&&ca(u,h+j,y)}function qi(u,h,y,j){var P=2*j+1;for(j=0;16>j;++j)ku(u,h+j*y,1,P)&&ca(u,h+j*y,1)}function as(u,h,y,j){var P;for(P=3;0<P;--P)Eu(u,h+=4*y,y,j)}function Lf(u,h,y,j){var P;for(P=3;0<P;--P)qi(u,h+=4,y,j)}function Rs(u,h,y,j,P,k,_,D){for(k=2*k+1;0<P--;){if(_u(u,h,y,k,_))if(Lu(u,h,y,D))ca(u,h,y);else{var M=u,U=h,te=y,fe=M[U-2*te],pe=M[U-te],se=M[U+0],Se=M[U+te],ge=M[U+2*te],ne=27*(we=Ff[1020+3*(se-pe)+Ff[1020+fe-Se]])+63>>7,re=18*we+63>>7,we=9*we+63>>7;M[U-3*te]=Mr[255+M[U-3*te]+we],M[U-2*te]=Mr[255+fe+re],M[U-te]=Mr[255+pe+ne],M[U+0]=Mr[255+se-ne],M[U+te]=Mr[255+Se-re],M[U+2*te]=Mr[255+ge-we]}h+=j}}function xi(u,h,y,j,P,k,_,D){for(k=2*k+1;0<P--;){if(_u(u,h,y,k,_))if(Lu(u,h,y,D))ca(u,h,y);else{var M=u,U=h,te=y,fe=M[U-te],pe=M[U+0],se=M[U+te],Se=zu[112+((ge=3*(pe-fe))+4>>3)],ge=zu[112+(ge+3>>3)],ne=Se+1>>1;M[U-2*te]=Mr[255+M[U-2*te]+ne],M[U-te]=Mr[255+fe+ge],M[U+0]=Mr[255+pe-Se],M[U+te]=Mr[255+se-ne]}h+=j}}function Fl(u,h,y,j,P,k){Rs(u,h,y,1,16,j,P,k)}function Po(u,h,y,j,P,k){Rs(u,h,1,y,16,j,P,k)}function kf(u,h,y,j,P,k){var _;for(_=3;0<_;--_)xi(u,h+=4*y,y,1,16,j,P,k)}function ua(u,h,y,j,P,k){var _;for(_=3;0<_;--_)xi(u,h+=4,1,y,16,j,P,k)}function _f(u,h,y,j,P,k,_,D){Rs(u,h,P,1,8,k,_,D),Rs(y,j,P,1,8,k,_,D)}function Il(u,h,y,j,P,k,_,D){Rs(u,h,1,P,8,k,_,D),Rs(y,j,1,P,8,k,_,D)}function Rl(u,h,y,j,P,k,_,D){xi(u,h+4*P,P,1,8,k,_,D),xi(y,j+4*P,P,1,8,k,_,D)}function Tu(u,h,y,j,P,k,_,D){xi(u,h+4,1,P,8,k,_,D),xi(y,j+4,1,P,8,k,_,D)}function da(){this.ba=new mr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Dl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ml(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Fu(){this.ua=0,this.Wa=new G,this.vb=new G,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new O}function Ef(){this.xb=this.a=0,this.l=new Lt,this.ca=new mr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Fu,this.ab=0,this.gc=o(4,Ml),this.Oc=0}function ha(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Lt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lo(u,h,y,j,P,k,_){for(u=u==null?0:u[h+0],h=0;h<_;++h)P[k+h]=u+y[j+h]&255,u=P[k+h]}function Ol(u,h,y,j,P,k,_){var D;if(u==null)Lo(null,null,y,j,P,k,_);else for(D=0;D<_;++D)P[k+D]=u[h+D]+y[j+D]&255}function Ds(u,h,y,j,P,k,_){if(u==null)Lo(null,null,y,j,P,k,_);else{var D,M=u[h+0],U=M,te=M;for(D=0;D<_;++D)U=te+(M=u[h+D])-U,te=y[j+D]+(-256&U?0>U?0:255:U)&255,U=M,P[k+D]=te}}function Bl(u,h,y,j){var P=h.width,k=h.o;if(t(u!=null&&h!=null),0>y||0>=j||y+j>k)return null;if(!u.Cc){if(u.ga==null){var _;if(u.ga=new ha,(_=u.ga==null)||(_=h.width*h.o,t(u.Gb.length==0),u.Gb=s(_),u.Uc=0,u.Gb==null?_=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,_=1),_=!_),!_){_=u.ga;var D=u.Fa,M=u.P,U=u.qc,te=u.mb,fe=u.nb,pe=M+1,se=U-1,Se=_.l;if(t(D!=null&&te!=null&&h!=null),Us[0]=null,Us[1]=Lo,Us[2]=Ol,Us[3]=Ds,_.ca=te,_.tb=fe,_.c=h.width,_.i=h.height,t(0<_.c&&0<_.i),1>=U)h=0;else if(_.$a=D[M+0]>>0&3,_.Z=D[M+0]>>2&3,_.Lc=D[M+0]>>4&3,M=D[M+0]>>6&3,0>_.$a||1<_.$a||4<=_.Z||1<_.Lc||M)h=0;else if(Se.put=Er,Se.ac=Cn,Se.bc=Xr,Se.ma=_,Se.width=h.width,Se.height=h.height,Se.Da=h.Da,Se.v=h.v,Se.va=h.va,Se.j=h.j,Se.o=h.o,_.$a)e:{t(_.$a==1),h=sr();t:for(;;){if(h==null){h=0;break e}if(t(_!=null),_.mc=h,h.c=_.c,h.i=_.i,h.l=_.l,h.l.ma=_,h.l.width=_.c,h.l.height=_.i,h.a=0,W(h.m,D,pe,se),!Ir(_.c,_.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&ei(h.s)?(_.ic=1,D=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(D),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(_.ic=0,h=is(h,_.c)),!h))break t;h=1;break e}_.mc=null,h=0}else h=se>=_.c*_.i;_=!h}if(_)return null;u.ga.Lc!=1?u.Ga=0:j=k-y}t(u.ga!=null),t(y+j<=k);e:{if(h=(D=u.ga).c,k=D.l.o,D.$a==0){if(pe=u.rc,se=u.Vc,Se=u.Fa,M=u.P+1+y*h,U=u.mb,te=u.nb+y*h,t(M<=u.P+u.qc),D.Z!=0)for(t(Us[D.Z]!=null),_=0;_<j;++_)Us[D.Z](pe,se,Se,M,U,te,h),pe=U,se=te,te+=h,M+=h;else for(_=0;_<j;++_)r(U,te,Se,M,h),pe=U,se=te,te+=h,M+=h;u.rc=pe,u.Vc=se}else{if(t(D.mc!=null),h=y+j,t((_=D.mc)!=null),t(h<=_.i),_.C>=h)h=1;else if(D.ic||ce(),D.ic){D=_.V,pe=_.Ba,se=_.c;var ge=_.i,ne=(Se=1,M=_.$/se,U=_.$%se,te=_.m,fe=_.s,_.$),re=se*ge,we=se*h,Ae=fe.wc,be=ne<we?sn(fe,U,M):null;t(ne<=re),t(h<=ge),t(ei(fe));t:for(;;){for(;!te.h&&ne<we;){if(U&Ae||(be=sn(fe,U,M)),t(be!=null),Z(te),256>(ge=En(be.G[0],be.H[0],te)))D[pe+ne]=ge,++ne,++U>=se&&(U=0,++M<=h&&!(M%16)&&ti(_,M));else{if(!(280>ge)){Se=0;break t}ge=Tr(ge-256,te);var Ve,Oe=En(be.G[4],be.H[4],te);if(Z(te),!(ne>=(Oe=Qr(se,Oe=Tr(Oe,te)))&&re-ne>=ge)){Se=0;break t}for(Ve=0;Ve<ge;++Ve)D[pe+ne+Ve]=D[pe+ne+Ve-Oe];for(ne+=ge,U+=ge;U>=se;)U-=se,++M<=h&&!(M%16)&&ti(_,M);ne<we&&U&Ae&&(be=sn(fe,U,M))}t(te.h==z(te))}ti(_,M>h?h:M);break t}!Se||te.h&&ne<re?(Se=0,_.a=te.h?5:3):_.$=ne,h=Se}else h=Fr(_,_.V,_.Ba,_.c,_.i,h,Mi);if(!h){j=0;break e}}y+j>=k&&(u.Cc=1),j=1}if(!j)return null;if(u.Cc&&((j=u.ga)!=null&&(j.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*P}function v(u,h,y,j,P,k){for(;0<P--;){var _,D=u,M=h+(y?1:0),U=u,te=h+(y?0:3);for(_=0;_<j;++_){var fe=U[te+4*_];fe!=255&&(fe*=32897,D[M+4*_+0]=D[M+4*_+0]*fe>>23,D[M+4*_+1]=D[M+4*_+1]*fe>>23,D[M+4*_+2]=D[M+4*_+2]*fe>>23)}h+=k}}function L(u,h,y,j,P){for(;0<j--;){var k;for(k=0;k<y;++k){var _=u[h+2*k+0],D=15&(U=u[h+2*k+1]),M=4369*D,U=(240&U|U>>4)*M>>16;u[h+2*k+0]=(240&_|_>>4)*M>>16&240|(15&_|_<<4)*M>>16>>4&15,u[h+2*k+1]=240&U|D}h+=P}}function $(u,h,y,j,P,k,_,D){var M,U,te=255;for(U=0;U<P;++U){for(M=0;M<j;++M){var fe=u[h+M];k[_+4*M]=fe,te&=fe}h+=y,_+=D}return te!=255}function ee(u,h,y,j,P){var k;for(k=0;k<P;++k)y[j+k]=u[h+k]>>8}function ce(){ai=v,qt=L,Ut=$,mn=ee}function ye(u,h,y){F[u]=function(j,P,k,_,D,M,U,te,fe,pe,se,Se,ge,ne,re,we,Ae){var be,Ve=Ae-1>>1,Oe=D[M+0]|U[te+0]<<16,tt=fe[pe+0]|se[Se+0]<<16;t(j!=null);var Be=3*Oe+tt+131074>>2;for(h(j[P+0],255&Be,Be>>16,ge,ne),k!=null&&(Be=3*tt+Oe+131074>>2,h(k[_+0],255&Be,Be>>16,re,we)),be=1;be<=Ve;++be){var kt=D[M+be]|U[te+be]<<16,Et=fe[pe+be]|se[Se+be]<<16,Nt=Oe+kt+tt+Et+524296,xt=Nt+2*(kt+tt)>>3;Be=xt+Oe>>1,Oe=(Nt=Nt+2*(Oe+Et)>>3)+kt>>1,h(j[P+2*be-1],255&Be,Be>>16,ge,ne+(2*be-1)*y),h(j[P+2*be-0],255&Oe,Oe>>16,ge,ne+(2*be-0)*y),k!=null&&(Be=Nt+tt>>1,Oe=xt+Et>>1,h(k[_+2*be-1],255&Be,Be>>16,re,we+(2*be-1)*y),h(k[_+2*be+0],255&Oe,Oe>>16,re,we+(2*be+0)*y)),Oe=kt,tt=Et}1&Ae||(Be=3*Oe+tt+131074>>2,h(j[P+Ae-1],255&Be,Be>>16,ge,ne+(Ae-1)*y),k!=null&&(Be=3*tt+Oe+131074>>2,h(k[_+Ae-1],255&Be,Be>>16,re,we+(Ae-1)*y)))}}function Ce(){ci[qu]=Z4,ci[Uu]=ug,ci[sg]=eb,ci[Vu]=dg,ci[$u]=hg,ci[If]=fg,ci[og]=tb,ci[Rf]=ug,ci[Df]=dg,ci[Hu]=hg,ci[Mf]=fg}function Ue(u){return u&~nb?0>u?0:255:u>>pg}function Qe(u,h){return Ue((19077*u>>8)+(26149*h>>8)-14234)}function pt(u,h,y){return Ue((19077*u>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function ht(u,h){return Ue((19077*u>>8)+(33050*h>>8)-17685)}function St(u,h,y,j,P){j[P+0]=Qe(u,y),j[P+1]=pt(u,h,y),j[P+2]=ht(u,h)}function Qt(u,h,y,j,P){j[P+0]=ht(u,h),j[P+1]=pt(u,h,y),j[P+2]=Qe(u,y)}function an(u,h,y,j,P){var k=pt(u,h,y);h=k<<3&224|ht(u,h)>>3,j[P+0]=248&Qe(u,y)|k>>5,j[P+1]=h}function bn(u,h,y,j,P){var k=240&ht(u,h)|15;j[P+0]=240&Qe(u,y)|pt(u,h,y)>>4,j[P+1]=k}function Wn(u,h,y,j,P){j[P+0]=255,St(u,h,y,j,P+1)}function Tn(u,h,y,j,P){Qt(u,h,y,j,P),j[P+3]=255}function wi(u,h,y,j,P){St(u,h,y,j,P),j[P+3]=255}function Dr(u,h){return 0>u?0:u>h?h:u}function Ui(u,h,y){F[u]=function(j,P,k,_,D,M,U,te,fe){for(var pe=te+(-2&fe)*y;te!=pe;)h(j[P+0],k[_+0],D[M+0],U,te),h(j[P+1],k[_+0],D[M+0],U,te+y),P+=2,++_,++M,te+=2*y;1&fe&&h(j[P+0],k[_+0],D[M+0],U,te)}}function Iu(u,h,y){return y==0?u==0?h==0?6:5:h==0?4:0:y}function zl(u,h,y,j,P){switch(u>>>30){case 3:us(h,y,j,P,0);break;case 2:pn(h,y,j,P);break;case 1:ar(h,y,j,P)}}function ql(u,h){var y,j,P=h.M,k=h.Nb,_=u.oc,D=u.pc+40,M=u.oc,U=u.pc+584,te=u.oc,fe=u.pc+600;for(y=0;16>y;++y)_[D+32*y-1]=129;for(y=0;8>y;++y)M[U+32*y-1]=129,te[fe+32*y-1]=129;for(0<P?_[D-1-32]=M[U-1-32]=te[fe-1-32]=129:(i(_,D-32-1,127,21),i(M,U-32-1,127,9),i(te,fe-32-1,127,9)),j=0;j<u.za;++j){var pe=h.ya[h.aa+j];if(0<j){for(y=-1;16>y;++y)r(_,D+32*y-4,_,D+32*y+12,4);for(y=-1;8>y;++y)r(M,U+32*y-4,M,U+32*y+4,4),r(te,fe+32*y-4,te,fe+32*y+4,4)}var se=u.Gd,Se=u.Hd+j,ge=pe.ad,ne=pe.Hc;if(0<P&&(r(_,D-32,se[Se].y,0,16),r(M,U-32,se[Se].f,0,8),r(te,fe-32,se[Se].ea,0,8)),pe.Za){var re=_,we=D-32+16;for(0<P&&(j>=u.za-1?i(re,we,se[Se].y[15],4):r(re,we,se[Se+1].y,0,4)),y=0;4>y;y++)re[we+128+y]=re[we+256+y]=re[we+384+y]=re[we+0+y];for(y=0;16>y;++y,ne<<=2)re=_,we=D+gg[y],bi[pe.Ob[y]](re,we),zl(ne,ge,16*+y,re,we)}else if(re=Iu(j,P,pe.Ob[0]),qs[re](_,D),ne!=0)for(y=0;16>y;++y,ne<<=2)zl(ne,ge,16*+y,_,D+gg[y]);for(y=pe.Gc,re=Iu(j,P,pe.Dd),hs[re](M,U),hs[re](te,fe),ne=ge,re=M,we=U,255&(pe=y>>0)&&(170&pe?Wl(ne,256,re,we):si(ne,256,re,we)),pe=te,ne=fe,255&(y>>=8)&&(170&y?Wl(ge,320,pe,ne):si(ge,320,pe,ne)),P<u.Ub-1&&(r(se[Se].y,0,_,D+480,16),r(se[Se].f,0,M,U+224,8),r(se[Se].ea,0,te,fe+224,8)),y=8*k*u.B,se=u.sa,Se=u.ta+16*j+16*k*u.R,ge=u.qa,pe=u.ra+8*j+y,ne=u.Ha,re=u.Ia+8*j+y,y=0;16>y;++y)r(se,Se+y*u.R,_,D+32*y,16);for(y=0;8>y;++y)r(ge,pe+y*u.B,M,U+32*y,8),r(ne,re+y*u.B,te,fe+32*y,8)}}function fa(u,h,y,j,P,k,_,D,M){var U=[0],te=[0],fe=0,pe=M!=null?M.kd:0,se=M??new Dl;if(u==null||12>y)return 7;se.data=u,se.w=h,se.ha=y,h=[h],y=[y],se.gb=[se.gb];e:{var Se=h,ge=y,ne=se.gb;if(t(u!=null),t(ge!=null),t(ne!=null),ne[0]=0,12<=ge[0]&&!n(u,Se[0],"RIFF")){if(n(u,Se[0]+8,"WEBP")){ne=3;break e}var re=ke(u,Se[0]+4);if(12>re||4294967286<re){ne=3;break e}if(pe&&re>ge[0]-8){ne=7;break e}ne[0]=re,Se[0]+=12,ge[0]-=12}ne=0}if(ne!=0)return ne;for(re=0<se.gb[0],y=y[0];;){e:{var we=u;ge=h,ne=y;var Ae=U,be=te,Ve=Se=[0];if((Be=fe=[fe])[0]=0,8>ne[0])ne=7;else{if(!n(we,ge[0],"VP8X")){if(ke(we,ge[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var Oe=ke(we,ge[0]+8),tt=1+Ee(we,ge[0]+12);if(2147483648<=tt*(we=1+Ee(we,ge[0]+15))){ne=3;break e}Ve!=null&&(Ve[0]=Oe),Ae!=null&&(Ae[0]=tt),be!=null&&(be[0]=we),ge[0]+=18,ne[0]-=18,Be[0]=1}ne=0}}if(fe=fe[0],Se=Se[0],ne!=0)return ne;if(ge=!!(2&Se),!re&&fe)return 3;if(k!=null&&(k[0]=!!(16&Se)),_!=null&&(_[0]=ge),D!=null&&(D[0]=0),_=U[0],Se=te[0],fe&&ge&&M==null){ne=0;break}if(4>y){ne=7;break}if(re&&fe||!re&&!fe&&!n(u,h[0],"ALPH")){y=[y],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{Oe=u,ne=h,re=y;var Be=se.gb;Ae=se.na,be=se.P,Ve=se.Sa,tt=22,t(Oe!=null),t(re!=null),we=ne[0];var kt=re[0];for(t(Ae!=null),t(Ve!=null),Ae[0]=null,be[0]=null,Ve[0]=0;;){if(ne[0]=we,re[0]=kt,8>kt){ne=7;break e}var Et=ke(Oe,we+4);if(4294967286<Et){ne=3;break e}var Nt=8+Et+1&-2;if(tt+=Nt,0<Be&&tt>Be){ne=3;break e}if(!n(Oe,we,"VP8 ")||!n(Oe,we,"VP8L")){ne=0;break e}if(kt[0]<Nt){ne=7;break e}n(Oe,we,"ALPH")||(Ae[0]=Oe,be[0]=we+8,Ve[0]=Et),we+=Nt,kt-=Nt}}if(y=y[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],ne!=0)break}y=[y],se.Ja=[se.Ja],se.xa=[se.xa];e:if(Be=u,ne=h,re=y,Ae=se.gb[0],be=se.Ja,Ve=se.xa,Oe=ne[0],we=!n(Be,Oe,"VP8 "),tt=!n(Be,Oe,"VP8L"),t(Be!=null),t(re!=null),t(be!=null),t(Ve!=null),8>re[0])ne=7;else{if(we||tt){if(Be=ke(Be,Oe+4),12<=Ae&&Be>Ae-12){ne=3;break e}if(pe&&Be>re[0]-8){ne=7;break e}be[0]=Be,ne[0]+=8,re[0]-=8,Ve[0]=tt}else Ve[0]=5<=re[0]&&Be[Oe+0]==47&&!(Be[Oe+4]>>5),be[0]=re[0];ne=0}if(y=y[0],se.Ja=se.Ja[0],se.xa=se.xa[0],h=h[0],ne!=0)break;if(4294967286<se.Ja)return 3;if(D==null||ge||(D[0]=se.xa?2:1),_=[_],Se=[Se],se.xa){if(5>y){ne=7;break}D=_,pe=Se,ge=k,u==null||5>y?u=0:5<=y&&u[h+0]==47&&!(u[h+4]>>5)?(re=[0],Be=[0],Ae=[0],W(be=new C,u,h,y),et(be,re,Be,Ae)?(D!=null&&(D[0]=re[0]),pe!=null&&(pe[0]=Be[0]),ge!=null&&(ge[0]=Ae[0]),u=1):u=0):u=0}else{if(10>y){ne=7;break}D=Se,u==null||10>y||!Rr(u,h+3,y-3)?u=0:(pe=u[h+0]|u[h+1]<<8|u[h+2]<<16,ge=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=se.Ja||!ge||!u?u=0:(_&&(_[0]=ge),D&&(D[0]=u),u=1))}if(!u||(_=_[0],Se=Se[0],fe&&(U[0]!=_||te[0]!=Se)))return 3;M!=null&&(M[0]=se,M.offset=h-M.w,t(4294967286>h-M.w),t(M.offset==M.ha-y));break}return ne==0||ne==7&&fe&&M==null?(k!=null&&(k[0]|=se.na!=null&&0<se.na.length),j!=null&&(j[0]=_),P!=null&&(P[0]=Se),0):ne}function Ul(u,h,y){var j=h.width,P=h.height,k=0,_=0,D=j,M=P;if(h.Da=u!=null&&0<u.Da,h.Da&&(D=u.cd,M=u.bd,k=u.v,_=u.j,11>y||(k&=-2,_&=-2),0>k||0>_||0>=D||0>=M||k+D>j||_+M>P))return 0;if(h.v=k,h.j=_,h.va=k+D,h.o=_+M,h.U=D,h.T=M,h.da=u!=null&&0<u.da,h.da){if(!lt(D,M,y=[u.ib],k=[u.hb]))return 0;h.ib=y[0],h.hb=k[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*j/4&&h.hb<3*P/4,h.Kb=0),1}function Vl(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function pa(u,h,y,j){if(j==null||0>=u||0>=h)return 2;if(y!=null){if(y.Da){var P=y.cd,k=y.bd,_=-2&y.v,D=-2&y.j;if(0>_||0>D||0>=P||0>=k||_+P>u||D+k>h)return 2;u=P,h=k}if(y.da){if(!lt(u,h,P=[y.ib],k=[y.hb]))return 2;u=P[0],h=k[0]}}j.width=u,j.height=h;e:{var M=j.width,U=j.height;if(u=j.S,0>=M||0>=U||!(u>=qu&&13>u))u=2;else{if(0>=j.Rd&&j.sd==null){_=k=P=h=0;var te=(D=M*vg[u])*U;if(11>u||(k=(U+1)/2*(h=(M+1)/2),u==12&&(_=(P=M)*U)),(U=s(te+2*k+_))==null){u=1;break e}j.sd=U,11>u?((M=j.f.RGBA).eb=U,M.fb=0,M.A=D,M.size=te):((M=j.f.kb).y=U,M.O=0,M.fa=D,M.Fd=te,M.f=U,M.N=0+te,M.Ab=h,M.Cd=k,M.ea=U,M.W=0+te+k,M.Db=h,M.Ed=k,u==12&&(M.F=U,M.J=0+te+2*k),M.Tc=_,M.lb=P)}if(h=1,P=j.S,k=j.width,_=j.height,P>=qu&&13>P)if(11>P)u=j.f.RGBA,h&=(D=Math.abs(u.A))*(_-1)+k<=u.size,h&=D>=k*vg[P],h&=u.eb!=null;else{u=j.f.kb,D=(k+1)/2,te=(_+1)/2,M=Math.abs(u.fa),U=Math.abs(u.Ab);var fe=Math.abs(u.Db),pe=Math.abs(u.lb),se=pe*(_-1)+k;h&=M*(_-1)+k<=u.Fd,h&=U*(te-1)+D<=u.Cd,h=(h&=fe*(te-1)+D<=u.Ed)&M>=k&U>=D&fe>=D,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,P==12&&(h&=pe>=k,h&=se<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||y!=null&&y.fd&&(u=Vl(j)),u}var Bn=64,ma=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ga=24,va=32,$l=8,yr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Te("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(u){return u},F.Predictor2=function(u,h,y){return h[y+0]},F.Predictor3=function(u,h,y){return h[y+1]},F.Predictor4=function(u,h,y){return h[y-1]},F.Predictor5=function(u,h,y){return Ie(Ie(u,h[y+1]),h[y+0])},F.Predictor6=function(u,h,y){return Ie(u,h[y-1])},F.Predictor7=function(u,h,y){return Ie(u,h[y+0])},F.Predictor8=function(u,h,y){return Ie(h[y-1],h[y+0])},F.Predictor9=function(u,h,y){return Ie(h[y+0],h[y+1])},F.Predictor10=function(u,h,y){return Ie(Ie(u,h[y-1]),Ie(h[y+0],h[y+1]))},F.Predictor11=function(u,h,y){var j=h[y+0];return 0>=Le(j>>24&255,u>>24&255,(h=h[y-1])>>24&255)+Le(j>>16&255,u>>16&255,h>>16&255)+Le(j>>8&255,u>>8&255,h>>8&255)+Le(255&j,255&u,255&h)?j:u},F.Predictor12=function(u,h,y){var j=h[y+0];return(Ke((u>>24&255)+(j>>24&255)-((h=h[y-1])>>24&255))<<24|Ke((u>>16&255)+(j>>16&255)-(h>>16&255))<<16|Ke((u>>8&255)+(j>>8&255)-(h>>8&255))<<8|Ke((255&u)+(255&j)-(255&h)))>>>0},F.Predictor13=function(u,h,y){var j=h[y-1];return(rt((u=Ie(u,h[y+0]))>>24&255,j>>24&255)<<24|rt(u>>16&255,j>>16&255)<<16|rt(u>>8&255,j>>8&255)<<8|rt(u>>0&255,j>>0&255))>>>0};var Tf=F.PredictorAdd0;F.PredictorAdd1=De,Te("Predictor2","PredictorAdd2"),Te("Predictor3","PredictorAdd3"),Te("Predictor4","PredictorAdd4"),Te("Predictor5","PredictorAdd5"),Te("Predictor6","PredictorAdd6"),Te("Predictor7","PredictorAdd7"),Te("Predictor8","PredictorAdd8"),Te("Predictor9","PredictorAdd9"),Te("Predictor10","PredictorAdd10"),Te("Predictor11","PredictorAdd11"),Te("Predictor12","PredictorAdd12"),Te("Predictor13","PredictorAdd13");var Hl=F.PredictorAdd2;Ze("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Ru,ii=F.ColorIndexInverseTransform,ya=F.MapARGB,Du=F.VP8LColorIndexInverseTransformAlpha,Mu=F.MapAlpha,Ms=F.VP8LPredictorsAdd=[];Ms.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var ko,xr,or,Os,ls,cs,xa,us,pn,Wl,ar,si,wa,Ou,Gl,_o,Eo,Bs,To,ba,Fo,zs,Kl,oi,ai,qt,Ut,mn,Pn=s(511),ds=s(2041),Yl=s(225),Sa=s(767),Bu=0,Ff=ds,zu=Yl,Mr=Sa,li=Pn,qu=0,Uu=1,sg=2,Vu=3,$u=4,If=5,og=6,Rf=7,Df=8,Hu=9,Mf=10,B4=[2,3,7],z4=[3,3,11],ag=[280,256,256,256,40],q4=[0,1,1,1,0],U4=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],V4=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$4=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],H4=8,Of=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Jl=null,W4=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],G4=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],lg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],K4=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Y4=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],J4=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],X4=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qs=[],bi=[],hs=[],Q4=1,cg=2,Us=[],ci=[];ye("UpsampleRgbLinePair",St,3),ye("UpsampleBgrLinePair",Qt,3),ye("UpsampleRgbaLinePair",wi,4),ye("UpsampleBgraLinePair",Tn,4),ye("UpsampleArgbLinePair",Wn,4),ye("UpsampleRgba4444LinePair",bn,2),ye("UpsampleRgb565LinePair",an,2);var Z4=F.UpsampleRgbLinePair,eb=F.UpsampleBgrLinePair,ug=F.UpsampleRgbaLinePair,dg=F.UpsampleBgraLinePair,hg=F.UpsampleArgbLinePair,fg=F.UpsampleRgba4444LinePair,tb=F.UpsampleRgb565LinePair,Wu=16,Gu=1<<Wu-1,Xl=-227,zf=482,pg=6,nb=(256<<pg)-1,mg=0,rb=s(256),ib=s(256),sb=s(256),ob=s(256),ab=s(zf-Xl),lb=s(zf-Xl);Ui("YuvToRgbRow",St,3),Ui("YuvToBgrRow",Qt,3),Ui("YuvToRgbaRow",wi,4),Ui("YuvToBgraRow",Tn,4),Ui("YuvToArgbRow",Wn,4),Ui("YuvToRgba4444Row",bn,2),Ui("YuvToRgb565Row",an,2);var gg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ku=[0,2,8],cb=[8,7,6,4,4,2,2,2,1,1,1,1],ub=1;this.WebPDecodeRGBA=function(u,h,y,j,P){var k=Uu,_=new da,D=new mr;_.ba=D,D.S=k,D.width=[D.width],D.height=[D.height];var M=D.width,U=D.height,te=new Jr;if(te==null||u==null)var fe=2;else t(te!=null),fe=fa(u,h,y,te.width,te.height,te.Pd,te.Qd,te.format,null);if(fe!=0?M=0:(M!=null&&(M[0]=te.width[0]),U!=null&&(U[0]=te.height[0]),M=1),M){D.width=D.width[0],D.height=D.height[0],j!=null&&(j[0]=D.width),P!=null&&(P[0]=D.height);e:{if(j=new Lt,(P=new Dl).data=u,P.w=h,P.ha=y,P.kd=1,h=[0],t(P!=null),((u=fa(P.data,P.w,P.ha,null,null,null,h,null,P))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(t(_!=null),j.data=P.data,j.w=P.w+P.offset,j.ha=P.ha-P.offset,j.put=Er,j.ac=Cn,j.bc=Xr,j.ma=_,P.xa){if((u=sr())==null){_=1;break e}if(function(pe,se){var Se=[0],ge=[0],ne=[0];t:for(;;){if(pe==null)return 0;if(se==null)return pe.a=2,0;if(pe.l=se,pe.a=0,W(pe.m,se.data,se.w,se.ha),!et(pe.m,Se,ge,ne)){pe.a=3;break t}if(pe.xb=cg,se.width=Se[0],se.height=ge[0],!Ir(Se[0],ge[0],1,pe,null))break t;return 1}return t(pe.a!=0),0}(u,j)){if(j=(h=pa(j.width,j.height,_.Oa,_.ba))==0){t:{j=u;n:for(;;){if(j==null){j=0;break t}if(t(j.s.yc!=null),t(j.s.Ya!=null),t(0<j.s.Wb),t((y=j.l)!=null),t((P=y.ma)!=null),j.xb!=0){if(j.ca=P.ba,j.tb=P.tb,t(j.ca!=null),!Ul(P.Oa,y,Vu)){j.a=2;break n}if(!is(j,y.width)||y.da)break n;if((y.da||Pt(j.ca.S))&&ce(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ce()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!Xe(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Fr(j,j.V,j.Ba,j.c,j.i,y.o,Zr))break n;P.Dc=j.Ma,j=1;break t}t(j.a!=0),j=0}j=!j}j&&(h=u.a)}else h=u.a}else{if((u=new On)==null){_=1;break e}if(u.Fa=P.na,u.P=P.P,u.qc=P.Sa,Bi(u,j)){if((h=pa(j.width,j.height,_.Oa,_.ba))==0){if(u.Aa=0,y=_.Oa,t((P=u)!=null),y!=null){if(0<(M=0>(M=y.Md)?0:100<M?255:255*M/100)){for(U=te=0;4>U;++U)12>(fe=P.pb[U]).lc&&(fe.ia=M*cb[0>fe.lc?0:fe.lc]>>3),te|=fe.ia;te&&(alert("todo:VP8InitRandom"),P.ia=1)}P.Ga=y.Id,100<P.Ga?P.Ga=100:0>P.Ga&&(P.Ga=0)}on(u,j)||(h=u.a)}}else h=u.a}h==0&&_.Oa!=null&&_.Oa.fd&&(h=Vl(_.ba))}_=h}k=_!=0?null:11>k?D.f.RGBA.eb:D.f.kb.y}else k=null;return k};var vg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(F,Y){for(var X="",E=0;E<4;E++)X+=String.fromCharCode(F[Y++]);return X}function f(F,Y){return(F[Y+0]<<0|F[Y+1]<<8|F[Y+2]<<16)>>>0}function p(F,Y){return(F[Y+0]<<0|F[Y+1]<<8|F[Y+2]<<16|F[Y+3]<<24)>>>0}new l;var g=[0],m=[0],S=[],b=new l,A=e,x=function(F,Y){var X={},E=0,O=!1,Q=0,H=0;if(X.frames=[],!function(B,z,K,Z){for(var oe=0;oe<Z;oe++)if(B[z+oe]!=K.charCodeAt(oe))return!0;return!1}(F,Y,"RIFF",4)){for(p(F,Y+=4),Y+=8;Y<F.length;){var de=d(F,Y),ae=p(F,Y+=4);Y+=4;var le=ae+(1&ae);switch(de){case"VP8 ":case"VP8L":X.frames[E]===void 0&&(X.frames[E]={}),(J=X.frames[E]).src_off=O?H:Y-8,J.src_size=Q+ae+8,E++,O&&(O=!1,Q=0,H=0);break;case"VP8X":(J=X.header={}).feature_flags=F[Y];var W=Y+4;J.canvas_width=1+f(F,W),W+=3,J.canvas_height=1+f(F,W),W+=3;break;case"ALPH":O=!0,Q=le+8,H=Y-8;break;case"ANIM":(J=X.header).bgcolor=p(F,Y),W=Y+4,J.loop_count=(me=F)[(C=W)+0]<<0|me[C+1]<<8,W+=2;break;case"ANMF":var ie,J;(J=X.frames[E]={}).offset_x=2*f(F,Y),Y+=3,J.offset_y=2*f(F,Y),Y+=3,J.width=1+f(F,Y),Y+=3,J.height=1+f(F,Y),Y+=3,J.duration=f(F,Y),Y+=3,ie=F[Y++],J.dispose=1&ie,J.blend=ie>>1&1}de!="ANMF"&&(Y+=le)}var me,C;return X}}(A,0);x.response=A,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,N=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,g=[w.canvas_height],m=[w.canvas_width];for(var R=0;R<N.length&&N[R].blend!=0;R++);}var q=N[0],V=b.WebPDecodeRGBA(A,q.src_off,q.src_size,m,g);q.rgba=V,q.imgwidth=m[0],q.imgheight=g[0];for(var I=0;I<m[0]*g[0]*4;I++)S[I]=V[I];return this.width=m,this.height=g,this.data=S,this}(function(e){var t=function(){return typeof l1=="function"},n=function(g,m,S,b){var A=4,x=o;switch(b){case e.image_compression.FAST:A=1,x=s;break;case e.image_compression.MEDIUM:A=6,x=a;break;case e.image_compression.SLOW:A=9,x=l}g=r(g,m,S,x);var w=l1(g,{level:A});return e.__addimage__.arrayBufferToBinaryString(w)},r=function(g,m,S,b){for(var A,x,w,N=g.length/m,R=new Uint8Array(g.length+N),q=f(),V=0;V<N;V+=1){if(w=V*m,A=g.subarray(w,w+m),b)R.set(b(A,S,x),w+V);else{for(var I,F=q.length,Y=[];I<F;I+=1)Y[I]=q[I](A,S,x);var X=p(Y.concat());R.set(Y[X],w+V)}x=A}return R},i=function(g){var m=Array.apply([],g);return m.unshift(0),m},s=function(g,m){var S,b=[],A=g.length;b[0]=1;for(var x=0;x<A;x+=1)S=g[x-m]||0,b[x+1]=g[x]-S+256&255;return b},o=function(g,m,S){var b,A=[],x=g.length;A[0]=2;for(var w=0;w<x;w+=1)b=S&&S[w]||0,A[w+1]=g[w]-b+256&255;return A},a=function(g,m,S){var b,A,x=[],w=g.length;x[0]=3;for(var N=0;N<w;N+=1)b=g[N-m]||0,A=S&&S[N]||0,x[N+1]=g[N]+256-(b+A>>>1)&255;return x},l=function(g,m,S){var b,A,x,w,N=[],R=g.length;N[0]=4;for(var q=0;q<R;q+=1)b=g[q-m]||0,A=S&&S[q]||0,x=S&&S[q-m]||0,w=d(b,A,x),N[q+1]=g[q]-w+256&255;return N},d=function(g,m,S){if(g===m&&m===S)return g;var b=Math.abs(m-S),A=Math.abs(g-S),x=Math.abs(g+m-S-S);return b<=A&&b<=x?g:A<=x?m:S},f=function(){return[i,s,o,a,l]},p=function(g){var m=g.map(function(S){return S.reduce(function(b,A){return b+Math.abs(A)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(g,m,S,b){var A,x,w,N,R,q,V,I,F,Y,X,E,O,Q,H,de=this.decode.FLATE_DECODE,ae="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(w=new CL(g)).imgData,x=w.bits,A=w.colorSpace,R=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){F=(I=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,X=new Uint8Array(F*w.colors),Y=new Uint8Array(F);var le,W=w.pixelBitlength-w.bits;for(Q=0,H=0;Q<F;Q++){for(O=I[Q],le=0;le<W;)X[H++]=O>>>le&255,le+=w.bits;Y[Q]=O>>>le&255}}if(w.bits===16){F=(I=new Uint32Array(w.decodePixels().buffer)).length,X=new Uint8Array(F*(32/w.pixelBitlength)*w.colors),Y=new Uint8Array(F*(32/w.pixelBitlength)),E=w.colors>1,Q=0,H=0;for(var ie=0;Q<F;)O=I[Q++],X[H++]=O>>>0&255,E&&(X[H++]=O>>>16&255,O=I[Q++],X[H++]=O>>>0&255),Y[ie++]=O>>>16&255;x=8}b!==e.image_compression.NONE&&t()?(g=n(X,w.width*w.colors,w.colors,b),V=n(Y,w.width,1,b)):(g=X,V=Y,de=void 0)}if(w.colorType===3&&(A=this.color_spaces.INDEXED,q=w.palette,w.transparency.indexed)){var J=w.transparency.indexed,me=0;for(Q=0,F=J.length;Q<F;++Q)me+=J[Q];if((me/=255)===F-1&&J.indexOf(0)!==-1)N=[J.indexOf(0)];else if(me!==F){for(I=w.decodePixels(),Y=new Uint8Array(I.length),Q=0,F=I.length;Q<F;Q++)Y[Q]=J[I[Q]];V=n(Y,w.width,1)}}var C=function(B){var z;switch(B){case e.image_compression.FAST:z=11;break;case e.image_compression.MEDIUM:z=13;break;case e.image_compression.SLOW:z=14;break;default:z=12}return z}(b);return de===this.decode.FLATE_DECODE&&(ae="/Predictor "+C+" "),ae+="/Colors "+R+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(V&&this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V))&&(V=this.__addimage__.arrayBufferToBinaryString(V)),{alias:S,data:g,index:m,filter:de,decodeParameters:ae,transparency:N,palette:q,sMask:V,predictor:C,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:A}}}})(nt.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new PL(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var d={data:l,width:o,height:a},f=new Hp(100).encode(d,100);return e.processJPEG.call(this,f,n,r,i)},e.processGIF87A=e.processGIF89A}(nt.API),Ai.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ai.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Bt.log("bit decode error:"+n)}},Ai.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Ai.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,d=this.palette[a];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[l],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ai.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Ai.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,d=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=d}this.pos+=e}},Ai.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,d=(o>>11)/t*255|0,f=i*this.width*4+4*s;this.data[f]=d,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=e}},Ai.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ai.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Ai.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new Ai(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},d=new Hp(100).encode(l,100);return e.processJPEG.call(this,d,n,r,i)}}(nt.API),P5.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new P5(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},d=new Hp(100).encode(l,100);return e.processJPEG.call(this,d,n,r,i)}}(nt.API),nt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,d=0;d<i;d+=4){var f=r[d],p=r[d+1],g=r[d+2],m=r[d+3];s[a++]=f,s[a++]=p,s[a++]=g,o[l++]=m}var S=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:S,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},nt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ka=nt.API,_d=ka.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,p=t.doKerning!==!1,g=0,m=e.length,S=0,b=a[0]||l,A=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=p&&Ft(d[r])==="object"&&!isNaN(parseInt(d[r][S],10))?d[r][S]/f:0,A.push((a[r]||b)/l+g)),S=r;return A},j5=ka.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return ka.processArabic&&(e=ka.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:_d.apply(this,arguments).reduce(function(s,o){return s+o},0)},N5=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},A5=function(e,t,n){n||(n={});var r,i,s,o,a,l,d,f=[],p=[f],g=n.textIndent||0,m=0,S=0,b=e.split(" "),A=_d.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),w=[];b.map(function(R){(R=R.split(/\s*\n/)).length>1?w=w.concat(R.map(function(q,V){return(V&&q.length?`
`:"")+q})):w.push(R[0])}),b=w,l=j5.apply(this,[x,n])}for(s=0,o=b.length;s<o;s++){var N=0;if(r=b[s],l&&r[0]==`
`&&(r=r.substr(1),N=1),g+m+(S=(i=_d.apply(this,[r,n])).reduce(function(R,q){return R+q},0))>t||N){if(S>t){for(a=N5.apply(this,[r,i,t-(g+m),t]),f.push(a.shift()),f=[a.pop()];a.length;)p.push([a.shift()]);S=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(R,q){return R+q},0)}else f=[r];p.push(f),g=S+l,m=A}else f.push(r),g+=m+S,m=A}return d=l?function(R,q){return(q?x:"")+R.join(" ")}:function(R){return R.join(" ")},p.map(d)},ka.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,d=[];for(a=0,l=r.length;a<l;a++)d=d.concat(A5.apply(this,[r[a],o,s]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var g,m,S,b,A=["{"];for(var x in p){if(g=p[x],isNaN(parseInt(x,10))?m="'"+x+"'":(x=parseInt(x,10),m=(m=s(x).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof g=="number")g<0?(S=s(g).slice(3),b="-"):(S=s(g).slice(2),b=""),S=b+S.slice(0,-1)+r[S.slice(-1)];else{if(Ft(g)!=="object")throw new Error("Don't know what to do with value type "+Ft(g)+".");S=o(g)}A.push(m+S)}return A.push("}"),A.join("")},a=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,S,b,A={},x=1,w=A,N=[],R="",q="",V=p.length-1,I=1;I<V;I+=1)(b=p[I])=="'"?g?(S=g.join(""),g=void 0):g=[]:g?g.push(b):b=="{"?(N.push([w,S]),w={},S=void 0):b=="}"?((m=N.pop())[0][m[1]]=w,S=void 0,w=m[0]):b=="-"?x=-1:S===void 0?n.hasOwnProperty(b)?(R+=n[b],S=parseInt(R,16)*x,x=1,R=""):R+=b:n.hasOwnProperty(b)?(q+=n[b],w[S]=parseInt(q,16)*x,x=1,S=void 0,q=""):q+=b;return A},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var g=p.font,m=f.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var S=d.Unicode[g.postScriptName];S&&(g.metadata.Unicode.encoding=S,g.encoding=S.codePages[0])}])}(nt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Mc(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(nt),function(e){function t(){return(at.canvg?Promise.resolve(at.canvg):Oc(()=>import("./index.es-f984a480.js"),["assets/index.es-f984a480.js","assets/supabaseClient-54ee3b77.js","assets/preload-helper-8235fac6.js","assets/creations-4ab0b6d9.js"])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}nt.API.addSvgAsImage=function(n,r,i,s,o,a,l,d){if(isNaN(r)||isNaN(i))throw Bt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Bt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=o;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(S){return S.fromString(p,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(g)}).then(function(){m.addImage(f.toDataURL("image/jpeg",1),r,i,s,o,l,d)})}}(),nt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},nt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],d=0,f=0,p=0;function g(S,b){var A,x=!1;for(A=0;A<S.length;A+=1)S[A]===b&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=a.length;for(p=0;p<m;p+=1)n[a[p]].value=n[a[p]].defaultValue,n[a[p]].explicitSet=!1}if(Ft(e)==="object"){for(i in e)if(s=e[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")l.push(String(s[d]-1));else if(s[d].length>1){for(f=0;f<s[d].length;f+=1)typeof s[d][f]!="number"&&(r=!1);r===!0&&l.push([s[d][0]-1,s[d][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,b=[];for(S in n)n[S].explicitSet===!0&&(n[S].type==="name"?b.push("/"+S+" /"+n[S].value):b.push("/"+S+" "+n[S].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(nt.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],p=0,g=s.length;p<g;++p){if(a=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(p),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(d[4-a.length],a)}return f.join("")},r=function(s){var o,a,l,d,f,p,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(a=Object.keys(s).sort(function(m,S){return m-S})).length;p<g;p++)o=a[p],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+d+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,d=o.newObject,f=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",S=0;S<g.length;S++)m+=String.fromCharCode(g[S]);var b=d();f({data:m,addLength1:!0,objectId:b}),l("endobj");var A=d();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var x=d();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ta(a.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var w=d();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ta(a.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+e.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=d(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+Ta(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,d=o.newObject,f=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var S=d();f({data:g,addLength1:!0,objectId:S}),l("endobj");var b=d();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var A=d();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+S+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Ta(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=d();for(var x=0;x<a.metadata.hmtx.widths.length;x++)a.metadata.hmtx.widths[x]=parseInt(a.metadata.hmtx.widths[x]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Ta(a.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,d=s.y,f=s.options||{},p=s.mutex||{},g=p.pdfEscape,m=p.activeFontKey,S=p.fonts,b=m,A="",x=0,w="",N=S[b].encoding;if(S[b].encoding!=="Identity-H")return{text:a,x:l,y:d,options:f,mutex:p};for(w=a,b=m,Array.isArray(a)&&(w=a[0]),x=0;x<w.length;x+=1)S[b].metadata.hasOwnProperty("cmap")&&(o=S[b].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),o||w[x].charCodeAt(0)<256&&S[b].metadata.hasOwnProperty("Unicode")?A+=w[x]:A+="";var R="";return parseInt(b.slice(1))<14||N==="WinAnsiEncoding"?R=g(A,b).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(R=n(A,S[b])),p.isHex=!0,{text:R,x:l,y:d,options:f,mutex:p}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?a.push([i(Object.assign({},l,{text:o[d][0]})).text,o[d][1],o[d][2]]):a.push(i(Object.assign({},l,{text:o[d]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(nt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(nt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,a,l,d,f,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,N=0;this.__bidiEngine__={};var R=function(E){var O=E.charCodeAt(),Q=O>>8,H=b[Q];return H!==void 0?p[256*H+(255&O)]:Q===252||Q===253?"AL":x.test(Q)?"L":Q===8?"R":"N"},q=function(E){for(var O,Q=0;Q<E.length;Q++){if((O=R(E.charAt(Q)))==="L")return!1;if(O==="R")return!0}return!1},V=function(E,O,Q,H){var de,ae,le,W,ie=O[H];switch(ie){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(ie="AN");break;case"AL":w=!0,ie="R";break;case"WS":ie="N";break;case"CS":H<1||H+1>=O.length||(de=Q[H-1])!=="EN"&&de!=="AN"||(ae=O[H+1])!=="EN"&&ae!=="AN"?ie="N":w&&(ae="AN"),ie=ae===de?ae:"N";break;case"ES":ie=(de=H>0?Q[H-1]:"B")==="EN"&&H+1<O.length&&O[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&Q[H-1]==="EN"){ie="EN";break}if(w){ie="N";break}for(le=H+1,W=O.length;le<W&&O[le]==="ET";)le++;ie=le<W&&O[le]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(W=O.length,le=H+1;le<W&&O[le]==="NSM";)le++;if(le<W){var J=E[H],me=J>=1425&&J<=2303||J===64286;if(de=O[le],me&&(de==="R"||de==="AL")){ie="R";break}}}ie=H<1||(de=O[H-1])==="B"?"N":Q[H-1];break;case"B":w=!1,i=!0,ie=N;break;case"S":s=!0,ie="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":ie="N"}return ie},I=function(E,O,Q){var H=E.split("");return Q&&F(H,Q,{hiLevel:N}),H.reverse(),O&&O.reverse(),H.join("")},F=function(E,O,Q){var H,de,ae,le,W,ie=-1,J=E.length,me=0,C=[],B=N?m:g,z=[];for(w=!1,i=!1,s=!1,de=0;de<J;de++)z[de]=R(E[de]);for(ae=0;ae<J;ae++){if(W=me,C[ae]=V(E,z,C,ae),H=240&(me=B[W][S[C[ae]]]),me&=15,O[ae]=le=B[me][5],H>0)if(H===16){for(de=ie;de<ae;de++)O[de]=1;ie=-1}else ie=-1;if(B[me][6])ie===-1&&(ie=ae);else if(ie>-1){for(de=ie;de<ae;de++)O[de]=le;ie=-1}z[ae]==="B"&&(O[ae]=0),Q.hiLevel|=le}s&&function(K,Z,oe){for(var he=0;he<oe;he++)if(K[he]==="S"){Z[he]=N;for(var ue=he-1;ue>=0&&K[ue]==="WS";ue--)Z[ue]=N}}(z,O,J)},Y=function(E,O,Q,H,de){if(!(de.hiLevel<E)){if(E===1&&N===1&&!i)return O.reverse(),void(Q&&Q.reverse());for(var ae,le,W,ie,J=O.length,me=0;me<J;){if(H[me]>=E){for(W=me+1;W<J&&H[W]>=E;)W++;for(ie=me,le=W-1;ie<le;ie++,le--)ae=O[ie],O[ie]=O[le],O[le]=ae,Q&&(ae=Q[ie],Q[ie]=Q[le],Q[le]=ae);me=W}me++}}},X=function(E,O,Q){var H=E.split(""),de={hiLevel:N};return Q||(Q=[]),F(H,Q,de),function(ae,le,W){if(W.hiLevel!==0&&f)for(var ie,J=0;J<ae.length;J++)le[J]===1&&(ie=A.indexOf(ae[J]))>=0&&(ae[J]=A[ie+1])}(H,Q,de),Y(2,H,O,Q,de),Y(1,H,O,Q,de),H.join("")};return this.__bidiEngine__.doBidiReorder=function(E,O,Q){if(function(de,ae){if(ae)for(var le=0;le<de.length;le++)ae[le]=le;a===void 0&&(a=q(de)),d===void 0&&(d=q(de))}(E,O),o||!l||d)if(o&&l&&a^d)N=a?1:0,E=I(E,O,Q);else if(!o&&l&&d)N=a?1:0,E=X(E,O,Q),E=I(E,O);else if(!o||a||l||d){if(o&&!l&&a^d)E=I(E,O),a?(N=0,E=X(E,O,Q)):(N=1,E=X(E,O,Q),E=I(E,O));else if(o&&a&&!l&&d)N=1,E=X(E,O,Q),E=I(E,O);else if(!o&&!l&&a^d){var H=f;a?(N=1,E=X(E,O,Q),N=0,f=!1,E=X(E,O,Q),f=H):(N=0,E=X(E,O,Q),E=I(E,O),N=1,f=!1,E=X(E,O,Q),f=H,E=I(E,O))}}else N=0,E=X(E,O,Q);else N=a?1:0,E=X(E,O,Q);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,d=E.isOutputRtl,f=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(nt),nt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new xo(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new UL(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new LL(this.contents),this.head=new _L(this),this.name=new RL(this),this.cmap=new u4(this),this.toUnicode={},this.hhea=new EL(this),this.maxp=new DL(this),this.hmtx=new ML(this),this.post=new FL(this),this.os2=new TL(this),this.loca=new qL(this),this.glyf=new OL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,d;for(d=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Di,xo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),LL=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,a,l,d,f,p,g,m,S,b;for(b in m=Object.keys(n).length,l=Math.log(2),p=16*Math.floor(Math.log(m)/l),o=Math.floor(p/l),f=16*m-p,(i=new xo).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(o),i.writeShort(f),s=16*m,d=i.pos+s,a=null,S=[],n)for(g=n[b],i.writeString(b),i.writeInt(e(g)),i.writeInt(d),i.writeInt(g.length),S=S.concat(g),b==="head"&&(a=d),d+=g.length;d%4;)S.push(0),d++;return i.write(S),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=d4.call(n);n.length%4;)n.push(0);for(s=new xo(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),kL={}.hasOwnProperty,ts=function(e,t){for(var n in t)kL.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Di=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var _L=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,Di),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new xo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),L5=function(){function e(t,n){var r,i,s,o,a,l,d,f,p,g,m,S,b,A,x,w,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(m=t.readUInt16(),g=m/2,t.pos+=6,s=function(){var R,q;for(q=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)q.push(t.readUInt16());return q}(),t.pos+=2,b=function(){var R,q;for(q=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)q.push(t.readUInt16());return q}(),d=function(){var R,q;for(q=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)q.push(t.readUInt16());return q}(),f=function(){var R,q;for(q=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)q.push(t.readUInt16());return q}(),i=(this.length-t.pos+this.offset)/2,a=function(){var R,q;for(q=[],l=R=0;0<=i?R<i:R>i;l=0<=i?++R:--R)q.push(t.readUInt16());return q}(),l=x=0,N=s.length;x<N;l=++x)for(A=s[l],r=w=S=b[l];S<=A?w<=A:w>=A;r=S<=A?++w:--w)f[l]===0?o=r+d[l]:(o=a[f[l]/2+(r-S)-(g-l)]||0)!==0&&(o+=d[l]),this.codeMap[r]=65535&o}t.pos=p}return e.encode=function(t,n){var r,i,s,o,a,l,d,f,p,g,m,S,b,A,x,w,N,R,q,V,I,F,Y,X,E,O,Q,H,de,ae,le,W,ie,J,me,C,B,z,K,Z,oe,he,ue,xe,je,Ee;switch(H=new xo,o=Object.keys(t).sort(function(ke,Xe){return ke-Xe}),n){case"macroman":for(b=0,A=function(){var ke=[];for(S=0;S<256;++S)ke.push(0);return ke}(),w={0:0},s={},de=0,ie=o.length;de<ie;de++)w[ue=t[i=o[de]]]==null&&(w[ue]=++b),s[i]={old:t[i],new:w[t[i]]},A[i]=w[t[i]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(A),{charMap:s,subtable:H.data,maxGlyphID:b+1};case"unicode":for(O=[],p=[],N=0,w={},r={},x=d=null,ae=0,J=o.length;ae<J;ae++)w[q=t[i=o[ae]]]==null&&(w[q]=++N),r[i]={old:q,new:w[q]},a=w[q]-i,x!=null&&a===d||(x&&p.push(x),O.push(i),d=a),x=i;for(x&&p.push(x),p.push(65535),O.push(65535),X=2*(Y=O.length),F=2*Math.pow(Math.log(Y)/Math.LN2,2),g=Math.log(F/2)/Math.LN2,I=2*Y-F,l=[],V=[],m=[],S=le=0,me=O.length;le<me;S=++le){if(E=O[S],f=p[S],E===65535){l.push(0),V.push(0);break}if(E-(Q=r[E].new)>=32768)for(l.push(0),V.push(2*(m.length+Y-S)),i=W=E;E<=f?W<=f:W>=f;i=E<=f?++W:--W)m.push(r[i].new);else l.push(Q-E),V.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*Y+2*m.length),H.writeUInt16(0),H.writeUInt16(X),H.writeUInt16(F),H.writeUInt16(g),H.writeUInt16(I),oe=0,C=p.length;oe<C;oe++)i=p[oe],H.writeUInt16(i);for(H.writeUInt16(0),he=0,B=O.length;he<B;he++)i=O[he],H.writeUInt16(i);for(xe=0,z=l.length;xe<z;xe++)a=l[xe],H.writeUInt16(a);for(je=0,K=V.length;je<K;je++)R=V[je],H.writeUInt16(R);for(Ee=0,Z=m.length;Ee<Z;Ee++)b=m[Ee],H.writeUInt16(b);return{charMap:r,subtable:H.data,maxGlyphID:N+1}}},e}(),u4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,Di),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new L5(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=L5.encode(n,r),(s=new xo).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),EL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,Di),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),TL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,Di),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),FL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,Di),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,d;for(d=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)d.push(n.readUInt32());return d}).call(this)}},t}(),IL=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},RL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,Di),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,o,a,l,d,f,p,g,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(d={},o=p=0,g=i.length;p<g;o=++p)s=i[o],n.pos=s.offset,f=n.readString(s.length),a=new IL(f,s),d[m=s.nameID]==null&&(d[m]=[]),d[s.nameID].push(a);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),DL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,Di),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),ML=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,Di),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,o,a,l,d;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)p.push(n.readInt16());return p}(),this.widths=(function(){var f,p,g,m;for(m=[],f=0,p=(g=this.metrics).length;f<p;f++)o=g[f],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],d=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)d.push(this.widths.push(i));return d},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),d4=[].slice,OL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,Di),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,o,a,l,d,f,p,g;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new xo(r.read(s))).readShort(),f=l.readShort(),g=l.readShort(),d=l.readShort(),p=l.readShort(),this.cache[n]=a===-1?new zL(l,f,g,d,p):new BL(l,a,f,g,d,p),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,o,a,l,d;for(a=[],o=[],l=0,d=r.length;l<d;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},t}(),BL=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),zL=function(){function e(t,n,r,i,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new xo(d4.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),qL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,Di),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],d=this.offsets[a+1]-l;d>0&&(s+=d)}for(var f=new Array(4*i.length),p=0;p<i.length;++p)f[4*p+3]=255&i[p],f[4*p+2]=(65280&i[p])>>8,f[4*p+1]=(16711680&i[p])>>16,f[4*p]=(4278190080&i[p])>>24;return f},t}(),UL=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,a,l,d,f,p,g,m,S,b,A,x;for(i in r=u4.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},x=r.charMap)m[(l=x[i]).old]=l.new;for(S in g=r.maxGlyphID,o)S in m||(m[S]=g++);return f=function(w){var N,R;for(N in R={},w)R[w[N]]=N;return R}(m),p=Object.keys(f).sort(function(w,N){return w-N}),b=function(){var w,N,R;for(R=[],w=0,N=p.length;w<N;w++)a=p[w],R.push(f[a]);return R}(),s=this.font.glyf.encode(o,b,m),d=this.font.loca.encode(s.offsets,b),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();nt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,d;for(d=[],a=0,l=n.length;a<l;a++)r=n[a],d.push(t.convert(r));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();async function VL(e,t){try{const n={id:e,prenom:t.firstName,nom:t.lastName},{data:r,error:i}=await bt.from("profiles").upsert(n,{onConflict:"id",returning:"representation"}).select().single();if(i)throw new Error(`Erreur mise  jour profil: ${i.message}`);return r}catch(n){throw n}}async function $L(e){var t,n,r,i;try{const{data:s,error:o}=await bt.from("profiles").select("prenom, nom").eq("id",e.id).single(),a={id:e.id,email:e.email,prenom:(s==null?void 0:s.prenom)||((t=e.user_metadata)==null?void 0:t.firstName)||((n=e.user_metadata)==null?void 0:n.prenom)||null,nom:(s==null?void 0:s.nom)||((r=e.user_metadata)==null?void 0:r.lastName)||((i=e.user_metadata)==null?void 0:i.nom)||null,last_login:new Date().toISOString()},{data:l,error:d}=await bt.from("profiles").upsert(a,{onConflict:"id",returning:"representation"}).select().single();if(d)throw new Error(`Erreur sync profil: ${d.message}`);return l}catch(s){throw s}}function eg(){const[e,t]=T.useState(null),[n,r]=T.useState(!0);return T.useEffect(()=>{const i=async()=>{try{const{data:{session:o}}=await bt.auth.getSession();if(!(o!=null&&o.user)){t(null),r(!1);return}try{await $L(o.user)}catch{}const a=o.user.email.split("@")[0],l={id:o.user.id,email:o.user.email,firstName:a,lastName:"",name:a},{data:d,error:f}=await bt.from("profiles").select("*").eq("id",o.user.id).single();if(d){const p={...l,firstName:d.prenom||l.firstName,lastName:d.nom||"",name:`${d.prenom||l.firstName} ${d.nom||""}`.trim(),profile:d};t(p)}else t(l)}catch{t(null)}finally{r(!1)}};i();const{data:{subscription:s}}=bt.auth.onAuthStateChange(async(o,a)=>{o==="SIGNED_IN"?i():o==="SIGNED_OUT"&&(t(null),r(!1))});return()=>s==null?void 0:s.unsubscribe()},[]),{user:e,loading:n}}function k5(e){return e.includes("security purposes")&&e.includes("request this")||e.includes("only request this after")?"Pour des raisons de scurit, vous ne pouvez faire cette demande que toutes les 60 secondes.":e.includes("Invalid email")?"Adresse email invalide.":e.includes("User not found")?"Aucun compte trouv avec cette adresse email.":e.includes("Too many requests")?"Trop de tentatives. Veuillez ressayer dans quelques minutes.":e}async function HL({email:e}){try{const{error:t}=await bt.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return t?{error:{message:k5(t.message)}}:{data:{message:"Email de rinitialisation envoy avec succs"}}}catch(t){return{error:{message:"Erreur lors de l'envoi de l'email de rinitialisation: "+k5(t.message)}}}}const nh=(e,t=null)=>{if(!e||!e.trim())return;const n=t?`email_history_${t}`:"email_history_guest",r=localStorage.getItem(n);let i=[];if(r)try{i=JSON.parse(r)}catch{}const s=[e,...i.filter(o=>o!==e)].slice(0,5);localStorage.setItem(n,JSON.stringify(s))},WL=e=>{const[t,n]=T.useState([]),[r,i]=T.useState(!1),[s,o]=T.useState([]);return T.useEffect(()=>{const f=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",p=localStorage.getItem(f);if(p)try{const g=JSON.parse(p);n(g)}catch{}},[e]),{showSuggestions:r,filteredEmails:s,saveEmail:f=>{if(!f||!f.trim())return;const p=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",g=[f,...t.filter(m=>m!==f)].slice(0,5);n(g),localStorage.setItem(p,JSON.stringify(g))},removeEmail:f=>{const p=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",g=t.filter(m=>m!==f);n(g),localStorage.setItem(p,JSON.stringify(g)),o(m=>m.filter(S=>S!==f))},filterEmails:f=>{if(!f||f.length<1){o([]),i(!1);return}const p=t.filter(g=>g.toLowerCase().startsWith(f.toLowerCase()));o(p),i(p.length>0)},hideSuggestions:()=>i(!1)}},Xa=({value:e,onChange:t,placeholder:n,required:r,disabled:i,user:s,onEmailSubmit:o})=>{const{showSuggestions:a,filteredEmails:l,saveEmail:d,removeEmail:f,filterEmails:p,hideSuggestions:g}=WL(s),[m,S]=T.useState(e||""),[b,A]=T.useState(-1),x=T.useRef(null),w=T.useRef(null);T.useEffect(()=>{S(e||"")},[e]),T.useEffect(()=>{const V=I=>{w.current&&!w.current.contains(I.target)&&(g(),A(-1))};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[g]);const N=V=>{const I=V.target.value;S(I),t(V),p(I),A(-1)},R=V=>{var I;S(V),t({target:{value:V}}),g(),A(-1),(I=x.current)==null||I.focus()},q=V=>{if(!a||l.length===0){V.key==="Enter"&&o&&(d(m),o());return}switch(V.key){case"ArrowDown":V.preventDefault(),A(I=>I<l.length-1?I+1:I);break;case"ArrowUp":V.preventDefault(),A(I=>I>0?I-1:-1);break;case"Enter":V.preventDefault(),b>=0&&b<l.length?R(l[b]):o&&(d(m),o());break;case"Escape":g(),A(-1);break}};return c.jsxs("div",{className:"email-input-container",ref:w,children:[c.jsx("input",{ref:x,type:"email",value:m,onChange:N,onKeyDown:q,placeholder:n,required:r,disabled:i,autoComplete:"off"}),a&&l.length>0&&c.jsx("div",{className:"email-suggestions google-style",children:l.map((V,I)=>c.jsxs("div",{className:`email-suggestion-item ${I===b?"selected":""}`,onMouseEnter:()=>A(I),children:[c.jsx("div",{className:"email-suggestion-content",onClick:()=>R(V),children:V}),c.jsx("button",{type:"button",className:"email-suggestion-remove",onClick:F=>{F.stopPropagation(),f(V)},onMouseEnter:F=>F.stopPropagation(),title:"Supprimer cet email",children:""})]},I))})]})},GL=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,onOpenSubscription:s})=>{var Te,Me,Ie,Ke,rt;const[o,a]=T.useState(!1),[l,d]=T.useState(!1),[f,p]=T.useState(!1),[g,m]=T.useState(!1),[S,b]=T.useState(""),[A,x]=T.useState(""),[w,N]=T.useState(""),[R,q]=T.useState(""),[V,I]=T.useState(""),[F,Y]=T.useState(!1),{user:X,loading:E}=eg(),O=!!X&&!E,Q=T.useRef(null),[H,de]=T.useState(""),[ae,le]=T.useState(""),[W,ie]=T.useState("");T.useState(!1),T.useState("");const[J,me]=T.useState(!1),[C,B]=T.useState(!1),[z,K]=T.useState(""),[Z,oe]=T.useState(!1),[he,ue]=T.useState(!1),[xe,je]=T.useState(!1),[Ee,ke]=T.useState(!1);T.useEffect(()=>{(async()=>{if(!X||!X.id){ue(!1);return}try{const{data:De,error:it}=await bt.from("profiles").select("role").eq("id",X.id).single();if(it){ue(!1);return}const Ct=(De==null?void 0:De.role)==="admin"||(De==null?void 0:De.role)==="super_admin";ue(Ct)}catch{ue(!1)}})()},[X]);const Xe=()=>he,ve=async Le=>{Le.preventDefault(),I(""),Y(!0);try{const{data:De,error:it}=await bt.auth.signInWithPassword({email:S.trim(),password:A.trim()});if(it){I(it.message==="Invalid login credentials"?"Email ou mot de passe incorrect":it.message);return}De!=null&&De.user&&(nh(S.trim()),d(!1),a(!1),b(""),x(""),t&&t(De.user))}catch{I("Erreur de connexion. Vrifiez vos identifiants.")}finally{Y(!1)}},G=async Le=>{Le.preventDefault(),I(""),Y(!0);try{const{data:De,error:it}=await bt.auth.signUp({email:S.trim(),password:A.trim(),options:{data:{firstName:w.trim(),lastName:R.trim(),name:`${w.trim()} ${R.trim()}`}}});if(it){I(it.message==="User already registered"?"Un compte existe dj avec cet email":it.message);return}De!=null&&De.user&&(nh(S.trim()),De.session?(p(!1),a(!1),b(""),x(""),N(""),q(""),r&&r(De.user)):I("Un email de confirmation a t envoy. Vrifiez votre bote mail."))}catch{I("Erreur d'inscription. Ressayez plus tard.")}finally{Y(!1)}},lt=async()=>{try{const{error:Le}=await bt.auth.signOut();if(Le){I("Erreur lors de la dconnexion");return}a(!1),m(!1),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userFirstName"),localStorage.removeItem("userLastName"),localStorage.removeItem("friday_supabase_user"),n&&n(),window.location.reload()}catch{I("Erreur lors de la dconnexion")}},He=async Le=>{Le.preventDefault(),I(""),oe(!0),I(""),nh(z.trim());try{const{data:De,error:it}=await HL({email:z.trim()});if(it){oe(!1),I(it.message||"Erreur lors de l'envoi de l'email");return}}catch{oe(!1),I("Erreur lors de l'envoi de l'email de rinitialisation")}},Pe=async()=>{if(!(!X||!X.id))try{const{data:Le,error:De}=await bt.from("profiles").select("*").eq("id",X.id).single();!De&&Le&&(ie(Le.email||X.email||""),de(Le.prenom||""),le(Le.nom||""))}catch{}};return T.useEffect(()=>{var Le,De;X&&(ie(X.email||""),de(X.firstName||((Le=X.user_metadata)==null?void 0:Le.firstName)||""),le(X.lastName||((De=X.user_metadata)==null?void 0:De.lastName)||""))},[X]),T.useEffect(()=>{const Le=De=>{Q.current&&!Q.current.contains(De.target)&&(a(!1),d(!1),p(!1),m(!1),B(!1),I(""))};return document.addEventListener("mousedown",Le),()=>{document.removeEventListener("mousedown",Le)}},[]),E?c.jsx("div",{className:"user-account",ref:Q,children:c.jsx("div",{className:"user-avatar",children:c.jsx("span",{children:""})})}):c.jsx("div",{className:"user-account",ref:Q,children:O?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-avatar",onClick:()=>a(!o),children:c.jsx("span",{className:"user-initial",children:((Me=(Te=X==null?void 0:X.firstName)==null?void 0:Te.charAt(0))==null?void 0:Me.toUpperCase())||((Ke=(Ie=X==null?void 0:X.email)==null?void 0:Ie.charAt(0))==null?void 0:Ke.toUpperCase())||""})}),c.jsx(Ur,{children:o&&c.jsxs(Fe.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[c.jsxs("div",{className:"user-info",children:[c.jsx("div",{className:"user-name",children:(X==null?void 0:X.firstName)||(X==null?void 0:X.name)||((rt=X==null?void 0:X.email)==null?void 0:rt.split("@")[0])}),c.jsx("div",{className:"user-email",children:X==null?void 0:X.email})]}),c.jsxs("div",{className:"dropdown-actions",children:[Xe()&&c.jsx("button",{onClick:()=>{window.open("/ilmysv6iepwepoa4tj2k?auth=auto","_blank")},children:" Administration"}),c.jsx("button",{onClick:()=>{a(!1),m(!0)},children:"Mon profil"}),c.jsx("button",{onClick:()=>{a(!1),i&&i()},children:"Mon historique"}),c.jsx("button",{onClick:()=>{a(!1),s&&s()},children:"Mon abonnement"}),c.jsx("button",{onClick:lt,className:"logout-button",children:"Se dconnecter"})]})]})}),c.jsx(Ur,{children:g&&c.jsx(Fe.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>m(!1),children:c.jsxs(Fe.div,{className:"auth-form profile-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Le=>Le.stopPropagation(),children:[c.jsx("h3",{children:"Mon profil"}),c.jsxs("form",{onSubmit:async Le=>{Le.preventDefault(),I("");try{await VL(X.id,{firstName:H.trim(),lastName:ae.trim()}),await Pe(),me(!0),setTimeout(()=>me(!1),3e3)}catch(De){console.error("Erreur mise  jour profil:",De),I("Erreur lors de la mise  jour du profil")}},children:[c.jsx(Xa,{value:W,onChange:Le=>ie(Le.target.value),placeholder:"Email",disabled:!0,user:X,onEmailSubmit:()=>{}}),c.jsx("input",{type:"text",placeholder:"Prnom",value:H,onChange:Le=>de(Le.target.value)}),c.jsx("input",{type:"text",placeholder:"Nom",value:ae,onChange:Le=>le(Le.target.value)}),V&&c.jsx("div",{className:"error-message",children:V}),J&&c.jsx("div",{className:"success-message",children:"Profil mis  jour avec succs !"}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>m(!1),children:"Fermer"}),c.jsx("button",{type:"submit",children:"Mettre  jour"})]})]})]})})})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-avatar",onClick:()=>a(!o),children:c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),c.jsx("path",{d:"M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),c.jsx(Ur,{children:o&&c.jsx(Fe.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:c.jsxs("div",{className:"dropdown-actions",children:[c.jsx("button",{onClick:()=>{a(!1),d(!0),I("")},children:"Se connecter"}),c.jsx("button",{onClick:()=>{a(!1),p(!0),I("")},children:"Crer un compte"})]})})}),c.jsxs(Ur,{children:[l&&c.jsx(Fe.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>d(!1),children:c.jsxs(Fe.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Le=>Le.stopPropagation(),children:[c.jsx("h3",{children:"Connexion"}),c.jsxs("form",{onSubmit:ve,children:[c.jsx(Xa,{value:S,onChange:Le=>b(Le.target.value),placeholder:"Email",required:!0,disabled:F,user:null,onEmailSubmit:()=>{}}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:xe?"text":"password",placeholder:"Mot de passe",value:A,onChange:Le=>x(Le.target.value),required:!0,disabled:F,className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>je(!xe),disabled:F,"aria-label":xe?"Masquer le mot de passe":"Afficher le mot de passe",children:xe?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),V&&c.jsx("div",{className:"error-message",children:V}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{d(!1),p(!0),I("")},disabled:F,children:"Crer un compte"}),c.jsx("button",{type:"submit",disabled:F,children:F?"Connexion...":"Se connecter"})]}),c.jsx("button",{type:"button",className:"forgot-password-link",onClick:()=>{d(!1),B(!0),I("")},disabled:F,children:"Mot de passe oubli ?"})]})]})}),f&&c.jsx(Fe.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>p(!1),children:c.jsxs(Fe.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Le=>Le.stopPropagation(),children:[c.jsx("h3",{children:"Crer un compte"}),c.jsxs("form",{onSubmit:G,children:[c.jsx("input",{type:"text",placeholder:"Prnom",value:w,onChange:Le=>N(Le.target.value),required:!0,disabled:F}),c.jsx("input",{type:"text",placeholder:"Nom",value:R,onChange:Le=>q(Le.target.value),required:!0,disabled:F}),c.jsx(Xa,{value:S,onChange:Le=>b(Le.target.value),placeholder:"Email",required:!0,disabled:F,user:null,onEmailSubmit:()=>{}}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:Ee?"text":"password",placeholder:"Mot de passe (min 6 caractres)",value:A,onChange:Le=>x(Le.target.value),required:!0,minLength:6,disabled:F,className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>ke(!Ee),disabled:F,"aria-label":Ee?"Masquer le mot de passe":"Afficher le mot de passe",children:Ee?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),V&&c.jsx("div",{className:"error-message",children:V}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{p(!1),d(!0),I("")},disabled:F,children:"Dj un compte ?"}),c.jsx("button",{type:"submit",disabled:F,children:F?"Cration...":"Crer le compte"})]})]})]})}),C&&c.jsx(Fe.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>B(!1),children:c.jsxs(Fe.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Le=>Le.stopPropagation(),children:[c.jsx("h3",{children:"Rinitialiser le mot de passe"}),Z?c.jsxs("div",{className:"success-message",children:[c.jsxs("p",{children:["Un email de rinitialisation a t envoy  ",z]}),c.jsx("button",{onClick:()=>{B(!1),d(!0),oe(!1),K("")},children:"Retour  la connexion"})]}):c.jsxs("form",{onSubmit:He,children:[c.jsx(Xa,{value:z,onChange:Le=>K(Le.target.value),placeholder:"Votre email",required:!0,user:null,onEmailSubmit:()=>{}}),V&&c.jsx("div",{className:"error-message",children:V}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{B(!1),d(!0),I("")},children:"Retour  la connexion"}),c.jsx("button",{type:"submit",children:"Envoyer le lien"})]})]})]})})]})]})})},KL=async(e,t,n,r={})=>{try{const{data:i,error:s}=await bt.from("profiles").select("role").eq("id",t).single();if(!s&&((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="free"))return{hasPermission:!0,reason:(i==null?void 0:i.role)==="admin"?"admin_access":"free_access",userRole:i==null?void 0:i.role,isAdmin:(i==null?void 0:i.role)==="admin"};const{data:o,error:a}=await bt.functions.invoke("check-permission",{body:{contentType:e,userId:t,userEmail:n,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice}});return a?(console.error("Erreur check-permission:",a),await YL(e,t)):{...o,isAdmin:!1}}catch(i){return console.error("Erreur checkPaymentPermission:",i),{hasPermission:!1,reason:"error",error:i,isAdmin:!1}}},YL=async(e,t)=>{try{const{data:n,error:r}=await bt.from("generation_permissions").select("*").eq("user_id",t).eq("content_type",e).eq("status","completed").eq("is_active",!0).single(),i=!!n&&!r;return{hasPermission:i,reason:i?"payment_verified":"payment_required",userRole:"user",permission:n||null,isAdmin:!1}}catch(n){return{hasPermission:!1,reason:"error",error:n,isAdmin:!1}}},JL=async(e,t,n,r={})=>{try{const i=ff(e,r),{data:s,error:o}=await bt.functions.invoke("create-payment",{body:{contentType:e,userId:t,userEmail:n,amount:i.amount,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice}});if(o)throw o;return s}catch(i){throw i}},ff=(e,t={})=>{const n={comptine:{amount:149,name:"Comptine Musicale",currency:"EUR",display:"1,49"},histoire:{amount:49,name:"Histoire Texte",currency:"EUR",display:"0,49"},audio:{amount:69,name:"Histoire Audio",currency:"EUR",display:"0,69"},coloriage:{amount:49,name:"Coloriage Personnalis",currency:"EUR",display:"0,49"},coloring:{amount:49,name:"Coloriage personnalis",currency:"EUR",display:"0,49"},bd:{amount:99,name:"Page de Bande Dessine",currency:"EUR",display:"0,99"},comic:{amount:99,name:"Page de Bande Dessine",currency:"EUR",display:"0,99"},story:{amount:49,name:"Histoire Texte",currency:"EUR",display:"0,49"},rhyme:{amount:149,name:"Comptine musicale",currency:"EUR",display:"1,49"},animation:{amount:229,name:"Animation IA 30s",currency:"EUR",display:"2,29"}};if(e==="animation"&&t.duration){const r={30:{amount:229,name:"Animation IA 30s",display:"2,29"},60:{amount:379,name:"Animation IA 1min",display:"3,79"},120:{amount:619,name:"Animation IA 2min",display:"6,19"},180:{amount:859,name:"Animation IA 3min",display:"8,59"},240:{amount:1099,name:"Animation IA 4min",display:"10,99"},300:{amount:1339,name:"Animation IA 5min",display:"13,39"}},i=t.duration;if(r[i])return{...n[e],...r[i],currency:"EUR"}}if((e==="bd"||e==="comic")&&t.pages){const i=n[e].amount*t.pages,s=(i/100).toFixed(2).replace(".",",")+"";return{...n[e],amount:i,name:`${t.pages} page${t.pages>1?"s":""} de Bande Dessine`,display:s}}return n[e]||{amount:149,name:"Contenu Cratif",currency:"EUR",display:"1,49"}},h4=async(e,t)=>{try{if(t==="fredagathe77@gmail.com")return!0;const{data:n,error:r}=await bt.from("profiles").select("role").eq("id",e).single();return r?!1:(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="free"}catch{return!1}},XL=async e=>{try{const{data:t,error:n}=await bt.from("profiles").select("role").eq("id",e).single();return(t==null?void 0:t.role)||"user"}catch{return"user"}},f4=async(e,t,n,r)=>{try{const{data:i,error:s}=await bt.from("generation_permissions").upsert({user_id:e,content_type:t,stripe_payment_intent_id:n,amount:r,status:"completed",created_at:new Date().toISOString()});if(s)throw s;return i}catch(i){throw i}},p4=async()=>{try{const{data:e,error:t}=await bt.functions.invoke("manage-subscription",{body:{action:"get_plans"}});if(t)throw t;return e.plans||[]}catch(e){return console.error("Erreur rcupration plans:",e),[{id:1,name:"Dcouverte",description:"Parfait pour dcouvrir Herbbie",price_monthly:499,tokens_allocated:50},{id:2,name:"Famille",description:"Pour les familles actives",price_monthly:999,tokens_allocated:150},{id:3,name:"Cratif",description:"Pour les crateurs intensifs",price_monthly:1999,tokens_allocated:400},{id:4,name:"Institut",description:"Pour les coles et institutions",price_monthly:4999,tokens_allocated:1200}]}},m4=async e=>{try{const{data:t,error:n}=await bt.functions.invoke("manage-subscription",{body:{action:"get_subscription",userId:e}});if(n){console.error("Erreur fonction manage-subscription:",n);const{data:r,error:i}=await bt.from("subscriptions").select("*, subscription_plans(*)").eq("user_id",e).eq("status","active").single();return i&&i.code!=="PGRST116"?(console.error("Erreur rcupration abonnement direct:",i),null):r||null}return t.subscription}catch(t){return console.error("Erreur rcupration abonnement:",t),null}},g4=async(e,t,n,r)=>{try{const{data:i,error:s}=await bt.functions.invoke("manage-subscription",{body:{action:"create_subscription",planId:e,userId:t,paymentMethodId:n,userEmail:r}});if(s)throw s;return i}catch(i){throw console.error("Erreur cration abonnement:",i),i}},v4=async e=>{try{const{data:t,error:n}=await bt.functions.invoke("manage-subscription",{body:{action:"cancel_subscription",userId:e}});if(n)throw n;return t}catch(t){throw console.error("Erreur annulation abonnement:",t),t}},QL=async(e,t,n,r={})=>{try{const{data:i,error:s}=await bt.functions.invoke("deduct-tokens",{body:{userId:e,contentType:t,tokensUsed:n,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice,transactionId:r.transactionId||`txn_${Date.now()}`}});if(s)throw s;return i}catch(i){throw console.error("Erreur dduction tokens:",i),i}},y4=async e=>{try{const{data:t,error:n}=await bt.from("user_tokens").select("*").eq("user_id",e).is("used_at",null).or("expires_at.is.null,expires_at.gte."+new Date().toISOString()).order("created_at",{ascending:!1});if(n){if(n.code==="42P01")return console.log("Table user_tokens pas encore cre, utilisation des valeurs par dfaut"),{totalTokens:0,tokens:[]};throw n}return{totalTokens:(t==null?void 0:t.reduce((i,s)=>i+(s.tokens_amount||0),0))||0,tokens:t||[]}}catch(t){return console.error("Erreur rcupration tokens:",t),{totalTokens:0,tokens:[]}}},ZL=(e,t={},n=null)=>{var i;let r=1;if(n){const s=(i=n.subscription_plans)==null?void 0:i.name,o={Dcouverte:{histoire:3,audio:3,coloriage:2,bd:4,comptine:5,animation:10},Famille:{histoire:3,audio:3,coloriage:2,bd:3,comptine:4,animation:8},Cratif:{histoire:2,audio:2,coloriage:1,bd:2,comptine:3,animation:5},Institut:{histoire:1,audio:1,coloriage:1,bd:1,comptine:2,animation:3}};s&&o[s]&&(r=o[s][e]||1)}else r={histoire:1,audio:1,coloriage:1,bd:4,comptine:5,animation:10}[e]||1;if(e==="animation"&&t.duration){const s=t.duration;s===60?r=Math.ceil(r*1.5):s===120?r=Math.ceil(r*2.5):s===180?r=Math.ceil(r*4):s===240?r=Math.ceil(r*5):s===300&&(r=Math.ceil(r*6))}return(e==="bd"||e==="comic")&&t.pages&&(r=r*t.pages),r},ek=async(e,t=50)=>{try{const{data:n,error:r}=await bt.from("user_tokens").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return n||[]}catch(n){return console.error("Erreur rcupration historique tokens:",n),[]}},tk=Object.freeze(Object.defineProperty({__proto__:null,calculateTokenCost:ZL,cancelSubscription:v4,checkPaymentPermission:KL,createPaymentSession:JL,createSubscription:g4,deductTokens:QL,getContentPrice:ff,getSubscriptionPlans:p4,getTokenHistory:ek,getUserRole:XL,getUserSubscription:m4,getUserTokens:y4,grantPermission:f4,hasFreeAccess:h4},Symbol.toStringTag,{value:"Module"})),nk=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,userId:s,onOpenSubscription:o})=>c.jsxs("header",{className:"header",children:[c.jsxs("div",{className:"header-content",children:[c.jsx(Fe.div,{className:"logo",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:c.jsx("h1",{children:"HERBBIE"})}),c.jsx(Fe.h2,{className:"tagline",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:"Offrez  vos enfants des crations ludiques et imaginatives personnalises !"})]}),c.jsx("div",{className:"user-account-container",children:c.jsx(GL,{isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,onOpenSubscription:o})})]});const rk="/api/features";let Oh=null,tg=0;const ik=3e3,sk={animation:{enabled:!0,name:"Dessin anim",icon:"",description:"Gnration de dessins anims personnaliss avec IA"},comic:{enabled:!0,name:"Bande dessine",icon:"",description:"Cration de bandes dessines avec bulles de dialogue"},coloring:{enabled:!0,name:"Coloriage",icon:"",description:"Pages de coloriage  imprimer pour les enfants"},audio:{enabled:!0,name:"Histoire",icon:"",description:"Histoires audio avec narration automatique"},rhyme:{enabled:!0,name:"Comptine",icon:"",description:"Comptines musicales avec paroles et mlodies"}},x4=async()=>{try{const e=await fetch(rk,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();return Oh=t,tg=Date.now(),t}else throw console.error("Erreur API lors du chargement des fonctionnalits:",e.status),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors du chargement depuis l'API:",e),e}},ok=async()=>{try{const e=Date.now();return Oh&&e-tg<ik?Oh:await x4()}catch(e){return console.error("Erreur lors de la rcupration des fonctionnalits:",e),sk}},ak=async()=>{try{const e=await ok();return Object.entries(e).filter(([t,n])=>n.enabled).reduce((t,[n,r])=>(t[n]=r,t),{})}catch(e){return console.warn("Erreur lors de la rcupration des fonctionnalits actives:",e),{}}},lk=()=>{Oh=null,tg=0},ck=e=>{let t=null;const n=async()=>{try{lk();const i=await x4();JSON.stringify(i)!==JSON.stringify(t)&&e&&typeof e=="function"&&(t=i,e(i))}catch(i){console.error("Erreur lors de la vrification des changements:",i)}},r=setInterval(n,5e3);return n(),()=>{clearInterval(r)}},uk=({contentType:e,setContentType:t})=>{const[n,r]=T.useState({}),[i,s]=T.useState(!0);T.useEffect(()=>(o(),ck(async f=>{const p=Object.entries(f).filter(([g,m])=>m.enabled).reduce((g,[m,S])=>(g[m]=S,g),{});if(r(p),!p[e]&&e!=="animation"){const g=Object.keys(p).find(m=>p[m].enabled);g&&t(g)}})),[e,t]);const o=async()=>{try{s(!0);const d=await ak();r(d)}catch(d){console.error("Erreur lors du chargement des fonctionnalits:",d)}finally{s(!1)}},a=d=>{t(d)},l=Object.keys(n).length>0;return i?c.jsxs("div",{className:"content-type-selector",children:[c.jsx("h3",{children:"1. Choisissez le type de contenu"}),c.jsx("div",{className:"loading-message",children:c.jsx("p",{children:"Chargement des fonctionnalits..."})})]}):c.jsxs("div",{className:"content-type-selector",children:[c.jsx("h3",{children:"1. Choisissez le type de contenu"}),l?c.jsxs("div",{className:"content-type-options",children:[n.animation&&c.jsxs(Fe.div,{className:`content-type-option animation-full-width ${e==="animation"?"selected":""}`,onClick:()=>a("animation"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Dessin anim"}),c.jsx("p",{children:"Crez un vritable dessin anim fluide et cohrent avec l'IA"})]})]}),n.comic&&c.jsxs(Fe.div,{className:`content-type-option ${e==="comic"?"selected":""}`,onClick:()=>a("comic"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Bande dessine"}),c.jsx("p",{children:"Crez une vraie BD avec histoire cohrente et bulles de dialogue"})]})]}),n.coloring&&c.jsxs(Fe.div,{className:`content-type-option ${e==="coloring"?"selected":""}`,onClick:()=>a("coloring"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Coloriage"}),c.jsx("p",{children:"Crez des dessins  colorier personnaliss en noir et blanc"})]})]}),n.audio&&c.jsxs(Fe.div,{className:`content-type-option ${e==="audio"?"selected":""}`,onClick:()=>a("audio"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Histoire"}),c.jsx("p",{children:"Crez une histoire avec possibilit d'ajouter une narration audio"})]})]}),n.rhyme&&c.jsxs(Fe.div,{className:`content-type-option ${e==="rhyme"?"selected":""}`,onClick:()=>a("rhyme"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Comptine"}),c.jsx("p",{children:"Crez une comptine musicale avec paroles et mlodie"})]})]})]}):c.jsx("div",{className:"no-features-message",children:c.jsx("p",{children:"Aucune fonctionnalit n'est actuellement disponible."})})]})};const dk=[{id:"lullaby",title:"Berceuse douce",description:"Mlodie apaisante pour s'endormir",emoji:"",musicStyle:"gentle lullaby"},{id:"animal",title:"Comptine animalire",description:"Animaux et leurs sons en musique",emoji:"",musicStyle:"playful with animal sounds"},{id:"counting",title:"Comptine  compter",description:"Apprendre les chiffres en chanson",emoji:"",musicStyle:"upbeat educational"},{id:"colors",title:"Comptine des couleurs",description:"Dcouvrir les couleurs en musique",emoji:"",musicStyle:"cheerful and colorful"},{id:"alphabet",title:"Comptine de l'alphabet",description:"Apprendre les lettres en chantant",emoji:"",musicStyle:"educational and catchy"},{id:"family",title:"Comptine familiale",description:"Chanson sur la famille et l'amour",emoji:"",musicStyle:"warm and loving"},{id:"nature",title:"Comptine de la nature",description:"Explorer plantes, arbres et fleurs",emoji:"",musicStyle:"peaceful and natural"},{id:"seasonal",title:"Comptine saisonnire",description:"Clbrer saisons et merveilles",emoji:"",musicStyle:"festive and warm"},{id:"movement",title:"Comptine de mouvement",description:"Bouger, sauter et danser",emoji:"",musicStyle:"energetic dance rhythm"},{id:"emotions",title:"Comptine des motions",description:"Comprendre et exprimer sentiments",emoji:"",musicStyle:"expressive and gentle"},{id:"shapes",title:"Comptine des formes",description:"Apprendre les formes gomtriques",emoji:"",musicStyle:"playful educational"}],hk=({selectedRhyme:e,setSelectedRhyme:t,customRhyme:n,setCustomRhyme:r})=>{const i=s=>{t(e===s?"":s)};return c.jsxs("div",{className:"musical-rhyme-selector",children:[c.jsx("h3",{children:"2. Choisissez un type de comptine"}),c.jsxs("div",{className:"rhyme-grid",children:[c.jsxs("div",{className:"rhyme-slot",children:[c.jsxs(Fe.div,{className:`rhyme-card custom-rhyme ${e==="custom"?"selected":""}`,onClick:()=>i("custom"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"rhyme-emoji",children:""}),c.jsx("h4",{children:"Personnalis"}),c.jsx("p",{children:"Comptine avec prnom ou thme perso"})]}),e==="custom"&&c.jsx(Fe.div,{className:"custom-rhyme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{id:"customRhyme",value:n,onChange:s=>r(s.target.value),placeholder:"Dcrivez votre type de comptine personnalise...",className:"custom-textarea"})})]}),dk.map(s=>c.jsx("div",{className:"rhyme-slot",children:c.jsxs(Fe.div,{className:`rhyme-card ${e===s.id?"selected":""}`,onClick:()=>i(s.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"rhyme-emoji",children:s.emoji}),c.jsx("h4",{children:s.title}),c.jsx("p",{children:s.description})]})},s.id))]})]})};const fk=[{id:"magic",title:"Monde magique",description:"Fes, sorciers, cratures enchantes",emoji:""},{id:"dinosaurs",title:"Temps des dinosaures",description:"Dinosaures gentils, voyages dans le temps",emoji:""},{id:"space",title:"Voyage spatial",description:"Plantes, fuses, aliens sympathiques",emoji:""},{id:"adventure",title:"Aventure fantastique",description:"Rebondissements, magie, dcouvertes",emoji:""},{id:"animals",title:"Amis animaux",description:"Animaux qui parlent, aventures sauvages",emoji:""},{id:"underwater",title:"Monde sous-marin",description:"Ocans, cratures marines, trsors",emoji:""},{id:"forest",title:"Fort enchante",description:"Fort mystrieuse, surprises magiques",emoji:""},{id:"funny",title:"Histoire drle",description:"Contes amusants, rires garantis",emoji:""},{id:"mystery",title:"Petit mystre",description:"nigmes pour enfants, investigations",emoji:""},{id:"friendship",title:"Belle amiti",description:"Histoire sur l'amiti, entraide",emoji:""},{id:"learning",title:"Conte ducatif",description:"Leons importantes, apprentissage",emoji:""},{id:"bedtime",title:"Histoire du soir",description:"Contes apaisants, sommeil doux",emoji:""},{id:"robots",title:"Robots amis",description:"Robots gentils, inventions magiques",emoji:""},{id:"pirates",title:"Pirates courageux",description:"Bateaux pirates, trsors cachs",emoji:""}],pk=[{id:"female",name:"Voix fminine"},{id:"male",name:"Voix masculine"}],mk=({selectedAudioStory:e,setSelectedAudioStory:t,customAudioStory:n,setCustomAudioStory:r,selectedVoice:i,setSelectedVoice:s})=>{const[o,a]=T.useState(!1),l=m=>{e===m?(t(""),a(!1)):(t(m),m!=="custom"&&a(!1))},d=()=>{e==="custom"?(t(""),a(!1)):(t("custom"),a(!0))},f=[{id:"custom",title:"Personnalis",description:"Crez votre propre type d'histoire unique",emoji:"",isCustom:!0},...fk],p=m=>{r(m.target.value)},g=m=>{s(i===m?null:m)};return c.jsxs("div",{className:"audio-story-selector",children:[c.jsx("h3",{children:"2. Choisissez un type d'histoire"}),c.jsx("div",{className:"audio-story-grid",children:f.map(m=>c.jsxs("div",{className:"audio-story-slot",children:[c.jsxs(Fe.div,{className:`audio-story-card ${m.isCustom?"custom-audio-story":""} ${e===m.id?"selected":""}`,onClick:()=>m.isCustom?d():l(m.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"audio-story-emoji",children:m.emoji}),c.jsx("h4",{children:m.title}),c.jsx("p",{children:m.description})]}),m.isCustom&&o&&e==="custom"&&c.jsx(Fe.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx(Fe.textarea,{id:"customAudioStory",value:n,onChange:p,placeholder:"Ex: Un conte qui se droule dans un monde sous-marin avec des cratures magiques...",className:"custom-input",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})})]},m.id))}),c.jsxs("div",{className:"voice-selector-section",children:[c.jsx("h3",{children:"3. Choisissez une narration (optionnel)"}),c.jsx("div",{className:"voice-options",children:pk.map(m=>c.jsxs(Fe.div,{className:`voice-option ${i===m.id?"selected":""}`,onClick:()=>g(m.id),whileHover:{scale:1.03},whileTap:{scale:.98},children:[c.jsx("div",{className:"voice-icon",children:m.id==="female"?"":""}),c.jsx("div",{className:"voice-details",children:c.jsx("h4",{children:m.name})})]},m.id))})]})]})};const gk=[{id:"space",title:"Aventure spatiale",description:"Une exploration de l'espace et des plantes lointaines",emoji:""},{id:"ocean",title:"Sous l'ocan",description:"Une aventure sous-marine avec des cratures fantastiques",emoji:""},{id:"dinosaur",title:"Monde des dinosaures",description:"Un voyage dans le temps  l'poque des dinosaures",emoji:""},{id:"fairy",title:"Conte de fes",description:"Une histoire magique avec des fes et des cratures enchantes",emoji:""},{id:"superhero",title:"Super-hros",description:"Une aventure o votre enfant devient un super-hros",emoji:""},{id:"jungle",title:"Aventure dans la jungle",description:"Une exploration de la jungle et ses animaux sauvages",emoji:""}],vk=({selectedStory:e,setSelectedStory:t,customStory:n,setCustomStory:r})=>{const[i,s]=T.useState(!1),o=d=>{t(d),d!=="custom"&&s(!1)},a=()=>{t("custom"),s(!0)},l=d=>{r(d.target.value)};return c.jsxs("div",{className:"story-selector",children:[c.jsx("h3",{children:"4. Choisissez un type d'histoire"}),c.jsxs("div",{className:"story-grid",children:[c.jsxs(Fe.div,{className:`story-card custom-story ${e==="custom"?"selected":""}`,onClick:a,whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"story-emoji",children:""}),c.jsx("h4",{children:"Personnalis"}),c.jsx("p",{children:"Crez votre propre type d'histoire unique"})]}),gk.map(d=>c.jsxs(Fe.div,{className:`story-card ${e===d.id?"selected":""}`,onClick:()=>o(d.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"story-emoji",children:d.emoji}),c.jsx("h4",{children:d.title}),c.jsx("p",{children:d.description})]},d.id))]}),i&&c.jsxs(Fe.div,{className:"custom-story-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[c.jsx("label",{htmlFor:"customStory",children:"Dcrivez votre type d'histoire"}),c.jsx(Fe.textarea,{id:"customStory",value:n,onChange:l,placeholder:"Ex: Une aventure dans un monde de bonbons o les arbres sont en chocolat...",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})]})},Nn={}.VITE_API_BASE_URL||"",Ed={}.VITE_ANIMATION_API_BASE_URL||"https://da-production-6222.up.railway.app";const yk=({selectedTheme:e,setSelectedTheme:t,selectedDuration:n,setSelectedDuration:r,selectedStyle:i,setSelectedStyle:s,customStory:o,setCustomStory:a,characterImage:l,setCharacterImage:d})=>{const[f,p]=T.useState([]),[g,m]=T.useState([]);T.useEffect(()=>{p([{id:"custom",name:"Personnalis",description:"crivez votre propre histoire",emoji:""},{id:"space",name:"Espace",description:"Voyages spatiaux",emoji:""},{id:"ocean",name:"Sous-marin",description:"Exploration sous-marine",emoji:""},{id:"nature",name:"Nature",description:"Monde naturel",emoji:""},{id:"adventure",name:"Aventure",description:"Voyages et explorations",emoji:""},{id:"animals",name:"Animaux",description:"Histoires d'animaux mignons",emoji:""},{id:"magic",name:"Magie",description:"Monde magique et sortilges",emoji:""},{id:"friendship",name:"Amiti",description:"Histoires d'amiti",emoji:""},{id:"circus",name:"Cirque",description:"Spectacle de cirque magique",emoji:""}]),m([{value:30,label:"30 secondes"},{value:60,label:"1 minute"},{value:120,label:"2 minutes"},{value:180,label:"3 minutes"},{value:240,label:"4 minutes"},{value:300,label:"5 minutes"}])},[]);const S=[{id:"3d",name:"3D",description:"Animation 3D moderne",emoji:""},{id:"realistic",name:"Raliste",description:"Style cinmatographique",emoji:""},{id:"cartoon",name:"Cartoon",description:"Style dessin anim color",emoji:""},{id:"anime",name:"Anime",description:"Style manga japonais",emoji:"",useImage:!0,imagePath:"/assets/japan-flag.png"}],b=w=>{t(e===w?null:w)},A=w=>{r(n===w?null:w)},x=w=>{s(i===w?null:w)};return c.jsxs("div",{className:"animation-selector",children:[c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"2. Choisissez un thme pour votre dessin anim"}),c.jsx("div",{className:"themes-grid",children:f.map(w=>c.jsxs("div",{children:[c.jsxs(Fe.div,{className:`theme-card ${e===w.id?"selected":""} ${w.id==="custom"?"custom-animation":""}`,onClick:()=>b(w.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx("div",{className:"theme-emoji",children:w.emoji}),c.jsxs("div",{className:"theme-content",children:[c.jsx("h5",{children:w.name}),c.jsx("p",{children:w.description})]})]}),w.id==="custom"&&e==="custom"&&c.jsx(Fe.div,{className:"custom-theme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{className:"custom-story-textarea",value:o,onChange:N=>a(N.target.value),placeholder:"Il tait une fois... Racontez votre histoire ici. Plus elle est dtaille, plus l'animation sera riche et personnalise !",rows:4})})]},w.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"2. Choisissez la dure de l'animation"}),c.jsx("div",{className:"duration-options",children:g.map(w=>c.jsx(Fe.div,{className:`duration-option ${n===w.value?"selected":""}`,onClick:()=>A(w.value),whileHover:{scale:1.02},whileTap:{scale:.98},children:c.jsx("div",{className:"duration-label",children:w.label})},w.value))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"3. Choisissez un style visuel"}),c.jsx("div",{className:"style-options",children:S.map(w=>c.jsxs(Fe.div,{className:`style-option ${i===w.id?"selected":""}`,onClick:()=>x(w.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"style-emoji",children:[w.useImage?c.jsx("img",{src:w.imagePath,alt:w.name,className:"style-flag-image",onError:N=>{N.target.style.display="none",N.target.nextSibling.style.display="block"}}):null,c.jsx("span",{style:{display:w.useImage?"none":"block"},children:w.emoji})]}),c.jsxs("div",{className:"style-content",children:[c.jsx("h5",{children:w.name}),c.jsx("p",{children:w.description})]})]},w.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"4. Personnage principal (optionnel)"}),c.jsx("p",{className:"section-description",children:"Uploadez une photo pour crer un personnage personnalis dans votre dessin anim"}),c.jsx("div",{className:"character-upload-container",children:l?c.jsxs("div",{className:"character-preview",children:[c.jsx("img",{src:l,alt:"Personnage",className:"character-image"}),c.jsx(Fe.button,{className:"remove-character-btn",onClick:()=>d(null),whileHover:{scale:1.1},whileTap:{scale:.9},children:" Supprimer"})]}):c.jsxs(Fe.label,{className:"character-upload-zone",whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx("input",{type:"file",accept:"image/*",onChange:w=>{const N=w.target.files[0];if(N){const R=new FileReader;R.onloadend=()=>{d(R.result)},R.readAsDataURL(N)}},style:{display:"none"}}),c.jsx("div",{className:"upload-icon",children:""}),c.jsxs("div",{className:"upload-text",children:[c.jsx("strong",{children:"Cliquez pour uploader une photo"}),c.jsx("span",{children:"ou glissez-dposez une image ici"})]})]})})]})]})};const xk=({animationResult:e,onClose:t})=>{var N,R,q,V;const[n,r]=T.useState("video"),[i,s]=T.useState(null);if(!e)return null;const{status:o,clips:a=[],scenes:l=[],generation_time:d,total_duration:f,successful_clips:p=0,fallback_clips:g=0,pipeline_type:m}=e,S=a.some(I=>I.status==="success")||o==="completed"&&(e.final_video_url||((N=e.result)==null?void 0:N.final_video_url)),b=l||e.scenes_details||[],A=I=>{if(!I||isNaN(I))return"---";const F=Math.floor(I/60),Y=I%60;return F>0?`${F}m ${Y}s`:`${Y}s`},x=I=>{switch(I){case"success":return"#4CAF50";case"fallback":return"#FF9800";case"error":return"#F44336";default:return"#9E9E9E"}},w=I=>{switch(I){case"success":return"";case"fallback":return"";case"error":return"";default:return""}};return c.jsx(Fe.div,{className:"animation-viewer-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(Fe.div,{className:"animation-viewer",initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},onClick:I=>I.stopPropagation(),transition:{type:"spring",damping:20,stiffness:300},children:[c.jsxs("div",{className:"viewer-header",children:[c.jsx("h2",{children:" Votre dessin anim IA"}),o&&c.jsxs("div",{className:"status-badge",style:{backgroundColor:x(o)},children:[w(o)," ",o==="generating_idea"?"Cration de l'ide...":o==="creating_scenes"?"Cration des scnes...":o==="generating_clips"?"Gnration vido...":o==="completed"?"Termin !":o==="failed"?"chou":o]}),c.jsx("button",{className:"close-button",onClick:t,children:""})]}),c.jsxs("div",{className:"animation-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:["Dure: ",A(f||e.duration)]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[a.length," scnes"]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[p," russies"]})]}),g>0&&c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[g," fallback"]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:["Gnr en ",d?Math.round(d)+"s":"En cours..."]})]})]}),c.jsxs("div",{className:"viewer-tabs",children:[c.jsx("button",{className:`tab ${n==="video"?"active":""}`,onClick:()=>r("video"),children:" Vido"}),c.jsx("button",{className:`tab ${n==="scenes"?"active":""}`,onClick:()=>r("scenes"),children:" Scnes"}),c.jsx("button",{className:`tab ${n==="details"?"active":""}`,onClick:()=>r("details"),children:" Dtails"})]}),c.jsx("div",{className:"viewer-content",children:c.jsxs(Ur,{mode:"wait",children:[n==="video"&&c.jsx(Fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"video-tab",children:S?c.jsx("div",{className:"video-player",children:e.final_video_url||(R=e.result)!=null&&R.final_video_url?c.jsxs("div",{className:"final-animation",children:[c.jsx("div",{className:"video-icon",children:""}),c.jsxs("h3",{children:[" ",e.title||"Votre dessin anim est prt !"]}),c.jsxs("p",{children:["Animation complte de ",A(f||e.duration)," avec ",p||a.length," scnes."]}),c.jsx("div",{className:"main-video-container",children:c.jsx("video",{src:e.final_video_url||((q=e.result)==null?void 0:q.final_video_url),className:"final-animation-video",controls:!0,autoPlay:!0,loop:!0,muted:!0,preload:"metadata",style:{width:"100%",maxWidth:"600px",height:"auto",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.2)",margin:"1rem 0"},onLoadedData:()=>{},onError:I=>{I.target.style.display="none"}})}),c.jsx("div",{className:"video-controls",children:c.jsx("button",{className:"play-btn",onClick:()=>{var I;return window.open(e.final_video_url||((I=e.result)==null?void 0:I.final_video_url),"_blank")},style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"},children:" Ouvrir en plein cran"})})]}):c.jsxs("div",{className:"animation-gallery",children:[c.jsx("div",{className:"video-icon",children:""}),c.jsx("h3",{children:" Votre dessin anim est prt !"}),c.jsxs("p",{children:["Animation de ",A(f)," gnre avec succs.",p>0&&` ${p} scnes cres avec l'IA.`]}),c.jsxs("div",{className:"scenes-gallery",children:[c.jsx("h4",{children:" Votre dessin anim en images :"}),c.jsx("div",{className:"gallery-grid",children:a.map((I,F)=>{let Y=null,X=!1;return I.video_url&&I.type==="real_video"?(Y=/^https?:\/\//i.test(I.video_url)?I.video_url:`${Ed}${I.video_url}`,X=!0):I.demo_image_url?Y=/^https?:\/\//i.test(I.demo_image_url)?I.demo_image_url:`${Ed}${I.demo_image_url}`:I.image_url?Y=/^https?:\/\//i.test(I.image_url)?I.image_url:`${Ed}${I.image_url}`:I.video_url&&(Y=/^https?:\/\//i.test(I.video_url)?I.video_url:`${Ed}${I.video_url}`),c.jsxs("div",{className:"scene-media-card",children:[X?c.jsx("video",{src:Y,className:"scene-video",controls:!0,loop:!0,muted:!0,preload:"metadata",onLoadedData:()=>{},onError:E=>{E.target.style.display="none",E.target.nextSibling.style.display="flex"}}):c.jsx("img",{src:Y,alt:`Scne ${I.scene_number}`,className:"scene-image",onLoad:()=>{},onError:E=>{E.target.style.display="none",E.target.nextSibling.style.display="flex"}}),c.jsxs("div",{className:"scene-placeholder",style:{display:"none"},children:[c.jsx("span",{children:""}),c.jsxs("p",{children:["Scne ",I.scene_number]}),c.jsx("small",{children:I.type||"En cours..."})]}),c.jsxs("div",{className:"scene-info",children:[c.jsxs("span",{children:["Scne ",I.scene_number]}),c.jsx("span",{children:A(I.duration)}),I.type==="real_video"&&c.jsx("span",{className:"clip-type real",children:" Vido"}),I.type==="demo"&&c.jsx("span",{className:"clip-type demo",children:" Dmo"}),I.status==="success"&&c.jsx("span",{className:"clip-status success",children:""}),I.status==="fallback"&&c.jsx("span",{className:"clip-status fallback",children:""})]})]},F)})}),c.jsx("div",{className:"gallery-summary",children:c.jsxs("p",{children:[c.jsx("strong",{children:" Votre animation complte :"}),a.length," scnes illustres reprsentant votre histoire. Chaque image correspond  un moment cl de votre rcit gnr par l'IA."]})})]}),a.filter(I=>I.status==="success").length>0&&c.jsxs("div",{className:"video-clips-list",children:[c.jsx("h4",{children:" Toutes les scnes gnres :"}),a.filter(I=>I.status==="success").map((I,F)=>c.jsxs("div",{className:"clip-item",children:[c.jsxs("span",{children:[" Scne ",I.scene_number]}),c.jsx("span",{children:A(I.duration)}),I.type==="image"&&c.jsx("span",{className:"clip-type",children:" Image"})]},F))]}),c.jsxs("div",{className:"video-actions",children:[c.jsx("button",{className:"download-btn",children:" Tlcharger"}),c.jsx("button",{className:"share-btn",children:" Partager"})]})]})}):c.jsxs("div",{className:"no-video",children:[c.jsx("div",{className:"no-video-icon",children:o==="completed"?"":""}),c.jsx("h3",{children:o==="completed"?"Animation termine !":"Gnration en cours..."}),c.jsx("p",{children:o==="completed"?"Votre animation a t gnre avec succs ! Thme: "+(e.theme||"N/A"):"La gnration vido peut prendre quelques minutes. Certaines scnes utilisent des modes de fallback."}),o==="completed"&&(e.final_video_url||((V=e.result)==null?void 0:V.final_video_url))&&c.jsx("div",{className:"video-controls",children:c.jsx("button",{className:"play-btn",onClick:()=>{var I;return window.open(e.final_video_url||((I=e.result)==null?void 0:I.final_video_url),"_blank")},children:" Voir l'animation"})})]})},"video"),n==="scenes"&&c.jsx(Fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"scenes-tab",children:c.jsx("div",{className:"scenes-list",children:b.map((I,F)=>{const Y=a.find(X=>X.scene_number===I.scene_number);return c.jsxs(Fe.div,{className:`scene-card ${i===F?"selected":""}`,onClick:()=>s(i===F?null:F),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"scene-header",children:[c.jsxs("span",{className:"scene-number",children:["Scne ",I.scene_number]}),c.jsxs("div",{className:"scene-status",children:[c.jsx("span",{className:"status-icon",style:{color:x((Y==null?void 0:Y.status)||"pending")},children:w((Y==null?void 0:Y.status)||"pending")}),c.jsx("span",{className:"status-text",children:(Y==null?void 0:Y.status)||"pending"})]})]}),c.jsx("h4",{children:I.description}),c.jsxs("p",{children:[c.jsx("strong",{children:"Action:"})," ",I.action]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Dcor:"})," ",I.setting]}),c.jsxs("div",{className:"scene-duration",children:["Dure: ",A(I.duration)]}),i===F&&Y&&c.jsx(Fe.div,{className:"scene-details",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:Y.video_url&&c.jsx("div",{className:"clip-preview",children:c.jsxs("span",{children:[" Fichier: ",Y.video_url]})})})]},I.scene_number)})})},"scenes"),n==="details"&&c.jsx(Fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"details-tab",children:c.jsxs("div",{className:"technical-details",children:[c.jsx("h4",{children:" Dtails techniques"}),c.jsxs("div",{className:"detail-grid",children:[c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Pipeline:"}),c.jsx("span",{children:m||"custom_animation_ai"})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Statut:"}),c.jsx("span",{className:`status ${o}`,children:o})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Temps de gnration:"}),c.jsxs("span",{children:[Math.round(d),"s"]})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Scnes totales:"}),c.jsx("span",{children:a.length})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Scnes russies:"}),c.jsx("span",{children:p})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Dure totale:"}),c.jsx("span",{children:A(f)})]})]}),e.note&&c.jsxs("div",{className:"generation-note",children:[c.jsx("h5",{children:" Note de gnration"}),c.jsx("p",{children:e.note})]})]})},"details")]})})]})})};const wk=({customRequest:e,setCustomRequest:t})=>c.jsxs("div",{className:"custom-request",children:[c.jsx("h3",{children:"Demandes spcifiques (optionnel)"}),c.jsx("div",{className:"request-form",children:c.jsxs("div",{className:"input-group",children:[c.jsx("label",{htmlFor:"customRequest",children:"Avez-vous des demandes particulires ?"}),c.jsx(Fe.textarea,{id:"customRequest",value:e,onChange:n=>t(n.target.value),placeholder:"Ex: En anglais, avec un chien bleu, inclure un message sur l'amiti...",rows:3,whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})})]});const bk=({onGenerate:e,isGenerating:t,isDisabled:n,contentType:r,buttonText:i})=>{const s=()=>t?r==="rhyme"?"Cration de la comptine en cours...":r==="coloring"?"Cration du coloriage en cours...":r==="comic"?"Cration de la BD en cours...":r==="animation"?"Cration du dessin anim en cours...":"Cration du contenu en cours...":i||(r==="rhyme"?"Crer ma comptine":r==="coloring"?"Crer mon coloriage":r==="comic"?"Crer ma bande dessine":r==="animation"?"Crer mon dessin anim":r==="audio"?"Crer mon histoire":"Crer mon contenu");return c.jsxs("div",{className:"generate-button-container",children:[c.jsxs(Fe.button,{className:"generate-button",onClick:e,disabled:n||t,whileHover:!n&&!t?{scale:1.03}:{},whileTap:!n&&!t?{scale:.98}:{},initial:{opacity:.9},animate:{opacity:n?.6:1,y:[0,t?-5:0,0]},transition:{duration:t?.5:.2,repeat:t?1/0:0},children:[t&&c.jsxs("div",{className:"button-loading-dots",children:[c.jsx("div",{className:"button-dot"}),c.jsx("div",{className:"button-dot"}),c.jsx("div",{className:"button-dot"})]}),c.jsx("span",{children:s()})]}),n&&!t&&c.jsx("p",{className:"generate-button-hint",children:r==="story"?"Veuillez remplir tous les champs requis pour crer votre BD":r==="rhyme"?"Veuillez slectionner un type de comptine pour continuer":r==="coloring"?"Veuillez slectionner un thme de coloriage pour continuer":r==="comic"?"Veuillez slectionner un thme, un style et un nombre de pages pour votre BD":r==="animation"?"Veuillez slectionner un thme et configurer votre animation":"Veuillez slectionner un type d'histoire (et une voix) pour continuer"})]})};async function Sk(e){return new Promise((t,n)=>{const r=new window.Image;r.crossOrigin="Anonymous",r.onload=function(){const i=document.createElement("canvas");i.width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0);const o=i.toDataURL("image/png");t({width:r.width,height:r.height,dataUrl:o})},r.onerror=n,r.src=e})}function jk(e,t=""){return(!e||e.trim()==="")&&(e={coloriage:"coloriage",comic:"bande_dessinee",comptine:"comptine",histoire:"histoire",animation:"animation"}[t]||"creation"),String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").toLowerCase()}async function ng(e,t="coloriages"){const n=new nt({orientation:"portrait",unit:"px",format:"a4"}),r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),s=40,o=r-2*s,a=i-2*s,l=await Promise.all(e.map(async f=>{try{const p=f.image_url||f;return await Sk(p)}catch(p){return console.warn("Erreur chargement image pour le PDF :",f,p),null}}));let d=!0;for(let f=0;f<l.length;f++){if(!l[f])continue;d||n.addPage(),d=!1;const{dataUrl:p,width:g,height:m}=l[f],S=g/m;let b=o,A=o/S;A>a&&(A=a,b=a*S);const x=(r-b)/2,w=(i-A)/2;n.addImage(p,"PNG",x,w,b,A)}n.save(`${jk(t)}.pdf`)}function Nk(e){const[t,n]=T.useState([]),[r,i]=T.useState(!1),[s,o]=T.useState(null);return T.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{i(!0);try{const{data:d,error:f}=await bt.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});f?(console.error("Erreur rcupration crations:",f),o(f.message),n([])):(n(d||[]),o(null))}catch(d){console.error("Erreur critique rcupration crations:",d),o(d.message),n([])}finally{i(!1)}})()},[e]),{creations:t,loading:r,error:s,refreshCreations:async()=>{if(e){i(!0);try{const{data:l,error:d}=await bt.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});d?o(d.message):(n(l||[]),o(null))}catch(l){o(l.message)}finally{i(!1)}}}}}const Ak=({onClose:e,onSelect:t})=>{const{user:n}=eg(),{creations:r,loading:i,refreshCreations:s}=Nk(n==null?void 0:n.id),o=async p=>{if(window.confirm("Supprimer cette cration ?"))try{const{error:m}=await Sb(p);if(m){alert("Erreur lors de la suppression !");return}s()}catch(m){console.error("Erreur lors de la suppression:",m),alert("Erreur lors de la suppression !")}},a=p=>{const g=new Date(p);return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(g)},l=p=>{switch(p){case"story":return"";case"rhyme":return"";case"audio":return"";case"coloring":return"";case"crewai_animation":return"";case"animation":return"";default:return""}},d=p=>{switch(p){case"story":return"Bande dessine";case"rhyme":return"Comptine";case"audio":return"Histoire";case"coloring":return"Coloriage";case"crewai_animation":return"Dessin anim";case"animation":return"Dessin anim";default:return"Cration"}},f=p=>{var F;const g=p.content||((F=p.data)==null?void 0:F.content)||"";if(!g||typeof g!="string"){console.error(" Contenu invalide ou manquant pour le PDF.");return}const m=new nt({orientation:"p",unit:"mm",format:"a4"}),S=40,b=210,A=297,x=12,w=Math.floor((A-S*2)/x),N=13;let R=p.title,q=g;g.startsWith("**")&&g.includes("**",2)&&(R=g.split("**")[1].trim(),q=g.replace(`**${R}**`,"").trim());const V=Y=>new Promise(X=>{const E=new Image;E.crossOrigin="anonymous",E.src=Y,E.onload=()=>X(E)});(async()=>{try{const Y="/assets/fond.png?v=1";let X=null;try{X=await V(Y)}catch{console.log(" Image de fond non disponible, PDF sans fond")}const E=m.splitTextToSize(q,150);let O=0;for(let Q=0;O<E.length;Q++){Q>0&&m.addPage(),X&&m.addImage(X,"PNG",0,0,b,A,void 0,"FAST"),Q===0&&(m.setFont("courier","bold"),m.setFontSize(22),m.setTextColor(110,50,230),m.text(R,b/2,S-20,{align:"center"})),m.setFont("courier","bold"),m.setFontSize(N),m.setTextColor(25,25,112);for(let H=0;H<w&&O<E.length;H++,O++){const de=S+H*x;m.text(E[O],b/2,de,{align:"center"})}m.setFontSize(11),m.setTextColor(106,90,205),m.text(`Page ${Q+1}`,b-15,290,{align:"right"})}}catch(Y){console.error(" Erreur lors de la gnration du PDF:",Y),m.setFontSize(22),m.setTextColor(110,50,230),m.setFont("courier","bold"),m.text(R,b/2,S-20,{align:"center"}),m.setFontSize(N),m.setTextColor(25,25,112),m.setFont("courier","bold");const X=m.splitTextToSize(q,150);for(let E=0;E<X.length;E++){const O=S+E*x;m.text(X[E],b/2,O,{align:"center"})}}})().then(()=>{const Y=R.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),X=m.output("blob"),E=URL.createObjectURL(X),O=document.createElement("a");O.href=E,O.download=`${Y}.pdf`,O.style.display="none",document.body.appendChild(O),O.click(),document.body.removeChild(O),setTimeout(()=>{URL.revokeObjectURL(E)},100)})};return c.jsxs(Fe.div,{className:"history-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},onClick:p=>p.stopPropagation(),children:[c.jsxs("div",{className:"history-header",children:[c.jsx("h2",{children:"Historique de vos crations"}),c.jsx("button",{className:"close-button",onClick:e,children:""})]}),c.jsx("div",{className:"history-content",children:n?r.length===0&&!i?c.jsxs("div",{className:"empty-history",children:[c.jsx("p",{children:"Vous n'avez pas encore de crations"}),c.jsx("p",{className:"empty-subtext",children:"Vos crations apparatront ici une fois gnres"})]}):c.jsx("div",{className:"creations-list",children:r.map(p=>{var b,A,x,w,N,R,q,V,I,F,Y,X,E,O,Q;const g=!!(p.audio_path||(b=p.data)!=null&&b.audio_path),m=!!(p.content||(A=p.data)!=null&&A.content),S=["creation-item",g?"has-audio":"",m?"has-text":""].filter(Boolean).join(" ");return c.jsxs(Fe.div,{className:S,onClick:()=>t({...p,action:p.type==="coloring"?"showColoring":"showStory"}),whileHover:{scale:1.01},transition:{duration:.2},children:[c.jsx("div",{className:"creation-icon",children:l(p.type)}),"                  ",c.jsxs("div",{className:"creation-details",children:[c.jsx("h3",{children:p.title}),c.jsxs("div",{className:"creation-meta",children:[c.jsx("span",{className:"creation-type",children:d(p.type)}),c.jsx("span",{className:"creation-date",children:a(p.created_at)})]}),"                  ",(p.audio_path||((x=p.data)==null?void 0:x.audio_path))&&c.jsx("audio",{controls:!0,className:"creation-audio",src:`${Nn}/${p.audio_path||((w=p.data)==null?void 0:w.audio_path)}`}),c.jsxs("div",{className:"creation-actions",children:[p.type==="rhyme"&&(p.audio_path||((N=p.data)==null?void 0:N.audio_path))&&c.jsx("button",{className:"btn-pdf",onClick:async H=>{var de,ae;H.stopPropagation();try{const le=`${Nn}/${p.audio_path||((de=p.data)==null?void 0:de.audio_path)}`,ie=await(await fetch(le)).blob(),J=URL.createObjectURL(ie);let me=p.title||"Comptine";const C=p.content||((ae=p.data)==null?void 0:ae.content)||"";C&&C.startsWith("**")&&C.includes("**",2)&&(me=C.split("**")[1].trim());const B=me.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),z=document.createElement("a");z.href=J,z.download=`${B}.mp3`,z.style.display="none",document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(J)}catch(le){console.error("Erreur lors du tlchargement de la comptine:",le),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger la comptine"}),p.type==="audio"&&(p.content||((R=p.data)==null?void 0:R.content))&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn-pdf",onClick:H=>{H.stopPropagation(),f(p)},children:" Tlcharger le PDF"}),(p.audio_path||((q=p.data)==null?void 0:q.audio_path))&&(p.audio_generated||((V=p.data)==null?void 0:V.audio_generated))&&c.jsx("button",{className:"btn-audio",onClick:async H=>{var de,ae;H.stopPropagation();try{const le=`${Nn}/${p.audio_path||((de=p.data)==null?void 0:de.audio_path)}`,ie=await(await fetch(le)).blob(),J=URL.createObjectURL(ie);let me=p.title||"Histoire";const C=p.content||((ae=p.data)==null?void 0:ae.content)||"";C&&C.startsWith("**")&&C.includes("**",2)&&(me=C.split("**")[1].trim());const B=me.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),z=document.createElement("a");z.href=J,z.download=`${B}.mp3`,z.style.display="none",document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(J)}catch(le){console.error("Erreur lors du tlchargement audio:",le),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger l'audio"})]}),(p.audio_path||((I=p.data)==null?void 0:I.audio_path))&&(p.audio_generated||((F=p.data)==null?void 0:F.audio_generated))&&p.type!=="rhyme"&&p.type!=="audio"&&c.jsx("a",{className:"btn-audio",href:`${Nn}/${p.audio_path||((Y=p.data)==null?void 0:Y.audio_path)}`,download:!0,onClick:H=>H.stopPropagation(),children:" Tlcharger l'audio"}),p.type==="coloring"&&(p.images||((X=p.data)==null?void 0:X.images))&&(((E=p.images)==null?void 0:E.length)>0||((Q=(O=p.data)==null?void 0:O.images)==null?void 0:Q.length)>0)&&c.jsx("button",{className:"btn-pdf",onClick:H=>{var le;H.stopPropagation();const de=p.title||(p.theme?`coloriages_${p.theme}`:"coloriages"),ae=p.images||((le=p.data)==null?void 0:le.images)||[];ng(ae,de)},children:" Tlcharger le coloriage"}),c.jsx("button",{className:"btn-delete",onClick:H=>{H.stopPropagation(),o(p.id)},children:" Supprimer"})]})]})]},p.id)})}):c.jsx("div",{className:"empty-history",children:c.jsx("p",{children:"Connexion en cours..."})})})]})};const Ck=({title:e,content:t,onClose:n,children:r})=>{const[i,s]=T.useState(!1),o=T.useRef(null),a=()=>{var d;document.fullscreenElement?(document.exitFullscreen(),s(!1)):((d=o.current)==null||d.requestFullscreen(),s(!0))},l=d=>{d.target.classList.contains("story-popup-overlay")&&n()};return c.jsx("div",{className:"story-popup-overlay",onClick:l,children:c.jsxs("div",{className:"story-popup-content",ref:o,children:[c.jsx("div",{className:"story-background"}),c.jsx("button",{className:"story-close-btn",onClick:n,children:""}),c.jsx("button",{className:"story-fullscreen-btn",onClick:a,children:i?" Quitter le plein cran":" Plein cran"}),c.jsxs("div",{className:"story-scroll",children:[e&&c.jsx("h2",{className:"story-title",children:e}),t&&typeof t=="string"?c.jsx("div",{className:"story-text",children:t}):r]})]})})};const Pk=({selectedTheme:e,setSelectedTheme:t,customColoringTheme:n,setCustomColoringTheme:r,uploadedPhoto:i,setUploadedPhoto:s,withColoredModel:o,setWithColoredModel:a})=>{const[l,d]=T.useState(!1),[f,p]=T.useState(!1),[g,m]=T.useState(null),S=[{value:"upload_photo",label:"Ma Photo",icon:"",description:"Transformez votre photo en coloriage !",special:!0},{value:"custom",label:"Personnalis",icon:"",description:"Crez votre propre thme de coloriage"},{value:"animals",label:"Animaux",icon:"",description:"Chats, chiens, lions, lphants..."},{value:"dinosaurs",label:"Dinosaures",icon:"",description:"T-Rex, Triceratops, volcans..."},{value:"dragons",label:"Dragons",icon:"",description:"Dragons mignons, chevaliers..."},{value:"farm",label:"Ferme",icon:"",description:"Vache, cochon, poule, tracteur..."},{value:"fairies",label:"Fes & Licornes",icon:"",description:"Fes, licornes, chteaux magiques..."},{value:"princess",label:"Princesses",icon:"",description:"Princesses, robes, diadmes..."},{value:"mermaids",label:"Sirnes",icon:"",description:"Sirnes, coquillages, palais sous-marin..."},{value:"pirates",label:"Pirates",icon:"",description:"Bateaux pirates, trsors, perroquets..."},{value:"superheroes",label:"Super-hros",icon:"",description:"Hros masqus, super-pouvoirs..."},{value:"space",label:"Espace",icon:"",description:"Fuses, plantes, astronautes..."},{value:"robots",label:"Robots",icon:"",description:"Robots futuristes, androdes..."},{value:"vehicles",label:"Vhicules",icon:"",description:"Voitures, avions, trains, bateaux..."},{value:"nature",label:"Nature",icon:"",description:"Fleurs, arbres, papillons, paysages..."},{value:"ocean",label:"Ocan",icon:"",description:"Poissons, dauphins, coraux, tortues..."},{value:"seasons",label:"Saisons",icon:"",description:"Automne, hiver, printemps, t..."},{value:"sports",label:"Sports",icon:"",description:"Football, basketball, natation..."},{value:"fruits",label:"Fruits & Lgumes",icon:"",description:"Fruits rigolos, lgumes souriants..."},{value:"professions",label:"Mtiers",icon:"",description:"Mdecins, pompiers, cuisiniers..."},{value:"emotions",label:"motions",icon:"",description:"Visages joyeux, tristes, surpris..."}],b=N=>{e===N?(t(""),d(!1),p(!1)):(t(N),d(N==="custom"),p(N==="upload_photo"))},A=N=>{const R=N.target.files[0];if(R){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(R.type)){alert("Format de fichier non support. Utilisez JPG, PNG, GIF ou WebP.");return}if(R.size>5*1024*1024){alert("La photo est trop grande. Taille maximale : 5 MB");return}const V=new FileReader;V.onloadend=()=>{m(V.result)},V.readAsDataURL(R),s(R)}},x=N=>{a(o===N?null:N)},w=()=>{s(null),m(null);const N=document.getElementById("photo-upload-input");N&&(N.value="")};return c.jsxs("div",{className:"coloring-selector",children:[c.jsx("h3",{children:"2. Choisissez un thme pour vos coloriages"}),c.jsx("div",{className:"theme-grid",children:S.map((N,R)=>c.jsxs("div",{className:"theme-slot",children:[c.jsxs(Fe.div,{className:`theme-option ${N.special?"photo-upload-option":""} ${N.value==="custom"?"custom-coloring":""} ${e===N.value?"selected":""}`,onClick:()=>b(N.value),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"theme-icon",children:N.icon}),c.jsxs("div",{className:"theme-info",children:[c.jsx("h4",{children:N.label}),c.jsx("p",{children:N.description})]})]}),N.special&&f&&e==="upload_photo"&&c.jsxs(Fe.div,{className:"photo-upload-container inline-upload",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[c.jsxs("div",{className:"upload-section",children:[c.jsx("p",{className:"upload-hint",children:"Formats accepts : JPG, PNG, GIF, WebP (max 5 MB)"}),c.jsx("input",{type:"file",id:"photo-upload-input",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:A,style:{display:"none"}}),g?c.jsx("div",{className:"photo-preview-container",children:c.jsx("img",{src:g,alt:"Aperu",className:"photo-preview"})}):c.jsxs("label",{htmlFor:"photo-upload-input",className:"upload-button",children:[c.jsx("span",{className:"upload-icon",children:""}),c.jsx("span",{children:"Choisir une photo"})]})]}),g&&c.jsx(Fe.div,{className:"remove-photo-section",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:c.jsx("button",{onClick:w,className:"remove-photo-button",children:" Supprimer la photo"})})]}),N.value==="custom"&&l&&e==="custom"&&c.jsx(Fe.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("input",{type:"text",placeholder:"Dcrivez votre thme de coloriage personnalis...",value:n,onChange:q=>r(q.target.value),className:"custom-input"})})]},N.value))}),c.jsxs("div",{className:"model-choice-section",children:[c.jsx("h3",{children:"3. Voulez-vous un modle ?"}),c.jsxs("div",{className:"model-buttons",children:[c.jsxs(Fe.button,{className:`model-btn ${o===!0?"active":""}`,onClick:()=>x(!0),whileHover:{y:-3},whileTap:{scale:.98},children:[c.jsx("span",{className:"model-icon",children:""}),c.jsx("span",{className:"model-label",children:"Avec modle"}),c.jsx("span",{className:"model-desc",children:"Inclut un exemple color en coin"})]}),c.jsxs(Fe.button,{className:`model-btn ${o===!1?"active":""}`,onClick:()=>x(!1),whileHover:{y:-3},whileTap:{scale:.98},children:[c.jsx("span",{className:"model-icon",children:""}),c.jsx("span",{className:"model-label",children:"Sans modle"}),c.jsx("span",{className:"model-desc",children:"Coloriage pur, libert crative"})]})]})]})]})};const w4=({imageUrl:e,theme:t,onClose:n,onSave:r})=>{const i=T.useRef(null),[s,o]=T.useState(null),[a,l]=T.useState("#FF6B6B"),[d,f]=T.useState("bucket"),[p,g]=T.useState(!1),[m,S]=T.useState(1),[b,A]=T.useState(!1),[x,w]=T.useState(null),[N,R]=T.useState(null),q=["#FF6B6B","#FF4757","#FF6348","#FFA07A","#FF85C0","#FFB6C1","#FF1493","#DC143C","#F8B739","#FFA500","#FFD700","#F7DC6F","#FFDAB9","#FFE4B5","#F4A460","#FDB813","#52C41A","#98D8C8","#81C784","#00C853","#20B2AA","#3CB371","#90EE90","#7FFF00","#4ECDC4","#45B7D1","#85C1E9","#A8DADC","#00BFFF","#1E90FF","#4169E1","#6495ED","#BB8FCE","#9B59B6","#8B008B","#DA70D6","#E6E6FA","#DDA0DD","#BA55D3","#9370DB","#DDA15E","#BC6C25","#D2691E","#CD853F","#8B4513","#A0522D","#F5DEB3","#FAEBD7","#95A5A6","#7F8C8D","#BDC3C7","#ECF0F1","#D3D3D3","#C0C0C0","#A9A9A9","#808080","#E07A5F","#FF6B9D","#00D9FF","#FFEB3B","#FF5722","#8BC34A","#00BCD4","#E91E63"];T.useEffect(()=>{const J=i.current;if(!J)return;const me=J.getContext("2d",{willReadFrequently:!0});o(me);const C=new Image;C.crossOrigin="anonymous",C.onload=()=>{const B=window.innerWidth*.9,z=window.innerHeight*.7;let K=C.width,Z=C.height;K>B&&(Z=B/K*Z,K=B),Z>z&&(K=z/Z*K,Z=z),J.width=K,J.height=Z,me.drawImage(C,0,0,K,Z),w(me.getImageData(0,0,K,Z));const oe=me.createImageData(K,Z);R(oe),A(!0)},C.onerror=()=>{console.error("Erreur de chargement de l'image")},C.src=e},[e]);const V=(J,me,C)=>{if(!s||!x)return;const B=i.current,z=s.getImageData(0,0,B.width,B.height),K=z.data,Z=F(K,J,me,B.width),oe=X(C);if(E(Z,oe))return;const he=[[J,me]],ue=new Set;for(;he.length>0;){const[xe,je]=he.pop(),Ee=`${xe},${je}`;if(ue.has(Ee)||xe<0||xe>=B.width||je<0||je>=B.height)continue;const ke=F(K,xe,je,B.width);O(ke)||E(ke,Z)&&(ue.add(Ee),Y(K,xe,je,B.width,oe),he.push([xe+1,je]),he.push([xe-1,je]),he.push([xe,je+1]),he.push([xe,je-1]))}s.putImageData(z,0,0)},I=(J,me)=>{if(!s||!x)return;const C=i.current,B=s.getImageData(0,0,C.width,C.height),z=B.data,K=x.data,Z=F(z,J,me,C.width);if(Q(Z))return;const oe=[[J,me]],he=new Set;for(;oe.length>0;){const[ue,xe]=oe.pop(),je=`${ue},${xe}`;if(he.has(je)||ue<0||ue>=C.width||xe<0||xe>=C.height)continue;const Ee=F(z,ue,xe,C.width);if(O(Ee)||!E(Ee,Z))continue;he.add(je);const ke=(xe*C.width+ue)*4;z[ke]=K[ke],z[ke+1]=K[ke+1],z[ke+2]=K[ke+2],z[ke+3]=K[ke+3],oe.push([ue+1,xe]),oe.push([ue-1,xe]),oe.push([ue,xe+1]),oe.push([ue,xe-1])}s.putImageData(B,0,0)},F=(J,me,C,B)=>{const z=(C*B+me)*4;return{r:J[z],g:J[z+1],b:J[z+2],a:J[z+3]}},Y=(J,me,C,B,z)=>{const K=(C*B+me)*4;J[K]=z.r,J[K+1]=z.g,J[K+2]=z.b,J[K+3]=255},X=J=>{const me=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(J);return me?{r:parseInt(me[1],16),g:parseInt(me[2],16),b:parseInt(me[3],16),a:255}:{r:0,g:0,b:0,a:255}},E=(J,me,C=10)=>Math.abs(J.r-me.r)<=C&&Math.abs(J.g-me.g)<=C&&Math.abs(J.b-me.b)<=C,O=(J,me=50)=>J.r<me&&J.g<me&&J.b<me,Q=(J,me=240)=>J.r>me&&J.g>me&&J.b>me||J.a<10,H=J=>{if(!b)return;const me=i.current,C=me.getBoundingClientRect(),B=Math.floor((J.clientX-C.left)*(me.width/C.width)),z=Math.floor((J.clientY-C.top)*(me.height/C.height));d==="bucket"?V(B,z,a):d==="eraser"&&I(B,z)},de=()=>{i.current.toBlob(me=>{const C=URL.createObjectURL(me),B=document.createElement("a");B.href=C;const K=(t||"coloriage").replace(/[^a-z0-9]/gi,"_").toLowerCase();B.download=`coloriages_${K}_colorie.png`,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(C)})},ae=J=>{J.target.classList.contains("coloring-canvas-overlay")&&n()},le=()=>{!s||!x||s.putImageData(x,0,0)},W=()=>{S(J=>Math.min(J+.5,3)),g(!0)},ie=()=>{m>1&&(S(J=>Math.max(J-.5,1)),m-.5<=1&&g(!1))};return c.jsx("div",{className:"coloring-canvas-overlay",onClick:ae,children:c.jsxs("div",{className:"coloring-canvas-container",children:[c.jsxs("div",{className:"coloring-toolbar-top",children:[c.jsx("h2",{className:"coloring-canvas-title",children:" Coloriez votre dessin"}),c.jsxs("div",{className:"coloring-zoom-controls",children:[c.jsx("button",{className:"coloring-zoom-btn",onClick:ie,disabled:m<=1,title:"Zoom arrire",children:""}),c.jsxs("span",{style:{color:"white",fontWeight:"bold",minWidth:"60px",textAlign:"center"},children:[Math.round(m*100),"%"]}),c.jsx("button",{className:"coloring-zoom-btn",onClick:W,disabled:m>=3,title:"Zoom avant",children:"+"})]}),c.jsxs("div",{className:"coloring-toolbar-actions",children:[c.jsx("button",{className:"coloring-btn coloring-reset-btn",onClick:le,title:"Rinitialiser",children:" Rinitialiser"}),c.jsx("button",{className:"coloring-btn coloring-save-btn",onClick:de,title:"Tlcharger",children:" Tlcharger"}),c.jsx("button",{className:"coloring-btn coloring-close-btn-top",onClick:n,title:"Fermer",children:""})]})]}),c.jsxs("div",{className:"coloring-canvas-wrapper",children:[c.jsx("canvas",{ref:i,onClick:H,className:`coloring-canvas ${p?"zoomed":""}`,style:{transform:`scale(${m})`}}),!b&&c.jsxs("div",{className:"coloring-loading",children:[c.jsx("div",{className:"coloring-spinner"}),c.jsx("p",{children:"Chargement du coloriage..."})]})]}),c.jsxs("div",{className:"coloring-toolbar-bottom",children:[c.jsxs("div",{className:"coloring-tools",children:[c.jsx("button",{className:`coloring-tool-btn ${d==="bucket"?"active":""}`,onClick:()=>f("bucket"),title:"Seau de peinture",children:""}),c.jsx("button",{className:`coloring-tool-btn ${d==="eraser"?"active":""}`,onClick:()=>f("eraser"),title:"Gomme",children:""})]}),c.jsx("div",{className:"coloring-palette",children:q.map((J,me)=>c.jsx("button",{className:`coloring-color-btn ${a===J&&d==="bucket"?"active":""}`,style:{backgroundColor:J},onClick:()=>{l(J),f("bucket")},title:J},me))})]})]})})},Lk=({coloringResult:e,onClose:t,selectedTheme:n})=>{const[r,i]=T.useState(!1),[s,o]=T.useState(!1),a=T.useRef(null),l=()=>{var S;document.fullscreenElement?(document.exitFullscreen(),i(!1)):((S=a.current)==null||S.requestFullscreen(),i(!0))},d=S=>{S.target.classList.contains("coloring-popup-overlay")&&t()},f=()=>{if(e!=null&&e.images&&e.images.length>0){const S=e.title||(n?`coloriages_${n}`:"coloriages");ng(e.images,S)}else console.warn("Aucune image disponible pour le tlchargement PDF")};if(!e||!e.images||e.images.length===0)return null;const p=e.images[0],g=p.image_url||p,m=()=>{o(!0)};return c.jsx(c.Fragment,{children:s?c.jsx(w4,{imageUrl:g,onClose:()=>o(!1)}):c.jsx("div",{className:"coloring-popup-overlay",onClick:d,children:c.jsxs("div",{className:"coloring-popup-content",ref:a,children:[c.jsx("div",{className:"coloring-background"}),c.jsx("button",{className:"coloring-close-btn",onClick:t,children:""}),c.jsx("button",{className:"coloring-fullscreen-btn",onClick:l,children:r?" Quitter le plein cran":" Plein cran"}),c.jsxs("div",{className:"coloring-container",children:[c.jsx("h2",{className:"coloring-title",children:" Votre coloriage"}),c.jsx("div",{className:"coloring-image-wrapper",children:c.jsx("img",{src:g,alt:"Coloriage",className:"coloring-popup-image"})}),c.jsxs("div",{className:"coloring-popup-actions",children:[c.jsx("button",{className:"coloring-open-btn",onClick:m,children:" Colorier maintenant"}),c.jsx("button",{className:"coloring-download-btn",onClick:f,children:" Tlcharger le coloriage"})]})]})]})})})};const kk=({selectedTheme:e,setSelectedTheme:t,selectedStyle:n,setSelectedStyle:r,numPages:i,setNumPages:s,customStory:o,setCustomStory:a,characterPhoto:l,setCharacterPhoto:d,onCharacterPhotoUpload:f})=>{const[p,g]=T.useState(!1),m=[{id:"custom",name:"Personnalis",icon:"",description:"Votre propre histoire"},{id:"espace",name:"Espace",icon:"",description:"Aventures spatiales"},{id:"pirates",name:"Pirates",icon:"",description:"Trsors et mers"},{id:"princesses",name:"Princesses",icon:"",description:"Chteaux magiques"},{id:"dinosaures",name:"Dinosaures",icon:"",description:"Monde prhistorique"},{id:"animaux",name:"Animaux",icon:"",description:"Animaux mignons"},{id:"superheros",name:"Super-hros",icon:"",description:"Pouvoirs incroyables"},{id:"foret",name:"Fort Magique",icon:"",description:"Fort enchante"},{id:"ecole",name:"cole",icon:"",description:"Aventures scolaires"}],S=[{id:"3d",name:"3D",icon:"",description:"Effets 3D modernes"},{id:"cartoon",name:"Cartoon",icon:"",description:"Color et enfantin"},{id:"manga",name:"Manga",icon:"",description:"Style japonais"},{id:"comics",name:"Comics Marvel",icon:"",description:"Style amricain"},{id:"realistic",name:"Raliste",icon:"",description:"Dtaill et raliste"},{id:"watercolor",name:"Aquarelle",icon:"",description:"Doux et artistique"}],b=[1,2,3,4,5],A=async x=>{const w=x.target.files[0];if(w){g(!0);try{await f(w)}catch(N){console.error("Erreur upload:",N),alert("Erreur lors de l'upload de la photo")}finally{g(!1)}}};return c.jsxs("div",{className:"comics-selector",children:[c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"2. Choisissez un thme pour votre bande dessine"}),c.jsx("div",{className:"theme-grid",children:m.map(x=>c.jsxs("div",{className:"theme-slot",children:[c.jsxs(Fe.div,{className:`theme-card ${e===x.id?"selected":""} ${x.id==="custom"?"custom-theme":""}`,onClick:()=>t(e===x.id?null:x.id),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[c.jsx("div",{className:"theme-icon",children:x.icon}),c.jsx("div",{className:"theme-name",children:x.name}),c.jsx("div",{className:"theme-description",children:x.description})]}),x.id==="custom"&&e==="custom"&&c.jsx(Fe.div,{className:"custom-theme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{className:"custom-input",placeholder:"Dcrivez votre histoire personnalise... (ex: Une petite fille qui dcouvre un monde magique dans son jardin)",value:o,onChange:w=>a(w.target.value),rows:3})})]},x.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"3. Choisissez un style de dessin"}),c.jsx("div",{className:"style-grid",children:S.map(x=>c.jsxs(Fe.div,{className:`style-card ${n===x.id?"selected":""}`,onClick:()=>r(n===x.id?null:x.id),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[c.jsx("div",{className:"style-icon",children:x.icon}),c.jsx("div",{className:"style-name",children:x.name}),c.jsx("div",{className:"style-description",children:x.description})]},x.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"4. Nombre de pages"}),c.jsx("div",{className:"pages-selector",children:b.map(x=>c.jsxs(Fe.button,{className:`page-btn ${i===x?"selected":""}`,onClick:()=>s(i===x?null:x),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[x," ",x===1?"page":"pages",c.jsxs("span",{className:"cases-info",children:["(",x*4," cases)"]})]},x))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"5. Personnage principal (optionnel)"}),c.jsxs("div",{className:"character-upload-section",children:[c.jsx("p",{className:"character-description",children:"Uploadez une photo pour crer un personnage ressemblant ! L'IA analysera la photo et crera un personnage de BD similaire."}),c.jsxs("div",{className:"upload-area",children:[c.jsx("input",{type:"file",id:"character-photo-upload",accept:"image/*",onChange:A,className:"file-input",disabled:p}),!l&&c.jsx("label",{htmlFor:"character-photo-upload",className:"upload-label",children:p?c.jsxs("div",{className:"uploading-state",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{children:"Upload en cours..."})]}):c.jsxs("div",{className:"upload-prompt",children:[c.jsx("span",{className:"upload-icon",children:""}),c.jsxs("div",{className:"upload-text",children:[c.jsx("strong",{children:"Cliquez pour uploader une photo"}),c.jsx("span",{children:"ou glissez-dposez une image ici"})]})]})})]}),l&&c.jsxs("div",{className:"photo-preview",children:[c.jsx("img",{src:l.url,alt:"Personnage upload"}),c.jsxs("div",{className:"photo-actions",children:[c.jsx("button",{className:"change-photo-btn",onClick:()=>document.getElementById("character-photo-upload").click(),children:" Changer"}),c.jsx("button",{className:"remove-photo-btn",onClick:()=>d(null),children:" Retirer"})]})]})]})]})]})};const _k=({comic:e,onClose:t,baseUrl:n})=>{const[r,i]=T.useState(0),[s,o]=T.useState(!1);if(!e||!e.pages||e.pages.length===0)return null;const a=e.pages[r],l=e.pages.length,d=()=>{r<l-1&&i(r+1)},f=()=>{r>0&&i(r-1)},p=()=>{const S=`${n}${a.image_url}`,b=document.createElement("a");b.href=S;const A=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();b.download=`${A}_page_${r+1}.png`,document.body.appendChild(b),b.click(),document.body.removeChild(b)},g=()=>{e.pages.forEach((S,b)=>{setTimeout(()=>{const A=`${n}${S.image_url}`,x=document.createElement("a");x.href=A;const w=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();x.download=`${w}_page_${b+1}.png`,document.body.appendChild(x),x.click(),document.body.removeChild(x)},b*500)})},m=()=>{o(!s)};return c.jsx(Ur,{children:c.jsx(Fe.div,{className:"comics-popup-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(Fe.div,{className:`comics-popup-container ${s?"fullscreen":""}`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:S=>S.stopPropagation(),children:[c.jsxs("div",{className:"comics-popup-header",children:[c.jsxs("div",{className:"comic-title-section",children:[c.jsx("h2",{className:"comic-title",children:e.title}),c.jsx("p",{className:"comic-synopsis",children:e.synopsis}),c.jsxs("div",{className:"comic-meta",children:[c.jsxs("span",{className:"meta-item",children:[c.jsx("span",{className:"meta-icon",children:""}),e.art_style]}),c.jsxs("span",{className:"meta-item",children:[c.jsx("span",{className:"meta-icon",children:""}),l," ",l===1?"planche":"planches"]}),c.jsxs("span",{className:"meta-item",children:[c.jsx("span",{className:"meta-icon",children:""}),l*4," cases"]})]})]}),c.jsx("button",{className:"close-btn",onClick:t,children:""})]}),c.jsxs("div",{className:"comics-viewer",children:[c.jsx(Ur,{mode:"wait",children:c.jsxs(Fe.div,{className:"page-display",initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},children:[c.jsx("img",{src:`${n}${a.image_url}`,alt:`Planche ${r+1}`,className:"page-image",onClick:m}),c.jsxs("div",{className:"page-info",children:["Planche ",r+1," / ",l]})]},r)}),l>1&&c.jsxs("div",{className:"page-navigation",children:[c.jsx("button",{className:"nav-btn prev-btn",onClick:f,disabled:r===0,children:" Prcdent"}),c.jsx("div",{className:"page-dots",children:e.pages.map((S,b)=>c.jsx("button",{className:`page-dot ${b===r?"active":""}`,onClick:()=>i(b),"aria-label":`Aller  la planche ${b+1}`},b))}),c.jsx("button",{className:"nav-btn next-btn",onClick:d,disabled:r===l-1,children:"Suivant "})]})]}),c.jsxs("div",{className:"comics-actions",children:[c.jsxs("button",{className:"action-btn secondary-btn",onClick:m,children:[c.jsx("span",{className:"btn-icon",children:s?"":""}),s?"Rduire":"Plein cran"]}),c.jsxs("button",{className:"action-btn primary-btn",onClick:p,children:[c.jsx("span",{className:"btn-icon",children:""}),"Tlcharger cette planche"]}),l>1&&c.jsxs("button",{className:"action-btn primary-btn",onClick:g,children:[c.jsx("span",{className:"btn-icon",children:""}),"Tlcharger toutes les planches"]})]}),l>1&&c.jsxs("div",{className:"thumbnails-section",children:[c.jsx("h4",{children:"Toutes les planches"}),c.jsx("div",{className:"thumbnails-grid",children:e.pages.map((S,b)=>c.jsxs(Fe.div,{className:`thumbnail ${b===r?"active":""}`,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(b),children:[c.jsx("img",{src:`${n}${S.image_url}`,alt:`Miniature planche ${b+1}`}),c.jsxs("div",{className:"thumbnail-label",children:["Planche ",b+1]})]},b))})]})]})})})};var b4="clover",Ek=function(t){return t===3?"v3":t},S4="https://js.stripe.com",Tk="".concat(S4,"/").concat(b4,"/stripe.js"),Fk=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Ik=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,_5="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Rk=function(t){return Fk.test(t)||Ik.test(t)},Dk=function(){for(var t=document.querySelectorAll('script[src^="'.concat(S4,'"]')),n=0;n<t.length;n++){var r=t[n];if(Rk(r.src))return r}return null},E5=function(t){var n=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(Tk).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Mk=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.0.0",startTime:n})},pc=null,Td=null,Fd=null,Ok=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},Bk=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},zk=function(t){return pc!==null?pc:(pc=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(_5),window.Stripe){n(window.Stripe);return}try{var i=Dk();if(i&&t)console.warn(_5);else if(!i)i=E5(t);else if(i&&Fd!==null&&Td!==null){var s;i.removeEventListener("load",Fd),i.removeEventListener("error",Td),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=E5(t)}Fd=Bk(n,r),Td=Ok(r),i.addEventListener("load",Fd),i.addEventListener("error",Td)}catch(o){r(o);return}}),pc.catch(function(n){return pc=null,Promise.reject(n)}))},qk=function(t,n,r){if(t===null)return null;var i=n[0],s=i.match(/^pk_test/),o=Ek(t.version),a=b4;s&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.0.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,n);return Mk(l,r),l},mc,j4=!1,N4=function(){return mc||(mc=zk(null).catch(function(t){return mc=null,Promise.reject(t)}),mc)};Promise.resolve().then(function(){return N4()}).catch(function(e){j4||console.warn(e)});var A4=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];j4=!0;var i=Date.now();return N4().then(function(s){return qk(s,n,i)})},C4={exports:{}},Uk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Vk=Uk,$k=Vk;function P4(){}function L4(){}L4.resetWarningCache=P4;var Hk=function(){function e(r,i,s,o,a,l){if(l!==$k){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:L4,resetWarningCache:P4};return n.PropTypes=n,n};C4.exports=Hk();var Wk=C4.exports;const Ot=z5(Wk);function T5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T5(Object(n),!0).forEach(function(r){k4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rh=function(t){return typeof t}:rh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function k4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gk(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Kk(e,t){if(e==null)return{};var n=Gk(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _4(e,t){return Yk(e)||Jk(e,t)||Xk(e,t)||Qk()}function Yk(e){if(Array.isArray(e))return e}function Jk(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Xk(e,t){if(e){if(typeof e=="string")return I5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I5(e,t)}}function I5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cr=function(t,n,r){var i=!!r,s=Dt.useRef(r);Dt.useEffect(function(){s.current=r},[r]),Dt.useEffect(function(){if(!i||!t)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return t.on(n,o),function(){t.off(n,o)}},[i,n,t,s])},m1=function(t){var n=Dt.useRef(t);return Dt.useEffect(function(){n.current=t},[t]),n.current},yl=function(t){return t!==null&&rh(t)==="object"},Zk=function(t){return yl(t)&&typeof t.then=="function"},e_=function(t){return yl(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},R5="[object Object]",t_=function e(t,n){if(!yl(t)||!yl(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(t)===R5,o=Object.prototype.toString.call(n)===R5;if(s!==o)return!1;if(!s&&!r)return t===n;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(var d={},f=0;f<a.length;f+=1)d[a[f]]=!0;for(var p=0;p<l.length;p+=1)d[l[p]]=!0;var g=Object.keys(d);if(g.length!==a.length)return!1;var m=t,S=n,b=function(x){return e(m[x],S[x])};return g.every(b)},E4=function(t,n,r){return yl(t)?Object.keys(t).reduce(function(i,s){var o=!yl(n)||!t_(t[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?F5(F5({},i||{}),{},k4({},s,t[s])):i},null):null},T4="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",D5=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T4;if(t===null||e_(t))return t;throw new Error(n)},n_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T4;if(Zk(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return D5(i,n)})};var r=D5(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},r_=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.0.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.0.0",url:"https://stripe.com/docs/stripe-js/react"}))},pf=Dt.createContext(null);pf.displayName="ElementsContext";var F4=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},rg=function(t){var n=t.stripe,r=t.options,i=t.children,s=Dt.useMemo(function(){return n_(n)},[n]),o=Dt.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=_4(o,2),l=a[0],d=a[1];Dt.useEffect(function(){var g=!0,m=function(b){d(function(A){return A.stripe?A:{stripe:b,elements:b.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(S){S&&g&&m(S)}):s.tag==="sync"&&!l.stripe&&m(s.stripe),function(){g=!1}},[s,l,r]);var f=m1(n);Dt.useEffect(function(){f!==null&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[f,n]);var p=m1(r);return Dt.useEffect(function(){if(l.elements){var g=E4(r,p,["clientSecret","fonts"]);g&&l.elements.update(g)}},[r,p,l.elements]),Dt.useEffect(function(){r_(l.stripe)},[l.stripe]),Dt.createElement(pf.Provider,{value:l},i)};rg.propTypes={stripe:Ot.any,options:Ot.object};var i_=function(t){var n=Dt.useContext(pf);return F4(n,t)},I4=function(){var t=i_("calls useElements()"),n=t.elements;return n};Ot.func.isRequired;var R4=Dt.createContext(null);R4.displayName="CheckoutContext";Ot.any,Ot.shape({clientSecret:Ot.oneOfType([Ot.string,Ot.instanceOf(Promise)]).isRequired,elementsOptions:Ot.object}).isRequired;var g1=function(t){var n=Dt.useContext(R4),r=Dt.useContext(pf);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return F4(r,t)},s_=["mode"],o_=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Lr=function(t,n){var r="".concat(o_(t),"Element"),i=function(l){var d=l.id,f=l.className,p=l.options,g=p===void 0?{}:p,m=l.onBlur,S=l.onFocus,b=l.onReady,A=l.onChange,x=l.onEscape,w=l.onClick,N=l.onLoadError,R=l.onLoaderStart,q=l.onNetworksChange,V=l.onConfirm,I=l.onCancel,F=l.onShippingAddressChange,Y=l.onShippingRateChange,X=l.onSavedPaymentMethodRemove,E=l.onSavedPaymentMethodUpdate,O=g1("mounts <".concat(r,">")),Q="elements"in O?O.elements:null,H="checkoutState"in O?O.checkoutState:null,de=(H==null?void 0:H.type)==="success"||(H==null?void 0:H.type)==="loading"?H.sdk:null,ae=Dt.useState(null),le=_4(ae,2),W=le[0],ie=le[1],J=Dt.useRef(null),me=Dt.useRef(null);cr(W,"blur",m),cr(W,"focus",S),cr(W,"escape",x),cr(W,"click",w),cr(W,"loaderror",N),cr(W,"loaderstart",R),cr(W,"networkschange",q),cr(W,"confirm",V),cr(W,"cancel",I),cr(W,"shippingaddresschange",F),cr(W,"shippingratechange",Y),cr(W,"savedpaymentmethodremove",X),cr(W,"savedpaymentmethodupdate",E),cr(W,"change",A);var C;b&&(t==="expressCheckout"?C=b:C=function(){b(W)}),cr(W,"ready",C),Dt.useLayoutEffect(function(){if(J.current===null&&me.current!==null&&(Q||de)){var z=null;if(de)switch(t){case"payment":z=de.createPaymentElement(g);break;case"address":if("mode"in g){var K=g.mode,Z=Kk(g,s_);if(K==="shipping")z=de.createShippingAddressElement(Z);else if(K==="billing")z=de.createBillingAddressElement(Z);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":z=de.createExpressCheckoutElement(g);break;case"currencySelector":z=de.createCurrencySelectorElement();break;case"taxId":z=de.createTaxIdElement(g);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else Q&&(z=Q.create(t,g));J.current=z,ie(z),z&&z.mount(me.current)}},[Q,de,g]);var B=m1(g);return Dt.useEffect(function(){if(J.current){var z=E4(g,B,["paymentRequest"]);z&&"update"in J.current&&J.current.update(z)}},[g,B]),Dt.useLayoutEffect(function(){return function(){if(J.current&&typeof J.current.destroy=="function")try{J.current.destroy(),J.current=null}catch{}}},[]),Dt.createElement("div",{id:d,className:f,ref:me})},s=function(l){g1("mounts <".concat(r,">"));var d=l.id,f=l.className;return Dt.createElement("div",{id:d,className:f})},o=n?s:i;return o.propTypes={id:Ot.string,className:Ot.string,onChange:Ot.func,onBlur:Ot.func,onFocus:Ot.func,onReady:Ot.func,onEscape:Ot.func,onClick:Ot.func,onLoadError:Ot.func,onLoaderStart:Ot.func,onNetworksChange:Ot.func,onConfirm:Ot.func,onCancel:Ot.func,onShippingAddressChange:Ot.func,onShippingRateChange:Ot.func,onSavedPaymentMethodRemove:Ot.func,onSavedPaymentMethodUpdate:Ot.func,options:Ot.object},o.displayName=r,o.__elementType=t,o},kr=typeof window>"u",a_=Dt.createContext(null);a_.displayName="EmbeddedCheckoutProviderContext";var D4=function(){var t=g1("calls useStripe()"),n=t.stripe;return n};Lr("auBankAccount",kr);var M5=Lr("card",kr),O5=Lr("cardNumber",kr),l_=Lr("cardExpiry",kr),c_=Lr("cardCvc",kr);Lr("iban",kr);Lr("payment",kr);Lr("expressCheckout",kr);Lr("paymentRequestButton",kr);Lr("linkAuthentication",kr);Lr("address",kr);Lr("shippingAddress",kr);Lr("paymentMethodMessaging",kr);Lr("taxId",kr);const u_={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_STRIPE_PUBLISHABLE_KEY&&typeof{}.VITE_STRIPE_PUBLISHABLE_KEY=="string"&&{}.VITE_STRIPE_PUBLISHABLE_KEY.length>0?A4({}.VITE_STRIPE_PUBLISHABLE_KEY):Promise.resolve(null),d_=({contentType:e,userId:t,userEmail:n,onSuccess:r,onCancel:i,priceInfo:s})=>{const o=D4(),a=I4(),[l,d]=T.useState(!1);if(!o)return c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-red-600 font-medium mb-4",children:"Configuration Stripe manquante"}),c.jsx("div",{className:"text-gray-600 text-sm",children:"Le systme de paiement n'est pas encore configur. Veuillez utiliser le systme pay-per-use classique."}),c.jsx("button",{onClick:i,className:"mt-4 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors duration-200",children:"Fermer"})]});const[f,p]=T.useState(null),[g,m]=T.useState(""),[S,b]=T.useState("");T.useEffect(()=>{o&&(async()=>{try{const{data:N,error:R}=await bt.functions.invoke("create-payment",{body:{contentType:e,userId:t,userEmail:n,amount:s.amount,selectedDuration,numPages,selectedVoice}});if(R)throw console.error("Erreur Edge Function:",R),new Error("Erreur lors de la cration du paiement");if(!N.client_secret)throw new Error("Client secret manquant dans la rponse");m(N.client_secret)}catch(N){console.error(" Erreur cration Payment Intent:",N),p(N.message||"Erreur lors de l'initialisation du paiement")}})()},[e,s.amount,t,n,o]);const A=async w=>{if(w.preventDefault(),!o||!a){p("Stripe n'est pas encore charg. Veuillez patienter.");return}const N=a.getElement(O5);if(!N){p("lment numro de carte non trouv");return}d(!0),p(null);try{if(console.log(" Traitement paiement Stripe pour:",{contentType:e,userId:t,userEmail:n,amount:s.amount}),!S.trim())throw new Error("Veuillez saisir le nom du titulaire de la carte");const{error:R,paymentIntent:q}=await o.confirmCardPayment(g,{payment_method:{card:N,billing_details:{name:S.trim(),email:n}},return_url:window.location.origin});if(R)throw console.error("Erreur Stripe:",R),new Error(R.message||"Erreur lors du paiement");if(q.status==="succeeded"){console.log(" Paiement Stripe russi:",q);try{await f4(t,e,q.id,s.amount/100)}catch(V){console.error("Erreur lors de l'enregistrement de la permission:",V)}r({success:!0,contentType:e,amount:s.amount/100,paymentIntentId:q.id,stripePayment:!0})}else throw q.status==="requires_action"?new Error("Authentification supplmentaire requise. Veuillez ressayer."):new Error("Paiement non finalis. Veuillez vrifier votre carte.")}catch(R){console.error(" Erreur paiement Stripe:",R),p(R.message||"Erreur lors du paiement. Veuillez ressayer.")}finally{d(!1)}},x={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased"},invalid:{color:"#9e2146"}}};return c.jsxs("form",{onSubmit:A,className:"payment-form",children:[c.jsxs("div",{className:"payment-summary",children:[c.jsx("h3",{children:"Rcapitulatif de votre commande"}),c.jsxs("div",{className:"order-item",children:[c.jsx("span",{className:"item-name",children:s.name}),c.jsx("span",{className:"item-price",children:s.display})]}),c.jsxs("div",{className:"order-total",children:[c.jsx("span",{className:"total-label",children:"Total  payer :"}),c.jsx("span",{className:"total-amount",children:s.display})]})]}),c.jsxs("div",{className:"payment-method",children:[c.jsx("h3",{children:"Informations de paiement"}),c.jsxs("div",{className:"card-field",children:[c.jsx("label",{htmlFor:"cardholder-name",children:"Nom du titulaire"}),c.jsx("input",{id:"cardholder-name",type:"text",placeholder:"Jean Dupont",className:"card-input",value:S,onChange:w=>b(w.target.value),required:!0})]}),c.jsxs("div",{className:"card-field",children:[c.jsx("label",{children:"Numro de carte"}),c.jsx("div",{className:"card-element-container",children:c.jsx(O5,{options:x,className:"card-element"})})]}),c.jsxs("div",{className:"card-row",children:[c.jsxs("div",{className:"card-field",children:[c.jsx("label",{children:"Date d'expiration"}),c.jsx("div",{className:"card-element-container small",children:c.jsx(l_,{options:x,className:"card-element"})})]}),c.jsxs("div",{className:"card-field",children:[c.jsx("label",{children:"Code de scurit (CVC)"}),c.jsx("div",{className:"card-element-container small",children:c.jsx(c_,{options:x,className:"card-element"})})]})]})]}),f&&c.jsxs("div",{className:"payment-error",children:[c.jsx("span",{className:"error-icon",children:""}),f]}),c.jsxs("div",{className:"payment-actions",children:[c.jsx("button",{type:"button",onClick:i,className:"cancel-button",disabled:l,children:"Annuler"}),c.jsx("button",{type:"submit",className:"pay-button",disabled:!o||l,children:l?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"loading-spinner"}),"Traitement en cours..."]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"lock-icon",children:""}),"Payer ",s.display]})})]}),c.jsx("div",{className:"payment-security",children:c.jsxs("div",{className:"security-info",children:[c.jsx("span",{className:"security-icon",children:""}),c.jsx("small",{children:"Paiement scuris par Stripe"})]})})]})},h_=({contentType:e,selectedDuration:t,numPages:n,selectedVoice:r,userId:i,userEmail:s,onSuccess:o,onCancel:a})=>{let l={};e==="animation"?l.duration=t:(e==="comic"||e==="bd")&&(l.pages=n||1);const d=ff(e,l),f=p=>{p.target===p.currentTarget&&a()};return T.useEffect(()=>{setTimeout(()=>{const g=document.querySelector(".stripe-payment-modal");g&&(g.style.overflowY="scroll",g.style.scrollbarWidth="auto",g.style.scrollbarColor="#6B4EFF transparent",g.style.setProperty("overflow-y","scroll","important"),g.style.setProperty("-webkit-overflow-scrolling","touch","important"))},100)},[]),c.jsx("div",{className:"payment-modal-overlay",onClick:f,children:c.jsxs(Fe.div,{className:"payment-modal stripe-payment-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},children:[c.jsxs("div",{className:"payment-header",children:[c.jsx("h2",{children:" Paiement scuris"}),c.jsx("button",{className:"close-button",onClick:a,"aria-label":"Fermer",children:""})]}),c.jsx(rg,{stripe:u_,children:c.jsx(d_,{contentType:e,userId:i,userEmail:s,onSuccess:o,onCancel:a,priceInfo:d})})]})})},f_={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_STRIPE_PUBLISHABLE_KEY&&typeof{}.VITE_STRIPE_PUBLISHABLE_KEY=="string"&&{}.VITE_STRIPE_PUBLISHABLE_KEY.length>0?A4({}.VITE_STRIPE_PUBLISHABLE_KEY):Promise.resolve(null),p_=({onSelectPlan:e,currentSubscription:t})=>{const[n,r]=T.useState([]),[i,s]=T.useState(!0);T.useEffect(()=>{o()},[]);const o=async()=>{try{const l=await p4();r(l)}catch(l){console.error("Erreur chargement plans:",l)}finally{s(!1)}},a=l=>({Dcouverte:{tokens:"50 tokens/mois",features:["Histoires & Audio: 3 tokens","Coloriages: 2 tokens","BD: 4 tokens/page","Comptines: 5 tokens","Animations: 10 tokens"],ideal:"Parfait pour dcouvrir Herbbie"},Famille:{tokens:"150 tokens/mois",features:["Histoires & Audio: 3 tokens","Coloriages: 2 tokens","BD: 3 tokens/page","Comptines: 4 tokens","Animations: 8 tokens"],ideal:"Pour les familles actives"},Cratif:{tokens:"400 tokens/mois",features:["Histoires & Audio: 2 tokens","Coloriages: 1 token","BD: 2 tokens/page","Comptines: 3 tokens","Animations: 5 tokens"],ideal:"Pour les crateurs intensifs"},Institut:{tokens:"1,200 tokens/mois",features:["Histoires & Audio: 1 token","Coloriages: 1 token","BD: 1 token/page","Comptines: 2 tokens","Animations: 3 tokens"],ideal:"Pour les coles et institutions"}})[l]||{};return i?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map(l=>{var p,g;const d=a(l.name),f=((p=t==null?void 0:t.subscription_plans)==null?void 0:p.name)===l.name;return c.jsxs(Fe.div,{className:`relative bg-white rounded-xl p-6 border-2 transition-all duration-300 ${f?"border-violet-500 shadow-lg shadow-violet-200":"border-gray-200 hover:border-violet-300 hover:shadow-md"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[f&&c.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:c.jsx("span",{className:"bg-violet-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Plan actuel"})}),c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:l.name}),c.jsxs("div",{className:"text-3xl font-bold text-violet-600 mb-1",children:[(l.price_monthly/100).toFixed(2).replace(".",","),""]}),c.jsx("div",{className:"text-sm text-gray-500",children:"par mois"}),c.jsx("div",{className:"text-lg font-semibold text-gray-700 mt-2",children:d.tokens})]}),c.jsx("div",{className:"space-y-2 mb-6",children:(g=d.features)==null?void 0:g.map((m,S)=>c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx("span",{className:"text-green-500 mr-2",children:""}),m]},S))}),c.jsx("div",{className:"text-center mb-4",children:c.jsx("div",{className:"text-xs text-gray-500 italic",children:d.ideal})}),!f&&c.jsx("button",{onClick:()=>e(l),className:"w-full bg-violet-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-violet-700 transition-colors duration-200",children:"Choisir ce plan"}),f&&c.jsx("div",{className:"w-full bg-gray-100 text-gray-600 py-3 px-4 rounded-lg font-medium text-center",children:"Plan actif"})]},l.id)})})},m_=({selectedPlan:e,onSuccess:t,onCancel:n,userId:r,userEmail:i})=>{const s=D4(),o=I4(),[a,l]=T.useState(!1),[d,f]=T.useState(""),[p,g]=T.useState(null);if(!s)return c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-red-600 font-medium mb-4",children:"Configuration Stripe manquante"}),c.jsx("div",{className:"text-gray-600 text-sm",children:"Le systme de paiement n'est pas encore configur. Veuillez ressayer plus tard."}),c.jsx("button",{onClick:n,className:"mt-4 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors duration-200",children:"Fermer"})]});const m=async b=>{if(b.preventDefault(),!s||!o){g("Stripe n'est pas charg");return}if(!d.trim()){g("Le nom du titulaire de la carte est requis");return}l(!0),g(null);try{const A=o.getElement(M5),{error:x,paymentMethod:w}=await s.createPaymentMethod({type:"card",card:A,billing_details:{name:d.trim(),email:i}});if(x){g(x.message);return}const N=await g4(e.id,r,w.id,i);if(N.success){if(N.clientSecret){const{error:R}=await s.confirmCardPayment(N.clientSecret);if(R){g(R.message);return}}t()}else g(N.error||"Erreur lors de la cration de l'abonnement")}catch(A){console.error("Erreur abonnement:",A),g("Erreur lors de la cration de l'abonnement")}finally{l(!1)}},S={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},fontFamily:"Inter, system-ui, sans-serif"},invalid:{color:"#9e2146"}}};return c.jsxs("form",{onSubmit:m,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["S'abonner  ",e.name]}),c.jsxs("div",{className:"bg-violet-50 p-4 rounded-lg mb-6",children:[c.jsxs("div",{className:"text-lg font-semibold text-violet-800",children:[(e.price_monthly/100).toFixed(2).replace(".",","),"/mois"]}),c.jsx("div",{className:"text-sm text-violet-600",children:"Factur mensuellement  Annulable  tout moment"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du titulaire de la carte"}),c.jsx("input",{type:"text",value:d,onChange:b=>f(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500",placeholder:"Jean Dupont",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Informations de carte bancaire"}),c.jsx("div",{className:"border border-gray-300 rounded-md p-3 focus-within:ring-2 focus-within:ring-violet-500 focus-within:border-violet-500",children:c.jsx(M5,{options:S})})]}),p&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:c.jsx("div",{className:"text-red-800 text-sm",children:p})}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{type:"button",onClick:n,className:"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors duration-200",disabled:a,children:"Annuler"}),c.jsx("button",{type:"submit",className:"flex-1 bg-violet-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-violet-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:a||!s,children:a?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Traitement..."]}):`S'abonner pour ${(e.price_monthly/100).toFixed(2).replace(".",",")}/mois`})]}),c.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Vos informations de paiement sont scurises et cryptes. Vous pouvez annuler votre abonnement  tout moment."})]})},g_=({subscription:e,onCancel:t,onClose:n})=>{const[r,i]=T.useState(!1),[s,o]=T.useState(null);T.useEffect(()=>{a()},[]);const a=async()=>{try{const{totalTokens:f}=await y4(e.user_id);o({totalTokens:f})}catch(f){console.error("Erreur chargement tokens:",f)}},l=async()=>{if(confirm("tes-vous sr de vouloir annuler votre abonnement ? Il restera actif jusqu' la fin de la priode en cours.")){i(!0);try{await v4(e.user_id),alert("Votre abonnement a t annul. Il restera actif jusqu' la fin de la priode en cours."),t()}catch(f){console.error("Erreur annulation:",f),alert("Erreur lors de l'annulation de l'abonnement")}finally{i(!1)}}},d=f=>new Date(f).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gestion de l'abonnement"}),c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[c.jsxs("div",{className:"text-green-800 font-medium",children:["Plan ",e.subscription_plans.name," actif"]}),c.jsxs("div",{className:"text-green-600 text-sm mt-1",children:["Prochaine facturation: ",d(e.current_period_end)]})]})]}),s&&c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsxs("div",{className:"text-blue-800 font-medium",children:["Tokens disponibles: ",s.totalTokens]}),c.jsxs("div",{className:"text-blue-600 text-sm mt-1",children:["Tokens utiliss ce mois: ",e.tokens_used_this_month||0]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Dtails de l'abonnement"}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[c.jsxs("div",{children:["Prix: ",(e.subscription_plans.price_monthly/100).toFixed(2).replace(".",","),"/mois"]}),c.jsxs("div",{children:["Dbut de priode: ",d(e.current_period_start)]}),c.jsxs("div",{children:["Fin de priode: ",d(e.current_period_end)]}),c.jsxs("div",{children:["Status: ",e.status==="active"?"Actif":e.status]})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:n,className:"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors duration-200",children:"Fermer"}),c.jsx("button",{onClick:l,className:"flex-1 bg-red-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r||e.cancel_at_period_end,children:r?"Annulation...":"Annuler l'abonnement"})]}),e.cancel_at_period_end&&c.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:c.jsxs("div",{className:"text-orange-800 text-sm",children:[" Votre abonnement sera annul le ",d(e.current_period_end)]})})]})},v_=({isOpen:e,onClose:t,userId:n,userEmail:r})=>{const[i,s]=T.useState("plans"),[o,a]=T.useState(null),[l,d]=T.useState(null),[f,p]=T.useState(!0);T.useEffect(()=>{e&&n&&g()},[e,n]);const g=async()=>{try{const x=await m4(n);d(x)}catch(x){console.error("Erreur chargement abonnement:",x)}finally{p(!1)}},m=x=>{a(x),s("payment")},S=()=>{s("plans"),a(null),g(),alert(" Flicitations ! Votre abonnement a t activ avec succs.")},b=()=>{s("plans"),a(null)},A=()=>{s("plans"),a(null),t()};return e?c.jsx(Ur,{children:c.jsx(Fe.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsx(Fe.div,{className:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{scrollbarWidth:"thin",scrollbarColor:"rgba(107, 78, 255, 0.3) transparent"},children:c.jsxs("div",{className:"p-6 md:p-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:l?"Mon abonnement":"Choisir un abonnement"}),c.jsx("button",{onClick:A,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),f?c.jsx("div",{className:"flex justify-center items-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"})}):c.jsxs(c.Fragment,{children:[i==="plans"&&c.jsx(p_,{onSelectPlan:m,currentSubscription:l}),i==="payment"&&o&&c.jsx(rg,{stripe:f_,children:c.jsx(m_,{selectedPlan:o,onSuccess:S,onCancel:b,userId:n,userEmail:r})}),i==="management"&&l&&c.jsx(g_,{subscription:l,onCancel:g,onClose:A}),l&&i==="plans"&&c.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:c.jsx("div",{className:"text-center",children:c.jsx("button",{onClick:()=>s("management"),className:"bg-violet-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-violet-700 transition-colors duration-200",children:"Grer mon abonnement"})})})]})]})})})}):null};const y_=({onLegalClick:e})=>c.jsx("footer",{className:"app-footer",children:c.jsxs("div",{className:"footer-content",children:[c.jsx("div",{className:"ai-notice",children:c.jsx("p",{children:"Les crations sont gnres par IA et peuvent contenir des erreurs."})}),c.jsxs("div",{className:"footer-links",children:[c.jsx("button",{className:"footer-link",onClick:()=>e("mentions"),children:"Mentions lgales"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("privacy"),children:"Confidentialit"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("cookies"),children:"Cookies"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("terms"),children:"CGU"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("contact"),children:"Contact"})]}),c.jsx("div",{className:"footer-info",children:c.jsxs("p",{children:[" ",new Date().getFullYear()," HERBBIE"]})})]})});const x_=({onClose:e,initialSection:t="mentions"})=>{const[n,r]=T.useState(t),[i,s]=T.useState({firstName:"",lastName:"",email:"",subject:"",message:""}),[o,a]=T.useState(!1),[l,d]=T.useState(""),f=[{id:"mentions",title:"Mentions Lgales",icon:""},{id:"privacy",title:"Confidentialit",icon:""},{id:"cookies",title:"Cookies",icon:""},{id:"terms",title:"Conditions d'utilisation",icon:""},{id:"contact",title:"Contact",icon:""}],p=()=>{switch(n){case"mentions":return g();case"privacy":return m();case"cookies":return S();case"terms":return b();case"contact":return w();default:return g()}},g=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Mentions Lgales"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Hbergement"}),c.jsxs("div",{className:"info-block",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Hbergeur :"})," Railway"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Adresse :"})," Railway, 1 Sentry Way, San Francisco, CA 94103, tats-Unis"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Site web :"})," ",c.jsx("a",{href:"https://railway.app",target:"_blank",rel:"noopener noreferrer",children:"railway.app"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Proprit intellectuelle"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"L'ensemble du contenu de ce site (textes, images, vidos, lments graphiques, logos, icnes, sons, logiciels) est la proprit exclusive de HERBBIE ou de ses partenaires, sauf mention contraire."}),c.jsx("p",{children:"Toute reproduction, distribution, modification ou exploitation commerciale, mme partielle, sans autorisation pralable crite de HERBBIE est strictement interdite et constituerait une contrefaon sanctionne par les articles L.335-2 et suivants du Code de la proprit intellectuelle."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Responsabilit"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'efforce d'assurer l'exactitude et la mise  jour des informations diffuses sur ce site, dont elle se rserve le droit de corriger,  tout moment et sans pravis, le contenu."}),c.jsx("p",{children:"Toutefois, HERBBIE ne peut garantir l'exactitude, la prcision ou l'exhaustivit des informations mises  disposition sur ce site. En consquence, HERBBIE dcline toute responsabilit :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Pour toute imprcision, inexactitude ou omission portant sur des informations disponibles sur le site"}),c.jsx("li",{children:"Pour tous dommages rsultant d'une intrusion frauduleuse d'un tiers ayant entran une modification des informations mises  disposition sur le site"}),c.jsx("li",{children:"Et plus gnralement pour tous dommages, directs ou indirects, quelles qu'en soient les causes, origines, natures ou consquences, provoqus  raison de l'accs de quiconque au site ou de l'impossibilit d'y accder"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Donnes personnelles"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Conformment  la loi n78-17 du 6 janvier 1978 relative  l'informatique, aux fichiers et aux liberts, vous disposez d'un droit d'accs, de rectification et de suppression des donnes vous concernant."}),c.jsxs("p",{children:["Pour exercer ce droit, vous pouvez nous contacter par email  l'adresse : ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Le site HERBBIE utilise des cookies pour amliorer votre exprience utilisateur et raliser des statistiques de visite."}),c.jsx("p",{children:"Conformment  la rglementation, vous pouvez refuser le dpt de cookies en configurant votre navigateur."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"diteur du site"}),c.jsxs("div",{className:"info-block personal-data",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Dnomination sociale :"})," ",c.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Forme juridique :"})," ",c.jsx("span",{className:"protect-personal-info",children:"Auto-entreprise (en cours d'immatriculation)"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Adresse du sige social :"})," ",c.jsx("span",{className:"address-protected personal-data",children:"10 bis rue Flix Arnaudin, 40100 Dax"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Numro SIRET :"})," ",c.jsx("span",{className:"protect-personal-info",children:"En cours d'attribution"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Directeur de la publication :"})," ",c.jsx("span",{className:"name-protected personal-data",children:"Adrien Gaulin"})]})]})]})]}),m=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Politique de Confidentialit"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Collecte des donnes personnelles"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Lors de votre utilisation du service HERBBIE, nous pouvons collecter les informations suivantes :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de compte :"})," adresse email, nom d'utilisateur (si inscription)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes d'utilisation :"})," historique des crations, prfrences, statistiques d'usage"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes techniques :"})," adresse IP, type de navigateur, systme d'exploitation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contenu gnr :"})," les crations ralises via notre service (histoires, coloriages, etc.)"]})]}),c.jsx("p",{children:"La collecte de ces donnes est ncessaire pour :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fournir nos services de gnration de contenu cratif"}),c.jsx("li",{children:"Amliorer la qualit de nos services"}),c.jsx("li",{children:"Assurer la scurit de la plateforme"}),c.jsx("li",{children:"Respecter nos obligations lgales"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Utilisation des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les donnes collectes sont utilises pour :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fournir le service :"})," gnration de contenu personnalis, sauvegarde des crations"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Amlioration :"})," analyse des usages pour optimiser l'exprience utilisateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Communication :"})," envoi d'informations relatives au service, support client"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," dtection et prvention des fraudes et activits malveillantes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Obligations lgales :"})," conservation des donnes requises par la loi"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Partage des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'engage  ne pas vendre, louer ou commercialiser vos donnes personnelles."}),c.jsx("p",{children:"Les donnes peuvent tre partages uniquement dans les cas suivants :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fournisseurs de services :"})," hbergeurs, prestataires techniques (sous contrat de confidentialit)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Obligations lgales :"})," sur demande des autorits comptentes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Protection des droits :"})," en cas de litige ou contentieux"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Conservation des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les donnes sont conserves pendant la dure ncessaire aux finalits pour lesquelles elles ont t collectes :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de compte :"})," tant que le compte est actif + 3 ans aprs inactivation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes d'utilisation :"})," 2 ans  compter de la collecte"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contenu gnr :"})," tant que le compte est actif"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de facturation :"})," 10 ans (obligation lgale)"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Scurit des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE met en uvre des mesures techniques et organisationnelles appropries pour protger vos donnes personnelles contre :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"L'accs non autoris"}),c.jsx("li",{children:"L'utilisation illgitime"}),c.jsx("li",{children:"La perte ou destruction accidentelle"}),c.jsx("li",{children:"Toute forme de traitement illicite"})]}),c.jsx("p",{children:"Ces mesures incluent le chiffrement des donnes, des contrles d'accs stricts et des audits rguliers de scurit."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Vos droits"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Conformment au RGPD, vous disposez des droits suivants :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Droit d'accs :"})," demander l'accs  vos donnes personnelles"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit de rectification :"})," demander la correction de donnes inexactes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  l'effacement :"})," demander la suppression de vos donnes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  la limitation :"})," demander la limitation du traitement"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  la portabilit :"})," demander la rcupration de vos donnes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit d'opposition :"})," vous opposer au traitement de vos donnes"]})]}),c.jsxs("p",{children:["Pour exercer ces droits, contactez-nous  : ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Cookies et technologies similaires"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE utilise uniquement des cookies strictement essentiels au fonctionnement du service :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Maintien de votre connexion et scurit"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Mmorisation de votre identit"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de scurit :"})," Protection contre les menaces"]})]}),c.jsx("h4",{children:"Stockage et scurit des cookies :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Emplacement :"})," Stocks localement dans le navigateur (localStorage)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Dure de vie :"})," Sessions temporaires (supprims  la dconnexion)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," Chiffrs et protgs contre les attaques CSRF"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Serveur :"})," Gestion automatique par Supabase avec scurit renforce"]})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Note :"})," Aucun cookie de fonctionnalit, analytique, de personnalisation ou publicitaire n'est utilis."]}),c.jsx("p",{children:"Les cookies essentiels sont automatiquement grs et exempts de consentement selon le RGPD."})]})]})]}),S=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Politique des Cookies"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Qu'est-ce qu'un cookie ?"}),c.jsx("div",{className:"info-block",children:c.jsx("p",{children:"Un cookie est un petit fichier texte dpos sur votre terminal (ordinateur, tablette, smartphone) lors de la visite d'un site internet. Il permet de stocker des informations relatives  votre navigation et d'amliorer votre exprience utilisateur."})})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Cookies utiliss par HERBBIE"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:c.jsx("strong",{children:"Conformment  la rglementation RGPD, HERBBIE utilise uniquement des cookies strictement essentiels ncessaires au fonctionnement du service."})}),c.jsx("h4",{children:"Cookies essentiels (obligatoires) :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Maintien de votre connexion et scurit pendant votre visite"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Mmorisation de votre identit pour viter de vous reconnecter"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de scurit :"})," Protection contre les attaques CSRF et autres menaces"]})]}),c.jsxs("div",{className:"alert alert-info",children:[c.jsx("strong",{children:"Note :"})," Aucun cookie de fonctionnalit, analytique, de personnalisation ou publicitaire n'est utilis sur ce site."]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Gestion des cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les cookies essentiels utiliss par HERBBIE sont automatiquement grs et ne ncessitent pas d'action de votre part."}),c.jsx("h4",{children:"Via votre navigateur :"}),c.jsx("p",{children:"Si vous souhaitez supprimer les cookies essentiels (ce qui peut affecter le fonctionnement du site) :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Chrome :"})," Paramtres  Confidentialit et scurit  Cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Firefox :"})," Prfrences  Vie prive et scurit  Cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Safari :"})," Prfrences  Confidentialit  Grer les cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Edge :"})," Paramtres  Cookies et autorisations de site"]})]}),c.jsx("h4",{children:"Dure de conservation :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Supprims automatiquement  la fermeture du navigateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Conservs pendant votre session active (maximum 24h)"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Finalits des cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE utilise uniquement des cookies essentiels pour :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fonctionnement du service :"})," Maintien de la session utilisateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," Scurisation des transactions et protection contre les menaces"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Prfrences essentielles :"})," Mmorisation des paramtres de base (langue)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Performance :"})," Optimisation du fonctionnement du site"]})]}),c.jsxs("div",{className:"alert alert-info",children:[c.jsx("strong",{children:"Note :"})," Aucun cookie n'est utilis pour l'analyse d'audience, le suivi utilisateur ou la personnalisation avance."]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Cookies tiers"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE n'utilise pas de cookies tiers pour l'analyse, le suivi ou la publicit."}),c.jsx("p",{children:"Les services externes utiliss (comme les APIs d'IA) ne dposent pas de cookies sur votre navigateur."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Consentement"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:c.jsx("strong",{children:"Conformment  la rglementation RGPD, les cookies essentiels utiliss par HERBBIE ne ncessitent pas de consentement explicite car ils sont strictement ncessaires au fonctionnement du service."})}),c.jsx("p",{children:"Ces cookies sont automatiquement activs pour garantir la scurit et le bon fonctionnement du site."}),c.jsx("p",{children:"Note : La dsactivation de ces cookies essentiels peut gravement affecter le fonctionnement du service."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Mise  jour"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Cette politique des cookies peut tre mise  jour rgulirement pour reflter les volutions de nos services ou de la rglementation."}),c.jsx("p",{children:"La date de dernire modification est indique en bas de cette page."}),c.jsx("p",{children:"En cas de modification substantielle, nous vous en informerons via une notification sur le site."})]})]})]}),b=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Conditions d'utilisation"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Objet du service"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE est une plateforme de gnration de contenu cratif destine aux enfants, utilisant l'intelligence artificielle pour crer :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Des histoires personnalises et ducatives"}),c.jsx("li",{children:"Des coloriages et activits cratives"}),c.jsx("li",{children:"Du contenu pdagogique adapt  chaque ge"}),c.jsx("li",{children:"Des expriences d'apprentissage ludiques"})]}),c.jsx("p",{children:"Le service est conu pour stimuler l'imagination et la crativit des enfants de manire scurise et ducative."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Conditions d'accs"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"ge minimum :"}),c.jsx("p",{children:"Le service HERBBIE est accessible aux enfants de tous ges. Pour les enfants de moins de 13 ans, l'utilisation doit se faire sous la supervision d'un adulte responsable."}),c.jsx("h4",{children:"Inscription :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Les utilisateurs peuvent crer un compte gratuit"}),c.jsx("li",{children:"L'inscription ncessite une adresse email valide"}),c.jsx("li",{children:"Les mots de passe doivent tre scuriss"}),c.jsx("li",{children:"Une seule inscription par personne est autorise"})]}),c.jsx("h4",{children:"Utilisation acceptable :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Respect des autres utilisateurs"}),c.jsx("li",{children:"Utilisation dans un cadre ducatif et ludique"}),c.jsx("li",{children:"Interdiction de gnrer du contenu inappropri"}),c.jsx("li",{children:"Respect des droits d'auteur et proprit intellectuelle"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Services et fonctionnalits"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Services gratuits :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Accs  un nombre limit de gnration par jour"}),c.jsx("li",{children:"Fonctionnalits de base de cration de contenu"}),c.jsx("li",{children:"Sauvegarde des crations pendant 30 jours"}),c.jsx("li",{children:"Support communautaire"})]}),c.jsx("h4",{children:"Services premium (optionnels) :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Gnrations illimites"}),c.jsx("li",{children:"Sauvegarde permanente des crations"}),c.jsx("li",{children:"Fonctionnalits avances"}),c.jsx("li",{children:"Support prioritaire"}),c.jsx("li",{children:"Contenu personnalis avanc"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Rgles de conduite"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Interdictions :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Gnrer du contenu violent, haineux ou inappropri"}),c.jsx("li",{children:"Utiliser le service pour harceler ou intimider"}),c.jsx("li",{children:"Tenter de contourner les limitations techniques"}),c.jsx("li",{children:"Partager des informations personnelles d'autrui"}),c.jsx("li",{children:"Utiliser le service  des fins commerciales sans autorisation"}),c.jsx("li",{children:"Copier ou reproduire le contenu gnr par d'autres utilisateurs"})]}),c.jsx("h4",{children:"Obligations des utilisateurs :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fournir des informations exactes lors de l'inscription"}),c.jsx("li",{children:"Respecter les droits d'auteur et la proprit intellectuelle"}),c.jsx("li",{children:"Signaler tout contenu inappropri"}),c.jsx("li",{children:"Maintenir la confidentialit de leurs identifiants"}),c.jsx("li",{children:"Utiliser le service de manire responsable"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Proprit intellectuelle"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Contenu gnr :"}),c.jsx("p",{children:"Le contenu cr via HERBBIE appartient  l'utilisateur qui l'a gnr. L'utilisateur peut :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Tlcharger et utiliser ses crations  des fins personnelles"}),c.jsx("li",{children:"Partager ses crations dans un cadre familial ou ducatif"}),c.jsx("li",{children:"Modifier ses propres crations"})]}),c.jsx("h4",{children:"Plateforme HERBBIE :"}),c.jsx("p",{children:"Tous les lments de la plateforme (interface, algorithmes, design, etc.) restent la proprit exclusive de HERBBIE."}),c.jsx("h4",{children:"Contenu tiers :"}),c.jsx("p",{children:"Certains lments peuvent tre soumis  des licences tierces (polices, images, sons). L'utilisation doit respecter ces licences."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Limitation de responsabilit"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'efforce de fournir un service de qualit, mais ne peut garantir :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"La disponibilit permanente du service (maintenance, pannes)"}),c.jsx("li",{children:"L'absence totale de bugs ou erreurs"}),c.jsx("li",{children:"L'adquation du contenu gnr  tous les besoins"}),c.jsx("li",{children:"La scurit absolue contre les cyberattaques"})]}),c.jsx("p",{children:"En aucun cas HERBBIE ne pourra tre tenu responsable :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Des dommages indirects ou conscutifs  l'utilisation du service"}),c.jsx("li",{children:"De la perte de donnes ou de crations"}),c.jsx("li",{children:"Des interruptions de service non planifies"}),c.jsx("li",{children:"Des actes de tiers (piratage, virus, etc.)"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Rsiliation"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Par l'utilisateur :"}),c.jsx("p",{children:"L'utilisateur peut rsilier son compte  tout moment via les paramtres de son profil."}),c.jsx("h4",{children:"Par HERBBIE :"}),c.jsx("p",{children:"HERBBIE peut suspendre ou rsilier un compte en cas de :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Violation grave des conditions d'utilisation"}),c.jsx("li",{children:"Utilisation abusive du service"}),c.jsx("li",{children:"Non-paiement des services premium"}),c.jsx("li",{children:"Inactivit prolonge (plus de 2 ans)"})]}),c.jsx("h4",{children:"Consquences de la rsiliation :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Accs immdiat au service suspendu"}),c.jsx("li",{children:"Conservation des donnes pendant 30 jours"}),c.jsx("li",{children:"Suppression dfinitive aprs ce dlai"}),c.jsx("li",{children:"Possibilit de ractivation sous conditions"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"8. Modification des conditions"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE se rserve le droit de modifier ces conditions d'utilisation  tout moment."}),c.jsx("p",{children:"Les modifications seront notifies aux utilisateurs par email ou notification sur le site."}),c.jsx("p",{children:"La poursuite de l'utilisation du service aprs notification vaut acceptation des nouvelles conditions."}),c.jsx("p",{children:"En cas de dsaccord avec les modifications, l'utilisateur peut rsilier son compte."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"9. Droit applicable"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Ces conditions d'utilisation sont rgies par le droit franais."}),c.jsx("p",{children:"Tout litige relatif  l'interprtation ou l'excution de ces conditions sera soumis aux tribunaux comptents du ressort de Paris."}),c.jsx("p",{children:"En cas de traduction de ces conditions, seule la version franaise fait foi."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"10. Contact"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Pour toute question relative  ces conditions d'utilisation :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Email :"})," ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Objet :"}),' "Question CGU"']}),c.jsxs("li",{children:[c.jsx("strong",{children:"Dlai de rponse :"})," 48-72 heures"]})]})]})]})]}),A=(N,R)=>{s(q=>({...q,[N]:R}))},x=async N=>{N.preventDefault(),a(!0),d("");try{const R=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:i.firstName,lastName:i.lastName,email:i.email,subject:i.subject,message:i.message})});if(!R.ok){const V=await R.json();throw new Error(V.detail||"Erreur lors de l'envoi du message")}const q=await R.json();d(" Votre message a t envoy avec succs ! Nous vous rpondrons dans les plus brefs dlais."),s({firstName:"",lastName:"",email:"",subject:"",message:""})}catch(R){d(` Erreur lors de l'envoi : ${R.message}`)}finally{a(!1)}},w=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Contact"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:" Formulaire de contact"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Vous pouvez nous contacter directement en remplissant le formulaire ci-dessous :"}),c.jsxs("form",{className:"contact-form",onSubmit:x,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-firstName",children:"Prnom *"}),c.jsx("input",{type:"text",id:"contact-firstName",value:i.firstName,onChange:N=>A("firstName",N.target.value),required:!0,placeholder:"Votre prnom"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-lastName",children:"Nom *"}),c.jsx("input",{type:"text",id:"contact-lastName",value:i.lastName,onChange:N=>A("lastName",N.target.value),required:!0,placeholder:"Votre nom de famille"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-email",children:"Email *"}),c.jsx(Xa,{value:i.email,onChange:N=>A("email",N.target.value),placeholder:"votre.email@exemple.com",required:!0,user:null,onEmailSubmit:()=>{}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-subject",children:"Sujet *"}),c.jsxs("select",{id:"contact-subject",value:i.subject,onChange:N=>A("subject",N.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Choisissez un sujet"}),c.jsx("option",{value:"Support technique",children:" Support technique"}),c.jsx("option",{value:"Question gnrale",children:" Question gnrale"}),c.jsx("option",{value:"Partenariat",children:" Partenariat"}),c.jsx("option",{value:"Signaler un bug",children:" Signaler un bug"}),c.jsx("option",{value:"Suggestion",children:" Suggestion"}),c.jsx("option",{value:"Autre",children:" Autre"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-message",children:"Message *"}),c.jsx("textarea",{id:"contact-message",value:i.message,onChange:N=>A("message",N.target.value),required:!0,placeholder:"Dcrivez votre demande en dtail...",rows:"5"})]}),l&&c.jsx("div",{className:`submit-message ${l.includes("")?"success":"error"}`,children:l}),c.jsx("button",{type:"submit",className:"contact-submit-btn",disabled:o,children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner"}),"Envoi en cours..."]}):c.jsx(c.Fragment,{children:" Envoyer l'email"})})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Informations de contact"}),c.jsxs("div",{className:"info-block personal-data",children:[c.jsxs("p",{children:[c.jsx("strong",{children:" Email :"})," ",c.jsx("a",{href:"mailto:contact@herbbie.com",className:"email-protected",children:c.jsx("span",{className:"personal-data",children:"contact@herbbie.com"})})]}),c.jsxs("p",{children:[c.jsx("strong",{children:" Nom de l'entreprise :"})," ",c.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]})]})]})]});return c.jsx(Fe.div,{className:"legal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:e,children:c.jsxs(Fe.div,{className:"legal-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:N=>N.stopPropagation(),children:[c.jsxs("div",{className:"legal-header",children:[c.jsx("h1",{children:" Informations Lgales"}),c.jsx("button",{className:"close-button",onClick:e,children:""})]}),c.jsxs("div",{className:"legal-body",children:[c.jsx("nav",{className:"legal-nav",children:f.map(N=>c.jsxs("button",{className:`nav-item ${n===N.id?"active":""}`,onClick:()=>r(N.id),children:[c.jsx("span",{className:"nav-icon",children:N.icon}),c.jsx("span",{className:"nav-title",children:N.title})]},N.id))}),c.jsx("div",{className:"legal-main",children:c.jsx(Ur,{mode:"wait",children:c.jsx(Fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:p()},n)})})]})]})})};const w_=()=>{const[e,t]=T.useState([]);return T.useEffect(()=>{const n=r=>{const i=Math.random()*1799.5+.5;setTimeout(()=>{const s={id:Date.now()+r,index:r,duration:Math.random()*2+1};t(o=>[...o,s]),setTimeout(()=>{t(o=>o.filter(a=>a.id!==s.id))},s.duration*1e3),n(r)},i*1e3)};for(let r=0;r<10;r++)setTimeout(()=>n(r),Math.random()*5e3);return()=>{t([])}},[]),c.jsx("section",{className:"shooting-stars-container",children:e.map(n=>c.jsx("span",{className:`shooting-star star-${n.index+1}`,style:{animationDuration:`${n.duration}s`}},n.id))})},_a=(e,t,n="")=>{const r={comptine:{animaux:["Les Amis de la Fort","La Danse des Animaux","Mes Amis les Animaux","Le Grand Bal des Animaux"],nature:["Les Fleurs Magiques","L'Aventure dans les Bois","Les Secrets du Jardin","La Fte de la Nature"],transport:["Le Train des Copains","L'Aventure en Voiture","Le Voyage Fantastique","En Route pour l'Aventure"],couleurs:["L'Arc-en-Ciel Magique","Le Monde des Couleurs","La Danse des Couleurs","Mon Joli Tableau"],famille:["Ma Famille d'Amour","Tous Ensemble","Les Clins de Famille","Mon Coeur de Famille"],default:["Ma Jolie Comptine","Chanson du Bonheur","Ma Petite Mlodie","Comptine Rigolote"]},histoire:{aventure:["La Grande Aventure","Voyage Extraordinaire","Mission Secrte","L'Aventure Fantastique"],animaux:["Les Amis de la Fort","L'Histoire des Petits Animaux","Mes Copains Animaux","La Famille Animaux"],magie:["Le Monde Magique","L'Aventure Enchante","Le Secret Magique","La Fe et ses Amis"],amiti:["Les Meilleurs Amis","Une Belle Amiti","Copains pour la Vie","L'Amiti Magique"],espace:["Voyage dans les toiles","L'Aventure Spatiale","Les Amis de l'Espace","Mission sur la Lune"],default:["Mon Belle Histoire","Conte Merveilleux","Histoire Fantastique","Rcit d'Aventure"]},coloriage:{animaux:["Mes Amis Animaux","Zoo Rigolo","Famille Animaux","Copains de la Fort"],licorne:["Licorne Magique","Princesse Licorne","Pays des Licornes","Licorne Arc-en-Ciel"],dinosaures:["Dino Rigolo","Mes Amis Dinosaures","Parc des Dinosaures","T-Rex et ses Copains"],nature:["Jardin Fleuri","Fort Enchante","Promenade Nature","Fleurs et Papillons"],espace:["Voyage Spatial","Plantes Rigolotes","Astronaute en Mission","toiles et Fuses"],vhicules:["Mes Voitures","Garage Rigolo","Course Automobile","Train et Avions"],default:["Mon Coloriage","Dessin Rigolo","Art Cratif","Belle Image"]},animation:{aventure:["Mon Dessin Anim","Animation Magique","Film d'Aventure","Cinma Fantastique"],animaux:["Mes Amis Anims","Zoo en Mouvement","Aventures Animales","Cirque des Animaux"],magie:["Monde Enchant","Magie en Mouvement","Film de Fe","Animation Magique"],espace:["Voyage Anim","Aventure Spatiale","Film de l'Espace","Mission Animation"],nature:["Fort Anime","Jardin en Mouvement","Nature Vivante","Fleurs Dansantes"],default:["Mon Film IA","Dessin Anim IA","Animation Crative","Film Personnalis"]}},i=r[e]||r.histoire,s=i[t]||i.default||i.aventure,o=Math.floor(Math.random()*s.length);return s[o]};function b_(e,t=600){const n=e.split(new RegExp("(?<=[.?!])\\s+")),r=[];let i="";for(const s of n)(i+s).length>t?(r.push(i.trim()),i=s+" "):i+=s+" ";return i.trim()&&r.push(i.trim()),r}function S_(){const[e,t]=T.useState("animation"),[n,r]=T.useState(null),[i,s]=T.useState(""),[o,a]=T.useState(!0),[l,d]=T.useState(""),[f,p]=T.useState(""),[g,m]=T.useState(null),[S,b]=T.useState(""),[A,x]=T.useState(null),[w,N]=T.useState(""),[R,q]=T.useState(!1),[V,I]=T.useState(null);T.useState(!1);const[F,Y]=T.useState(!1),[X,E]=T.useState(!1),[O,Q]=T.useState(!1),[H,de]=T.useState(!1),[ae,le]=T.useState(null),[W,ie]=T.useState(""),[J,me]=T.useState(null),[C,B]=T.useState(null),[z,K]=T.useState(null),[Z,oe]=T.useState(null),[he,ue]=T.useState(null),[xe,je]=T.useState(null),[Ee,ke]=T.useState(""),[Xe,ve]=T.useState(null),[G,lt]=T.useState(null),[He,Pe]=T.useState(!1);T.useEffect(()=>{e==="comic"&&(ue(null),je(null))},[e]);const[Te,Me]=T.useState(null),[Ie,Ke]=T.useState(30),[rt,Le]=T.useState(null),[De,it]=T.useState(""),[Ct,ot]=T.useState(null),[Ze,ze]=T.useState(null),[_n,wt]=T.useState(null),[_r,_t]=T.useState(!1),[zt,pr]=T.useState(!1),[Pt,ns]=T.useState(null);T.useState("user"),T.useState(!1);const[Yt,mr]=T.useState("Gnrer"),[Jr,$t]=T.useState(!1),[ct,jt]=T.useState(!1),[rs,Cn]=T.useState("mentions"),Er=qe=>new Promise(Ne=>setTimeout(Ne,qe)),Xr=async(qe,{intervalMs:Ne=5e3,maxAttempts:Ye=240}={})=>{let gt=0;for(;gt<Ye;){try{const We=await fetch(`${Nn}/status/${qe}`);if(We.ok){const Je=await We.json();if((Je==null?void 0:Je.type)==="result"){const Re=Je.data;if((Re==null?void 0:Re.status)==="completed"&&Re!=null&&Re.clips&&Re.clips.length>0)return Re;if((Re==null?void 0:Re.status)==="failed")throw new Error((Re==null?void 0:Re.error_message)||"Gnration choue")}}}catch{}gt+=1,await Er(Ne)}throw new Error("Timeout de gnration de l'animation")},et=async(qe,{intervalMs:Ne=5e3,maxAttempts:Ye=180}={})=>{let gt=0;for(;gt<Ye;){try{const We=await fetch(`${Nn}/status_comic/${qe}`);if(We.ok){const Je=await We.json();if((Je==null?void 0:Je.type)==="result"){const Re=Je.data;if(((Re==null?void 0:Re.status)==="completed"||(Re==null?void 0:Re.status)==="success")&&Re!=null&&Re.pages&&Re.pages.length>0)return Re;if((Re==null?void 0:Re.status)==="failed")throw new Error((Re==null?void 0:Re.error)||"Gnration choue")}}}catch{}gt+=1,await Er(Ne)}throw new Error("Timeout de gnration de la BD")},Tr=async qe=>{try{const Ne=new FormData;Ne.append("file",qe);const Ye=await fetch(`${Nn}/upload_character_photo/`,{method:"POST",body:Ne});if(!Ye.ok)throw new Error(`Erreur upload : ${Ye.status}`);const gt=await Ye.json();return ve(gt),gt}catch(Ne){throw Ne}},[Qr,En]=T.useState(null),{user:dt,loading:sn}=eg(),[ir,Zr]=T.useState(!1),[ei,gr]=T.useState(!1);T.useMemo(()=>e==="audio"&&(V!=null&&V.content)?b_(V.content):[],[V,e]);const[ti,Fr]=T.useState(0);T.useEffect(()=>{window.location.hash==="#historique"&&Zr(!0);const qe=()=>{Zr(window.location.hash==="#historique")};return window.addEventListener("hashchange",qe),()=>window.removeEventListener("hashchange",qe)},[]),T.useEffect(()=>{(async()=>{if(dt){const Ne=await h4(dt.id,dt.email);gr(Ne),Ir(Ne)}else gr(!1),Ir(!1)})()},[dt,e]),T.useEffect(()=>{r(null),s(""),a(!0),d(""),p(""),m(null),b(""),x(null),le(null),ie(""),me(null),K(null),oe(null),ue(null),je(null),ke(""),ve(null),lt(null),Me(null),Ke(30),Le(null),it(""),ze(null),I(null),B(null),wt(null),En(null)},[e]);const ni=async qe=>{de(!1),setTimeout(()=>{de(!0),q(!1)},5e4)};T.useEffect(()=>{e==="animation"&&!Te&&Me(null)},[e,Te]);const sr=Te||"space",Ir=qe=>{if(qe)mr("Gnrer Gratuitement");else{let Ne={};e==="animation"?Ne.duration=Ie:(e==="comic"||e==="bd")&&(Ne.pages=xe||1);const Ye=ff(e,Ne);mr(`Acheter pour ${Ye.display}`)}},is=async()=>{if(!dt){alert("Vous devez tre connect pour gnrer du contenu");return}if(ei){Mi();return}try{const{data:qe,error:Ne}=await bt.functions.invoke("check-permission",{body:{contentType:e,userId:dt.id,userEmail:dt.email}});if(Ne){console.error("Erreur vrification permission:",Ne),alert("Erreur lors de la vrification des permissions. Veuillez ressayer.");return}if(qe.hasPermission)Mi();else{ns(e),pr(!0);return}}catch(qe){console.error("Erreur lors de l'appel  check-permission:",qe),alert("Erreur de vrification des permissions. Veuillez ressayer.");return}},Mi=async()=>{var qe;if(q(!0),I(null),!sn)try{let Ne=null;if(e==="rhyme"){const We={theme:n==="custom"?i:n,custom_request:w,language:"fr"},Je=await fetch(`${Nn}/generate_rhyme/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(We)});if(!Je.ok)throw new Error(`Erreur HTTP : ${Je.status}`);Ne=await Je.json()}else if(e==="audio"||e==="histoire"&&A){const We={story_type:g==="custom"?S:g,voice:A,custom_request:w},Je=await fetch(`${Nn}/generate_audio_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(We)});if(!Je.ok)throw new Error(`Erreur HTTP : ${Je.status}`);Ne=await Je.json()}else if(e==="histoire"){let We;if(Ze&&Ze!=="custom"?We={space:"Une aventure spatiale extraordinaire o un enfant explore les plantes lointaines et rencontre des aliens amicaux.",ocean:"Une exploration sous-marine magique avec des cratures marines colores et des trsors cachs au fond de l'ocan.",dinosaur:"Un voyage dans le temps  l'poque des dinosaures o un enfant devient ami avec un dinosaure gentil et dcouvre un monde prhistorique.",fairy:"Un conte de fes enchanteur avec des fes bienveillantes, des chteaux magiques et des aventures pleines de poussire de fe.",superhero:"Une histoire de super-hros o un enfant dcouvre ses pouvoirs extraordinaires et sauve la ville avec courage et bont.",jungle:"Une aventure dans la jungle tropicale remplie d'animaux exotiques, de plantes mystrieuses et de dcouvertes passionnantes."}[Ze]||`Une belle histoire sur le thme ${Ze}`:We=De,!We||We.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractres");const Je={story_type:Ze==="custom"?"custom":Ze,content:We,custom_request:w},Re=await fetch(`${Nn}/generate_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Je)});if(!Re.ok)throw new Error(`Erreur HTTP : ${Re.status}`);Ne=await Re.json()}else if(e==="coloring")if(J){const We=new FormData;We.append("file",J);const Je=await fetch(`${Nn}/upload_photo_for_coloring/`,{method:"POST",body:We});if(!Je.ok)throw new Error(`Erreur upload : ${Je.status}`);const Lt={photo_path:(await Je.json()).file_path,with_colored_model:z},On=await fetch(`${Nn}/convert_photo_to_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Lt)});if(!On.ok)throw new Error(`Erreur conversion : ${On.status}`);const yt=await On.json();B(yt),Ne=yt}else{const We={theme:ae,with_colored_model:z};ae==="custom"&&W.trim()&&(We.custom_prompt=W.trim());const Je=await fetch(`${Nn}/generate_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(We)});if(!Je.ok)throw new Error(`Erreur HTTP : ${Je.status}`);const Re=await Je.json();B(Re),Ne=Re}else if(e==="comic"){const We={theme:Z==="custom"?Ee:Z,art_style:he||"cartoon",num_pages:xe||1};Z==="custom"&&Ee.trim()&&(We.custom_prompt=Ee.trim()),Xe&&Xe.file_path&&(We.character_photo_path=Xe.file_path);const Je=await fetch(`${Nn}/generate_comic/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(We)});if(!Je.ok)throw new Error(`Erreur HTTP : ${Je.status}`);const Re=await Je.json();let Lt=Re;const On=Re==null?void 0:Re.task_id,yt=(Re==null?void 0:Re.status)==="success"&&(Re==null?void 0:Re.pages)&&Re.pages.length>0;On&&!yt&&(Lt=await et(On)),Lt!=null&&Lt.pages&&Lt.pages.length>0&&(lt(Lt),Ne=Lt)}else if(e==="animation"){let We;const Je=Te||"space";if(Je&&Je!=="custom"?We={magie:"Une histoire magique avec des cratures fantastiques dans un monde enchant",aventure:"Une grande aventure pleine de dcouvertes et de rebondissements",animaux:"Une histoire mettant en scne des animaux adorables et leurs aventures",espace:"Un voyage extraordinaire  travers les toiles et les plantes",nature:"Une exploration merveilleuse de la nature et de ses secrets",amiti:"Une belle histoire d'amiti et de solidarit",famille:"Une histoire touchante sur les liens familiaux"}[Je]||`Une belle histoire sur le thme ${Je}`:We=De,!We||We.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractres");const Lt={magie:"magic",aventure:"adventure",animaux:"animals",espace:"space",nature:"nature",amiti:"friendship",famille:"friendship"}[Je]||Je||"adventure",On={theme:Lt,duration:Number(Ie),custom_prompt:We||void 0},yt=Ie||30,Rr=`${Nn}/generate-quick?theme=${encodeURIComponent(Lt)}&duration=${yt}&style=${rt||"cartoon"}&custom_prompt=${encodeURIComponent(We||"")}`,vr=await fetch(Rr,{method:"GET",headers:{Accept:"application/json"}});if(!vr.ok){const Xt=await vr.text();throw new Error(`Erreur HTTP ${vr.status}: ${Xt}`)}const hn=await vr.json();let on=hn;const fn=hn==null?void 0:hn.task_id,ri=(hn==null?void 0:hn.status)==="completed"&&((hn==null?void 0:hn.final_video_url)||(((qe=hn==null?void 0:hn.clips)==null?void 0:qe.length)||0)>0);fn&&!ri&&(on=await Xr(fn)),(on==null?void 0:on.status)==="completed"&&(on!=null&&on.clips)&&on.clips.length>0&&(wt(on),_t(!0),Ne=on)}if(I(Ne),Fr(0),e==="rhyme"&&Ne.task_id){Pl(Ne.task_id);return}let Ye;e==="rhyme"?Ne.title&&!Ne.title.includes("gnre")?Ye=Ne.title+(Ne.has_music?" ":""):Ye=_a("comptine",n==="custom"?"default":n)+(Ne.has_music?" ":""):e==="audio"?Ne.title&&!Ne.title.includes("gnre")?Ye=Ne.title:Ye=_a("histoire",g==="custom"?"default":g):e==="coloring"?Ye=(Ne==null?void 0:Ne.title)||_a("coloriage",ae):e==="comic"?Ye=(G==null?void 0:G.title)||"Ma Bande Dessine ":e==="animation"?Ye=(Ne==null?void 0:Ne.title)||_a("animation",sr||"aventure"):e==="histoire"&&(Ye=(Ne==null?void 0:Ne.title)||_a("histoire",Ze==="custom"?"default":Ze)),En(Ye);let gt;e==="coloring"?gt={id:Date.now().toString(),type:e,title:Ye,createdAt:new Date().toISOString(),content:Ne?`${Ne.total_images} coloriage(s) gnr(s)`:"Coloriage gnr",theme:ae,images:(Ne==null?void 0:Ne.images)||[],metadata:(Ne==null?void 0:Ne.metadata)||{}}:e==="comic"?gt={id:Date.now().toString(),type:e,title:Ye,createdAt:new Date().toISOString(),content:G?`BD de ${G.total_pages} planche(s) - ${G.total_pages*4} cases`:"Bande dessine gnre",theme:Z,pages:(G==null?void 0:G.pages)||[],comic_data:G||{}}:e==="animation"?gt={id:Date.now().toString(),type:e,title:Ye,createdAt:new Date().toISOString(),content:Ne?`Animation de ${Ne.actual_duration}s avec ${Ne.total_scenes} scnes`:"Animation gnre",theme:sr,clips:(Ne==null?void 0:Ne.clips)||[],animation_data:Ne||{}}:e==="histoire"?gt={id:Date.now().toString(),type:e,title:Ye,createdAt:new Date().toISOString(),content:(Ne==null?void 0:Ne.content)||Ne||"Histoire gnre...",story_type:Ze==="custom"?"custom":Ze}:gt={id:Date.now().toString(),type:e,title:Ye,createdAt:new Date().toISOString(),content:(Ne==null?void 0:Ne.content)||Ne||"Contenu gnr...",audio_path:(Ne==null?void 0:Ne.audio_path)||null};try{await Fg({type:e,title:Ye,data:gt})}catch{}if(!ei&&Ne)try{const{calculateTokenCost:We,deductTokens:Je}=await Oc(()=>Promise.resolve().then(()=>tk),void 0);let Re={};e==="animation"?Re.duration=Ie:(e==="comic"||e==="bd")&&(Re.pages=xe||1),(e==="audio"||e==="histoire"&&A)&&(Re.voice=A);const Lt=We(e,Re),On=await Je(dt.id,e,Lt,{...Re,transactionId:`gen_${Date.now()}_${e}`});console.log(" Tokens dduits avec succs:",On)}catch(We){console.error(" Erreur lors de la dduction des tokens:",We)}q(!1)}catch(Ne){alert(` Erreur lors de la gnration : ${Ne.message}

 Conseil : Vrifiez que les cls API sont configures dans le fichier .env du serveur.`),q(!1)}},Ts=qe=>{var Ne,Ye,gt,We,Je;qe.action==="showStory"?(I({title:qe.title,content:qe.content||((Ne=qe.data)==null?void 0:Ne.content)||"",type:qe.type}),Y(!0)):qe.action==="showColoring"?(B({success:!0,theme:qe.theme||((Ye=qe.data)==null?void 0:Ye.theme)||"coloriage",images:qe.images||((gt=qe.data)==null?void 0:gt.images)||[],total_images:(qe.images||((We=qe.data)==null?void 0:We.images)||[]).length,metadata:qe.metadata||((Je=qe.data)==null?void 0:Je.metadata)||{}}),E(!0)):(Zr(!1),window.location.hash="")},ss=()=>{Zr(!1),window.location.hash=""},Fs=()=>{if(e==="rhyme"){if(!n||n==="custom"&&!i.trim())return!1}else if(e==="audio"){if(!g||g==="custom"&&!S.trim())return!1}else if(e==="coloring"){if(!ae&&!J||ae==="custom"&&!W.trim()||z===null)return!1}else if(e==="comic"){if(!Z||!he||!xe||Z==="custom"&&!Ee.trim())return!1}else if(e==="animation"){if(!Te&&!De.trim()||Te==="custom"&&!De.trim()||Te==="custom"&&De.trim().length<10)return!1}else if(e==="histoire"&&(!Ze||Ze==="custom"&&!De.trim()||Ze==="custom"&&De.trim().length<10))return!1;return!0},Oi={hidden:{opacity:0,height:0,marginBottom:0},visible:{opacity:1,height:"auto",marginBottom:"1rem"},exit:{opacity:0,height:0,marginBottom:0}},Cl=async(qe,Ne)=>{if(!(!Ne||typeof Ne!="string"))try{const Ye=new nt({orientation:"p",unit:"mm",format:"a4"}),gt=50,We=210,Je=297,Re=6,Lt=Math.floor((Je-gt-30)/Re),On=on=>new Promise((fn,ri)=>{const Xt=new Image;Xt.crossOrigin="anonymous",Xt.onload=()=>fn(Xt),Xt.onerror=()=>ri(new Error("Impossible de charger l'image de fond")),Xt.src=on});let yt=null;try{yt=await On("/assets/fond.png?v=1")}catch{}let Rr=qe;Ne.startsWith("**")&&Ne.includes("**",2)&&(Rr=Ne.split("**")[1].trim(),Ne=Ne.replace(`**${Rr}**`,"").trim());const Bi=Ye.splitTextToSize(Ne,150);let vr=0;for(let on=0;vr<Bi.length;on++){if(on>0&&Ye.addPage(),yt)try{Ye.addImage(yt,"PNG",0,0,We,Je,void 0,"FAST")}catch{}on===0&&(Ye.setFont("courier","bold"),Ye.setFontSize(18),Ye.setTextColor(110,50,230),Ye.text(Rr,We/2,gt-20,{align:"center"})),Ye.setFont("courier","bold"),Ye.setFontSize(10),Ye.setTextColor(25,25,112);for(let fn=0;fn<Lt&&vr<Bi.length;fn++,vr++){const ri=gt+fn*Re;Ye.text(Bi[vr],We/2,ri,{align:"center"})}Ye.setFontSize(8),Ye.setTextColor(106,90,205),Ye.text(`Page ${on+1}`,We-15,Je-10,{align:"right"})}const hn=Rr.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");Ye.save(`${hn}.pdf`)}catch{alert("Erreur lors de la gnration du PDF. Veuillez ressayer.")}},Pl=async(qe,Ne=40,Ye=5e3)=>{let gt=0;const We=async()=>{try{const Re=await(await fetch(`${Nn}/check_task_status/${qe}`)).json();if(Re.status==="completed")return I(Lt=>{const On={...Lt,audio_path:Re.audio_path,suno_url:Re.suno_url,title:Re.title||Lt.title,has_music:!0,service:"suno"},yt=Re.title||Lt.title||_a("comptine",n==="custom"?"default":n)+" ";En(yt);const Rr={id:Date.now().toString(),type:"rhyme",title:yt,createdAt:new Date().toISOString(),content:Lt.content||Lt.rhyme||"Comptine gnre",audio_path:Re.audio_path,suno_url:Re.suno_url};return Fg({type:"rhyme",title:yt,data:Rr}).catch(Bi=>{}),On}),Re.suno_url?(ni(Re.suno_url),!0):(q(!1),!0);if(Re.status==="failed")return I(Lt=>({...Lt,music_error:Re.error,has_music:!1})),q(!1),!0;if(Re.status!=="processing"){if(gt>=Ne-1)return q(!1),alert(" La gnration de musique prend plus de temps que prvu. Veuillez vrifier votre historique dans quelques minutes."),!0}return gt++,setTimeout(We,Ye),!1}catch{return gt++,gt<Ne&&setTimeout(We,Ye),!1}};await We()};return c.jsxs("div",{className:"app-container",children:[c.jsx(nk,{isLoggedIn:!!dt,onOpenHistory:()=>Zr(!0),userId:dt==null?void 0:dt.id,onOpenSubscription:()=>$t(!0)}),c.jsx(w_,{}),c.jsx("main",{className:"main-content",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs(Fe.div,{className:"creation-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["          ",c.jsx(uk,{contentType:e,setContentType:t}),"          ",c.jsx(Ur,{mode:"wait",children:e==="rhyme"?c.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{width:"100%"},children:c.jsx(hk,{selectedRhyme:n,setSelectedRhyme:r,customRhyme:i,setCustomRhyme:s})},"rhyme-selector"):e==="audio"?c.jsx(Fe.div,{variants:Oi,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(mk,{selectedAudioStory:g,setSelectedAudioStory:m,customAudioStory:S,setCustomAudioStory:b,selectedVoice:A,setSelectedVoice:x})},"audio-story-selector"):e==="coloring"?c.jsxs(Fe.div,{variants:Oi,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:["                ",c.jsx(Pk,{selectedTheme:ae,setSelectedTheme:le,customColoringTheme:W,setCustomColoringTheme:ie,uploadedPhoto:J,setUploadedPhoto:me,withColoredModel:z,setWithColoredModel:K})]},"coloring-selector"):e==="comic"?c.jsx(Fe.div,{variants:Oi,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(kk,{selectedTheme:Z,setSelectedTheme:oe,selectedStyle:he,setSelectedStyle:ue,numPages:xe,setNumPages:je,customStory:Ee,setCustomStory:ke,characterPhoto:Xe,setCharacterPhoto:ve,onCharacterPhotoUpload:Tr})},"comics-selector"):e==="animation"?c.jsx(Fe.div,{variants:Oi,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(yk,{selectedTheme:Te,setSelectedTheme:Me,selectedDuration:Ie,setSelectedDuration:Ke,selectedStyle:rt,setSelectedStyle:Le,customStory:De,setCustomStory:it,characterImage:Ct,setCharacterImage:ot})},"animation-selector"):e==="histoire"?c.jsx(Fe.div,{variants:Oi,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(vk,{selectedStory:Ze,setSelectedStory:ze,customStory:De,setCustomStory:it})},"story-selector"):null}),"          ",c.jsx(wk,{customRequest:w,setCustomRequest:N,stepNumber:e==="coloring"?4:3}),c.jsx(bk,{onGenerate:is,isGenerating:R,isDisabled:!Fs(),contentType:e,buttonText:Yt})]}),c.jsx("div",{className:"preview-column",children:c.jsx(Fe.div,{className:"preview-panel",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:c.jsx("div",{className:"preview-container",children:c.jsx("div",{className:`preview ${V?"":"empty"}`,children:c.jsx(Ur,{mode:"wait",children:R?c.jsxs(Fe.div,{className:"generating-animation",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[c.jsxs("div",{className:"loading-dots",children:[c.jsx("div",{className:"dot"}),c.jsx("div",{className:"dot"}),c.jsx("div",{className:"dot"})]}),"      ",c.jsxs("p",{children:["        ",e==="rhyme"?"Votre comptine est en cours de cration...":e==="audio"?"Cration de l'histoire en cours...":e==="histoire"?"Cration de votre histoire en cours...":e==="coloring"?"Votre coloriage est en cours de cration...":e==="comic"?"Cration de votre bande dessine en cours...":e==="animation"?"Cration de votre dessin anim en cours...":"Gnration en cours..."]})]},"generating"):C&&e==="coloring"?c.jsxs(Fe.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[c.jsx("button",{onClick:()=>E(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Ouvrir le coloriage"}),c.jsx("button",{onClick:()=>Q(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Colorier maintenant"}),c.jsx("button",{onClick:()=>{if(C!=null&&C.images){const qe=`coloriages_${C.theme||ae||"generes"}`;ng(C.images,qe)}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger le coloriage"})]},"coloring-result"):G&&e==="comic"?c.jsxs(Fe.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem",padding:"1rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem"},children:[c.jsx("h3",{style:{color:"var(--primary)",marginBottom:"0.5rem"},children:G.title||"Votre Bande Dessine"}),c.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[G.total_pages," ",G.total_pages===1?"planche":"planches","  ",G.total_pages*4," cases"]})]}),c.jsx("button",{onClick:()=>Pe(!0),style:{padding:"0.8rem 2rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"700",fontSize:"1rem",boxShadow:"0 4px 12px rgba(245, 240, 255, 0.3)",transition:"all 0.2s ease"},onMouseOver:qe=>qe.target.style.transform="translateY(-2px)",onMouseOut:qe=>qe.target.style.transform="translateY(0)",children:" Lire la bande dessine"})]},"comics-result"):V&&e==="rhyme"&&V.suno_url&&H?c.jsx(Fe.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsxs("div",{style:{height:"300px",maxWidth:"500px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"0.8rem",padding:"0.5rem",overflowY:"auto"},children:[V.suno_url&&H&&c.jsx(c.Fragment,{children:c.jsxs("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",maxWidth:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",overflow:"hidden"},children:[c.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",padding:"9px 50px 0px"},children:c.jsx("h4",{style:{margin:0,fontSize:"15px",color:"#333",fontWeight:"600"},children:"Votre comptine est prte !"})}),c.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",outline:"none"},src:V.suno_url,children:"Votre navigateur ne supporte pas l'lment audio."})]})}),V.suno_url&&H&&c.jsx(c.Fragment,{children:c.jsx("button",{onClick:async()=>{if(V.suno_url&&H)try{const qe=await fetch(V.suno_url);if(!qe.ok)throw new Error(`Erreur HTTP: ${qe.status}`);const Ne=await qe.blob();if(Ne.size===0)throw new Error("Fichier audio indisponible");const Ye=window.URL.createObjectURL(Ne),gt=(Qr||V.title||"comptine").replace(/[^a-z0-9]/gi,"_").toLowerCase(),We=document.createElement("a");We.href=Ye,We.download=`${gt}.mp3`,We.style.display="none",document.body.appendChild(We),We.click(),document.body.removeChild(We),setTimeout(()=>window.URL.revokeObjectURL(Ye),100)}catch(qe){alert(`Erreur lors du tlchargement: ${qe.message}`)}},disabled:!H,style:{padding:"0.8rem 2rem",backgroundColor:H?"#6B4EFF":"#ccc",color:H?"#fff":"#666",border:"none",borderRadius:"10px",cursor:H?"pointer":"not-allowed",fontWeight:"600",fontSize:"14px",marginTop:"0.8rem",boxShadow:H?"0 4px 12px rgba(245, 240, 255, 0.3)":"none",transition:"all 0.3s ease"},onMouseOver:qe=>H&&(qe.target.style.transform="translateY(-2px)"),onMouseOut:qe=>H&&(qe.target.style.transform="translateY(0)"),children:H?" Tlcharger":" Prparation du tlchargement..."})})]})},"rhyme-result"):V&&e==="audio"?c.jsx(Fe.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsxs("div",{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem",padding:"1rem",overflowY:"auto"},children:[V.audio_path&&c.jsx("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",padding:"22px",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:c.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",height:"40px",outline:"none"},src:`${Nn}/audio/${V.audio_path.split("/").pop()}`,children:"Votre navigateur ne supporte pas l'lment audio."})}),c.jsxs("div",{style:{display:"flex",gap:"1rem",width:"100%",justifyContent:"center",flexWrap:"wrap"},children:[c.jsx("button",{onClick:()=>Y(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Ouvrir l'histoire"}),c.jsx("button",{onClick:()=>Cl(V.title,V.content),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger l'histoire"}),V.audio_path&&c.jsx("button",{onClick:async()=>{try{const qe=V.audio_path.split("/").pop(),Ne=`${Nn}/audio/${qe}?download=true`,Ye=(V.title||"Histoire").replace(/[^a-z0-9]/gi,"_").toLowerCase(),gt=await fetch(Ne);if(!gt.ok)throw new Error(`Erreur HTTP: ${gt.status}`);const We=await gt.blob(),Je=window.URL.createObjectURL(We),Re=document.createElement("a");Re.href=Je,Re.download=`${Ye}.mp3`,document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),setTimeout(()=>{window.URL.revokeObjectURL(Je)},100)}catch{try{const Ne=V.audio_path.split("/").pop(),Ye=`${Nn}/audio/${Ne}?download=true`;window.open(Ye,"_blank")}catch{alert("Erreur lors du tlchargement. Veuillez ressayer.")}}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger l'audio"})]})]})},"audio-story-result"):c.jsxs(Fe.div,{className:"preview-placeholder",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:["  ",!(V!=null&&V.content)&&!C&&c.jsxs("div",{className:"empty-preview",children:["    ",c.jsx("p",{children:e==="rhyme"?"Votre comptine apparatra ici":e==="audio"||e==="histoire"?"Votre histoire apparatra ici":e==="coloring"?"Votre coloriage apparatra ici":e==="comic"?"Votre bande dessine apparatra ici":e==="animation"?"Votre dessin anim apparatra ici":"Votre contenu apparatra ici"})]})]},"placeholder")})})})})})]})}),c.jsx(Ur,{children:ir&&c.jsx(Fe.div,{className:"history-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:ss,children:c.jsx(Ak,{onClose:ss,onSelect:Ts})})}),F&&c.jsx(Ck,{title:V.title,content:V.content,onClose:()=>Y(!1)}),"    ",X&&c.jsx(Lk,{coloringResult:C,selectedTheme:ae,onClose:()=>E(!1)}),O&&c.jsx(w4,{imageUrl:(()=>{var Ne;const qe=(Ne=C==null?void 0:C.images)==null?void 0:Ne[0];return qe?qe.image_url||qe:void 0})(),theme:(C==null?void 0:C.theme)||ae,onClose:()=>Q(!1)}),He&&c.jsx(_k,{comic:G,onClose:()=>Pe(!1),baseUrl:Nn}),_r&&c.jsx(xk,{animationResult:_n,onClose:()=>_t(!1)}),zt&&c.jsx(h_,{contentType:Pt,selectedDuration:Ie,numPages:xe,selectedVoice:A,userId:dt==null?void 0:dt.id,userEmail:dt==null?void 0:dt.email,onSuccess:qe=>{pr(!1),setTimeout(()=>{Mi()},500)},onCancel:()=>{pr(!1)}}),Jr&&c.jsx(v_,{isOpen:Jr,onClose:()=>$t(!1),userId:dt==null?void 0:dt.id,userEmail:dt==null?void 0:dt.email}),c.jsx(y_,{onLegalClick:qe=>{jt(!0),Cn(qe)}}),c.jsx(Ur,{children:ct&&c.jsx(x_,{onClose:()=>jt(!1),initialSection:rs})})]})}const B5=["fredagathe77@gmail.com","admin@herbbie.com"],gc="herbbie_admin_session",Do={initAuthListener(e){const t=()=>{const r=this.getStoredSession();r&&r.user?e({user:r.user,isAdmin:r.isAdmin,session:r}):e(null)};t();const n=r=>{r.key===gc&&t()};return window.addEventListener("storage",n),{unsubscribe:()=>{window.removeEventListener("storage",n)}}},async signIn(e,t){try{if(!B5.includes(e))throw new Error("Accs refus. Seuls les administrateurs peuvent accder  ce panneau.");const n={id:"admin-"+Date.now(),email:e,user_metadata:{full_name:e==="fredagathe77@gmail.com"?"Admin Principal":"Administrateur"}},r={user:n,access_token:"admin-token-"+Date.now(),token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:n,isAdmin:!0,session:r}),{user:n,session:r,isAdmin:!0}}catch(n){throw console.error("Erreur de connexion:",n),n}},async signOut(){try{localStorage.removeItem(gc)}catch(e){throw console.error("Erreur de dconnexion:",e),e}},async getCurrentUser(){try{const e=this.getStoredSession();return e&&e.user?{user:e.user,isAdmin:e.isAdmin}:null}catch(e){return console.error("Erreur lors de la rcupration de l'utilisateur:",e),null}},async checkUserIsAdmin(e){try{return!e||!e.email?!1:B5.includes(e.email)}catch(t){return console.error("Erreur lors de la vrification du rle admin:",t),!1}},async authenticateWithToken(e){try{if(!e||!e.includes("admin"))return console.warn("Token invalide"),!1;const t={id:"admin-auto-"+Date.now(),email:"admin@herbbie.com",user_metadata:{full_name:"Administrateur Auto"}},n={user:t,access_token:e,token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:t,isAdmin:!0,session:n}),{user:t,isAdmin:!0,session:n}}catch(t){return console.error("Erreur authentification automatique:",t),!1}},async getCurrentSession(){try{return this.getStoredSession()}catch(e){return console.error("Erreur lors de la rcupration de la session:",e),null}},storeSession(e){try{localStorage.setItem(gc,JSON.stringify(e))}catch(t){console.error("Erreur lors du stockage de la session:",t)}},getStoredSession(){try{const e=localStorage.getItem(gc);if(e){const t=JSON.parse(e);if(t.session&&t.session.expires_at>Date.now())return t;localStorage.removeItem(gc)}}catch(e){console.error("Erreur lors de la rcupration de la session:",e)}return null}},M4=T.createContext(),O4=()=>{const e=T.useContext(M4);if(!e)throw new Error("useAuth doit tre utilis dans un AuthProvider");return e},j_=({children:e})=>{const[t,n]=T.useState(null),[r,i]=T.useState(!1),[s,o]=T.useState(!0),[a,l]=T.useState(null);T.useEffect(()=>{let g;return(async()=>{try{const S=await Do.getCurrentSession();if(S!=null&&S.user){const b=await Do.checkUserIsAdmin(S.user);n(S.user),i(b),l(S)}}catch(S){console.error("Erreur lors de l'initialisation de l'authentification:",S)}finally{o(!1)}g=Do.initAuthListener(async S=>{S?(n(S.user),i(S.isAdmin),l(S.session)):(n(null),i(!1),l(null)),o(!1)})})(),()=>{g&&g.unsubscribe()}},[]);const p={user:t,isAdmin:r,loading:s,session:a,signIn:async(g,m)=>{o(!0);try{const S=await Do.signIn(g,m);return S&&(n(S.user),i(S.isAdmin),l(S.session)),S}catch(S){throw S}finally{o(!1)}},signOut:async()=>{o(!0);try{await Do.signOut(),n(null),i(!1),l(null)}catch(g){throw console.error("Erreur lors de la dconnexion:",g),g}finally{o(!1)}},authenticateWithToken:Do.authenticateWithToken.bind(Do),isAuthenticated:!!t&&r};return c.jsx(M4.Provider,{value:p,children:e})};const N_=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState(!1),[l,d]=T.useState(!1),{signIn:f}=O4(),p=async g=>{g.preventDefault(),s(""),a(!0);try{await f(e,n),nh(e.trim())}catch(m){s(m.message||"Erreur de connexion")}finally{a(!1)}};return c.jsx("div",{className:"login-container",children:c.jsxs(Fe.div,{className:"login-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"login-header",children:[c.jsx("div",{className:"login-logo",children:c.jsxs("div",{className:"login-logo-text",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("span",{children:"Administration"})]})}),c.jsx("h2",{children:"Connexion Administrateur"}),c.jsx("p",{children:"Accs rserv aux administrateurs HERBBIE"})]}),c.jsxs("form",{className:"login-form",onSubmit:p,children:[i&&c.jsxs(Fe.div,{className:"login-error",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:[c.jsx("span",{children:""})," ",i]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"email",children:"Email administrateur"}),c.jsx(Xa,{value:e,onChange:g=>t(g.target.value),placeholder:"admin@herbbie.com",required:!0,disabled:o,user:null,onEmailSubmit:()=>{}})]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"password",children:"Mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:l?"text":"password",id:"password",value:n,onChange:g=>r(g.target.value),placeholder:"",required:!0,disabled:o,autoComplete:"current-password",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>d(!l),disabled:o,"aria-label":l?"Masquer le mot de passe":"Afficher le mot de passe",children:l?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),c.jsx("button",{type:"submit",className:"login-button",disabled:o||!e||!n,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"login-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),c.jsx("div",{className:"login-footer",children:c.jsx("p",{children:" Accs scuris - Seuls les administrateurs peuvent se connecter"})})]})})},ig="/api/features",A_=async()=>{try{const e=await fetch(ig,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok)return await e.json();throw console.error("Erreur lors de la rcupration des fonctionnalits:",e.statusText),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors de la rcupration des fonctionnalits:",e),e}},C_=async(e,t)=>{try{const n=await fetch(`${ig}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:t})});if(n.ok)return(await n.json()).features;throw console.error("Erreur lors de la mise  jour:",n.statusText),new Error(`Erreur API: ${n.status}`)}catch(n){throw console.error("Erreur lors de la mise  jour de la fonctionnalit:",n),n}},P_=async()=>{try{const e=await fetch(`${ig}/reset`,{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok)return(await e.json()).features;throw console.error("Erreur lors de la rinitialisation:",e.statusText),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors de la rinitialisation:",e),e}},L_=async()=>{try{return await A_()}catch(e){throw e}},k_=async(e,t)=>{try{const n=await C_(e,t);return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:n})),n}catch(n){throw n}},__=async()=>{try{const e=await P_();return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:e})),e}catch(e){throw console.error("Erreur lors de la rinitialisation des fonctionnalits:",e),e}};const E_=()=>{const[e,t]=T.useState({}),[n,r]=T.useState(!0),[i,s]=T.useState(null);T.useEffect(()=>{o()},[]);const o=async()=>{try{r(!0);const g=await L_();t(g)}catch(g){console.error("Erreur lors du chargement des fonctionnalits:",g),d("Erreur lors du chargement des fonctionnalits","error")}finally{r(!1)}},a=async g=>{var m,S;try{const b=((m=e[g])==null?void 0:m.enabled)||!1,A=await k_(g,!b);if(A){t(A),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:A}));const x=b?"dsactive":"active";d(`Fonctionnalit ${(S=e[g])==null?void 0:S.name} ${x}`,"success")}else d("Erreur lors de la mise  jour","error")}catch(b){console.error("Erreur lors de la mise  jour:",b),d("Erreur lors de la mise  jour","error")}},l=async()=>{try{const g=await __();g?(t(g),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:g})),d("Toutes les fonctionnalits ont t rinitialises","success")):d("Erreur lors de la rinitialisation","error")}catch(g){console.error("Erreur lors de la rinitialisation:",g),d("Erreur lors de la rinitialisation","error")}},d=(g,m="info")=>{s({message:g,type:m}),setTimeout(()=>s(null),3e3)},f=()=>Object.values(e).filter(g=>g.enabled).length,p=()=>Object.keys(e).length;return n?c.jsxs("div",{className:"admin-loading",children:[c.jsx("div",{className:"admin-loading-spinner"}),c.jsx("span",{children:"Chargement des fonctionnalits..."})]}):c.jsxs("div",{className:"feature-manager-container",children:[i&&c.jsx(Fe.div,{className:`admin-notification ${i.type} show`,initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},children:i.message}),c.jsxs("div",{className:"feature-manager-header",children:[c.jsxs("div",{className:"feature-manager-stats",children:[c.jsxs("div",{className:"feature-stat",children:[c.jsx("span",{className:"feature-stat-number",children:f()}),c.jsx("span",{className:"feature-stat-label",children:"Actives"})]}),c.jsxs("div",{className:"feature-stat",children:[c.jsx("span",{className:"feature-stat-number",children:p()}),c.jsx("span",{className:"feature-stat-label",children:"Total"})]}),c.jsxs("div",{className:"feature-stat",children:[c.jsxs("span",{className:"feature-stat-number",children:[Math.round(f()/p()*100),"%"]}),c.jsx("span",{className:"feature-stat-label",children:"Taux d'activation"})]})]}),c.jsx("div",{className:"feature-manager-actions",children:c.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:l,children:" Rinitialiser"})})]}),c.jsx("div",{className:"feature-manager-grid",children:Object.entries(e).map(([g,m])=>c.jsxs(Fe.div,{className:"feature-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[c.jsxs("div",{className:"feature-card-header",children:[c.jsxs("div",{className:"feature-info",children:[c.jsx("span",{className:"feature-icon",children:T_(g)}),c.jsxs("div",{className:"feature-details",children:[c.jsx("h3",{className:"feature-name",children:m.name}),c.jsx("span",{className:`feature-status ${m.enabled?"enabled":"disabled"}`,children:m.enabled?"Active":"Dsactive"})]})]}),c.jsxs("label",{className:"feature-toggle",children:[c.jsx("input",{type:"checkbox",checked:m.enabled,onChange:()=>a(g)}),c.jsx("span",{className:"toggle-slider"})]})]}),c.jsx("div",{className:"feature-card-body",children:c.jsx("p",{className:"feature-description",children:F_(g)})})]},g))}),c.jsx("div",{className:"feature-manager-info",children:c.jsxs("div",{className:"admin-card",children:[c.jsx("div",{className:"admin-card-header",children:c.jsx("h3",{children:" Informations"})}),c.jsxs("div",{className:"admin-card-body",children:[c.jsx("p",{children:"Les fonctionnalits actives sont visibles pour tous les utilisateurs de HERBBIE. Les modifications sont appliques immdiatement."}),c.jsxs("ul",{className:"feature-info-list",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Dessin anim"})," : Gnration de vidos animes"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Bande dessine"})," : Cration de BD avec bulles"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Coloriage"})," : Pages de coloriage  imprimer"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Histoire"})," : Contes audio avec narration"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Comptine"})," : Chansons avec musique gnre"]})]})]})]})})]})},T_=e=>({animation:"",comic:"",coloring:"",audio:"",rhyme:""})[e]||"",F_=e=>({animation:"Gnration de dessins anims personnaliss avec IA",comic:"Cration de bandes dessines avec bulles de dialogue",coloring:"Pages de coloriage  imprimer pour les enfants",audio:"Histoires audio avec narration automatique",rhyme:"Comptines musicales avec paroles et mlodies"})[e]||"Fonctionnalit de cration de contenu",I_=()=>{const{user:e,isAdmin:t,loading:n,signOut:r}=O4(),[i]=p6(),s=h0(),o=i.get("auth"),[a,l]=Dt.useState(!1);return T.useEffect(()=>{o==="auto"?(l(!0),window.history.replaceState({},"","/ilmysv6iepwepoa4tj2k")):!o&&!a&&localStorage.removeItem("herbbie_admin_session")},[o]),T.useEffect(()=>{const f=document.title;return document.title="HERBBIE - Administration",()=>{document.title=f}},[]),T.useEffect(()=>{const f=()=>{l(!1),localStorage.removeItem("herbbie_admin_session"),document.title="HERBBIE"};return window.addEventListener("beforeunload",f),()=>{window.removeEventListener("beforeunload",f)}},[]),n&&!a?c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:c.jsx("div",{children:"Chargement..."})}):a||e&&t?c.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"40px 20px"},children:c.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[c.jsx("h1",{style:{color:"white",textAlign:"center",marginBottom:"40px",fontSize:"2.5em"},children:" Gestion des Fonctionnalits Herbbie"}),c.jsx(E_,{}),c.jsxs("div",{style:{marginTop:"40px",textAlign:"center",display:"flex",gap:"15px",justifyContent:"center",flexWrap:"wrap"},children:[c.jsx("a",{href:"/",onClick:f=>{f.preventDefault(),localStorage.removeItem("herbbie_admin_session"),window.location.href="/"},style:{color:"white",textDecoration:"none",padding:"12px 30px",background:"rgba(255,255,255,0.2)",borderRadius:"25px",display:"inline-block",transition:"all 0.3s ease",cursor:"pointer"},children:" Retour  Herbbie"}),c.jsx("button",{onClick:async()=>{await r(),localStorage.removeItem("herbbie_admin_session"),s("/ilmysv6iepwepoa4tj2k")},style:{color:"white",border:"none",padding:"12px 30px",background:"rgba(255,0,0,0.3)",borderRadius:"25px",cursor:"pointer",fontSize:"16px",fontWeight:"500",transition:"all 0.3s ease"},children:" Dconnexion"})]})]})}):c.jsx(N_,{})},R_=()=>c.jsx(j_,{children:c.jsx(I_,{})});const D_=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState(!1),[l,d]=T.useState(!1),[f,p]=T.useState(!1),[g,m]=T.useState(!1),[S,b]=T.useState(!1),[A,x]=T.useState(!1);T.useEffect(()=>{let N,R;return(async()=>{await new Promise(F=>setTimeout(F,500));const{data:{session:V}}=await bt.auth.getSession();if(V){p(!0);return}N=setTimeout(async()=>{const{data:{session:F}}=await bt.auth.getSession();F||m(!0)},15e3);const{data:{subscription:I}}=bt.auth.onAuthStateChange(async(F,Y)=>{(F==="PASSWORD_RECOVERY"||F==="SIGNED_IN"||F==="INITIAL_SESSION")&&Y&&(p(!0),m(!1),N&&clearTimeout(N))});R=I})(),()=>{N&&clearTimeout(N),R&&R.unsubscribe()}},[]);const w=async N=>{if(N.preventDefault(),s(""),d(!0),e.length<6){s("Le mot de passe doit contenir au moins 6 caractres"),d(!1);return}if(e!==n){s("Les mots de passe ne correspondent pas"),d(!1);return}try{const{error:R}=await bt.auth.updateUser({password:e});R?s(R.message):(a(!0),setTimeout(()=>{window.location.href="/"},3e3))}catch{s("Une erreur est survenue lors de la mise  jour du mot de passe")}d(!1)};return o?c.jsx("div",{className:"reset-password-page",children:c.jsx(Fe.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:c.jsxs("div",{className:"success-message",children:[c.jsx("div",{className:"success-icon",children:""}),c.jsx("h2",{children:"Mot de passe mis  jour !"}),c.jsx("p",{children:"Votre mot de passe a t chang avec succs."}),c.jsx("p",{children:"Vous serez redirig vers la page d'accueil dans quelques secondes..."})]})})}):g?c.jsx("div",{className:"reset-password-page",children:c.jsxs(Fe.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Erreur de lien"})]}),c.jsxs("div",{className:"error-message",children:[c.jsx("div",{className:"error-icon",children:""}),c.jsx("h3",{children:"Lien de rinitialisation invalide"}),c.jsx("p",{children:"Ce lien de rinitialisation de mot de passe n'est pas valide ou a expir."}),c.jsx("p",{children:"Veuillez demander un nouveau lien de rinitialisation."})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})}):f?c.jsx("div",{className:"reset-password-page",children:c.jsxs(Fe.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Rinitialiser votre mot de passe"})]}),c.jsxs("form",{onSubmit:w,className:"reset-password-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"newPassword",children:"Nouveau mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:S?"text":"password",id:"newPassword",value:e,onChange:N=>t(N.target.value),placeholder:"Entrez votre nouveau mot de passe",required:!0,minLength:"6",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>b(!S),"aria-label":S?"Masquer le mot de passe":"Afficher le mot de passe",children:S?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:A?"text":"password",id:"confirmPassword",value:n,onChange:N=>r(N.target.value),placeholder:"Confirmez votre nouveau mot de passe",required:!0,minLength:"6",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>x(!A),"aria-label":A?"Masquer le mot de passe":"Afficher le mot de passe",children:A?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),i&&c.jsx("div",{className:"error-message",children:i}),c.jsx("button",{type:"submit",className:"reset-button",disabled:l,children:l?"Mise  jour...":"Mettre  jour le mot de passe"})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})}):c.jsx("div",{className:"reset-password-page",children:c.jsxs(Fe.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Rinitialiser votre mot de passe"})]}),c.jsxs("div",{className:"waiting-message",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Vrification de votre lien de rinitialisation..."}),c.jsx("p",{className:"waiting-subtitle",children:"Si cette page ne se met pas  jour automatiquement, assurez-vous d'avoir cliqu sur le lien complet dans votre email."})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})})};Wp.createRoot(document.getElementById("root")).render(c.jsx(Dt.StrictMode,{children:c.jsx(c6,{children:c.jsxs(ON,{children:[c.jsx(Wd,{path:"/",element:c.jsx(S_,{})}),c.jsx(Wd,{path:"/ilmysv6iepwepoa4tj2k",element:c.jsx(R_,{})}),c.jsx(Wd,{path:"/reset-password",element:c.jsx(D_,{})})]})})}));export{Ft as _};
