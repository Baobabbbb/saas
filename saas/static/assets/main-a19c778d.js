import{_ as rh}from"./preload-helper-8235fac6.js";import{g as M5,s as un}from"./supabaseClient-54ee3b77.js";import{deleteCreation as db,addCreation as Eg}from"./creations-4ab0b6d9.js";var O5={exports:{}},Bh={},B5={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lu=Symbol.for("react.element"),hb=Symbol.for("react.portal"),fb=Symbol.for("react.fragment"),pb=Symbol.for("react.strict_mode"),mb=Symbol.for("react.profiler"),gb=Symbol.for("react.provider"),vb=Symbol.for("react.context"),yb=Symbol.for("react.forward_ref"),xb=Symbol.for("react.suspense"),wb=Symbol.for("react.memo"),bb=Symbol.for("react.lazy"),Tg=Symbol.iterator;function Sb(e){return e===null||typeof e!="object"?null:(e=Tg&&e[Tg]||e["@@iterator"],typeof e=="function"?e:null)}var z5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q5=Object.assign,U5={};function bl(e,t,n){this.props=e,this.context=t,this.refs=U5,this.updater=n||z5}bl.prototype.isReactComponent={};bl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function V5(){}V5.prototype=bl.prototype;function g1(e,t,n){this.props=e,this.context=t,this.refs=U5,this.updater=n||z5}var v1=g1.prototype=new V5;v1.constructor=g1;q5(v1,bl.prototype);v1.isPureReactComponent=!0;var Fg=Array.isArray,$5=Object.prototype.hasOwnProperty,y1={current:null},H5={key:!0,ref:!0,__self:!0,__source:!0};function W5(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)$5.call(t,r)&&!H5.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:lu,type:e,key:s,ref:o,props:i,_owner:y1.current}}function Nb(e,t){return{$$typeof:lu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x1(e){return typeof e=="object"&&e!==null&&e.$$typeof===lu}function jb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ig=/\/+/g;function Yf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jb(""+e.key):t.toString(36)}function Fd(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case lu:case hb:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Yf(o,0):r,Fg(i)?(n="",e!=null&&(n=e.replace(Ig,"$&/")+"/"),Fd(i,t,n,"",function(d){return d})):i!=null&&(x1(i)&&(i=Nb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ig,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Fg(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Yf(s,a);o+=Fd(s,t,n,l,i)}else if(l=Sb(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Yf(s,a++),o+=Fd(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function id(e,t,n){if(e==null)return e;var r=[],i=0;return Fd(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Ab(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pr={current:null},Id={transition:null},Cb={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:Id,ReactCurrentOwner:y1};function G5(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:id,forEach:function(e,t,n){id(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return id(e,function(){t++}),t},toArray:function(e){return id(e,function(t){return t})||[]},only:function(e){if(!x1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gt.Component=bl;gt.Fragment=fb;gt.Profiler=mb;gt.PureComponent=g1;gt.StrictMode=pb;gt.Suspense=xb;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cb;gt.act=G5;gt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=q5({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=y1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)$5.call(t,l)&&!H5.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:lu,type:e.type,key:i,ref:s,props:r,_owner:o}};gt.createContext=function(e){return e={$$typeof:vb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gb,_context:e},e.Consumer=e};gt.createElement=W5;gt.createFactory=function(e){var t=W5.bind(null,e);return t.type=e,t};gt.createRef=function(){return{current:null}};gt.forwardRef=function(e){return{$$typeof:yb,render:e}};gt.isValidElement=x1;gt.lazy=function(e){return{$$typeof:bb,_payload:{_status:-1,_result:e},_init:Ab}};gt.memo=function(e,t){return{$$typeof:wb,type:e,compare:t===void 0?null:t}};gt.startTransition=function(e){var t=Id.transition;Id.transition={};try{e()}finally{Id.transition=t}};gt.unstable_act=G5;gt.useCallback=function(e,t){return pr.current.useCallback(e,t)};gt.useContext=function(e){return pr.current.useContext(e)};gt.useDebugValue=function(){};gt.useDeferredValue=function(e){return pr.current.useDeferredValue(e)};gt.useEffect=function(e,t){return pr.current.useEffect(e,t)};gt.useId=function(){return pr.current.useId()};gt.useImperativeHandle=function(e,t,n){return pr.current.useImperativeHandle(e,t,n)};gt.useInsertionEffect=function(e,t){return pr.current.useInsertionEffect(e,t)};gt.useLayoutEffect=function(e,t){return pr.current.useLayoutEffect(e,t)};gt.useMemo=function(e,t){return pr.current.useMemo(e,t)};gt.useReducer=function(e,t,n){return pr.current.useReducer(e,t,n)};gt.useRef=function(e){return pr.current.useRef(e)};gt.useState=function(e){return pr.current.useState(e)};gt.useSyncExternalStore=function(e,t,n){return pr.current.useSyncExternalStore(e,t,n)};gt.useTransition=function(){return pr.current.useTransition()};gt.version="18.3.1";B5.exports=gt;var D=B5.exports;const Ft=M5(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb=D,Pb=Symbol.for("react.element"),kb=Symbol.for("react.fragment"),_b=Object.prototype.hasOwnProperty,Eb=Lb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tb={key:!0,ref:!0,__self:!0,__source:!0};function K5(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)_b.call(t,r)&&!Tb.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Pb,type:e,key:s,ref:o,props:i,_owner:Eb.current}}Bh.Fragment=kb;Bh.jsx=K5;Bh.jsxs=K5;O5.exports=Bh;var c=O5.exports,Hp={},Y5={exports:{}},Jr={},J5={exports:{}},X5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,ie){var Y=H.length;H.push(ie);e:for(;0<Y;){var me=Y-1>>>1,C=H[me];if(0<i(C,ie))H[me]=ie,H[Y]=C,Y=me;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ie=H[0],Y=H.pop();if(Y!==ie){H[0]=Y;e:for(var me=0,C=H.length,B=C>>>1;me<B;){var z=2*(me+1)-1,J=H[z],Q=z+1,oe=H[Q];if(0>i(J,Y))Q<C&&0>i(oe,J)?(H[me]=oe,H[Q]=Y,me=Q):(H[me]=J,H[z]=Y,me=z);else if(Q<C&&0>i(oe,Y))H[me]=oe,H[Q]=Y,me=Q;else break e}}return ie}function i(H,ie){var Y=H.sortIndex-ie.sortIndex;return Y!==0?Y:H.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],d=[],f=1,p=null,g=3,m=!1,N=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(H){for(var ie=n(d);ie!==null;){if(ie.callback===null)r(d);else if(ie.startTime<=H)r(d),ie.sortIndex=ie.expirationTime,t(l,ie);else break;ie=n(d)}}function R(H){if(b=!1,j(H),!N)if(n(l)!==null)N=!0,ae(q);else{var ie=n(d);ie!==null&&ce(R,ie.startTime-H)}}function q(H,ie){N=!1,b&&(b=!1,x(F),F=-1),m=!0;var Y=g;try{for(j(ie),p=n(l);p!==null&&(!(p.expirationTime>ie)||H&&!E());){var me=p.callback;if(typeof me=="function"){p.callback=null,g=p.priorityLevel;var C=me(p.expirationTime<=ie);ie=e.unstable_now(),typeof C=="function"?p.callback=C:p===n(l)&&r(l),j(ie)}else r(l);p=n(l)}if(p!==null)var B=!0;else{var z=n(d);z!==null&&ce(R,z.startTime-ie),B=!1}return B}finally{p=null,g=Y,m=!1}}var U=!1,T=null,F=-1,$=5,ee=-1;function E(){return!(e.unstable_now()-ee<$)}function M(){if(T!==null){var H=e.unstable_now();ee=H;var ie=!0;try{ie=T(!0,H)}finally{ie?X():(U=!1,T=null)}}else U=!1}var X;if(typeof w=="function")X=function(){w(M)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,de=G.port2;G.port1.onmessage=M,X=function(){de.postMessage(null)}}else X=function(){A(M,0)};function ae(H){T=H,U||(U=!0,X())}function ce(H,ie){F=A(function(){H(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){N||m||(N=!0,ae(q))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(H){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var Y=g;g=ie;try{return H()}finally{g=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,ie){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=g;g=H;try{return ie()}finally{g=Y}},e.unstable_scheduleCallback=function(H,ie,Y){var me=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?me+Y:me):Y=me,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Y+C,H={id:f++,callback:ie,priorityLevel:H,startTime:Y,expirationTime:C,sortIndex:-1},Y>me?(H.sortIndex=Y,t(d,H),n(l)===null&&H===n(d)&&(b?(x(F),F=-1):b=!0,ce(R,Y-me))):(H.sortIndex=C,t(l,H),N||m||(N=!0,ae(q))),H},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(H){var ie=g;return function(){var Y=g;g=ie;try{return H.apply(this,arguments)}finally{g=Y}}}})(X5);J5.exports=X5;var Fb=J5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib=D,Kr=Fb;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q5=new Set,Oc={};function na(e,t){ul(e,t),ul(e+"Capture",t)}function ul(e,t){for(Oc[e]=t,e=0;e<t.length;e++)Q5.add(t[e])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wp=Object.prototype.hasOwnProperty,Rb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rg={},Dg={};function Db(e){return Wp.call(Dg,e)?!0:Wp.call(Rg,e)?!1:Rb.test(e)?Dg[e]=!0:(Rg[e]=!0,!1)}function Mb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ob(e,t,n,r){if(t===null||typeof t>"u"||Mb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vn[e]=new mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vn[t]=new mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vn[e]=new mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vn[e]=new mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vn[e]=new mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vn[e]=new mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vn[e]=new mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vn[e]=new mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vn[e]=new mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var w1=/[\-:]([a-z])/g;function b1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(w1,b1);Vn[t]=new mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(w1,b1);Vn[t]=new mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(w1,b1);Vn[t]=new mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vn[e]=new mr(e,1,!1,e.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vn[e]=new mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function S1(e,t,n,r){var i=Vn.hasOwnProperty(t)?Vn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ob(t,n,i,r)&&(n=null),r||i===null?Db(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _s=Ib.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sd=Symbol.for("react.element"),Ra=Symbol.for("react.portal"),Da=Symbol.for("react.fragment"),N1=Symbol.for("react.strict_mode"),Gp=Symbol.for("react.profiler"),Z5=Symbol.for("react.provider"),ey=Symbol.for("react.context"),j1=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Yp=Symbol.for("react.suspense_list"),A1=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),ty=Symbol.for("react.offscreen"),Mg=Symbol.iterator;function nc(e){return e===null||typeof e!="object"?null:(e=Mg&&e[Mg]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Object.assign,Jf;function vc(e){if(Jf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jf=t&&t[1]||""}return`
`+Jf+e}var Xf=!1;function Qf(e,t){if(!e||Xf)return"";Xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vc(e):""}function Bb(e){switch(e.tag){case 5:return vc(e.type);case 16:return vc("Lazy");case 13:return vc("Suspense");case 19:return vc("SuspenseList");case 0:case 2:case 15:return e=Qf(e.type,!1),e;case 11:return e=Qf(e.type.render,!1),e;case 1:return e=Qf(e.type,!0),e;default:return""}}function Jp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Da:return"Fragment";case Ra:return"Portal";case Gp:return"Profiler";case N1:return"StrictMode";case Kp:return"Suspense";case Yp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ey:return(e.displayName||"Context")+".Consumer";case Z5:return(e._context.displayName||"Context")+".Provider";case j1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A1:return t=e.displayName||null,t!==null?t:Jp(e.type)||"Memo";case Qs:t=e._payload,e=e._init;try{return Jp(e(t))}catch{}}return null}function zb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jp(t);case 8:return t===N1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function po(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ny(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qb(e){var t=ny(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function od(e){e._valueTracker||(e._valueTracker=qb(e))}function ry(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ny(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ih(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xp(e,t){var n=t.checked;return rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Og(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=po(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iy(e,t){t=t.checked,t!=null&&S1(e,"checked",t,!1)}function Qp(e,t){iy(e,t);var n=po(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zp(e,t.type,po(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zp(e,t,n){(t!=="number"||ih(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yc=Array.isArray;function el(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+po(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function em(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_e(92));if(yc(n)){if(1<n.length)throw Error(_e(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:po(n)}}function sy(e,t){var n=po(t.value),r=po(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ad,ay=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ad=ad||document.createElement("div"),ad.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ad.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ub=["Webkit","ms","Moz","O"];Object.keys(jc).forEach(function(e){Ub.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jc[t]=jc[e]})});function ly(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||jc.hasOwnProperty(e)&&jc[e]?(""+t).trim():t+"px"}function cy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ly(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Vb=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nm(e,t){if(t){if(Vb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function rm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var im=null;function C1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sm=null,tl=null,nl=null;function Ug(e){if(e=du(e)){if(typeof sm!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=$h(t),sm(e.stateNode,e.type,t))}}function uy(e){tl?nl?nl.push(e):nl=[e]:tl=e}function dy(){if(tl){var e=tl,t=nl;if(nl=tl=null,Ug(e),t)for(e=0;e<t.length;e++)Ug(t[e])}}function hy(e,t){return e(t)}function fy(){}var Zf=!1;function py(e,t,n){if(Zf)return e(t,n);Zf=!0;try{return hy(e,t,n)}finally{Zf=!1,(tl!==null||nl!==null)&&(fy(),dy())}}function zc(e,t){var n=e.stateNode;if(n===null)return null;var r=$h(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_e(231,t,typeof n));return n}var om=!1;if(js)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){om=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{om=!1}function $b(e,t,n,r,i,s,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var Ac=!1,sh=null,oh=!1,am=null,Hb={onError:function(e){Ac=!0,sh=e}};function Wb(e,t,n,r,i,s,o,a,l){Ac=!1,sh=null,$b.apply(Hb,arguments)}function Gb(e,t,n,r,i,s,o,a,l){if(Wb.apply(this,arguments),Ac){if(Ac){var d=sh;Ac=!1,sh=null}else throw Error(_e(198));oh||(oh=!0,am=d)}}function ra(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function my(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vg(e){if(ra(e)!==e)throw Error(_e(188))}function Kb(e){var t=e.alternate;if(!t){if(t=ra(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Vg(i),e;if(s===r)return Vg(i),t;s=s.sibling}throw Error(_e(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?e:t}function gy(e){return e=Kb(e),e!==null?vy(e):null}function vy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vy(e);if(t!==null)return t;e=e.sibling}return null}var yy=Kr.unstable_scheduleCallback,$g=Kr.unstable_cancelCallback,Yb=Kr.unstable_shouldYield,Jb=Kr.unstable_requestPaint,gn=Kr.unstable_now,Xb=Kr.unstable_getCurrentPriorityLevel,L1=Kr.unstable_ImmediatePriority,xy=Kr.unstable_UserBlockingPriority,ah=Kr.unstable_NormalPriority,Qb=Kr.unstable_LowPriority,wy=Kr.unstable_IdlePriority,zh=null,Ki=null;function Zb(e){if(Ki&&typeof Ki.onCommitFiberRoot=="function")try{Ki.onCommitFiberRoot(zh,e,void 0,(e.current.flags&128)===128)}catch{}}var Ei=Math.clz32?Math.clz32:nS,eS=Math.log,tS=Math.LN2;function nS(e){return e>>>=0,e===0?32:31-(eS(e)/tS|0)|0}var ld=64,cd=4194304;function xc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=xc(a):(s&=o,s!==0&&(r=xc(s)))}else o=n&~i,o!==0?r=xc(o):s!==0&&(r=xc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ei(t),i=1<<n,r|=e[n],t&=~i;return r}function rS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ei(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=rS(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function lm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function by(){var e=ld;return ld<<=1,!(ld&4194240)&&(ld=64),e}function ep(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ei(t),e[t]=n}function sS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ei(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function P1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ei(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function Sy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ny,k1,jy,Ay,Cy,cm=!1,ud=[],so=null,oo=null,ao=null,qc=new Map,Uc=new Map,eo=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hg(e,t){switch(e){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":qc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(t.pointerId)}}function ic(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=du(t),t!==null&&k1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function aS(e,t,n,r,i){switch(t){case"focusin":return so=ic(so,e,t,n,r,i),!0;case"dragenter":return oo=ic(oo,e,t,n,r,i),!0;case"mouseover":return ao=ic(ao,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return qc.set(s,ic(qc.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Uc.set(s,ic(Uc.get(s)||null,e,t,n,r,i)),!0}return!1}function Ly(e){var t=Vo(e.target);if(t!==null){var n=ra(t);if(n!==null){if(t=n.tag,t===13){if(t=my(n),t!==null){e.blockedOn=t,Cy(e.priority,function(){jy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=um(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);im=r,n.target.dispatchEvent(r),im=null}else return t=du(n),t!==null&&k1(t),e.blockedOn=n,!1;t.shift()}return!0}function Wg(e,t,n){Rd(e)&&n.delete(t)}function lS(){cm=!1,so!==null&&Rd(so)&&(so=null),oo!==null&&Rd(oo)&&(oo=null),ao!==null&&Rd(ao)&&(ao=null),qc.forEach(Wg),Uc.forEach(Wg)}function sc(e,t){e.blockedOn===t&&(e.blockedOn=null,cm||(cm=!0,Kr.unstable_scheduleCallback(Kr.unstable_NormalPriority,lS)))}function Vc(e){function t(i){return sc(i,e)}if(0<ud.length){sc(ud[0],e);for(var n=1;n<ud.length;n++){var r=ud[n];r.blockedOn===e&&(r.blockedOn=null)}}for(so!==null&&sc(so,e),oo!==null&&sc(oo,e),ao!==null&&sc(ao,e),qc.forEach(t),Uc.forEach(t),n=0;n<eo.length;n++)r=eo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<eo.length&&(n=eo[0],n.blockedOn===null);)Ly(n),n.blockedOn===null&&eo.shift()}var rl=_s.ReactCurrentBatchConfig,ch=!0;function cS(e,t,n,r){var i=_t,s=rl.transition;rl.transition=null;try{_t=1,_1(e,t,n,r)}finally{_t=i,rl.transition=s}}function uS(e,t,n,r){var i=_t,s=rl.transition;rl.transition=null;try{_t=4,_1(e,t,n,r)}finally{_t=i,rl.transition=s}}function _1(e,t,n,r){if(ch){var i=um(e,t,n,r);if(i===null)up(e,t,r,uh,n),Hg(e,r);else if(aS(i,e,t,n,r))r.stopPropagation();else if(Hg(e,r),t&4&&-1<oS.indexOf(e)){for(;i!==null;){var s=du(i);if(s!==null&&Ny(s),s=um(e,t,n,r),s===null&&up(e,t,r,uh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else up(e,t,r,null,n)}}var uh=null;function um(e,t,n,r){if(uh=null,e=C1(r),e=Vo(e),e!==null)if(t=ra(e),t===null)e=null;else if(n=t.tag,n===13){if(e=my(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uh=e,null}function Py(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xb()){case L1:return 1;case xy:return 4;case ah:case Qb:return 16;case wy:return 536870912;default:return 16}default:return 16}}var no=null,E1=null,Dd=null;function ky(){if(Dd)return Dd;var e,t=E1,n=t.length,r,i="value"in no?no.value:no.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Dd=i.slice(e,1<r?1-r:void 0)}function Md(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dd(){return!0}function Gg(){return!1}function Xr(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dd:Gg,this.isPropagationStopped=Gg,this}return rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),t}var Sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T1=Xr(Sl),uu=rn({},Sl,{view:0,detail:0}),dS=Xr(uu),tp,np,oc,qh=rn({},uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oc&&(oc&&e.type==="mousemove"?(tp=e.screenX-oc.screenX,np=e.screenY-oc.screenY):np=tp=0,oc=e),tp)},movementY:function(e){return"movementY"in e?e.movementY:np}}),Kg=Xr(qh),hS=rn({},qh,{dataTransfer:0}),fS=Xr(hS),pS=rn({},uu,{relatedTarget:0}),rp=Xr(pS),mS=rn({},Sl,{animationName:0,elapsedTime:0,pseudoElement:0}),gS=Xr(mS),vS=rn({},Sl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yS=Xr(vS),xS=rn({},Sl,{data:0}),Yg=Xr(xS),wS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SS[e])?!!t[e]:!1}function F1(){return NS}var jS=rn({},uu,{key:function(e){if(e.key){var t=wS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Md(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F1,charCode:function(e){return e.type==="keypress"?Md(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Md(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AS=Xr(jS),CS=rn({},qh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jg=Xr(CS),LS=rn({},uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F1}),PS=Xr(LS),kS=rn({},Sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),_S=Xr(kS),ES=rn({},qh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TS=Xr(ES),FS=[9,13,27,32],I1=js&&"CompositionEvent"in window,Cc=null;js&&"documentMode"in document&&(Cc=document.documentMode);var IS=js&&"TextEvent"in window&&!Cc,_y=js&&(!I1||Cc&&8<Cc&&11>=Cc),Xg=String.fromCharCode(32),Qg=!1;function Ey(e,t){switch(e){case"keyup":return FS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ma=!1;function RS(e,t){switch(e){case"compositionend":return Ty(t);case"keypress":return t.which!==32?null:(Qg=!0,Xg);case"textInput":return e=t.data,e===Xg&&Qg?null:e;default:return null}}function DS(e,t){if(Ma)return e==="compositionend"||!I1&&Ey(e,t)?(e=ky(),Dd=E1=no=null,Ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _y&&t.locale!=="ko"?null:t.data;default:return null}}var MS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MS[e.type]:t==="textarea"}function Fy(e,t,n,r){uy(r),t=dh(t,"onChange"),0<t.length&&(n=new T1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Lc=null,$c=null;function OS(e){$y(e,0)}function Uh(e){var t=za(e);if(ry(t))return e}function BS(e,t){if(e==="change")return t}var Iy=!1;if(js){var ip;if(js){var sp="oninput"in document;if(!sp){var e2=document.createElement("div");e2.setAttribute("oninput","return;"),sp=typeof e2.oninput=="function"}ip=sp}else ip=!1;Iy=ip&&(!document.documentMode||9<document.documentMode)}function t2(){Lc&&(Lc.detachEvent("onpropertychange",Ry),$c=Lc=null)}function Ry(e){if(e.propertyName==="value"&&Uh($c)){var t=[];Fy(t,$c,e,C1(e)),py(OS,t)}}function zS(e,t,n){e==="focusin"?(t2(),Lc=t,$c=n,Lc.attachEvent("onpropertychange",Ry)):e==="focusout"&&t2()}function qS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uh($c)}function US(e,t){if(e==="click")return Uh(t)}function VS(e,t){if(e==="input"||e==="change")return Uh(t)}function $S(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fi=typeof Object.is=="function"?Object.is:$S;function Hc(e,t){if(Fi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wp.call(t,i)||!Fi(e[i],t[i]))return!1}return!0}function n2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r2(e,t){var n=n2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n2(n)}}function Dy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function My(){for(var e=window,t=ih();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ih(e.document)}return t}function R1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HS(e){var t=My(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Dy(n.ownerDocument.documentElement,n)){if(r!==null&&R1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=r2(n,s);var o=r2(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WS=js&&"documentMode"in document&&11>=document.documentMode,Oa=null,dm=null,Pc=null,hm=!1;function i2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hm||Oa==null||Oa!==ih(r)||(r=Oa,"selectionStart"in r&&R1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pc&&Hc(Pc,r)||(Pc=r,r=dh(dm,"onSelect"),0<r.length&&(t=new T1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Oa)))}function hd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ba={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},op={},Oy={};js&&(Oy=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Vh(e){if(op[e])return op[e];if(!Ba[e])return e;var t=Ba[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Oy)return op[e]=t[n];return e}var By=Vh("animationend"),zy=Vh("animationiteration"),qy=Vh("animationstart"),Uy=Vh("transitionend"),Vy=new Map,s2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wo(e,t){Vy.set(e,t),na(t,[e])}for(var ap=0;ap<s2.length;ap++){var lp=s2[ap],GS=lp.toLowerCase(),KS=lp[0].toUpperCase()+lp.slice(1);wo(GS,"on"+KS)}wo(By,"onAnimationEnd");wo(zy,"onAnimationIteration");wo(qy,"onAnimationStart");wo("dblclick","onDoubleClick");wo("focusin","onFocus");wo("focusout","onBlur");wo(Uy,"onTransitionEnd");ul("onMouseEnter",["mouseout","mouseover"]);ul("onMouseLeave",["mouseout","mouseover"]);ul("onPointerEnter",["pointerout","pointerover"]);ul("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function o2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gb(r,t,void 0,e),e.currentTarget=null}function $y(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;o2(i,a,d),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;o2(i,a,d),s=l}}}if(oh)throw e=am,oh=!1,am=null,e}function Ht(e,t){var n=t[vm];n===void 0&&(n=t[vm]=new Set);var r=e+"__bubble";n.has(r)||(Hy(t,e,2,!1),n.add(r))}function cp(e,t,n){var r=0;t&&(r|=4),Hy(n,e,r,t)}var fd="_reactListening"+Math.random().toString(36).slice(2);function Wc(e){if(!e[fd]){e[fd]=!0,Q5.forEach(function(n){n!=="selectionchange"&&(YS.has(n)||cp(n,!1,e),cp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fd]||(t[fd]=!0,cp("selectionchange",!1,t))}}function Hy(e,t,n,r){switch(Py(t)){case 1:var i=cS;break;case 4:i=uS;break;default:i=_1}n=i.bind(null,t,n,e),i=void 0,!om||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function up(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Vo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}py(function(){var d=s,f=C1(n),p=[];e:{var g=Vy.get(e);if(g!==void 0){var m=T1,N=e;switch(e){case"keypress":if(Md(n)===0)break e;case"keydown":case"keyup":m=AS;break;case"focusin":N="focus",m=rp;break;case"focusout":N="blur",m=rp;break;case"beforeblur":case"afterblur":m=rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=PS;break;case By:case zy:case qy:m=gS;break;case Uy:m=_S;break;case"scroll":m=dS;break;case"wheel":m=TS;break;case"copy":case"cut":case"paste":m=yS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Jg}var b=(t&4)!==0,A=!b&&e==="scroll",x=b?g!==null?g+"Capture":null:g;b=[];for(var w=d,j;w!==null;){j=w;var R=j.stateNode;if(j.tag===5&&R!==null&&(j=R,x!==null&&(R=zc(w,x),R!=null&&b.push(Gc(w,R,j)))),A)break;w=w.return}0<b.length&&(g=new m(g,N,null,n,f),p.push({event:g,listeners:b}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==im&&(N=n.relatedTarget||n.fromElement)&&(Vo(N)||N[As]))break e;if((m||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,m?(N=n.relatedTarget||n.toElement,m=d,N=N?Vo(N):null,N!==null&&(A=ra(N),N!==A||N.tag!==5&&N.tag!==6)&&(N=null)):(m=null,N=d),m!==N)){if(b=Kg,R="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(b=Jg,R="onPointerLeave",x="onPointerEnter",w="pointer"),A=m==null?g:za(m),j=N==null?g:za(N),g=new b(R,w+"leave",m,n,f),g.target=A,g.relatedTarget=j,R=null,Vo(f)===d&&(b=new b(x,w+"enter",N,n,f),b.target=j,b.relatedTarget=A,R=b),A=R,m&&N)t:{for(b=m,x=N,w=0,j=b;j;j=ka(j))w++;for(j=0,R=x;R;R=ka(R))j++;for(;0<w-j;)b=ka(b),w--;for(;0<j-w;)x=ka(x),j--;for(;w--;){if(b===x||x!==null&&b===x.alternate)break t;b=ka(b),x=ka(x)}b=null}else b=null;m!==null&&a2(p,g,m,b,!1),N!==null&&A!==null&&a2(p,A,N,b,!0)}}e:{if(g=d?za(d):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var q=BS;else if(Zg(g))if(Iy)q=VS;else{q=qS;var U=zS}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(q=US);if(q&&(q=q(e,d))){Fy(p,q,n,f);break e}U&&U(e,g,d),e==="focusout"&&(U=g._wrapperState)&&U.controlled&&g.type==="number"&&Zp(g,"number",g.value)}switch(U=d?za(d):window,e){case"focusin":(Zg(U)||U.contentEditable==="true")&&(Oa=U,dm=d,Pc=null);break;case"focusout":Pc=dm=Oa=null;break;case"mousedown":hm=!0;break;case"contextmenu":case"mouseup":case"dragend":hm=!1,i2(p,n,f);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":i2(p,n,f)}var T;if(I1)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Ma?Ey(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(_y&&n.locale!=="ko"&&(Ma||F!=="onCompositionStart"?F==="onCompositionEnd"&&Ma&&(T=ky()):(no=f,E1="value"in no?no.value:no.textContent,Ma=!0)),U=dh(d,F),0<U.length&&(F=new Yg(F,e,null,n,f),p.push({event:F,listeners:U}),T?F.data=T:(T=Ty(n),T!==null&&(F.data=T)))),(T=IS?RS(e,n):DS(e,n))&&(d=dh(d,"onBeforeInput"),0<d.length&&(f=new Yg("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=T))}$y(p,t)})}function Gc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dh(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zc(e,n),s!=null&&r.unshift(Gc(e,s,i)),s=zc(e,t),s!=null&&r.push(Gc(e,s,i))),e=e.return}return r}function ka(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function a2(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,i?(l=zc(n,s),l!=null&&o.unshift(Gc(n,l,a))):i||(l=zc(n,s),l!=null&&o.push(Gc(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var JS=/\r\n?/g,XS=/\u0000|\uFFFD/g;function l2(e){return(typeof e=="string"?e:""+e).replace(JS,`
`).replace(XS,"")}function pd(e,t,n){if(t=l2(t),l2(e)!==t&&n)throw Error(_e(425))}function hh(){}var fm=null,pm=null;function mm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gm=typeof setTimeout=="function"?setTimeout:void 0,QS=typeof clearTimeout=="function"?clearTimeout:void 0,c2=typeof Promise=="function"?Promise:void 0,ZS=typeof queueMicrotask=="function"?queueMicrotask:typeof c2<"u"?function(e){return c2.resolve(null).then(e).catch(eN)}:gm;function eN(e){setTimeout(function(){throw e})}function dp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Vc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vc(t)}function lo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function u2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nl=Math.random().toString(36).slice(2),Wi="__reactFiber$"+Nl,Kc="__reactProps$"+Nl,As="__reactContainer$"+Nl,vm="__reactEvents$"+Nl,tN="__reactListeners$"+Nl,nN="__reactHandles$"+Nl;function Vo(e){var t=e[Wi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[As]||n[Wi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=u2(e);e!==null;){if(n=e[Wi])return n;e=u2(e)}return t}e=n,n=e.parentNode}return null}function du(e){return e=e[Wi]||e[As],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function za(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function $h(e){return e[Kc]||null}var ym=[],qa=-1;function bo(e){return{current:e}}function Gt(e){0>qa||(e.current=ym[qa],ym[qa]=null,qa--)}function Ut(e,t){qa++,ym[qa]=e.current,e.current=t}var mo={},rr=bo(mo),kr=bo(!1),Xo=mo;function dl(e,t){var n=e.type.contextTypes;if(!n)return mo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _r(e){return e=e.childContextTypes,e!=null}function fh(){Gt(kr),Gt(rr)}function d2(e,t,n){if(rr.current!==mo)throw Error(_e(168));Ut(rr,t),Ut(kr,n)}function Wy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(_e(108,zb(e)||"Unknown",i));return rn({},n,r)}function ph(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mo,Xo=rr.current,Ut(rr,e),Ut(kr,kr.current),!0}function h2(e,t,n){var r=e.stateNode;if(!r)throw Error(_e(169));n?(e=Wy(e,t,Xo),r.__reactInternalMemoizedMergedChildContext=e,Gt(kr),Gt(rr),Ut(rr,e)):Gt(kr),Ut(kr,n)}var vs=null,Hh=!1,hp=!1;function Gy(e){vs===null?vs=[e]:vs.push(e)}function rN(e){Hh=!0,Gy(e)}function So(){if(!hp&&vs!==null){hp=!0;var e=0,t=_t;try{var n=vs;for(_t=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vs=null,Hh=!1}catch(i){throw vs!==null&&(vs=vs.slice(e+1)),yy(L1,So),i}finally{_t=t,hp=!1}}return null}var Ua=[],Va=0,mh=null,gh=0,di=[],hi=0,Qo=null,ys=1,xs="";function Mo(e,t){Ua[Va++]=gh,Ua[Va++]=mh,mh=e,gh=t}function Ky(e,t,n){di[hi++]=ys,di[hi++]=xs,di[hi++]=Qo,Qo=e;var r=ys;e=xs;var i=32-Ei(r)-1;r&=~(1<<i),n+=1;var s=32-Ei(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ys=1<<32-Ei(t)+i|n<<i|r,xs=s+e}else ys=1<<s|n<<i|r,xs=e}function D1(e){e.return!==null&&(Mo(e,1),Ky(e,1,0))}function M1(e){for(;e===mh;)mh=Ua[--Va],Ua[Va]=null,gh=Ua[--Va],Ua[Va]=null;for(;e===Qo;)Qo=di[--hi],di[hi]=null,xs=di[--hi],di[hi]=null,ys=di[--hi],di[hi]=null}var Wr=null,$r=null,Jt=!1,_i=null;function Yy(e,t){var n=fi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function f2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wr=e,$r=lo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wr=e,$r=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qo!==null?{id:ys,overflow:xs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wr=e,$r=null,!0):!1;default:return!1}}function xm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wm(e){if(Jt){var t=$r;if(t){var n=t;if(!f2(e,t)){if(xm(e))throw Error(_e(418));t=lo(n.nextSibling);var r=Wr;t&&f2(e,t)?Yy(r,n):(e.flags=e.flags&-4097|2,Jt=!1,Wr=e)}}else{if(xm(e))throw Error(_e(418));e.flags=e.flags&-4097|2,Jt=!1,Wr=e}}}function p2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wr=e}function md(e){if(e!==Wr)return!1;if(!Jt)return p2(e),Jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mm(e.type,e.memoizedProps)),t&&(t=$r)){if(xm(e))throw Jy(),Error(_e(418));for(;t;)Yy(e,t),t=lo(t.nextSibling)}if(p2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$r=lo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$r=null}}else $r=Wr?lo(e.stateNode.nextSibling):null;return!0}function Jy(){for(var e=$r;e;)e=lo(e.nextSibling)}function hl(){$r=Wr=null,Jt=!1}function O1(e){_i===null?_i=[e]:_i.push(e)}var iN=_s.ReactCurrentBatchConfig;function ac(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,e))}return e}function gd(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function m2(e){var t=e._init;return t(e._payload)}function Xy(e){function t(x,w){if(e){var j=x.deletions;j===null?(x.deletions=[w],x.flags|=16):j.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=fo(x,w),x.index=0,x.sibling=null,x}function s(x,w,j){return x.index=j,e?(j=x.alternate,j!==null?(j=j.index,j<w?(x.flags|=2,w):j):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,w,j,R){return w===null||w.tag!==6?(w=xp(j,x.mode,R),w.return=x,w):(w=i(w,j),w.return=x,w)}function l(x,w,j,R){var q=j.type;return q===Da?f(x,w,j.props.children,R,j.key):w!==null&&(w.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Qs&&m2(q)===w.type)?(R=i(w,j.props),R.ref=ac(x,w,j),R.return=x,R):(R=$d(j.type,j.key,j.props,null,x.mode,R),R.ref=ac(x,w,j),R.return=x,R)}function d(x,w,j,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=wp(j,x.mode,R),w.return=x,w):(w=i(w,j.children||[]),w.return=x,w)}function f(x,w,j,R,q){return w===null||w.tag!==7?(w=Ko(j,x.mode,R,q),w.return=x,w):(w=i(w,j),w.return=x,w)}function p(x,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return w=xp(""+w,x.mode,j),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sd:return j=$d(w.type,w.key,w.props,null,x.mode,j),j.ref=ac(x,null,w),j.return=x,j;case Ra:return w=wp(w,x.mode,j),w.return=x,w;case Qs:var R=w._init;return p(x,R(w._payload),j)}if(yc(w)||nc(w))return w=Ko(w,x.mode,j,null),w.return=x,w;gd(x,w)}return null}function g(x,w,j,R){var q=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return q!==null?null:a(x,w,""+j,R);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case sd:return j.key===q?l(x,w,j,R):null;case Ra:return j.key===q?d(x,w,j,R):null;case Qs:return q=j._init,g(x,w,q(j._payload),R)}if(yc(j)||nc(j))return q!==null?null:f(x,w,j,R,null);gd(x,j)}return null}function m(x,w,j,R,q){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(j)||null,a(w,x,""+R,q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case sd:return x=x.get(R.key===null?j:R.key)||null,l(w,x,R,q);case Ra:return x=x.get(R.key===null?j:R.key)||null,d(w,x,R,q);case Qs:var U=R._init;return m(x,w,j,U(R._payload),q)}if(yc(R)||nc(R))return x=x.get(j)||null,f(w,x,R,q,null);gd(w,R)}return null}function N(x,w,j,R){for(var q=null,U=null,T=w,F=w=0,$=null;T!==null&&F<j.length;F++){T.index>F?($=T,T=null):$=T.sibling;var ee=g(x,T,j[F],R);if(ee===null){T===null&&(T=$);break}e&&T&&ee.alternate===null&&t(x,T),w=s(ee,w,F),U===null?q=ee:U.sibling=ee,U=ee,T=$}if(F===j.length)return n(x,T),Jt&&Mo(x,F),q;if(T===null){for(;F<j.length;F++)T=p(x,j[F],R),T!==null&&(w=s(T,w,F),U===null?q=T:U.sibling=T,U=T);return Jt&&Mo(x,F),q}for(T=r(x,T);F<j.length;F++)$=m(T,x,F,j[F],R),$!==null&&(e&&$.alternate!==null&&T.delete($.key===null?F:$.key),w=s($,w,F),U===null?q=$:U.sibling=$,U=$);return e&&T.forEach(function(E){return t(x,E)}),Jt&&Mo(x,F),q}function b(x,w,j,R){var q=nc(j);if(typeof q!="function")throw Error(_e(150));if(j=q.call(j),j==null)throw Error(_e(151));for(var U=q=null,T=w,F=w=0,$=null,ee=j.next();T!==null&&!ee.done;F++,ee=j.next()){T.index>F?($=T,T=null):$=T.sibling;var E=g(x,T,ee.value,R);if(E===null){T===null&&(T=$);break}e&&T&&E.alternate===null&&t(x,T),w=s(E,w,F),U===null?q=E:U.sibling=E,U=E,T=$}if(ee.done)return n(x,T),Jt&&Mo(x,F),q;if(T===null){for(;!ee.done;F++,ee=j.next())ee=p(x,ee.value,R),ee!==null&&(w=s(ee,w,F),U===null?q=ee:U.sibling=ee,U=ee);return Jt&&Mo(x,F),q}for(T=r(x,T);!ee.done;F++,ee=j.next())ee=m(T,x,F,ee.value,R),ee!==null&&(e&&ee.alternate!==null&&T.delete(ee.key===null?F:ee.key),w=s(ee,w,F),U===null?q=ee:U.sibling=ee,U=ee);return e&&T.forEach(function(M){return t(x,M)}),Jt&&Mo(x,F),q}function A(x,w,j,R){if(typeof j=="object"&&j!==null&&j.type===Da&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case sd:e:{for(var q=j.key,U=w;U!==null;){if(U.key===q){if(q=j.type,q===Da){if(U.tag===7){n(x,U.sibling),w=i(U,j.props.children),w.return=x,x=w;break e}}else if(U.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Qs&&m2(q)===U.type){n(x,U.sibling),w=i(U,j.props),w.ref=ac(x,U,j),w.return=x,x=w;break e}n(x,U);break}else t(x,U);U=U.sibling}j.type===Da?(w=Ko(j.props.children,x.mode,R,j.key),w.return=x,x=w):(R=$d(j.type,j.key,j.props,null,x.mode,R),R.ref=ac(x,w,j),R.return=x,x=R)}return o(x);case Ra:e:{for(U=j.key;w!==null;){if(w.key===U)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){n(x,w.sibling),w=i(w,j.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=wp(j,x.mode,R),w.return=x,x=w}return o(x);case Qs:return U=j._init,A(x,w,U(j._payload),R)}if(yc(j))return N(x,w,j,R);if(nc(j))return b(x,w,j,R);gd(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,j),w.return=x,x=w):(n(x,w),w=xp(j,x.mode,R),w.return=x,x=w),o(x)):n(x,w)}return A}var fl=Xy(!0),Qy=Xy(!1),vh=bo(null),yh=null,$a=null,B1=null;function z1(){B1=$a=yh=null}function q1(e){var t=vh.current;Gt(vh),e._currentValue=t}function bm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function il(e,t){yh=e,B1=$a=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pr=!0),e.firstContext=null)}function gi(e){var t=e._currentValue;if(B1!==e)if(e={context:e,memoizedValue:t,next:null},$a===null){if(yh===null)throw Error(_e(308));$a=e,yh.dependencies={lanes:0,firstContext:e}}else $a=$a.next=e;return t}var $o=null;function U1(e){$o===null?$o=[e]:$o.push(e)}function Zy(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,U1(t)):(n.next=i.next,i.next=n),t.interleaved=n,Cs(e,r)}function Cs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zs=!1;function V1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ex(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ws(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,bt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Cs(e,n)}return i=r.interleaved,i===null?(t.next=t,U1(r)):(t.next=i.next,i.next=t),r.interleaved=t,Cs(e,n)}function Od(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,P1(e,n)}}function g2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xh(e,t,n,r){var i=e.updateQueue;Zs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?s=d:o.next=d,o=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,f=d=l=null,a=s;do{var g=a.lane,m=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var N=e,b=a;switch(g=t,m=n,b.tag){case 1:if(N=b.payload,typeof N=="function"){p=N.call(m,p,g);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=b.payload,g=typeof N=="function"?N.call(m,p,g):N,g==null)break e;p=rn({},p,g);break e;case 2:Zs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else m={eventTime:m,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=m,l=p):f=f.next=m,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(f===null&&(l=p),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ea|=o,e.lanes=o,e.memoizedState=p}}function v2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var hu={},Yi=bo(hu),Yc=bo(hu),Jc=bo(hu);function Ho(e){if(e===hu)throw Error(_e(174));return e}function $1(e,t){switch(Ut(Jc,t),Ut(Yc,e),Ut(Yi,hu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tm(t,e)}Gt(Yi),Ut(Yi,t)}function pl(){Gt(Yi),Gt(Yc),Gt(Jc)}function tx(e){Ho(Jc.current);var t=Ho(Yi.current),n=tm(t,e.type);t!==n&&(Ut(Yc,e),Ut(Yi,n))}function H1(e){Yc.current===e&&(Gt(Yi),Gt(Yc))}var Zt=bo(0);function wh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fp=[];function W1(){for(var e=0;e<fp.length;e++)fp[e]._workInProgressVersionPrimary=null;fp.length=0}var Bd=_s.ReactCurrentDispatcher,pp=_s.ReactCurrentBatchConfig,Zo=0,tn=null,kn=null,Rn=null,bh=!1,kc=!1,Xc=0,sN=0;function Gn(){throw Error(_e(321))}function G1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fi(e[n],t[n]))return!1;return!0}function K1(e,t,n,r,i,s){if(Zo=s,tn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bd.current=e===null||e.memoizedState===null?cN:uN,e=n(r,i),kc){s=0;do{if(kc=!1,Xc=0,25<=s)throw Error(_e(301));s+=1,Rn=kn=null,t.updateQueue=null,Bd.current=dN,e=n(r,i)}while(kc)}if(Bd.current=Sh,t=kn!==null&&kn.next!==null,Zo=0,Rn=kn=tn=null,bh=!1,t)throw Error(_e(300));return e}function Y1(){var e=Xc!==0;return Xc=0,e}function Hi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?tn.memoizedState=Rn=e:Rn=Rn.next=e,Rn}function vi(){if(kn===null){var e=tn.alternate;e=e!==null?e.memoizedState:null}else e=kn.next;var t=Rn===null?tn.memoizedState:Rn.next;if(t!==null)Rn=t,kn=e;else{if(e===null)throw Error(_e(310));kn=e,e={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},Rn===null?tn.memoizedState=Rn=e:Rn=Rn.next=e}return Rn}function Qc(e,t){return typeof t=="function"?t(e):t}function mp(e){var t=vi(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=kn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,d=s;do{var f=d.lane;if((Zo&f)===f)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,tn.lanes|=f,ea|=f}d=d.next}while(d!==null&&d!==s);l===null?o=r:l.next=a,Fi(r,t.memoizedState)||(Pr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,tn.lanes|=s,ea|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gp(e){var t=vi(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Fi(s,t.memoizedState)||(Pr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function nx(){}function rx(e,t){var n=tn,r=vi(),i=t(),s=!Fi(r.memoizedState,i);if(s&&(r.memoizedState=i,Pr=!0),r=r.queue,J1(ox.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Rn!==null&&Rn.memoizedState.tag&1){if(n.flags|=2048,Zc(9,sx.bind(null,n,r,i,t),void 0,null),Mn===null)throw Error(_e(349));Zo&30||ix(n,t,i)}return i}function ix(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sx(e,t,n,r){t.value=n,t.getSnapshot=r,ax(t)&&lx(e)}function ox(e,t,n){return n(function(){ax(t)&&lx(e)})}function ax(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fi(e,n)}catch{return!0}}function lx(e){var t=Cs(e,1);t!==null&&Ti(t,e,1,-1)}function y2(e){var t=Hi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:e},t.queue=e,e=e.dispatch=lN.bind(null,tn,e),[t.memoizedState,e]}function Zc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function cx(){return vi().memoizedState}function zd(e,t,n,r){var i=Hi();tn.flags|=e,i.memoizedState=Zc(1|t,n,void 0,r===void 0?null:r)}function Wh(e,t,n,r){var i=vi();r=r===void 0?null:r;var s=void 0;if(kn!==null){var o=kn.memoizedState;if(s=o.destroy,r!==null&&G1(r,o.deps)){i.memoizedState=Zc(t,n,s,r);return}}tn.flags|=e,i.memoizedState=Zc(1|t,n,s,r)}function x2(e,t){return zd(8390656,8,e,t)}function J1(e,t){return Wh(2048,8,e,t)}function ux(e,t){return Wh(4,2,e,t)}function dx(e,t){return Wh(4,4,e,t)}function hx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fx(e,t,n){return n=n!=null?n.concat([e]):null,Wh(4,4,hx.bind(null,t,e),n)}function X1(){}function px(e,t){var n=vi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&G1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mx(e,t){var n=vi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&G1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gx(e,t,n){return Zo&21?(Fi(n,t)||(n=by(),tn.lanes|=n,ea|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pr=!0),e.memoizedState=n)}function oN(e,t){var n=_t;_t=n!==0&&4>n?n:4,e(!0);var r=pp.transition;pp.transition={};try{e(!1),t()}finally{_t=n,pp.transition=r}}function vx(){return vi().memoizedState}function aN(e,t,n){var r=ho(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yx(e))xx(t,n);else if(n=Zy(e,t,n,r),n!==null){var i=fr();Ti(n,e,r,i),wx(n,t,r)}}function lN(e,t,n){var r=ho(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yx(e))xx(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Fi(a,o)){var l=t.interleaved;l===null?(i.next=i,U1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Zy(e,t,i,r),n!==null&&(i=fr(),Ti(n,e,r,i),wx(n,t,r))}}function yx(e){var t=e.alternate;return e===tn||t!==null&&t===tn}function xx(e,t){kc=bh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,P1(e,n)}}var Sh={readContext:gi,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},cN={readContext:gi,useCallback:function(e,t){return Hi().memoizedState=[e,t===void 0?null:t],e},useContext:gi,useEffect:x2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zd(4194308,4,hx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zd(4194308,4,e,t)},useInsertionEffect:function(e,t){return zd(4,2,e,t)},useMemo:function(e,t){var n=Hi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=aN.bind(null,tn,e),[r.memoizedState,e]},useRef:function(e){var t=Hi();return e={current:e},t.memoizedState=e},useState:y2,useDebugValue:X1,useDeferredValue:function(e){return Hi().memoizedState=e},useTransition:function(){var e=y2(!1),t=e[0];return e=oN.bind(null,e[1]),Hi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=tn,i=Hi();if(Jt){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=t(),Mn===null)throw Error(_e(349));Zo&30||ix(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,x2(ox.bind(null,r,s,e),[e]),r.flags|=2048,Zc(9,sx.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Hi(),t=Mn.identifierPrefix;if(Jt){var n=xs,r=ys;n=(r&~(1<<32-Ei(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uN={readContext:gi,useCallback:px,useContext:gi,useEffect:J1,useImperativeHandle:fx,useInsertionEffect:ux,useLayoutEffect:dx,useMemo:mx,useReducer:mp,useRef:cx,useState:function(){return mp(Qc)},useDebugValue:X1,useDeferredValue:function(e){var t=vi();return gx(t,kn.memoizedState,e)},useTransition:function(){var e=mp(Qc)[0],t=vi().memoizedState;return[e,t]},useMutableSource:nx,useSyncExternalStore:rx,useId:vx,unstable_isNewReconciler:!1},dN={readContext:gi,useCallback:px,useContext:gi,useEffect:J1,useImperativeHandle:fx,useInsertionEffect:ux,useLayoutEffect:dx,useMemo:mx,useReducer:gp,useRef:cx,useState:function(){return gp(Qc)},useDebugValue:X1,useDeferredValue:function(e){var t=vi();return kn===null?t.memoizedState=e:gx(t,kn.memoizedState,e)},useTransition:function(){var e=gp(Qc)[0],t=vi().memoizedState;return[e,t]},useMutableSource:nx,useSyncExternalStore:rx,useId:vx,unstable_isNewReconciler:!1};function Li(e,t){if(e&&e.defaultProps){t=rn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gh={isMounted:function(e){return(e=e._reactInternals)?ra(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fr(),i=ho(e),s=ws(r,i);s.payload=t,n!=null&&(s.callback=n),t=co(e,s,i),t!==null&&(Ti(t,e,i,r),Od(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fr(),i=ho(e),s=ws(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=co(e,s,i),t!==null&&(Ti(t,e,i,r),Od(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fr(),r=ho(e),i=ws(n,r);i.tag=2,t!=null&&(i.callback=t),t=co(e,i,r),t!==null&&(Ti(t,e,r,n),Od(t,e,r))}};function w2(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Hc(n,r)||!Hc(i,s):!0}function bx(e,t,n){var r=!1,i=mo,s=t.contextType;return typeof s=="object"&&s!==null?s=gi(s):(i=_r(t)?Xo:rr.current,r=t.contextTypes,s=(r=r!=null)?dl(e,i):mo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function b2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gh.enqueueReplaceState(t,t.state,null)}function Nm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},V1(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=gi(s):(s=_r(t)?Xo:rr.current,i.context=dl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Sm(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Gh.enqueueReplaceState(i,i.state,null),xh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ml(e,t){try{var n="",r=t;do n+=Bb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function vp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hN=typeof WeakMap=="function"?WeakMap:Map;function Sx(e,t,n){n=ws(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jh||(jh=!0,Im=r),jm(e,t)},n}function Nx(e,t,n){n=ws(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){jm(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jm(e,t),typeof r!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function S2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hN;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=CN.bind(null,e,t,n),t.then(e,e))}function N2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function j2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ws(-1,1),t.tag=2,co(n,t,1))),n.lanes|=1),e)}var fN=_s.ReactCurrentOwner,Pr=!1;function hr(e,t,n,r){t.child=e===null?Qy(t,null,n,r):fl(t,e.child,n,r)}function A2(e,t,n,r,i){n=n.render;var s=t.ref;return il(t,i),r=K1(e,t,n,r,s,i),n=Y1(),e!==null&&!Pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ls(e,t,i)):(Jt&&n&&D1(t),t.flags|=1,hr(e,t,r,i),t.child)}function C2(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!s0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,jx(e,t,s,r,i)):(e=$d(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hc,n(o,r)&&e.ref===t.ref)return Ls(e,t,i)}return t.flags|=1,e=fo(s,r),e.ref=t.ref,e.return=t,t.child=e}function jx(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Hc(s,r)&&e.ref===t.ref)if(Pr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Pr=!0);else return t.lanes=e.lanes,Ls(e,t,i)}return Am(e,t,n,r,i)}function Ax(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Wa,Vr),Vr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ut(Wa,Vr),Vr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ut(Wa,Vr),Vr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ut(Wa,Vr),Vr|=r;return hr(e,t,i,n),t.child}function Cx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Am(e,t,n,r,i){var s=_r(n)?Xo:rr.current;return s=dl(t,s),il(t,i),n=K1(e,t,n,r,s,i),r=Y1(),e!==null&&!Pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ls(e,t,i)):(Jt&&r&&D1(t),t.flags|=1,hr(e,t,n,i),t.child)}function L2(e,t,n,r,i){if(_r(n)){var s=!0;ph(t)}else s=!1;if(il(t,i),t.stateNode===null)qd(e,t),bx(t,n,r),Nm(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=gi(d):(d=_r(n)?Xo:rr.current,d=dl(t,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&b2(t,o,r,d),Zs=!1;var g=t.memoizedState;o.state=g,xh(t,r,o,i),l=t.memoizedState,a!==r||g!==l||kr.current||Zs?(typeof f=="function"&&(Sm(t,n,f,r),l=t.memoizedState),(a=Zs||w2(t,n,a,r,g,l,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ex(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:Li(t.type,a),o.props=d,p=t.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gi(l):(l=_r(n)?Xo:rr.current,l=dl(t,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==l)&&b2(t,o,r,l),Zs=!1,g=t.memoizedState,o.state=g,xh(t,r,o,i);var N=t.memoizedState;a!==p||g!==N||kr.current||Zs?(typeof m=="function"&&(Sm(t,n,m,r),N=t.memoizedState),(d=Zs||w2(t,n,d,r,g,N,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,N,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,N,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),o.props=r,o.state=N,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Cm(e,t,n,r,s,i)}function Cm(e,t,n,r,i,s){Cx(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&h2(t,n,!1),Ls(e,t,s);r=t.stateNode,fN.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=fl(t,e.child,null,s),t.child=fl(t,null,a,s)):hr(e,t,a,s),t.memoizedState=r.state,i&&h2(t,n,!0),t.child}function Lx(e){var t=e.stateNode;t.pendingContext?d2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&d2(e,t.context,!1),$1(e,t.containerInfo)}function P2(e,t,n,r,i){return hl(),O1(i),t.flags|=256,hr(e,t,n,r),t.child}var Lm={dehydrated:null,treeContext:null,retryLane:0};function Pm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Px(e,t,n){var r=t.pendingProps,i=Zt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ut(Zt,i&1),e===null)return wm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jh(o,r,0,null),e=Ko(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Pm(n),t.memoizedState=Lm,e):Q1(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return pN(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=fo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=fo(a,s):(s=Ko(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Pm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Lm,r}return s=e.child,e=s.sibling,r=fo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Q1(e,t){return t=Jh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vd(e,t,n,r){return r!==null&&O1(r),fl(t,e.child,null,n),e=Q1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pN(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=vp(Error(_e(422))),vd(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Jh({mode:"visible",children:r.children},i,0,null),s=Ko(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&fl(t,e.child,null,o),t.child.memoizedState=Pm(o),t.memoizedState=Lm,s);if(!(t.mode&1))return vd(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(_e(419)),r=vp(s,r,void 0),vd(e,t,o,r)}if(a=(o&e.childLanes)!==0,Pr||a){if(r=Mn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Cs(e,i),Ti(r,e,i,-1))}return i0(),r=vp(Error(_e(421))),vd(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=LN.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,$r=lo(i.nextSibling),Wr=t,Jt=!0,_i=null,e!==null&&(di[hi++]=ys,di[hi++]=xs,di[hi++]=Qo,ys=e.id,xs=e.overflow,Qo=t),t=Q1(t,r.children),t.flags|=4096,t)}function k2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bm(e.return,t,n)}function yp(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kx(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(hr(e,t,r.children,n),r=Zt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&k2(e,n,t);else if(e.tag===19)k2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ut(Zt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&wh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),yp(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}yp(t,!0,n,null,s);break;case"together":yp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ls(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ea|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,n=fo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mN(e,t,n){switch(t.tag){case 3:Lx(t),hl();break;case 5:tx(t);break;case 1:_r(t.type)&&ph(t);break;case 4:$1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ut(vh,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ut(Zt,Zt.current&1),t.flags|=128,null):n&t.child.childLanes?Px(e,t,n):(Ut(Zt,Zt.current&1),e=Ls(e,t,n),e!==null?e.sibling:null);Ut(Zt,Zt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kx(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ut(Zt,Zt.current),r)break;return null;case 22:case 23:return t.lanes=0,Ax(e,t,n)}return Ls(e,t,n)}var _x,km,Ex,Tx;_x=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};km=function(){};Ex=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ho(Yi.current);var s=null;switch(n){case"input":i=Xp(e,i),r=Xp(e,r),s=[];break;case"select":i=rn({},i,{value:void 0}),r=rn({},r,{value:void 0}),s=[];break;case"textarea":i=em(e,i),r=em(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hh)}nm(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Oc.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(a=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Oc.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ht("scroll",e),s||a===l||(s=[])):(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};Tx=function(e,t,n,r){n!==r&&(t.flags|=4)};function lc(e,t){if(!Jt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gN(e,t,n){var r=t.pendingProps;switch(M1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(t),null;case 1:return _r(t.type)&&fh(),Kn(t),null;case 3:return r=t.stateNode,pl(),Gt(kr),Gt(rr),W1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(md(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_i!==null&&(Mm(_i),_i=null))),km(e,t),Kn(t),null;case 5:H1(t);var i=Ho(Jc.current);if(n=t.type,e!==null&&t.stateNode!=null)Ex(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_e(166));return Kn(t),null}if(e=Ho(Yi.current),md(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Wi]=t,r[Kc]=s,e=(t.mode&1)!==0,n){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(i=0;i<wc.length;i++)Ht(wc[i],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":Og(r,s),Ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ht("invalid",r);break;case"textarea":zg(r,s),Ht("invalid",r)}nm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pd(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pd(r.textContent,a,e),i=["children",""+a]):Oc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ht("scroll",r)}switch(n){case"input":od(r),Bg(r,s,!0);break;case"textarea":od(r),qg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hh)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Wi]=t,e[Kc]=r,_x(e,t,!1,!1),t.stateNode=e;e:{switch(o=rm(n,r),n){case"dialog":Ht("cancel",e),Ht("close",e),i=r;break;case"iframe":case"object":case"embed":Ht("load",e),i=r;break;case"video":case"audio":for(i=0;i<wc.length;i++)Ht(wc[i],e);i=r;break;case"source":Ht("error",e),i=r;break;case"img":case"image":case"link":Ht("error",e),Ht("load",e),i=r;break;case"details":Ht("toggle",e),i=r;break;case"input":Og(e,r),i=Xp(e,r),Ht("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=rn({},r,{value:void 0}),Ht("invalid",e);break;case"textarea":zg(e,r),i=em(e,r),Ht("invalid",e);break;default:i=r}nm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?cy(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ay(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bc(e,l):typeof l=="number"&&Bc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Oc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ht("scroll",e):l!=null&&S1(e,s,l,o))}switch(n){case"input":od(e),Bg(e,r,!1);break;case"textarea":od(e),qg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+po(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?el(e,!!r.multiple,s,!1):r.defaultValue!=null&&el(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=hh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kn(t),null;case 6:if(e&&t.stateNode!=null)Tx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_e(166));if(n=Ho(Jc.current),Ho(Yi.current),md(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wi]=t,(s=r.nodeValue!==n)&&(e=Wr,e!==null))switch(e.tag){case 3:pd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pd(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wi]=t,t.stateNode=r}return Kn(t),null;case 13:if(Gt(Zt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Jt&&$r!==null&&t.mode&1&&!(t.flags&128))Jy(),hl(),t.flags|=98560,s=!1;else if(s=md(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(_e(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_e(317));s[Wi]=t}else hl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kn(t),s=!1}else _i!==null&&(Mm(_i),_i=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Zt.current&1?_n===0&&(_n=3):i0())),t.updateQueue!==null&&(t.flags|=4),Kn(t),null);case 4:return pl(),km(e,t),e===null&&Wc(t.stateNode.containerInfo),Kn(t),null;case 10:return q1(t.type._context),Kn(t),null;case 17:return _r(t.type)&&fh(),Kn(t),null;case 19:if(Gt(Zt),s=t.memoizedState,s===null)return Kn(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)lc(s,!1);else{if(_n!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wh(e),o!==null){for(t.flags|=128,lc(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ut(Zt,Zt.current&1|2),t.child}e=e.sibling}s.tail!==null&&gn()>gl&&(t.flags|=128,r=!0,lc(s,!1),t.lanes=4194304)}else{if(!r)if(e=wh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Jt)return Kn(t),null}else 2*gn()-s.renderingStartTime>gl&&n!==1073741824&&(t.flags|=128,r=!0,lc(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=gn(),t.sibling=null,n=Zt.current,Ut(Zt,r?n&1|2:n&1),t):(Kn(t),null);case 22:case 23:return r0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vr&1073741824&&(Kn(t),t.subtreeFlags&6&&(t.flags|=8192)):Kn(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function vN(e,t){switch(M1(t),t.tag){case 1:return _r(t.type)&&fh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pl(),Gt(kr),Gt(rr),W1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return H1(t),null;case 13:if(Gt(Zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));hl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gt(Zt),null;case 4:return pl(),null;case 10:return q1(t.type._context),null;case 22:case 23:return r0(),null;case 24:return null;default:return null}}var yd=!1,er=!1,yN=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Ha(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){cn(e,t,r)}else n.current=null}function _m(e,t,n){try{n()}catch(r){cn(e,t,r)}}var _2=!1;function xN(e,t){if(fm=ch,e=My(),R1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,f=0,p=e,g=null;t:for(;;){for(var m;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)g=p,p=m;for(;;){if(p===e)break t;if(g===n&&++d===i&&(a=o),g===s&&++f===r&&(l=o),(m=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pm={focusedElem:e,selectionRange:n},ch=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){t=$e;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var b=N.memoizedProps,A=N.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:Li(t.type,b),A);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(R){cn(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}return N=_2,_2=!1,N}function _c(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&_m(t,n,s)}i=i.next}while(i!==r)}}function Kh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Em(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fx(e){var t=e.alternate;t!==null&&(e.alternate=null,Fx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wi],delete t[Kc],delete t[vm],delete t[tN],delete t[nN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ix(e){return e.tag===5||e.tag===3||e.tag===4}function E2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ix(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hh));else if(r!==4&&(e=e.child,e!==null))for(Tm(e,t,n),e=e.sibling;e!==null;)Tm(e,t,n),e=e.sibling}function Fm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fm(e,t,n),e=e.sibling;e!==null;)Fm(e,t,n),e=e.sibling}var zn=null,ki=!1;function Ks(e,t,n){for(n=n.child;n!==null;)Rx(e,t,n),n=n.sibling}function Rx(e,t,n){if(Ki&&typeof Ki.onCommitFiberUnmount=="function")try{Ki.onCommitFiberUnmount(zh,n)}catch{}switch(n.tag){case 5:er||Ha(n,t);case 6:var r=zn,i=ki;zn=null,Ks(e,t,n),zn=r,ki=i,zn!==null&&(ki?(e=zn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):zn.removeChild(n.stateNode));break;case 18:zn!==null&&(ki?(e=zn,n=n.stateNode,e.nodeType===8?dp(e.parentNode,n):e.nodeType===1&&dp(e,n),Vc(e)):dp(zn,n.stateNode));break;case 4:r=zn,i=ki,zn=n.stateNode.containerInfo,ki=!0,Ks(e,t,n),zn=r,ki=i;break;case 0:case 11:case 14:case 15:if(!er&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_m(n,t,o),i=i.next}while(i!==r)}Ks(e,t,n);break;case 1:if(!er&&(Ha(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){cn(n,t,a)}Ks(e,t,n);break;case 21:Ks(e,t,n);break;case 22:n.mode&1?(er=(r=er)||n.memoizedState!==null,Ks(e,t,n),er=r):Ks(e,t,n);break;default:Ks(e,t,n)}}function T2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yN),t.forEach(function(r){var i=PN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ni(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:zn=a.stateNode,ki=!1;break e;case 3:zn=a.stateNode.containerInfo,ki=!0;break e;case 4:zn=a.stateNode.containerInfo,ki=!0;break e}a=a.return}if(zn===null)throw Error(_e(160));Rx(s,o,i),zn=null,ki=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){cn(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dx(t,e),t=t.sibling}function Dx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ni(t,e),Vi(e),r&4){try{_c(3,e,e.return),Kh(3,e)}catch(b){cn(e,e.return,b)}try{_c(5,e,e.return)}catch(b){cn(e,e.return,b)}}break;case 1:Ni(t,e),Vi(e),r&512&&n!==null&&Ha(n,n.return);break;case 5:if(Ni(t,e),Vi(e),r&512&&n!==null&&Ha(n,n.return),e.flags&32){var i=e.stateNode;try{Bc(i,"")}catch(b){cn(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iy(i,s),rm(a,o);var d=rm(a,s);for(o=0;o<l.length;o+=2){var f=l[o],p=l[o+1];f==="style"?cy(i,p):f==="dangerouslySetInnerHTML"?ay(i,p):f==="children"?Bc(i,p):S1(i,f,p,d)}switch(a){case"input":Qp(i,s);break;case"textarea":sy(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?el(i,!!s.multiple,m,!1):g!==!!s.multiple&&(s.defaultValue!=null?el(i,!!s.multiple,s.defaultValue,!0):el(i,!!s.multiple,s.multiple?[]:"",!1))}i[Kc]=s}catch(b){cn(e,e.return,b)}}break;case 6:if(Ni(t,e),Vi(e),r&4){if(e.stateNode===null)throw Error(_e(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(b){cn(e,e.return,b)}}break;case 3:if(Ni(t,e),Vi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vc(t.containerInfo)}catch(b){cn(e,e.return,b)}break;case 4:Ni(t,e),Vi(e);break;case 13:Ni(t,e),Vi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(t0=gn())),r&4&&T2(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(er=(d=er)||f,Ni(t,e),er=d):Ni(t,e),Vi(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for($e=e,f=e.child;f!==null;){for(p=$e=f;$e!==null;){switch(g=$e,m=g.child,g.tag){case 0:case 11:case 14:case 15:_c(4,g,g.return);break;case 1:Ha(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(b){cn(r,n,b)}}break;case 5:Ha(g,g.return);break;case 22:if(g.memoizedState!==null){I2(p);continue}}m!==null?(m.return=g,$e=m):I2(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ly("display",o))}catch(b){cn(e,e.return,b)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(b){cn(e,e.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ni(t,e),Vi(e),r&4&&T2(e);break;case 21:break;default:Ni(t,e),Vi(e)}}function Vi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ix(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bc(i,""),r.flags&=-33);var s=E2(e);Fm(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=E2(e);Tm(e,a,o);break;default:throw Error(_e(161))}}catch(l){cn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wN(e,t,n){$e=e,Mx(e)}function Mx(e,t,n){for(var r=(e.mode&1)!==0;$e!==null;){var i=$e,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||er;a=yd;var d=er;if(yd=o,(er=l)&&!d)for($e=i;$e!==null;)o=$e,l=o.child,o.tag===22&&o.memoizedState!==null?R2(i):l!==null?(l.return=o,$e=l):R2(i);for(;s!==null;)$e=s,Mx(s),s=s.sibling;$e=i,yd=a,er=d}F2(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$e=s):F2(e)}}function F2(e){for(;$e!==null;){var t=$e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:er||Kh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!er)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Li(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&v2(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}v2(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Vc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}er||t.flags&512&&Em(t)}catch(g){cn(t,t.return,g)}}if(t===e){$e=null;break}if(n=t.sibling,n!==null){n.return=t.return,$e=n;break}$e=t.return}}function I2(e){for(;$e!==null;){var t=$e;if(t===e){$e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$e=n;break}$e=t.return}}function R2(e){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kh(4,t)}catch(l){cn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){cn(t,i,l)}}var s=t.return;try{Em(t)}catch(l){cn(t,s,l)}break;case 5:var o=t.return;try{Em(t)}catch(l){cn(t,o,l)}}}catch(l){cn(t,t.return,l)}if(t===e){$e=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$e=a;break}$e=t.return}}var bN=Math.ceil,Nh=_s.ReactCurrentDispatcher,Z1=_s.ReactCurrentOwner,mi=_s.ReactCurrentBatchConfig,bt=0,Mn=null,Cn=null,Un=0,Vr=0,Wa=bo(0),_n=0,eu=null,ea=0,Yh=0,e0=0,Ec=null,Lr=null,t0=0,gl=1/0,gs=null,jh=!1,Im=null,uo=null,xd=!1,ro=null,Ah=0,Tc=0,Rm=null,Ud=-1,Vd=0;function fr(){return bt&6?gn():Ud!==-1?Ud:Ud=gn()}function ho(e){return e.mode&1?bt&2&&Un!==0?Un&-Un:iN.transition!==null?(Vd===0&&(Vd=by()),Vd):(e=_t,e!==0||(e=window.event,e=e===void 0?16:Py(e.type)),e):1}function Ti(e,t,n,r){if(50<Tc)throw Tc=0,Rm=null,Error(_e(185));cu(e,n,r),(!(bt&2)||e!==Mn)&&(e===Mn&&(!(bt&2)&&(Yh|=n),_n===4&&to(e,Un)),Er(e,r),n===1&&bt===0&&!(t.mode&1)&&(gl=gn()+500,Hh&&So()))}function Er(e,t){var n=e.callbackNode;iS(e,t);var r=lh(e,e===Mn?Un:0);if(r===0)n!==null&&$g(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$g(n),t===1)e.tag===0?rN(D2.bind(null,e)):Gy(D2.bind(null,e)),ZS(function(){!(bt&6)&&So()}),n=null;else{switch(Sy(r)){case 1:n=L1;break;case 4:n=xy;break;case 16:n=ah;break;case 536870912:n=wy;break;default:n=ah}n=Hx(n,Ox.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ox(e,t){if(Ud=-1,Vd=0,bt&6)throw Error(_e(327));var n=e.callbackNode;if(sl()&&e.callbackNode!==n)return null;var r=lh(e,e===Mn?Un:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ch(e,r);else{t=r;var i=bt;bt|=2;var s=zx();(Mn!==e||Un!==t)&&(gs=null,gl=gn()+500,Go(e,t));do try{jN();break}catch(a){Bx(e,a)}while(1);z1(),Nh.current=s,bt=i,Cn!==null?t=0:(Mn=null,Un=0,t=_n)}if(t!==0){if(t===2&&(i=lm(e),i!==0&&(r=i,t=Dm(e,i))),t===1)throw n=eu,Go(e,0),to(e,r),Er(e,gn()),n;if(t===6)to(e,r);else{if(i=e.current.alternate,!(r&30)&&!SN(i)&&(t=Ch(e,r),t===2&&(s=lm(e),s!==0&&(r=s,t=Dm(e,s))),t===1))throw n=eu,Go(e,0),to(e,r),Er(e,gn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(_e(345));case 2:Oo(e,Lr,gs);break;case 3:if(to(e,r),(r&130023424)===r&&(t=t0+500-gn(),10<t)){if(lh(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){fr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gm(Oo.bind(null,e,Lr,gs),t);break}Oo(e,Lr,gs);break;case 4:if(to(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ei(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=gn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bN(r/1960))-r,10<r){e.timeoutHandle=gm(Oo.bind(null,e,Lr,gs),r);break}Oo(e,Lr,gs);break;case 5:Oo(e,Lr,gs);break;default:throw Error(_e(329))}}}return Er(e,gn()),e.callbackNode===n?Ox.bind(null,e):null}function Dm(e,t){var n=Ec;return e.current.memoizedState.isDehydrated&&(Go(e,t).flags|=256),e=Ch(e,t),e!==2&&(t=Lr,Lr=n,t!==null&&Mm(t)),e}function Mm(e){Lr===null?Lr=e:Lr.push.apply(Lr,e)}function SN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fi(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function to(e,t){for(t&=~e0,t&=~Yh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ei(t),r=1<<n;e[n]=-1,t&=~r}}function D2(e){if(bt&6)throw Error(_e(327));sl();var t=lh(e,0);if(!(t&1))return Er(e,gn()),null;var n=Ch(e,t);if(e.tag!==0&&n===2){var r=lm(e);r!==0&&(t=r,n=Dm(e,r))}if(n===1)throw n=eu,Go(e,0),to(e,t),Er(e,gn()),n;if(n===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oo(e,Lr,gs),Er(e,gn()),null}function n0(e,t){var n=bt;bt|=1;try{return e(t)}finally{bt=n,bt===0&&(gl=gn()+500,Hh&&So())}}function ta(e){ro!==null&&ro.tag===0&&!(bt&6)&&sl();var t=bt;bt|=1;var n=mi.transition,r=_t;try{if(mi.transition=null,_t=1,e)return e()}finally{_t=r,mi.transition=n,bt=t,!(bt&6)&&So()}}function r0(){Vr=Wa.current,Gt(Wa)}function Go(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,QS(n)),Cn!==null)for(n=Cn.return;n!==null;){var r=n;switch(M1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fh();break;case 3:pl(),Gt(kr),Gt(rr),W1();break;case 5:H1(r);break;case 4:pl();break;case 13:Gt(Zt);break;case 19:Gt(Zt);break;case 10:q1(r.type._context);break;case 22:case 23:r0()}n=n.return}if(Mn=e,Cn=e=fo(e.current,null),Un=Vr=t,_n=0,eu=null,e0=Yh=ea=0,Lr=Ec=null,$o!==null){for(t=0;t<$o.length;t++)if(n=$o[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$o=null}return e}function Bx(e,t){do{var n=Cn;try{if(z1(),Bd.current=Sh,bh){for(var r=tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bh=!1}if(Zo=0,Rn=kn=tn=null,kc=!1,Xc=0,Z1.current=null,n===null||n.return===null){_n=1,eu=t,Cn=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Un,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=N2(o);if(m!==null){m.flags&=-257,j2(m,o,a,s,t),m.mode&1&&S2(s,d,t),t=m,l=d;var N=t.updateQueue;if(N===null){var b=new Set;b.add(l),t.updateQueue=b}else N.add(l);break e}else{if(!(t&1)){S2(s,d,t),i0();break e}l=Error(_e(426))}}else if(Jt&&a.mode&1){var A=N2(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),j2(A,o,a,s,t),O1(ml(l,a));break e}}s=l=ml(l,a),_n!==4&&(_n=2),Ec===null?Ec=[s]:Ec.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=Sx(s,l,t);g2(s,x);break e;case 1:a=l;var w=s.type,j=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(uo===null||!uo.has(j)))){s.flags|=65536,t&=-t,s.lanes|=t;var R=Nx(s,a,t);g2(s,R);break e}}s=s.return}while(s!==null)}Ux(n)}catch(q){t=q,Cn===n&&n!==null&&(Cn=n=n.return);continue}break}while(1)}function zx(){var e=Nh.current;return Nh.current=Sh,e===null?Sh:e}function i0(){(_n===0||_n===3||_n===2)&&(_n=4),Mn===null||!(ea&268435455)&&!(Yh&268435455)||to(Mn,Un)}function Ch(e,t){var n=bt;bt|=2;var r=zx();(Mn!==e||Un!==t)&&(gs=null,Go(e,t));do try{NN();break}catch(i){Bx(e,i)}while(1);if(z1(),bt=n,Nh.current=r,Cn!==null)throw Error(_e(261));return Mn=null,Un=0,_n}function NN(){for(;Cn!==null;)qx(Cn)}function jN(){for(;Cn!==null&&!Yb();)qx(Cn)}function qx(e){var t=$x(e.alternate,e,Vr);e.memoizedProps=e.pendingProps,t===null?Ux(e):Cn=t,Z1.current=null}function Ux(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vN(n,t),n!==null){n.flags&=32767,Cn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_n=6,Cn=null;return}}else if(n=gN(n,t,Vr),n!==null){Cn=n;return}if(t=t.sibling,t!==null){Cn=t;return}Cn=t=e}while(t!==null);_n===0&&(_n=5)}function Oo(e,t,n){var r=_t,i=mi.transition;try{mi.transition=null,_t=1,AN(e,t,n,r)}finally{mi.transition=i,_t=r}return null}function AN(e,t,n,r){do sl();while(ro!==null);if(bt&6)throw Error(_e(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(sS(e,s),e===Mn&&(Cn=Mn=null,Un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xd||(xd=!0,Hx(ah,function(){return sl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mi.transition,mi.transition=null;var o=_t;_t=1;var a=bt;bt|=4,Z1.current=null,xN(e,n),Dx(n,e),HS(pm),ch=!!fm,pm=fm=null,e.current=n,wN(n),Jb(),bt=a,_t=o,mi.transition=s}else e.current=n;if(xd&&(xd=!1,ro=e,Ah=i),s=e.pendingLanes,s===0&&(uo=null),Zb(n.stateNode),Er(e,gn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jh)throw jh=!1,e=Im,Im=null,e;return Ah&1&&e.tag!==0&&sl(),s=e.pendingLanes,s&1?e===Rm?Tc++:(Tc=0,Rm=e):Tc=0,So(),null}function sl(){if(ro!==null){var e=Sy(Ah),t=mi.transition,n=_t;try{if(mi.transition=null,_t=16>e?16:e,ro===null)var r=!1;else{if(e=ro,ro=null,Ah=0,bt&6)throw Error(_e(331));var i=bt;for(bt|=4,$e=e.current;$e!==null;){var s=$e,o=s.child;if($e.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for($e=d;$e!==null;){var f=$e;switch(f.tag){case 0:case 11:case 15:_c(8,f,s)}var p=f.child;if(p!==null)p.return=f,$e=p;else for(;$e!==null;){f=$e;var g=f.sibling,m=f.return;if(Fx(f),f===d){$e=null;break}if(g!==null){g.return=m,$e=g;break}$e=m}}}var N=s.alternate;if(N!==null){var b=N.child;if(b!==null){N.child=null;do{var A=b.sibling;b.sibling=null,b=A}while(b!==null)}}$e=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$e=o;else e:for(;$e!==null;){if(s=$e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_c(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,$e=x;break e}$e=s.return}}var w=e.current;for($e=w;$e!==null;){o=$e;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,$e=j;else e:for(o=w;$e!==null;){if(a=$e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kh(9,a)}}catch(q){cn(a,a.return,q)}if(a===o){$e=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,$e=R;break e}$e=a.return}}if(bt=i,So(),Ki&&typeof Ki.onPostCommitFiberRoot=="function")try{Ki.onPostCommitFiberRoot(zh,e)}catch{}r=!0}return r}finally{_t=n,mi.transition=t}}return!1}function M2(e,t,n){t=ml(n,t),t=Sx(e,t,1),e=co(e,t,1),t=fr(),e!==null&&(cu(e,1,t),Er(e,t))}function cn(e,t,n){if(e.tag===3)M2(e,e,n);else for(;t!==null;){if(t.tag===3){M2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(uo===null||!uo.has(r))){e=ml(n,e),e=Nx(t,e,1),t=co(t,e,1),e=fr(),t!==null&&(cu(t,1,e),Er(t,e));break}}t=t.return}}function CN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=fr(),e.pingedLanes|=e.suspendedLanes&n,Mn===e&&(Un&n)===n&&(_n===4||_n===3&&(Un&130023424)===Un&&500>gn()-t0?Go(e,0):e0|=n),Er(e,t)}function Vx(e,t){t===0&&(e.mode&1?(t=cd,cd<<=1,!(cd&130023424)&&(cd=4194304)):t=1);var n=fr();e=Cs(e,t),e!==null&&(cu(e,t,n),Er(e,n))}function LN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vx(e,n)}function PN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(t),Vx(e,n)}var $x;$x=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||kr.current)Pr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pr=!1,mN(e,t,n);Pr=!!(e.flags&131072)}else Pr=!1,Jt&&t.flags&1048576&&Ky(t,gh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qd(e,t),e=t.pendingProps;var i=dl(t,rr.current);il(t,n),i=K1(null,t,r,e,i,n);var s=Y1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_r(r)?(s=!0,ph(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,V1(t),i.updater=Gh,t.stateNode=i,i._reactInternals=t,Nm(t,r,e,n),t=Cm(null,t,r,!0,s,n)):(t.tag=0,Jt&&s&&D1(t),hr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=_N(r),e=Li(r,e),i){case 0:t=Am(null,t,r,e,n);break e;case 1:t=L2(null,t,r,e,n);break e;case 11:t=A2(null,t,r,e,n);break e;case 14:t=C2(null,t,r,Li(r.type,e),n);break e}throw Error(_e(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Li(r,i),Am(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Li(r,i),L2(e,t,r,i,n);case 3:e:{if(Lx(t),e===null)throw Error(_e(387));r=t.pendingProps,s=t.memoizedState,i=s.element,ex(e,t),xh(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ml(Error(_e(423)),t),t=P2(e,t,r,n,i);break e}else if(r!==i){i=ml(Error(_e(424)),t),t=P2(e,t,r,n,i);break e}else for($r=lo(t.stateNode.containerInfo.firstChild),Wr=t,Jt=!0,_i=null,n=Qy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hl(),r===i){t=Ls(e,t,n);break e}hr(e,t,r,n)}t=t.child}return t;case 5:return tx(t),e===null&&wm(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,mm(r,i)?o=null:s!==null&&mm(r,s)&&(t.flags|=32),Cx(e,t),hr(e,t,o,n),t.child;case 6:return e===null&&wm(t),null;case 13:return Px(e,t,n);case 4:return $1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fl(t,null,r,n):hr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Li(r,i),A2(e,t,r,i,n);case 7:return hr(e,t,t.pendingProps,n),t.child;case 8:return hr(e,t,t.pendingProps.children,n),t.child;case 12:return hr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ut(vh,r._currentValue),r._currentValue=o,s!==null)if(Fi(s.value,o)){if(s.children===i.children&&!kr.current){t=Ls(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ws(-1,n&-n),l.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?l.next=l:(l.next=f.next,f.next=l),d.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),bm(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(_e(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bm(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,il(t,n),i=gi(i),r=r(i),t.flags|=1,hr(e,t,r,n),t.child;case 14:return r=t.type,i=Li(r,t.pendingProps),i=Li(r.type,i),C2(e,t,r,i,n);case 15:return jx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Li(r,i),qd(e,t),t.tag=1,_r(r)?(e=!0,ph(t)):e=!1,il(t,n),bx(t,r,i),Nm(t,r,i,n),Cm(null,t,r,!0,e,n);case 19:return kx(e,t,n);case 22:return Ax(e,t,n)}throw Error(_e(156,t.tag))};function Hx(e,t){return yy(e,t)}function kN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(e,t,n,r){return new kN(e,t,n,r)}function s0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _N(e){if(typeof e=="function")return s0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===j1)return 11;if(e===A1)return 14}return 2}function fo(e,t){var n=e.alternate;return n===null?(n=fi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $d(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")s0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Da:return Ko(n.children,i,s,t);case N1:o=8,i|=8;break;case Gp:return e=fi(12,n,t,i|2),e.elementType=Gp,e.lanes=s,e;case Kp:return e=fi(13,n,t,i),e.elementType=Kp,e.lanes=s,e;case Yp:return e=fi(19,n,t,i),e.elementType=Yp,e.lanes=s,e;case ty:return Jh(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z5:o=10;break e;case ey:o=9;break e;case j1:o=11;break e;case A1:o=14;break e;case Qs:o=16,r=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=fi(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ko(e,t,n,r){return e=fi(7,e,r,t),e.lanes=n,e}function Jh(e,t,n,r){return e=fi(22,e,r,t),e.elementType=ty,e.lanes=n,e.stateNode={isHidden:!1},e}function xp(e,t,n){return e=fi(6,e,null,t),e.lanes=n,e}function wp(e,t,n){return t=fi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function EN(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ep(0),this.expirationTimes=ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ep(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o0(e,t,n,r,i,s,o,a,l){return e=new EN(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=fi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},V1(s),e}function TN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ra,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Wx(e){if(!e)return mo;e=e._reactInternals;e:{if(ra(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var n=e.type;if(_r(n))return Wy(e,n,t)}return t}function Gx(e,t,n,r,i,s,o,a,l){return e=o0(n,r,!0,e,i,s,o,a,l),e.context=Wx(null),n=e.current,r=fr(),i=ho(n),s=ws(r,i),s.callback=t??null,co(n,s,i),e.current.lanes=i,cu(e,i,r),Er(e,r),e}function Xh(e,t,n,r){var i=t.current,s=fr(),o=ho(i);return n=Wx(n),t.context===null?t.context=n:t.pendingContext=n,t=ws(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=co(i,t,o),e!==null&&(Ti(e,i,o,s),Od(e,i,o)),o}function Lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function O2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function a0(e,t){O2(e,t),(e=e.alternate)&&O2(e,t)}function FN(){return null}var Kx=typeof reportError=="function"?reportError:function(e){console.error(e)};function l0(e){this._internalRoot=e}Qh.prototype.render=l0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));Xh(e,t,null,null)};Qh.prototype.unmount=l0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ta(function(){Xh(null,e,null,null)}),t[As]=null}};function Qh(e){this._internalRoot=e}Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ay();e={blockedOn:null,target:e,priority:t};for(var n=0;n<eo.length&&t!==0&&t<eo[n].priority;n++);eo.splice(n,0,e),n===0&&Ly(e)}};function c0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function B2(){}function IN(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=Lh(o);s.call(d)}}var o=Gx(t,r,e,0,null,!1,!1,"",B2);return e._reactRootContainer=o,e[As]=o.current,Wc(e.nodeType===8?e.parentNode:e),ta(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var d=Lh(l);a.call(d)}}var l=o0(e,0,!1,null,null,!1,!1,"",B2);return e._reactRootContainer=l,e[As]=l.current,Wc(e.nodeType===8?e.parentNode:e),ta(function(){Xh(t,l,n,r)}),l}function ef(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Lh(o);a.call(l)}}Xh(t,o,e,i)}else o=IN(n,t,e,i,r);return Lh(o)}Ny=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xc(t.pendingLanes);n!==0&&(P1(t,n|1),Er(t,gn()),!(bt&6)&&(gl=gn()+500,So()))}break;case 13:ta(function(){var r=Cs(e,1);if(r!==null){var i=fr();Ti(r,e,1,i)}}),a0(e,1)}};k1=function(e){if(e.tag===13){var t=Cs(e,134217728);if(t!==null){var n=fr();Ti(t,e,134217728,n)}a0(e,134217728)}};jy=function(e){if(e.tag===13){var t=ho(e),n=Cs(e,t);if(n!==null){var r=fr();Ti(n,e,t,r)}a0(e,t)}};Ay=function(){return _t};Cy=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}};sm=function(e,t,n){switch(t){case"input":if(Qp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=$h(r);if(!i)throw Error(_e(90));ry(r),Qp(r,i)}}}break;case"textarea":sy(e,n);break;case"select":t=n.value,t!=null&&el(e,!!n.multiple,t,!1)}};hy=n0;fy=ta;var RN={usingClientEntryPoint:!1,Events:[du,za,$h,uy,dy,n0]},cc={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DN={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gy(e),e===null?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||FN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{zh=wd.inject(DN),Ki=wd}catch{}}Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RN;Jr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c0(t))throw Error(_e(200));return TN(e,t,null,n)};Jr.createRoot=function(e,t){if(!c0(e))throw Error(_e(299));var n=!1,r="",i=Kx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=o0(e,1,!1,null,null,n,!1,r,i),e[As]=t.current,Wc(e.nodeType===8?e.parentNode:e),new l0(t)};Jr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=gy(t),e=e===null?null:e.stateNode,e};Jr.flushSync=function(e){return ta(e)};Jr.hydrate=function(e,t,n){if(!Zh(t))throw Error(_e(200));return ef(null,e,t,!0,n)};Jr.hydrateRoot=function(e,t,n){if(!c0(e))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Kx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Gx(t,null,e,1,n??null,i,!1,s,o),e[As]=t.current,Wc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qh(t)};Jr.render=function(e,t,n){if(!Zh(t))throw Error(_e(200));return ef(null,e,t,!1,n)};Jr.unmountComponentAtNode=function(e){if(!Zh(e))throw Error(_e(40));return e._reactRootContainer?(ta(function(){ef(null,null,e,!1,function(){e._reactRootContainer=null,e[As]=null})}),!0):!1};Jr.unstable_batchedUpdates=n0;Jr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zh(n))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return ef(e,t,n,!1,r)};Jr.version="18.3.1-next-f1338f8080-20240426";function Yx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yx)}catch(e){console.error(e)}}Yx(),Y5.exports=Jr;var MN=Y5.exports,z2=MN;Hp.createRoot=z2.createRoot,Hp.hydrateRoot=z2.hydrateRoot;var q2="popstate";function ON(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Om("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tu(i)}return zN(t,n,null,e)}function nn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ii(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BN(){return Math.random().toString(36).substring(2,10)}function U2(e,t){return{usr:e.state,key:e.key,idx:t}}function Om(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?jl(t):t,state:n,key:t&&t.key||r||BN()}}function tu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function jl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function zN(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let A=f(),x=A==null?null:A-d;d=A,l&&l({action:a,location:b.location,delta:x})}function g(A,x){a="PUSH";let w=Om(b.location,A,x);n&&n(w,A),d=f()+1;let j=U2(w,d),R=b.createHref(w);try{o.pushState(j,"",R)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(R)}s&&l&&l({action:a,location:b.location,delta:1})}function m(A,x){a="REPLACE";let w=Om(b.location,A,x);n&&n(w,A),d=f();let j=U2(w,d),R=b.createHref(w);o.replaceState(j,"",R),s&&l&&l({action:a,location:b.location,delta:0})}function N(A){return qN(A)}let b={get action(){return a},get location(){return e(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(q2,p),l=A,()=>{i.removeEventListener(q2,p),l=null}},createHref(A){return t(i,A)},createURL:N,encodeLocation(A){let x=N(A);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:m,go(A){return o.go(A)}};return b}function qN(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:tu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Jx(e,t,n="/"){return UN(e,t,n,!1)}function UN(e,t,n,r){let i=typeof t=="string"?jl(t):t,s=Ps(i.pathname||"/",n);if(s==null)return null;let o=Xx(e);VN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=ej(s);a=QN(o[l],d,r)}return a}function Xx(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&l)return;nn(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let p=bs([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(nn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Xx(o.children,t,g,p,l)),!(o.path==null&&!o.index)&&t.push({path:p,score:JN(p,o.index),routesMeta:g})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let d of Qx(o.path))s(o,a,!0,d)}),t}function Qx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Qx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function VN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:XN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var $N=/^:[\w-]+$/,HN=3,WN=2,GN=1,KN=10,YN=-2,V2=e=>e==="*";function JN(e,t){let n=e.split("/"),r=n.length;return n.some(V2)&&(r+=YN),t&&(r+=WN),n.filter(i=>!V2(i)).reduce((i,s)=>i+($N.test(s)?HN:s===""?GN:KN),r)}function XN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function QN(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=Ph({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},f),g=l.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Ph({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:bs([s,p.pathname]),pathnameBase:ij(bs([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=bs([s,p.pathnameBase]))}return o}function Ph(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ZN(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let N=a[g]||"";o=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const m=a[g];return p&&!m?d[f]=void 0:d[f]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function ZN(e,t=!1,n=!0){Ii(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function ej(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ii(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ps(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function tj(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?jl(e):e;return{pathname:n?n.startsWith("/")?n:nj(n,t):t,search:sj(r),hash:oj(i)}}function nj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Zx(e){let t=rj(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ew(e,t,n,r=!1){let i;typeof e=="string"?i=jl(e):(i={...e},nn(!i.pathname||!i.pathname.includes("?"),bp("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),bp("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),bp("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?t[p]:"/"}let l=tj(i,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||f)&&(l.pathname+="/"),l}var bs=e=>e.join("/").replace(/\/\/+/g,"/"),ij=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var tw=["POST","PUT","PATCH","DELETE"];new Set(tw);var lj=["GET",...tw];new Set(lj);var Al=D.createContext(null);Al.displayName="DataRouter";var tf=D.createContext(null);tf.displayName="DataRouterState";D.createContext(!1);var nw=D.createContext({isTransitioning:!1});nw.displayName="ViewTransition";var cj=D.createContext(new Map);cj.displayName="Fetchers";var uj=D.createContext(null);uj.displayName="Await";var Zi=D.createContext(null);Zi.displayName="Navigation";var fu=D.createContext(null);fu.displayName="Location";var Es=D.createContext({outlet:null,matches:[],isDataRoute:!1});Es.displayName="Route";var u0=D.createContext(null);u0.displayName="RouteError";function dj(e,{relative:t}={}){nn(pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(Zi),{hash:i,pathname:s,search:o}=mu(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:bs([n,s])),r.createHref({pathname:a,search:o,hash:i})}function pu(){return D.useContext(fu)!=null}function No(){return nn(pu(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(fu).location}var rw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iw(e){D.useContext(Zi).static||D.useLayoutEffect(e)}function d0(){let{isDataRoute:e}=D.useContext(Es);return e?jj():hj()}function hj(){nn(pu(),"useNavigate() may be used only in the context of a <Router> component.");let e=D.useContext(Al),{basename:t,navigator:n}=D.useContext(Zi),{matches:r}=D.useContext(Es),{pathname:i}=No(),s=JSON.stringify(Zx(r)),o=D.useRef(!1);return iw(()=>{o.current=!0}),D.useCallback((l,d={})=>{if(Ii(o.current,rw),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=ew(l,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:bs([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}D.createContext(null);function mu(e,{relative:t}={}){let{matches:n}=D.useContext(Es),{pathname:r}=No(),i=JSON.stringify(Zx(n));return D.useMemo(()=>ew(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function fj(e,t){return sw(e,t)}function sw(e,t,n,r,i){var w;nn(pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=D.useContext(Zi),{matches:o}=D.useContext(Es),a=o[o.length-1],l=a?a.params:{},d=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let j=p&&p.path||"";ow(d,!p||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let g=No(),m;if(t){let j=typeof t=="string"?jl(t):t;nn(f==="/"||((w=j.pathname)==null?void 0:w.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${j.pathname}" was given in the \`location\` prop.`),m=j}else m=g;let N=m.pathname||"/",b=N;if(f!=="/"){let j=f.replace(/^\//,"").split("/");b="/"+N.replace(/^\//,"").split("/").slice(j.length).join("/")}let A=Jx(e,{pathname:b});Ii(p||A!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ii(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=yj(A&&A.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:bs([f,s.encodeLocation?s.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:bs([f,s.encodeLocation?s.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),o,n,r,i);return t&&x?D.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function pj(){let e=Nj(),t=aj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:s},"ErrorBoundary")," or"," ",D.createElement("code",{style:s},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),n?D.createElement("pre",{style:i},n):null,o)}var mj=D.createElement(pj,null),gj=class extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?D.createElement(Es.Provider,{value:this.props.routeContext},D.createElement(u0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vj({routeContext:e,match:t,children:n}){let r=D.useContext(Al);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(Es.Provider,{value:e},n)}function yj(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);nn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,l=-1;if(n)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:p,errors:g}=n,m=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let g,m=!1,N=null,b=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,N=f.route.errorElement||mj,a&&(l<0&&p===0?(ow("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):l===p&&(m=!0,b=f.route.hydrateFallbackElement||null)));let A=t.concat(s.slice(0,p+1)),x=()=>{let w;return g?w=N:m?w=b:f.route.Component?w=D.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,D.createElement(vj,{match:f,routeContext:{outlet:d,matches:A,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?D.createElement(gj,{location:n.location,revalidation:n.revalidation,component:N,error:g,children:x(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:r}):x()},null)}function h0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xj(e){let t=D.useContext(Al);return nn(t,h0(e)),t}function wj(e){let t=D.useContext(tf);return nn(t,h0(e)),t}function bj(e){let t=D.useContext(Es);return nn(t,h0(e)),t}function f0(e){let t=bj(e),n=t.matches[t.matches.length-1];return nn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Sj(){return f0("useRouteId")}function Nj(){var r;let e=D.useContext(u0),t=wj("useRouteError"),n=f0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function jj(){let{router:e}=xj("useNavigate"),t=f0("useNavigate"),n=D.useRef(!1);return iw(()=>{n.current=!0}),D.useCallback(async(i,s={})=>{Ii(n.current,rw),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var $2={};function ow(e,t,n){!t&&!$2[e]&&($2[e]=!0,Ii(!1,n))}D.memo(Aj);function Aj({routes:e,future:t,state:n,unstable_onError:r}){return sw(e,void 0,n,r,t)}function Hd(e){nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Cj({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){nn(!pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=D.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=jl(n));let{pathname:l="/",search:d="",hash:f="",state:p=null,key:g="default"}=n,m=D.useMemo(()=>{let N=Ps(l,o);return N==null?null:{location:{pathname:N,search:d,hash:f,state:p,key:g},navigationType:r}},[o,l,d,f,p,g,r]);return Ii(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:D.createElement(Zi.Provider,{value:a},D.createElement(fu.Provider,{children:t,value:m}))}function Lj({children:e,location:t}){return fj(Bm(e),t)}function Bm(e,t=[]){let n=[];return D.Children.forEach(e,(r,i)=>{if(!D.isValidElement(r))return;let s=[...t,i];if(r.type===D.Fragment){n.push.apply(n,Bm(r.props.children,s));return}nn(r.type===Hd,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bm(r.props.children,s)),n.push(o)}),n}var Wd="get",Gd="application/x-www-form-urlencoded";function nf(e){return e!=null&&typeof e.tagName=="string"}function Pj(e){return nf(e)&&e.tagName.toLowerCase()==="button"}function kj(e){return nf(e)&&e.tagName.toLowerCase()==="form"}function _j(e){return nf(e)&&e.tagName.toLowerCase()==="input"}function Ej(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tj(e,t){return e.button===0&&(!t||t==="_self")&&!Ej(e)}function zm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Fj(e,t){let n=zm(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var bd=null;function Ij(){if(bd===null)try{new FormData(document.createElement("form"),0),bd=!1}catch{bd=!0}return bd}var Rj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sp(e){return e!=null&&!Rj.has(e)?(Ii(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gd}"`),null):e}function Dj(e,t){let n,r,i,s,o;if(kj(e)){let a=e.getAttribute("action");r=a?Ps(a,t):null,n=e.getAttribute("method")||Wd,i=Sp(e.getAttribute("enctype"))||Gd,s=new FormData(e)}else if(Pj(e)||_j(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ps(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Wd,i=Sp(e.getAttribute("formenctype"))||Sp(a.getAttribute("enctype"))||Gd,s=new FormData(a,e),!Ij()){let{name:d,type:f,value:p}=e;if(f==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,p)}}else{if(nf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wd,r=null,i=Gd,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function p0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mj(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ps(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Oj(e,t){if(e.id in t)return t[e.id];try{let n=await rh(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bj(e){return e!=null&&typeof e.page=="string"}function zj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function qj(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await Oj(s,n);return o.links?o.links():[]}return[]}));return Hj(r.flat(1).filter(zj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function H2(e,t,n,r,i,s){let o=(l,d)=>n[d]?l.route.id!==n[d].route.id:!0,a=(l,d)=>{var f;return n[d].pathname!==l.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,d)=>o(l,d)||a(l,d)):s==="data"?t.filter((l,d)=>{var p;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,d)||a(l,d))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Uj(e,t,{includeHydrateFallback:n}={}){return Vj(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Vj(e){return[...new Set(e)]}function $j(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Hj(e,t){let n=new Set,r=new Set(t);return e.reduce((i,s)=>{if(t&&!Bj(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify($j(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function aw(){let e=D.useContext(Al);return p0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Wj(){let e=D.useContext(tf);return p0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var m0=D.createContext(void 0);m0.displayName="FrameworkContext";function lw(){let e=D.useContext(m0);return p0(e,"You must render this element inside a <HydratedRouter> element"),e}function Gj(e,t){let n=D.useContext(m0),[r,i]=D.useState(!1),[s,o]=D.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=t,g=D.useRef(null);D.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=x=>{x.forEach(w=>{o(w.isIntersecting)})},A=new IntersectionObserver(b,{threshold:.5});return g.current&&A.observe(g.current),()=>{A.disconnect()}}},[e]),D.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let m=()=>{i(!0)},N=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:uc(a,m),onBlur:uc(l,N),onMouseEnter:uc(d,m),onMouseLeave:uc(f,N),onTouchStart:uc(p,m)}]:[!1,g,{}]}function uc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Kj({page:e,...t}){let{router:n}=aw(),r=D.useMemo(()=>Jx(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?D.createElement(Jj,{page:e,matches:r,...t}):null}function Yj(e){let{manifest:t,routeModules:n}=lw(),[r,i]=D.useState([]);return D.useEffect(()=>{let s=!1;return qj(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function Jj({page:e,matches:t,...n}){let r=No(),{manifest:i,routeModules:s}=lw(),{basename:o}=aw(),{loaderData:a,matches:l}=Wj(),d=D.useMemo(()=>H2(e,t,l,i,r,"data"),[e,t,l,i,r]),f=D.useMemo(()=>H2(e,t,l,i,r,"assets"),[e,t,l,i,r]),p=D.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let N=new Set,b=!1;if(t.forEach(x=>{var j;let w=i.routes[x.route.id];!w||!w.hasLoader||(!d.some(R=>R.route.id===x.route.id)&&x.route.id in a&&((j=s[x.route.id])!=null&&j.shouldRevalidate)||w.hasClientLoader?b=!0:N.add(x.route.id))}),N.size===0)return[];let A=Mj(e,o,"data");return b&&N.size>0&&A.searchParams.set("_routes",t.filter(x=>N.has(x.route.id)).map(x=>x.route.id).join(",")),[A.pathname+A.search]},[o,a,r,i,d,t,e,s]),g=D.useMemo(()=>Uj(f,i),[f,i]),m=Yj(f);return D.createElement(D.Fragment,null,p.map(N=>D.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),g.map(N=>D.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),m.map(({key:N,link:b})=>D.createElement("link",{key:N,nonce:n.nonce,...b})))}function Xj(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var cw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cw&&(window.__reactRouterVersion="7.9.3")}catch{}function Qj({basename:e,children:t,window:n}){let r=D.useRef();r.current==null&&(r.current=ON({window:n,v5Compat:!0}));let i=r.current,[s,o]=D.useState({action:i.action,location:i.location}),a=D.useCallback(l=>{D.startTransition(()=>o(l))},[o]);return D.useLayoutEffect(()=>i.listen(a),[i,a]),D.createElement(Cj,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dw=D.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:d,preventScrollReset:f,viewTransition:p,...g},m){let{basename:N}=D.useContext(Zi),b=typeof d=="string"&&uw.test(d),A,x=!1;if(typeof d=="string"&&b&&(A=d,cw))try{let $=new URL(window.location.href),ee=d.startsWith("//")?new URL($.protocol+d):new URL(d),E=Ps(ee.pathname,N);ee.origin===$.origin&&E!=null?d=E+ee.search+ee.hash:x=!0}catch{Ii(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=dj(d,{relative:i}),[j,R,q]=Gj(r,g),U=n6(d,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:p});function T($){t&&t($),$.defaultPrevented||U($)}let F=D.createElement("a",{...g,...q,href:A||w,onClick:x||s?t:T,ref:Xj(m,R),target:l,"data-discover":!b&&n==="render"?"true":void 0});return j&&!b?D.createElement(D.Fragment,null,F,D.createElement(Kj,{page:w})):F});dw.displayName="Link";var Zj=D.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...d},f){let p=mu(o,{relative:d.relative}),g=No(),m=D.useContext(tf),{navigator:N,basename:b}=D.useContext(Zi),A=m!=null&&l6(p)&&a===!0,x=N.encodeLocation?N.encodeLocation(p).pathname:p.pathname,w=g.pathname,j=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(w=w.toLowerCase(),j=j?j.toLowerCase():null,x=x.toLowerCase()),j&&b&&(j=Ps(j,b)||j);const R=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let q=w===x||!i&&w.startsWith(x)&&w.charAt(R)==="/",U=j!=null&&(j===x||!i&&j.startsWith(x)&&j.charAt(x.length)==="/"),T={isActive:q,isPending:U,isTransitioning:A},F=q?t:void 0,$;typeof r=="function"?$=r(T):$=[r,q?"active":null,U?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let ee=typeof s=="function"?s(T):s;return D.createElement(dw,{...d,"aria-current":F,className:$,ref:f,style:ee,to:o,viewTransition:a},typeof l=="function"?l(T):l)});Zj.displayName="NavLink";var e6=D.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Wd,action:a,onSubmit:l,relative:d,preventScrollReset:f,viewTransition:p,...g},m)=>{let N=o6(),b=a6(a,{relative:d}),A=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&uw.test(a),w=j=>{if(l&&l(j),j.defaultPrevented)return;j.preventDefault();let R=j.nativeEvent.submitter,q=(R==null?void 0:R.getAttribute("formmethod"))||o;N(R||j.currentTarget,{fetcherKey:t,method:q,navigate:n,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:p})};return D.createElement("form",{ref:m,method:A,action:b,onSubmit:r?l:w,...g,"data-discover":!x&&e==="render"?"true":void 0})});e6.displayName="Form";function t6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hw(e){let t=D.useContext(Al);return nn(t,t6(e)),t}function n6(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=d0(),l=No(),d=mu(e,{relative:s});return D.useCallback(f=>{if(Tj(f,t)){f.preventDefault();let p=n!==void 0?n:tu(l)===tu(d);a(e,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,d,n,r,t,e,i,s,o])}function r6(e){Ii(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=D.useRef(zm(e)),n=D.useRef(!1),r=No(),i=D.useMemo(()=>Fj(r.search,n.current?null:t.current),[r.search]),s=d0(),o=D.useCallback((a,l)=>{const d=zm(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+d,l)},[s,i]);return[i,o]}var i6=0,s6=()=>`__${String(++i6)}__`;function o6(){let{router:e}=hw("useSubmit"),{basename:t}=D.useContext(Zi),n=Sj();return D.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:d}=Dj(r,t);if(i.navigate===!1){let f=i.fetcherKey||s6();await e.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:d,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:d,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function a6(e,{relative:t}={}){let{basename:n}=D.useContext(Zi),r=D.useContext(Es);nn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...mu(e||".",{relative:t})},o=No();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:bs([n,s.pathname])),tu(s)}function l6(e,{relative:t}={}){let n=D.useContext(nw);nn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hw("useViewTransitionState"),i=mu(e,{relative:t});if(!n.isTransitioning)return!1;let s=Ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ph(i.pathname,o)!=null||Ph(i.pathname,s)!=null}const g0=D.createContext({});function v0(e){const t=D.useRef(null);return t.current===null&&(t.current=e()),t.current}const rf=D.createContext(null),y0=D.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class c6 extends D.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u6({children:e,isPresent:t}){const n=D.useId(),r=D.useRef(null),i=D.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=D.useContext(y0);return D.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:d}=i.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return s&&(f.nonce=s),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),c.jsx(c6,{isPresent:t,childRef:r,sizeRef:i,children:D.cloneElement(e,{ref:r})})}const d6=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=v0(h6),l=D.useId(),d=D.useCallback(p=>{a.set(p,!0);for(const g of a.values())if(!g)return;r&&r()},[a,r]),f=D.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:d,register:p=>(a.set(p,!1),()=>a.delete(p))}),s?[Math.random(),d]:[n,d]);return D.useMemo(()=>{a.forEach((p,g)=>a.set(g,!1))},[n]),D.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(u6,{isPresent:n,children:e})),c.jsx(rf.Provider,{value:f,children:e})};function h6(){return new Map}function fw(e=!0){const t=D.useContext(rf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=D.useId();D.useEffect(()=>{e&&i(s)},[e]);const o=D.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Sd=e=>e.key||"";function W2(e){const t=[];return D.Children.forEach(e,n=>{D.isValidElement(n)&&t.push(n)}),t}const x0=typeof window<"u",pw=x0?D.useLayoutEffect:D.useEffect,pi=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=fw(o),d=D.useMemo(()=>W2(e),[e]),f=o&&!a?[]:d.map(Sd),p=D.useRef(!0),g=D.useRef(d),m=v0(()=>new Map),[N,b]=D.useState(d),[A,x]=D.useState(d);pw(()=>{p.current=!1,g.current=d;for(let R=0;R<A.length;R++){const q=Sd(A[R]);f.includes(q)?m.delete(q):m.get(q)!==!0&&m.set(q,!1)}},[A,f.length,f.join("-")]);const w=[];if(d!==N){let R=[...d];for(let q=0;q<A.length;q++){const U=A[q],T=Sd(U);f.includes(T)||(R.splice(q,0,U),w.push(U))}s==="wait"&&w.length&&(R=w),x(W2(R)),b(d);return}const{forceRender:j}=D.useContext(g0);return c.jsx(c.Fragment,{children:A.map(R=>{const q=Sd(R),U=o&&!a?!1:d===A||f.includes(q),T=()=>{if(m.has(q))m.set(q,!0);else return;let F=!0;m.forEach($=>{$||(F=!1)}),F&&(j==null||j(),x(g.current),o&&(l==null||l()),r&&r())};return c.jsx(d6,{isPresent:U,initial:!p.current||n?void 0:!1,custom:U?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:U?void 0:T,children:R},q)})})},Gr=e=>e;let mw=Gr;function w0(e){let t;return()=>(t===void 0&&(t=e()),t)}const vl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ss=e=>e*1e3,Ns=e=>e/1e3,f6={skipAnimations:!1,useManualTiming:!1};function p6(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(d){s.has(d)&&(l.schedule(d),e()),d(o)}const l={schedule:(d,f=!1,p=!1)=>{const m=p&&r?t:n;return f&&s.add(d),m.has(d)||m.add(d),d},cancel:d=>{n.delete(d),s.delete(d)},process:d=>{if(o=d,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(d))}};return l}const Nd=["read","resolveKeyframes","update","preRender","render","postRender"],m6=40;function gw(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Nd.reduce((x,w)=>(x[w]=p6(s),x),{}),{read:a,resolveKeyframes:l,update:d,preRender:f,render:p,postRender:g}=o,m=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,m6),1),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),d.process(i),f.process(i),p.process(i),g.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},N=()=>{n=!0,r=!0,i.isProcessing||e(m)};return{schedule:Nd.reduce((x,w)=>{const j=o[w];return x[w]=(R,q=!1,U=!1)=>(n||N(),j.schedule(R,q,U)),x},{}),cancel:x=>{for(let w=0;w<Nd.length;w++)o[Nd[w]].cancel(x)},state:i,steps:o}}const{schedule:Kt,cancel:go,state:qn,steps:Np}=gw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gr,!0),vw=D.createContext({strict:!1}),G2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yl={};for(const e in G2)yl[e]={isEnabled:t=>G2[e].some(n=>!!t[n])};function g6(e){for(const t in e)yl[t]={...yl[t],...e[t]}}const v6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||v6.has(e)}let yw=e=>!kh(e);function y6(e){e&&(yw=t=>t.startsWith("on")?!kh(t):e(t))}try{y6(require("@emotion/is-prop-valid").default)}catch{}function x6(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(yw(i)||n===!0&&kh(i)||!t&&!kh(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function w6(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const sf=D.createContext({});function nu(e){return typeof e=="string"||Array.isArray(e)}function of(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const b0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],S0=["initial",...b0];function af(e){return of(e.animate)||S0.some(t=>nu(e[t]))}function xw(e){return!!(af(e)||e.variants)}function b6(e,t){if(af(e)){const{initial:n,animate:r}=e;return{initial:n===!1||nu(n)?n:void 0,animate:nu(r)?r:void 0}}return e.inherit!==!1?t:{}}function S6(e){const{initial:t,animate:n}=b6(e,D.useContext(sf));return D.useMemo(()=>({initial:t,animate:n}),[K2(t),K2(n)])}function K2(e){return Array.isArray(e)?e.join(" "):e}const N6=Symbol.for("motionComponentSymbol");function Ga(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function j6(e,t,n){return D.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ga(n)&&(n.current=r))},[t])}const N0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),A6="framerAppearId",ww="data-"+N0(A6),{schedule:j0,cancel:b7}=gw(queueMicrotask,!1),bw=D.createContext({});function C6(e,t,n,r,i){var s,o;const{visualElement:a}=D.useContext(sf),l=D.useContext(vw),d=D.useContext(rf),f=D.useContext(y0).reducedMotion,p=D.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,m=D.useContext(bw);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&L6(p.current,n,i,m);const N=D.useRef(!1);D.useInsertionEffect(()=>{g&&N.current&&g.update(n,d)});const b=n[ww],A=D.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return pw(()=>{g&&(N.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),j0.render(g.render),A.current&&g.animationState&&g.animationState.animateChanges())}),D.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,b)}),A.current=!1))}),g}function L6(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Sw(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ga(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:d})}function Sw(e){if(e)return e.options.allowProjection!==!1?e.projection:Sw(e.parent)}function P6({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,o;e&&g6(e);function a(d,f){let p;const g={...D.useContext(y0),...d,layoutId:k6(d)},{isStatic:m}=g,N=S6(d),b=r(d,m);if(!m&&x0){_6();const A=E6(g);p=A.MeasureLayout,N.visualElement=C6(i,b,g,t,A.ProjectionNode)}return c.jsxs(sf.Provider,{value:N,children:[p&&N.visualElement?c.jsx(p,{visualElement:N.visualElement,...g}):null,n(i,d,j6(b,N.visualElement,f),b,m,N.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=D.forwardRef(a);return l[N6]=i,l}function k6({layoutId:e}){const t=D.useContext(g0).id;return t&&e!==void 0?t+"-"+e:e}function _6(e,t){D.useContext(vw).strict}function E6(e){const{drag:t,layout:n}=yl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const T6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function A0(e){return typeof e!="string"||e.includes("-")?!1:!!(T6.indexOf(e)>-1||/[A-Z]/u.test(e))}function Y2(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function C0(e,t,n,r){if(typeof t=="function"){const[i,s]=Y2(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=Y2(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const qm=e=>Array.isArray(e),F6=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),I6=e=>qm(e)?e[e.length-1]||0:e,nr=e=>!!(e&&e.getVelocity);function Kd(e){const t=nr(e)?e.get():e;return F6(t)?t.toValue():t}function R6({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const o={latestValues:D6(r,i,s,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const Nw=e=>(t,n)=>{const r=D.useContext(sf),i=D.useContext(rf),s=()=>R6(e,t,r,i);return n?s():v0(s)};function D6(e,t,n,r){const i={},s=r(e,{});for(const g in s)i[g]=Kd(s[g]);let{initial:o,animate:a}=e;const l=af(e),d=xw(e);t&&d&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const p=f?a:o;if(p&&typeof p!="boolean"&&!of(p)){const g=Array.isArray(p)?p:[p];for(let m=0;m<g.length;m++){const N=C0(e,g[m]);if(N){const{transitionEnd:b,transition:A,...x}=N;for(const w in x){let j=x[w];if(Array.isArray(j)){const R=f?j.length-1:0;j=j[R]}j!==null&&(i[w]=j)}for(const w in b)i[w]=b[w]}}}return i}const Cl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ia=new Set(Cl),jw=e=>t=>typeof t=="string"&&t.startsWith(e),Aw=jw("--"),M6=jw("var(--"),L0=e=>M6(e)?O6.test(e.split("/*")[0].trim()):!1,O6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ks=(e,t,n)=>n>t?t:n<e?e:n,Ll={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ru={...Ll,transform:e=>ks(0,1,e)},jd={...Ll,default:1},gu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xs=gu("deg"),Ji=gu("%"),it=gu("px"),B6=gu("vh"),z6=gu("vw"),J2={...Ji,parse:e=>Ji.parse(e)/100,transform:e=>Ji.transform(e*100)},q6={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,backgroundPositionX:it,backgroundPositionY:it},U6={rotate:Xs,rotateX:Xs,rotateY:Xs,rotateZ:Xs,scale:jd,scaleX:jd,scaleY:jd,scaleZ:jd,skew:Xs,skewX:Xs,skewY:Xs,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:ru,originX:J2,originY:J2,originZ:it},X2={...Ll,transform:Math.round},P0={...q6,...U6,zIndex:X2,size:it,fillOpacity:ru,strokeOpacity:ru,numOctaves:X2},V6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$6=Cl.length;function H6(e,t,n){let r="",i=!0;for(let s=0;s<$6;s++){const o=Cl[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const d=Cw(a,P0[o]);if(!l){i=!1;const f=V6[o]||o;r+=`${f}(${d}) `}n&&(t[o]=d)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function k0(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const d=t[l];if(ia.has(l)){o=!0;continue}else if(Aw(l)){i[l]=d;continue}else{const f=Cw(d,P0[l]);l.startsWith("origin")?(a=!0,s[l]=f):r[l]=f}}if(t.transform||(o||n?r.transform=H6(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${l} ${d} ${f}`}}const W6={offset:"stroke-dashoffset",array:"stroke-dasharray"},G6={offset:"strokeDashoffset",array:"strokeDasharray"};function K6(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?W6:G6;e[s.offset]=it.transform(-r);const o=it.transform(t),a=it.transform(n);e[s.array]=`${o} ${a}`}function Q2(e,t,n){return typeof e=="string"?e:it.transform(t+n*e)}function Y6(e,t,n){const r=Q2(t,e.x,e.width),i=Q2(n,e.y,e.height);return`${r} ${i}`}function _0(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...d},f,p){if(k0(e,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:m,dimensions:N}=e;g.transform&&(N&&(m.transform=g.transform),delete g.transform),N&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=Y6(N,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&K6(g,o,a,l,!1)}const E0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Lw=()=>({...E0(),attrs:{}}),T0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Pw(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const kw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _w(e,t,n,r){Pw(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(kw.has(i)?i:N0(i),t.attrs[i])}const _h={};function J6(e){Object.assign(_h,e)}function Ew(e,{layout:t,layoutId:n}){return ia.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!_h[e]||e==="opacity")}function F0(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(nr(i[o])||t.style&&nr(t.style[o])||Ew(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function Tw(e,t,n){const r=F0(e,t,n);for(const i in e)if(nr(e[i])||nr(t[i])){const s=Cl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function X6(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Z2=["x","y","width","height","cx","cy","r"],Q6={useVisualState:Nw({scrapeMotionValuesFromProps:Tw,createRenderState:Lw,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in i)if(ia.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<Z2.length;a++){const l=Z2[a];e[l]!==t[l]&&(o=!0)}o&&Kt.read(()=>{X6(n,r),Kt.render(()=>{_0(r,i,T0(n.tagName),e.transformTemplate),_w(n,r)})})}})},Z6={useVisualState:Nw({scrapeMotionValuesFromProps:F0,createRenderState:E0})};function Fw(e,t,n){for(const r in t)!nr(t[r])&&!Ew(r,n)&&(e[r]=t[r])}function eA({transformTemplate:e},t){return D.useMemo(()=>{const n=E0();return k0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function tA(e,t){const n=e.style||{},r={};return Fw(r,n,e),Object.assign(r,eA(e,t)),r}function nA(e,t){const n={},r=tA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function rA(e,t,n,r){const i=D.useMemo(()=>{const s=Lw();return _0(s,t,T0(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Fw(s,e.style,e),i.style={...s,...i.style}}return i}function iA(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(A0(n)?rA:nA)(r,s,o,n),d=x6(r,typeof n=="string",e),f=n!==D.Fragment?{...d,...l,ref:i}:{},{children:p}=r,g=D.useMemo(()=>nr(p)?p.get():p,[p]);return D.createElement(n,{...f,children:g})}}function sA(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...A0(r)?Q6:Z6,preloadedFeatures:e,useRender:iA(i),createVisualElement:t,Component:r};return P6(o)}}function Iw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function lf(e,t,n){const r=e.getProps();return C0(r,t,n!==void 0?n:r.custom,e)}const oA=w0(()=>window.ScrollTimeline!==void 0);class aA{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(oA()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class lA extends aA{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function I0(e,t){return e?e[t]||e.default||e:void 0}const Um=2e4;function Rw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Um;)t+=n,r=e.next(t);return t>=Um?1/0:t}function R0(e){return typeof e=="function"}function ev(e,t){e.timeline=t,e.onfinish=null}const D0=e=>Array.isArray(e)&&typeof e[0]=="number",cA={linearEasing:void 0};function uA(e,t){const n=w0(e);return()=>{var r;return(r=cA[t])!==null&&r!==void 0?r:n()}}const Eh=uA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dw=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(vl(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function Mw(e){return!!(typeof e=="function"&&Eh()||!e||typeof e=="string"&&(e in Vm||Eh())||D0(e)||Array.isArray(e)&&e.every(Mw))}const bc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Vm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bc([0,.65,.55,1]),circOut:bc([.55,0,1,.45]),backIn:bc([.31,.01,.66,-.59]),backOut:bc([.33,1.53,.69,.99])};function Ow(e,t){if(e)return typeof e=="function"&&Eh()?Dw(e,t):D0(e)?bc(e):Array.isArray(e)?e.map(n=>Ow(n,t)||Vm.easeOut):Vm[e]}const Ci={x:!1,y:!1};function Bw(){return Ci.x||Ci.y}function dA(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;t&&(i=t.current);const s=(r=n==null?void 0:n[e])!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function zw(e,t){const n=dA(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function tv(e){return t=>{t.pointerType==="touch"||Bw()||e(t)}}function hA(e,t,n={}){const[r,i,s]=zw(e,n),o=tv(a=>{const{target:l}=a,d=t(a);if(typeof d!="function"||!l)return;const f=tv(p=>{d(p),l.removeEventListener("pointerleave",f)});l.addEventListener("pointerleave",f,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const qw=(e,t)=>t?e===t?!0:qw(e,t.parentElement):!1,M0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,fA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pA(e){return fA.has(e.tagName)||e.tabIndex!==-1}const Sc=new WeakSet;function nv(e){return t=>{t.key==="Enter"&&e(t)}}function jp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const mA=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=nv(()=>{if(Sc.has(n))return;jp(n,"down");const i=nv(()=>{jp(n,"up")}),s=()=>jp(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function rv(e){return M0(e)&&!Bw()}function gA(e,t,n={}){const[r,i,s]=zw(e,n),o=a=>{const l=a.currentTarget;if(!rv(a)||Sc.has(l))return;Sc.add(l);const d=t(a),f=(m,N)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),!(!rv(m)||!Sc.has(l))&&(Sc.delete(l),typeof d=="function"&&d(m,{success:N}))},p=m=>{f(m,n.useGlobalTarget||qw(l,m.target))},g=m=>{f(m,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(a=>{!pA(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",d=>mA(d,i),i)}),s}function vA(e){return e==="x"||e==="y"?Ci[e]?null:(Ci[e]=!0,()=>{Ci[e]=!1}):Ci.x||Ci.y?null:(Ci.x=Ci.y=!0,()=>{Ci.x=Ci.y=!1})}const Uw=new Set(["width","height","top","left","right","bottom",...Cl]);let Yd;function yA(){Yd=void 0}const Xi={now:()=>(Yd===void 0&&Xi.set(qn.isProcessing||f6.useManualTiming?qn.timestamp:performance.now()),Yd),set:e=>{Yd=e,queueMicrotask(yA)}};function O0(e,t){e.indexOf(t)===-1&&e.push(t)}function B0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class z0{constructor(){this.subscriptions=[]}add(t){return O0(this.subscriptions,t),()=>B0(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Vw(e,t){return t?e*(1e3/t):0}const iv=30,xA=e=>!isNaN(parseFloat(e));class wA{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Xi.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Xi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=xA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new z0);const r=this.events[t].add(n);return t==="change"?()=>{r(),Kt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Xi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>iv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,iv);return Vw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function iu(e,t){return new wA(e,t)}function bA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,iu(n))}function SA(e,t){const n=lf(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=I6(s[o]);bA(e,o,a)}}function NA(e){return!!(nr(e)&&e.add)}function $m(e,t){const n=e.getValue("willChange");if(NA(n))return n.add(t)}function $w(e){return e.props[ww]}const Hw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,jA=1e-7,AA=12;function CA(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=Hw(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>jA&&++a<AA);return o}function vu(e,t,n,r){if(e===t&&n===r)return Gr;const i=s=>CA(s,0,1,e,n);return s=>s===0||s===1?s:Hw(i(s),t,r)}const Ww=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Gw=e=>t=>1-e(1-t),Kw=vu(.33,1.53,.69,.99),q0=Gw(Kw),Yw=Ww(q0),Jw=e=>(e*=2)<1?.5*q0(e):.5*(2-Math.pow(2,-10*(e-1))),U0=e=>1-Math.sin(Math.acos(e)),Xw=Gw(U0),Qw=Ww(U0),Zw=e=>/^0[^.\s]+$/u.test(e);function LA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Zw(e):!0}const Fc=e=>Math.round(e*1e5)/1e5,V0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PA(e){return e==null}const kA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$0=(e,t)=>n=>!!(typeof n=="string"&&kA.test(n)&&n.startsWith(e)||t&&!PA(n)&&Object.prototype.hasOwnProperty.call(n,t)),e3=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(V0);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},_A=e=>ks(0,255,e),Ap={...Ll,transform:e=>Math.round(_A(e))},Wo={test:$0("rgb","red"),parse:e3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ap.transform(e)+", "+Ap.transform(t)+", "+Ap.transform(n)+", "+Fc(ru.transform(r))+")"};function EA(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Hm={test:$0("#"),parse:EA,transform:Wo.transform},Ka={test:$0("hsl","hue"),parse:e3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ji.transform(Fc(t))+", "+Ji.transform(Fc(n))+", "+Fc(ru.transform(r))+")"},Zn={test:e=>Wo.test(e)||Hm.test(e)||Ka.test(e),parse:e=>Wo.test(e)?Wo.parse(e):Ka.test(e)?Ka.parse(e):Hm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Wo.transform(e):Ka.transform(e)},TA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FA(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(V0))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(TA))===null||n===void 0?void 0:n.length)||0)>0}const t3="number",n3="color",IA="var",RA="var(",sv="${}",DA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function su(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(DA,l=>(Zn.test(l)?(r.color.push(s),i.push(n3),n.push(Zn.parse(l))):l.startsWith(RA)?(r.var.push(s),i.push(IA),n.push(l)):(r.number.push(s),i.push(t3),n.push(parseFloat(l))),++s,sv)).split(sv);return{values:n,split:a,indexes:r,types:i}}function r3(e){return su(e).values}function i3(e){const{split:t,types:n}=su(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===t3?s+=Fc(i[o]):a===n3?s+=Zn.transform(i[o]):s+=i[o]}return s}}const MA=e=>typeof e=="number"?0:e;function OA(e){const t=r3(e);return i3(e)(t.map(MA))}const vo={test:FA,parse:r3,createTransformer:i3,getAnimatableNone:OA},BA=new Set(["brightness","contrast","saturate","opacity"]);function zA(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(V0)||[];if(!r)return e;const i=n.replace(r,"");let s=BA.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const qA=/\b([a-z-]*)\(.*?\)/gu,Wm={...vo,getAnimatableNone:e=>{const t=e.match(qA);return t?t.map(zA).join(" "):e}},UA={...P0,color:Zn,backgroundColor:Zn,outlineColor:Zn,fill:Zn,stroke:Zn,borderColor:Zn,borderTopColor:Zn,borderRightColor:Zn,borderBottomColor:Zn,borderLeftColor:Zn,filter:Wm,WebkitFilter:Wm},H0=e=>UA[e];function s3(e,t){let n=H0(e);return n!==Wm&&(n=vo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const VA=new Set(["auto","none","0"]);function $A(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!VA.has(s)&&su(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=s3(n,i)}const ov=e=>e===Ll||e===it,av=(e,t)=>parseFloat(e.split(", ")[t]),lv=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return av(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?av(s[1],e):0}},HA=new Set(["x","y","z"]),WA=Cl.filter(e=>!HA.has(e));function GA(e){const t=[];return WA.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const xl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:lv(4,13),y:lv(5,14)};xl.translateX=xl.x;xl.translateY=xl.y;const Yo=new Set;let Gm=!1,Km=!1;function o3(){if(Km){const e=Array.from(Yo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=GA(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Km=!1,Gm=!1,Yo.forEach(e=>e.complete()),Yo.clear()}function a3(){Yo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Km=!0)})}function KA(){a3(),o3()}class W0{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Yo.add(this),Gm||(Gm=!0,Kt.read(a3),Kt.resolveKeyframes(o3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Yo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Yo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const l3=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),YA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JA(e){const t=YA.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function c3(e,t,n=1){const[r,i]=JA(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return l3(o)?parseFloat(o):o}return L0(i)?c3(i,t,n+1):i}const u3=e=>t=>t.test(e),XA={test:e=>e==="auto",parse:e=>e},d3=[Ll,it,Ji,Xs,z6,B6,XA],cv=e=>d3.find(u3(e));class h3 extends W0{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let d=t[l];if(typeof d=="string"&&(d=d.trim(),L0(d))){const f=c3(d,n.current);f!==void 0&&(t[l]=f),l===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Uw.has(r)||t.length!==2)return;const[i,s]=t,o=cv(i),a=cv(s);if(o!==a)if(ov(o)&&ov(a))for(let l=0;l<t.length;l++){const d=t[l];typeof d=="string"&&(t[l]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)LA(t[i])&&r.push(i);r.length&&$A(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=xl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,d])=>{n.getValue(l).set(d)}),this.resolveNoneKeyframes()}}const uv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(vo.test(e)||e==="0")&&!e.startsWith("url("));function QA(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ZA(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=uv(i,t),a=uv(s,t);return!o||!a?!1:QA(e)||(n==="spring"||R0(n))&&r}const eC=e=>e!==null;function cf(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(eC),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const tC=40;class f3{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Xi.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>tC?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&KA(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Xi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:d}=this.options;if(!d&&!ZA(t,r,i,s))if(o)this.options.duration=0;else{l&&l(cf(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,n);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const en=(e,t,n)=>e+(t-e)*n;function Cp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function nC({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Cp(l,a,e+1/3),s=Cp(l,a,e),o=Cp(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Th(e,t){return n=>n>0?t:e}const Lp=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},rC=[Hm,Wo,Ka],iC=e=>rC.find(t=>t.test(e));function dv(e){const t=iC(e);if(!t)return!1;let n=t.parse(e);return t===Ka&&(n=nC(n)),n}const hv=(e,t)=>{const n=dv(e),r=dv(t);if(!n||!r)return Th(e,t);const i={...n};return s=>(i.red=Lp(n.red,r.red,s),i.green=Lp(n.green,r.green,s),i.blue=Lp(n.blue,r.blue,s),i.alpha=en(n.alpha,r.alpha,s),Wo.transform(i))},sC=(e,t)=>n=>t(e(n)),yu=(...e)=>e.reduce(sC),Ym=new Set(["none","hidden"]);function oC(e,t){return Ym.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function aC(e,t){return n=>en(e,t,n)}function G0(e){return typeof e=="number"?aC:typeof e=="string"?L0(e)?Th:Zn.test(e)?hv:uC:Array.isArray(e)?p3:typeof e=="object"?Zn.test(e)?hv:lC:Th}function p3(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>G0(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function lC(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=G0(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function cC(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const uC=(e,t)=>{const n=vo.createTransformer(t),r=su(e),i=su(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ym.has(e)&&!i.values.length||Ym.has(t)&&!r.values.length?oC(e,t):yu(p3(cC(r,i),i.values),n):Th(e,t)};function m3(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?en(e,t,n):G0(e)(e,t)}const dC=5;function g3(e,t,n){const r=Math.max(t-dC,0);return Vw(n-e(r),t-r)}const ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pp=.001;function hC({duration:e=ln.duration,bounce:t=ln.bounce,velocity:n=ln.velocity,mass:r=ln.mass}){let i,s,o=1-t;o=ks(ln.minDamping,ln.maxDamping,o),e=ks(ln.minDuration,ln.maxDuration,Ns(e)),o<1?(i=d=>{const f=d*o,p=f*e,g=f-n,m=Jm(d,o),N=Math.exp(-p);return Pp-g/m*N},s=d=>{const p=d*o*e,g=p*n+n,m=Math.pow(o,2)*Math.pow(d,2)*e,N=Math.exp(-p),b=Jm(Math.pow(d,2),o);return(-i(d)+Pp>0?-1:1)*((g-m)*N)/b}):(i=d=>{const f=Math.exp(-d*e),p=(d-n)*e+1;return-Pp+f*p},s=d=>{const f=Math.exp(-d*e),p=(n-d)*(e*e);return f*p});const a=5/e,l=pC(i,s,a);if(e=Ss(e),isNaN(l))return{stiffness:ln.stiffness,damping:ln.damping,duration:e};{const d=Math.pow(l,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const fC=12;function pC(e,t,n){let r=n;for(let i=1;i<fC;i++)r=r-e(r)/t(r);return r}function Jm(e,t){return e*Math.sqrt(1-t*t)}const mC=["duration","bounce"],gC=["stiffness","damping","mass"];function fv(e,t){return t.some(n=>e[n]!==void 0)}function vC(e){let t={velocity:ln.velocity,stiffness:ln.stiffness,damping:ln.damping,mass:ln.mass,isResolvedFromDuration:!1,...e};if(!fv(e,gC)&&fv(e,mC))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ks(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ln.mass,stiffness:i,damping:s}}else{const n=hC(e);t={...t,...n,mass:ln.mass},t.isResolvedFromDuration=!0}return t}function v3(e=ln.visualDuration,t=ln.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:d,mass:f,duration:p,velocity:g,isResolvedFromDuration:m}=vC({...n,velocity:-Ns(n.velocity||0)}),N=g||0,b=d/(2*Math.sqrt(l*f)),A=o-s,x=Ns(Math.sqrt(l/f)),w=Math.abs(A)<5;r||(r=w?ln.restSpeed.granular:ln.restSpeed.default),i||(i=w?ln.restDelta.granular:ln.restDelta.default);let j;if(b<1){const q=Jm(x,b);j=U=>{const T=Math.exp(-b*x*U);return o-T*((N+b*x*A)/q*Math.sin(q*U)+A*Math.cos(q*U))}}else if(b===1)j=q=>o-Math.exp(-x*q)*(A+(N+x*A)*q);else{const q=x*Math.sqrt(b*b-1);j=U=>{const T=Math.exp(-b*x*U),F=Math.min(q*U,300);return o-T*((N+b*x*A)*Math.sinh(F)+q*A*Math.cosh(F))/q}}const R={calculatedDuration:m&&p||null,next:q=>{const U=j(q);if(m)a.done=q>=p;else{let T=0;b<1&&(T=q===0?Ss(N):g3(j,q,U));const F=Math.abs(T)<=r,$=Math.abs(o-U)<=i;a.done=F&&$}return a.value=a.done?o:U,a},toString:()=>{const q=Math.min(Rw(R),Um),U=Dw(T=>R.next(q*T).value,q,30);return q+"ms "+U}};return R}function pv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:d=.5,restSpeed:f}){const p=e[0],g={done:!1,value:p},m=F=>a!==void 0&&F<a||l!==void 0&&F>l,N=F=>a===void 0?l:l===void 0||Math.abs(a-F)<Math.abs(l-F)?a:l;let b=n*t;const A=p+b,x=o===void 0?A:o(A);x!==A&&(b=x-p);const w=F=>-b*Math.exp(-F/r),j=F=>x+w(F),R=F=>{const $=w(F),ee=j(F);g.done=Math.abs($)<=d,g.value=g.done?x:ee};let q,U;const T=F=>{m(g.value)&&(q=F,U=v3({keyframes:[g.value,N(g.value)],velocity:g3(j,F,g.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return T(0),{calculatedDuration:null,next:F=>{let $=!1;return!U&&q===void 0&&($=!0,R(F),T(F)),q!==void 0&&F>=q?U.next(F-q):(!$&&R(F),g)}}}const yC=vu(.42,0,1,1),xC=vu(0,0,.58,1),y3=vu(.42,0,.58,1),wC=e=>Array.isArray(e)&&typeof e[0]!="number",bC={linear:Gr,easeIn:yC,easeInOut:y3,easeOut:xC,circIn:U0,circInOut:Qw,circOut:Xw,backIn:q0,backInOut:Yw,backOut:Kw,anticipate:Jw},mv=e=>{if(D0(e)){mw(e.length===4);const[t,n,r,i]=e;return vu(t,n,r,i)}else if(typeof e=="string")return bC[e];return e};function SC(e,t,n){const r=[],i=n||m3,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Gr:t;a=yu(l,a)}r.push(a)}return r}function NC(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(mw(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=SC(t,r,i),l=a.length,d=f=>{if(o&&f<e[0])return t[0];let p=0;if(l>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const g=vl(e[p],e[p+1],f);return a[p](g)};return n?f=>d(ks(e[0],e[s-1],f)):d}function jC(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=vl(0,t,r);e.push(en(n,1,i))}}function AC(e){const t=[0];return jC(t,e.length-1),t}function CC(e,t){return e.map(n=>n*t)}function LC(e,t){return e.map(()=>t||y3).splice(0,e.length-1)}function Fh({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=wC(r)?r.map(mv):mv(r),s={done:!1,value:t[0]},o=CC(n&&n.length===t.length?n:AC(t),e),a=NC(o,t,{ease:Array.isArray(i)?i:LC(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const PC=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Kt.update(t,!0),stop:()=>go(t),now:()=>qn.isProcessing?qn.timestamp:Xi.now()}},kC={decay:pv,inertia:pv,tween:Fh,keyframes:Fh,spring:v3},_C=e=>e/100;class K0 extends f3{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||W0,a=(l,d)=>this.onKeyframesResolved(l,d);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=R0(n)?n:kC[n]||Fh;let l,d;a!==Fh&&typeof t[0]!="number"&&(l=yu(_C,m3(t[0],t[1])),t=[0,100]);const f=a({...this.options,keyframes:t});s==="mirror"&&(d=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=Rw(f));const{calculatedDuration:p}=f,g=p+i,m=g*(r+1)-i;return{generator:f,mirroredGenerator:d,mapPercentToKeyframes:l,calculatedDuration:p,resolvedDuration:g,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:F}=this.options;return{done:!0,value:F[F.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:d,totalDuration:f,resolvedDuration:p}=r;if(this.startTime===null)return s.next(0);const{delay:g,repeat:m,repeatType:N,repeatDelay:b,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-g*(this.speed>=0?1:-1),w=this.speed>=0?x<0:x>f;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let j=this.currentTime,R=s;if(m){const F=Math.min(this.currentTime,f)/p;let $=Math.floor(F),ee=F%1;!ee&&F>=1&&(ee=1),ee===1&&$--,$=Math.min($,m+1),!!($%2)&&(N==="reverse"?(ee=1-ee,b&&(ee-=b/p)):N==="mirror"&&(R=o)),j=ks(0,1,ee)*p}const q=w?{done:!1,value:l[0]}:R.next(j);a&&(q.value=a(q.value));let{done:U}=q;!w&&d!==null&&(U=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return T&&i!==void 0&&(q.value=cf(l,this.options,i)),A&&A(q.value),T&&this.finish(),q}get duration(){const{resolved:t}=this;return t?Ns(t.calculatedDuration):0}get time(){return Ns(this.currentTime)}set time(t){t=Ss(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ns(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=PC,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const EC=new Set(["opacity","clipPath","filter","transform"]);function TC(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const d={[t]:n};l&&(d.offset=l);const f=Ow(a,i);return Array.isArray(f)&&(d.easing=f),e.animate(d,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const FC=w0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ih=10,IC=2e4;function RC(e){return R0(e.type)||e.type==="spring"||!Mw(e.ease)}function DC(e,t){const n=new K0({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<IC;)r=n.sample(s),i.push(r.value),s+=Ih;return{times:void 0,keyframes:i,duration:s-Ih,ease:"linear"}}const x3={anticipate:Jw,backInOut:Yw,circInOut:Qw};function MC(e){return e in x3}class gv extends f3{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new h3(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:d}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Eh()&&MC(s)&&(s=x3[s]),RC(this.options)){const{onComplete:p,onUpdate:g,motionValue:m,element:N,...b}=this.options,A=DC(t,b);t=A.keyframes,t.length===1&&(t[1]=t[0]),r=A.duration,i=A.times,s=A.ease,o="keyframes"}const f=TC(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:s});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(ev(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;a.set(cf(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ns(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ns(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ss(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Gr;const{animation:r}=n;ev(r,t)}return Gr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:f,onComplete:p,element:g,...m}=this.options,N=new K0({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),b=Ss(this.time);d.setWithVelocity(N.sample(b-Ih).value,N.sample(b).value,Ih)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:d}=n.owner.getProps();return FC()&&r&&EC.has(r)&&!l&&!d&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const OC={type:"spring",stiffness:500,damping:25,restSpeed:10},BC=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),zC={type:"keyframes",duration:.8},qC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UC=(e,{keyframes:t})=>t.length>2?zC:ia.has(e)?e.startsWith("scale")?BC(t[1]):OC:qC;function VC({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:d,...f}){return!!Object.keys(f).length}const Y0=(e,t,n,r={},i,s)=>o=>{const a=I0(r,e)||{},l=a.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ss(l);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-d,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};VC(a)||(f={...f,...UC(e,f)}),f.duration&&(f.duration=Ss(f.duration)),f.repeatDelay&&(f.repeatDelay=Ss(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!s&&t.get()!==void 0){const g=cf(f.keyframes,a);if(g!==void 0)return Kt.update(()=>{f.onUpdate(g),f.onComplete()}),new lA([])}return!s&&gv.supports(f)?new gv(f):new K0(f)};function $C({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function w3(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const d=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in l){const g=e.getValue(p,(s=e.latestValues[p])!==null&&s!==void 0?s:null),m=l[p];if(m===void 0||f&&$C(f,p))continue;const N={delay:n,...I0(o||{},p)};let b=!1;if(window.MotionHandoffAnimation){const x=$w(e);if(x){const w=window.MotionHandoffAnimation(x,p,Kt);w!==null&&(N.startTime=w,b=!0)}}$m(e,p),g.start(Y0(p,g,m,e.shouldReduceMotion&&Uw.has(p)?{type:!1}:N,e,b));const A=g.animation;A&&d.push(A)}return a&&Promise.all(d).then(()=>{Kt.update(()=>{a&&SA(e,a)})}),d}function Xm(e,t,n={}){var r;const i=lf(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(w3(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=s;return HC(e,t,f+d,p,g,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,f]=l==="beforeChildren"?[o,a]:[a,o];return d().then(()=>f())}else return Promise.all([o(),a(n.delay)])}function HC(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(d=0)=>d*r:(d=0)=>a-d*r;return Array.from(e.variantChildren).sort(WC).forEach((d,f)=>{d.notify("AnimationStart",t),o.push(Xm(d,t,{...s,delay:n+l(f)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function WC(e,t){return e.sortNodePosition(t)}function GC(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Xm(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Xm(e,t,n);else{const i=typeof t=="function"?lf(e,t,n.custom):t;r=Promise.all(w3(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const KC=S0.length;function b3(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?b3(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<KC;n++){const r=S0[n],i=e.props[r];(nu(i)||i===!1)&&(t[r]=i)}return t}const YC=[...b0].reverse(),JC=b0.length;function XC(e){return t=>Promise.all(t.map(({animation:n,options:r})=>GC(e,n,r)))}function QC(e){let t=XC(e),n=vv(),r=!0;const i=l=>(d,f)=>{var p;const g=lf(e,f,l==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(g){const{transition:m,transitionEnd:N,...b}=g;d={...d,...b,...N}}return d};function s(l){t=l(e)}function o(l){const{props:d}=e,f=b3(e.parent)||{},p=[],g=new Set;let m={},N=1/0;for(let A=0;A<JC;A++){const x=YC[A],w=n[x],j=d[x]!==void 0?d[x]:f[x],R=nu(j),q=x===l?w.isActive:null;q===!1&&(N=A);let U=j===f[x]&&j!==d[x]&&R;if(U&&r&&e.manuallyAnimateOnMount&&(U=!1),w.protectedKeys={...m},!w.isActive&&q===null||!j&&!w.prevProp||of(j)||typeof j=="boolean")continue;const T=ZC(w.prevProp,j);let F=T||x===l&&w.isActive&&!U&&R||A>N&&R,$=!1;const ee=Array.isArray(j)?j:[j];let E=ee.reduce(i(x),{});q===!1&&(E={});const{prevResolvedValues:M={}}=w,X={...M,...E},G=ce=>{F=!0,g.has(ce)&&($=!0,g.delete(ce)),w.needsAnimating[ce]=!0;const H=e.getValue(ce);H&&(H.liveStyle=!1)};for(const ce in X){const H=E[ce],ie=M[ce];if(m.hasOwnProperty(ce))continue;let Y=!1;qm(H)&&qm(ie)?Y=!Iw(H,ie):Y=H!==ie,Y?H!=null?G(ce):g.add(ce):H!==void 0&&g.has(ce)?G(ce):w.protectedKeys[ce]=!0}w.prevProp=j,w.prevResolvedValues=E,w.isActive&&(m={...m,...E}),r&&e.blockInitialAnimation&&(F=!1),F&&(!(U&&T)||$)&&p.push(...ee.map(ce=>({animation:ce,options:{type:x}})))}if(g.size){const A={};g.forEach(x=>{const w=e.getBaseTarget(x),j=e.getValue(x);j&&(j.liveStyle=!0),A[x]=w??null}),p.push({animation:A})}let b=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function a(l,d){var f;if(n[l].isActive===d)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var m;return(m=g.animationState)===null||m===void 0?void 0:m.setActive(l,d)}),n[l].isActive=d;const p=o(l);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=vv(),r=!0}}}function ZC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Iw(t,e):!1}function Ro(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vv(){return{animate:Ro(!0),whileInView:Ro(),whileHover:Ro(),whileTap:Ro(),whileDrag:Ro(),whileFocus:Ro(),exit:Ro()}}class jo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class e8 extends jo{constructor(t){super(t),t.animationState||(t.animationState=QC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();of(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let t8=0;class n8 extends jo{constructor(){super(...arguments),this.id=t8++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const r8={animation:{Feature:e8},exit:{Feature:n8}};function ou(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function xu(e){return{point:{x:e.pageX,y:e.pageY}}}const i8=e=>t=>M0(t)&&e(t,xu(t));function Ic(e,t,n,r){return ou(e,t,i8(n),r)}const yv=(e,t)=>Math.abs(e-t);function s8(e,t){const n=yv(e.x,t.x),r=yv(e.y,t.y);return Math.sqrt(n**2+r**2)}class S3{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=_p(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=s8(p.offset,{x:0,y:0})>=3;if(!g&&!m)return;const{point:N}=p,{timestamp:b}=qn;this.history.push({...N,timestamp:b});const{onStart:A,onMove:x}=this.handlers;g||(A&&A(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=kp(g,this.transformPagePoint),Kt.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:m,onSessionEnd:N,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=_p(p.type==="pointercancel"?this.lastMoveEventInfo:kp(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(p,A),N&&N(p,A)},!M0(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=xu(t),a=kp(o,this.transformPagePoint),{point:l}=a,{timestamp:d}=qn;this.history=[{...l,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,_p(a,this.history)),this.removeListeners=yu(Ic(this.contextWindow,"pointermove",this.handlePointerMove),Ic(this.contextWindow,"pointerup",this.handlePointerUp),Ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),go(this.updatePoint)}}function kp(e,t){return t?{point:t(e.point)}:e}function xv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _p({point:e},t){return{point:e,delta:xv(e,N3(t)),offset:xv(e,o8(t)),velocity:a8(t,.1)}}function o8(e){return e[0]}function N3(e){return e[e.length-1]}function a8(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=N3(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ss(t)));)n--;if(!r)return{x:0,y:0};const s=Ns(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const j3=1e-4,l8=1-j3,c8=1+j3,A3=.01,u8=0-A3,d8=0+A3;function Yr(e){return e.max-e.min}function h8(e,t,n){return Math.abs(e-t)<=n}function wv(e,t,n,r=.5){e.origin=r,e.originPoint=en(t.min,t.max,e.origin),e.scale=Yr(n)/Yr(t),e.translate=en(n.min,n.max,e.origin)-e.originPoint,(e.scale>=l8&&e.scale<=c8||isNaN(e.scale))&&(e.scale=1),(e.translate>=u8&&e.translate<=d8||isNaN(e.translate))&&(e.translate=0)}function Rc(e,t,n,r){wv(e.x,t.x,n.x,r?r.originX:void 0),wv(e.y,t.y,n.y,r?r.originY:void 0)}function bv(e,t,n){e.min=n.min+t.min,e.max=e.min+Yr(t)}function f8(e,t,n){bv(e.x,t.x,n.x),bv(e.y,t.y,n.y)}function Sv(e,t,n){e.min=t.min-n.min,e.max=e.min+Yr(t)}function Dc(e,t,n){Sv(e.x,t.x,n.x),Sv(e.y,t.y,n.y)}function p8(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?en(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?en(n,e,r.max):Math.min(e,n)),e}function Nv(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function m8(e,{top:t,left:n,bottom:r,right:i}){return{x:Nv(e.x,n,i),y:Nv(e.y,t,r)}}function jv(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function g8(e,t){return{x:jv(e.x,t.x),y:jv(e.y,t.y)}}function v8(e,t){let n=.5;const r=Yr(e),i=Yr(t);return i>r?n=vl(t.min,t.max-r,e.min):r>i&&(n=vl(e.min,e.max-i,t.min)),ks(0,1,n)}function y8(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Qm=.35;function x8(e=Qm){return e===!1?e=0:e===!0&&(e=Qm),{x:Av(e,"left","right"),y:Av(e,"top","bottom")}}function Av(e,t,n){return{min:Cv(e,t),max:Cv(e,n)}}function Cv(e,t){return typeof e=="number"?e:e[t]||0}const Lv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ya=()=>({x:Lv(),y:Lv()}),Pv=()=>({min:0,max:0}),mn=()=>({x:Pv(),y:Pv()});function ui(e){return[e("x"),e("y")]}function C3({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function w8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function b8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ep(e){return e===void 0||e===1}function Zm({scale:e,scaleX:t,scaleY:n}){return!Ep(e)||!Ep(t)||!Ep(n)}function Bo(e){return Zm(e)||L3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function L3(e){return kv(e.x)||kv(e.y)}function kv(e){return e&&e!=="0%"}function Rh(e,t,n){const r=e-n,i=t*r;return n+i}function _v(e,t,n,r,i){return i!==void 0&&(e=Rh(e,i,r)),Rh(e,n,r)+t}function e1(e,t=0,n=1,r,i){e.min=_v(e.min,t,n,r,i),e.max=_v(e.max,t,n,r,i)}function P3(e,{x:t,y:n}){e1(e.x,t.translate,t.scale,t.originPoint),e1(e.y,n.translate,n.scale,n.originPoint)}const Ev=.999999999999,Tv=1.0000000000001;function S8(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Xa(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,P3(e,o)),r&&Bo(s.latestValues)&&Xa(e,s.latestValues))}t.x<Tv&&t.x>Ev&&(t.x=1),t.y<Tv&&t.y>Ev&&(t.y=1)}function Ja(e,t){e.min=e.min+t,e.max=e.max+t}function Fv(e,t,n,r,i=.5){const s=en(e.min,e.max,i);e1(e,t,n,s,r)}function Xa(e,t){Fv(e.x,t.x,t.scaleX,t.scale,t.originX),Fv(e.y,t.y,t.scaleY,t.scale,t.originY)}function k3(e,t){return C3(b8(e.getBoundingClientRect(),t))}function N8(e,t,n){const r=k3(e,n),{scroll:i}=t;return i&&(Ja(r.x,i.offset.x),Ja(r.y,i.offset.y)),r}const _3=({current:e})=>e?e.ownerDocument.defaultView:null,j8=new WeakMap;class A8{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xu(f).point)},s=(f,p)=>{const{drag:g,dragPropagation:m,onDragStart:N}=this.getProps();if(g&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vA(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ui(A=>{let x=this.getAxisMotionValue(A).get()||0;if(Ji.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const j=w.layout.layoutBox[A];j&&(x=Yr(j)*(parseFloat(x)/100))}}this.originPoint[A]=x}),N&&Kt.postRender(()=>N(f,p)),$m(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(f,p)=>{const{dragPropagation:g,dragDirectionLock:m,onDirectionLock:N,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:A}=p;if(m&&this.currentDirection===null){this.currentDirection=C8(A),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",p.point,A),this.updateAxis("y",p.point,A),this.visualElement.render(),b&&b(f,p)},a=(f,p)=>this.stop(f,p),l=()=>ui(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new S3(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:_3(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Kt.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Ad(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=p8(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Ga(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=m8(i.layoutBox,n):this.constraints=!1,this.elastic=x8(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ui(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=y8(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ga(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=N8(r,i.root,this.visualElement.getTransformPagePoint());let o=g8(i.layout.layoutBox,s);if(n){const a=n(w8(o));this.hasMutatedConstraints=!!a,a&&(o=C3(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},d=ui(f=>{if(!Ad(f,n,this.currentDirection))return;let p=l&&l[f]||{};o&&(p={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,N={type:"inertia",velocity:r?t[f]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,N)});return Promise.all(d).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return $m(this.visualElement,t),r.start(Y0(t,r,0,n,this.visualElement,!1))}stopAnimation(){ui(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ui(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ui(n=>{const{drag:r}=this.getProps();if(!Ad(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-en(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ga(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ui(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=v8({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ui(o=>{if(!Ad(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:d}=this.constraints[o];a.set(en(l,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;j8.set(this.visualElement,this);const t=this.visualElement.current,n=Ic(t,"pointerdown",l=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ga(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Kt.read(r);const o=ou(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(ui(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=l[f].translate,p.set(p.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Qm,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ad(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function C8(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class L8 extends jo{constructor(t){super(t),this.removeGroupControls=Gr,this.removeListeners=Gr,this.controls=new A8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Iv=e=>(t,n)=>{e&&Kt.postRender(()=>e(t,n))};class P8 extends jo{constructor(){super(...arguments),this.removePointerDownListener=Gr}onPointerDown(t){this.session=new S3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Iv(t),onStart:Iv(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Kt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ic(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Rv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const dc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(it.test(e))e=parseFloat(e);else return e;const n=Rv(e,t.target.x),r=Rv(e,t.target.y);return`${n}% ${r}%`}},k8={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=vo.parse(e);if(i.length>5)return r;const s=vo.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const d=en(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};class _8 extends D.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;J6(E8),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Jd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Kt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),j0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function E3(e){const[t,n]=fw(),r=D.useContext(g0);return c.jsx(_8,{...e,layoutGroup:r,switchLayoutGroup:D.useContext(bw),isPresent:t,safeToRemove:n})}const E8={borderRadius:{...dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dc,borderTopRightRadius:dc,borderBottomLeftRadius:dc,borderBottomRightRadius:dc,boxShadow:k8};function T8(e,t,n){const r=nr(e)?e:iu(e);return r.start(Y0("",r,t,n)),r.animation}function F8(e){return e instanceof SVGElement&&e.tagName!=="svg"}const I8=(e,t)=>e.depth-t.depth;class R8{constructor(){this.children=[],this.isDirty=!1}add(t){O0(this.children,t),this.isDirty=!0}remove(t){B0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(I8),this.isDirty=!1,this.children.forEach(t)}}function D8(e,t){const n=Xi.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(go(r),e(s-t))};return Kt.read(r,!0),()=>go(r)}const T3=["TopLeft","TopRight","BottomLeft","BottomRight"],M8=T3.length,Dv=e=>typeof e=="string"?parseFloat(e):e,Mv=e=>typeof e=="number"||it.test(e);function O8(e,t,n,r,i,s){i?(e.opacity=en(0,n.opacity!==void 0?n.opacity:1,B8(r)),e.opacityExit=en(t.opacity!==void 0?t.opacity:1,0,z8(r))):s&&(e.opacity=en(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<M8;o++){const a=`border${T3[o]}Radius`;let l=Ov(t,a),d=Ov(n,a);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||Mv(l)===Mv(d)?(e[a]=Math.max(en(Dv(l),Dv(d),r),0),(Ji.test(d)||Ji.test(l))&&(e[a]+="%")):e[a]=d}(t.rotate||n.rotate)&&(e.rotate=en(t.rotate||0,n.rotate||0,r))}function Ov(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const B8=F3(0,.5,Xw),z8=F3(.5,.95,Gr);function F3(e,t,n){return r=>r<e?0:r>t?1:n(vl(e,t,r))}function Bv(e,t){e.min=t.min,e.max=t.max}function ci(e,t){Bv(e.x,t.x),Bv(e.y,t.y)}function zv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qv(e,t,n,r,i){return e-=t,e=Rh(e,1/n,r),i!==void 0&&(e=Rh(e,1/i,r)),e}function q8(e,t=0,n=1,r=.5,i,s=e,o=e){if(Ji.test(t)&&(t=parseFloat(t),t=en(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=en(s.min,s.max,r);e===s&&(a-=t),e.min=qv(e.min,t,n,a,i),e.max=qv(e.max,t,n,a,i)}function Uv(e,t,[n,r,i],s,o){q8(e,t[n],t[r],t[i],t.scale,s,o)}const U8=["x","scaleX","originX"],V8=["y","scaleY","originY"];function Vv(e,t,n,r){Uv(e.x,t,U8,n?n.x:void 0,r?r.x:void 0),Uv(e.y,t,V8,n?n.y:void 0,r?r.y:void 0)}function $v(e){return e.translate===0&&e.scale===1}function I3(e){return $v(e.x)&&$v(e.y)}function Hv(e,t){return e.min===t.min&&e.max===t.max}function $8(e,t){return Hv(e.x,t.x)&&Hv(e.y,t.y)}function Wv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function R3(e,t){return Wv(e.x,t.x)&&Wv(e.y,t.y)}function Gv(e){return Yr(e.x)/Yr(e.y)}function Kv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class H8{constructor(){this.members=[]}add(t){O0(this.members,t),t.scheduleRender()}remove(t){if(B0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function W8(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:g,skewX:m,skewY:N}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),m&&(r+=`skewX(${m}deg) `),N&&(r+=`skewY(${N}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const zo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Nc=typeof window<"u"&&window.MotionDebug!==void 0,Tp=["","X","Y","Z"],G8={visibility:"hidden"},Yv=1e3;let K8=0;function Fp(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function D3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=$w(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Kt,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&D3(r)}function M3({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=K8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Nc&&(zo.totalNodes=zo.resolvedTargetDeltas=zo.recalculatedProjection=0),this.nodes.forEach(X8),this.nodes.forEach(nL),this.nodes.forEach(rL),this.nodes.forEach(Q8),Nc&&window.MotionDebug.record(zo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new R8)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new z0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=F8(o),this.instance=o;const{layoutId:l,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(d||l)&&(this.isLayoutDirty=!0),e){let p;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=D8(g,250),Jd.hasAnimatedSinceResize&&(Jd.hasAnimatedSinceResize=!1,this.nodes.forEach(Xv))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:m,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||lL,{onLayoutAnimationStart:A,onLayoutAnimationComplete:x}=f.getProps(),w=!this.targetLayout||!R3(this.targetLayout,N)||m,j=!g&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||g&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,j);const R={...I0(b,"layout"),onPlay:A,onComplete:x};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else g||Xv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,go(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iL),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jv);return}this.isUpdating||this.nodes.forEach(eL),this.isUpdating=!1,this.nodes.forEach(tL),this.nodes.forEach(Y8),this.nodes.forEach(J8),this.clearAllSnapshots();const a=Xi.now();qn.delta=ks(0,1e3/60,a-qn.timestamp),qn.timestamp=a,qn.isProcessing=!0,Np.update.process(qn),Np.preRender.process(qn),Np.render.process(qn),qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,j0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Z8),this.sharedNodes.forEach(sL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!I3(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&(a||Bo(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),cL(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return mn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(uL))){const{scroll:f}=this.root;f&&(Ja(l.x,f.offset.x),Ja(l.y,f.offset.y))}return l}removeElementScroll(o){var a;const l=mn();if(ci(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&ci(l,o),Ja(l.x,p.offset.x),Ja(l.y,p.offset.y))}return l}applyTransform(o,a=!1){const l=mn();ci(l,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Xa(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Bo(f.latestValues)&&Xa(l,f.latestValues)}return Bo(this.latestValues)&&Xa(l,this.latestValues),l}removeTransform(o){const a=mn();ci(a,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!Bo(d.latestValues))continue;Zm(d.latestValues)&&d.updateSnapshot();const f=mn(),p=d.measurePageBox();ci(f,p),Vv(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Bo(this.latestValues)&&Vv(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=qn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mn(),this.relativeTargetOrigin=mn(),Dc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ci(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mn(),this.targetWithTransforms=mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),f8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ci(this.target,this.layout.layoutBox),P3(this.target,this.targetDelta)):ci(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mn(),this.relativeTargetOrigin=mn(),Dc(this.relativeTargetOrigin,this.target,m.target),ci(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Nc&&zo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zm(this.parent.latestValues)||L3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===qn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;ci(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,m=this.treeScale.y;S8(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=mn());const{target:N}=a;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zv(this.prevProjectionDelta.x,this.projectionDelta.x),zv(this.prevProjectionDelta.y,this.projectionDelta.y)),Rc(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==m||!Kv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N)),Nc&&zo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ya(),this.projectionDelta=Ya(),this.projectionDeltaWithTransform=Ya()}setAnimationOrigin(o,a=!1){const l=this.snapshot,d=l?l.latestValues:{},f={...this.latestValues},p=Ya();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=mn(),m=l?l.source:void 0,N=this.layout?this.layout.source:void 0,b=m!==N,A=this.getStack(),x=!A||A.members.length<=1,w=!!(b&&!x&&this.options.crossfade===!0&&!this.path.some(aL));this.animationProgress=0;let j;this.mixTargetDelta=R=>{const q=R/1e3;Qv(p.x,o.x,q),Qv(p.y,o.y,q),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dc(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oL(this.relativeTarget,this.relativeTargetOrigin,g,q),j&&$8(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=mn()),ci(j,this.relativeTarget)),b&&(this.animationValues=f,O8(f,d,this.latestValues,q,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(go(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kt.update(()=>{Jd.hasAnimatedSinceResize=!0,this.currentAnimation=T8(0,Yv,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:d,latestValues:f}=o;if(!(!a||!l||!d)){if(this!==o&&this.layout&&d&&O3(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||mn();const p=Yr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const g=Yr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}ci(a,l),Xa(a,f),Rc(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new H8),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const d={};l.z&&Fp("z",o,d,this.animationValues);for(let f=0;f<Tp.length;f++)Fp(`rotate${Tp[f]}`,o,d,this.animationValues),Fp(`skew${Tp[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return G8;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Kd(o==null?void 0:o.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Kd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Bo(this.latestValues)&&(b.transform=f?f({},""):"none",this.hasProjected=!1),b}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=W8(this.projectionDeltaWithTransform,this.treeScale,g),f&&(d.transform=f(g,d.transform));const{x:m,y:N}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${N.origin*100}% 0`,p.animationValues?d.opacity=p===this?(l=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in _h){if(g[b]===void 0)continue;const{correct:A,applyTo:x}=_h[b],w=d.transform==="none"?g[b]:A(g[b],p);if(x){const j=x.length;for(let R=0;R<j;R++)d[x[R]]=w}else d[b]=w}return this.options.layoutId&&(d.pointerEvents=p===this?Kd(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Jv),this.root.sharedNodes.clear()}}}function Y8(e){e.updateLayout()}function J8(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?ui(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],m=Yr(g);g.min=r[p].min,g.max=g.min+m}):O3(s,n.layoutBox,r)&&ui(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],m=Yr(r[p]);g.max=g.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+m)});const a=Ya();Rc(a,r,n.layoutBox);const l=Ya();o?Rc(l,e.applyTransform(i,!0),n.measuredBox):Rc(l,r,n.layoutBox);const d=!I3(a);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:m}=p;if(g&&m){const N=mn();Dc(N,n.layoutBox,g.layoutBox);const b=mn();Dc(b,r,m.layoutBox),R3(N,b)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=N,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function X8(e){Nc&&zo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Q8(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Z8(e){e.clearSnapshot()}function Jv(e){e.clearMeasurements()}function eL(e){e.isLayoutDirty=!1}function tL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Xv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nL(e){e.resolveTargetDelta()}function rL(e){e.calcProjection()}function iL(e){e.resetSkewAndRotation()}function sL(e){e.removeLeadSnapshot()}function Qv(e,t,n){e.translate=en(t.translate,0,n),e.scale=en(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Zv(e,t,n,r){e.min=en(t.min,n.min,r),e.max=en(t.max,n.max,r)}function oL(e,t,n,r){Zv(e.x,t.x,n.x,r),Zv(e.y,t.y,n.y,r)}function aL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const lL={duration:.45,ease:[.4,0,.1,1]},e5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),t5=e5("applewebkit/")&&!e5("chrome/")?Math.round:Gr;function n5(e){e.min=t5(e.min),e.max=t5(e.max)}function cL(e){n5(e.x),n5(e.y)}function O3(e,t,n){return e==="position"||e==="preserve-aspect"&&!h8(Gv(t),Gv(n),.2)}function uL(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const dL=M3({attachResizeListener:(e,t)=>ou(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ip={current:void 0},B3=M3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ip.current){const e=new dL({});e.mount(window),e.setOptions({layoutScroll:!0}),Ip.current=e}return Ip.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),hL={pan:{Feature:P8},drag:{Feature:L8,ProjectionNode:B3,MeasureLayout:E3}};function r5(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Kt.postRender(()=>s(t,xu(t)))}class fL extends jo{mount(){const{current:t}=this.node;t&&(this.unmount=hA(t,n=>(r5(this.node,n,"Start"),r=>r5(this.node,r,"End"))))}unmount(){}}class pL extends jo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yu(ou(this.node.current,"focus",()=>this.onFocus()),ou(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function i5(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Kt.postRender(()=>s(t,xu(t)))}class mL extends jo{mount(){const{current:t}=this.node;t&&(this.unmount=gA(t,n=>(i5(this.node,n,"Start"),(r,{success:i})=>i5(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const t1=new WeakMap,Rp=new WeakMap,gL=e=>{const t=t1.get(e.target);t&&t(e)},vL=e=>{e.forEach(gL)};function yL({root:e,...t}){const n=e||document;Rp.has(n)||Rp.set(n,{});const r=Rp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(vL,{root:e,...t})),r[i]}function xL(e,t,n){const r=yL(t);return t1.set(e,n),r.observe(e),()=>{t1.delete(e),r.unobserve(e)}}const wL={some:0,all:1};class bL extends jo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:wL[i]},a=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=d?f:p;g&&g(l)};return xL(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(SL(t,n))&&this.startObserver()}unmount(){}}function SL({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const NL={inView:{Feature:bL},tap:{Feature:mL},focus:{Feature:pL},hover:{Feature:fL}},jL={layout:{ProjectionNode:B3,MeasureLayout:E3}},n1={current:null},z3={current:!1};function AL(){if(z3.current=!0,!!x0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>n1.current=e.matches;e.addListener(t),t()}else n1.current=!1}const CL=[...d3,Zn,vo],LL=e=>CL.find(u3(e)),s5=new WeakMap;function PL(e,t,n){for(const r in t){const i=t[r],s=n[r];if(nr(i))e.addValue(r,i);else if(nr(s))e.addValue(r,iu(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,iu(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const o5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kL{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=W0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Xi.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Kt.render(this.render,!1,!0))};const{latestValues:l,renderState:d,onUpdate:f}=o;this.onUpdate=f,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=af(n),this.isVariantNode=xw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in g){const N=g[m];l[m]!==void 0&&nr(N)&&N.set(l[m],!1)}}mount(t){this.current=t,s5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),z3.current||AL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:n1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){s5.delete(this.current),this.projection&&this.projection.unmount(),go(this.notifyUpdate),go(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ia.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Kt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yl){const n=yl[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<o5.length;r++){const i=o5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=PL(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=iu(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(l3(i)||Zw(i))?i=parseFloat(i):!LL(i)&&vo.test(n)&&(i=s3(t,n)),this.setBaseTarget(t,nr(i)?i.get():i)),nr(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=C0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!nr(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new z0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class q3 extends kL{constructor(){super(...arguments),this.KeyframeResolver=h3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;nr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _L(e){return window.getComputedStyle(e)}class EL extends q3{constructor(){super(...arguments),this.type="html",this.renderInstance=Pw}readValueFromInstance(t,n){if(ia.has(n)){const r=H0(n);return r&&r.default||0}else{const r=_L(t),i=(Aw(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return k3(t,n)}build(t,n,r){k0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return F0(t,n,r)}}class TL extends q3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ia.has(n)){const r=H0(n);return r&&r.default||0}return n=kw.has(n)?n:N0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Tw(t,n,r)}build(t,n,r){_0(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){_w(t,n,r,i)}mount(t){this.isSVGTag=T0(t.tagName),super.mount(t)}}const FL=(e,t)=>A0(e)?new TL(t):new EL(t,{allowProjection:e!==D.Fragment}),IL=sA({...r8,...NL,...hL,...jL},FL),Fe=w6(IL);function kt(e){"@babel/helpers - typeof";return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(e)}var tr=Uint8Array,Hr=Uint16Array,J0=Int32Array,uf=new tr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),df=new tr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),r1=new tr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),U3=function(e,t){for(var n=new Hr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new J0(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},V3=U3(uf,2),$3=V3.b,i1=V3.r;$3[28]=258,i1[258]=28;var H3=U3(df,0),RL=H3.b,a5=H3.r,s1=new Hr(32768);for(var Wt=0;Wt<32768;++Wt){var Ys=(Wt&43690)>>1|(Wt&21845)<<1;Ys=(Ys&52428)>>2|(Ys&13107)<<2,Ys=(Ys&61680)>>4|(Ys&3855)<<4,s1[Wt]=((Ys&65280)>>8|(Ys&255)<<8)>>1}var Qi=function(e,t,n){for(var r=e.length,i=0,s=new Hr(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Hr(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Hr(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],f=t-e[i],p=o[e[i]-1]++<<f,g=p|(1<<f)-1;p<=g;++p)a[s1[p]>>l]=d}else for(a=new Hr(r),i=0;i<r;++i)e[i]&&(a[i]=s1[o[e[i]-1]++]>>15-e[i]);return a},yo=new tr(288);for(var Wt=0;Wt<144;++Wt)yo[Wt]=8;for(var Wt=144;Wt<256;++Wt)yo[Wt]=9;for(var Wt=256;Wt<280;++Wt)yo[Wt]=7;for(var Wt=280;Wt<288;++Wt)yo[Wt]=8;var au=new tr(32);for(var Wt=0;Wt<32;++Wt)au[Wt]=5;var DL=Qi(yo,9,0),ML=Qi(yo,9,1),OL=Qi(au,5,0),BL=Qi(au,5,1),Dp=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ji=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Mp=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},X0=function(e){return(e+7)/8|0},W3=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new tr(e.subarray(t,n))},zL=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Pi=function(e,t,n){var r=new Error(t||zL[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Pi),!n)throw r;return r},qL=function(e,t,n,r){var i=e.length,s=r?r.length:0;if(!i||t.f&&!t.l)return n||new tr(0);var o=!n,a=o||t.i!=2,l=t.i;o&&(n=new tr(i*3));var d=function(we){var Te=n.length;if(we>Te){var ke=new tr(Math.max(Te*2,we));ke.set(n),n=ke}},f=t.f||0,p=t.p||0,g=t.b||0,m=t.l,N=t.d,b=t.m,A=t.n,x=i*8;do{if(!m){f=ji(e,p,1);var w=ji(e,p+1,3);if(p+=3,w)if(w==1)m=ML,N=BL,b=9,A=5;else if(w==2){var U=ji(e,p,31)+257,T=ji(e,p+10,15)+4,F=U+ji(e,p+5,31)+1;p+=14;for(var $=new tr(F),ee=new tr(19),E=0;E<T;++E)ee[r1[E]]=ji(e,p+E*3,7);p+=T*3;for(var M=Dp(ee),X=(1<<M)-1,G=Qi(ee,M,1),E=0;E<F;){var de=G[ji(e,p,X)];p+=de&15;var j=de>>4;if(j<16)$[E++]=j;else{var ae=0,ce=0;for(j==16?(ce=3+ji(e,p,3),p+=2,ae=$[E-1]):j==17?(ce=3+ji(e,p,7),p+=3):j==18&&(ce=11+ji(e,p,127),p+=7);ce--;)$[E++]=ae}}var H=$.subarray(0,U),ie=$.subarray(U);b=Dp(H),A=Dp(ie),m=Qi(H,b,1),N=Qi(ie,A,1)}else Pi(1);else{var j=X0(p)+4,R=e[j-4]|e[j-3]<<8,q=j+R;if(q>i){l&&Pi(0);break}a&&d(g+R),n.set(e.subarray(j,q),g),t.b=g+=R,t.p=p=q*8,t.f=f;continue}if(p>x){l&&Pi(0);break}}a&&d(g+131072);for(var Y=(1<<b)-1,me=(1<<A)-1,C=p;;C=p){var ae=m[Mp(e,p)&Y],B=ae>>4;if(p+=ae&15,p>x){l&&Pi(0);break}if(ae||Pi(2),B<256)n[g++]=B;else if(B==256){C=p,m=null;break}else{var z=B-254;if(B>264){var E=B-257,J=uf[E];z=ji(e,p,(1<<J)-1)+$3[E],p+=J}var Q=N[Mp(e,p)&me],oe=Q>>4;Q||Pi(3),p+=Q&15;var ie=RL[oe];if(oe>3){var J=df[oe];ie+=Mp(e,p)&(1<<J)-1,p+=J}if(p>x){l&&Pi(0);break}a&&d(g+131072);var he=g+z;if(g<ie){var ue=s-ie,Se=Math.min(ie,he);for(ue+g<0&&Pi(3);g<Se;++g)n[g]=r[ue+g]}for(;g<he;++g)n[g]=n[g-ie]}}t.l=m,t.p=C,t.b=g,t.f=f,m&&(f=1,t.m=b,t.d=N,t.n=A)}while(!f);return g!=n.length&&o?W3(n,0,g):n.subarray(0,g)},ms=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},hc=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Op=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:K3,l:0};if(i==1){var o=new tr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(q,U){return q.f-U.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],d=0,f=1,p=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=i-1;)a=n[n[d].f<n[p].f?d++:p++],l=n[d!=f&&n[d].f<n[p].f?d++:p++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new Hr(g+1),N=o1(n[f-1],m,0);if(N>t){var r=0,b=0,A=N-t,x=1<<A;for(s.sort(function(U,T){return m[T.s]-m[U.s]||U.f-T.f});r<i;++r){var w=s[r].s;if(m[w]>t)b+=x-(1<<N-m[w]),m[w]=t;else break}for(b>>=A;b>0;){var j=s[r].s;m[j]<t?b-=1<<t-m[j]++-1:++r}for(;r>=0&&b;--r){var R=s[r].s;m[R]==t&&(--m[R],++b)}N=t}return{t:new tr(m),l:N}},o1=function(e,t,n){return e.s==-1?Math.max(o1(e.l,t,n+1),o1(e.r,t,n+1)):t[e.s]=n},l5=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Hr(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},fc=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},G3=function(e,t,n){var r=n.length,i=X0(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},c5=function(e,t,n,r,i,s,o,a,l,d,f){ms(t,f++,n),++i[256];for(var p=Op(i,15),g=p.t,m=p.l,N=Op(s,15),b=N.t,A=N.l,x=l5(g),w=x.c,j=x.n,R=l5(b),q=R.c,U=R.n,T=new Hr(19),F=0;F<w.length;++F)++T[w[F]&31];for(var F=0;F<q.length;++F)++T[q[F]&31];for(var $=Op(T,7),ee=$.t,E=$.l,M=19;M>4&&!ee[r1[M-1]];--M);var X=d+5<<3,G=fc(i,yo)+fc(s,au)+o,de=fc(i,g)+fc(s,b)+o+14+3*M+fc(T,ee)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&X<=G&&X<=de)return G3(t,f,e.subarray(l,l+d));var ae,ce,H,ie;if(ms(t,f,1+(de<G)),f+=2,de<G){ae=Qi(g,m,0),ce=g,H=Qi(b,A,0),ie=b;var Y=Qi(ee,E,0);ms(t,f,j-257),ms(t,f+5,U-1),ms(t,f+10,M-4),f+=14;for(var F=0;F<M;++F)ms(t,f+3*F,ee[r1[F]]);f+=3*M;for(var me=[w,q],C=0;C<2;++C)for(var B=me[C],F=0;F<B.length;++F){var z=B[F]&31;ms(t,f,Y[z]),f+=ee[z],z>15&&(ms(t,f,B[F]>>5&127),f+=B[F]>>12)}}else ae=DL,ce=yo,H=OL,ie=au;for(var F=0;F<a;++F){var J=r[F];if(J>255){var z=J>>18&31;hc(t,f,ae[z+257]),f+=ce[z+257],z>7&&(ms(t,f,J>>23&31),f+=uf[z]);var Q=J&31;hc(t,f,H[Q]),f+=ie[Q],Q>3&&(hc(t,f,J>>5&8191),f+=df[Q])}else hc(t,f,ae[J]),f+=ce[J]}return hc(t,f,ae[256]),f+ce[256]},UL=new J0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),K3=new tr(0),VL=function(e,t,n,r,i,s){var o=s.z||e.length,a=new tr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),d=s.l,f=(s.r||0)&7;if(t){f&&(l[0]=s.r>>3);for(var p=UL[t-1],g=p>>13,m=p&8191,N=(1<<n)-1,b=s.p||new Hr(32768),A=s.h||new Hr(N+1),x=Math.ceil(n/3),w=2*x,j=function(Xe){return(e[Xe]^e[Xe+1]<<x^e[Xe+2]<<w)&N},R=new J0(25e3),q=new Hr(288),U=new Hr(32),T=0,F=0,$=s.i||0,ee=0,E=s.w||0,M=0;$+2<o;++$){var X=j($),G=$&32767,de=A[X];if(b[G]=de,A[X]=G,E<=$){var ae=o-$;if((T>7e3||ee>24576)&&(ae>423||!d)){f=c5(e,l,0,R,q,U,F,ee,M,$-M,f),ee=T=F=0,M=$;for(var ce=0;ce<286;++ce)q[ce]=0;for(var ce=0;ce<30;++ce)U[ce]=0}var H=2,ie=0,Y=m,me=G-de&32767;if(ae>2&&X==j($-me))for(var C=Math.min(g,ae)-1,B=Math.min(32767,$),z=Math.min(258,ae);me<=B&&--Y&&G!=de;){if(e[$+H]==e[$+H-me]){for(var J=0;J<z&&e[$+J]==e[$+J-me];++J);if(J>H){if(H=J,ie=me,J>C)break;for(var Q=Math.min(me,J-2),oe=0,ce=0;ce<Q;++ce){var he=$-me+ce&32767,ue=b[he],Se=he-ue&32767;Se>oe&&(oe=Se,de=he)}}}G=de,de=b[G],me+=G-de&32767}if(ie){R[ee++]=268435456|i1[H]<<18|a5[ie];var we=i1[H]&31,Te=a5[ie]&31;F+=uf[we]+df[Te],++q[257+we],++U[Te],E=$+H,++T}else R[ee++]=e[$],++q[e[$]]}}for($=Math.max($,E);$<o;++$)R[ee++]=e[$],++q[e[$]];f=c5(e,l,d,R,q,U,F,ee,M,$-M,f),d||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=A,s.p=b,s.i=$,s.w=E)}else{for(var $=s.w||0;$<o+d;$+=65535){var ke=$+65535;ke>=o&&(l[f/8|0]=d,ke=o),f=G3(l,f+1,e.subarray($,ke))}s.i=o}return W3(a,0,r+X0(f)+i)},Y3=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},$L=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new tr(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return VL(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},J3=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},HL=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Y3();i.p(t.dictionary),J3(e,2,i.d())}},WL=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Pi(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Pi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function a1(e,t){t||(t={});var n=Y3();n.p(e);var r=$L(e,t,t.dictionary?6:2,4);return HL(r,t),J3(r,r.length-4,n.d()),r}function GL(e,t){return qL(e.subarray(WL(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var KL=typeof TextDecoder<"u"&&new TextDecoder,YL=0;try{KL.decode(K3,{stream:!0}),YL=1}catch{}var ot=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Bp(){ot.console&&typeof ot.console.log=="function"&&ot.console.log.apply(ot.console,arguments)}var Mt={log:Bp,warn:function(e){ot.console&&(typeof ot.console.warn=="function"?ot.console.warn.apply(ot.console,arguments):Bp.call(null,arguments))},error:function(e){ot.console&&(typeof ot.console.error=="function"?ot.console.error.apply(ot.console,arguments):Bp(e))}};function zp(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){qo(r.response,t,n)},r.onerror=function(){Mt.error("could not download file")},r.send()}function u5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Cd(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Mc,l1,qo=ot.saveAs||((typeof window>"u"?"undefined":kt(window))!=="object"||window!==ot?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=ot.URL||ot.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?u5(i.href)?zp(e,t,n):Cd(i,i.target="_blank"):Cd(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Cd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(u5(e))zp(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Cd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:kt(s)!=="object"&&(Mt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return zp(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(ot.HTMLElement)||ot.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":kt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(e)}else{var l=ot.URL||ot.webkitURL,d=l.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){l.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function X3(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),d=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),"#"+a+l+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qp(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=Yn(n,r,i,s,t[0],7,-680876936),s=Yn(s,n,r,i,t[1],12,-389564586),i=Yn(i,s,n,r,t[2],17,606105819),r=Yn(r,i,s,n,t[3],22,-1044525330),n=Yn(n,r,i,s,t[4],7,-176418897),s=Yn(s,n,r,i,t[5],12,1200080426),i=Yn(i,s,n,r,t[6],17,-1473231341),r=Yn(r,i,s,n,t[7],22,-45705983),n=Yn(n,r,i,s,t[8],7,1770035416),s=Yn(s,n,r,i,t[9],12,-1958414417),i=Yn(i,s,n,r,t[10],17,-42063),r=Yn(r,i,s,n,t[11],22,-1990404162),n=Yn(n,r,i,s,t[12],7,1804603682),s=Yn(s,n,r,i,t[13],12,-40341101),i=Yn(i,s,n,r,t[14],17,-1502002290),n=Jn(n,r=Yn(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Jn(s,n,r,i,t[6],9,-1069501632),i=Jn(i,s,n,r,t[11],14,643717713),r=Jn(r,i,s,n,t[0],20,-373897302),n=Jn(n,r,i,s,t[5],5,-701558691),s=Jn(s,n,r,i,t[10],9,38016083),i=Jn(i,s,n,r,t[15],14,-660478335),r=Jn(r,i,s,n,t[4],20,-405537848),n=Jn(n,r,i,s,t[9],5,568446438),s=Jn(s,n,r,i,t[14],9,-1019803690),i=Jn(i,s,n,r,t[3],14,-187363961),r=Jn(r,i,s,n,t[8],20,1163531501),n=Jn(n,r,i,s,t[13],5,-1444681467),s=Jn(s,n,r,i,t[2],9,-51403784),i=Jn(i,s,n,r,t[7],14,1735328473),n=Xn(n,r=Jn(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Xn(s,n,r,i,t[8],11,-2022574463),i=Xn(i,s,n,r,t[11],16,1839030562),r=Xn(r,i,s,n,t[14],23,-35309556),n=Xn(n,r,i,s,t[1],4,-1530992060),s=Xn(s,n,r,i,t[4],11,1272893353),i=Xn(i,s,n,r,t[7],16,-155497632),r=Xn(r,i,s,n,t[10],23,-1094730640),n=Xn(n,r,i,s,t[13],4,681279174),s=Xn(s,n,r,i,t[0],11,-358537222),i=Xn(i,s,n,r,t[3],16,-722521979),r=Xn(r,i,s,n,t[6],23,76029189),n=Xn(n,r,i,s,t[9],4,-640364487),s=Xn(s,n,r,i,t[12],11,-421815835),i=Xn(i,s,n,r,t[15],16,530742520),n=Qn(n,r=Xn(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Qn(s,n,r,i,t[7],10,1126891415),i=Qn(i,s,n,r,t[14],15,-1416354905),r=Qn(r,i,s,n,t[5],21,-57434055),n=Qn(n,r,i,s,t[12],6,1700485571),s=Qn(s,n,r,i,t[3],10,-1894986606),i=Qn(i,s,n,r,t[10],15,-1051523),r=Qn(r,i,s,n,t[1],21,-2054922799),n=Qn(n,r,i,s,t[8],6,1873313359),s=Qn(s,n,r,i,t[15],10,-30611744),i=Qn(i,s,n,r,t[6],15,-1560198380),r=Qn(r,i,s,n,t[13],21,1309151649),n=Qn(n,r,i,s,t[4],6,-145523070),s=Qn(s,n,r,i,t[11],10,-1120210379),i=Qn(i,s,n,r,t[2],15,718787259),r=Qn(r,i,s,n,t[9],21,-343485551),e[0]=io(n,e[0]),e[1]=io(r,e[1]),e[2]=io(i,e[2]),e[3]=io(s,e[3])}function hf(e,t,n,r,i,s){return t=io(io(t,e),io(r,s)),io(t<<i|t>>>32-i,n)}function Yn(e,t,n,r,i,s,o){return hf(t&n|~t&r,e,t,i,s,o)}function Jn(e,t,n,r,i,s,o){return hf(t&r|n&~r,e,t,i,s,o)}function Xn(e,t,n,r,i,s,o){return hf(t^n^r,e,t,i,s,o)}function Qn(e,t,n,r,i,s,o){return hf(n^(t|~r),e,t,i,s,o)}function Q3(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)qp(r,JL(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(qp(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,qp(r,i),r}function JL(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Mc=ot.atob.bind(ot),l1=ot.btoa.bind(ot);var d5="0123456789abcdef".split("");function XL(e){for(var t="",n=0;n<4;n++)t+=d5[e>>8*n+4&15]+d5[e>>8*n&15];return t}function QL(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function c1(e){return Q3(e).map(QL).join("")}var ZL=function(e){for(var t=0;t<e.length;t++)e[t]=XL(e[t]);return e.join("")}(Q3("hello"))!="5d41402abc4b2a76b9719d911017c592";function io(e,t){if(ZL){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function u1(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var d=0;for(l=0;l<256;l++){var f=a[l];d=(d+f+o.charCodeAt(l))%256,a[l]=a[d],a[d]=f}n=e,r=a}else a=r;var p=t.length,g=0,m=0,N="";for(l=0;l<p;l++)m=(m+(f=a[g=(g+1)%256]))%256,a[g]=a[m],a[m]=f,o=a[(a[g]+a[m])%256],N+=String.fromCharCode(t.charCodeAt(l)^o);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var h5={print:4,modify:8,copy:16,"annot-forms":32};function Fa(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(h5.perm!==void 0)throw new Error("Invalid permission: "+a);i+=h5[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=c1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=u1(this.encryptionKey,this.padding)}function Ia(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function f5(e){if(kt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(a){ot.console&&Mt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Dh(e){if(!(this instanceof Dh))return new Dh(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Z3(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Uo(e,t,n,r,i){if(!(this instanceof Uo))return new Uo(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Z3.call(this,r,i)}function Qa(e,t,n,r,i){if(!(this instanceof Qa))return new Qa(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Z3.call(this,r,i)}function rt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,d="S",f=null;kt(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=f5;var N="1.3",b=m.__private__.getPdfVersion=function(){return N};m.__private__.setPdfVersion=function(v){N=v};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return A};var x=m.__private__.getPageFormat=function(v){return A[v]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},j=w.COMPAT;function R(){this.saveGraphicsState(),K(new tt(ze,0,0,-ze,0,Ds()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),d="n",j=w.ADVANCED}function q(){this.restoreGraphicsState(),d="S",j=w.COMPAT}var U=m.__private__.combineFontStyleAndFontWeight=function(v,P){if(v=="bold"&&P=="normal"||v=="bold"&&P==400||v=="normal"&&P=="italic"||v=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(v=P==400||P==="normal"?v==="italic"?"italic":"normal":P!=700&&P!=="bold"||v!=="normal"?(P==700?"bold":P)+""+v:"bold"),v};m.advancedAPI=function(v){var P=j===w.COMPAT;return P&&R.call(this),typeof v!="function"||(v(this),P&&q.call(this)),this},m.compatAPI=function(v){var P=j===w.ADVANCED;return P&&q.call(this),typeof v!="function"||(v(this),P&&R.call(this)),this},m.isAdvancedAPI=function(){return j===w.ADVANCED};var T,F=function(v){if(j!==w.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=m.roundToPrecision=m.__private__.roundToPrecision=function(v,P){var W=t||P;if(isNaN(v)||isNaN(W))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(W).replace(/0+$/,"")};T=m.hpf=m.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,16)};var ee=m.f2=m.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return $(v,2)},E=m.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return $(v,3)},M=m.scale=m.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return j===w.COMPAT?v*ze:j===w.ADVANCED?v:void 0},X=function(v){return j===w.COMPAT?Ds()-v:j===w.ADVANCED?v:void 0},G=function(v){return M(X(v))};m.__private__.setPrecision=m.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var de,ae="00000000000000000000000000000000",ce=m.__private__.getFileId=function(){return ae},H=m.__private__.setFileId=function(v){return ae=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Hn=new Fa(f.userPermissions,f.userPassword,f.ownerPassword,ae)),ae};m.setFileId=function(v){return H(v),this},m.getFileId=function(){return ce()};var ie=m.__private__.convertDateToPDFDate=function(v){var P=v.getTimezoneOffset(),W=P<0?"+":"-",Z=Math.floor(Math.abs(P/60)),le=Math.abs(P%60),ye=[W,z(Z),"'",z(le),"'"].join("");return["D:",v.getFullYear(),z(v.getMonth()+1),z(v.getDate()),z(v.getHours()),z(v.getMinutes()),z(v.getSeconds()),ye].join("")},Y=m.__private__.convertPDFDateToDate=function(v){var P=parseInt(v.substr(2,4),10),W=parseInt(v.substr(6,2),10)-1,Z=parseInt(v.substr(8,2),10),le=parseInt(v.substr(10,2),10),ye=parseInt(v.substr(12,2),10),Ce=parseInt(v.substr(14,2),10);return new Date(P,W,Z,le,ye,Ce,0)},me=m.__private__.setCreationDate=function(v){var P;if(v===void 0&&(v=new Date),v instanceof Date)P=ie(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=v}return de=P},C=m.__private__.getCreationDate=function(v){var P=de;return v==="jsDate"&&(P=Y(de)),P};m.setCreationDate=function(v){return me(v),this},m.getCreationDate=function(v){return C(v)};var B,z=m.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},J=m.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},Q=0,oe=[],he=[],ue=0,Se=[],we=[],Te=!1,ke=he,Xe=function(){Q=0,ue=0,he=[],oe=[],Se=[],Oi=Bt(),Dr=Bt()};m.__private__.setCustomOutputDestination=function(v){Te=!0,ke=v};var ve=function(v){Te||(ke=v)};m.__private__.resetCustomOutputDestination=function(){Te=!1,ke=he};var K=m.__private__.out=function(v){return v=v.toString(),ue+=v.length+1,ke.push(v),ke},at=m.__private__.write=function(v){return K(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},He=m.__private__.getArrayBuffer=function(v){for(var P=v.length,W=new ArrayBuffer(P),Z=new Uint8Array(W);P--;)Z[P]=v.charCodeAt(P);return W},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Le};var Ee=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(v){return Ee=j===w.ADVANCED?v/ze:v,this};var Re,Ie=m.__private__.getFontSize=m.getFontSize=function(){return j===w.COMPAT?Ee:Ee*ze},Ge=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(v){return Ge=v,this},m.__private__.getR2L=m.getR2L=function(){return Ge};var Pe,Oe=m.__private__.setZoomMode=function(v){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Re=v;else if(isNaN(v)){if(P.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Re=v}else Re=parseInt(v,10)};m.__private__.getZoomMode=function(){return Re};var Ke,pt=m.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');Pe=v};m.__private__.getPageMode=function(){return Pe};var At=m.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');Ke=v};m.__private__.getLayoutMode=function(){return Ke},m.__private__.setDisplayMode=m.setDisplayMode=function(v,P,W){return Oe(v),At(P),pt(W),this};var st={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(v){if(Object.keys(st).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return st[v]},m.__private__.getDocumentProperties=function(){return st},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(v){for(var P in st)st.hasOwnProperty(P)&&v[P]&&(st[P]=v[P]);return this},m.__private__.setDocumentProperty=function(v,P){if(Object.keys(st).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return st[v]=P};var et,ze,En,yt,Rr,Ct={},Ot={},gr=[],St={},ts={},Yt={},vr={},yi=null,Vt=0,lt=[],Nt=new f5(m),Mi=e.hotfixes||[],Ln={},Qr={},Zr=[],tt=function v(P,W,Z,le,ye,Ce){if(!(this instanceof v))return new v(P,W,Z,le,ye,Ce);isNaN(P)&&(P=1),isNaN(W)&&(W=0),isNaN(Z)&&(Z=0),isNaN(le)&&(le=1),isNaN(ye)&&(ye=0),isNaN(Ce)&&(Ce=0),this._matrix=[P,W,Z,le,ye,Ce]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(v)},tt.prototype.multiply=function(v){var P=v.sx*this.sx+v.shy*this.shx,W=v.sx*this.shy+v.shy*this.sy,Z=v.shx*this.sx+v.sy*this.shx,le=v.shx*this.shy+v.sy*this.sy,ye=v.tx*this.sx+v.ty*this.shx+this.tx,Ce=v.tx*this.shy+v.ty*this.sy+this.ty;return new tt(P,W,Z,le,ye,Ce)},tt.prototype.decompose=function(){var v=this.sx,P=this.shy,W=this.shx,Z=this.sy,le=this.tx,ye=this.ty,Ce=Math.sqrt(v*v+P*P),Ue=(v/=Ce)*W+(P/=Ce)*Z;W-=v*Ue,Z-=P*Ue;var Ze=Math.sqrt(W*W+Z*Z);return Ue/=Ze,v*(Z/=Ze)<P*(W/=Ze)&&(v=-v,P=-P,Ue=-Ue,Ce=-Ce),{scale:new tt(Ce,0,0,Ze,0,0),translate:new tt(1,0,0,1,le,ye),rotate:new tt(v,P,-P,v,0,0),skew:new tt(1,0,Ue,1,0,0)}},tt.prototype.toString=function(v){return this.join(" ")},tt.prototype.inversed=function(){var v=this.sx,P=this.shy,W=this.shx,Z=this.sy,le=this.tx,ye=this.ty,Ce=1/(v*Z-P*W),Ue=Z*Ce,Ze=-P*Ce,ht=-W*Ce,ut=v*Ce;return new tt(Ue,Ze,ht,ut,-Ue*le-ht*ye,-Ze*le-ut*ye)},tt.prototype.applyToPoint=function(v){var P=v.x*this.sx+v.y*this.shx+this.tx,W=v.x*this.shy+v.y*this.sy+this.ty;return new fa(P,W)},tt.prototype.applyToRectangle=function(v){var P=this.applyToPoint(v),W=this.applyToPoint(new fa(v.x+v.w,v.y+v.h));return new Dl(P.x,P.y,W.x-P.x,W.y-P.y)},tt.prototype.clone=function(){var v=this.sx,P=this.shy,W=this.shx,Z=this.sy,le=this.tx,ye=this.ty;return new tt(v,P,W,Z,le,ye)},m.Matrix=tt;var ir=m.matrixMult=function(v,P){return P.multiply(v)},$t=new tt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=$t;var $n=function(v,P){if(!ts[v]){var W=(P instanceof Uo?"Sh":"P")+(Object.keys(St).length+1).toString(10);P.id=W,ts[v]=W,St[W]=P,Nt.publish("addPattern",P)}};m.ShadingPattern=Uo,m.TilingPattern=Qa,m.addShadingPattern=function(v,P){return F("addShadingPattern()"),$n(v,P),this},m.beginTilingPattern=function(v){F("beginTilingPattern()"),Tu(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},m.endTilingPattern=function(v,P){F("endTilingPattern()"),P.stream=we[B].join(`
`),$n(v,P),Nt.publish("endTilingPattern",P),Zr.pop().restore()};var dn=m.__private__.newObject=function(){var v=Bt();return sr(v,!0),v},Bt=m.__private__.newObjectDeferred=function(){return Q++,oe[Q]=function(){return ue},Q},sr=function(v,P){return P=typeof P=="boolean"&&P,oe[v]=ue,P&&K(v+" 0 obj"),v},ns=m.__private__.newAdditionalObject=function(){var v={objId:Bt(),content:""};return Se.push(v),v},Oi=Bt(),Dr=Bt(),Mr=m.__private__.decodeColorString=function(v){var P=v.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var W=parseFloat(P[0]);P=[W,W,W,"r"]}for(var Z="#",le=0;le<3;le++)Z+=("0"+Math.floor(255*parseFloat(P[le])).toString(16)).slice(-2);return Z},yr=m.__private__.encodeColorString=function(v){var P;typeof v=="string"&&(v={ch1:v});var W=v.ch1,Z=v.ch2,le=v.ch3,ye=v.ch4,Ce=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof W=="string"&&W.charAt(0)!=="#"){var Ue=new X3(W);if(Ue.ok)W=Ue.toHex();else if(!/^\d*\.?\d*$/.test(W))throw new Error('Invalid color "'+W+'" passed to jsPDF.encodeColorString.')}if(typeof W=="string"&&/^#[0-9A-Fa-f]{3}$/.test(W)&&(W="#"+W[1]+W[1]+W[2]+W[2]+W[3]+W[3]),typeof W=="string"&&/^#[0-9A-Fa-f]{6}$/.test(W)){var Ze=parseInt(W.substr(1),16);W=Ze>>16&255,Z=Ze>>8&255,le=255&Ze}if(Z===void 0||ye===void 0&&W===Z&&Z===le)if(typeof W=="string")P=W+" "+Ce[0];else switch(v.precision){case 2:P=ee(W/255)+" "+Ce[0];break;case 3:default:P=E(W/255)+" "+Ce[0]}else if(ye===void 0||kt(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return P=["1.","1.","1.",Ce[1]].join(" ");if(typeof W=="string")P=[W,Z,le,Ce[1]].join(" ");else switch(v.precision){case 2:P=[ee(W/255),ee(Z/255),ee(le/255),Ce[1]].join(" ");break;default:case 3:P=[E(W/255),E(Z/255),E(le/255),Ce[1]].join(" ")}}else if(typeof W=="string")P=[W,Z,le,ye,Ce[2]].join(" ");else switch(v.precision){case 2:P=[ee(W),ee(Z),ee(le),ee(ye),Ce[2]].join(" ");break;case 3:default:P=[E(W),E(Z),E(le),E(ye),Ce[2]].join(" ")}return P},Or=m.__private__.getFilters=function(){return o},xr=m.__private__.putStream=function(v){var P=(v=v||{}).data||"",W=v.filters||Or(),Z=v.alreadyAppliedFilters||[],le=v.addLength1||!1,ye=P.length,Ce=v.objectId,Ue=function(Wn){return Wn};if(f!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ue=Hn.encryptor(Ce,0));var Ze={};W===!0&&(W=["FlateEncode"]);var ht=v.additionalKeyValues||[],ut=(Ze=rt.API.processDataByFilters!==void 0?rt.API.processDataByFilters(P,W):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(Z)?Z.join(" "):Z.toString());if(Ze.data.length!==0&&(ht.push({key:"Length",value:Ze.data.length}),le===!0&&ht.push({key:"Length1",value:ye})),ut.length!=0)if(ut.split("/").length-1==1)ht.push({key:"Filter",value:ut});else{ht.push({key:"Filter",value:"["+ut+"]"});for(var xt=0;xt<ht.length;xt+=1)if(ht[xt].key==="DecodeParms"){for(var Qt=[],sn=0;sn<Ze.reverseChain.split("/").length-1;sn+=1)Qt.push("null");Qt.push(ht[xt].value),ht[xt].value="["+Qt.join(" ")+"]"}}K("<<");for(var Sn=0;Sn<ht.length;Sn++)K("/"+ht[Sn].key+" "+ht[Sn].value);K(">>"),Ze.data.length!==0&&(K("stream"),K(Ue(Ze.data)),K("endstream"))},wr=m.__private__.putPage=function(v){var P=v.number,W=v.data,Z=v.objId,le=v.contentsObjId;sr(Z,!0),K("<</Type /Page"),K("/Parent "+v.rootDictionaryObjId+" 0 R"),K("/Resources "+v.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(T(v.mediaBox.bottomLeftX))+" "+parseFloat(T(v.mediaBox.bottomLeftY))+" "+T(v.mediaBox.topRightX)+" "+T(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&K("/CropBox ["+T(v.cropBox.bottomLeftX)+" "+T(v.cropBox.bottomLeftY)+" "+T(v.cropBox.topRightX)+" "+T(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&K("/BleedBox ["+T(v.bleedBox.bottomLeftX)+" "+T(v.bleedBox.bottomLeftY)+" "+T(v.bleedBox.topRightX)+" "+T(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&K("/TrimBox ["+T(v.trimBox.bottomLeftX)+" "+T(v.trimBox.bottomLeftY)+" "+T(v.trimBox.topRightX)+" "+T(v.trimBox.topRightY)+"]"),v.artBox!==null&&K("/ArtBox ["+T(v.artBox.bottomLeftX)+" "+T(v.artBox.bottomLeftY)+" "+T(v.artBox.topRightX)+" "+T(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&K("/UserUnit "+v.userUnit),Nt.publish("putPage",{objId:Z,pageContext:lt[P],pageNumber:P,page:W}),K("/Contents "+le+" 0 R"),K(">>"),K("endobj");var ye=W.join(`
`);return j===w.ADVANCED&&(ye+=`
Q`),sr(le,!0),xr({data:ye,filters:Or(),objectId:le}),K("endobj"),Z},rs=m.__private__.putPages=function(){var v,P,W=[];for(v=1;v<=Vt;v++)lt[v].objId=Bt(),lt[v].contentsObjId=Bt();for(v=1;v<=Vt;v++)W.push(wr({number:v,data:we[v],objId:lt[v].objId,contentsObjId:lt[v].contentsObjId,mediaBox:lt[v].mediaBox,cropBox:lt[v].cropBox,bleedBox:lt[v].bleedBox,trimBox:lt[v].trimBox,artBox:lt[v].artBox,userUnit:lt[v].userUnit,rootDictionaryObjId:Oi,resourceDictionaryObjId:Dr}));sr(Oi,!0),K("<</Type /Pages");var Z="/Kids [";for(P=0;P<Vt;P++)Z+=W[P]+" 0 R ";K(Z+"]"),K("/Count "+Vt),K(">>"),K("endobj"),Nt.publish("postPutPages")},is=function(v){Nt.publish("putFont",{font:v,out:K,newObject:dn,putStream:xr}),v.isAlreadyPutted!==!0&&(v.objectNumber=dn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+Ia(v.postScriptName)),K("/Subtype /Type1"),typeof v.encoding=="string"&&K("/Encoding /"+v.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},Ts=function(){for(var v in Ct)Ct.hasOwnProperty(v)&&(p===!1||p===!0&&g.hasOwnProperty(v))&&is(Ct[v])},ei=function(v){v.objectNumber=dn();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[T(v.x),T(v.y),T(v.x+v.width),T(v.y+v.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var W=v.pages[1].join(`
`);xr({data:W,additionalKeyValues:P,objectId:v.objectNumber}),K("endobj")},Fs=function(){for(var v in Ln)Ln.hasOwnProperty(v)&&ei(Ln[v])},oa=function(v,P){var W,Z=[],le=1/(P-1);for(W=0;W<1;W+=le)Z.push(W);if(Z.push(1),v[0].offset!=0){var ye={offset:0,color:v[0].color};v.unshift(ye)}if(v[v.length-1].offset!=1){var Ce={offset:1,color:v[v.length-1].color};v.push(Ce)}for(var Ue="",Ze=0,ht=0;ht<Z.length;ht++){for(W=Z[ht];W>v[Ze+1].offset;)Ze++;var ut=v[Ze].offset,xt=(W-ut)/(v[Ze+1].offset-ut),Qt=v[Ze].color,sn=v[Ze+1].color;Ue+=J(Math.round((1-xt)*Qt[0]+xt*sn[0]).toString(16))+J(Math.round((1-xt)*Qt[1]+xt*sn[1]).toString(16))+J(Math.round((1-xt)*Qt[2]+xt*sn[2]).toString(16))}return Ue.trim()},qe=function(v,P){P||(P=21);var W=dn(),Z=oa(v.colors,P),le=[];le.push({key:"FunctionType",value:"0"}),le.push({key:"Domain",value:"[0.0 1.0]"}),le.push({key:"Size",value:"["+P+"]"}),le.push({key:"BitsPerSample",value:"8"}),le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xr({data:Z,additionalKeyValues:le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:W}),K("endobj"),v.objectNumber=dn(),K("<< /ShadingType "+v.type),K("/ColorSpace /DeviceRGB");var ye="/Coords ["+T(parseFloat(v.coords[0]))+" "+T(parseFloat(v.coords[1]))+" ";v.type===2?ye+=T(parseFloat(v.coords[2]))+" "+T(parseFloat(v.coords[3])):ye+=T(parseFloat(v.coords[2]))+" "+T(parseFloat(v.coords[3]))+" "+T(parseFloat(v.coords[4]))+" "+T(parseFloat(v.coords[5])),K(ye+="]"),v.matrix&&K("/Matrix ["+v.matrix.toString()+"]"),K("/Function "+W+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},Ae=function(v,P){var W=Bt(),Z=dn();P.push({resourcesOid:W,objectOid:Z}),v.objectNumber=Z;var le=[];le.push({key:"Type",value:"/Pattern"}),le.push({key:"PatternType",value:"1"}),le.push({key:"PaintType",value:"1"}),le.push({key:"TilingType",value:"1"}),le.push({key:"BBox",value:"["+v.boundingBox.map(T).join(" ")+"]"}),le.push({key:"XStep",value:T(v.xStep)}),le.push({key:"YStep",value:T(v.yStep)}),le.push({key:"Resources",value:W+" 0 R"}),v.matrix&&le.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),xr({data:v.stream,additionalKeyValues:le,objectId:v.objectNumber}),K("endobj")},Ye=function(v){var P;for(P in St)St.hasOwnProperty(P)&&(St[P]instanceof Uo?qe(St[P]):St[P]instanceof Qa&&Ae(St[P],v))},mt=function(v){for(var P in v.objectNumber=dn(),K("<<"),v)switch(P){case"opacity":K("/ca "+ee(v[P]));break;case"stroke-opacity":K("/CA "+ee(v[P]))}K(">>"),K("endobj")},Je=function(){var v;for(v in Yt)Yt.hasOwnProperty(v)&&mt(Yt[v])},Qe=function(){for(var v in K("/XObject <<"),Ln)Ln.hasOwnProperty(v)&&Ln[v].objectNumber>=0&&K("/"+v+" "+Ln[v].objectNumber+" 0 R");Nt.publish("putXobjectDict"),K(">>")},De=function(){Hn.oid=dn(),K("<<"),K("/Filter /Standard"),K("/V "+Hn.v),K("/R "+Hn.r),K("/U <"+Hn.toHexString(Hn.U)+">"),K("/O <"+Hn.toHexString(Hn.O)+">"),K("/P "+Hn.P),K(">>"),K("endobj")},Et=function(){for(var v in K("/Font <<"),Ct)Ct.hasOwnProperty(v)&&(p===!1||p===!0&&g.hasOwnProperty(v))&&K("/"+v+" "+Ct[v].objectNumber+" 0 R");K(">>")},or=function(){if(Object.keys(St).length>0){for(var v in K("/Shading <<"),St)St.hasOwnProperty(v)&&St[v]instanceof Uo&&St[v].objectNumber>=0&&K("/"+v+" "+St[v].objectNumber+" 0 R");Nt.publish("putShadingPatternDict"),K(">>")}},hn=function(v){if(Object.keys(St).length>0){for(var P in K("/Pattern <<"),St)St.hasOwnProperty(P)&&St[P]instanceof m.TilingPattern&&St[P].objectNumber>=0&&St[P].objectNumber<v&&K("/"+P+" "+St[P].objectNumber+" 0 R");Nt.publish("putTilingPatternDict"),K(">>")}},ti=function(){if(Object.keys(Yt).length>0){var v;for(v in K("/ExtGState <<"),Yt)Yt.hasOwnProperty(v)&&Yt[v].objectNumber>=0&&K("/"+v+" "+Yt[v].objectNumber+" 0 R");Nt.publish("putGStateDict"),K(">>")}},It=function(v){sr(v.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Et(),or(),hn(v.objectOid),ti(),Qe(),K(">>"),K("endobj")},br=function(){var v=[];Ts(),Je(),Fs(),Ye(v),Nt.publish("putResources"),v.forEach(It),It({resourcesOid:Dr,objectOid:Number.MAX_SAFE_INTEGER}),Nt.publish("postPutResources")},wn=function(){Nt.publish("putAdditionalObjects");for(var v=0;v<Se.length;v++){var P=Se[v];sr(P.objId,!0),K(P.content),K("endobj")}Nt.publish("postPutAdditionalObjects")},Xt=function(v){Ot[v.fontName]=Ot[v.fontName]||{},Ot[v.fontName][v.fontStyle]=v.id},ar=function(v,P,W,Z,le){var ye={id:"F"+(Object.keys(Ct).length+1).toString(10),postScriptName:v,fontName:P,fontStyle:W,encoding:Z,isStandardFont:le||!1,metadata:{}};return Nt.publish("addFont",{font:ye,instance:this}),Ct[ye.id]=ye,Xt(ye),ye.id},ss=function(v){for(var P=0,W=Le.length;P<W;P++){var Z=ar.call(this,v[P][0],v[P][1],v[P][2],Le[P][3],!0);p===!1&&(g[Z]=!0);var le=v[P][0].split("-");Xt({id:Z,fontName:le[0],fontStyle:le[1]||""})}Nt.publish("addFonts",{fonts:Ct,dictionary:Ot})},bn=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(Z){var P=Z.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var W="Error in function "+P.split(`
`)[0].split("<")[0]+": "+Z.message;if(!ot.console)throw new Error(W);ot.console.error(W,Z),ot.alert&&alert(W)}},v.foo.bar=v,v.foo},aa=function(v,P){var W,Z,le,ye,Ce,Ue,Ze,ht,ut;if(le=(P=P||{}).sourceEncoding||"Unicode",Ce=P.outputEncoding,(P.autoencode||Ce)&&Ct[et].metadata&&Ct[et].metadata[le]&&Ct[et].metadata[le].encoding&&(ye=Ct[et].metadata[le].encoding,!Ce&&Ct[et].encoding&&(Ce=Ct[et].encoding),!Ce&&ye.codePages&&(Ce=ye.codePages[0]),typeof Ce=="string"&&(Ce=ye[Ce]),Ce)){for(Ze=!1,Ue=[],W=0,Z=v.length;W<Z;W++)(ht=Ce[v.charCodeAt(W)])?Ue.push(String.fromCharCode(ht)):Ue.push(v[W]),Ue[W].charCodeAt(0)>>8&&(Ze=!0);v=Ue.join("")}for(W=v.length;Ze===void 0&&W!==0;)v.charCodeAt(W-1)>>8&&(Ze=!0),W--;if(!Ze)return v;for(Ue=P.noBOM?[]:[254,255],W=0,Z=v.length;W<Z;W++){if((ut=(ht=v.charCodeAt(W))>>8)>>8)throw new Error("Character at position "+W+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ue.push(ut),Ue.push(ht-(ut<<8))}return String.fromCharCode.apply(void 0,Ue)},Sr=m.__private__.pdfEscape=m.pdfEscape=function(v,P){return aa(v,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pl=m.__private__.beginPage=function(v){we[++Vt]=[],lt[Vt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},bu(Vt),ve(we[B])},wu=function(v,P){var W,Z,le;switch(n=P||n,typeof v=="string"&&(W=x(v.toLowerCase()),Array.isArray(W)&&(Z=W[0],le=W[1])),Array.isArray(v)&&(Z=v[0]*ze,le=v[1]*ze),isNaN(Z)&&(Z=i[0],le=i[1]),(Z>14400||le>14400)&&(Mt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Z=Math.min(14400,Z),le=Math.min(14400,le)),i=[Z,le],n.substr(0,1)){case"l":le>Z&&(i=[le,Z]);break;case"p":Z>le&&(i=[le,Z])}Pl(i),Lu(Tl),K(xi),Il!==0&&K(Il+" J"),Rl!==0&&K(Rl+" j"),Nt.publish("addPage",{pageNumber:Vt})},pf=function(v){v>0&&v<=Vt&&(we.splice(v,1),lt.splice(v,1),Vt--,B>Vt&&(B=Vt),this.setPage(B))},bu=function(v){v>0&&v<=Vt&&(B=v)},mf=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return we.length-1},Su=function(v,P,W){var Z,le=void 0;return W=W||{},v=v!==void 0?v:Ct[et].fontName,P=P!==void 0?P:Ct[et].fontStyle,Z=v.toLowerCase(),Ot[Z]!==void 0&&Ot[Z][P]!==void 0?le=Ot[Z][P]:Ot[v]!==void 0&&Ot[v][P]!==void 0?le=Ot[v][P]:W.disableWarning===!1&&Mt.warn("Unable to look up font label for font '"+v+"', '"+P+"'. Refer to getFontList() for available fonts."),le||W.noFallback||(le=Ot.times[P])==null&&(le=Ot.times.normal),le},gf=m.__private__.putInfo=function(){var v=dn(),P=function(Z){return Z};for(var W in f!==null&&(P=Hn.encryptor(v,0)),K("<<"),K("/Producer ("+Sr(P("jsPDF "+rt.version))+")"),st)st.hasOwnProperty(W)&&st[W]&&K("/"+W.substr(0,1).toUpperCase()+W.substr(1)+" ("+Sr(P(st[W]))+")");K("/CreationDate ("+Sr(P(de))+")"),K(">>"),K("endobj")},kl=m.__private__.putCatalog=function(v){var P=(v=v||{}).rootDictionaryObjId||Oi;switch(dn(),K("<<"),K("/Type /Catalog"),K("/Pages "+P+" 0 R"),Re||(Re="fullwidth"),Re){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var W=""+Re;W.substr(W.length-1)==="%"&&(Re=parseInt(Re)/100),typeof Re=="number"&&K("/OpenAction [3 0 R /XYZ null null "+ee(Re)+"]")}switch(Ke||(Ke="continuous"),Ke){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}Pe&&K("/PageMode /"+Pe),Nt.publish("putCatalog"),K(">>"),K("endobj")},vf=m.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(Q+1)),K("/Root "+Q+" 0 R"),K("/Info "+(Q-1)+" 0 R"),f!==null&&K("/Encrypt "+Hn.oid+" 0 R"),K("/ID [ <"+ae+"> <"+ae+"> ]"),K(">>")},yf=m.__private__.putHeader=function(){K("%PDF-"+N),K("%ºß¬à")},xf=m.__private__.putXRef=function(){var v="0000000000";K("xref"),K("0 "+(Q+1)),K("0000000000 65535 f ");for(var P=1;P<=Q;P++)typeof oe[P]=="function"?K((v+oe[P]()).slice(-10)+" 00000 n "):oe[P]!==void 0?K((v+oe[P]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},os=m.__private__.buildDocument=function(){Xe(),ve(he),Nt.publish("buildDocument"),yf(),rs(),wn(),br(),f!==null&&De(),gf(),kl();var v=ue;return xf(),vf(),K("startxref"),K(""+v),K("%%EOF"),ve(we[B]),he.join(`
`)},la=m.__private__.getBlob=function(v){return new Blob([He(v)],{type:"application/pdf"})},ca=m.output=m.__private__.output=bn(function(v,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",v){case void 0:return os();case"save":m.save(P.filename);break;case"arraybuffer":return He(os());case"blob":return la(os());case"bloburi":case"bloburl":if(ot.URL!==void 0&&typeof ot.URL.createObjectURL=="function")return ot.URL&&ot.URL.createObjectURL(la(os()))||void 0;Mt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var W="",Z=os();try{W=l1(Z)}catch{W=l1(unescape(encodeURIComponent(Z)))}return"data:application/pdf;filename="+P.filename+";base64,"+W;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(le=P.pdfObjectUrl,ye="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+le+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",Ue=ot.open();return Ue!==null&&Ue.document.write(Ce),Ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',ht=ot.open();if(ht!==null){ht.document.write(Ze);var ut=this;ht.document.documentElement.querySelector("#pdfViewer").onload=function(){ht.document.title=P.filename,ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ut.output("bloburl"))}}return ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ot)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',Qt=ot.open();if(Qt!==null&&(Qt.document.write(xt),Qt.document.title=P.filename),Qt||typeof safari>"u")return Qt;break;case"datauri":case"dataurl":return ot.document.location.href=this.output("datauristring",P);default:return null}}),Nu=function(v){return Array.isArray(Mi)===!0&&Mi.indexOf(v)>-1};switch(r){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=Nu("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ze=r}var Hn=null;me(),H();var wf=function(v){return f!==null?Hn.encryptor(v,0):function(P){return P}},ju=m.__private__.getPageInfo=m.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[v].objId,pageNumber:v,pageContext:lt[v]}},ct=m.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in lt)if(lt[P].objId===v)break;return ju(P)},bf=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:lt[B].objId,pageNumber:B,pageContext:lt[B]}};m.addPage=function(){return wu.apply(this,arguments),this},m.setPage=function(){return bu.apply(this,arguments),ve.call(this,we[B]),this},m.insertPage=function(v){return this.addPage(),this.movePage(B,v),this},m.movePage=function(v,P){var W,Z;if(v>P){W=we[v],Z=lt[v];for(var le=v;le>P;le--)we[le]=we[le-1],lt[le]=lt[le-1];we[P]=W,lt[P]=Z,this.setPage(P)}else if(v<P){W=we[v],Z=lt[v];for(var ye=v;ye<P;ye++)we[ye]=we[ye+1],lt[ye]=lt[ye+1];we[P]=W,lt[P]=Z,this.setPage(P)}return this},m.deletePage=function(){return pf.apply(this,arguments),this},m.__private__.text=m.text=function(v,P,W,Z,le){var ye,Ce,Ue,Ze,ht,ut,xt,Qt,sn,Sn=(Z=Z||{}).scope||this;if(typeof v=="number"&&typeof P=="number"&&(typeof W=="string"||Array.isArray(W))){var Wn=W;W=P,P=v,v=Wn}if(arguments[3]instanceof tt?(F("The transform parameter of text() with a Matrix value"),sn=le):(Ue=arguments[4],Ze=arguments[5],kt(xt=arguments[3])==="object"&&xt!==null||(typeof Ue=="string"&&(Ze=Ue,Ue=null),typeof xt=="string"&&(Ze=xt,xt=null),typeof xt=="number"&&(Ue=xt,xt=null),Z={flags:xt,angle:Ue,align:Ze})),isNaN(P)||isNaN(W)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Sn;var Tn="",wi=!1,Br=typeof Z.lineHeightFactor=="number"?Z.lineHeightFactor:Co,qi=Sn.internal.scaleFactor;function Fu(zt){return zt=zt.split("	").join(Array(Z.TabLen||9).join(" ")),Sr(zt,xt)}function zl(zt){for(var qt,pn=zt.concat(),Pn=[],ds=pn.length;ds--;)typeof(qt=pn.shift())=="string"?Pn.push(qt):Array.isArray(zt)&&(qt.length===1||qt[1]===void 0&&qt[2]===void 0)?Pn.push(qt[0]):Pn.push([qt[0],qt[1],qt[2]]);return Pn}function ql(zt,qt){var pn;if(typeof zt=="string")pn=qt(zt)[0];else if(Array.isArray(zt)){for(var Pn,ds,Yl=zt.concat(),ja=[],Ou=Yl.length;Ou--;)typeof(Pn=Yl.shift())=="string"?ja.push(qt(Pn)[0]):Array.isArray(Pn)&&typeof Pn[0]=="string"&&(ds=qt(Pn[0],Pn[1],Pn[2]),ja.push([ds[0],ds[1],ds[2]]));pn=ja}return pn}var ma=!1,Ul=!0;if(typeof v=="string")ma=!0;else if(Array.isArray(v)){var Vl=v.concat();Ce=[];for(var ga,On=Vl.length;On--;)(typeof(ga=Vl.shift())!="string"||Array.isArray(ga)&&typeof ga[0]!="string")&&(Ul=!1);ma=Ul}if(ma===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var va=Ee/Sn.internal.scaleFactor,ya=va*(Br-1);switch(Z.baseline){case"bottom":W-=ya;break;case"top":W+=va-ya;break;case"hanging":W+=va-2*ya;break;case"middle":W+=va/2-ya}if((ut=Z.maxWidth||0)>0&&(typeof v=="string"?v=Sn.splitTextToSize(v,ut):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(zt,qt){return zt.concat(Sn.splitTextToSize(qt,ut))},[]))),ye={text:v,x:P,y:W,options:Z,mutex:{pdfEscape:Sr,activeFontKey:et,fonts:Ct,activeFontSize:Ee}},Nt.publish("preProcessText",ye),v=ye.text,Ue=(Z=ye.options).angle,!(sn instanceof tt)&&Ue&&typeof Ue=="number"){Ue*=Math.PI/180,Z.rotationDirection===0&&(Ue=-Ue),j===w.ADVANCED&&(Ue=-Ue);var xa=Math.cos(Ue),$l=Math.sin(Ue);sn=new tt(xa,$l,-$l,xa,0,0)}else Ue&&Ue instanceof tt&&(sn=Ue);j!==w.ADVANCED||sn||(sn=$t),(ht=Z.charSpace||ha)!==void 0&&(Tn+=T(M(ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qt=Z.horizontalScale)!==void 0&&(Tn+=T(100*Qt)+` Tz
`),Z.lang;var Nr=-1,Ef=Z.renderingMode!==void 0?Z.renderingMode:Z.stroke,Hl=Sn.internal.getCurrentPageInfo().pageContext;switch(Ef){case 0:case!1:case"fill":Nr=0;break;case 1:case!0:case"stroke":Nr=1;break;case 2:case"fillThenStroke":Nr=2;break;case 3:case"invisible":Nr=3;break;case 4:case"fillAndAddForClipping":Nr=4;break;case 5:case"strokeAndAddPathForClipping":Nr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Nr=6;break;case 7:case"addToPathForClipping":Nr=7}var Iu=Hl.usedRenderingMode!==void 0?Hl.usedRenderingMode:-1;Nr!==-1?Tn+=Nr+` Tr
`:Iu!==-1&&(Tn+=`0 Tr
`),Nr!==-1&&(Hl.usedRenderingMode=Nr),Ze=Z.align||"left";var ni,wa=Ee*Br,Ru=Sn.internal.pageSize.getWidth(),Du=Ct[et];ht=Z.charSpace||ha,ut=Z.maxWidth||0,xt=Object.assign({autoencode:!0,noBOM:!0},Z.flags);var Ms=[],ko=function(zt){return Sn.getStringUnitWidth(zt,{font:Du,charSpace:ht,fontSize:Ee,doKerning:!1})*Ee/qi};if(Object.prototype.toString.call(v)==="[object Array]"){var jr;Ce=zl(v),Ze!=="left"&&(ni=Ce.map(ko));var lr,Os=0;if(Ze==="right"){P-=ni[0],v=[],On=Ce.length;for(var ls=0;ls<On;ls++)ls===0?(lr=zi(P),jr=as(W)):(lr=M(Os-ni[ls]),jr=-wa),v.push([Ce[ls],lr,jr]),Os=ni[ls]}else if(Ze==="center"){P-=ni[0]/2,v=[],On=Ce.length;for(var cs=0;cs<On;cs++)cs===0?(lr=zi(P),jr=as(W)):(lr=M((Os-ni[cs])/2),jr=-wa),v.push([Ce[cs],lr,jr]),Os=ni[cs]}else if(Ze==="left"){v=[],On=Ce.length;for(var ba=0;ba<On;ba++)v.push(Ce[ba])}else if(Ze==="justify"&&Du.encoding==="Identity-H"){v=[],On=Ce.length,ut=ut!==0?ut:Ru;for(var us=0,fn=0;fn<On;fn++)if(jr=fn===0?as(W):-wa,lr=fn===0?zi(P):us,fn<On-1){var Wl=M((ut-ni[fn])/(Ce[fn].split(" ").length-1)),cr=Ce[fn].split(" ");v.push([cr[0]+" ",lr,jr]),us=0;for(var ri=1;ri<cr.length;ri++){var Sa=(ko(cr[ri-1]+" "+cr[ri])-ko(cr[ri]))*qi+Wl;ri==cr.length-1?v.push([cr[ri],Sa,0]):v.push([cr[ri]+" ",Sa,0]),us-=Sa}}else v.push([Ce[fn],lr,jr]);v.push(["",us,0])}else{if(Ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],On=Ce.length,ut=ut!==0?ut:Ru,fn=0;fn<On;fn++)jr=fn===0?as(W):-wa,lr=fn===0?zi(P):0,fn<On-1?Ms.push(T(M((ut-ni[fn])/(Ce[fn].split(" ").length-1)))):Ms.push(0),v.push([Ce[fn],lr,jr])}}var Mu=typeof Z.R2L=="boolean"?Z.R2L:Ge;Mu===!0&&(v=ql(v,function(zt,qt,pn){return[zt.split("").reverse().join(""),qt,pn]})),ye={text:v,x:P,y:W,options:Z,mutex:{pdfEscape:Sr,activeFontKey:et,fonts:Ct,activeFontSize:Ee}},Nt.publish("postProcessText",ye),v=ye.text,wi=ye.mutex.isHex||!1;var Gl=Ct[et].encoding;Gl!=="WinAnsiEncoding"&&Gl!=="StandardEncoding"||(v=ql(v,function(zt,qt,pn){return[Fu(zt),qt,pn]})),Ce=zl(v),v=[];for(var _o,Eo,Bs,To=0,Na=1,Fo=Array.isArray(Ce[0])?Na:To,zs="",Kl=function(zt,qt,pn){var Pn="";return pn instanceof tt?(pn=typeof Z.angle=="number"?ir(pn,new tt(1,0,0,1,zt,qt)):ir(new tt(1,0,0,1,zt,qt),pn),j===w.ADVANCED&&(pn=ir(new tt(1,0,0,-1,0,0),pn)),Pn=pn.join(" ")+` Tm
`):Pn=T(zt)+" "+T(qt)+` Td
`,Pn},ii=0;ii<Ce.length;ii++){switch(zs="",Fo){case Na:Bs=(wi?"<":"(")+Ce[ii][0]+(wi?">":")"),_o=parseFloat(Ce[ii][1]),Eo=parseFloat(Ce[ii][2]);break;case To:Bs=(wi?"<":"(")+Ce[ii]+(wi?">":")"),_o=zi(P),Eo=as(W)}Ms!==void 0&&Ms[ii]!==void 0&&(zs=Ms[ii]+` Tw
`),ii===0?v.push(zs+Kl(_o,Eo,sn)+Bs):Fo===To?v.push(zs+Bs):Fo===Na&&v.push(zs+Kl(_o,Eo,sn)+Bs)}v=Fo===To?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var si=`BT
/`;return si+=et+" "+Ee+` Tf
`,si+=T(Ee*Br)+` TL
`,si+=Lo+`
`,si+=Tn,si+=v,K(si+="ET"),g[et]=!0,Sn};var Sf=m.__private__.clip=m.clip=function(v){return K(v==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Sf("evenodd")},m.__private__.discardPath=m.discardPath=function(){return K("n"),this};var Bi=m.__private__.isValidStyle=function(v){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(P=!0),P};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(v){return Bi(v)&&(d=v),this};var Au=m.__private__.getStyle=m.getStyle=function(v){var P=d;switch(v){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=v}return P},Cu=m.close=function(){return K("h"),this};m.stroke=function(){return K("S"),this},m.fill=function(v){return ua("f",v),this},m.fillEvenOdd=function(v){return ua("f*",v),this},m.fillStroke=function(v){return ua("B",v),this},m.fillStrokeEvenOdd=function(v){return ua("B*",v),this};var ua=function(v,P){kt(P)==="object"?jf(P,v):K(v)},_l=function(v){v===null||j===w.ADVANCED&&v===void 0||(v=Au(v),K(v))};function Nf(v,P,W,Z,le){var ye=new Qa(P||this.boundingBox,W||this.xStep,Z||this.yStep,this.gState,le||this.matrix);ye.stream=this.stream;var Ce=v+"$$"+this.cloneIndex+++"$$";return $n(Ce,ye),ye}var jf=function(v,P){var W=ts[v.key],Z=St[W];if(Z instanceof Uo)K("q"),K(Af(P)),Z.gState&&m.setGState(Z.gState),K(v.matrix.toString()+" cm"),K("/"+W+" sh"),K("Q");else if(Z instanceof Qa){var le=new tt(1,0,0,-1,0,Ds());v.matrix&&(le=le.multiply(v.matrix||$t),W=Nf.call(Z,v.key,v.boundingBox,v.xStep,v.yStep,le).id),K("q"),K("/Pattern cs"),K("/"+W+" scn"),Z.gState&&m.setGState(Z.gState),K(P),K("Q")}},Af=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},El=m.moveTo=function(v,P){return K(T(M(v))+" "+T(G(P))+" m"),this},Ao=m.lineTo=function(v,P){return K(T(M(v))+" "+T(G(P))+" l"),this},Is=m.curveTo=function(v,P,W,Z,le,ye){return K([T(M(v)),T(G(P)),T(M(W)),T(G(Z)),T(M(le)),T(G(ye)),"c"].join(" ")),this};m.__private__.line=m.line=function(v,P,W,Z,le){if(isNaN(v)||isNaN(P)||isNaN(W)||isNaN(Z)||!Bi(le))throw new Error("Invalid arguments passed to jsPDF.line");return j===w.COMPAT?this.lines([[W-v,Z-P]],v,P,[1,1],le||"S"):this.lines([[W-v,Z-P]],v,P,[1,1]).stroke()},m.__private__.lines=m.lines=function(v,P,W,Z,le,ye){var Ce,Ue,Ze,ht,ut,xt,Qt,sn,Sn,Wn,Tn,wi;if(typeof v=="number"&&(wi=W,W=P,P=v,v=wi),Z=Z||[1,1],ye=ye||!1,isNaN(P)||isNaN(W)||!Array.isArray(v)||!Array.isArray(Z)||!Bi(le)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(El(P,W),Ce=Z[0],Ue=Z[1],ht=v.length,Wn=P,Tn=W,Ze=0;Ze<ht;Ze++)(ut=v[Ze]).length===2?(Wn=ut[0]*Ce+Wn,Tn=ut[1]*Ue+Tn,Ao(Wn,Tn)):(xt=ut[0]*Ce+Wn,Qt=ut[1]*Ue+Tn,sn=ut[2]*Ce+Wn,Sn=ut[3]*Ue+Tn,Wn=ut[4]*Ce+Wn,Tn=ut[5]*Ue+Tn,Is(xt,Qt,sn,Sn,Wn,Tn));return ye&&Cu(),_l(le),this},m.path=function(v){for(var P=0;P<v.length;P++){var W=v[P],Z=W.c;switch(W.op){case"m":El(Z[0],Z[1]);break;case"l":Ao(Z[0],Z[1]);break;case"c":Is.apply(this,Z);break;case"h":Cu()}}return this},m.__private__.rect=m.rect=function(v,P,W,Z,le){if(isNaN(v)||isNaN(P)||isNaN(W)||isNaN(Z)||!Bi(le))throw new Error("Invalid arguments passed to jsPDF.rect");return j===w.COMPAT&&(Z=-Z),K([T(M(v)),T(G(P)),T(M(W)),T(M(Z)),"re"].join(" ")),_l(le),this},m.__private__.triangle=m.triangle=function(v,P,W,Z,le,ye,Ce){if(isNaN(v)||isNaN(P)||isNaN(W)||isNaN(Z)||isNaN(le)||isNaN(ye)||!Bi(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[W-v,Z-P],[le-W,ye-Z],[v-le,P-ye]],v,P,[1,1],Ce,!0),this},m.__private__.roundedRect=m.roundedRect=function(v,P,W,Z,le,ye,Ce){if(isNaN(v)||isNaN(P)||isNaN(W)||isNaN(Z)||isNaN(le)||isNaN(ye)||!Bi(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ue=4/3*(Math.SQRT2-1);return le=Math.min(le,.5*W),ye=Math.min(ye,.5*Z),this.lines([[W-2*le,0],[le*Ue,0,le,ye-ye*Ue,le,ye],[0,Z-2*ye],[0,ye*Ue,-le*Ue,ye,-le,ye],[2*le-W,0],[-le*Ue,0,-le,-ye*Ue,-le,-ye],[0,2*ye-Z],[0,-ye*Ue,le*Ue,-ye,le,-ye]],v+le,P,[1,1],Ce,!0),this},m.__private__.ellipse=m.ellipse=function(v,P,W,Z,le){if(isNaN(v)||isNaN(P)||isNaN(W)||isNaN(Z)||!Bi(le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*W,Ce=4/3*(Math.SQRT2-1)*Z;return El(v+W,P),Is(v+W,P-Ce,v+ye,P-Z,v,P-Z),Is(v-ye,P-Z,v-W,P-Ce,v-W,P),Is(v-W,P+Ce,v-ye,P+Z,v,P+Z),Is(v+ye,P+Z,v+W,P+Ce,v+W,P),_l(le),this},m.__private__.circle=m.circle=function(v,P,W,Z){if(isNaN(v)||isNaN(P)||isNaN(W)||!Bi(Z))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,P,W,W,Z)},m.setFont=function(v,P,W){return W&&(P=U(P,W)),et=Su(v,P,{disableWarning:!1}),this};var Cf=m.__private__.getFont=m.getFont=function(){return Ct[Su.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var v,P,W={};for(v in Ot)if(Ot.hasOwnProperty(v))for(P in W[v]=[],Ot[v])Ot[v].hasOwnProperty(P)&&W[v].push(P);return W},m.addFont=function(v,P,W,Z,le){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?le=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(W=U(W,Z)),le=le||"Identity-H",ar.call(this,v,P,W,le)};var Co,Tl=e.lineWidth||.200025,da=m.__private__.getLineWidth=m.getLineWidth=function(){return Tl},Lu=m.__private__.setLineWidth=m.setLineWidth=function(v){return Tl=v,K(T(M(v))+" w"),this};m.__private__.setLineDash=rt.API.setLineDash=rt.API.setLineDashPattern=function(v,P){if(v=v||[],P=P||0,isNaN(P)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(W){return T(M(W))}).join(" "),P=T(M(P)),K("["+v+"] "+P+" d"),this};var Pu=m.__private__.getLineHeight=m.getLineHeight=function(){return Ee*Co};m.__private__.getLineHeight=m.getLineHeight=function(){return Ee*Co};var ku=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Co=v),this},_u=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Co};ku(e.lineHeight);var zi=m.__private__.getHorizontalCoordinate=function(v){return M(v)},as=m.__private__.getVerticalCoordinate=function(v){return j===w.ADVANCED?v:lt[B].mediaBox.topRightY-lt[B].mediaBox.bottomLeftY-M(v)},Lf=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(v){return T(zi(v))},Rs=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(v){return T(as(v))},xi=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Mr(xi)},m.__private__.setStrokeColor=m.setDrawColor=function(v,P,W,Z){return xi=yr({ch1:v,ch2:P,ch3:W,ch4:Z,pdfColorType:"draw",precision:2}),K(xi),this};var Fl=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Mr(Fl)},m.__private__.setFillColor=m.setFillColor=function(v,P,W,Z){return Fl=yr({ch1:v,ch2:P,ch3:W,ch4:Z,pdfColorType:"fill",precision:2}),K(Fl),this};var Lo=e.textColor||"0 g",Pf=m.__private__.getTextColor=m.getTextColor=function(){return Mr(Lo)};m.__private__.setTextColor=m.setTextColor=function(v,P,W,Z){return Lo=yr({ch1:v,ch2:P,ch3:W,ch4:Z,pdfColorType:"text",precision:3}),this};var ha=e.charSpace,kf=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(ha||0)};m.__private__.setCharSpace=m.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ha=v,this};var Il=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(v){var P=m.CapJoinStyles[v];if(P===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=P,K(P+" J"),this};var Rl=0;m.__private__.setLineJoin=m.setLineJoin=function(v){var P=m.CapJoinStyles[v];if(P===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rl=P,K(P+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(T(M(v))+" M"),this},m.GState=Dh,m.setGState=function(v){(v=typeof v=="string"?Yt[vr[v]]:Eu(null,v)).equals(yi)||(K("/"+v.id+" gs"),yi=v)};var Eu=function(v,P){if(!v||!vr[v]){var W=!1;for(var Z in Yt)if(Yt.hasOwnProperty(Z)&&Yt[Z].equals(P)){W=!0;break}if(W)P=Yt[Z];else{var le="GS"+(Object.keys(Yt).length+1).toString(10);Yt[le]=P,P.id=le}return v&&(vr[v]=P.id),Nt.publish("addGState",P),P}};m.addGState=function(v,P){return Eu(v,P),this},m.saveGraphicsState=function(){return K("q"),gr.push({key:et,size:Ee,color:Lo}),this},m.restoreGraphicsState=function(){K("Q");var v=gr.pop();return et=v.key,Ee=v.size,Lo=v.color,yi=null,this},m.setCurrentTransformationMatrix=function(v){return K(v.toString()+" cm"),this},m.comment=function(v){return K("#"+v),this};var fa=function(v,P){var W=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return W},set:function(ye){isNaN(ye)||(W=parseFloat(ye))}});var Z=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Z},set:function(ye){isNaN(ye)||(Z=parseFloat(ye))}});var le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return le},set:function(ye){le=ye.toString()}}),this},Dl=function(v,P,W,Z){fa.call(this,v,P),this.type="rect";var le=W||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return le},set:function(Ce){isNaN(Ce)||(le=parseFloat(Ce))}});var ye=Z||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(Ce){isNaN(Ce)||(ye=parseFloat(Ce))}}),this},Ml=function(){this.page=Vt,this.currentPage=B,this.pages=we.slice(0),this.pagesContext=lt.slice(0),this.x=En,this.y=yt,this.matrix=Rr,this.width=Po(B),this.height=Ds(B),this.outputDestination=ke,this.id="",this.objectNumber=-1};Ml.prototype.restore=function(){Vt=this.page,B=this.currentPage,lt=this.pagesContext,we=this.pages,En=this.x,yt=this.y,Rr=this.matrix,Ol(B,this.width),Bl(B,this.height),ke=this.outputDestination};var Tu=function(v,P,W,Z,le){Zr.push(new Ml),Vt=B=0,we=[],En=v,yt=P,Rr=le,Pl([W,Z])},_f=function(v){if(Qr[v])Zr.pop().restore();else{var P=new Ml,W="Xo"+(Object.keys(Ln).length+1).toString(10);P.id=W,Qr[v]=W,Ln[W]=P,Nt.publish("addFormObject",P),Zr.pop().restore()}};for(var pa in m.beginFormObject=function(v,P,W,Z,le){return Tu(v,P,W,Z,le),this},m.endFormObject=function(v){return _f(v),this},m.doFormObject=function(v,P){var W=Ln[Qr[v]];return K("q"),K(P.toString()+" cm"),K("/"+W.id+" Do"),K("Q"),this},m.getFormObject=function(v){var P=Ln[Qr[v]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},m.save=function(v,P){return v=v||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(qo(la(os()),v),typeof qo.unload=="function"&&ot.setTimeout&&setTimeout(qo.unload,911),this):new Promise(function(W,Z){try{var le=qo(la(os()),v);typeof qo.unload=="function"&&ot.setTimeout&&setTimeout(qo.unload,911),W(le)}catch(ye){Z(ye.message)}})},rt.API)rt.API.hasOwnProperty(pa)&&(pa==="events"&&rt.API.events.length?function(v,P){var W,Z,le;for(le=P.length-1;le!==-1;le--)W=P[le][0],Z=P[le][1],v.subscribe.apply(v,[W].concat(typeof Z=="function"?[Z]:Z))}(Nt,rt.API.events):m[pa]=rt.API[pa]);var Po=m.getPageWidth=function(v){return(lt[v=v||B].mediaBox.topRightX-lt[v].mediaBox.bottomLeftX)/ze},Ol=m.setPageWidth=function(v,P){lt[v].mediaBox.topRightX=P*ze+lt[v].mediaBox.bottomLeftX},Ds=m.getPageHeight=function(v){return(lt[v=v||B].mediaBox.topRightY-lt[v].mediaBox.bottomLeftY)/ze},Bl=m.setPageHeight=function(v,P){lt[v].mediaBox.topRightY=P*ze+lt[v].mediaBox.bottomLeftY};return m.internal={pdfEscape:Sr,getStyle:Au,getFont:Cf,getFontSize:Ie,getCharSpace:kf,getTextColor:Pf,getLineHeight:Pu,getLineHeightFactor:_u,getLineWidth:da,write:at,getHorizontalCoordinate:zi,getVerticalCoordinate:as,getCoordinateString:Lf,getVerticalCoordinateString:Rs,collections:{},newObject:dn,newAdditionalObject:ns,newObjectDeferred:Bt,newObjectDeferredBegin:sr,getFilters:Or,putStream:xr,events:Nt,scaleFactor:ze,pageSize:{getWidth:function(){return Po(B)},setWidth:function(v){Ol(B,v)},getHeight:function(){return Ds(B)},setHeight:function(v){Bl(B,v)}},encryptionOptions:f,encryption:Hn,getEncryptor:wf,output:ca,getNumberOfPages:mf,pages:we,out:K,f2:ee,f3:E,getPageInfo:ju,getPageInfoByObjId:ct,getCurrentPageInfo:bf,getPDFVersion:b,Point:fa,Rectangle:Dl,Matrix:tt,hasHotfix:Nu},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Po(B)},set:function(v){Ol(B,v)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ds(B)},set:function(v){Bl(B,v)},enumerable:!0,configurable:!0}),ss.call(m,Le),et="F1",wu(i,n),Nt.publish("initialized"),m}Fa.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Fa.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Fa.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Fa.prototype.processOwnerPassword=function(e,t){return u1(c1(t).substr(0,5),e)},Fa.prototype.encryptor=function(e,t){var n=c1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return u1(n,r)}},Dh.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||kt(e)!==kt(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},rt.API={events:[]},rt.version="3.0.1";var an=rt.API,Q0=1,sa=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_a=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dt=function(e){return e.toFixed(2)},Js=function(e){return e.toFixed(5)};an.__acroform__={};var Tr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},p5=function(e){return e*Q0},$i=function(e){var t=new t4,n=We.internal.getHeight(e)||0,r=We.internal.getWidth(e)||0;return t.BBox=[0,0,Number(dt(r)),Number(dt(n))],t},eP=an.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},tP=an.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},nP=an.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},vn=an.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nP(e,t-1)},yn=an.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return eP(e,t-1)},xn=an.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tP(e,t-1)},rP=an.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(dt(l.lowerLeft_X)),Number(dt(l.lowerLeft_Y)),Number(dt(l.upperRight_X)),Number(dt(l.upperRight_Y))]},iP=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=d1(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+dt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=$i(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},d1=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=n,o=We.internal.getHeight(e)||0;o=o<0?-o:o;var a=We.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(E,M,X){if(E+1<i.length){var G=M+" "+i[E+1][0];return Ld(G,e,X).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var d,f,p=Ld("3",e,s).height,g=e.multiline?o-s:(o-p)/2,m=g+=2,N=0,b=0,A=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ld(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var x="",w=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var R=!1;if(i[j].length!==1&&A!==i[j].length-1){if((p+2)*(w+2)+2>o)continue e;x+=i[j][A],R=!0,b=j,j--}else{x=(x+=i[j][A]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var q=parseInt(j),U=l(q,x,s),T=j>=i.length-1;if(U&&!T){x+=" ",A=0;continue}if(U||T){if(T)b=q;else if(e.multiline&&(p+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(p+2)*(w+2)+2>o)continue e;b=q}}for(var F="",$=N;$<=b;$++){var ee=i[$];if(e.multiline){if($===b){F+=ee[A]+" ",A=(A+1)%ee.length;continue}if($===N){F+=ee[ee.length-1]+" ";continue}}F+=ee[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,f=Ld(F,e,s).width,e.textAlign){case"right":d=a-f-2;break;case"center":d=(a-f)/2;break;case"left":default:d=2}t+=dt(d)+" "+dt(m)+` Td
`,t+="("+sa(F)+`) Tj
`,t+=-dt(d)+` 0 Td
`,m=-(s+2),f=0,N=R?b:b+1,w++,x=""}break}return r.text=t,r.fontSize=s,r},Ld=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},sP={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},oP=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},aP=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),kt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},lP=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ri.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(sP)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Q0=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new n4,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&oP(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],d=a.Rect;if(a.Rect&&(a.Rect=rP(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=We.createDefaultAppearanceStream(a),kt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=d,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=iP(a);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var p="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var m=a.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var N=m[o];typeof N=="function"&&(N=N.call(i,a)),p+="/"+o+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=m)=="function"&&(N=N.call(i,a)),p+="/"+o+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&aP(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},e4=an.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),kt(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+sa(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Up=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+sa(r(e))+")"},Gi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gi.prototype.toString=function(){return this.objId+" 0 R"},Gi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Gi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:e4(i,this.objId,this.scope)}):i instanceof Gi?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var t4=function(){Gi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Tr(t4,Gi);var n4=function(){Gi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+sa(n(e))+")"}},set:function(n){e=n}})};Tr(n4,Gi);var Ri=function e(){Gi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vn(t,3)},set:function(x){x?this.F=yn(t,3):this.F=xn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Mh)return;s="FieldObject"+e.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+sa(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Q0:d},set:function(x){d=x}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(x){f=x}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Mh||this instanceof Jo))return Up(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=x}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Dn?g:Up(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=this instanceof Dn?x:x.substr(0,1)==="("?_a(x.substr(1,x.length-2)):_a(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dn?_a(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof Dn?"/"+x:x}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Dn?m:Up(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=this instanceof Dn?x:x.substr(0,1)==="("?_a(x.substr(1,x.length-2)):_a(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dn?_a(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof Dn?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(x){x=!!x,b=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(x){N=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,1)},set:function(x){x?this.Ff=yn(this.Ff,1):this.Ff=xn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,2)},set:function(x){x?this.Ff=yn(this.Ff,2):this.Ff=xn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,3)},set:function(x){x?this.Ff=yn(this.Ff,3):this.Ff=xn(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');A=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(A){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Tr(Ri,Gi);var ol=function(){Ri.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return e4(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,d=[];l=o.exec(s);)d.push(l[a]);return d}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,18)},set:function(n){n?this.Ff=yn(this.Ff,18):this.Ff=xn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=yn(this.Ff,19):this.Ff=xn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,20)},set:function(n){n?(this.Ff=yn(this.Ff,20),t.sort()):this.Ff=xn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,22)},set:function(n){n?this.Ff=yn(this.Ff,22):this.Ff=xn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,23)},set:function(n){n?this.Ff=yn(this.Ff,23):this.Ff=xn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,27)},set:function(n){n?this.Ff=yn(this.Ff,27):this.Ff=xn(this.Ff,27)}}),this.hasAppearanceStream=!1};Tr(ol,Ri);var al=function(){ol.call(this),this.fontName="helvetica",this.combo=!1};Tr(al,ol);var ll=function(){al.call(this),this.combo=!0};Tr(ll,al);var Xd=function(){ll.call(this),this.edit=!0};Tr(Xd,ll);var Dn=function(){Ri.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,15)},set:function(n){n?this.Ff=yn(this.Ff,15):this.Ff=xn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,16)},set:function(n){n?this.Ff=yn(this.Ff,16):this.Ff=xn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,17)},set:function(n){n?this.Ff=yn(this.Ff,17):this.Ff=xn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,26)},set:function(n){n?this.Ff=yn(this.Ff,26):this.Ff=xn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+sa(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){kt(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Tr(Dn,Ri);var Qd=function(){Dn.call(this),this.pushButton=!0};Tr(Qd,Dn);var cl=function(){Dn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Tr(cl,Dn);var Mh=function(){var e,t;Ri.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+sa(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){kt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=We.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Tr(Mh,Ri),cl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},cl.prototype.createOption=function(e){var t=new Mh;return t.Parent=this,t.optionName=e,this.Kids.push(t),cP.call(this.scope,t),t};var Zd=function(){Dn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=We.CheckBox.createAppearanceStream()};Tr(Zd,Dn);var Jo=function(){Ri.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,13)},set:function(t){t?this.Ff=yn(this.Ff,13):this.Ff=xn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,21)},set:function(t){t?this.Ff=yn(this.Ff,21):this.Ff=xn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,23)},set:function(t){t?this.Ff=yn(this.Ff,23):this.Ff=xn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,24)},set:function(t){t?this.Ff=yn(this.Ff,24):this.Ff=xn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,25)},set:function(t){t?this.Ff=yn(this.Ff,25):this.Ff=xn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,26)},set:function(t){t?this.Ff=yn(this.Ff,26):this.Ff=xn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Tr(Jo,Ri);var eh=function(){Jo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,14)},set:function(e){e?this.Ff=yn(this.Ff,14):this.Ff=xn(this.Ff,14)}}),this.password=!0};Tr(eh,Jo);var We={CheckBox:{createAppearanceStream:function(){return{N:{On:We.CheckBox.YesNormal},D:{On:We.CheckBox.YesPushDown,Off:We.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=$i(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=d1(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+dt(We.internal.getWidth(e))+" "+dt(We.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+dt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=$i(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=We.internal.getHeight(e),o=We.internal.getWidth(e),a=d1(e,e.caption);return i.push("1 g"),i.push("0 0 "+dt(o)+" "+dt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+dt(o-1)+" "+dt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+dt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=$i(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+dt(We.internal.getWidth(e))+" "+dt(We.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:We.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=We.RadioButton.Circle.YesNormal,t.D[e]=We.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=$i(e);t.scope=e.scope;var n=[],r=We.internal.getWidth(e)<=We.internal.getHeight(e)?We.internal.getWidth(e)/4:We.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=We.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Js(We.internal.getWidth(e)/2)+" "+Js(We.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=$i(e);t.scope=e.scope;var n=[],r=We.internal.getWidth(e)<=We.internal.getHeight(e)?We.internal.getWidth(e)/4:We.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*We.internal.Bezier_C).toFixed(5)),o=Number((r*We.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Js(We.internal.getWidth(e)/2)+" "+Js(We.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Js(We.internal.getWidth(e)/2)+" "+Js(We.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=$i(e);t.scope=e.scope;var n=[],r=We.internal.getWidth(e)<=We.internal.getHeight(e)?We.internal.getWidth(e)/4:We.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*We.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Js(We.internal.getWidth(e)/2)+" "+Js(We.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:We.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=We.RadioButton.Cross.YesNormal,t.D[e]=We.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=$i(e);t.scope=e.scope;var n=[],r=We.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+dt(We.internal.getWidth(e)-2)+" "+dt(We.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(dt(r.x1.x)+" "+dt(r.x1.y)+" m"),n.push(dt(r.x2.x)+" "+dt(r.x2.y)+" l"),n.push(dt(r.x4.x)+" "+dt(r.x4.y)+" m"),n.push(dt(r.x3.x)+" "+dt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=$i(e);t.scope=e.scope;var n=We.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+dt(We.internal.getWidth(e))+" "+dt(We.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+dt(We.internal.getWidth(e)-2)+" "+dt(We.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(dt(n.x1.x)+" "+dt(n.x1.y)+" m"),r.push(dt(n.x2.x)+" "+dt(n.x2.y)+" l"),r.push(dt(n.x4.x)+" "+dt(n.x4.y)+" m"),r.push(dt(n.x3.x)+" "+dt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=$i(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+dt(We.internal.getWidth(e))+" "+dt(We.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};We.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=We.internal.getWidth(e),n=We.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},We.internal.getWidth=function(e){var t=0;return kt(e)==="object"&&(t=p5(e.Rect[2])),t},We.internal.getHeight=function(e){var t=0;return kt(e)==="object"&&(t=p5(e.Rect[3])),t};var cP=an.addField=function(e){if(lP(this,e),!(e instanceof Ri))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};an.AcroFormChoiceField=ol,an.AcroFormListBox=al,an.AcroFormComboBox=ll,an.AcroFormEditBox=Xd,an.AcroFormButton=Dn,an.AcroFormPushButton=Qd,an.AcroFormRadioButton=cl,an.AcroFormCheckBox=Zd,an.AcroFormTextField=Jo,an.AcroFormPasswordField=eh,an.AcroFormAppearance=We,an.AcroForm={ChoiceField:ol,ListBox:al,ComboBox:ll,EditBox:Xd,Button:Dn,PushButton:Qd,RadioButton:cl,CheckBox:Zd,TextField:Jo,PasswordField:eh,Appearance:We},rt.AcroForm={ChoiceField:ol,ListBox:al,ComboBox:ll,EditBox:Xd,Button:Dn,PushButton:Qd,RadioButton:cl,CheckBox:Zd,TextField:Jo,PasswordField:eh,Appearance:We};function r4(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(E,M){var X,G,de,ae,ce,H=t;if((M=M||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(U(E))for(ce in n)for(de=n[ce],X=0;X<de.length;X+=1){for(ae=!0,G=0;G<de[X].length;G+=1)if(de[X][G]!==void 0&&de[X][G]!==E[G]){ae=!1;break}if(ae===!0){H=ce;break}}else for(ce in n)for(de=n[ce],X=0;X<de.length;X+=1){for(ae=!0,G=0;G<de[X].length;G+=1)if(de[X][G]!==void 0&&de[X][G]!==E.charCodeAt(G)){ae=!1;break}if(ae===!0){H=ce;break}}return H===t&&M!==t&&(H=M),H},i=function E(M){for(var X=this.internal.write,G=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:M.width}),ae.push({key:"Height",value:M.height}),M.colorSpace===A.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===A.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var ce="",H=0,ie=M.transparency.length;H<ie;H++)ce+=M.transparency[H]+" "+M.transparency[H]+" ";ae.push({key:"Mask",value:"["+ce+"]"})}M.sMask!==void 0&&ae.push({key:"SMask",value:M.objectId+1+" 0 R"});var Y=M.filter!==void 0?["/"+M.filter]:void 0;if(G({data:M.data,additionalKeyValues:ae,alreadyAppliedFilters:Y,objectId:M.objectId}),X("endobj"),"sMask"in M&&M.sMask!==void 0){var me="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,C={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:me,data:M.sMask};"filter"in M&&(C.filter=M.filter),E.call(this,C)}if(M.colorSpace===A.INDEXED){var B=this.internal.newObject();G({data:F(new Uint8Array(M.palette)),objectId:B}),X("endobj")}},s=function(){var E=this.internal.collections.addImage_images;for(var M in E)i.call(this,E[M])},o=function(){var E,M=this.internal.collections.addImage_images,X=this.internal.write;for(var G in M)X("/I"+(E=M[G]).index,E.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var E=this.internal.collections.addImage_images;return a.call(this),E},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(E){return typeof e["process"+E.toUpperCase()]=="function"},p=function(E){return kt(E)==="object"&&E.nodeType===1},g=function(E,M){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var X=""+E.getAttribute("src");if(X.indexOf("data:image/")===0)return Mc(unescape(X).split("base64,").pop());var G=e.loadFile(X,!0);if(G!==void 0)return G}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var de;switch(M){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;case"JPEG":case"JPG":default:de="image/jpeg"}return Mc(E.toDataURL(de,1).split("base64,").pop())}},m=function(E){var M=this.internal.collections.addImage_images;if(M){for(var X in M)if(E===M[X].alias)return M[X]}},N=function(E,M,X){return E||M||(E=-96,M=-96),E<0&&(E=-1*X.width*72/E/this.internal.scaleFactor),M<0&&(M=-1*X.height*72/M/this.internal.scaleFactor),E===0&&(E=M*X.width/X.height),M===0&&(M=E*X.height/X.width),[E,M]},b=function(E,M,X,G,de,ae){var ce=N.call(this,X,G,de),H=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,Y=l.call(this);if(X=ce[0],G=ce[1],Y[de.index]=de,ae){ae*=Math.PI/180;var me=Math.cos(ae),C=Math.sin(ae),B=function(J){return J.toFixed(4)},z=[B(me),B(C),B(-1*C),B(me),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,H(E),ie(M+G),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([H(X),"0","0",H(G),"0","0","cm"].join(" "))):this.internal.write([H(X),"0","0",H(G),H(E),ie(M+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var M,X,G=0;if(typeof E=="string")for(X=E.length,M=0;M<X;M++)G=(G<<5)-G+E.charCodeAt(M),G|=0;else if(U(E))for(X=E.byteLength/2,M=0;M<X;M++)G=(G<<5)-G+E[M],G|=0;return G},j=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var M=!0;return E.length===0&&(M=!1),E.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(M=!1),M},R=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var M=E.indexOf(",");return M<0?null:E.substring(0,M).trim().endsWith("base64")?E.substring(M+1):null},q=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return q()&&E instanceof ArrayBuffer};var U=e.__addimage__.isArrayBufferView=function(E){return q()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(E){for(var M=E.length,X=new Uint8Array(M),G=0;G<M;G++)X[G]=E.charCodeAt(G);return X},F=e.__addimage__.arrayBufferToBinaryString=function(E){for(var M="",X=U(E)?E:new Uint8Array(E),G=0;G<X.length;G+=8192)M+=String.fromCharCode.apply(null,X.subarray(G,G+8192));return M};e.addImage=function(){var E,M,X,G,de,ae,ce,H,ie;if(typeof arguments[1]=="number"?(M=t,X=arguments[1],G=arguments[2],de=arguments[3],ae=arguments[4],ce=arguments[5],H=arguments[6],ie=arguments[7]):(M=arguments[1],X=arguments[2],G=arguments[3],de=arguments[4],ae=arguments[5],ce=arguments[6],H=arguments[7],ie=arguments[8]),kt(E=arguments[0])==="object"&&!p(E)&&"imageData"in E){var Y=E;E=Y.imageData,M=Y.format||M||t,X=Y.x||X||0,G=Y.y||G||0,de=Y.w||Y.width||de,ae=Y.h||Y.height||ae,ce=Y.alias||ce,H=Y.compression||H,ie=Y.rotation||Y.angle||ie}var me=this.internal.getFilters();if(H===void 0&&me.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(X)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var C=$.call(this,E,M,ce,H);return b.call(this,X,G,de,ae,C,ie),this};var $=function(E,M,X,G){var de,ae,ce;if(typeof E=="string"&&r(E)===t){E=unescape(E);var H=ee(E,!1);(H!==""||(H=e.loadFile(E,!0))!==void 0)&&(E=H)}if(p(E)&&(E=g(E,M)),M=r(E,M),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((ce=X)==null||ce.length===0)&&(X=function(ie){return typeof ie=="string"||U(ie)?w(ie):U(ie.data)?w(ie.data):null}(E)),(de=m.call(this,X))||(q()&&(E instanceof Uint8Array||M==="RGBA"||(ae=E,E=T(E))),de=this["process"+M.toUpperCase()](E,d.call(this),X,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in e.image_compression?ie:x.NONE}(G),ae)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},ee=e.__addimage__.convertBase64ToBinaryString=function(E,M){M=typeof M!="boolean"||M;var X,G="";if(typeof E=="string"){var de;X=(de=R(E))!==null&&de!==void 0?de:E;try{G=Mc(X)}catch(ae){if(M)throw j(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};e.getImageProperties=function(E){var M,X,G="";if(p(E)&&(E=g(E)),typeof E=="string"&&r(E)===t&&((G=ee(E,!1))===""&&(G=e.loadFile(E)||""),E=G),X=r(E),!f(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(!q()||E instanceof Uint8Array||(E=T(E)),!(M=this["process"+X.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=X,M}})(rt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};rt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,f=!1,p=0;p<d.length&&!f;p++)switch((r=d[p]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){r=d[g];var m=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(b.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(x(r.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(x(w))+") >>",b.content=s;var j=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(b.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(N(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var U=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+U+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:d(r),w:l(n+i),h:d(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(n,a).length;o=Math.ceil(d*f)}else a=l,o=d;return this.text(n,r,i,s),i+=.2*d,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-d,a,o,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(rt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=e.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(b){var A=0,x=n,w="",j=0;for(A=0;A<b.length;A+=1)x[b.charCodeAt(A)]!==void 0?(j++,typeof(x=x[b.charCodeAt(A)])=="number"&&(w+=String.fromCharCode(x),x=n,j=0),A===b.length-1&&(x=n,w+=b.charAt(A-(j-1)),A-=j-1,j=0)):(x=n,w+=b.charAt(A-j),A-=j,j=0);return w};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(b,A,x){return o(b)?s(b)===!1?-1:!d(b)||!o(A)&&!o(x)||!o(x)&&a(A)||a(b)&&!o(A)||a(b)&&l(A)||a(b)&&a(A)?0:f(b)&&o(A)&&!a(A)&&o(x)&&d(x)?3:a(b)||!o(x)?1:2:-1},m=function(b){var A=0,x=0,w=0,j="",R="",q="",U=(b=b||"").split("\\s+"),T=[];for(A=0;A<U.length;A+=1){for(T.push(""),x=0;x<U[A].length;x+=1)j=U[A][x],R=U[A][x-1],q=U[A][x+1],o(j)?(w=g(j,R,q),T[A]+=w!==-1?String.fromCharCode(t[j.charCodeAt(0)][w]):j):T[A]+=j;T[A]=p(T[A])}return T.join(" ")},N=e.__arabicParser__.processArabic=e.processArabic=function(){var b,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(A)){var w=0;for(x=[],w=0;w<A.length;w+=1)Array.isArray(A[w])?x.push([m(A[w][0]),A[w][1],A[w][2]]):x.push([m(A[w])]);b=x}else b=m(A);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",N])}(rt.API),rt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(rt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(b){N=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,d){r.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,m=0,N=0,b=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=d.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(j,R){return j.concat(A.splitTextToSize(R,x))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)m<(b=this.getStringUnitWidth(l[w],{font:p})*f)&&(m=b);return m!==0&&(N=l.length),{w:m/=g,h:Math.max((N*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===l.lineNumber?(l.x=(d.x||0)+(d.width||0),l.y=d.y||0):d.y+d.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=d.y+d.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};e.table=function(l,d,f,p,g){if(r.call(this),!f)throw new Error("No data for PDF table.");var m,N,b,A,x=[],w=[],j=[],R={},q={},U=[],T=[],F=(g=g||{}).autoSize||!1,$=g.printHeaders!==!1,ee=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,E=g.margins||Object.assign({width:this.getPageWidth()},t),M=typeof g.padding=="number"?g.padding:3,X=g.headerBackgroundColor||"#c8c8c8",G=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=G,this.setFontSize(ee),p==null)w=x=Object.keys(f[0]),j=x.map(function(){return"left"});else if(Array.isArray(p)&&kt(p[0])==="object")for(x=p.map(function(Y){return Y.name}),w=p.map(function(Y){return Y.prompt||Y.name||""}),j=p.map(function(Y){return Y.align||"left"}),m=0;m<p.length;m+=1)q[p[m].name]=p[m].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(w=x=p,j=x.map(function(){return"left"}));if(F||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<x.length;m+=1){for(R[A=x[m]]=f.map(function(Y){return Y[A]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(w[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=R[A],this.setFont(void 0,"normal"),b=0;b<N.length;b+=1)U.push(this.getTextDimensions(N[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[A]=Math.max.apply(null,U)+M+M,U=[]}if($){var de={};for(m=0;m<x.length;m+=1)de[x[m]]={},de[x[m]].text=w[m],de[x[m]].align=j[m];var ae=a.call(this,de,q);T=x.map(function(Y){return new s(l,d,q[Y],ae,de[Y].text,void 0,de[Y].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var ce=p.reduce(function(Y,me){return Y[me.name]=me.align,Y},{});for(m=0;m<f.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:f[m]},this);var H=a.call(this,f[m],q);for(b=0;b<x.length;b+=1){var ie=f[m][x[b]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:b,data:ie},this),o.call(this,new s(l,d,q[x[b]],H,ie,m+2,ce[x[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=d,this};var a=function(l,d){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var N=l[m];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+f+f},this).reduce(function(m,N){return Math.max(m,N)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=l;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(N)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(rt.API);var i4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},s4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],h1=r4(s4),o4=[100,200,300,400,500,600,700,800,900],uP=r4(o4);function f1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return i4[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof h1[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function m5(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var dP={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},g5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function v5(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function hP(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},dP,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=f1(t[a])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+v5(s)+"' and default family '"+r+"'.");if(o=function(l,d){if(d[l])return d[l];var f=h1[l],p=f<=h1.normal?-1:1,g=m5(d,s4,f,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,o),o=function(l,d){if(d[l])return d[l];for(var f=i4[l],p=0;p<f.length;++p)if(d[f[p]])return d[f[p]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,d){if(d[l])return d[l];if(l===400&&d[500])return d[500];if(l===500&&d[400])return d[400];var f=uP[l],p=m5(d,o4,f,l<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+l);return p}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+v5(s)+"'.");return o}function y5(e){return e.trimLeft()}function fP(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function pP(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Pd,x5,w5,Vp=["times"];(function(e){var t,n,r,i,s,o,a,l,d,f=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new o,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new o,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,d=new f}]);var p=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=C;Object.defineProperty(this,"pdf",{get:function(){return B}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(ve){z=!!ve}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(ve){J=!!ve}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(ve){isNaN(ve)||(Q=ve)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(ve){isNaN(ve)||(oe=ve)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ve){var K;typeof ve=="number"?K=[ve,ve,ve,ve]:((K=new Array(4))[0]=ve[0],K[1]=ve.length>=2?ve[1]:K[0],K[2]=ve.length>=3?ve[2]:K[0],K[3]=ve.length>=4?ve[3]:K[1]),d.margin=K}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ve){he=ve}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(ve){ue=ve}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(ve){Se=ve}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ve){ve instanceof f&&(d=ve)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ve){d.path=ve}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(ve){we=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var K;K=g(ve),this.ctx.fillStyle=K.style,this.ctx.isFillTransparent=K.a===0,this.ctx.fillOpacity=K.a,this.pdf.setFillColor(K.r,K.g,K.b,{a:K.a}),this.pdf.setTextColor(K.r,K.g,K.b,{a:K.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var K=g(ve);this.ctx.strokeStyle=K.style,this.ctx.isStrokeTransparent=K.a===0,this.ctx.strokeOpacity=K.a,K.a===0?this.pdf.setDrawColor(255,255,255):(K.a,this.pdf.setDrawColor(K.r,K.g,K.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Te=null;function ke(ve,K){if(Te===null){var at=function(He){var Le=[];return Object.keys(He).forEach(function(Ee){He[Ee].forEach(function(Re){var Ie=null;switch(Re){case"bold":Ie={family:Ee,weight:"bold"};break;case"italic":Ie={family:Ee,style:"italic"};break;case"bolditalic":Ie={family:Ee,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Ee}}Ie!==null&&(Ie.ref={name:Ee,style:Re},Le.push(Ie))})}),Le}(ve.getFontList());Te=function(He){for(var Le={},Ee=0;Ee<He.length;++Ee){var Re=f1(He[Ee]),Ie=Re.family,Ge=Re.stretch,Pe=Re.style,Oe=Re.weight;Le[Ie]=Le[Ie]||{},Le[Ie][Ge]=Le[Ie][Ge]||{},Le[Ie][Ge][Pe]=Le[Ie][Ge][Pe]||{},Le[Ie][Ge][Pe][Oe]=Re}return Le}(at.concat(K))}return Te}var Xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xe},set:function(ve){Te=null,Xe=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var K;if(this.ctx.font=ve,(K=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var at=K[1];K[2];var He=K[3],Le=K[4];K[5];var Ee=K[6],Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(Re==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var Ie=function(st){var et,ze,En=[],yt=st.trim();if(yt==="")return Vp;if(yt in g5)return[g5[yt]];for(;yt!=="";){switch(ze=null,et=(yt=y5(yt)).charAt(0)){case'"':case"'":ze=fP(yt.substring(1),et);break;default:ze=pP(yt)}if(ze===null||(En.push(ze[0]),(yt=y5(ze[1]))!==""&&yt.charAt(0)!==","))return Vp;yt=yt.replace(/^,/,"")}return En}(Ee);if(this.fontFaces){var Ge=hP(ke(this.pdf,this.fontFaces),Ie.map(function(st){return{family:st,stretch:"normal",weight:He,style:at}}));this.pdf.setFont(Ge.ref.name,Ge.ref.style)}else{var Pe="";(He==="bold"||parseInt(He,10)>=700||at==="bold")&&(Pe="bold"),at==="italic"&&(Pe+="italic"),Pe.length===0&&(Pe="normal");for(var Oe="",Ke={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<Ie.length;pt++){if(this.pdf.internal.getFont(Ie[pt],Pe,{noFallback:!0,disableWarning:!0})!==void 0){Oe=Ie[pt];break}if(Pe==="bolditalic"&&this.pdf.internal.getFont(Ie[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Oe=Ie[pt],Pe="bold";else if(this.pdf.internal.getFont(Ie[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Oe=Ie[pt],Pe="normal";break}}if(Oe===""){for(var At=0;At<Ie.length;At++)if(Ke[Ie[At]]){Oe=Ke[Ie[At]];break}}Oe=Oe===""?"Times":Oe,this.pdf.setFont(Oe,Pe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};p.prototype.setLineDash=function(C){this.lineDash=C},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){R.call(this,"fill",!1)},p.prototype.stroke=function(){R.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(C,B){if(isNaN(C)||isNaN(B))throw Mt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new o(C,B));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(C,B)},p.prototype.closePath=function(){var C=new o(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&kt(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){C=new o(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(C.x,C.y)},p.prototype.lineTo=function(C,B){if(isNaN(C)||isNaN(B))throw Mt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new o(C,B));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},p.prototype.quadraticCurveTo=function(C,B,z,J){if(isNaN(z)||isNaN(J)||isNaN(C)||isNaN(B))throw Mt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new o(z,J)),oe=this.ctx.transform.applyToPoint(new o(C,B));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},p.prototype.bezierCurveTo=function(C,B,z,J,Q,oe){if(isNaN(Q)||isNaN(oe)||isNaN(C)||isNaN(B)||isNaN(z)||isNaN(J))throw Mt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(Q,oe)),ue=this.ctx.transform.applyToPoint(new o(C,B)),Se=this.ctx.transform.applyToPoint(new o(z,J));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:Se.x,y2:Se.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},p.prototype.arc=function(C,B,z,J,Q,oe){if(isNaN(C)||isNaN(B)||isNaN(z)||isNaN(J)||isNaN(Q))throw Mt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(C,B));C=he.x,B=he.y;var ue=this.ctx.transform.applyToPoint(new o(0,z)),Se=this.ctx.transform.applyToPoint(new o(0,0));z=Math.sqrt(Math.pow(ue.x-Se.x,2)+Math.pow(ue.y-Se.y,2))}Math.abs(Q-J)>=2*Math.PI&&(J=0,Q=2*Math.PI),this.path.push({type:"arc",x:C,y:B,radius:z,startAngle:J,endAngle:Q,counterclockwise:oe})},p.prototype.arcTo=function(C,B,z,J,Q){throw new Error("arcTo not implemented.")},p.prototype.rect=function(C,B,z,J){if(isNaN(C)||isNaN(B)||isNaN(z)||isNaN(J))throw Mt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,B),this.lineTo(C+z,B),this.lineTo(C+z,B+J),this.lineTo(C,B+J),this.lineTo(C,B),this.lineTo(C+z,B),this.lineTo(C,B)},p.prototype.fillRect=function(C,B,z,J){if(isNaN(C)||isNaN(B)||isNaN(z)||isNaN(J))throw Mt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,B,z,J),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},p.prototype.strokeRect=function(C,B,z,J){if(isNaN(C)||isNaN(B)||isNaN(z)||isNaN(J))throw Mt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(C,B,z,J),this.stroke())},p.prototype.clearRect=function(C,B,z,J){if(isNaN(C)||isNaN(B)||isNaN(z)||isNaN(J))throw Mt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,B,z,J))},p.prototype.save=function(C){C=typeof C!="boolean"||C;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},p.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(B),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(C){var B,z,J,Q;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))B=0,z=0,J=0,Q=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(oe!==null)B=parseInt(oe[1]),z=parseInt(oe[2]),J=parseInt(oe[3]),Q=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)B=parseInt(oe[1]),z=parseInt(oe[2]),J=parseInt(oe[3]),Q=parseFloat(oe[4]);else{if(Q=1,typeof C=="string"&&C.charAt(0)!=="#"){var he=new X3(C);C=he.ok?he.toHex():"#000000"}C.length===4?(B=C.substring(1,2),B+=B,z=C.substring(2,3),z+=z,J=C.substring(3,4),J+=J):(B=C.substring(1,3),z=C.substring(3,5),J=C.substring(5,7)),B=parseInt(B,16),z=parseInt(z,16),J=parseInt(J,16)}}return{r:B,g:z,b:J,a:Q,style:C}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(C,B,z,J){if(isNaN(B)||isNaN(z)||typeof C!="string")throw Mt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!m.call(this)){var Q=H(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;M.call(this,{text:C,x:B,y:z,scale:oe,angle:Q,align:this.textAlign,maxWidth:J})}},p.prototype.strokeText=function(C,B,z,J){if(isNaN(B)||isNaN(z)||typeof C!="string")throw Mt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){J=isNaN(J)?void 0:J;var Q=H(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;M.call(this,{text:C,x:B,y:z,scale:oe,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:J})}},p.prototype.measureText=function(C){if(typeof C!="string")throw Mt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,z=this.pdf.internal.scaleFactor,J=B.internal.getFontSize(),Q=B.getStringUnitWidth(C)*J/B.internal.scaleFactor,oe=function(he){var ue=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this};return new oe({width:Q*=Math.round(96*z/72*1e4)/1e4})},p.prototype.scale=function(C,B){if(isNaN(C)||isNaN(B))throw Mt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(C,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},p.prototype.rotate=function(C){if(isNaN(C))throw Mt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},p.prototype.translate=function(C,B){if(isNaN(C)||isNaN(B))throw Mt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,C,B);this.ctx.transform=this.ctx.transform.multiply(z)},p.prototype.transform=function(C,B,z,J,Q,oe){if(isNaN(C)||isNaN(B)||isNaN(z)||isNaN(J)||isNaN(Q)||isNaN(oe))throw Mt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(C,B,z,J,Q,oe);this.ctx.transform=this.ctx.transform.multiply(he)},p.prototype.setTransform=function(C,B,z,J,Q,oe){C=isNaN(C)?1:C,B=isNaN(B)?0:B,z=isNaN(z)?0:z,J=isNaN(J)?1:J,Q=isNaN(Q)?0:Q,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(C,B,z,J,Q,oe)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(C,B,z,J,Q,oe,he,ue,Se){var we=this.pdf.getImageProperties(C),Te=1,ke=1,Xe=1,ve=1;J!==void 0&&ue!==void 0&&(Xe=ue/J,ve=Se/Q,Te=we.width/J*ue/J,ke=we.height/Q*Se/Q),oe===void 0&&(oe=B,he=z,B=0,z=0),J!==void 0&&ue===void 0&&(ue=J,Se=Q),J===void 0&&ue===void 0&&(ue=we.width,Se=we.height);for(var K,at=this.ctx.transform.decompose(),He=H(at.rotate.shx),Le=new l,Ee=(Le=(Le=(Le=Le.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new a(oe-B*Xe,he-z*ve,J*Te,Q*ke)),Re=A.call(this,Ee),Ie=[],Ge=0;Ge<Re.length;Ge+=1)Ie.indexOf(Re[Ge])===-1&&Ie.push(Re[Ge]);if(j(Ie),this.autoPaging)for(var Pe=Ie[0],Oe=Ie[Ie.length-1],Ke=Pe;Ke<Oe+1;Ke++){this.pdf.setPage(Ke);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=Ke===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Ke===1?0:st+(Ke-2)*et;if(this.ctx.clip_path.length!==0){var En=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(K,this.posX+this.margin[3],-ze+At+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=En}var yt=JSON.parse(JSON.stringify(Ee));yt=w([yt],this.posX+this.margin[3],-ze+At+this.ctx.prevPageLastElemOffset)[0];var Rr=(Ke>Pe||Ke<Oe)&&b.call(this);Rr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,et,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,He),Rr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,He)};var A=function(C,B,z){var J=[];B=B||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":J.push(Math.floor((C.y+Q)/z)+1);break;case"arc":J.push(Math.floor((C.y+Q-C.radius)/z)+1),J.push(Math.floor((C.y+Q+C.radius)/z)+1);break;case"qct":var oe=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);J.push(Math.floor((oe.y+Q)/z)+1),J.push(Math.floor((oe.y+oe.h+Q)/z)+1);break;case"bct":var he=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);J.push(Math.floor((he.y+Q)/z)+1),J.push(Math.floor((he.y+he.h+Q)/z)+1);break;case"rect":J.push(Math.floor((C.y+Q)/z)+1),J.push(Math.floor((C.y+C.h+Q)/z)+1)}for(var ue=0;ue<J.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<J[ue];)x.call(this);return J},x=function(){var C=this.fillStyle,B=this.strokeStyle,z=this.font,J=this.lineCap,Q=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=B,this.font=z,this.lineCap=J,this.lineWidth=Q,this.lineJoin=oe},w=function(C,B,z){for(var J=0;J<C.length;J++)switch(C[J].type){case"bct":C[J].x2+=B,C[J].y2+=z;case"qct":C[J].x1+=B,C[J].y1+=z;case"mt":case"lt":case"arc":default:C[J].x+=B,C[J].y+=z}return C},j=function(C){return C.sort(function(B,z){return B-z})},R=function(C,B){for(var z,J,Q=this.fillStyle,oe=this.strokeStyle,he=this.lineCap,ue=this.lineWidth,Se=Math.abs(ue*this.ctx.transform.scaleX),we=this.lineJoin,Te=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),Xe=[],ve=0;ve<ke.length;ve++)if(ke[ve].x!==void 0)for(var K=A.call(this,ke[ve]),at=0;at<K.length;at+=1)Xe.indexOf(K[at])===-1&&Xe.push(K[at]);for(var He=0;He<Xe.length;He++)for(;this.pdf.internal.getNumberOfPages()<Xe[He];)x.call(this);if(j(Xe),this.autoPaging)for(var Le=Xe[0],Ee=Xe[Xe.length-1],Re=Le;Re<Ee+1;Re++){this.pdf.setPage(Re),this.fillStyle=Q,this.strokeStyle=oe,this.lineCap=he,this.lineWidth=Se,this.lineJoin=we;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=Re===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=Re===1?0:Pe+(Re-2)*Oe;if(this.ctx.clip_path.length!==0){var pt=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(z,this.posX+this.margin[3],-Ke+Ge+this.ctx.prevPageLastElemOffset),q.call(this,C,!0),this.path=pt}if(J=JSON.parse(JSON.stringify(Te)),this.path=w(J,this.posX+this.margin[3],-Ke+Ge+this.ctx.prevPageLastElemOffset),B===!1||Re===0){var At=(Re>Le||Re<Ee)&&b.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,Oe,null).clip().discardPath()),q.call(this,C,B),At&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=Se,q.call(this,C,B),this.lineWidth=ue;this.path=Te},q=function(C,B){if((C!=="stroke"||B||!N.call(this))&&(C==="stroke"||B||!m.call(this))){for(var z,J,Q=[],oe=this.path,he=0;he<oe.length;he++){var ue=oe[he];switch(ue.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ue,deltas:[],abs:[]});break;case"lt":var Se=Q.length;if(oe[he-1]&&!isNaN(oe[he-1].x)&&(z=[ue.x-oe[he-1].x,ue.y-oe[he-1].y],Se>0)){for(;Se>=0;Se--)if(Q[Se-1].close!==!0&&Q[Se-1].begin!==!0){Q[Se-1].deltas.push(z),Q[Se-1].abs.push(ue);break}}break;case"bct":z=[ue.x1-oe[he-1].x,ue.y1-oe[he-1].y,ue.x2-oe[he-1].x,ue.y2-oe[he-1].y,ue.x-oe[he-1].x,ue.y-oe[he-1].y],Q[Q.length-1].deltas.push(z);break;case"qct":var we=oe[he-1].x+2/3*(ue.x1-oe[he-1].x),Te=oe[he-1].y+2/3*(ue.y1-oe[he-1].y),ke=ue.x+2/3*(ue.x1-ue.x),Xe=ue.y+2/3*(ue.y1-ue.y),ve=ue.x,K=ue.y;z=[we-oe[he-1].x,Te-oe[he-1].y,ke-oe[he-1].x,Xe-oe[he-1].y,ve-oe[he-1].x,K-oe[he-1].y],Q[Q.length-1].deltas.push(z);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ue)}}J=B?null:C==="stroke"?"stroke":"fill";for(var at=!1,He=0;He<Q.length;He++)if(Q[He].arc)for(var Le=Q[He].abs,Ee=0;Ee<Le.length;Ee++){var Re=Le[Ee];Re.type==="arc"?F.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,B,!at):X.call(this,Re.x,Re.y),at=!0}else if(Q[He].close===!0)this.pdf.internal.out("h"),at=!1;else if(Q[He].begin!==!0){var Ie=Q[He].start.x,Ge=Q[He].start.y;G.call(this,Q[He].deltas,Ie,Ge),at=!0}J&&$.call(this,J),B&&ee.call(this)}},U=function(C){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-z;case"top":return C+B-z;case"hanging":return C+B-2*z;case"middle":return C+B/2-z;case"ideographic":return C;case"alphabetic":default:return C}},T=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(B,z){this.colorStops.push([B,z])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(C,B,z,J,Q,oe,he,ue,Se){for(var we=ae.call(this,z,J,Q,oe),Te=0;Te<we.length;Te++){var ke=we[Te];Te===0&&(Se?E.call(this,ke.x1+C,ke.y1+B):X.call(this,ke.x1+C,ke.y1+B)),de.call(this,C,B,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ue?ee.call(this):$.call(this,he)},$=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(C,B){this.pdf.internal.out(n(C)+" "+r(B)+" m")},M=function(C){var B;switch(C.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var z=this.pdf.getTextDimensions(C.text),J=U.call(this,C.y),Q=T.call(this,J)-z.h,oe=this.ctx.transform.applyToPoint(new o(C.x,J)),he=this.ctx.transform.decompose(),ue=new l;ue=(ue=(ue=ue.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Se,we,Te,ke=this.ctx.transform.applyToRectangle(new a(C.x,J,z.w,z.h)),Xe=ue.applyToRectangle(new a(C.x,Q,z.w,z.h)),ve=A.call(this,Xe),K=[],at=0;at<ve.length;at+=1)K.indexOf(ve[at])===-1&&K.push(ve[at]);if(j(K),this.autoPaging)for(var He=K[0],Le=K[K.length-1],Ee=He;Ee<Le+1;Ee++){this.pdf.setPage(Ee);var Re=Ee===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],Pe=Ge-this.margin[0],Oe=this.pdf.internal.pageSize.width-this.margin[1],Ke=Oe-this.margin[3],pt=Ee===1?0:Ie+(Ee-2)*Pe;if(this.ctx.clip_path.length!==0){var At=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Se,this.posX+this.margin[3],-1*pt+Re),q.call(this,"fill",!0),this.path=At}var st=w([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-pt+Re+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*C.scale),Te=this.lineWidth,this.lineWidth=Te*C.scale);var et=this.autoPaging!=="text";if(et||st.y+st.h<=Ge){if(et||st.y>=Re&&st.x<=Oe){var ze=et?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||Oe-st.x)[0],En=w([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-pt+Re+this.ctx.prevPageLastElemOffset)[0],yt=et&&(Ee>He||Ee<Le)&&b.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,Pe,null).clip().discardPath()),this.pdf.text(ze,En.x,En.y,{angle:C.angle,align:B,renderingMode:C.renderingMode}),yt&&this.pdf.restoreGraphicsState()}}else st.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-st.y);C.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=Te)}else C.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*C.scale),Te=this.lineWidth,this.lineWidth=Te*C.scale),this.pdf.text(C.text,oe.x+this.posX,oe.y+this.posY,{angle:C.angle,align:B,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=Te)},X=function(C,B,z,J){z=z||0,J=J||0,this.pdf.internal.out(n(C+z)+" "+r(B+J)+" l")},G=function(C,B,z){return this.pdf.lines(C,B,z,null,null)},de=function(C,B,z,J,Q,oe,he,ue){this.pdf.internal.out([t(i(z+C)),t(s(J+B)),t(i(Q+C)),t(s(oe+B)),t(i(he+C)),t(s(ue+B)),"c"].join(" "))},ae=function(C,B,z,J){for(var Q=2*Math.PI,oe=Math.PI/2;B>z;)B-=Q;var he=Math.abs(z-B);he<Q&&J&&(he=Q-he);for(var ue=[],Se=J?-1:1,we=B;he>1e-5;){var Te=we+Se*Math.min(he,oe);ue.push(ce.call(this,C,we,Te)),he-=Math.abs(Te-we),we=Te}return ue},ce=function(C,B,z){var J=(z-B)/2,Q=C*Math.cos(J),oe=C*Math.sin(J),he=Q,ue=-oe,Se=he*he+ue*ue,we=Se+he*Q+ue*oe,Te=4/3*(Math.sqrt(2*Se*we)-we)/(he*oe-ue*Q),ke=he-Te*ue,Xe=ue+Te*he,ve=ke,K=-Xe,at=J+B,He=Math.cos(at),Le=Math.sin(at);return{x1:C*Math.cos(B),y1:C*Math.sin(B),x2:ke*He-Xe*Le,y2:ke*Le+Xe*He,x3:ve*He-K*Le,y3:ve*Le+K*He,x4:C*Math.cos(z),y4:C*Math.sin(z)}},H=function(C){return 180*C/Math.PI},ie=function(C,B,z,J,Q,oe){var he=C+.5*(z-C),ue=B+.5*(J-B),Se=Q+.5*(z-Q),we=oe+.5*(J-oe),Te=Math.min(C,Q,he,Se),ke=Math.max(C,Q,he,Se),Xe=Math.min(B,oe,ue,we),ve=Math.max(B,oe,ue,we);return new a(Te,Xe,ke-Te,ve-Xe)},Y=function(C,B,z,J,Q,oe,he,ue){var Se,we,Te,ke,Xe,ve,K,at,He,Le,Ee,Re,Ie,Ge,Pe=z-C,Oe=J-B,Ke=Q-z,pt=oe-J,At=he-Q,st=ue-oe;for(we=0;we<41;we++)He=(K=(Te=C+(Se=we/40)*Pe)+Se*((Xe=z+Se*Ke)-Te))+Se*(Xe+Se*(Q+Se*At-Xe)-K),Le=(at=(ke=B+Se*Oe)+Se*((ve=J+Se*pt)-ke))+Se*(ve+Se*(oe+Se*st-ve)-at),we==0?(Ee=He,Re=Le,Ie=He,Ge=Le):(Ee=Math.min(Ee,He),Re=Math.min(Re,Le),Ie=Math.max(Ie,He),Ge=Math.max(Ge,Le));return new a(Math.round(Ee),Math.round(Re),Math.round(Ie-Ee),Math.round(Ge-Re))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,B,z=(C=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:B}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(rt.API),function(e){var t=function(s){var o,a,l,d,f,p,g,m,N,b;for(a=[],l=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>l;l+=4)(f=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(p=(f=((f=((f=((f=(f-(b=f%85))/85)-(N=f%85))/85)-(m=f%85))/85)-(g=f%85))/85)%85,a.push(p+33,g+33,m+33,N+33,b+33)):a.push(122);return function(A,x){for(var w=x;w>0;w--)A.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,d,f,p=String,g="length",m=255,N="charCodeAt",b="slice",A="replace";for(s[b](-2),s=s[b](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),l=[],d=0,f=(s+=o="uuuuu"[b](s[g]%5||5))[g];f>d;d+=5)a=52200625*(s[N](d)-33)+614125*(s[N](d+1)-33)+7225*(s[N](d+2)-33)+85*(s[N](d+3)-33)+(s[N](d+4)-33),l.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(x,w){for(var j=w;j>0;j--)x.pop()}(l,o[g]),p.fromCharCode.apply(p,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=a1(o)).reduce(function(l,d){return l+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,o){var a=0,l=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:d.reverse().join(" ")}}}(rt.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,d,f){var p=new XMLHttpRequest,g=0,m=function(N){var b=N.length,A=[],x=String.fromCharCode;for(g=0;g<b;g+=1)A.push(x(255&N.charCodeAt(g)));return A.join("")};if(p.open("GET",l,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?f(m(this.responseText)):f(void 0)}),p.send(null),d&&p.status===200)return m(p.responseText)}(i,s,o)}catch{}return a}(t,n,r)},e.loadImageFile=e.loadFile}(rt.API),function(e){function t(){return(ot.html2canvas?Promise.resolve(ot.html2canvas):rh(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(ot.DOMPurify?Promise.resolve(ot.DOMPurify):rh(()=>import("./purify.es-31816194.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=kt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var d in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[d]=a.style[d];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),l);return d=(d=d.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(d,f){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(l(g,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var m=d[g],N=m.src.find(function(b){return b.format==="truetype"});N&&l.addFont(N.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),a(this.prop.container,p)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,d){return Math.floor(l*d/72*96)}return this.then(function(){(o=o||rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,d){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,d){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(d,f){return l.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,d),p}).then(d,f).then(function(p){return l.updateProgress(1),p})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=l.call(d,o,a);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,rt.getPageSize=function(o,a,l){if(kt(o)==="object"){var d=o;o=d.orientation,a=d.unit||a,l=d.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+a}var m,N=0,b=0;if(g.hasOwnProperty(p))N=g[p][1]/f,b=g[p][0]/f;else try{N=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",b>N&&(m=b,b=N,N=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",N>b&&(m=b,b=N,N=m)}return{width:b,height:N,unit:a,k:f,orientation:o}},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(f1):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(rt.API),rt.API.addJS=function(e){return w5=e,this.internal.events.subscribe("postPutResources",function(){Pd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Pd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),x5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+w5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Pd!==void 0&&x5!==void 0&&this.internal.out("/Names <</JavaScript "+Pd+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(s=0;s<d;s++){var p=n.internal.newObject();f.push(p);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(rt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,a){var l,d=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),N=p.length,b={width:0,height:0,numcomponents:1},A=4;A<N;A+=2){if(A+=m,t.indexOf(p.charCodeAt(A+1))!==-1){g=256*p.charCodeAt(A+5)+p.charCodeAt(A+6),b={width:256*p.charCodeAt(A+7)+p.charCodeAt(A+8),height:g,numcomponents:p.charCodeAt(A+9)};break}m=256*p.charCodeAt(A+2)+p.charCodeAt(A+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:d,index:r,alias:i}}return f}}(rt.API);var Ea,kd,b5,S5,N5,mP=function(){var e,t,n;function r(s){var o,a,l,d,f,p,g,m,N,b,A,x,w,j;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),N=(function(){var R,q;for(q=[],R=0;R<4;++R)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,p.delay=1e3*f/d,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,o-=4),s=(p!=null?p.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(w=0;0<=b?w<b:w>b;0<=b?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(A=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,A.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,A.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(p,g,m,N){var b,A,x,w,j,R,q,U,T,F,$,ee,E,M,X,G,de,ae,ce,H,ie,Y=Math.ceil((d.width-p)/m),me=Math.ceil((d.height-g)/N),C=d.width==Y&&d.height==me;for(M=o*Y,ee=C?a:new Uint8Array(M*me),R=s.length,E=0,A=0;E<me&&l<R;){switch(s[l++]){case 0:for(w=de=0;de<M;w=de+=1)ee[A++]=s[l++];break;case 1:for(w=ae=0;ae<M;w=ae+=1)b=s[l++],j=w<o?0:ee[A-o],ee[A++]=(b+j)%256;break;case 2:for(w=ce=0;ce<M;w=ce+=1)b=s[l++],x=(w-w%o)/o,X=E&&ee[(E-1)*M+x*o+w%o],ee[A++]=(X+b)%256;break;case 3:for(w=H=0;H<M;w=H+=1)b=s[l++],x=(w-w%o)/o,j=w<o?0:ee[A-o],X=E&&ee[(E-1)*M+x*o+w%o],ee[A++]=(b+Math.floor((j+X)/2))%256;break;case 4:for(w=ie=0;ie<M;w=ie+=1)b=s[l++],x=(w-w%o)/o,j=w<o?0:ee[A-o],E===0?X=G=0:(X=ee[(E-1)*M+x*o+w%o],G=x&&ee[(E-1)*M+(x-1)*o+w%o]),q=j+X-G,U=Math.abs(q-j),F=Math.abs(q-X),$=Math.abs(q-G),T=U<=F&&U<=$?j:F<=$?X:G,ee[A++]=(b+T)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!C){var B=((g+E*N)*d.width+p)*o,z=E*M;for(w=0;w<Y;w+=1){for(var J=0;J<o;J+=1)a[B++]=ee[z++];B+=(m-1)*o}}E++}}return s=GL(s),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,d,f,p,g,m;for(a=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+a.length),l=0,s=0,o=p=0,g=a.length;p<g;o=p+=3)d[l++]=a[o],d[l++]=a[o+1],d[l++]=a[o+2],d[l++]=(m=f[s++])!=null?m:255;return d},r.prototype.copyToImageData=function(s,o){var a,l,d,f,p,g,m,N,b,A,x;if(l=this.colors,b=null,a=this.hasAlphaChannel,this.palette.length&&(b=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,a=!0),N=(d=s.data||s).length,p=b||o,f=g=0,l===1)for(;f<N;)m=b?4*o[f/4]:g,A=p[m++],d[f++]=A,d[f++]=A,d[f++]=A,d[f++]=a?p[m++]:255,g=m;else for(;f<N;)m=b?4*o[f/4]:g,d[f++]=p[m++],d[f++]=p[m++],d[f++]=p[m++],d[f++]=a?p[m++]:255,g=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ot)==="[object Window]"){try{t=ot.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,d,f,p,g,m;if(this.animation){for(m=[],a=f=0,p=(g=this.animation.frames).length;f<p;a=++f)o=g[a],l=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,d),o.imageData=l,m.push(o.image=e(l));return m}},r.prototype.renderFrame=function(s,o){var a,l,d;return a=(l=this.animation.frames)[o],d=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,d,f,p,g=this;return a=0,p=this.animation,d=p.numFrames,l=p.frames,f=p.numPlays,(o=function(){var m,N;if(m=a++%d,N=l[m],g.renderFrame(s,m),d>1&&a/d<f)return g.animation._timeout=setTimeout(o,N.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function gP(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var d=!0,f=[],p=0,g=null,m=0,N=null;for(this.width=n,this.height=r;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,N=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];p=e[t++]|e[t++]<<8,g=e[t++],!(1&b)&&(g=null),m=b>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var A=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,R=e[t++],q=R>>6&1,U=1<<(7&R)+1,T=a,F=l,$=!1;R>>7&&($=!0,T=t,F=U,t+=3*U);var ee=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}f.push({x:A,y:x,width:w,height:j,has_local_palette:$,palette_offset:T,palette_size:F,data_offset:ee,data_length:t-ee,transparent_index:g,interlaced:!!q,delay:p,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return N},this.frameInfo=function(M){if(M<0||M>=f.length)throw new Error("Frame index out of range.");return f[M]},this.decodeAndBlitFrameBGRA=function(M,X){var G=this.frameInfo(M),de=G.width*G.height,ae=new Uint8Array(de);j5(e,G.data_offset,ae,de);var ce=G.palette_offset,H=G.transparent_index;H===null&&(H=256);var ie=G.width,Y=n-ie,me=ie,C=4*(G.y*n+G.x),B=4*((G.y+G.height)*n+G.x),z=C,J=4*Y;G.interlaced===!0&&(J+=4*n*7);for(var Q=8,oe=0,he=ae.length;oe<he;++oe){var ue=ae[oe];if(me===0&&(me=ie,(z+=J)>=B&&(J=4*Y+4*n*(Q-1),z=C+(ie+Y)*(Q<<1),Q>>=1)),ue===H)z+=4;else{var Se=e[ce+3*ue],we=e[ce+3*ue+1],Te=e[ce+3*ue+2];X[z++]=Te,X[z++]=we,X[z++]=Se,X[z++]=255}--me}},this.decodeAndBlitFrameRGBA=function(M,X){var G=this.frameInfo(M),de=G.width*G.height,ae=new Uint8Array(de);j5(e,G.data_offset,ae,de);var ce=G.palette_offset,H=G.transparent_index;H===null&&(H=256);var ie=G.width,Y=n-ie,me=ie,C=4*(G.y*n+G.x),B=4*((G.y+G.height)*n+G.x),z=C,J=4*Y;G.interlaced===!0&&(J+=4*n*7);for(var Q=8,oe=0,he=ae.length;oe<he;++oe){var ue=ae[oe];if(me===0&&(me=ie,(z+=J)>=B&&(J=4*Y+4*n*(Q-1),z=C+(ie+Y)*(Q<<1),Q>>=1)),ue===H)z+=4;else{var Se=e[ce+3*ue],we=e[ce+3*ue+1],Te=e[ce+3*ue+2];X[z++]=Se,X[z++]=we,X[z++]=Te,X[z++]=255}--me}}}function j5(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,d=(1<<l)-1,f=0,p=0,g=0,m=e[t++],N=new Int32Array(4096),b=null;;){for(;f<16&&m!==0;)p|=e[t++]<<f,f+=8,m===1?m=e[t++]:--m;if(f<l)break;var A=p&d;if(p>>=l,f-=l,A!==s){if(A===o)break;for(var x=A<a?A:b,w=0,j=x;j>s;)j=N[j]>>8,++w;var R=j;if(g+w+(x!==A?1:0)>r)return void Mt.log("Warning, gif stream longer than expected.");n[g++]=R;var q=g+=w;for(x!==A&&(n[g++]=R),j=x;w--;)j=N[j],n[--q]=255&j,j>>=8;b!==null&&a<4096&&(N[a++]=b<<8|R,a>=d+1&&l<12&&(++l,d=d<<1|1)),b=A}else a=o+1,d=(1<<(l=i+1))-1,b=null}return g!==r&&Mt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $p(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),d=new Array(64),f=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),N=new Array(64),b=[],A=0,x=7,w=new Array(64),j=new Array(64),R=new Array(64),q=new Array(256),U=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(C,B){for(var z=0,J=0,Q=new Array,oe=1;oe<=16;oe++){for(var he=1;he<=C[oe];he++)Q[B[J]]=[],Q[B[J]][0]=z,Q[B[J]][1]=oe,J++,z++;z*=2}return Q}function ce(C){for(var B=C[0],z=C[1]-1;z>=0;)B&1<<z&&(A|=1<<x),z--,--x<0&&(A==255?(H(255),H(0)):H(A),x=7,A=0)}function H(C){b.push(C)}function ie(C){H(C>>8&255),H(255&C)}function Y(C,B,z,J,Q){for(var oe,he=Q[0],ue=Q[240],Se=function(Le,Ee){var Re,Ie,Ge,Pe,Oe,Ke,pt,At,st,et,ze=0;for(st=0;st<8;++st){Re=Le[ze],Ie=Le[ze+1],Ge=Le[ze+2],Pe=Le[ze+3],Oe=Le[ze+4],Ke=Le[ze+5],pt=Le[ze+6];var En=Re+(At=Le[ze+7]),yt=Re-At,Rr=Ie+pt,Ct=Ie-pt,Ot=Ge+Ke,gr=Ge-Ke,St=Pe+Oe,ts=Pe-Oe,Yt=En+St,vr=En-St,yi=Rr+Ot,Vt=Rr-Ot;Le[ze]=Yt+yi,Le[ze+4]=Yt-yi;var lt=.707106781*(Vt+vr);Le[ze+2]=vr+lt,Le[ze+6]=vr-lt;var Nt=.382683433*((Yt=ts+gr)-(Vt=Ct+yt)),Mi=.5411961*Yt+Nt,Ln=1.306562965*Vt+Nt,Qr=.707106781*(yi=gr+Ct),Zr=yt+Qr,tt=yt-Qr;Le[ze+5]=tt+Mi,Le[ze+3]=tt-Mi,Le[ze+1]=Zr+Ln,Le[ze+7]=Zr-Ln,ze+=8}for(ze=0,st=0;st<8;++st){Re=Le[ze],Ie=Le[ze+8],Ge=Le[ze+16],Pe=Le[ze+24],Oe=Le[ze+32],Ke=Le[ze+40],pt=Le[ze+48];var ir=Re+(At=Le[ze+56]),$t=Re-At,$n=Ie+pt,dn=Ie-pt,Bt=Ge+Ke,sr=Ge-Ke,ns=Pe+Oe,Oi=Pe-Oe,Dr=ir+ns,Mr=ir-ns,yr=$n+Bt,Or=$n-Bt;Le[ze]=Dr+yr,Le[ze+32]=Dr-yr;var xr=.707106781*(Or+Mr);Le[ze+16]=Mr+xr,Le[ze+48]=Mr-xr;var wr=.382683433*((Dr=Oi+sr)-(Or=dn+$t)),rs=.5411961*Dr+wr,is=1.306562965*Or+wr,Ts=.707106781*(yr=sr+dn),ei=$t+Ts,Fs=$t-Ts;Le[ze+40]=Fs+rs,Le[ze+24]=Fs-rs,Le[ze+8]=ei+is,Le[ze+56]=ei-is,ze++}for(st=0;st<64;++st)et=Le[st]*Ee[st],m[st]=et>0?et+.5|0:et-.5|0;return m}(C,B),we=0;we<64;++we)N[T[we]]=Se[we];var Te=N[0]-z;z=N[0],Te==0?ce(J[0]):(ce(J[g[oe=32767+Te]]),ce(p[oe]));for(var ke=63;ke>0&&N[ke]==0;)ke--;if(ke==0)return ce(he),z;for(var Xe,ve=1;ve<=ke;){for(var K=ve;N[ve]==0&&ve<=ke;)++ve;var at=ve-K;if(at>=16){Xe=at>>4;for(var He=1;He<=Xe;++He)ce(ue);at&=15}oe=32767+N[ve],ce(Q[(at<<4)+g[oe]]),ce(p[oe]),ve++}return ke!=63&&ce(he),z}function me(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(B){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var Q=o((z[J]*B+50)/100);Q=Math.min(Math.max(Q,1),255),a[T[J]]=Q}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var ue=o((oe[he]*B+50)/100);ue=Math.min(Math.max(ue,1),255),l[T[he]]=ue}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,Te=0;Te<8;Te++)for(var ke=0;ke<8;ke++)d[we]=1/(a[T[we]]*Se[Te]*Se[ke]*8),f[we]=1/(l[T[we]]*Se[Te]*Se[ke]*8),we++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,B){B&&me(B),b=new Array,A=0,x=7,ie(65496),ie(65504),ie(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),ie(1),ie(1),H(0),H(0),function(){ie(65499),ie(132),H(0);for(var Ie=0;Ie<64;Ie++)H(a[Ie]);H(1);for(var Ge=0;Ge<64;Ge++)H(l[Ge])}(),function(Ie,Ge){ie(65472),ie(17),H(8),ie(Ge),ie(Ie),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(C.width,C.height),function(){ie(65476),ie(418),H(0);for(var Ie=0;Ie<16;Ie++)H(F[Ie+1]);for(var Ge=0;Ge<=11;Ge++)H($[Ge]);H(16);for(var Pe=0;Pe<16;Pe++)H(ee[Pe+1]);for(var Oe=0;Oe<=161;Oe++)H(E[Oe]);H(1);for(var Ke=0;Ke<16;Ke++)H(M[Ke+1]);for(var pt=0;pt<=11;pt++)H(X[pt]);H(17);for(var At=0;At<16;At++)H(G[At+1]);for(var st=0;st<=161;st++)H(de[st])}(),ie(65498),ie(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var z=0,J=0,Q=0;A=0,x=7,this.encode.displayName="_encode_";for(var oe,he,ue,Se,we,Te,ke,Xe,ve,K=C.data,at=C.width,He=C.height,Le=4*at,Ee=0;Ee<He;){for(oe=0;oe<Le;){for(we=Le*Ee+oe,ke=-1,Xe=0,ve=0;ve<64;ve++)Te=we+(Xe=ve>>3)*Le+(ke=4*(7&ve)),Ee+Xe>=He&&(Te-=Le*(Ee+1+Xe-He)),oe+ke>=Le&&(Te-=oe+ke-Le+4),he=K[Te++],ue=K[Te++],Se=K[Te++],w[ve]=(U[he]+U[ue+256>>0]+U[Se+512>>0]>>16)-128,j[ve]=(U[he+768>>0]+U[ue+1024>>0]+U[Se+1280>>0]>>16)-128,R[ve]=(U[he+1280>>0]+U[ue+1536>>0]+U[Se+1792>>0]>>16)-128;z=Y(w,d,z,t,r),J=Y(j,f,J,n,i),Q=Y(R,f,Q,n,i),oe+=32}Ee+=8}if(x>=0){var Re=[];Re[1]=x+1,Re[0]=(1<<x+1)-1,ce(Re)}return ie(65497),new Uint8Array(b)},e=e||50,function(){for(var C=String.fromCharCode,B=0;B<256;B++)q[B]=C(B)}(),t=ae(F,$),n=ae(M,X),r=ae(ee,E),i=ae(G,de),function(){for(var C=1,B=2,z=1;z<=15;z++){for(var J=C;J<B;J++)g[32767+J]=z,p[32767+J]=[],p[32767+J][1]=z,p[32767+J][0]=J;for(var Q=-(B-1);Q<=-C;Q++)g[32767+Q]=z,p[32767+Q]=[],p[32767+Q][1]=z,p[32767+Q][0]=B-1+Q;C<<=1,B<<=1}}(),function(){for(var C=0;C<256;C++)U[C]=19595*C,U[C+256>>0]=38470*C,U[C+512>>0]=7471*C+32768,U[C+768>>0]=-11059*C,U[C+1024>>0]=-21709*C,U[C+1280>>0]=32768*C+8421375,U[C+1536>>0]=-27439*C,U[C+1792>>0]=-5329*C}(),me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ai(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function A5(e){function t(F){if(!F)throw Error("assert :P")}function n(F,$,ee){for(var E=0;4>E;E++)if(F[$+E]!=ee.charCodeAt(E))return!0;return!1}function r(F,$,ee,E,M){for(var X=0;X<M;X++)F[$+X]=ee[E+X]}function i(F,$,ee,E){for(var M=0;M<E;M++)F[$+M]=ee}function s(F){return new Int32Array(F)}function o(F,$){for(var ee=[],E=0;E<F;E++)ee.push(new $);return ee}function a(F,$){var ee=[];return function E(M,X,G){for(var de=G[X],ae=0;ae<de&&(M.push(G.length>X+1?[]:new $),!(G.length<X+1));ae++)E(M[ae],X+1,G)}(ee,0,F),ee}var l=function(){var F=this;function $(u,h){for(var y=1<<h-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function ee(u,h,y,S,L){t(!(S%y));do u[h+(S-=y)]=L;while(0<S)}function E(u,h,y,S,L){if(t(2328>=L),512>=L)var k=s(512);else if((k=s(L))==null)return 0;return function(_,I,O,V,te,fe){var pe,se,Ne=I,ge=1<<O,ne=s(16),re=s(16);for(t(te!=0),t(V!=null),t(_!=null),t(0<O),se=0;se<te;++se){if(15<V[se])return 0;++ne[V[se]]}if(ne[0]==te)return 0;for(re[1]=0,pe=1;15>pe;++pe){if(ne[pe]>1<<pe)return 0;re[pe+1]=re[pe]+ne[pe]}for(se=0;se<te;++se)pe=V[se],0<V[se]&&(fe[re[pe]++]=se);if(re[15]==1)return(V=new M).g=0,V.value=fe[0],ee(_,Ne,1,ge,V),ge;var xe,je=-1,be=ge-1,Ve=0,Me=1,nt=1,Be=1<<O;for(se=0,pe=1,te=2;pe<=O;++pe,te<<=1){if(Me+=nt<<=1,0>(nt-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe])(V=new M).g=pe,V.value=fe[se++],ee(_,Ne+Ve,te,Be,V),Ve=$(Ve,pe)}for(pe=O+1,te=2;15>=pe;++pe,te<<=1){if(Me+=nt<<=1,0>(nt-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe]){if(V=new M,(Ve&be)!=je){for(Ne+=Be,xe=1<<(je=pe)-O;15>je&&!(0>=(xe-=ne[je]));)++je,xe<<=1;ge+=Be=1<<(xe=je-O),_[I+(je=Ve&be)].g=xe+O,_[I+je].value=Ne-I-je}V.g=pe-O,V.value=fe[se++],ee(_,Ne+(Ve>>O),te,Be,V),Ve=$(Ve,pe)}}return Me!=2*re[15]-1?0:ge}(u,h,y,S,L,k)}function M(){this.value=this.g=0}function X(){this.value=this.g=0}function G(){this.G=o(5,M),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(On,X)}function de(u,h,y,S){t(u!=null),t(h!=null),t(2147483648>S),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=y,u.Jd=h,u.Yc=y+S,u.Zc=4<=S?y+S-4+1:y,oe(u)}function ae(u,h){for(var y=0;0<h--;)y|=ue(u,128)<<h;return y}function ce(u,h){var y=ae(u,h);return he(u)?-y:y}function H(u,h,y,S){var L,k=0;for(t(u!=null),t(h!=null),t(4294967288>S),u.Sb=S,u.Ra=0,u.u=0,u.h=0,4<S&&(S=4),L=0;L<S;++L)k+=h[y+L]<<8*L;u.Ra=k,u.bb=S,u.oa=h,u.pa=y}function ie(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<xa-8>>>0,++u.bb,u.u-=8;z(u)&&(u.h=1,u.u=0)}function Y(u,h){if(t(0<=h),!u.h&&h<=ya){var y=B(u)&va[h];return u.u+=h,ie(u),y}return u.h=1,u.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(u){return u.Ra>>>(u.u&xa-1)>>>0}function z(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>xa}function J(u,h){u.u=h,u.h=z(u)}function Q(u){u.u>=$l&&(t(u.u>=$l),ie(u))}function oe(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function he(u){return ae(u,1)}function ue(u,h){var y=u.Ca;0>u.b&&oe(u);var S=u.b,L=y*h>>>8,k=(u.I>>>S>L)+0;for(k?(y-=L,u.I-=L+1<<S>>>0):y=L+1,S=y,L=0;256<=S;)L+=8,S>>=8;return S=7^L+Nr[S],u.b-=S,u.Ca=(y<<S)-1,k}function Se(u,h,y){u[h+0]=y>>24&255,u[h+1]=y>>16&255,u[h+2]=y>>8&255,u[h+3]=y>>0&255}function we(u,h){return u[h+0]<<0|u[h+1]<<8}function Te(u,h){return we(u,h)|u[h+2]<<16}function ke(u,h){return we(u,h)|we(u,h+2)<<16}function Xe(u,h){var y=1<<h;return t(u!=null),t(0<h),u.X=s(y),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function ve(u,h){t(u!=null),t(h!=null),t(u.Xa==h.Xa),r(h.X,0,u.X,0,1<<h.Xa)}function K(){this.X=[],this.Xa=this.Mb=0}function at(u,h,y,S){t(y!=null),t(S!=null);var L=y[0],k=S[0];return L==0&&(L=(u*k+h/2)/h),k==0&&(k=(h*L+u/2)/u),0>=L||0>=k?0:(y[0]=L,S[0]=k,1)}function He(u,h){return u+(1<<h)-1>>>h}function Le(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function Ee(u,h){F[h]=function(y,S,L,k,_,I,O){var V;for(V=0;V<_;++V){var te=F[u](I[O+V-1],L,k+V);I[O+V]=Le(y[S+V],te)}}}function Re(){this.ud=this.hd=this.jd=0}function Ie(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function Ge(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Pe(u,h){return Ge(u+(u-h+.5>>1))}function Oe(u,h,y){return Math.abs(h-y)-Math.abs(u-y)}function Ke(u,h,y,S,L,k,_){for(S=k[_-1],y=0;y<L;++y)k[_+y]=S=Le(u[h+y],S)}function pt(u,h,y,S,L){var k;for(k=0;k<y;++k){var _=u[h+k],I=_>>8&255,O=16711935&(O=(O=16711935&_)+((I<<16)+I));S[L+k]=(4278255360&_)+O>>>0}}function At(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function st(u,h,y,S,L,k){var _;for(_=0;_<S;++_){var I=h[y+_],O=I>>>8,V=I,te=255&(te=(te=I>>>16)+((u.jd<<24>>24)*(O<<24>>24)>>>5));V=255&(V=(V=V+((u.hd<<24>>24)*(O<<24>>24)>>>5))+((u.ud<<24>>24)*(te<<24>>24)>>>5)),L[k+_]=(4278255360&I)+(te<<16)+V}}function et(u,h,y,S,L){F[h]=function(k,_,I,O,V,te,fe,pe,se){for(O=fe;O<pe;++O)for(fe=0;fe<se;++fe)V[te++]=L(I[S(k[_++])])},F[u]=function(k,_,I,O,V,te,fe){var pe=8>>k.b,se=k.Ea,Ne=k.K[0],ge=k.w;if(8>pe)for(k=(1<<k.b)-1,ge=(1<<pe)-1;_<I;++_){var ne,re=0;for(ne=0;ne<se;++ne)ne&k||(re=S(O[V++])),te[fe++]=L(Ne[re&ge]),re>>=pe}else F["VP8LMapColor"+y](O,V,Ne,ge,te,fe,_,I,se)}}function ze(u,h,y,S,L){for(y=h+y;h<y;){var k=u[h++];S[L++]=k>>16&255,S[L++]=k>>8&255,S[L++]=k>>0&255}}function En(u,h,y,S,L){for(y=h+y;h<y;){var k=u[h++];S[L++]=k>>16&255,S[L++]=k>>8&255,S[L++]=k>>0&255,S[L++]=k>>24&255}}function yt(u,h,y,S,L){for(y=h+y;h<y;){var k=(_=u[h++])>>16&240|_>>12&15,_=_>>0&240|_>>28&15;S[L++]=k,S[L++]=_}}function Rr(u,h,y,S,L){for(y=h+y;h<y;){var k=(_=u[h++])>>16&248|_>>13&7,_=_>>5&224|_>>3&31;S[L++]=k,S[L++]=_}}function Ct(u,h,y,S,L){for(y=h+y;h<y;){var k=u[h++];S[L++]=k>>0&255,S[L++]=k>>8&255,S[L++]=k>>16&255}}function Ot(u,h,y,S,L,k){if(k==0)for(y=h+y;h<y;)Se(S,((k=u[h++])[0]>>24|k[1]>>8&65280|k[2]<<8&16711680|k[3]<<24)>>>0),L+=32;else r(S,L,u,h,y)}function gr(u,h){F[h][0]=F[u+"0"],F[h][1]=F[u+"1"],F[h][2]=F[u+"2"],F[h][3]=F[u+"3"],F[h][4]=F[u+"4"],F[h][5]=F[u+"5"],F[h][6]=F[u+"6"],F[h][7]=F[u+"7"],F[h][8]=F[u+"8"],F[h][9]=F[u+"9"],F[h][10]=F[u+"10"],F[h][11]=F[u+"11"],F[h][12]=F[u+"12"],F[h][13]=F[u+"13"],F[h][14]=F[u+"0"],F[h][15]=F[u+"0"]}function St(u){return u==If||u==Rf||u==$u||u==Df}function ts(){this.eb=[],this.size=this.A=this.fb=0}function Yt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ts,this.f.kb=new Yt,this.sd=null}function yi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Nt(u,h){var y=u.T,S=h.ba.f.RGBA,L=S.eb,k=S.fb+u.ka*S.A,_=ai[h.ba.S],I=u.y,O=u.O,V=u.f,te=u.N,fe=u.ea,pe=u.W,se=h.cc,Ne=h.dc,ge=h.Mc,ne=h.Nc,re=u.ka,xe=u.ka+u.T,je=u.U,be=je+1>>1;for(re==0?_(I,O,null,null,V,te,fe,pe,V,te,fe,pe,L,k,null,null,je):(_(h.ec,h.fc,I,O,se,Ne,ge,ne,V,te,fe,pe,L,k-S.A,L,k,je),++y);re+2<xe;re+=2)se=V,Ne=te,ge=fe,ne=pe,te+=u.Rc,pe+=u.Rc,k+=2*S.A,_(I,(O+=2*u.fa)-u.fa,I,O,se,Ne,ge,ne,V,te,fe,pe,L,k-S.A,L,k,je);return O+=u.fa,u.j+xe<u.o?(r(h.ec,h.fc,I,O,je),r(h.cc,h.dc,V,te,be),r(h.Mc,h.Nc,fe,pe,be),y--):1&xe||_(I,O,null,null,V,te,fe,pe,V,te,fe,pe,L,k+S.A,null,null,je),y}function Mi(u,h,y){var S=u.F,L=[u.J];if(S!=null){var k=u.U,_=h.ba.S,I=_==Vu||_==$u;h=h.ba.f.RGBA;var O=[0],V=u.ka;O[0]=u.T,u.Kb&&(V==0?--O[0]:(--V,L[0]-=u.width),u.j+u.ka+u.T==u.o&&(O[0]=u.o-u.j-V));var te=h.eb;V=h.fb+V*h.A,u=qt(S,L[0],u.width,k,O,te,V+(I?0:3),h.A),t(y==O),u&&St(_)&&si(te,V,I,k,O,h.A)}return 0}function Ln(u){var h=u.ma,y=h.ba.S,S=11>y,L=y==qu||y==Uu||y==Vu||y==Ff||y==12||St(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!Ul(h.Oa,u,L?11:12))return 0;if(L&&St(y)&&Ce(),u.da)alert("todo:use_scaling");else{if(S){if(h.Ib=lt,u.Kb){if(y=u.U+1>>1,h.memory=s(u.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=Nt,Ce()}}else alert("todo:EmitYUV");L&&(h.Jb=Mi,S&&le())}if(S&&!fg){for(u=0;256>u;++u)W4[u]=89858*(u-128)+Wu>>Hu,Y4[u]=-22014*(u-128)+Wu,K4[u]=-45773*(u-128),G4[u]=113618*(u-128)+Wu>>Hu;for(u=Xl;u<Bf;++u)h=76283*(u-16)+Wu>>Hu,J4[u-Xl]=Br(h,255),X4[u-Xl]=Br(h+8>>4,15);fg=1}return 1}function Qr(u){var h=u.ma,y=u.U,S=u.T;return t(!(1&u.ka)),0>=y||0>=S?0:(y=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,y),h.Dc+=y,1)}function Zr(u){u.ma.memory=null}function tt(u,h,y,S){return Y(u,8)!=47?0:(h[0]=Y(u,14)+1,y[0]=Y(u,14)+1,S[0]=Y(u,1),Y(u,3)!=0?0:!u.h)}function ir(u,h){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+Y(h,y)+1}function $t(u,h){return 120<h?h-120:1<=(y=((y=T4[h-1])>>4)*u+(8-(15&y)))?y:1;var y}function $n(u,h,y){var S=B(y),L=u[h+=255&S].g-8;return 0<L&&(J(y,y.u+8),S=B(y),h+=u[h].value,h+=S&(1<<L)-1),J(y,y.u+u[h].g),u[h].value}function dn(u,h,y){return y.g+=u.g,y.value+=u.value<<h>>>0,t(8>=y.g),u.g}function Bt(u,h,y){var S=u.xc;return t((h=S==0?0:u.vc[u.md*(y>>S)+(h>>S)])<u.Wb),u.Ya[h]}function sr(u,h,y,S){var L=u.ab,k=u.c*h,_=u.C;h=_+h;var I=y,O=S;for(S=u.Ta,y=u.Ua;0<L--;){var V=u.gc[L],te=_,fe=h,pe=I,se=O,Ne=(O=S,I=y,V.Ea);switch(t(te<fe),t(fe<=V.nc),V.hc){case 2:Iu(pe,se,(fe-te)*Ne,O,I);break;case 0:var ge=te,ne=fe,re=O,xe=I,je=(Be=V).Ea;ge==0&&(Ef(pe,se,null,null,1,re,xe),Ke(pe,se+1,0,0,je-1,re,xe+1),se+=je,xe+=je,++ge);for(var be=1<<Be.b,Ve=be-1,Me=He(je,Be.b),nt=Be.K,Be=Be.w+(ge>>Be.b)*Me;ge<ne;){var jt=nt,Lt=Be,wt=1;for(Hl(pe,se,re,xe-je,1,re,xe);wt<je;){var vt=(wt&~Ve)+be;vt>je&&(vt=je),(0,Ms[jt[Lt++]>>8&15])(pe,se+ +wt,re,xe+wt-je,vt-wt,re,xe+wt),wt=vt}se+=je,xe+=je,++ge&Ve||(Be+=Me)}fe!=V.nc&&r(O,I-Ne,O,I+(fe-te-1)*Ne,Ne);break;case 1:for(Ne=pe,ne=se,je=(pe=V.Ea)-(xe=pe&~(re=(se=1<<V.b)-1)),ge=He(pe,V.b),be=V.K,V=V.w+(te>>V.b)*ge;te<fe;){for(Ve=be,Me=V,nt=new Re,Be=ne+xe,jt=ne+pe;ne<Be;)At(Ve[Me++],nt),ko(nt,Ne,ne,se,O,I),ne+=se,I+=se;ne<jt&&(At(Ve[Me++],nt),ko(nt,Ne,ne,je,O,I),ne+=je,I+=je),++te&re||(V+=ge)}break;case 3:if(pe==O&&se==I&&0<V.b){for(ne=O,pe=Ne=I+(fe-te)*Ne-(xe=(fe-te)*He(V.Ea,V.b)),se=O,re=I,ge=[],xe=(je=xe)-1;0<=xe;--xe)ge[xe]=se[re+xe];for(xe=je-1;0<=xe;--xe)ne[pe+xe]=ge[xe];ni(V,te,fe,O,Ne,O,I)}else ni(V,te,fe,pe,se,O,I)}I=S,O=y}O!=y&&r(S,y,I,O,k)}function ns(u,h){var y=u.V,S=u.Ba+u.c*u.C,L=h-u.C;if(t(h<=u.l.o),t(16>=L),0<L){var k=u.l,_=u.Ta,I=u.Ua,O=k.width;if(sr(u,L,y,S),L=I=[I],t((y=u.C)<(S=h)),t(k.v<k.va),S>k.o&&(S=k.o),y<k.j){var V=k.j-y;y=k.j,L[0]+=V*O}if(y>=S?y=0:(L[0]+=4*k.v,k.ka=y-k.j,k.U=k.va-k.v,k.T=S-y,y=1),y){if(I=I[0],11>(y=u.ca).S){var te=y.f.RGBA,fe=(S=y.S,L=k.U,k=k.T,V=te.eb,te.A),pe=k;for(te=te.fb+u.Ma*te.A;0<pe--;){var se=_,Ne=I,ge=L,ne=V,re=te;switch(S){case zu:jr(se,Ne,ge,ne,re);break;case qu:lr(se,Ne,ge,ne,re);break;case If:lr(se,Ne,ge,ne,re),si(ne,re,0,ge,1,0);break;case rg:cs(se,Ne,ge,ne,re);break;case Uu:Ot(se,Ne,ge,ne,re,1);break;case Rf:Ot(se,Ne,ge,ne,re,1),si(ne,re,0,ge,1,0);break;case Vu:Ot(se,Ne,ge,ne,re,0);break;case $u:Ot(se,Ne,ge,ne,re,0),si(ne,re,1,ge,1,0);break;case Ff:Os(se,Ne,ge,ne,re);break;case Df:Os(se,Ne,ge,ne,re),zt(ne,re,ge,1,0);break;case ig:ls(se,Ne,ge,ne,re);break;default:t(0)}I+=O,te+=fe}u.Ma+=k}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=y.height)}}u.C=h,t(u.C<=u.i)}function Oi(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var y=u.Ya[h].G,S=u.Ya[h].H;if(0<y[1][S[1]+0].g||0<y[2][S[2]+0].g||0<y[3][S[3]+0].g)return 0}return 1}function Dr(u,h,y,S,L,k){if(u.Z!=0){var _=u.qd,I=u.rd;for(t(Us[u.Z]!=null);h<y;++h)Us[u.Z](_,I,S,L,S,L,k),_=S,I=L,L+=k;u.qd=_,u.rd=I}}function Mr(u,h){var y=u.l.ma,S=y.Z==0||y.Z==1?u.l.j:u.C;if(S=u.C<S?S:u.C,t(h<=u.l.o),h>S){var L=u.l.width,k=y.ca,_=y.tb+L*S,I=u.V,O=u.Ba+u.c*S,V=u.gc;t(u.ab==1),t(V[0].hc==3),Ru(V[0],S,h,I,O,k,_),Dr(y,S,h,k,_,L)}u.C=u.Ma=h}function yr(u,h,y,S,L,k,_){var I=u.$/S,O=u.$%S,V=u.m,te=u.s,fe=y+u.$,pe=fe;L=y+S*L;var se=y+S*k,Ne=280+te.ua,ge=u.Pb?I:16777216,ne=0<te.ua?te.Wa:null,re=te.wc,xe=fe<se?Bt(te,O,I):null;t(u.C<k),t(se<=L);var je=!1;e:for(;;){for(;je||fe<se;){var be=0;if(I>=ge){var Ve=fe-y;t((ge=u).Pb),ge.wd=ge.m,ge.xd=Ve,0<ge.s.ua&&ve(ge.s.Wa,ge.s.vb),ge=I+I4}if(O&re||(xe=Bt(te,O,I)),t(xe!=null),xe.Qb&&(h[fe]=xe.qb,je=!0),!je)if(Q(V),xe.jc){be=V,Ve=h;var Me=fe,nt=xe.pd[B(be)&On-1];t(xe.jc),256>nt.g?(J(be,be.u+nt.g),Ve[Me]=nt.value,be=0):(J(be,be.u+nt.g-256),t(256<=nt.value),be=nt.value),be==0&&(je=!0)}else be=$n(xe.G[0],xe.H[0],V);if(V.h)break;if(je||256>be){if(!je)if(xe.nd)h[fe]=(xe.qb|be<<8)>>>0;else{if(Q(V),je=$n(xe.G[1],xe.H[1],V),Q(V),Ve=$n(xe.G[2],xe.H[2],V),Me=$n(xe.G[3],xe.H[3],V),V.h)break;h[fe]=(Me<<24|je<<16|be<<8|Ve)>>>0}if(je=!1,++fe,++O>=S&&(O=0,++I,_!=null&&I<=k&&!(I%16)&&_(u,I),ne!=null))for(;pe<fe;)be=h[pe++],ne.X[(506832829*be&4294967295)>>>ne.Mb]=be}else if(280>be){if(be=ir(be-256,V),Ve=$n(xe.G[4],xe.H[4],V),Q(V),Ve=$t(S,Ve=ir(Ve,V)),V.h)break;if(fe-y<Ve||L-fe<be)break e;for(Me=0;Me<be;++Me)h[fe+Me]=h[fe+Me-Ve];for(fe+=be,O+=be;O>=S;)O-=S,++I,_!=null&&I<=k&&!(I%16)&&_(u,I);if(t(fe<=L),O&re&&(xe=Bt(te,O,I)),ne!=null)for(;pe<fe;)be=h[pe++],ne.X[(506832829*be&4294967295)>>>ne.Mb]=be}else{if(!(be<Ne))break e;for(je=be-280,t(ne!=null);pe<fe;)be=h[pe++],ne.X[(506832829*be&4294967295)>>>ne.Mb]=be;be=fe,t(!(je>>>(Ve=ne).Xa)),h[be]=Ve.X[je],je=!0}je||t(V.h==z(V))}if(u.Pb&&V.h&&fe<L)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ve(u.s.vb,u.s.Wa);else{if(V.h)break e;_!=null&&_(u,I>k?k:I),u.a=0,u.$=fe-y}return 1}return u.a=3,0}function Or(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,t(u!=null)}function xr(){var u=new _f;return u==null?null:(u.a=0,u.xb=ag,gr("Predictor","VP8LPredictors"),gr("Predictor","VP8LPredictors_C"),gr("PredictorAdd","VP8LPredictorsAdd"),gr("PredictorAdd","VP8LPredictorsAdd_C"),Iu=pt,ko=st,jr=ze,lr=En,Os=yt,ls=Rr,cs=Ct,F.VP8LMapColor32b=wa,F.VP8LMapColor8b=Du,u)}function wr(u,h,y,S,L){var k=1,_=[u],I=[h],O=S.m,V=S.s,te=null,fe=0;e:for(;;){if(y)for(;k&&Y(O,1);){var pe=_,se=I,Ne=S,ge=1,ne=Ne.m,re=Ne.gc[Ne.ab],xe=Y(ne,2);if(Ne.Oc&1<<xe)k=0;else{switch(Ne.Oc|=1<<xe,re.hc=xe,re.Ea=pe[0],re.nc=se[0],re.K=[null],++Ne.ab,t(4>=Ne.ab),xe){case 0:case 1:re.b=Y(ne,3)+2,ge=wr(He(re.Ea,re.b),He(re.nc,re.b),0,Ne,re.K),re.K=re.K[0];break;case 3:var je,be=Y(ne,8)+1,Ve=16<be?0:4<be?1:2<be?2:3;if(pe[0]=He(re.Ea,Ve),re.b=Ve,je=ge=wr(be,1,0,Ne,re.K)){var Me,nt=be,Be=re,jt=1<<(8>>Be.b),Lt=s(jt);if(Lt==null)je=0;else{var wt=Be.K[0],vt=Be.w;for(Lt[0]=Be.K[0][0],Me=1;Me<1*nt;++Me)Lt[Me]=Le(wt[vt+Me],Lt[Me-1]);for(;Me<4*jt;++Me)Lt[Me]=0;Be.K[0]=null,Be.K[0]=Lt,je=1}}ge=je;break;case 2:break;default:t(0)}k=ge}}if(_=_[0],I=I[0],k&&Y(O,1)&&!(k=1<=(fe=Y(O,4))&&11>=fe)){S.a=3;break e}var Rt;if(Rt=k)t:{var Tt,ft,Nn,Ar=S,jn=_,Cr=I,Pt=fe,qr=y,Ur=Ar.m,Fn=Ar.s,Bn=[null],ur=1,li=0,Ui=F4[Pt];n:for(;;){if(qr&&Y(Ur,1)){var In=Y(Ur,3)+2,fs=He(jn,In),Io=He(Cr,In),Aa=fs*Io;if(!wr(fs,Io,0,Ar,Bn))break n;for(Bn=Bn[0],Fn.xc=In,Tt=0;Tt<Aa;++Tt){var Vs=Bn[Tt]>>8&65535;Bn[Tt]=Vs,Vs>=ur&&(ur=Vs+1)}}if(Ur.h)break n;for(ft=0;5>ft;++ft){var on=sg[ft];!ft&&0<Pt&&(on+=1<<Pt),li<on&&(li=on)}var zf=o(ur*Ui,M),gg=ur,vg=o(gg,G);if(vg==null)var Ku=null;else t(65536>=gg),Ku=vg;var Ql=s(li);if(Ku==null||Ql==null||zf==null){Ar.a=1;break n}var Yu=zf;for(Tt=Nn=0;Tt<ur;++Tt){var Si=Ku[Tt],Ca=Si.G,La=Si.H,yg=0,Ju=1,xg=0;for(ft=0;5>ft;++ft){on=sg[ft],Ca[ft]=Yu,La[ft]=Nn,!ft&&0<Pt&&(on+=1<<Pt);i:{var Xu,qf=on,Qu=Ar,Zl=Ql,eb=Yu,tb=Nn,Uf=0,$s=Qu.m,nb=Y($s,1);if(i(Zl,0,0,qf),nb){var rb=Y($s,1)+1,ib=Y($s,1),wg=Y($s,ib==0?1:8);Zl[wg]=1,rb==2&&(Zl[wg=Y($s,8)]=1);var Zu=1}else{var bg=s(19),Sg=Y($s,4)+4;if(19<Sg){Qu.a=3;var ed=0;break i}for(Xu=0;Xu<Sg;++Xu)bg[E4[Xu]]=Y($s,3);var Vf=void 0,ec=void 0,Ng=Qu,sb=bg,td=qf,jg=Zl,$f=0,Hs=Ng.m,Ag=8,Cg=o(128,M);r:for(;E(Cg,0,7,sb,19);){if(Y(Hs,1)){var ob=2+2*Y(Hs,3);if((Vf=2+Y(Hs,ob))>td)break r}else Vf=td;for(ec=0;ec<td&&Vf--;){Q(Hs);var Lg=Cg[0+(127&B(Hs))];J(Hs,Hs.u+Lg.g);var Pa=Lg.value;if(16>Pa)jg[ec++]=Pa,Pa!=0&&(Ag=Pa);else{var ab=Pa==16,Pg=Pa-16,lb=k4[Pg],kg=Y(Hs,P4[Pg])+lb;if(ec+kg>td)break r;for(var cb=ab?Ag:0;0<kg--;)jg[ec++]=cb}}$f=1;break r}$f||(Ng.a=3),Zu=$f}(Zu=Zu&&!$s.h)&&(Uf=E(eb,tb,8,Zl,qf)),Zu&&Uf!=0?ed=Uf:(Qu.a=3,ed=0)}if(ed==0)break n;if(Ju&&_4[ft]==1&&(Ju=Yu[Nn].g==0),yg+=Yu[Nn].g,Nn+=ed,3>=ft){var tc,Hf=Ql[0];for(tc=1;tc<on;++tc)Ql[tc]>Hf&&(Hf=Ql[tc]);xg+=Hf}}if(Si.nd=Ju,Si.Qb=0,Ju&&(Si.qb=(Ca[3][La[3]+0].value<<24|Ca[1][La[1]+0].value<<16|Ca[2][La[2]+0].value)>>>0,yg==0&&256>Ca[0][La[0]+0].value&&(Si.Qb=1,Si.qb+=Ca[0][La[0]+0].value<<8)),Si.jc=!Si.Qb&&6>xg,Si.jc){var nd,ps=Si;for(nd=0;nd<On;++nd){var Ws=nd,Gs=ps.pd[Ws],rd=ps.G[0][ps.H[0]+Ws];256<=rd.value?(Gs.g=rd.g+256,Gs.value=rd.value):(Gs.g=0,Gs.value=0,Ws>>=dn(rd,8,Gs),Ws>>=dn(ps.G[1][ps.H[1]+Ws],16,Gs),Ws>>=dn(ps.G[2][ps.H[2]+Ws],0,Gs),dn(ps.G[3][ps.H[3]+Ws],24,Gs))}}}Fn.vc=Bn,Fn.Wb=ur,Fn.Ya=Ku,Fn.yc=zf,Rt=1;break t}Rt=0}if(!(k=Rt)){S.a=3;break e}if(0<fe){if(V.ua=1<<fe,!Xe(V.Wa,fe)){S.a=1,k=0;break e}}else V.ua=0;var Wf=S,_g=_,ub=I,Gf=Wf.s,Kf=Gf.xc;if(Wf.c=_g,Wf.i=ub,Gf.md=He(_g,Kf),Gf.wc=Kf==0?-1:(1<<Kf)-1,y){S.xb=q4;break e}if((te=s(_*I))==null){S.a=1,k=0;break e}k=(k=yr(S,te,0,_,I,I,null))&&!O.h;break e}return k?(L!=null?L[0]=te:(t(te==null),t(y)),S.$=0,y||Or(V)):Or(V),k}function rs(u,h){var y=u.c*u.i,S=y+h+16*h;return t(u.c<=h),u.V=s(S),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+h,1)}function is(u,h){var y=u.C,S=h-y,L=u.V,k=u.Ba+u.c*y;for(t(h<=u.l.o);0<S;){var _=16<S?16:S,I=u.l.ma,O=u.l.width,V=O*_,te=I.ca,fe=I.tb+O*y,pe=u.Ta,se=u.Ua;sr(u,_,L,k),pn(pe,se,te,fe,V),Dr(I,y,y+_,te,fe,O),S-=_,L+=_*u.c,y+=_}t(y==h),u.C=u.Ma=h}function Ts(){this.ub=this.yd=this.td=this.Rb=0}function ei(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Fs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function oa(){this.Yb=function(){var u=[];return function h(y,S,L){for(var k=L[S],_=0;_<k&&(y.push(L.length>S+1?[]:0),!(L.length<S+1));_++)h(y[_],S+1,L)}(u,0,[3,11]),u}()}function qe(){this.jb=s(3),this.Wc=a([4,8],oa),this.Xc=a([4,17],oa)}function Ae(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ye(){this.ld=this.La=this.dd=this.tc=0}function mt(){this.Na=this.la=0}function Je(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qe(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function De(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ye),this.Y=0,this.ya=Array(new Qe),this.aa=0,this.l=new hn}function Et(){this.y=s(16),this.f=s(8),this.ea=s(8)}function or(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new Ts,this.Kc=new ei,this.ed=new Ae,this.Qa=new Fs,this.Ic=this.$c=this.Aa=0,this.D=new De,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,Je),this.Pa=new qe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Et),this.Hd=0,this.rb=Array(new mt),this.sb=0,this.wa=Array(new Ye),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qe),this.L=this.aa=0,this.gd=a([4,2],Ye),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function hn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ti(){var u=new or;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Jl||(Jl=Xt)),u}function It(u,h,y){return u.a==0&&(u.a=h,u.sc=y,u.cb=0),0}function br(u,h,y){return 3<=y&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function wn(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return It(u,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,S=h.w,L=h.ha;if(4>L)return It(u,7,"Truncated header.");var k=y[S+0]|y[S+1]<<8|y[S+2]<<16,_=u.Od;if(_.Rb=!(1&k),_.td=k>>1&7,_.yd=k>>4&1,_.ub=k>>5,3<_.td)return It(u,3,"Incorrect keyframe parameters.");if(!_.yd)return It(u,4,"Frame not displayable.");S+=3,L-=3;var I=u.Kc;if(_.Rb){if(7>L)return It(u,7,"cannot parse picture header");if(!br(y,S,L))return It(u,3,"Bad code word");I.c=16383&(y[S+4]<<8|y[S+3]),I.Td=y[S+4]>>6,I.i=16383&(y[S+6]<<8|y[S+5]),I.Ud=y[S+6]>>6,S+=7,L-=7,u.za=I.c+15>>4,u.Ub=I.i+15>>4,h.width=I.c,h.height=I.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((k=u.Pa).jb,0,255,k.jb.length),t((k=u.Qa)!=null),k.Cb=0,k.Bb=0,k.Fb=1,i(k.Zb,0,0,k.Zb.length),i(k.Lb,0,0,k.Lb)}if(_.ub>L)return It(u,7,"bad partition length");de(k=u.m,y,S,_.ub),S+=_.ub,L-=_.ub,_.Rb&&(I.Ld=he(k),I.Kd=he(k)),I=u.Qa;var O,V=u.Pa;if(t(k!=null),t(I!=null),I.Cb=he(k),I.Cb){if(I.Bb=he(k),he(k)){for(I.Fb=he(k),O=0;4>O;++O)I.Zb[O]=he(k)?ce(k,7):0;for(O=0;4>O;++O)I.Lb[O]=he(k)?ce(k,6):0}if(I.Bb)for(O=0;3>O;++O)V.jb[O]=he(k)?ae(k,8):255}else I.Bb=0;if(k.Ka)return It(u,3,"cannot parse segment header");if((I=u.ed).zd=he(k),I.Tb=ae(k,6),I.wb=ae(k,3),I.Pc=he(k),I.Pc&&he(k)){for(V=0;4>V;++V)he(k)&&(I.vd[V]=ce(k,6));for(V=0;4>V;++V)he(k)&&(I.od[V]=ce(k,6))}if(u.L=I.Tb==0?0:I.zd?1:2,k.Ka)return It(u,3,"cannot parse filter header");var te=L;if(L=O=S,S=O+te,I=te,u.Xb=(1<<ae(u.m,2))-1,te<3*(V=u.Xb))y=7;else{for(O+=3*V,I-=3*V,te=0;te<V;++te){var fe=y[L+0]|y[L+1]<<8|y[L+2]<<16;fe>I&&(fe=I),de(u.Jc[+te],y,O,fe),O+=fe,I-=fe,L+=3}de(u.Jc[+V],y,O,I),y=O<S?0:5}if(y!=0)return It(u,y,"cannot parse partitions");for(y=ae(O=u.m,7),L=he(O)?ce(O,4):0,S=he(O)?ce(O,4):0,I=he(O)?ce(O,4):0,V=he(O)?ce(O,4):0,O=he(O)?ce(O,4):0,te=u.Qa,fe=0;4>fe;++fe){if(te.Cb){var pe=te.Zb[fe];te.Fb||(pe+=y)}else{if(0<fe){u.pb[fe]=u.pb[0];continue}pe=y}var se=u.pb[fe];se.Sc[0]=Mf[Br(pe+L,127)],se.Sc[1]=Of[Br(pe+0,127)],se.Eb[0]=2*Mf[Br(pe+S,127)],se.Eb[1]=101581*Of[Br(pe+I,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=Mf[Br(pe+V,117)],se.Qc[1]=Of[Br(pe+O,127)],se.lc=pe+O}if(!_.Rb)return It(u,4,"Not a key frame.");for(he(k),_=u.Pa,y=0;4>y;++y){for(L=0;8>L;++L)for(S=0;3>S;++S)for(I=0;11>I;++I)V=ue(k,B4[y][L][S][I])?ae(k,8):M4[y][L][S][I],_.Wc[y][L].Yb[S][I]=V;for(L=0;17>L;++L)_.Xc[y][L]=_.Wc[y][z4[L]]}return u.kc=he(k),u.kc&&(u.Bd=ae(k,8)),u.cb=1}function Xt(u,h,y,S,L,k,_){var I=h[L].Yb[y];for(y=0;16>L;++L){if(!ue(u,I[y+0]))return L;for(;!ue(u,I[y+1]);)if(I=h[++L].Yb[0],y=0,L==16)return 16;var O=h[L+1].Yb;if(ue(u,I[y+2])){var V=u,te=0;if(ue(V,(pe=I)[(fe=y)+3]))if(ue(V,pe[fe+6])){for(I=0,fe=2*(te=ue(V,pe[fe+8]))+(pe=ue(V,pe[fe+9+te])),te=0,pe=R4[fe];pe[I];++I)te+=te+ue(V,pe[I]);te+=3+(8<<fe)}else ue(V,pe[fe+7])?(te=7+2*ue(V,165),te+=ue(V,145)):te=5+ue(V,159);else te=ue(V,pe[fe+4])?3+ue(V,pe[fe+5]):2;I=O[2]}else te=1,I=O[1];O=_+D4[L],0>(V=u).b&&oe(V);var fe,pe=V.b,se=(fe=V.Ca>>1)-(V.I>>pe)>>31;--V.b,V.Ca+=se,V.Ca|=1,V.I-=(fe+1&se)<<pe,k[O]=((te^se)-se)*S[(0<L)+0]}return 16}function ar(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function ss(u,h){if(u==null)return 0;if(h==null)return It(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!wn(u,h))return 0;if(t(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var y=Gu[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-y>>4,u.zb=h.j-y>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+y>>4,u.Hb=h.va+15+y>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var S=u.ed;for(y=0;4>y;++y){var L;if(u.Qa.Cb){var k=u.Qa.Lb[y];u.Qa.Fb||(k+=S.Tb)}else k=S.Tb;for(L=0;1>=L;++L){var _=u.gd[y][L],I=k;if(S.Pc&&(I+=S.vd[0],L&&(I+=S.od[0])),0<(I=0>I?0:63<I?63:I)){var O=I;0<S.wb&&(O=4<S.wb?O>>2:O>>1)>9-S.wb&&(O=9-S.wb),1>O&&(O=1),_.dd=O,_.tc=2*I+O,_.ld=40<=I?2:15<=I?1:0}else _.tc=0;_.La=L}}}y=0}else It(u,6,"Frame setup failed"),y=u.a;if(y=y==0){if(y){u.$c=0,0<u.Aa||(u.Ic=Z4);e:{y=u.Ic,S=4*(O=u.za);var V=32*O,te=O+1,fe=0<u.L?O*(0<u.Aa?2:1):0,pe=(u.Aa==2?2:1)*O;if((_=S+832+(L=3*(16*y+Gu[u.L])/2*V)+(k=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=_)y=0;else{if(_>u.Vb){if(u.Vb=0,u.Ec=s(_),u.Fc=0,u.Ec==null){y=It(u,1,"no memory during frame initialization.");break e}u.Vb=_}_=u.Ec,I=u.Fc,u.Ac=_,u.Bc=I,I+=S,u.Gd=o(V,Et),u.Hd=0,u.rb=o(te+1,mt),u.sb=1,u.wa=fe?o(fe,Ye):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=O),t(!0),u.oc=_,u.pc=I,I+=832,u.ya=o(pe,Qe),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=O),u.R=16*O,u.B=8*O,O=(V=Gu[u.L])*u.R,V=V/2*u.B,u.sa=_,u.ta=I+O,u.qa=u.sa,u.ra=u.ta+16*y*u.R+V,u.Ha=u.qa,u.Ia=u.ra+8*y*u.B+V,u.$c=0,I+=L,u.mb=k?_:null,u.nb=k?I:null,t(I+k<=u.Fc+u.Vb),ar(u),i(u.Ac,u.Bc,0,S),y=1}}if(y){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!Ou){for(y=-255;255>=y;++y)Pn[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)ds[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Yl[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)ja[255+y]=0>y?0:255<y?255:y;Ou=1}ba=gf,us=pf,Wl=bu,cr=mf,ri=Su,fn=wu,Sa=Fl,Mu=Lo,Gl=kf,_o=Il,Eo=Pf,Bs=ha,To=Rl,Na=Eu,Fo=_u,zs=zi,Kl=as,ii=Lf,bi[0]=Bi,bi[1]=vf,bi[2]=bf,bi[3]=Sf,bi[4]=Au,bi[5]=ua,bi[6]=Cu,bi[7]=_l,bi[8]=jf,bi[9]=Nf,qs[0]=Nu,qs[1]=xf,qs[2]=os,qs[3]=la,qs[4]=Hn,qs[5]=wf,qs[6]=ju,hs[0]=Is,hs[1]=yf,hs[2]=Af,hs[3]=El,hs[4]=Co,hs[5]=Cf,hs[6]=Tl,y=1}else y=0}y&&(y=function(se,Ne){for(se.M=0;se.M<se.Va;++se.M){var ge,ne=se.Jc[se.M&se.Xb],re=se.m,xe=se;for(ge=0;ge<xe.za;++ge){var je=re,be=xe,Ve=be.Ac,Me=be.Bc+4*ge,nt=be.zc,Be=be.ya[be.aa+ge];if(be.Qa.Bb?Be.$b=ue(je,be.Pa.jb[0])?2+ue(je,be.Pa.jb[2]):ue(je,be.Pa.jb[1]):Be.$b=0,be.kc&&(Be.Ad=ue(je,be.Bd)),Be.Za=!ue(je,145)+0,Be.Za){var jt=Be.Ob,Lt=0;for(be=0;4>be;++be){var wt,vt=nt[0+be];for(wt=0;4>wt;++wt){vt=O4[Ve[Me+wt]][vt];for(var Rt=og[ue(je,vt[0])];0<Rt;)Rt=og[2*Rt+ue(je,vt[Rt])];vt=-Rt,Ve[Me+wt]=vt}r(jt,Lt,Ve,Me,4),Lt+=4,nt[0+be]=vt}}else vt=ue(je,156)?ue(je,128)?1:3:ue(je,163)?2:0,Be.Ob[0]=vt,i(Ve,Me,vt,4),i(nt,0,vt,4);Be.Dd=ue(je,142)?ue(je,114)?ue(je,183)?1:3:2:0}if(xe.m.Ka)return It(se,7,"Premature end-of-partition0 encountered.");for(;se.ja<se.za;++se.ja){if(xe=ne,je=(re=se).rb[re.sb-1],Ve=re.rb[re.sb+re.ja],ge=re.ya[re.aa+re.ja],Me=re.kc?ge.Ad:0)je.la=Ve.la=0,ge.Za||(je.Na=Ve.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var Tt,ft;if(je=Ve,Ve=xe,Me=re.Pa.Xc,nt=re.ya[re.aa+re.ja],Be=re.pb[nt.$b],be=nt.ad,jt=0,Lt=re.rb[re.sb-1],vt=wt=0,i(be,jt,0,384),nt.Za)var Nn=0,Ar=Me[3];else{Rt=s(16);var jn=je.Na+Lt.Na;if(jn=Jl(Ve,Me[1],jn,Be.Eb,0,Rt,0),je.Na=Lt.Na=(0<jn)+0,1<jn)ba(Rt,0,be,jt);else{var Cr=Rt[0]+3>>3;for(Rt=0;256>Rt;Rt+=16)be[jt+Rt]=Cr}Nn=1,Ar=Me[0]}var Pt=15&je.la,qr=15&Lt.la;for(Rt=0;4>Rt;++Rt){var Ur=1&qr;for(Cr=ft=0;4>Cr;++Cr)Pt=Pt>>1|(Ur=(jn=Jl(Ve,Ar,jn=Ur+(1&Pt),Be.Sc,Nn,be,jt))>Nn)<<7,ft=ft<<2|(3<jn?3:1<jn?2:be[jt+0]!=0),jt+=16;Pt>>=4,qr=qr>>1|Ur<<7,wt=(wt<<8|ft)>>>0}for(Ar=Pt,Nn=qr>>4,Tt=0;4>Tt;Tt+=2){for(ft=0,Pt=je.la>>4+Tt,qr=Lt.la>>4+Tt,Rt=0;2>Rt;++Rt){for(Ur=1&qr,Cr=0;2>Cr;++Cr)jn=Ur+(1&Pt),Pt=Pt>>1|(Ur=0<(jn=Jl(Ve,Me[2],jn,Be.Qc,0,be,jt)))<<3,ft=ft<<2|(3<jn?3:1<jn?2:be[jt+0]!=0),jt+=16;Pt>>=2,qr=qr>>1|Ur<<5}vt|=ft<<4*Tt,Ar|=Pt<<4<<Tt,Nn|=(240&qr)<<Tt}je.la=Ar,Lt.la=Nn,nt.Hc=wt,nt.Gc=vt,nt.ia=43690&vt?0:Be.ia,Me=!(wt|vt)}if(0<re.L&&(re.wa[re.Y+re.ja]=re.gd[ge.$b][ge.Za],re.wa[re.Y+re.ja].La|=!Me),xe.Ka)return It(se,7,"Premature end-of-file encountered.")}if(ar(se),re=Ne,xe=1,ge=(ne=se).D,je=0<ne.L&&ne.M>=ne.zb&&ne.M<=ne.Va,ne.Aa==0)e:{if(ge.M=ne.M,ge.uc=je,ql(ne,ge),xe=1,ge=(ft=ne.D).Nb,je=(vt=Gu[ne.L])*ne.R,Ve=vt/2*ne.B,Rt=16*ge*ne.R,Cr=8*ge*ne.B,Me=ne.sa,nt=ne.ta-je+Rt,Be=ne.qa,be=ne.ra-Ve+Cr,jt=ne.Ha,Lt=ne.Ia-Ve+Cr,qr=(Pt=ft.M)==0,wt=Pt>=ne.Va-1,ne.Aa==2&&ql(ne,ft),ft.uc)for(Ur=(jn=ne).D.M,t(jn.D.uc),ft=jn.yb;ft<jn.Hb;++ft){Nn=ft,Ar=Ur;var Fn=(Bn=(on=jn).D).Nb;Tt=on.R;var Bn=Bn.wa[Bn.Y+Nn],ur=on.sa,li=on.ta+16*Fn*Tt+16*Nn,Ui=Bn.dd,In=Bn.tc;if(In!=0)if(t(3<=In),on.L==1)0<Nn&&zs(ur,li,Tt,In+4),Bn.La&&ii(ur,li,Tt,In),0<Ar&&Fo(ur,li,Tt,In+4),Bn.La&&Kl(ur,li,Tt,In);else{var fs=on.B,Io=on.qa,Aa=on.ra+8*Fn*fs+8*Nn,Vs=on.Ha,on=on.Ia+8*Fn*fs+8*Nn;Fn=Bn.ld,0<Nn&&(Mu(ur,li,Tt,In+4,Ui,Fn),_o(Io,Aa,Vs,on,fs,In+4,Ui,Fn)),Bn.La&&(Bs(ur,li,Tt,In,Ui,Fn),Na(Io,Aa,Vs,on,fs,In,Ui,Fn)),0<Ar&&(Sa(ur,li,Tt,In+4,Ui,Fn),Gl(Io,Aa,Vs,on,fs,In+4,Ui,Fn)),Bn.La&&(Eo(ur,li,Tt,In,Ui,Fn),To(Io,Aa,Vs,on,fs,In,Ui,Fn))}}if(ne.ia&&alert("todo:DitherRow"),re.put!=null){if(ft=16*Pt,Pt=16*(Pt+1),qr?(re.y=ne.sa,re.O=ne.ta+Rt,re.f=ne.qa,re.N=ne.ra+Cr,re.ea=ne.Ha,re.W=ne.Ia+Cr):(ft-=vt,re.y=Me,re.O=nt,re.f=Be,re.N=be,re.ea=jt,re.W=Lt),wt||(Pt-=vt),Pt>re.o&&(Pt=re.o),re.F=null,re.J=null,ne.Fa!=null&&0<ne.Fa.length&&ft<Pt&&(re.J=Bl(ne,re,ft,Pt-ft),re.F=ne.mb,re.F==null&&re.F.length==0)){xe=It(ne,3,"Could not decode alpha data.");break e}ft<re.j&&(vt=re.j-ft,ft=re.j,t(!(1&vt)),re.O+=ne.R*vt,re.N+=ne.B*(vt>>1),re.W+=ne.B*(vt>>1),re.F!=null&&(re.J+=re.width*vt)),ft<Pt&&(re.O+=re.v,re.N+=re.v>>1,re.W+=re.v>>1,re.F!=null&&(re.J+=re.v),re.ka=ft-re.j,re.U=re.va-re.v,re.T=Pt-ft,xe=re.put(re))}ge+1!=ne.Ic||wt||(r(ne.sa,ne.ta-je,Me,nt+16*ne.R,je),r(ne.qa,ne.ra-Ve,Be,be+8*ne.B,Ve),r(ne.Ha,ne.Ia-Ve,jt,Lt+8*ne.B,Ve))}if(!xe)return It(se,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),y&=1}return y?(u.cb=0,y):0}function bn(u,h,y,S,L){L=u[h+y+32*S]+(L>>3),u[h+y+32*S]=-256&L?0>L?0:255:L}function aa(u,h,y,S,L,k){bn(u,h,0,y,S+L),bn(u,h,1,y,S+k),bn(u,h,2,y,S-k),bn(u,h,3,y,S-L)}function Sr(u){return(20091*u>>16)+u}function Pl(u,h,y,S){var L,k=0,_=s(16);for(L=0;4>L;++L){var I=u[h+0]+u[h+8],O=u[h+0]-u[h+8],V=(35468*u[h+4]>>16)-Sr(u[h+12]),te=Sr(u[h+4])+(35468*u[h+12]>>16);_[k+0]=I+te,_[k+1]=O+V,_[k+2]=O-V,_[k+3]=I-te,k+=4,h++}for(L=k=0;4>L;++L)I=(u=_[k+0]+4)+_[k+8],O=u-_[k+8],V=(35468*_[k+4]>>16)-Sr(_[k+12]),bn(y,S,0,0,I+(te=Sr(_[k+4])+(35468*_[k+12]>>16))),bn(y,S,1,0,O+V),bn(y,S,2,0,O-V),bn(y,S,3,0,I-te),k++,S+=32}function wu(u,h,y,S){var L=u[h+0]+4,k=35468*u[h+4]>>16,_=Sr(u[h+4]),I=35468*u[h+1]>>16;aa(y,S,0,L+_,u=Sr(u[h+1]),I),aa(y,S,1,L+k,u,I),aa(y,S,2,L-k,u,I),aa(y,S,3,L-_,u,I)}function pf(u,h,y,S,L){Pl(u,h,y,S),L&&Pl(u,h+16,y,S+4)}function bu(u,h,y,S){us(u,h+0,y,S,1),us(u,h+32,y,S+128,1)}function mf(u,h,y,S){var L;for(u=u[h+0]+4,L=0;4>L;++L)for(h=0;4>h;++h)bn(y,S,h,L,u)}function Su(u,h,y,S){u[h+0]&&cr(u,h+0,y,S),u[h+16]&&cr(u,h+16,y,S+4),u[h+32]&&cr(u,h+32,y,S+128),u[h+48]&&cr(u,h+48,y,S+128+4)}function gf(u,h,y,S){var L,k=s(16);for(L=0;4>L;++L){var _=u[h+0+L]+u[h+12+L],I=u[h+4+L]+u[h+8+L],O=u[h+4+L]-u[h+8+L],V=u[h+0+L]-u[h+12+L];k[0+L]=_+I,k[8+L]=_-I,k[4+L]=V+O,k[12+L]=V-O}for(L=0;4>L;++L)_=(u=k[0+4*L]+3)+k[3+4*L],I=k[1+4*L]+k[2+4*L],O=k[1+4*L]-k[2+4*L],V=u-k[3+4*L],y[S+0]=_+I>>3,y[S+16]=V+O>>3,y[S+32]=_-I>>3,y[S+48]=V-O>>3,S+=64}function kl(u,h,y){var S,L=h-32,k=zr,_=255-u[L-1];for(S=0;S<y;++S){var I,O=k,V=_+u[h-1];for(I=0;I<y;++I)u[h+I]=O[V+u[L+I]];h+=32}}function vf(u,h){kl(u,h,4)}function yf(u,h){kl(u,h,8)}function xf(u,h){kl(u,h,16)}function os(u,h){var y;for(y=0;16>y;++y)r(u,h+32*y,u,h-32,16)}function la(u,h){var y;for(y=16;0<y;--y)i(u,h,u[h-1],16),h+=32}function ca(u,h,y){var S;for(S=0;16>S;++S)i(h,y+32*S,u,16)}function Nu(u,h){var y,S=16;for(y=0;16>y;++y)S+=u[h-1+32*y]+u[h+y-32];ca(S>>5,u,h)}function Hn(u,h){var y,S=8;for(y=0;16>y;++y)S+=u[h-1+32*y];ca(S>>4,u,h)}function wf(u,h){var y,S=8;for(y=0;16>y;++y)S+=u[h+y-32];ca(S>>4,u,h)}function ju(u,h){ca(128,u,h)}function ct(u,h,y){return u+2*h+y+2>>2}function bf(u,h){var y,S=h-32;for(S=new Uint8Array([ct(u[S-1],u[S+0],u[S+1]),ct(u[S+0],u[S+1],u[S+2]),ct(u[S+1],u[S+2],u[S+3]),ct(u[S+2],u[S+3],u[S+4])]),y=0;4>y;++y)r(u,h+32*y,S,0,S.length)}function Sf(u,h){var y=u[h-1],S=u[h-1+32],L=u[h-1+64],k=u[h-1+96];Se(u,h+0,16843009*ct(u[h-1-32],y,S)),Se(u,h+32,16843009*ct(y,S,L)),Se(u,h+64,16843009*ct(S,L,k)),Se(u,h+96,16843009*ct(L,k,k))}function Bi(u,h){var y,S=4;for(y=0;4>y;++y)S+=u[h+y-32]+u[h-1+32*y];for(S>>=3,y=0;4>y;++y)i(u,h+32*y,S,4)}function Au(u,h){var y=u[h-1+0],S=u[h-1+32],L=u[h-1+64],k=u[h-1-32],_=u[h+0-32],I=u[h+1-32],O=u[h+2-32],V=u[h+3-32];u[h+0+96]=ct(S,L,u[h-1+96]),u[h+1+96]=u[h+0+64]=ct(y,S,L),u[h+2+96]=u[h+1+64]=u[h+0+32]=ct(k,y,S),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=ct(_,k,y),u[h+3+64]=u[h+2+32]=u[h+1+0]=ct(I,_,k),u[h+3+32]=u[h+2+0]=ct(O,I,_),u[h+3+0]=ct(V,O,I)}function Cu(u,h){var y=u[h+1-32],S=u[h+2-32],L=u[h+3-32],k=u[h+4-32],_=u[h+5-32],I=u[h+6-32],O=u[h+7-32];u[h+0+0]=ct(u[h+0-32],y,S),u[h+1+0]=u[h+0+32]=ct(y,S,L),u[h+2+0]=u[h+1+32]=u[h+0+64]=ct(S,L,k),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=ct(L,k,_),u[h+3+32]=u[h+2+64]=u[h+1+96]=ct(k,_,I),u[h+3+64]=u[h+2+96]=ct(_,I,O),u[h+3+96]=ct(I,O,O)}function ua(u,h){var y=u[h-1+0],S=u[h-1+32],L=u[h-1+64],k=u[h-1-32],_=u[h+0-32],I=u[h+1-32],O=u[h+2-32],V=u[h+3-32];u[h+0+0]=u[h+1+64]=k+_+1>>1,u[h+1+0]=u[h+2+64]=_+I+1>>1,u[h+2+0]=u[h+3+64]=I+O+1>>1,u[h+3+0]=O+V+1>>1,u[h+0+96]=ct(L,S,y),u[h+0+64]=ct(S,y,k),u[h+0+32]=u[h+1+96]=ct(y,k,_),u[h+1+32]=u[h+2+96]=ct(k,_,I),u[h+2+32]=u[h+3+96]=ct(_,I,O),u[h+3+32]=ct(I,O,V)}function _l(u,h){var y=u[h+0-32],S=u[h+1-32],L=u[h+2-32],k=u[h+3-32],_=u[h+4-32],I=u[h+5-32],O=u[h+6-32],V=u[h+7-32];u[h+0+0]=y+S+1>>1,u[h+1+0]=u[h+0+64]=S+L+1>>1,u[h+2+0]=u[h+1+64]=L+k+1>>1,u[h+3+0]=u[h+2+64]=k+_+1>>1,u[h+0+32]=ct(y,S,L),u[h+1+32]=u[h+0+96]=ct(S,L,k),u[h+2+32]=u[h+1+96]=ct(L,k,_),u[h+3+32]=u[h+2+96]=ct(k,_,I),u[h+3+64]=ct(_,I,O),u[h+3+96]=ct(I,O,V)}function Nf(u,h){var y=u[h-1+0],S=u[h-1+32],L=u[h-1+64],k=u[h-1+96];u[h+0+0]=y+S+1>>1,u[h+2+0]=u[h+0+32]=S+L+1>>1,u[h+2+32]=u[h+0+64]=L+k+1>>1,u[h+1+0]=ct(y,S,L),u[h+3+0]=u[h+1+32]=ct(S,L,k),u[h+3+32]=u[h+1+64]=ct(L,k,k),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=k}function jf(u,h){var y=u[h-1+0],S=u[h-1+32],L=u[h-1+64],k=u[h-1+96],_=u[h-1-32],I=u[h+0-32],O=u[h+1-32],V=u[h+2-32];u[h+0+0]=u[h+2+32]=y+_+1>>1,u[h+0+32]=u[h+2+64]=S+y+1>>1,u[h+0+64]=u[h+2+96]=L+S+1>>1,u[h+0+96]=k+L+1>>1,u[h+3+0]=ct(I,O,V),u[h+2+0]=ct(_,I,O),u[h+1+0]=u[h+3+32]=ct(y,_,I),u[h+1+32]=u[h+3+64]=ct(S,y,_),u[h+1+64]=u[h+3+96]=ct(L,S,y),u[h+1+96]=ct(k,L,S)}function Af(u,h){var y;for(y=0;8>y;++y)r(u,h+32*y,u,h-32,8)}function El(u,h){var y;for(y=0;8>y;++y)i(u,h,u[h-1],8),h+=32}function Ao(u,h,y){var S;for(S=0;8>S;++S)i(h,y+32*S,u,8)}function Is(u,h){var y,S=8;for(y=0;8>y;++y)S+=u[h+y-32]+u[h-1+32*y];Ao(S>>4,u,h)}function Cf(u,h){var y,S=4;for(y=0;8>y;++y)S+=u[h+y-32];Ao(S>>3,u,h)}function Co(u,h){var y,S=4;for(y=0;8>y;++y)S+=u[h-1+32*y];Ao(S>>3,u,h)}function Tl(u,h){Ao(128,u,h)}function da(u,h,y){var S=u[h-y],L=u[h+0],k=3*(L-S)+Tf[1020+u[h-2*y]-u[h+y]],_=Bu[112+(k+4>>3)];u[h-y]=zr[255+S+Bu[112+(k+3>>3)]],u[h+0]=zr[255+L-_]}function Lu(u,h,y,S){var L=u[h+0],k=u[h+y];return oi[255+u[h-2*y]-u[h-y]]>S||oi[255+k-L]>S}function Pu(u,h,y,S){return 4*oi[255+u[h-y]-u[h+0]]+oi[255+u[h-2*y]-u[h+y]]<=S}function ku(u,h,y,S,L){var k=u[h-3*y],_=u[h-2*y],I=u[h-y],O=u[h+0],V=u[h+y],te=u[h+2*y],fe=u[h+3*y];return 4*oi[255+I-O]+oi[255+_-V]>S?0:oi[255+u[h-4*y]-k]<=L&&oi[255+k-_]<=L&&oi[255+_-I]<=L&&oi[255+fe-te]<=L&&oi[255+te-V]<=L&&oi[255+V-O]<=L}function _u(u,h,y,S){var L=2*S+1;for(S=0;16>S;++S)Pu(u,h+S,y,L)&&da(u,h+S,y)}function zi(u,h,y,S){var L=2*S+1;for(S=0;16>S;++S)Pu(u,h+S*y,1,L)&&da(u,h+S*y,1)}function as(u,h,y,S){var L;for(L=3;0<L;--L)_u(u,h+=4*y,y,S)}function Lf(u,h,y,S){var L;for(L=3;0<L;--L)zi(u,h+=4,y,S)}function Rs(u,h,y,S,L,k,_,I){for(k=2*k+1;0<L--;){if(ku(u,h,y,k,_))if(Lu(u,h,y,I))da(u,h,y);else{var O=u,V=h,te=y,fe=O[V-2*te],pe=O[V-te],se=O[V+0],Ne=O[V+te],ge=O[V+2*te],ne=27*(xe=Tf[1020+3*(se-pe)+Tf[1020+fe-Ne]])+63>>7,re=18*xe+63>>7,xe=9*xe+63>>7;O[V-3*te]=zr[255+O[V-3*te]+xe],O[V-2*te]=zr[255+fe+re],O[V-te]=zr[255+pe+ne],O[V+0]=zr[255+se-ne],O[V+te]=zr[255+Ne-re],O[V+2*te]=zr[255+ge-xe]}h+=S}}function xi(u,h,y,S,L,k,_,I){for(k=2*k+1;0<L--;){if(ku(u,h,y,k,_))if(Lu(u,h,y,I))da(u,h,y);else{var O=u,V=h,te=y,fe=O[V-te],pe=O[V+0],se=O[V+te],Ne=Bu[112+((ge=3*(pe-fe))+4>>3)],ge=Bu[112+(ge+3>>3)],ne=Ne+1>>1;O[V-2*te]=zr[255+O[V-2*te]+ne],O[V-te]=zr[255+fe+ge],O[V+0]=zr[255+pe-Ne],O[V+te]=zr[255+se-ne]}h+=S}}function Fl(u,h,y,S,L,k){Rs(u,h,y,1,16,S,L,k)}function Lo(u,h,y,S,L,k){Rs(u,h,1,y,16,S,L,k)}function Pf(u,h,y,S,L,k){var _;for(_=3;0<_;--_)xi(u,h+=4*y,y,1,16,S,L,k)}function ha(u,h,y,S,L,k){var _;for(_=3;0<_;--_)xi(u,h+=4,1,y,16,S,L,k)}function kf(u,h,y,S,L,k,_,I){Rs(u,h,L,1,8,k,_,I),Rs(y,S,L,1,8,k,_,I)}function Il(u,h,y,S,L,k,_,I){Rs(u,h,1,L,8,k,_,I),Rs(y,S,1,L,8,k,_,I)}function Rl(u,h,y,S,L,k,_,I){xi(u,h+4*L,L,1,8,k,_,I),xi(y,S+4*L,L,1,8,k,_,I)}function Eu(u,h,y,S,L,k,_,I){xi(u,h+4,1,L,8,k,_,I),xi(y,S+4,1,L,8,k,_,I)}function fa(){this.ba=new vr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Dl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ml(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tu(){this.ua=0,this.Wa=new K,this.vb=new K,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new M}function _f(){this.xb=this.a=0,this.l=new hn,this.ca=new vr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tu,this.ab=0,this.gc=o(4,Ml),this.Oc=0}function pa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new hn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Po(u,h,y,S,L,k,_){for(u=u==null?0:u[h+0],h=0;h<_;++h)L[k+h]=u+y[S+h]&255,u=L[k+h]}function Ol(u,h,y,S,L,k,_){var I;if(u==null)Po(null,null,y,S,L,k,_);else for(I=0;I<_;++I)L[k+I]=u[h+I]+y[S+I]&255}function Ds(u,h,y,S,L,k,_){if(u==null)Po(null,null,y,S,L,k,_);else{var I,O=u[h+0],V=O,te=O;for(I=0;I<_;++I)V=te+(O=u[h+I])-V,te=y[S+I]+(-256&V?0>V?0:255:V)&255,V=O,L[k+I]=te}}function Bl(u,h,y,S){var L=h.width,k=h.o;if(t(u!=null&&h!=null),0>y||0>=S||y+S>k)return null;if(!u.Cc){if(u.ga==null){var _;if(u.ga=new pa,(_=u.ga==null)||(_=h.width*h.o,t(u.Gb.length==0),u.Gb=s(_),u.Uc=0,u.Gb==null?_=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,_=1),_=!_),!_){_=u.ga;var I=u.Fa,O=u.P,V=u.qc,te=u.mb,fe=u.nb,pe=O+1,se=V-1,Ne=_.l;if(t(I!=null&&te!=null&&h!=null),Us[0]=null,Us[1]=Po,Us[2]=Ol,Us[3]=Ds,_.ca=te,_.tb=fe,_.c=h.width,_.i=h.height,t(0<_.c&&0<_.i),1>=V)h=0;else if(_.$a=I[O+0]>>0&3,_.Z=I[O+0]>>2&3,_.Lc=I[O+0]>>4&3,O=I[O+0]>>6&3,0>_.$a||1<_.$a||4<=_.Z||1<_.Lc||O)h=0;else if(Ne.put=Qr,Ne.ac=Ln,Ne.bc=Zr,Ne.ma=_,Ne.width=h.width,Ne.height=h.height,Ne.Da=h.Da,Ne.v=h.v,Ne.va=h.va,Ne.j=h.j,Ne.o=h.o,_.$a)e:{t(_.$a==1),h=xr();t:for(;;){if(h==null){h=0;break e}if(t(_!=null),_.mc=h,h.c=_.c,h.i=_.i,h.l=_.l,h.l.ma=_,h.l.width=_.c,h.l.height=_.i,h.a=0,H(h.m,I,pe,se),!wr(_.c,_.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&Oi(h.s)?(_.ic=1,I=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(I),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(_.ic=0,h=rs(h,_.c)),!h))break t;h=1;break e}_.mc=null,h=0}else h=se>=_.c*_.i;_=!h}if(_)return null;u.ga.Lc!=1?u.Ga=0:S=k-y}t(u.ga!=null),t(y+S<=k);e:{if(h=(I=u.ga).c,k=I.l.o,I.$a==0){if(pe=u.rc,se=u.Vc,Ne=u.Fa,O=u.P+1+y*h,V=u.mb,te=u.nb+y*h,t(O<=u.P+u.qc),I.Z!=0)for(t(Us[I.Z]!=null),_=0;_<S;++_)Us[I.Z](pe,se,Ne,O,V,te,h),pe=V,se=te,te+=h,O+=h;else for(_=0;_<S;++_)r(V,te,Ne,O,h),pe=V,se=te,te+=h,O+=h;u.rc=pe,u.Vc=se}else{if(t(I.mc!=null),h=y+S,t((_=I.mc)!=null),t(h<=_.i),_.C>=h)h=1;else if(I.ic||le(),I.ic){I=_.V,pe=_.Ba,se=_.c;var ge=_.i,ne=(Ne=1,O=_.$/se,V=_.$%se,te=_.m,fe=_.s,_.$),re=se*ge,xe=se*h,je=fe.wc,be=ne<xe?Bt(fe,V,O):null;t(ne<=re),t(h<=ge),t(Oi(fe));t:for(;;){for(;!te.h&&ne<xe;){if(V&je||(be=Bt(fe,V,O)),t(be!=null),Q(te),256>(ge=$n(be.G[0],be.H[0],te)))I[pe+ne]=ge,++ne,++V>=se&&(V=0,++O<=h&&!(O%16)&&Mr(_,O));else{if(!(280>ge)){Ne=0;break t}ge=ir(ge-256,te);var Ve,Me=$n(be.G[4],be.H[4],te);if(Q(te),!(ne>=(Me=$t(se,Me=ir(Me,te)))&&re-ne>=ge)){Ne=0;break t}for(Ve=0;Ve<ge;++Ve)I[pe+ne+Ve]=I[pe+ne+Ve-Me];for(ne+=ge,V+=ge;V>=se;)V-=se,++O<=h&&!(O%16)&&Mr(_,O);ne<xe&&V&je&&(be=Bt(fe,V,O))}t(te.h==z(te))}Mr(_,O>h?h:O);break t}!Ne||te.h&&ne<re?(Ne=0,_.a=te.h?5:3):_.$=ne,h=Ne}else h=yr(_,_.V,_.Ba,_.c,_.i,h,is);if(!h){S=0;break e}}y+S>=k&&(u.Cc=1),S=1}if(!S)return null;if(u.Cc&&((S=u.ga)!=null&&(S.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*L}function v(u,h,y,S,L,k){for(;0<L--;){var _,I=u,O=h+(y?1:0),V=u,te=h+(y?0:3);for(_=0;_<S;++_){var fe=V[te+4*_];fe!=255&&(fe*=32897,I[O+4*_+0]=I[O+4*_+0]*fe>>23,I[O+4*_+1]=I[O+4*_+1]*fe>>23,I[O+4*_+2]=I[O+4*_+2]*fe>>23)}h+=k}}function P(u,h,y,S,L){for(;0<S--;){var k;for(k=0;k<y;++k){var _=u[h+2*k+0],I=15&(V=u[h+2*k+1]),O=4369*I,V=(240&V|V>>4)*O>>16;u[h+2*k+0]=(240&_|_>>4)*O>>16&240|(15&_|_<<4)*O>>16>>4&15,u[h+2*k+1]=240&V|I}h+=L}}function W(u,h,y,S,L,k,_,I){var O,V,te=255;for(V=0;V<L;++V){for(O=0;O<S;++O){var fe=u[h+O];k[_+4*O]=fe,te&=fe}h+=y,_+=I}return te!=255}function Z(u,h,y,S,L){var k;for(k=0;k<L;++k)y[S+k]=u[h+k]>>8}function le(){si=v,zt=P,qt=W,pn=Z}function ye(u,h,y){F[u]=function(S,L,k,_,I,O,V,te,fe,pe,se,Ne,ge,ne,re,xe,je){var be,Ve=je-1>>1,Me=I[O+0]|V[te+0]<<16,nt=fe[pe+0]|se[Ne+0]<<16;t(S!=null);var Be=3*Me+nt+131074>>2;for(h(S[L+0],255&Be,Be>>16,ge,ne),k!=null&&(Be=3*nt+Me+131074>>2,h(k[_+0],255&Be,Be>>16,re,xe)),be=1;be<=Ve;++be){var jt=I[O+be]|V[te+be]<<16,Lt=fe[pe+be]|se[Ne+be]<<16,wt=Me+jt+nt+Lt+524296,vt=wt+2*(jt+nt)>>3;Be=vt+Me>>1,Me=(wt=wt+2*(Me+Lt)>>3)+jt>>1,h(S[L+2*be-1],255&Be,Be>>16,ge,ne+(2*be-1)*y),h(S[L+2*be-0],255&Me,Me>>16,ge,ne+(2*be-0)*y),k!=null&&(Be=wt+nt>>1,Me=vt+Lt>>1,h(k[_+2*be-1],255&Be,Be>>16,re,xe+(2*be-1)*y),h(k[_+2*be+0],255&Me,Me>>16,re,xe+(2*be+0)*y)),Me=jt,nt=Lt}1&je||(Be=3*Me+nt+131074>>2,h(S[L+je-1],255&Be,Be>>16,ge,ne+(je-1)*y),k!=null&&(Be=3*nt+Me+131074>>2,h(k[_+je-1],255&Be,Be>>16,re,xe+(je-1)*y)))}}function Ce(){ai[zu]=U4,ai[qu]=lg,ai[rg]=V4,ai[Uu]=cg,ai[Vu]=ug,ai[Ff]=dg,ai[ig]=$4,ai[If]=lg,ai[Rf]=cg,ai[$u]=ug,ai[Df]=dg}function Ue(u){return u&~H4?0>u?0:255:u>>hg}function Ze(u,h){return Ue((19077*u>>8)+(26149*h>>8)-14234)}function ht(u,h,y){return Ue((19077*u>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function ut(u,h){return Ue((19077*u>>8)+(33050*h>>8)-17685)}function xt(u,h,y,S,L){S[L+0]=Ze(u,y),S[L+1]=ht(u,h,y),S[L+2]=ut(u,h)}function Qt(u,h,y,S,L){S[L+0]=ut(u,h),S[L+1]=ht(u,h,y),S[L+2]=Ze(u,y)}function sn(u,h,y,S,L){var k=ht(u,h,y);h=k<<3&224|ut(u,h)>>3,S[L+0]=248&Ze(u,y)|k>>5,S[L+1]=h}function Sn(u,h,y,S,L){var k=240&ut(u,h)|15;S[L+0]=240&Ze(u,y)|ht(u,h,y)>>4,S[L+1]=k}function Wn(u,h,y,S,L){S[L+0]=255,xt(u,h,y,S,L+1)}function Tn(u,h,y,S,L){Qt(u,h,y,S,L),S[L+3]=255}function wi(u,h,y,S,L){xt(u,h,y,S,L),S[L+3]=255}function Br(u,h){return 0>u?0:u>h?h:u}function qi(u,h,y){F[u]=function(S,L,k,_,I,O,V,te,fe){for(var pe=te+(-2&fe)*y;te!=pe;)h(S[L+0],k[_+0],I[O+0],V,te),h(S[L+1],k[_+0],I[O+0],V,te+y),L+=2,++_,++O,te+=2*y;1&fe&&h(S[L+0],k[_+0],I[O+0],V,te)}}function Fu(u,h,y){return y==0?u==0?h==0?6:5:h==0?4:0:y}function zl(u,h,y,S,L){switch(u>>>30){case 3:us(h,y,S,L,0);break;case 2:fn(h,y,S,L);break;case 1:cr(h,y,S,L)}}function ql(u,h){var y,S,L=h.M,k=h.Nb,_=u.oc,I=u.pc+40,O=u.oc,V=u.pc+584,te=u.oc,fe=u.pc+600;for(y=0;16>y;++y)_[I+32*y-1]=129;for(y=0;8>y;++y)O[V+32*y-1]=129,te[fe+32*y-1]=129;for(0<L?_[I-1-32]=O[V-1-32]=te[fe-1-32]=129:(i(_,I-32-1,127,21),i(O,V-32-1,127,9),i(te,fe-32-1,127,9)),S=0;S<u.za;++S){var pe=h.ya[h.aa+S];if(0<S){for(y=-1;16>y;++y)r(_,I+32*y-4,_,I+32*y+12,4);for(y=-1;8>y;++y)r(O,V+32*y-4,O,V+32*y+4,4),r(te,fe+32*y-4,te,fe+32*y+4,4)}var se=u.Gd,Ne=u.Hd+S,ge=pe.ad,ne=pe.Hc;if(0<L&&(r(_,I-32,se[Ne].y,0,16),r(O,V-32,se[Ne].f,0,8),r(te,fe-32,se[Ne].ea,0,8)),pe.Za){var re=_,xe=I-32+16;for(0<L&&(S>=u.za-1?i(re,xe,se[Ne].y[15],4):r(re,xe,se[Ne+1].y,0,4)),y=0;4>y;y++)re[xe+128+y]=re[xe+256+y]=re[xe+384+y]=re[xe+0+y];for(y=0;16>y;++y,ne<<=2)re=_,xe=I+pg[y],bi[pe.Ob[y]](re,xe),zl(ne,ge,16*+y,re,xe)}else if(re=Fu(S,L,pe.Ob[0]),qs[re](_,I),ne!=0)for(y=0;16>y;++y,ne<<=2)zl(ne,ge,16*+y,_,I+pg[y]);for(y=pe.Gc,re=Fu(S,L,pe.Dd),hs[re](O,V),hs[re](te,fe),ne=ge,re=O,xe=V,255&(pe=y>>0)&&(170&pe?Wl(ne,256,re,xe):ri(ne,256,re,xe)),pe=te,ne=fe,255&(y>>=8)&&(170&y?Wl(ge,320,pe,ne):ri(ge,320,pe,ne)),L<u.Ub-1&&(r(se[Ne].y,0,_,I+480,16),r(se[Ne].f,0,O,V+224,8),r(se[Ne].ea,0,te,fe+224,8)),y=8*k*u.B,se=u.sa,Ne=u.ta+16*S+16*k*u.R,ge=u.qa,pe=u.ra+8*S+y,ne=u.Ha,re=u.Ia+8*S+y,y=0;16>y;++y)r(se,Ne+y*u.R,_,I+32*y,16);for(y=0;8>y;++y)r(ge,pe+y*u.B,O,V+32*y,8),r(ne,re+y*u.B,te,fe+32*y,8)}}function ma(u,h,y,S,L,k,_,I,O){var V=[0],te=[0],fe=0,pe=O!=null?O.kd:0,se=O??new Dl;if(u==null||12>y)return 7;se.data=u,se.w=h,se.ha=y,h=[h],y=[y],se.gb=[se.gb];e:{var Ne=h,ge=y,ne=se.gb;if(t(u!=null),t(ge!=null),t(ne!=null),ne[0]=0,12<=ge[0]&&!n(u,Ne[0],"RIFF")){if(n(u,Ne[0]+8,"WEBP")){ne=3;break e}var re=ke(u,Ne[0]+4);if(12>re||4294967286<re){ne=3;break e}if(pe&&re>ge[0]-8){ne=7;break e}ne[0]=re,Ne[0]+=12,ge[0]-=12}ne=0}if(ne!=0)return ne;for(re=0<se.gb[0],y=y[0];;){e:{var xe=u;ge=h,ne=y;var je=V,be=te,Ve=Ne=[0];if((Be=fe=[fe])[0]=0,8>ne[0])ne=7;else{if(!n(xe,ge[0],"VP8X")){if(ke(xe,ge[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var Me=ke(xe,ge[0]+8),nt=1+Te(xe,ge[0]+12);if(2147483648<=nt*(xe=1+Te(xe,ge[0]+15))){ne=3;break e}Ve!=null&&(Ve[0]=Me),je!=null&&(je[0]=nt),be!=null&&(be[0]=xe),ge[0]+=18,ne[0]-=18,Be[0]=1}ne=0}}if(fe=fe[0],Ne=Ne[0],ne!=0)return ne;if(ge=!!(2&Ne),!re&&fe)return 3;if(k!=null&&(k[0]=!!(16&Ne)),_!=null&&(_[0]=ge),I!=null&&(I[0]=0),_=V[0],Ne=te[0],fe&&ge&&O==null){ne=0;break}if(4>y){ne=7;break}if(re&&fe||!re&&!fe&&!n(u,h[0],"ALPH")){y=[y],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{Me=u,ne=h,re=y;var Be=se.gb;je=se.na,be=se.P,Ve=se.Sa,nt=22,t(Me!=null),t(re!=null),xe=ne[0];var jt=re[0];for(t(je!=null),t(Ve!=null),je[0]=null,be[0]=null,Ve[0]=0;;){if(ne[0]=xe,re[0]=jt,8>jt){ne=7;break e}var Lt=ke(Me,xe+4);if(4294967286<Lt){ne=3;break e}var wt=8+Lt+1&-2;if(nt+=wt,0<Be&&nt>Be){ne=3;break e}if(!n(Me,xe,"VP8 ")||!n(Me,xe,"VP8L")){ne=0;break e}if(jt[0]<wt){ne=7;break e}n(Me,xe,"ALPH")||(je[0]=Me,be[0]=xe+8,Ve[0]=Lt),xe+=wt,jt-=wt}}if(y=y[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],ne!=0)break}y=[y],se.Ja=[se.Ja],se.xa=[se.xa];e:if(Be=u,ne=h,re=y,je=se.gb[0],be=se.Ja,Ve=se.xa,Me=ne[0],xe=!n(Be,Me,"VP8 "),nt=!n(Be,Me,"VP8L"),t(Be!=null),t(re!=null),t(be!=null),t(Ve!=null),8>re[0])ne=7;else{if(xe||nt){if(Be=ke(Be,Me+4),12<=je&&Be>je-12){ne=3;break e}if(pe&&Be>re[0]-8){ne=7;break e}be[0]=Be,ne[0]+=8,re[0]-=8,Ve[0]=nt}else Ve[0]=5<=re[0]&&Be[Me+0]==47&&!(Be[Me+4]>>5),be[0]=re[0];ne=0}if(y=y[0],se.Ja=se.Ja[0],se.xa=se.xa[0],h=h[0],ne!=0)break;if(4294967286<se.Ja)return 3;if(I==null||ge||(I[0]=se.xa?2:1),_=[_],Ne=[Ne],se.xa){if(5>y){ne=7;break}I=_,pe=Ne,ge=k,u==null||5>y?u=0:5<=y&&u[h+0]==47&&!(u[h+4]>>5)?(re=[0],Be=[0],je=[0],H(be=new C,u,h,y),tt(be,re,Be,je)?(I!=null&&(I[0]=re[0]),pe!=null&&(pe[0]=Be[0]),ge!=null&&(ge[0]=je[0]),u=1):u=0):u=0}else{if(10>y){ne=7;break}I=Ne,u==null||10>y||!br(u,h+3,y-3)?u=0:(pe=u[h+0]|u[h+1]<<8|u[h+2]<<16,ge=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=se.Ja||!ge||!u?u=0:(_&&(_[0]=ge),I&&(I[0]=u),u=1))}if(!u||(_=_[0],Ne=Ne[0],fe&&(V[0]!=_||te[0]!=Ne)))return 3;O!=null&&(O[0]=se,O.offset=h-O.w,t(4294967286>h-O.w),t(O.offset==O.ha-y));break}return ne==0||ne==7&&fe&&O==null?(k!=null&&(k[0]|=se.na!=null&&0<se.na.length),S!=null&&(S[0]=_),L!=null&&(L[0]=Ne),0):ne}function Ul(u,h,y){var S=h.width,L=h.height,k=0,_=0,I=S,O=L;if(h.Da=u!=null&&0<u.Da,h.Da&&(I=u.cd,O=u.bd,k=u.v,_=u.j,11>y||(k&=-2,_&=-2),0>k||0>_||0>=I||0>=O||k+I>S||_+O>L))return 0;if(h.v=k,h.j=_,h.va=k+I,h.o=_+O,h.U=I,h.T=O,h.da=u!=null&&0<u.da,h.da){if(!at(I,O,y=[u.ib],k=[u.hb]))return 0;h.ib=y[0],h.hb=k[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*S/4&&h.hb<3*L/4,h.Kb=0),1}function Vl(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function ga(u,h,y,S){if(S==null||0>=u||0>=h)return 2;if(y!=null){if(y.Da){var L=y.cd,k=y.bd,_=-2&y.v,I=-2&y.j;if(0>_||0>I||0>=L||0>=k||_+L>u||I+k>h)return 2;u=L,h=k}if(y.da){if(!at(u,h,L=[y.ib],k=[y.hb]))return 2;u=L[0],h=k[0]}}S.width=u,S.height=h;e:{var O=S.width,V=S.height;if(u=S.S,0>=O||0>=V||!(u>=zu&&13>u))u=2;else{if(0>=S.Rd&&S.sd==null){_=k=L=h=0;var te=(I=O*mg[u])*V;if(11>u||(k=(V+1)/2*(h=(O+1)/2),u==12&&(_=(L=O)*V)),(V=s(te+2*k+_))==null){u=1;break e}S.sd=V,11>u?((O=S.f.RGBA).eb=V,O.fb=0,O.A=I,O.size=te):((O=S.f.kb).y=V,O.O=0,O.fa=I,O.Fd=te,O.f=V,O.N=0+te,O.Ab=h,O.Cd=k,O.ea=V,O.W=0+te+k,O.Db=h,O.Ed=k,u==12&&(O.F=V,O.J=0+te+2*k),O.Tc=_,O.lb=L)}if(h=1,L=S.S,k=S.width,_=S.height,L>=zu&&13>L)if(11>L)u=S.f.RGBA,h&=(I=Math.abs(u.A))*(_-1)+k<=u.size,h&=I>=k*mg[L],h&=u.eb!=null;else{u=S.f.kb,I=(k+1)/2,te=(_+1)/2,O=Math.abs(u.fa),V=Math.abs(u.Ab);var fe=Math.abs(u.Db),pe=Math.abs(u.lb),se=pe*(_-1)+k;h&=O*(_-1)+k<=u.Fd,h&=V*(te-1)+I<=u.Cd,h=(h&=fe*(te-1)+I<=u.Ed)&O>=k&V>=I&fe>=I,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,L==12&&(h&=pe>=k,h&=se<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||y!=null&&y.fd&&(u=Vl(S)),u}var On=64,va=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ya=24,xa=32,$l=8,Nr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(u){return u},F.Predictor2=function(u,h,y){return h[y+0]},F.Predictor3=function(u,h,y){return h[y+1]},F.Predictor4=function(u,h,y){return h[y-1]},F.Predictor5=function(u,h,y){return Ie(Ie(u,h[y+1]),h[y+0])},F.Predictor6=function(u,h,y){return Ie(u,h[y-1])},F.Predictor7=function(u,h,y){return Ie(u,h[y+0])},F.Predictor8=function(u,h,y){return Ie(h[y-1],h[y+0])},F.Predictor9=function(u,h,y){return Ie(h[y+0],h[y+1])},F.Predictor10=function(u,h,y){return Ie(Ie(u,h[y-1]),Ie(h[y+0],h[y+1]))},F.Predictor11=function(u,h,y){var S=h[y+0];return 0>=Oe(S>>24&255,u>>24&255,(h=h[y-1])>>24&255)+Oe(S>>16&255,u>>16&255,h>>16&255)+Oe(S>>8&255,u>>8&255,h>>8&255)+Oe(255&S,255&u,255&h)?S:u},F.Predictor12=function(u,h,y){var S=h[y+0];return(Ge((u>>24&255)+(S>>24&255)-((h=h[y-1])>>24&255))<<24|Ge((u>>16&255)+(S>>16&255)-(h>>16&255))<<16|Ge((u>>8&255)+(S>>8&255)-(h>>8&255))<<8|Ge((255&u)+(255&S)-(255&h)))>>>0},F.Predictor13=function(u,h,y){var S=h[y-1];return(Pe((u=Ie(u,h[y+0]))>>24&255,S>>24&255)<<24|Pe(u>>16&255,S>>16&255)<<16|Pe(u>>8&255,S>>8&255)<<8|Pe(u>>0&255,S>>0&255))>>>0};var Ef=F.PredictorAdd0;F.PredictorAdd1=Ke,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var Hl=F.PredictorAdd2;et("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Iu,ni=F.ColorIndexInverseTransform,wa=F.MapARGB,Ru=F.VP8LColorIndexInverseTransformAlpha,Du=F.MapAlpha,Ms=F.VP8LPredictorsAdd=[];Ms.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var ko,jr,lr,Os,ls,cs,ba,us,fn,Wl,cr,ri,Sa,Mu,Gl,_o,Eo,Bs,To,Na,Fo,zs,Kl,ii,si,zt,qt,pn,Pn=s(511),ds=s(2041),Yl=s(225),ja=s(767),Ou=0,Tf=ds,Bu=Yl,zr=ja,oi=Pn,zu=0,qu=1,rg=2,Uu=3,Vu=4,Ff=5,ig=6,If=7,Rf=8,$u=9,Df=10,P4=[2,3,7],k4=[3,3,11],sg=[280,256,256,256,40],_4=[0,1,1,1,0],E4=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],T4=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],F4=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],I4=8,Mf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Of=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Jl=null,R4=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],D4=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],og=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],M4=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],O4=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],B4=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],z4=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qs=[],bi=[],hs=[],q4=1,ag=2,Us=[],ai=[];ye("UpsampleRgbLinePair",xt,3),ye("UpsampleBgrLinePair",Qt,3),ye("UpsampleRgbaLinePair",wi,4),ye("UpsampleBgraLinePair",Tn,4),ye("UpsampleArgbLinePair",Wn,4),ye("UpsampleRgba4444LinePair",Sn,2),ye("UpsampleRgb565LinePair",sn,2);var U4=F.UpsampleRgbLinePair,V4=F.UpsampleBgrLinePair,lg=F.UpsampleRgbaLinePair,cg=F.UpsampleBgraLinePair,ug=F.UpsampleArgbLinePair,dg=F.UpsampleRgba4444LinePair,$4=F.UpsampleRgb565LinePair,Hu=16,Wu=1<<Hu-1,Xl=-227,Bf=482,hg=6,H4=(256<<hg)-1,fg=0,W4=s(256),G4=s(256),K4=s(256),Y4=s(256),J4=s(Bf-Xl),X4=s(Bf-Xl);qi("YuvToRgbRow",xt,3),qi("YuvToBgrRow",Qt,3),qi("YuvToRgbaRow",wi,4),qi("YuvToBgraRow",Tn,4),qi("YuvToArgbRow",Wn,4),qi("YuvToRgba4444Row",Sn,2),qi("YuvToRgb565Row",sn,2);var pg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gu=[0,2,8],Q4=[8,7,6,4,4,2,2,2,1,1,1,1],Z4=1;this.WebPDecodeRGBA=function(u,h,y,S,L){var k=qu,_=new fa,I=new vr;_.ba=I,I.S=k,I.width=[I.width],I.height=[I.height];var O=I.width,V=I.height,te=new yi;if(te==null||u==null)var fe=2;else t(te!=null),fe=ma(u,h,y,te.width,te.height,te.Pd,te.Qd,te.format,null);if(fe!=0?O=0:(O!=null&&(O[0]=te.width[0]),V!=null&&(V[0]=te.height[0]),O=1),O){I.width=I.width[0],I.height=I.height[0],S!=null&&(S[0]=I.width),L!=null&&(L[0]=I.height);e:{if(S=new hn,(L=new Dl).data=u,L.w=h,L.ha=y,L.kd=1,h=[0],t(L!=null),((u=ma(L.data,L.w,L.ha,null,null,null,h,null,L))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(t(_!=null),S.data=L.data,S.w=L.w+L.offset,S.ha=L.ha-L.offset,S.put=Qr,S.ac=Ln,S.bc=Zr,S.ma=_,L.xa){if((u=xr())==null){_=1;break e}if(function(pe,se){var Ne=[0],ge=[0],ne=[0];t:for(;;){if(pe==null)return 0;if(se==null)return pe.a=2,0;if(pe.l=se,pe.a=0,H(pe.m,se.data,se.w,se.ha),!tt(pe.m,Ne,ge,ne)){pe.a=3;break t}if(pe.xb=ag,se.width=Ne[0],se.height=ge[0],!wr(Ne[0],ge[0],1,pe,null))break t;return 1}return t(pe.a!=0),0}(u,S)){if(S=(h=ga(S.width,S.height,_.Oa,_.ba))==0){t:{S=u;n:for(;;){if(S==null){S=0;break t}if(t(S.s.yc!=null),t(S.s.Ya!=null),t(0<S.s.Wb),t((y=S.l)!=null),t((L=y.ma)!=null),S.xb!=0){if(S.ca=L.ba,S.tb=L.tb,t(S.ca!=null),!Ul(L.Oa,y,Uu)){S.a=2;break n}if(!rs(S,y.width)||y.da)break n;if((y.da||St(S.ca.S))&&le(),11>S.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),S.ca.f.kb.F!=null&&le()),S.Pb&&0<S.s.ua&&S.s.vb.X==null&&!Xe(S.s.vb,S.s.Wa.Xa)){S.a=1;break n}S.xb=0}if(!yr(S,S.V,S.Ba,S.c,S.i,y.o,ns))break n;L.Dc=S.Ma,S=1;break t}t(S.a!=0),S=0}S=!S}S&&(h=u.a)}else h=u.a}else{if((u=new ti)==null){_=1;break e}if(u.Fa=L.na,u.P=L.P,u.qc=L.Sa,wn(u,S)){if((h=ga(S.width,S.height,_.Oa,_.ba))==0){if(u.Aa=0,y=_.Oa,t((L=u)!=null),y!=null){if(0<(O=0>(O=y.Md)?0:100<O?255:255*O/100)){for(V=te=0;4>V;++V)12>(fe=L.pb[V]).lc&&(fe.ia=O*Q4[0>fe.lc?0:fe.lc]>>3),te|=fe.ia;te&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=y.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}ss(u,S)||(h=u.a)}}else h=u.a}h==0&&_.Oa!=null&&_.Oa.fd&&(h=Vl(_.ba))}_=h}k=_!=0?null:11>k?I.f.RGBA.eb:I.f.kb.y}else k=null;return k};var mg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(F,$){for(var ee="",E=0;E<4;E++)ee+=String.fromCharCode(F[$++]);return ee}function f(F,$){return(F[$+0]<<0|F[$+1]<<8|F[$+2]<<16)>>>0}function p(F,$){return(F[$+0]<<0|F[$+1]<<8|F[$+2]<<16|F[$+3]<<24)>>>0}new l;var g=[0],m=[0],N=[],b=new l,A=e,x=function(F,$){var ee={},E=0,M=!1,X=0,G=0;if(ee.frames=[],!function(B,z,J,Q){for(var oe=0;oe<Q;oe++)if(B[z+oe]!=J.charCodeAt(oe))return!0;return!1}(F,$,"RIFF",4)){for(p(F,$+=4),$+=8;$<F.length;){var de=d(F,$),ae=p(F,$+=4);$+=4;var ce=ae+(1&ae);switch(de){case"VP8 ":case"VP8L":ee.frames[E]===void 0&&(ee.frames[E]={}),(Y=ee.frames[E]).src_off=M?G:$-8,Y.src_size=X+ae+8,E++,M&&(M=!1,X=0,G=0);break;case"VP8X":(Y=ee.header={}).feature_flags=F[$];var H=$+4;Y.canvas_width=1+f(F,H),H+=3,Y.canvas_height=1+f(F,H),H+=3;break;case"ALPH":M=!0,X=ce+8,G=$-8;break;case"ANIM":(Y=ee.header).bgcolor=p(F,$),H=$+4,Y.loop_count=(me=F)[(C=H)+0]<<0|me[C+1]<<8,H+=2;break;case"ANMF":var ie,Y;(Y=ee.frames[E]={}).offset_x=2*f(F,$),$+=3,Y.offset_y=2*f(F,$),$+=3,Y.width=1+f(F,$),$+=3,Y.height=1+f(F,$),$+=3,Y.duration=f(F,$),$+=3,ie=F[$++],Y.dispose=1&ie,Y.blend=ie>>1&1}de!="ANMF"&&($+=ce)}var me,C;return ee}}(A,0);x.response=A,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,j=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,g=[w.canvas_height],m=[w.canvas_width];for(var R=0;R<j.length&&j[R].blend!=0;R++);}var q=j[0],U=b.WebPDecodeRGBA(A,q.src_off,q.src_size,m,g);q.rgba=U,q.imgwidth=m[0],q.imgheight=g[0];for(var T=0;T<m[0]*g[0]*4;T++)N[T]=U[T];return this.width=m,this.height=g,this.data=N,this}(function(e){var t=function(){return typeof a1=="function"},n=function(g,m,N,b){var A=4,x=o;switch(b){case e.image_compression.FAST:A=1,x=s;break;case e.image_compression.MEDIUM:A=6,x=a;break;case e.image_compression.SLOW:A=9,x=l}g=r(g,m,N,x);var w=a1(g,{level:A});return e.__addimage__.arrayBufferToBinaryString(w)},r=function(g,m,N,b){for(var A,x,w,j=g.length/m,R=new Uint8Array(g.length+j),q=f(),U=0;U<j;U+=1){if(w=U*m,A=g.subarray(w,w+m),b)R.set(b(A,N,x),w+U);else{for(var T,F=q.length,$=[];T<F;T+=1)$[T]=q[T](A,N,x);var ee=p($.concat());R.set($[ee],w+U)}x=A}return R},i=function(g){var m=Array.apply([],g);return m.unshift(0),m},s=function(g,m){var N,b=[],A=g.length;b[0]=1;for(var x=0;x<A;x+=1)N=g[x-m]||0,b[x+1]=g[x]-N+256&255;return b},o=function(g,m,N){var b,A=[],x=g.length;A[0]=2;for(var w=0;w<x;w+=1)b=N&&N[w]||0,A[w+1]=g[w]-b+256&255;return A},a=function(g,m,N){var b,A,x=[],w=g.length;x[0]=3;for(var j=0;j<w;j+=1)b=g[j-m]||0,A=N&&N[j]||0,x[j+1]=g[j]+256-(b+A>>>1)&255;return x},l=function(g,m,N){var b,A,x,w,j=[],R=g.length;j[0]=4;for(var q=0;q<R;q+=1)b=g[q-m]||0,A=N&&N[q]||0,x=N&&N[q-m]||0,w=d(b,A,x),j[q+1]=g[q]-w+256&255;return j},d=function(g,m,N){if(g===m&&m===N)return g;var b=Math.abs(m-N),A=Math.abs(g-N),x=Math.abs(g+m-N-N);return b<=A&&b<=x?g:A<=x?m:N},f=function(){return[i,s,o,a,l]},p=function(g){var m=g.map(function(N){return N.reduce(function(b,A){return b+Math.abs(A)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(g,m,N,b){var A,x,w,j,R,q,U,T,F,$,ee,E,M,X,G,de=this.decode.FLATE_DECODE,ae="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(w=new mP(g)).imgData,x=w.bits,A=w.colorSpace,R=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){F=(T=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,ee=new Uint8Array(F*w.colors),$=new Uint8Array(F);var ce,H=w.pixelBitlength-w.bits;for(X=0,G=0;X<F;X++){for(M=T[X],ce=0;ce<H;)ee[G++]=M>>>ce&255,ce+=w.bits;$[X]=M>>>ce&255}}if(w.bits===16){F=(T=new Uint32Array(w.decodePixels().buffer)).length,ee=new Uint8Array(F*(32/w.pixelBitlength)*w.colors),$=new Uint8Array(F*(32/w.pixelBitlength)),E=w.colors>1,X=0,G=0;for(var ie=0;X<F;)M=T[X++],ee[G++]=M>>>0&255,E&&(ee[G++]=M>>>16&255,M=T[X++],ee[G++]=M>>>0&255),$[ie++]=M>>>16&255;x=8}b!==e.image_compression.NONE&&t()?(g=n(ee,w.width*w.colors,w.colors,b),U=n($,w.width,1,b)):(g=ee,U=$,de=void 0)}if(w.colorType===3&&(A=this.color_spaces.INDEXED,q=w.palette,w.transparency.indexed)){var Y=w.transparency.indexed,me=0;for(X=0,F=Y.length;X<F;++X)me+=Y[X];if((me/=255)===F-1&&Y.indexOf(0)!==-1)j=[Y.indexOf(0)];else if(me!==F){for(T=w.decodePixels(),$=new Uint8Array(T.length),X=0,F=T.length;X<F;X++)$[X]=Y[T[X]];U=n($,w.width,1)}}var C=function(B){var z;switch(B){case e.image_compression.FAST:z=11;break;case e.image_compression.MEDIUM:z=13;break;case e.image_compression.SLOW:z=14;break;default:z=12}return z}(b);return de===this.decode.FLATE_DECODE&&(ae="/Predictor "+C+" "),ae+="/Colors "+R+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(U&&this.__addimage__.isArrayBuffer(U)||this.__addimage__.isArrayBufferView(U))&&(U=this.__addimage__.arrayBufferToBinaryString(U)),{alias:N,data:g,index:m,filter:de,decodeParameters:ae,transparency:j,palette:q,sMask:U,predictor:C,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:A}}}})(rt.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new gP(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var d={data:l,width:o,height:a},f=new $p(100).encode(d,100);return e.processJPEG.call(this,f,n,r,i)},e.processGIF87A=e.processGIF89A}(rt.API),Ai.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ai.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Mt.log("bit decode error:"+n)}},Ai.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Ai.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,d=this.palette[a];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[l],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ai.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Ai.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,d=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=d}this.pos+=e}},Ai.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,d=(o>>11)/t*255|0,f=i*this.width*4+4*s;this.data[f]=d,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=e}},Ai.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ai.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Ai.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new Ai(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},d=new $p(100).encode(l,100);return e.processJPEG.call(this,d,n,r,i)}}(rt.API),A5.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new A5(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},d=new $p(100).encode(l,100);return e.processJPEG.call(this,d,n,r,i)}}(rt.API),rt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,d=0;d<i;d+=4){var f=r[d],p=r[d+1],g=r[d+2],m=r[d+3];s[a++]=f,s[a++]=p,s[a++]=g,o[l++]=m}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:N,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},rt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ea=rt.API,kd=Ea.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,p=t.doKerning!==!1,g=0,m=e.length,N=0,b=a[0]||l,A=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=p&&kt(d[r])==="object"&&!isNaN(parseInt(d[r][N],10))?d[r][N]/f:0,A.push((a[r]||b)/l+g)),N=r;return A},b5=Ea.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Ea.processArabic&&(e=Ea.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:kd.apply(this,arguments).reduce(function(s,o){return s+o},0)},S5=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},N5=function(e,t,n){n||(n={});var r,i,s,o,a,l,d,f=[],p=[f],g=n.textIndent||0,m=0,N=0,b=e.split(" "),A=kd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),w=[];b.map(function(R){(R=R.split(/\s*\n/)).length>1?w=w.concat(R.map(function(q,U){return(U&&q.length?`
`:"")+q})):w.push(R[0])}),b=w,l=b5.apply(this,[x,n])}for(s=0,o=b.length;s<o;s++){var j=0;if(r=b[s],l&&r[0]==`
`&&(r=r.substr(1),j=1),g+m+(N=(i=kd.apply(this,[r,n])).reduce(function(R,q){return R+q},0))>t||j){if(N>t){for(a=S5.apply(this,[r,i,t-(g+m),t]),f.push(a.shift()),f=[a.pop()];a.length;)p.push([a.shift()]);N=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(R,q){return R+q},0)}else f=[r];p.push(f),g=N+l,m=A}else f.push(r),g+=m+N,m=A}return d=l?function(R,q){return(q?x:"")+R.join(" ")}:function(R){return R.join(" ")},p.map(d)},Ea.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,d=[];for(a=0,l=r.length;a<l;a++)d=d.concat(N5.apply(this,[r[a],o,s]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var g,m,N,b,A=["{"];for(var x in p){if(g=p[x],isNaN(parseInt(x,10))?m="'"+x+"'":(x=parseInt(x,10),m=(m=s(x).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof g=="number")g<0?(N=s(g).slice(3),b="-"):(N=s(g).slice(2),b=""),N=b+N.slice(0,-1)+r[N.slice(-1)];else{if(kt(g)!=="object")throw new Error("Don't know what to do with value type "+kt(g)+".");N=o(g)}A.push(m+N)}return A.push("}"),A.join("")},a=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,N,b,A={},x=1,w=A,j=[],R="",q="",U=p.length-1,T=1;T<U;T+=1)(b=p[T])=="'"?g?(N=g.join(""),g=void 0):g=[]:g?g.push(b):b=="{"?(j.push([w,N]),w={},N=void 0):b=="}"?((m=j.pop())[0][m[1]]=w,N=void 0,w=m[0]):b=="-"?x=-1:N===void 0?n.hasOwnProperty(b)?(R+=n[b],N=parseInt(R,16)*x,x=1,R=""):R+=b:n.hasOwnProperty(b)?(q+=n[b],w[N]=parseInt(q,16)*x,x=1,N=void 0,q=""):q+=b;return A},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var g=p.font,m=f.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var N=d.Unicode[g.postScriptName];N&&(g.metadata.Unicode.encoding=N,g.encoding=N.codePages[0])}])}(rt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Mc(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(rt),function(e){function t(){return(ot.canvg?Promise.resolve(ot.canvg):rh(()=>import("./index.es-57970ed6.js"),["assets/index.es-57970ed6.js","assets/supabaseClient-54ee3b77.js","assets/preload-helper-8235fac6.js","assets/creations-4ab0b6d9.js"])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}rt.API.addSvgAsImage=function(n,r,i,s,o,a,l,d){if(isNaN(r)||isNaN(i))throw Mt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Mt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=o;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(N){return N.fromString(p,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(g)}).then(function(){m.addImage(f.toDataURL("image/jpeg",1),r,i,s,o,l,d)})}}(),rt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},rt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],d=0,f=0,p=0;function g(N,b){var A,x=!1;for(A=0;A<N.length;A+=1)N[A]===b&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=a.length;for(p=0;p<m;p+=1)n[a[p]].value=n[a[p]].defaultValue,n[a[p]].explicitSet=!1}if(kt(e)==="object"){for(i in e)if(s=e[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")l.push(String(s[d]-1));else if(s[d].length>1){for(f=0;f<s[d].length;f+=1)typeof s[d][f]!="number"&&(r=!1);r===!0&&l.push([s[d][0]-1,s[d][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,b=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?b.push("/"+N+" /"+n[N].value):b.push("/"+N+" "+n[N].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(rt.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],p=0,g=s.length;p<g;++p){if(a=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(p),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(d[4-a.length],a)}return f.join("")},r=function(s){var o,a,l,d,f,p,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(a=Object.keys(s).sort(function(m,N){return m-N})).length;p<g;p++)o=a[p],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+d+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,d=o.newObject,f=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",N=0;N<g.length;N++)m+=String.fromCharCode(g[N]);var b=d();f({data:m,addLength1:!0,objectId:b}),l("endobj");var A=d();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var x=d();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ia(a.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var w=d();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ia(a.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+e.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=d(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+Ia(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,d=o.newObject,f=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var N=d();f({data:g,addLength1:!0,objectId:N}),l("endobj");var b=d();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var A=d();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+N+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Ia(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=d();for(var x=0;x<a.metadata.hmtx.widths.length;x++)a.metadata.hmtx.widths[x]=parseInt(a.metadata.hmtx.widths[x]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Ia(a.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,d=s.y,f=s.options||{},p=s.mutex||{},g=p.pdfEscape,m=p.activeFontKey,N=p.fonts,b=m,A="",x=0,w="",j=N[b].encoding;if(N[b].encoding!=="Identity-H")return{text:a,x:l,y:d,options:f,mutex:p};for(w=a,b=m,Array.isArray(a)&&(w=a[0]),x=0;x<w.length;x+=1)N[b].metadata.hasOwnProperty("cmap")&&(o=N[b].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),o||w[x].charCodeAt(0)<256&&N[b].metadata.hasOwnProperty("Unicode")?A+=w[x]:A+="";var R="";return parseInt(b.slice(1))<14||j==="WinAnsiEncoding"?R=g(A,b).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(R=n(A,N[b])),p.isHex=!0,{text:R,x:l,y:d,options:f,mutex:p}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?a.push([i(Object.assign({},l,{text:o[d][0]})).text,o[d][1],o[d][2]]):a.push(i(Object.assign({},l,{text:o[d]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(rt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(rt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,a,l,d,f,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,j=0;this.__bidiEngine__={};var R=function(E){var M=E.charCodeAt(),X=M>>8,G=b[X];return G!==void 0?p[256*G+(255&M)]:X===252||X===253?"AL":x.test(X)?"L":X===8?"R":"N"},q=function(E){for(var M,X=0;X<E.length;X++){if((M=R(E.charAt(X)))==="L")return!1;if(M==="R")return!0}return!1},U=function(E,M,X,G){var de,ae,ce,H,ie=M[G];switch(ie){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(ie="AN");break;case"AL":w=!0,ie="R";break;case"WS":ie="N";break;case"CS":G<1||G+1>=M.length||(de=X[G-1])!=="EN"&&de!=="AN"||(ae=M[G+1])!=="EN"&&ae!=="AN"?ie="N":w&&(ae="AN"),ie=ae===de?ae:"N";break;case"ES":ie=(de=G>0?X[G-1]:"B")==="EN"&&G+1<M.length&&M[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&X[G-1]==="EN"){ie="EN";break}if(w){ie="N";break}for(ce=G+1,H=M.length;ce<H&&M[ce]==="ET";)ce++;ie=ce<H&&M[ce]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(H=M.length,ce=G+1;ce<H&&M[ce]==="NSM";)ce++;if(ce<H){var Y=E[G],me=Y>=1425&&Y<=2303||Y===64286;if(de=M[ce],me&&(de==="R"||de==="AL")){ie="R";break}}}ie=G<1||(de=M[G-1])==="B"?"N":X[G-1];break;case"B":w=!1,i=!0,ie=j;break;case"S":s=!0,ie="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":ie="N"}return ie},T=function(E,M,X){var G=E.split("");return X&&F(G,X,{hiLevel:j}),G.reverse(),M&&M.reverse(),G.join("")},F=function(E,M,X){var G,de,ae,ce,H,ie=-1,Y=E.length,me=0,C=[],B=j?m:g,z=[];for(w=!1,i=!1,s=!1,de=0;de<Y;de++)z[de]=R(E[de]);for(ae=0;ae<Y;ae++){if(H=me,C[ae]=U(E,z,C,ae),G=240&(me=B[H][N[C[ae]]]),me&=15,M[ae]=ce=B[me][5],G>0)if(G===16){for(de=ie;de<ae;de++)M[de]=1;ie=-1}else ie=-1;if(B[me][6])ie===-1&&(ie=ae);else if(ie>-1){for(de=ie;de<ae;de++)M[de]=ce;ie=-1}z[ae]==="B"&&(M[ae]=0),X.hiLevel|=ce}s&&function(J,Q,oe){for(var he=0;he<oe;he++)if(J[he]==="S"){Q[he]=j;for(var ue=he-1;ue>=0&&J[ue]==="WS";ue--)Q[ue]=j}}(z,M,Y)},$=function(E,M,X,G,de){if(!(de.hiLevel<E)){if(E===1&&j===1&&!i)return M.reverse(),void(X&&X.reverse());for(var ae,ce,H,ie,Y=M.length,me=0;me<Y;){if(G[me]>=E){for(H=me+1;H<Y&&G[H]>=E;)H++;for(ie=me,ce=H-1;ie<ce;ie++,ce--)ae=M[ie],M[ie]=M[ce],M[ce]=ae,X&&(ae=X[ie],X[ie]=X[ce],X[ce]=ae);me=H}me++}}},ee=function(E,M,X){var G=E.split(""),de={hiLevel:j};return X||(X=[]),F(G,X,de),function(ae,ce,H){if(H.hiLevel!==0&&f)for(var ie,Y=0;Y<ae.length;Y++)ce[Y]===1&&(ie=A.indexOf(ae[Y]))>=0&&(ae[Y]=A[ie+1])}(G,X,de),$(2,G,M,X,de),$(1,G,M,X,de),G.join("")};return this.__bidiEngine__.doBidiReorder=function(E,M,X){if(function(de,ae){if(ae)for(var ce=0;ce<de.length;ce++)ae[ce]=ce;a===void 0&&(a=q(de)),d===void 0&&(d=q(de))}(E,M),o||!l||d)if(o&&l&&a^d)j=a?1:0,E=T(E,M,X);else if(!o&&l&&d)j=a?1:0,E=ee(E,M,X),E=T(E,M);else if(!o||a||l||d){if(o&&!l&&a^d)E=T(E,M),a?(j=0,E=ee(E,M,X)):(j=1,E=ee(E,M,X),E=T(E,M));else if(o&&a&&!l&&d)j=1,E=ee(E,M,X),E=T(E,M);else if(!o&&!l&&a^d){var G=f;a?(j=1,E=ee(E,M,X),j=0,f=!1,E=ee(E,M,X),f=G):(j=0,E=ee(E,M,X),E=T(E,M),j=1,f=!1,E=ee(E,M,X),f=G,E=T(E,M))}}else j=0,E=ee(E,M,X);else j=a?1:0,E=ee(E,M,X);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,d=E.isOutputRtl,f=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(rt),rt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new xo(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new EP(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new vP(this.contents),this.head=new xP(this),this.name=new jP(this),this.cmap=new a4(this),this.toUnicode={},this.hhea=new wP(this),this.maxp=new AP(this),this.hmtx=new CP(this),this.post=new SP(this),this.os2=new bP(this),this.loca=new _P(this),this.glyf=new LP(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,d;for(d=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Di,xo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),vP=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,a,l,d,f,p,g,m,N,b;for(b in m=Object.keys(n).length,l=Math.log(2),p=16*Math.floor(Math.log(m)/l),o=Math.floor(p/l),f=16*m-p,(i=new xo).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(o),i.writeShort(f),s=16*m,d=i.pos+s,a=null,N=[],n)for(g=n[b],i.writeString(b),i.writeInt(e(g)),i.writeInt(d),i.writeInt(g.length),N=N.concat(g),b==="head"&&(a=d),d+=g.length;d%4;)N.push(0),d++;return i.write(N),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=l4.call(n);n.length%4;)n.push(0);for(s=new xo(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),yP={}.hasOwnProperty,es=function(e,t){for(var n in t)yP.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Di=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var xP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return es(t,Di),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new xo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),C5=function(){function e(t,n){var r,i,s,o,a,l,d,f,p,g,m,N,b,A,x,w,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(m=t.readUInt16(),g=m/2,t.pos+=6,s=function(){var R,q;for(q=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)q.push(t.readUInt16());return q}(),t.pos+=2,b=function(){var R,q;for(q=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)q.push(t.readUInt16());return q}(),d=function(){var R,q;for(q=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)q.push(t.readUInt16());return q}(),f=function(){var R,q;for(q=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)q.push(t.readUInt16());return q}(),i=(this.length-t.pos+this.offset)/2,a=function(){var R,q;for(q=[],l=R=0;0<=i?R<i:R>i;l=0<=i?++R:--R)q.push(t.readUInt16());return q}(),l=x=0,j=s.length;x<j;l=++x)for(A=s[l],r=w=N=b[l];N<=A?w<=A:w>=A;r=N<=A?++w:--w)f[l]===0?o=r+d[l]:(o=a[f[l]/2+(r-N)-(g-l)]||0)!==0&&(o+=d[l]),this.codeMap[r]=65535&o}t.pos=p}return e.encode=function(t,n){var r,i,s,o,a,l,d,f,p,g,m,N,b,A,x,w,j,R,q,U,T,F,$,ee,E,M,X,G,de,ae,ce,H,ie,Y,me,C,B,z,J,Q,oe,he,ue,Se,we,Te;switch(G=new xo,o=Object.keys(t).sort(function(ke,Xe){return ke-Xe}),n){case"macroman":for(b=0,A=function(){var ke=[];for(N=0;N<256;++N)ke.push(0);return ke}(),w={0:0},s={},de=0,ie=o.length;de<ie;de++)w[ue=t[i=o[de]]]==null&&(w[ue]=++b),s[i]={old:t[i],new:w[t[i]]},A[i]=w[t[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(A),{charMap:s,subtable:G.data,maxGlyphID:b+1};case"unicode":for(M=[],p=[],j=0,w={},r={},x=d=null,ae=0,Y=o.length;ae<Y;ae++)w[q=t[i=o[ae]]]==null&&(w[q]=++j),r[i]={old:q,new:w[q]},a=w[q]-i,x!=null&&a===d||(x&&p.push(x),M.push(i),d=a),x=i;for(x&&p.push(x),p.push(65535),M.push(65535),ee=2*($=M.length),F=2*Math.pow(Math.log($)/Math.LN2,2),g=Math.log(F/2)/Math.LN2,T=2*$-F,l=[],U=[],m=[],N=ce=0,me=M.length;ce<me;N=++ce){if(E=M[N],f=p[N],E===65535){l.push(0),U.push(0);break}if(E-(X=r[E].new)>=32768)for(l.push(0),U.push(2*(m.length+$-N)),i=H=E;E<=f?H<=f:H>=f;i=E<=f?++H:--H)m.push(r[i].new);else l.push(X-E),U.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*$+2*m.length),G.writeUInt16(0),G.writeUInt16(ee),G.writeUInt16(F),G.writeUInt16(g),G.writeUInt16(T),oe=0,C=p.length;oe<C;oe++)i=p[oe],G.writeUInt16(i);for(G.writeUInt16(0),he=0,B=M.length;he<B;he++)i=M[he],G.writeUInt16(i);for(Se=0,z=l.length;Se<z;Se++)a=l[Se],G.writeUInt16(a);for(we=0,J=U.length;we<J;we++)R=U[we],G.writeUInt16(R);for(Te=0,Q=m.length;Te<Q;Te++)b=m[Te],G.writeUInt16(b);return{charMap:r,subtable:G.data,maxGlyphID:j+1}}},e}(),a4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return es(t,Di),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new C5(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=C5.encode(n,r),(s=new xo).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),wP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return es(t,Di),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),bP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return es(t,Di),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),SP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return es(t,Di),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,d;for(d=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)d.push(n.readUInt32());return d}).call(this)}},t}(),NP=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},jP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return es(t,Di),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,o,a,l,d,f,p,g,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(d={},o=p=0,g=i.length;p<g;o=++p)s=i[o],n.pos=s.offset,f=n.readString(s.length),a=new NP(f,s),d[m=s.nameID]==null&&(d[m]=[]),d[s.nameID].push(a);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),AP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return es(t,Di),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),CP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return es(t,Di),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,o,a,l,d;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)p.push(n.readInt16());return p}(),this.widths=(function(){var f,p,g,m;for(m=[],f=0,p=(g=this.metrics).length;f<p;f++)o=g[f],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],d=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)d.push(this.widths.push(i));return d},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),l4=[].slice,LP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return es(t,Di),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,o,a,l,d,f,p,g;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new xo(r.read(s))).readShort(),f=l.readShort(),g=l.readShort(),d=l.readShort(),p=l.readShort(),this.cache[n]=a===-1?new kP(l,f,g,d,p):new PP(l,a,f,g,d,p),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,o,a,l,d;for(a=[],o=[],l=0,d=r.length;l<d;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},t}(),PP=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),kP=function(){function e(t,n,r,i,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new xo(l4.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),_P=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return es(t,Di),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],d=this.offsets[a+1]-l;d>0&&(s+=d)}for(var f=new Array(4*i.length),p=0;p<i.length;++p)f[4*p+3]=255&i[p],f[4*p+2]=(65280&i[p])>>8,f[4*p+1]=(16711680&i[p])>>16,f[4*p]=(4278190080&i[p])>>24;return f},t}(),EP=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,a,l,d,f,p,g,m,N,b,A,x;for(i in r=a4.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},x=r.charMap)m[(l=x[i]).old]=l.new;for(N in g=r.maxGlyphID,o)N in m||(m[N]=g++);return f=function(w){var j,R;for(j in R={},w)R[w[j]]=j;return R}(m),p=Object.keys(f).sort(function(w,j){return w-j}),b=function(){var w,j,R;for(R=[],w=0,j=p.length;w<j;w++)a=p[w],R.push(f[a]);return R}(),s=this.font.glyf.encode(o,b,m),d=this.font.loca.encode(s.offsets,b),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();rt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,d;for(d=[],a=0,l=n.length;a<l;a++)r=n[a],d.push(t.convert(r));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();async function TP(e,t){try{const n={id:e,prenom:t.firstName,nom:t.lastName},{data:r,error:i}=await un.from("profiles").upsert(n,{onConflict:"id",returning:"representation"}).select().single();if(i)throw new Error(`Erreur mise à jour profil: ${i.message}`);return r}catch(n){throw n}}async function FP(e){var t,n,r,i;try{const{data:s,error:o}=await un.from("profiles").select("prenom, nom").eq("id",e.id).single(),a={id:e.id,email:e.email,prenom:(s==null?void 0:s.prenom)||((t=e.user_metadata)==null?void 0:t.firstName)||((n=e.user_metadata)==null?void 0:n.prenom)||null,nom:(s==null?void 0:s.nom)||((r=e.user_metadata)==null?void 0:r.lastName)||((i=e.user_metadata)==null?void 0:i.nom)||null,last_login:new Date().toISOString()},{data:l,error:d}=await un.from("profiles").upsert(a,{onConflict:"id",returning:"representation"}).select().single();if(d)throw new Error(`Erreur sync profil: ${d.message}`);return l}catch(s){throw s}}function Z0(){const[e,t]=D.useState(null),[n,r]=D.useState(!0);return D.useEffect(()=>{const i=async()=>{try{const{data:{session:o}}=await un.auth.getSession();if(!(o!=null&&o.user)){t(null),r(!1);return}try{await FP(o.user)}catch{}const a=o.user.email.split("@")[0],l={id:o.user.id,email:o.user.email,firstName:a,lastName:"",name:a},{data:d,error:f}=await un.from("profiles").select("*").eq("id",o.user.id).single();if(d){const p={...l,firstName:d.prenom||l.firstName,lastName:d.nom||"",name:`${d.prenom||l.firstName} ${d.nom||""}`.trim(),profile:d};t(p)}else t(l)}catch{t(null)}finally{r(!1)}};i();const{data:{subscription:s}}=un.auth.onAuthStateChange(async(o,a)=>{o==="SIGNED_IN"?i():o==="SIGNED_OUT"&&(t(null),r(!1))});return()=>s==null?void 0:s.unsubscribe()},[]),{user:e,loading:n}}function L5(e){return e.includes("security purposes")&&e.includes("request this")||e.includes("only request this after")?"Pour des raisons de sécurité, vous ne pouvez faire cette demande que toutes les 60 secondes.":e.includes("Invalid email")?"Adresse email invalide.":e.includes("User not found")?"Aucun compte trouvé avec cette adresse email.":e.includes("Too many requests")?"Trop de tentatives. Veuillez réessayer dans quelques minutes.":e}async function IP({email:e}){try{const{error:t}=await un.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return t?{error:{message:L5(t.message)}}:{data:{message:"Email de réinitialisation envoyé avec succès"}}}catch(t){return{error:{message:"Erreur lors de l'envoi de l'email de réinitialisation: "+L5(t.message)}}}}const th=(e,t=null)=>{if(!e||!e.trim())return;const n=t?`email_history_${t}`:"email_history_guest",r=localStorage.getItem(n);let i=[];if(r)try{i=JSON.parse(r)}catch{}const s=[e,...i.filter(o=>o!==e)].slice(0,5);localStorage.setItem(n,JSON.stringify(s))},RP=e=>{const[t,n]=D.useState([]),[r,i]=D.useState(!1),[s,o]=D.useState([]);return D.useEffect(()=>{const f=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",p=localStorage.getItem(f);if(p)try{const g=JSON.parse(p);n(g)}catch{}},[e]),{showSuggestions:r,filteredEmails:s,saveEmail:f=>{if(!f||!f.trim())return;const p=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",g=[f,...t.filter(m=>m!==f)].slice(0,5);n(g),localStorage.setItem(p,JSON.stringify(g))},removeEmail:f=>{const p=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",g=t.filter(m=>m!==f);n(g),localStorage.setItem(p,JSON.stringify(g)),o(m=>m.filter(N=>N!==f))},filterEmails:f=>{if(!f||f.length<1){o([]),i(!1);return}const p=t.filter(g=>g.toLowerCase().startsWith(f.toLowerCase()));o(p),i(p.length>0)},hideSuggestions:()=>i(!1)}},Za=({value:e,onChange:t,placeholder:n,required:r,disabled:i,user:s,onEmailSubmit:o})=>{const{showSuggestions:a,filteredEmails:l,saveEmail:d,removeEmail:f,filterEmails:p,hideSuggestions:g}=RP(s),[m,N]=D.useState(e||""),[b,A]=D.useState(-1),x=D.useRef(null),w=D.useRef(null);D.useEffect(()=>{N(e||"")},[e]),D.useEffect(()=>{const U=T=>{w.current&&!w.current.contains(T.target)&&(g(),A(-1))};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[g]);const j=U=>{const T=U.target.value;N(T),t(U),p(T),A(-1)},R=U=>{var T;N(U),t({target:{value:U}}),g(),A(-1),(T=x.current)==null||T.focus()},q=U=>{if(!a||l.length===0){U.key==="Enter"&&o&&(d(m),o());return}switch(U.key){case"ArrowDown":U.preventDefault(),A(T=>T<l.length-1?T+1:T);break;case"ArrowUp":U.preventDefault(),A(T=>T>0?T-1:-1);break;case"Enter":U.preventDefault(),b>=0&&b<l.length?R(l[b]):o&&(d(m),o());break;case"Escape":g(),A(-1);break}};return c.jsxs("div",{className:"email-input-container",ref:w,children:[c.jsx("input",{ref:x,type:"email",value:m,onChange:j,onKeyDown:q,placeholder:n,required:r,disabled:i,autoComplete:"off"}),a&&l.length>0&&c.jsx("div",{className:"email-suggestions google-style",children:l.map((U,T)=>c.jsxs("div",{className:`email-suggestion-item ${T===b?"selected":""}`,onMouseEnter:()=>A(T),children:[c.jsx("div",{className:"email-suggestion-content",onClick:()=>R(U),children:U}),c.jsx("button",{type:"button",className:"email-suggestion-remove",onClick:F=>{F.stopPropagation(),f(U)},onMouseEnter:F=>F.stopPropagation(),title:"Supprimer cet email",children:"×"})]},T))})]})},DP=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i})=>{var Le,Ee,Re,Ie,Ge;const[s,o]=D.useState(!1),[a,l]=D.useState(!1),[d,f]=D.useState(!1),[p,g]=D.useState(!1),[m,N]=D.useState(""),[b,A]=D.useState(""),[x,w]=D.useState(""),[j,R]=D.useState(""),[q,U]=D.useState(""),[T,F]=D.useState(!1),{user:$,loading:ee}=Z0(),E=!!$&&!ee,M=D.useRef(null),[X,G]=D.useState(""),[de,ae]=D.useState(""),[ce,H]=D.useState("");D.useState(!1),D.useState("");const[ie,Y]=D.useState(!1),[me,C]=D.useState(!1),[B,z]=D.useState(""),[J,Q]=D.useState(!1),[oe,he]=D.useState(!1),[ue,Se]=D.useState(!1),[we,Te]=D.useState(!1);D.useEffect(()=>{(async()=>{if(!$||!$.id){he(!1);return}try{const{data:Oe,error:Ke}=await un.from("profiles").select("role").eq("id",$.id).single();if(Ke){he(!1);return}const pt=(Oe==null?void 0:Oe.role)==="admin"||(Oe==null?void 0:Oe.role)==="super_admin";he(pt)}catch{he(!1)}})()},[$]);const ke=()=>oe,Xe=async Pe=>{Pe.preventDefault(),U(""),F(!0);try{const{data:Oe,error:Ke}=await un.auth.signInWithPassword({email:m.trim(),password:b.trim()});if(Ke){U(Ke.message==="Invalid login credentials"?"Email ou mot de passe incorrect":Ke.message);return}Oe!=null&&Oe.user&&(th(m.trim()),l(!1),o(!1),N(""),A(""),t&&t(Oe.user))}catch{U("Erreur de connexion. Vérifiez vos identifiants.")}finally{F(!1)}},ve=async Pe=>{Pe.preventDefault(),U(""),F(!0);try{const{data:Oe,error:Ke}=await un.auth.signUp({email:m.trim(),password:b.trim(),options:{data:{firstName:x.trim(),lastName:j.trim(),name:`${x.trim()} ${j.trim()}`}}});if(Ke){U(Ke.message==="User already registered"?"Un compte existe déjà avec cet email":Ke.message);return}Oe!=null&&Oe.user&&(th(m.trim()),Oe.session?(f(!1),o(!1),N(""),A(""),w(""),R(""),r&&r(Oe.user)):U("Un email de confirmation a été envoyé. Vérifiez votre boîte mail."))}catch{U("Erreur d'inscription. Réessayez plus tard.")}finally{F(!1)}},K=async()=>{try{const{error:Pe}=await un.auth.signOut();if(Pe){U("Erreur lors de la déconnexion");return}o(!1),g(!1),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userFirstName"),localStorage.removeItem("userLastName"),localStorage.removeItem("friday_supabase_user"),n&&n(),window.location.reload()}catch{U("Erreur lors de la déconnexion")}},at=async Pe=>{Pe.preventDefault(),U(""),Q(!0),U(""),th(B.trim());try{const{data:Oe,error:Ke}=await IP({email:B.trim()});if(Ke){Q(!1),U(Ke.message||"Erreur lors de l'envoi de l'email");return}}catch{Q(!1),U("Erreur lors de l'envoi de l'email de réinitialisation")}},He=async()=>{if(!(!$||!$.id))try{const{data:Pe,error:Oe}=await un.from("profiles").select("*").eq("id",$.id).single();!Oe&&Pe&&(H(Pe.email||$.email||""),G(Pe.prenom||""),ae(Pe.nom||""))}catch{}};return D.useEffect(()=>{var Pe,Oe;$&&(H($.email||""),G($.firstName||((Pe=$.user_metadata)==null?void 0:Pe.firstName)||""),ae($.lastName||((Oe=$.user_metadata)==null?void 0:Oe.lastName)||""))},[$]),D.useEffect(()=>{const Pe=Oe=>{M.current&&!M.current.contains(Oe.target)&&(o(!1),l(!1),f(!1),g(!1),C(!1),U(""))};return document.addEventListener("mousedown",Pe),()=>{document.removeEventListener("mousedown",Pe)}},[]),ee?c.jsx("div",{className:"user-account",ref:M,children:c.jsx("div",{className:"user-avatar",children:c.jsx("span",{children:"⏳"})})}):c.jsx("div",{className:"user-account",ref:M,children:E?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-avatar",onClick:()=>o(!s),children:c.jsx("span",{className:"user-initial",children:((Ee=(Le=$==null?void 0:$.firstName)==null?void 0:Le.charAt(0))==null?void 0:Ee.toUpperCase())||((Ie=(Re=$==null?void 0:$.email)==null?void 0:Re.charAt(0))==null?void 0:Ie.toUpperCase())||"👤"})}),c.jsx(pi,{children:s&&c.jsxs(Fe.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[c.jsxs("div",{className:"user-info",children:[c.jsx("div",{className:"user-name",children:($==null?void 0:$.firstName)||($==null?void 0:$.name)||((Ge=$==null?void 0:$.email)==null?void 0:Ge.split("@")[0])}),c.jsx("div",{className:"user-email",children:$==null?void 0:$.email})]}),c.jsxs("div",{className:"dropdown-actions",children:[ke()&&c.jsx("button",{onClick:()=>{window.open("/ilmysv6iepwepoa4tj2k?auth=auto","_blank")},children:"⚙️ Administration"}),c.jsx("button",{onClick:()=>{o(!1),g(!0)},children:"Mon profil"}),c.jsx("button",{onClick:()=>{o(!1),i&&i()},children:"Mon historique"}),c.jsx("button",{onClick:K,className:"logout-button",children:"Se déconnecter"})]})]})}),c.jsx(pi,{children:p&&c.jsx(Fe.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>g(!1),children:c.jsxs(Fe.div,{className:"auth-form profile-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Pe=>Pe.stopPropagation(),children:[c.jsx("h3",{children:"Mon profil"}),c.jsxs("form",{onSubmit:async Pe=>{Pe.preventDefault(),U("");try{await TP($.id,{firstName:X.trim(),lastName:de.trim()}),await He(),Y(!0),setTimeout(()=>Y(!1),3e3)}catch(Oe){console.error("Erreur mise à jour profil:",Oe),U("Erreur lors de la mise à jour du profil")}},children:[c.jsx(Za,{value:ce,onChange:Pe=>H(Pe.target.value),placeholder:"Email",disabled:!0,user:$,onEmailSubmit:()=>{}}),c.jsx("input",{type:"text",placeholder:"Prénom",value:X,onChange:Pe=>G(Pe.target.value)}),c.jsx("input",{type:"text",placeholder:"Nom",value:de,onChange:Pe=>ae(Pe.target.value)}),q&&c.jsx("div",{className:"error-message",children:q}),ie&&c.jsx("div",{className:"success-message",children:"Profil mis à jour avec succès !"}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>g(!1),children:"Fermer"}),c.jsx("button",{type:"submit",children:"Mettre à jour"})]})]})]})})})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-avatar",onClick:()=>o(!s),children:c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),c.jsx("path",{d:"M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),c.jsx(pi,{children:s&&c.jsx(Fe.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:c.jsxs("div",{className:"dropdown-actions",children:[c.jsx("button",{onClick:()=>{o(!1),l(!0),U("")},children:"Se connecter"}),c.jsx("button",{onClick:()=>{o(!1),f(!0),U("")},children:"Créer un compte"})]})})}),c.jsxs(pi,{children:[a&&c.jsx(Fe.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>l(!1),children:c.jsxs(Fe.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Pe=>Pe.stopPropagation(),children:[c.jsx("h3",{children:"Connexion"}),c.jsxs("form",{onSubmit:Xe,children:[c.jsx(Za,{value:m,onChange:Pe=>N(Pe.target.value),placeholder:"Email",required:!0,disabled:T,user:null,onEmailSubmit:()=>{}}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:ue?"text":"password",placeholder:"Mot de passe",value:b,onChange:Pe=>A(Pe.target.value),required:!0,disabled:T,className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>Se(!ue),disabled:T,"aria-label":ue?"Masquer le mot de passe":"Afficher le mot de passe",children:ue?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),q&&c.jsx("div",{className:"error-message",children:q}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{l(!1),f(!0),U("")},disabled:T,children:"Créer un compte"}),c.jsx("button",{type:"submit",disabled:T,children:T?"Connexion...":"Se connecter"})]}),c.jsx("button",{type:"button",className:"forgot-password-link",onClick:()=>{l(!1),C(!0),U("")},disabled:T,children:"Mot de passe oublié ?"})]})]})}),d&&c.jsx(Fe.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>f(!1),children:c.jsxs(Fe.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Pe=>Pe.stopPropagation(),children:[c.jsx("h3",{children:"Créer un compte"}),c.jsxs("form",{onSubmit:ve,children:[c.jsx("input",{type:"text",placeholder:"Prénom",value:x,onChange:Pe=>w(Pe.target.value),required:!0,disabled:T}),c.jsx("input",{type:"text",placeholder:"Nom",value:j,onChange:Pe=>R(Pe.target.value),required:!0,disabled:T}),c.jsx(Za,{value:m,onChange:Pe=>N(Pe.target.value),placeholder:"Email",required:!0,disabled:T,user:null,onEmailSubmit:()=>{}}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:we?"text":"password",placeholder:"Mot de passe (min 6 caractères)",value:b,onChange:Pe=>A(Pe.target.value),required:!0,minLength:6,disabled:T,className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>Te(!we),disabled:T,"aria-label":we?"Masquer le mot de passe":"Afficher le mot de passe",children:we?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),q&&c.jsx("div",{className:"error-message",children:q}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{f(!1),l(!0),U("")},disabled:T,children:"Déjà un compte ?"}),c.jsx("button",{type:"submit",disabled:T,children:T?"Création...":"Créer le compte"})]})]})]})}),me&&c.jsx(Fe.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>C(!1),children:c.jsxs(Fe.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Pe=>Pe.stopPropagation(),children:[c.jsx("h3",{children:"Réinitialiser le mot de passe"}),J?c.jsxs("div",{className:"success-message",children:[c.jsxs("p",{children:["Un email de réinitialisation a été envoyé à ",B]}),c.jsx("button",{onClick:()=>{C(!1),l(!0),Q(!1),z("")},children:"Retour à la connexion"})]}):c.jsxs("form",{onSubmit:at,children:[c.jsx(Za,{value:B,onChange:Pe=>z(Pe.target.value),placeholder:"Votre email",required:!0,user:null,onEmailSubmit:()=>{}}),q&&c.jsx("div",{className:"error-message",children:q}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{C(!1),l(!0),U("")},children:"Retour à la connexion"}),c.jsx("button",{type:"submit",children:"Envoyer le lien"})]})]})]})})]})]})})},MP=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i})=>c.jsxs("header",{className:"header",children:[c.jsxs("div",{className:"header-content",children:[c.jsx(Fe.div,{className:"logo",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:c.jsx("h1",{children:"HERBBIE"})}),c.jsx(Fe.h2,{className:"tagline",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:"Offrez à vos enfants des créations ludiques et imaginatives personnalisées !"})]}),c.jsx("div",{className:"user-account-container",children:c.jsx(DP,{isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i})})]});const OP="/api/features";let Oh=null,eg=0;const BP=3e3,zP={animation:{enabled:!0,name:"Dessin animé",icon:"🎬",description:"Génération de dessins animés personnalisés avec IA"},comic:{enabled:!0,name:"Bande dessinée",icon:"💬",description:"Création de bandes dessinées avec bulles de dialogue"},coloring:{enabled:!0,name:"Coloriage",icon:"🎨",description:"Pages de coloriage à imprimer pour les enfants"},audio:{enabled:!0,name:"Histoire",icon:"📖",description:"Histoires audio avec narration automatique"},rhyme:{enabled:!0,name:"Comptine",icon:"🎵",description:"Comptines musicales avec paroles et mélodies"}},c4=async()=>{try{const e=await fetch(OP,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();return Oh=t,eg=Date.now(),t}else throw console.error("Erreur API lors du chargement des fonctionnalités:",e.status),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors du chargement depuis l'API:",e),e}},qP=async()=>{try{const e=Date.now();return Oh&&e-eg<BP?Oh:await c4()}catch(e){return console.error("Erreur lors de la récupération des fonctionnalités:",e),zP}},UP=async()=>{try{const e=await qP();return Object.entries(e).filter(([t,n])=>n.enabled).reduce((t,[n,r])=>(t[n]=r,t),{})}catch(e){return console.warn("Erreur lors de la récupération des fonctionnalités activées:",e),{}}},VP=()=>{Oh=null,eg=0},$P=e=>{let t=null;const n=async()=>{try{VP();const i=await c4();JSON.stringify(i)!==JSON.stringify(t)&&e&&typeof e=="function"&&(t=i,e(i))}catch(i){console.error("Erreur lors de la vérification des changements:",i)}},r=setInterval(n,5e3);return n(),()=>{clearInterval(r)}},HP=({contentType:e,setContentType:t})=>{const[n,r]=D.useState({}),[i,s]=D.useState(!0);D.useEffect(()=>(o(),$P(async f=>{const p=Object.entries(f).filter(([g,m])=>m.enabled).reduce((g,[m,N])=>(g[m]=N,g),{});if(r(p),!p[e]&&e!=="animation"){const g=Object.keys(p).find(m=>p[m].enabled);g&&t(g)}})),[e,t]);const o=async()=>{try{s(!0);const d=await UP();r(d)}catch(d){console.error("Erreur lors du chargement des fonctionnalités:",d)}finally{s(!1)}},a=d=>{t(d)},l=Object.keys(n).length>0;return i?c.jsxs("div",{className:"content-type-selector",children:[c.jsx("h3",{children:"1. Choisissez le type de contenu"}),c.jsx("div",{className:"loading-message",children:c.jsx("p",{children:"Chargement des fonctionnalités..."})})]}):c.jsxs("div",{className:"content-type-selector",children:[c.jsx("h3",{children:"1. Choisissez le type de contenu"}),l?c.jsxs("div",{className:"content-type-options",children:[n.animation&&c.jsxs(Fe.div,{className:`content-type-option animation-full-width ${e==="animation"?"selected":""}`,onClick:()=>a("animation"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:"🎬"}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Dessin animé"}),c.jsx("p",{children:"Créez un véritable dessin animé fluide et cohérent avec l'IA"})]})]}),n.comic&&c.jsxs(Fe.div,{className:`content-type-option ${e==="comic"?"selected":""}`,onClick:()=>a("comic"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:"💬"}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Bande dessinée"}),c.jsx("p",{children:"Créez une vraie BD avec histoire cohérente et bulles de dialogue"})]})]}),n.coloring&&c.jsxs(Fe.div,{className:`content-type-option ${e==="coloring"?"selected":""}`,onClick:()=>a("coloring"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:"🎨"}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Coloriage"}),c.jsx("p",{children:"Créez des dessins à colorier personnalisés en noir et blanc"})]})]}),n.audio&&c.jsxs(Fe.div,{className:`content-type-option ${e==="audio"?"selected":""}`,onClick:()=>a("audio"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:"📖"}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Histoire"}),c.jsx("p",{children:"Créez une histoire avec possibilité d'ajouter une narration audio"})]})]}),n.rhyme&&c.jsxs(Fe.div,{className:`content-type-option ${e==="rhyme"?"selected":""}`,onClick:()=>a("rhyme"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:"🎵"}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Comptine"}),c.jsx("p",{children:"Créez une comptine musicale avec paroles et mélodie"})]})]})]}):c.jsx("div",{className:"no-features-message",children:c.jsx("p",{children:"Aucune fonctionnalité n'est actuellement disponible."})})]})};const WP=[{id:"lullaby",title:"Berceuse douce",description:"Mélodie apaisante pour s'endormir",emoji:"🌙",musicStyle:"gentle lullaby"},{id:"animal",title:"Comptine animalière",description:"Animaux et leurs sons en musique",emoji:"🐘",musicStyle:"playful with animal sounds"},{id:"counting",title:"Comptine à compter",description:"Apprendre les chiffres en chanson",emoji:"🔢",musicStyle:"upbeat educational"},{id:"colors",title:"Comptine des couleurs",description:"Découvrir les couleurs en musique",emoji:"🌈",musicStyle:"cheerful and colorful"},{id:"alphabet",title:"Comptine de l'alphabet",description:"Apprendre les lettres en chantant",emoji:"🔤",musicStyle:"educational and catchy"},{id:"family",title:"Comptine familiale",description:"Chanson sur la famille et l'amour",emoji:"👨‍👩‍👧‍👦",musicStyle:"warm and loving"},{id:"nature",title:"Comptine de la nature",description:"Explorer plantes, arbres et fleurs",emoji:"🌳",musicStyle:"peaceful and natural"},{id:"seasonal",title:"Comptine saisonnière",description:"Célébrer saisons et merveilles",emoji:"🍂",musicStyle:"festive and warm"},{id:"movement",title:"Comptine de mouvement",description:"Bouger, sauter et danser",emoji:"💃",musicStyle:"energetic dance rhythm"},{id:"emotions",title:"Comptine des émotions",description:"Comprendre et exprimer sentiments",emoji:"😊",musicStyle:"expressive and gentle"},{id:"shapes",title:"Comptine des formes",description:"Apprendre les formes géométriques",emoji:"🔺",musicStyle:"playful educational"}],GP=({selectedRhyme:e,setSelectedRhyme:t,customRhyme:n,setCustomRhyme:r})=>{const i=s=>{t(e===s?"":s)};return c.jsxs("div",{className:"musical-rhyme-selector",children:[c.jsx("h3",{children:"2. Choisissez un type de comptine"}),c.jsxs("div",{className:"rhyme-grid",children:[c.jsxs("div",{className:"rhyme-slot",children:[c.jsxs(Fe.div,{className:`rhyme-card custom-rhyme ${e==="custom"?"selected":""}`,onClick:()=>i("custom"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"rhyme-emoji",children:"✏️"}),c.jsx("h4",{children:"Personnalisé"}),c.jsx("p",{children:"Comptine avec prénom ou thème perso"})]}),e==="custom"&&c.jsx(Fe.div,{className:"custom-rhyme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{id:"customRhyme",value:n,onChange:s=>r(s.target.value),placeholder:"Décrivez votre type de comptine personnalisée...",className:"custom-textarea"})})]}),WP.map(s=>c.jsx("div",{className:"rhyme-slot",children:c.jsxs(Fe.div,{className:`rhyme-card ${e===s.id?"selected":""}`,onClick:()=>i(s.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"rhyme-emoji",children:s.emoji}),c.jsx("h4",{children:s.title}),c.jsx("p",{children:s.description})]})},s.id))]})]})};const KP=[{id:"magic",title:"Monde magique",description:"Fées, sorciers, créatures enchantées",emoji:"🧚‍♀️"},{id:"dinosaurs",title:"Temps des dinosaures",description:"Dinosaures gentils, voyages dans le temps",emoji:"🦕"},{id:"space",title:"Voyage spatial",description:"Planètes, fusées, aliens sympathiques",emoji:"🚀"},{id:"adventure",title:"Aventure fantastique",description:"Rebondissements, magie, découvertes",emoji:"✨"},{id:"animals",title:"Amis animaux",description:"Animaux qui parlent, aventures sauvages",emoji:"🦊"},{id:"underwater",title:"Monde sous-marin",description:"Océans, créatures marines, trésors",emoji:"🐠"},{id:"forest",title:"Forêt enchantée",description:"Forêt mystérieuse, surprises magiques",emoji:"🌲"},{id:"funny",title:"Histoire drôle",description:"Contes amusants, rires garantis",emoji:"😄"},{id:"mystery",title:"Petit mystère",description:"Énigmes pour enfants, investigations",emoji:"🔍"},{id:"friendship",title:"Belle amitié",description:"Histoire sur l'amitié, entraide",emoji:"👫"},{id:"learning",title:"Conte éducatif",description:"Leçons importantes, apprentissage",emoji:"📚"},{id:"bedtime",title:"Histoire du soir",description:"Contes apaisants, sommeil doux",emoji:"🌙"},{id:"robots",title:"Robots amis",description:"Robots gentils, inventions magiques",emoji:"🤖"},{id:"pirates",title:"Pirates courageux",description:"Bateaux pirates, trésors cachés",emoji:"🏴‍☠️"}],YP=[{id:"female",name:"Voix féminine"},{id:"male",name:"Voix masculine"}],JP=({selectedAudioStory:e,setSelectedAudioStory:t,customAudioStory:n,setCustomAudioStory:r,selectedVoice:i,setSelectedVoice:s})=>{const[o,a]=D.useState(!1),l=m=>{e===m?(t(""),a(!1)):(t(m),m!=="custom"&&a(!1))},d=()=>{e==="custom"?(t(""),a(!1)):(t("custom"),a(!0))},f=[{id:"custom",title:"Personnalisé",description:"Créez votre propre type d'histoire unique",emoji:"✏️",isCustom:!0},...KP],p=m=>{r(m.target.value)},g=m=>{s(i===m?null:m)};return c.jsxs("div",{className:"audio-story-selector",children:[c.jsx("h3",{children:"2. Choisissez un type d'histoire"}),c.jsx("div",{className:"audio-story-grid",children:f.map(m=>c.jsxs("div",{className:"audio-story-slot",children:[c.jsxs(Fe.div,{className:`audio-story-card ${m.isCustom?"custom-audio-story":""} ${e===m.id?"selected":""}`,onClick:()=>m.isCustom?d():l(m.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"audio-story-emoji",children:m.emoji}),c.jsx("h4",{children:m.title}),c.jsx("p",{children:m.description})]}),m.isCustom&&o&&e==="custom"&&c.jsx(Fe.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx(Fe.textarea,{id:"customAudioStory",value:n,onChange:p,placeholder:"Ex: Un conte qui se déroule dans un monde sous-marin avec des créatures magiques...",className:"custom-input",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})})]},m.id))}),c.jsxs("div",{className:"voice-selector-section",children:[c.jsx("h3",{children:"3. Choisissez une narration (optionnel)"}),c.jsx("div",{className:"voice-options",children:YP.map(m=>c.jsxs(Fe.div,{className:`voice-option ${i===m.id?"selected":""}`,onClick:()=>g(m.id),whileHover:{scale:1.03},whileTap:{scale:.98},children:[c.jsx("div",{className:"voice-icon",children:m.id==="female"?"👩":"👨"}),c.jsx("div",{className:"voice-details",children:c.jsx("h4",{children:m.name})})]},m.id))})]})]})};const XP=[{id:"space",title:"Aventure spatiale",description:"Une exploration de l'espace et des planètes lointaines",emoji:"🚀"},{id:"ocean",title:"Sous l'océan",description:"Une aventure sous-marine avec des créatures fantastiques",emoji:"🐠"},{id:"dinosaur",title:"Monde des dinosaures",description:"Un voyage dans le temps à l'époque des dinosaures",emoji:"🦕"},{id:"fairy",title:"Conte de fées",description:"Une histoire magique avec des fées et des créatures enchantées",emoji:"🧚"},{id:"superhero",title:"Super-héros",description:"Une aventure où votre enfant devient un super-héros",emoji:"🦸"},{id:"jungle",title:"Aventure dans la jungle",description:"Une exploration de la jungle et ses animaux sauvages",emoji:"🌴"}],QP=({selectedStory:e,setSelectedStory:t,customStory:n,setCustomStory:r})=>{const[i,s]=D.useState(!1),o=d=>{t(d),d!=="custom"&&s(!1)},a=()=>{t("custom"),s(!0)},l=d=>{r(d.target.value)};return c.jsxs("div",{className:"story-selector",children:[c.jsx("h3",{children:"4. Choisissez un type d'histoire"}),c.jsxs("div",{className:"story-grid",children:[c.jsxs(Fe.div,{className:`story-card custom-story ${e==="custom"?"selected":""}`,onClick:a,whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"story-emoji",children:"✏️"}),c.jsx("h4",{children:"Personnalisé"}),c.jsx("p",{children:"Créez votre propre type d'histoire unique"})]}),XP.map(d=>c.jsxs(Fe.div,{className:`story-card ${e===d.id?"selected":""}`,onClick:()=>o(d.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"story-emoji",children:d.emoji}),c.jsx("h4",{children:d.title}),c.jsx("p",{children:d.description})]},d.id))]}),i&&c.jsxs(Fe.div,{className:"custom-story-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[c.jsx("label",{htmlFor:"customStory",children:"Décrivez votre type d'histoire"}),c.jsx(Fe.textarea,{id:"customStory",value:n,onChange:l,placeholder:"Ex: Une aventure dans un monde de bonbons où les arbres sont en chocolat...",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})]})},An={}.VITE_API_BASE_URL||"",_d={}.VITE_ANIMATION_API_BASE_URL||"https://da-production-6222.up.railway.app";const ZP=({selectedTheme:e,setSelectedTheme:t,selectedDuration:n,setSelectedDuration:r,selectedStyle:i,setSelectedStyle:s,customStory:o,setCustomStory:a,characterImage:l,setCharacterImage:d})=>{const[f,p]=D.useState([]),[g,m]=D.useState([]);D.useEffect(()=>{p([{id:"custom",name:"Personnalisé",description:"Écrivez votre propre histoire",emoji:"✏️"},{id:"space",name:"Espace",description:"Voyages spatiaux",emoji:"🚀"},{id:"ocean",name:"Sous-marin",description:"Exploration sous-marine",emoji:"🐠"},{id:"nature",name:"Nature",description:"Monde naturel",emoji:"🌳"},{id:"adventure",name:"Aventure",description:"Voyages et explorations",emoji:"🏰"},{id:"animals",name:"Animaux",description:"Histoires d'animaux mignons",emoji:"🐾"},{id:"magic",name:"Magie",description:"Monde magique et sortilèges",emoji:"✨"},{id:"friendship",name:"Amitié",description:"Histoires d'amitié",emoji:"🤝"},{id:"circus",name:"Cirque",description:"Spectacle de cirque magique",emoji:"🎪"}]),m([{value:30,label:"30 secondes"},{value:60,label:"1 minute"},{value:120,label:"2 minutes"},{value:180,label:"3 minutes"},{value:240,label:"4 minutes"},{value:300,label:"5 minutes"}])},[]);const N=[{id:"3d",name:"3D",description:"Animation 3D moderne",emoji:"🎭"},{id:"realistic",name:"Réaliste",description:"Style cinématographique",emoji:"🎬"},{id:"cartoon",name:"Cartoon",description:"Style dessin animé coloré",emoji:"🎨"},{id:"anime",name:"Anime",description:"Style manga japonais",emoji:"🇯🇵",useImage:!0,imagePath:"/assets/japan-flag.png"}],b=w=>{t(e===w?null:w)},A=w=>{r(n===w?null:w)},x=w=>{s(i===w?null:w)};return c.jsxs("div",{className:"animation-selector",children:[c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"2. Choisissez un thème pour votre dessin animé"}),c.jsx("div",{className:"themes-grid",children:f.map(w=>c.jsxs("div",{children:[c.jsxs(Fe.div,{className:`theme-card ${e===w.id?"selected":""} ${w.id==="custom"?"custom-animation":""}`,onClick:()=>b(w.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx("div",{className:"theme-emoji",children:w.emoji}),c.jsxs("div",{className:"theme-content",children:[c.jsx("h5",{children:w.name}),c.jsx("p",{children:w.description})]})]}),w.id==="custom"&&e==="custom"&&c.jsx(Fe.div,{className:"custom-theme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{className:"custom-story-textarea",value:o,onChange:j=>a(j.target.value),placeholder:"Il était une fois... Racontez votre histoire ici. Plus elle est détaillée, plus l'animation sera riche et personnalisée !",rows:4})})]},w.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"2. Choisissez la durée de l'animation"}),c.jsx("div",{className:"duration-options",children:g.map(w=>c.jsx(Fe.div,{className:`duration-option ${n===w.value?"selected":""}`,onClick:()=>A(w.value),whileHover:{scale:1.02},whileTap:{scale:.98},children:c.jsx("div",{className:"duration-label",children:w.label})},w.value))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"3. Choisissez un style visuel"}),c.jsx("div",{className:"style-options",children:N.map(w=>c.jsxs(Fe.div,{className:`style-option ${i===w.id?"selected":""}`,onClick:()=>x(w.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"style-emoji",children:[w.useImage?c.jsx("img",{src:w.imagePath,alt:w.name,className:"style-flag-image",onError:j=>{j.target.style.display="none",j.target.nextSibling.style.display="block"}}):null,c.jsx("span",{style:{display:w.useImage?"none":"block"},children:w.emoji})]}),c.jsxs("div",{className:"style-content",children:[c.jsx("h5",{children:w.name}),c.jsx("p",{children:w.description})]})]},w.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"4. Personnage principal (optionnel)"}),c.jsx("p",{className:"section-description",children:"Uploadez une photo pour créer un personnage personnalisé dans votre dessin animé"}),c.jsx("div",{className:"character-upload-container",children:l?c.jsxs("div",{className:"character-preview",children:[c.jsx("img",{src:l,alt:"Personnage",className:"character-image"}),c.jsx(Fe.button,{className:"remove-character-btn",onClick:()=>d(null),whileHover:{scale:1.1},whileTap:{scale:.9},children:"✕ Supprimer"})]}):c.jsxs(Fe.label,{className:"character-upload-zone",whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx("input",{type:"file",accept:"image/*",onChange:w=>{const j=w.target.files[0];if(j){const R=new FileReader;R.onloadend=()=>{d(R.result)},R.readAsDataURL(j)}},style:{display:"none"}}),c.jsx("div",{className:"upload-icon",children:"📸"}),c.jsxs("div",{className:"upload-text",children:[c.jsx("strong",{children:"Cliquez pour uploader une photo"}),c.jsx("span",{children:"ou glissez-déposez une image ici"})]})]})})]})]})};const ek=({animationResult:e,onClose:t})=>{var j,R,q,U;const[n,r]=D.useState("video"),[i,s]=D.useState(null);if(!e)return null;const{status:o,clips:a=[],scenes:l=[],generation_time:d,total_duration:f,successful_clips:p=0,fallback_clips:g=0,pipeline_type:m}=e,N=a.some(T=>T.status==="success")||o==="completed"&&(e.final_video_url||((j=e.result)==null?void 0:j.final_video_url)),b=l||e.scenes_details||[],A=T=>{if(!T||isNaN(T))return"---";const F=Math.floor(T/60),$=T%60;return F>0?`${F}m ${$}s`:`${$}s`},x=T=>{switch(T){case"success":return"#4CAF50";case"fallback":return"#FF9800";case"error":return"#F44336";default:return"#9E9E9E"}},w=T=>{switch(T){case"success":return"✅";case"fallback":return"⚠️";case"error":return"❌";default:return"🔄"}};return c.jsx(Fe.div,{className:"animation-viewer-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(Fe.div,{className:"animation-viewer",initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},onClick:T=>T.stopPropagation(),transition:{type:"spring",damping:20,stiffness:300},children:[c.jsxs("div",{className:"viewer-header",children:[c.jsx("h2",{children:"🎬 Votre dessin animé IA"}),o&&c.jsxs("div",{className:"status-badge",style:{backgroundColor:x(o)},children:[w(o)," ",o==="generating_idea"?"Création de l'idée...":o==="creating_scenes"?"Création des scènes...":o==="generating_clips"?"Génération vidéo...":o==="completed"?"Terminé !":o==="failed"?"Échoué":o]}),c.jsx("button",{className:"close-button",onClick:t,children:"✕"})]}),c.jsxs("div",{className:"animation-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:"⏱️"}),c.jsxs("span",{children:["Durée: ",A(f||e.duration)]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:"🎞️"}),c.jsxs("span",{children:[a.length," scènes"]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:"✅"}),c.jsxs("span",{children:[p," réussies"]})]}),g>0&&c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:"⚠️"}),c.jsxs("span",{children:[g," fallback"]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:"🚀"}),c.jsxs("span",{children:["Généré en ",d?Math.round(d)+"s":"En cours..."]})]})]}),c.jsxs("div",{className:"viewer-tabs",children:[c.jsx("button",{className:`tab ${n==="video"?"active":""}`,onClick:()=>r("video"),children:"🎬 Vidéo"}),c.jsx("button",{className:`tab ${n==="scenes"?"active":""}`,onClick:()=>r("scenes"),children:"🎞️ Scènes"}),c.jsx("button",{className:`tab ${n==="details"?"active":""}`,onClick:()=>r("details"),children:"📊 Détails"})]}),c.jsx("div",{className:"viewer-content",children:c.jsxs(pi,{mode:"wait",children:[n==="video"&&c.jsx(Fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"video-tab",children:N?c.jsx("div",{className:"video-player",children:e.final_video_url||(R=e.result)!=null&&R.final_video_url?c.jsxs("div",{className:"final-animation",children:[c.jsx("div",{className:"video-icon",children:"🎬"}),c.jsxs("h3",{children:["🎉 ",e.title||"Votre dessin animé est prêt !"]}),c.jsxs("p",{children:["Animation complète de ",A(f||e.duration)," avec ",p||a.length," scènes."]}),c.jsx("div",{className:"main-video-container",children:c.jsx("video",{src:e.final_video_url||((q=e.result)==null?void 0:q.final_video_url),className:"final-animation-video",controls:!0,autoPlay:!0,loop:!0,muted:!0,preload:"metadata",style:{width:"100%",maxWidth:"600px",height:"auto",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.2)",margin:"1rem 0"},onLoadedData:()=>{},onError:T=>{T.target.style.display="none"}})}),c.jsx("div",{className:"video-controls",children:c.jsx("button",{className:"play-btn",onClick:()=>{var T;return window.open(e.final_video_url||((T=e.result)==null?void 0:T.final_video_url),"_blank")},style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"},children:"🎬 Ouvrir en plein écran"})})]}):c.jsxs("div",{className:"animation-gallery",children:[c.jsx("div",{className:"video-icon",children:"🎬"}),c.jsx("h3",{children:"🎉 Votre dessin animé est prêt !"}),c.jsxs("p",{children:["Animation de ",A(f)," générée avec succès.",p>0&&` ${p} scènes créées avec l'IA.`]}),c.jsxs("div",{className:"scenes-gallery",children:[c.jsx("h4",{children:"🎨 Votre dessin animé en images :"}),c.jsx("div",{className:"gallery-grid",children:a.map((T,F)=>{let $=null,ee=!1;return T.video_url&&T.type==="real_video"?($=/^https?:\/\//i.test(T.video_url)?T.video_url:`${_d}${T.video_url}`,ee=!0):T.demo_image_url?$=/^https?:\/\//i.test(T.demo_image_url)?T.demo_image_url:`${_d}${T.demo_image_url}`:T.image_url?$=/^https?:\/\//i.test(T.image_url)?T.image_url:`${_d}${T.image_url}`:T.video_url&&($=/^https?:\/\//i.test(T.video_url)?T.video_url:`${_d}${T.video_url}`),c.jsxs("div",{className:"scene-media-card",children:[ee?c.jsx("video",{src:$,className:"scene-video",controls:!0,loop:!0,muted:!0,preload:"metadata",onLoadedData:()=>{},onError:E=>{E.target.style.display="none",E.target.nextSibling.style.display="flex"}}):c.jsx("img",{src:$,alt:`Scène ${T.scene_number}`,className:"scene-image",onLoad:()=>{},onError:E=>{E.target.style.display="none",E.target.nextSibling.style.display="flex"}}),c.jsxs("div",{className:"scene-placeholder",style:{display:"none"},children:[c.jsx("span",{children:"🎬"}),c.jsxs("p",{children:["Scène ",T.scene_number]}),c.jsx("small",{children:T.type||"En cours..."})]}),c.jsxs("div",{className:"scene-info",children:[c.jsxs("span",{children:["Scène ",T.scene_number]}),c.jsx("span",{children:A(T.duration)}),T.type==="real_video"&&c.jsx("span",{className:"clip-type real",children:"🎥 Vidéo"}),T.type==="demo"&&c.jsx("span",{className:"clip-type demo",children:"🎨 Démo"}),T.status==="success"&&c.jsx("span",{className:"clip-status success",children:"✅"}),T.status==="fallback"&&c.jsx("span",{className:"clip-status fallback",children:"⚠️"})]})]},F)})}),c.jsx("div",{className:"gallery-summary",children:c.jsxs("p",{children:[c.jsx("strong",{children:"🎬 Votre animation complète :"}),a.length," scènes illustrées représentant votre histoire. Chaque image correspond à un moment clé de votre récit généré par l'IA."]})})]}),a.filter(T=>T.status==="success").length>0&&c.jsxs("div",{className:"video-clips-list",children:[c.jsx("h4",{children:"📝 Toutes les scènes générées :"}),a.filter(T=>T.status==="success").map((T,F)=>c.jsxs("div",{className:"clip-item",children:[c.jsxs("span",{children:["🎬 Scène ",T.scene_number]}),c.jsx("span",{children:A(T.duration)}),T.type==="image"&&c.jsx("span",{className:"clip-type",children:"🎨 Image"})]},F))]}),c.jsxs("div",{className:"video-actions",children:[c.jsx("button",{className:"download-btn",children:"📥 Télécharger"}),c.jsx("button",{className:"share-btn",children:"🔗 Partager"})]})]})}):c.jsxs("div",{className:"no-video",children:[c.jsx("div",{className:"no-video-icon",children:o==="completed"?"✅":"⚠️"}),c.jsx("h3",{children:o==="completed"?"Animation terminée !":"Génération en cours..."}),c.jsx("p",{children:o==="completed"?"Votre animation a été générée avec succès ! Thème: "+(e.theme||"N/A"):"La génération vidéo peut prendre quelques minutes. Certaines scènes utilisent des modes de fallback."}),o==="completed"&&(e.final_video_url||((U=e.result)==null?void 0:U.final_video_url))&&c.jsx("div",{className:"video-controls",children:c.jsx("button",{className:"play-btn",onClick:()=>{var T;return window.open(e.final_video_url||((T=e.result)==null?void 0:T.final_video_url),"_blank")},children:"🎬 Voir l'animation"})})]})},"video"),n==="scenes"&&c.jsx(Fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"scenes-tab",children:c.jsx("div",{className:"scenes-list",children:b.map((T,F)=>{const $=a.find(ee=>ee.scene_number===T.scene_number);return c.jsxs(Fe.div,{className:`scene-card ${i===F?"selected":""}`,onClick:()=>s(i===F?null:F),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"scene-header",children:[c.jsxs("span",{className:"scene-number",children:["Scène ",T.scene_number]}),c.jsxs("div",{className:"scene-status",children:[c.jsx("span",{className:"status-icon",style:{color:x(($==null?void 0:$.status)||"pending")},children:w(($==null?void 0:$.status)||"pending")}),c.jsx("span",{className:"status-text",children:($==null?void 0:$.status)||"pending"})]})]}),c.jsx("h4",{children:T.description}),c.jsxs("p",{children:[c.jsx("strong",{children:"Action:"})," ",T.action]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Décor:"})," ",T.setting]}),c.jsxs("div",{className:"scene-duration",children:["Durée: ",A(T.duration)]}),i===F&&$&&c.jsx(Fe.div,{className:"scene-details",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:$.video_url&&c.jsx("div",{className:"clip-preview",children:c.jsxs("span",{children:["📁 Fichier: ",$.video_url]})})})]},T.scene_number)})})},"scenes"),n==="details"&&c.jsx(Fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"details-tab",children:c.jsxs("div",{className:"technical-details",children:[c.jsx("h4",{children:"🤖 Détails techniques"}),c.jsxs("div",{className:"detail-grid",children:[c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Pipeline:"}),c.jsx("span",{children:m||"custom_animation_ai"})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Statut:"}),c.jsx("span",{className:`status ${o}`,children:o})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Temps de génération:"}),c.jsxs("span",{children:[Math.round(d),"s"]})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Scènes totales:"}),c.jsx("span",{children:a.length})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Scènes réussies:"}),c.jsx("span",{children:p})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Durée totale:"}),c.jsx("span",{children:A(f)})]})]}),e.note&&c.jsxs("div",{className:"generation-note",children:[c.jsx("h5",{children:"📝 Note de génération"}),c.jsx("p",{children:e.note})]})]})},"details")]})})]})})};const tk=({customRequest:e,setCustomRequest:t})=>c.jsxs("div",{className:"custom-request",children:[c.jsx("h3",{children:"Demandes spécifiques (optionnel)"}),c.jsx("div",{className:"request-form",children:c.jsxs("div",{className:"input-group",children:[c.jsx("label",{htmlFor:"customRequest",children:"Avez-vous des demandes particulières ?"}),c.jsx(Fe.textarea,{id:"customRequest",value:e,onChange:n=>t(n.target.value),placeholder:"Ex: En anglais, avec un chien bleu, inclure un message sur l'amitié...",rows:3,whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})})]});const nk=({onGenerate:e,isGenerating:t,isDisabled:n,contentType:r,buttonText:i})=>{const s=()=>t?r==="rhyme"?"Création de la comptine en cours...":r==="coloring"?"Création du coloriage en cours...":r==="comic"?"Création de la BD en cours...":r==="animation"?"Création du dessin animé en cours...":"Création du contenu en cours...":i||(r==="rhyme"?"Créer ma comptine":r==="coloring"?"Créer mon coloriage":r==="comic"?"Créer ma bande dessinée":r==="animation"?"Créer mon dessin animé":r==="audio"?"Créer mon histoire":"Créer mon contenu");return c.jsxs("div",{className:"generate-button-container",children:[c.jsxs(Fe.button,{className:"generate-button",onClick:e,disabled:n||t,whileHover:!n&&!t?{scale:1.03}:{},whileTap:!n&&!t?{scale:.98}:{},initial:{opacity:.9},animate:{opacity:n?.6:1,y:[0,t?-5:0,0]},transition:{duration:t?.5:.2,repeat:t?1/0:0},children:[t&&c.jsxs("div",{className:"button-loading-dots",children:[c.jsx("div",{className:"button-dot"}),c.jsx("div",{className:"button-dot"}),c.jsx("div",{className:"button-dot"})]}),c.jsx("span",{children:s()})]}),n&&!t&&c.jsx("p",{className:"generate-button-hint",children:r==="story"?"Veuillez remplir tous les champs requis pour créer votre BD":r==="rhyme"?"Veuillez sélectionner un type de comptine pour continuer":r==="coloring"?"Veuillez sélectionner un thème de coloriage pour continuer":r==="comic"?"Veuillez sélectionner un thème, un style et un nombre de pages pour votre BD":r==="animation"?"Veuillez sélectionner un thème et configurer votre animation":"Veuillez sélectionner un type d'histoire (et une voix) pour continuer"})]})};async function rk(e){return new Promise((t,n)=>{const r=new window.Image;r.crossOrigin="Anonymous",r.onload=function(){const i=document.createElement("canvas");i.width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0);const o=i.toDataURL("image/png");t({width:r.width,height:r.height,dataUrl:o})},r.onerror=n,r.src=e})}function ik(e,t=""){return(!e||e.trim()==="")&&(e={coloriage:"coloriage",comic:"bande_dessinee",comptine:"comptine",histoire:"histoire",animation:"animation"}[t]||"creation"),String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").toLowerCase()}async function tg(e,t="coloriages"){const n=new rt({orientation:"portrait",unit:"px",format:"a4"}),r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),s=40,o=r-2*s,a=i-2*s,l=await Promise.all(e.map(async f=>{try{const p=f.image_url||f;return await rk(p)}catch(p){return console.warn("Erreur chargement image pour le PDF :",f,p),null}}));let d=!0;for(let f=0;f<l.length;f++){if(!l[f])continue;d||n.addPage(),d=!1;const{dataUrl:p,width:g,height:m}=l[f],N=g/m;let b=o,A=o/N;A>a&&(A=a,b=a*N);const x=(r-b)/2,w=(i-A)/2;n.addImage(p,"PNG",x,w,b,A)}n.save(`${ik(t)}.pdf`)}function sk(e){const[t,n]=D.useState([]),[r,i]=D.useState(!1),[s,o]=D.useState(null);return D.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{i(!0);try{const{data:d,error:f}=await un.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});f?(console.error("Erreur récupération créations:",f),o(f.message),n([])):(n(d||[]),o(null))}catch(d){console.error("Erreur critique récupération créations:",d),o(d.message),n([])}finally{i(!1)}})()},[e]),{creations:t,loading:r,error:s,refreshCreations:async()=>{if(e){i(!0);try{const{data:l,error:d}=await un.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});d?o(d.message):(n(l||[]),o(null))}catch(l){o(l.message)}finally{i(!1)}}}}}const ok=({onClose:e,onSelect:t})=>{const{user:n}=Z0(),{creations:r,loading:i,refreshCreations:s}=sk(n==null?void 0:n.id),o=async p=>{if(window.confirm("Supprimer cette création ?"))try{const{error:m}=await db(p);if(m){alert("Erreur lors de la suppression !");return}s()}catch(m){console.error("Erreur lors de la suppression:",m),alert("Erreur lors de la suppression !")}},a=p=>{const g=new Date(p);return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(g)},l=p=>{switch(p){case"story":return"📚";case"rhyme":return"🎵";case"audio":return"📖";case"coloring":return"🎨";case"crewai_animation":return"🎬";case"animation":return"🎬";default:return"📄"}},d=p=>{switch(p){case"story":return"Bande dessinée";case"rhyme":return"Comptine";case"audio":return"Histoire";case"coloring":return"Coloriage";case"crewai_animation":return"Dessin animé";case"animation":return"Dessin animé";default:return"Création"}},f=p=>{var F;const g=p.content||((F=p.data)==null?void 0:F.content)||"";if(!g||typeof g!="string"){console.error("❌ Contenu invalide ou manquant pour le PDF.");return}const m=new rt({orientation:"p",unit:"mm",format:"a4"}),N=40,b=210,A=297,x=12,w=Math.floor((A-N*2)/x),j=13;let R=p.title,q=g;g.startsWith("**")&&g.includes("**",2)&&(R=g.split("**")[1].trim(),q=g.replace(`**${R}**`,"").trim());const U=$=>new Promise(ee=>{const E=new Image;E.crossOrigin="anonymous",E.src=$,E.onload=()=>ee(E)});(async()=>{try{const $="/assets/fond.png?v=1";let ee=null;try{ee=await U($)}catch{console.log("⚠️ Image de fond non disponible, PDF sans fond")}const E=m.splitTextToSize(q,150);let M=0;for(let X=0;M<E.length;X++){X>0&&m.addPage(),ee&&m.addImage(ee,"PNG",0,0,b,A,void 0,"FAST"),X===0&&(m.setFont("courier","bold"),m.setFontSize(22),m.setTextColor(110,50,230),m.text(R,b/2,N-20,{align:"center"})),m.setFont("courier","bold"),m.setFontSize(j),m.setTextColor(25,25,112);for(let G=0;G<w&&M<E.length;G++,M++){const de=N+G*x;m.text(E[M],b/2,de,{align:"center"})}m.setFontSize(11),m.setTextColor(106,90,205),m.text(`Page ${X+1}`,b-15,290,{align:"right"})}}catch($){console.error("❌ Erreur lors de la génération du PDF:",$),m.setFontSize(22),m.setTextColor(110,50,230),m.setFont("courier","bold"),m.text(R,b/2,N-20,{align:"center"}),m.setFontSize(j),m.setTextColor(25,25,112),m.setFont("courier","bold");const ee=m.splitTextToSize(q,150);for(let E=0;E<ee.length;E++){const M=N+E*x;m.text(ee[E],b/2,M,{align:"center"})}}})().then(()=>{const $=R.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),ee=m.output("blob"),E=URL.createObjectURL(ee),M=document.createElement("a");M.href=E,M.download=`${$}.pdf`,M.style.display="none",document.body.appendChild(M),M.click(),document.body.removeChild(M),setTimeout(()=>{URL.revokeObjectURL(E)},100)})};return c.jsxs(Fe.div,{className:"history-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},onClick:p=>p.stopPropagation(),children:[c.jsxs("div",{className:"history-header",children:[c.jsx("h2",{children:"Historique de vos créations"}),c.jsx("button",{className:"close-button",onClick:e,children:"×"})]}),c.jsx("div",{className:"history-content",children:n?r.length===0&&!i?c.jsxs("div",{className:"empty-history",children:[c.jsx("p",{children:"Vous n'avez pas encore de créations"}),c.jsx("p",{className:"empty-subtext",children:"Vos créations apparaîtront ici une fois générées"})]}):c.jsx("div",{className:"creations-list",children:r.map(p=>{var b,A,x,w,j,R,q,U,T,F,$,ee,E,M,X;const g=!!(p.audio_path||(b=p.data)!=null&&b.audio_path),m=!!(p.content||(A=p.data)!=null&&A.content),N=["creation-item",g?"has-audio":"",m?"has-text":""].filter(Boolean).join(" ");return c.jsxs(Fe.div,{className:N,onClick:()=>t({...p,action:p.type==="coloring"?"showColoring":"showStory"}),whileHover:{scale:1.01},transition:{duration:.2},children:[c.jsx("div",{className:"creation-icon",children:l(p.type)}),"                  ",c.jsxs("div",{className:"creation-details",children:[c.jsx("h3",{children:p.title}),c.jsxs("div",{className:"creation-meta",children:[c.jsx("span",{className:"creation-type",children:d(p.type)}),c.jsx("span",{className:"creation-date",children:a(p.created_at)})]}),"                  ",(p.audio_path||((x=p.data)==null?void 0:x.audio_path))&&c.jsx("audio",{controls:!0,className:"creation-audio",src:`${An}/${p.audio_path||((w=p.data)==null?void 0:w.audio_path)}`}),c.jsxs("div",{className:"creation-actions",children:[p.type==="rhyme"&&(p.audio_path||((j=p.data)==null?void 0:j.audio_path))&&c.jsx("button",{className:"btn-pdf",onClick:async G=>{var de,ae;G.stopPropagation();try{const ce=`${An}/${p.audio_path||((de=p.data)==null?void 0:de.audio_path)}`,ie=await(await fetch(ce)).blob(),Y=URL.createObjectURL(ie);let me=p.title||"Comptine";const C=p.content||((ae=p.data)==null?void 0:ae.content)||"";C&&C.startsWith("**")&&C.includes("**",2)&&(me=C.split("**")[1].trim());const B=me.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),z=document.createElement("a");z.href=Y,z.download=`${B}.mp3`,z.style.display="none",document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(Y)}catch(ce){console.error("Erreur lors du téléchargement de la comptine:",ce),alert("Erreur lors du téléchargement. Veuillez réessayer.")}},children:"🎵 Télécharger la comptine"}),p.type==="audio"&&(p.content||((R=p.data)==null?void 0:R.content))&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn-pdf",onClick:G=>{G.stopPropagation(),f(p)},children:"📄 Télécharger le PDF"}),(p.audio_path||((q=p.data)==null?void 0:q.audio_path))&&(p.audio_generated||((U=p.data)==null?void 0:U.audio_generated))&&c.jsx("button",{className:"btn-audio",onClick:async G=>{var de,ae;G.stopPropagation();try{const ce=`${An}/${p.audio_path||((de=p.data)==null?void 0:de.audio_path)}`,ie=await(await fetch(ce)).blob(),Y=URL.createObjectURL(ie);let me=p.title||"Histoire";const C=p.content||((ae=p.data)==null?void 0:ae.content)||"";C&&C.startsWith("**")&&C.includes("**",2)&&(me=C.split("**")[1].trim());const B=me.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),z=document.createElement("a");z.href=Y,z.download=`${B}.mp3`,z.style.display="none",document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(Y)}catch(ce){console.error("Erreur lors du téléchargement audio:",ce),alert("Erreur lors du téléchargement. Veuillez réessayer.")}},children:"🎵 Télécharger l'audio"})]}),(p.audio_path||((T=p.data)==null?void 0:T.audio_path))&&(p.audio_generated||((F=p.data)==null?void 0:F.audio_generated))&&p.type!=="rhyme"&&p.type!=="audio"&&c.jsx("a",{className:"btn-audio",href:`${An}/${p.audio_path||(($=p.data)==null?void 0:$.audio_path)}`,download:!0,onClick:G=>G.stopPropagation(),children:"🔊 Télécharger l'audio"}),p.type==="coloring"&&(p.images||((ee=p.data)==null?void 0:ee.images))&&(((E=p.images)==null?void 0:E.length)>0||((X=(M=p.data)==null?void 0:M.images)==null?void 0:X.length)>0)&&c.jsx("button",{className:"btn-pdf",onClick:G=>{var ce;G.stopPropagation();const de=p.title||(p.theme?`coloriages_${p.theme}`:"coloriages"),ae=p.images||((ce=p.data)==null?void 0:ce.images)||[];tg(ae,de)},children:"📄 Télécharger le coloriage"}),c.jsx("button",{className:"btn-delete",onClick:G=>{G.stopPropagation(),o(p.id)},children:"🗑️ Supprimer"})]})]})]},p.id)})}):c.jsx("div",{className:"empty-history",children:c.jsx("p",{children:"Connexion en cours..."})})})]})};const ak=({title:e,content:t,onClose:n,children:r})=>{const[i,s]=D.useState(!1),o=D.useRef(null),a=()=>{var d;document.fullscreenElement?(document.exitFullscreen(),s(!1)):((d=o.current)==null||d.requestFullscreen(),s(!0))},l=d=>{d.target.classList.contains("story-popup-overlay")&&n()};return c.jsx("div",{className:"story-popup-overlay",onClick:l,children:c.jsxs("div",{className:"story-popup-content",ref:o,children:[c.jsx("div",{className:"story-background"}),c.jsx("button",{className:"story-close-btn",onClick:n,children:"×"}),c.jsx("button",{className:"story-fullscreen-btn",onClick:a,children:i?"✖ Quitter le plein écran":"⛶ Plein écran"}),c.jsxs("div",{className:"story-scroll",children:[e&&c.jsx("h2",{className:"story-title",children:e}),t&&typeof t=="string"?c.jsx("div",{className:"story-text",children:t}):r]})]})})};const lk=({selectedTheme:e,setSelectedTheme:t,customColoringTheme:n,setCustomColoringTheme:r,uploadedPhoto:i,setUploadedPhoto:s,withColoredModel:o,setWithColoredModel:a})=>{const[l,d]=D.useState(!1),[f,p]=D.useState(!1),[g,m]=D.useState(null),N=[{value:"upload_photo",label:"Ma Photo",icon:"📸",description:"Transformez votre photo en coloriage !",special:!0},{value:"custom",label:"Personnalisé",icon:"✏️",description:"Créez votre propre thème de coloriage"},{value:"animals",label:"Animaux",icon:"🐾",description:"Chats, chiens, lions, éléphants..."},{value:"dinosaurs",label:"Dinosaures",icon:"🦕",description:"T-Rex, Triceratops, volcans..."},{value:"dragons",label:"Dragons",icon:"🐉",description:"Dragons mignons, chevaliers..."},{value:"farm",label:"Ferme",icon:"🐄",description:"Vache, cochon, poule, tracteur..."},{value:"fairies",label:"Fées & Licornes",icon:"🧚",description:"Fées, licornes, châteaux magiques..."},{value:"princess",label:"Princesses",icon:"👸",description:"Princesses, robes, diadèmes..."},{value:"mermaids",label:"Sirènes",icon:"🧜‍♀️",description:"Sirènes, coquillages, palais sous-marin..."},{value:"pirates",label:"Pirates",icon:"🏴‍☠️",description:"Bateaux pirates, trésors, perroquets..."},{value:"superheroes",label:"Super-héros",icon:"🦸",description:"Héros masqués, super-pouvoirs..."},{value:"space",label:"Espace",icon:"🚀",description:"Fusées, planètes, astronautes..."},{value:"robots",label:"Robots",icon:"🤖",description:"Robots futuristes, androïdes..."},{value:"vehicles",label:"Véhicules",icon:"🚗",description:"Voitures, avions, trains, bateaux..."},{value:"nature",label:"Nature",icon:"🌺",description:"Fleurs, arbres, papillons, paysages..."},{value:"ocean",label:"Océan",icon:"🐠",description:"Poissons, dauphins, coraux, tortues..."},{value:"seasons",label:"Saisons",icon:"🍂",description:"Automne, hiver, printemps, été..."},{value:"sports",label:"Sports",icon:"⚽",description:"Football, basketball, natation..."},{value:"fruits",label:"Fruits & Légumes",icon:"🍎",description:"Fruits rigolos, légumes souriants..."},{value:"professions",label:"Métiers",icon:"👩‍⚕️",description:"Médecins, pompiers, cuisiniers..."},{value:"emotions",label:"Émotions",icon:"😄",description:"Visages joyeux, tristes, surpris..."}],b=j=>{e===j?(t(""),d(!1),p(!1)):(t(j),d(j==="custom"),p(j==="upload_photo"))},A=j=>{const R=j.target.files[0];if(R){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(R.type)){alert("Format de fichier non supporté. Utilisez JPG, PNG, GIF ou WebP.");return}if(R.size>5*1024*1024){alert("La photo est trop grande. Taille maximale : 5 MB");return}const U=new FileReader;U.onloadend=()=>{m(U.result)},U.readAsDataURL(R),s(R)}},x=j=>{a(o===j?null:j)},w=()=>{s(null),m(null);const j=document.getElementById("photo-upload-input");j&&(j.value="")};return c.jsxs("div",{className:"coloring-selector",children:[c.jsx("h3",{children:"2. Choisissez un thème pour vos coloriages"}),c.jsx("div",{className:"theme-grid",children:N.map((j,R)=>c.jsxs("div",{className:"theme-slot",children:[c.jsxs(Fe.div,{className:`theme-option ${j.special?"photo-upload-option":""} ${j.value==="custom"?"custom-coloring":""} ${e===j.value?"selected":""}`,onClick:()=>b(j.value),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"theme-icon",children:j.icon}),c.jsxs("div",{className:"theme-info",children:[c.jsx("h4",{children:j.label}),c.jsx("p",{children:j.description})]})]}),j.special&&f&&e==="upload_photo"&&c.jsxs(Fe.div,{className:"photo-upload-container inline-upload",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[c.jsxs("div",{className:"upload-section",children:[c.jsx("p",{className:"upload-hint",children:"Formats acceptés : JPG, PNG, GIF, WebP (max 5 MB)"}),c.jsx("input",{type:"file",id:"photo-upload-input",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:A,style:{display:"none"}}),g?c.jsx("div",{className:"photo-preview-container",children:c.jsx("img",{src:g,alt:"Aperçu",className:"photo-preview"})}):c.jsxs("label",{htmlFor:"photo-upload-input",className:"upload-button",children:[c.jsx("span",{className:"upload-icon",children:"📁"}),c.jsx("span",{children:"Choisir une photo"})]})]}),g&&c.jsx(Fe.div,{className:"remove-photo-section",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:c.jsx("button",{onClick:w,className:"remove-photo-button",children:"🗑️ Supprimer la photo"})})]}),j.value==="custom"&&l&&e==="custom"&&c.jsx(Fe.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("input",{type:"text",placeholder:"Décrivez votre thème de coloriage personnalisé...",value:n,onChange:q=>r(q.target.value),className:"custom-input"})})]},j.value))}),c.jsxs("div",{className:"model-choice-section",children:[c.jsx("h3",{children:"3. Voulez-vous un modèle ?"}),c.jsxs("div",{className:"model-buttons",children:[c.jsxs(Fe.button,{className:`model-btn ${o===!0?"active":""}`,onClick:()=>x(!0),whileHover:{y:-3},whileTap:{scale:.98},children:[c.jsx("span",{className:"model-icon",children:"🎨"}),c.jsx("span",{className:"model-label",children:"Avec modèle"}),c.jsx("span",{className:"model-desc",children:"Inclut un exemple coloré en coin"})]}),c.jsxs(Fe.button,{className:`model-btn ${o===!1?"active":""}`,onClick:()=>x(!1),whileHover:{y:-3},whileTap:{scale:.98},children:[c.jsx("span",{className:"model-icon",children:"✏️"}),c.jsx("span",{className:"model-label",children:"Sans modèle"}),c.jsx("span",{className:"model-desc",children:"Coloriage pur, liberté créative"})]})]})]})]})};const u4=({imageUrl:e,theme:t,onClose:n,onSave:r})=>{const i=D.useRef(null),[s,o]=D.useState(null),[a,l]=D.useState("#FF6B6B"),[d,f]=D.useState("bucket"),[p,g]=D.useState(!1),[m,N]=D.useState(1),[b,A]=D.useState(!1),[x,w]=D.useState(null),[j,R]=D.useState(null),q=["#FF6B6B","#FF4757","#FF6348","#FFA07A","#FF85C0","#FFB6C1","#FF1493","#DC143C","#F8B739","#FFA500","#FFD700","#F7DC6F","#FFDAB9","#FFE4B5","#F4A460","#FDB813","#52C41A","#98D8C8","#81C784","#00C853","#20B2AA","#3CB371","#90EE90","#7FFF00","#4ECDC4","#45B7D1","#85C1E9","#A8DADC","#00BFFF","#1E90FF","#4169E1","#6495ED","#BB8FCE","#9B59B6","#8B008B","#DA70D6","#E6E6FA","#DDA0DD","#BA55D3","#9370DB","#DDA15E","#BC6C25","#D2691E","#CD853F","#8B4513","#A0522D","#F5DEB3","#FAEBD7","#95A5A6","#7F8C8D","#BDC3C7","#ECF0F1","#D3D3D3","#C0C0C0","#A9A9A9","#808080","#E07A5F","#FF6B9D","#00D9FF","#FFEB3B","#FF5722","#8BC34A","#00BCD4","#E91E63"];D.useEffect(()=>{const Y=i.current;if(!Y)return;const me=Y.getContext("2d",{willReadFrequently:!0});o(me);const C=new Image;C.crossOrigin="anonymous",C.onload=()=>{const B=window.innerWidth*.9,z=window.innerHeight*.7;let J=C.width,Q=C.height;J>B&&(Q=B/J*Q,J=B),Q>z&&(J=z/Q*J,Q=z),Y.width=J,Y.height=Q,me.drawImage(C,0,0,J,Q),w(me.getImageData(0,0,J,Q));const oe=me.createImageData(J,Q);R(oe),A(!0)},C.onerror=()=>{console.error("Erreur de chargement de l'image")},C.src=e},[e]);const U=(Y,me,C)=>{if(!s||!x)return;const B=i.current,z=s.getImageData(0,0,B.width,B.height),J=z.data,Q=F(J,Y,me,B.width),oe=ee(C);if(E(Q,oe))return;const he=[[Y,me]],ue=new Set;for(;he.length>0;){const[Se,we]=he.pop(),Te=`${Se},${we}`;if(ue.has(Te)||Se<0||Se>=B.width||we<0||we>=B.height)continue;const ke=F(J,Se,we,B.width);M(ke)||E(ke,Q)&&(ue.add(Te),$(J,Se,we,B.width,oe),he.push([Se+1,we]),he.push([Se-1,we]),he.push([Se,we+1]),he.push([Se,we-1]))}s.putImageData(z,0,0)},T=(Y,me)=>{if(!s||!x)return;const C=i.current,B=s.getImageData(0,0,C.width,C.height),z=B.data,J=x.data,Q=F(z,Y,me,C.width);if(X(Q))return;const oe=[[Y,me]],he=new Set;for(;oe.length>0;){const[ue,Se]=oe.pop(),we=`${ue},${Se}`;if(he.has(we)||ue<0||ue>=C.width||Se<0||Se>=C.height)continue;const Te=F(z,ue,Se,C.width);if(M(Te)||!E(Te,Q))continue;he.add(we);const ke=(Se*C.width+ue)*4;z[ke]=J[ke],z[ke+1]=J[ke+1],z[ke+2]=J[ke+2],z[ke+3]=J[ke+3],oe.push([ue+1,Se]),oe.push([ue-1,Se]),oe.push([ue,Se+1]),oe.push([ue,Se-1])}s.putImageData(B,0,0)},F=(Y,me,C,B)=>{const z=(C*B+me)*4;return{r:Y[z],g:Y[z+1],b:Y[z+2],a:Y[z+3]}},$=(Y,me,C,B,z)=>{const J=(C*B+me)*4;Y[J]=z.r,Y[J+1]=z.g,Y[J+2]=z.b,Y[J+3]=255},ee=Y=>{const me=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Y);return me?{r:parseInt(me[1],16),g:parseInt(me[2],16),b:parseInt(me[3],16),a:255}:{r:0,g:0,b:0,a:255}},E=(Y,me,C=10)=>Math.abs(Y.r-me.r)<=C&&Math.abs(Y.g-me.g)<=C&&Math.abs(Y.b-me.b)<=C,M=(Y,me=50)=>Y.r<me&&Y.g<me&&Y.b<me,X=(Y,me=240)=>Y.r>me&&Y.g>me&&Y.b>me||Y.a<10,G=Y=>{if(!b)return;const me=i.current,C=me.getBoundingClientRect(),B=Math.floor((Y.clientX-C.left)*(me.width/C.width)),z=Math.floor((Y.clientY-C.top)*(me.height/C.height));d==="bucket"?U(B,z,a):d==="eraser"&&T(B,z)},de=()=>{i.current.toBlob(me=>{const C=URL.createObjectURL(me),B=document.createElement("a");B.href=C;const J=(t||"coloriage").replace(/[^a-z0-9]/gi,"_").toLowerCase();B.download=`coloriages_${J}_colorie.png`,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(C)})},ae=Y=>{Y.target.classList.contains("coloring-canvas-overlay")&&n()},ce=()=>{!s||!x||s.putImageData(x,0,0)},H=()=>{N(Y=>Math.min(Y+.5,3)),g(!0)},ie=()=>{m>1&&(N(Y=>Math.max(Y-.5,1)),m-.5<=1&&g(!1))};return c.jsx("div",{className:"coloring-canvas-overlay",onClick:ae,children:c.jsxs("div",{className:"coloring-canvas-container",children:[c.jsxs("div",{className:"coloring-toolbar-top",children:[c.jsx("h2",{className:"coloring-canvas-title",children:"🎨 Coloriez votre dessin"}),c.jsxs("div",{className:"coloring-zoom-controls",children:[c.jsx("button",{className:"coloring-zoom-btn",onClick:ie,disabled:m<=1,title:"Zoom arrière",children:"−"}),c.jsxs("span",{style:{color:"white",fontWeight:"bold",minWidth:"60px",textAlign:"center"},children:[Math.round(m*100),"%"]}),c.jsx("button",{className:"coloring-zoom-btn",onClick:H,disabled:m>=3,title:"Zoom avant",children:"+"})]}),c.jsxs("div",{className:"coloring-toolbar-actions",children:[c.jsx("button",{className:"coloring-btn coloring-reset-btn",onClick:ce,title:"Réinitialiser",children:"🔄 Réinitialiser"}),c.jsx("button",{className:"coloring-btn coloring-save-btn",onClick:de,title:"Télécharger",children:"💾 Télécharger"}),c.jsx("button",{className:"coloring-btn coloring-close-btn-top",onClick:n,title:"Fermer",children:"✕"})]})]}),c.jsxs("div",{className:"coloring-canvas-wrapper",children:[c.jsx("canvas",{ref:i,onClick:G,className:`coloring-canvas ${p?"zoomed":""}`,style:{transform:`scale(${m})`}}),!b&&c.jsxs("div",{className:"coloring-loading",children:[c.jsx("div",{className:"coloring-spinner"}),c.jsx("p",{children:"Chargement du coloriage..."})]})]}),c.jsxs("div",{className:"coloring-toolbar-bottom",children:[c.jsxs("div",{className:"coloring-tools",children:[c.jsx("button",{className:`coloring-tool-btn ${d==="bucket"?"active":""}`,onClick:()=>f("bucket"),title:"Seau de peinture",children:"🪣"}),c.jsx("button",{className:`coloring-tool-btn ${d==="eraser"?"active":""}`,onClick:()=>f("eraser"),title:"Gomme",children:"🧽"})]}),c.jsx("div",{className:"coloring-palette",children:q.map((Y,me)=>c.jsx("button",{className:`coloring-color-btn ${a===Y&&d==="bucket"?"active":""}`,style:{backgroundColor:Y},onClick:()=>{l(Y),f("bucket")},title:Y},me))})]})]})})},ck=({coloringResult:e,onClose:t,selectedTheme:n})=>{const[r,i]=D.useState(!1),[s,o]=D.useState(!1),a=D.useRef(null),l=()=>{var N;document.fullscreenElement?(document.exitFullscreen(),i(!1)):((N=a.current)==null||N.requestFullscreen(),i(!0))},d=N=>{N.target.classList.contains("coloring-popup-overlay")&&t()},f=()=>{if(e!=null&&e.images&&e.images.length>0){const N=e.title||(n?`coloriages_${n}`:"coloriages");tg(e.images,N)}else console.warn("Aucune image disponible pour le téléchargement PDF")};if(!e||!e.images||e.images.length===0)return null;const p=e.images[0],g=p.image_url||p,m=()=>{o(!0)};return c.jsx(c.Fragment,{children:s?c.jsx(u4,{imageUrl:g,onClose:()=>o(!1)}):c.jsx("div",{className:"coloring-popup-overlay",onClick:d,children:c.jsxs("div",{className:"coloring-popup-content",ref:a,children:[c.jsx("div",{className:"coloring-background"}),c.jsx("button",{className:"coloring-close-btn",onClick:t,children:"×"}),c.jsx("button",{className:"coloring-fullscreen-btn",onClick:l,children:r?"✖ Quitter le plein écran":"⛶ Plein écran"}),c.jsxs("div",{className:"coloring-container",children:[c.jsx("h2",{className:"coloring-title",children:"🎨 Votre coloriage"}),c.jsx("div",{className:"coloring-image-wrapper",children:c.jsx("img",{src:g,alt:"Coloriage",className:"coloring-popup-image"})}),c.jsxs("div",{className:"coloring-popup-actions",children:[c.jsx("button",{className:"coloring-open-btn",onClick:m,children:"🎨 Colorier maintenant"}),c.jsx("button",{className:"coloring-download-btn",onClick:f,children:"📄 Télécharger le coloriage"})]})]})]})})})};const uk=({selectedTheme:e,setSelectedTheme:t,selectedStyle:n,setSelectedStyle:r,numPages:i,setNumPages:s,customStory:o,setCustomStory:a,characterPhoto:l,setCharacterPhoto:d,onCharacterPhotoUpload:f})=>{const[p,g]=D.useState(!1),m=[{id:"custom",name:"Personnalisé",icon:"✏️",description:"Votre propre histoire"},{id:"espace",name:"Espace",icon:"🚀",description:"Aventures spatiales"},{id:"pirates",name:"Pirates",icon:"🏴‍☠️",description:"Trésors et mers"},{id:"princesses",name:"Princesses",icon:"👸",description:"Châteaux magiques"},{id:"dinosaures",name:"Dinosaures",icon:"🦕",description:"Monde préhistorique"},{id:"animaux",name:"Animaux",icon:"🐾",description:"Animaux mignons"},{id:"superheros",name:"Super-héros",icon:"🦸",description:"Pouvoirs incroyables"},{id:"foret",name:"Forêt Magique",icon:"🌲",description:"Forêt enchantée"},{id:"ecole",name:"École",icon:"🎒",description:"Aventures scolaires"}],N=[{id:"3d",name:"3D",icon:"🎭",description:"Effets 3D modernes"},{id:"cartoon",name:"Cartoon",icon:"🎨",description:"Coloré et enfantin"},{id:"manga",name:"Manga",icon:"🎌",description:"Style japonais"},{id:"comics",name:"Comics Marvel",icon:"💥",description:"Style américain"},{id:"realistic",name:"Réaliste",icon:"📸",description:"Détaillé et réaliste"},{id:"watercolor",name:"Aquarelle",icon:"🖌️",description:"Doux et artistique"}],b=[1,2,3,4,5],A=async x=>{const w=x.target.files[0];if(w){g(!0);try{await f(w)}catch(j){console.error("Erreur upload:",j),alert("Erreur lors de l'upload de la photo")}finally{g(!1)}}};return c.jsxs("div",{className:"comics-selector",children:[c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"2. Choisissez un thème pour votre bande dessinée"}),c.jsx("div",{className:"theme-grid",children:m.map(x=>c.jsxs("div",{className:"theme-slot",children:[c.jsxs(Fe.div,{className:`theme-card ${e===x.id?"selected":""} ${x.id==="custom"?"custom-theme":""}`,onClick:()=>t(e===x.id?null:x.id),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[c.jsx("div",{className:"theme-icon",children:x.icon}),c.jsx("div",{className:"theme-name",children:x.name}),c.jsx("div",{className:"theme-description",children:x.description})]}),x.id==="custom"&&e==="custom"&&c.jsx(Fe.div,{className:"custom-theme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{className:"custom-input",placeholder:"Décrivez votre histoire personnalisée... (ex: Une petite fille qui découvre un monde magique dans son jardin)",value:o,onChange:w=>a(w.target.value),rows:3})})]},x.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"3. Choisissez un style de dessin"}),c.jsx("div",{className:"style-grid",children:N.map(x=>c.jsxs(Fe.div,{className:`style-card ${n===x.id?"selected":""}`,onClick:()=>r(n===x.id?null:x.id),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[c.jsx("div",{className:"style-icon",children:x.icon}),c.jsx("div",{className:"style-name",children:x.name}),c.jsx("div",{className:"style-description",children:x.description})]},x.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"4. Nombre de pages"}),c.jsx("div",{className:"pages-selector",children:b.map(x=>c.jsxs(Fe.button,{className:`page-btn ${i===x?"selected":""}`,onClick:()=>s(i===x?null:x),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[x," ",x===1?"page":"pages",c.jsxs("span",{className:"cases-info",children:["(",x*4," cases)"]})]},x))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"5. Personnage principal (optionnel)"}),c.jsxs("div",{className:"character-upload-section",children:[c.jsx("p",{className:"character-description",children:"Uploadez une photo pour créer un personnage ressemblant ! L'IA analysera la photo et créera un personnage de BD similaire."}),c.jsxs("div",{className:"upload-area",children:[c.jsx("input",{type:"file",id:"character-photo-upload",accept:"image/*",onChange:A,className:"file-input",disabled:p}),!l&&c.jsx("label",{htmlFor:"character-photo-upload",className:"upload-label",children:p?c.jsxs("div",{className:"uploading-state",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{children:"Upload en cours..."})]}):c.jsxs("div",{className:"upload-prompt",children:[c.jsx("span",{className:"upload-icon",children:"📸"}),c.jsxs("div",{className:"upload-text",children:[c.jsx("strong",{children:"Cliquez pour uploader une photo"}),c.jsx("span",{children:"ou glissez-déposez une image ici"})]})]})})]}),l&&c.jsxs("div",{className:"photo-preview",children:[c.jsx("img",{src:l.url,alt:"Personnage uploadé"}),c.jsxs("div",{className:"photo-actions",children:[c.jsx("button",{className:"change-photo-btn",onClick:()=>document.getElementById("character-photo-upload").click(),children:"📷 Changer"}),c.jsx("button",{className:"remove-photo-btn",onClick:()=>d(null),children:"✕ Retirer"})]})]})]})]})]})};const dk=({comic:e,onClose:t,baseUrl:n})=>{const[r,i]=D.useState(0),[s,o]=D.useState(!1);if(!e||!e.pages||e.pages.length===0)return null;const a=e.pages[r],l=e.pages.length,d=()=>{r<l-1&&i(r+1)},f=()=>{r>0&&i(r-1)},p=()=>{const N=`${n}${a.image_url}`,b=document.createElement("a");b.href=N;const A=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();b.download=`${A}_page_${r+1}.png`,document.body.appendChild(b),b.click(),document.body.removeChild(b)},g=()=>{e.pages.forEach((N,b)=>{setTimeout(()=>{const A=`${n}${N.image_url}`,x=document.createElement("a");x.href=A;const w=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();x.download=`${w}_page_${b+1}.png`,document.body.appendChild(x),x.click(),document.body.removeChild(x)},b*500)})},m=()=>{o(!s)};return c.jsx(pi,{children:c.jsx(Fe.div,{className:"comics-popup-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(Fe.div,{className:`comics-popup-container ${s?"fullscreen":""}`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:N=>N.stopPropagation(),children:[c.jsxs("div",{className:"comics-popup-header",children:[c.jsxs("div",{className:"comic-title-section",children:[c.jsx("h2",{className:"comic-title",children:e.title}),c.jsx("p",{className:"comic-synopsis",children:e.synopsis}),c.jsxs("div",{className:"comic-meta",children:[c.jsxs("span",{className:"meta-item",children:[c.jsx("span",{className:"meta-icon",children:"🎨"}),e.art_style]}),c.jsxs("span",{className:"meta-item",children:[c.jsx("span",{className:"meta-icon",children:"📄"}),l," ",l===1?"planche":"planches"]}),c.jsxs("span",{className:"meta-item",children:[c.jsx("span",{className:"meta-icon",children:"🎯"}),l*4," cases"]})]})]}),c.jsx("button",{className:"close-btn",onClick:t,children:"✕"})]}),c.jsxs("div",{className:"comics-viewer",children:[c.jsx(pi,{mode:"wait",children:c.jsxs(Fe.div,{className:"page-display",initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},children:[c.jsx("img",{src:`${n}${a.image_url}`,alt:`Planche ${r+1}`,className:"page-image",onClick:m}),c.jsxs("div",{className:"page-info",children:["Planche ",r+1," / ",l]})]},r)}),l>1&&c.jsxs("div",{className:"page-navigation",children:[c.jsx("button",{className:"nav-btn prev-btn",onClick:f,disabled:r===0,children:"← Précédent"}),c.jsx("div",{className:"page-dots",children:e.pages.map((N,b)=>c.jsx("button",{className:`page-dot ${b===r?"active":""}`,onClick:()=>i(b),"aria-label":`Aller à la planche ${b+1}`},b))}),c.jsx("button",{className:"nav-btn next-btn",onClick:d,disabled:r===l-1,children:"Suivant →"})]})]}),c.jsxs("div",{className:"comics-actions",children:[c.jsxs("button",{className:"action-btn secondary-btn",onClick:m,children:[c.jsx("span",{className:"btn-icon",children:s?"🔲":"🔳"}),s?"Réduire":"Plein écran"]}),c.jsxs("button",{className:"action-btn primary-btn",onClick:p,children:[c.jsx("span",{className:"btn-icon",children:"💾"}),"Télécharger cette planche"]}),l>1&&c.jsxs("button",{className:"action-btn primary-btn",onClick:g,children:[c.jsx("span",{className:"btn-icon",children:"📥"}),"Télécharger toutes les planches"]})]}),l>1&&c.jsxs("div",{className:"thumbnails-section",children:[c.jsx("h4",{children:"Toutes les planches"}),c.jsx("div",{className:"thumbnails-grid",children:e.pages.map((N,b)=>c.jsxs(Fe.div,{className:`thumbnail ${b===r?"active":""}`,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(b),children:[c.jsx("img",{src:`${n}${N.image_url}`,alt:`Miniature planche ${b+1}`}),c.jsxs("div",{className:"thumbnail-label",children:["Planche ",b+1]})]},b))})]})]})})})},d4=e=>({comptine:{amount:299,name:"Comptine Musicale",currency:"EUR",display:"2,99€"},histoire:{amount:399,name:"Histoire Audio",currency:"EUR",display:"3,99€"},coloriage:{amount:199,name:"Coloriage Personnalisé",currency:"EUR",display:"1,99€"},bd:{amount:499,name:"Bande Dessinée",currency:"EUR",display:"4,99€"},animation:{amount:499,name:"Animation IA personnalisée",currency:"EUR",display:"4,99€"},coloring:{amount:199,name:"Coloriage personnalisé",currency:"EUR",display:"1,99€"},comic:{amount:299,name:"Bande dessinée IA",currency:"EUR",display:"2,99€"},story:{amount:399,name:"Histoire audio",currency:"EUR",display:"3,99€"},rhyme:{amount:249,name:"Comptine musicale",currency:"EUR",display:"2,49€"}})[e]||{amount:299,name:"Contenu Créatif",currency:"EUR",display:"2,99€"},hk=async(e,t)=>{try{if(t==="fredagathe77@gmail.com")return!0;const{data:n,error:r}=await un.from("profiles").select("role").eq("id",e).single();return r?!1:(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="free"}catch{return!1}},fk=async(e,t,n,r)=>{try{const{data:i,error:s}=await un.from("generation_permissions").upsert({user_id:e,content_type:t,stripe_payment_intent_id:n,amount:r,status:"completed",created_at:new Date().toISOString()});if(s)throw s;return i}catch(i){throw i}};var h4="clover",pk=function(t){return t===3?"v3":t},f4="https://js.stripe.com",mk="".concat(f4,"/").concat(h4,"/stripe.js"),gk=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,vk=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,P5="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",yk=function(t){return gk.test(t)||vk.test(t)},xk=function(){for(var t=document.querySelectorAll('script[src^="'.concat(f4,'"]')),n=0;n<t.length;n++){var r=t[n];if(yk(r.src))return r}return null},k5=function(t){var n=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(mk).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},wk=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.0.0",startTime:n})},pc=null,Ed=null,Td=null,bk=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},Sk=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},Nk=function(t){return pc!==null?pc:(pc=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(P5),window.Stripe){n(window.Stripe);return}try{var i=xk();if(i&&t)console.warn(P5);else if(!i)i=k5(t);else if(i&&Td!==null&&Ed!==null){var s;i.removeEventListener("load",Td),i.removeEventListener("error",Ed),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=k5(t)}Td=Sk(n,r),Ed=bk(r),i.addEventListener("load",Td),i.addEventListener("error",Ed)}catch(o){r(o);return}}),pc.catch(function(n){return pc=null,Promise.reject(n)}))},jk=function(t,n,r){if(t===null)return null;var i=n[0],s=i.match(/^pk_test/),o=pk(t.version),a=h4;s&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.0.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,n);return wk(l,r),l},mc,p4=!1,m4=function(){return mc||(mc=Nk(null).catch(function(t){return mc=null,Promise.reject(t)}),mc)};Promise.resolve().then(function(){return m4()}).catch(function(e){p4||console.warn(e)});var Ak=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];p4=!0;var i=Date.now();return m4().then(function(s){return jk(s,n,i)})},g4={exports:{}},Ck="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Lk=Ck,Pk=Lk;function v4(){}function y4(){}y4.resetWarningCache=v4;var kk=function(){function e(r,i,s,o,a,l){if(l!==Pk){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:y4,resetWarningCache:v4};return n.PropTypes=n,n};g4.exports=kk();var _k=g4.exports;const Dt=M5(_k);function _5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_5(Object(n),!0).forEach(function(r){x4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nh=function(t){return typeof t}:nh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function x4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ek(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Tk(e,t){if(e==null)return{};var n=Ek(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function w4(e,t){return Fk(e)||Ik(e,t)||Rk(e,t)||Dk()}function Fk(e){if(Array.isArray(e))return e}function Ik(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Rk(e,t){if(e){if(typeof e=="string")return T5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T5(e,t)}}function T5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dr=function(t,n,r){var i=!!r,s=Ft.useRef(r);Ft.useEffect(function(){s.current=r},[r]),Ft.useEffect(function(){if(!i||!t)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return t.on(n,o),function(){t.off(n,o)}},[i,n,t,s])},p1=function(t){var n=Ft.useRef(t);return Ft.useEffect(function(){n.current=t},[t]),n.current},wl=function(t){return t!==null&&nh(t)==="object"},Mk=function(t){return wl(t)&&typeof t.then=="function"},Ok=function(t){return wl(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},F5="[object Object]",Bk=function e(t,n){if(!wl(t)||!wl(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(t)===F5,o=Object.prototype.toString.call(n)===F5;if(s!==o)return!1;if(!s&&!r)return t===n;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(var d={},f=0;f<a.length;f+=1)d[a[f]]=!0;for(var p=0;p<l.length;p+=1)d[l[p]]=!0;var g=Object.keys(d);if(g.length!==a.length)return!1;var m=t,N=n,b=function(x){return e(m[x],N[x])};return g.every(b)},b4=function(t,n,r){return wl(t)?Object.keys(t).reduce(function(i,s){var o=!wl(n)||!Bk(t[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?E5(E5({},i||{}),{},x4({},s,t[s])):i},null):null},S4="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",I5=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S4;if(t===null||Ok(t))return t;throw new Error(n)},zk=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S4;if(Mk(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return I5(i,n)})};var r=I5(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},qk=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.0.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.0.0",url:"https://stripe.com/docs/stripe-js/react"}))},ff=Ft.createContext(null);ff.displayName="ElementsContext";var N4=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},j4=function(t){var n=t.stripe,r=t.options,i=t.children,s=Ft.useMemo(function(){return zk(n)},[n]),o=Ft.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=w4(o,2),l=a[0],d=a[1];Ft.useEffect(function(){var g=!0,m=function(b){d(function(A){return A.stripe?A:{stripe:b,elements:b.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(N){N&&g&&m(N)}):s.tag==="sync"&&!l.stripe&&m(s.stripe),function(){g=!1}},[s,l,r]);var f=p1(n);Ft.useEffect(function(){f!==null&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[f,n]);var p=p1(r);return Ft.useEffect(function(){if(l.elements){var g=b4(r,p,["clientSecret","fonts"]);g&&l.elements.update(g)}},[r,p,l.elements]),Ft.useEffect(function(){qk(l.stripe)},[l.stripe]),Ft.createElement(ff.Provider,{value:l},i)};j4.propTypes={stripe:Dt.any,options:Dt.object};var Uk=function(t){var n=Ft.useContext(ff);return N4(n,t)},Vk=function(){var t=Uk("calls useElements()"),n=t.elements;return n};Dt.func.isRequired;var A4=Ft.createContext(null);A4.displayName="CheckoutContext";Dt.any,Dt.shape({clientSecret:Dt.oneOfType([Dt.string,Dt.instanceOf(Promise)]).isRequired,elementsOptions:Dt.object}).isRequired;var m1=function(t){var n=Ft.useContext(A4),r=Ft.useContext(ff);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return N4(r,t)},$k=["mode"],Hk=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Fr=function(t,n){var r="".concat(Hk(t),"Element"),i=function(l){var d=l.id,f=l.className,p=l.options,g=p===void 0?{}:p,m=l.onBlur,N=l.onFocus,b=l.onReady,A=l.onChange,x=l.onEscape,w=l.onClick,j=l.onLoadError,R=l.onLoaderStart,q=l.onNetworksChange,U=l.onConfirm,T=l.onCancel,F=l.onShippingAddressChange,$=l.onShippingRateChange,ee=l.onSavedPaymentMethodRemove,E=l.onSavedPaymentMethodUpdate,M=m1("mounts <".concat(r,">")),X="elements"in M?M.elements:null,G="checkoutState"in M?M.checkoutState:null,de=(G==null?void 0:G.type)==="success"||(G==null?void 0:G.type)==="loading"?G.sdk:null,ae=Ft.useState(null),ce=w4(ae,2),H=ce[0],ie=ce[1],Y=Ft.useRef(null),me=Ft.useRef(null);dr(H,"blur",m),dr(H,"focus",N),dr(H,"escape",x),dr(H,"click",w),dr(H,"loaderror",j),dr(H,"loaderstart",R),dr(H,"networkschange",q),dr(H,"confirm",U),dr(H,"cancel",T),dr(H,"shippingaddresschange",F),dr(H,"shippingratechange",$),dr(H,"savedpaymentmethodremove",ee),dr(H,"savedpaymentmethodupdate",E),dr(H,"change",A);var C;b&&(t==="expressCheckout"?C=b:C=function(){b(H)}),dr(H,"ready",C),Ft.useLayoutEffect(function(){if(Y.current===null&&me.current!==null&&(X||de)){var z=null;if(de)switch(t){case"payment":z=de.createPaymentElement(g);break;case"address":if("mode"in g){var J=g.mode,Q=Tk(g,$k);if(J==="shipping")z=de.createShippingAddressElement(Q);else if(J==="billing")z=de.createBillingAddressElement(Q);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":z=de.createExpressCheckoutElement(g);break;case"currencySelector":z=de.createCurrencySelectorElement();break;case"taxId":z=de.createTaxIdElement(g);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else X&&(z=X.create(t,g));Y.current=z,ie(z),z&&z.mount(me.current)}},[X,de,g]);var B=p1(g);return Ft.useEffect(function(){if(Y.current){var z=b4(g,B,["paymentRequest"]);z&&"update"in Y.current&&Y.current.update(z)}},[g,B]),Ft.useLayoutEffect(function(){return function(){if(Y.current&&typeof Y.current.destroy=="function")try{Y.current.destroy(),Y.current=null}catch{}}},[]),Ft.createElement("div",{id:d,className:f,ref:me})},s=function(l){m1("mounts <".concat(r,">"));var d=l.id,f=l.className;return Ft.createElement("div",{id:d,className:f})},o=n?s:i;return o.propTypes={id:Dt.string,className:Dt.string,onChange:Dt.func,onBlur:Dt.func,onFocus:Dt.func,onReady:Dt.func,onEscape:Dt.func,onClick:Dt.func,onLoadError:Dt.func,onLoaderStart:Dt.func,onNetworksChange:Dt.func,onConfirm:Dt.func,onCancel:Dt.func,onShippingAddressChange:Dt.func,onShippingRateChange:Dt.func,onSavedPaymentMethodRemove:Dt.func,onSavedPaymentMethodUpdate:Dt.func,options:Dt.object},o.displayName=r,o.__elementType=t,o},Ir=typeof window>"u",Wk=Ft.createContext(null);Wk.displayName="EmbeddedCheckoutProviderContext";var Gk=function(){var t=m1("calls useStripe()"),n=t.stripe;return n};Fr("auBankAccount",Ir);Fr("card",Ir);var R5=Fr("cardNumber",Ir),Kk=Fr("cardExpiry",Ir),Yk=Fr("cardCvc",Ir);Fr("iban",Ir);Fr("payment",Ir);Fr("expressCheckout",Ir);Fr("paymentRequestButton",Ir);Fr("linkAuthentication",Ir);Fr("address",Ir);Fr("shippingAddress",Ir);Fr("paymentMethodMessaging",Ir);Fr("taxId",Ir);const Jk=Ak("pk_live_51S9nbM2KIKbs2fxdAx3GkjvMFW540T4gDimo0fz30ZYXcXwJd4tYv6xdF0MD0yyYxmf3MwckzJoCuniCFHjYlXYg00ZrKRqzqt"),Xk=({contentType:e,userId:t,userEmail:n,onSuccess:r,onCancel:i,priceInfo:s})=>{const o=Gk(),a=Vk(),[l,d]=D.useState(!1),[f,p]=D.useState(null),[g,m]=D.useState(""),[N,b]=D.useState("");D.useEffect(()=>{o&&(async()=>{try{console.log("🔄 Création Payment Intent pour:",{contentType:e,amount:s.amount,userId:t,userEmail:n});const{data:j,error:R}=await un.functions.invoke("create-payment",{body:{contentType:e,userId:t,userEmail:n}});if(R)throw console.error("Erreur Edge Function:",R),new Error("Erreur lors de la création du paiement");if(!j.client_secret)throw new Error("Client secret manquant dans la réponse");console.log("✅ Payment Intent créé avec succès"),m(j.client_secret)}catch(j){console.error("❌ Erreur création Payment Intent:",j),p(j.message||"Erreur lors de l'initialisation du paiement")}})()},[e,s.amount,t,n,o]);const A=async w=>{if(w.preventDefault(),!o||!a){p("Stripe n'est pas encore chargé. Veuillez patienter.");return}const j=a.getElement(R5);if(!j){p("Élément numéro de carte non trouvé");return}d(!0),p(null);try{if(console.log("🔄 Traitement paiement Stripe pour:",{contentType:e,userId:t,userEmail:n,amount:s.amount}),!N.trim())throw new Error("Veuillez saisir le nom du titulaire de la carte");const{error:R,paymentIntent:q}=await o.confirmCardPayment(g,{payment_method:{card:j,billing_details:{name:N.trim(),email:n}},return_url:window.location.origin});if(R)throw console.error("Erreur Stripe:",R),new Error(R.message||"Erreur lors du paiement");if(q.status==="succeeded"){console.log("✅ Paiement Stripe réussi:",q);try{await fk(t,e,q.id,s.amount/100)}catch(U){console.error("Erreur lors de l'enregistrement de la permission:",U)}r({success:!0,contentType:e,amount:s.amount/100,paymentIntentId:q.id,stripePayment:!0})}else throw q.status==="requires_action"?new Error("Authentification supplémentaire requise. Veuillez réessayer."):new Error("Paiement non finalisé. Veuillez vérifier votre carte.")}catch(R){console.error("❌ Erreur paiement Stripe:",R),p(R.message||"Erreur lors du paiement. Veuillez réessayer.")}finally{d(!1)}},x={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased"},invalid:{color:"#9e2146"}}};return c.jsxs("form",{onSubmit:A,className:"payment-form",children:[c.jsxs("div",{className:"payment-summary",children:[c.jsx("h3",{children:"Récapitulatif de votre commande"}),c.jsxs("div",{className:"order-item",children:[c.jsx("span",{className:"item-name",children:s.name}),c.jsx("span",{className:"item-price",children:s.display})]}),c.jsxs("div",{className:"order-total",children:[c.jsx("span",{className:"total-label",children:"Total à payer :"}),c.jsx("span",{className:"total-amount",children:s.display})]})]}),c.jsxs("div",{className:"payment-method",children:[c.jsx("h3",{children:"Informations de paiement"}),c.jsxs("div",{className:"card-field",children:[c.jsx("label",{htmlFor:"cardholder-name",children:"Nom du titulaire"}),c.jsx("input",{id:"cardholder-name",type:"text",placeholder:"Jean Dupont",className:"card-input",value:N,onChange:w=>b(w.target.value),required:!0})]}),c.jsxs("div",{className:"card-field",children:[c.jsx("label",{children:"Numéro de carte"}),c.jsx("div",{className:"card-element-container",children:c.jsx(R5,{options:x,className:"card-element"})})]}),c.jsxs("div",{className:"card-row",children:[c.jsxs("div",{className:"card-field",children:[c.jsx("label",{children:"Date d'expiration"}),c.jsx("div",{className:"card-element-container small",children:c.jsx(Kk,{options:x,className:"card-element"})})]}),c.jsxs("div",{className:"card-field",children:[c.jsx("label",{children:"Code de sécurité (CVC)"}),c.jsx("div",{className:"card-element-container small",children:c.jsx(Yk,{options:x,className:"card-element"})})]})]})]}),f&&c.jsxs("div",{className:"payment-error",children:[c.jsx("span",{className:"error-icon",children:"⚠️"}),f]}),c.jsxs("div",{className:"payment-actions",children:[c.jsx("button",{type:"button",onClick:i,className:"cancel-button",disabled:l,children:"Annuler"}),c.jsx("button",{type:"submit",className:"pay-button",disabled:!o||l,children:l?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"loading-spinner"}),"Traitement en cours..."]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"lock-icon",children:"🔒"}),"Payer ",s.display]})})]}),c.jsx("div",{className:"payment-security",children:c.jsxs("div",{className:"security-info",children:[c.jsx("span",{className:"security-icon",children:"🔒"}),c.jsx("small",{children:"Paiement sécurisé par Stripe"})]})})]})},Qk=({contentType:e,userId:t,userEmail:n,onSuccess:r,onCancel:i})=>{const s=d4(e),o=a=>{a.target===a.currentTarget&&i()};return c.jsx("div",{className:"payment-modal-overlay",onClick:o,children:c.jsxs(Fe.div,{className:"payment-modal stripe-payment-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},children:[c.jsxs("div",{className:"payment-header",children:[c.jsx("h2",{children:"💳 Paiement sécurisé"}),c.jsx("button",{className:"close-button",onClick:i,"aria-label":"Fermer",children:"✕"})]}),c.jsx(j4,{stripe:Jk,children:c.jsx(Xk,{contentType:e,userId:t,userEmail:n,onSuccess:r,onCancel:i,priceInfo:s})})]})})};const Zk=({onLegalClick:e})=>c.jsx("footer",{className:"app-footer",children:c.jsxs("div",{className:"footer-content",children:[c.jsx("div",{className:"ai-notice",children:c.jsx("p",{children:"Les créations sont générées par IA et peuvent contenir des erreurs."})}),c.jsxs("div",{className:"footer-links",children:[c.jsx("button",{className:"footer-link",onClick:()=>e("mentions"),children:"Mentions légales"}),c.jsx("span",{className:"separator",children:"•"}),c.jsx("button",{className:"footer-link",onClick:()=>e("privacy"),children:"Confidentialité"}),c.jsx("span",{className:"separator",children:"•"}),c.jsx("button",{className:"footer-link",onClick:()=>e("cookies"),children:"Cookies"}),c.jsx("span",{className:"separator",children:"•"}),c.jsx("button",{className:"footer-link",onClick:()=>e("terms"),children:"CGU"}),c.jsx("span",{className:"separator",children:"•"}),c.jsx("button",{className:"footer-link",onClick:()=>e("contact"),children:"Contact"})]}),c.jsx("div",{className:"footer-info",children:c.jsxs("p",{children:["© ",new Date().getFullYear()," HERBBIE"]})})]})});const e7=({onClose:e,initialSection:t="mentions"})=>{const[n,r]=D.useState(t),[i,s]=D.useState({firstName:"",lastName:"",email:"",subject:"",message:""}),[o,a]=D.useState(!1),[l,d]=D.useState(""),f=[{id:"mentions",title:"Mentions Légales",icon:"📄"},{id:"privacy",title:"Confidentialité",icon:"🔒"},{id:"cookies",title:"Cookies",icon:"🍪"},{id:"terms",title:"Conditions d'utilisation",icon:"📜"},{id:"contact",title:"Contact",icon:"📧"}],p=()=>{switch(n){case"mentions":return g();case"privacy":return m();case"cookies":return N();case"terms":return b();case"contact":return w();default:return g()}},g=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:"📄 Mentions Légales"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Hébergement"}),c.jsxs("div",{className:"info-block",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Hébergeur :"})," Railway"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Adresse :"})," Railway, 1 Sentry Way, San Francisco, CA 94103, États-Unis"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Site web :"})," ",c.jsx("a",{href:"https://railway.app",target:"_blank",rel:"noopener noreferrer",children:"railway.app"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Propriété intellectuelle"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"L'ensemble du contenu de ce site (textes, images, vidéos, éléments graphiques, logos, icônes, sons, logiciels) est la propriété exclusive de HERBBIE ou de ses partenaires, sauf mention contraire."}),c.jsx("p",{children:"Toute reproduction, distribution, modification ou exploitation commerciale, même partielle, sans autorisation préalable écrite de HERBBIE est strictement interdite et constituerait une contrefaçon sanctionnée par les articles L.335-2 et suivants du Code de la propriété intellectuelle."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Responsabilité"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'efforce d'assurer l'exactitude et la mise à jour des informations diffusées sur ce site, dont elle se réserve le droit de corriger, à tout moment et sans préavis, le contenu."}),c.jsx("p",{children:"Toutefois, HERBBIE ne peut garantir l'exactitude, la précision ou l'exhaustivité des informations mises à disposition sur ce site. En conséquence, HERBBIE décline toute responsabilité :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Pour toute imprécision, inexactitude ou omission portant sur des informations disponibles sur le site"}),c.jsx("li",{children:"Pour tous dommages résultant d'une intrusion frauduleuse d'un tiers ayant entraîné une modification des informations mises à disposition sur le site"}),c.jsx("li",{children:"Et plus généralement pour tous dommages, directs ou indirects, quelles qu'en soient les causes, origines, natures ou conséquences, provoqués à raison de l'accès de quiconque au site ou de l'impossibilité d'y accéder"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Données personnelles"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Conformément à la loi n°78-17 du 6 janvier 1978 relative à l'informatique, aux fichiers et aux libertés, vous disposez d'un droit d'accès, de rectification et de suppression des données vous concernant."}),c.jsxs("p",{children:["Pour exercer ce droit, vous pouvez nous contacter par email à l'adresse : ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Le site HERBBIE utilise des cookies pour améliorer votre expérience utilisateur et réaliser des statistiques de visite."}),c.jsx("p",{children:"Conformément à la réglementation, vous pouvez refuser le dépôt de cookies en configurant votre navigateur."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Éditeur du site"}),c.jsxs("div",{className:"info-block personal-data",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Dénomination sociale :"})," ",c.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Forme juridique :"})," ",c.jsx("span",{className:"protect-personal-info",children:"Auto-entreprise (en cours d'immatriculation)"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Adresse du siège social :"})," ",c.jsx("span",{className:"address-protected personal-data",children:"10 bis rue Félix Arnaudin, 40100 Dax"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Numéro SIRET :"})," ",c.jsx("span",{className:"protect-personal-info",children:"En cours d'attribution"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Directeur de la publication :"})," ",c.jsx("span",{className:"name-protected personal-data",children:"Adrien Gaulin"})]})]})]})]}),m=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:"🔒 Politique de Confidentialité"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Collecte des données personnelles"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Lors de votre utilisation du service HERBBIE, nous pouvons collecter les informations suivantes :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Données de compte :"})," adresse email, nom d'utilisateur (si inscription)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Données d'utilisation :"})," historique des créations, préférences, statistiques d'usage"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Données techniques :"})," adresse IP, type de navigateur, système d'exploitation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contenu généré :"})," les créations réalisées via notre service (histoires, coloriages, etc.)"]})]}),c.jsx("p",{children:"La collecte de ces données est nécessaire pour :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fournir nos services de génération de contenu créatif"}),c.jsx("li",{children:"Améliorer la qualité de nos services"}),c.jsx("li",{children:"Assurer la sécurité de la plateforme"}),c.jsx("li",{children:"Respecter nos obligations légales"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Utilisation des données"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les données collectées sont utilisées pour :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fournir le service :"})," génération de contenu personnalisé, sauvegarde des créations"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Amélioration :"})," analyse des usages pour optimiser l'expérience utilisateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Communication :"})," envoi d'informations relatives au service, support client"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Sécurité :"})," détection et prévention des fraudes et activités malveillantes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Obligations légales :"})," conservation des données requises par la loi"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Partage des données"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'engage à ne pas vendre, louer ou commercialiser vos données personnelles."}),c.jsx("p",{children:"Les données peuvent être partagées uniquement dans les cas suivants :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fournisseurs de services :"})," hébergeurs, prestataires techniques (sous contrat de confidentialité)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Obligations légales :"})," sur demande des autorités compétentes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Protection des droits :"})," en cas de litige ou contentieux"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Conservation des données"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les données sont conservées pendant la durée nécessaire aux finalités pour lesquelles elles ont été collectées :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Données de compte :"})," tant que le compte est actif + 3 ans après inactivation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Données d'utilisation :"})," 2 ans à compter de la collecte"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contenu généré :"})," tant que le compte est actif"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Données de facturation :"})," 10 ans (obligation légale)"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Sécurité des données"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE met en œuvre des mesures techniques et organisationnelles appropriées pour protéger vos données personnelles contre :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"L'accès non autorisé"}),c.jsx("li",{children:"L'utilisation illégitime"}),c.jsx("li",{children:"La perte ou destruction accidentelle"}),c.jsx("li",{children:"Toute forme de traitement illicite"})]}),c.jsx("p",{children:"Ces mesures incluent le chiffrement des données, des contrôles d'accès stricts et des audits réguliers de sécurité."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Vos droits"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Conformément au RGPD, vous disposez des droits suivants :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Droit d'accès :"})," demander l'accès à vos données personnelles"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit de rectification :"})," demander la correction de données inexactes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit à l'effacement :"})," demander la suppression de vos données"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit à la limitation :"})," demander la limitation du traitement"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit à la portabilité :"})," demander la récupération de vos données"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit d'opposition :"})," vous opposer au traitement de vos données"]})]}),c.jsxs("p",{children:["Pour exercer ces droits, contactez-nous à : ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Cookies et technologies similaires"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE utilise uniquement des cookies strictement essentiels au fonctionnement du service :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Maintien de votre connexion et sécurité"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Mémorisation de votre identité"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de sécurité :"})," Protection contre les menaces"]})]}),c.jsx("h4",{children:"Stockage et sécurité des cookies :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Emplacement :"})," Stockés localement dans le navigateur (localStorage)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Durée de vie :"})," Sessions temporaires (supprimés à la déconnexion)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Sécurité :"})," Chiffrés et protégés contre les attaques CSRF"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Serveur :"})," Gestion automatique par Supabase avec sécurité renforcée"]})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Note :"})," Aucun cookie de fonctionnalité, analytique, de personnalisation ou publicitaire n'est utilisé."]}),c.jsx("p",{children:"Les cookies essentiels sont automatiquement gérés et exemptés de consentement selon le RGPD."})]})]})]}),N=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:"🍪 Politique des Cookies"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Qu'est-ce qu'un cookie ?"}),c.jsx("div",{className:"info-block",children:c.jsx("p",{children:"Un cookie est un petit fichier texte déposé sur votre terminal (ordinateur, tablette, smartphone) lors de la visite d'un site internet. Il permet de stocker des informations relatives à votre navigation et d'améliorer votre expérience utilisateur."})})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Cookies utilisés par HERBBIE"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:c.jsx("strong",{children:"Conformément à la réglementation RGPD, HERBBIE utilise uniquement des cookies strictement essentiels nécessaires au fonctionnement du service."})}),c.jsx("h4",{children:"Cookies essentiels (obligatoires) :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Maintien de votre connexion et sécurité pendant votre visite"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Mémorisation de votre identité pour éviter de vous reconnecter"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de sécurité :"})," Protection contre les attaques CSRF et autres menaces"]})]}),c.jsxs("div",{className:"alert alert-info",children:[c.jsx("strong",{children:"Note :"})," Aucun cookie de fonctionnalité, analytique, de personnalisation ou publicitaire n'est utilisé sur ce site."]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Gestion des cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les cookies essentiels utilisés par HERBBIE sont automatiquement gérés et ne nécessitent pas d'action de votre part."}),c.jsx("h4",{children:"Via votre navigateur :"}),c.jsx("p",{children:"Si vous souhaitez supprimer les cookies essentiels (ce qui peut affecter le fonctionnement du site) :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Chrome :"})," Paramètres → Confidentialité et sécurité → Cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Firefox :"})," Préférences → Vie privée et sécurité → Cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Safari :"})," Préférences → Confidentialité → Gérer les cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Edge :"})," Paramètres → Cookies et autorisations de site"]})]}),c.jsx("h4",{children:"Durée de conservation :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Supprimés automatiquement à la fermeture du navigateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Conservés pendant votre session active (maximum 24h)"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Finalités des cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE utilise uniquement des cookies essentiels pour :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fonctionnement du service :"})," Maintien de la session utilisateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Sécurité :"})," Sécurisation des transactions et protection contre les menaces"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Préférences essentielles :"})," Mémorisation des paramètres de base (langue)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Performance :"})," Optimisation du fonctionnement du site"]})]}),c.jsxs("div",{className:"alert alert-info",children:[c.jsx("strong",{children:"Note :"})," Aucun cookie n'est utilisé pour l'analyse d'audience, le suivi utilisateur ou la personnalisation avancée."]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Cookies tiers"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE n'utilise pas de cookies tiers pour l'analyse, le suivi ou la publicité."}),c.jsx("p",{children:"Les services externes utilisés (comme les APIs d'IA) ne déposent pas de cookies sur votre navigateur."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Consentement"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:c.jsx("strong",{children:"Conformément à la réglementation RGPD, les cookies essentiels utilisés par HERBBIE ne nécessitent pas de consentement explicite car ils sont strictement nécessaires au fonctionnement du service."})}),c.jsx("p",{children:"Ces cookies sont automatiquement activés pour garantir la sécurité et le bon fonctionnement du site."}),c.jsx("p",{children:"Note : La désactivation de ces cookies essentiels peut gravement affecter le fonctionnement du service."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Mise à jour"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Cette politique des cookies peut être mise à jour régulièrement pour refléter les évolutions de nos services ou de la réglementation."}),c.jsx("p",{children:"La date de dernière modification est indiquée en bas de cette page."}),c.jsx("p",{children:"En cas de modification substantielle, nous vous en informerons via une notification sur le site."})]})]})]}),b=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:"📜 Conditions d'utilisation"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Objet du service"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE est une plateforme de génération de contenu créatif destinée aux enfants, utilisant l'intelligence artificielle pour créer :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Des histoires personnalisées et éducatives"}),c.jsx("li",{children:"Des coloriages et activités créatives"}),c.jsx("li",{children:"Du contenu pédagogique adapté à chaque âge"}),c.jsx("li",{children:"Des expériences d'apprentissage ludiques"})]}),c.jsx("p",{children:"Le service est conçu pour stimuler l'imagination et la créativité des enfants de manière sécurisée et éducative."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Conditions d'accès"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Âge minimum :"}),c.jsx("p",{children:"Le service HERBBIE est accessible aux enfants de tous âges. Pour les enfants de moins de 13 ans, l'utilisation doit se faire sous la supervision d'un adulte responsable."}),c.jsx("h4",{children:"Inscription :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Les utilisateurs peuvent créer un compte gratuit"}),c.jsx("li",{children:"L'inscription nécessite une adresse email valide"}),c.jsx("li",{children:"Les mots de passe doivent être sécurisés"}),c.jsx("li",{children:"Une seule inscription par personne est autorisée"})]}),c.jsx("h4",{children:"Utilisation acceptable :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Respect des autres utilisateurs"}),c.jsx("li",{children:"Utilisation dans un cadre éducatif et ludique"}),c.jsx("li",{children:"Interdiction de générer du contenu inapproprié"}),c.jsx("li",{children:"Respect des droits d'auteur et propriété intellectuelle"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Services et fonctionnalités"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Services gratuits :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Accès à un nombre limité de génération par jour"}),c.jsx("li",{children:"Fonctionnalités de base de création de contenu"}),c.jsx("li",{children:"Sauvegarde des créations pendant 30 jours"}),c.jsx("li",{children:"Support communautaire"})]}),c.jsx("h4",{children:"Services premium (optionnels) :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Générations illimitées"}),c.jsx("li",{children:"Sauvegarde permanente des créations"}),c.jsx("li",{children:"Fonctionnalités avancées"}),c.jsx("li",{children:"Support prioritaire"}),c.jsx("li",{children:"Contenu personnalisé avancé"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Règles de conduite"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Interdictions :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Générer du contenu violent, haineux ou inapproprié"}),c.jsx("li",{children:"Utiliser le service pour harceler ou intimider"}),c.jsx("li",{children:"Tenter de contourner les limitations techniques"}),c.jsx("li",{children:"Partager des informations personnelles d'autrui"}),c.jsx("li",{children:"Utiliser le service à des fins commerciales sans autorisation"}),c.jsx("li",{children:"Copier ou reproduire le contenu généré par d'autres utilisateurs"})]}),c.jsx("h4",{children:"Obligations des utilisateurs :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fournir des informations exactes lors de l'inscription"}),c.jsx("li",{children:"Respecter les droits d'auteur et la propriété intellectuelle"}),c.jsx("li",{children:"Signaler tout contenu inapproprié"}),c.jsx("li",{children:"Maintenir la confidentialité de leurs identifiants"}),c.jsx("li",{children:"Utiliser le service de manière responsable"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Propriété intellectuelle"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Contenu généré :"}),c.jsx("p",{children:"Le contenu créé via HERBBIE appartient à l'utilisateur qui l'a généré. L'utilisateur peut :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Télécharger et utiliser ses créations à des fins personnelles"}),c.jsx("li",{children:"Partager ses créations dans un cadre familial ou éducatif"}),c.jsx("li",{children:"Modifier ses propres créations"})]}),c.jsx("h4",{children:"Plateforme HERBBIE :"}),c.jsx("p",{children:"Tous les éléments de la plateforme (interface, algorithmes, design, etc.) restent la propriété exclusive de HERBBIE."}),c.jsx("h4",{children:"Contenu tiers :"}),c.jsx("p",{children:"Certains éléments peuvent être soumis à des licences tierces (polices, images, sons). L'utilisation doit respecter ces licences."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Limitation de responsabilité"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'efforce de fournir un service de qualité, mais ne peut garantir :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"La disponibilité permanente du service (maintenance, pannes)"}),c.jsx("li",{children:"L'absence totale de bugs ou erreurs"}),c.jsx("li",{children:"L'adéquation du contenu généré à tous les besoins"}),c.jsx("li",{children:"La sécurité absolue contre les cyberattaques"})]}),c.jsx("p",{children:"En aucun cas HERBBIE ne pourra être tenu responsable :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Des dommages indirects ou consécutifs à l'utilisation du service"}),c.jsx("li",{children:"De la perte de données ou de créations"}),c.jsx("li",{children:"Des interruptions de service non planifiées"}),c.jsx("li",{children:"Des actes de tiers (piratage, virus, etc.)"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Résiliation"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Par l'utilisateur :"}),c.jsx("p",{children:"L'utilisateur peut résilier son compte à tout moment via les paramètres de son profil."}),c.jsx("h4",{children:"Par HERBBIE :"}),c.jsx("p",{children:"HERBBIE peut suspendre ou résilier un compte en cas de :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Violation grave des conditions d'utilisation"}),c.jsx("li",{children:"Utilisation abusive du service"}),c.jsx("li",{children:"Non-paiement des services premium"}),c.jsx("li",{children:"Inactivité prolongée (plus de 2 ans)"})]}),c.jsx("h4",{children:"Conséquences de la résiliation :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Accès immédiat au service suspendu"}),c.jsx("li",{children:"Conservation des données pendant 30 jours"}),c.jsx("li",{children:"Suppression définitive après ce délai"}),c.jsx("li",{children:"Possibilité de réactivation sous conditions"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"8. Modification des conditions"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE se réserve le droit de modifier ces conditions d'utilisation à tout moment."}),c.jsx("p",{children:"Les modifications seront notifiées aux utilisateurs par email ou notification sur le site."}),c.jsx("p",{children:"La poursuite de l'utilisation du service après notification vaut acceptation des nouvelles conditions."}),c.jsx("p",{children:"En cas de désaccord avec les modifications, l'utilisateur peut résilier son compte."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"9. Droit applicable"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Ces conditions d'utilisation sont régies par le droit français."}),c.jsx("p",{children:"Tout litige relatif à l'interprétation ou l'exécution de ces conditions sera soumis aux tribunaux compétents du ressort de Paris."}),c.jsx("p",{children:"En cas de traduction de ces conditions, seule la version française fait foi."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"10. Contact"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Pour toute question relative à ces conditions d'utilisation :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Email :"})," ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Objet :"}),' "Question CGU"']}),c.jsxs("li",{children:[c.jsx("strong",{children:"Délai de réponse :"})," 48-72 heures"]})]})]})]})]}),A=(j,R)=>{s(q=>({...q,[j]:R}))},x=async j=>{j.preventDefault(),a(!0),d("");try{const R=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:i.firstName,lastName:i.lastName,email:i.email,subject:i.subject,message:i.message})});if(!R.ok){const U=await R.json();throw new Error(U.detail||"Erreur lors de l'envoi du message")}const q=await R.json();d("✅ Votre message a été envoyé avec succès ! Nous vous répondrons dans les plus brefs délais."),s({firstName:"",lastName:"",email:"",subject:"",message:""})}catch(R){d(`❌ Erreur lors de l'envoi : ${R.message}`)}finally{a(!1)}},w=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:"📧 Contact"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"📝 Formulaire de contact"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Vous pouvez nous contacter directement en remplissant le formulaire ci-dessous :"}),c.jsxs("form",{className:"contact-form",onSubmit:x,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-firstName",children:"Prénom *"}),c.jsx("input",{type:"text",id:"contact-firstName",value:i.firstName,onChange:j=>A("firstName",j.target.value),required:!0,placeholder:"Votre prénom"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-lastName",children:"Nom *"}),c.jsx("input",{type:"text",id:"contact-lastName",value:i.lastName,onChange:j=>A("lastName",j.target.value),required:!0,placeholder:"Votre nom de famille"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-email",children:"Email *"}),c.jsx(Za,{value:i.email,onChange:j=>A("email",j.target.value),placeholder:"votre.email@exemple.com",required:!0,user:null,onEmailSubmit:()=>{}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-subject",children:"Sujet *"}),c.jsxs("select",{id:"contact-subject",value:i.subject,onChange:j=>A("subject",j.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Choisissez un sujet"}),c.jsx("option",{value:"Support technique",children:"🔧 Support technique"}),c.jsx("option",{value:"Question générale",children:"💬 Question générale"}),c.jsx("option",{value:"Partenariat",children:"🤝 Partenariat"}),c.jsx("option",{value:"Signaler un bug",children:"🐛 Signaler un bug"}),c.jsx("option",{value:"Suggestion",children:"💡 Suggestion"}),c.jsx("option",{value:"Autre",children:"📋 Autre"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-message",children:"Message *"}),c.jsx("textarea",{id:"contact-message",value:i.message,onChange:j=>A("message",j.target.value),required:!0,placeholder:"Décrivez votre demande en détail...",rows:"5"})]}),l&&c.jsx("div",{className:`submit-message ${l.includes("✅")?"success":"error"}`,children:l}),c.jsx("button",{type:"submit",className:"contact-submit-btn",disabled:o,children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner"}),"Envoi en cours..."]}):c.jsx(c.Fragment,{children:"📧 Envoyer l'email"})})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Informations de contact"}),c.jsxs("div",{className:"info-block personal-data",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"📧 Email :"})," ",c.jsx("a",{href:"mailto:contact@herbbie.com",className:"email-protected",children:c.jsx("span",{className:"personal-data",children:"contact@herbbie.com"})})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"🏢 Nom de l'entreprise :"})," ",c.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]})]})]})]});return c.jsx(Fe.div,{className:"legal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:e,children:c.jsxs(Fe.div,{className:"legal-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:j=>j.stopPropagation(),children:[c.jsxs("div",{className:"legal-header",children:[c.jsx("h1",{children:"⚖️ Informations Légales"}),c.jsx("button",{className:"close-button",onClick:e,children:"✕"})]}),c.jsxs("div",{className:"legal-body",children:[c.jsx("nav",{className:"legal-nav",children:f.map(j=>c.jsxs("button",{className:`nav-item ${n===j.id?"active":""}`,onClick:()=>r(j.id),children:[c.jsx("span",{className:"nav-icon",children:j.icon}),c.jsx("span",{className:"nav-title",children:j.title})]},j.id))}),c.jsx("div",{className:"legal-main",children:c.jsx(pi,{mode:"wait",children:c.jsx(Fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:p()},n)})})]})]})})};const t7=()=>{const[e,t]=D.useState([]);return D.useEffect(()=>{const n=r=>{const i=Math.random()*1799.5+.5;setTimeout(()=>{const s={id:Date.now()+r,index:r,duration:Math.random()*2+1};t(o=>[...o,s]),setTimeout(()=>{t(o=>o.filter(a=>a.id!==s.id))},s.duration*1e3),n(r)},i*1e3)};for(let r=0;r<10;r++)setTimeout(()=>n(r),Math.random()*5e3);return()=>{t([])}},[]),c.jsx("section",{className:"shooting-stars-container",children:e.map(n=>c.jsx("span",{className:`shooting-star star-${n.index+1}`,style:{animationDuration:`${n.duration}s`}},n.id))})},Ta=(e,t,n="")=>{const r={comptine:{animaux:["Les Amis de la Forêt","La Danse des Animaux","Mes Amis les Animaux","Le Grand Bal des Animaux"],nature:["Les Fleurs Magiques","L'Aventure dans les Bois","Les Secrets du Jardin","La Fête de la Nature"],transport:["Le Train des Copains","L'Aventure en Voiture","Le Voyage Fantastique","En Route pour l'Aventure"],couleurs:["L'Arc-en-Ciel Magique","Le Monde des Couleurs","La Danse des Couleurs","Mon Joli Tableau"],famille:["Ma Famille d'Amour","Tous Ensemble","Les Câlins de Famille","Mon Coeur de Famille"],default:["Ma Jolie Comptine","Chanson du Bonheur","Ma Petite Mélodie","Comptine Rigolote"]},histoire:{aventure:["La Grande Aventure","Voyage Extraordinaire","Mission Secrète","L'Aventure Fantastique"],animaux:["Les Amis de la Forêt","L'Histoire des Petits Animaux","Mes Copains Animaux","La Famille Animaux"],magie:["Le Monde Magique","L'Aventure Enchantée","Le Secret Magique","La Fée et ses Amis"],amitié:["Les Meilleurs Amis","Une Belle Amitié","Copains pour la Vie","L'Amitié Magique"],espace:["Voyage dans les Étoiles","L'Aventure Spatiale","Les Amis de l'Espace","Mission sur la Lune"],default:["Mon Belle Histoire","Conte Merveilleux","Histoire Fantastique","Récit d'Aventure"]},coloriage:{animaux:["Mes Amis Animaux","Zoo Rigolo","Famille Animaux","Copains de la Forêt"],licorne:["Licorne Magique","Princesse Licorne","Pays des Licornes","Licorne Arc-en-Ciel"],dinosaures:["Dino Rigolo","Mes Amis Dinosaures","Parc des Dinosaures","T-Rex et ses Copains"],nature:["Jardin Fleuri","Forêt Enchantée","Promenade Nature","Fleurs et Papillons"],espace:["Voyage Spatial","Planètes Rigolotes","Astronaute en Mission","Étoiles et Fusées"],véhicules:["Mes Voitures","Garage Rigolo","Course Automobile","Train et Avions"],default:["Mon Coloriage","Dessin Rigolo","Art Créatif","Belle Image"]},animation:{aventure:["Mon Dessin Animé","Animation Magique","Film d'Aventure","Cinéma Fantastique"],animaux:["Mes Amis Animés","Zoo en Mouvement","Aventures Animales","Cirque des Animaux"],magie:["Monde Enchanté","Magie en Mouvement","Film de Fée","Animation Magique"],espace:["Voyage Animé","Aventure Spatiale","Film de l'Espace","Mission Animation"],nature:["Forêt Animée","Jardin en Mouvement","Nature Vivante","Fleurs Dansantes"],default:["Mon Film IA","Dessin Animé IA","Animation Créative","Film Personnalisé"]}},i=r[e]||r.histoire,s=i[t]||i.default||i.aventure,o=Math.floor(Math.random()*s.length);return s[o]};function n7(e,t=600){const n=e.split(new RegExp("(?<=[.?!])\\s+")),r=[];let i="";for(const s of n)(i+s).length>t?(r.push(i.trim()),i=s+" "):i+=s+" ";return i.trim()&&r.push(i.trim()),r}function r7(){const[e,t]=D.useState("animation"),[n,r]=D.useState(null),[i,s]=D.useState(""),[o,a]=D.useState(!0),[l,d]=D.useState(""),[f,p]=D.useState(""),[g,m]=D.useState(null),[N,b]=D.useState(""),[A,x]=D.useState(null),[w,j]=D.useState(""),[R,q]=D.useState(!1),[U,T]=D.useState(null);D.useState(!1);const[F,$]=D.useState(!1),[ee,E]=D.useState(!1),[M,X]=D.useState(!1),[G,de]=D.useState(!1),[ae,ce]=D.useState(null),[H,ie]=D.useState(""),[Y,me]=D.useState(null),[C,B]=D.useState(null),[z,J]=D.useState(null),[Q,oe]=D.useState(null),[he,ue]=D.useState(null),[Se,we]=D.useState(null),[Te,ke]=D.useState(""),[Xe,ve]=D.useState(null),[K,at]=D.useState(null),[He,Le]=D.useState(!1);D.useEffect(()=>{e==="comic"&&(ue(null),we(null))},[e]);const[Ee,Re]=D.useState(null),[Ie,Ge]=D.useState(30),[Pe,Oe]=D.useState(null),[Ke,pt]=D.useState(""),[At,st]=D.useState(null),[et,ze]=D.useState(null),[En,yt]=D.useState(null),[Rr,Ct]=D.useState(!1),[Ot,gr]=D.useState(!1),[St,ts]=D.useState(null);D.useState("user"),D.useState(!1);const[Yt,vr]=D.useState("Générer"),[yi,Vt]=D.useState(!1),[lt,Nt]=D.useState("mentions"),Mi=qe=>new Promise(Ae=>setTimeout(Ae,qe)),Ln=async(qe,{intervalMs:Ae=5e3,maxAttempts:Ye=240}={})=>{let mt=0;for(;mt<Ye;){try{const Je=await fetch(`${An}/status/${qe}`);if(Je.ok){const Qe=await Je.json();if((Qe==null?void 0:Qe.type)==="result"){const De=Qe.data;if((De==null?void 0:De.status)==="completed"&&De!=null&&De.clips&&De.clips.length>0)return De;if((De==null?void 0:De.status)==="failed")throw new Error((De==null?void 0:De.error_message)||"Génération échouée")}}}catch{}mt+=1,await Mi(Ae)}throw new Error("Timeout de génération de l'animation")},Qr=async(qe,{intervalMs:Ae=5e3,maxAttempts:Ye=180}={})=>{let mt=0;for(;mt<Ye;){try{const Je=await fetch(`${An}/status_comic/${qe}`);if(Je.ok){const Qe=await Je.json();if((Qe==null?void 0:Qe.type)==="result"){const De=Qe.data;if(((De==null?void 0:De.status)==="completed"||(De==null?void 0:De.status)==="success")&&De!=null&&De.pages&&De.pages.length>0)return De;if((De==null?void 0:De.status)==="failed")throw new Error((De==null?void 0:De.error)||"Génération échouée")}}}catch{}mt+=1,await Mi(Ae)}throw new Error("Timeout de génération de la BD")},Zr=async qe=>{try{const Ae=new FormData;Ae.append("file",qe);const Ye=await fetch(`${An}/upload_character_photo/`,{method:"POST",body:Ae});if(!Ye.ok)throw new Error(`Erreur upload : ${Ye.status}`);const mt=await Ye.json();return ve(mt),mt}catch(Ae){throw Ae}},[tt,ir]=D.useState(null),{user:$t,loading:$n}=Z0(),[dn,Bt]=D.useState(!1),[sr,ns]=D.useState(!1);D.useMemo(()=>e==="audio"&&(U!=null&&U.content)?n7(U.content):[],[U,e]);const[Oi,Dr]=D.useState(0);D.useEffect(()=>{window.location.hash==="#historique"&&Bt(!0);const qe=()=>{Bt(window.location.hash==="#historique")};return window.addEventListener("hashchange",qe),()=>window.removeEventListener("hashchange",qe)},[]),D.useEffect(()=>{(async()=>{if($t){const Ae=await hk($t.id,$t.email);ns(Ae),Or(Ae)}else ns(!1),Or(!1)})()},[$t,e]),D.useEffect(()=>{r(null),s(""),a(!0),d(""),p(""),m(null),b(""),x(null),ce(null),ie(""),me(null),J(null),oe(null),ue(null),we(null),ke(""),ve(null),at(null),Re(null),Ge(30),Oe(null),pt(""),ze(null),T(null),B(null),yt(null),ir(null)},[e]);const Mr=async qe=>{de(!1),setTimeout(()=>{de(!0),q(!1)},5e4)};D.useEffect(()=>{e==="animation"&&!Ee&&Re(null)},[e,Ee]);const yr=Ee||"space",Or=qe=>{if(qe)vr("Générer Gratuitement");else{const Ae=d4(e);vr(`Acheter pour ${Ae.display}`)}},xr=async()=>{if(!$t){alert("Vous devez être connecté pour générer du contenu");return}if(sr){wr();return}console.log("🔍 Vérification des permissions pour utilisateur normal");try{const{data:qe,error:Ae}=await un.functions.invoke("check-permission",{body:{contentType:e,userId:$t.id,userEmail:$t.email}});if(Ae){console.error("Erreur vérification permission:",Ae),alert("Erreur lors de la vérification des permissions. Veuillez réessayer.");return}if(console.log("📋 Résultat vérification permission:",qe),qe.hasPermission)console.log("✅ Permission validée - génération autorisée"),wr();else{console.log("💳 Ouverture modal de paiement"),ts(e),gr(!0);return}}catch(qe){console.error("Erreur lors de l'appel à check-permission:",qe),alert("Erreur de vérification des permissions. Veuillez réessayer.");return}},wr=async()=>{var qe;if(q(!0),T(null),!$n)try{let Ae=null;if(e==="rhyme"){const Je={theme:n==="custom"?i:n,custom_request:w,language:"fr"},Qe=await fetch(`${An}/generate_rhyme/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Je)});if(!Qe.ok)throw new Error(`Erreur HTTP : ${Qe.status}`);Ae=await Qe.json()}else if(e==="audio"||e==="histoire"&&A){const Je={story_type:g==="custom"?N:g,voice:A,custom_request:w},Qe=await fetch(`${An}/generate_audio_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Je)});if(!Qe.ok)throw new Error(`Erreur HTTP : ${Qe.status}`);Ae=await Qe.json()}else if(e==="histoire"){let Je;if(et&&et!=="custom"?Je={space:"Une aventure spatiale extraordinaire où un enfant explore les planètes lointaines et rencontre des aliens amicaux.",ocean:"Une exploration sous-marine magique avec des créatures marines colorées et des trésors cachés au fond de l'océan.",dinosaur:"Un voyage dans le temps à l'époque des dinosaures où un enfant devient ami avec un dinosaure gentil et découvre un monde préhistorique.",fairy:"Un conte de fées enchanteur avec des fées bienveillantes, des châteaux magiques et des aventures pleines de poussière de fée.",superhero:"Une histoire de super-héros où un enfant découvre ses pouvoirs extraordinaires et sauve la ville avec courage et bonté.",jungle:"Une aventure dans la jungle tropicale remplie d'animaux exotiques, de plantes mystérieuses et de découvertes passionnantes."}[et]||`Une belle histoire sur le thème ${et}`:Je=Ke,!Je||Je.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractères");const Qe={story_type:et==="custom"?"custom":et,content:Je,custom_request:w},De=await fetch(`${An}/generate_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Qe)});if(!De.ok)throw new Error(`Erreur HTTP : ${De.status}`);Ae=await De.json()}else if(e==="coloring")if(Y){const Je=new FormData;Je.append("file",Y);const Qe=await fetch(`${An}/upload_photo_for_coloring/`,{method:"POST",body:Je});if(!Qe.ok)throw new Error(`Erreur upload : ${Qe.status}`);const Et={photo_path:(await Qe.json()).file_path,with_colored_model:z},or=await fetch(`${An}/convert_photo_to_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Et)});if(!or.ok)throw new Error(`Erreur conversion : ${or.status}`);const hn=await or.json();B(hn),Ae=hn}else{const Je={theme:ae,with_colored_model:z};ae==="custom"&&H.trim()&&(Je.custom_prompt=H.trim());const Qe=await fetch(`${An}/generate_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Je)});if(!Qe.ok)throw new Error(`Erreur HTTP : ${Qe.status}`);const De=await Qe.json();B(De),Ae=De}else if(e==="comic"){const Je={theme:Q==="custom"?Te:Q,art_style:he||"cartoon",num_pages:Se||1};Q==="custom"&&Te.trim()&&(Je.custom_prompt=Te.trim()),Xe&&Xe.file_path&&(Je.character_photo_path=Xe.file_path);const Qe=await fetch(`${An}/generate_comic/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Je)});if(!Qe.ok)throw new Error(`Erreur HTTP : ${Qe.status}`);const De=await Qe.json();let Et=De;const or=De==null?void 0:De.task_id,hn=(De==null?void 0:De.status)==="success"&&(De==null?void 0:De.pages)&&De.pages.length>0;or&&!hn&&(Et=await Qr(or)),Et!=null&&Et.pages&&Et.pages.length>0&&(at(Et),Ae=Et)}else if(e==="animation"){let Je;const Qe=Ee||"space";if(Qe&&Qe!=="custom"?Je={magie:"Une histoire magique avec des créatures fantastiques dans un monde enchanté",aventure:"Une grande aventure pleine de découvertes et de rebondissements",animaux:"Une histoire mettant en scène des animaux adorables et leurs aventures",espace:"Un voyage extraordinaire à travers les étoiles et les planètes",nature:"Une exploration merveilleuse de la nature et de ses secrets",amitié:"Une belle histoire d'amitié et de solidarité",famille:"Une histoire touchante sur les liens familiaux"}[Qe]||`Une belle histoire sur le thème ${Qe}`:Je=Ke,!Je||Je.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractères");const Et={magie:"magic",aventure:"adventure",animaux:"animals",espace:"space",nature:"nature",amitié:"friendship",famille:"friendship"}[Qe]||Qe||"adventure",or={theme:Et,duration:Number(Ie),custom_prompt:Je||void 0},hn=Ie||30,ti=`${An}/generate-quick?theme=${encodeURIComponent(Et)}&duration=${hn}&style=${Pe||"cartoon"}&custom_prompt=${encodeURIComponent(Je||"")}`,br=await fetch(ti,{method:"GET",headers:{Accept:"application/json"}});if(!br.ok){const bn=await br.text();throw new Error(`Erreur HTTP ${br.status}: ${bn}`)}const wn=await br.json();let Xt=wn;const ar=wn==null?void 0:wn.task_id,ss=(wn==null?void 0:wn.status)==="completed"&&((wn==null?void 0:wn.final_video_url)||(((qe=wn==null?void 0:wn.clips)==null?void 0:qe.length)||0)>0);ar&&!ss&&(Xt=await Ln(ar)),(Xt==null?void 0:Xt.status)==="completed"&&(Xt!=null&&Xt.clips)&&Xt.clips.length>0&&(yt(Xt),Ct(!0),Ae=Xt)}if(T(Ae),Dr(0),e==="rhyme"&&Ae.task_id){oa(Ae.task_id);return}let Ye;e==="rhyme"?Ae.title&&!Ae.title.includes("générée")?Ye=Ae.title+(Ae.has_music?" 🎵":""):Ye=Ta("comptine",n==="custom"?"default":n)+(Ae.has_music?" 🎵":""):e==="audio"?Ae.title&&!Ae.title.includes("générée")?Ye=Ae.title:Ye=Ta("histoire",g==="custom"?"default":g):e==="coloring"?Ye=(Ae==null?void 0:Ae.title)||Ta("coloriage",ae):e==="comic"?Ye=(K==null?void 0:K.title)||"Ma Bande Dessinée 📚":e==="animation"?Ye=(Ae==null?void 0:Ae.title)||Ta("animation",yr||"aventure"):e==="histoire"&&(Ye=(Ae==null?void 0:Ae.title)||Ta("histoire",et==="custom"?"default":et)),ir(Ye);let mt;e==="coloring"?mt={id:Date.now().toString(),type:e,title:Ye,createdAt:new Date().toISOString(),content:Ae?`${Ae.total_images} coloriage(s) généré(s)`:"Coloriage généré",theme:ae,images:(Ae==null?void 0:Ae.images)||[],metadata:(Ae==null?void 0:Ae.metadata)||{}}:e==="comic"?mt={id:Date.now().toString(),type:e,title:Ye,createdAt:new Date().toISOString(),content:K?`BD de ${K.total_pages} planche(s) - ${K.total_pages*4} cases`:"Bande dessinée générée",theme:Q,pages:(K==null?void 0:K.pages)||[],comic_data:K||{}}:e==="animation"?mt={id:Date.now().toString(),type:e,title:Ye,createdAt:new Date().toISOString(),content:Ae?`Animation de ${Ae.actual_duration}s avec ${Ae.total_scenes} scènes`:"Animation générée",theme:yr,clips:(Ae==null?void 0:Ae.clips)||[],animation_data:Ae||{}}:e==="histoire"?mt={id:Date.now().toString(),type:e,title:Ye,createdAt:new Date().toISOString(),content:(Ae==null?void 0:Ae.content)||Ae||"Histoire générée...",story_type:et==="custom"?"custom":et}:mt={id:Date.now().toString(),type:e,title:Ye,createdAt:new Date().toISOString(),content:(Ae==null?void 0:Ae.content)||Ae||"Contenu généré...",audio_path:(Ae==null?void 0:Ae.audio_path)||null};try{await Eg({type:e,title:Ye,data:mt})}catch{}q(!1)}catch(Ae){alert(`❌ Erreur lors de la génération : ${Ae.message}

💡 Conseil : Vérifiez que les clés API sont configurées dans le fichier .env du serveur.`),q(!1)}},rs=qe=>{var Ae,Ye,mt,Je,Qe;qe.action==="showStory"?(T({title:qe.title,content:qe.content||((Ae=qe.data)==null?void 0:Ae.content)||"",type:qe.type}),$(!0)):qe.action==="showColoring"?(B({success:!0,theme:qe.theme||((Ye=qe.data)==null?void 0:Ye.theme)||"coloriage",images:qe.images||((mt=qe.data)==null?void 0:mt.images)||[],total_images:(qe.images||((Je=qe.data)==null?void 0:Je.images)||[]).length,metadata:qe.metadata||((Qe=qe.data)==null?void 0:Qe.metadata)||{}}),E(!0)):(Bt(!1),window.location.hash="")},is=()=>{Bt(!1),window.location.hash=""},Ts=()=>{if(e==="rhyme"){if(!n||n==="custom"&&!i.trim())return!1}else if(e==="audio"){if(!g||g==="custom"&&!N.trim())return!1}else if(e==="coloring"){if(!ae&&!Y||ae==="custom"&&!H.trim()||z===null)return!1}else if(e==="comic"){if(!Q||!he||!Se||Q==="custom"&&!Te.trim())return!1}else if(e==="animation"){if(!Ee&&!Ke.trim()||Ee==="custom"&&!Ke.trim()||Ee==="custom"&&Ke.trim().length<10)return!1}else if(e==="histoire"&&(!et||et==="custom"&&!Ke.trim()||et==="custom"&&Ke.trim().length<10))return!1;return!0},ei={hidden:{opacity:0,height:0,marginBottom:0},visible:{opacity:1,height:"auto",marginBottom:"1rem"},exit:{opacity:0,height:0,marginBottom:0}},Fs=async(qe,Ae)=>{if(!(!Ae||typeof Ae!="string"))try{const Ye=new rt({orientation:"p",unit:"mm",format:"a4"}),mt=50,Je=210,Qe=297,De=6,Et=Math.floor((Qe-mt-30)/De),or=Xt=>new Promise((ar,ss)=>{const bn=new Image;bn.crossOrigin="anonymous",bn.onload=()=>ar(bn),bn.onerror=()=>ss(new Error("Impossible de charger l'image de fond")),bn.src=Xt});let hn=null;try{hn=await or("/assets/fond.png?v=1")}catch{}let ti=qe;Ae.startsWith("**")&&Ae.includes("**",2)&&(ti=Ae.split("**")[1].trim(),Ae=Ae.replace(`**${ti}**`,"").trim());const It=Ye.splitTextToSize(Ae,150);let br=0;for(let Xt=0;br<It.length;Xt++){if(Xt>0&&Ye.addPage(),hn)try{Ye.addImage(hn,"PNG",0,0,Je,Qe,void 0,"FAST")}catch{}Xt===0&&(Ye.setFont("courier","bold"),Ye.setFontSize(18),Ye.setTextColor(110,50,230),Ye.text(ti,Je/2,mt-20,{align:"center"})),Ye.setFont("courier","bold"),Ye.setFontSize(10),Ye.setTextColor(25,25,112);for(let ar=0;ar<Et&&br<It.length;ar++,br++){const ss=mt+ar*De;Ye.text(It[br],Je/2,ss,{align:"center"})}Ye.setFontSize(8),Ye.setTextColor(106,90,205),Ye.text(`Page ${Xt+1}`,Je-15,Qe-10,{align:"right"})}const wn=ti.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");Ye.save(`${wn}.pdf`)}catch{alert("Erreur lors de la génération du PDF. Veuillez réessayer.")}},oa=async(qe,Ae=40,Ye=5e3)=>{let mt=0;const Je=async()=>{try{const De=await(await fetch(`${An}/check_task_status/${qe}`)).json();if(De.status==="completed")return T(Et=>{const or={...Et,audio_path:De.audio_path,suno_url:De.suno_url,title:De.title||Et.title,has_music:!0,service:"suno"},hn=De.title||Et.title||Ta("comptine",n==="custom"?"default":n)+" 🎵";ir(hn);const ti={id:Date.now().toString(),type:"rhyme",title:hn,createdAt:new Date().toISOString(),content:Et.content||Et.rhyme||"Comptine générée",audio_path:De.audio_path,suno_url:De.suno_url};return Eg({type:"rhyme",title:hn,data:ti}).catch(It=>{}),or}),De.suno_url?(Mr(De.suno_url),!0):(q(!1),!0);if(De.status==="failed")return T(Et=>({...Et,music_error:De.error,has_music:!1})),q(!1),!0;if(De.status!=="processing"){if(mt>=Ae-1)return q(!1),alert("⚠️ La génération de musique prend plus de temps que prévu. Veuillez vérifier votre historique dans quelques minutes."),!0}return mt++,setTimeout(Je,Ye),!1}catch{return mt++,mt<Ae&&setTimeout(Je,Ye),!1}};await Je()};return c.jsxs("div",{className:"app-container",children:[c.jsx(MP,{isLoggedIn:!!$t,onOpenHistory:()=>Bt(!0)}),c.jsx(t7,{}),c.jsx("main",{className:"main-content",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs(Fe.div,{className:"creation-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["          ",c.jsx(HP,{contentType:e,setContentType:t}),"          ",c.jsx(pi,{mode:"wait",children:e==="rhyme"?c.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{width:"100%"},children:c.jsx(GP,{selectedRhyme:n,setSelectedRhyme:r,customRhyme:i,setCustomRhyme:s})},"rhyme-selector"):e==="audio"?c.jsx(Fe.div,{variants:ei,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(JP,{selectedAudioStory:g,setSelectedAudioStory:m,customAudioStory:N,setCustomAudioStory:b,selectedVoice:A,setSelectedVoice:x})},"audio-story-selector"):e==="coloring"?c.jsxs(Fe.div,{variants:ei,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:["                ",c.jsx(lk,{selectedTheme:ae,setSelectedTheme:ce,customColoringTheme:H,setCustomColoringTheme:ie,uploadedPhoto:Y,setUploadedPhoto:me,withColoredModel:z,setWithColoredModel:J})]},"coloring-selector"):e==="comic"?c.jsx(Fe.div,{variants:ei,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(uk,{selectedTheme:Q,setSelectedTheme:oe,selectedStyle:he,setSelectedStyle:ue,numPages:Se,setNumPages:we,customStory:Te,setCustomStory:ke,characterPhoto:Xe,setCharacterPhoto:ve,onCharacterPhotoUpload:Zr})},"comics-selector"):e==="animation"?c.jsx(Fe.div,{variants:ei,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(ZP,{selectedTheme:Ee,setSelectedTheme:Re,selectedDuration:Ie,setSelectedDuration:Ge,selectedStyle:Pe,setSelectedStyle:Oe,customStory:Ke,setCustomStory:pt,characterImage:At,setCharacterImage:st})},"animation-selector"):e==="histoire"?c.jsx(Fe.div,{variants:ei,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(QP,{selectedStory:et,setSelectedStory:ze,customStory:Ke,setCustomStory:pt})},"story-selector"):null}),"          ",c.jsx(tk,{customRequest:w,setCustomRequest:j,stepNumber:e==="coloring"?4:3}),c.jsx(nk,{onGenerate:xr,isGenerating:R,isDisabled:!Ts(),contentType:e,buttonText:Yt})]}),c.jsx("div",{className:"preview-column",children:c.jsx(Fe.div,{className:"preview-panel",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:c.jsx("div",{className:"preview-container",children:c.jsx("div",{className:`preview ${U?"":"empty"}`,children:c.jsx(pi,{mode:"wait",children:R?c.jsxs(Fe.div,{className:"generating-animation",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[c.jsxs("div",{className:"loading-dots",children:[c.jsx("div",{className:"dot"}),c.jsx("div",{className:"dot"}),c.jsx("div",{className:"dot"})]}),"      ",c.jsxs("p",{children:["        ",e==="rhyme"?"Votre comptine est en cours de création...":e==="audio"?"Création de l'histoire en cours...":e==="histoire"?"Création de votre histoire en cours...":e==="coloring"?"Votre coloriage est en cours de création...":e==="comic"?"Création de votre bande dessinée en cours...":e==="animation"?"Création de votre dessin animé en cours...":"Génération en cours..."]})]},"generating"):C&&e==="coloring"?c.jsxs(Fe.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[c.jsx("button",{onClick:()=>E(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:"🎨 Ouvrir le coloriage"}),c.jsx("button",{onClick:()=>X(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:"🖌️ Colorier maintenant"}),c.jsx("button",{onClick:()=>{if(C!=null&&C.images){const qe=`coloriages_${C.theme||ae||"generes"}`;tg(C.images,qe)}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:"📄 Télécharger le coloriage"})]},"coloring-result"):K&&e==="comic"?c.jsxs(Fe.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem",padding:"1rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem"},children:[c.jsx("h3",{style:{color:"var(--primary)",marginBottom:"0.5rem"},children:K.title||"Votre Bande Dessinée"}),c.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[K.total_pages," ",K.total_pages===1?"planche":"planches"," • ",K.total_pages*4," cases"]})]}),c.jsx("button",{onClick:()=>Le(!0),style:{padding:"0.8rem 2rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"700",fontSize:"1rem",boxShadow:"0 4px 12px rgba(245, 240, 255, 0.3)",transition:"all 0.2s ease"},onMouseOver:qe=>qe.target.style.transform="translateY(-2px)",onMouseOut:qe=>qe.target.style.transform="translateY(0)",children:"📚 Lire la bande dessinée"})]},"comics-result"):U&&e==="rhyme"&&U.suno_url&&G?c.jsx(Fe.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsxs("div",{style:{height:"300px",maxWidth:"500px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"0.8rem",padding:"0.5rem",overflowY:"auto"},children:[U.suno_url&&G&&c.jsx(c.Fragment,{children:c.jsxs("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",maxWidth:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",overflow:"hidden"},children:[c.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",padding:"9px 50px 0px"},children:c.jsx("h4",{style:{margin:0,fontSize:"15px",color:"#333",fontWeight:"600"},children:"Votre comptine est prête !"})}),c.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",outline:"none"},src:U.suno_url,children:"Votre navigateur ne supporte pas l'élément audio."})]})}),U.suno_url&&G&&c.jsx(c.Fragment,{children:c.jsx("button",{onClick:async()=>{if(U.suno_url&&G)try{const qe=await fetch(U.suno_url);if(!qe.ok)throw new Error(`Erreur HTTP: ${qe.status}`);const Ae=await qe.blob();if(Ae.size===0)throw new Error("Fichier audio indisponible");const Ye=window.URL.createObjectURL(Ae),mt=(tt||U.title||"comptine").replace(/[^a-z0-9]/gi,"_").toLowerCase(),Je=document.createElement("a");Je.href=Ye,Je.download=`${mt}.mp3`,Je.style.display="none",document.body.appendChild(Je),Je.click(),document.body.removeChild(Je),setTimeout(()=>window.URL.revokeObjectURL(Ye),100)}catch(qe){alert(`Erreur lors du téléchargement: ${qe.message}`)}},disabled:!G,style:{padding:"0.8rem 2rem",backgroundColor:G?"#6B4EFF":"#ccc",color:G?"#fff":"#666",border:"none",borderRadius:"10px",cursor:G?"pointer":"not-allowed",fontWeight:"600",fontSize:"14px",marginTop:"0.8rem",boxShadow:G?"0 4px 12px rgba(245, 240, 255, 0.3)":"none",transition:"all 0.3s ease"},onMouseOver:qe=>G&&(qe.target.style.transform="translateY(-2px)"),onMouseOut:qe=>G&&(qe.target.style.transform="translateY(0)"),children:G?"📥 Télécharger":"⏳ Préparation du téléchargement..."})})]})},"rhyme-result"):U&&e==="audio"?c.jsx(Fe.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsxs("div",{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem",padding:"1rem",overflowY:"auto"},children:[U.audio_path&&c.jsx("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",padding:"22px",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:c.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",height:"40px",outline:"none"},src:`${An}/audio/${U.audio_path.split("/").pop()}`,children:"Votre navigateur ne supporte pas l'élément audio."})}),c.jsxs("div",{style:{display:"flex",gap:"1rem",width:"100%",justifyContent:"center",flexWrap:"wrap"},children:[c.jsx("button",{onClick:()=>$(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:"📖 Ouvrir l'histoire"}),c.jsx("button",{onClick:()=>Fs(U.title,U.content),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:"📄 Télécharger l'histoire"}),U.audio_path&&c.jsx("button",{onClick:async()=>{try{const qe=U.audio_path.split("/").pop(),Ae=`${An}/audio/${qe}?download=true`,Ye=(U.title||"Histoire").replace(/[^a-z0-9]/gi,"_").toLowerCase(),mt=await fetch(Ae);if(!mt.ok)throw new Error(`Erreur HTTP: ${mt.status}`);const Je=await mt.blob(),Qe=window.URL.createObjectURL(Je),De=document.createElement("a");De.href=Qe,De.download=`${Ye}.mp3`,document.body.appendChild(De),De.click(),document.body.removeChild(De),setTimeout(()=>{window.URL.revokeObjectURL(Qe)},100)}catch{try{const Ae=U.audio_path.split("/").pop(),Ye=`${An}/audio/${Ae}?download=true`;window.open(Ye,"_blank")}catch{alert("Erreur lors du téléchargement. Veuillez réessayer.")}}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:"🎵 Télécharger l'audio"})]})]})},"audio-story-result"):c.jsxs(Fe.div,{className:"preview-placeholder",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:["  ",!(U!=null&&U.content)&&!C&&c.jsxs("div",{className:"empty-preview",children:["    ",c.jsx("p",{children:e==="rhyme"?"Votre comptine apparaîtra ici":e==="audio"||e==="histoire"?"Votre histoire apparaîtra ici":e==="coloring"?"Votre coloriage apparaîtra ici":e==="comic"?"Votre bande dessinée apparaîtra ici":e==="animation"?"Votre dessin animé apparaîtra ici":"Votre contenu apparaîtra ici"})]})]},"placeholder")})})})})})]})}),c.jsx(pi,{children:dn&&c.jsx(Fe.div,{className:"history-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:is,children:c.jsx(ok,{onClose:is,onSelect:rs})})}),F&&c.jsx(ak,{title:U.title,content:U.content,onClose:()=>$(!1)}),"    ",ee&&c.jsx(ck,{coloringResult:C,selectedTheme:ae,onClose:()=>E(!1)}),M&&c.jsx(u4,{imageUrl:(()=>{var Ae;const qe=(Ae=C==null?void 0:C.images)==null?void 0:Ae[0];return qe?qe.image_url||qe:void 0})(),theme:(C==null?void 0:C.theme)||ae,onClose:()=>X(!1)}),He&&c.jsx(dk,{comic:K,onClose:()=>Le(!1),baseUrl:An}),Rr&&c.jsx(ek,{animationResult:En,onClose:()=>Ct(!1)}),Ot&&c.jsx(Qk,{contentType:St,userId:$t==null?void 0:$t.id,userEmail:$t==null?void 0:$t.email,onSuccess:qe=>{gr(!1),setTimeout(()=>{wr()},500)},onCancel:()=>{gr(!1)}}),c.jsx(Zk,{onLegalClick:qe=>{Vt(!0),Nt(qe)}}),c.jsx(pi,{children:yi&&c.jsx(e7,{onClose:()=>Vt(!1),initialSection:lt})})]})}const D5=["fredagathe77@gmail.com","admin@herbbie.com"],gc="herbbie_admin_session",Do={initAuthListener(e){const t=()=>{const r=this.getStoredSession();r&&r.user?e({user:r.user,isAdmin:r.isAdmin,session:r}):e(null)};t();const n=r=>{r.key===gc&&t()};return window.addEventListener("storage",n),{unsubscribe:()=>{window.removeEventListener("storage",n)}}},async signIn(e,t){try{if(!D5.includes(e))throw new Error("Accès refusé. Seuls les administrateurs peuvent accéder à ce panneau.");const n={id:"admin-"+Date.now(),email:e,user_metadata:{full_name:e==="fredagathe77@gmail.com"?"Admin Principal":"Administrateur"}},r={user:n,access_token:"admin-token-"+Date.now(),token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:n,isAdmin:!0,session:r}),{user:n,session:r,isAdmin:!0}}catch(n){throw console.error("Erreur de connexion:",n),n}},async signOut(){try{localStorage.removeItem(gc)}catch(e){throw console.error("Erreur de déconnexion:",e),e}},async getCurrentUser(){try{const e=this.getStoredSession();return e&&e.user?{user:e.user,isAdmin:e.isAdmin}:null}catch(e){return console.error("Erreur lors de la récupération de l'utilisateur:",e),null}},async checkUserIsAdmin(e){try{return!e||!e.email?!1:D5.includes(e.email)}catch(t){return console.error("Erreur lors de la vérification du rôle admin:",t),!1}},async authenticateWithToken(e){try{if(!e||!e.includes("admin"))return console.warn("Token invalide"),!1;const t={id:"admin-auto-"+Date.now(),email:"admin@herbbie.com",user_metadata:{full_name:"Administrateur Auto"}},n={user:t,access_token:e,token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:t,isAdmin:!0,session:n}),{user:t,isAdmin:!0,session:n}}catch(t){return console.error("Erreur authentification automatique:",t),!1}},async getCurrentSession(){try{return this.getStoredSession()}catch(e){return console.error("Erreur lors de la récupération de la session:",e),null}},storeSession(e){try{localStorage.setItem(gc,JSON.stringify(e))}catch(t){console.error("Erreur lors du stockage de la session:",t)}},getStoredSession(){try{const e=localStorage.getItem(gc);if(e){const t=JSON.parse(e);if(t.session&&t.session.expires_at>Date.now())return t;localStorage.removeItem(gc)}}catch(e){console.error("Erreur lors de la récupération de la session:",e)}return null}},C4=D.createContext(),L4=()=>{const e=D.useContext(C4);if(!e)throw new Error("useAuth doit être utilisé dans un AuthProvider");return e},i7=({children:e})=>{const[t,n]=D.useState(null),[r,i]=D.useState(!1),[s,o]=D.useState(!0),[a,l]=D.useState(null);D.useEffect(()=>{let g;return(async()=>{try{const N=await Do.getCurrentSession();if(N!=null&&N.user){const b=await Do.checkUserIsAdmin(N.user);n(N.user),i(b),l(N)}}catch(N){console.error("Erreur lors de l'initialisation de l'authentification:",N)}finally{o(!1)}g=Do.initAuthListener(async N=>{N?(n(N.user),i(N.isAdmin),l(N.session)):(n(null),i(!1),l(null)),o(!1)})})(),()=>{g&&g.unsubscribe()}},[]);const p={user:t,isAdmin:r,loading:s,session:a,signIn:async(g,m)=>{o(!0);try{const N=await Do.signIn(g,m);return N&&(n(N.user),i(N.isAdmin),l(N.session)),N}catch(N){throw N}finally{o(!1)}},signOut:async()=>{o(!0);try{await Do.signOut(),n(null),i(!1),l(null)}catch(g){throw console.error("Erreur lors de la déconnexion:",g),g}finally{o(!1)}},authenticateWithToken:Do.authenticateWithToken.bind(Do),isAuthenticated:!!t&&r};return c.jsx(C4.Provider,{value:p,children:e})};const s7=()=>{const[e,t]=D.useState(""),[n,r]=D.useState(""),[i,s]=D.useState(""),[o,a]=D.useState(!1),[l,d]=D.useState(!1),{signIn:f}=L4(),p=async g=>{g.preventDefault(),s(""),a(!0);try{await f(e,n),th(e.trim())}catch(m){s(m.message||"Erreur de connexion")}finally{a(!1)}};return c.jsx("div",{className:"login-container",children:c.jsxs(Fe.div,{className:"login-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"login-header",children:[c.jsx("div",{className:"login-logo",children:c.jsxs("div",{className:"login-logo-text",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("span",{children:"Administration"})]})}),c.jsx("h2",{children:"Connexion Administrateur"}),c.jsx("p",{children:"Accès réservé aux administrateurs HERBBIE"})]}),c.jsxs("form",{className:"login-form",onSubmit:p,children:[i&&c.jsxs(Fe.div,{className:"login-error",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:[c.jsx("span",{children:"⚠️"})," ",i]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"email",children:"Email administrateur"}),c.jsx(Za,{value:e,onChange:g=>t(g.target.value),placeholder:"admin@herbbie.com",required:!0,disabled:o,user:null,onEmailSubmit:()=>{}})]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"password",children:"Mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:l?"text":"password",id:"password",value:n,onChange:g=>r(g.target.value),placeholder:"••••••••",required:!0,disabled:o,autoComplete:"current-password",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>d(!l),disabled:o,"aria-label":l?"Masquer le mot de passe":"Afficher le mot de passe",children:l?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),c.jsx("button",{type:"submit",className:"login-button",disabled:o||!e||!n,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"login-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),c.jsx("div",{className:"login-footer",children:c.jsx("p",{children:"🔒 Accès sécurisé - Seuls les administrateurs peuvent se connecter"})})]})})},ng="/api/features",o7=async()=>{try{const e=await fetch(ng,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok)return await e.json();throw console.error("Erreur lors de la récupération des fonctionnalités:",e.statusText),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors de la récupération des fonctionnalités:",e),e}},a7=async(e,t)=>{try{const n=await fetch(`${ng}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:t})});if(n.ok)return(await n.json()).features;throw console.error("Erreur lors de la mise à jour:",n.statusText),new Error(`Erreur API: ${n.status}`)}catch(n){throw console.error("Erreur lors de la mise à jour de la fonctionnalité:",n),n}},l7=async()=>{try{const e=await fetch(`${ng}/reset`,{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok)return(await e.json()).features;throw console.error("Erreur lors de la réinitialisation:",e.statusText),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors de la réinitialisation:",e),e}},c7=async()=>{try{return await o7()}catch(e){throw e}},u7=async(e,t)=>{try{const n=await a7(e,t);return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:n})),n}catch(n){throw n}},d7=async()=>{try{const e=await l7();return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:e})),e}catch(e){throw console.error("Erreur lors de la réinitialisation des fonctionnalités:",e),e}};const h7=()=>{const[e,t]=D.useState({}),[n,r]=D.useState(!0),[i,s]=D.useState(null);D.useEffect(()=>{o()},[]);const o=async()=>{try{r(!0);const g=await c7();t(g)}catch(g){console.error("Erreur lors du chargement des fonctionnalités:",g),d("Erreur lors du chargement des fonctionnalités","error")}finally{r(!1)}},a=async g=>{var m,N;try{const b=((m=e[g])==null?void 0:m.enabled)||!1,A=await u7(g,!b);if(A){t(A),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:A}));const x=b?"désactivée":"activée";d(`Fonctionnalité ${(N=e[g])==null?void 0:N.name} ${x}`,"success")}else d("Erreur lors de la mise à jour","error")}catch(b){console.error("Erreur lors de la mise à jour:",b),d("Erreur lors de la mise à jour","error")}},l=async()=>{try{const g=await d7();g?(t(g),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:g})),d("Toutes les fonctionnalités ont été réinitialisées","success")):d("Erreur lors de la réinitialisation","error")}catch(g){console.error("Erreur lors de la réinitialisation:",g),d("Erreur lors de la réinitialisation","error")}},d=(g,m="info")=>{s({message:g,type:m}),setTimeout(()=>s(null),3e3)},f=()=>Object.values(e).filter(g=>g.enabled).length,p=()=>Object.keys(e).length;return n?c.jsxs("div",{className:"admin-loading",children:[c.jsx("div",{className:"admin-loading-spinner"}),c.jsx("span",{children:"Chargement des fonctionnalités..."})]}):c.jsxs("div",{className:"feature-manager-container",children:[i&&c.jsx(Fe.div,{className:`admin-notification ${i.type} show`,initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},children:i.message}),c.jsxs("div",{className:"feature-manager-header",children:[c.jsxs("div",{className:"feature-manager-stats",children:[c.jsxs("div",{className:"feature-stat",children:[c.jsx("span",{className:"feature-stat-number",children:f()}),c.jsx("span",{className:"feature-stat-label",children:"Activées"})]}),c.jsxs("div",{className:"feature-stat",children:[c.jsx("span",{className:"feature-stat-number",children:p()}),c.jsx("span",{className:"feature-stat-label",children:"Total"})]}),c.jsxs("div",{className:"feature-stat",children:[c.jsxs("span",{className:"feature-stat-number",children:[Math.round(f()/p()*100),"%"]}),c.jsx("span",{className:"feature-stat-label",children:"Taux d'activation"})]})]}),c.jsx("div",{className:"feature-manager-actions",children:c.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:l,children:"🔄 Réinitialiser"})})]}),c.jsx("div",{className:"feature-manager-grid",children:Object.entries(e).map(([g,m])=>c.jsxs(Fe.div,{className:"feature-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[c.jsxs("div",{className:"feature-card-header",children:[c.jsxs("div",{className:"feature-info",children:[c.jsx("span",{className:"feature-icon",children:f7(g)}),c.jsxs("div",{className:"feature-details",children:[c.jsx("h3",{className:"feature-name",children:m.name}),c.jsx("span",{className:`feature-status ${m.enabled?"enabled":"disabled"}`,children:m.enabled?"Activée":"Désactivée"})]})]}),c.jsxs("label",{className:"feature-toggle",children:[c.jsx("input",{type:"checkbox",checked:m.enabled,onChange:()=>a(g)}),c.jsx("span",{className:"toggle-slider"})]})]}),c.jsx("div",{className:"feature-card-body",children:c.jsx("p",{className:"feature-description",children:p7(g)})})]},g))}),c.jsx("div",{className:"feature-manager-info",children:c.jsxs("div",{className:"admin-card",children:[c.jsx("div",{className:"admin-card-header",children:c.jsx("h3",{children:"📋 Informations"})}),c.jsxs("div",{className:"admin-card-body",children:[c.jsx("p",{children:"Les fonctionnalités activées sont visibles pour tous les utilisateurs de HERBBIE. Les modifications sont appliquées immédiatement."}),c.jsxs("ul",{className:"feature-info-list",children:[c.jsxs("li",{children:["🎬 ",c.jsx("strong",{children:"Dessin animé"})," : Génération de vidéos animées"]}),c.jsxs("li",{children:["💬 ",c.jsx("strong",{children:"Bande dessinée"})," : Création de BD avec bulles"]}),c.jsxs("li",{children:["🎨 ",c.jsx("strong",{children:"Coloriage"})," : Pages de coloriage à imprimer"]}),c.jsxs("li",{children:["📖 ",c.jsx("strong",{children:"Histoire"})," : Contes audio avec narration"]}),c.jsxs("li",{children:["🎵 ",c.jsx("strong",{children:"Comptine"})," : Chansons avec musique générée"]})]})]})]})})]})},f7=e=>({animation:"🎬",comic:"💬",coloring:"🎨",audio:"📖",rhyme:"🎵"})[e]||"📋",p7=e=>({animation:"Génération de dessins animés personnalisés avec IA",comic:"Création de bandes dessinées avec bulles de dialogue",coloring:"Pages de coloriage à imprimer pour les enfants",audio:"Histoires audio avec narration automatique",rhyme:"Comptines musicales avec paroles et mélodies"})[e]||"Fonctionnalité de création de contenu",m7=()=>{const{user:e,isAdmin:t,loading:n,signOut:r}=L4(),[i]=r6(),s=d0(),o=i.get("auth"),[a,l]=Ft.useState(!1);return D.useEffect(()=>{o==="auto"?(l(!0),window.history.replaceState({},"","/ilmysv6iepwepoa4tj2k")):!o&&!a&&localStorage.removeItem("herbbie_admin_session")},[o]),D.useEffect(()=>{const f=document.title;return document.title="HERBBIE - Administration",()=>{document.title=f}},[]),D.useEffect(()=>{const f=()=>{l(!1),localStorage.removeItem("herbbie_admin_session"),document.title="HERBBIE"};return window.addEventListener("beforeunload",f),()=>{window.removeEventListener("beforeunload",f)}},[]),n&&!a?c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:c.jsx("div",{children:"Chargement..."})}):a||e&&t?c.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"40px 20px"},children:c.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[c.jsx("h1",{style:{color:"white",textAlign:"center",marginBottom:"40px",fontSize:"2.5em"},children:"⚙️ Gestion des Fonctionnalités Herbbie"}),c.jsx(h7,{}),c.jsxs("div",{style:{marginTop:"40px",textAlign:"center",display:"flex",gap:"15px",justifyContent:"center",flexWrap:"wrap"},children:[c.jsx("a",{href:"/",onClick:f=>{f.preventDefault(),localStorage.removeItem("herbbie_admin_session"),window.location.href="/"},style:{color:"white",textDecoration:"none",padding:"12px 30px",background:"rgba(255,255,255,0.2)",borderRadius:"25px",display:"inline-block",transition:"all 0.3s ease",cursor:"pointer"},children:"← Retour à Herbbie"}),c.jsx("button",{onClick:async()=>{await r(),localStorage.removeItem("herbbie_admin_session"),s("/ilmysv6iepwepoa4tj2k")},style:{color:"white",border:"none",padding:"12px 30px",background:"rgba(255,0,0,0.3)",borderRadius:"25px",cursor:"pointer",fontSize:"16px",fontWeight:"500",transition:"all 0.3s ease"},children:"🚪 Déconnexion"})]})]})}):c.jsx(s7,{})},g7=()=>c.jsx(i7,{children:c.jsx(m7,{})});const v7=()=>{const[e,t]=D.useState(""),[n,r]=D.useState(""),[i,s]=D.useState(""),[o,a]=D.useState(!1),[l,d]=D.useState(!1),[f,p]=D.useState(!1),[g,m]=D.useState(!1),[N,b]=D.useState(!1),[A,x]=D.useState(!1);D.useEffect(()=>{let j,R;return(async()=>{await new Promise(F=>setTimeout(F,500));const{data:{session:U}}=await un.auth.getSession();if(U){p(!0);return}j=setTimeout(async()=>{const{data:{session:F}}=await un.auth.getSession();F||m(!0)},15e3);const{data:{subscription:T}}=un.auth.onAuthStateChange(async(F,$)=>{(F==="PASSWORD_RECOVERY"||F==="SIGNED_IN"||F==="INITIAL_SESSION")&&$&&(p(!0),m(!1),j&&clearTimeout(j))});R=T})(),()=>{j&&clearTimeout(j),R&&R.unsubscribe()}},[]);const w=async j=>{if(j.preventDefault(),s(""),d(!0),e.length<6){s("Le mot de passe doit contenir au moins 6 caractères"),d(!1);return}if(e!==n){s("Les mots de passe ne correspondent pas"),d(!1);return}try{const{error:R}=await un.auth.updateUser({password:e});R?s(R.message):(a(!0),setTimeout(()=>{window.location.href="/"},3e3))}catch{s("Une erreur est survenue lors de la mise à jour du mot de passe")}d(!1)};return o?c.jsx("div",{className:"reset-password-page",children:c.jsx(Fe.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:c.jsxs("div",{className:"success-message",children:[c.jsx("div",{className:"success-icon",children:"✅"}),c.jsx("h2",{children:"Mot de passe mis à jour !"}),c.jsx("p",{children:"Votre mot de passe a été changé avec succès."}),c.jsx("p",{children:"Vous serez redirigé vers la page d'accueil dans quelques secondes..."})]})})}):g?c.jsx("div",{className:"reset-password-page",children:c.jsxs(Fe.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Erreur de lien"})]}),c.jsxs("div",{className:"error-message",children:[c.jsx("div",{className:"error-icon",children:"❌"}),c.jsx("h3",{children:"Lien de réinitialisation invalide"}),c.jsx("p",{children:"Ce lien de réinitialisation de mot de passe n'est pas valide ou a expiré."}),c.jsx("p",{children:"Veuillez demander un nouveau lien de réinitialisation."})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour à l'accueil"})})]})}):f?c.jsx("div",{className:"reset-password-page",children:c.jsxs(Fe.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Réinitialiser votre mot de passe"})]}),c.jsxs("form",{onSubmit:w,className:"reset-password-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"newPassword",children:"Nouveau mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:N?"text":"password",id:"newPassword",value:e,onChange:j=>t(j.target.value),placeholder:"Entrez votre nouveau mot de passe",required:!0,minLength:"6",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>b(!N),"aria-label":N?"Masquer le mot de passe":"Afficher le mot de passe",children:N?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:A?"text":"password",id:"confirmPassword",value:n,onChange:j=>r(j.target.value),placeholder:"Confirmez votre nouveau mot de passe",required:!0,minLength:"6",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>x(!A),"aria-label":A?"Masquer le mot de passe":"Afficher le mot de passe",children:A?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),i&&c.jsx("div",{className:"error-message",children:i}),c.jsx("button",{type:"submit",className:"reset-button",disabled:l,children:l?"Mise à jour...":"Mettre à jour le mot de passe"})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour à l'accueil"})})]})}):c.jsx("div",{className:"reset-password-page",children:c.jsxs(Fe.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Réinitialiser votre mot de passe"})]}),c.jsxs("div",{className:"waiting-message",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Vérification de votre lien de réinitialisation..."}),c.jsx("p",{className:"waiting-subtitle",children:"Si cette page ne se met pas à jour automatiquement, assurez-vous d'avoir cliqué sur le lien complet dans votre email."})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour à l'accueil"})})]})})};Hp.createRoot(document.getElementById("root")).render(c.jsx(Ft.StrictMode,{children:c.jsx(Qj,{children:c.jsxs(Lj,{children:[c.jsx(Hd,{path:"/",element:c.jsx(r7,{})}),c.jsx(Hd,{path:"/ilmysv6iepwepoa4tj2k",element:c.jsx(g7,{})}),c.jsx(Hd,{path:"/reset-password",element:c.jsx(v7,{})})]})})}));export{kt as _};
