import{_ as Jd}from"./preload-helper-8235fac6.js";import{g as M5,s as yn}from"./supabaseClient-4d59f756.js";import{deleteCreation as cb,addCreation as _g}from"./creations-d0c6c518.js";var O5={exports:{}},Th={},B5={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju=Symbol.for("react.element"),db=Symbol.for("react.portal"),hb=Symbol.for("react.fragment"),fb=Symbol.for("react.strict_mode"),pb=Symbol.for("react.profiler"),mb=Symbol.for("react.provider"),gb=Symbol.for("react.context"),vb=Symbol.for("react.forward_ref"),yb=Symbol.for("react.suspense"),xb=Symbol.for("react.memo"),wb=Symbol.for("react.lazy"),Tg=Symbol.iterator;function bb(e){return e===null||typeof e!="object"?null:(e=Tg&&e[Tg]||e["@@iterator"],typeof e=="function"?e:null)}var z5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q5=Object.assign,U5={};function ol(e,t,n){this.props=e,this.context=t,this.refs=U5,this.updater=n||z5}ol.prototype.isReactComponent={};ol.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ol.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function V5(){}V5.prototype=ol.prototype;function g1(e,t,n){this.props=e,this.context=t,this.refs=U5,this.updater=n||z5}var v1=g1.prototype=new V5;v1.constructor=g1;q5(v1,ol.prototype);v1.isPureReactComponent=!0;var Fg=Array.isArray,$5=Object.prototype.hasOwnProperty,y1={current:null},H5={key:!0,ref:!0,__self:!0,__source:!0};function W5(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)$5.call(t,r)&&!H5.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ju,type:e,key:s,ref:o,props:i,_owner:y1.current}}function Sb(e,t){return{$$typeof:Ju,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ju}function Nb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ig=/\/+/g;function Yf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nb(""+e.key):t.toString(36)}function Ld(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ju:case db:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Yf(o,0):r,Fg(i)?(n="",e!=null&&(n=e.replace(Ig,"$&/")+"/"),Ld(i,t,n,"",function(d){return d})):i!=null&&(x1(i)&&(i=Sb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ig,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Fg(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Yf(s,a);o+=Ld(s,t,n,l,i)}else if(l=bb(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Yf(s,a++),o+=Ld(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Qc(e,t,n){if(e==null)return e;var r=[],i=0;return Ld(e,r,"","",function(s){return t.call(n,s,i++)}),r}function jb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lr={current:null},Cd={transition:null},Ab={ReactCurrentDispatcher:lr,ReactCurrentBatchConfig:Cd,ReactCurrentOwner:y1};function G5(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:Qc,forEach:function(e,t,n){Qc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qc(e,function(){t++}),t},toArray:function(e){return Qc(e,function(t){return t})||[]},only:function(e){if(!x1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};mt.Component=ol;mt.Fragment=hb;mt.Profiler=pb;mt.PureComponent=g1;mt.StrictMode=fb;mt.Suspense=yb;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ab;mt.act=G5;mt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=q5({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=y1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)$5.call(t,l)&&!H5.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Ju,type:e.type,key:i,ref:s,props:r,_owner:o}};mt.createContext=function(e){return e={$$typeof:gb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mb,_context:e},e.Consumer=e};mt.createElement=W5;mt.createFactory=function(e){var t=W5.bind(null,e);return t.type=e,t};mt.createRef=function(){return{current:null}};mt.forwardRef=function(e){return{$$typeof:vb,render:e}};mt.isValidElement=x1;mt.lazy=function(e){return{$$typeof:wb,_payload:{_status:-1,_result:e},_init:jb}};mt.memo=function(e,t){return{$$typeof:xb,type:e,compare:t===void 0?null:t}};mt.startTransition=function(e){var t=Cd.transition;Cd.transition={};try{e()}finally{Cd.transition=t}};mt.unstable_act=G5;mt.useCallback=function(e,t){return lr.current.useCallback(e,t)};mt.useContext=function(e){return lr.current.useContext(e)};mt.useDebugValue=function(){};mt.useDeferredValue=function(e){return lr.current.useDeferredValue(e)};mt.useEffect=function(e,t){return lr.current.useEffect(e,t)};mt.useId=function(){return lr.current.useId()};mt.useImperativeHandle=function(e,t,n){return lr.current.useImperativeHandle(e,t,n)};mt.useInsertionEffect=function(e,t){return lr.current.useInsertionEffect(e,t)};mt.useLayoutEffect=function(e,t){return lr.current.useLayoutEffect(e,t)};mt.useMemo=function(e,t){return lr.current.useMemo(e,t)};mt.useReducer=function(e,t,n){return lr.current.useReducer(e,t,n)};mt.useRef=function(e){return lr.current.useRef(e)};mt.useState=function(e){return lr.current.useState(e)};mt.useSyncExternalStore=function(e,t,n){return lr.current.useSyncExternalStore(e,t,n)};mt.useTransition=function(){return lr.current.useTransition()};mt.version="18.3.1";B5.exports=mt;var O=B5.exports;const Rt=M5(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb=O,Cb=Symbol.for("react.element"),Pb=Symbol.for("react.fragment"),kb=Object.prototype.hasOwnProperty,Eb=Lb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_b={key:!0,ref:!0,__self:!0,__source:!0};function K5(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)kb.call(t,r)&&!_b.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Cb,type:e,key:s,ref:o,props:i,_owner:Eb.current}}Th.Fragment=Pb;Th.jsx=K5;Th.jsxs=K5;O5.exports=Th;var c=O5.exports,Hp={},Y5={exports:{}},Br={},J5={exports:{}},X5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,ne){var te=H.length;H.push(ne);e:for(;0<te;){var xe=te-1>>>1,L=H[xe];if(0<i(L,ne))H[xe]=ne,H[te]=L,te=xe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ne=H[0],te=H.pop();if(te!==ne){H[0]=te;e:for(var xe=0,L=H.length,q=L>>>1;xe<q;){var U=2*(xe+1)-1,J=H[U],re=U+1,ce=H[re];if(0>i(J,te))re<L&&0>i(ce,J)?(H[xe]=ce,H[re]=te,xe=re):(H[xe]=J,H[U]=te,xe=U);else if(re<L&&0>i(ce,te))H[xe]=ce,H[re]=te,xe=re;else break e}}return ne}function i(H,ne){var te=H.sortIndex-ne.sortIndex;return te!==0?te:H.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],d=[],f=1,p=null,g=3,m=!1,N=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(H){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=H)r(d),ne.sortIndex=ne.expirationTime,t(l,ne);else break;ne=n(d)}}function R(H){if(S=!1,j(H),!N)if(n(l)!==null)N=!0,ie(B);else{var ne=n(d);ne!==null&&oe(R,ne.startTime-H)}}function B(H,ne){N=!1,S&&(S=!1,x(D),D=-1),m=!0;var te=g;try{for(j(ne),p=n(l);p!==null&&(!(p.expirationTime>ne)||H&&!T());){var xe=p.callback;if(typeof xe=="function"){p.callback=null,g=p.priorityLevel;var L=xe(p.expirationTime<=ne);ne=e.unstable_now(),typeof L=="function"?p.callback=L:p===n(l)&&r(l),j(ne)}else r(l);p=n(l)}if(p!==null)var q=!0;else{var U=n(d);U!==null&&oe(R,U.startTime-ne),q=!1}return q}finally{p=null,g=te,m=!1}}var z=!1,F=null,D=-1,W=5,ee=-1;function T(){return!(e.unstable_now()-ee<W)}function E(){if(F!==null){var H=e.unstable_now();ee=H;var ne=!0;try{ne=F(!0,H)}finally{ne?G():(z=!1,F=null)}}else z=!1}var G;if(typeof w=="function")G=function(){w(E)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ae=V.port2;V.port1.onmessage=E,G=function(){ae.postMessage(null)}}else G=function(){A(E,0)};function ie(H){F=H,z||(z=!0,G())}function oe(H,ne){D=A(function(){H(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){N||m||(N=!0,ie(B))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(H){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var te=g;g=ne;try{return H()}finally{g=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=g;g=H;try{return ne()}finally{g=te}},e.unstable_scheduleCallback=function(H,ne,te){var xe=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?xe+te:xe):te=xe,H){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=te+L,H={id:f++,callback:ne,priorityLevel:H,startTime:te,expirationTime:L,sortIndex:-1},te>xe?(H.sortIndex=te,t(d,H),n(l)===null&&H===n(d)&&(S?(x(D),D=-1):S=!0,oe(R,te-xe))):(H.sortIndex=L,t(l,H),N||m||(N=!0,ie(B))),H},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(H){var ne=g;return function(){var te=g;g=ne;try{return H.apply(this,arguments)}finally{g=te}}}})(X5);J5.exports=X5;var Tb=J5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb=O,Mr=Tb;function Pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q5=new Set,Lu={};function Mo(e,t){Ya(e,t),Ya(e+"Capture",t)}function Ya(e,t){for(Lu[e]=t,e=0;e<t.length;e++)Q5.add(t[e])}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wp=Object.prototype.hasOwnProperty,Ib=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rg={},Dg={};function Rb(e){return Wp.call(Dg,e)?!0:Wp.call(Rg,e)?!1:Ib.test(e)?Dg[e]=!0:(Rg[e]=!0,!1)}function Db(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mb(e,t,n,r){if(t===null||typeof t>"u"||Db(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ur(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qn[e]=new ur(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qn[t]=new ur(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qn[e]=new ur(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qn[e]=new ur(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qn[e]=new ur(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qn[e]=new ur(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qn[e]=new ur(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qn[e]=new ur(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qn[e]=new ur(e,5,!1,e.toLowerCase(),null,!1,!1)});var w1=/[\-:]([a-z])/g;function b1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(w1,b1);qn[t]=new ur(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(w1,b1);qn[t]=new ur(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(w1,b1);qn[t]=new ur(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qn[e]=new ur(e,1,!1,e.toLowerCase(),null,!1,!1)});qn.xlinkHref=new ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qn[e]=new ur(e,1,!1,e.toLowerCase(),null,!0,!0)});function S1(e,t,n,r){var i=qn.hasOwnProperty(t)?qn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mb(t,n,i,r)&&(n=null),r||i===null?Rb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fs=Fb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ba=Symbol.for("react.fragment"),N1=Symbol.for("react.strict_mode"),Gp=Symbol.for("react.profiler"),Z5=Symbol.for("react.provider"),ey=Symbol.for("react.context"),j1=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Yp=Symbol.for("react.suspense_list"),A1=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),ty=Symbol.for("react.offscreen"),Mg=Symbol.iterator;function Vl(e){return e===null||typeof e!="object"?null:(e=Mg&&e[Mg]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Object.assign,Jf;function su(e){if(Jf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jf=t&&t[1]||""}return`
`+Jf+e}var Xf=!1;function Qf(e,t){if(!e||Xf)return"";Xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?su(e):""}function Ob(e){switch(e.tag){case 5:return su(e.type);case 16:return su("Lazy");case 13:return su("Suspense");case 19:return su("SuspenseList");case 0:case 2:case 15:return e=Qf(e.type,!1),e;case 11:return e=Qf(e.type.render,!1),e;case 1:return e=Qf(e.type,!0),e;default:return""}}function Jp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ba:return"Fragment";case wa:return"Portal";case Gp:return"Profiler";case N1:return"StrictMode";case Kp:return"Suspense";case Yp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ey:return(e.displayName||"Context")+".Consumer";case Z5:return(e._context.displayName||"Context")+".Provider";case j1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A1:return t=e.displayName||null,t!==null?t:Jp(e.type)||"Memo";case Fs:t=e._payload,e=e._init;try{return Jp(e(t))}catch{}}return null}function Bb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jp(t);case 8:return t===N1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ks(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ny(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zb(e){var t=ny(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ed(e){e._valueTracker||(e._valueTracker=zb(e))}function ry(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ny(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xp(e,t){var n=t.checked;return rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Og(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ks(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iy(e,t){t=t.checked,t!=null&&S1(e,"checked",t,!1)}function Qp(e,t){iy(e,t);var n=Ks(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zp(e,t.type,Ks(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zp(e,t,n){(t!=="number"||Xd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ou=Array.isArray;function Ba(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ks(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function em(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Pe(92));if(ou(n)){if(1<n.length)throw Error(Pe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ks(n)}}function sy(e,t){var n=Ks(t.value),r=Ks(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var td,ay=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=td.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(hu).forEach(function(e){qb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hu[t]=hu[e]})});function ly(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hu.hasOwnProperty(e)&&hu[e]?(""+t).trim():t+"px"}function uy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ly(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ub=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nm(e,t){if(t){if(Ub[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Pe(62))}}function rm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var im=null;function L1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sm=null,za=null,qa=null;function Ug(e){if(e=Zu(e)){if(typeof sm!="function")throw Error(Pe(280));var t=e.stateNode;t&&(t=Mh(t),sm(e.stateNode,e.type,t))}}function cy(e){za?qa?qa.push(e):qa=[e]:za=e}function dy(){if(za){var e=za,t=qa;if(qa=za=null,Ug(e),t)for(e=0;e<t.length;e++)Ug(t[e])}}function hy(e,t){return e(t)}function fy(){}var Zf=!1;function py(e,t,n){if(Zf)return e(t,n);Zf=!0;try{return hy(e,t,n)}finally{Zf=!1,(za!==null||qa!==null)&&(fy(),dy())}}function Pu(e,t){var n=e.stateNode;if(n===null)return null;var r=Mh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Pe(231,t,typeof n));return n}var om=!1;if(as)try{var $l={};Object.defineProperty($l,"passive",{get:function(){om=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{om=!1}function Vb(e,t,n,r,i,s,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var fu=!1,Qd=null,Zd=!1,am=null,$b={onError:function(e){fu=!0,Qd=e}};function Hb(e,t,n,r,i,s,o,a,l){fu=!1,Qd=null,Vb.apply($b,arguments)}function Wb(e,t,n,r,i,s,o,a,l){if(Hb.apply(this,arguments),fu){if(fu){var d=Qd;fu=!1,Qd=null}else throw Error(Pe(198));Zd||(Zd=!0,am=d)}}function Oo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function my(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vg(e){if(Oo(e)!==e)throw Error(Pe(188))}function Gb(e){var t=e.alternate;if(!t){if(t=Oo(e),t===null)throw Error(Pe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Vg(i),e;if(s===r)return Vg(i),t;s=s.sibling}throw Error(Pe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Pe(189))}}if(n.alternate!==r)throw Error(Pe(190))}if(n.tag!==3)throw Error(Pe(188));return n.stateNode.current===n?e:t}function gy(e){return e=Gb(e),e!==null?vy(e):null}function vy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vy(e);if(t!==null)return t;e=e.sibling}return null}var yy=Mr.unstable_scheduleCallback,$g=Mr.unstable_cancelCallback,Kb=Mr.unstable_shouldYield,Yb=Mr.unstable_requestPaint,pn=Mr.unstable_now,Jb=Mr.unstable_getCurrentPriorityLevel,C1=Mr.unstable_ImmediatePriority,xy=Mr.unstable_UserBlockingPriority,eh=Mr.unstable_NormalPriority,Xb=Mr.unstable_LowPriority,wy=Mr.unstable_IdlePriority,Fh=null,Ii=null;function Qb(e){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(Fh,e,void 0,(e.current.flags&128)===128)}catch{}}var yi=Math.clz32?Math.clz32:tS,Zb=Math.log,eS=Math.LN2;function tS(e){return e>>>=0,e===0?32:31-(Zb(e)/eS|0)|0}var nd=64,rd=4194304;function au(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function th(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=au(a):(s&=o,s!==0&&(r=au(s)))}else o=n&~i,o!==0?r=au(o):s!==0&&(r=au(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yi(t),i=1<<n,r|=e[n],t&=~i;return r}function nS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-yi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=nS(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function lm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function by(){var e=nd;return nd<<=1,!(nd&4194240)&&(nd=64),e}function ep(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yi(t),e[t]=n}function iS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-yi(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function P1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function Sy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ny,k1,jy,Ay,Ly,um=!1,id=[],zs=null,qs=null,Us=null,ku=new Map,Eu=new Map,Rs=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hg(e,t){switch(e){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":ku.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(t.pointerId)}}function Hl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Zu(t),t!==null&&k1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function oS(e,t,n,r,i){switch(t){case"focusin":return zs=Hl(zs,e,t,n,r,i),!0;case"dragenter":return qs=Hl(qs,e,t,n,r,i),!0;case"mouseover":return Us=Hl(Us,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ku.set(s,Hl(ku.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Eu.set(s,Hl(Eu.get(s)||null,e,t,n,r,i)),!0}return!1}function Cy(e){var t=jo(e.target);if(t!==null){var n=Oo(t);if(n!==null){if(t=n.tag,t===13){if(t=my(n),t!==null){e.blockedOn=t,Ly(e.priority,function(){jy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);im=r,n.target.dispatchEvent(r),im=null}else return t=Zu(n),t!==null&&k1(t),e.blockedOn=n,!1;t.shift()}return!0}function Wg(e,t,n){Pd(e)&&n.delete(t)}function aS(){um=!1,zs!==null&&Pd(zs)&&(zs=null),qs!==null&&Pd(qs)&&(qs=null),Us!==null&&Pd(Us)&&(Us=null),ku.forEach(Wg),Eu.forEach(Wg)}function Wl(e,t){e.blockedOn===t&&(e.blockedOn=null,um||(um=!0,Mr.unstable_scheduleCallback(Mr.unstable_NormalPriority,aS)))}function _u(e){function t(i){return Wl(i,e)}if(0<id.length){Wl(id[0],e);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zs!==null&&Wl(zs,e),qs!==null&&Wl(qs,e),Us!==null&&Wl(Us,e),ku.forEach(t),Eu.forEach(t),n=0;n<Rs.length;n++)r=Rs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rs.length&&(n=Rs[0],n.blockedOn===null);)Cy(n),n.blockedOn===null&&Rs.shift()}var Ua=fs.ReactCurrentBatchConfig,nh=!0;function lS(e,t,n,r){var i=_t,s=Ua.transition;Ua.transition=null;try{_t=1,E1(e,t,n,r)}finally{_t=i,Ua.transition=s}}function uS(e,t,n,r){var i=_t,s=Ua.transition;Ua.transition=null;try{_t=4,E1(e,t,n,r)}finally{_t=i,Ua.transition=s}}function E1(e,t,n,r){if(nh){var i=cm(e,t,n,r);if(i===null)cp(e,t,r,rh,n),Hg(e,r);else if(oS(i,e,t,n,r))r.stopPropagation();else if(Hg(e,r),t&4&&-1<sS.indexOf(e)){for(;i!==null;){var s=Zu(i);if(s!==null&&Ny(s),s=cm(e,t,n,r),s===null&&cp(e,t,r,rh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cp(e,t,r,null,n)}}var rh=null;function cm(e,t,n,r){if(rh=null,e=L1(r),e=jo(e),e!==null)if(t=Oo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=my(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rh=e,null}function Py(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jb()){case C1:return 1;case xy:return 4;case eh:case Xb:return 16;case wy:return 536870912;default:return 16}default:return 16}}var Ms=null,_1=null,kd=null;function ky(){if(kd)return kd;var e,t=_1,n=t.length,r,i="value"in Ms?Ms.value:Ms.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return kd=i.slice(e,1<r?1-r:void 0)}function Ed(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sd(){return!0}function Gg(){return!1}function zr(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sd:Gg,this.isPropagationStopped=Gg,this}return rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),t}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T1=zr(al),Qu=rn({},al,{view:0,detail:0}),cS=zr(Qu),tp,np,Gl,Ih=rn({},Qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gl&&(Gl&&e.type==="mousemove"?(tp=e.screenX-Gl.screenX,np=e.screenY-Gl.screenY):np=tp=0,Gl=e),tp)},movementY:function(e){return"movementY"in e?e.movementY:np}}),Kg=zr(Ih),dS=rn({},Ih,{dataTransfer:0}),hS=zr(dS),fS=rn({},Qu,{relatedTarget:0}),rp=zr(fS),pS=rn({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),mS=zr(pS),gS=rn({},al,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vS=zr(gS),yS=rn({},al,{data:0}),Yg=zr(yS),xS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bS[e])?!!t[e]:!1}function F1(){return SS}var NS=rn({},Qu,{key:function(e){if(e.key){var t=xS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ed(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F1,charCode:function(e){return e.type==="keypress"?Ed(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ed(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jS=zr(NS),AS=rn({},Ih,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jg=zr(AS),LS=rn({},Qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F1}),CS=zr(LS),PS=rn({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),kS=zr(PS),ES=rn({},Ih,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_S=zr(ES),TS=[9,13,27,32],I1=as&&"CompositionEvent"in window,pu=null;as&&"documentMode"in document&&(pu=document.documentMode);var FS=as&&"TextEvent"in window&&!pu,Ey=as&&(!I1||pu&&8<pu&&11>=pu),Xg=String.fromCharCode(32),Qg=!1;function _y(e,t){switch(e){case"keyup":return TS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function IS(e,t){switch(e){case"compositionend":return Ty(t);case"keypress":return t.which!==32?null:(Qg=!0,Xg);case"textInput":return e=t.data,e===Xg&&Qg?null:e;default:return null}}function RS(e,t){if(Sa)return e==="compositionend"||!I1&&_y(e,t)?(e=ky(),kd=_1=Ms=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ey&&t.locale!=="ko"?null:t.data;default:return null}}var DS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!DS[e.type]:t==="textarea"}function Fy(e,t,n,r){cy(r),t=ih(t,"onChange"),0<t.length&&(n=new T1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mu=null,Tu=null;function MS(e){$y(e,0)}function Rh(e){var t=Aa(e);if(ry(t))return e}function OS(e,t){if(e==="change")return t}var Iy=!1;if(as){var ip;if(as){var sp="oninput"in document;if(!sp){var e2=document.createElement("div");e2.setAttribute("oninput","return;"),sp=typeof e2.oninput=="function"}ip=sp}else ip=!1;Iy=ip&&(!document.documentMode||9<document.documentMode)}function t2(){mu&&(mu.detachEvent("onpropertychange",Ry),Tu=mu=null)}function Ry(e){if(e.propertyName==="value"&&Rh(Tu)){var t=[];Fy(t,Tu,e,L1(e)),py(MS,t)}}function BS(e,t,n){e==="focusin"?(t2(),mu=t,Tu=n,mu.attachEvent("onpropertychange",Ry)):e==="focusout"&&t2()}function zS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rh(Tu)}function qS(e,t){if(e==="click")return Rh(t)}function US(e,t){if(e==="input"||e==="change")return Rh(t)}function VS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wi=typeof Object.is=="function"?Object.is:VS;function Fu(e,t){if(wi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wp.call(t,i)||!wi(e[i],t[i]))return!1}return!0}function n2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r2(e,t){var n=n2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n2(n)}}function Dy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function My(){for(var e=window,t=Xd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xd(e.document)}return t}function R1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $S(e){var t=My(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Dy(n.ownerDocument.documentElement,n)){if(r!==null&&R1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=r2(n,s);var o=r2(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HS=as&&"documentMode"in document&&11>=document.documentMode,Na=null,dm=null,gu=null,hm=!1;function i2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hm||Na==null||Na!==Xd(r)||(r=Na,"selectionStart"in r&&R1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gu&&Fu(gu,r)||(gu=r,r=ih(dm,"onSelect"),0<r.length&&(t=new T1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Na)))}function od(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ja={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},op={},Oy={};as&&(Oy=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Dh(e){if(op[e])return op[e];if(!ja[e])return e;var t=ja[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Oy)return op[e]=t[n];return e}var By=Dh("animationend"),zy=Dh("animationiteration"),qy=Dh("animationstart"),Uy=Dh("transitionend"),Vy=new Map,s2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(e,t){Vy.set(e,t),Mo(t,[e])}for(var ap=0;ap<s2.length;ap++){var lp=s2[ap],WS=lp.toLowerCase(),GS=lp[0].toUpperCase()+lp.slice(1);eo(WS,"on"+GS)}eo(By,"onAnimationEnd");eo(zy,"onAnimationIteration");eo(qy,"onAnimationStart");eo("dblclick","onDoubleClick");eo("focusin","onFocus");eo("focusout","onBlur");eo(Uy,"onTransitionEnd");Ya("onMouseEnter",["mouseout","mouseover"]);Ya("onMouseLeave",["mouseout","mouseover"]);Ya("onPointerEnter",["pointerout","pointerover"]);Ya("onPointerLeave",["pointerout","pointerover"]);Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("cancel close invalid load scroll toggle".split(" ").concat(lu));function o2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Wb(r,t,void 0,e),e.currentTarget=null}function $y(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;o2(i,a,d),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;o2(i,a,d),s=l}}}if(Zd)throw e=am,Zd=!1,am=null,e}function Ht(e,t){var n=t[vm];n===void 0&&(n=t[vm]=new Set);var r=e+"__bubble";n.has(r)||(Hy(t,e,2,!1),n.add(r))}function up(e,t,n){var r=0;t&&(r|=4),Hy(n,e,r,t)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Iu(e){if(!e[ad]){e[ad]=!0,Q5.forEach(function(n){n!=="selectionchange"&&(KS.has(n)||up(n,!1,e),up(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ad]||(t[ad]=!0,up("selectionchange",!1,t))}}function Hy(e,t,n,r){switch(Py(t)){case 1:var i=lS;break;case 4:i=uS;break;default:i=E1}n=i.bind(null,t,n,e),i=void 0,!om||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function cp(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=jo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}py(function(){var d=s,f=L1(n),p=[];e:{var g=Vy.get(e);if(g!==void 0){var m=T1,N=e;switch(e){case"keypress":if(Ed(n)===0)break e;case"keydown":case"keyup":m=jS;break;case"focusin":N="focus",m=rp;break;case"focusout":N="blur",m=rp;break;case"beforeblur":case"afterblur":m=rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=hS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CS;break;case By:case zy:case qy:m=mS;break;case Uy:m=kS;break;case"scroll":m=cS;break;case"wheel":m=_S;break;case"copy":case"cut":case"paste":m=vS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Jg}var S=(t&4)!==0,A=!S&&e==="scroll",x=S?g!==null?g+"Capture":null:g;S=[];for(var w=d,j;w!==null;){j=w;var R=j.stateNode;if(j.tag===5&&R!==null&&(j=R,x!==null&&(R=Pu(w,x),R!=null&&S.push(Ru(w,R,j)))),A)break;w=w.return}0<S.length&&(g=new m(g,N,null,n,f),p.push({event:g,listeners:S}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==im&&(N=n.relatedTarget||n.fromElement)&&(jo(N)||N[ls]))break e;if((m||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,m?(N=n.relatedTarget||n.toElement,m=d,N=N?jo(N):null,N!==null&&(A=Oo(N),N!==A||N.tag!==5&&N.tag!==6)&&(N=null)):(m=null,N=d),m!==N)){if(S=Kg,R="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(S=Jg,R="onPointerLeave",x="onPointerEnter",w="pointer"),A=m==null?g:Aa(m),j=N==null?g:Aa(N),g=new S(R,w+"leave",m,n,f),g.target=A,g.relatedTarget=j,R=null,jo(f)===d&&(S=new S(x,w+"enter",N,n,f),S.target=j,S.relatedTarget=A,R=S),A=R,m&&N)t:{for(S=m,x=N,w=0,j=S;j;j=ma(j))w++;for(j=0,R=x;R;R=ma(R))j++;for(;0<w-j;)S=ma(S),w--;for(;0<j-w;)x=ma(x),j--;for(;w--;){if(S===x||x!==null&&S===x.alternate)break t;S=ma(S),x=ma(x)}S=null}else S=null;m!==null&&a2(p,g,m,S,!1),N!==null&&A!==null&&a2(p,A,N,S,!0)}}e:{if(g=d?Aa(d):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var B=OS;else if(Zg(g))if(Iy)B=US;else{B=zS;var z=BS}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(B=qS);if(B&&(B=B(e,d))){Fy(p,B,n,f);break e}z&&z(e,g,d),e==="focusout"&&(z=g._wrapperState)&&z.controlled&&g.type==="number"&&Zp(g,"number",g.value)}switch(z=d?Aa(d):window,e){case"focusin":(Zg(z)||z.contentEditable==="true")&&(Na=z,dm=d,gu=null);break;case"focusout":gu=dm=Na=null;break;case"mousedown":hm=!0;break;case"contextmenu":case"mouseup":case"dragend":hm=!1,i2(p,n,f);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":i2(p,n,f)}var F;if(I1)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Sa?_y(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Ey&&n.locale!=="ko"&&(Sa||D!=="onCompositionStart"?D==="onCompositionEnd"&&Sa&&(F=ky()):(Ms=f,_1="value"in Ms?Ms.value:Ms.textContent,Sa=!0)),z=ih(d,D),0<z.length&&(D=new Yg(D,e,null,n,f),p.push({event:D,listeners:z}),F?D.data=F:(F=Ty(n),F!==null&&(D.data=F)))),(F=FS?IS(e,n):RS(e,n))&&(d=ih(d,"onBeforeInput"),0<d.length&&(f=new Yg("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=F))}$y(p,t)})}function Ru(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ih(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pu(e,n),s!=null&&r.unshift(Ru(e,s,i)),s=Pu(e,t),s!=null&&r.push(Ru(e,s,i))),e=e.return}return r}function ma(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function a2(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,i?(l=Pu(n,s),l!=null&&o.unshift(Ru(n,l,a))):i||(l=Pu(n,s),l!=null&&o.push(Ru(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var YS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function l2(e){return(typeof e=="string"?e:""+e).replace(YS,`
`).replace(JS,"")}function ld(e,t,n){if(t=l2(t),l2(e)!==t&&n)throw Error(Pe(425))}function sh(){}var fm=null,pm=null;function mm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gm=typeof setTimeout=="function"?setTimeout:void 0,XS=typeof clearTimeout=="function"?clearTimeout:void 0,u2=typeof Promise=="function"?Promise:void 0,QS=typeof queueMicrotask=="function"?queueMicrotask:typeof u2<"u"?function(e){return u2.resolve(null).then(e).catch(ZS)}:gm;function ZS(e){setTimeout(function(){throw e})}function dp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),_u(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_u(t)}function Vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function c2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ll=Math.random().toString(36).slice(2),_i="__reactFiber$"+ll,Du="__reactProps$"+ll,ls="__reactContainer$"+ll,vm="__reactEvents$"+ll,e6="__reactListeners$"+ll,t6="__reactHandles$"+ll;function jo(e){var t=e[_i];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ls]||n[_i]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=c2(e);e!==null;){if(n=e[_i])return n;e=c2(e)}return t}e=n,n=e.parentNode}return null}function Zu(e){return e=e[_i]||e[ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Aa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Pe(33))}function Mh(e){return e[Du]||null}var ym=[],La=-1;function to(e){return{current:e}}function Gt(e){0>La||(e.current=ym[La],ym[La]=null,La--)}function Vt(e,t){La++,ym[La]=e.current,e.current=t}var Ys={},tr=to(Ys),wr=to(!1),To=Ys;function Ja(e,t){var n=e.type.contextTypes;if(!n)return Ys;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function br(e){return e=e.childContextTypes,e!=null}function oh(){Gt(wr),Gt(tr)}function d2(e,t,n){if(tr.current!==Ys)throw Error(Pe(168));Vt(tr,t),Vt(wr,n)}function Wy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Pe(108,Bb(e)||"Unknown",i));return rn({},n,r)}function ah(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ys,To=tr.current,Vt(tr,e),Vt(wr,wr.current),!0}function h2(e,t,n){var r=e.stateNode;if(!r)throw Error(Pe(169));n?(e=Wy(e,t,To),r.__reactInternalMemoizedMergedChildContext=e,Gt(wr),Gt(tr),Vt(tr,e)):Gt(wr),Vt(wr,n)}var es=null,Oh=!1,hp=!1;function Gy(e){es===null?es=[e]:es.push(e)}function n6(e){Oh=!0,Gy(e)}function no(){if(!hp&&es!==null){hp=!0;var e=0,t=_t;try{var n=es;for(_t=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}es=null,Oh=!1}catch(i){throw es!==null&&(es=es.slice(e+1)),yy(C1,no),i}finally{_t=t,hp=!1}}return null}var Ca=[],Pa=0,lh=null,uh=0,Qr=[],Zr=0,Fo=null,ts=1,ns="";function yo(e,t){Ca[Pa++]=uh,Ca[Pa++]=lh,lh=e,uh=t}function Ky(e,t,n){Qr[Zr++]=ts,Qr[Zr++]=ns,Qr[Zr++]=Fo,Fo=e;var r=ts;e=ns;var i=32-yi(r)-1;r&=~(1<<i),n+=1;var s=32-yi(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ts=1<<32-yi(t)+i|n<<i|r,ns=s+e}else ts=1<<s|n<<i|r,ns=e}function D1(e){e.return!==null&&(yo(e,1),Ky(e,1,0))}function M1(e){for(;e===lh;)lh=Ca[--Pa],Ca[Pa]=null,uh=Ca[--Pa],Ca[Pa]=null;for(;e===Fo;)Fo=Qr[--Zr],Qr[Zr]=null,ns=Qr[--Zr],Qr[Zr]=null,ts=Qr[--Zr],Qr[Zr]=null}var Rr=null,Fr=null,Jt=!1,gi=null;function Yy(e,t){var n=ei(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function f2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rr=e,Fr=Vs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rr=e,Fr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fo!==null?{id:ts,overflow:ns}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ei(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rr=e,Fr=null,!0):!1;default:return!1}}function xm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wm(e){if(Jt){var t=Fr;if(t){var n=t;if(!f2(e,t)){if(xm(e))throw Error(Pe(418));t=Vs(n.nextSibling);var r=Rr;t&&f2(e,t)?Yy(r,n):(e.flags=e.flags&-4097|2,Jt=!1,Rr=e)}}else{if(xm(e))throw Error(Pe(418));e.flags=e.flags&-4097|2,Jt=!1,Rr=e}}}function p2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rr=e}function ud(e){if(e!==Rr)return!1;if(!Jt)return p2(e),Jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mm(e.type,e.memoizedProps)),t&&(t=Fr)){if(xm(e))throw Jy(),Error(Pe(418));for(;t;)Yy(e,t),t=Vs(t.nextSibling)}if(p2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fr=Vs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fr=null}}else Fr=Rr?Vs(e.stateNode.nextSibling):null;return!0}function Jy(){for(var e=Fr;e;)e=Vs(e.nextSibling)}function Xa(){Fr=Rr=null,Jt=!1}function O1(e){gi===null?gi=[e]:gi.push(e)}var r6=fs.ReactCurrentBatchConfig;function Kl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Pe(309));var r=n.stateNode}if(!r)throw Error(Pe(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Pe(284));if(!n._owner)throw Error(Pe(290,e))}return e}function cd(e,t){throw e=Object.prototype.toString.call(t),Error(Pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function m2(e){var t=e._init;return t(e._payload)}function Xy(e){function t(x,w){if(e){var j=x.deletions;j===null?(x.deletions=[w],x.flags|=16):j.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Gs(x,w),x.index=0,x.sibling=null,x}function s(x,w,j){return x.index=j,e?(j=x.alternate,j!==null?(j=j.index,j<w?(x.flags|=2,w):j):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,w,j,R){return w===null||w.tag!==6?(w=xp(j,x.mode,R),w.return=x,w):(w=i(w,j),w.return=x,w)}function l(x,w,j,R){var B=j.type;return B===ba?f(x,w,j.props.children,R,j.key):w!==null&&(w.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Fs&&m2(B)===w.type)?(R=i(w,j.props),R.ref=Kl(x,w,j),R.return=x,R):(R=Md(j.type,j.key,j.props,null,x.mode,R),R.ref=Kl(x,w,j),R.return=x,R)}function d(x,w,j,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=wp(j,x.mode,R),w.return=x,w):(w=i(w,j.children||[]),w.return=x,w)}function f(x,w,j,R,B){return w===null||w.tag!==7?(w=ko(j,x.mode,R,B),w.return=x,w):(w=i(w,j),w.return=x,w)}function p(x,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return w=xp(""+w,x.mode,j),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zc:return j=Md(w.type,w.key,w.props,null,x.mode,j),j.ref=Kl(x,null,w),j.return=x,j;case wa:return w=wp(w,x.mode,j),w.return=x,w;case Fs:var R=w._init;return p(x,R(w._payload),j)}if(ou(w)||Vl(w))return w=ko(w,x.mode,j,null),w.return=x,w;cd(x,w)}return null}function g(x,w,j,R){var B=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return B!==null?null:a(x,w,""+j,R);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Zc:return j.key===B?l(x,w,j,R):null;case wa:return j.key===B?d(x,w,j,R):null;case Fs:return B=j._init,g(x,w,B(j._payload),R)}if(ou(j)||Vl(j))return B!==null?null:f(x,w,j,R,null);cd(x,j)}return null}function m(x,w,j,R,B){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(j)||null,a(w,x,""+R,B);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Zc:return x=x.get(R.key===null?j:R.key)||null,l(w,x,R,B);case wa:return x=x.get(R.key===null?j:R.key)||null,d(w,x,R,B);case Fs:var z=R._init;return m(x,w,j,z(R._payload),B)}if(ou(R)||Vl(R))return x=x.get(j)||null,f(w,x,R,B,null);cd(w,R)}return null}function N(x,w,j,R){for(var B=null,z=null,F=w,D=w=0,W=null;F!==null&&D<j.length;D++){F.index>D?(W=F,F=null):W=F.sibling;var ee=g(x,F,j[D],R);if(ee===null){F===null&&(F=W);break}e&&F&&ee.alternate===null&&t(x,F),w=s(ee,w,D),z===null?B=ee:z.sibling=ee,z=ee,F=W}if(D===j.length)return n(x,F),Jt&&yo(x,D),B;if(F===null){for(;D<j.length;D++)F=p(x,j[D],R),F!==null&&(w=s(F,w,D),z===null?B=F:z.sibling=F,z=F);return Jt&&yo(x,D),B}for(F=r(x,F);D<j.length;D++)W=m(F,x,D,j[D],R),W!==null&&(e&&W.alternate!==null&&F.delete(W.key===null?D:W.key),w=s(W,w,D),z===null?B=W:z.sibling=W,z=W);return e&&F.forEach(function(T){return t(x,T)}),Jt&&yo(x,D),B}function S(x,w,j,R){var B=Vl(j);if(typeof B!="function")throw Error(Pe(150));if(j=B.call(j),j==null)throw Error(Pe(151));for(var z=B=null,F=w,D=w=0,W=null,ee=j.next();F!==null&&!ee.done;D++,ee=j.next()){F.index>D?(W=F,F=null):W=F.sibling;var T=g(x,F,ee.value,R);if(T===null){F===null&&(F=W);break}e&&F&&T.alternate===null&&t(x,F),w=s(T,w,D),z===null?B=T:z.sibling=T,z=T,F=W}if(ee.done)return n(x,F),Jt&&yo(x,D),B;if(F===null){for(;!ee.done;D++,ee=j.next())ee=p(x,ee.value,R),ee!==null&&(w=s(ee,w,D),z===null?B=ee:z.sibling=ee,z=ee);return Jt&&yo(x,D),B}for(F=r(x,F);!ee.done;D++,ee=j.next())ee=m(F,x,D,ee.value,R),ee!==null&&(e&&ee.alternate!==null&&F.delete(ee.key===null?D:ee.key),w=s(ee,w,D),z===null?B=ee:z.sibling=ee,z=ee);return e&&F.forEach(function(E){return t(x,E)}),Jt&&yo(x,D),B}function A(x,w,j,R){if(typeof j=="object"&&j!==null&&j.type===ba&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Zc:e:{for(var B=j.key,z=w;z!==null;){if(z.key===B){if(B=j.type,B===ba){if(z.tag===7){n(x,z.sibling),w=i(z,j.props.children),w.return=x,x=w;break e}}else if(z.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Fs&&m2(B)===z.type){n(x,z.sibling),w=i(z,j.props),w.ref=Kl(x,z,j),w.return=x,x=w;break e}n(x,z);break}else t(x,z);z=z.sibling}j.type===ba?(w=ko(j.props.children,x.mode,R,j.key),w.return=x,x=w):(R=Md(j.type,j.key,j.props,null,x.mode,R),R.ref=Kl(x,w,j),R.return=x,x=R)}return o(x);case wa:e:{for(z=j.key;w!==null;){if(w.key===z)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){n(x,w.sibling),w=i(w,j.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=wp(j,x.mode,R),w.return=x,x=w}return o(x);case Fs:return z=j._init,A(x,w,z(j._payload),R)}if(ou(j))return N(x,w,j,R);if(Vl(j))return S(x,w,j,R);cd(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,j),w.return=x,x=w):(n(x,w),w=xp(j,x.mode,R),w.return=x,x=w),o(x)):n(x,w)}return A}var Qa=Xy(!0),Qy=Xy(!1),ch=to(null),dh=null,ka=null,B1=null;function z1(){B1=ka=dh=null}function q1(e){var t=ch.current;Gt(ch),e._currentValue=t}function bm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Va(e,t){dh=e,B1=ka=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xr=!0),e.firstContext=null)}function ni(e){var t=e._currentValue;if(B1!==e)if(e={context:e,memoizedValue:t,next:null},ka===null){if(dh===null)throw Error(Pe(308));ka=e,dh.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ao=null;function U1(e){Ao===null?Ao=[e]:Ao.push(e)}function Zy(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,U1(t)):(n.next=i.next,i.next=n),t.interleaved=n,us(e,r)}function us(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Is=!1;function V1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ex(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $s(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,St&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,us(e,n)}return i=r.interleaved,i===null?(t.next=t,U1(r)):(t.next=i.next,i.next=t),r.interleaved=t,us(e,n)}function _d(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,P1(e,n)}}function g2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hh(e,t,n,r){var i=e.updateQueue;Is=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?s=d:o.next=d,o=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,f=d=l=null,a=s;do{var g=a.lane,m=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var N=e,S=a;switch(g=t,m=n,S.tag){case 1:if(N=S.payload,typeof N=="function"){p=N.call(m,p,g);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=S.payload,g=typeof N=="function"?N.call(m,p,g):N,g==null)break e;p=rn({},p,g);break e;case 2:Is=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else m={eventTime:m,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=m,l=p):f=f.next=m,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(f===null&&(l=p),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ro|=o,e.lanes=o,e.memoizedState=p}}function v2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Pe(191,i));i.call(r)}}}var ec={},Ri=to(ec),Mu=to(ec),Ou=to(ec);function Lo(e){if(e===ec)throw Error(Pe(174));return e}function $1(e,t){switch(Vt(Ou,t),Vt(Mu,e),Vt(Ri,ec),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tm(t,e)}Gt(Ri),Vt(Ri,t)}function Za(){Gt(Ri),Gt(Mu),Gt(Ou)}function tx(e){Lo(Ou.current);var t=Lo(Ri.current),n=tm(t,e.type);t!==n&&(Vt(Mu,e),Vt(Ri,n))}function H1(e){Mu.current===e&&(Gt(Ri),Gt(Mu))}var Zt=to(0);function fh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fp=[];function W1(){for(var e=0;e<fp.length;e++)fp[e]._workInProgressVersionPrimary=null;fp.length=0}var Td=fs.ReactCurrentDispatcher,pp=fs.ReactCurrentBatchConfig,Io=0,tn=null,An=null,Tn=null,ph=!1,vu=!1,Bu=0,i6=0;function Hn(){throw Error(Pe(321))}function G1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wi(e[n],t[n]))return!1;return!0}function K1(e,t,n,r,i,s){if(Io=s,tn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Td.current=e===null||e.memoizedState===null?l6:u6,e=n(r,i),vu){s=0;do{if(vu=!1,Bu=0,25<=s)throw Error(Pe(301));s+=1,Tn=An=null,t.updateQueue=null,Td.current=c6,e=n(r,i)}while(vu)}if(Td.current=mh,t=An!==null&&An.next!==null,Io=0,Tn=An=tn=null,ph=!1,t)throw Error(Pe(300));return e}function Y1(){var e=Bu!==0;return Bu=0,e}function Ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?tn.memoizedState=Tn=e:Tn=Tn.next=e,Tn}function ri(){if(An===null){var e=tn.alternate;e=e!==null?e.memoizedState:null}else e=An.next;var t=Tn===null?tn.memoizedState:Tn.next;if(t!==null)Tn=t,An=e;else{if(e===null)throw Error(Pe(310));An=e,e={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},Tn===null?tn.memoizedState=Tn=e:Tn=Tn.next=e}return Tn}function zu(e,t){return typeof t=="function"?t(e):t}function mp(e){var t=ri(),n=t.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=e;var r=An,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,d=s;do{var f=d.lane;if((Io&f)===f)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,tn.lanes|=f,Ro|=f}d=d.next}while(d!==null&&d!==s);l===null?o=r:l.next=a,wi(r,t.memoizedState)||(xr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,tn.lanes|=s,Ro|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gp(e){var t=ri(),n=t.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);wi(s,t.memoizedState)||(xr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function nx(){}function rx(e,t){var n=tn,r=ri(),i=t(),s=!wi(r.memoizedState,i);if(s&&(r.memoizedState=i,xr=!0),r=r.queue,J1(ox.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Tn!==null&&Tn.memoizedState.tag&1){if(n.flags|=2048,qu(9,sx.bind(null,n,r,i,t),void 0,null),In===null)throw Error(Pe(349));Io&30||ix(n,t,i)}return i}function ix(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sx(e,t,n,r){t.value=n,t.getSnapshot=r,ax(t)&&lx(e)}function ox(e,t,n){return n(function(){ax(t)&&lx(e)})}function ax(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wi(e,n)}catch{return!0}}function lx(e){var t=us(e,1);t!==null&&xi(t,e,1,-1)}function y2(e){var t=Ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zu,lastRenderedState:e},t.queue=e,e=e.dispatch=a6.bind(null,tn,e),[t.memoizedState,e]}function qu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ux(){return ri().memoizedState}function Fd(e,t,n,r){var i=Ei();tn.flags|=e,i.memoizedState=qu(1|t,n,void 0,r===void 0?null:r)}function Bh(e,t,n,r){var i=ri();r=r===void 0?null:r;var s=void 0;if(An!==null){var o=An.memoizedState;if(s=o.destroy,r!==null&&G1(r,o.deps)){i.memoizedState=qu(t,n,s,r);return}}tn.flags|=e,i.memoizedState=qu(1|t,n,s,r)}function x2(e,t){return Fd(8390656,8,e,t)}function J1(e,t){return Bh(2048,8,e,t)}function cx(e,t){return Bh(4,2,e,t)}function dx(e,t){return Bh(4,4,e,t)}function hx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fx(e,t,n){return n=n!=null?n.concat([e]):null,Bh(4,4,hx.bind(null,t,e),n)}function X1(){}function px(e,t){var n=ri();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&G1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mx(e,t){var n=ri();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&G1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gx(e,t,n){return Io&21?(wi(n,t)||(n=by(),tn.lanes|=n,Ro|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xr=!0),e.memoizedState=n)}function s6(e,t){var n=_t;_t=n!==0&&4>n?n:4,e(!0);var r=pp.transition;pp.transition={};try{e(!1),t()}finally{_t=n,pp.transition=r}}function vx(){return ri().memoizedState}function o6(e,t,n){var r=Ws(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yx(e))xx(t,n);else if(n=Zy(e,t,n,r),n!==null){var i=ar();xi(n,e,r,i),wx(n,t,r)}}function a6(e,t,n){var r=Ws(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yx(e))xx(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,wi(a,o)){var l=t.interleaved;l===null?(i.next=i,U1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Zy(e,t,i,r),n!==null&&(i=ar(),xi(n,e,r,i),wx(n,t,r))}}function yx(e){var t=e.alternate;return e===tn||t!==null&&t===tn}function xx(e,t){vu=ph=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,P1(e,n)}}var mh={readContext:ni,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},l6={readContext:ni,useCallback:function(e,t){return Ei().memoizedState=[e,t===void 0?null:t],e},useContext:ni,useEffect:x2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fd(4194308,4,hx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fd(4,2,e,t)},useMemo:function(e,t){var n=Ei();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ei();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=o6.bind(null,tn,e),[r.memoizedState,e]},useRef:function(e){var t=Ei();return e={current:e},t.memoizedState=e},useState:y2,useDebugValue:X1,useDeferredValue:function(e){return Ei().memoizedState=e},useTransition:function(){var e=y2(!1),t=e[0];return e=s6.bind(null,e[1]),Ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=tn,i=Ei();if(Jt){if(n===void 0)throw Error(Pe(407));n=n()}else{if(n=t(),In===null)throw Error(Pe(349));Io&30||ix(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,x2(ox.bind(null,r,s,e),[e]),r.flags|=2048,qu(9,sx.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ei(),t=In.identifierPrefix;if(Jt){var n=ns,r=ts;n=(r&~(1<<32-yi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=i6++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},u6={readContext:ni,useCallback:px,useContext:ni,useEffect:J1,useImperativeHandle:fx,useInsertionEffect:cx,useLayoutEffect:dx,useMemo:mx,useReducer:mp,useRef:ux,useState:function(){return mp(zu)},useDebugValue:X1,useDeferredValue:function(e){var t=ri();return gx(t,An.memoizedState,e)},useTransition:function(){var e=mp(zu)[0],t=ri().memoizedState;return[e,t]},useMutableSource:nx,useSyncExternalStore:rx,useId:vx,unstable_isNewReconciler:!1},c6={readContext:ni,useCallback:px,useContext:ni,useEffect:J1,useImperativeHandle:fx,useInsertionEffect:cx,useLayoutEffect:dx,useMemo:mx,useReducer:gp,useRef:ux,useState:function(){return gp(zu)},useDebugValue:X1,useDeferredValue:function(e){var t=ri();return An===null?t.memoizedState=e:gx(t,An.memoizedState,e)},useTransition:function(){var e=gp(zu)[0],t=ri().memoizedState;return[e,t]},useMutableSource:nx,useSyncExternalStore:rx,useId:vx,unstable_isNewReconciler:!1};function fi(e,t){if(e&&e.defaultProps){t=rn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zh={isMounted:function(e){return(e=e._reactInternals)?Oo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ar(),i=Ws(e),s=rs(r,i);s.payload=t,n!=null&&(s.callback=n),t=$s(e,s,i),t!==null&&(xi(t,e,i,r),_d(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ar(),i=Ws(e),s=rs(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=$s(e,s,i),t!==null&&(xi(t,e,i,r),_d(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ar(),r=Ws(e),i=rs(n,r);i.tag=2,t!=null&&(i.callback=t),t=$s(e,i,r),t!==null&&(xi(t,e,r,n),_d(t,e,r))}};function w2(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Fu(n,r)||!Fu(i,s):!0}function bx(e,t,n){var r=!1,i=Ys,s=t.contextType;return typeof s=="object"&&s!==null?s=ni(s):(i=br(t)?To:tr.current,r=t.contextTypes,s=(r=r!=null)?Ja(e,i):Ys),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function b2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zh.enqueueReplaceState(t,t.state,null)}function Nm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},V1(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ni(s):(s=br(t)?To:tr.current,i.context=Ja(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Sm(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&zh.enqueueReplaceState(i,i.state,null),hh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function el(e,t){try{var n="",r=t;do n+=Ob(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function vp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var d6=typeof WeakMap=="function"?WeakMap:Map;function Sx(e,t,n){n=rs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vh||(vh=!0,Im=r),jm(e,t)},n}function Nx(e,t,n){n=rs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){jm(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jm(e,t),typeof r!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function S2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new d6;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=A6.bind(null,e,t,n),t.then(e,e))}function N2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function j2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=rs(-1,1),t.tag=2,$s(n,t,1))),n.lanes|=1),e)}var h6=fs.ReactCurrentOwner,xr=!1;function or(e,t,n,r){t.child=e===null?Qy(t,null,n,r):Qa(t,e.child,n,r)}function A2(e,t,n,r,i){n=n.render;var s=t.ref;return Va(t,i),r=K1(e,t,n,r,s,i),n=Y1(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cs(e,t,i)):(Jt&&n&&D1(t),t.flags|=1,or(e,t,r,i),t.child)}function L2(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!s0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,jx(e,t,s,r,i)):(e=Md(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fu,n(o,r)&&e.ref===t.ref)return cs(e,t,i)}return t.flags|=1,e=Gs(s,r),e.ref=t.ref,e.return=t,t.child=e}function jx(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Fu(s,r)&&e.ref===t.ref)if(xr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(xr=!0);else return t.lanes=e.lanes,cs(e,t,i)}return Am(e,t,n,r,i)}function Ax(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(_a,Tr),Tr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vt(_a,Tr),Tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Vt(_a,Tr),Tr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Vt(_a,Tr),Tr|=r;return or(e,t,i,n),t.child}function Lx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Am(e,t,n,r,i){var s=br(n)?To:tr.current;return s=Ja(t,s),Va(t,i),n=K1(e,t,n,r,s,i),r=Y1(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cs(e,t,i)):(Jt&&r&&D1(t),t.flags|=1,or(e,t,n,i),t.child)}function C2(e,t,n,r,i){if(br(n)){var s=!0;ah(t)}else s=!1;if(Va(t,i),t.stateNode===null)Id(e,t),bx(t,n,r),Nm(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=ni(d):(d=br(n)?To:tr.current,d=Ja(t,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&b2(t,o,r,d),Is=!1;var g=t.memoizedState;o.state=g,hh(t,r,o,i),l=t.memoizedState,a!==r||g!==l||wr.current||Is?(typeof f=="function"&&(Sm(t,n,f,r),l=t.memoizedState),(a=Is||w2(t,n,a,r,g,l,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ex(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:fi(t.type,a),o.props=d,p=t.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ni(l):(l=br(n)?To:tr.current,l=Ja(t,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==l)&&b2(t,o,r,l),Is=!1,g=t.memoizedState,o.state=g,hh(t,r,o,i);var N=t.memoizedState;a!==p||g!==N||wr.current||Is?(typeof m=="function"&&(Sm(t,n,m,r),N=t.memoizedState),(d=Is||w2(t,n,d,r,g,N,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,N,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,N,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),o.props=r,o.state=N,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Lm(e,t,n,r,s,i)}function Lm(e,t,n,r,i,s){Lx(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&h2(t,n,!1),cs(e,t,s);r=t.stateNode,h6.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Qa(t,e.child,null,s),t.child=Qa(t,null,a,s)):or(e,t,a,s),t.memoizedState=r.state,i&&h2(t,n,!0),t.child}function Cx(e){var t=e.stateNode;t.pendingContext?d2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&d2(e,t.context,!1),$1(e,t.containerInfo)}function P2(e,t,n,r,i){return Xa(),O1(i),t.flags|=256,or(e,t,n,r),t.child}var Cm={dehydrated:null,treeContext:null,retryLane:0};function Pm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Px(e,t,n){var r=t.pendingProps,i=Zt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Vt(Zt,i&1),e===null)return wm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vh(o,r,0,null),e=ko(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Pm(n),t.memoizedState=Cm,e):Q1(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return f6(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Gs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Gs(a,s):(s=ko(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Pm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Cm,r}return s=e.child,e=s.sibling,r=Gs(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Q1(e,t){return t=Vh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dd(e,t,n,r){return r!==null&&O1(r),Qa(t,e.child,null,n),e=Q1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function f6(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=vp(Error(Pe(422))),dd(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Vh({mode:"visible",children:r.children},i,0,null),s=ko(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Qa(t,e.child,null,o),t.child.memoizedState=Pm(o),t.memoizedState=Cm,s);if(!(t.mode&1))return dd(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Pe(419)),r=vp(s,r,void 0),dd(e,t,o,r)}if(a=(o&e.childLanes)!==0,xr||a){if(r=In,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,us(e,i),xi(r,e,i,-1))}return i0(),r=vp(Error(Pe(421))),dd(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=L6.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Fr=Vs(i.nextSibling),Rr=t,Jt=!0,gi=null,e!==null&&(Qr[Zr++]=ts,Qr[Zr++]=ns,Qr[Zr++]=Fo,ts=e.id,ns=e.overflow,Fo=t),t=Q1(t,r.children),t.flags|=4096,t)}function k2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bm(e.return,t,n)}function yp(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kx(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(or(e,t,r.children,n),r=Zt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&k2(e,n,t);else if(e.tag===19)k2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Vt(Zt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&fh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),yp(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&fh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}yp(t,!0,n,null,s);break;case"together":yp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Id(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ro|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Pe(153));if(t.child!==null){for(e=t.child,n=Gs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function p6(e,t,n){switch(t.tag){case 3:Cx(t),Xa();break;case 5:tx(t);break;case 1:br(t.type)&&ah(t);break;case 4:$1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Vt(ch,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Vt(Zt,Zt.current&1),t.flags|=128,null):n&t.child.childLanes?Px(e,t,n):(Vt(Zt,Zt.current&1),e=cs(e,t,n),e!==null?e.sibling:null);Vt(Zt,Zt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kx(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vt(Zt,Zt.current),r)break;return null;case 22:case 23:return t.lanes=0,Ax(e,t,n)}return cs(e,t,n)}var Ex,km,_x,Tx;Ex=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};km=function(){};_x=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Lo(Ri.current);var s=null;switch(n){case"input":i=Xp(e,i),r=Xp(e,r),s=[];break;case"select":i=rn({},i,{value:void 0}),r=rn({},r,{value:void 0}),s=[];break;case"textarea":i=em(e,i),r=em(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sh)}nm(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Lu.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(a=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Lu.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ht("scroll",e),s||a===l||(s=[])):(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};Tx=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yl(e,t){if(!Jt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function m6(e,t,n){var r=t.pendingProps;switch(M1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(t),null;case 1:return br(t.type)&&oh(),Wn(t),null;case 3:return r=t.stateNode,Za(),Gt(wr),Gt(tr),W1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ud(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gi!==null&&(Mm(gi),gi=null))),km(e,t),Wn(t),null;case 5:H1(t);var i=Lo(Ou.current);if(n=t.type,e!==null&&t.stateNode!=null)_x(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Pe(166));return Wn(t),null}if(e=Lo(Ri.current),ud(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[_i]=t,r[Du]=s,e=(t.mode&1)!==0,n){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(i=0;i<lu.length;i++)Ht(lu[i],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":Og(r,s),Ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ht("invalid",r);break;case"textarea":zg(r,s),Ht("invalid",r)}nm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,e),i=["children",""+a]):Lu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ht("scroll",r)}switch(n){case"input":ed(r),Bg(r,s,!0);break;case"textarea":ed(r),qg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sh)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[_i]=t,e[Du]=r,Ex(e,t,!1,!1),t.stateNode=e;e:{switch(o=rm(n,r),n){case"dialog":Ht("cancel",e),Ht("close",e),i=r;break;case"iframe":case"object":case"embed":Ht("load",e),i=r;break;case"video":case"audio":for(i=0;i<lu.length;i++)Ht(lu[i],e);i=r;break;case"source":Ht("error",e),i=r;break;case"img":case"image":case"link":Ht("error",e),Ht("load",e),i=r;break;case"details":Ht("toggle",e),i=r;break;case"input":Og(e,r),i=Xp(e,r),Ht("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=rn({},r,{value:void 0}),Ht("invalid",e);break;case"textarea":zg(e,r),i=em(e,r),Ht("invalid",e);break;default:i=r}nm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uy(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ay(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cu(e,l):typeof l=="number"&&Cu(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ht("scroll",e):l!=null&&S1(e,s,l,o))}switch(n){case"input":ed(e),Bg(e,r,!1);break;case"textarea":ed(e),qg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ks(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ba(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ba(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=sh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wn(t),null;case 6:if(e&&t.stateNode!=null)Tx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Pe(166));if(n=Lo(Ou.current),Lo(Ri.current),ud(t)){if(r=t.stateNode,n=t.memoizedProps,r[_i]=t,(s=r.nodeValue!==n)&&(e=Rr,e!==null))switch(e.tag){case 3:ld(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ld(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_i]=t,t.stateNode=r}return Wn(t),null;case 13:if(Gt(Zt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Jt&&Fr!==null&&t.mode&1&&!(t.flags&128))Jy(),Xa(),t.flags|=98560,s=!1;else if(s=ud(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Pe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Pe(317));s[_i]=t}else Xa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wn(t),s=!1}else gi!==null&&(Mm(gi),gi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Zt.current&1?Ln===0&&(Ln=3):i0())),t.updateQueue!==null&&(t.flags|=4),Wn(t),null);case 4:return Za(),km(e,t),e===null&&Iu(t.stateNode.containerInfo),Wn(t),null;case 10:return q1(t.type._context),Wn(t),null;case 17:return br(t.type)&&oh(),Wn(t),null;case 19:if(Gt(Zt),s=t.memoizedState,s===null)return Wn(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Yl(s,!1);else{if(Ln!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=fh(e),o!==null){for(t.flags|=128,Yl(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Vt(Zt,Zt.current&1|2),t.child}e=e.sibling}s.tail!==null&&pn()>tl&&(t.flags|=128,r=!0,Yl(s,!1),t.lanes=4194304)}else{if(!r)if(e=fh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Jt)return Wn(t),null}else 2*pn()-s.renderingStartTime>tl&&n!==1073741824&&(t.flags|=128,r=!0,Yl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=pn(),t.sibling=null,n=Zt.current,Vt(Zt,r?n&1|2:n&1),t):(Wn(t),null);case 22:case 23:return r0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tr&1073741824&&(Wn(t),t.subtreeFlags&6&&(t.flags|=8192)):Wn(t),null;case 24:return null;case 25:return null}throw Error(Pe(156,t.tag))}function g6(e,t){switch(M1(t),t.tag){case 1:return br(t.type)&&oh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Za(),Gt(wr),Gt(tr),W1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return H1(t),null;case 13:if(Gt(Zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Pe(340));Xa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gt(Zt),null;case 4:return Za(),null;case 10:return q1(t.type._context),null;case 22:case 23:return r0(),null;case 24:return null;default:return null}}var hd=!1,Qn=!1,v6=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Ea(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){un(e,t,r)}else n.current=null}function Em(e,t,n){try{n()}catch(r){un(e,t,r)}}var E2=!1;function y6(e,t){if(fm=nh,e=My(),R1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,f=0,p=e,g=null;t:for(;;){for(var m;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)g=p,p=m;for(;;){if(p===e)break t;if(g===n&&++d===i&&(a=o),g===s&&++f===r&&(l=o),(m=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pm={focusedElem:e,selectionRange:n},nh=!1,qe=t;qe!==null;)if(t=qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qe=e;else for(;qe!==null;){t=qe;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var S=N.memoizedProps,A=N.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?S:fi(t.type,S),A);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(R){un(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,qe=e;break}qe=t.return}return N=E2,E2=!1,N}function yu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Em(t,n,s)}i=i.next}while(i!==r)}}function qh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function _m(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fx(e){var t=e.alternate;t!==null&&(e.alternate=null,Fx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_i],delete t[Du],delete t[vm],delete t[e6],delete t[t6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ix(e){return e.tag===5||e.tag===3||e.tag===4}function _2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ix(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sh));else if(r!==4&&(e=e.child,e!==null))for(Tm(e,t,n),e=e.sibling;e!==null;)Tm(e,t,n),e=e.sibling}function Fm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fm(e,t,n),e=e.sibling;e!==null;)Fm(e,t,n),e=e.sibling}var Mn=null,mi=!1;function ks(e,t,n){for(n=n.child;n!==null;)Rx(e,t,n),n=n.sibling}function Rx(e,t,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(Fh,n)}catch{}switch(n.tag){case 5:Qn||Ea(n,t);case 6:var r=Mn,i=mi;Mn=null,ks(e,t,n),Mn=r,mi=i,Mn!==null&&(mi?(e=Mn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Mn.removeChild(n.stateNode));break;case 18:Mn!==null&&(mi?(e=Mn,n=n.stateNode,e.nodeType===8?dp(e.parentNode,n):e.nodeType===1&&dp(e,n),_u(e)):dp(Mn,n.stateNode));break;case 4:r=Mn,i=mi,Mn=n.stateNode.containerInfo,mi=!0,ks(e,t,n),Mn=r,mi=i;break;case 0:case 11:case 14:case 15:if(!Qn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Em(n,t,o),i=i.next}while(i!==r)}ks(e,t,n);break;case 1:if(!Qn&&(Ea(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){un(n,t,a)}ks(e,t,n);break;case 21:ks(e,t,n);break;case 22:n.mode&1?(Qn=(r=Qn)||n.memoizedState!==null,ks(e,t,n),Qn=r):ks(e,t,n);break;default:ks(e,t,n)}}function T2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new v6),t.forEach(function(r){var i=C6.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ui(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mn=a.stateNode,mi=!1;break e;case 3:Mn=a.stateNode.containerInfo,mi=!0;break e;case 4:Mn=a.stateNode.containerInfo,mi=!0;break e}a=a.return}if(Mn===null)throw Error(Pe(160));Rx(s,o,i),Mn=null,mi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){un(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dx(t,e),t=t.sibling}function Dx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ui(t,e),Pi(e),r&4){try{yu(3,e,e.return),qh(3,e)}catch(S){un(e,e.return,S)}try{yu(5,e,e.return)}catch(S){un(e,e.return,S)}}break;case 1:ui(t,e),Pi(e),r&512&&n!==null&&Ea(n,n.return);break;case 5:if(ui(t,e),Pi(e),r&512&&n!==null&&Ea(n,n.return),e.flags&32){var i=e.stateNode;try{Cu(i,"")}catch(S){un(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iy(i,s),rm(a,o);var d=rm(a,s);for(o=0;o<l.length;o+=2){var f=l[o],p=l[o+1];f==="style"?uy(i,p):f==="dangerouslySetInnerHTML"?ay(i,p):f==="children"?Cu(i,p):S1(i,f,p,d)}switch(a){case"input":Qp(i,s);break;case"textarea":sy(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ba(i,!!s.multiple,m,!1):g!==!!s.multiple&&(s.defaultValue!=null?Ba(i,!!s.multiple,s.defaultValue,!0):Ba(i,!!s.multiple,s.multiple?[]:"",!1))}i[Du]=s}catch(S){un(e,e.return,S)}}break;case 6:if(ui(t,e),Pi(e),r&4){if(e.stateNode===null)throw Error(Pe(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(S){un(e,e.return,S)}}break;case 3:if(ui(t,e),Pi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_u(t.containerInfo)}catch(S){un(e,e.return,S)}break;case 4:ui(t,e),Pi(e);break;case 13:ui(t,e),Pi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(t0=pn())),r&4&&T2(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Qn=(d=Qn)||f,ui(t,e),Qn=d):ui(t,e),Pi(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(qe=e,f=e.child;f!==null;){for(p=qe=f;qe!==null;){switch(g=qe,m=g.child,g.tag){case 0:case 11:case 14:case 15:yu(4,g,g.return);break;case 1:Ea(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(S){un(r,n,S)}}break;case 5:Ea(g,g.return);break;case 22:if(g.memoizedState!==null){I2(p);continue}}m!==null?(m.return=g,qe=m):I2(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ly("display",o))}catch(S){un(e,e.return,S)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(S){un(e,e.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ui(t,e),Pi(e),r&4&&T2(e);break;case 21:break;default:ui(t,e),Pi(e)}}function Pi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ix(n)){var r=n;break e}n=n.return}throw Error(Pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cu(i,""),r.flags&=-33);var s=_2(e);Fm(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_2(e);Tm(e,a,o);break;default:throw Error(Pe(161))}}catch(l){un(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x6(e,t,n){qe=e,Mx(e)}function Mx(e,t,n){for(var r=(e.mode&1)!==0;qe!==null;){var i=qe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qn;a=hd;var d=Qn;if(hd=o,(Qn=l)&&!d)for(qe=i;qe!==null;)o=qe,l=o.child,o.tag===22&&o.memoizedState!==null?R2(i):l!==null?(l.return=o,qe=l):R2(i);for(;s!==null;)qe=s,Mx(s),s=s.sibling;qe=i,hd=a,Qn=d}F2(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,qe=s):F2(e)}}function F2(e){for(;qe!==null;){var t=qe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qn||qh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:fi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&v2(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}v2(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&_u(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}Qn||t.flags&512&&_m(t)}catch(g){un(t,t.return,g)}}if(t===e){qe=null;break}if(n=t.sibling,n!==null){n.return=t.return,qe=n;break}qe=t.return}}function I2(e){for(;qe!==null;){var t=qe;if(t===e){qe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,qe=n;break}qe=t.return}}function R2(e){for(;qe!==null;){var t=qe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qh(4,t)}catch(l){un(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){un(t,i,l)}}var s=t.return;try{_m(t)}catch(l){un(t,s,l)}break;case 5:var o=t.return;try{_m(t)}catch(l){un(t,o,l)}}}catch(l){un(t,t.return,l)}if(t===e){qe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,qe=a;break}qe=t.return}}var w6=Math.ceil,gh=fs.ReactCurrentDispatcher,Z1=fs.ReactCurrentOwner,ti=fs.ReactCurrentBatchConfig,St=0,In=null,Sn=null,zn=0,Tr=0,_a=to(0),Ln=0,Uu=null,Ro=0,Uh=0,e0=0,xu=null,yr=null,t0=0,tl=1/0,Zi=null,vh=!1,Im=null,Hs=null,fd=!1,Os=null,yh=0,wu=0,Rm=null,Rd=-1,Dd=0;function ar(){return St&6?pn():Rd!==-1?Rd:Rd=pn()}function Ws(e){return e.mode&1?St&2&&zn!==0?zn&-zn:r6.transition!==null?(Dd===0&&(Dd=by()),Dd):(e=_t,e!==0||(e=window.event,e=e===void 0?16:Py(e.type)),e):1}function xi(e,t,n,r){if(50<wu)throw wu=0,Rm=null,Error(Pe(185));Xu(e,n,r),(!(St&2)||e!==In)&&(e===In&&(!(St&2)&&(Uh|=n),Ln===4&&Ds(e,zn)),Sr(e,r),n===1&&St===0&&!(t.mode&1)&&(tl=pn()+500,Oh&&no()))}function Sr(e,t){var n=e.callbackNode;rS(e,t);var r=th(e,e===In?zn:0);if(r===0)n!==null&&$g(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$g(n),t===1)e.tag===0?n6(D2.bind(null,e)):Gy(D2.bind(null,e)),QS(function(){!(St&6)&&no()}),n=null;else{switch(Sy(r)){case 1:n=C1;break;case 4:n=xy;break;case 16:n=eh;break;case 536870912:n=wy;break;default:n=eh}n=Hx(n,Ox.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ox(e,t){if(Rd=-1,Dd=0,St&6)throw Error(Pe(327));var n=e.callbackNode;if($a()&&e.callbackNode!==n)return null;var r=th(e,e===In?zn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xh(e,r);else{t=r;var i=St;St|=2;var s=zx();(In!==e||zn!==t)&&(Zi=null,tl=pn()+500,Po(e,t));do try{N6();break}catch(a){Bx(e,a)}while(1);z1(),gh.current=s,St=i,Sn!==null?t=0:(In=null,zn=0,t=Ln)}if(t!==0){if(t===2&&(i=lm(e),i!==0&&(r=i,t=Dm(e,i))),t===1)throw n=Uu,Po(e,0),Ds(e,r),Sr(e,pn()),n;if(t===6)Ds(e,r);else{if(i=e.current.alternate,!(r&30)&&!b6(i)&&(t=xh(e,r),t===2&&(s=lm(e),s!==0&&(r=s,t=Dm(e,s))),t===1))throw n=Uu,Po(e,0),Ds(e,r),Sr(e,pn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Pe(345));case 2:xo(e,yr,Zi);break;case 3:if(Ds(e,r),(r&130023424)===r&&(t=t0+500-pn(),10<t)){if(th(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ar(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gm(xo.bind(null,e,yr,Zi),t);break}xo(e,yr,Zi);break;case 4:if(Ds(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-yi(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w6(r/1960))-r,10<r){e.timeoutHandle=gm(xo.bind(null,e,yr,Zi),r);break}xo(e,yr,Zi);break;case 5:xo(e,yr,Zi);break;default:throw Error(Pe(329))}}}return Sr(e,pn()),e.callbackNode===n?Ox.bind(null,e):null}function Dm(e,t){var n=xu;return e.current.memoizedState.isDehydrated&&(Po(e,t).flags|=256),e=xh(e,t),e!==2&&(t=yr,yr=n,t!==null&&Mm(t)),e}function Mm(e){yr===null?yr=e:yr.push.apply(yr,e)}function b6(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!wi(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ds(e,t){for(t&=~e0,t&=~Uh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yi(t),r=1<<n;e[n]=-1,t&=~r}}function D2(e){if(St&6)throw Error(Pe(327));$a();var t=th(e,0);if(!(t&1))return Sr(e,pn()),null;var n=xh(e,t);if(e.tag!==0&&n===2){var r=lm(e);r!==0&&(t=r,n=Dm(e,r))}if(n===1)throw n=Uu,Po(e,0),Ds(e,t),Sr(e,pn()),n;if(n===6)throw Error(Pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xo(e,yr,Zi),Sr(e,pn()),null}function n0(e,t){var n=St;St|=1;try{return e(t)}finally{St=n,St===0&&(tl=pn()+500,Oh&&no())}}function Do(e){Os!==null&&Os.tag===0&&!(St&6)&&$a();var t=St;St|=1;var n=ti.transition,r=_t;try{if(ti.transition=null,_t=1,e)return e()}finally{_t=r,ti.transition=n,St=t,!(St&6)&&no()}}function r0(){Tr=_a.current,Gt(_a)}function Po(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,XS(n)),Sn!==null)for(n=Sn.return;n!==null;){var r=n;switch(M1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oh();break;case 3:Za(),Gt(wr),Gt(tr),W1();break;case 5:H1(r);break;case 4:Za();break;case 13:Gt(Zt);break;case 19:Gt(Zt);break;case 10:q1(r.type._context);break;case 22:case 23:r0()}n=n.return}if(In=e,Sn=e=Gs(e.current,null),zn=Tr=t,Ln=0,Uu=null,e0=Uh=Ro=0,yr=xu=null,Ao!==null){for(t=0;t<Ao.length;t++)if(n=Ao[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ao=null}return e}function Bx(e,t){do{var n=Sn;try{if(z1(),Td.current=mh,ph){for(var r=tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ph=!1}if(Io=0,Tn=An=tn=null,vu=!1,Bu=0,Z1.current=null,n===null||n.return===null){Ln=1,Uu=t,Sn=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=zn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=N2(o);if(m!==null){m.flags&=-257,j2(m,o,a,s,t),m.mode&1&&S2(s,d,t),t=m,l=d;var N=t.updateQueue;if(N===null){var S=new Set;S.add(l),t.updateQueue=S}else N.add(l);break e}else{if(!(t&1)){S2(s,d,t),i0();break e}l=Error(Pe(426))}}else if(Jt&&a.mode&1){var A=N2(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),j2(A,o,a,s,t),O1(el(l,a));break e}}s=l=el(l,a),Ln!==4&&(Ln=2),xu===null?xu=[s]:xu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=Sx(s,l,t);g2(s,x);break e;case 1:a=l;var w=s.type,j=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Hs===null||!Hs.has(j)))){s.flags|=65536,t&=-t,s.lanes|=t;var R=Nx(s,a,t);g2(s,R);break e}}s=s.return}while(s!==null)}Ux(n)}catch(B){t=B,Sn===n&&n!==null&&(Sn=n=n.return);continue}break}while(1)}function zx(){var e=gh.current;return gh.current=mh,e===null?mh:e}function i0(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),In===null||!(Ro&268435455)&&!(Uh&268435455)||Ds(In,zn)}function xh(e,t){var n=St;St|=2;var r=zx();(In!==e||zn!==t)&&(Zi=null,Po(e,t));do try{S6();break}catch(i){Bx(e,i)}while(1);if(z1(),St=n,gh.current=r,Sn!==null)throw Error(Pe(261));return In=null,zn=0,Ln}function S6(){for(;Sn!==null;)qx(Sn)}function N6(){for(;Sn!==null&&!Kb();)qx(Sn)}function qx(e){var t=$x(e.alternate,e,Tr);e.memoizedProps=e.pendingProps,t===null?Ux(e):Sn=t,Z1.current=null}function Ux(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=g6(n,t),n!==null){n.flags&=32767,Sn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ln=6,Sn=null;return}}else if(n=m6(n,t,Tr),n!==null){Sn=n;return}if(t=t.sibling,t!==null){Sn=t;return}Sn=t=e}while(t!==null);Ln===0&&(Ln=5)}function xo(e,t,n){var r=_t,i=ti.transition;try{ti.transition=null,_t=1,j6(e,t,n,r)}finally{ti.transition=i,_t=r}return null}function j6(e,t,n,r){do $a();while(Os!==null);if(St&6)throw Error(Pe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Pe(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(iS(e,s),e===In&&(Sn=In=null,zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fd||(fd=!0,Hx(eh,function(){return $a(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ti.transition,ti.transition=null;var o=_t;_t=1;var a=St;St|=4,Z1.current=null,y6(e,n),Dx(n,e),$S(pm),nh=!!fm,pm=fm=null,e.current=n,x6(n),Yb(),St=a,_t=o,ti.transition=s}else e.current=n;if(fd&&(fd=!1,Os=e,yh=i),s=e.pendingLanes,s===0&&(Hs=null),Qb(n.stateNode),Sr(e,pn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vh)throw vh=!1,e=Im,Im=null,e;return yh&1&&e.tag!==0&&$a(),s=e.pendingLanes,s&1?e===Rm?wu++:(wu=0,Rm=e):wu=0,no(),null}function $a(){if(Os!==null){var e=Sy(yh),t=ti.transition,n=_t;try{if(ti.transition=null,_t=16>e?16:e,Os===null)var r=!1;else{if(e=Os,Os=null,yh=0,St&6)throw Error(Pe(331));var i=St;for(St|=4,qe=e.current;qe!==null;){var s=qe,o=s.child;if(qe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(qe=d;qe!==null;){var f=qe;switch(f.tag){case 0:case 11:case 15:yu(8,f,s)}var p=f.child;if(p!==null)p.return=f,qe=p;else for(;qe!==null;){f=qe;var g=f.sibling,m=f.return;if(Fx(f),f===d){qe=null;break}if(g!==null){g.return=m,qe=g;break}qe=m}}}var N=s.alternate;if(N!==null){var S=N.child;if(S!==null){N.child=null;do{var A=S.sibling;S.sibling=null,S=A}while(S!==null)}}qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,qe=o;else e:for(;qe!==null;){if(s=qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yu(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,qe=x;break e}qe=s.return}}var w=e.current;for(qe=w;qe!==null;){o=qe;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,qe=j;else e:for(o=w;qe!==null;){if(a=qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qh(9,a)}}catch(B){un(a,a.return,B)}if(a===o){qe=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,qe=R;break e}qe=a.return}}if(St=i,no(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(Fh,e)}catch{}r=!0}return r}finally{_t=n,ti.transition=t}}return!1}function M2(e,t,n){t=el(n,t),t=Sx(e,t,1),e=$s(e,t,1),t=ar(),e!==null&&(Xu(e,1,t),Sr(e,t))}function un(e,t,n){if(e.tag===3)M2(e,e,n);else for(;t!==null;){if(t.tag===3){M2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hs===null||!Hs.has(r))){e=el(n,e),e=Nx(t,e,1),t=$s(t,e,1),e=ar(),t!==null&&(Xu(t,1,e),Sr(t,e));break}}t=t.return}}function A6(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ar(),e.pingedLanes|=e.suspendedLanes&n,In===e&&(zn&n)===n&&(Ln===4||Ln===3&&(zn&130023424)===zn&&500>pn()-t0?Po(e,0):e0|=n),Sr(e,t)}function Vx(e,t){t===0&&(e.mode&1?(t=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):t=1);var n=ar();e=us(e,t),e!==null&&(Xu(e,t,n),Sr(e,n))}function L6(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vx(e,n)}function C6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Pe(314))}r!==null&&r.delete(t),Vx(e,n)}var $x;$x=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wr.current)xr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xr=!1,p6(e,t,n);xr=!!(e.flags&131072)}else xr=!1,Jt&&t.flags&1048576&&Ky(t,uh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Id(e,t),e=t.pendingProps;var i=Ja(t,tr.current);Va(t,n),i=K1(null,t,r,e,i,n);var s=Y1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,br(r)?(s=!0,ah(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,V1(t),i.updater=zh,t.stateNode=i,i._reactInternals=t,Nm(t,r,e,n),t=Lm(null,t,r,!0,s,n)):(t.tag=0,Jt&&s&&D1(t),or(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Id(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=k6(r),e=fi(r,e),i){case 0:t=Am(null,t,r,e,n);break e;case 1:t=C2(null,t,r,e,n);break e;case 11:t=A2(null,t,r,e,n);break e;case 14:t=L2(null,t,r,fi(r.type,e),n);break e}throw Error(Pe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fi(r,i),Am(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fi(r,i),C2(e,t,r,i,n);case 3:e:{if(Cx(t),e===null)throw Error(Pe(387));r=t.pendingProps,s=t.memoizedState,i=s.element,ex(e,t),hh(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=el(Error(Pe(423)),t),t=P2(e,t,r,n,i);break e}else if(r!==i){i=el(Error(Pe(424)),t),t=P2(e,t,r,n,i);break e}else for(Fr=Vs(t.stateNode.containerInfo.firstChild),Rr=t,Jt=!0,gi=null,n=Qy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xa(),r===i){t=cs(e,t,n);break e}or(e,t,r,n)}t=t.child}return t;case 5:return tx(t),e===null&&wm(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,mm(r,i)?o=null:s!==null&&mm(r,s)&&(t.flags|=32),Lx(e,t),or(e,t,o,n),t.child;case 6:return e===null&&wm(t),null;case 13:return Px(e,t,n);case 4:return $1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qa(t,null,r,n):or(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fi(r,i),A2(e,t,r,i,n);case 7:return or(e,t,t.pendingProps,n),t.child;case 8:return or(e,t,t.pendingProps.children,n),t.child;case 12:return or(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Vt(ch,r._currentValue),r._currentValue=o,s!==null)if(wi(s.value,o)){if(s.children===i.children&&!wr.current){t=cs(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=rs(-1,n&-n),l.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?l.next=l:(l.next=f.next,f.next=l),d.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),bm(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Pe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bm(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}or(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Va(t,n),i=ni(i),r=r(i),t.flags|=1,or(e,t,r,n),t.child;case 14:return r=t.type,i=fi(r,t.pendingProps),i=fi(r.type,i),L2(e,t,r,i,n);case 15:return jx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fi(r,i),Id(e,t),t.tag=1,br(r)?(e=!0,ah(t)):e=!1,Va(t,n),bx(t,r,i),Nm(t,r,i,n),Lm(null,t,r,!0,e,n);case 19:return kx(e,t,n);case 22:return Ax(e,t,n)}throw Error(Pe(156,t.tag))};function Hx(e,t){return yy(e,t)}function P6(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(e,t,n,r){return new P6(e,t,n,r)}function s0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function k6(e){if(typeof e=="function")return s0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===j1)return 11;if(e===A1)return 14}return 2}function Gs(e,t){var n=e.alternate;return n===null?(n=ei(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Md(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")s0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ba:return ko(n.children,i,s,t);case N1:o=8,i|=8;break;case Gp:return e=ei(12,n,t,i|2),e.elementType=Gp,e.lanes=s,e;case Kp:return e=ei(13,n,t,i),e.elementType=Kp,e.lanes=s,e;case Yp:return e=ei(19,n,t,i),e.elementType=Yp,e.lanes=s,e;case ty:return Vh(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z5:o=10;break e;case ey:o=9;break e;case j1:o=11;break e;case A1:o=14;break e;case Fs:o=16,r=null;break e}throw Error(Pe(130,e==null?e:typeof e,""))}return t=ei(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ko(e,t,n,r){return e=ei(7,e,r,t),e.lanes=n,e}function Vh(e,t,n,r){return e=ei(22,e,r,t),e.elementType=ty,e.lanes=n,e.stateNode={isHidden:!1},e}function xp(e,t,n){return e=ei(6,e,null,t),e.lanes=n,e}function wp(e,t,n){return t=ei(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function E6(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ep(0),this.expirationTimes=ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ep(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o0(e,t,n,r,i,s,o,a,l){return e=new E6(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ei(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},V1(s),e}function _6(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Wx(e){if(!e)return Ys;e=e._reactInternals;e:{if(Oo(e)!==e||e.tag!==1)throw Error(Pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Pe(171))}if(e.tag===1){var n=e.type;if(br(n))return Wy(e,n,t)}return t}function Gx(e,t,n,r,i,s,o,a,l){return e=o0(n,r,!0,e,i,s,o,a,l),e.context=Wx(null),n=e.current,r=ar(),i=Ws(n),s=rs(r,i),s.callback=t??null,$s(n,s,i),e.current.lanes=i,Xu(e,i,r),Sr(e,r),e}function $h(e,t,n,r){var i=t.current,s=ar(),o=Ws(i);return n=Wx(n),t.context===null?t.context=n:t.pendingContext=n,t=rs(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$s(i,t,o),e!==null&&(xi(e,i,o,s),_d(e,i,o)),o}function wh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function O2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function a0(e,t){O2(e,t),(e=e.alternate)&&O2(e,t)}function T6(){return null}var Kx=typeof reportError=="function"?reportError:function(e){console.error(e)};function l0(e){this._internalRoot=e}Hh.prototype.render=l0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Pe(409));$h(e,t,null,null)};Hh.prototype.unmount=l0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Do(function(){$h(null,e,null,null)}),t[ls]=null}};function Hh(e){this._internalRoot=e}Hh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ay();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rs.length&&t!==0&&t<Rs[n].priority;n++);Rs.splice(n,0,e),n===0&&Cy(e)}};function u0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function B2(){}function F6(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=wh(o);s.call(d)}}var o=Gx(t,r,e,0,null,!1,!1,"",B2);return e._reactRootContainer=o,e[ls]=o.current,Iu(e.nodeType===8?e.parentNode:e),Do(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var d=wh(l);a.call(d)}}var l=o0(e,0,!1,null,null,!1,!1,"",B2);return e._reactRootContainer=l,e[ls]=l.current,Iu(e.nodeType===8?e.parentNode:e),Do(function(){$h(t,l,n,r)}),l}function Gh(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=wh(o);a.call(l)}}$h(t,o,e,i)}else o=F6(n,t,e,i,r);return wh(o)}Ny=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=au(t.pendingLanes);n!==0&&(P1(t,n|1),Sr(t,pn()),!(St&6)&&(tl=pn()+500,no()))}break;case 13:Do(function(){var r=us(e,1);if(r!==null){var i=ar();xi(r,e,1,i)}}),a0(e,1)}};k1=function(e){if(e.tag===13){var t=us(e,134217728);if(t!==null){var n=ar();xi(t,e,134217728,n)}a0(e,134217728)}};jy=function(e){if(e.tag===13){var t=Ws(e),n=us(e,t);if(n!==null){var r=ar();xi(n,e,t,r)}a0(e,t)}};Ay=function(){return _t};Ly=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}};sm=function(e,t,n){switch(t){case"input":if(Qp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mh(r);if(!i)throw Error(Pe(90));ry(r),Qp(r,i)}}}break;case"textarea":sy(e,n);break;case"select":t=n.value,t!=null&&Ba(e,!!n.multiple,t,!1)}};hy=n0;fy=Do;var I6={usingClientEntryPoint:!1,Events:[Zu,Aa,Mh,cy,dy,n0]},Jl={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R6={bundleType:Jl.bundleType,version:Jl.version,rendererPackageName:Jl.rendererPackageName,rendererConfig:Jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gy(e),e===null?null:e.stateNode},findFiberByHostInstance:Jl.findFiberByHostInstance||T6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{Fh=pd.inject(R6),Ii=pd}catch{}}Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I6;Br.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u0(t))throw Error(Pe(200));return _6(e,t,null,n)};Br.createRoot=function(e,t){if(!u0(e))throw Error(Pe(299));var n=!1,r="",i=Kx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=o0(e,1,!1,null,null,n,!1,r,i),e[ls]=t.current,Iu(e.nodeType===8?e.parentNode:e),new l0(t)};Br.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Pe(188)):(e=Object.keys(e).join(","),Error(Pe(268,e)));return e=gy(t),e=e===null?null:e.stateNode,e};Br.flushSync=function(e){return Do(e)};Br.hydrate=function(e,t,n){if(!Wh(t))throw Error(Pe(200));return Gh(null,e,t,!0,n)};Br.hydrateRoot=function(e,t,n){if(!u0(e))throw Error(Pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Kx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Gx(t,null,e,1,n??null,i,!1,s,o),e[ls]=t.current,Iu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Hh(t)};Br.render=function(e,t,n){if(!Wh(t))throw Error(Pe(200));return Gh(null,e,t,!1,n)};Br.unmountComponentAtNode=function(e){if(!Wh(e))throw Error(Pe(40));return e._reactRootContainer?(Do(function(){Gh(null,null,e,!1,function(){e._reactRootContainer=null,e[ls]=null})}),!0):!1};Br.unstable_batchedUpdates=n0;Br.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wh(n))throw Error(Pe(200));if(e==null||e._reactInternals===void 0)throw Error(Pe(38));return Gh(e,t,n,!1,r)};Br.version="18.3.1-next-f1338f8080-20240426";function Yx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yx)}catch(e){console.error(e)}}Yx(),Y5.exports=Br;var D6=Y5.exports,z2=D6;Hp.createRoot=z2.createRoot,Hp.hydrateRoot=z2.hydrateRoot;var q2="popstate";function M6(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Om("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vu(i)}return B6(t,n,null,e)}function nn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function O6(){return Math.random().toString(36).substring(2,10)}function U2(e,t){return{usr:e.state,key:e.key,idx:t}}function Om(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ul(t):t,state:n,key:t&&t.key||r||O6()}}function Vu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ul(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function B6(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let A=f(),x=A==null?null:A-d;d=A,l&&l({action:a,location:S.location,delta:x})}function g(A,x){a="PUSH";let w=Om(S.location,A,x);n&&n(w,A),d=f()+1;let j=U2(w,d),R=S.createHref(w);try{o.pushState(j,"",R)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(R)}s&&l&&l({action:a,location:S.location,delta:1})}function m(A,x){a="REPLACE";let w=Om(S.location,A,x);n&&n(w,A),d=f();let j=U2(w,d),R=S.createHref(w);o.replaceState(j,"",R),s&&l&&l({action:a,location:S.location,delta:0})}function N(A){return z6(A)}let S={get action(){return a},get location(){return e(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(q2,p),l=A,()=>{i.removeEventListener(q2,p),l=null}},createHref(A){return t(i,A)},createURL:N,encodeLocation(A){let x=N(A);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:m,go(A){return o.go(A)}};return S}function z6(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Vu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Jx(e,t,n="/"){return q6(e,t,n,!1)}function q6(e,t,n,r){let i=typeof t=="string"?ul(t):t,s=ds(i.pathname||"/",n);if(s==null)return null;let o=Xx(e);U6(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=Z6(s);a=X6(o[l],d,r)}return a}function Xx(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&l)return;nn(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let p=is([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(nn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Xx(o.children,t,g,p,l)),!(o.path==null&&!o.index)&&t.push({path:p,score:Y6(p,o.index),routesMeta:g})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let d of Qx(o.path))s(o,a,!0,d)}),t}function Qx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Qx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function U6(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:J6(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var V6=/^:[\w-]+$/,$6=3,H6=2,W6=1,G6=10,K6=-2,V2=e=>e==="*";function Y6(e,t){let n=e.split("/"),r=n.length;return n.some(V2)&&(r+=K6),t&&(r+=H6),n.filter(i=>!V2(i)).reduce((i,s)=>i+(V6.test(s)?$6:s===""?W6:G6),r)}function J6(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function X6(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=bh({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},f),g=l.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=bh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:is([s,p.pathname]),pathnameBase:rN(is([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=is([s,p.pathnameBase]))}return o}function bh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Q6(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let N=a[g]||"";o=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const m=a[g];return p&&!m?d[f]=void 0:d[f]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function Q6(e,t=!1,n=!0){bi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Z6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ds(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function eN(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ul(e):e;return{pathname:n?n.startsWith("/")?n:tN(n,t):t,search:iN(r),hash:sN(i)}}function tN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Zx(e){let t=nN(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ew(e,t,n,r=!1){let i;typeof e=="string"?i=ul(e):(i={...e},nn(!i.pathname||!i.pathname.includes("?"),bp("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),bp("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),bp("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?t[p]:"/"}let l=eN(i,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||f)&&(l.pathname+="/"),l}var is=e=>e.join("/").replace(/\/\/+/g,"/"),rN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var tw=["POST","PUT","PATCH","DELETE"];new Set(tw);var aN=["GET",...tw];new Set(aN);var cl=O.createContext(null);cl.displayName="DataRouter";var Kh=O.createContext(null);Kh.displayName="DataRouterState";O.createContext(!1);var nw=O.createContext({isTransitioning:!1});nw.displayName="ViewTransition";var lN=O.createContext(new Map);lN.displayName="Fetchers";var uN=O.createContext(null);uN.displayName="Await";var Bi=O.createContext(null);Bi.displayName="Navigation";var tc=O.createContext(null);tc.displayName="Location";var ps=O.createContext({outlet:null,matches:[],isDataRoute:!1});ps.displayName="Route";var c0=O.createContext(null);c0.displayName="RouteError";function cN(e,{relative:t}={}){nn(nc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Bi),{hash:i,pathname:s,search:o}=rc(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:is([n,s])),r.createHref({pathname:a,search:o,hash:i})}function nc(){return O.useContext(tc)!=null}function ro(){return nn(nc(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(tc).location}var rw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iw(e){O.useContext(Bi).static||O.useLayoutEffect(e)}function d0(){let{isDataRoute:e}=O.useContext(ps);return e?NN():dN()}function dN(){nn(nc(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(cl),{basename:t,navigator:n}=O.useContext(Bi),{matches:r}=O.useContext(ps),{pathname:i}=ro(),s=JSON.stringify(Zx(r)),o=O.useRef(!1);return iw(()=>{o.current=!0}),O.useCallback((l,d={})=>{if(bi(o.current,rw),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=ew(l,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:is([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}O.createContext(null);function rc(e,{relative:t}={}){let{matches:n}=O.useContext(ps),{pathname:r}=ro(),i=JSON.stringify(Zx(n));return O.useMemo(()=>ew(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function hN(e,t){return sw(e,t)}function sw(e,t,n,r,i){var w;nn(nc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(Bi),{matches:o}=O.useContext(ps),a=o[o.length-1],l=a?a.params:{},d=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let j=p&&p.path||"";ow(d,!p||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let g=ro(),m;if(t){let j=typeof t=="string"?ul(t):t;nn(f==="/"||((w=j.pathname)==null?void 0:w.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${j.pathname}" was given in the \`location\` prop.`),m=j}else m=g;let N=m.pathname||"/",S=N;if(f!=="/"){let j=f.replace(/^\//,"").split("/");S="/"+N.replace(/^\//,"").split("/").slice(j.length).join("/")}let A=Jx(e,{pathname:S});bi(p||A!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),bi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=vN(A&&A.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:is([f,s.encodeLocation?s.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:is([f,s.encodeLocation?s.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),o,n,r,i);return t&&x?O.createElement(tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function fN(){let e=SN(),t=oN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:s},"ErrorBoundary")," or"," ",O.createElement("code",{style:s},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:i},n):null,o)}var pN=O.createElement(fN,null),mN=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?O.createElement(ps.Provider,{value:this.props.routeContext},O.createElement(c0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gN({routeContext:e,match:t,children:n}){let r=O.useContext(cl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(ps.Provider,{value:e},n)}function vN(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);nn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,l=-1;if(n)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:p,errors:g}=n,m=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let g,m=!1,N=null,S=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,N=f.route.errorElement||pN,a&&(l<0&&p===0?(ow("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,S=null):l===p&&(m=!0,S=f.route.hydrateFallbackElement||null)));let A=t.concat(s.slice(0,p+1)),x=()=>{let w;return g?w=N:m?w=S:f.route.Component?w=O.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,O.createElement(gN,{match:f,routeContext:{outlet:d,matches:A,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?O.createElement(mN,{location:n.location,revalidation:n.revalidation,component:N,error:g,children:x(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:r}):x()},null)}function h0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yN(e){let t=O.useContext(cl);return nn(t,h0(e)),t}function xN(e){let t=O.useContext(Kh);return nn(t,h0(e)),t}function wN(e){let t=O.useContext(ps);return nn(t,h0(e)),t}function f0(e){let t=wN(e),n=t.matches[t.matches.length-1];return nn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function bN(){return f0("useRouteId")}function SN(){var r;let e=O.useContext(c0),t=xN("useRouteError"),n=f0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function NN(){let{router:e}=yN("useNavigate"),t=f0("useNavigate"),n=O.useRef(!1);return iw(()=>{n.current=!0}),O.useCallback(async(i,s={})=>{bi(n.current,rw),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var $2={};function ow(e,t,n){!t&&!$2[e]&&($2[e]=!0,bi(!1,n))}O.memo(jN);function jN({routes:e,future:t,state:n,unstable_onError:r}){return sw(e,void 0,n,r,t)}function Od(e){nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AN({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){nn(!nc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=O.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=ul(n));let{pathname:l="/",search:d="",hash:f="",state:p=null,key:g="default"}=n,m=O.useMemo(()=>{let N=ds(l,o);return N==null?null:{location:{pathname:N,search:d,hash:f,state:p,key:g},navigationType:r}},[o,l,d,f,p,g,r]);return bi(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:O.createElement(Bi.Provider,{value:a},O.createElement(tc.Provider,{children:t,value:m}))}function LN({children:e,location:t}){return hN(Bm(e),t)}function Bm(e,t=[]){let n=[];return O.Children.forEach(e,(r,i)=>{if(!O.isValidElement(r))return;let s=[...t,i];if(r.type===O.Fragment){n.push.apply(n,Bm(r.props.children,s));return}nn(r.type===Od,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bm(r.props.children,s)),n.push(o)}),n}var Bd="get",zd="application/x-www-form-urlencoded";function Yh(e){return e!=null&&typeof e.tagName=="string"}function CN(e){return Yh(e)&&e.tagName.toLowerCase()==="button"}function PN(e){return Yh(e)&&e.tagName.toLowerCase()==="form"}function kN(e){return Yh(e)&&e.tagName.toLowerCase()==="input"}function EN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _N(e,t){return e.button===0&&(!t||t==="_self")&&!EN(e)}function zm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function TN(e,t){let n=zm(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var md=null;function FN(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var IN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sp(e){return e!=null&&!IN.has(e)?(bi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zd}"`),null):e}function RN(e,t){let n,r,i,s,o;if(PN(e)){let a=e.getAttribute("action");r=a?ds(a,t):null,n=e.getAttribute("method")||Bd,i=Sp(e.getAttribute("enctype"))||zd,s=new FormData(e)}else if(CN(e)||kN(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?ds(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Bd,i=Sp(e.getAttribute("formenctype"))||Sp(a.getAttribute("enctype"))||zd,s=new FormData(a,e),!FN()){let{name:d,type:f,value:p}=e;if(f==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,p)}}else{if(Yh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bd,r=null,i=zd,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function p0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function DN(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&ds(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function MN(e,t){if(e.id in t)return t[e.id];try{let n=await Jd(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ON(e){return e!=null&&typeof e.page=="string"}function BN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function zN(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await MN(s,n);return o.links?o.links():[]}return[]}));return $N(r.flat(1).filter(BN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function H2(e,t,n,r,i,s){let o=(l,d)=>n[d]?l.route.id!==n[d].route.id:!0,a=(l,d)=>{var f;return n[d].pathname!==l.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,d)=>o(l,d)||a(l,d)):s==="data"?t.filter((l,d)=>{var p;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,d)||a(l,d))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function qN(e,t,{includeHydrateFallback:n}={}){return UN(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function UN(e){return[...new Set(e)]}function VN(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function $N(e,t){let n=new Set,r=new Set(t);return e.reduce((i,s)=>{if(t&&!ON(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(VN(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function aw(){let e=O.useContext(cl);return p0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function HN(){let e=O.useContext(Kh);return p0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var m0=O.createContext(void 0);m0.displayName="FrameworkContext";function lw(){let e=O.useContext(m0);return p0(e,"You must render this element inside a <HydratedRouter> element"),e}function WN(e,t){let n=O.useContext(m0),[r,i]=O.useState(!1),[s,o]=O.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=t,g=O.useRef(null);O.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=x=>{x.forEach(w=>{o(w.isIntersecting)})},A=new IntersectionObserver(S,{threshold:.5});return g.current&&A.observe(g.current),()=>{A.disconnect()}}},[e]),O.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let m=()=>{i(!0)},N=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:Xl(a,m),onBlur:Xl(l,N),onMouseEnter:Xl(d,m),onMouseLeave:Xl(f,N),onTouchStart:Xl(p,m)}]:[!1,g,{}]}function Xl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function GN({page:e,...t}){let{router:n}=aw(),r=O.useMemo(()=>Jx(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?O.createElement(YN,{page:e,matches:r,...t}):null}function KN(e){let{manifest:t,routeModules:n}=lw(),[r,i]=O.useState([]);return O.useEffect(()=>{let s=!1;return zN(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function YN({page:e,matches:t,...n}){let r=ro(),{manifest:i,routeModules:s}=lw(),{basename:o}=aw(),{loaderData:a,matches:l}=HN(),d=O.useMemo(()=>H2(e,t,l,i,r,"data"),[e,t,l,i,r]),f=O.useMemo(()=>H2(e,t,l,i,r,"assets"),[e,t,l,i,r]),p=O.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let N=new Set,S=!1;if(t.forEach(x=>{var j;let w=i.routes[x.route.id];!w||!w.hasLoader||(!d.some(R=>R.route.id===x.route.id)&&x.route.id in a&&((j=s[x.route.id])!=null&&j.shouldRevalidate)||w.hasClientLoader?S=!0:N.add(x.route.id))}),N.size===0)return[];let A=DN(e,o,"data");return S&&N.size>0&&A.searchParams.set("_routes",t.filter(x=>N.has(x.route.id)).map(x=>x.route.id).join(",")),[A.pathname+A.search]},[o,a,r,i,d,t,e,s]),g=O.useMemo(()=>qN(f,i),[f,i]),m=KN(f);return O.createElement(O.Fragment,null,p.map(N=>O.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),g.map(N=>O.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),m.map(({key:N,link:S})=>O.createElement("link",{key:N,nonce:n.nonce,...S})))}function JN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var uw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uw&&(window.__reactRouterVersion="7.9.3")}catch{}function XN({basename:e,children:t,window:n}){let r=O.useRef();r.current==null&&(r.current=M6({window:n,v5Compat:!0}));let i=r.current,[s,o]=O.useState({action:i.action,location:i.location}),a=O.useCallback(l=>{O.startTransition(()=>o(l))},[o]);return O.useLayoutEffect(()=>i.listen(a),[i,a]),O.createElement(AN,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dw=O.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:d,preventScrollReset:f,viewTransition:p,...g},m){let{basename:N}=O.useContext(Bi),S=typeof d=="string"&&cw.test(d),A,x=!1;if(typeof d=="string"&&S&&(A=d,uw))try{let W=new URL(window.location.href),ee=d.startsWith("//")?new URL(W.protocol+d):new URL(d),T=ds(ee.pathname,N);ee.origin===W.origin&&T!=null?d=T+ee.search+ee.hash:x=!0}catch{bi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=cN(d,{relative:i}),[j,R,B]=WN(r,g),z=tj(d,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:p});function F(W){t&&t(W),W.defaultPrevented||z(W)}let D=O.createElement("a",{...g,...B,href:A||w,onClick:x||s?t:F,ref:JN(m,R),target:l,"data-discover":!S&&n==="render"?"true":void 0});return j&&!S?O.createElement(O.Fragment,null,D,O.createElement(GN,{page:w})):D});dw.displayName="Link";var QN=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...d},f){let p=rc(o,{relative:d.relative}),g=ro(),m=O.useContext(Kh),{navigator:N,basename:S}=O.useContext(Bi),A=m!=null&&aj(p)&&a===!0,x=N.encodeLocation?N.encodeLocation(p).pathname:p.pathname,w=g.pathname,j=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(w=w.toLowerCase(),j=j?j.toLowerCase():null,x=x.toLowerCase()),j&&S&&(j=ds(j,S)||j);const R=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let B=w===x||!i&&w.startsWith(x)&&w.charAt(R)==="/",z=j!=null&&(j===x||!i&&j.startsWith(x)&&j.charAt(x.length)==="/"),F={isActive:B,isPending:z,isTransitioning:A},D=B?t:void 0,W;typeof r=="function"?W=r(F):W=[r,B?"active":null,z?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let ee=typeof s=="function"?s(F):s;return O.createElement(dw,{...d,"aria-current":D,className:W,ref:f,style:ee,to:o,viewTransition:a},typeof l=="function"?l(F):l)});QN.displayName="NavLink";var ZN=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Bd,action:a,onSubmit:l,relative:d,preventScrollReset:f,viewTransition:p,...g},m)=>{let N=sj(),S=oj(a,{relative:d}),A=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&cw.test(a),w=j=>{if(l&&l(j),j.defaultPrevented)return;j.preventDefault();let R=j.nativeEvent.submitter,B=(R==null?void 0:R.getAttribute("formmethod"))||o;N(R||j.currentTarget,{fetcherKey:t,method:B,navigate:n,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:p})};return O.createElement("form",{ref:m,method:A,action:S,onSubmit:r?l:w,...g,"data-discover":!x&&e==="render"?"true":void 0})});ZN.displayName="Form";function ej(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hw(e){let t=O.useContext(cl);return nn(t,ej(e)),t}function tj(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=d0(),l=ro(),d=rc(e,{relative:s});return O.useCallback(f=>{if(_N(f,t)){f.preventDefault();let p=n!==void 0?n:Vu(l)===Vu(d);a(e,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,d,n,r,t,e,i,s,o])}function nj(e){bi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=O.useRef(zm(e)),n=O.useRef(!1),r=ro(),i=O.useMemo(()=>TN(r.search,n.current?null:t.current),[r.search]),s=d0(),o=O.useCallback((a,l)=>{const d=zm(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+d,l)},[s,i]);return[i,o]}var rj=0,ij=()=>`__${String(++rj)}__`;function sj(){let{router:e}=hw("useSubmit"),{basename:t}=O.useContext(Bi),n=bN();return O.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:d}=RN(r,t);if(i.navigate===!1){let f=i.fetcherKey||ij();await e.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:d,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:d,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function oj(e,{relative:t}={}){let{basename:n}=O.useContext(Bi),r=O.useContext(ps);nn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...rc(e||".",{relative:t})},o=ro();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:is([n,s.pathname])),Vu(s)}function aj(e,{relative:t}={}){let n=O.useContext(nw);nn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hw("useViewTransitionState"),i=rc(e,{relative:t});if(!n.isTransitioning)return!1;let s=ds(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ds(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bh(i.pathname,o)!=null||bh(i.pathname,s)!=null}const g0=O.createContext({});function v0(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const Jh=O.createContext(null),y0=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class lj extends O.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function uj({children:e,isPresent:t}){const n=O.useId(),r=O.useRef(null),i=O.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=O.useContext(y0);return O.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:d}=i.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return s&&(f.nonce=s),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),c.jsx(lj,{isPresent:t,childRef:r,sizeRef:i,children:O.cloneElement(e,{ref:r})})}const cj=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=v0(dj),l=O.useId(),d=O.useCallback(p=>{a.set(p,!0);for(const g of a.values())if(!g)return;r&&r()},[a,r]),f=O.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:d,register:p=>(a.set(p,!1),()=>a.delete(p))}),s?[Math.random(),d]:[n,d]);return O.useMemo(()=>{a.forEach((p,g)=>a.set(g,!1))},[n]),O.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(uj,{isPresent:n,children:e})),c.jsx(Jh.Provider,{value:f,children:e})};function dj(){return new Map}function fw(e=!0){const t=O.useContext(Jh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=O.useId();O.useEffect(()=>{e&&i(s)},[e]);const o=O.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const gd=e=>e.key||"";function W2(e){const t=[];return O.Children.forEach(e,n=>{O.isValidElement(n)&&t.push(n)}),t}const x0=typeof window<"u",pw=x0?O.useLayoutEffect:O.useEffect,Ti=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=fw(o),d=O.useMemo(()=>W2(e),[e]),f=o&&!a?[]:d.map(gd),p=O.useRef(!0),g=O.useRef(d),m=v0(()=>new Map),[N,S]=O.useState(d),[A,x]=O.useState(d);pw(()=>{p.current=!1,g.current=d;for(let R=0;R<A.length;R++){const B=gd(A[R]);f.includes(B)?m.delete(B):m.get(B)!==!0&&m.set(B,!1)}},[A,f.length,f.join("-")]);const w=[];if(d!==N){let R=[...d];for(let B=0;B<A.length;B++){const z=A[B],F=gd(z);f.includes(F)||(R.splice(B,0,z),w.push(z))}s==="wait"&&w.length&&(R=w),x(W2(R)),S(d);return}const{forceRender:j}=O.useContext(g0);return c.jsx(c.Fragment,{children:A.map(R=>{const B=gd(R),z=o&&!a?!1:d===A||f.includes(B),F=()=>{if(m.has(B))m.set(B,!0);else return;let D=!0;m.forEach(W=>{W||(D=!1)}),D&&(j==null||j(),x(g.current),o&&(l==null||l()),r&&r())};return c.jsx(cj,{isPresent:z,initial:!p.current||n?void 0:!1,custom:z?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:z?void 0:F,children:R},B)})})},Dr=e=>e;let mw=Dr;function w0(e){let t;return()=>(t===void 0&&(t=e()),t)}const nl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},ss=e=>e*1e3,os=e=>e/1e3,hj={skipAnimations:!1,useManualTiming:!1};function fj(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(d){s.has(d)&&(l.schedule(d),e()),d(o)}const l={schedule:(d,f=!1,p=!1)=>{const m=p&&r?t:n;return f&&s.add(d),m.has(d)||m.add(d),d},cancel:d=>{n.delete(d),s.delete(d)},process:d=>{if(o=d,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(d))}};return l}const vd=["read","resolveKeyframes","update","preRender","render","postRender"],pj=40;function gw(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=vd.reduce((x,w)=>(x[w]=fj(s),x),{}),{read:a,resolveKeyframes:l,update:d,preRender:f,render:p,postRender:g}=o,m=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,pj),1),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),d.process(i),f.process(i),p.process(i),g.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},N=()=>{n=!0,r=!0,i.isProcessing||e(m)};return{schedule:vd.reduce((x,w)=>{const j=o[w];return x[w]=(R,B=!1,z=!1)=>(n||N(),j.schedule(R,B,z)),x},{}),cancel:x=>{for(let w=0;w<vd.length;w++)o[vd[w]].cancel(x)},state:i,steps:o}}const{schedule:Kt,cancel:Js,state:On,steps:Np}=gw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dr,!0),vw=O.createContext({strict:!1}),G2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rl={};for(const e in G2)rl[e]={isEnabled:t=>G2[e].some(n=>!!t[n])};function mj(e){for(const t in e)rl[t]={...rl[t],...e[t]}}const gj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||gj.has(e)}let yw=e=>!Sh(e);function vj(e){e&&(yw=t=>t.startsWith("on")?!Sh(t):e(t))}try{vj(require("@emotion/is-prop-valid").default)}catch{}function yj(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(yw(i)||n===!0&&Sh(i)||!t&&!Sh(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function xj(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Xh=O.createContext({});function $u(e){return typeof e=="string"||Array.isArray(e)}function Qh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const b0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],S0=["initial",...b0];function Zh(e){return Qh(e.animate)||S0.some(t=>$u(e[t]))}function xw(e){return!!(Zh(e)||e.variants)}function wj(e,t){if(Zh(e)){const{initial:n,animate:r}=e;return{initial:n===!1||$u(n)?n:void 0,animate:$u(r)?r:void 0}}return e.inherit!==!1?t:{}}function bj(e){const{initial:t,animate:n}=wj(e,O.useContext(Xh));return O.useMemo(()=>({initial:t,animate:n}),[K2(t),K2(n)])}function K2(e){return Array.isArray(e)?e.join(" "):e}const Sj=Symbol.for("motionComponentSymbol");function Ta(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Nj(e,t,n){return O.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ta(n)&&(n.current=r))},[t])}const N0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jj="framerAppearId",ww="data-"+N0(jj),{schedule:j0,cancel:g7}=gw(queueMicrotask,!1),bw=O.createContext({});function Aj(e,t,n,r,i){var s,o;const{visualElement:a}=O.useContext(Xh),l=O.useContext(vw),d=O.useContext(Jh),f=O.useContext(y0).reducedMotion,p=O.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,m=O.useContext(bw);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&Lj(p.current,n,i,m);const N=O.useRef(!1);O.useInsertionEffect(()=>{g&&N.current&&g.update(n,d)});const S=n[ww],A=O.useRef(!!S&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,S))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,S)));return pw(()=>{g&&(N.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),j0.render(g.render),A.current&&g.animationState&&g.animationState.animateChanges())}),O.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,S)}),A.current=!1))}),g}function Lj(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Sw(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ta(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:d})}function Sw(e){if(e)return e.options.allowProjection!==!1?e.projection:Sw(e.parent)}function Cj({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,o;e&&mj(e);function a(d,f){let p;const g={...O.useContext(y0),...d,layoutId:Pj(d)},{isStatic:m}=g,N=bj(d),S=r(d,m);if(!m&&x0){kj();const A=Ej(g);p=A.MeasureLayout,N.visualElement=Aj(i,S,g,t,A.ProjectionNode)}return c.jsxs(Xh.Provider,{value:N,children:[p&&N.visualElement?c.jsx(p,{visualElement:N.visualElement,...g}):null,n(i,d,Nj(S,N.visualElement,f),S,m,N.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=O.forwardRef(a);return l[Sj]=i,l}function Pj({layoutId:e}){const t=O.useContext(g0).id;return t&&e!==void 0?t+"-"+e:e}function kj(e,t){O.useContext(vw).strict}function Ej(e){const{drag:t,layout:n}=rl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const _j=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function A0(e){return typeof e!="string"||e.includes("-")?!1:!!(_j.indexOf(e)>-1||/[A-Z]/u.test(e))}function Y2(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function L0(e,t,n,r){if(typeof t=="function"){const[i,s]=Y2(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=Y2(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const qm=e=>Array.isArray(e),Tj=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Fj=e=>qm(e)?e[e.length-1]||0:e,er=e=>!!(e&&e.getVelocity);function qd(e){const t=er(e)?e.get():e;return Tj(t)?t.toValue():t}function Ij({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const o={latestValues:Rj(r,i,s,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const Nw=e=>(t,n)=>{const r=O.useContext(Xh),i=O.useContext(Jh),s=()=>Ij(e,t,r,i);return n?s():v0(s)};function Rj(e,t,n,r){const i={},s=r(e,{});for(const g in s)i[g]=qd(s[g]);let{initial:o,animate:a}=e;const l=Zh(e),d=xw(e);t&&d&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const p=f?a:o;if(p&&typeof p!="boolean"&&!Qh(p)){const g=Array.isArray(p)?p:[p];for(let m=0;m<g.length;m++){const N=L0(e,g[m]);if(N){const{transitionEnd:S,transition:A,...x}=N;for(const w in x){let j=x[w];if(Array.isArray(j)){const R=f?j.length-1:0;j=j[R]}j!==null&&(i[w]=j)}for(const w in S)i[w]=S[w]}}}return i}const dl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bo=new Set(dl),jw=e=>t=>typeof t=="string"&&t.startsWith(e),Aw=jw("--"),Dj=jw("var(--"),C0=e=>Dj(e)?Mj.test(e.split("/*")[0].trim()):!1,Mj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,hs=(e,t,n)=>n>t?t:n<e?e:n,hl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Hu={...hl,transform:e=>hs(0,1,e)},yd={...hl,default:1},ic=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ts=ic("deg"),Di=ic("%"),Ze=ic("px"),Oj=ic("vh"),Bj=ic("vw"),J2={...Di,parse:e=>Di.parse(e)/100,transform:e=>Di.transform(e*100)},zj={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze},qj={rotate:Ts,rotateX:Ts,rotateY:Ts,rotateZ:Ts,scale:yd,scaleX:yd,scaleY:yd,scaleZ:yd,skew:Ts,skewX:Ts,skewY:Ts,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:Hu,originX:J2,originY:J2,originZ:Ze},X2={...hl,transform:Math.round},P0={...zj,...qj,zIndex:X2,size:Ze,fillOpacity:Hu,strokeOpacity:Hu,numOctaves:X2},Uj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vj=dl.length;function $j(e,t,n){let r="",i=!0;for(let s=0;s<Vj;s++){const o=dl[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const d=Lw(a,P0[o]);if(!l){i=!1;const f=Uj[o]||o;r+=`${f}(${d}) `}n&&(t[o]=d)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function k0(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const d=t[l];if(Bo.has(l)){o=!0;continue}else if(Aw(l)){i[l]=d;continue}else{const f=Lw(d,P0[l]);l.startsWith("origin")?(a=!0,s[l]=f):r[l]=f}}if(t.transform||(o||n?r.transform=$j(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${l} ${d} ${f}`}}const Hj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wj={offset:"strokeDashoffset",array:"strokeDasharray"};function Gj(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?Hj:Wj;e[s.offset]=Ze.transform(-r);const o=Ze.transform(t),a=Ze.transform(n);e[s.array]=`${o} ${a}`}function Q2(e,t,n){return typeof e=="string"?e:Ze.transform(t+n*e)}function Kj(e,t,n){const r=Q2(t,e.x,e.width),i=Q2(n,e.y,e.height);return`${r} ${i}`}function E0(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...d},f,p){if(k0(e,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:m,dimensions:N}=e;g.transform&&(N&&(m.transform=g.transform),delete g.transform),N&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=Kj(N,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&Gj(g,o,a,l,!1)}const _0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Cw=()=>({..._0(),attrs:{}}),T0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Pw(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const kw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ew(e,t,n,r){Pw(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(kw.has(i)?i:N0(i),t.attrs[i])}const Nh={};function Yj(e){Object.assign(Nh,e)}function _w(e,{layout:t,layoutId:n}){return Bo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Nh[e]||e==="opacity")}function F0(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(er(i[o])||t.style&&er(t.style[o])||_w(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function Tw(e,t,n){const r=F0(e,t,n);for(const i in e)if(er(e[i])||er(t[i])){const s=dl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function Jj(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Z2=["x","y","width","height","cx","cy","r"],Xj={useVisualState:Nw({scrapeMotionValuesFromProps:Tw,createRenderState:Cw,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in i)if(Bo.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<Z2.length;a++){const l=Z2[a];e[l]!==t[l]&&(o=!0)}o&&Kt.read(()=>{Jj(n,r),Kt.render(()=>{E0(r,i,T0(n.tagName),e.transformTemplate),Ew(n,r)})})}})},Qj={useVisualState:Nw({scrapeMotionValuesFromProps:F0,createRenderState:_0})};function Fw(e,t,n){for(const r in t)!er(t[r])&&!_w(r,n)&&(e[r]=t[r])}function Zj({transformTemplate:e},t){return O.useMemo(()=>{const n=_0();return k0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function eA(e,t){const n=e.style||{},r={};return Fw(r,n,e),Object.assign(r,Zj(e,t)),r}function tA(e,t){const n={},r=eA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function nA(e,t,n,r){const i=O.useMemo(()=>{const s=Cw();return E0(s,t,T0(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Fw(s,e.style,e),i.style={...s,...i.style}}return i}function rA(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(A0(n)?nA:tA)(r,s,o,n),d=yj(r,typeof n=="string",e),f=n!==O.Fragment?{...d,...l,ref:i}:{},{children:p}=r,g=O.useMemo(()=>er(p)?p.get():p,[p]);return O.createElement(n,{...f,children:g})}}function iA(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...A0(r)?Xj:Qj,preloadedFeatures:e,useRender:rA(i),createVisualElement:t,Component:r};return Cj(o)}}function Iw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ef(e,t,n){const r=e.getProps();return L0(r,t,n!==void 0?n:r.custom,e)}const sA=w0(()=>window.ScrollTimeline!==void 0);class oA{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(sA()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class aA extends oA{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function I0(e,t){return e?e[t]||e.default||e:void 0}const Um=2e4;function Rw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Um;)t+=n,r=e.next(t);return t>=Um?1/0:t}function R0(e){return typeof e=="function"}function ev(e,t){e.timeline=t,e.onfinish=null}const D0=e=>Array.isArray(e)&&typeof e[0]=="number",lA={linearEasing:void 0};function uA(e,t){const n=w0(e);return()=>{var r;return(r=lA[t])!==null&&r!==void 0?r:n()}}const jh=uA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dw=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(nl(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function Mw(e){return!!(typeof e=="function"&&jh()||!e||typeof e=="string"&&(e in Vm||jh())||D0(e)||Array.isArray(e)&&e.every(Mw))}const uu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Vm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uu([0,.65,.55,1]),circOut:uu([.55,0,1,.45]),backIn:uu([.31,.01,.66,-.59]),backOut:uu([.33,1.53,.69,.99])};function Ow(e,t){if(e)return typeof e=="function"&&jh()?Dw(e,t):D0(e)?uu(e):Array.isArray(e)?e.map(n=>Ow(n,t)||Vm.easeOut):Vm[e]}const hi={x:!1,y:!1};function Bw(){return hi.x||hi.y}function cA(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;t&&(i=t.current);const s=(r=n==null?void 0:n[e])!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function zw(e,t){const n=cA(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function tv(e){return t=>{t.pointerType==="touch"||Bw()||e(t)}}function dA(e,t,n={}){const[r,i,s]=zw(e,n),o=tv(a=>{const{target:l}=a,d=t(a);if(typeof d!="function"||!l)return;const f=tv(p=>{d(p),l.removeEventListener("pointerleave",f)});l.addEventListener("pointerleave",f,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const qw=(e,t)=>t?e===t?!0:qw(e,t.parentElement):!1,M0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,hA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fA(e){return hA.has(e.tagName)||e.tabIndex!==-1}const cu=new WeakSet;function nv(e){return t=>{t.key==="Enter"&&e(t)}}function jp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const pA=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=nv(()=>{if(cu.has(n))return;jp(n,"down");const i=nv(()=>{jp(n,"up")}),s=()=>jp(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function rv(e){return M0(e)&&!Bw()}function mA(e,t,n={}){const[r,i,s]=zw(e,n),o=a=>{const l=a.currentTarget;if(!rv(a)||cu.has(l))return;cu.add(l);const d=t(a),f=(m,N)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),!(!rv(m)||!cu.has(l))&&(cu.delete(l),typeof d=="function"&&d(m,{success:N}))},p=m=>{f(m,n.useGlobalTarget||qw(l,m.target))},g=m=>{f(m,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(a=>{!fA(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",d=>pA(d,i),i)}),s}function gA(e){return e==="x"||e==="y"?hi[e]?null:(hi[e]=!0,()=>{hi[e]=!1}):hi.x||hi.y?null:(hi.x=hi.y=!0,()=>{hi.x=hi.y=!1})}const Uw=new Set(["width","height","top","left","right","bottom",...dl]);let Ud;function vA(){Ud=void 0}const Mi={now:()=>(Ud===void 0&&Mi.set(On.isProcessing||hj.useManualTiming?On.timestamp:performance.now()),Ud),set:e=>{Ud=e,queueMicrotask(vA)}};function O0(e,t){e.indexOf(t)===-1&&e.push(t)}function B0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class z0{constructor(){this.subscriptions=[]}add(t){return O0(this.subscriptions,t),()=>B0(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Vw(e,t){return t?e*(1e3/t):0}const iv=30,yA=e=>!isNaN(parseFloat(e));class xA{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Mi.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Mi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=yA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new z0);const r=this.events[t].add(n);return t==="change"?()=>{r(),Kt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Mi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>iv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,iv);return Vw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wu(e,t){return new xA(e,t)}function wA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wu(n))}function bA(e,t){const n=ef(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Fj(s[o]);wA(e,o,a)}}function SA(e){return!!(er(e)&&e.add)}function $m(e,t){const n=e.getValue("willChange");if(SA(n))return n.add(t)}function $w(e){return e.props[ww]}const Hw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,NA=1e-7,jA=12;function AA(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=Hw(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>NA&&++a<jA);return o}function sc(e,t,n,r){if(e===t&&n===r)return Dr;const i=s=>AA(s,0,1,e,n);return s=>s===0||s===1?s:Hw(i(s),t,r)}const Ww=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Gw=e=>t=>1-e(1-t),Kw=sc(.33,1.53,.69,.99),q0=Gw(Kw),Yw=Ww(q0),Jw=e=>(e*=2)<1?.5*q0(e):.5*(2-Math.pow(2,-10*(e-1))),U0=e=>1-Math.sin(Math.acos(e)),Xw=Gw(U0),Qw=Ww(U0),Zw=e=>/^0[^.\s]+$/u.test(e);function LA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Zw(e):!0}const bu=e=>Math.round(e*1e5)/1e5,V0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CA(e){return e==null}const PA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$0=(e,t)=>n=>!!(typeof n=="string"&&PA.test(n)&&n.startsWith(e)||t&&!CA(n)&&Object.prototype.hasOwnProperty.call(n,t)),e3=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(V0);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},kA=e=>hs(0,255,e),Ap={...hl,transform:e=>Math.round(kA(e))},Co={test:$0("rgb","red"),parse:e3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ap.transform(e)+", "+Ap.transform(t)+", "+Ap.transform(n)+", "+bu(Hu.transform(r))+")"};function EA(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Hm={test:$0("#"),parse:EA,transform:Co.transform},Fa={test:$0("hsl","hue"),parse:e3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Di.transform(bu(t))+", "+Di.transform(bu(n))+", "+bu(Hu.transform(r))+")"},Xn={test:e=>Co.test(e)||Hm.test(e)||Fa.test(e),parse:e=>Co.test(e)?Co.parse(e):Fa.test(e)?Fa.parse(e):Hm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Co.transform(e):Fa.transform(e)},_A=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TA(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(V0))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(_A))===null||n===void 0?void 0:n.length)||0)>0}const t3="number",n3="color",FA="var",IA="var(",sv="${}",RA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(RA,l=>(Xn.test(l)?(r.color.push(s),i.push(n3),n.push(Xn.parse(l))):l.startsWith(IA)?(r.var.push(s),i.push(FA),n.push(l)):(r.number.push(s),i.push(t3),n.push(parseFloat(l))),++s,sv)).split(sv);return{values:n,split:a,indexes:r,types:i}}function r3(e){return Gu(e).values}function i3(e){const{split:t,types:n}=Gu(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===t3?s+=bu(i[o]):a===n3?s+=Xn.transform(i[o]):s+=i[o]}return s}}const DA=e=>typeof e=="number"?0:e;function MA(e){const t=r3(e);return i3(e)(t.map(DA))}const Xs={test:TA,parse:r3,createTransformer:i3,getAnimatableNone:MA},OA=new Set(["brightness","contrast","saturate","opacity"]);function BA(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(V0)||[];if(!r)return e;const i=n.replace(r,"");let s=OA.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const zA=/\b([a-z-]*)\(.*?\)/gu,Wm={...Xs,getAnimatableNone:e=>{const t=e.match(zA);return t?t.map(BA).join(" "):e}},qA={...P0,color:Xn,backgroundColor:Xn,outlineColor:Xn,fill:Xn,stroke:Xn,borderColor:Xn,borderTopColor:Xn,borderRightColor:Xn,borderBottomColor:Xn,borderLeftColor:Xn,filter:Wm,WebkitFilter:Wm},H0=e=>qA[e];function s3(e,t){let n=H0(e);return n!==Wm&&(n=Xs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const UA=new Set(["auto","none","0"]);function VA(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!UA.has(s)&&Gu(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=s3(n,i)}const ov=e=>e===hl||e===Ze,av=(e,t)=>parseFloat(e.split(", ")[t]),lv=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return av(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?av(s[1],e):0}},$A=new Set(["x","y","z"]),HA=dl.filter(e=>!$A.has(e));function WA(e){const t=[];return HA.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const il={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:lv(4,13),y:lv(5,14)};il.translateX=il.x;il.translateY=il.y;const Eo=new Set;let Gm=!1,Km=!1;function o3(){if(Km){const e=Array.from(Eo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=WA(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Km=!1,Gm=!1,Eo.forEach(e=>e.complete()),Eo.clear()}function a3(){Eo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Km=!0)})}function GA(){a3(),o3()}class W0{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Eo.add(this),Gm||(Gm=!0,Kt.read(a3),Kt.resolveKeyframes(o3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Eo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Eo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const l3=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),KA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YA(e){const t=KA.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function u3(e,t,n=1){const[r,i]=YA(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return l3(o)?parseFloat(o):o}return C0(i)?u3(i,t,n+1):i}const c3=e=>t=>t.test(e),JA={test:e=>e==="auto",parse:e=>e},d3=[hl,Ze,Di,Ts,Bj,Oj,JA],uv=e=>d3.find(c3(e));class h3 extends W0{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let d=t[l];if(typeof d=="string"&&(d=d.trim(),C0(d))){const f=u3(d,n.current);f!==void 0&&(t[l]=f),l===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Uw.has(r)||t.length!==2)return;const[i,s]=t,o=uv(i),a=uv(s);if(o!==a)if(ov(o)&&ov(a))for(let l=0;l<t.length;l++){const d=t[l];typeof d=="string"&&(t[l]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)LA(t[i])&&r.push(i);r.length&&VA(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=il[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=il[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,d])=>{n.getValue(l).set(d)}),this.resolveNoneKeyframes()}}const cv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xs.test(e)||e==="0")&&!e.startsWith("url("));function XA(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function QA(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=cv(i,t),a=cv(s,t);return!o||!a?!1:XA(e)||(n==="spring"||R0(n))&&r}const ZA=e=>e!==null;function tf(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(ZA),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const eL=40;class f3{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mi.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>eL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&GA(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Mi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:d}=this.options;if(!d&&!QA(t,r,i,s))if(o)this.options.duration=0;else{l&&l(tf(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,n);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const en=(e,t,n)=>e+(t-e)*n;function Lp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tL({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Lp(l,a,e+1/3),s=Lp(l,a,e),o=Lp(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Ah(e,t){return n=>n>0?t:e}const Cp=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},nL=[Hm,Co,Fa],rL=e=>nL.find(t=>t.test(e));function dv(e){const t=rL(e);if(!t)return!1;let n=t.parse(e);return t===Fa&&(n=tL(n)),n}const hv=(e,t)=>{const n=dv(e),r=dv(t);if(!n||!r)return Ah(e,t);const i={...n};return s=>(i.red=Cp(n.red,r.red,s),i.green=Cp(n.green,r.green,s),i.blue=Cp(n.blue,r.blue,s),i.alpha=en(n.alpha,r.alpha,s),Co.transform(i))},iL=(e,t)=>n=>t(e(n)),oc=(...e)=>e.reduce(iL),Ym=new Set(["none","hidden"]);function sL(e,t){return Ym.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function oL(e,t){return n=>en(e,t,n)}function G0(e){return typeof e=="number"?oL:typeof e=="string"?C0(e)?Ah:Xn.test(e)?hv:uL:Array.isArray(e)?p3:typeof e=="object"?Xn.test(e)?hv:aL:Ah}function p3(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>G0(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function aL(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=G0(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function lL(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const uL=(e,t)=>{const n=Xs.createTransformer(t),r=Gu(e),i=Gu(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ym.has(e)&&!i.values.length||Ym.has(t)&&!r.values.length?sL(e,t):oc(p3(lL(r,i),i.values),n):Ah(e,t)};function m3(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?en(e,t,n):G0(e)(e,t)}const cL=5;function g3(e,t,n){const r=Math.max(t-cL,0);return Vw(n-e(r),t-r)}const ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pp=.001;function dL({duration:e=ln.duration,bounce:t=ln.bounce,velocity:n=ln.velocity,mass:r=ln.mass}){let i,s,o=1-t;o=hs(ln.minDamping,ln.maxDamping,o),e=hs(ln.minDuration,ln.maxDuration,os(e)),o<1?(i=d=>{const f=d*o,p=f*e,g=f-n,m=Jm(d,o),N=Math.exp(-p);return Pp-g/m*N},s=d=>{const p=d*o*e,g=p*n+n,m=Math.pow(o,2)*Math.pow(d,2)*e,N=Math.exp(-p),S=Jm(Math.pow(d,2),o);return(-i(d)+Pp>0?-1:1)*((g-m)*N)/S}):(i=d=>{const f=Math.exp(-d*e),p=(d-n)*e+1;return-Pp+f*p},s=d=>{const f=Math.exp(-d*e),p=(n-d)*(e*e);return f*p});const a=5/e,l=fL(i,s,a);if(e=ss(e),isNaN(l))return{stiffness:ln.stiffness,damping:ln.damping,duration:e};{const d=Math.pow(l,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const hL=12;function fL(e,t,n){let r=n;for(let i=1;i<hL;i++)r=r-e(r)/t(r);return r}function Jm(e,t){return e*Math.sqrt(1-t*t)}const pL=["duration","bounce"],mL=["stiffness","damping","mass"];function fv(e,t){return t.some(n=>e[n]!==void 0)}function gL(e){let t={velocity:ln.velocity,stiffness:ln.stiffness,damping:ln.damping,mass:ln.mass,isResolvedFromDuration:!1,...e};if(!fv(e,mL)&&fv(e,pL))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*hs(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ln.mass,stiffness:i,damping:s}}else{const n=dL(e);t={...t,...n,mass:ln.mass},t.isResolvedFromDuration=!0}return t}function v3(e=ln.visualDuration,t=ln.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:d,mass:f,duration:p,velocity:g,isResolvedFromDuration:m}=gL({...n,velocity:-os(n.velocity||0)}),N=g||0,S=d/(2*Math.sqrt(l*f)),A=o-s,x=os(Math.sqrt(l/f)),w=Math.abs(A)<5;r||(r=w?ln.restSpeed.granular:ln.restSpeed.default),i||(i=w?ln.restDelta.granular:ln.restDelta.default);let j;if(S<1){const B=Jm(x,S);j=z=>{const F=Math.exp(-S*x*z);return o-F*((N+S*x*A)/B*Math.sin(B*z)+A*Math.cos(B*z))}}else if(S===1)j=B=>o-Math.exp(-x*B)*(A+(N+x*A)*B);else{const B=x*Math.sqrt(S*S-1);j=z=>{const F=Math.exp(-S*x*z),D=Math.min(B*z,300);return o-F*((N+S*x*A)*Math.sinh(D)+B*A*Math.cosh(D))/B}}const R={calculatedDuration:m&&p||null,next:B=>{const z=j(B);if(m)a.done=B>=p;else{let F=0;S<1&&(F=B===0?ss(N):g3(j,B,z));const D=Math.abs(F)<=r,W=Math.abs(o-z)<=i;a.done=D&&W}return a.value=a.done?o:z,a},toString:()=>{const B=Math.min(Rw(R),Um),z=Dw(F=>R.next(B*F).value,B,30);return B+"ms "+z}};return R}function pv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:d=.5,restSpeed:f}){const p=e[0],g={done:!1,value:p},m=D=>a!==void 0&&D<a||l!==void 0&&D>l,N=D=>a===void 0?l:l===void 0||Math.abs(a-D)<Math.abs(l-D)?a:l;let S=n*t;const A=p+S,x=o===void 0?A:o(A);x!==A&&(S=x-p);const w=D=>-S*Math.exp(-D/r),j=D=>x+w(D),R=D=>{const W=w(D),ee=j(D);g.done=Math.abs(W)<=d,g.value=g.done?x:ee};let B,z;const F=D=>{m(g.value)&&(B=D,z=v3({keyframes:[g.value,N(g.value)],velocity:g3(j,D,g.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return F(0),{calculatedDuration:null,next:D=>{let W=!1;return!z&&B===void 0&&(W=!0,R(D),F(D)),B!==void 0&&D>=B?z.next(D-B):(!W&&R(D),g)}}}const vL=sc(.42,0,1,1),yL=sc(0,0,.58,1),y3=sc(.42,0,.58,1),xL=e=>Array.isArray(e)&&typeof e[0]!="number",wL={linear:Dr,easeIn:vL,easeInOut:y3,easeOut:yL,circIn:U0,circInOut:Qw,circOut:Xw,backIn:q0,backInOut:Yw,backOut:Kw,anticipate:Jw},mv=e=>{if(D0(e)){mw(e.length===4);const[t,n,r,i]=e;return sc(t,n,r,i)}else if(typeof e=="string")return wL[e];return e};function bL(e,t,n){const r=[],i=n||m3,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Dr:t;a=oc(l,a)}r.push(a)}return r}function SL(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(mw(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=bL(t,r,i),l=a.length,d=f=>{if(o&&f<e[0])return t[0];let p=0;if(l>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const g=nl(e[p],e[p+1],f);return a[p](g)};return n?f=>d(hs(e[0],e[s-1],f)):d}function NL(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=nl(0,t,r);e.push(en(n,1,i))}}function jL(e){const t=[0];return NL(t,e.length-1),t}function AL(e,t){return e.map(n=>n*t)}function LL(e,t){return e.map(()=>t||y3).splice(0,e.length-1)}function Lh({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=xL(r)?r.map(mv):mv(r),s={done:!1,value:t[0]},o=AL(n&&n.length===t.length?n:jL(t),e),a=SL(o,t,{ease:Array.isArray(i)?i:LL(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const CL=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Kt.update(t,!0),stop:()=>Js(t),now:()=>On.isProcessing?On.timestamp:Mi.now()}},PL={decay:pv,inertia:pv,tween:Lh,keyframes:Lh,spring:v3},kL=e=>e/100;class K0 extends f3{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||W0,a=(l,d)=>this.onKeyframesResolved(l,d);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=R0(n)?n:PL[n]||Lh;let l,d;a!==Lh&&typeof t[0]!="number"&&(l=oc(kL,m3(t[0],t[1])),t=[0,100]);const f=a({...this.options,keyframes:t});s==="mirror"&&(d=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=Rw(f));const{calculatedDuration:p}=f,g=p+i,m=g*(r+1)-i;return{generator:f,mirroredGenerator:d,mapPercentToKeyframes:l,calculatedDuration:p,resolvedDuration:g,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:d,totalDuration:f,resolvedDuration:p}=r;if(this.startTime===null)return s.next(0);const{delay:g,repeat:m,repeatType:N,repeatDelay:S,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-g*(this.speed>=0?1:-1),w=this.speed>=0?x<0:x>f;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let j=this.currentTime,R=s;if(m){const D=Math.min(this.currentTime,f)/p;let W=Math.floor(D),ee=D%1;!ee&&D>=1&&(ee=1),ee===1&&W--,W=Math.min(W,m+1),!!(W%2)&&(N==="reverse"?(ee=1-ee,S&&(ee-=S/p)):N==="mirror"&&(R=o)),j=hs(0,1,ee)*p}const B=w?{done:!1,value:l[0]}:R.next(j);a&&(B.value=a(B.value));let{done:z}=B;!w&&d!==null&&(z=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return F&&i!==void 0&&(B.value=tf(l,this.options,i)),A&&A(B.value),F&&this.finish(),B}get duration(){const{resolved:t}=this;return t?os(t.calculatedDuration):0}get time(){return os(this.currentTime)}set time(t){t=ss(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=os(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=CL,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const EL=new Set(["opacity","clipPath","filter","transform"]);function _L(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const d={[t]:n};l&&(d.offset=l);const f=Ow(a,i);return Array.isArray(f)&&(d.easing=f),e.animate(d,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const TL=w0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ch=10,FL=2e4;function IL(e){return R0(e.type)||e.type==="spring"||!Mw(e.ease)}function RL(e,t){const n=new K0({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<FL;)r=n.sample(s),i.push(r.value),s+=Ch;return{times:void 0,keyframes:i,duration:s-Ch,ease:"linear"}}const x3={anticipate:Jw,backInOut:Yw,circInOut:Qw};function DL(e){return e in x3}class gv extends f3{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new h3(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:d}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&jh()&&DL(s)&&(s=x3[s]),IL(this.options)){const{onComplete:p,onUpdate:g,motionValue:m,element:N,...S}=this.options,A=RL(t,S);t=A.keyframes,t.length===1&&(t[1]=t[0]),r=A.duration,i=A.times,s=A.ease,o="keyframes"}const f=_L(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:s});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(ev(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;a.set(tf(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return os(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return os(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ss(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Dr;const{animation:r}=n;ev(r,t)}return Dr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:f,onComplete:p,element:g,...m}=this.options,N=new K0({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),S=ss(this.time);d.setWithVelocity(N.sample(S-Ch).value,N.sample(S).value,Ch)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:d}=n.owner.getProps();return TL()&&r&&EL.has(r)&&!l&&!d&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const ML={type:"spring",stiffness:500,damping:25,restSpeed:10},OL=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),BL={type:"keyframes",duration:.8},zL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qL=(e,{keyframes:t})=>t.length>2?BL:Bo.has(e)?e.startsWith("scale")?OL(t[1]):ML:zL;function UL({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:d,...f}){return!!Object.keys(f).length}const Y0=(e,t,n,r={},i,s)=>o=>{const a=I0(r,e)||{},l=a.delay||r.delay||0;let{elapsed:d=0}=r;d=d-ss(l);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-d,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};UL(a)||(f={...f,...qL(e,f)}),f.duration&&(f.duration=ss(f.duration)),f.repeatDelay&&(f.repeatDelay=ss(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!s&&t.get()!==void 0){const g=tf(f.keyframes,a);if(g!==void 0)return Kt.update(()=>{f.onUpdate(g),f.onComplete()}),new aA([])}return!s&&gv.supports(f)?new gv(f):new K0(f)};function VL({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function w3(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const d=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in l){const g=e.getValue(p,(s=e.latestValues[p])!==null&&s!==void 0?s:null),m=l[p];if(m===void 0||f&&VL(f,p))continue;const N={delay:n,...I0(o||{},p)};let S=!1;if(window.MotionHandoffAnimation){const x=$w(e);if(x){const w=window.MotionHandoffAnimation(x,p,Kt);w!==null&&(N.startTime=w,S=!0)}}$m(e,p),g.start(Y0(p,g,m,e.shouldReduceMotion&&Uw.has(p)?{type:!1}:N,e,S));const A=g.animation;A&&d.push(A)}return a&&Promise.all(d).then(()=>{Kt.update(()=>{a&&bA(e,a)})}),d}function Xm(e,t,n={}){var r;const i=ef(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(w3(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=s;return $L(e,t,f+d,p,g,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,f]=l==="beforeChildren"?[o,a]:[a,o];return d().then(()=>f())}else return Promise.all([o(),a(n.delay)])}function $L(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(d=0)=>d*r:(d=0)=>a-d*r;return Array.from(e.variantChildren).sort(HL).forEach((d,f)=>{d.notify("AnimationStart",t),o.push(Xm(d,t,{...s,delay:n+l(f)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function HL(e,t){return e.sortNodePosition(t)}function WL(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Xm(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Xm(e,t,n);else{const i=typeof t=="function"?ef(e,t,n.custom):t;r=Promise.all(w3(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const GL=S0.length;function b3(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?b3(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<GL;n++){const r=S0[n],i=e.props[r];($u(i)||i===!1)&&(t[r]=i)}return t}const KL=[...b0].reverse(),YL=b0.length;function JL(e){return t=>Promise.all(t.map(({animation:n,options:r})=>WL(e,n,r)))}function XL(e){let t=JL(e),n=vv(),r=!0;const i=l=>(d,f)=>{var p;const g=ef(e,f,l==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(g){const{transition:m,transitionEnd:N,...S}=g;d={...d,...S,...N}}return d};function s(l){t=l(e)}function o(l){const{props:d}=e,f=b3(e.parent)||{},p=[],g=new Set;let m={},N=1/0;for(let A=0;A<YL;A++){const x=KL[A],w=n[x],j=d[x]!==void 0?d[x]:f[x],R=$u(j),B=x===l?w.isActive:null;B===!1&&(N=A);let z=j===f[x]&&j!==d[x]&&R;if(z&&r&&e.manuallyAnimateOnMount&&(z=!1),w.protectedKeys={...m},!w.isActive&&B===null||!j&&!w.prevProp||Qh(j)||typeof j=="boolean")continue;const F=QL(w.prevProp,j);let D=F||x===l&&w.isActive&&!z&&R||A>N&&R,W=!1;const ee=Array.isArray(j)?j:[j];let T=ee.reduce(i(x),{});B===!1&&(T={});const{prevResolvedValues:E={}}=w,G={...E,...T},V=oe=>{D=!0,g.has(oe)&&(W=!0,g.delete(oe)),w.needsAnimating[oe]=!0;const H=e.getValue(oe);H&&(H.liveStyle=!1)};for(const oe in G){const H=T[oe],ne=E[oe];if(m.hasOwnProperty(oe))continue;let te=!1;qm(H)&&qm(ne)?te=!Iw(H,ne):te=H!==ne,te?H!=null?V(oe):g.add(oe):H!==void 0&&g.has(oe)?V(oe):w.protectedKeys[oe]=!0}w.prevProp=j,w.prevResolvedValues=T,w.isActive&&(m={...m,...T}),r&&e.blockInitialAnimation&&(D=!1),D&&(!(z&&F)||W)&&p.push(...ee.map(oe=>({animation:oe,options:{type:x}})))}if(g.size){const A={};g.forEach(x=>{const w=e.getBaseTarget(x),j=e.getValue(x);j&&(j.liveStyle=!0),A[x]=w??null}),p.push({animation:A})}let S=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(p):Promise.resolve()}function a(l,d){var f;if(n[l].isActive===d)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var m;return(m=g.animationState)===null||m===void 0?void 0:m.setActive(l,d)}),n[l].isActive=d;const p=o(l);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=vv(),r=!0}}}function QL(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Iw(t,e):!1}function go(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vv(){return{animate:go(!0),whileInView:go(),whileHover:go(),whileTap:go(),whileDrag:go(),whileFocus:go(),exit:go()}}class io{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ZL extends io{constructor(t){super(t),t.animationState||(t.animationState=XL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let eC=0;class tC extends io{constructor(){super(...arguments),this.id=eC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const nC={animation:{Feature:ZL},exit:{Feature:tC}};function Ku(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ac(e){return{point:{x:e.pageX,y:e.pageY}}}const rC=e=>t=>M0(t)&&e(t,ac(t));function Su(e,t,n,r){return Ku(e,t,rC(n),r)}const yv=(e,t)=>Math.abs(e-t);function iC(e,t){const n=yv(e.x,t.x),r=yv(e.y,t.y);return Math.sqrt(n**2+r**2)}class S3{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Ep(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=iC(p.offset,{x:0,y:0})>=3;if(!g&&!m)return;const{point:N}=p,{timestamp:S}=On;this.history.push({...N,timestamp:S});const{onStart:A,onMove:x}=this.handlers;g||(A&&A(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=kp(g,this.transformPagePoint),Kt.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:m,onSessionEnd:N,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Ep(p.type==="pointercancel"?this.lastMoveEventInfo:kp(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(p,A),N&&N(p,A)},!M0(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=ac(t),a=kp(o,this.transformPagePoint),{point:l}=a,{timestamp:d}=On;this.history=[{...l,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Ep(a,this.history)),this.removeListeners=oc(Su(this.contextWindow,"pointermove",this.handlePointerMove),Su(this.contextWindow,"pointerup",this.handlePointerUp),Su(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Js(this.updatePoint)}}function kp(e,t){return t?{point:t(e.point)}:e}function xv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ep({point:e},t){return{point:e,delta:xv(e,N3(t)),offset:xv(e,sC(t)),velocity:oC(t,.1)}}function sC(e){return e[0]}function N3(e){return e[e.length-1]}function oC(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=N3(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>ss(t)));)n--;if(!r)return{x:0,y:0};const s=os(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const j3=1e-4,aC=1-j3,lC=1+j3,A3=.01,uC=0-A3,cC=0+A3;function Or(e){return e.max-e.min}function dC(e,t,n){return Math.abs(e-t)<=n}function wv(e,t,n,r=.5){e.origin=r,e.originPoint=en(t.min,t.max,e.origin),e.scale=Or(n)/Or(t),e.translate=en(n.min,n.max,e.origin)-e.originPoint,(e.scale>=aC&&e.scale<=lC||isNaN(e.scale))&&(e.scale=1),(e.translate>=uC&&e.translate<=cC||isNaN(e.translate))&&(e.translate=0)}function Nu(e,t,n,r){wv(e.x,t.x,n.x,r?r.originX:void 0),wv(e.y,t.y,n.y,r?r.originY:void 0)}function bv(e,t,n){e.min=n.min+t.min,e.max=e.min+Or(t)}function hC(e,t,n){bv(e.x,t.x,n.x),bv(e.y,t.y,n.y)}function Sv(e,t,n){e.min=t.min-n.min,e.max=e.min+Or(t)}function ju(e,t,n){Sv(e.x,t.x,n.x),Sv(e.y,t.y,n.y)}function fC(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?en(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?en(n,e,r.max):Math.min(e,n)),e}function Nv(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function pC(e,{top:t,left:n,bottom:r,right:i}){return{x:Nv(e.x,n,i),y:Nv(e.y,t,r)}}function jv(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function mC(e,t){return{x:jv(e.x,t.x),y:jv(e.y,t.y)}}function gC(e,t){let n=.5;const r=Or(e),i=Or(t);return i>r?n=nl(t.min,t.max-r,e.min):r>i&&(n=nl(e.min,e.max-i,t.min)),hs(0,1,n)}function vC(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Qm=.35;function yC(e=Qm){return e===!1?e=0:e===!0&&(e=Qm),{x:Av(e,"left","right"),y:Av(e,"top","bottom")}}function Av(e,t,n){return{min:Lv(e,t),max:Lv(e,n)}}function Lv(e,t){return typeof e=="number"?e:e[t]||0}const Cv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ia=()=>({x:Cv(),y:Cv()}),Pv=()=>({min:0,max:0}),fn=()=>({x:Pv(),y:Pv()});function Xr(e){return[e("x"),e("y")]}function L3({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function xC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wC(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _p(e){return e===void 0||e===1}function Zm({scale:e,scaleX:t,scaleY:n}){return!_p(e)||!_p(t)||!_p(n)}function wo(e){return Zm(e)||C3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function C3(e){return kv(e.x)||kv(e.y)}function kv(e){return e&&e!=="0%"}function Ph(e,t,n){const r=e-n,i=t*r;return n+i}function Ev(e,t,n,r,i){return i!==void 0&&(e=Ph(e,i,r)),Ph(e,n,r)+t}function e1(e,t=0,n=1,r,i){e.min=Ev(e.min,t,n,r,i),e.max=Ev(e.max,t,n,r,i)}function P3(e,{x:t,y:n}){e1(e.x,t.translate,t.scale,t.originPoint),e1(e.y,n.translate,n.scale,n.originPoint)}const _v=.999999999999,Tv=1.0000000000001;function bC(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Da(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,P3(e,o)),r&&wo(s.latestValues)&&Da(e,s.latestValues))}t.x<Tv&&t.x>_v&&(t.x=1),t.y<Tv&&t.y>_v&&(t.y=1)}function Ra(e,t){e.min=e.min+t,e.max=e.max+t}function Fv(e,t,n,r,i=.5){const s=en(e.min,e.max,i);e1(e,t,n,s,r)}function Da(e,t){Fv(e.x,t.x,t.scaleX,t.scale,t.originX),Fv(e.y,t.y,t.scaleY,t.scale,t.originY)}function k3(e,t){return L3(wC(e.getBoundingClientRect(),t))}function SC(e,t,n){const r=k3(e,n),{scroll:i}=t;return i&&(Ra(r.x,i.offset.x),Ra(r.y,i.offset.y)),r}const E3=({current:e})=>e?e.ownerDocument.defaultView:null,NC=new WeakMap;class jC{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ac(f).point)},s=(f,p)=>{const{drag:g,dragPropagation:m,onDragStart:N}=this.getProps();if(g&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gA(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xr(A=>{let x=this.getAxisMotionValue(A).get()||0;if(Di.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const j=w.layout.layoutBox[A];j&&(x=Or(j)*(parseFloat(x)/100))}}this.originPoint[A]=x}),N&&Kt.postRender(()=>N(f,p)),$m(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(f,p)=>{const{dragPropagation:g,dragDirectionLock:m,onDirectionLock:N,onDrag:S}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:A}=p;if(m&&this.currentDirection===null){this.currentDirection=AC(A),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",p.point,A),this.updateAxis("y",p.point,A),this.visualElement.render(),S&&S(f,p)},a=(f,p)=>this.stop(f,p),l=()=>Xr(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new S3(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:E3(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Kt.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!xd(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=fC(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Ta(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=pC(i.layoutBox,n):this.constraints=!1,this.elastic=yC(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Xr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=vC(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ta(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=SC(r,i.root,this.visualElement.getTransformPagePoint());let o=mC(i.layout.layoutBox,s);if(n){const a=n(xC(o));this.hasMutatedConstraints=!!a,a&&(o=L3(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},d=Xr(f=>{if(!xd(f,n,this.currentDirection))return;let p=l&&l[f]||{};o&&(p={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,N={type:"inertia",velocity:r?t[f]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,N)});return Promise.all(d).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return $m(this.visualElement,t),r.start(Y0(t,r,0,n,this.visualElement,!1))}stopAnimation(){Xr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Xr(n=>{const{drag:r}=this.getProps();if(!xd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-en(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ta(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=gC({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xr(o=>{if(!xd(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:d}=this.constraints[o];a.set(en(l,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;NC.set(this.visualElement,this);const t=this.visualElement.current,n=Su(t,"pointerdown",l=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ta(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Kt.read(r);const o=Ku(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(Xr(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=l[f].translate,p.set(p.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Qm,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function xd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function AC(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class LC extends io{constructor(t){super(t),this.removeGroupControls=Dr,this.removeListeners=Dr,this.controls=new jC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Iv=e=>(t,n)=>{e&&Kt.postRender(()=>e(t,n))};class CC extends io{constructor(){super(...arguments),this.removePointerDownListener=Dr}onPointerDown(t){this.session=new S3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:E3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Iv(t),onStart:Iv(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Kt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Su(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Rv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ql={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ze.test(e))e=parseFloat(e);else return e;const n=Rv(e,t.target.x),r=Rv(e,t.target.y);return`${n}% ${r}%`}},PC={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Xs.parse(e);if(i.length>5)return r;const s=Xs.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const d=en(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};class kC extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;Yj(EC),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Vd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Kt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),j0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _3(e){const[t,n]=fw(),r=O.useContext(g0);return c.jsx(kC,{...e,layoutGroup:r,switchLayoutGroup:O.useContext(bw),isPresent:t,safeToRemove:n})}const EC={borderRadius:{...Ql,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ql,borderTopRightRadius:Ql,borderBottomLeftRadius:Ql,borderBottomRightRadius:Ql,boxShadow:PC};function _C(e,t,n){const r=er(e)?e:Wu(e);return r.start(Y0("",r,t,n)),r.animation}function TC(e){return e instanceof SVGElement&&e.tagName!=="svg"}const FC=(e,t)=>e.depth-t.depth;class IC{constructor(){this.children=[],this.isDirty=!1}add(t){O0(this.children,t),this.isDirty=!0}remove(t){B0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(FC),this.isDirty=!1,this.children.forEach(t)}}function RC(e,t){const n=Mi.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Js(r),e(s-t))};return Kt.read(r,!0),()=>Js(r)}const T3=["TopLeft","TopRight","BottomLeft","BottomRight"],DC=T3.length,Dv=e=>typeof e=="string"?parseFloat(e):e,Mv=e=>typeof e=="number"||Ze.test(e);function MC(e,t,n,r,i,s){i?(e.opacity=en(0,n.opacity!==void 0?n.opacity:1,OC(r)),e.opacityExit=en(t.opacity!==void 0?t.opacity:1,0,BC(r))):s&&(e.opacity=en(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<DC;o++){const a=`border${T3[o]}Radius`;let l=Ov(t,a),d=Ov(n,a);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||Mv(l)===Mv(d)?(e[a]=Math.max(en(Dv(l),Dv(d),r),0),(Di.test(d)||Di.test(l))&&(e[a]+="%")):e[a]=d}(t.rotate||n.rotate)&&(e.rotate=en(t.rotate||0,n.rotate||0,r))}function Ov(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const OC=F3(0,.5,Xw),BC=F3(.5,.95,Dr);function F3(e,t,n){return r=>r<e?0:r>t?1:n(nl(e,t,r))}function Bv(e,t){e.min=t.min,e.max=t.max}function Jr(e,t){Bv(e.x,t.x),Bv(e.y,t.y)}function zv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qv(e,t,n,r,i){return e-=t,e=Ph(e,1/n,r),i!==void 0&&(e=Ph(e,1/i,r)),e}function zC(e,t=0,n=1,r=.5,i,s=e,o=e){if(Di.test(t)&&(t=parseFloat(t),t=en(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=en(s.min,s.max,r);e===s&&(a-=t),e.min=qv(e.min,t,n,a,i),e.max=qv(e.max,t,n,a,i)}function Uv(e,t,[n,r,i],s,o){zC(e,t[n],t[r],t[i],t.scale,s,o)}const qC=["x","scaleX","originX"],UC=["y","scaleY","originY"];function Vv(e,t,n,r){Uv(e.x,t,qC,n?n.x:void 0,r?r.x:void 0),Uv(e.y,t,UC,n?n.y:void 0,r?r.y:void 0)}function $v(e){return e.translate===0&&e.scale===1}function I3(e){return $v(e.x)&&$v(e.y)}function Hv(e,t){return e.min===t.min&&e.max===t.max}function VC(e,t){return Hv(e.x,t.x)&&Hv(e.y,t.y)}function Wv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function R3(e,t){return Wv(e.x,t.x)&&Wv(e.y,t.y)}function Gv(e){return Or(e.x)/Or(e.y)}function Kv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $C{constructor(){this.members=[]}add(t){O0(this.members,t),t.scheduleRender()}remove(t){if(B0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function HC(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:g,skewX:m,skewY:N}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),m&&(r+=`skewX(${m}deg) `),N&&(r+=`skewY(${N}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const bo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},du=typeof window<"u"&&window.MotionDebug!==void 0,Tp=["","X","Y","Z"],WC={visibility:"hidden"},Yv=1e3;let GC=0;function Fp(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function D3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=$w(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Kt,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&D3(r)}function M3({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=GC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,du&&(bo.totalNodes=bo.resolvedTargetDeltas=bo.recalculatedProjection=0),this.nodes.forEach(JC),this.nodes.forEach(tP),this.nodes.forEach(nP),this.nodes.forEach(XC),du&&window.MotionDebug.record(bo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new IC)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new z0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TC(o),this.instance=o;const{layoutId:l,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(d||l)&&(this.isLayoutDirty=!0),e){let p;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=RC(g,250),Vd.hasAnimatedSinceResize&&(Vd.hasAnimatedSinceResize=!1,this.nodes.forEach(Xv))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:m,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||aP,{onLayoutAnimationStart:A,onLayoutAnimationComplete:x}=f.getProps(),w=!this.targetLayout||!R3(this.targetLayout,N)||m,j=!g&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||g&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,j);const R={...I0(S,"layout"),onPlay:A,onComplete:x};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else g||Xv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jv);return}this.isUpdating||this.nodes.forEach(ZC),this.isUpdating=!1,this.nodes.forEach(eP),this.nodes.forEach(KC),this.nodes.forEach(YC),this.clearAllSnapshots();const a=Mi.now();On.delta=hs(0,1e3/60,a-On.timestamp),On.timestamp=a,On.isProcessing=!0,Np.update.process(On),Np.preRender.process(On),Np.render.process(On),On.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,j0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QC),this.sharedNodes.forEach(iP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!I3(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&(a||wo(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),lP(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return fn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(uP))){const{scroll:f}=this.root;f&&(Ra(l.x,f.offset.x),Ra(l.y,f.offset.y))}return l}removeElementScroll(o){var a;const l=fn();if(Jr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Jr(l,o),Ra(l.x,p.offset.x),Ra(l.y,p.offset.y))}return l}applyTransform(o,a=!1){const l=fn();Jr(l,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Da(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),wo(f.latestValues)&&Da(l,f.latestValues)}return wo(this.latestValues)&&Da(l,this.latestValues),l}removeTransform(o){const a=fn();Jr(a,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!wo(d.latestValues))continue;Zm(d.latestValues)&&d.updateSnapshot();const f=fn(),p=d.measurePageBox();Jr(f,p),Vv(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return wo(this.latestValues)&&Vv(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==On.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=On.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),ju(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=fn(),this.targetWithTransforms=fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jr(this.target,this.layout.layoutBox),P3(this.target,this.targetDelta)):Jr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),ju(this.relativeTargetOrigin,this.target,m.target),Jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}du&&bo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zm(this.parent.latestValues)||C3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===On.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Jr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,m=this.treeScale.y;bC(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=fn());const{target:N}=a;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zv(this.prevProjectionDelta.x,this.projectionDelta.x),zv(this.prevProjectionDelta.y,this.projectionDelta.y)),Nu(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==m||!Kv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N)),du&&bo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ia(),this.projectionDelta=Ia(),this.projectionDeltaWithTransform=Ia()}setAnimationOrigin(o,a=!1){const l=this.snapshot,d=l?l.latestValues:{},f={...this.latestValues},p=Ia();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=fn(),m=l?l.source:void 0,N=this.layout?this.layout.source:void 0,S=m!==N,A=this.getStack(),x=!A||A.members.length<=1,w=!!(S&&!x&&this.options.crossfade===!0&&!this.path.some(oP));this.animationProgress=0;let j;this.mixTargetDelta=R=>{const B=R/1e3;Qv(p.x,o.x,B),Qv(p.y,o.y,B),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ju(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sP(this.relativeTarget,this.relativeTargetOrigin,g,B),j&&VC(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=fn()),Jr(j,this.relativeTarget)),S&&(this.animationValues=f,MC(f,d,this.latestValues,B,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kt.update(()=>{Vd.hasAnimatedSinceResize=!0,this.currentAnimation=_C(0,Yv,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:d,latestValues:f}=o;if(!(!a||!l||!d)){if(this!==o&&this.layout&&d&&O3(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||fn();const p=Or(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const g=Or(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}Jr(a,l),Da(a,f),Nu(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $C),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const d={};l.z&&Fp("z",o,d,this.animationValues);for(let f=0;f<Tp.length;f++)Fp(`rotate${Tp[f]}`,o,d,this.animationValues),Fp(`skew${Tp[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return WC;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=qd(o==null?void 0:o.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=qd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!wo(this.latestValues)&&(S.transform=f?f({},""):"none",this.hasProjected=!1),S}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=HC(this.projectionDeltaWithTransform,this.treeScale,g),f&&(d.transform=f(g,d.transform));const{x:m,y:N}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${N.origin*100}% 0`,p.animationValues?d.opacity=p===this?(l=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in Nh){if(g[S]===void 0)continue;const{correct:A,applyTo:x}=Nh[S],w=d.transform==="none"?g[S]:A(g[S],p);if(x){const j=x.length;for(let R=0;R<j;R++)d[x[R]]=w}else d[S]=w}return this.options.layoutId&&(d.pointerEvents=p===this?qd(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Jv),this.root.sharedNodes.clear()}}}function KC(e){e.updateLayout()}function YC(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Xr(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],m=Or(g);g.min=r[p].min,g.max=g.min+m}):O3(s,n.layoutBox,r)&&Xr(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],m=Or(r[p]);g.max=g.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+m)});const a=Ia();Nu(a,r,n.layoutBox);const l=Ia();o?Nu(l,e.applyTransform(i,!0),n.measuredBox):Nu(l,r,n.layoutBox);const d=!I3(a);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:m}=p;if(g&&m){const N=fn();ju(N,n.layoutBox,g.layoutBox);const S=fn();ju(S,r,m.layoutBox),R3(N,S)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=N,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function JC(e){du&&bo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function XC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function QC(e){e.clearSnapshot()}function Jv(e){e.clearMeasurements()}function ZC(e){e.isLayoutDirty=!1}function eP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Xv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tP(e){e.resolveTargetDelta()}function nP(e){e.calcProjection()}function rP(e){e.resetSkewAndRotation()}function iP(e){e.removeLeadSnapshot()}function Qv(e,t,n){e.translate=en(t.translate,0,n),e.scale=en(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Zv(e,t,n,r){e.min=en(t.min,n.min,r),e.max=en(t.max,n.max,r)}function sP(e,t,n,r){Zv(e.x,t.x,n.x,r),Zv(e.y,t.y,n.y,r)}function oP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const aP={duration:.45,ease:[.4,0,.1,1]},e5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),t5=e5("applewebkit/")&&!e5("chrome/")?Math.round:Dr;function n5(e){e.min=t5(e.min),e.max=t5(e.max)}function lP(e){n5(e.x),n5(e.y)}function O3(e,t,n){return e==="position"||e==="preserve-aspect"&&!dC(Gv(t),Gv(n),.2)}function uP(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const cP=M3({attachResizeListener:(e,t)=>Ku(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ip={current:void 0},B3=M3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ip.current){const e=new cP({});e.mount(window),e.setOptions({layoutScroll:!0}),Ip.current=e}return Ip.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dP={pan:{Feature:CC},drag:{Feature:LC,ProjectionNode:B3,MeasureLayout:_3}};function r5(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Kt.postRender(()=>s(t,ac(t)))}class hP extends io{mount(){const{current:t}=this.node;t&&(this.unmount=dA(t,n=>(r5(this.node,n,"Start"),r=>r5(this.node,r,"End"))))}unmount(){}}class fP extends io{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oc(Ku(this.node.current,"focus",()=>this.onFocus()),Ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function i5(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Kt.postRender(()=>s(t,ac(t)))}class pP extends io{mount(){const{current:t}=this.node;t&&(this.unmount=mA(t,n=>(i5(this.node,n,"Start"),(r,{success:i})=>i5(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const t1=new WeakMap,Rp=new WeakMap,mP=e=>{const t=t1.get(e.target);t&&t(e)},gP=e=>{e.forEach(mP)};function vP({root:e,...t}){const n=e||document;Rp.has(n)||Rp.set(n,{});const r=Rp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(gP,{root:e,...t})),r[i]}function yP(e,t,n){const r=vP(t);return t1.set(e,n),r.observe(e),()=>{t1.delete(e),r.unobserve(e)}}const xP={some:0,all:1};class wP extends io{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:xP[i]},a=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=d?f:p;g&&g(l)};return yP(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(bP(t,n))&&this.startObserver()}unmount(){}}function bP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const SP={inView:{Feature:wP},tap:{Feature:pP},focus:{Feature:fP},hover:{Feature:hP}},NP={layout:{ProjectionNode:B3,MeasureLayout:_3}},n1={current:null},z3={current:!1};function jP(){if(z3.current=!0,!!x0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>n1.current=e.matches;e.addListener(t),t()}else n1.current=!1}const AP=[...d3,Xn,Xs],LP=e=>AP.find(c3(e)),s5=new WeakMap;function CP(e,t,n){for(const r in t){const i=t[r],s=n[r];if(er(i))e.addValue(r,i);else if(er(s))e.addValue(r,Wu(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Wu(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const o5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PP{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=W0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Mi.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Kt.render(this.render,!1,!0))};const{latestValues:l,renderState:d,onUpdate:f}=o;this.onUpdate=f,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Zh(n),this.isVariantNode=xw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in g){const N=g[m];l[m]!==void 0&&er(N)&&N.set(l[m],!1)}}mount(t){this.current=t,s5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),z3.current||jP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:n1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){s5.delete(this.current),this.projection&&this.projection.unmount(),Js(this.notifyUpdate),Js(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Bo.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Kt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in rl){const n=rl[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<o5.length;r++){const i=o5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=CP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Wu(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(l3(i)||Zw(i))?i=parseFloat(i):!LP(i)&&Xs.test(n)&&(i=s3(t,n)),this.setBaseTarget(t,er(i)?i.get():i)),er(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=L0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!er(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new z0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class q3 extends PP{constructor(){super(...arguments),this.KeyframeResolver=h3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;er(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kP(e){return window.getComputedStyle(e)}class EP extends q3{constructor(){super(...arguments),this.type="html",this.renderInstance=Pw}readValueFromInstance(t,n){if(Bo.has(n)){const r=H0(n);return r&&r.default||0}else{const r=kP(t),i=(Aw(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return k3(t,n)}build(t,n,r){k0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return F0(t,n,r)}}class _P extends q3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Bo.has(n)){const r=H0(n);return r&&r.default||0}return n=kw.has(n)?n:N0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Tw(t,n,r)}build(t,n,r){E0(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){Ew(t,n,r,i)}mount(t){this.isSVGTag=T0(t.tagName),super.mount(t)}}const TP=(e,t)=>A0(e)?new _P(t):new EP(t,{allowProjection:e!==O.Fragment}),FP=iA({...nC,...SP,...dP,...NP},TP),ze=xj(FP);async function IP(e,t){try{const n={id:e,prenom:t.firstName,nom:t.lastName},{data:r,error:i}=await yn.from("profiles").upsert(n,{onConflict:"id",returning:"representation"}).select().single();if(i)throw console.error("Erreur mise  jour profil:",i),new Error(`Erreur mise  jour profil: ${i.message}`);return r}catch(n){throw console.error("Erreur critique mise  jour profil:",n),n}}async function RP(e){var t,n,r,i;try{const{data:s,error:o}=await yn.from("profiles").select("prenom, nom").eq("id",e.id).single(),a={id:e.id,email:e.email,prenom:(s==null?void 0:s.prenom)||((t=e.user_metadata)==null?void 0:t.firstName)||((n=e.user_metadata)==null?void 0:n.prenom)||null,nom:(s==null?void 0:s.nom)||((r=e.user_metadata)==null?void 0:r.lastName)||((i=e.user_metadata)==null?void 0:i.nom)||null,last_login:new Date().toISOString()},{data:l,error:d}=await yn.from("profiles").upsert(a,{onConflict:"id",returning:"representation"}).select().single();if(d)throw console.error("Erreur sync profil:",d),new Error(`Erreur sync profil: ${d.message}`);return l}catch(s){throw console.error("Erreur critique sync profil:",s),s}}function J0(){const[e,t]=O.useState(null),[n,r]=O.useState(!0);return O.useEffect(()=>{const i=async()=>{try{const{data:{session:o}}=await yn.auth.getSession();if(!(o!=null&&o.user)){t(null),r(!1);return}try{await RP(o.user)}catch(p){console.warn("Erreur sync profil (non critique):",p)}const a=o.user.email.split("@")[0],l={id:o.user.id,email:o.user.email,firstName:a,lastName:"",name:a},{data:d,error:f}=await yn.from("profiles").select("*").eq("id",o.user.id).single();if(d){const p={...l,firstName:d.prenom||l.firstName,lastName:d.nom||"",name:`${d.prenom||l.firstName} ${d.nom||""}`.trim(),profile:d};t(p)}else t(l)}catch(o){console.error("Erreur chargement utilisateur:",o),t(null)}finally{r(!1)}};i();const{data:{subscription:s}}=yn.auth.onAuthStateChange(async(o,a)=>{o==="SIGNED_IN"?i():o==="SIGNED_OUT"&&(t(null),r(!1))});return()=>s==null?void 0:s.unsubscribe()},[]),{user:e,loading:n}}function a5(e){return e.includes("security purposes")&&e.includes("request this")||e.includes("only request this after")?"Pour des raisons de scurit, vous ne pouvez faire cette demande que toutes les 60 secondes.":e.includes("Invalid email")?"Adresse email invalide.":e.includes("User not found")?"Aucun compte trouv avec cette adresse email.":e.includes("Too many requests")?"Trop de tentatives. Veuillez ressayer dans quelques minutes.":e}async function DP({email:e}){try{const{error:t}=await yn.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return t?{error:{message:a5(t.message)}}:{data:{message:"Email de rinitialisation envoy avec succs"}}}catch(t){return{error:{message:"Erreur lors de l'envoi de l'email de rinitialisation: "+a5(t.message)}}}}const $d=(e,t=null)=>{if(!e||!e.trim())return;const n=t?`email_history_${t}`:"email_history_guest",r=localStorage.getItem(n);let i=[];if(r)try{i=JSON.parse(r)}catch(o){console.error("Erreur lors du chargement de l'historique email:",o)}const s=[e,...i.filter(o=>o!==e)].slice(0,5);localStorage.setItem(n,JSON.stringify(s))},MP=e=>{const[t,n]=O.useState([]),[r,i]=O.useState(!1),[s,o]=O.useState([]);return O.useEffect(()=>{const f=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",p=localStorage.getItem(f);if(p)try{const g=JSON.parse(p);n(g)}catch(g){console.error("Erreur lors du chargement de l'historique email:",g)}},[e]),{showSuggestions:r,filteredEmails:s,saveEmail:f=>{if(!f||!f.trim())return;const p=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",g=[f,...t.filter(m=>m!==f)].slice(0,5);n(g),localStorage.setItem(p,JSON.stringify(g))},removeEmail:f=>{const p=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",g=t.filter(m=>m!==f);n(g),localStorage.setItem(p,JSON.stringify(g)),o(m=>m.filter(N=>N!==f))},filterEmails:f=>{if(!f||f.length<1){o([]),i(!1);return}const p=t.filter(g=>g.toLowerCase().startsWith(f.toLowerCase()));o(p),i(p.length>0)},hideSuggestions:()=>i(!1)}},Ma=({value:e,onChange:t,placeholder:n,required:r,disabled:i,user:s,onEmailSubmit:o})=>{const{showSuggestions:a,filteredEmails:l,saveEmail:d,removeEmail:f,filterEmails:p,hideSuggestions:g}=MP(s),[m,N]=O.useState(e||""),[S,A]=O.useState(-1),x=O.useRef(null),w=O.useRef(null);O.useEffect(()=>{N(e||"")},[e]),O.useEffect(()=>{const z=F=>{w.current&&!w.current.contains(F.target)&&(g(),A(-1))};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[g]);const j=z=>{const F=z.target.value;N(F),t(z),p(F),A(-1)},R=z=>{var F;N(z),t({target:{value:z}}),g(),A(-1),(F=x.current)==null||F.focus()},B=z=>{if(!a||l.length===0){z.key==="Enter"&&o&&(d(m),o());return}switch(z.key){case"ArrowDown":z.preventDefault(),A(F=>F<l.length-1?F+1:F);break;case"ArrowUp":z.preventDefault(),A(F=>F>0?F-1:-1);break;case"Enter":z.preventDefault(),S>=0&&S<l.length?R(l[S]):o&&(d(m),o());break;case"Escape":g(),A(-1);break}};return c.jsxs("div",{className:"email-input-container",ref:w,children:[c.jsx("input",{ref:x,type:"email",value:m,onChange:j,onKeyDown:B,placeholder:n,required:r,disabled:i,autoComplete:"off"}),a&&l.length>0&&c.jsx("div",{className:"email-suggestions google-style",children:l.map((z,F)=>c.jsxs("div",{className:`email-suggestion-item ${F===S?"selected":""}`,onMouseEnter:()=>A(F),children:[c.jsx("div",{className:"email-suggestion-content",onClick:()=>R(z),children:z}),c.jsx("button",{type:"button",className:"email-suggestion-remove",onClick:D=>{D.stopPropagation(),f(z)},onMouseEnter:D=>D.stopPropagation(),title:"Supprimer cet email",children:""})]},F))})]})},OP=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i})=>{var ve,Y,Qe,Ue,Le;const[s,o]=O.useState(!1),[a,l]=O.useState(!1),[d,f]=O.useState(!1),[p,g]=O.useState(!1),[m,N]=O.useState(""),[S,A]=O.useState(""),[x,w]=O.useState(""),[j,R]=O.useState(""),[B,z]=O.useState(""),[F,D]=O.useState(!1),{user:W,loading:ee}=J0(),T=!!W&&!ee,E=O.useRef(null),[G,V]=O.useState(""),[ae,ie]=O.useState(""),[oe,H]=O.useState("");O.useState(!1),O.useState("");const[ne,te]=O.useState(!1),[xe,L]=O.useState(!1),[q,U]=O.useState(""),[J,re]=O.useState(!1),[ce,fe]=O.useState(!1);O.useEffect(()=>{(async()=>{if(!W||!W.id){fe(!1);return}try{const{data:Ne,error:ke}=await yn.from("profiles").select("role").eq("id",W.id).single();if(ke){fe(!1);return}const We=(Ne==null?void 0:Ne.role)==="admin"||(Ne==null?void 0:Ne.role)==="super_admin";fe(We)}catch{fe(!1)}})()},[W]);const pe=()=>ce,Ee=async me=>{me.preventDefault(),z(""),D(!0);try{const{data:Ne,error:ke}=await yn.auth.signInWithPassword({email:m.trim(),password:S.trim()});if(ke){z(ke.message==="Invalid login credentials"?"Email ou mot de passe incorrect":ke.message);return}Ne!=null&&Ne.user&&($d(m.trim()),l(!1),o(!1),N(""),A(""),t&&t(Ne.user))}catch{z("Erreur de connexion. Vrifiez vos identifiants.")}finally{D(!1)}},Ce=async me=>{me.preventDefault(),z(""),D(!0);try{const{data:Ne,error:ke}=await yn.auth.signUp({email:m.trim(),password:S.trim(),options:{data:{firstName:x.trim(),lastName:j.trim(),name:`${x.trim()} ${j.trim()}`}}});if(ke){console.error(" HERBBIE: Erreur inscription Supabase:",ke.message),z(ke.message==="User already registered"?"Un compte existe dj avec cet email":ke.message);return}Ne!=null&&Ne.user&&($d(m.trim()),Ne.session?(f(!1),o(!1),N(""),A(""),w(""),R(""),r&&r(Ne.user)):z("Un email de confirmation a t envoy. Vrifiez votre bote mail."))}catch(Ne){console.error(" HERBBIE: Erreur critique inscription:",Ne),z("Erreur d'inscription. Ressayez plus tard.")}finally{D(!1)}},Re=async()=>{try{const{error:me}=await yn.auth.signOut();if(me){console.error(" HERBBIE: Erreur dconnexion:",me.message),z("Erreur lors de la dconnexion");return}o(!1),g(!1),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userFirstName"),localStorage.removeItem("userLastName"),localStorage.removeItem("friday_supabase_user"),n&&n(),window.location.reload()}catch(me){console.error(" HERBBIE: Erreur critique dconnexion:",me),z("Erreur lors de la dconnexion")}},Te=async me=>{me.preventDefault(),z(""),re(!0),z(""),$d(q.trim());try{console.log(" Demande de rinitialisation via backend en arrire-plan...");const{data:Ne,error:ke}=await DP({email:q.trim()});if(ke){console.error(" Erreur reset password:",ke),re(!1),z(ke.message||"Erreur lors de l'envoi de l'email");return}console.log(" Reset password russi:",Ne)}catch(Ne){console.error(" Exception reset password:",Ne),re(!1),z("Erreur lors de l'envoi de l'email de rinitialisation")}},Ge=async()=>{if(!(!W||!W.id))try{const{data:me,error:Ne}=await yn.from("profiles").select("*").eq("id",W.id).single();!Ne&&me&&(H(me.email||W.email||""),V(me.prenom||""),ie(me.nom||""))}catch(me){console.error("Erreur rechargement donnes utilisateur:",me)}};return O.useEffect(()=>{var me,Ne;W&&(H(W.email||""),V(W.firstName||((me=W.user_metadata)==null?void 0:me.firstName)||""),ie(W.lastName||((Ne=W.user_metadata)==null?void 0:Ne.lastName)||""))},[W]),O.useEffect(()=>{const me=Ne=>{E.current&&!E.current.contains(Ne.target)&&(o(!1),l(!1),f(!1),g(!1),L(!1),z(""))};return document.addEventListener("mousedown",me),()=>{document.removeEventListener("mousedown",me)}},[]),ee?c.jsx("div",{className:"user-account",ref:E,children:c.jsx("div",{className:"user-avatar",children:c.jsx("span",{children:""})})}):c.jsx("div",{className:"user-account",ref:E,children:T?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-avatar",onClick:()=>o(!s),children:c.jsx("span",{className:"user-initial",children:((Y=(ve=W==null?void 0:W.firstName)==null?void 0:ve.charAt(0))==null?void 0:Y.toUpperCase())||((Ue=(Qe=W==null?void 0:W.email)==null?void 0:Qe.charAt(0))==null?void 0:Ue.toUpperCase())||""})}),c.jsx(Ti,{children:s&&c.jsxs(ze.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[c.jsxs("div",{className:"user-info",children:[c.jsx("div",{className:"user-name",children:(W==null?void 0:W.firstName)||(W==null?void 0:W.name)||((Le=W==null?void 0:W.email)==null?void 0:Le.split("@")[0])}),c.jsx("div",{className:"user-email",children:W==null?void 0:W.email})]}),c.jsxs("div",{className:"dropdown-actions",children:[pe()&&c.jsx("button",{onClick:()=>{window.open("/admin?auth=auto","_blank")},children:" Administration"}),c.jsx("button",{onClick:()=>{o(!1),g(!0)},children:"Mon profil"}),c.jsx("button",{onClick:()=>{o(!1),i&&i()},children:"Mon historique"}),c.jsx("button",{onClick:Re,className:"logout-button",children:"Se dconnecter"})]})]})}),c.jsx(Ti,{children:p&&c.jsx(ze.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>g(!1),children:c.jsxs(ze.div,{className:"auth-form profile-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:me=>me.stopPropagation(),children:[c.jsx("h3",{children:"Mon profil"}),c.jsxs("form",{onSubmit:async me=>{me.preventDefault(),z("");try{await IP(W.id,{firstName:G.trim(),lastName:ae.trim()}),await Ge(),te(!0),setTimeout(()=>te(!1),3e3)}catch(Ne){console.error("Erreur mise  jour profil:",Ne),z("Erreur lors de la mise  jour du profil")}},children:[c.jsx(Ma,{value:oe,onChange:me=>H(me.target.value),placeholder:"Email",disabled:!0,user:W,onEmailSubmit:()=>{}}),c.jsx("input",{type:"text",placeholder:"Prnom",value:G,onChange:me=>V(me.target.value)}),c.jsx("input",{type:"text",placeholder:"Nom",value:ae,onChange:me=>ie(me.target.value)}),B&&c.jsx("div",{className:"error-message",children:B}),ne&&c.jsx("div",{className:"success-message",children:"Profil mis  jour avec succs !"}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>g(!1),children:"Fermer"}),c.jsx("button",{type:"submit",children:"Mettre  jour"})]})]})]})})})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-avatar",onClick:()=>o(!s),children:c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),c.jsx("path",{d:"M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),c.jsx(Ti,{children:s&&c.jsx(ze.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:c.jsxs("div",{className:"dropdown-actions",children:[c.jsx("button",{onClick:()=>{o(!1),l(!0),z("")},children:"Se connecter"}),c.jsx("button",{onClick:()=>{o(!1),f(!0),z("")},children:"Crer un compte"})]})})}),c.jsxs(Ti,{children:[a&&c.jsx(ze.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>l(!1),children:c.jsxs(ze.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:me=>me.stopPropagation(),children:[c.jsx("h3",{children:"Connexion"}),c.jsxs("form",{onSubmit:Ee,children:[c.jsx(Ma,{value:m,onChange:me=>N(me.target.value),placeholder:"Email",required:!0,disabled:F,user:null,onEmailSubmit:()=>{}}),c.jsx("input",{type:"password",placeholder:"Mot de passe",value:S,onChange:me=>A(me.target.value),required:!0,disabled:F}),B&&c.jsx("div",{className:"error-message",children:B}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{l(!1),f(!0),z("")},disabled:F,children:"Crer un compte"}),c.jsx("button",{type:"submit",disabled:F,children:F?"Connexion...":"Se connecter"})]}),c.jsx("button",{type:"button",className:"forgot-password-link",onClick:()=>{l(!1),L(!0),z("")},disabled:F,children:"Mot de passe oubli ?"})]})]})}),d&&c.jsx(ze.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>f(!1),children:c.jsxs(ze.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:me=>me.stopPropagation(),children:[c.jsx("h3",{children:"Crer un compte"}),c.jsxs("form",{onSubmit:Ce,children:[c.jsx("input",{type:"text",placeholder:"Prnom",value:x,onChange:me=>w(me.target.value),required:!0,disabled:F}),c.jsx("input",{type:"text",placeholder:"Nom",value:j,onChange:me=>R(me.target.value),required:!0,disabled:F}),c.jsx(Ma,{value:m,onChange:me=>N(me.target.value),placeholder:"Email",required:!0,disabled:F,user:null,onEmailSubmit:()=>{}}),c.jsx("input",{type:"password",placeholder:"Mot de passe (min 6 caractres)",value:S,onChange:me=>A(me.target.value),required:!0,minLength:6,disabled:F}),B&&c.jsx("div",{className:"error-message",children:B}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{f(!1),l(!0),z("")},disabled:F,children:"Dj un compte ?"}),c.jsx("button",{type:"submit",disabled:F,children:F?"Cration...":"Crer le compte"})]})]})]})}),xe&&c.jsx(ze.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>L(!1),children:c.jsxs(ze.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:me=>me.stopPropagation(),children:[c.jsx("h3",{children:"Rinitialiser le mot de passe"}),J?c.jsxs("div",{className:"success-message",children:[c.jsxs("p",{children:["Un email de rinitialisation a t envoy  ",q]}),c.jsx("button",{onClick:()=>{L(!1),l(!0),re(!1),U("")},children:"Retour  la connexion"})]}):c.jsxs("form",{onSubmit:Te,children:[c.jsx(Ma,{value:q,onChange:me=>U(me.target.value),placeholder:"Votre email",required:!0,user:null,onEmailSubmit:()=>{}}),B&&c.jsx("div",{className:"error-message",children:B}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{L(!1),l(!0),z("")},children:"Retour  la connexion"}),c.jsx("button",{type:"submit",children:"Envoyer le lien"})]})]})]})})]})]})})},BP=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i})=>c.jsxs("header",{className:"header",children:[c.jsxs("div",{className:"header-content",children:[c.jsx(ze.div,{className:"logo",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:c.jsx("h1",{children:"HERBBIE"})}),c.jsx(ze.h2,{className:"tagline",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:"Offrez  vos enfants des crations ludiques et imaginatives personnalises !"})]}),c.jsx("div",{className:"user-account-container",children:c.jsx(OP,{isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i})})]});const zP="/api/features";let kh=null,X0=0;const qP=3e3,UP={animation:{enabled:!0,name:"Dessin anim",icon:"",description:"Gnration de dessins anims personnaliss avec IA"},comic:{enabled:!0,name:"Bande dessine",icon:"",description:"Cration de bandes dessines avec bulles de dialogue"},coloring:{enabled:!0,name:"Coloriage",icon:"",description:"Pages de coloriage  imprimer pour les enfants"},audio:{enabled:!0,name:"Histoire",icon:"",description:"Histoires audio avec narration automatique"},rhyme:{enabled:!0,name:"Comptine",icon:"",description:"Comptines musicales avec paroles et mlodies"}},U3=async()=>{try{const e=await fetch(zP,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();return kh=t,X0=Date.now(),t}else throw console.error("Erreur API lors du chargement des fonctionnalits:",e.status),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors du chargement depuis l'API:",e),e}},VP=async()=>{try{const e=Date.now();return kh&&e-X0<qP?kh:await U3()}catch(e){return console.error("Erreur lors de la rcupration des fonctionnalits:",e),UP}},$P=async()=>{try{const e=await VP();return Object.entries(e).filter(([t,n])=>n.enabled).reduce((t,[n,r])=>(t[n]=r,t),{})}catch(e){return console.warn("Erreur lors de la rcupration des fonctionnalits actives:",e),{}}},HP=()=>{kh=null,X0=0},WP=e=>{let t=null;const n=async()=>{try{HP();const i=await U3();JSON.stringify(i)!==JSON.stringify(t)&&e&&typeof e=="function"&&(t=i,e(i))}catch(i){console.error("Erreur lors de la vrification des changements:",i)}},r=setInterval(n,5e3);return n(),()=>{clearInterval(r)}},GP=({contentType:e,setContentType:t})=>{const[n,r]=O.useState({}),[i,s]=O.useState(!0);O.useEffect(()=>(o(),WP(async f=>{const p=Object.entries(f).filter(([g,m])=>m.enabled).reduce((g,[m,N])=>(g[m]=N,g),{});if(r(p),!p[e]){const g=Object.keys(p).find(m=>p[m].enabled);g&&t(g)}})),[e,t]);const o=async()=>{try{s(!0);const d=await $P();r(d)}catch(d){console.error("Erreur lors du chargement des fonctionnalits:",d)}finally{s(!1)}},a=d=>{t(d)},l=Object.keys(n).length>0;return i?c.jsxs("div",{className:"content-type-selector",children:[c.jsx("h3",{children:"1. Choisissez le type de contenu"}),c.jsx("div",{className:"loading-message",children:c.jsx("p",{children:"Chargement des fonctionnalits..."})})]}):c.jsxs("div",{className:"content-type-selector",children:[c.jsx("h3",{children:"1. Choisissez le type de contenu"}),l?c.jsxs("div",{className:"content-type-options",children:[n.animation&&c.jsxs(ze.div,{className:`content-type-option ${e==="animation"?"selected":""}`,onClick:()=>a("animation"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Dessin anim"}),c.jsx("p",{children:"Crez un vritable dessin anim fluide et cohrent avec l'IA"})]})]}),n.comic&&c.jsxs(ze.div,{className:`content-type-option ${e==="comic"?"selected":""}`,onClick:()=>a("comic"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Bande dessine"}),c.jsx("p",{children:"Crez une vraie BD avec histoire cohrente et bulles de dialogue"})]})]}),n.coloring&&c.jsxs(ze.div,{className:`content-type-option ${e==="coloring"?"selected":""}`,onClick:()=>a("coloring"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Coloriage"}),c.jsx("p",{children:"Crez des dessins  colorier personnaliss en noir et blanc"})]})]}),n.audio&&c.jsxs(ze.div,{className:`content-type-option ${e==="audio"?"selected":""}`,onClick:()=>a("audio"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Histoire"}),c.jsx("p",{children:"Crez une histoire audio avec narration et effets sonores"})]})]}),n.rhyme&&c.jsxs(ze.div,{className:`content-type-option ${e==="rhyme"?"selected":""}`,onClick:()=>a("rhyme"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Comptine"}),c.jsx("p",{children:"Crez une comptine musicale avec paroles et mlodie"})]})]})]}):c.jsx("div",{className:"no-features-message",children:c.jsx("p",{children:"Aucune fonctionnalit n'est actuellement disponible."})})]})};const KP=[{id:"lullaby",title:"Berceuse douce",description:"Mlodie apaisante pour s'endormir",emoji:"",musicStyle:"gentle lullaby"},{id:"animal",title:"Comptine animalire",description:"Animaux et leurs sons en musique",emoji:"",musicStyle:"playful with animal sounds"},{id:"counting",title:"Comptine  compter",description:"Apprendre les chiffres en chanson",emoji:"",musicStyle:"upbeat educational"},{id:"colors",title:"Comptine des couleurs",description:"Dcouvrir les couleurs en musique",emoji:"",musicStyle:"cheerful and colorful"},{id:"alphabet",title:"Comptine de l'alphabet",description:"Apprendre les lettres en chantant",emoji:"",musicStyle:"educational and catchy"},{id:"family",title:"Comptine familiale",description:"Chanson sur la famille et l'amour",emoji:"",musicStyle:"warm and loving"},{id:"nature",title:"Comptine de la nature",description:"Explorer plantes, arbres et fleurs",emoji:"",musicStyle:"peaceful and natural"},{id:"seasonal",title:"Comptine saisonnire",description:"Clbrer saisons et merveilles",emoji:"",musicStyle:"festive and warm"},{id:"movement",title:"Comptine de mouvement",description:"Bouger, sauter et danser",emoji:"",musicStyle:"energetic dance rhythm"},{id:"emotions",title:"Comptine des motions",description:"Comprendre et exprimer sentiments",emoji:"",musicStyle:"expressive and gentle"}],YP=({selectedRhyme:e,setSelectedRhyme:t,customRhyme:n,setCustomRhyme:r})=>{const i=s=>{t(e===s?"":s)};return c.jsxs("div",{className:"musical-rhyme-selector",children:[c.jsx("h3",{children:"2. Choisissez un type de comptine"}),c.jsxs("div",{className:"rhyme-grid",children:[c.jsxs("div",{className:"rhyme-slot",children:[c.jsxs(ze.div,{className:`rhyme-card custom-rhyme ${e==="custom"?"selected":""}`,onClick:()=>i("custom"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"rhyme-emoji",children:""}),c.jsx("h4",{children:"Comptine personnalise"}),c.jsx("p",{children:"Comptine avec prnom ou thme perso"})]}),e==="custom"&&c.jsx(ze.div,{className:"custom-rhyme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{id:"customRhyme",value:n,onChange:s=>r(s.target.value),placeholder:"Dcrivez votre type de comptine personnalise...",className:"custom-textarea"})})]}),KP.map(s=>c.jsx("div",{className:"rhyme-slot",children:c.jsxs(ze.div,{className:`rhyme-card ${e===s.id?"selected":""}`,onClick:()=>i(s.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"rhyme-emoji",children:s.emoji}),c.jsx("h4",{children:s.title}),c.jsx("p",{children:s.description})]})},s.id))]})]})};const JP=[{id:"magic",title:"Monde magique",description:"Une histoire pleine de magie avec des fes et des sorciers bienveillants",emoji:""},{id:"dinosaurs",title:"Temps des dinosaures",description:"Un voyage dans le pass  la rencontre de dinosaures gentils",emoji:""},{id:"space",title:"Voyage spatial",description:"Une aventure dans l'espace avec des plantes et des aliens sympathiques",emoji:""},{id:"adventure",title:"Aventure fantastique",description:"Une aventure pleine de rebondissements et de magie",emoji:""},{id:"animals",title:"Amis animaux",description:"Une histoire avec des animaux qui parlent et vivent des aventures",emoji:""},{id:"underwater",title:"Monde sous-marin",description:"Une exploration des ocans avec des cratures marines extraordinaires",emoji:""},{id:"forest",title:"Fort enchante",description:"Une promenade dans une fort mystrieuse pleine de surprises",emoji:""},{id:"funny",title:"Histoire drle",description:"Un conte amusant qui fera rire votre enfant",emoji:""},{id:"mystery",title:"Petit mystre",description:"Une nigme adapte aux enfants  rsoudre",emoji:""},{id:"friendship",title:"Belle amiti",description:"Une histoire touchante sur l'amiti et l'entraide",emoji:""},{id:"learning",title:"Conte ducatif",description:"Une histoire qui enseigne une leon importante",emoji:""},{id:"bedtime",title:"Histoire du soir",description:"Un conte apaisant pour aider votre enfant  s'endormir",emoji:""}],XP=[{id:"female",name:"Voix fminine"},{id:"male",name:"Voix masculine"}],QP=({selectedAudioStory:e,setSelectedAudioStory:t,customAudioStory:n,setCustomAudioStory:r,selectedVoice:i,setSelectedVoice:s})=>{const[o,a]=O.useState(!1),l=g=>{e===g?(t(""),a(!1)):(t(g),g!=="custom"&&a(!1))},d=()=>{e==="custom"?(t(""),a(!1)):(t("custom"),a(!0))},f=g=>{r(g.target.value)},p=g=>{s(i===g?null:g)};return c.jsxs("div",{className:"audio-story-selector",children:[c.jsx("h3",{children:"2. Choisissez un type d'histoire"}),c.jsxs("div",{className:"audio-story-grid",children:[c.jsxs(ze.div,{className:`audio-story-card custom-audio-story ${e==="custom"?"selected":""}`,onClick:d,whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"audio-story-emoji",children:""}),c.jsx("h4",{children:"Histoire personnalise"}),c.jsx("p",{children:"Crez votre propre type d'histoire unique"})]}),JP.map(g=>c.jsxs(ze.div,{className:`audio-story-card ${e===g.id?"selected":""}`,onClick:()=>l(g.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"audio-story-emoji",children:g.emoji}),c.jsx("h4",{children:g.title}),c.jsx("p",{children:g.description})]},g.id))]}),o&&c.jsxs(ze.div,{className:"custom-audio-story-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[c.jsx("label",{htmlFor:"customAudioStory",children:"Dcrivez votre type d'histoire"}),c.jsx(ze.textarea,{id:"customAudioStory",value:n,onChange:f,placeholder:"Ex: Un conte qui se droule dans un monde sous-marin avec des cratures magiques...",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]}),c.jsxs("div",{className:"voice-selector-section",children:[c.jsx("h3",{children:"3. Choisissez une narration (optionnel)"}),c.jsx("div",{className:"voice-options",children:XP.map(g=>c.jsxs(ze.div,{className:`voice-option ${i===g.id?"selected":""}`,onClick:()=>p(g.id),whileHover:{scale:1.03},whileTap:{scale:.98},children:[c.jsx("div",{className:"voice-icon",children:g.id==="female"?"":""}),c.jsx("div",{className:"voice-details",children:c.jsx("h4",{children:g.name})})]},g.id))})]})]})},Bn={}.VITE_API_BASE_URL||"",vi={}.VITE_ANIMATION_API_BASE_URL||"https://da-production-6222.up.railway.app",ZP={generateRhyme:`${Bn}/generate_rhyme/`,generateAudioStory:`${Bn}/generate_audio_story/`,generateColoring:`${Bn}/generate_coloring/`,generateComic:`${Bn}/generate_comic/`,generateAnimation:`${vi}/generate`,animationStatus:e=>`${vi}/status/${e}`,animationThemes:`${vi}/themes`,animationDiagnostic:`${vi}/diagnostic`,checkTaskStatus:e=>`${Bn}/check_task_status/${e}`,downloadAudio:(e,t)=>`${Bn}/download_audio/${e}.mp3?url=${encodeURIComponent(t)}`};const e8=({selectedTheme:e,setSelectedTheme:t,selectedDuration:n,setSelectedDuration:r,selectedStyle:i,setSelectedStyle:s,customStory:o,setCustomStory:a})=>{const[l,d]=O.useState([]),[f,p]=O.useState([]),[g,m]=O.useState(!0);O.useEffect(()=>{(async()=>{try{m(!0);const R=await(await fetch(ZP.animationThemes)).json();if(R.themes){const B=Object.entries(R.themes).map(([z,F])=>({id:z,name:F.name,description:F.description,emoji:F.icon}));d([{id:"custom",name:"Dessin anim personnalis",description:"crivez votre propre histoire",emoji:""},...B])}if(R.durations){const B=R.durations.map(z=>({value:z,label:z>=60?`${z/60} minute${z>60?"s":""}`:`${z} secondes`}));p(B)}}catch(j){console.error("Erreur lors du chargement des thmes:",j),d([{id:"custom",name:"Dessin anim personnalis",description:"crivez votre propre histoire",emoji:""},{id:"space",name:"Espace",description:"Voyages spatiaux",emoji:""},{id:"nature",name:"Nature",description:"Monde naturel",emoji:""},{id:"adventure",name:"Aventure",description:"Voyages et explorations",emoji:""},{id:"animals",name:"Animaux",description:"Histoires d'animaux mignons",emoji:""},{id:"magic",name:"Magie",description:"Monde magique et sortilges",emoji:""},{id:"friendship",name:"Amiti",description:"Histoires d'amiti",emoji:""}]),p([{value:30,label:"30 secondes"},{value:60,label:"1 minute"},{value:120,label:"2 minutes"},{value:180,label:"3 minutes"},{value:240,label:"4 minutes"},{value:300,label:"5 minutes"}])}finally{m(!1)}f.length===0&&p([{value:30,label:"30 secondes"},{value:60,label:"1 minute"},{value:120,label:"2 minutes"},{value:180,label:"3 minutes"},{value:240,label:"4 minutes"},{value:300,label:"5 minutes"}])})()},[]);const N=[{id:"cartoon",name:"Cartoon",description:"Style dessin anim color",emoji:""},{id:"anime",name:"Anime",description:"Style manga japonais",emoji:"",useImage:!0,imagePath:"/assets/japan-flag.png"},{id:"realistic",name:"Raliste",description:"Style cinmatographique",emoji:""},{id:"pastel",name:"Pastel",description:"Couleurs douces et tendres",emoji:""}],S=w=>{t(e===w?null:w)},A=w=>{r(n===w?null:w)},x=w=>{s(i===w?null:w)};return g?c.jsx("div",{className:"animation-selector loading",children:c.jsxs("div",{className:"loading-message",children:[c.jsx("div",{className:"spinner",children:""}),c.jsx("p",{children:"Chargement des thmes d'animation..."})]})}):c.jsxs("div",{className:"animation-selector",children:[c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"2. Choisissez un thme pour votre dessin anim"}),c.jsx("div",{className:"themes-grid",children:l.map(w=>c.jsxs(ze.div,{className:`theme-card ${e===w.id?"selected":""} ${w.id==="custom"?"custom-animation":""}`,onClick:()=>S(w.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx("div",{className:"theme-emoji",children:w.emoji}),c.jsxs("div",{className:"theme-content",children:[c.jsx("h5",{children:w.name}),c.jsx("p",{children:w.description})]})]},w.id))}),e==="custom"&&c.jsxs(ze.div,{className:"custom-story-section",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[c.jsx("h4",{children:"crivez votre histoire"}),c.jsx("textarea",{className:"custom-story-textarea",value:o,onChange:w=>a(w.target.value),placeholder:"Il tait une fois... Racontez votre histoire ici. Plus elle est dtaille, plus l'animation sera riche et personnalise !",rows:4}),c.jsxs("div",{className:"character-count",children:[o.length,"/500 caractres"]})]})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"3. Choisissez la dure de l'animation"}),c.jsx("div",{className:"duration-options",children:f.map(w=>c.jsx(ze.div,{className:`duration-option ${n===w.value?"selected":""}`,onClick:()=>A(w.value),whileHover:{scale:1.02},whileTap:{scale:.98},children:c.jsx("div",{className:"duration-label",children:w.label})},w.value))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"4. Choisissez un style visuel"}),c.jsx("div",{className:"style-options",children:N.map(w=>c.jsxs(ze.div,{className:`style-option ${i===w.id?"selected":""}`,onClick:()=>x(w.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"style-emoji",children:[w.useImage?c.jsx("img",{src:w.imagePath,alt:w.name,className:"style-flag-image",onError:j=>{j.target.style.display="none",j.target.nextSibling.style.display="block"}}):null,c.jsx("span",{style:{display:w.useImage?"none":"block"},children:w.emoji})]}),c.jsxs("div",{className:"style-content",children:[c.jsx("h5",{children:w.name}),c.jsx("p",{children:w.description})]})]},w.id))})]})]})};const t8=({animationResult:e,onClose:t})=>{var j,R,B,z;const[n,r]=O.useState("video"),[i,s]=O.useState(null);if(!e)return null;const{status:o,clips:a=[],scenes:l=[],generation_time:d,total_duration:f,successful_clips:p=0,fallback_clips:g=0,pipeline_type:m}=e,N=a.some(F=>F.status==="success")||o==="completed"&&(e.final_video_url||((j=e.result)==null?void 0:j.final_video_url)),S=l||e.scenes_details||[],A=F=>{if(!F||isNaN(F))return"---";const D=Math.floor(F/60),W=F%60;return D>0?`${D}m ${W}s`:`${W}s`},x=F=>{switch(F){case"success":return"#4CAF50";case"fallback":return"#FF9800";case"error":return"#F44336";default:return"#9E9E9E"}},w=F=>{switch(F){case"success":return"";case"fallback":return"";case"error":return"";default:return""}};return c.jsx(ze.div,{className:"animation-viewer-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(ze.div,{className:"animation-viewer",initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},onClick:F=>F.stopPropagation(),transition:{type:"spring",damping:20,stiffness:300},children:[c.jsxs("div",{className:"viewer-header",children:[c.jsx("h2",{children:" Votre dessin anim IA"}),o&&c.jsxs("div",{className:"status-badge",style:{backgroundColor:x(o)},children:[w(o)," ",o==="generating_idea"?"Cration de l'ide...":o==="creating_scenes"?"Cration des scnes...":o==="generating_clips"?"Gnration vido...":o==="completed"?"Termin !":o==="failed"?"chou":o]}),c.jsx("button",{className:"close-button",onClick:t,children:""})]}),c.jsxs("div",{className:"animation-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:["Dure: ",A(f||e.duration)]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[a.length," scnes"]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[p," russies"]})]}),g>0&&c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[g," fallback"]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:["Gnr en ",d?Math.round(d)+"s":"En cours..."]})]})]}),c.jsxs("div",{className:"viewer-tabs",children:[c.jsx("button",{className:`tab ${n==="video"?"active":""}`,onClick:()=>r("video"),children:" Vido"}),c.jsx("button",{className:`tab ${n==="scenes"?"active":""}`,onClick:()=>r("scenes"),children:" Scnes"}),c.jsx("button",{className:`tab ${n==="details"?"active":""}`,onClick:()=>r("details"),children:" Dtails"})]}),c.jsx("div",{className:"viewer-content",children:c.jsxs(Ti,{mode:"wait",children:[n==="video"&&c.jsx(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"video-tab",children:N?c.jsx("div",{className:"video-player",children:e.final_video_url||(R=e.result)!=null&&R.final_video_url?c.jsxs("div",{className:"final-animation",children:[c.jsx("div",{className:"video-icon",children:""}),c.jsxs("h3",{children:[" ",e.title||"Votre dessin anim est prt !"]}),c.jsxs("p",{children:["Animation complte de ",A(f||e.duration)," avec ",p||a.length," scnes."]}),c.jsx("div",{className:"main-video-container",children:c.jsx("video",{src:e.final_video_url||((B=e.result)==null?void 0:B.final_video_url),className:"final-animation-video",controls:!0,autoPlay:!0,loop:!0,muted:!0,preload:"metadata",style:{width:"100%",maxWidth:"600px",height:"auto",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.2)",margin:"1rem 0"},onLoadedData:()=>{},onError:F=>{F.target.style.display="none"}})}),c.jsx("div",{className:"video-controls",children:c.jsx("button",{className:"play-btn",onClick:()=>{var F;return window.open(e.final_video_url||((F=e.result)==null?void 0:F.final_video_url),"_blank")},style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"},children:" Ouvrir en plein cran"})})]}):c.jsxs("div",{className:"animation-gallery",children:[c.jsx("div",{className:"video-icon",children:""}),c.jsx("h3",{children:" Votre dessin anim est prt !"}),c.jsxs("p",{children:["Animation de ",A(f)," gnre avec succs.",p>0&&` ${p} scnes cres avec l'IA.`]}),c.jsxs("div",{className:"scenes-gallery",children:[c.jsx("h4",{children:" Votre dessin anim en images :"}),c.jsx("div",{className:"gallery-grid",children:a.map((F,D)=>{let W=null,ee=!1;return F.video_url&&F.type==="real_video"?(W=/^https?:\/\//i.test(F.video_url)?F.video_url:`${vi}${F.video_url}`,ee=!0):F.demo_image_url?W=/^https?:\/\//i.test(F.demo_image_url)?F.demo_image_url:`${vi}${F.demo_image_url}`:F.image_url?W=/^https?:\/\//i.test(F.image_url)?F.image_url:`${vi}${F.image_url}`:F.video_url&&(W=/^https?:\/\//i.test(F.video_url)?F.video_url:`${vi}${F.video_url}`),c.jsxs("div",{className:"scene-media-card",children:[ee?c.jsx("video",{src:W,className:"scene-video",controls:!0,loop:!0,muted:!0,preload:"metadata",onLoadedData:()=>{},onError:T=>{T.target.style.display="none",T.target.nextSibling.style.display="flex"}}):c.jsx("img",{src:W,alt:`Scne ${F.scene_number}`,className:"scene-image",onLoad:()=>{},onError:T=>{T.target.style.display="none",T.target.nextSibling.style.display="flex"}}),c.jsxs("div",{className:"scene-placeholder",style:{display:"none"},children:[c.jsx("span",{children:""}),c.jsxs("p",{children:["Scne ",F.scene_number]}),c.jsx("small",{children:F.type||"En cours..."})]}),c.jsxs("div",{className:"scene-info",children:[c.jsxs("span",{children:["Scne ",F.scene_number]}),c.jsx("span",{children:A(F.duration)}),F.type==="real_video"&&c.jsx("span",{className:"clip-type real",children:" Vido"}),F.type==="demo"&&c.jsx("span",{className:"clip-type demo",children:" Dmo"}),F.status==="success"&&c.jsx("span",{className:"clip-status success",children:""}),F.status==="fallback"&&c.jsx("span",{className:"clip-status fallback",children:""})]})]},D)})}),c.jsx("div",{className:"gallery-summary",children:c.jsxs("p",{children:[c.jsx("strong",{children:" Votre animation complte :"}),a.length," scnes illustres reprsentant votre histoire. Chaque image correspond  un moment cl de votre rcit gnr par l'IA."]})})]}),a.filter(F=>F.status==="success").length>0&&c.jsxs("div",{className:"video-clips-list",children:[c.jsx("h4",{children:" Toutes les scnes gnres :"}),a.filter(F=>F.status==="success").map((F,D)=>c.jsxs("div",{className:"clip-item",children:[c.jsxs("span",{children:[" Scne ",F.scene_number]}),c.jsx("span",{children:A(F.duration)}),F.type==="image"&&c.jsx("span",{className:"clip-type",children:" Image"})]},D))]}),c.jsxs("div",{className:"video-actions",children:[c.jsx("button",{className:"download-btn",children:" Tlcharger"}),c.jsx("button",{className:"share-btn",children:" Partager"})]})]})}):c.jsxs("div",{className:"no-video",children:[c.jsx("div",{className:"no-video-icon",children:o==="completed"?"":""}),c.jsx("h3",{children:o==="completed"?"Animation termine !":"Gnration en cours..."}),c.jsx("p",{children:o==="completed"?"Votre animation a t gnre avec succs ! Thme: "+(e.theme||"N/A"):"La gnration vido peut prendre quelques minutes. Certaines scnes utilisent des modes de fallback."}),o==="completed"&&(e.final_video_url||((z=e.result)==null?void 0:z.final_video_url))&&c.jsx("div",{className:"video-controls",children:c.jsx("button",{className:"play-btn",onClick:()=>{var F;return window.open(e.final_video_url||((F=e.result)==null?void 0:F.final_video_url),"_blank")},children:" Voir l'animation"})})]})},"video"),n==="scenes"&&c.jsx(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"scenes-tab",children:c.jsx("div",{className:"scenes-list",children:S.map((F,D)=>{const W=a.find(ee=>ee.scene_number===F.scene_number);return c.jsxs(ze.div,{className:`scene-card ${i===D?"selected":""}`,onClick:()=>s(i===D?null:D),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"scene-header",children:[c.jsxs("span",{className:"scene-number",children:["Scne ",F.scene_number]}),c.jsxs("div",{className:"scene-status",children:[c.jsx("span",{className:"status-icon",style:{color:x((W==null?void 0:W.status)||"pending")},children:w((W==null?void 0:W.status)||"pending")}),c.jsx("span",{className:"status-text",children:(W==null?void 0:W.status)||"pending"})]})]}),c.jsx("h4",{children:F.description}),c.jsxs("p",{children:[c.jsx("strong",{children:"Action:"})," ",F.action]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Dcor:"})," ",F.setting]}),c.jsxs("div",{className:"scene-duration",children:["Dure: ",A(F.duration)]}),i===D&&W&&c.jsx(ze.div,{className:"scene-details",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:W.video_url&&c.jsx("div",{className:"clip-preview",children:c.jsxs("span",{children:[" Fichier: ",W.video_url]})})})]},F.scene_number)})})},"scenes"),n==="details"&&c.jsx(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"details-tab",children:c.jsxs("div",{className:"technical-details",children:[c.jsx("h4",{children:" Dtails techniques"}),c.jsxs("div",{className:"detail-grid",children:[c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Pipeline:"}),c.jsx("span",{children:m||"custom_animation_ai"})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Statut:"}),c.jsx("span",{className:`status ${o}`,children:o})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Temps de gnration:"}),c.jsxs("span",{children:[Math.round(d),"s"]})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Scnes totales:"}),c.jsx("span",{children:a.length})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Scnes russies:"}),c.jsx("span",{children:p})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Dure totale:"}),c.jsx("span",{children:A(f)})]})]}),e.note&&c.jsxs("div",{className:"generation-note",children:[c.jsx("h5",{children:" Note de gnration"}),c.jsx("p",{children:e.note})]})]})},"details")]})})]})})};const n8=({customRequest:e,setCustomRequest:t})=>c.jsxs("div",{className:"custom-request",children:[c.jsx("h3",{children:"Demandes spcifiques (optionnel)"}),c.jsx("div",{className:"request-form",children:c.jsxs("div",{className:"input-group",children:[c.jsx("label",{htmlFor:"customRequest",children:"Avez-vous des demandes particulires ?"}),c.jsx(ze.textarea,{id:"customRequest",value:e,onChange:n=>t(n.target.value),placeholder:"Ex: En anglais, avec un chien bleu, inclure un message sur l'amiti...",rows:3,whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})})]});const r8=({onGenerate:e,isGenerating:t,isDisabled:n,contentType:r,buttonText:i})=>{const s=()=>t?r==="story"?"Cration de la BD en cours...":r==="rhyme"?"Cration de la comptine en cours...":r==="coloring"?"Cration du coloriage en cours...":r==="comic"?"Cration de la BD en cours...":r==="animation"?"Cration du dessin anim en cours...":"Cration du contenu en cours...":i||(r==="story"?"Crer ma bande dessine":r==="rhyme"?"Crer ma comptine":r==="coloring"?"Crer mon coloriage":r==="comic"?"Crer ma bande dessine":r==="animation"?"Crer mon dessin anim":r==="audio"?"Crer mon histoire":"Crer mon contenu");return c.jsxs("div",{className:"generate-button-container",children:[c.jsxs(ze.button,{className:"generate-button",onClick:e,disabled:n||t,whileHover:!n&&!t?{scale:1.03}:{},whileTap:!n&&!t?{scale:.98}:{},initial:{opacity:.9},animate:{opacity:n?.6:1,y:[0,t?-5:0,0]},transition:{duration:t?.5:.2,repeat:t?1/0:0},children:[t&&c.jsxs("div",{className:"button-loading-dots",children:[c.jsx("div",{className:"button-dot"}),c.jsx("div",{className:"button-dot"}),c.jsx("div",{className:"button-dot"})]}),c.jsx("span",{children:s()})]}),n&&!t&&c.jsx("p",{className:"generate-button-hint",children:r==="story"?"Veuillez remplir tous les champs requis pour crer votre BD":r==="rhyme"?"Veuillez slectionner un type de comptine pour continuer":r==="coloring"?"Veuillez slectionner un thme de coloriage pour continuer":r==="comic"?"Veuillez slectionner un thme, style et longueur pour votre BD":r==="animation"?"Veuillez slectionner un thme et configurer votre animation":"Veuillez slectionner un type d'histoire (et une voix) pour continuer"})]})};function Et(e){"@babel/helpers - typeof";return Et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(e)}var Zn=Uint8Array,Ir=Uint16Array,Q0=Int32Array,nf=new Zn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rf=new Zn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),r1=new Zn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),V3=function(e,t){for(var n=new Ir(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new Q0(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},$3=V3(nf,2),H3=$3.b,i1=$3.r;H3[28]=258,i1[258]=28;var W3=V3(rf,0),i8=W3.b,l5=W3.r,s1=new Ir(32768);for(var Wt=0;Wt<32768;++Wt){var Es=(Wt&43690)>>1|(Wt&21845)<<1;Es=(Es&52428)>>2|(Es&13107)<<2,Es=(Es&61680)>>4|(Es&3855)<<4,s1[Wt]=((Es&65280)>>8|(Es&255)<<8)>>1}var Oi=function(e,t,n){for(var r=e.length,i=0,s=new Ir(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Ir(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Ir(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],f=t-e[i],p=o[e[i]-1]++<<f,g=p|(1<<f)-1;p<=g;++p)a[s1[p]>>l]=d}else for(a=new Ir(r),i=0;i<r;++i)e[i]&&(a[i]=s1[o[e[i]-1]++]>>15-e[i]);return a},Qs=new Zn(288);for(var Wt=0;Wt<144;++Wt)Qs[Wt]=8;for(var Wt=144;Wt<256;++Wt)Qs[Wt]=9;for(var Wt=256;Wt<280;++Wt)Qs[Wt]=7;for(var Wt=280;Wt<288;++Wt)Qs[Wt]=8;var Yu=new Zn(32);for(var Wt=0;Wt<32;++Wt)Yu[Wt]=5;var s8=Oi(Qs,9,0),o8=Oi(Qs,9,1),a8=Oi(Yu,5,0),l8=Oi(Yu,5,1),Dp=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ci=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Mp=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Z0=function(e){return(e+7)/8|0},G3=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new Zn(e.subarray(t,n))},u8=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],pi=function(e,t,n){var r=new Error(t||u8[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,pi),!n)throw r;return r},c8=function(e,t,n,r){var i=e.length,s=r?r.length:0;if(!i||t.f&&!t.l)return n||new Zn(0);var o=!n,a=o||t.i!=2,l=t.i;o&&(n=new Zn(i*3));var d=function(Ce){var Re=n.length;if(Ce>Re){var Te=new Zn(Math.max(Re*2,Ce));Te.set(n),n=Te}},f=t.f||0,p=t.p||0,g=t.b||0,m=t.l,N=t.d,S=t.m,A=t.n,x=i*8;do{if(!m){f=ci(e,p,1);var w=ci(e,p+1,3);if(p+=3,w)if(w==1)m=o8,N=l8,S=9,A=5;else if(w==2){var z=ci(e,p,31)+257,F=ci(e,p+10,15)+4,D=z+ci(e,p+5,31)+1;p+=14;for(var W=new Zn(D),ee=new Zn(19),T=0;T<F;++T)ee[r1[T]]=ci(e,p+T*3,7);p+=F*3;for(var E=Dp(ee),G=(1<<E)-1,V=Oi(ee,E,1),T=0;T<D;){var ae=V[ci(e,p,G)];p+=ae&15;var j=ae>>4;if(j<16)W[T++]=j;else{var ie=0,oe=0;for(j==16?(oe=3+ci(e,p,3),p+=2,ie=W[T-1]):j==17?(oe=3+ci(e,p,7),p+=3):j==18&&(oe=11+ci(e,p,127),p+=7);oe--;)W[T++]=ie}}var H=W.subarray(0,z),ne=W.subarray(z);S=Dp(H),A=Dp(ne),m=Oi(H,S,1),N=Oi(ne,A,1)}else pi(1);else{var j=Z0(p)+4,R=e[j-4]|e[j-3]<<8,B=j+R;if(B>i){l&&pi(0);break}a&&d(g+R),n.set(e.subarray(j,B),g),t.b=g+=R,t.p=p=B*8,t.f=f;continue}if(p>x){l&&pi(0);break}}a&&d(g+131072);for(var te=(1<<S)-1,xe=(1<<A)-1,L=p;;L=p){var ie=m[Mp(e,p)&te],q=ie>>4;if(p+=ie&15,p>x){l&&pi(0);break}if(ie||pi(2),q<256)n[g++]=q;else if(q==256){L=p,m=null;break}else{var U=q-254;if(q>264){var T=q-257,J=nf[T];U=ci(e,p,(1<<J)-1)+H3[T],p+=J}var re=N[Mp(e,p)&xe],ce=re>>4;re||pi(3),p+=re&15;var ne=i8[ce];if(ce>3){var J=rf[ce];ne+=Mp(e,p)&(1<<J)-1,p+=J}if(p>x){l&&pi(0);break}a&&d(g+131072);var fe=g+U;if(g<ne){var pe=s-ne,Ee=Math.min(ne,fe);for(pe+g<0&&pi(3);g<Ee;++g)n[g]=r[pe+g]}for(;g<fe;++g)n[g]=n[g-ne]}}t.l=m,t.p=L,t.b=g,t.f=f,m&&(f=1,t.m=S,t.d=N,t.n=A)}while(!f);return g!=n.length&&o?G3(n,0,g):n.subarray(0,g)},Qi=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Zl=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Op=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:Y3,l:0};if(i==1){var o=new Zn(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(B,z){return B.f-z.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],d=0,f=1,p=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=i-1;)a=n[n[d].f<n[p].f?d++:p++],l=n[d!=f&&n[d].f<n[p].f?d++:p++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new Ir(g+1),N=o1(n[f-1],m,0);if(N>t){var r=0,S=0,A=N-t,x=1<<A;for(s.sort(function(z,F){return m[F.s]-m[z.s]||z.f-F.f});r<i;++r){var w=s[r].s;if(m[w]>t)S+=x-(1<<N-m[w]),m[w]=t;else break}for(S>>=A;S>0;){var j=s[r].s;m[j]<t?S-=1<<t-m[j]++-1:++r}for(;r>=0&&S;--r){var R=s[r].s;m[R]==t&&(--m[R],++S)}N=t}return{t:new Zn(m),l:N}},o1=function(e,t,n){return e.s==-1?Math.max(o1(e.l,t,n+1),o1(e.r,t,n+1)):t[e.s]=n},u5=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ir(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},eu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},K3=function(e,t,n){var r=n.length,i=Z0(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},c5=function(e,t,n,r,i,s,o,a,l,d,f){Qi(t,f++,n),++i[256];for(var p=Op(i,15),g=p.t,m=p.l,N=Op(s,15),S=N.t,A=N.l,x=u5(g),w=x.c,j=x.n,R=u5(S),B=R.c,z=R.n,F=new Ir(19),D=0;D<w.length;++D)++F[w[D]&31];for(var D=0;D<B.length;++D)++F[B[D]&31];for(var W=Op(F,7),ee=W.t,T=W.l,E=19;E>4&&!ee[r1[E-1]];--E);var G=d+5<<3,V=eu(i,Qs)+eu(s,Yu)+o,ae=eu(i,g)+eu(s,S)+o+14+3*E+eu(F,ee)+2*F[16]+3*F[17]+7*F[18];if(l>=0&&G<=V&&G<=ae)return K3(t,f,e.subarray(l,l+d));var ie,oe,H,ne;if(Qi(t,f,1+(ae<V)),f+=2,ae<V){ie=Oi(g,m,0),oe=g,H=Oi(S,A,0),ne=S;var te=Oi(ee,T,0);Qi(t,f,j-257),Qi(t,f+5,z-1),Qi(t,f+10,E-4),f+=14;for(var D=0;D<E;++D)Qi(t,f+3*D,ee[r1[D]]);f+=3*E;for(var xe=[w,B],L=0;L<2;++L)for(var q=xe[L],D=0;D<q.length;++D){var U=q[D]&31;Qi(t,f,te[U]),f+=ee[U],U>15&&(Qi(t,f,q[D]>>5&127),f+=q[D]>>12)}}else ie=s8,oe=Qs,H=a8,ne=Yu;for(var D=0;D<a;++D){var J=r[D];if(J>255){var U=J>>18&31;Zl(t,f,ie[U+257]),f+=oe[U+257],U>7&&(Qi(t,f,J>>23&31),f+=nf[U]);var re=J&31;Zl(t,f,H[re]),f+=ne[re],re>3&&(Zl(t,f,J>>5&8191),f+=rf[re])}else Zl(t,f,ie[J]),f+=oe[J]}return Zl(t,f,ie[256]),f+oe[256]},d8=new Q0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Y3=new Zn(0),h8=function(e,t,n,r,i,s){var o=s.z||e.length,a=new Zn(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),d=s.l,f=(s.r||0)&7;if(t){f&&(l[0]=s.r>>3);for(var p=d8[t-1],g=p>>13,m=p&8191,N=(1<<n)-1,S=s.p||new Ir(32768),A=s.h||new Ir(N+1),x=Math.ceil(n/3),w=2*x,j=function(Ge){return(e[Ge]^e[Ge+1]<<x^e[Ge+2]<<w)&N},R=new Q0(25e3),B=new Ir(288),z=new Ir(32),F=0,D=0,W=s.i||0,ee=0,T=s.w||0,E=0;W+2<o;++W){var G=j(W),V=W&32767,ae=A[G];if(S[V]=ae,A[G]=V,T<=W){var ie=o-W;if((F>7e3||ee>24576)&&(ie>423||!d)){f=c5(e,l,0,R,B,z,D,ee,E,W-E,f),ee=F=D=0,E=W;for(var oe=0;oe<286;++oe)B[oe]=0;for(var oe=0;oe<30;++oe)z[oe]=0}var H=2,ne=0,te=m,xe=V-ae&32767;if(ie>2&&G==j(W-xe))for(var L=Math.min(g,ie)-1,q=Math.min(32767,W),U=Math.min(258,ie);xe<=q&&--te&&V!=ae;){if(e[W+H]==e[W+H-xe]){for(var J=0;J<U&&e[W+J]==e[W+J-xe];++J);if(J>H){if(H=J,ne=xe,J>L)break;for(var re=Math.min(xe,J-2),ce=0,oe=0;oe<re;++oe){var fe=W-xe+oe&32767,pe=S[fe],Ee=fe-pe&32767;Ee>ce&&(ce=Ee,ae=fe)}}}V=ae,ae=S[V],xe+=V-ae&32767}if(ne){R[ee++]=268435456|i1[H]<<18|l5[ne];var Ce=i1[H]&31,Re=l5[ne]&31;D+=nf[Ce]+rf[Re],++B[257+Ce],++z[Re],T=W+H,++F}else R[ee++]=e[W],++B[e[W]]}}for(W=Math.max(W,T);W<o;++W)R[ee++]=e[W],++B[e[W]];f=c5(e,l,d,R,B,z,D,ee,E,W-E,f),d||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=A,s.p=S,s.i=W,s.w=T)}else{for(var W=s.w||0;W<o+d;W+=65535){var Te=W+65535;Te>=o&&(l[f/8|0]=d,Te=o),f=K3(l,f+1,e.subarray(W,Te))}s.i=o}return G3(a,0,r+Z0(f)+i)},J3=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},f8=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Zn(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return h8(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},X3=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},p8=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=J3();i.p(t.dictionary),X3(e,2,i.d())}},m8=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&pi(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&pi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function a1(e,t){t||(t={});var n=J3();n.p(e);var r=f8(e,t,t.dictionary?6:2,4);return p8(r,t),X3(r,r.length-4,n.d()),r}function g8(e,t){return c8(e.subarray(m8(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var v8=typeof TextDecoder<"u"&&new TextDecoder,y8=0;try{v8.decode(Y3,{stream:!0}),y8=1}catch{}var tt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Bp(){tt.console&&typeof tt.console.log=="function"&&tt.console.log.apply(tt.console,arguments)}var Bt={log:Bp,warn:function(e){tt.console&&(typeof tt.console.warn=="function"?tt.console.warn.apply(tt.console,arguments):Bp.call(null,arguments))},error:function(e){tt.console&&(typeof tt.console.error=="function"?tt.console.error.apply(tt.console,arguments):Bp(e))}};function zp(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){So(r.response,t,n)},r.onerror=function(){Bt.error("could not download file")},r.send()}function d5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function wd(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Au,l1,So=tt.saveAs||((typeof window>"u"?"undefined":Et(window))!=="object"||window!==tt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=tt.URL||tt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?d5(i.href)?zp(e,t,n):wd(i,i.target="_blank"):wd(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){wd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(d5(e))zp(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){wd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Et(s)!=="object"&&(Bt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return zp(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(tt.HTMLElement)||tt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Et(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(e)}else{var l=tt.URL||tt.webkitURL,d=l.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){l.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Q3(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),d=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),"#"+a+l+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qp(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=Gn(n,r,i,s,t[0],7,-680876936),s=Gn(s,n,r,i,t[1],12,-389564586),i=Gn(i,s,n,r,t[2],17,606105819),r=Gn(r,i,s,n,t[3],22,-1044525330),n=Gn(n,r,i,s,t[4],7,-176418897),s=Gn(s,n,r,i,t[5],12,1200080426),i=Gn(i,s,n,r,t[6],17,-1473231341),r=Gn(r,i,s,n,t[7],22,-45705983),n=Gn(n,r,i,s,t[8],7,1770035416),s=Gn(s,n,r,i,t[9],12,-1958414417),i=Gn(i,s,n,r,t[10],17,-42063),r=Gn(r,i,s,n,t[11],22,-1990404162),n=Gn(n,r,i,s,t[12],7,1804603682),s=Gn(s,n,r,i,t[13],12,-40341101),i=Gn(i,s,n,r,t[14],17,-1502002290),n=Kn(n,r=Gn(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Kn(s,n,r,i,t[6],9,-1069501632),i=Kn(i,s,n,r,t[11],14,643717713),r=Kn(r,i,s,n,t[0],20,-373897302),n=Kn(n,r,i,s,t[5],5,-701558691),s=Kn(s,n,r,i,t[10],9,38016083),i=Kn(i,s,n,r,t[15],14,-660478335),r=Kn(r,i,s,n,t[4],20,-405537848),n=Kn(n,r,i,s,t[9],5,568446438),s=Kn(s,n,r,i,t[14],9,-1019803690),i=Kn(i,s,n,r,t[3],14,-187363961),r=Kn(r,i,s,n,t[8],20,1163531501),n=Kn(n,r,i,s,t[13],5,-1444681467),s=Kn(s,n,r,i,t[2],9,-51403784),i=Kn(i,s,n,r,t[7],14,1735328473),n=Yn(n,r=Kn(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Yn(s,n,r,i,t[8],11,-2022574463),i=Yn(i,s,n,r,t[11],16,1839030562),r=Yn(r,i,s,n,t[14],23,-35309556),n=Yn(n,r,i,s,t[1],4,-1530992060),s=Yn(s,n,r,i,t[4],11,1272893353),i=Yn(i,s,n,r,t[7],16,-155497632),r=Yn(r,i,s,n,t[10],23,-1094730640),n=Yn(n,r,i,s,t[13],4,681279174),s=Yn(s,n,r,i,t[0],11,-358537222),i=Yn(i,s,n,r,t[3],16,-722521979),r=Yn(r,i,s,n,t[6],23,76029189),n=Yn(n,r,i,s,t[9],4,-640364487),s=Yn(s,n,r,i,t[12],11,-421815835),i=Yn(i,s,n,r,t[15],16,530742520),n=Jn(n,r=Yn(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Jn(s,n,r,i,t[7],10,1126891415),i=Jn(i,s,n,r,t[14],15,-1416354905),r=Jn(r,i,s,n,t[5],21,-57434055),n=Jn(n,r,i,s,t[12],6,1700485571),s=Jn(s,n,r,i,t[3],10,-1894986606),i=Jn(i,s,n,r,t[10],15,-1051523),r=Jn(r,i,s,n,t[1],21,-2054922799),n=Jn(n,r,i,s,t[8],6,1873313359),s=Jn(s,n,r,i,t[15],10,-30611744),i=Jn(i,s,n,r,t[6],15,-1560198380),r=Jn(r,i,s,n,t[13],21,1309151649),n=Jn(n,r,i,s,t[4],6,-145523070),s=Jn(s,n,r,i,t[11],10,-1120210379),i=Jn(i,s,n,r,t[2],15,718787259),r=Jn(r,i,s,n,t[9],21,-343485551),e[0]=Bs(n,e[0]),e[1]=Bs(r,e[1]),e[2]=Bs(i,e[2]),e[3]=Bs(s,e[3])}function sf(e,t,n,r,i,s){return t=Bs(Bs(t,e),Bs(r,s)),Bs(t<<i|t>>>32-i,n)}function Gn(e,t,n,r,i,s,o){return sf(t&n|~t&r,e,t,i,s,o)}function Kn(e,t,n,r,i,s,o){return sf(t&r|n&~r,e,t,i,s,o)}function Yn(e,t,n,r,i,s,o){return sf(t^n^r,e,t,i,s,o)}function Jn(e,t,n,r,i,s,o){return sf(n^(t|~r),e,t,i,s,o)}function Z3(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)qp(r,x8(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(qp(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,qp(r,i),r}function x8(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Au=tt.atob.bind(tt),l1=tt.btoa.bind(tt);var h5="0123456789abcdef".split("");function w8(e){for(var t="",n=0;n<4;n++)t+=h5[e>>8*n+4&15]+h5[e>>8*n&15];return t}function b8(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function u1(e){return Z3(e).map(b8).join("")}var S8=function(e){for(var t=0;t<e.length;t++)e[t]=w8(e[t]);return e.join("")}(Z3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Bs(e,t){if(S8){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function c1(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var d=0;for(l=0;l<256;l++){var f=a[l];d=(d+f+o.charCodeAt(l))%256,a[l]=a[d],a[d]=f}n=e,r=a}else a=r;var p=t.length,g=0,m=0,N="";for(l=0;l<p;l++)m=(m+(f=a[g=(g+1)%256]))%256,a[g]=a[m],a[m]=f,o=a[(a[g]+a[m])%256],N+=String.fromCharCode(t.charCodeAt(l)^o);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var f5={print:4,modify:8,copy:16,"annot-forms":32};function ya(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(f5.perm!==void 0)throw new Error("Invalid permission: "+a);i+=f5[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=u1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=c1(this.encryptionKey,this.padding)}function xa(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function p5(e){if(Et(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(a){tt.console&&Bt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Eh(e){if(!(this instanceof Eh))return new Eh(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function e4(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function No(e,t,n,r,i){if(!(this instanceof No))return new No(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,e4.call(this,r,i)}function Oa(e,t,n,r,i){if(!(this instanceof Oa))return new Oa(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,e4.call(this,r,i)}function et(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,d="S",f=null;Et(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=p5;var N="1.3",S=m.__private__.getPdfVersion=function(){return N};m.__private__.setPdfVersion=function(v){N=v};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return A};var x=m.__private__.getPageFormat=function(v){return A[v]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},j=w.COMPAT;function R(){this.saveGraphicsState(),Y(new Fe(Me,0,0,-Me,0,vs()*Me).toString()+" cm"),this.setFontSize(this.getFontSize()/Me),d="n",j=w.ADVANCED}function B(){this.restoreGraphicsState(),d="S",j=w.COMPAT}var z=m.__private__.combineFontStyleAndFontWeight=function(v,P){if(v=="bold"&&P=="normal"||v=="bold"&&P==400||v=="normal"&&P=="italic"||v=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(v=P==400||P==="normal"?v==="italic"?"italic":"normal":P!=700&&P!=="bold"||v!=="normal"?(P==700?"bold":P)+""+v:"bold"),v};m.advancedAPI=function(v){var P=j===w.COMPAT;return P&&R.call(this),typeof v!="function"||(v(this),P&&B.call(this)),this},m.compatAPI=function(v){var P=j===w.ADVANCED;return P&&B.call(this),typeof v!="function"||(v(this),P&&R.call(this)),this},m.isAdvancedAPI=function(){return j===w.ADVANCED};var F,D=function(v){if(j!==w.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=m.roundToPrecision=m.__private__.roundToPrecision=function(v,P){var K=t||P;if(isNaN(v)||isNaN(K))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(K).replace(/0+$/,"")};F=m.hpf=m.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return W(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return W(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return W(v,16)};var ee=m.f2=m.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return W(v,2)},T=m.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return W(v,3)},E=m.scale=m.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return j===w.COMPAT?v*Me:j===w.ADVANCED?v:void 0},G=function(v){return j===w.COMPAT?vs()-v:j===w.ADVANCED?v:void 0},V=function(v){return E(G(v))};m.__private__.setPrecision=m.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var ae,ie="00000000000000000000000000000000",oe=m.__private__.getFileId=function(){return ie},H=m.__private__.setFileId=function(v){return ie=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Vn=new ya(f.userPermissions,f.userPassword,f.ownerPassword,ie)),ie};m.setFileId=function(v){return H(v),this},m.getFileId=function(){return oe()};var ne=m.__private__.convertDateToPDFDate=function(v){var P=v.getTimezoneOffset(),K=P<0?"+":"-",X=Math.floor(Math.abs(P/60)),ue=Math.abs(P%60),ye=[K,U(X),"'",U(ue),"'"].join("");return["D:",v.getFullYear(),U(v.getMonth()+1),U(v.getDate()),U(v.getHours()),U(v.getMinutes()),U(v.getSeconds()),ye].join("")},te=m.__private__.convertPDFDateToDate=function(v){var P=parseInt(v.substr(2,4),10),K=parseInt(v.substr(6,2),10)-1,X=parseInt(v.substr(8,2),10),ue=parseInt(v.substr(10,2),10),ye=parseInt(v.substr(12,2),10),Ae=parseInt(v.substr(14,2),10);return new Date(P,K,X,ue,ye,Ae,0)},xe=m.__private__.setCreationDate=function(v){var P;if(v===void 0&&(v=new Date),v instanceof Date)P=ne(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=v}return ae=P},L=m.__private__.getCreationDate=function(v){var P=ae;return v==="jsDate"&&(P=te(ae)),P};m.setCreationDate=function(v){return xe(v),this},m.getCreationDate=function(v){return L(v)};var q,U=m.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},J=m.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},re=0,ce=[],fe=[],pe=0,Ee=[],Ce=[],Re=!1,Te=fe,Ge=function(){re=0,pe=0,fe=[],ce=[],Ee=[],Pn=Tt(),Dt=Tt()};m.__private__.setCustomOutputDestination=function(v){Re=!0,Te=v};var ve=function(v){Re||(Te=v)};m.__private__.resetCustomOutputDestination=function(){Re=!1,Te=fe};var Y=m.__private__.out=function(v){return v=v.toString(),pe+=v.length+1,Te.push(v),Te},Qe=m.__private__.write=function(v){return Y(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Ue=m.__private__.getArrayBuffer=function(v){for(var P=v.length,K=new ArrayBuffer(P),X=new Uint8Array(K);P--;)X[P]=v.charCodeAt(P);return K},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Le};var me=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(v){return me=j===w.ADVANCED?v/Me:v,this};var Ne,ke=m.__private__.getFontSize=m.getFontSize=function(){return j===w.COMPAT?me:me*Me},We=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(v){return We=v,this},m.__private__.getR2L=m.getR2L=function(){return We};var rt,at=m.__private__.setZoomMode=function(v){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Ne=v;else if(isNaN(v)){if(P.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Ne=v}else Ne=parseInt(v,10)};m.__private__.getZoomMode=function(){return Ne};var ft,vt=m.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');rt=v};m.__private__.getPageMode=function(){return rt};var At=m.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');ft=v};m.__private__.getLayoutMode=function(){return ft},m.__private__.setDisplayMode=m.setDisplayMode=function(v,P,K){return at(v),At(P),vt(K),this};var Xe={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(v){if(Object.keys(Xe).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xe[v]},m.__private__.getDocumentProperties=function(){return Xe},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(v){for(var P in Xe)Xe.hasOwnProperty(P)&&v[P]&&(Xe[P]=v[P]);return this},m.__private__.setDocumentProperty=function(v,P){if(Object.keys(Xe).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xe[v]=P};var Ye,Me,Cn,pt,Lr,Ct={},$t={},qr=[],xt={},qi={},zt={},Cr={},Ur=null,Yt=0,nt=[],Nt=new p5(m),Ui=e.hotfixes||[],Ve={},ht={},_e=[],Fe=function v(P,K,X,ue,ye,Ae){if(!(this instanceof v))return new v(P,K,X,ue,ye,Ae);isNaN(P)&&(P=1),isNaN(K)&&(K=0),isNaN(X)&&(X=0),isNaN(ue)&&(ue=1),isNaN(ye)&&(ye=0),isNaN(Ae)&&(Ae=0),this._matrix=[P,K,X,ue,ye,Ae]};Object.defineProperty(Fe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Fe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Fe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Fe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Fe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Fe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Fe.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Fe.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Fe.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Fe.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Fe.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Fe.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Fe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Fe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Fe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Fe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Fe.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(v)},Fe.prototype.multiply=function(v){var P=v.sx*this.sx+v.shy*this.shx,K=v.sx*this.shy+v.shy*this.sy,X=v.shx*this.sx+v.sy*this.shx,ue=v.shx*this.shy+v.sy*this.sy,ye=v.tx*this.sx+v.ty*this.shx+this.tx,Ae=v.tx*this.shy+v.ty*this.sy+this.ty;return new Fe(P,K,X,ue,ye,Ae)},Fe.prototype.decompose=function(){var v=this.sx,P=this.shy,K=this.shx,X=this.sy,ue=this.tx,ye=this.ty,Ae=Math.sqrt(v*v+P*P),Oe=(v/=Ae)*K+(P/=Ae)*X;K-=v*Oe,X-=P*Oe;var Ke=Math.sqrt(K*K+X*X);return Oe/=Ke,v*(X/=Ke)<P*(K/=Ke)&&(v=-v,P=-P,Oe=-Oe,Ae=-Ae),{scale:new Fe(Ae,0,0,Ke,0,0),translate:new Fe(1,0,0,1,ue,ye),rotate:new Fe(v,P,-P,v,0,0),skew:new Fe(1,0,Oe,1,0,0)}},Fe.prototype.toString=function(v){return this.join(" ")},Fe.prototype.inversed=function(){var v=this.sx,P=this.shy,K=this.shx,X=this.sy,ue=this.tx,ye=this.ty,Ae=1/(v*X-P*K),Oe=X*Ae,Ke=-P*Ae,ut=-K*Ae,st=v*Ae;return new Fe(Oe,Ke,ut,st,-Oe*ue-ut*ye,-Ke*ue-st*ye)},Fe.prototype.applyToPoint=function(v){var P=v.x*this.sx+v.y*this.shx+this.tx,K=v.x*this.shy+v.y*this.sy+this.ty;return new Zo(P,K)},Fe.prototype.applyToRectangle=function(v){var P=this.applyToPoint(v),K=this.applyToPoint(new Zo(v.x+v.w,v.y+v.h));return new Nl(P.x,P.y,K.x-P.x,K.y-P.y)},Fe.prototype.clone=function(){var v=this.sx,P=this.shy,K=this.shx,X=this.sy,ue=this.tx,ye=this.ty;return new Fe(v,P,K,X,ue,ye)},m.Matrix=Fe;var lt=m.matrixMult=function(v,P){return P.multiply(v)},ct=new Fe(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=ct;var He=function(v,P){if(!qi[v]){var K=(P instanceof No?"Sh":"P")+(Object.keys(xt).length+1).toString(10);P.id=K,qi[v]=K,xt[K]=P,Nt.publish("addPattern",P)}};m.ShadingPattern=No,m.TilingPattern=Oa,m.addShadingPattern=function(v,P){return D("addShadingPattern()"),He(v,P),this},m.beginTilingPattern=function(v){D("beginTilingPattern()"),Lc(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},m.endTilingPattern=function(v,P){D("endTilingPattern()"),P.stream=Ce[q].join(`
`),He(v,P),Nt.publish("endTilingPattern",P),_e.pop().restore()};var wt=m.__private__.newObject=function(){var v=Tt();return Ft(v,!0),v},Tt=m.__private__.newObjectDeferred=function(){return re++,ce[re]=function(){return pe},re},Ft=function(v,P){return P=typeof P=="boolean"&&P,ce[v]=pe,P&&Y(v+" 0 obj"),v},cr=m.__private__.newAdditionalObject=function(){var v={objId:Tt(),content:""};return Ee.push(v),v},Pn=Tt(),Dt=Tt(),jt=m.__private__.decodeColorString=function(v){var P=v.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var K=parseFloat(P[0]);P=[K,K,K,"r"]}for(var X="#",ue=0;ue<3;ue++)X+=("0"+Math.floor(255*parseFloat(P[ue])).toString(16)).slice(-2);return X},Nn=m.__private__.encodeColorString=function(v){var P;typeof v=="string"&&(v={ch1:v});var K=v.ch1,X=v.ch2,ue=v.ch3,ye=v.ch4,Ae=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof K=="string"&&K.charAt(0)!=="#"){var Oe=new Q3(K);if(Oe.ok)K=Oe.toHex();else if(!/^\d*\.?\d*$/.test(K))throw new Error('Invalid color "'+K+'" passed to jsPDF.encodeColorString.')}if(typeof K=="string"&&/^#[0-9A-Fa-f]{3}$/.test(K)&&(K="#"+K[1]+K[1]+K[2]+K[2]+K[3]+K[3]),typeof K=="string"&&/^#[0-9A-Fa-f]{6}$/.test(K)){var Ke=parseInt(K.substr(1),16);K=Ke>>16&255,X=Ke>>8&255,ue=255&Ke}if(X===void 0||ye===void 0&&K===X&&X===ue)if(typeof K=="string")P=K+" "+Ae[0];else switch(v.precision){case 2:P=ee(K/255)+" "+Ae[0];break;case 3:default:P=T(K/255)+" "+Ae[0]}else if(ye===void 0||Et(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return P=["1.","1.","1.",Ae[1]].join(" ");if(typeof K=="string")P=[K,X,ue,Ae[1]].join(" ");else switch(v.precision){case 2:P=[ee(K/255),ee(X/255),ee(ue/255),Ae[1]].join(" ");break;default:case 3:P=[T(K/255),T(X/255),T(ue/255),Ae[1]].join(" ")}}else if(typeof K=="string")P=[K,X,ue,ye,Ae[2]].join(" ");else switch(v.precision){case 2:P=[ee(K),ee(X),ee(ue),ee(ye),Ae[2]].join(" ");break;case 3:default:P=[T(K),T(X),T(ue),T(ye),Ae[2]].join(" ")}return P},dr=m.__private__.getFilters=function(){return o},Xt=m.__private__.putStream=function(v){var P=(v=v||{}).data||"",K=v.filters||dr(),X=v.alreadyAppliedFilters||[],ue=v.addLength1||!1,ye=P.length,Ae=v.objectId,Oe=function($n){return $n};if(f!==null&&Ae===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Oe=Vn.encryptor(Ae,0));var Ke={};K===!0&&(K=["FlateEncode"]);var ut=v.additionalKeyValues||[],st=(Ke=et.API.processDataByFilters!==void 0?et.API.processDataByFilters(P,K):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(X)?X.join(" "):X.toString());if(Ke.data.length!==0&&(ut.push({key:"Length",value:Ke.data.length}),ue===!0&&ut.push({key:"Length1",value:ye})),st.length!=0)if(st.split("/").length-1==1)ut.push({key:"Filter",value:st});else{ut.push({key:"Filter",value:"["+st+"]"});for(var yt=0;yt<ut.length;yt+=1)if(ut[yt].key==="DecodeParms"){for(var Qt=[],sn=0;sn<Ke.reverseChain.split("/").length-1;sn+=1)Qt.push("null");Qt.push(ut[yt].value),ut[yt].value="["+Qt.join(" ")+"]"}}Y("<<");for(var xn=0;xn<ut.length;xn++)Y("/"+ut[xn].key+" "+ut[xn].value);Y(">>"),Ke.data.length!==0&&(Y("stream"),Y(Oe(Ke.data)),Y("endstream"))},Un=m.__private__.putPage=function(v){var P=v.number,K=v.data,X=v.objId,ue=v.contentsObjId;Ft(X,!0),Y("<</Type /Page"),Y("/Parent "+v.rootDictionaryObjId+" 0 R"),Y("/Resources "+v.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(F(v.mediaBox.bottomLeftX))+" "+parseFloat(F(v.mediaBox.bottomLeftY))+" "+F(v.mediaBox.topRightX)+" "+F(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&Y("/CropBox ["+F(v.cropBox.bottomLeftX)+" "+F(v.cropBox.bottomLeftY)+" "+F(v.cropBox.topRightX)+" "+F(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&Y("/BleedBox ["+F(v.bleedBox.bottomLeftX)+" "+F(v.bleedBox.bottomLeftY)+" "+F(v.bleedBox.topRightX)+" "+F(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&Y("/TrimBox ["+F(v.trimBox.bottomLeftX)+" "+F(v.trimBox.bottomLeftY)+" "+F(v.trimBox.topRightX)+" "+F(v.trimBox.topRightY)+"]"),v.artBox!==null&&Y("/ArtBox ["+F(v.artBox.bottomLeftX)+" "+F(v.artBox.bottomLeftY)+" "+F(v.artBox.topRightX)+" "+F(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&Y("/UserUnit "+v.userUnit),Nt.publish("putPage",{objId:X,pageContext:nt[P],pageNumber:P,page:K}),Y("/Contents "+ue+" 0 R"),Y(">>"),Y("endobj");var ye=K.join(`
`);return j===w.ADVANCED&&(ye+=`
Q`),Ft(ue,!0),Xt({data:ye,filters:dr(),objectId:ue}),Y("endobj"),X},hr=m.__private__.putPages=function(){var v,P,K=[];for(v=1;v<=Yt;v++)nt[v].objId=Tt(),nt[v].contentsObjId=Tt();for(v=1;v<=Yt;v++)K.push(Un({number:v,data:Ce[v],objId:nt[v].objId,contentsObjId:nt[v].contentsObjId,mediaBox:nt[v].mediaBox,cropBox:nt[v].cropBox,bleedBox:nt[v].bleedBox,trimBox:nt[v].trimBox,artBox:nt[v].artBox,userUnit:nt[v].userUnit,rootDictionaryObjId:Pn,resourceDictionaryObjId:Dt}));Ft(Pn,!0),Y("<</Type /Pages");var X="/Kids [";for(P=0;P<Yt;P++)X+=K[P]+" 0 R ";Y(X+"]"),Y("/Count "+Yt),Y(">>"),Y("endobj"),Nt.publish("postPutPages")},qo=function(v){Nt.publish("putFont",{font:v,out:Y,newObject:wt,putStream:Xt}),v.isAlreadyPutted!==!0&&(v.objectNumber=wt(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+xa(v.postScriptName)),Y("/Subtype /Type1"),typeof v.encoding=="string"&&Y("/Encoding /"+v.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Uo=function(){for(var v in Ct)Ct.hasOwnProperty(v)&&(p===!1||p===!0&&g.hasOwnProperty(v))&&qo(Ct[v])},Vo=function(v){v.objectNumber=wt();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[F(v.x),F(v.y),F(v.x+v.width),F(v.y+v.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var K=v.pages[1].join(`
`);Xt({data:K,additionalKeyValues:P,objectId:v.objectNumber}),Y("endobj")},$o=function(){for(var v in Ve)Ve.hasOwnProperty(v)&&Vo(Ve[v])},lc=function(v,P){var K,X=[],ue=1/(P-1);for(K=0;K<1;K+=ue)X.push(K);if(X.push(1),v[0].offset!=0){var ye={offset:0,color:v[0].color};v.unshift(ye)}if(v[v.length-1].offset!=1){var Ae={offset:1,color:v[v.length-1].color};v.push(Ae)}for(var Oe="",Ke=0,ut=0;ut<X.length;ut++){for(K=X[ut];K>v[Ke+1].offset;)Ke++;var st=v[Ke].offset,yt=(K-st)/(v[Ke+1].offset-st),Qt=v[Ke].color,sn=v[Ke+1].color;Oe+=J(Math.round((1-yt)*Qt[0]+yt*sn[0]).toString(16))+J(Math.round((1-yt)*Qt[1]+yt*sn[1]).toString(16))+J(Math.round((1-yt)*Qt[2]+yt*sn[2]).toString(16))}return Oe.trim()},af=function(v,P){P||(P=21);var K=wt(),X=lc(v.colors,P),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+P+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xt({data:X,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:K}),Y("endobj"),v.objectNumber=wt(),Y("<< /ShadingType "+v.type),Y("/ColorSpace /DeviceRGB");var ye="/Coords ["+F(parseFloat(v.coords[0]))+" "+F(parseFloat(v.coords[1]))+" ";v.type===2?ye+=F(parseFloat(v.coords[2]))+" "+F(parseFloat(v.coords[3])):ye+=F(parseFloat(v.coords[2]))+" "+F(parseFloat(v.coords[3]))+" "+F(parseFloat(v.coords[4]))+" "+F(parseFloat(v.coords[5])),Y(ye+="]"),v.matrix&&Y("/Matrix ["+v.matrix.toString()+"]"),Y("/Function "+K+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},lf=function(v,P){var K=Tt(),X=wt();P.push({resourcesOid:K,objectOid:X}),v.objectNumber=X;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+v.boundingBox.map(F).join(" ")+"]"}),ue.push({key:"XStep",value:F(v.xStep)}),ue.push({key:"YStep",value:F(v.yStep)}),ue.push({key:"Resources",value:K+" 0 R"}),v.matrix&&ue.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Xt({data:v.stream,additionalKeyValues:ue,objectId:v.objectNumber}),Y("endobj")},Ho=function(v){var P;for(P in xt)xt.hasOwnProperty(P)&&(xt[P]instanceof No?af(xt[P]):xt[P]instanceof Oa&&lf(xt[P],v))},uc=function(v){for(var P in v.objectNumber=wt(),Y("<<"),v)switch(P){case"opacity":Y("/ca "+ee(v[P]));break;case"stroke-opacity":Y("/CA "+ee(v[P]))}Y(">>"),Y("endobj")},uf=function(){var v;for(v in zt)zt.hasOwnProperty(v)&&uc(zt[v])},fl=function(){for(var v in Y("/XObject <<"),Ve)Ve.hasOwnProperty(v)&&Ve[v].objectNumber>=0&&Y("/"+v+" "+Ve[v].objectNumber+" 0 R");Nt.publish("putXobjectDict"),Y(">>")},cf=function(){Vn.oid=wt(),Y("<<"),Y("/Filter /Standard"),Y("/V "+Vn.v),Y("/R "+Vn.r),Y("/U <"+Vn.toHexString(Vn.U)+">"),Y("/O <"+Vn.toHexString(Vn.O)+">"),Y("/P "+Vn.P),Y(">>"),Y("endobj")},cc=function(){for(var v in Y("/Font <<"),Ct)Ct.hasOwnProperty(v)&&(p===!1||p===!0&&g.hasOwnProperty(v))&&Y("/"+v+" "+Ct[v].objectNumber+" 0 R");Y(">>")},df=function(){if(Object.keys(xt).length>0){for(var v in Y("/Shading <<"),xt)xt.hasOwnProperty(v)&&xt[v]instanceof No&&xt[v].objectNumber>=0&&Y("/"+v+" "+xt[v].objectNumber+" 0 R");Nt.publish("putShadingPatternDict"),Y(">>")}},Wo=function(v){if(Object.keys(xt).length>0){for(var P in Y("/Pattern <<"),xt)xt.hasOwnProperty(P)&&xt[P]instanceof m.TilingPattern&&xt[P].objectNumber>=0&&xt[P].objectNumber<v&&Y("/"+P+" "+xt[P].objectNumber+" 0 R");Nt.publish("putTilingPatternDict"),Y(">>")}},hf=function(){if(Object.keys(zt).length>0){var v;for(v in Y("/ExtGState <<"),zt)zt.hasOwnProperty(v)&&zt[v].objectNumber>=0&&Y("/"+v+" "+zt[v].objectNumber+" 0 R");Nt.publish("putGStateDict"),Y(">>")}},cn=function(v){Ft(v.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),cc(),df(),Wo(v.objectOid),hf(),fl(),Y(">>"),Y("endobj")},dc=function(){var v=[];Uo(),uf(),$o(),Ho(v),Nt.publish("putResources"),v.forEach(cn),cn({resourcesOid:Dt,objectOid:Number.MAX_SAFE_INTEGER}),Nt.publish("postPutResources")},hc=function(){Nt.publish("putAdditionalObjects");for(var v=0;v<Ee.length;v++){var P=Ee[v];Ft(P.objId,!0),Y(P.content),Y("endobj")}Nt.publish("postPutAdditionalObjects")},fc=function(v){$t[v.fontName]=$t[v.fontName]||{},$t[v.fontName][v.fontStyle]=v.id},pl=function(v,P,K,X,ue){var ye={id:"F"+(Object.keys(Ct).length+1).toString(10),postScriptName:v,fontName:P,fontStyle:K,encoding:X,isStandardFont:ue||!1,metadata:{}};return Nt.publish("addFont",{font:ye,instance:this}),Ct[ye.id]=ye,fc(ye),ye.id},ff=function(v){for(var P=0,K=Le.length;P<K;P++){var X=pl.call(this,v[P][0],v[P][1],v[P][2],Le[P][3],!0);p===!1&&(g[X]=!0);var ue=v[P][0].split("-");fc({id:X,fontName:ue[0],fontStyle:ue[1]||""})}Nt.publish("addFonts",{fonts:Ct,dictionary:$t})},ii=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(X){var P=X.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var K="Error in function "+P.split(`
`)[0].split("<")[0]+": "+X.message;if(!tt.console)throw new Error(K);tt.console.error(K,X),tt.alert&&alert(K)}},v.foo.bar=v,v.foo},Go=function(v,P){var K,X,ue,ye,Ae,Oe,Ke,ut,st;if(ue=(P=P||{}).sourceEncoding||"Unicode",Ae=P.outputEncoding,(P.autoencode||Ae)&&Ct[Ye].metadata&&Ct[Ye].metadata[ue]&&Ct[Ye].metadata[ue].encoding&&(ye=Ct[Ye].metadata[ue].encoding,!Ae&&Ct[Ye].encoding&&(Ae=Ct[Ye].encoding),!Ae&&ye.codePages&&(Ae=ye.codePages[0]),typeof Ae=="string"&&(Ae=ye[Ae]),Ae)){for(Ke=!1,Oe=[],K=0,X=v.length;K<X;K++)(ut=Ae[v.charCodeAt(K)])?Oe.push(String.fromCharCode(ut)):Oe.push(v[K]),Oe[K].charCodeAt(0)>>8&&(Ke=!0);v=Oe.join("")}for(K=v.length;Ke===void 0&&K!==0;)v.charCodeAt(K-1)>>8&&(Ke=!0),K--;if(!Ke)return v;for(Oe=P.noBOM?[]:[254,255],K=0,X=v.length;K<X;K++){if((st=(ut=v.charCodeAt(K))>>8)>>8)throw new Error("Character at position "+K+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Oe.push(st),Oe.push(ut-(st<<8))}return String.fromCharCode.apply(void 0,Oe)},fr=m.__private__.pdfEscape=m.pdfEscape=function(v,P){return Go(v,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ml=m.__private__.beginPage=function(v){Ce[++Yt]=[],nt[Yt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},mc(Yt),ve(Ce[q])},pc=function(v,P){var K,X,ue;switch(n=P||n,typeof v=="string"&&(K=x(v.toLowerCase()),Array.isArray(K)&&(X=K[0],ue=K[1])),Array.isArray(v)&&(X=v[0]*Me,ue=v[1]*Me),isNaN(X)&&(X=i[0],ue=i[1]),(X>14400||ue>14400)&&(Bt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),X=Math.min(14400,X),ue=Math.min(14400,ue)),i=[X,ue],n.substr(0,1)){case"l":ue>X&&(i=[ue,X]);break;case"p":X>ue&&(i=[ue,X])}ml(i),bc(xl),Y(si),bl!==0&&Y(bl+" J"),Sl!==0&&Y(Sl+" j"),Nt.publish("addPage",{pageNumber:Yt})},pf=function(v){v>0&&v<=Yt&&(Ce.splice(v,1),nt.splice(v,1),Yt--,q>Yt&&(q=Yt),this.setPage(q))},mc=function(v){v>0&&v<=Yt&&(q=v)},mf=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ce.length-1},gc=function(v,P,K){var X,ue=void 0;return K=K||{},v=v!==void 0?v:Ct[Ye].fontName,P=P!==void 0?P:Ct[Ye].fontStyle,X=v.toLowerCase(),$t[X]!==void 0&&$t[X][P]!==void 0?ue=$t[X][P]:$t[v]!==void 0&&$t[v][P]!==void 0?ue=$t[v][P]:K.disableWarning===!1&&Bt.warn("Unable to look up font label for font '"+v+"', '"+P+"'. Refer to getFontList() for available fonts."),ue||K.noFallback||(ue=$t.times[P])==null&&(ue=$t.times.normal),ue},gf=m.__private__.putInfo=function(){var v=wt(),P=function(X){return X};for(var K in f!==null&&(P=Vn.encryptor(v,0)),Y("<<"),Y("/Producer ("+fr(P("jsPDF "+et.version))+")"),Xe)Xe.hasOwnProperty(K)&&Xe[K]&&Y("/"+K.substr(0,1).toUpperCase()+K.substr(1)+" ("+fr(P(Xe[K]))+")");Y("/CreationDate ("+fr(P(ae))+")"),Y(">>"),Y("endobj")},gl=m.__private__.putCatalog=function(v){var P=(v=v||{}).rootDictionaryObjId||Pn;switch(wt(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+P+" 0 R"),Ne||(Ne="fullwidth"),Ne){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var K=""+Ne;K.substr(K.length-1)==="%"&&(Ne=parseInt(Ne)/100),typeof Ne=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+ee(Ne)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}rt&&Y("/PageMode /"+rt),Nt.publish("putCatalog"),Y(">>"),Y("endobj")},vf=m.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(re+1)),Y("/Root "+re+" 0 R"),Y("/Info "+(re-1)+" 0 R"),f!==null&&Y("/Encrypt "+Vn.oid+" 0 R"),Y("/ID [ <"+ie+"> <"+ie+"> ]"),Y(">>")},yf=m.__private__.putHeader=function(){Y("%PDF-"+N),Y("%")},xf=m.__private__.putXRef=function(){var v="0000000000";Y("xref"),Y("0 "+(re+1)),Y("0000000000 65535 f ");for(var P=1;P<=re;P++)typeof ce[P]=="function"?Y((v+ce[P]()).slice(-10)+" 00000 n "):ce[P]!==void 0?Y((v+ce[P]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Vi=m.__private__.buildDocument=function(){Ge(),ve(fe),Nt.publish("buildDocument"),yf(),hr(),hc(),dc(),f!==null&&cf(),gf(),gl();var v=pe;return xf(),vf(),Y("startxref"),Y(""+v),Y("%%EOF"),ve(Ce[q]),fe.join(`
`)},Ko=m.__private__.getBlob=function(v){return new Blob([Ue(v)],{type:"application/pdf"})},Yo=m.output=m.__private__.output=ii(function(v,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",v){case void 0:return Vi();case"save":m.save(P.filename);break;case"arraybuffer":return Ue(Vi());case"blob":return Ko(Vi());case"bloburi":case"bloburl":if(tt.URL!==void 0&&typeof tt.URL.createObjectURL=="function")return tt.URL&&tt.URL.createObjectURL(Ko(Vi()))||void 0;Bt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var K="",X=Vi();try{K=l1(X)}catch{K=l1(unescape(encodeURIComponent(X)))}return"data:application/pdf;filename="+P.filename+";base64,"+K;case"pdfobjectnewwindow":if(Object.prototype.toString.call(tt)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(ue=P.pdfObjectUrl,ye="");var Ae='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",Oe=tt.open();return Oe!==null&&Oe.document.write(Ae),Oe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(tt)==="[object Window]"){var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',ut=tt.open();if(ut!==null){ut.document.write(Ke);var st=this;ut.document.documentElement.querySelector("#pdfViewer").onload=function(){ut.document.title=P.filename,ut.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(st.output("bloburl"))}}return ut}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(tt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',Qt=tt.open();if(Qt!==null&&(Qt.document.write(yt),Qt.document.title=P.filename),Qt||typeof safari>"u")return Qt;break;case"datauri":case"dataurl":return tt.document.location.href=this.output("datauristring",P);default:return null}}),vc=function(v){return Array.isArray(Ui)===!0&&Ui.indexOf(v)>-1};switch(r){case"pt":Me=1;break;case"mm":Me=72/25.4;break;case"cm":Me=72/2.54;break;case"in":Me=72;break;case"px":Me=vc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Me=12;break;case"ex":Me=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Me=r}var Vn=null;xe(),H();var wf=function(v){return f!==null?Vn.encryptor(v,0):function(P){return P}},yc=m.__private__.getPageInfo=m.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[v].objId,pageNumber:v,pageContext:nt[v]}},it=m.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in nt)if(nt[P].objId===v)break;return yc(P)},bf=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:nt[q].objId,pageNumber:q,pageContext:nt[q]}};m.addPage=function(){return pc.apply(this,arguments),this},m.setPage=function(){return mc.apply(this,arguments),ve.call(this,Ce[q]),this},m.insertPage=function(v){return this.addPage(),this.movePage(q,v),this},m.movePage=function(v,P){var K,X;if(v>P){K=Ce[v],X=nt[v];for(var ue=v;ue>P;ue--)Ce[ue]=Ce[ue-1],nt[ue]=nt[ue-1];Ce[P]=K,nt[P]=X,this.setPage(P)}else if(v<P){K=Ce[v],X=nt[v];for(var ye=v;ye<P;ye++)Ce[ye]=Ce[ye+1],nt[ye]=nt[ye+1];Ce[P]=K,nt[P]=X,this.setPage(P)}return this},m.deletePage=function(){return pf.apply(this,arguments),this},m.__private__.text=m.text=function(v,P,K,X,ue){var ye,Ae,Oe,Ke,ut,st,yt,Qt,sn,xn=(X=X||{}).scope||this;if(typeof v=="number"&&typeof P=="number"&&(typeof K=="string"||Array.isArray(K))){var $n=K;K=P,P=v,v=$n}if(arguments[3]instanceof Fe?(D("The transform parameter of text() with a Matrix value"),sn=ue):(Oe=arguments[4],Ke=arguments[5],Et(yt=arguments[3])==="object"&&yt!==null||(typeof Oe=="string"&&(Ke=Oe,Oe=null),typeof yt=="string"&&(Ke=yt,yt=null),typeof yt=="number"&&(Oe=yt,yt=null),X={flags:yt,angle:Oe,align:Ke})),isNaN(P)||isNaN(K)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return xn;var kn="",oi=!1,Pr=typeof X.lineHeightFactor=="number"?X.lineHeightFactor:oo,Li=xn.internal.scaleFactor;function Cc(qt){return qt=qt.split("	").join(Array(X.TabLen||9).join(" ")),fr(qt,yt)}function Cl(qt){for(var Ut,hn=qt.concat(),jn=[],Ki=hn.length;Ki--;)typeof(Ut=hn.shift())=="string"?jn.push(Ut):Array.isArray(qt)&&(Ut.length===1||Ut[1]===void 0&&Ut[2]===void 0)?jn.push(Ut[0]):jn.push([Ut[0],Ut[1],Ut[2]]);return jn}function Pl(qt,Ut){var hn;if(typeof qt=="string")hn=Ut(qt)[0];else if(Array.isArray(qt)){for(var jn,Ki,Dl=qt.concat(),ca=[],Tc=Dl.length;Tc--;)typeof(jn=Dl.shift())=="string"?ca.push(Ut(jn)[0]):Array.isArray(jn)&&typeof jn[0]=="string"&&(Ki=Ut(jn[0],jn[1],jn[2]),ca.push([Ki[0],Ki[1],Ki[2]]));hn=ca}return hn}var ta=!1,kl=!0;if(typeof v=="string")ta=!0;else if(Array.isArray(v)){var El=v.concat();Ae=[];for(var na,Rn=El.length;Rn--;)(typeof(na=El.shift())!="string"||Array.isArray(na)&&typeof na[0]!="string")&&(kl=!1);ta=kl}if(ta===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var ra=me/xn.internal.scaleFactor,ia=ra*(Pr-1);switch(X.baseline){case"bottom":K-=ia;break;case"top":K+=ra-ia;break;case"hanging":K+=ra-2*ia;break;case"middle":K+=ra/2-ia}if((st=X.maxWidth||0)>0&&(typeof v=="string"?v=xn.splitTextToSize(v,st):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(qt,Ut){return qt.concat(xn.splitTextToSize(Ut,st))},[]))),ye={text:v,x:P,y:K,options:X,mutex:{pdfEscape:fr,activeFontKey:Ye,fonts:Ct,activeFontSize:me}},Nt.publish("preProcessText",ye),v=ye.text,Oe=(X=ye.options).angle,!(sn instanceof Fe)&&Oe&&typeof Oe=="number"){Oe*=Math.PI/180,X.rotationDirection===0&&(Oe=-Oe),j===w.ADVANCED&&(Oe=-Oe);var sa=Math.cos(Oe),_l=Math.sin(Oe);sn=new Fe(sa,_l,-_l,sa,0,0)}else Oe&&Oe instanceof Fe&&(sn=Oe);j!==w.ADVANCED||sn||(sn=ct),(ut=X.charSpace||Qo)!==void 0&&(kn+=F(E(ut))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qt=X.horizontalScale)!==void 0&&(kn+=F(100*Qt)+` Tz
`),X.lang;var pr=-1,_f=X.renderingMode!==void 0?X.renderingMode:X.stroke,Tl=xn.internal.getCurrentPageInfo().pageContext;switch(_f){case 0:case!1:case"fill":pr=0;break;case 1:case!0:case"stroke":pr=1;break;case 2:case"fillThenStroke":pr=2;break;case 3:case"invisible":pr=3;break;case 4:case"fillAndAddForClipping":pr=4;break;case 5:case"strokeAndAddPathForClipping":pr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pr=6;break;case 7:case"addToPathForClipping":pr=7}var Pc=Tl.usedRenderingMode!==void 0?Tl.usedRenderingMode:-1;pr!==-1?kn+=pr+` Tr
`:Pc!==-1&&(kn+=`0 Tr
`),pr!==-1&&(Tl.usedRenderingMode=pr),Ke=X.align||"left";var Vr,oa=me*Pr,kc=xn.internal.pageSize.getWidth(),Ec=Ct[Ye];ut=X.charSpace||Qo,st=X.maxWidth||0,yt=Object.assign({autoencode:!0,noBOM:!0},X.flags);var ys=[],uo=function(qt){return xn.getStringUnitWidth(qt,{font:Ec,charSpace:ut,fontSize:me,doKerning:!1})*me/Li};if(Object.prototype.toString.call(v)==="[object Array]"){var mr;Ae=Cl(v),Ke!=="left"&&(Vr=Ae.map(uo));var nr,xs=0;if(Ke==="right"){P-=Vr[0],v=[],Rn=Ae.length;for(var Hi=0;Hi<Rn;Hi++)Hi===0?(nr=Ai(P),mr=$i(K)):(nr=E(xs-Vr[Hi]),mr=-oa),v.push([Ae[Hi],nr,mr]),xs=Vr[Hi]}else if(Ke==="center"){P-=Vr[0]/2,v=[],Rn=Ae.length;for(var Wi=0;Wi<Rn;Wi++)Wi===0?(nr=Ai(P),mr=$i(K)):(nr=E((xs-Vr[Wi])/2),mr=-oa),v.push([Ae[Wi],nr,mr]),xs=Vr[Wi]}else if(Ke==="left"){v=[],Rn=Ae.length;for(var aa=0;aa<Rn;aa++)v.push(Ae[aa])}else if(Ke==="justify"&&Ec.encoding==="Identity-H"){v=[],Rn=Ae.length,st=st!==0?st:kc;for(var Gi=0,dn=0;dn<Rn;dn++)if(mr=dn===0?$i(K):-oa,nr=dn===0?Ai(P):Gi,dn<Rn-1){var Fl=E((st-Vr[dn])/(Ae[dn].split(" ").length-1)),rr=Ae[dn].split(" ");v.push([rr[0]+" ",nr,mr]),Gi=0;for(var $r=1;$r<rr.length;$r++){var la=(uo(rr[$r-1]+" "+rr[$r])-uo(rr[$r]))*Li+Fl;$r==rr.length-1?v.push([rr[$r],la,0]):v.push([rr[$r]+" ",la,0]),Gi-=la}}else v.push([Ae[dn],nr,mr]);v.push(["",Gi,0])}else{if(Ke!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Rn=Ae.length,st=st!==0?st:kc,dn=0;dn<Rn;dn++)mr=dn===0?$i(K):-oa,nr=dn===0?Ai(P):0,dn<Rn-1?ys.push(F(E((st-Vr[dn])/(Ae[dn].split(" ").length-1)))):ys.push(0),v.push([Ae[dn],nr,mr])}}var _c=typeof X.R2L=="boolean"?X.R2L:We;_c===!0&&(v=Pl(v,function(qt,Ut,hn){return[qt.split("").reverse().join(""),Ut,hn]})),ye={text:v,x:P,y:K,options:X,mutex:{pdfEscape:fr,activeFontKey:Ye,fonts:Ct,activeFontSize:me}},Nt.publish("postProcessText",ye),v=ye.text,oi=ye.mutex.isHex||!1;var Il=Ct[Ye].encoding;Il!=="WinAnsiEncoding"&&Il!=="StandardEncoding"||(v=Pl(v,function(qt,Ut,hn){return[Cc(qt),Ut,hn]})),Ae=Cl(v),v=[];for(var co,ho,ws,fo=0,ua=1,po=Array.isArray(Ae[0])?ua:fo,bs="",Rl=function(qt,Ut,hn){var jn="";return hn instanceof Fe?(hn=typeof X.angle=="number"?lt(hn,new Fe(1,0,0,1,qt,Ut)):lt(new Fe(1,0,0,1,qt,Ut),hn),j===w.ADVANCED&&(hn=lt(new Fe(1,0,0,-1,0,0),hn)),jn=hn.join(" ")+` Tm
`):jn=F(qt)+" "+F(Ut)+` Td
`,jn},Hr=0;Hr<Ae.length;Hr++){switch(bs="",po){case ua:ws=(oi?"<":"(")+Ae[Hr][0]+(oi?">":")"),co=parseFloat(Ae[Hr][1]),ho=parseFloat(Ae[Hr][2]);break;case fo:ws=(oi?"<":"(")+Ae[Hr]+(oi?">":")"),co=Ai(P),ho=$i(K)}ys!==void 0&&ys[Hr]!==void 0&&(bs=ys[Hr]+` Tw
`),Hr===0?v.push(bs+Rl(co,ho,sn)+ws):po===fo?v.push(bs+ws):po===ua&&v.push(bs+Rl(co,ho,sn)+ws)}v=po===fo?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Wr=`BT
/`;return Wr+=Ye+" "+me+` Tf
`,Wr+=F(me*Pr)+` TL
`,Wr+=ao+`
`,Wr+=kn,Wr+=v,Y(Wr+="ET"),g[Ye]=!0,xn};var Sf=m.__private__.clip=m.clip=function(v){return Y(v==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Sf("evenodd")},m.__private__.discardPath=m.discardPath=function(){return Y("n"),this};var ji=m.__private__.isValidStyle=function(v){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(P=!0),P};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(v){return ji(v)&&(d=v),this};var xc=m.__private__.getStyle=m.getStyle=function(v){var P=d;switch(v){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=v}return P},wc=m.close=function(){return Y("h"),this};m.stroke=function(){return Y("S"),this},m.fill=function(v){return Jo("f",v),this},m.fillEvenOdd=function(v){return Jo("f*",v),this},m.fillStroke=function(v){return Jo("B",v),this},m.fillStrokeEvenOdd=function(v){return Jo("B*",v),this};var Jo=function(v,P){Et(P)==="object"?jf(P,v):Y(v)},vl=function(v){v===null||j===w.ADVANCED&&v===void 0||(v=xc(v),Y(v))};function Nf(v,P,K,X,ue){var ye=new Oa(P||this.boundingBox,K||this.xStep,X||this.yStep,this.gState,ue||this.matrix);ye.stream=this.stream;var Ae=v+"$$"+this.cloneIndex+++"$$";return He(Ae,ye),ye}var jf=function(v,P){var K=qi[v.key],X=xt[K];if(X instanceof No)Y("q"),Y(Af(P)),X.gState&&m.setGState(X.gState),Y(v.matrix.toString()+" cm"),Y("/"+K+" sh"),Y("Q");else if(X instanceof Oa){var ue=new Fe(1,0,0,-1,0,vs());v.matrix&&(ue=ue.multiply(v.matrix||ct),K=Nf.call(X,v.key,v.boundingBox,v.xStep,v.yStep,ue).id),Y("q"),Y("/Pattern cs"),Y("/"+K+" scn"),X.gState&&m.setGState(X.gState),Y(P),Y("Q")}},Af=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},yl=m.moveTo=function(v,P){return Y(F(E(v))+" "+F(V(P))+" m"),this},so=m.lineTo=function(v,P){return Y(F(E(v))+" "+F(V(P))+" l"),this},ms=m.curveTo=function(v,P,K,X,ue,ye){return Y([F(E(v)),F(V(P)),F(E(K)),F(V(X)),F(E(ue)),F(V(ye)),"c"].join(" ")),this};m.__private__.line=m.line=function(v,P,K,X,ue){if(isNaN(v)||isNaN(P)||isNaN(K)||isNaN(X)||!ji(ue))throw new Error("Invalid arguments passed to jsPDF.line");return j===w.COMPAT?this.lines([[K-v,X-P]],v,P,[1,1],ue||"S"):this.lines([[K-v,X-P]],v,P,[1,1]).stroke()},m.__private__.lines=m.lines=function(v,P,K,X,ue,ye){var Ae,Oe,Ke,ut,st,yt,Qt,sn,xn,$n,kn,oi;if(typeof v=="number"&&(oi=K,K=P,P=v,v=oi),X=X||[1,1],ye=ye||!1,isNaN(P)||isNaN(K)||!Array.isArray(v)||!Array.isArray(X)||!ji(ue)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(yl(P,K),Ae=X[0],Oe=X[1],ut=v.length,$n=P,kn=K,Ke=0;Ke<ut;Ke++)(st=v[Ke]).length===2?($n=st[0]*Ae+$n,kn=st[1]*Oe+kn,so($n,kn)):(yt=st[0]*Ae+$n,Qt=st[1]*Oe+kn,sn=st[2]*Ae+$n,xn=st[3]*Oe+kn,$n=st[4]*Ae+$n,kn=st[5]*Oe+kn,ms(yt,Qt,sn,xn,$n,kn));return ye&&wc(),vl(ue),this},m.path=function(v){for(var P=0;P<v.length;P++){var K=v[P],X=K.c;switch(K.op){case"m":yl(X[0],X[1]);break;case"l":so(X[0],X[1]);break;case"c":ms.apply(this,X);break;case"h":wc()}}return this},m.__private__.rect=m.rect=function(v,P,K,X,ue){if(isNaN(v)||isNaN(P)||isNaN(K)||isNaN(X)||!ji(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return j===w.COMPAT&&(X=-X),Y([F(E(v)),F(V(P)),F(E(K)),F(E(X)),"re"].join(" ")),vl(ue),this},m.__private__.triangle=m.triangle=function(v,P,K,X,ue,ye,Ae){if(isNaN(v)||isNaN(P)||isNaN(K)||isNaN(X)||isNaN(ue)||isNaN(ye)||!ji(Ae))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[K-v,X-P],[ue-K,ye-X],[v-ue,P-ye]],v,P,[1,1],Ae,!0),this},m.__private__.roundedRect=m.roundedRect=function(v,P,K,X,ue,ye,Ae){if(isNaN(v)||isNaN(P)||isNaN(K)||isNaN(X)||isNaN(ue)||isNaN(ye)||!ji(Ae))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Oe=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*K),ye=Math.min(ye,.5*X),this.lines([[K-2*ue,0],[ue*Oe,0,ue,ye-ye*Oe,ue,ye],[0,X-2*ye],[0,ye*Oe,-ue*Oe,ye,-ue,ye],[2*ue-K,0],[-ue*Oe,0,-ue,-ye*Oe,-ue,-ye],[0,2*ye-X],[0,-ye*Oe,ue*Oe,-ye,ue,-ye]],v+ue,P,[1,1],Ae,!0),this},m.__private__.ellipse=m.ellipse=function(v,P,K,X,ue){if(isNaN(v)||isNaN(P)||isNaN(K)||isNaN(X)||!ji(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*K,Ae=4/3*(Math.SQRT2-1)*X;return yl(v+K,P),ms(v+K,P-Ae,v+ye,P-X,v,P-X),ms(v-ye,P-X,v-K,P-Ae,v-K,P),ms(v-K,P+Ae,v-ye,P+X,v,P+X),ms(v+ye,P+X,v+K,P+Ae,v+K,P),vl(ue),this},m.__private__.circle=m.circle=function(v,P,K,X){if(isNaN(v)||isNaN(P)||isNaN(K)||!ji(X))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,P,K,K,X)},m.setFont=function(v,P,K){return K&&(P=z(P,K)),Ye=gc(v,P,{disableWarning:!1}),this};var Lf=m.__private__.getFont=m.getFont=function(){return Ct[gc.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var v,P,K={};for(v in $t)if($t.hasOwnProperty(v))for(P in K[v]=[],$t[v])$t[v].hasOwnProperty(P)&&K[v].push(P);return K},m.addFont=function(v,P,K,X,ue){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(K=z(K,X)),ue=ue||"Identity-H",pl.call(this,v,P,K,ue)};var oo,xl=e.lineWidth||.200025,Xo=m.__private__.getLineWidth=m.getLineWidth=function(){return xl},bc=m.__private__.setLineWidth=m.setLineWidth=function(v){return xl=v,Y(F(E(v))+" w"),this};m.__private__.setLineDash=et.API.setLineDash=et.API.setLineDashPattern=function(v,P){if(v=v||[],P=P||0,isNaN(P)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(K){return F(E(K))}).join(" "),P=F(E(P)),Y("["+v+"] "+P+" d"),this};var Sc=m.__private__.getLineHeight=m.getLineHeight=function(){return me*oo};m.__private__.getLineHeight=m.getLineHeight=function(){return me*oo};var Nc=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(oo=v),this},jc=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return oo};Nc(e.lineHeight);var Ai=m.__private__.getHorizontalCoordinate=function(v){return E(v)},$i=m.__private__.getVerticalCoordinate=function(v){return j===w.ADVANCED?v:nt[q].mediaBox.topRightY-nt[q].mediaBox.bottomLeftY-E(v)},Cf=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(v){return F(Ai(v))},gs=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(v){return F($i(v))},si=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return jt(si)},m.__private__.setStrokeColor=m.setDrawColor=function(v,P,K,X){return si=Nn({ch1:v,ch2:P,ch3:K,ch4:X,pdfColorType:"draw",precision:2}),Y(si),this};var wl=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return jt(wl)},m.__private__.setFillColor=m.setFillColor=function(v,P,K,X){return wl=Nn({ch1:v,ch2:P,ch3:K,ch4:X,pdfColorType:"fill",precision:2}),Y(wl),this};var ao=e.textColor||"0 g",Pf=m.__private__.getTextColor=m.getTextColor=function(){return jt(ao)};m.__private__.setTextColor=m.setTextColor=function(v,P,K,X){return ao=Nn({ch1:v,ch2:P,ch3:K,ch4:X,pdfColorType:"text",precision:3}),this};var Qo=e.charSpace,kf=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Qo||0)};m.__private__.setCharSpace=m.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qo=v,this};var bl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(v){var P=m.CapJoinStyles[v];if(P===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bl=P,Y(P+" J"),this};var Sl=0;m.__private__.setLineJoin=m.setLineJoin=function(v){var P=m.CapJoinStyles[v];if(P===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sl=P,Y(P+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(F(E(v))+" M"),this},m.GState=Eh,m.setGState=function(v){(v=typeof v=="string"?zt[Cr[v]]:Ac(null,v)).equals(Ur)||(Y("/"+v.id+" gs"),Ur=v)};var Ac=function(v,P){if(!v||!Cr[v]){var K=!1;for(var X in zt)if(zt.hasOwnProperty(X)&&zt[X].equals(P)){K=!0;break}if(K)P=zt[X];else{var ue="GS"+(Object.keys(zt).length+1).toString(10);zt[ue]=P,P.id=ue}return v&&(Cr[v]=P.id),Nt.publish("addGState",P),P}};m.addGState=function(v,P){return Ac(v,P),this},m.saveGraphicsState=function(){return Y("q"),qr.push({key:Ye,size:me,color:ao}),this},m.restoreGraphicsState=function(){Y("Q");var v=qr.pop();return Ye=v.key,me=v.size,ao=v.color,Ur=null,this},m.setCurrentTransformationMatrix=function(v){return Y(v.toString()+" cm"),this},m.comment=function(v){return Y("#"+v),this};var Zo=function(v,P){var K=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return K},set:function(ye){isNaN(ye)||(K=parseFloat(ye))}});var X=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return X},set:function(ye){isNaN(ye)||(X=parseFloat(ye))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(ye){ue=ye.toString()}}),this},Nl=function(v,P,K,X){Zo.call(this,v,P),this.type="rect";var ue=K||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Ae){isNaN(Ae)||(ue=parseFloat(Ae))}});var ye=X||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(Ae){isNaN(Ae)||(ye=parseFloat(Ae))}}),this},jl=function(){this.page=Yt,this.currentPage=q,this.pages=Ce.slice(0),this.pagesContext=nt.slice(0),this.x=Cn,this.y=pt,this.matrix=Lr,this.width=lo(q),this.height=vs(q),this.outputDestination=Te,this.id="",this.objectNumber=-1};jl.prototype.restore=function(){Yt=this.page,q=this.currentPage,nt=this.pagesContext,Ce=this.pages,Cn=this.x,pt=this.y,Lr=this.matrix,Al(q,this.width),Ll(q,this.height),Te=this.outputDestination};var Lc=function(v,P,K,X,ue){_e.push(new jl),Yt=q=0,Ce=[],Cn=v,pt=P,Lr=ue,ml([K,X])},Ef=function(v){if(ht[v])_e.pop().restore();else{var P=new jl,K="Xo"+(Object.keys(Ve).length+1).toString(10);P.id=K,ht[v]=K,Ve[K]=P,Nt.publish("addFormObject",P),_e.pop().restore()}};for(var ea in m.beginFormObject=function(v,P,K,X,ue){return Lc(v,P,K,X,ue),this},m.endFormObject=function(v){return Ef(v),this},m.doFormObject=function(v,P){var K=Ve[ht[v]];return Y("q"),Y(P.toString()+" cm"),Y("/"+K.id+" Do"),Y("Q"),this},m.getFormObject=function(v){var P=Ve[ht[v]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},m.save=function(v,P){return v=v||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(So(Ko(Vi()),v),typeof So.unload=="function"&&tt.setTimeout&&setTimeout(So.unload,911),this):new Promise(function(K,X){try{var ue=So(Ko(Vi()),v);typeof So.unload=="function"&&tt.setTimeout&&setTimeout(So.unload,911),K(ue)}catch(ye){X(ye.message)}})},et.API)et.API.hasOwnProperty(ea)&&(ea==="events"&&et.API.events.length?function(v,P){var K,X,ue;for(ue=P.length-1;ue!==-1;ue--)K=P[ue][0],X=P[ue][1],v.subscribe.apply(v,[K].concat(typeof X=="function"?[X]:X))}(Nt,et.API.events):m[ea]=et.API[ea]);var lo=m.getPageWidth=function(v){return(nt[v=v||q].mediaBox.topRightX-nt[v].mediaBox.bottomLeftX)/Me},Al=m.setPageWidth=function(v,P){nt[v].mediaBox.topRightX=P*Me+nt[v].mediaBox.bottomLeftX},vs=m.getPageHeight=function(v){return(nt[v=v||q].mediaBox.topRightY-nt[v].mediaBox.bottomLeftY)/Me},Ll=m.setPageHeight=function(v,P){nt[v].mediaBox.topRightY=P*Me+nt[v].mediaBox.bottomLeftY};return m.internal={pdfEscape:fr,getStyle:xc,getFont:Lf,getFontSize:ke,getCharSpace:kf,getTextColor:Pf,getLineHeight:Sc,getLineHeightFactor:jc,getLineWidth:Xo,write:Qe,getHorizontalCoordinate:Ai,getVerticalCoordinate:$i,getCoordinateString:Cf,getVerticalCoordinateString:gs,collections:{},newObject:wt,newAdditionalObject:cr,newObjectDeferred:Tt,newObjectDeferredBegin:Ft,getFilters:dr,putStream:Xt,events:Nt,scaleFactor:Me,pageSize:{getWidth:function(){return lo(q)},setWidth:function(v){Al(q,v)},getHeight:function(){return vs(q)},setHeight:function(v){Ll(q,v)}},encryptionOptions:f,encryption:Vn,getEncryptor:wf,output:Yo,getNumberOfPages:mf,pages:Ce,out:Y,f2:ee,f3:T,getPageInfo:yc,getPageInfoByObjId:it,getCurrentPageInfo:bf,getPDFVersion:S,Point:Zo,Rectangle:Nl,Matrix:Fe,hasHotfix:vc},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return lo(q)},set:function(v){Al(q,v)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return vs(q)},set:function(v){Ll(q,v)},enumerable:!0,configurable:!0}),ff.call(m,Le),Ye="F1",pc(i,n),Nt.publish("initialized"),m}ya.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},ya.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ya.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},ya.prototype.processOwnerPassword=function(e,t){return c1(u1(t).substr(0,5),e)},ya.prototype.encryptor=function(e,t){var n=u1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return c1(n,r)}},Eh.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Et(e)!==Et(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},et.API={events:[]},et.version="3.0.1";var an=et.API,eg=1,zo=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ga=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ot=function(e){return e.toFixed(2)},_s=function(e){return e.toFixed(5)};an.__acroform__={};var Nr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},m5=function(e){return e*eg},ki=function(e){var t=new n4,n=$e.internal.getHeight(e)||0,r=$e.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ot(r)),Number(ot(n))],t},N8=an.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},j8=an.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},A8=an.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},mn=an.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return A8(e,t-1)},gn=an.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return N8(e,t-1)},vn=an.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return j8(e,t-1)},L8=an.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(ot(l.lowerLeft_X)),Number(ot(l.lowerLeft_Y)),Number(ot(l.upperRight_X)),Number(ot(l.upperRight_Y))]},C8=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=d1(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+ot(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ki(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},d1=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=n,o=$e.internal.getHeight(e)||0;o=o<0?-o:o;var a=$e.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(T,E,G){if(T+1<i.length){var V=E+" "+i[T+1][0];return bd(V,e,G).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var d,f,p=bd("3",e,s).height,g=e.multiline?o-s:(o-p)/2,m=g+=2,N=0,S=0,A=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+bd(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var x="",w=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var R=!1;if(i[j].length!==1&&A!==i[j].length-1){if((p+2)*(w+2)+2>o)continue e;x+=i[j][A],R=!0,S=j,j--}else{x=(x+=i[j][A]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var B=parseInt(j),z=l(B,x,s),F=j>=i.length-1;if(z&&!F){x+=" ",A=0;continue}if(z||F){if(F)S=B;else if(e.multiline&&(p+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(p+2)*(w+2)+2>o)continue e;S=B}}for(var D="",W=N;W<=S;W++){var ee=i[W];if(e.multiline){if(W===S){D+=ee[A]+" ",A=(A+1)%ee.length;continue}if(W===N){D+=ee[ee.length-1]+" ";continue}}D+=ee[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,f=bd(D,e,s).width,e.textAlign){case"right":d=a-f-2;break;case"center":d=(a-f)/2;break;case"left":default:d=2}t+=ot(d)+" "+ot(m)+` Td
`,t+="("+zo(D)+`) Tj
`,t+=-ot(d)+` 0 Td
`,m=-(s+2),f=0,N=R?S:S+1,w++,x=""}break}return r.text=t,r.fontSize=s,r},bd=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},P8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},k8=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},E8=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Et(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},_8=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Si.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(P8)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");eg=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new r4,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&k8(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],d=a.Rect;if(a.Rect&&(a.Rect=L8(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=$e.createDefaultAppearanceStream(a),Et(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=d,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=C8(a);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var p="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var m=a.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var N=m[o];typeof N=="function"&&(N=N.call(i,a)),p+="/"+o+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=m)=="function"&&(N=N.call(i,a)),p+="/"+o+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&E8(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},t4=an.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Et(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+zo(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Up=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+zo(r(e))+")"},Fi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fi.prototype.toString=function(){return this.objId+" 0 R"},Fi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Fi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:t4(i,this.objId,this.scope)}):i instanceof Fi?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var n4=function(){Fi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Nr(n4,Fi);var r4=function(){Fi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+zo(n(e))+")"}},set:function(n){e=n}})};Nr(r4,Fi);var Si=function e(){Fi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!mn(t,3)},set:function(x){x?this.F=gn(t,3):this.F=vn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof _h)return;s="FieldObject"+e.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+zo(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/eg:d},set:function(x){d=x}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(x){f=x}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof _h||this instanceof _o))return Up(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=x}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Fn?g:Up(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=this instanceof Fn?x:x.substr(0,1)==="("?ga(x.substr(1,x.length-2)):ga(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fn?ga(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof Fn?"/"+x:x}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Fn?m:Up(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=this instanceof Fn?x:x.substr(0,1)==="("?ga(x.substr(1,x.length-2)):ga(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fn?ga(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof Fn?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(x){x=!!x,S=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(x){N=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,1)},set:function(x){x?this.Ff=gn(this.Ff,1):this.Ff=vn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,2)},set:function(x){x?this.Ff=gn(this.Ff,2):this.Ff=vn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,3)},set:function(x){x?this.Ff=gn(this.Ff,3):this.Ff=vn(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');A=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(A){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Nr(Si,Fi);var Ha=function(){Si.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return t4(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,d=[];l=o.exec(s);)d.push(l[a]);return d}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,18)},set:function(n){n?this.Ff=gn(this.Ff,18):this.Ff=vn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=gn(this.Ff,19):this.Ff=vn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,20)},set:function(n){n?(this.Ff=gn(this.Ff,20),t.sort()):this.Ff=vn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,22)},set:function(n){n?this.Ff=gn(this.Ff,22):this.Ff=vn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,23)},set:function(n){n?this.Ff=gn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,27)},set:function(n){n?this.Ff=gn(this.Ff,27):this.Ff=vn(this.Ff,27)}}),this.hasAppearanceStream=!1};Nr(Ha,Si);var Wa=function(){Ha.call(this),this.fontName="helvetica",this.combo=!1};Nr(Wa,Ha);var Ga=function(){Wa.call(this),this.combo=!0};Nr(Ga,Wa);var Hd=function(){Ga.call(this),this.edit=!0};Nr(Hd,Ga);var Fn=function(){Si.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,15)},set:function(n){n?this.Ff=gn(this.Ff,15):this.Ff=vn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,16)},set:function(n){n?this.Ff=gn(this.Ff,16):this.Ff=vn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,17)},set:function(n){n?this.Ff=gn(this.Ff,17):this.Ff=vn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,26)},set:function(n){n?this.Ff=gn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+zo(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Et(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Nr(Fn,Si);var Wd=function(){Fn.call(this),this.pushButton=!0};Nr(Wd,Fn);var Ka=function(){Fn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Nr(Ka,Fn);var _h=function(){var e,t;Si.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+zo(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Et(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$e.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Nr(_h,Si),Ka.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Ka.prototype.createOption=function(e){var t=new _h;return t.Parent=this,t.optionName=e,this.Kids.push(t),T8.call(this.scope,t),t};var Gd=function(){Fn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$e.CheckBox.createAppearanceStream()};Nr(Gd,Fn);var _o=function(){Si.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,13)},set:function(t){t?this.Ff=gn(this.Ff,13):this.Ff=vn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,21)},set:function(t){t?this.Ff=gn(this.Ff,21):this.Ff=vn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,23)},set:function(t){t?this.Ff=gn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,24)},set:function(t){t?this.Ff=gn(this.Ff,24):this.Ff=vn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,25)},set:function(t){t?this.Ff=gn(this.Ff,25):this.Ff=vn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,26)},set:function(t){t?this.Ff=gn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Nr(_o,Si);var Kd=function(){_o.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,14)},set:function(e){e?this.Ff=gn(this.Ff,14):this.Ff=vn(this.Ff,14)}}),this.password=!0};Nr(Kd,_o);var $e={CheckBox:{createAppearanceStream:function(){return{N:{On:$e.CheckBox.YesNormal},D:{On:$e.CheckBox.YesPushDown,Off:$e.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ki(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=d1(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+ot($e.internal.getWidth(e))+" "+ot($e.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ot(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=ki(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=$e.internal.getHeight(e),o=$e.internal.getWidth(e),a=d1(e,e.caption);return i.push("1 g"),i.push("0 0 "+ot(o)+" "+ot(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ot(o-1)+" "+ot(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+ot(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=ki(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ot($e.internal.getWidth(e))+" "+ot($e.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:$e.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=$e.RadioButton.Circle.YesNormal,t.D[e]=$e.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ki(e);t.scope=e.scope;var n=[],r=$e.internal.getWidth(e)<=$e.internal.getHeight(e)?$e.internal.getWidth(e)/4:$e.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=$e.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+_s($e.internal.getWidth(e)/2)+" "+_s($e.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ki(e);t.scope=e.scope;var n=[],r=$e.internal.getWidth(e)<=$e.internal.getHeight(e)?$e.internal.getWidth(e)/4:$e.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*$e.internal.Bezier_C).toFixed(5)),o=Number((r*$e.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_s($e.internal.getWidth(e)/2)+" "+_s($e.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+_s($e.internal.getWidth(e)/2)+" "+_s($e.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ki(e);t.scope=e.scope;var n=[],r=$e.internal.getWidth(e)<=$e.internal.getHeight(e)?$e.internal.getWidth(e)/4:$e.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*$e.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_s($e.internal.getWidth(e)/2)+" "+_s($e.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:$e.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=$e.RadioButton.Cross.YesNormal,t.D[e]=$e.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ki(e);t.scope=e.scope;var n=[],r=$e.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+ot($e.internal.getWidth(e)-2)+" "+ot($e.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ot(r.x1.x)+" "+ot(r.x1.y)+" m"),n.push(ot(r.x2.x)+" "+ot(r.x2.y)+" l"),n.push(ot(r.x4.x)+" "+ot(r.x4.y)+" m"),n.push(ot(r.x3.x)+" "+ot(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ki(e);t.scope=e.scope;var n=$e.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+ot($e.internal.getWidth(e))+" "+ot($e.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ot($e.internal.getWidth(e)-2)+" "+ot($e.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ot(n.x1.x)+" "+ot(n.x1.y)+" m"),r.push(ot(n.x2.x)+" "+ot(n.x2.y)+" l"),r.push(ot(n.x4.x)+" "+ot(n.x4.y)+" m"),r.push(ot(n.x3.x)+" "+ot(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ki(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ot($e.internal.getWidth(e))+" "+ot($e.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};$e.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=$e.internal.getWidth(e),n=$e.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},$e.internal.getWidth=function(e){var t=0;return Et(e)==="object"&&(t=m5(e.Rect[2])),t},$e.internal.getHeight=function(e){var t=0;return Et(e)==="object"&&(t=m5(e.Rect[3])),t};var T8=an.addField=function(e){if(_8(this,e),!(e instanceof Si))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};an.AcroFormChoiceField=Ha,an.AcroFormListBox=Wa,an.AcroFormComboBox=Ga,an.AcroFormEditBox=Hd,an.AcroFormButton=Fn,an.AcroFormPushButton=Wd,an.AcroFormRadioButton=Ka,an.AcroFormCheckBox=Gd,an.AcroFormTextField=_o,an.AcroFormPasswordField=Kd,an.AcroFormAppearance=$e,an.AcroForm={ChoiceField:Ha,ListBox:Wa,ComboBox:Ga,EditBox:Hd,Button:Fn,PushButton:Wd,RadioButton:Ka,CheckBox:Gd,TextField:_o,PasswordField:Kd,Appearance:$e},et.AcroForm={ChoiceField:Ha,ListBox:Wa,ComboBox:Ga,EditBox:Hd,Button:Fn,PushButton:Wd,RadioButton:Ka,CheckBox:Gd,TextField:_o,PasswordField:Kd,Appearance:$e};function i4(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(T,E){var G,V,ae,ie,oe,H=t;if((E=E||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(z(T))for(oe in n)for(ae=n[oe],G=0;G<ae.length;G+=1){for(ie=!0,V=0;V<ae[G].length;V+=1)if(ae[G][V]!==void 0&&ae[G][V]!==T[V]){ie=!1;break}if(ie===!0){H=oe;break}}else for(oe in n)for(ae=n[oe],G=0;G<ae.length;G+=1){for(ie=!0,V=0;V<ae[G].length;V+=1)if(ae[G][V]!==void 0&&ae[G][V]!==T.charCodeAt(V)){ie=!1;break}if(ie===!0){H=oe;break}}return H===t&&E!==t&&(H=E),H},i=function T(E){for(var G=this.internal.write,V=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:E.width}),ie.push({key:"Height",value:E.height}),E.colorSpace===A.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===A.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var oe="",H=0,ne=E.transparency.length;H<ne;H++)oe+=E.transparency[H]+" "+E.transparency[H]+" ";ie.push({key:"Mask",value:"["+oe+"]"})}E.sMask!==void 0&&ie.push({key:"SMask",value:E.objectId+1+" 0 R"});var te=E.filter!==void 0?["/"+E.filter]:void 0;if(V({data:E.data,additionalKeyValues:ie,alreadyAppliedFilters:te,objectId:E.objectId}),G("endobj"),"sMask"in E&&E.sMask!==void 0){var xe="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,L={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:xe,data:E.sMask};"filter"in E&&(L.filter=E.filter),T.call(this,L)}if(E.colorSpace===A.INDEXED){var q=this.internal.newObject();V({data:D(new Uint8Array(E.palette)),objectId:q}),G("endobj")}},s=function(){var T=this.internal.collections.addImage_images;for(var E in T)i.call(this,T[E])},o=function(){var T,E=this.internal.collections.addImage_images,G=this.internal.write;for(var V in E)G("/I"+(T=E[V]).index,T.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var T=this.internal.collections.addImage_images;return a.call(this),T},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(T){return typeof e["process"+T.toUpperCase()]=="function"},p=function(T){return Et(T)==="object"&&T.nodeType===1},g=function(T,E){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var G=""+T.getAttribute("src");if(G.indexOf("data:image/")===0)return Au(unescape(G).split("base64,").pop());var V=e.loadFile(G,!0);if(V!==void 0)return V}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ae;switch(E){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;case"JPEG":case"JPG":default:ae="image/jpeg"}return Au(T.toDataURL(ae,1).split("base64,").pop())}},m=function(T){var E=this.internal.collections.addImage_images;if(E){for(var G in E)if(T===E[G].alias)return E[G]}},N=function(T,E,G){return T||E||(T=-96,E=-96),T<0&&(T=-1*G.width*72/T/this.internal.scaleFactor),E<0&&(E=-1*G.height*72/E/this.internal.scaleFactor),T===0&&(T=E*G.width/G.height),E===0&&(E=T*G.height/G.width),[T,E]},S=function(T,E,G,V,ae,ie){var oe=N.call(this,G,V,ae),H=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,te=l.call(this);if(G=oe[0],V=oe[1],te[ae.index]=ae,ie){ie*=Math.PI/180;var xe=Math.cos(ie),L=Math.sin(ie),q=function(J){return J.toFixed(4)},U=[q(xe),q(L),q(-1*L),q(xe),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,H(T),ne(E+V),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([H(G),"0","0",H(V),"0","0","cm"].join(" "))):this.internal.write([H(G),"0","0",H(V),H(T),ne(E+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(T){var E,G,V=0;if(typeof T=="string")for(G=T.length,E=0;E<G;E++)V=(V<<5)-V+T.charCodeAt(E),V|=0;else if(z(T))for(G=T.byteLength/2,E=0;E<G;E++)V=(V<<5)-V+T[E],V|=0;return V},j=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var E=!0;return T.length===0&&(E=!1),T.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(E=!1),E},R=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var E=T.indexOf(",");return E<0?null:T.substring(0,E).trim().endsWith("base64")?T.substring(E+1):null},B=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return B()&&T instanceof ArrayBuffer};var z=e.__addimage__.isArrayBufferView=function(T){return B()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},F=e.__addimage__.binaryStringToUint8Array=function(T){for(var E=T.length,G=new Uint8Array(E),V=0;V<E;V++)G[V]=T.charCodeAt(V);return G},D=e.__addimage__.arrayBufferToBinaryString=function(T){for(var E="",G=z(T)?T:new Uint8Array(T),V=0;V<G.length;V+=8192)E+=String.fromCharCode.apply(null,G.subarray(V,V+8192));return E};e.addImage=function(){var T,E,G,V,ae,ie,oe,H,ne;if(typeof arguments[1]=="number"?(E=t,G=arguments[1],V=arguments[2],ae=arguments[3],ie=arguments[4],oe=arguments[5],H=arguments[6],ne=arguments[7]):(E=arguments[1],G=arguments[2],V=arguments[3],ae=arguments[4],ie=arguments[5],oe=arguments[6],H=arguments[7],ne=arguments[8]),Et(T=arguments[0])==="object"&&!p(T)&&"imageData"in T){var te=T;T=te.imageData,E=te.format||E||t,G=te.x||G||0,V=te.y||V||0,ae=te.w||te.width||ae,ie=te.h||te.height||ie,oe=te.alias||oe,H=te.compression||H,ne=te.rotation||te.angle||ne}var xe=this.internal.getFilters();if(H===void 0&&xe.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(G)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var L=W.call(this,T,E,oe,H);return S.call(this,G,V,ae,ie,L,ne),this};var W=function(T,E,G,V){var ae,ie,oe;if(typeof T=="string"&&r(T)===t){T=unescape(T);var H=ee(T,!1);(H!==""||(H=e.loadFile(T,!0))!==void 0)&&(T=H)}if(p(T)&&(T=g(T,E)),E=r(T,E),!f(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((oe=G)==null||oe.length===0)&&(G=function(ne){return typeof ne=="string"||z(ne)?w(ne):z(ne.data)?w(ne.data):null}(T)),(ae=m.call(this,G))||(B()&&(T instanceof Uint8Array||E==="RGBA"||(ie=T,T=F(T))),ae=this["process"+E.toUpperCase()](T,d.call(this),G,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in e.image_compression?ne:x.NONE}(V),ie)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},ee=e.__addimage__.convertBase64ToBinaryString=function(T,E){E=typeof E!="boolean"||E;var G,V="";if(typeof T=="string"){var ae;G=(ae=R(T))!==null&&ae!==void 0?ae:T;try{V=Au(G)}catch(ie){if(E)throw j(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(T){var E,G,V="";if(p(T)&&(T=g(T)),typeof T=="string"&&r(T)===t&&((V=ee(T,!1))===""&&(V=e.loadFile(T)||""),T=V),G=r(T),!f(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!B()||T instanceof Uint8Array||(T=F(T)),!(E=this["process"+G.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=G,E}})(et.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};et.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,f=!1,p=0;p<d.length&&!f;p++)switch((r=d[p]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){r=d[g];var m=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(S.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(x(r.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(x(w))+") >>",S.content=s;var j=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(S.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(N(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var B=this.annotations._nameMap[r.options.name];r.options.pageNumber=B.page,r.options.top=B.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var z=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+z+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:d(r),w:l(n+i),h:d(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(n,a).length;o=Math.ceil(d*f)}else a=l,o=d;return this.text(n,r,i,s),i+=.2*d,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-d,a,o,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(et.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(S){return t[S.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},a=e.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&i.indexOf(S.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(S){var A=0,x=n,w="",j=0;for(A=0;A<S.length;A+=1)x[S.charCodeAt(A)]!==void 0?(j++,typeof(x=x[S.charCodeAt(A)])=="number"&&(w+=String.fromCharCode(x),x=n,j=0),A===S.length-1&&(x=n,w+=S.charAt(A-(j-1)),A-=j-1,j=0)):(x=n,w+=S.charAt(A-j),A-=j,j=0);return w};e.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(S,A,x){return o(S)?s(S)===!1?-1:!d(S)||!o(A)&&!o(x)||!o(x)&&a(A)||a(S)&&!o(A)||a(S)&&l(A)||a(S)&&a(A)?0:f(S)&&o(A)&&!a(A)&&o(x)&&d(x)?3:a(S)||!o(x)?1:2:-1},m=function(S){var A=0,x=0,w=0,j="",R="",B="",z=(S=S||"").split("\\s+"),F=[];for(A=0;A<z.length;A+=1){for(F.push(""),x=0;x<z[A].length;x+=1)j=z[A][x],R=z[A][x-1],B=z[A][x+1],o(j)?(w=g(j,R,B),F[A]+=w!==-1?String.fromCharCode(t[j.charCodeAt(0)][w]):j):F[A]+=j;F[A]=p(F[A])}return F.join(" ")},N=e.__arabicParser__.processArabic=e.processArabic=function(){var S,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(A)){var w=0;for(x=[],w=0;w<A.length;w+=1)Array.isArray(A[w])?x.push([m(A[w][0]),A[w][1],A[w][2]]):x.push([m(A[w])]);S=x}else S=m(A);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};e.events.push(["preProcessText",N])}(et.API),et.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(et.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(S){l=S}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(S){N=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,d){r.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,m=0,N=0,S=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=d.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(j,R){return j.concat(A.splitTextToSize(R,x))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)m<(S=this.getStringUnitWidth(l[w],{font:p})*f)&&(m=S);return m!==0&&(N=l.length),{w:m/=g,h:Math.max((N*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===l.lineNumber?(l.x=(d.x||0)+(d.width||0),l.y=d.y||0):d.y+d.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=d.y+d.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};e.table=function(l,d,f,p,g){if(r.call(this),!f)throw new Error("No data for PDF table.");var m,N,S,A,x=[],w=[],j=[],R={},B={},z=[],F=[],D=(g=g||{}).autoSize||!1,W=g.printHeaders!==!1,ee=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,T=g.margins||Object.assign({width:this.getPageWidth()},t),E=typeof g.padding=="number"?g.padding:3,G=g.headerBackgroundColor||"#c8c8c8",V=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=V,this.setFontSize(ee),p==null)w=x=Object.keys(f[0]),j=x.map(function(){return"left"});else if(Array.isArray(p)&&Et(p[0])==="object")for(x=p.map(function(te){return te.name}),w=p.map(function(te){return te.prompt||te.name||""}),j=p.map(function(te){return te.align||"left"}),m=0;m<p.length;m+=1)B[p[m].name]=p[m].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(w=x=p,j=x.map(function(){return"left"}));if(D||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<x.length;m+=1){for(R[A=x[m]]=f.map(function(te){return te[A]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(w[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=R[A],this.setFont(void 0,"normal"),S=0;S<N.length;S+=1)z.push(this.getTextDimensions(N[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[A]=Math.max.apply(null,z)+E+E,z=[]}if(W){var ae={};for(m=0;m<x.length;m+=1)ae[x[m]]={},ae[x[m]].text=w[m],ae[x[m]].align=j[m];var ie=a.call(this,ae,B);F=x.map(function(te){return new s(l,d,B[te],ie,ae[te].text,void 0,ae[te].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var oe=p.reduce(function(te,xe){return te[xe.name]=xe.align,te},{});for(m=0;m<f.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:f[m]},this);var H=a.call(this,f[m],B);for(S=0;S<x.length;S+=1){var ne=f[m][x[S]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:S,data:ne},this),o.call(this,new s(l,d,B[x[S]],H,ne,m+2,oe[x[S]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=d,this};var a=function(l,d){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var N=l[m];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+f+f},this).reduce(function(m,N){return Math.max(m,N)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=l;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(N)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(et.API);var s4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},o4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],h1=i4(o4),a4=[100,200,300,400,500,600,700,800,900],F8=i4(a4);function f1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return s4[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof h1[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function g5(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var I8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},v5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function y5(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function R8(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},I8,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=f1(t[a])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+y5(s)+"' and default family '"+r+"'.");if(o=function(l,d){if(d[l])return d[l];var f=h1[l],p=f<=h1.normal?-1:1,g=g5(d,o4,f,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,o),o=function(l,d){if(d[l])return d[l];for(var f=s4[l],p=0;p<f.length;++p)if(d[f[p]])return d[f[p]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,d){if(d[l])return d[l];if(l===400&&d[500])return d[500];if(l===500&&d[400])return d[400];var f=F8[l],p=g5(d,a4,f,l<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+l);return p}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+y5(s)+"'.");return o}function x5(e){return e.trimLeft()}function D8(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function M8(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Sd,w5,b5,Vp=["times"];(function(e){var t,n,r,i,s,o,a,l,d,f=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,d=new f}]);var p=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=L;Object.defineProperty(this,"pdf",{get:function(){return q}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(ve){U=!!ve}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(ve){J=!!ve}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(ve){isNaN(ve)||(re=ve)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(ve){isNaN(ve)||(ce=ve)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ve){var Y;typeof ve=="number"?Y=[ve,ve,ve,ve]:((Y=new Array(4))[0]=ve[0],Y[1]=ve.length>=2?ve[1]:Y[0],Y[2]=ve.length>=3?ve[2]:Y[0],Y[3]=ve.length>=4?ve[3]:Y[1]),d.margin=Y}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(ve){fe=ve}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(ve){pe=ve}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(ve){Ee=ve}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ve){ve instanceof f&&(d=ve)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ve){d.path=ve}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(ve){Ce=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var Y;Y=g(ve),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var Y=g(ve);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Re=null;function Te(ve,Y){if(Re===null){var Qe=function(Ue){var Le=[];return Object.keys(Ue).forEach(function(me){Ue[me].forEach(function(Ne){var ke=null;switch(Ne){case"bold":ke={family:me,weight:"bold"};break;case"italic":ke={family:me,style:"italic"};break;case"bolditalic":ke={family:me,weight:"bold",style:"italic"};break;case"":case"normal":ke={family:me}}ke!==null&&(ke.ref={name:me,style:Ne},Le.push(ke))})}),Le}(ve.getFontList());Re=function(Ue){for(var Le={},me=0;me<Ue.length;++me){var Ne=f1(Ue[me]),ke=Ne.family,We=Ne.stretch,rt=Ne.style,at=Ne.weight;Le[ke]=Le[ke]||{},Le[ke][We]=Le[ke][We]||{},Le[ke][We][rt]=Le[ke][We][rt]||{},Le[ke][We][rt][at]=Ne}return Le}(Qe.concat(Y))}return Re}var Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(ve){Re=null,Ge=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var Y;if(this.ctx.font=ve,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var Qe=Y[1];Y[2];var Ue=Y[3],Le=Y[4];Y[5];var me=Y[6],Ne=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(Ne==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:Ne==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var ke=function(Xe){var Ye,Me,Cn=[],pt=Xe.trim();if(pt==="")return Vp;if(pt in v5)return[v5[pt]];for(;pt!=="";){switch(Me=null,Ye=(pt=x5(pt)).charAt(0)){case'"':case"'":Me=D8(pt.substring(1),Ye);break;default:Me=M8(pt)}if(Me===null||(Cn.push(Me[0]),(pt=x5(Me[1]))!==""&&pt.charAt(0)!==","))return Vp;pt=pt.replace(/^,/,"")}return Cn}(me);if(this.fontFaces){var We=R8(Te(this.pdf,this.fontFaces),ke.map(function(Xe){return{family:Xe,stretch:"normal",weight:Ue,style:Qe}}));this.pdf.setFont(We.ref.name,We.ref.style)}else{var rt="";(Ue==="bold"||parseInt(Ue,10)>=700||Qe==="bold")&&(rt="bold"),Qe==="italic"&&(rt+="italic"),rt.length===0&&(rt="normal");for(var at="",ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<ke.length;vt++){if(this.pdf.internal.getFont(ke[vt],rt,{noFallback:!0,disableWarning:!0})!==void 0){at=ke[vt];break}if(rt==="bolditalic"&&this.pdf.internal.getFont(ke[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=ke[vt],rt="bold";else if(this.pdf.internal.getFont(ke[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=ke[vt],rt="normal";break}}if(at===""){for(var At=0;At<ke.length;At++)if(ft[ke[At]]){at=ft[ke[At]];break}}at=at===""?"Times":at,this.pdf.setFont(at,rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};p.prototype.setLineDash=function(L){this.lineDash=L},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){R.call(this,"fill",!1)},p.prototype.stroke=function(){R.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(L,q){if(isNaN(L)||isNaN(q))throw Bt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new o(L,q)},p.prototype.closePath=function(){var L=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Et(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){L=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},p.prototype.lineTo=function(L,q){if(isNaN(L)||isNaN(q))throw Bt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new o(U.x,U.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},p.prototype.quadraticCurveTo=function(L,q,U,J){if(isNaN(U)||isNaN(J)||isNaN(L)||isNaN(q))throw Bt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(U,J)),ce=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},p.prototype.bezierCurveTo=function(L,q,U,J,re,ce){if(isNaN(re)||isNaN(ce)||isNaN(L)||isNaN(q)||isNaN(U)||isNaN(J))throw Bt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new o(re,ce)),pe=this.ctx.transform.applyToPoint(new o(L,q)),Ee=this.ctx.transform.applyToPoint(new o(U,J));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Ee.x,y2:Ee.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},p.prototype.arc=function(L,q,U,J,re,ce){if(isNaN(L)||isNaN(q)||isNaN(U)||isNaN(J)||isNaN(re))throw Bt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new o(L,q));L=fe.x,q=fe.y;var pe=this.ctx.transform.applyToPoint(new o(0,U)),Ee=this.ctx.transform.applyToPoint(new o(0,0));U=Math.sqrt(Math.pow(pe.x-Ee.x,2)+Math.pow(pe.y-Ee.y,2))}Math.abs(re-J)>=2*Math.PI&&(J=0,re=2*Math.PI),this.path.push({type:"arc",x:L,y:q,radius:U,startAngle:J,endAngle:re,counterclockwise:ce})},p.prototype.arcTo=function(L,q,U,J,re){throw new Error("arcTo not implemented.")},p.prototype.rect=function(L,q,U,J){if(isNaN(L)||isNaN(q)||isNaN(U)||isNaN(J))throw Bt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,q),this.lineTo(L+U,q),this.lineTo(L+U,q+J),this.lineTo(L,q+J),this.lineTo(L,q),this.lineTo(L+U,q),this.lineTo(L,q)},p.prototype.fillRect=function(L,q,U,J){if(isNaN(L)||isNaN(q)||isNaN(U)||isNaN(J))throw Bt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,q,U,J),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},p.prototype.strokeRect=function(L,q,U,J){if(isNaN(L)||isNaN(q)||isNaN(U)||isNaN(J))throw Bt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(L,q,U,J),this.stroke())},p.prototype.clearRect=function(L,q,U,J){if(isNaN(L)||isNaN(q)||isNaN(U)||isNaN(J))throw Bt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,q,U,J))},p.prototype.save=function(L){L=typeof L!="boolean"||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},p.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(q),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(L){var q,U,J,re;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))q=0,U=0,J=0,re=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ce!==null)q=parseInt(ce[1]),U=parseInt(ce[2]),J=parseInt(ce[3]),re=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)q=parseInt(ce[1]),U=parseInt(ce[2]),J=parseInt(ce[3]),re=parseFloat(ce[4]);else{if(re=1,typeof L=="string"&&L.charAt(0)!=="#"){var fe=new Q3(L);L=fe.ok?fe.toHex():"#000000"}L.length===4?(q=L.substring(1,2),q+=q,U=L.substring(2,3),U+=U,J=L.substring(3,4),J+=J):(q=L.substring(1,3),U=L.substring(3,5),J=L.substring(5,7)),q=parseInt(q,16),U=parseInt(U,16),J=parseInt(J,16)}}return{r:q,g:U,b:J,a:re,style:L}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(L,q,U,J){if(isNaN(q)||isNaN(U)||typeof L!="string")throw Bt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!m.call(this)){var re=H(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;E.call(this,{text:L,x:q,y:U,scale:ce,angle:re,align:this.textAlign,maxWidth:J})}},p.prototype.strokeText=function(L,q,U,J){if(isNaN(q)||isNaN(U)||typeof L!="string")throw Bt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){J=isNaN(J)?void 0:J;var re=H(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;E.call(this,{text:L,x:q,y:U,scale:ce,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:J})}},p.prototype.measureText=function(L){if(typeof L!="string")throw Bt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,U=this.pdf.internal.scaleFactor,J=q.internal.getFontSize(),re=q.getStringUnitWidth(L)*J/q.internal.scaleFactor,ce=function(fe){var pe=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new ce({width:re*=Math.round(96*U/72*1e4)/1e4})},p.prototype.scale=function(L,q){if(isNaN(L)||isNaN(q))throw Bt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new l(L,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},p.prototype.rotate=function(L){if(isNaN(L))throw Bt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.translate=function(L,q){if(isNaN(L)||isNaN(q))throw Bt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new l(1,0,0,1,L,q);this.ctx.transform=this.ctx.transform.multiply(U)},p.prototype.transform=function(L,q,U,J,re,ce){if(isNaN(L)||isNaN(q)||isNaN(U)||isNaN(J)||isNaN(re)||isNaN(ce))throw Bt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new l(L,q,U,J,re,ce);this.ctx.transform=this.ctx.transform.multiply(fe)},p.prototype.setTransform=function(L,q,U,J,re,ce){L=isNaN(L)?1:L,q=isNaN(q)?0:q,U=isNaN(U)?0:U,J=isNaN(J)?1:J,re=isNaN(re)?0:re,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(L,q,U,J,re,ce)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(L,q,U,J,re,ce,fe,pe,Ee){var Ce=this.pdf.getImageProperties(L),Re=1,Te=1,Ge=1,ve=1;J!==void 0&&pe!==void 0&&(Ge=pe/J,ve=Ee/re,Re=Ce.width/J*pe/J,Te=Ce.height/re*Ee/re),ce===void 0&&(ce=q,fe=U,q=0,U=0),J!==void 0&&pe===void 0&&(pe=J,Ee=re),J===void 0&&pe===void 0&&(pe=Ce.width,Ee=Ce.height);for(var Y,Qe=this.ctx.transform.decompose(),Ue=H(Qe.rotate.shx),Le=new l,me=(Le=(Le=(Le=Le.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale)).applyToRectangle(new a(ce-q*Ge,fe-U*ve,J*Re,re*Te)),Ne=A.call(this,me),ke=[],We=0;We<Ne.length;We+=1)ke.indexOf(Ne[We])===-1&&ke.push(Ne[We]);if(j(ke),this.autoPaging)for(var rt=ke[0],at=ke[ke.length-1],ft=rt;ft<at+1;ft++){this.pdf.setPage(ft);var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=ft===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=ft===1?0:Xe+(ft-2)*Ye;if(this.ctx.clip_path.length!==0){var Cn=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Y,this.posX+this.margin[3],-Me+At+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=Cn}var pt=JSON.parse(JSON.stringify(me));pt=w([pt],this.posX+this.margin[3],-Me+At+this.ctx.prevPageLastElemOffset)[0];var Lr=(ft>rt||ft<at)&&S.call(this);Lr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,Ye,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",pt.x,pt.y,pt.w,pt.h,null,null,Ue),Lr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",me.x,me.y,me.w,me.h,null,null,Ue)};var A=function(L,q,U){var J=[];q=q||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":J.push(Math.floor((L.y+re)/U)+1);break;case"arc":J.push(Math.floor((L.y+re-L.radius)/U)+1),J.push(Math.floor((L.y+re+L.radius)/U)+1);break;case"qct":var ce=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);J.push(Math.floor((ce.y+re)/U)+1),J.push(Math.floor((ce.y+ce.h+re)/U)+1);break;case"bct":var fe=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);J.push(Math.floor((fe.y+re)/U)+1),J.push(Math.floor((fe.y+fe.h+re)/U)+1);break;case"rect":J.push(Math.floor((L.y+re)/U)+1),J.push(Math.floor((L.y+L.h+re)/U)+1)}for(var pe=0;pe<J.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<J[pe];)x.call(this);return J},x=function(){var L=this.fillStyle,q=this.strokeStyle,U=this.font,J=this.lineCap,re=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=q,this.font=U,this.lineCap=J,this.lineWidth=re,this.lineJoin=ce},w=function(L,q,U){for(var J=0;J<L.length;J++)switch(L[J].type){case"bct":L[J].x2+=q,L[J].y2+=U;case"qct":L[J].x1+=q,L[J].y1+=U;case"mt":case"lt":case"arc":default:L[J].x+=q,L[J].y+=U}return L},j=function(L){return L.sort(function(q,U){return q-U})},R=function(L,q){for(var U,J,re=this.fillStyle,ce=this.strokeStyle,fe=this.lineCap,pe=this.lineWidth,Ee=Math.abs(pe*this.ctx.transform.scaleX),Ce=this.lineJoin,Re=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Ge=[],ve=0;ve<Te.length;ve++)if(Te[ve].x!==void 0)for(var Y=A.call(this,Te[ve]),Qe=0;Qe<Y.length;Qe+=1)Ge.indexOf(Y[Qe])===-1&&Ge.push(Y[Qe]);for(var Ue=0;Ue<Ge.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<Ge[Ue];)x.call(this);if(j(Ge),this.autoPaging)for(var Le=Ge[0],me=Ge[Ge.length-1],Ne=Le;Ne<me+1;Ne++){this.pdf.setPage(Ne),this.fillStyle=re,this.strokeStyle=ce,this.lineCap=fe,this.lineWidth=Ee,this.lineJoin=Ce;var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=Ne===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=Ne===1?0:rt+(Ne-2)*at;if(this.ctx.clip_path.length!==0){var vt=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(U,this.posX+this.margin[3],-ft+We+this.ctx.prevPageLastElemOffset),B.call(this,L,!0),this.path=vt}if(J=JSON.parse(JSON.stringify(Re)),this.path=w(J,this.posX+this.margin[3],-ft+We+this.ctx.prevPageLastElemOffset),q===!1||Ne===0){var At=(Ne>Le||Ne<me)&&S.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,at,null).clip().discardPath()),B.call(this,L,q),At&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Ee,B.call(this,L,q),this.lineWidth=pe;this.path=Re},B=function(L,q){if((L!=="stroke"||q||!N.call(this))&&(L==="stroke"||q||!m.call(this))){for(var U,J,re=[],ce=this.path,fe=0;fe<ce.length;fe++){var pe=ce[fe];switch(pe.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:pe,deltas:[],abs:[]});break;case"lt":var Ee=re.length;if(ce[fe-1]&&!isNaN(ce[fe-1].x)&&(U=[pe.x-ce[fe-1].x,pe.y-ce[fe-1].y],Ee>0)){for(;Ee>=0;Ee--)if(re[Ee-1].close!==!0&&re[Ee-1].begin!==!0){re[Ee-1].deltas.push(U),re[Ee-1].abs.push(pe);break}}break;case"bct":U=[pe.x1-ce[fe-1].x,pe.y1-ce[fe-1].y,pe.x2-ce[fe-1].x,pe.y2-ce[fe-1].y,pe.x-ce[fe-1].x,pe.y-ce[fe-1].y],re[re.length-1].deltas.push(U);break;case"qct":var Ce=ce[fe-1].x+2/3*(pe.x1-ce[fe-1].x),Re=ce[fe-1].y+2/3*(pe.y1-ce[fe-1].y),Te=pe.x+2/3*(pe.x1-pe.x),Ge=pe.y+2/3*(pe.y1-pe.y),ve=pe.x,Y=pe.y;U=[Ce-ce[fe-1].x,Re-ce[fe-1].y,Te-ce[fe-1].x,Ge-ce[fe-1].y,ve-ce[fe-1].x,Y-ce[fe-1].y],re[re.length-1].deltas.push(U);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(pe)}}J=q?null:L==="stroke"?"stroke":"fill";for(var Qe=!1,Ue=0;Ue<re.length;Ue++)if(re[Ue].arc)for(var Le=re[Ue].abs,me=0;me<Le.length;me++){var Ne=Le[me];Ne.type==="arc"?D.call(this,Ne.x,Ne.y,Ne.radius,Ne.startAngle,Ne.endAngle,Ne.counterclockwise,void 0,q,!Qe):G.call(this,Ne.x,Ne.y),Qe=!0}else if(re[Ue].close===!0)this.pdf.internal.out("h"),Qe=!1;else if(re[Ue].begin!==!0){var ke=re[Ue].start.x,We=re[Ue].start.y;V.call(this,re[Ue].deltas,ke,We),Qe=!0}J&&W.call(this,J),q&&ee.call(this)}},z=function(L){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-U;case"top":return L+q-U;case"hanging":return L+q-2*U;case"middle":return L+q/2-U;case"ideographic":return L;case"alphabetic":default:return L}},F=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(q,U){this.colorStops.push([q,U])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(L,q,U,J,re,ce,fe,pe,Ee){for(var Ce=ie.call(this,U,J,re,ce),Re=0;Re<Ce.length;Re++){var Te=Ce[Re];Re===0&&(Ee?T.call(this,Te.x1+L,Te.y1+q):G.call(this,Te.x1+L,Te.y1+q)),ae.call(this,L,q,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}pe?ee.call(this):W.call(this,fe)},W=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(L,q){this.pdf.internal.out(n(L)+" "+r(q)+" m")},E=function(L){var q;switch(L.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var U=this.pdf.getTextDimensions(L.text),J=z.call(this,L.y),re=F.call(this,J)-U.h,ce=this.ctx.transform.applyToPoint(new o(L.x,J)),fe=this.ctx.transform.decompose(),pe=new l;pe=(pe=(pe=pe.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var Ee,Ce,Re,Te=this.ctx.transform.applyToRectangle(new a(L.x,J,U.w,U.h)),Ge=pe.applyToRectangle(new a(L.x,re,U.w,U.h)),ve=A.call(this,Ge),Y=[],Qe=0;Qe<ve.length;Qe+=1)Y.indexOf(ve[Qe])===-1&&Y.push(ve[Qe]);if(j(Y),this.autoPaging)for(var Ue=Y[0],Le=Y[Y.length-1],me=Ue;me<Le+1;me++){this.pdf.setPage(me);var Ne=me===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[2],rt=We-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],ft=at-this.margin[3],vt=me===1?0:ke+(me-2)*rt;if(this.ctx.clip_path.length!==0){var At=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ee,this.posX+this.margin[3],-1*vt+Ne),B.call(this,"fill",!0),this.path=At}var Xe=w([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-vt+Ne+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*L.scale),Re=this.lineWidth,this.lineWidth=Re*L.scale);var Ye=this.autoPaging!=="text";if(Ye||Xe.y+Xe.h<=We){if(Ye||Xe.y>=Ne&&Xe.x<=at){var Me=Ye?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||at-Xe.x)[0],Cn=w([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-vt+Ne+this.ctx.prevPageLastElemOffset)[0],pt=Ye&&(me>Ue||me<Le)&&S.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,rt,null).clip().discardPath()),this.pdf.text(Me,Cn.x,Cn.y,{angle:L.angle,align:q,renderingMode:L.renderingMode}),pt&&this.pdf.restoreGraphicsState()}}else Xe.y<We&&(this.ctx.prevPageLastElemOffset+=We-Xe.y);L.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Re)}else L.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*L.scale),Re=this.lineWidth,this.lineWidth=Re*L.scale),this.pdf.text(L.text,ce.x+this.posX,ce.y+this.posY,{angle:L.angle,align:q,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Re)},G=function(L,q,U,J){U=U||0,J=J||0,this.pdf.internal.out(n(L+U)+" "+r(q+J)+" l")},V=function(L,q,U){return this.pdf.lines(L,q,U,null,null)},ae=function(L,q,U,J,re,ce,fe,pe){this.pdf.internal.out([t(i(U+L)),t(s(J+q)),t(i(re+L)),t(s(ce+q)),t(i(fe+L)),t(s(pe+q)),"c"].join(" "))},ie=function(L,q,U,J){for(var re=2*Math.PI,ce=Math.PI/2;q>U;)q-=re;var fe=Math.abs(U-q);fe<re&&J&&(fe=re-fe);for(var pe=[],Ee=J?-1:1,Ce=q;fe>1e-5;){var Re=Ce+Ee*Math.min(fe,ce);pe.push(oe.call(this,L,Ce,Re)),fe-=Math.abs(Re-Ce),Ce=Re}return pe},oe=function(L,q,U){var J=(U-q)/2,re=L*Math.cos(J),ce=L*Math.sin(J),fe=re,pe=-ce,Ee=fe*fe+pe*pe,Ce=Ee+fe*re+pe*ce,Re=4/3*(Math.sqrt(2*Ee*Ce)-Ce)/(fe*ce-pe*re),Te=fe-Re*pe,Ge=pe+Re*fe,ve=Te,Y=-Ge,Qe=J+q,Ue=Math.cos(Qe),Le=Math.sin(Qe);return{x1:L*Math.cos(q),y1:L*Math.sin(q),x2:Te*Ue-Ge*Le,y2:Te*Le+Ge*Ue,x3:ve*Ue-Y*Le,y3:ve*Le+Y*Ue,x4:L*Math.cos(U),y4:L*Math.sin(U)}},H=function(L){return 180*L/Math.PI},ne=function(L,q,U,J,re,ce){var fe=L+.5*(U-L),pe=q+.5*(J-q),Ee=re+.5*(U-re),Ce=ce+.5*(J-ce),Re=Math.min(L,re,fe,Ee),Te=Math.max(L,re,fe,Ee),Ge=Math.min(q,ce,pe,Ce),ve=Math.max(q,ce,pe,Ce);return new a(Re,Ge,Te-Re,ve-Ge)},te=function(L,q,U,J,re,ce,fe,pe){var Ee,Ce,Re,Te,Ge,ve,Y,Qe,Ue,Le,me,Ne,ke,We,rt=U-L,at=J-q,ft=re-U,vt=ce-J,At=fe-re,Xe=pe-ce;for(Ce=0;Ce<41;Ce++)Ue=(Y=(Re=L+(Ee=Ce/40)*rt)+Ee*((Ge=U+Ee*ft)-Re))+Ee*(Ge+Ee*(re+Ee*At-Ge)-Y),Le=(Qe=(Te=q+Ee*at)+Ee*((ve=J+Ee*vt)-Te))+Ee*(ve+Ee*(ce+Ee*Xe-ve)-Qe),Ce==0?(me=Ue,Ne=Le,ke=Ue,We=Le):(me=Math.min(me,Ue),Ne=Math.min(Ne,Le),ke=Math.max(ke,Ue),We=Math.max(We,Le));return new a(Math.round(me),Math.round(Ne),Math.round(ke-me),Math.round(We-Ne))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,q,U=(L=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:q}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(et.API),function(e){var t=function(s){var o,a,l,d,f,p,g,m,N,S;for(a=[],l=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>l;l+=4)(f=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(p=(f=((f=((f=((f=(f-(S=f%85))/85)-(N=f%85))/85)-(m=f%85))/85)-(g=f%85))/85)%85,a.push(p+33,g+33,m+33,N+33,S+33)):a.push(122);return function(A,x){for(var w=x;w>0;w--)A.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,d,f,p=String,g="length",m=255,N="charCodeAt",S="slice",A="replace";for(s[S](-2),s=s[S](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),l=[],d=0,f=(s+=o="uuuuu"[S](s[g]%5||5))[g];f>d;d+=5)a=52200625*(s[N](d)-33)+614125*(s[N](d+1)-33)+7225*(s[N](d+2)-33)+85*(s[N](d+3)-33)+(s[N](d+4)-33),l.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(x,w){for(var j=w;j>0;j--)x.pop()}(l,o[g]),p.fromCharCode.apply(p,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=a1(o)).reduce(function(l,d){return l+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,o){var a=0,l=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:d.reverse().join(" ")}}}(et.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,d,f){var p=new XMLHttpRequest,g=0,m=function(N){var S=N.length,A=[],x=String.fromCharCode;for(g=0;g<S;g+=1)A.push(x(255&N.charCodeAt(g)));return A.join("")};if(p.open("GET",l,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?f(m(this.responseText)):f(void 0)}),p.send(null),d&&p.status===200)return m(p.responseText)}(i,s,o)}catch{}return a}(t,n,r)},e.loadImageFile=e.loadFile}(et.API),function(e){function t(){return(tt.html2canvas?Promise.resolve(tt.html2canvas):Jd(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(tt.DOMPurify?Promise.resolve(tt.DOMPurify):Jd(()=>import("./purify.es-31816194.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Et(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var d in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[d]=a.style[d];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),l);return d=(d=d.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(d,f){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(l(g,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var m=d[g],N=m.src.find(function(S){return S.format==="truetype"});N&&l.addFont(N.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),a(this.prop.container,p)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,d){return Math.floor(l*d/72*96)}return this.then(function(){(o=o||et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,d){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,d){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(d,f){return l.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,d),p}).then(d,f).then(function(p){return l.updateProgress(1),p})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=l.call(d,o,a);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,et.getPageSize=function(o,a,l){if(Et(o)==="object"){var d=o;o=d.orientation,a=d.unit||a,l=d.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+a}var m,N=0,S=0;if(g.hasOwnProperty(p))N=g[p][1]/f,S=g[p][0]/f;else try{N=l[1],S=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",S>N&&(m=S,S=N,N=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",N>S&&(m=S,S=N,N=m)}return{width:S,height:N,unit:a,k:f,orientation:o}},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(f1):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(et.API),et.API.addJS=function(e){return b5=e,this.internal.events.subscribe("postPutResources",function(){Sd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Sd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),w5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+b5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Sd!==void 0&&w5!==void 0&&this.internal.out("/Names <</JavaScript "+Sd+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(s=0;s<d;s++){var p=n.internal.newObject();f.push(p);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(et.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,a){var l,d=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),N=p.length,S={width:0,height:0,numcomponents:1},A=4;A<N;A+=2){if(A+=m,t.indexOf(p.charCodeAt(A+1))!==-1){g=256*p.charCodeAt(A+5)+p.charCodeAt(A+6),S={width:256*p.charCodeAt(A+7)+p.charCodeAt(A+8),height:g,numcomponents:p.charCodeAt(A+9)};break}m=256*p.charCodeAt(A+2)+p.charCodeAt(A+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:d,index:r,alias:i}}return f}}(et.API);var va,Nd,S5,N5,j5,O8=function(){var e,t,n;function r(s){var o,a,l,d,f,p,g,m,N,S,A,x,w,j;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),N=(function(){var R,B;for(B=[],R=0;R<4;++R)B.push(String.fromCharCode(this.data[this.pos++]));return B}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,p.delay=1e3*f/d,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,o-=4),s=(p!=null?p.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((S=l-this.transparency.indexed.length)>0)for(w=0;0<=S?w<S:w>S;0<=S?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(A=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,A.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,A.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(p,g,m,N){var S,A,x,w,j,R,B,z,F,D,W,ee,T,E,G,V,ae,ie,oe,H,ne,te=Math.ceil((d.width-p)/m),xe=Math.ceil((d.height-g)/N),L=d.width==te&&d.height==xe;for(E=o*te,ee=L?a:new Uint8Array(E*xe),R=s.length,T=0,A=0;T<xe&&l<R;){switch(s[l++]){case 0:for(w=ae=0;ae<E;w=ae+=1)ee[A++]=s[l++];break;case 1:for(w=ie=0;ie<E;w=ie+=1)S=s[l++],j=w<o?0:ee[A-o],ee[A++]=(S+j)%256;break;case 2:for(w=oe=0;oe<E;w=oe+=1)S=s[l++],x=(w-w%o)/o,G=T&&ee[(T-1)*E+x*o+w%o],ee[A++]=(G+S)%256;break;case 3:for(w=H=0;H<E;w=H+=1)S=s[l++],x=(w-w%o)/o,j=w<o?0:ee[A-o],G=T&&ee[(T-1)*E+x*o+w%o],ee[A++]=(S+Math.floor((j+G)/2))%256;break;case 4:for(w=ne=0;ne<E;w=ne+=1)S=s[l++],x=(w-w%o)/o,j=w<o?0:ee[A-o],T===0?G=V=0:(G=ee[(T-1)*E+x*o+w%o],V=x&&ee[(T-1)*E+(x-1)*o+w%o]),B=j+G-V,z=Math.abs(B-j),D=Math.abs(B-G),W=Math.abs(B-V),F=z<=D&&z<=W?j:D<=W?G:V,ee[A++]=(S+F)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!L){var q=((g+T*N)*d.width+p)*o,U=T*E;for(w=0;w<te;w+=1){for(var J=0;J<o;J+=1)a[q++]=ee[U++];q+=(m-1)*o}}T++}}return s=g8(s),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,d,f,p,g,m;for(a=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+a.length),l=0,s=0,o=p=0,g=a.length;p<g;o=p+=3)d[l++]=a[o],d[l++]=a[o+1],d[l++]=a[o+2],d[l++]=(m=f[s++])!=null?m:255;return d},r.prototype.copyToImageData=function(s,o){var a,l,d,f,p,g,m,N,S,A,x;if(l=this.colors,S=null,a=this.hasAlphaChannel,this.palette.length&&(S=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,a=!0),N=(d=s.data||s).length,p=S||o,f=g=0,l===1)for(;f<N;)m=S?4*o[f/4]:g,A=p[m++],d[f++]=A,d[f++]=A,d[f++]=A,d[f++]=a?p[m++]:255,g=m;else for(;f<N;)m=S?4*o[f/4]:g,d[f++]=p[m++],d[f++]=p[m++],d[f++]=p[m++],d[f++]=a?p[m++]:255,g=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(tt)==="[object Window]"){try{t=tt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,d,f,p,g,m;if(this.animation){for(m=[],a=f=0,p=(g=this.animation.frames).length;f<p;a=++f)o=g[a],l=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,d),o.imageData=l,m.push(o.image=e(l));return m}},r.prototype.renderFrame=function(s,o){var a,l,d;return a=(l=this.animation.frames)[o],d=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,d,f,p,g=this;return a=0,p=this.animation,d=p.numFrames,l=p.frames,f=p.numPlays,(o=function(){var m,N;if(m=a++%d,N=l[m],g.renderFrame(s,m),d>1&&a/d<f)return g.animation._timeout=setTimeout(o,N.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function B8(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var d=!0,f=[],p=0,g=null,m=0,N=null;for(this.width=n,this.height=r;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,N=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var S=e[t++];p=e[t++]|e[t++]<<8,g=e[t++],!(1&S)&&(g=null),m=S>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var A=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,R=e[t++],B=R>>6&1,z=1<<(7&R)+1,F=a,D=l,W=!1;R>>7&&(W=!0,F=t,D=z,t+=3*z);var ee=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}f.push({x:A,y:x,width:w,height:j,has_local_palette:W,palette_offset:F,palette_size:D,data_offset:ee,data_length:t-ee,transparent_index:g,interlaced:!!B,delay:p,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return N},this.frameInfo=function(E){if(E<0||E>=f.length)throw new Error("Frame index out of range.");return f[E]},this.decodeAndBlitFrameBGRA=function(E,G){var V=this.frameInfo(E),ae=V.width*V.height,ie=new Uint8Array(ae);A5(e,V.data_offset,ie,ae);var oe=V.palette_offset,H=V.transparent_index;H===null&&(H=256);var ne=V.width,te=n-ne,xe=ne,L=4*(V.y*n+V.x),q=4*((V.y+V.height)*n+V.x),U=L,J=4*te;V.interlaced===!0&&(J+=4*n*7);for(var re=8,ce=0,fe=ie.length;ce<fe;++ce){var pe=ie[ce];if(xe===0&&(xe=ne,(U+=J)>=q&&(J=4*te+4*n*(re-1),U=L+(ne+te)*(re<<1),re>>=1)),pe===H)U+=4;else{var Ee=e[oe+3*pe],Ce=e[oe+3*pe+1],Re=e[oe+3*pe+2];G[U++]=Re,G[U++]=Ce,G[U++]=Ee,G[U++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(E,G){var V=this.frameInfo(E),ae=V.width*V.height,ie=new Uint8Array(ae);A5(e,V.data_offset,ie,ae);var oe=V.palette_offset,H=V.transparent_index;H===null&&(H=256);var ne=V.width,te=n-ne,xe=ne,L=4*(V.y*n+V.x),q=4*((V.y+V.height)*n+V.x),U=L,J=4*te;V.interlaced===!0&&(J+=4*n*7);for(var re=8,ce=0,fe=ie.length;ce<fe;++ce){var pe=ie[ce];if(xe===0&&(xe=ne,(U+=J)>=q&&(J=4*te+4*n*(re-1),U=L+(ne+te)*(re<<1),re>>=1)),pe===H)U+=4;else{var Ee=e[oe+3*pe],Ce=e[oe+3*pe+1],Re=e[oe+3*pe+2];G[U++]=Ee,G[U++]=Ce,G[U++]=Re,G[U++]=255}--xe}}}function A5(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,d=(1<<l)-1,f=0,p=0,g=0,m=e[t++],N=new Int32Array(4096),S=null;;){for(;f<16&&m!==0;)p|=e[t++]<<f,f+=8,m===1?m=e[t++]:--m;if(f<l)break;var A=p&d;if(p>>=l,f-=l,A!==s){if(A===o)break;for(var x=A<a?A:S,w=0,j=x;j>s;)j=N[j]>>8,++w;var R=j;if(g+w+(x!==A?1:0)>r)return void Bt.log("Warning, gif stream longer than expected.");n[g++]=R;var B=g+=w;for(x!==A&&(n[g++]=R),j=x;w--;)j=N[j],n[--B]=255&j,j>>=8;S!==null&&a<4096&&(N[a++]=S<<8|R,a>=d+1&&l<12&&(++l,d=d<<1|1)),S=A}else a=o+1,d=(1<<(l=i+1))-1,S=null}return g!==r&&Bt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $p(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),d=new Array(64),f=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),N=new Array(64),S=[],A=0,x=7,w=new Array(64),j=new Array(64),R=new Array(64),B=new Array(256),z=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(L,q){for(var U=0,J=0,re=new Array,ce=1;ce<=16;ce++){for(var fe=1;fe<=L[ce];fe++)re[q[J]]=[],re[q[J]][0]=U,re[q[J]][1]=ce,J++,U++;U*=2}return re}function oe(L){for(var q=L[0],U=L[1]-1;U>=0;)q&1<<U&&(A|=1<<x),U--,--x<0&&(A==255?(H(255),H(0)):H(A),x=7,A=0)}function H(L){S.push(L)}function ne(L){H(L>>8&255),H(255&L)}function te(L,q,U,J,re){for(var ce,fe=re[0],pe=re[240],Ee=function(Le,me){var Ne,ke,We,rt,at,ft,vt,At,Xe,Ye,Me=0;for(Xe=0;Xe<8;++Xe){Ne=Le[Me],ke=Le[Me+1],We=Le[Me+2],rt=Le[Me+3],at=Le[Me+4],ft=Le[Me+5],vt=Le[Me+6];var Cn=Ne+(At=Le[Me+7]),pt=Ne-At,Lr=ke+vt,Ct=ke-vt,$t=We+ft,qr=We-ft,xt=rt+at,qi=rt-at,zt=Cn+xt,Cr=Cn-xt,Ur=Lr+$t,Yt=Lr-$t;Le[Me]=zt+Ur,Le[Me+4]=zt-Ur;var nt=.707106781*(Yt+Cr);Le[Me+2]=Cr+nt,Le[Me+6]=Cr-nt;var Nt=.382683433*((zt=qi+qr)-(Yt=Ct+pt)),Ui=.5411961*zt+Nt,Ve=1.306562965*Yt+Nt,ht=.707106781*(Ur=qr+Ct),_e=pt+ht,Fe=pt-ht;Le[Me+5]=Fe+Ui,Le[Me+3]=Fe-Ui,Le[Me+1]=_e+Ve,Le[Me+7]=_e-Ve,Me+=8}for(Me=0,Xe=0;Xe<8;++Xe){Ne=Le[Me],ke=Le[Me+8],We=Le[Me+16],rt=Le[Me+24],at=Le[Me+32],ft=Le[Me+40],vt=Le[Me+48];var lt=Ne+(At=Le[Me+56]),ct=Ne-At,He=ke+vt,wt=ke-vt,Tt=We+ft,Ft=We-ft,cr=rt+at,Pn=rt-at,Dt=lt+cr,jt=lt-cr,Nn=He+Tt,dr=He-Tt;Le[Me]=Dt+Nn,Le[Me+32]=Dt-Nn;var Xt=.707106781*(dr+jt);Le[Me+16]=jt+Xt,Le[Me+48]=jt-Xt;var Un=.382683433*((Dt=Pn+Ft)-(dr=wt+ct)),hr=.5411961*Dt+Un,qo=1.306562965*dr+Un,Uo=.707106781*(Nn=Ft+wt),Vo=ct+Uo,$o=ct-Uo;Le[Me+40]=$o+hr,Le[Me+24]=$o-hr,Le[Me+8]=Vo+qo,Le[Me+56]=Vo-qo,Me++}for(Xe=0;Xe<64;++Xe)Ye=Le[Xe]*me[Xe],m[Xe]=Ye>0?Ye+.5|0:Ye-.5|0;return m}(L,q),Ce=0;Ce<64;++Ce)N[F[Ce]]=Ee[Ce];var Re=N[0]-U;U=N[0],Re==0?oe(J[0]):(oe(J[g[ce=32767+Re]]),oe(p[ce]));for(var Te=63;Te>0&&N[Te]==0;)Te--;if(Te==0)return oe(fe),U;for(var Ge,ve=1;ve<=Te;){for(var Y=ve;N[ve]==0&&ve<=Te;)++ve;var Qe=ve-Y;if(Qe>=16){Ge=Qe>>4;for(var Ue=1;Ue<=Ge;++Ue)oe(pe);Qe&=15}ce=32767+N[ve],oe(re[(Qe<<4)+g[ce]]),oe(p[ce]),ve++}return Te!=63&&oe(fe),U}function xe(L){L=Math.min(Math.max(L,1),100),s!=L&&(function(q){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var re=o((U[J]*q+50)/100);re=Math.min(Math.max(re,1),255),a[F[J]]=re}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var pe=o((ce[fe]*q+50)/100);pe=Math.min(Math.max(pe,1),255),l[F[fe]]=pe}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,Re=0;Re<8;Re++)for(var Te=0;Te<8;Te++)d[Ce]=1/(a[F[Ce]]*Ee[Re]*Ee[Te]*8),f[Ce]=1/(l[F[Ce]]*Ee[Re]*Ee[Te]*8),Ce++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),s=L)}this.encode=function(L,q){q&&xe(q),S=new Array,A=0,x=7,ne(65496),ne(65504),ne(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),ne(1),ne(1),H(0),H(0),function(){ne(65499),ne(132),H(0);for(var ke=0;ke<64;ke++)H(a[ke]);H(1);for(var We=0;We<64;We++)H(l[We])}(),function(ke,We){ne(65472),ne(17),H(8),ne(We),ne(ke),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(L.width,L.height),function(){ne(65476),ne(418),H(0);for(var ke=0;ke<16;ke++)H(D[ke+1]);for(var We=0;We<=11;We++)H(W[We]);H(16);for(var rt=0;rt<16;rt++)H(ee[rt+1]);for(var at=0;at<=161;at++)H(T[at]);H(1);for(var ft=0;ft<16;ft++)H(E[ft+1]);for(var vt=0;vt<=11;vt++)H(G[vt]);H(17);for(var At=0;At<16;At++)H(V[At+1]);for(var Xe=0;Xe<=161;Xe++)H(ae[Xe])}(),ne(65498),ne(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var U=0,J=0,re=0;A=0,x=7,this.encode.displayName="_encode_";for(var ce,fe,pe,Ee,Ce,Re,Te,Ge,ve,Y=L.data,Qe=L.width,Ue=L.height,Le=4*Qe,me=0;me<Ue;){for(ce=0;ce<Le;){for(Ce=Le*me+ce,Te=-1,Ge=0,ve=0;ve<64;ve++)Re=Ce+(Ge=ve>>3)*Le+(Te=4*(7&ve)),me+Ge>=Ue&&(Re-=Le*(me+1+Ge-Ue)),ce+Te>=Le&&(Re-=ce+Te-Le+4),fe=Y[Re++],pe=Y[Re++],Ee=Y[Re++],w[ve]=(z[fe]+z[pe+256>>0]+z[Ee+512>>0]>>16)-128,j[ve]=(z[fe+768>>0]+z[pe+1024>>0]+z[Ee+1280>>0]>>16)-128,R[ve]=(z[fe+1280>>0]+z[pe+1536>>0]+z[Ee+1792>>0]>>16)-128;U=te(w,d,U,t,r),J=te(j,f,J,n,i),re=te(R,f,re,n,i),ce+=32}me+=8}if(x>=0){var Ne=[];Ne[1]=x+1,Ne[0]=(1<<x+1)-1,oe(Ne)}return ne(65497),new Uint8Array(S)},e=e||50,function(){for(var L=String.fromCharCode,q=0;q<256;q++)B[q]=L(q)}(),t=ie(D,W),n=ie(E,G),r=ie(ee,T),i=ie(V,ae),function(){for(var L=1,q=2,U=1;U<=15;U++){for(var J=L;J<q;J++)g[32767+J]=U,p[32767+J]=[],p[32767+J][1]=U,p[32767+J][0]=J;for(var re=-(q-1);re<=-L;re++)g[32767+re]=U,p[32767+re]=[],p[32767+re][1]=U,p[32767+re][0]=q-1+re;L<<=1,q<<=1}}(),function(){for(var L=0;L<256;L++)z[L]=19595*L,z[L+256>>0]=38470*L,z[L+512>>0]=7471*L+32768,z[L+768>>0]=-11059*L,z[L+1024>>0]=-21709*L,z[L+1280>>0]=32768*L+8421375,z[L+1536>>0]=-27439*L,z[L+1792>>0]=-5329*L}(),xe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function di(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function L5(e){function t(D){if(!D)throw Error("assert :P")}function n(D,W,ee){for(var T=0;4>T;T++)if(D[W+T]!=ee.charCodeAt(T))return!0;return!1}function r(D,W,ee,T,E){for(var G=0;G<E;G++)D[W+G]=ee[T+G]}function i(D,W,ee,T){for(var E=0;E<T;E++)D[W+E]=ee}function s(D){return new Int32Array(D)}function o(D,W){for(var ee=[],T=0;T<D;T++)ee.push(new W);return ee}function a(D,W){var ee=[];return function T(E,G,V){for(var ae=V[G],ie=0;ie<ae&&(E.push(V.length>G+1?[]:new W),!(V.length<G+1));ie++)T(E[ie],G+1,V)}(ee,0,D),ee}var l=function(){var D=this;function W(u,h){for(var y=1<<h-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function ee(u,h,y,b,C){t(!(b%y));do u[h+(b-=y)]=C;while(0<b)}function T(u,h,y,b,C){if(t(2328>=C),512>=C)var k=s(512);else if((k=s(C))==null)return 0;return function(_,I,M,$,Q,de){var he,le,Se=I,ge=1<<M,Z=s(16),se=s(16);for(t(Q!=0),t($!=null),t(_!=null),t(0<M),le=0;le<Q;++le){if(15<$[le])return 0;++Z[$[le]]}if(Z[0]==Q)return 0;for(se[1]=0,he=1;15>he;++he){if(Z[he]>1<<he)return 0;se[he+1]=se[he]+Z[he]}for(le=0;le<Q;++le)he=$[le],0<$[le]&&(de[se[he]++]=le);if(se[15]==1)return($=new E).g=0,$.value=de[0],ee(_,Se,1,ge,$),ge;var we,je=-1,be=ge-1,Be=0,Ie=1,Je=1,De=1<<M;for(le=0,he=1,Q=2;he<=M;++he,Q<<=1){if(Ie+=Je<<=1,0>(Je-=Z[he]))return 0;for(;0<Z[he];--Z[he])($=new E).g=he,$.value=de[le++],ee(_,Se+Be,Q,De,$),Be=W(Be,he)}for(he=M+1,Q=2;15>=he;++he,Q<<=1){if(Ie+=Je<<=1,0>(Je-=Z[he]))return 0;for(;0<Z[he];--Z[he]){if($=new E,(Be&be)!=je){for(Se+=De,we=1<<(je=he)-M;15>je&&!(0>=(we-=Z[je]));)++je,we<<=1;ge+=De=1<<(we=je-M),_[I+(je=Be&be)].g=we+M,_[I+je].value=Se-I-je}$.g=he-M,$.value=de[le++],ee(_,Se+(Be>>M),Q,De,$),Be=W(Be,he)}}return Ie!=2*se[15]-1?0:ge}(u,h,y,b,C,k)}function E(){this.value=this.g=0}function G(){this.value=this.g=0}function V(){this.G=o(5,E),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Rn,G)}function ae(u,h,y,b){t(u!=null),t(h!=null),t(2147483648>b),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=y,u.Jd=h,u.Yc=y+b,u.Zc=4<=b?y+b-4+1:y,ce(u)}function ie(u,h){for(var y=0;0<h--;)y|=pe(u,128)<<h;return y}function oe(u,h){var y=ie(u,h);return fe(u)?-y:y}function H(u,h,y,b){var C,k=0;for(t(u!=null),t(h!=null),t(4294967288>b),u.Sb=b,u.Ra=0,u.u=0,u.h=0,4<b&&(b=4),C=0;C<b;++C)k+=h[y+C]<<8*C;u.Ra=k,u.bb=b,u.oa=h,u.pa=y}function ne(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<sa-8>>>0,++u.bb,u.u-=8;U(u)&&(u.h=1,u.u=0)}function te(u,h){if(t(0<=h),!u.h&&h<=ia){var y=q(u)&ra[h];return u.u+=h,ne(u),y}return u.h=1,u.u=0}function xe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(u){return u.Ra>>>(u.u&sa-1)>>>0}function U(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>sa}function J(u,h){u.u=h,u.h=U(u)}function re(u){u.u>=_l&&(t(u.u>=_l),ne(u))}function ce(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function fe(u){return ie(u,1)}function pe(u,h){var y=u.Ca;0>u.b&&ce(u);var b=u.b,C=y*h>>>8,k=(u.I>>>b>C)+0;for(k?(y-=C,u.I-=C+1<<b>>>0):y=C+1,b=y,C=0;256<=b;)C+=8,b>>=8;return b=7^C+pr[b],u.b-=b,u.Ca=(y<<b)-1,k}function Ee(u,h,y){u[h+0]=y>>24&255,u[h+1]=y>>16&255,u[h+2]=y>>8&255,u[h+3]=y>>0&255}function Ce(u,h){return u[h+0]<<0|u[h+1]<<8}function Re(u,h){return Ce(u,h)|u[h+2]<<16}function Te(u,h){return Ce(u,h)|Ce(u,h+2)<<16}function Ge(u,h){var y=1<<h;return t(u!=null),t(0<h),u.X=s(y),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function ve(u,h){t(u!=null),t(h!=null),t(u.Xa==h.Xa),r(h.X,0,u.X,0,1<<h.Xa)}function Y(){this.X=[],this.Xa=this.Mb=0}function Qe(u,h,y,b){t(y!=null),t(b!=null);var C=y[0],k=b[0];return C==0&&(C=(u*k+h/2)/h),k==0&&(k=(h*C+u/2)/u),0>=C||0>=k?0:(y[0]=C,b[0]=k,1)}function Ue(u,h){return u+(1<<h)-1>>>h}function Le(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function me(u,h){D[h]=function(y,b,C,k,_,I,M){var $;for($=0;$<_;++$){var Q=D[u](I[M+$-1],C,k+$);I[M+$]=Le(y[b+$],Q)}}}function Ne(){this.ud=this.hd=this.jd=0}function ke(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function We(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function rt(u,h){return We(u+(u-h+.5>>1))}function at(u,h,y){return Math.abs(h-y)-Math.abs(u-y)}function ft(u,h,y,b,C,k,_){for(b=k[_-1],y=0;y<C;++y)k[_+y]=b=Le(u[h+y],b)}function vt(u,h,y,b,C){var k;for(k=0;k<y;++k){var _=u[h+k],I=_>>8&255,M=16711935&(M=(M=16711935&_)+((I<<16)+I));b[C+k]=(4278255360&_)+M>>>0}}function At(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function Xe(u,h,y,b,C,k){var _;for(_=0;_<b;++_){var I=h[y+_],M=I>>>8,$=I,Q=255&(Q=(Q=I>>>16)+((u.jd<<24>>24)*(M<<24>>24)>>>5));$=255&($=($=$+((u.hd<<24>>24)*(M<<24>>24)>>>5))+((u.ud<<24>>24)*(Q<<24>>24)>>>5)),C[k+_]=(4278255360&I)+(Q<<16)+$}}function Ye(u,h,y,b,C){D[h]=function(k,_,I,M,$,Q,de,he,le){for(M=de;M<he;++M)for(de=0;de<le;++de)$[Q++]=C(I[b(k[_++])])},D[u]=function(k,_,I,M,$,Q,de){var he=8>>k.b,le=k.Ea,Se=k.K[0],ge=k.w;if(8>he)for(k=(1<<k.b)-1,ge=(1<<he)-1;_<I;++_){var Z,se=0;for(Z=0;Z<le;++Z)Z&k||(se=b(M[$++])),Q[de++]=C(Se[se&ge]),se>>=he}else D["VP8LMapColor"+y](M,$,Se,ge,Q,de,_,I,le)}}function Me(u,h,y,b,C){for(y=h+y;h<y;){var k=u[h++];b[C++]=k>>16&255,b[C++]=k>>8&255,b[C++]=k>>0&255}}function Cn(u,h,y,b,C){for(y=h+y;h<y;){var k=u[h++];b[C++]=k>>16&255,b[C++]=k>>8&255,b[C++]=k>>0&255,b[C++]=k>>24&255}}function pt(u,h,y,b,C){for(y=h+y;h<y;){var k=(_=u[h++])>>16&240|_>>12&15,_=_>>0&240|_>>28&15;b[C++]=k,b[C++]=_}}function Lr(u,h,y,b,C){for(y=h+y;h<y;){var k=(_=u[h++])>>16&248|_>>13&7,_=_>>5&224|_>>3&31;b[C++]=k,b[C++]=_}}function Ct(u,h,y,b,C){for(y=h+y;h<y;){var k=u[h++];b[C++]=k>>0&255,b[C++]=k>>8&255,b[C++]=k>>16&255}}function $t(u,h,y,b,C,k){if(k==0)for(y=h+y;h<y;)Ee(b,((k=u[h++])[0]>>24|k[1]>>8&65280|k[2]<<8&16711680|k[3]<<24)>>>0),C+=32;else r(b,C,u,h,y)}function qr(u,h){D[h][0]=D[u+"0"],D[h][1]=D[u+"1"],D[h][2]=D[u+"2"],D[h][3]=D[u+"3"],D[h][4]=D[u+"4"],D[h][5]=D[u+"5"],D[h][6]=D[u+"6"],D[h][7]=D[u+"7"],D[h][8]=D[u+"8"],D[h][9]=D[u+"9"],D[h][10]=D[u+"10"],D[h][11]=D[u+"11"],D[h][12]=D[u+"12"],D[h][13]=D[u+"13"],D[h][14]=D[u+"0"],D[h][15]=D[u+"0"]}function xt(u){return u==If||u==Rf||u==Oc||u==Df}function qi(){this.eb=[],this.size=this.A=this.fb=0}function zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Cr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qi,this.f.kb=new zt,this.sd=null}function Ur(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function nt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Nt(u,h){var y=u.T,b=h.ba.f.RGBA,C=b.eb,k=b.fb+u.ka*b.A,_=Kr[h.ba.S],I=u.y,M=u.O,$=u.f,Q=u.N,de=u.ea,he=u.W,le=h.cc,Se=h.dc,ge=h.Mc,Z=h.Nc,se=u.ka,we=u.ka+u.T,je=u.U,be=je+1>>1;for(se==0?_(I,M,null,null,$,Q,de,he,$,Q,de,he,C,k,null,null,je):(_(h.ec,h.fc,I,M,le,Se,ge,Z,$,Q,de,he,C,k-b.A,C,k,je),++y);se+2<we;se+=2)le=$,Se=Q,ge=de,Z=he,Q+=u.Rc,he+=u.Rc,k+=2*b.A,_(I,(M+=2*u.fa)-u.fa,I,M,le,Se,ge,Z,$,Q,de,he,C,k-b.A,C,k,je);return M+=u.fa,u.j+we<u.o?(r(h.ec,h.fc,I,M,je),r(h.cc,h.dc,$,Q,be),r(h.Mc,h.Nc,de,he,be),y--):1&we||_(I,M,null,null,$,Q,de,he,$,Q,de,he,C,k+b.A,null,null,je),y}function Ui(u,h,y){var b=u.F,C=[u.J];if(b!=null){var k=u.U,_=h.ba.S,I=_==Mc||_==Oc;h=h.ba.f.RGBA;var M=[0],$=u.ka;M[0]=u.T,u.Kb&&($==0?--M[0]:(--$,C[0]-=u.width),u.j+u.ka+u.T==u.o&&(M[0]=u.o-u.j-$));var Q=h.eb;$=h.fb+$*h.A,u=Ut(b,C[0],u.width,k,M,Q,$+(I?0:3),h.A),t(y==M),u&&xt(_)&&Wr(Q,$,I,k,M,h.A)}return 0}function Ve(u){var h=u.ma,y=h.ba.S,b=11>y,C=y==Rc||y==Dc||y==Mc||y==Ff||y==12||xt(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!kl(h.Oa,u,C?11:12))return 0;if(C&&xt(y)&&Ae(),u.da)alert("todo:use_scaling");else{if(b){if(h.Ib=nt,u.Kb){if(y=u.U+1>>1,h.memory=s(u.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=Nt,Ae()}}else alert("todo:EmitYUV");C&&(h.Jb=Ui,b&&ue())}if(b&&!fg){for(u=0;256>u;++u)H4[u]=89858*(u-128)+zc>>Bc,K4[u]=-22014*(u-128)+zc,G4[u]=-45773*(u-128),W4[u]=113618*(u-128)+zc>>Bc;for(u=Ol;u<Bf;++u)h=76283*(u-16)+zc>>Bc,Y4[u-Ol]=Pr(h,255),J4[u-Ol]=Pr(h+8>>4,15);fg=1}return 1}function ht(u){var h=u.ma,y=u.U,b=u.T;return t(!(1&u.ka)),0>=y||0>=b?0:(y=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,y),h.Dc+=y,1)}function _e(u){u.ma.memory=null}function Fe(u,h,y,b){return te(u,8)!=47?0:(h[0]=te(u,14)+1,y[0]=te(u,14)+1,b[0]=te(u,1),te(u,3)!=0?0:!u.h)}function lt(u,h){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+te(h,y)+1}function ct(u,h){return 120<h?h-120:1<=(y=((y=_4[h-1])>>4)*u+(8-(15&y)))?y:1;var y}function He(u,h,y){var b=q(y),C=u[h+=255&b].g-8;return 0<C&&(J(y,y.u+8),b=q(y),h+=u[h].value,h+=b&(1<<C)-1),J(y,y.u+u[h].g),u[h].value}function wt(u,h,y){return y.g+=u.g,y.value+=u.value<<h>>>0,t(8>=y.g),u.g}function Tt(u,h,y){var b=u.xc;return t((h=b==0?0:u.vc[u.md*(y>>b)+(h>>b)])<u.Wb),u.Ya[h]}function Ft(u,h,y,b){var C=u.ab,k=u.c*h,_=u.C;h=_+h;var I=y,M=b;for(b=u.Ta,y=u.Ua;0<C--;){var $=u.gc[C],Q=_,de=h,he=I,le=M,Se=(M=b,I=y,$.Ea);switch(t(Q<de),t(de<=$.nc),$.hc){case 2:Pc(he,le,(de-Q)*Se,M,I);break;case 0:var ge=Q,Z=de,se=M,we=I,je=(De=$).Ea;ge==0&&(_f(he,le,null,null,1,se,we),ft(he,le+1,0,0,je-1,se,we+1),le+=je,we+=je,++ge);for(var be=1<<De.b,Be=be-1,Ie=Ue(je,De.b),Je=De.K,De=De.w+(ge>>De.b)*Ie;ge<Z;){var Lt=Je,Pt=De,bt=1;for(Tl(he,le,se,we-je,1,se,we);bt<je;){var gt=(bt&~Be)+be;gt>je&&(gt=je),(0,ys[Lt[Pt++]>>8&15])(he,le+ +bt,se,we+bt-je,gt-bt,se,we+bt),bt=gt}le+=je,we+=je,++ge&Be||(De+=Ie)}de!=$.nc&&r(M,I-Se,M,I+(de-Q-1)*Se,Se);break;case 1:for(Se=he,Z=le,je=(he=$.Ea)-(we=he&~(se=(le=1<<$.b)-1)),ge=Ue(he,$.b),be=$.K,$=$.w+(Q>>$.b)*ge;Q<de;){for(Be=be,Ie=$,Je=new Ne,De=Z+we,Lt=Z+he;Z<De;)At(Be[Ie++],Je),uo(Je,Se,Z,le,M,I),Z+=le,I+=le;Z<Lt&&(At(Be[Ie++],Je),uo(Je,Se,Z,je,M,I),Z+=je,I+=je),++Q&se||($+=ge)}break;case 3:if(he==M&&le==I&&0<$.b){for(Z=M,he=Se=I+(de-Q)*Se-(we=(de-Q)*Ue($.Ea,$.b)),le=M,se=I,ge=[],we=(je=we)-1;0<=we;--we)ge[we]=le[se+we];for(we=je-1;0<=we;--we)Z[he+we]=ge[we];Vr($,Q,de,M,Se,M,I)}else Vr($,Q,de,he,le,M,I)}I=b,M=y}M!=y&&r(b,y,I,M,k)}function cr(u,h){var y=u.V,b=u.Ba+u.c*u.C,C=h-u.C;if(t(h<=u.l.o),t(16>=C),0<C){var k=u.l,_=u.Ta,I=u.Ua,M=k.width;if(Ft(u,C,y,b),C=I=[I],t((y=u.C)<(b=h)),t(k.v<k.va),b>k.o&&(b=k.o),y<k.j){var $=k.j-y;y=k.j,C[0]+=$*M}if(y>=b?y=0:(C[0]+=4*k.v,k.ka=y-k.j,k.U=k.va-k.v,k.T=b-y,y=1),y){if(I=I[0],11>(y=u.ca).S){var Q=y.f.RGBA,de=(b=y.S,C=k.U,k=k.T,$=Q.eb,Q.A),he=k;for(Q=Q.fb+u.Ma*Q.A;0<he--;){var le=_,Se=I,ge=C,Z=$,se=Q;switch(b){case Ic:mr(le,Se,ge,Z,se);break;case Rc:nr(le,Se,ge,Z,se);break;case If:nr(le,Se,ge,Z,se),Wr(Z,se,0,ge,1,0);break;case rg:Wi(le,Se,ge,Z,se);break;case Dc:$t(le,Se,ge,Z,se,1);break;case Rf:$t(le,Se,ge,Z,se,1),Wr(Z,se,0,ge,1,0);break;case Mc:$t(le,Se,ge,Z,se,0);break;case Oc:$t(le,Se,ge,Z,se,0),Wr(Z,se,1,ge,1,0);break;case Ff:xs(le,Se,ge,Z,se);break;case Df:xs(le,Se,ge,Z,se),qt(Z,se,ge,1,0);break;case ig:Hi(le,Se,ge,Z,se);break;default:t(0)}I+=M,Q+=de}u.Ma+=k}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=y.height)}}u.C=h,t(u.C<=u.i)}function Pn(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var y=u.Ya[h].G,b=u.Ya[h].H;if(0<y[1][b[1]+0].g||0<y[2][b[2]+0].g||0<y[3][b[3]+0].g)return 0}return 1}function Dt(u,h,y,b,C,k){if(u.Z!=0){var _=u.qd,I=u.rd;for(t(Ns[u.Z]!=null);h<y;++h)Ns[u.Z](_,I,b,C,b,C,k),_=b,I=C,C+=k;u.qd=_,u.rd=I}}function jt(u,h){var y=u.l.ma,b=y.Z==0||y.Z==1?u.l.j:u.C;if(b=u.C<b?b:u.C,t(h<=u.l.o),h>b){var C=u.l.width,k=y.ca,_=y.tb+C*b,I=u.V,M=u.Ba+u.c*b,$=u.gc;t(u.ab==1),t($[0].hc==3),kc($[0],b,h,I,M,k,_),Dt(y,b,h,k,_,C)}u.C=u.Ma=h}function Nn(u,h,y,b,C,k,_){var I=u.$/b,M=u.$%b,$=u.m,Q=u.s,de=y+u.$,he=de;C=y+b*C;var le=y+b*k,Se=280+Q.ua,ge=u.Pb?I:16777216,Z=0<Q.ua?Q.Wa:null,se=Q.wc,we=de<le?Tt(Q,M,I):null;t(u.C<k),t(le<=C);var je=!1;e:for(;;){for(;je||de<le;){var be=0;if(I>=ge){var Be=de-y;t((ge=u).Pb),ge.wd=ge.m,ge.xd=Be,0<ge.s.ua&&ve(ge.s.Wa,ge.s.vb),ge=I+F4}if(M&se||(we=Tt(Q,M,I)),t(we!=null),we.Qb&&(h[de]=we.qb,je=!0),!je)if(re($),we.jc){be=$,Be=h;var Ie=de,Je=we.pd[q(be)&Rn-1];t(we.jc),256>Je.g?(J(be,be.u+Je.g),Be[Ie]=Je.value,be=0):(J(be,be.u+Je.g-256),t(256<=Je.value),be=Je.value),be==0&&(je=!0)}else be=He(we.G[0],we.H[0],$);if($.h)break;if(je||256>be){if(!je)if(we.nd)h[de]=(we.qb|be<<8)>>>0;else{if(re($),je=He(we.G[1],we.H[1],$),re($),Be=He(we.G[2],we.H[2],$),Ie=He(we.G[3],we.H[3],$),$.h)break;h[de]=(Ie<<24|je<<16|be<<8|Be)>>>0}if(je=!1,++de,++M>=b&&(M=0,++I,_!=null&&I<=k&&!(I%16)&&_(u,I),Z!=null))for(;he<de;)be=h[he++],Z.X[(506832829*be&4294967295)>>>Z.Mb]=be}else if(280>be){if(be=lt(be-256,$),Be=He(we.G[4],we.H[4],$),re($),Be=ct(b,Be=lt(Be,$)),$.h)break;if(de-y<Be||C-de<be)break e;for(Ie=0;Ie<be;++Ie)h[de+Ie]=h[de+Ie-Be];for(de+=be,M+=be;M>=b;)M-=b,++I,_!=null&&I<=k&&!(I%16)&&_(u,I);if(t(de<=C),M&se&&(we=Tt(Q,M,I)),Z!=null)for(;he<de;)be=h[he++],Z.X[(506832829*be&4294967295)>>>Z.Mb]=be}else{if(!(be<Se))break e;for(je=be-280,t(Z!=null);he<de;)be=h[he++],Z.X[(506832829*be&4294967295)>>>Z.Mb]=be;be=de,t(!(je>>>(Be=Z).Xa)),h[be]=Be.X[je],je=!0}je||t($.h==U($))}if(u.Pb&&$.h&&de<C)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ve(u.s.vb,u.s.Wa);else{if($.h)break e;_!=null&&_(u,I>k?k:I),u.a=0,u.$=de-y}return 1}return u.a=3,0}function dr(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,t(u!=null)}function Xt(){var u=new Ef;return u==null?null:(u.a=0,u.xb=ag,qr("Predictor","VP8LPredictors"),qr("Predictor","VP8LPredictors_C"),qr("PredictorAdd","VP8LPredictorsAdd"),qr("PredictorAdd","VP8LPredictorsAdd_C"),Pc=vt,uo=Xe,mr=Me,nr=Cn,xs=pt,Hi=Lr,Wi=Ct,D.VP8LMapColor32b=oa,D.VP8LMapColor8b=Ec,u)}function Un(u,h,y,b,C){var k=1,_=[u],I=[h],M=b.m,$=b.s,Q=null,de=0;e:for(;;){if(y)for(;k&&te(M,1);){var he=_,le=I,Se=b,ge=1,Z=Se.m,se=Se.gc[Se.ab],we=te(Z,2);if(Se.Oc&1<<we)k=0;else{switch(Se.Oc|=1<<we,se.hc=we,se.Ea=he[0],se.nc=le[0],se.K=[null],++Se.ab,t(4>=Se.ab),we){case 0:case 1:se.b=te(Z,3)+2,ge=Un(Ue(se.Ea,se.b),Ue(se.nc,se.b),0,Se,se.K),se.K=se.K[0];break;case 3:var je,be=te(Z,8)+1,Be=16<be?0:4<be?1:2<be?2:3;if(he[0]=Ue(se.Ea,Be),se.b=Be,je=ge=Un(be,1,0,Se,se.K)){var Ie,Je=be,De=se,Lt=1<<(8>>De.b),Pt=s(Lt);if(Pt==null)je=0;else{var bt=De.K[0],gt=De.w;for(Pt[0]=De.K[0][0],Ie=1;Ie<1*Je;++Ie)Pt[Ie]=Le(bt[gt+Ie],Pt[Ie-1]);for(;Ie<4*Lt;++Ie)Pt[Ie]=0;De.K[0]=null,De.K[0]=Pt,je=1}}ge=je;break;case 2:break;default:t(0)}k=ge}}if(_=_[0],I=I[0],k&&te(M,1)&&!(k=1<=(de=te(M,4))&&11>=de)){b.a=3;break e}var Mt;if(Mt=k)t:{var It,dt,wn,gr=b,bn=_,vr=I,kt=de,Er=y,_r=gr.m,En=gr.s,Dn=[null],ir=1,Yr=0,Ci=T4[kt];n:for(;;){if(Er&&te(_r,1)){var _n=te(_r,3)+2,Ji=Ue(bn,_n),mo=Ue(vr,_n),da=Ji*mo;if(!Un(Ji,mo,0,gr,Dn))break n;for(Dn=Dn[0],En.xc=_n,It=0;It<da;++It){var js=Dn[It]>>8&65535;Dn[It]=js,js>=ir&&(ir=js+1)}}if(_r.h)break n;for(dt=0;5>dt;++dt){var on=sg[dt];!dt&&0<kt&&(on+=1<<kt),Yr<on&&(Yr=on)}var zf=o(ir*Ci,E),gg=ir,vg=o(gg,V);if(vg==null)var Uc=null;else t(65536>=gg),Uc=vg;var Bl=s(Yr);if(Uc==null||Bl==null||zf==null){gr.a=1;break n}var Vc=zf;for(It=wn=0;It<ir;++It){var li=Uc[It],ha=li.G,fa=li.H,yg=0,$c=1,xg=0;for(dt=0;5>dt;++dt){on=sg[dt],ha[dt]=Vc,fa[dt]=wn,!dt&&0<kt&&(on+=1<<kt);i:{var Hc,qf=on,Wc=gr,zl=Bl,Z4=Vc,eb=wn,Uf=0,As=Wc.m,tb=te(As,1);if(i(zl,0,0,qf),tb){var nb=te(As,1)+1,rb=te(As,1),wg=te(As,rb==0?1:8);zl[wg]=1,nb==2&&(zl[wg=te(As,8)]=1);var Gc=1}else{var bg=s(19),Sg=te(As,4)+4;if(19<Sg){Wc.a=3;var Kc=0;break i}for(Hc=0;Hc<Sg;++Hc)bg[E4[Hc]]=te(As,3);var Vf=void 0,ql=void 0,Ng=Wc,ib=bg,Yc=qf,jg=zl,$f=0,Ls=Ng.m,Ag=8,Lg=o(128,E);r:for(;T(Lg,0,7,ib,19);){if(te(Ls,1)){var sb=2+2*te(Ls,3);if((Vf=2+te(Ls,sb))>Yc)break r}else Vf=Yc;for(ql=0;ql<Yc&&Vf--;){re(Ls);var Cg=Lg[0+(127&q(Ls))];J(Ls,Ls.u+Cg.g);var pa=Cg.value;if(16>pa)jg[ql++]=pa,pa!=0&&(Ag=pa);else{var ob=pa==16,Pg=pa-16,ab=P4[Pg],kg=te(Ls,C4[Pg])+ab;if(ql+kg>Yc)break r;for(var lb=ob?Ag:0;0<kg--;)jg[ql++]=lb}}$f=1;break r}$f||(Ng.a=3),Gc=$f}(Gc=Gc&&!As.h)&&(Uf=T(Z4,eb,8,zl,qf)),Gc&&Uf!=0?Kc=Uf:(Wc.a=3,Kc=0)}if(Kc==0)break n;if($c&&k4[dt]==1&&($c=Vc[wn].g==0),yg+=Vc[wn].g,wn+=Kc,3>=dt){var Ul,Hf=Bl[0];for(Ul=1;Ul<on;++Ul)Bl[Ul]>Hf&&(Hf=Bl[Ul]);xg+=Hf}}if(li.nd=$c,li.Qb=0,$c&&(li.qb=(ha[3][fa[3]+0].value<<24|ha[1][fa[1]+0].value<<16|ha[2][fa[2]+0].value)>>>0,yg==0&&256>ha[0][fa[0]+0].value&&(li.Qb=1,li.qb+=ha[0][fa[0]+0].value<<8)),li.jc=!li.Qb&&6>xg,li.jc){var Jc,Xi=li;for(Jc=0;Jc<Rn;++Jc){var Cs=Jc,Ps=Xi.pd[Cs],Xc=Xi.G[0][Xi.H[0]+Cs];256<=Xc.value?(Ps.g=Xc.g+256,Ps.value=Xc.value):(Ps.g=0,Ps.value=0,Cs>>=wt(Xc,8,Ps),Cs>>=wt(Xi.G[1][Xi.H[1]+Cs],16,Ps),Cs>>=wt(Xi.G[2][Xi.H[2]+Cs],0,Ps),wt(Xi.G[3][Xi.H[3]+Cs],24,Ps))}}}En.vc=Dn,En.Wb=ir,En.Ya=Uc,En.yc=zf,Mt=1;break t}Mt=0}if(!(k=Mt)){b.a=3;break e}if(0<de){if($.ua=1<<de,!Ge($.Wa,de)){b.a=1,k=0;break e}}else $.ua=0;var Wf=b,Eg=_,ub=I,Gf=Wf.s,Kf=Gf.xc;if(Wf.c=Eg,Wf.i=ub,Gf.md=Ue(Eg,Kf),Gf.wc=Kf==0?-1:(1<<Kf)-1,y){b.xb=z4;break e}if((Q=s(_*I))==null){b.a=1,k=0;break e}k=(k=Nn(b,Q,0,_,I,I,null))&&!M.h;break e}return k?(C!=null?C[0]=Q:(t(Q==null),t(y)),b.$=0,y||dr($)):dr($),k}function hr(u,h){var y=u.c*u.i,b=y+h+16*h;return t(u.c<=h),u.V=s(b),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+h,1)}function qo(u,h){var y=u.C,b=h-y,C=u.V,k=u.Ba+u.c*y;for(t(h<=u.l.o);0<b;){var _=16<b?16:b,I=u.l.ma,M=u.l.width,$=M*_,Q=I.ca,de=I.tb+M*y,he=u.Ta,le=u.Ua;Ft(u,_,C,k),hn(he,le,Q,de,$),Dt(I,y,y+_,Q,de,M),b-=_,C+=_*u.c,y+=_}t(y==h),u.C=u.Ma=h}function Uo(){this.ub=this.yd=this.td=this.Rb=0}function Vo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $o(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function lc(){this.Yb=function(){var u=[];return function h(y,b,C){for(var k=C[b],_=0;_<k&&(y.push(C.length>b+1?[]:0),!(C.length<b+1));_++)h(y[_],b+1,C)}(u,0,[3,11]),u}()}function af(){this.jb=s(3),this.Wc=a([4,8],lc),this.Xc=a([4,17],lc)}function lf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ho(){this.ld=this.La=this.dd=this.tc=0}function uc(){this.Na=this.la=0}function uf(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function cf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ho),this.Y=0,this.ya=Array(new fl),this.aa=0,this.l=new Wo}function cc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function df(){this.cb=this.a=0,this.sc="",this.m=new xe,this.Od=new Uo,this.Kc=new Vo,this.ed=new lf,this.Qa=new $o,this.Ic=this.$c=this.Aa=0,this.D=new cf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,xe),this.ia=0,this.pb=o(4,uf),this.Pa=new af,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new cc),this.Hd=0,this.rb=Array(new uc),this.sb=0,this.wa=Array(new Ho),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fl),this.L=this.aa=0,this.gd=a([4,2],Ho),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function hf(){var u=new df;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Ml||(Ml=fc)),u}function cn(u,h,y){return u.a==0&&(u.a=h,u.sc=y,u.cb=0),0}function dc(u,h,y){return 3<=y&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function hc(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return cn(u,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,b=h.w,C=h.ha;if(4>C)return cn(u,7,"Truncated header.");var k=y[b+0]|y[b+1]<<8|y[b+2]<<16,_=u.Od;if(_.Rb=!(1&k),_.td=k>>1&7,_.yd=k>>4&1,_.ub=k>>5,3<_.td)return cn(u,3,"Incorrect keyframe parameters.");if(!_.yd)return cn(u,4,"Frame not displayable.");b+=3,C-=3;var I=u.Kc;if(_.Rb){if(7>C)return cn(u,7,"cannot parse picture header");if(!dc(y,b,C))return cn(u,3,"Bad code word");I.c=16383&(y[b+4]<<8|y[b+3]),I.Td=y[b+4]>>6,I.i=16383&(y[b+6]<<8|y[b+5]),I.Ud=y[b+6]>>6,b+=7,C-=7,u.za=I.c+15>>4,u.Ub=I.i+15>>4,h.width=I.c,h.height=I.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((k=u.Pa).jb,0,255,k.jb.length),t((k=u.Qa)!=null),k.Cb=0,k.Bb=0,k.Fb=1,i(k.Zb,0,0,k.Zb.length),i(k.Lb,0,0,k.Lb)}if(_.ub>C)return cn(u,7,"bad partition length");ae(k=u.m,y,b,_.ub),b+=_.ub,C-=_.ub,_.Rb&&(I.Ld=fe(k),I.Kd=fe(k)),I=u.Qa;var M,$=u.Pa;if(t(k!=null),t(I!=null),I.Cb=fe(k),I.Cb){if(I.Bb=fe(k),fe(k)){for(I.Fb=fe(k),M=0;4>M;++M)I.Zb[M]=fe(k)?oe(k,7):0;for(M=0;4>M;++M)I.Lb[M]=fe(k)?oe(k,6):0}if(I.Bb)for(M=0;3>M;++M)$.jb[M]=fe(k)?ie(k,8):255}else I.Bb=0;if(k.Ka)return cn(u,3,"cannot parse segment header");if((I=u.ed).zd=fe(k),I.Tb=ie(k,6),I.wb=ie(k,3),I.Pc=fe(k),I.Pc&&fe(k)){for($=0;4>$;++$)fe(k)&&(I.vd[$]=oe(k,6));for($=0;4>$;++$)fe(k)&&(I.od[$]=oe(k,6))}if(u.L=I.Tb==0?0:I.zd?1:2,k.Ka)return cn(u,3,"cannot parse filter header");var Q=C;if(C=M=b,b=M+Q,I=Q,u.Xb=(1<<ie(u.m,2))-1,Q<3*($=u.Xb))y=7;else{for(M+=3*$,I-=3*$,Q=0;Q<$;++Q){var de=y[C+0]|y[C+1]<<8|y[C+2]<<16;de>I&&(de=I),ae(u.Jc[+Q],y,M,de),M+=de,I-=de,C+=3}ae(u.Jc[+$],y,M,I),y=M<b?0:5}if(y!=0)return cn(u,y,"cannot parse partitions");for(y=ie(M=u.m,7),C=fe(M)?oe(M,4):0,b=fe(M)?oe(M,4):0,I=fe(M)?oe(M,4):0,$=fe(M)?oe(M,4):0,M=fe(M)?oe(M,4):0,Q=u.Qa,de=0;4>de;++de){if(Q.Cb){var he=Q.Zb[de];Q.Fb||(he+=y)}else{if(0<de){u.pb[de]=u.pb[0];continue}he=y}var le=u.pb[de];le.Sc[0]=Mf[Pr(he+C,127)],le.Sc[1]=Of[Pr(he+0,127)],le.Eb[0]=2*Mf[Pr(he+b,127)],le.Eb[1]=101581*Of[Pr(he+I,127)]>>16,8>le.Eb[1]&&(le.Eb[1]=8),le.Qc[0]=Mf[Pr(he+$,117)],le.Qc[1]=Of[Pr(he+M,127)],le.lc=he+M}if(!_.Rb)return cn(u,4,"Not a key frame.");for(fe(k),_=u.Pa,y=0;4>y;++y){for(C=0;8>C;++C)for(b=0;3>b;++b)for(I=0;11>I;++I)$=pe(k,O4[y][C][b][I])?ie(k,8):D4[y][C][b][I],_.Wc[y][C].Yb[b][I]=$;for(C=0;17>C;++C)_.Xc[y][C]=_.Wc[y][B4[C]]}return u.kc=fe(k),u.kc&&(u.Bd=ie(k,8)),u.cb=1}function fc(u,h,y,b,C,k,_){var I=h[C].Yb[y];for(y=0;16>C;++C){if(!pe(u,I[y+0]))return C;for(;!pe(u,I[y+1]);)if(I=h[++C].Yb[0],y=0,C==16)return 16;var M=h[C+1].Yb;if(pe(u,I[y+2])){var $=u,Q=0;if(pe($,(he=I)[(de=y)+3]))if(pe($,he[de+6])){for(I=0,de=2*(Q=pe($,he[de+8]))+(he=pe($,he[de+9+Q])),Q=0,he=I4[de];he[I];++I)Q+=Q+pe($,he[I]);Q+=3+(8<<de)}else pe($,he[de+7])?(Q=7+2*pe($,165),Q+=pe($,145)):Q=5+pe($,159);else Q=pe($,he[de+4])?3+pe($,he[de+5]):2;I=M[2]}else Q=1,I=M[1];M=_+R4[C],0>($=u).b&&ce($);var de,he=$.b,le=(de=$.Ca>>1)-($.I>>he)>>31;--$.b,$.Ca+=le,$.Ca|=1,$.I-=(de+1&le)<<he,k[M]=((Q^le)-le)*b[(0<C)+0]}return 16}function pl(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function ff(u,h){if(u==null)return 0;if(h==null)return cn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!hc(u,h))return 0;if(t(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var y=qc[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-y>>4,u.zb=h.j-y>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+y>>4,u.Hb=h.va+15+y>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var b=u.ed;for(y=0;4>y;++y){var C;if(u.Qa.Cb){var k=u.Qa.Lb[y];u.Qa.Fb||(k+=b.Tb)}else k=b.Tb;for(C=0;1>=C;++C){var _=u.gd[y][C],I=k;if(b.Pc&&(I+=b.vd[0],C&&(I+=b.od[0])),0<(I=0>I?0:63<I?63:I)){var M=I;0<b.wb&&(M=4<b.wb?M>>2:M>>1)>9-b.wb&&(M=9-b.wb),1>M&&(M=1),_.dd=M,_.tc=2*I+M,_.ld=40<=I?2:15<=I?1:0}else _.tc=0;_.La=C}}}y=0}else cn(u,6,"Frame setup failed"),y=u.a;if(y=y==0){if(y){u.$c=0,0<u.Aa||(u.Ic=Q4);e:{y=u.Ic,b=4*(M=u.za);var $=32*M,Q=M+1,de=0<u.L?M*(0<u.Aa?2:1):0,he=(u.Aa==2?2:1)*M;if((_=b+832+(C=3*(16*y+qc[u.L])/2*$)+(k=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=_)y=0;else{if(_>u.Vb){if(u.Vb=0,u.Ec=s(_),u.Fc=0,u.Ec==null){y=cn(u,1,"no memory during frame initialization.");break e}u.Vb=_}_=u.Ec,I=u.Fc,u.Ac=_,u.Bc=I,I+=b,u.Gd=o($,cc),u.Hd=0,u.rb=o(Q+1,uc),u.sb=1,u.wa=de?o(de,Ho):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=M),t(!0),u.oc=_,u.pc=I,I+=832,u.ya=o(he,fl),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=M),u.R=16*M,u.B=8*M,M=($=qc[u.L])*u.R,$=$/2*u.B,u.sa=_,u.ta=I+M,u.qa=u.sa,u.ra=u.ta+16*y*u.R+$,u.Ha=u.qa,u.Ia=u.ra+8*y*u.B+$,u.$c=0,I+=C,u.mb=k?_:null,u.nb=k?I:null,t(I+k<=u.Fc+u.Vb),pl(u),i(u.Ac,u.Bc,0,b),y=1}}if(y){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!Tc){for(y=-255;255>=y;++y)jn[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)Ki[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Dl[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)ca[255+y]=0>y?0:255<y?255:y;Tc=1}aa=gf,Gi=pf,Fl=mc,rr=mf,$r=gc,dn=pc,la=wl,_c=ao,Il=kf,co=bl,ho=Pf,ws=Qo,fo=Sl,ua=Ac,po=jc,bs=Ai,Rl=$i,Hr=Cf,ai[0]=ji,ai[1]=vf,ai[2]=bf,ai[3]=Sf,ai[4]=xc,ai[5]=Jo,ai[6]=wc,ai[7]=vl,ai[8]=jf,ai[9]=Nf,Ss[0]=vc,Ss[1]=xf,Ss[2]=Vi,Ss[3]=Ko,Ss[4]=Vn,Ss[5]=wf,Ss[6]=yc,Yi[0]=ms,Yi[1]=yf,Yi[2]=Af,Yi[3]=yl,Yi[4]=oo,Yi[5]=Lf,Yi[6]=xl,y=1}else y=0}y&&(y=function(le,Se){for(le.M=0;le.M<le.Va;++le.M){var ge,Z=le.Jc[le.M&le.Xb],se=le.m,we=le;for(ge=0;ge<we.za;++ge){var je=se,be=we,Be=be.Ac,Ie=be.Bc+4*ge,Je=be.zc,De=be.ya[be.aa+ge];if(be.Qa.Bb?De.$b=pe(je,be.Pa.jb[0])?2+pe(je,be.Pa.jb[2]):pe(je,be.Pa.jb[1]):De.$b=0,be.kc&&(De.Ad=pe(je,be.Bd)),De.Za=!pe(je,145)+0,De.Za){var Lt=De.Ob,Pt=0;for(be=0;4>be;++be){var bt,gt=Je[0+be];for(bt=0;4>bt;++bt){gt=M4[Be[Ie+bt]][gt];for(var Mt=og[pe(je,gt[0])];0<Mt;)Mt=og[2*Mt+pe(je,gt[Mt])];gt=-Mt,Be[Ie+bt]=gt}r(Lt,Pt,Be,Ie,4),Pt+=4,Je[0+be]=gt}}else gt=pe(je,156)?pe(je,128)?1:3:pe(je,163)?2:0,De.Ob[0]=gt,i(Be,Ie,gt,4),i(Je,0,gt,4);De.Dd=pe(je,142)?pe(je,114)?pe(je,183)?1:3:2:0}if(we.m.Ka)return cn(le,7,"Premature end-of-partition0 encountered.");for(;le.ja<le.za;++le.ja){if(we=Z,je=(se=le).rb[se.sb-1],Be=se.rb[se.sb+se.ja],ge=se.ya[se.aa+se.ja],Ie=se.kc?ge.Ad:0)je.la=Be.la=0,ge.Za||(je.Na=Be.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var It,dt;if(je=Be,Be=we,Ie=se.Pa.Xc,Je=se.ya[se.aa+se.ja],De=se.pb[Je.$b],be=Je.ad,Lt=0,Pt=se.rb[se.sb-1],gt=bt=0,i(be,Lt,0,384),Je.Za)var wn=0,gr=Ie[3];else{Mt=s(16);var bn=je.Na+Pt.Na;if(bn=Ml(Be,Ie[1],bn,De.Eb,0,Mt,0),je.Na=Pt.Na=(0<bn)+0,1<bn)aa(Mt,0,be,Lt);else{var vr=Mt[0]+3>>3;for(Mt=0;256>Mt;Mt+=16)be[Lt+Mt]=vr}wn=1,gr=Ie[0]}var kt=15&je.la,Er=15&Pt.la;for(Mt=0;4>Mt;++Mt){var _r=1&Er;for(vr=dt=0;4>vr;++vr)kt=kt>>1|(_r=(bn=Ml(Be,gr,bn=_r+(1&kt),De.Sc,wn,be,Lt))>wn)<<7,dt=dt<<2|(3<bn?3:1<bn?2:be[Lt+0]!=0),Lt+=16;kt>>=4,Er=Er>>1|_r<<7,bt=(bt<<8|dt)>>>0}for(gr=kt,wn=Er>>4,It=0;4>It;It+=2){for(dt=0,kt=je.la>>4+It,Er=Pt.la>>4+It,Mt=0;2>Mt;++Mt){for(_r=1&Er,vr=0;2>vr;++vr)bn=_r+(1&kt),kt=kt>>1|(_r=0<(bn=Ml(Be,Ie[2],bn,De.Qc,0,be,Lt)))<<3,dt=dt<<2|(3<bn?3:1<bn?2:be[Lt+0]!=0),Lt+=16;kt>>=2,Er=Er>>1|_r<<5}gt|=dt<<4*It,gr|=kt<<4<<It,wn|=(240&Er)<<It}je.la=gr,Pt.la=wn,Je.Hc=bt,Je.Gc=gt,Je.ia=43690&gt?0:De.ia,Ie=!(bt|gt)}if(0<se.L&&(se.wa[se.Y+se.ja]=se.gd[ge.$b][ge.Za],se.wa[se.Y+se.ja].La|=!Ie),we.Ka)return cn(le,7,"Premature end-of-file encountered.")}if(pl(le),se=Se,we=1,ge=(Z=le).D,je=0<Z.L&&Z.M>=Z.zb&&Z.M<=Z.Va,Z.Aa==0)e:{if(ge.M=Z.M,ge.uc=je,Pl(Z,ge),we=1,ge=(dt=Z.D).Nb,je=(gt=qc[Z.L])*Z.R,Be=gt/2*Z.B,Mt=16*ge*Z.R,vr=8*ge*Z.B,Ie=Z.sa,Je=Z.ta-je+Mt,De=Z.qa,be=Z.ra-Be+vr,Lt=Z.Ha,Pt=Z.Ia-Be+vr,Er=(kt=dt.M)==0,bt=kt>=Z.Va-1,Z.Aa==2&&Pl(Z,dt),dt.uc)for(_r=(bn=Z).D.M,t(bn.D.uc),dt=bn.yb;dt<bn.Hb;++dt){wn=dt,gr=_r;var En=(Dn=(on=bn).D).Nb;It=on.R;var Dn=Dn.wa[Dn.Y+wn],ir=on.sa,Yr=on.ta+16*En*It+16*wn,Ci=Dn.dd,_n=Dn.tc;if(_n!=0)if(t(3<=_n),on.L==1)0<wn&&bs(ir,Yr,It,_n+4),Dn.La&&Hr(ir,Yr,It,_n),0<gr&&po(ir,Yr,It,_n+4),Dn.La&&Rl(ir,Yr,It,_n);else{var Ji=on.B,mo=on.qa,da=on.ra+8*En*Ji+8*wn,js=on.Ha,on=on.Ia+8*En*Ji+8*wn;En=Dn.ld,0<wn&&(_c(ir,Yr,It,_n+4,Ci,En),co(mo,da,js,on,Ji,_n+4,Ci,En)),Dn.La&&(ws(ir,Yr,It,_n,Ci,En),ua(mo,da,js,on,Ji,_n,Ci,En)),0<gr&&(la(ir,Yr,It,_n+4,Ci,En),Il(mo,da,js,on,Ji,_n+4,Ci,En)),Dn.La&&(ho(ir,Yr,It,_n,Ci,En),fo(mo,da,js,on,Ji,_n,Ci,En))}}if(Z.ia&&alert("todo:DitherRow"),se.put!=null){if(dt=16*kt,kt=16*(kt+1),Er?(se.y=Z.sa,se.O=Z.ta+Mt,se.f=Z.qa,se.N=Z.ra+vr,se.ea=Z.Ha,se.W=Z.Ia+vr):(dt-=gt,se.y=Ie,se.O=Je,se.f=De,se.N=be,se.ea=Lt,se.W=Pt),bt||(kt-=gt),kt>se.o&&(kt=se.o),se.F=null,se.J=null,Z.Fa!=null&&0<Z.Fa.length&&dt<kt&&(se.J=Ll(Z,se,dt,kt-dt),se.F=Z.mb,se.F==null&&se.F.length==0)){we=cn(Z,3,"Could not decode alpha data.");break e}dt<se.j&&(gt=se.j-dt,dt=se.j,t(!(1&gt)),se.O+=Z.R*gt,se.N+=Z.B*(gt>>1),se.W+=Z.B*(gt>>1),se.F!=null&&(se.J+=se.width*gt)),dt<kt&&(se.O+=se.v,se.N+=se.v>>1,se.W+=se.v>>1,se.F!=null&&(se.J+=se.v),se.ka=dt-se.j,se.U=se.va-se.v,se.T=kt-dt,we=se.put(se))}ge+1!=Z.Ic||bt||(r(Z.sa,Z.ta-je,Ie,Je+16*Z.R,je),r(Z.qa,Z.ra-Be,De,be+8*Z.B,Be),r(Z.Ha,Z.Ia-Be,Lt,Pt+8*Z.B,Be))}if(!we)return cn(le,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),y&=1}return y?(u.cb=0,y):0}function ii(u,h,y,b,C){C=u[h+y+32*b]+(C>>3),u[h+y+32*b]=-256&C?0>C?0:255:C}function Go(u,h,y,b,C,k){ii(u,h,0,y,b+C),ii(u,h,1,y,b+k),ii(u,h,2,y,b-k),ii(u,h,3,y,b-C)}function fr(u){return(20091*u>>16)+u}function ml(u,h,y,b){var C,k=0,_=s(16);for(C=0;4>C;++C){var I=u[h+0]+u[h+8],M=u[h+0]-u[h+8],$=(35468*u[h+4]>>16)-fr(u[h+12]),Q=fr(u[h+4])+(35468*u[h+12]>>16);_[k+0]=I+Q,_[k+1]=M+$,_[k+2]=M-$,_[k+3]=I-Q,k+=4,h++}for(C=k=0;4>C;++C)I=(u=_[k+0]+4)+_[k+8],M=u-_[k+8],$=(35468*_[k+4]>>16)-fr(_[k+12]),ii(y,b,0,0,I+(Q=fr(_[k+4])+(35468*_[k+12]>>16))),ii(y,b,1,0,M+$),ii(y,b,2,0,M-$),ii(y,b,3,0,I-Q),k++,b+=32}function pc(u,h,y,b){var C=u[h+0]+4,k=35468*u[h+4]>>16,_=fr(u[h+4]),I=35468*u[h+1]>>16;Go(y,b,0,C+_,u=fr(u[h+1]),I),Go(y,b,1,C+k,u,I),Go(y,b,2,C-k,u,I),Go(y,b,3,C-_,u,I)}function pf(u,h,y,b,C){ml(u,h,y,b),C&&ml(u,h+16,y,b+4)}function mc(u,h,y,b){Gi(u,h+0,y,b,1),Gi(u,h+32,y,b+128,1)}function mf(u,h,y,b){var C;for(u=u[h+0]+4,C=0;4>C;++C)for(h=0;4>h;++h)ii(y,b,h,C,u)}function gc(u,h,y,b){u[h+0]&&rr(u,h+0,y,b),u[h+16]&&rr(u,h+16,y,b+4),u[h+32]&&rr(u,h+32,y,b+128),u[h+48]&&rr(u,h+48,y,b+128+4)}function gf(u,h,y,b){var C,k=s(16);for(C=0;4>C;++C){var _=u[h+0+C]+u[h+12+C],I=u[h+4+C]+u[h+8+C],M=u[h+4+C]-u[h+8+C],$=u[h+0+C]-u[h+12+C];k[0+C]=_+I,k[8+C]=_-I,k[4+C]=$+M,k[12+C]=$-M}for(C=0;4>C;++C)_=(u=k[0+4*C]+3)+k[3+4*C],I=k[1+4*C]+k[2+4*C],M=k[1+4*C]-k[2+4*C],$=u-k[3+4*C],y[b+0]=_+I>>3,y[b+16]=$+M>>3,y[b+32]=_-I>>3,y[b+48]=$-M>>3,b+=64}function gl(u,h,y){var b,C=h-32,k=kr,_=255-u[C-1];for(b=0;b<y;++b){var I,M=k,$=_+u[h-1];for(I=0;I<y;++I)u[h+I]=M[$+u[C+I]];h+=32}}function vf(u,h){gl(u,h,4)}function yf(u,h){gl(u,h,8)}function xf(u,h){gl(u,h,16)}function Vi(u,h){var y;for(y=0;16>y;++y)r(u,h+32*y,u,h-32,16)}function Ko(u,h){var y;for(y=16;0<y;--y)i(u,h,u[h-1],16),h+=32}function Yo(u,h,y){var b;for(b=0;16>b;++b)i(h,y+32*b,u,16)}function vc(u,h){var y,b=16;for(y=0;16>y;++y)b+=u[h-1+32*y]+u[h+y-32];Yo(b>>5,u,h)}function Vn(u,h){var y,b=8;for(y=0;16>y;++y)b+=u[h-1+32*y];Yo(b>>4,u,h)}function wf(u,h){var y,b=8;for(y=0;16>y;++y)b+=u[h+y-32];Yo(b>>4,u,h)}function yc(u,h){Yo(128,u,h)}function it(u,h,y){return u+2*h+y+2>>2}function bf(u,h){var y,b=h-32;for(b=new Uint8Array([it(u[b-1],u[b+0],u[b+1]),it(u[b+0],u[b+1],u[b+2]),it(u[b+1],u[b+2],u[b+3]),it(u[b+2],u[b+3],u[b+4])]),y=0;4>y;++y)r(u,h+32*y,b,0,b.length)}function Sf(u,h){var y=u[h-1],b=u[h-1+32],C=u[h-1+64],k=u[h-1+96];Ee(u,h+0,16843009*it(u[h-1-32],y,b)),Ee(u,h+32,16843009*it(y,b,C)),Ee(u,h+64,16843009*it(b,C,k)),Ee(u,h+96,16843009*it(C,k,k))}function ji(u,h){var y,b=4;for(y=0;4>y;++y)b+=u[h+y-32]+u[h-1+32*y];for(b>>=3,y=0;4>y;++y)i(u,h+32*y,b,4)}function xc(u,h){var y=u[h-1+0],b=u[h-1+32],C=u[h-1+64],k=u[h-1-32],_=u[h+0-32],I=u[h+1-32],M=u[h+2-32],$=u[h+3-32];u[h+0+96]=it(b,C,u[h-1+96]),u[h+1+96]=u[h+0+64]=it(y,b,C),u[h+2+96]=u[h+1+64]=u[h+0+32]=it(k,y,b),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=it(_,k,y),u[h+3+64]=u[h+2+32]=u[h+1+0]=it(I,_,k),u[h+3+32]=u[h+2+0]=it(M,I,_),u[h+3+0]=it($,M,I)}function wc(u,h){var y=u[h+1-32],b=u[h+2-32],C=u[h+3-32],k=u[h+4-32],_=u[h+5-32],I=u[h+6-32],M=u[h+7-32];u[h+0+0]=it(u[h+0-32],y,b),u[h+1+0]=u[h+0+32]=it(y,b,C),u[h+2+0]=u[h+1+32]=u[h+0+64]=it(b,C,k),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=it(C,k,_),u[h+3+32]=u[h+2+64]=u[h+1+96]=it(k,_,I),u[h+3+64]=u[h+2+96]=it(_,I,M),u[h+3+96]=it(I,M,M)}function Jo(u,h){var y=u[h-1+0],b=u[h-1+32],C=u[h-1+64],k=u[h-1-32],_=u[h+0-32],I=u[h+1-32],M=u[h+2-32],$=u[h+3-32];u[h+0+0]=u[h+1+64]=k+_+1>>1,u[h+1+0]=u[h+2+64]=_+I+1>>1,u[h+2+0]=u[h+3+64]=I+M+1>>1,u[h+3+0]=M+$+1>>1,u[h+0+96]=it(C,b,y),u[h+0+64]=it(b,y,k),u[h+0+32]=u[h+1+96]=it(y,k,_),u[h+1+32]=u[h+2+96]=it(k,_,I),u[h+2+32]=u[h+3+96]=it(_,I,M),u[h+3+32]=it(I,M,$)}function vl(u,h){var y=u[h+0-32],b=u[h+1-32],C=u[h+2-32],k=u[h+3-32],_=u[h+4-32],I=u[h+5-32],M=u[h+6-32],$=u[h+7-32];u[h+0+0]=y+b+1>>1,u[h+1+0]=u[h+0+64]=b+C+1>>1,u[h+2+0]=u[h+1+64]=C+k+1>>1,u[h+3+0]=u[h+2+64]=k+_+1>>1,u[h+0+32]=it(y,b,C),u[h+1+32]=u[h+0+96]=it(b,C,k),u[h+2+32]=u[h+1+96]=it(C,k,_),u[h+3+32]=u[h+2+96]=it(k,_,I),u[h+3+64]=it(_,I,M),u[h+3+96]=it(I,M,$)}function Nf(u,h){var y=u[h-1+0],b=u[h-1+32],C=u[h-1+64],k=u[h-1+96];u[h+0+0]=y+b+1>>1,u[h+2+0]=u[h+0+32]=b+C+1>>1,u[h+2+32]=u[h+0+64]=C+k+1>>1,u[h+1+0]=it(y,b,C),u[h+3+0]=u[h+1+32]=it(b,C,k),u[h+3+32]=u[h+1+64]=it(C,k,k),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=k}function jf(u,h){var y=u[h-1+0],b=u[h-1+32],C=u[h-1+64],k=u[h-1+96],_=u[h-1-32],I=u[h+0-32],M=u[h+1-32],$=u[h+2-32];u[h+0+0]=u[h+2+32]=y+_+1>>1,u[h+0+32]=u[h+2+64]=b+y+1>>1,u[h+0+64]=u[h+2+96]=C+b+1>>1,u[h+0+96]=k+C+1>>1,u[h+3+0]=it(I,M,$),u[h+2+0]=it(_,I,M),u[h+1+0]=u[h+3+32]=it(y,_,I),u[h+1+32]=u[h+3+64]=it(b,y,_),u[h+1+64]=u[h+3+96]=it(C,b,y),u[h+1+96]=it(k,C,b)}function Af(u,h){var y;for(y=0;8>y;++y)r(u,h+32*y,u,h-32,8)}function yl(u,h){var y;for(y=0;8>y;++y)i(u,h,u[h-1],8),h+=32}function so(u,h,y){var b;for(b=0;8>b;++b)i(h,y+32*b,u,8)}function ms(u,h){var y,b=8;for(y=0;8>y;++y)b+=u[h+y-32]+u[h-1+32*y];so(b>>4,u,h)}function Lf(u,h){var y,b=4;for(y=0;8>y;++y)b+=u[h+y-32];so(b>>3,u,h)}function oo(u,h){var y,b=4;for(y=0;8>y;++y)b+=u[h-1+32*y];so(b>>3,u,h)}function xl(u,h){so(128,u,h)}function Xo(u,h,y){var b=u[h-y],C=u[h+0],k=3*(C-b)+Tf[1020+u[h-2*y]-u[h+y]],_=Fc[112+(k+4>>3)];u[h-y]=kr[255+b+Fc[112+(k+3>>3)]],u[h+0]=kr[255+C-_]}function bc(u,h,y,b){var C=u[h+0],k=u[h+y];return Gr[255+u[h-2*y]-u[h-y]]>b||Gr[255+k-C]>b}function Sc(u,h,y,b){return 4*Gr[255+u[h-y]-u[h+0]]+Gr[255+u[h-2*y]-u[h+y]]<=b}function Nc(u,h,y,b,C){var k=u[h-3*y],_=u[h-2*y],I=u[h-y],M=u[h+0],$=u[h+y],Q=u[h+2*y],de=u[h+3*y];return 4*Gr[255+I-M]+Gr[255+_-$]>b?0:Gr[255+u[h-4*y]-k]<=C&&Gr[255+k-_]<=C&&Gr[255+_-I]<=C&&Gr[255+de-Q]<=C&&Gr[255+Q-$]<=C&&Gr[255+$-M]<=C}function jc(u,h,y,b){var C=2*b+1;for(b=0;16>b;++b)Sc(u,h+b,y,C)&&Xo(u,h+b,y)}function Ai(u,h,y,b){var C=2*b+1;for(b=0;16>b;++b)Sc(u,h+b*y,1,C)&&Xo(u,h+b*y,1)}function $i(u,h,y,b){var C;for(C=3;0<C;--C)jc(u,h+=4*y,y,b)}function Cf(u,h,y,b){var C;for(C=3;0<C;--C)Ai(u,h+=4,y,b)}function gs(u,h,y,b,C,k,_,I){for(k=2*k+1;0<C--;){if(Nc(u,h,y,k,_))if(bc(u,h,y,I))Xo(u,h,y);else{var M=u,$=h,Q=y,de=M[$-2*Q],he=M[$-Q],le=M[$+0],Se=M[$+Q],ge=M[$+2*Q],Z=27*(we=Tf[1020+3*(le-he)+Tf[1020+de-Se]])+63>>7,se=18*we+63>>7,we=9*we+63>>7;M[$-3*Q]=kr[255+M[$-3*Q]+we],M[$-2*Q]=kr[255+de+se],M[$-Q]=kr[255+he+Z],M[$+0]=kr[255+le-Z],M[$+Q]=kr[255+Se-se],M[$+2*Q]=kr[255+ge-we]}h+=b}}function si(u,h,y,b,C,k,_,I){for(k=2*k+1;0<C--;){if(Nc(u,h,y,k,_))if(bc(u,h,y,I))Xo(u,h,y);else{var M=u,$=h,Q=y,de=M[$-Q],he=M[$+0],le=M[$+Q],Se=Fc[112+((ge=3*(he-de))+4>>3)],ge=Fc[112+(ge+3>>3)],Z=Se+1>>1;M[$-2*Q]=kr[255+M[$-2*Q]+Z],M[$-Q]=kr[255+de+ge],M[$+0]=kr[255+he-Se],M[$+Q]=kr[255+le-Z]}h+=b}}function wl(u,h,y,b,C,k){gs(u,h,y,1,16,b,C,k)}function ao(u,h,y,b,C,k){gs(u,h,1,y,16,b,C,k)}function Pf(u,h,y,b,C,k){var _;for(_=3;0<_;--_)si(u,h+=4*y,y,1,16,b,C,k)}function Qo(u,h,y,b,C,k){var _;for(_=3;0<_;--_)si(u,h+=4,1,y,16,b,C,k)}function kf(u,h,y,b,C,k,_,I){gs(u,h,C,1,8,k,_,I),gs(y,b,C,1,8,k,_,I)}function bl(u,h,y,b,C,k,_,I){gs(u,h,1,C,8,k,_,I),gs(y,b,1,C,8,k,_,I)}function Sl(u,h,y,b,C,k,_,I){si(u,h+4*C,C,1,8,k,_,I),si(y,b+4*C,C,1,8,k,_,I)}function Ac(u,h,y,b,C,k,_,I){si(u,h+4,1,C,8,k,_,I),si(y,b+4,1,C,8,k,_,I)}function Zo(){this.ba=new Cr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Nl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function jl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lc(){this.ua=0,this.Wa=new Y,this.vb=new Y,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new E}function Ef(){this.xb=this.a=0,this.l=new Wo,this.ca=new Cr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lc,this.ab=0,this.gc=o(4,jl),this.Oc=0}function ea(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function lo(u,h,y,b,C,k,_){for(u=u==null?0:u[h+0],h=0;h<_;++h)C[k+h]=u+y[b+h]&255,u=C[k+h]}function Al(u,h,y,b,C,k,_){var I;if(u==null)lo(null,null,y,b,C,k,_);else for(I=0;I<_;++I)C[k+I]=u[h+I]+y[b+I]&255}function vs(u,h,y,b,C,k,_){if(u==null)lo(null,null,y,b,C,k,_);else{var I,M=u[h+0],$=M,Q=M;for(I=0;I<_;++I)$=Q+(M=u[h+I])-$,Q=y[b+I]+(-256&$?0>$?0:255:$)&255,$=M,C[k+I]=Q}}function Ll(u,h,y,b){var C=h.width,k=h.o;if(t(u!=null&&h!=null),0>y||0>=b||y+b>k)return null;if(!u.Cc){if(u.ga==null){var _;if(u.ga=new ea,(_=u.ga==null)||(_=h.width*h.o,t(u.Gb.length==0),u.Gb=s(_),u.Uc=0,u.Gb==null?_=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,_=1),_=!_),!_){_=u.ga;var I=u.Fa,M=u.P,$=u.qc,Q=u.mb,de=u.nb,he=M+1,le=$-1,Se=_.l;if(t(I!=null&&Q!=null&&h!=null),Ns[0]=null,Ns[1]=lo,Ns[2]=Al,Ns[3]=vs,_.ca=Q,_.tb=de,_.c=h.width,_.i=h.height,t(0<_.c&&0<_.i),1>=$)h=0;else if(_.$a=I[M+0]>>0&3,_.Z=I[M+0]>>2&3,_.Lc=I[M+0]>>4&3,M=I[M+0]>>6&3,0>_.$a||1<_.$a||4<=_.Z||1<_.Lc||M)h=0;else if(Se.put=ht,Se.ac=Ve,Se.bc=_e,Se.ma=_,Se.width=h.width,Se.height=h.height,Se.Da=h.Da,Se.v=h.v,Se.va=h.va,Se.j=h.j,Se.o=h.o,_.$a)e:{t(_.$a==1),h=Xt();t:for(;;){if(h==null){h=0;break e}if(t(_!=null),_.mc=h,h.c=_.c,h.i=_.i,h.l=_.l,h.l.ma=_,h.l.width=_.c,h.l.height=_.i,h.a=0,H(h.m,I,he,le),!Un(_.c,_.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&Pn(h.s)?(_.ic=1,I=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(I),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(_.ic=0,h=hr(h,_.c)),!h))break t;h=1;break e}_.mc=null,h=0}else h=le>=_.c*_.i;_=!h}if(_)return null;u.ga.Lc!=1?u.Ga=0:b=k-y}t(u.ga!=null),t(y+b<=k);e:{if(h=(I=u.ga).c,k=I.l.o,I.$a==0){if(he=u.rc,le=u.Vc,Se=u.Fa,M=u.P+1+y*h,$=u.mb,Q=u.nb+y*h,t(M<=u.P+u.qc),I.Z!=0)for(t(Ns[I.Z]!=null),_=0;_<b;++_)Ns[I.Z](he,le,Se,M,$,Q,h),he=$,le=Q,Q+=h,M+=h;else for(_=0;_<b;++_)r($,Q,Se,M,h),he=$,le=Q,Q+=h,M+=h;u.rc=he,u.Vc=le}else{if(t(I.mc!=null),h=y+b,t((_=I.mc)!=null),t(h<=_.i),_.C>=h)h=1;else if(I.ic||ue(),I.ic){I=_.V,he=_.Ba,le=_.c;var ge=_.i,Z=(Se=1,M=_.$/le,$=_.$%le,Q=_.m,de=_.s,_.$),se=le*ge,we=le*h,je=de.wc,be=Z<we?Tt(de,$,M):null;t(Z<=se),t(h<=ge),t(Pn(de));t:for(;;){for(;!Q.h&&Z<we;){if($&je||(be=Tt(de,$,M)),t(be!=null),re(Q),256>(ge=He(be.G[0],be.H[0],Q)))I[he+Z]=ge,++Z,++$>=le&&($=0,++M<=h&&!(M%16)&&jt(_,M));else{if(!(280>ge)){Se=0;break t}ge=lt(ge-256,Q);var Be,Ie=He(be.G[4],be.H[4],Q);if(re(Q),!(Z>=(Ie=ct(le,Ie=lt(Ie,Q)))&&se-Z>=ge)){Se=0;break t}for(Be=0;Be<ge;++Be)I[he+Z+Be]=I[he+Z+Be-Ie];for(Z+=ge,$+=ge;$>=le;)$-=le,++M<=h&&!(M%16)&&jt(_,M);Z<we&&$&je&&(be=Tt(de,$,M))}t(Q.h==U(Q))}jt(_,M>h?h:M);break t}!Se||Q.h&&Z<se?(Se=0,_.a=Q.h?5:3):_.$=Z,h=Se}else h=Nn(_,_.V,_.Ba,_.c,_.i,h,qo);if(!h){b=0;break e}}y+b>=k&&(u.Cc=1),b=1}if(!b)return null;if(u.Cc&&((b=u.ga)!=null&&(b.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*C}function v(u,h,y,b,C,k){for(;0<C--;){var _,I=u,M=h+(y?1:0),$=u,Q=h+(y?0:3);for(_=0;_<b;++_){var de=$[Q+4*_];de!=255&&(de*=32897,I[M+4*_+0]=I[M+4*_+0]*de>>23,I[M+4*_+1]=I[M+4*_+1]*de>>23,I[M+4*_+2]=I[M+4*_+2]*de>>23)}h+=k}}function P(u,h,y,b,C){for(;0<b--;){var k;for(k=0;k<y;++k){var _=u[h+2*k+0],I=15&($=u[h+2*k+1]),M=4369*I,$=(240&$|$>>4)*M>>16;u[h+2*k+0]=(240&_|_>>4)*M>>16&240|(15&_|_<<4)*M>>16>>4&15,u[h+2*k+1]=240&$|I}h+=C}}function K(u,h,y,b,C,k,_,I){var M,$,Q=255;for($=0;$<C;++$){for(M=0;M<b;++M){var de=u[h+M];k[_+4*M]=de,Q&=de}h+=y,_+=I}return Q!=255}function X(u,h,y,b,C){var k;for(k=0;k<C;++k)y[b+k]=u[h+k]>>8}function ue(){Wr=v,qt=P,Ut=K,hn=X}function ye(u,h,y){D[u]=function(b,C,k,_,I,M,$,Q,de,he,le,Se,ge,Z,se,we,je){var be,Be=je-1>>1,Ie=I[M+0]|$[Q+0]<<16,Je=de[he+0]|le[Se+0]<<16;t(b!=null);var De=3*Ie+Je+131074>>2;for(h(b[C+0],255&De,De>>16,ge,Z),k!=null&&(De=3*Je+Ie+131074>>2,h(k[_+0],255&De,De>>16,se,we)),be=1;be<=Be;++be){var Lt=I[M+be]|$[Q+be]<<16,Pt=de[he+be]|le[Se+be]<<16,bt=Ie+Lt+Je+Pt+524296,gt=bt+2*(Lt+Je)>>3;De=gt+Ie>>1,Ie=(bt=bt+2*(Ie+Pt)>>3)+Lt>>1,h(b[C+2*be-1],255&De,De>>16,ge,Z+(2*be-1)*y),h(b[C+2*be-0],255&Ie,Ie>>16,ge,Z+(2*be-0)*y),k!=null&&(De=bt+Je>>1,Ie=gt+Pt>>1,h(k[_+2*be-1],255&De,De>>16,se,we+(2*be-1)*y),h(k[_+2*be+0],255&Ie,Ie>>16,se,we+(2*be+0)*y)),Ie=Lt,Je=Pt}1&je||(De=3*Ie+Je+131074>>2,h(b[C+je-1],255&De,De>>16,ge,Z+(je-1)*y),k!=null&&(De=3*Je+Ie+131074>>2,h(k[_+je-1],255&De,De>>16,se,we+(je-1)*y)))}}function Ae(){Kr[Ic]=q4,Kr[Rc]=lg,Kr[rg]=U4,Kr[Dc]=ug,Kr[Mc]=cg,Kr[Ff]=dg,Kr[ig]=V4,Kr[If]=lg,Kr[Rf]=ug,Kr[Oc]=cg,Kr[Df]=dg}function Oe(u){return u&~$4?0>u?0:255:u>>hg}function Ke(u,h){return Oe((19077*u>>8)+(26149*h>>8)-14234)}function ut(u,h,y){return Oe((19077*u>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function st(u,h){return Oe((19077*u>>8)+(33050*h>>8)-17685)}function yt(u,h,y,b,C){b[C+0]=Ke(u,y),b[C+1]=ut(u,h,y),b[C+2]=st(u,h)}function Qt(u,h,y,b,C){b[C+0]=st(u,h),b[C+1]=ut(u,h,y),b[C+2]=Ke(u,y)}function sn(u,h,y,b,C){var k=ut(u,h,y);h=k<<3&224|st(u,h)>>3,b[C+0]=248&Ke(u,y)|k>>5,b[C+1]=h}function xn(u,h,y,b,C){var k=240&st(u,h)|15;b[C+0]=240&Ke(u,y)|ut(u,h,y)>>4,b[C+1]=k}function $n(u,h,y,b,C){b[C+0]=255,yt(u,h,y,b,C+1)}function kn(u,h,y,b,C){Qt(u,h,y,b,C),b[C+3]=255}function oi(u,h,y,b,C){yt(u,h,y,b,C),b[C+3]=255}function Pr(u,h){return 0>u?0:u>h?h:u}function Li(u,h,y){D[u]=function(b,C,k,_,I,M,$,Q,de){for(var he=Q+(-2&de)*y;Q!=he;)h(b[C+0],k[_+0],I[M+0],$,Q),h(b[C+1],k[_+0],I[M+0],$,Q+y),C+=2,++_,++M,Q+=2*y;1&de&&h(b[C+0],k[_+0],I[M+0],$,Q)}}function Cc(u,h,y){return y==0?u==0?h==0?6:5:h==0?4:0:y}function Cl(u,h,y,b,C){switch(u>>>30){case 3:Gi(h,y,b,C,0);break;case 2:dn(h,y,b,C);break;case 1:rr(h,y,b,C)}}function Pl(u,h){var y,b,C=h.M,k=h.Nb,_=u.oc,I=u.pc+40,M=u.oc,$=u.pc+584,Q=u.oc,de=u.pc+600;for(y=0;16>y;++y)_[I+32*y-1]=129;for(y=0;8>y;++y)M[$+32*y-1]=129,Q[de+32*y-1]=129;for(0<C?_[I-1-32]=M[$-1-32]=Q[de-1-32]=129:(i(_,I-32-1,127,21),i(M,$-32-1,127,9),i(Q,de-32-1,127,9)),b=0;b<u.za;++b){var he=h.ya[h.aa+b];if(0<b){for(y=-1;16>y;++y)r(_,I+32*y-4,_,I+32*y+12,4);for(y=-1;8>y;++y)r(M,$+32*y-4,M,$+32*y+4,4),r(Q,de+32*y-4,Q,de+32*y+4,4)}var le=u.Gd,Se=u.Hd+b,ge=he.ad,Z=he.Hc;if(0<C&&(r(_,I-32,le[Se].y,0,16),r(M,$-32,le[Se].f,0,8),r(Q,de-32,le[Se].ea,0,8)),he.Za){var se=_,we=I-32+16;for(0<C&&(b>=u.za-1?i(se,we,le[Se].y[15],4):r(se,we,le[Se+1].y,0,4)),y=0;4>y;y++)se[we+128+y]=se[we+256+y]=se[we+384+y]=se[we+0+y];for(y=0;16>y;++y,Z<<=2)se=_,we=I+pg[y],ai[he.Ob[y]](se,we),Cl(Z,ge,16*+y,se,we)}else if(se=Cc(b,C,he.Ob[0]),Ss[se](_,I),Z!=0)for(y=0;16>y;++y,Z<<=2)Cl(Z,ge,16*+y,_,I+pg[y]);for(y=he.Gc,se=Cc(b,C,he.Dd),Yi[se](M,$),Yi[se](Q,de),Z=ge,se=M,we=$,255&(he=y>>0)&&(170&he?Fl(Z,256,se,we):$r(Z,256,se,we)),he=Q,Z=de,255&(y>>=8)&&(170&y?Fl(ge,320,he,Z):$r(ge,320,he,Z)),C<u.Ub-1&&(r(le[Se].y,0,_,I+480,16),r(le[Se].f,0,M,$+224,8),r(le[Se].ea,0,Q,de+224,8)),y=8*k*u.B,le=u.sa,Se=u.ta+16*b+16*k*u.R,ge=u.qa,he=u.ra+8*b+y,Z=u.Ha,se=u.Ia+8*b+y,y=0;16>y;++y)r(le,Se+y*u.R,_,I+32*y,16);for(y=0;8>y;++y)r(ge,he+y*u.B,M,$+32*y,8),r(Z,se+y*u.B,Q,de+32*y,8)}}function ta(u,h,y,b,C,k,_,I,M){var $=[0],Q=[0],de=0,he=M!=null?M.kd:0,le=M??new Nl;if(u==null||12>y)return 7;le.data=u,le.w=h,le.ha=y,h=[h],y=[y],le.gb=[le.gb];e:{var Se=h,ge=y,Z=le.gb;if(t(u!=null),t(ge!=null),t(Z!=null),Z[0]=0,12<=ge[0]&&!n(u,Se[0],"RIFF")){if(n(u,Se[0]+8,"WEBP")){Z=3;break e}var se=Te(u,Se[0]+4);if(12>se||4294967286<se){Z=3;break e}if(he&&se>ge[0]-8){Z=7;break e}Z[0]=se,Se[0]+=12,ge[0]-=12}Z=0}if(Z!=0)return Z;for(se=0<le.gb[0],y=y[0];;){e:{var we=u;ge=h,Z=y;var je=$,be=Q,Be=Se=[0];if((De=de=[de])[0]=0,8>Z[0])Z=7;else{if(!n(we,ge[0],"VP8X")){if(Te(we,ge[0]+4)!=10){Z=3;break e}if(18>Z[0]){Z=7;break e}var Ie=Te(we,ge[0]+8),Je=1+Re(we,ge[0]+12);if(2147483648<=Je*(we=1+Re(we,ge[0]+15))){Z=3;break e}Be!=null&&(Be[0]=Ie),je!=null&&(je[0]=Je),be!=null&&(be[0]=we),ge[0]+=18,Z[0]-=18,De[0]=1}Z=0}}if(de=de[0],Se=Se[0],Z!=0)return Z;if(ge=!!(2&Se),!se&&de)return 3;if(k!=null&&(k[0]=!!(16&Se)),_!=null&&(_[0]=ge),I!=null&&(I[0]=0),_=$[0],Se=Q[0],de&&ge&&M==null){Z=0;break}if(4>y){Z=7;break}if(se&&de||!se&&!de&&!n(u,h[0],"ALPH")){y=[y],le.na=[le.na],le.P=[le.P],le.Sa=[le.Sa];e:{Ie=u,Z=h,se=y;var De=le.gb;je=le.na,be=le.P,Be=le.Sa,Je=22,t(Ie!=null),t(se!=null),we=Z[0];var Lt=se[0];for(t(je!=null),t(Be!=null),je[0]=null,be[0]=null,Be[0]=0;;){if(Z[0]=we,se[0]=Lt,8>Lt){Z=7;break e}var Pt=Te(Ie,we+4);if(4294967286<Pt){Z=3;break e}var bt=8+Pt+1&-2;if(Je+=bt,0<De&&Je>De){Z=3;break e}if(!n(Ie,we,"VP8 ")||!n(Ie,we,"VP8L")){Z=0;break e}if(Lt[0]<bt){Z=7;break e}n(Ie,we,"ALPH")||(je[0]=Ie,be[0]=we+8,Be[0]=Pt),we+=bt,Lt-=bt}}if(y=y[0],le.na=le.na[0],le.P=le.P[0],le.Sa=le.Sa[0],Z!=0)break}y=[y],le.Ja=[le.Ja],le.xa=[le.xa];e:if(De=u,Z=h,se=y,je=le.gb[0],be=le.Ja,Be=le.xa,Ie=Z[0],we=!n(De,Ie,"VP8 "),Je=!n(De,Ie,"VP8L"),t(De!=null),t(se!=null),t(be!=null),t(Be!=null),8>se[0])Z=7;else{if(we||Je){if(De=Te(De,Ie+4),12<=je&&De>je-12){Z=3;break e}if(he&&De>se[0]-8){Z=7;break e}be[0]=De,Z[0]+=8,se[0]-=8,Be[0]=Je}else Be[0]=5<=se[0]&&De[Ie+0]==47&&!(De[Ie+4]>>5),be[0]=se[0];Z=0}if(y=y[0],le.Ja=le.Ja[0],le.xa=le.xa[0],h=h[0],Z!=0)break;if(4294967286<le.Ja)return 3;if(I==null||ge||(I[0]=le.xa?2:1),_=[_],Se=[Se],le.xa){if(5>y){Z=7;break}I=_,he=Se,ge=k,u==null||5>y?u=0:5<=y&&u[h+0]==47&&!(u[h+4]>>5)?(se=[0],De=[0],je=[0],H(be=new L,u,h,y),Fe(be,se,De,je)?(I!=null&&(I[0]=se[0]),he!=null&&(he[0]=De[0]),ge!=null&&(ge[0]=je[0]),u=1):u=0):u=0}else{if(10>y){Z=7;break}I=Se,u==null||10>y||!dc(u,h+3,y-3)?u=0:(he=u[h+0]|u[h+1]<<8|u[h+2]<<16,ge=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=le.Ja||!ge||!u?u=0:(_&&(_[0]=ge),I&&(I[0]=u),u=1))}if(!u||(_=_[0],Se=Se[0],de&&($[0]!=_||Q[0]!=Se)))return 3;M!=null&&(M[0]=le,M.offset=h-M.w,t(4294967286>h-M.w),t(M.offset==M.ha-y));break}return Z==0||Z==7&&de&&M==null?(k!=null&&(k[0]|=le.na!=null&&0<le.na.length),b!=null&&(b[0]=_),C!=null&&(C[0]=Se),0):Z}function kl(u,h,y){var b=h.width,C=h.height,k=0,_=0,I=b,M=C;if(h.Da=u!=null&&0<u.Da,h.Da&&(I=u.cd,M=u.bd,k=u.v,_=u.j,11>y||(k&=-2,_&=-2),0>k||0>_||0>=I||0>=M||k+I>b||_+M>C))return 0;if(h.v=k,h.j=_,h.va=k+I,h.o=_+M,h.U=I,h.T=M,h.da=u!=null&&0<u.da,h.da){if(!Qe(I,M,y=[u.ib],k=[u.hb]))return 0;h.ib=y[0],h.hb=k[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*b/4&&h.hb<3*C/4,h.Kb=0),1}function El(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function na(u,h,y,b){if(b==null||0>=u||0>=h)return 2;if(y!=null){if(y.Da){var C=y.cd,k=y.bd,_=-2&y.v,I=-2&y.j;if(0>_||0>I||0>=C||0>=k||_+C>u||I+k>h)return 2;u=C,h=k}if(y.da){if(!Qe(u,h,C=[y.ib],k=[y.hb]))return 2;u=C[0],h=k[0]}}b.width=u,b.height=h;e:{var M=b.width,$=b.height;if(u=b.S,0>=M||0>=$||!(u>=Ic&&13>u))u=2;else{if(0>=b.Rd&&b.sd==null){_=k=C=h=0;var Q=(I=M*mg[u])*$;if(11>u||(k=($+1)/2*(h=(M+1)/2),u==12&&(_=(C=M)*$)),($=s(Q+2*k+_))==null){u=1;break e}b.sd=$,11>u?((M=b.f.RGBA).eb=$,M.fb=0,M.A=I,M.size=Q):((M=b.f.kb).y=$,M.O=0,M.fa=I,M.Fd=Q,M.f=$,M.N=0+Q,M.Ab=h,M.Cd=k,M.ea=$,M.W=0+Q+k,M.Db=h,M.Ed=k,u==12&&(M.F=$,M.J=0+Q+2*k),M.Tc=_,M.lb=C)}if(h=1,C=b.S,k=b.width,_=b.height,C>=Ic&&13>C)if(11>C)u=b.f.RGBA,h&=(I=Math.abs(u.A))*(_-1)+k<=u.size,h&=I>=k*mg[C],h&=u.eb!=null;else{u=b.f.kb,I=(k+1)/2,Q=(_+1)/2,M=Math.abs(u.fa),$=Math.abs(u.Ab);var de=Math.abs(u.Db),he=Math.abs(u.lb),le=he*(_-1)+k;h&=M*(_-1)+k<=u.Fd,h&=$*(Q-1)+I<=u.Cd,h=(h&=de*(Q-1)+I<=u.Ed)&M>=k&$>=I&de>=I,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,C==12&&(h&=he>=k,h&=le<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||y!=null&&y.fd&&(u=El(b)),u}var Rn=64,ra=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ia=24,sa=32,_l=8,pr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];me("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(u){return u},D.Predictor2=function(u,h,y){return h[y+0]},D.Predictor3=function(u,h,y){return h[y+1]},D.Predictor4=function(u,h,y){return h[y-1]},D.Predictor5=function(u,h,y){return ke(ke(u,h[y+1]),h[y+0])},D.Predictor6=function(u,h,y){return ke(u,h[y-1])},D.Predictor7=function(u,h,y){return ke(u,h[y+0])},D.Predictor8=function(u,h,y){return ke(h[y-1],h[y+0])},D.Predictor9=function(u,h,y){return ke(h[y+0],h[y+1])},D.Predictor10=function(u,h,y){return ke(ke(u,h[y-1]),ke(h[y+0],h[y+1]))},D.Predictor11=function(u,h,y){var b=h[y+0];return 0>=at(b>>24&255,u>>24&255,(h=h[y-1])>>24&255)+at(b>>16&255,u>>16&255,h>>16&255)+at(b>>8&255,u>>8&255,h>>8&255)+at(255&b,255&u,255&h)?b:u},D.Predictor12=function(u,h,y){var b=h[y+0];return(We((u>>24&255)+(b>>24&255)-((h=h[y-1])>>24&255))<<24|We((u>>16&255)+(b>>16&255)-(h>>16&255))<<16|We((u>>8&255)+(b>>8&255)-(h>>8&255))<<8|We((255&u)+(255&b)-(255&h)))>>>0},D.Predictor13=function(u,h,y){var b=h[y-1];return(rt((u=ke(u,h[y+0]))>>24&255,b>>24&255)<<24|rt(u>>16&255,b>>16&255)<<16|rt(u>>8&255,b>>8&255)<<8|rt(u>>0&255,b>>0&255))>>>0};var _f=D.PredictorAdd0;D.PredictorAdd1=ft,me("Predictor2","PredictorAdd2"),me("Predictor3","PredictorAdd3"),me("Predictor4","PredictorAdd4"),me("Predictor5","PredictorAdd5"),me("Predictor6","PredictorAdd6"),me("Predictor7","PredictorAdd7"),me("Predictor8","PredictorAdd8"),me("Predictor9","PredictorAdd9"),me("Predictor10","PredictorAdd10"),me("Predictor11","PredictorAdd11"),me("Predictor12","PredictorAdd12"),me("Predictor13","PredictorAdd13");var Tl=D.PredictorAdd2;Ye("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Pc,Vr=D.ColorIndexInverseTransform,oa=D.MapARGB,kc=D.VP8LColorIndexInverseTransformAlpha,Ec=D.MapAlpha,ys=D.VP8LPredictorsAdd=[];ys.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var uo,mr,nr,xs,Hi,Wi,aa,Gi,dn,Fl,rr,$r,la,_c,Il,co,ho,ws,fo,ua,po,bs,Rl,Hr,Wr,qt,Ut,hn,jn=s(511),Ki=s(2041),Dl=s(225),ca=s(767),Tc=0,Tf=Ki,Fc=Dl,kr=ca,Gr=jn,Ic=0,Rc=1,rg=2,Dc=3,Mc=4,Ff=5,ig=6,If=7,Rf=8,Oc=9,Df=10,C4=[2,3,7],P4=[3,3,11],sg=[280,256,256,256,40],k4=[0,1,1,1,0],E4=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_4=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],T4=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],F4=8,Mf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Of=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ml=null,I4=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],R4=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],og=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],D4=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],M4=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],O4=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],B4=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ss=[],ai=[],Yi=[],z4=1,ag=2,Ns=[],Kr=[];ye("UpsampleRgbLinePair",yt,3),ye("UpsampleBgrLinePair",Qt,3),ye("UpsampleRgbaLinePair",oi,4),ye("UpsampleBgraLinePair",kn,4),ye("UpsampleArgbLinePair",$n,4),ye("UpsampleRgba4444LinePair",xn,2),ye("UpsampleRgb565LinePair",sn,2);var q4=D.UpsampleRgbLinePair,U4=D.UpsampleBgrLinePair,lg=D.UpsampleRgbaLinePair,ug=D.UpsampleBgraLinePair,cg=D.UpsampleArgbLinePair,dg=D.UpsampleRgba4444LinePair,V4=D.UpsampleRgb565LinePair,Bc=16,zc=1<<Bc-1,Ol=-227,Bf=482,hg=6,$4=(256<<hg)-1,fg=0,H4=s(256),W4=s(256),G4=s(256),K4=s(256),Y4=s(Bf-Ol),J4=s(Bf-Ol);Li("YuvToRgbRow",yt,3),Li("YuvToBgrRow",Qt,3),Li("YuvToRgbaRow",oi,4),Li("YuvToBgraRow",kn,4),Li("YuvToArgbRow",$n,4),Li("YuvToRgba4444Row",xn,2),Li("YuvToRgb565Row",sn,2);var pg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qc=[0,2,8],X4=[8,7,6,4,4,2,2,2,1,1,1,1],Q4=1;this.WebPDecodeRGBA=function(u,h,y,b,C){var k=Rc,_=new Zo,I=new Cr;_.ba=I,I.S=k,I.width=[I.width],I.height=[I.height];var M=I.width,$=I.height,Q=new Ur;if(Q==null||u==null)var de=2;else t(Q!=null),de=ta(u,h,y,Q.width,Q.height,Q.Pd,Q.Qd,Q.format,null);if(de!=0?M=0:(M!=null&&(M[0]=Q.width[0]),$!=null&&($[0]=Q.height[0]),M=1),M){I.width=I.width[0],I.height=I.height[0],b!=null&&(b[0]=I.width),C!=null&&(C[0]=I.height);e:{if(b=new Wo,(C=new Nl).data=u,C.w=h,C.ha=y,C.kd=1,h=[0],t(C!=null),((u=ta(C.data,C.w,C.ha,null,null,null,h,null,C))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(t(_!=null),b.data=C.data,b.w=C.w+C.offset,b.ha=C.ha-C.offset,b.put=ht,b.ac=Ve,b.bc=_e,b.ma=_,C.xa){if((u=Xt())==null){_=1;break e}if(function(he,le){var Se=[0],ge=[0],Z=[0];t:for(;;){if(he==null)return 0;if(le==null)return he.a=2,0;if(he.l=le,he.a=0,H(he.m,le.data,le.w,le.ha),!Fe(he.m,Se,ge,Z)){he.a=3;break t}if(he.xb=ag,le.width=Se[0],le.height=ge[0],!Un(Se[0],ge[0],1,he,null))break t;return 1}return t(he.a!=0),0}(u,b)){if(b=(h=na(b.width,b.height,_.Oa,_.ba))==0){t:{b=u;n:for(;;){if(b==null){b=0;break t}if(t(b.s.yc!=null),t(b.s.Ya!=null),t(0<b.s.Wb),t((y=b.l)!=null),t((C=y.ma)!=null),b.xb!=0){if(b.ca=C.ba,b.tb=C.tb,t(b.ca!=null),!kl(C.Oa,y,Dc)){b.a=2;break n}if(!hr(b,y.width)||y.da)break n;if((y.da||xt(b.ca.S))&&ue(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&ue()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!Ge(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!Nn(b,b.V,b.Ba,b.c,b.i,y.o,cr))break n;C.Dc=b.Ma,b=1;break t}t(b.a!=0),b=0}b=!b}b&&(h=u.a)}else h=u.a}else{if((u=new hf)==null){_=1;break e}if(u.Fa=C.na,u.P=C.P,u.qc=C.Sa,hc(u,b)){if((h=na(b.width,b.height,_.Oa,_.ba))==0){if(u.Aa=0,y=_.Oa,t((C=u)!=null),y!=null){if(0<(M=0>(M=y.Md)?0:100<M?255:255*M/100)){for($=Q=0;4>$;++$)12>(de=C.pb[$]).lc&&(de.ia=M*X4[0>de.lc?0:de.lc]>>3),Q|=de.ia;Q&&(alert("todo:VP8InitRandom"),C.ia=1)}C.Ga=y.Id,100<C.Ga?C.Ga=100:0>C.Ga&&(C.Ga=0)}ff(u,b)||(h=u.a)}}else h=u.a}h==0&&_.Oa!=null&&_.Oa.fd&&(h=El(_.ba))}_=h}k=_!=0?null:11>k?I.f.RGBA.eb:I.f.kb.y}else k=null;return k};var mg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(D,W){for(var ee="",T=0;T<4;T++)ee+=String.fromCharCode(D[W++]);return ee}function f(D,W){return(D[W+0]<<0|D[W+1]<<8|D[W+2]<<16)>>>0}function p(D,W){return(D[W+0]<<0|D[W+1]<<8|D[W+2]<<16|D[W+3]<<24)>>>0}new l;var g=[0],m=[0],N=[],S=new l,A=e,x=function(D,W){var ee={},T=0,E=!1,G=0,V=0;if(ee.frames=[],!function(q,U,J,re){for(var ce=0;ce<re;ce++)if(q[U+ce]!=J.charCodeAt(ce))return!0;return!1}(D,W,"RIFF",4)){for(p(D,W+=4),W+=8;W<D.length;){var ae=d(D,W),ie=p(D,W+=4);W+=4;var oe=ie+(1&ie);switch(ae){case"VP8 ":case"VP8L":ee.frames[T]===void 0&&(ee.frames[T]={}),(te=ee.frames[T]).src_off=E?V:W-8,te.src_size=G+ie+8,T++,E&&(E=!1,G=0,V=0);break;case"VP8X":(te=ee.header={}).feature_flags=D[W];var H=W+4;te.canvas_width=1+f(D,H),H+=3,te.canvas_height=1+f(D,H),H+=3;break;case"ALPH":E=!0,G=oe+8,V=W-8;break;case"ANIM":(te=ee.header).bgcolor=p(D,W),H=W+4,te.loop_count=(xe=D)[(L=H)+0]<<0|xe[L+1]<<8,H+=2;break;case"ANMF":var ne,te;(te=ee.frames[T]={}).offset_x=2*f(D,W),W+=3,te.offset_y=2*f(D,W),W+=3,te.width=1+f(D,W),W+=3,te.height=1+f(D,W),W+=3,te.duration=f(D,W),W+=3,ne=D[W++],te.dispose=1&ne,te.blend=ne>>1&1}ae!="ANMF"&&(W+=oe)}var xe,L;return ee}}(A,0);x.response=A,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,j=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,g=[w.canvas_height],m=[w.canvas_width];for(var R=0;R<j.length&&j[R].blend!=0;R++);}var B=j[0],z=S.WebPDecodeRGBA(A,B.src_off,B.src_size,m,g);B.rgba=z,B.imgwidth=m[0],B.imgheight=g[0];for(var F=0;F<m[0]*g[0]*4;F++)N[F]=z[F];return this.width=m,this.height=g,this.data=N,this}(function(e){var t=function(){return typeof a1=="function"},n=function(g,m,N,S){var A=4,x=o;switch(S){case e.image_compression.FAST:A=1,x=s;break;case e.image_compression.MEDIUM:A=6,x=a;break;case e.image_compression.SLOW:A=9,x=l}g=r(g,m,N,x);var w=a1(g,{level:A});return e.__addimage__.arrayBufferToBinaryString(w)},r=function(g,m,N,S){for(var A,x,w,j=g.length/m,R=new Uint8Array(g.length+j),B=f(),z=0;z<j;z+=1){if(w=z*m,A=g.subarray(w,w+m),S)R.set(S(A,N,x),w+z);else{for(var F,D=B.length,W=[];F<D;F+=1)W[F]=B[F](A,N,x);var ee=p(W.concat());R.set(W[ee],w+z)}x=A}return R},i=function(g){var m=Array.apply([],g);return m.unshift(0),m},s=function(g,m){var N,S=[],A=g.length;S[0]=1;for(var x=0;x<A;x+=1)N=g[x-m]||0,S[x+1]=g[x]-N+256&255;return S},o=function(g,m,N){var S,A=[],x=g.length;A[0]=2;for(var w=0;w<x;w+=1)S=N&&N[w]||0,A[w+1]=g[w]-S+256&255;return A},a=function(g,m,N){var S,A,x=[],w=g.length;x[0]=3;for(var j=0;j<w;j+=1)S=g[j-m]||0,A=N&&N[j]||0,x[j+1]=g[j]+256-(S+A>>>1)&255;return x},l=function(g,m,N){var S,A,x,w,j=[],R=g.length;j[0]=4;for(var B=0;B<R;B+=1)S=g[B-m]||0,A=N&&N[B]||0,x=N&&N[B-m]||0,w=d(S,A,x),j[B+1]=g[B]-w+256&255;return j},d=function(g,m,N){if(g===m&&m===N)return g;var S=Math.abs(m-N),A=Math.abs(g-N),x=Math.abs(g+m-N-N);return S<=A&&S<=x?g:A<=x?m:N},f=function(){return[i,s,o,a,l]},p=function(g){var m=g.map(function(N){return N.reduce(function(S,A){return S+Math.abs(A)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(g,m,N,S){var A,x,w,j,R,B,z,F,D,W,ee,T,E,G,V,ae=this.decode.FLATE_DECODE,ie="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(w=new O8(g)).imgData,x=w.bits,A=w.colorSpace,R=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){D=(F=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,ee=new Uint8Array(D*w.colors),W=new Uint8Array(D);var oe,H=w.pixelBitlength-w.bits;for(G=0,V=0;G<D;G++){for(E=F[G],oe=0;oe<H;)ee[V++]=E>>>oe&255,oe+=w.bits;W[G]=E>>>oe&255}}if(w.bits===16){D=(F=new Uint32Array(w.decodePixels().buffer)).length,ee=new Uint8Array(D*(32/w.pixelBitlength)*w.colors),W=new Uint8Array(D*(32/w.pixelBitlength)),T=w.colors>1,G=0,V=0;for(var ne=0;G<D;)E=F[G++],ee[V++]=E>>>0&255,T&&(ee[V++]=E>>>16&255,E=F[G++],ee[V++]=E>>>0&255),W[ne++]=E>>>16&255;x=8}S!==e.image_compression.NONE&&t()?(g=n(ee,w.width*w.colors,w.colors,S),z=n(W,w.width,1,S)):(g=ee,z=W,ae=void 0)}if(w.colorType===3&&(A=this.color_spaces.INDEXED,B=w.palette,w.transparency.indexed)){var te=w.transparency.indexed,xe=0;for(G=0,D=te.length;G<D;++G)xe+=te[G];if((xe/=255)===D-1&&te.indexOf(0)!==-1)j=[te.indexOf(0)];else if(xe!==D){for(F=w.decodePixels(),W=new Uint8Array(F.length),G=0,D=F.length;G<D;G++)W[G]=te[F[G]];z=n(W,w.width,1)}}var L=function(q){var U;switch(q){case e.image_compression.FAST:U=11;break;case e.image_compression.MEDIUM:U=13;break;case e.image_compression.SLOW:U=14;break;default:U=12}return U}(S);return ae===this.decode.FLATE_DECODE&&(ie="/Predictor "+L+" "),ie+="/Colors "+R+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(z&&this.__addimage__.isArrayBuffer(z)||this.__addimage__.isArrayBufferView(z))&&(z=this.__addimage__.arrayBufferToBinaryString(z)),{alias:N,data:g,index:m,filter:ae,decodeParameters:ie,transparency:j,palette:B,sMask:z,predictor:L,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:A}}}})(et.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new B8(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var d={data:l,width:o,height:a},f=new $p(100).encode(d,100);return e.processJPEG.call(this,f,n,r,i)},e.processGIF87A=e.processGIF89A}(et.API),di.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},di.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Bt.log("bit decode error:"+n)}},di.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},di.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,d=this.palette[a];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[l],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},di.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},di.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,d=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=d}this.pos+=e}},di.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,d=(o>>11)/t*255|0,f=i*this.width*4+4*s;this.data[f]=d,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=e}},di.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},di.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},di.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new di(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},d=new $p(100).encode(l,100);return e.processJPEG.call(this,d,n,r,i)}}(et.API),L5.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new L5(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},d=new $p(100).encode(l,100);return e.processJPEG.call(this,d,n,r,i)}}(et.API),et.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,d=0;d<i;d+=4){var f=r[d],p=r[d+1],g=r[d+2],m=r[d+3];s[a++]=f,s[a++]=p,s[a++]=g,o[l++]=m}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:N,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},et.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},va=et.API,Nd=va.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,p=t.doKerning!==!1,g=0,m=e.length,N=0,S=a[0]||l,A=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=p&&Et(d[r])==="object"&&!isNaN(parseInt(d[r][N],10))?d[r][N]/f:0,A.push((a[r]||S)/l+g)),N=r;return A},S5=va.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return va.processArabic&&(e=va.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Nd.apply(this,arguments).reduce(function(s,o){return s+o},0)},N5=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},j5=function(e,t,n){n||(n={});var r,i,s,o,a,l,d,f=[],p=[f],g=n.textIndent||0,m=0,N=0,S=e.split(" "),A=Nd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),w=[];S.map(function(R){(R=R.split(/\s*\n/)).length>1?w=w.concat(R.map(function(B,z){return(z&&B.length?`
`:"")+B})):w.push(R[0])}),S=w,l=S5.apply(this,[x,n])}for(s=0,o=S.length;s<o;s++){var j=0;if(r=S[s],l&&r[0]==`
`&&(r=r.substr(1),j=1),g+m+(N=(i=Nd.apply(this,[r,n])).reduce(function(R,B){return R+B},0))>t||j){if(N>t){for(a=N5.apply(this,[r,i,t-(g+m),t]),f.push(a.shift()),f=[a.pop()];a.length;)p.push([a.shift()]);N=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(R,B){return R+B},0)}else f=[r];p.push(f),g=N+l,m=A}else f.push(r),g+=m+N,m=A}return d=l?function(R,B){return(B?x:"")+R.join(" ")}:function(R){return R.join(" ")},p.map(d)},va.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,d=[];for(a=0,l=r.length;a<l;a++)d=d.concat(j5.apply(this,[r[a],o,s]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var g,m,N,S,A=["{"];for(var x in p){if(g=p[x],isNaN(parseInt(x,10))?m="'"+x+"'":(x=parseInt(x,10),m=(m=s(x).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof g=="number")g<0?(N=s(g).slice(3),S="-"):(N=s(g).slice(2),S=""),N=S+N.slice(0,-1)+r[N.slice(-1)];else{if(Et(g)!=="object")throw new Error("Don't know what to do with value type "+Et(g)+".");N=o(g)}A.push(m+N)}return A.push("}"),A.join("")},a=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,N,S,A={},x=1,w=A,j=[],R="",B="",z=p.length-1,F=1;F<z;F+=1)(S=p[F])=="'"?g?(N=g.join(""),g=void 0):g=[]:g?g.push(S):S=="{"?(j.push([w,N]),w={},N=void 0):S=="}"?((m=j.pop())[0][m[1]]=w,N=void 0,w=m[0]):S=="-"?x=-1:N===void 0?n.hasOwnProperty(S)?(R+=n[S],N=parseInt(R,16)*x,x=1,R=""):R+=S:n.hasOwnProperty(S)?(B+=n[S],w[N]=parseInt(B,16)*x,x=1,N=void 0,B=""):B+=S;return A},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var g=p.font,m=f.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var N=d.Unicode[g.postScriptName];N&&(g.metadata.Unicode.encoding=N,g.encoding=N.codePages[0])}])}(et.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Au(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(et),function(e){function t(){return(tt.canvg?Promise.resolve(tt.canvg):Jd(()=>import("./index.es-ab7ab729.js"),["assets/index.es-ab7ab729.js","assets/supabaseClient-4d59f756.js","assets/preload-helper-8235fac6.js","assets/creations-d0c6c518.js"])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}et.API.addSvgAsImage=function(n,r,i,s,o,a,l,d){if(isNaN(r)||isNaN(i))throw Bt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Bt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=o;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(N){return N.fromString(p,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(g)}).then(function(){m.addImage(f.toDataURL("image/jpeg",1),r,i,s,o,l,d)})}}(),et.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},et.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],d=0,f=0,p=0;function g(N,S){var A,x=!1;for(A=0;A<N.length;A+=1)N[A]===S&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=a.length;for(p=0;p<m;p+=1)n[a[p]].value=n[a[p]].defaultValue,n[a[p]].explicitSet=!1}if(Et(e)==="object"){for(i in e)if(s=e[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")l.push(String(s[d]-1));else if(s[d].length>1){for(f=0;f<s[d].length;f+=1)typeof s[d][f]!="number"&&(r=!1);r===!0&&l.push([s[d][0]-1,s[d][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,S=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?S.push("/"+N+" /"+n[N].value):S.push("/"+N+" "+n[N].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(et.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],p=0,g=s.length;p<g;++p){if(a=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(p),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(d[4-a.length],a)}return f.join("")},r=function(s){var o,a,l,d,f,p,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(a=Object.keys(s).sort(function(m,N){return m-N})).length;p<g;p++)o=a[p],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+d+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,d=o.newObject,f=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",N=0;N<g.length;N++)m+=String.fromCharCode(g[N]);var S=d();f({data:m,addLength1:!0,objectId:S}),l("endobj");var A=d();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var x=d();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+xa(a.fontName)),l("/FontFile2 "+S+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var w=d();l("<<"),l("/Type /Font"),l("/BaseFont /"+xa(a.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+e.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=d(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+xa(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,d=o.newObject,f=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var N=d();f({data:g,addLength1:!0,objectId:N}),l("endobj");var S=d();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var A=d();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+N+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+xa(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=d();for(var x=0;x<a.metadata.hmtx.widths.length;x++)a.metadata.hmtx.widths[x]=parseInt(a.metadata.hmtx.widths[x]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+xa(a.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,d=s.y,f=s.options||{},p=s.mutex||{},g=p.pdfEscape,m=p.activeFontKey,N=p.fonts,S=m,A="",x=0,w="",j=N[S].encoding;if(N[S].encoding!=="Identity-H")return{text:a,x:l,y:d,options:f,mutex:p};for(w=a,S=m,Array.isArray(a)&&(w=a[0]),x=0;x<w.length;x+=1)N[S].metadata.hasOwnProperty("cmap")&&(o=N[S].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),o||w[x].charCodeAt(0)<256&&N[S].metadata.hasOwnProperty("Unicode")?A+=w[x]:A+="";var R="";return parseInt(S.slice(1))<14||j==="WinAnsiEncoding"?R=g(A,S).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(R=n(A,N[S])),p.isHex=!0,{text:R,x:l,y:d,options:f,mutex:p}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?a.push([i(Object.assign({},l,{text:o[d][0]})).text,o[d][1],o[d][2]]):a.push(i(Object.assign({},l,{text:o[d]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(et),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(et.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,a,l,d,f,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,j=0;this.__bidiEngine__={};var R=function(T){var E=T.charCodeAt(),G=E>>8,V=S[G];return V!==void 0?p[256*V+(255&E)]:G===252||G===253?"AL":x.test(G)?"L":G===8?"R":"N"},B=function(T){for(var E,G=0;G<T.length;G++){if((E=R(T.charAt(G)))==="L")return!1;if(E==="R")return!0}return!1},z=function(T,E,G,V){var ae,ie,oe,H,ne=E[V];switch(ne){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(ne="AN");break;case"AL":w=!0,ne="R";break;case"WS":ne="N";break;case"CS":V<1||V+1>=E.length||(ae=G[V-1])!=="EN"&&ae!=="AN"||(ie=E[V+1])!=="EN"&&ie!=="AN"?ne="N":w&&(ie="AN"),ne=ie===ae?ie:"N";break;case"ES":ne=(ae=V>0?G[V-1]:"B")==="EN"&&V+1<E.length&&E[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&G[V-1]==="EN"){ne="EN";break}if(w){ne="N";break}for(oe=V+1,H=E.length;oe<H&&E[oe]==="ET";)oe++;ne=oe<H&&E[oe]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(H=E.length,oe=V+1;oe<H&&E[oe]==="NSM";)oe++;if(oe<H){var te=T[V],xe=te>=1425&&te<=2303||te===64286;if(ae=E[oe],xe&&(ae==="R"||ae==="AL")){ne="R";break}}}ne=V<1||(ae=E[V-1])==="B"?"N":G[V-1];break;case"B":w=!1,i=!0,ne=j;break;case"S":s=!0,ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":ne="N"}return ne},F=function(T,E,G){var V=T.split("");return G&&D(V,G,{hiLevel:j}),V.reverse(),E&&E.reverse(),V.join("")},D=function(T,E,G){var V,ae,ie,oe,H,ne=-1,te=T.length,xe=0,L=[],q=j?m:g,U=[];for(w=!1,i=!1,s=!1,ae=0;ae<te;ae++)U[ae]=R(T[ae]);for(ie=0;ie<te;ie++){if(H=xe,L[ie]=z(T,U,L,ie),V=240&(xe=q[H][N[L[ie]]]),xe&=15,E[ie]=oe=q[xe][5],V>0)if(V===16){for(ae=ne;ae<ie;ae++)E[ae]=1;ne=-1}else ne=-1;if(q[xe][6])ne===-1&&(ne=ie);else if(ne>-1){for(ae=ne;ae<ie;ae++)E[ae]=oe;ne=-1}U[ie]==="B"&&(E[ie]=0),G.hiLevel|=oe}s&&function(J,re,ce){for(var fe=0;fe<ce;fe++)if(J[fe]==="S"){re[fe]=j;for(var pe=fe-1;pe>=0&&J[pe]==="WS";pe--)re[pe]=j}}(U,E,te)},W=function(T,E,G,V,ae){if(!(ae.hiLevel<T)){if(T===1&&j===1&&!i)return E.reverse(),void(G&&G.reverse());for(var ie,oe,H,ne,te=E.length,xe=0;xe<te;){if(V[xe]>=T){for(H=xe+1;H<te&&V[H]>=T;)H++;for(ne=xe,oe=H-1;ne<oe;ne++,oe--)ie=E[ne],E[ne]=E[oe],E[oe]=ie,G&&(ie=G[ne],G[ne]=G[oe],G[oe]=ie);xe=H}xe++}}},ee=function(T,E,G){var V=T.split(""),ae={hiLevel:j};return G||(G=[]),D(V,G,ae),function(ie,oe,H){if(H.hiLevel!==0&&f)for(var ne,te=0;te<ie.length;te++)oe[te]===1&&(ne=A.indexOf(ie[te]))>=0&&(ie[te]=A[ne+1])}(V,G,ae),W(2,V,E,G,ae),W(1,V,E,G,ae),V.join("")};return this.__bidiEngine__.doBidiReorder=function(T,E,G){if(function(ae,ie){if(ie)for(var oe=0;oe<ae.length;oe++)ie[oe]=oe;a===void 0&&(a=B(ae)),d===void 0&&(d=B(ae))}(T,E),o||!l||d)if(o&&l&&a^d)j=a?1:0,T=F(T,E,G);else if(!o&&l&&d)j=a?1:0,T=ee(T,E,G),T=F(T,E);else if(!o||a||l||d){if(o&&!l&&a^d)T=F(T,E),a?(j=0,T=ee(T,E,G)):(j=1,T=ee(T,E,G),T=F(T,E));else if(o&&a&&!l&&d)j=1,T=ee(T,E,G),T=F(T,E);else if(!o&&!l&&a^d){var V=f;a?(j=1,T=ee(T,E,G),j=0,f=!1,T=ee(T,E,G),f=V):(j=0,T=ee(T,E,G),T=F(T,E),j=1,f=!1,T=ee(T,E,G),f=V,T=F(T,E))}}else j=0,T=ee(T,E,G);else j=a?1:0,T=ee(T,E,G);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,l=T.isOutputVisual,a=T.isInputRtl,d=T.isOutputRtl,f=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(et),et.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Zs(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new ek(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new z8(this.contents),this.head=new U8(this),this.name=new G8(this),this.cmap=new l4(this),this.toUnicode={},this.hhea=new V8(this),this.maxp=new K8(this),this.hmtx=new Y8(this),this.post=new H8(this),this.os2=new $8(this),this.loca=new Z8(this),this.glyf=new J8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,d;for(d=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Ni,Zs=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),z8=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,a,l,d,f,p,g,m,N,S;for(S in m=Object.keys(n).length,l=Math.log(2),p=16*Math.floor(Math.log(m)/l),o=Math.floor(p/l),f=16*m-p,(i=new Zs).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(o),i.writeShort(f),s=16*m,d=i.pos+s,a=null,N=[],n)for(g=n[S],i.writeString(S),i.writeInt(e(g)),i.writeInt(d),i.writeInt(g.length),N=N.concat(g),S==="head"&&(a=d),d+=g.length;d%4;)N.push(0),d++;return i.write(N),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=u4.call(n);n.length%4;)n.push(0);for(s=new Zs(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),q8={}.hasOwnProperty,zi=function(e,t){for(var n in t)q8.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Ni=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var U8=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zi(t,Ni),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Zs).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),C5=function(){function e(t,n){var r,i,s,o,a,l,d,f,p,g,m,N,S,A,x,w,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(m=t.readUInt16(),g=m/2,t.pos+=6,s=function(){var R,B;for(B=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)B.push(t.readUInt16());return B}(),t.pos+=2,S=function(){var R,B;for(B=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)B.push(t.readUInt16());return B}(),d=function(){var R,B;for(B=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)B.push(t.readUInt16());return B}(),f=function(){var R,B;for(B=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)B.push(t.readUInt16());return B}(),i=(this.length-t.pos+this.offset)/2,a=function(){var R,B;for(B=[],l=R=0;0<=i?R<i:R>i;l=0<=i?++R:--R)B.push(t.readUInt16());return B}(),l=x=0,j=s.length;x<j;l=++x)for(A=s[l],r=w=N=S[l];N<=A?w<=A:w>=A;r=N<=A?++w:--w)f[l]===0?o=r+d[l]:(o=a[f[l]/2+(r-N)-(g-l)]||0)!==0&&(o+=d[l]),this.codeMap[r]=65535&o}t.pos=p}return e.encode=function(t,n){var r,i,s,o,a,l,d,f,p,g,m,N,S,A,x,w,j,R,B,z,F,D,W,ee,T,E,G,V,ae,ie,oe,H,ne,te,xe,L,q,U,J,re,ce,fe,pe,Ee,Ce,Re;switch(V=new Zs,o=Object.keys(t).sort(function(Te,Ge){return Te-Ge}),n){case"macroman":for(S=0,A=function(){var Te=[];for(N=0;N<256;++N)Te.push(0);return Te}(),w={0:0},s={},ae=0,ne=o.length;ae<ne;ae++)w[pe=t[i=o[ae]]]==null&&(w[pe]=++S),s[i]={old:t[i],new:w[t[i]]},A[i]=w[t[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(A),{charMap:s,subtable:V.data,maxGlyphID:S+1};case"unicode":for(E=[],p=[],j=0,w={},r={},x=d=null,ie=0,te=o.length;ie<te;ie++)w[B=t[i=o[ie]]]==null&&(w[B]=++j),r[i]={old:B,new:w[B]},a=w[B]-i,x!=null&&a===d||(x&&p.push(x),E.push(i),d=a),x=i;for(x&&p.push(x),p.push(65535),E.push(65535),ee=2*(W=E.length),D=2*Math.pow(Math.log(W)/Math.LN2,2),g=Math.log(D/2)/Math.LN2,F=2*W-D,l=[],z=[],m=[],N=oe=0,xe=E.length;oe<xe;N=++oe){if(T=E[N],f=p[N],T===65535){l.push(0),z.push(0);break}if(T-(G=r[T].new)>=32768)for(l.push(0),z.push(2*(m.length+W-N)),i=H=T;T<=f?H<=f:H>=f;i=T<=f?++H:--H)m.push(r[i].new);else l.push(G-T),z.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*W+2*m.length),V.writeUInt16(0),V.writeUInt16(ee),V.writeUInt16(D),V.writeUInt16(g),V.writeUInt16(F),ce=0,L=p.length;ce<L;ce++)i=p[ce],V.writeUInt16(i);for(V.writeUInt16(0),fe=0,q=E.length;fe<q;fe++)i=E[fe],V.writeUInt16(i);for(Ee=0,U=l.length;Ee<U;Ee++)a=l[Ee],V.writeUInt16(a);for(Ce=0,J=z.length;Ce<J;Ce++)R=z[Ce],V.writeUInt16(R);for(Re=0,re=m.length;Re<re;Re++)S=m[Re],V.writeUInt16(S);return{charMap:r,subtable:V.data,maxGlyphID:j+1}}},e}(),l4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zi(t,Ni),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new C5(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=C5.encode(n,r),(s=new Zs).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),V8=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zi(t,Ni),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),$8=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zi(t,Ni),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),H8=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zi(t,Ni),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,d;for(d=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)d.push(n.readUInt32());return d}).call(this)}},t}(),W8=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},G8=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zi(t,Ni),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,o,a,l,d,f,p,g,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(d={},o=p=0,g=i.length;p<g;o=++p)s=i[o],n.pos=s.offset,f=n.readString(s.length),a=new W8(f,s),d[m=s.nameID]==null&&(d[m]=[]),d[s.nameID].push(a);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),K8=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zi(t,Ni),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),Y8=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zi(t,Ni),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,o,a,l,d;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)p.push(n.readInt16());return p}(),this.widths=(function(){var f,p,g,m;for(m=[],f=0,p=(g=this.metrics).length;f<p;f++)o=g[f],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],d=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)d.push(this.widths.push(i));return d},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),u4=[].slice,J8=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zi(t,Ni),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,o,a,l,d,f,p,g;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Zs(r.read(s))).readShort(),f=l.readShort(),g=l.readShort(),d=l.readShort(),p=l.readShort(),this.cache[n]=a===-1?new Q8(l,f,g,d,p):new X8(l,a,f,g,d,p),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,o,a,l,d;for(a=[],o=[],l=0,d=r.length;l<d;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},t}(),X8=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Q8=function(){function e(t,n,r,i,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Zs(u4.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Z8=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zi(t,Ni),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],d=this.offsets[a+1]-l;d>0&&(s+=d)}for(var f=new Array(4*i.length),p=0;p<i.length;++p)f[4*p+3]=255&i[p],f[4*p+2]=(65280&i[p])>>8,f[4*p+1]=(16711680&i[p])>>16,f[4*p]=(4278190080&i[p])>>24;return f},t}(),ek=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,a,l,d,f,p,g,m,N,S,A,x;for(i in r=l4.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},x=r.charMap)m[(l=x[i]).old]=l.new;for(N in g=r.maxGlyphID,o)N in m||(m[N]=g++);return f=function(w){var j,R;for(j in R={},w)R[w[j]]=j;return R}(m),p=Object.keys(f).sort(function(w,j){return w-j}),S=function(){var w,j,R;for(R=[],w=0,j=p.length;w<j;w++)a=p[w],R.push(f[a]);return R}(),s=this.font.glyf.encode(o,S,m),d=this.font.loca.encode(s.offsets,S),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();et.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,d;for(d=[],a=0,l=n.length;a<l;a++)r=n[a],d.push(t.convert(r));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();async function tk(e){return new Promise((t,n)=>{const r=new window.Image;r.crossOrigin="Anonymous",r.onload=function(){const i=document.createElement("canvas");i.width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0);const o=i.toDataURL("image/png");t({width:r.width,height:r.height,dataUrl:o})},r.onerror=n,r.src=e})}function nk(e){return String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").toLowerCase()}async function tg(e,t="coloriages"){const n=new et({orientation:"portrait",unit:"px",format:"a4"}),r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),s=40,o=r-2*s,a=i-2*s,l=await Promise.all(e.map(async f=>{try{const p=f.image_url||f;return await tk(p)}catch(p){return console.warn("Erreur chargement image pour le PDF :",f,p),null}}));let d=!0;for(let f=0;f<l.length;f++){if(!l[f])continue;d||n.addPage(),d=!1;const{dataUrl:p,width:g,height:m}=l[f],N=g/m;let S=o,A=o/N;A>a&&(A=a,S=a*N);const x=(r-S)/2,w=(i-A)/2;n.addImage(p,"PNG",x,w,S,A)}n.save(`${nk(t)}.pdf`)}function rk(e){const[t,n]=O.useState([]),[r,i]=O.useState(!1),[s,o]=O.useState(null);return O.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{i(!0);try{const{data:d,error:f}=await yn.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});f?(console.error("Erreur rcupration crations:",f),o(f.message),n([])):(n(d||[]),o(null))}catch(d){console.error("Erreur critique rcupration crations:",d),o(d.message),n([])}finally{i(!1)}})()},[e]),{creations:t,loading:r,error:s,refreshCreations:async()=>{if(e){i(!0);try{const{data:l,error:d}=await yn.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});d?o(d.message):(n(l||[]),o(null))}catch(l){o(l.message)}finally{i(!1)}}}}}const ik=({onClose:e,onSelect:t})=>{const{user:n}=J0(),{creations:r,loading:i,refreshCreations:s}=rk(n==null?void 0:n.id),o=async p=>{if(window.confirm("Supprimer cette cration ?"))try{const{error:m}=await cb(p);if(m){alert("Erreur lors de la suppression !");return}s()}catch(m){console.error("Erreur lors de la suppression:",m),alert("Erreur lors de la suppression !")}},a=p=>{const g=new Date(p);return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(g)},l=p=>{switch(p){case"story":return"";case"rhyme":return"";case"audio":return"";case"coloring":return"";case"crewai_animation":return"";case"animation":return"";default:return""}},d=p=>{switch(p){case"story":return"Bande dessine";case"rhyme":return"Comptine";case"audio":return"Histoire";case"coloring":return"Coloriage";case"crewai_animation":return"Dessin anim";case"animation":return"Dessin anim";default:return"Cration"}},f=p=>{var D;const g=p.content||((D=p.data)==null?void 0:D.content)||"";if(!g||typeof g!="string"){console.error(" Contenu invalide ou manquant pour le PDF.");return}const m=new et({orientation:"p",unit:"mm",format:"a4"}),N=40,S=210,A=297,x=12,w=Math.floor((A-N*2)/x),j=13;let R=p.title,B=g;g.startsWith("**")&&g.includes("**",2)&&(R=g.split("**")[1].trim(),B=g.replace(`**${R}**`,"").trim());const z=W=>new Promise(ee=>{const T=new Image;T.crossOrigin="anonymous",T.src=W,T.onload=()=>ee(T)});(async()=>{try{const W="/assets/fond_etoiles.png";let ee=null;try{ee=await z(W)}catch{console.log(" Image de fond non disponible, PDF sans fond")}const T=m.splitTextToSize(B,150);let E=0;for(let G=0;E<T.length;G++){G>0&&m.addPage(),ee&&m.addImage(ee,"PNG",0,0,S,A,void 0,"FAST"),G===0&&(m.setFont("courier","bold"),m.setFontSize(22),m.setTextColor(110,50,230),m.text(R,S/2,N-20,{align:"center"})),m.setFont("courier","bold"),m.setFontSize(j),m.setTextColor(25,25,112);for(let V=0;V<w&&E<T.length;V++,E++){const ae=N+V*x;m.text(T[E],S/2,ae,{align:"center"})}m.setFontSize(11),m.setTextColor(106,90,205),m.text(`Page ${G+1}`,S-15,290,{align:"right"})}}catch(W){console.error(" Erreur lors de la gnration du PDF:",W),m.setFontSize(22),m.setTextColor(110,50,230),m.setFont("courier","bold"),m.text(R,S/2,N-20,{align:"center"}),m.setFontSize(j),m.setTextColor(25,25,112),m.setFont("courier","bold");const ee=m.splitTextToSize(B,150);for(let T=0;T<ee.length;T++){const E=N+T*x;m.text(ee[T],S/2,E,{align:"center"})}}})().then(()=>{const W=R.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");m.save(`${W}.pdf`)})};return c.jsxs(ze.div,{className:"history-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},onClick:p=>p.stopPropagation(),children:[c.jsxs("div",{className:"history-header",children:[c.jsx("h2",{children:"Historique de vos crations"}),c.jsx("button",{className:"close-button",onClick:e,children:""})]}),c.jsx("div",{className:"history-content",children:n?r.length===0&&!i?c.jsxs("div",{className:"empty-history",children:[c.jsx("p",{children:"Vous n'avez pas encore de crations"}),c.jsx("p",{className:"empty-subtext",children:"Vos crations apparatront ici une fois gnres"})]}):c.jsx("div",{className:"creations-list",children:r.map(p=>{var S,A,x,w,j,R,B,z,F,D,W,ee,T,E,G;const g=!!(p.audio_path||(S=p.data)!=null&&S.audio_path),m=!!(p.content||(A=p.data)!=null&&A.content),N=["creation-item",g?"has-audio":"",m?"has-text":""].filter(Boolean).join(" ");return c.jsxs(ze.div,{className:N,onClick:()=>t({...p,action:p.type==="coloring"?"showColoring":"showStory"}),whileHover:{scale:1.01},transition:{duration:.2},children:[c.jsx("div",{className:"creation-icon",children:l(p.type)}),"                  ",c.jsxs("div",{className:"creation-details",children:[c.jsx("h3",{children:p.title}),c.jsxs("div",{className:"creation-meta",children:[c.jsx("span",{className:"creation-type",children:d(p.type)}),c.jsx("span",{className:"creation-date",children:a(p.created_at)})]}),"                  ",(p.audio_path||((x=p.data)==null?void 0:x.audio_path))&&c.jsx("audio",{controls:!0,className:"creation-audio",src:`${Bn}/${p.audio_path||((w=p.data)==null?void 0:w.audio_path)}`}),c.jsxs("div",{className:"creation-actions",children:[p.type==="rhyme"&&(p.audio_path||((j=p.data)==null?void 0:j.audio_path))&&c.jsx("button",{className:"btn-pdf",onClick:async V=>{var ae,ie;V.stopPropagation();try{const oe=`${Bn}/${p.audio_path||((ae=p.data)==null?void 0:ae.audio_path)}`,ne=await(await fetch(oe)).blob(),te=URL.createObjectURL(ne);let xe=p.title||"Comptine";const L=p.content||((ie=p.data)==null?void 0:ie.content)||"";L&&L.startsWith("**")&&L.includes("**",2)&&(xe=L.split("**")[1].trim());const q=xe.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),U=document.createElement("a");U.href=te,U.download=`${q}.mp3`,U.style.display="none",document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(te)}catch(oe){console.error("Erreur lors du tlchargement de la comptine:",oe),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger la comptine"}),p.type==="audio"&&(p.content||((R=p.data)==null?void 0:R.content))&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn-pdf",onClick:V=>{V.stopPropagation(),f(p)},children:" Tlcharger le PDF"}),(p.audio_path||((B=p.data)==null?void 0:B.audio_path))&&(p.audio_generated||((z=p.data)==null?void 0:z.audio_generated))&&c.jsx("button",{className:"btn-audio",onClick:async V=>{var ae,ie;V.stopPropagation();try{const oe=`${Bn}/${p.audio_path||((ae=p.data)==null?void 0:ae.audio_path)}`,ne=await(await fetch(oe)).blob(),te=URL.createObjectURL(ne);let xe=p.title||"Histoire";const L=p.content||((ie=p.data)==null?void 0:ie.content)||"";L&&L.startsWith("**")&&L.includes("**",2)&&(xe=L.split("**")[1].trim());const q=xe.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),U=document.createElement("a");U.href=te,U.download=`${q}.mp3`,U.style.display="none",document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(te)}catch(oe){console.error("Erreur lors du tlchargement audio:",oe),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger l'audio"})]}),(p.audio_path||((F=p.data)==null?void 0:F.audio_path))&&(p.audio_generated||((D=p.data)==null?void 0:D.audio_generated))&&p.type!=="rhyme"&&p.type!=="audio"&&c.jsx("a",{className:"btn-audio",href:`${Bn}/${p.audio_path||((W=p.data)==null?void 0:W.audio_path)}`,download:!0,onClick:V=>V.stopPropagation(),children:" Tlcharger l'audio"}),p.type==="coloring"&&(p.images||((ee=p.data)==null?void 0:ee.images))&&(((T=p.images)==null?void 0:T.length)>0||((G=(E=p.data)==null?void 0:E.images)==null?void 0:G.length)>0)&&c.jsx("button",{className:"btn-pdf",onClick:V=>{var oe;V.stopPropagation();const ae=p.title||(p.theme?`coloriages_${p.theme}`:"coloriages"),ie=p.images||((oe=p.data)==null?void 0:oe.images)||[];tg(ie,ae)},children:" Tlcharger le coloriage"}),c.jsx("button",{className:"btn-delete",onClick:V=>{V.stopPropagation(),o(p.id)},children:" Supprimer"})]})]})]},p.id)})}):c.jsx("div",{className:"empty-history",children:c.jsx("p",{children:"Connexion en cours..."})})})]})};const sk=({title:e,content:t,onClose:n,children:r})=>{const[i,s]=O.useState(!1),o=O.useRef(null),a=()=>{var d;document.fullscreenElement?(document.exitFullscreen(),s(!1)):((d=o.current)==null||d.requestFullscreen(),s(!0))},l=d=>{d.target.classList.contains("story-popup-overlay")&&n()};return c.jsx("div",{className:"story-popup-overlay",onClick:l,children:c.jsxs("div",{className:"story-popup-content",ref:o,children:[c.jsx("div",{className:"story-background"}),c.jsx("button",{className:"story-close-btn",onClick:n,children:""}),c.jsx("button",{className:"story-fullscreen-btn",onClick:a,children:i?" Quitter le plein cran":" Plein cran"}),c.jsxs("div",{className:"story-scroll",children:[e&&c.jsx("h2",{className:"story-title",children:e}),t&&typeof t=="string"?c.jsx("div",{className:"story-text",children:t}):r]})]})})};const ok=({selectedTheme:e,setSelectedTheme:t,customColoringTheme:n,setCustomColoringTheme:r,uploadedPhoto:i,setUploadedPhoto:s,withColoredModel:o,setWithColoredModel:a})=>{const[l,d]=O.useState(!1),[f,p]=O.useState(!1),[g,m]=O.useState(null),N=[{value:"upload_photo",label:"Ma Photo",icon:"",description:"Transformez votre photo en coloriage !",special:!0},{value:"custom",label:"Coloriage personnalis",icon:"",description:"Crez votre propre thme de coloriage"},{value:"animals",label:"Animaux",icon:"",description:"Chats, chiens, lions, lphants..."},{value:"dinosaurs",label:"Dinosaures",icon:"",description:"T-Rex, Triceratops, volcans..."},{value:"dragons",label:"Dragons",icon:"",description:"Dragons mignons, chevaliers..."},{value:"farm",label:"Ferme",icon:"",description:"Vache, cochon, poule, tracteur..."},{value:"fairies",label:"Fes & Licornes",icon:"",description:"Fes, licornes, chteaux magiques..."},{value:"princess",label:"Princesses",icon:"",description:"Princesses, robes, diadmes..."},{value:"mermaids",label:"Sirnes",icon:"",description:"Sirnes, coquillages, palais sous-marin..."},{value:"pirates",label:"Pirates",icon:"",description:"Bateaux pirates, trsors, perroquets..."},{value:"superheroes",label:"Super-hros",icon:"",description:"Hros masqus, super-pouvoirs..."},{value:"space",label:"Espace",icon:"",description:"Fuses, plantes, astronautes..."},{value:"robots",label:"Robots",icon:"",description:"Robots futuristes, androdes..."},{value:"vehicles",label:"Vhicules",icon:"",description:"Voitures, avions, trains, bateaux..."},{value:"nature",label:"Nature",icon:"",description:"Fleurs, arbres, papillons, paysages..."},{value:"ocean",label:"Ocan",icon:"",description:"Poissons, dauphins, coraux, tortues..."},{value:"seasons",label:"Saisons",icon:"",description:"Automne, hiver, printemps, t..."},{value:"sports",label:"Sports",icon:"",description:"Football, basketball, natation..."},{value:"fruits",label:"Fruits & Lgumes",icon:"",description:"Fruits rigolos, lgumes souriants..."}],S=j=>{e===j?(t(""),d(!1),p(!1)):(t(j),d(j==="custom"),p(j==="upload_photo"))},A=j=>{const R=j.target.files[0];if(R){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(R.type)){alert("Format de fichier non support. Utilisez JPG, PNG, GIF ou WebP.");return}if(R.size>5*1024*1024){alert("La photo est trop grande. Taille maximale : 5 MB");return}const z=new FileReader;z.onloadend=()=>{m(z.result)},z.readAsDataURL(R),s(R)}},x=j=>{a(o===j?null:j)},w=()=>{s(null),m(null);const j=document.getElementById("photo-upload-input");j&&(j.value="")};return c.jsxs("div",{className:"coloring-selector",children:[c.jsx("h3",{children:"2. Choisissez un thme pour vos coloriages"}),c.jsx("div",{className:"theme-grid",children:N.map((j,R)=>c.jsxs("div",{className:"theme-slot",children:[c.jsxs(ze.div,{className:`theme-option ${j.special?"photo-upload-option":""} ${j.value==="custom"?"custom-coloring":""} ${e===j.value?"selected":""}`,onClick:()=>S(j.value),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"theme-icon",children:j.icon}),c.jsxs("div",{className:"theme-info",children:[c.jsx("h4",{children:j.label}),c.jsx("p",{children:j.description})]})]}),j.special&&f&&e==="upload_photo"&&c.jsxs(ze.div,{className:"photo-upload-container inline-upload",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[c.jsxs("div",{className:"upload-section",children:[c.jsx("p",{className:"upload-hint",children:"Formats accepts : JPG, PNG, GIF, WebP (max 5 MB)"}),c.jsx("input",{type:"file",id:"photo-upload-input",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:A,style:{display:"none"}}),g?c.jsx("div",{className:"photo-preview-container",children:c.jsx("img",{src:g,alt:"Aperu",className:"photo-preview"})}):c.jsxs("label",{htmlFor:"photo-upload-input",className:"upload-button",children:[c.jsx("span",{className:"upload-icon",children:""}),c.jsx("span",{children:"Choisir une photo"})]})]}),g&&c.jsx(ze.div,{className:"remove-photo-section",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:c.jsx("button",{onClick:w,className:"remove-photo-button",children:" Supprimer la photo"})})]}),j.value==="custom"&&l&&e==="custom"&&c.jsx(ze.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("input",{type:"text",placeholder:"Dcrivez votre thme de coloriage personnalis...",value:n,onChange:B=>r(B.target.value),className:"custom-input"})})]},j.value))}),c.jsxs("div",{className:"model-choice-section",children:[c.jsx("h3",{children:"3. Voulez-vous un modle ?"}),c.jsxs("div",{className:"model-buttons",children:[c.jsxs(ze.button,{className:`model-btn ${o===!0?"active":""}`,onClick:()=>x(!0),whileHover:{y:-3},whileTap:{scale:.98},children:[c.jsx("span",{className:"model-icon",children:""}),c.jsx("span",{className:"model-label",children:"Avec modle"}),c.jsx("span",{className:"model-desc",children:"Inclut un exemple color en coin"})]}),c.jsxs(ze.button,{className:`model-btn ${o===!1?"active":""}`,onClick:()=>x(!1),whileHover:{y:-3},whileTap:{scale:.98},children:[c.jsx("span",{className:"model-icon",children:""}),c.jsx("span",{className:"model-label",children:"Sans modle"}),c.jsx("span",{className:"model-desc",children:"Coloriage pur, libert crative"})]})]})]})]})};const ak=({imageUrl:e,onClose:t,onSave:n})=>{const r=O.useRef(null),[i,s]=O.useState(null),[o,a]=O.useState("#FF6B6B"),[l,d]=O.useState("bucket"),[f,p]=O.useState(!1),[g,m]=O.useState(null),[N,S]=O.useState(null),A=["#FF6B6B","#FF4757","#FF6348","#FFA07A","#FF85C0","#FFB6C1","#FF1493","#DC143C","#F8B739","#FFA500","#FFD700","#F7DC6F","#FFDAB9","#FFE4B5","#F4A460","#FDB813","#52C41A","#98D8C8","#81C784","#00C853","#20B2AA","#3CB371","#90EE90","#7FFF00","#4ECDC4","#45B7D1","#85C1E9","#A8DADC","#00BFFF","#1E90FF","#4169E1","#6495ED","#BB8FCE","#9B59B6","#8B008B","#DA70D6","#E6E6FA","#DDA0DD","#BA55D3","#9370DB","#DDA15E","#BC6C25","#D2691E","#CD853F","#8B4513","#A0522D","#F5DEB3","#FAEBD7","#95A5A6","#7F8C8D","#BDC3C7","#ECF0F1","#D3D3D3","#C0C0C0","#A9A9A9","#808080","#E07A5F","#FF6B9D","#00D9FF","#FFEB3B","#FF5722","#8BC34A","#00BCD4","#E91E63"];O.useEffect(()=>{const E=r.current;if(!E)return;const G=E.getContext("2d",{willReadFrequently:!0});s(G);const V=new Image;V.crossOrigin="anonymous",V.onload=()=>{const ae=window.innerWidth*.9,ie=window.innerHeight*.7;let oe=V.width,H=V.height;oe>ae&&(H=ae/oe*H,oe=ae),H>ie&&(oe=ie/H*oe,H=ie),E.width=oe,E.height=H,G.drawImage(V,0,0,oe,H),m(G.getImageData(0,0,oe,H));const ne=G.createImageData(oe,H);S(ne),p(!0)},V.onerror=()=>{console.error("Erreur de chargement de l'image")},V.src=e},[e]);const x=(E,G,V)=>{if(!i||!g)return;const ae=r.current,ie=i.getImageData(0,0,ae.width,ae.height),oe=ie.data,H=j(oe,E,G,ae.width),ne=B(V);if(z(H,ne))return;const te=[[E,G]],xe=new Set;for(;te.length>0;){const[L,q]=te.pop(),U=`${L},${q}`;if(xe.has(U)||L<0||L>=ae.width||q<0||q>=ae.height)continue;const J=j(oe,L,q,ae.width);F(J)||z(J,H)&&(xe.add(U),R(oe,L,q,ae.width,ne),te.push([L+1,q]),te.push([L-1,q]),te.push([L,q+1]),te.push([L,q-1]))}i.putImageData(ie,0,0)},w=(E,G)=>{if(!i||!g)return;const V=r.current,ae=i.getImageData(0,0,V.width,V.height),ie=ae.data,oe=g.data,H=j(ie,E,G,V.width);if(D(H))return;const ne=[[E,G]],te=new Set;for(;ne.length>0;){const[xe,L]=ne.pop(),q=`${xe},${L}`;if(te.has(q)||xe<0||xe>=V.width||L<0||L>=V.height)continue;const U=j(ie,xe,L,V.width);if(F(U)||!z(U,H))continue;te.add(q);const J=(L*V.width+xe)*4;ie[J]=oe[J],ie[J+1]=oe[J+1],ie[J+2]=oe[J+2],ie[J+3]=oe[J+3],ne.push([xe+1,L]),ne.push([xe-1,L]),ne.push([xe,L+1]),ne.push([xe,L-1])}i.putImageData(ae,0,0)},j=(E,G,V,ae)=>{const ie=(V*ae+G)*4;return{r:E[ie],g:E[ie+1],b:E[ie+2],a:E[ie+3]}},R=(E,G,V,ae,ie)=>{const oe=(V*ae+G)*4;E[oe]=ie.r,E[oe+1]=ie.g,E[oe+2]=ie.b,E[oe+3]=255},B=E=>{const G=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(E);return G?{r:parseInt(G[1],16),g:parseInt(G[2],16),b:parseInt(G[3],16),a:255}:{r:0,g:0,b:0,a:255}},z=(E,G,V=10)=>Math.abs(E.r-G.r)<=V&&Math.abs(E.g-G.g)<=V&&Math.abs(E.b-G.b)<=V,F=(E,G=50)=>E.r<G&&E.g<G&&E.b<G,D=(E,G=240)=>E.r>G&&E.g>G&&E.b>G||E.a<10,W=E=>{if(!f)return;const G=r.current,V=G.getBoundingClientRect(),ae=Math.floor((E.clientX-V.left)*(G.width/V.width)),ie=Math.floor((E.clientY-V.top)*(G.height/V.height));l==="bucket"?x(ae,ie,o):l==="eraser"&&w(ae,ie)},ee=()=>{r.current.toBlob(G=>{const V=URL.createObjectURL(G),ae=document.createElement("a");ae.href=V,ae.download=`coloriage_colorie_${Date.now()}.png`,ae.click(),URL.revokeObjectURL(V)})},T=()=>{!i||!g||i.putImageData(g,0,0)};return c.jsx("div",{className:"coloring-canvas-overlay",children:c.jsxs("div",{className:"coloring-canvas-container",children:[c.jsxs("div",{className:"coloring-toolbar-top",children:[c.jsx("h2",{className:"coloring-canvas-title",children:" Coloriez votre dessin"}),c.jsxs("div",{className:"coloring-toolbar-actions",children:[c.jsx("button",{className:"coloring-btn coloring-reset-btn",onClick:T,title:"Rinitialiser",children:" Rinitialiser"}),c.jsx("button",{className:"coloring-btn coloring-save-btn",onClick:ee,title:"Tlcharger",children:" Tlcharger"}),c.jsx("button",{className:"coloring-btn coloring-close-btn-top",onClick:t,title:"Fermer",children:""})]})]}),c.jsxs("div",{className:"coloring-canvas-wrapper",children:[c.jsx("canvas",{ref:r,onClick:W,className:"coloring-canvas"}),!f&&c.jsxs("div",{className:"coloring-loading",children:[c.jsx("div",{className:"coloring-spinner"}),c.jsx("p",{children:"Chargement du coloriage..."})]})]}),c.jsxs("div",{className:"coloring-toolbar-bottom",children:[c.jsxs("div",{className:"coloring-tools",children:[c.jsx("button",{className:`coloring-tool-btn ${l==="bucket"?"active":""}`,onClick:()=>d("bucket"),title:"Seau de peinture",children:""}),c.jsx("button",{className:`coloring-tool-btn ${l==="eraser"?"active":""}`,onClick:()=>d("eraser"),title:"Gomme",children:""})]}),c.jsx("div",{className:"coloring-palette",children:A.map((E,G)=>c.jsx("button",{className:`coloring-color-btn ${o===E&&l==="bucket"?"active":""}`,style:{backgroundColor:E},onClick:()=>{a(E),d("bucket")},title:E},G))})]})]})})},lk=({coloringResult:e,onClose:t,selectedTheme:n})=>{const[r,i]=O.useState(!1),[s,o]=O.useState(!1),a=O.useRef(null),l=()=>{var N;document.fullscreenElement?(document.exitFullscreen(),i(!1)):((N=a.current)==null||N.requestFullscreen(),i(!0))},d=N=>{N.target.classList.contains("coloring-popup-overlay")&&t()},f=()=>{if(e!=null&&e.images){const N=e.title||(n?`coloriages_${n}`:"coloriages");tg(e.images,N)}};if(!e||!e.images||e.images.length===0)return null;const p=e.images[0],g=p.image_url||p,m=()=>{o(!0)};return c.jsx(c.Fragment,{children:s?c.jsx(ak,{imageUrl:g,onClose:()=>o(!1)}):c.jsx("div",{className:"coloring-popup-overlay",onClick:d,children:c.jsxs("div",{className:"coloring-popup-content",ref:a,children:[c.jsx("div",{className:"coloring-background"}),c.jsx("button",{className:"coloring-close-btn",onClick:t,children:""}),c.jsx("button",{className:"coloring-fullscreen-btn",onClick:l,children:r?" Quitter le plein cran":" Plein cran"}),c.jsxs("div",{className:"coloring-container",children:[c.jsx("h2",{className:"coloring-title",children:" Votre coloriage"}),c.jsx("div",{className:"coloring-image-wrapper",children:c.jsx("img",{src:g,alt:"Coloriage",className:"coloring-popup-image"})}),c.jsxs("div",{className:"coloring-popup-actions",children:[c.jsx("button",{className:"coloring-open-btn",onClick:m,children:" Colorier maintenant"}),c.jsx("button",{className:"coloring-download-btn",onClick:f,children:" Tlcharger le coloriage"})]})]})]})})})},uk=async(e,t,n)=>{try{if(console.log(" Vrification permission temporaire pour:",{contentType:e,userId:t,userEmail:n}),n==="fredagathe77@gmail.com")return console.log(" Admin dtect - accs gratuit"),{hasPermission:!0,reason:"admin_access",userRole:"admin",isAdmin:!0};const{data:r,error:i}=await yn.from("profiles").select("role").eq("id",t).single();if(i&&console.error(" Erreur rcupration profil:",i),console.log(" Profil utilisateur:",r),(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="free")return{hasPermission:!0,reason:(r==null?void 0:r.role)==="admin"?"admin_access":"free_access",userRole:r==null?void 0:r.role,isAdmin:(r==null?void 0:r.role)==="admin"};const{data:s,error:o}=await yn.from("generation_permissions").select("*").eq("user_id",t).eq("content_type",e).eq("is_active",!0).single();return s?{hasPermission:!0,reason:"payment_validated",userRole:"user",isAdmin:!1}:(console.log(" Paiement requis pour utilisateur normal"),{hasPermission:!1,reason:"payment_required",userRole:"user",isAdmin:!1})}catch(r){return console.error("Erreur vrification permission:",r),{hasPermission:!1,reason:"error",error:r,isAdmin:!1}}},c4=e=>({comptine:{amount:299,name:"Comptine Musicale",currency:"EUR",display:"2,99"},histoire:{amount:399,name:"Histoire Audio",currency:"EUR",display:"3,99"},coloriage:{amount:199,name:"Coloriage Personnalis",currency:"EUR",display:"1,99"},bd:{amount:499,name:"Bande Dessine",currency:"EUR",display:"4,99"},animation:{amount:499,name:"Animation IA personnalise",currency:"EUR",display:"4,99"},coloring:{amount:199,name:"Coloriage personnalis",currency:"EUR",display:"1,99"},comic:{amount:299,name:"Bande dessine IA",currency:"EUR",display:"2,99"},story:{amount:399,name:"Histoire audio",currency:"EUR",display:"3,99"},rhyme:{amount:249,name:"Comptine musicale",currency:"EUR",display:"2,49"}})[e]||{amount:299,name:"Contenu Cratif",currency:"EUR",display:"2,99"},ck=async(e,t)=>{try{if(t==="fredagathe77@gmail.com")return!0;const{data:n,error:r}=await yn.from("profiles").select("role").eq("id",e).single();return r?(console.error("Erreur vrification accs gratuit:",r),!1):(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="free"}catch(n){return console.error("Erreur hasFreeAccess:",n),!1}};var d4="clover",dk=function(t){return t===3?"v3":t},h4="https://js.stripe.com",hk="".concat(h4,"/").concat(d4,"/stripe.js"),fk=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,pk=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,P5="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",mk=function(t){return fk.test(t)||pk.test(t)},gk=function(){for(var t=document.querySelectorAll('script[src^="'.concat(h4,'"]')),n=0;n<t.length;n++){var r=t[n];if(mk(r.src))return r}return null},k5=function(t){var n=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(hk).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},vk=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.0.0",startTime:n})},tu=null,jd=null,Ad=null,yk=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},xk=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},wk=function(t){return tu!==null?tu:(tu=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(P5),window.Stripe){n(window.Stripe);return}try{var i=gk();if(i&&t)console.warn(P5);else if(!i)i=k5(t);else if(i&&Ad!==null&&jd!==null){var s;i.removeEventListener("load",Ad),i.removeEventListener("error",jd),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=k5(t)}Ad=xk(n,r),jd=yk(r),i.addEventListener("load",Ad),i.addEventListener("error",jd)}catch(o){r(o);return}}),tu.catch(function(n){return tu=null,Promise.reject(n)}))},bk=function(t,n,r){if(t===null)return null;var i=n[0],s=i.match(/^pk_test/),o=dk(t.version),a=d4;s&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.0.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,n);return vk(l,r),l},nu,f4=!1,p4=function(){return nu||(nu=wk(null).catch(function(t){return nu=null,Promise.reject(t)}),nu)};Promise.resolve().then(function(){return p4()}).catch(function(e){f4||console.warn(e)});var Sk=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];f4=!0;var i=Date.now();return p4().then(function(s){return bk(s,n,i)})},m4={exports:{}},Nk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jk=Nk,Ak=jk;function g4(){}function v4(){}v4.resetWarningCache=g4;var Lk=function(){function e(r,i,s,o,a,l){if(l!==Ak){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:v4,resetWarningCache:g4};return n.PropTypes=n,n};m4.exports=Lk();var Ck=m4.exports;const Ot=M5(Ck);function E5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E5(Object(n),!0).forEach(function(r){y4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yd=function(t){return typeof t}:Yd=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function y4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pk(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function kk(e,t){if(e==null)return{};var n=Pk(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function x4(e,t){return Ek(e)||_k(e,t)||Tk(e,t)||Fk()}function Ek(e){if(Array.isArray(e))return e}function _k(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Tk(e,t){if(e){if(typeof e=="string")return T5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T5(e,t)}}function T5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sr=function(t,n,r){var i=!!r,s=Rt.useRef(r);Rt.useEffect(function(){s.current=r},[r]),Rt.useEffect(function(){if(!i||!t)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return t.on(n,o),function(){t.off(n,o)}},[i,n,t,s])},p1=function(t){var n=Rt.useRef(t);return Rt.useEffect(function(){n.current=t},[t]),n.current},sl=function(t){return t!==null&&Yd(t)==="object"},Ik=function(t){return sl(t)&&typeof t.then=="function"},Rk=function(t){return sl(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},F5="[object Object]",Dk=function e(t,n){if(!sl(t)||!sl(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(t)===F5,o=Object.prototype.toString.call(n)===F5;if(s!==o)return!1;if(!s&&!r)return t===n;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(var d={},f=0;f<a.length;f+=1)d[a[f]]=!0;for(var p=0;p<l.length;p+=1)d[l[p]]=!0;var g=Object.keys(d);if(g.length!==a.length)return!1;var m=t,N=n,S=function(x){return e(m[x],N[x])};return g.every(S)},w4=function(t,n,r){return sl(t)?Object.keys(t).reduce(function(i,s){var o=!sl(n)||!Dk(t[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?_5(_5({},i||{}),{},y4({},s,t[s])):i},null):null},b4="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",I5=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:b4;if(t===null||Rk(t))return t;throw new Error(n)},Mk=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:b4;if(Ik(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return I5(i,n)})};var r=I5(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Ok=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.0.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.0.0",url:"https://stripe.com/docs/stripe-js/react"}))},of=Rt.createContext(null);of.displayName="ElementsContext";var S4=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},N4=function(t){var n=t.stripe,r=t.options,i=t.children,s=Rt.useMemo(function(){return Mk(n)},[n]),o=Rt.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=x4(o,2),l=a[0],d=a[1];Rt.useEffect(function(){var g=!0,m=function(S){d(function(A){return A.stripe?A:{stripe:S,elements:S.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(N){N&&g&&m(N)}):s.tag==="sync"&&!l.stripe&&m(s.stripe),function(){g=!1}},[s,l,r]);var f=p1(n);Rt.useEffect(function(){f!==null&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[f,n]);var p=p1(r);return Rt.useEffect(function(){if(l.elements){var g=w4(r,p,["clientSecret","fonts"]);g&&l.elements.update(g)}},[r,p,l.elements]),Rt.useEffect(function(){Ok(l.stripe)},[l.stripe]),Rt.createElement(of.Provider,{value:l},i)};N4.propTypes={stripe:Ot.any,options:Ot.object};var Bk=function(t){var n=Rt.useContext(of);return S4(n,t)},zk=function(){var t=Bk("calls useElements()"),n=t.elements;return n};Ot.func.isRequired;var j4=Rt.createContext(null);j4.displayName="CheckoutContext";Ot.any,Ot.shape({clientSecret:Ot.oneOfType([Ot.string,Ot.instanceOf(Promise)]).isRequired,elementsOptions:Ot.object}).isRequired;var m1=function(t){var n=Rt.useContext(j4),r=Rt.useContext(of);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return S4(r,t)},qk=["mode"],Uk=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},jr=function(t,n){var r="".concat(Uk(t),"Element"),i=function(l){var d=l.id,f=l.className,p=l.options,g=p===void 0?{}:p,m=l.onBlur,N=l.onFocus,S=l.onReady,A=l.onChange,x=l.onEscape,w=l.onClick,j=l.onLoadError,R=l.onLoaderStart,B=l.onNetworksChange,z=l.onConfirm,F=l.onCancel,D=l.onShippingAddressChange,W=l.onShippingRateChange,ee=l.onSavedPaymentMethodRemove,T=l.onSavedPaymentMethodUpdate,E=m1("mounts <".concat(r,">")),G="elements"in E?E.elements:null,V="checkoutState"in E?E.checkoutState:null,ae=(V==null?void 0:V.type)==="success"||(V==null?void 0:V.type)==="loading"?V.sdk:null,ie=Rt.useState(null),oe=x4(ie,2),H=oe[0],ne=oe[1],te=Rt.useRef(null),xe=Rt.useRef(null);sr(H,"blur",m),sr(H,"focus",N),sr(H,"escape",x),sr(H,"click",w),sr(H,"loaderror",j),sr(H,"loaderstart",R),sr(H,"networkschange",B),sr(H,"confirm",z),sr(H,"cancel",F),sr(H,"shippingaddresschange",D),sr(H,"shippingratechange",W),sr(H,"savedpaymentmethodremove",ee),sr(H,"savedpaymentmethodupdate",T),sr(H,"change",A);var L;S&&(t==="expressCheckout"?L=S:L=function(){S(H)}),sr(H,"ready",L),Rt.useLayoutEffect(function(){if(te.current===null&&xe.current!==null&&(G||ae)){var U=null;if(ae)switch(t){case"payment":U=ae.createPaymentElement(g);break;case"address":if("mode"in g){var J=g.mode,re=kk(g,qk);if(J==="shipping")U=ae.createShippingAddressElement(re);else if(J==="billing")U=ae.createBillingAddressElement(re);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":U=ae.createExpressCheckoutElement(g);break;case"currencySelector":U=ae.createCurrencySelectorElement();break;case"taxId":U=ae.createTaxIdElement(g);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else G&&(U=G.create(t,g));te.current=U,ne(U),U&&U.mount(xe.current)}},[G,ae,g]);var q=p1(g);return Rt.useEffect(function(){if(te.current){var U=w4(g,q,["paymentRequest"]);U&&"update"in te.current&&te.current.update(U)}},[g,q]),Rt.useLayoutEffect(function(){return function(){if(te.current&&typeof te.current.destroy=="function")try{te.current.destroy(),te.current=null}catch{}}},[]),Rt.createElement("div",{id:d,className:f,ref:xe})},s=function(l){m1("mounts <".concat(r,">"));var d=l.id,f=l.className;return Rt.createElement("div",{id:d,className:f})},o=n?s:i;return o.propTypes={id:Ot.string,className:Ot.string,onChange:Ot.func,onBlur:Ot.func,onFocus:Ot.func,onReady:Ot.func,onEscape:Ot.func,onClick:Ot.func,onLoadError:Ot.func,onLoaderStart:Ot.func,onNetworksChange:Ot.func,onConfirm:Ot.func,onCancel:Ot.func,onShippingAddressChange:Ot.func,onShippingRateChange:Ot.func,onSavedPaymentMethodRemove:Ot.func,onSavedPaymentMethodUpdate:Ot.func,options:Ot.object},o.displayName=r,o.__elementType=t,o},Ar=typeof window>"u",Vk=Rt.createContext(null);Vk.displayName="EmbeddedCheckoutProviderContext";var $k=function(){var t=m1("calls useStripe()"),n=t.stripe;return n};jr("auBankAccount",Ar);var R5=jr("card",Ar);jr("cardNumber",Ar);jr("cardExpiry",Ar);jr("cardCvc",Ar);jr("iban",Ar);jr("payment",Ar);jr("expressCheckout",Ar);jr("paymentRequestButton",Ar);jr("linkAuthentication",Ar);jr("address",Ar);jr("shippingAddress",Ar);jr("paymentMethodMessaging",Ar);jr("taxId",Ar);const Hk=Sk("pk_test_51234567890abcdef..."),Wk=({contentType:e,userId:t,userEmail:n,onSuccess:r,onCancel:i,priceInfo:s})=>{const o=$k(),a=zk(),[l,d]=O.useState(!1),[f,p]=O.useState(null),[g,m]=O.useState("");O.useEffect(()=>{(async()=>{try{console.log(" Cration Payment Intent pour:",{contentType:e,amount:s.amount,userId:t});const x=`pi_test_${Date.now()}_secret_${Math.random().toString(36).substring(7)}`;m(x)}catch(x){console.error(" Erreur cration Payment Intent:",x),p("Erreur lors de l'initialisation du paiement")}})()},[e,s.amount,t]);const N=async A=>{if(A.preventDefault(),!o||!a){p("Stripe n'est pas encore charg. Veuillez patienter.");return}const x=a.getElement(R5);if(!x){p("lment de carte non trouv");return}d(!0),p(null);try{console.log(" Traitement paiement Stripe pour:",{contentType:e,userId:t,userEmail:n,amount:s.amount}),console.log(" Validation des informations de carte...");const{error:w}=await o.createPaymentMethod({type:"card",card:x});if(w)throw new Error(w.message);if(await new Promise(R=>setTimeout(R,3e3)),Math.random()>.05){const R={id:`pi_${Date.now()}_${Math.random().toString(36).substring(7)}`,status:"succeeded",amount:s.amount,currency:"eur"};console.log(" Paiement Stripe russi:",R),r({success:!0,contentType:e,amount:s.amount/100,paymentIntentId:R.id,stripePayment:!0})}else throw new Error("Votre paiement a t refus. Veuillez vrifier vos informations de carte.")}catch(w){console.error(" Erreur paiement Stripe:",w),p(w.message||"Erreur lors du paiement. Veuillez ressayer.")}finally{d(!1)}},S={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased"},invalid:{color:"#9e2146"}}};return c.jsxs("form",{onSubmit:N,className:"payment-form",children:[c.jsxs("div",{className:"payment-summary",children:[c.jsx("h3",{children:"Rcapitulatif de votre commande"}),c.jsxs("div",{className:"order-item",children:[c.jsx("span",{className:"item-name",children:s.name}),c.jsx("span",{className:"item-price",children:s.display})]}),c.jsxs("div",{className:"order-total",children:[c.jsx("span",{className:"total-label",children:"Total  payer :"}),c.jsx("span",{className:"total-amount",children:s.display})]})]}),c.jsxs("div",{className:"payment-method",children:[c.jsx("h3",{children:"Informations de paiement"}),c.jsx("div",{className:"card-element-container",children:c.jsx(R5,{options:S,className:"card-element"})})]}),f&&c.jsxs("div",{className:"payment-error",children:[c.jsx("span",{className:"error-icon",children:""}),f]}),c.jsxs("div",{className:"payment-actions",children:[c.jsx("button",{type:"button",onClick:i,className:"cancel-button",disabled:l,children:"Annuler"}),c.jsx("button",{type:"submit",className:"pay-button",disabled:!o||l,children:l?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"loading-spinner"}),"Traitement en cours..."]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"lock-icon",children:""}),"Payer ",s.display]})})]}),c.jsxs("div",{className:"payment-security",children:[c.jsxs("div",{className:"security-info",children:[c.jsx("span",{className:"security-icon",children:""}),c.jsx("small",{children:"Paiement scuris par Stripe"})]}),c.jsxs("div",{className:"accepted-cards",children:[c.jsx("span",{children:" Visa"}),c.jsx("span",{children:" Mastercard"}),c.jsx("span",{children:" American Express"})]})]})]})},Gk=({contentType:e,userId:t,userEmail:n,onSuccess:r,onCancel:i})=>{const s=c4(e);return c.jsx("div",{className:"payment-modal-overlay",children:c.jsxs(ze.div,{className:"payment-modal stripe-payment-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},children:[c.jsxs("div",{className:"payment-header",children:[c.jsx("h2",{children:" Paiement scuris"}),c.jsx("button",{className:"close-button",onClick:i,"aria-label":"Fermer",children:""})]}),c.jsx(N4,{stripe:Hk,children:c.jsx(Wk,{contentType:e,userId:t,userEmail:n,onSuccess:r,onCancel:i,priceInfo:s})})]})})};const Kk=({onLegalClick:e})=>c.jsx("footer",{className:"app-footer",children:c.jsxs("div",{className:"footer-content",children:[c.jsxs("div",{className:"footer-links",children:[c.jsx("button",{className:"footer-link",onClick:()=>e("mentions"),children:"Mentions lgales"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("privacy"),children:"Confidentialit"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("cookies"),children:"Cookies"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("terms"),children:"CGU"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("contact"),children:"Contact"})]}),c.jsx("div",{className:"footer-info",children:c.jsxs("p",{children:[" ",new Date().getFullYear()," HERBBIE"]})})]})});const Yk=({onClose:e,initialSection:t="mentions"})=>{const[n,r]=O.useState(t),[i,s]=O.useState({firstName:"",lastName:"",email:"",subject:"",message:""}),[o,a]=O.useState(!1),[l,d]=O.useState(""),f=[{id:"mentions",title:"Mentions Lgales",icon:""},{id:"privacy",title:"Confidentialit",icon:""},{id:"cookies",title:"Cookies",icon:""},{id:"terms",title:"Conditions d'utilisation",icon:""},{id:"contact",title:"Contact",icon:""}],p=()=>{switch(n){case"mentions":return g();case"privacy":return m();case"cookies":return N();case"terms":return S();case"contact":return w();default:return g()}},g=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Mentions Lgales"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Hbergement"}),c.jsxs("div",{className:"info-block",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Hbergeur :"})," Railway"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Adresse :"})," Railway, 1 Sentry Way, San Francisco, CA 94103, tats-Unis"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Site web :"})," ",c.jsx("a",{href:"https://railway.app",target:"_blank",rel:"noopener noreferrer",children:"railway.app"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Proprit intellectuelle"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"L'ensemble du contenu de ce site (textes, images, vidos, lments graphiques, logos, icnes, sons, logiciels) est la proprit exclusive de HERBBIE ou de ses partenaires, sauf mention contraire."}),c.jsx("p",{children:"Toute reproduction, distribution, modification ou exploitation commerciale, mme partielle, sans autorisation pralable crite de HERBBIE est strictement interdite et constituerait une contrefaon sanctionne par les articles L.335-2 et suivants du Code de la proprit intellectuelle."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Responsabilit"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'efforce d'assurer l'exactitude et la mise  jour des informations diffuses sur ce site, dont elle se rserve le droit de corriger,  tout moment et sans pravis, le contenu."}),c.jsx("p",{children:"Toutefois, HERBBIE ne peut garantir l'exactitude, la prcision ou l'exhaustivit des informations mises  disposition sur ce site. En consquence, HERBBIE dcline toute responsabilit :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Pour toute imprcision, inexactitude ou omission portant sur des informations disponibles sur le site"}),c.jsx("li",{children:"Pour tous dommages rsultant d'une intrusion frauduleuse d'un tiers ayant entran une modification des informations mises  disposition sur le site"}),c.jsx("li",{children:"Et plus gnralement pour tous dommages, directs ou indirects, quelles qu'en soient les causes, origines, natures ou consquences, provoqus  raison de l'accs de quiconque au site ou de l'impossibilit d'y accder"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Donnes personnelles"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Conformment  la loi n78-17 du 6 janvier 1978 relative  l'informatique, aux fichiers et aux liberts, vous disposez d'un droit d'accs, de rectification et de suppression des donnes vous concernant."}),c.jsxs("p",{children:["Pour exercer ce droit, vous pouvez nous contacter par email  l'adresse : ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Le site HERBBIE utilise des cookies pour amliorer votre exprience utilisateur et raliser des statistiques de visite."}),c.jsx("p",{children:"Conformment  la rglementation, vous pouvez refuser le dpt de cookies en configurant votre navigateur."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"diteur du site"}),c.jsxs("div",{className:"info-block personal-data",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Dnomination sociale :"})," ",c.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Forme juridique :"})," ",c.jsx("span",{className:"protect-personal-info",children:"Auto-entreprise (en cours d'immatriculation)"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Adresse du sige social :"})," ",c.jsx("span",{className:"address-protected personal-data",children:"10 bis rue Flix Arnaudin, 40100 Dax"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Numro SIRET :"})," ",c.jsx("span",{className:"protect-personal-info",children:"En cours d'attribution"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Directeur de la publication :"})," ",c.jsx("span",{className:"name-protected personal-data",children:"Adrien Gaulin"})]})]})]})]}),m=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Politique de Confidentialit"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Collecte des donnes personnelles"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Lors de votre utilisation du service HERBBIE, nous pouvons collecter les informations suivantes :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de compte :"})," adresse email, nom d'utilisateur (si inscription)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes d'utilisation :"})," historique des crations, prfrences, statistiques d'usage"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes techniques :"})," adresse IP, type de navigateur, systme d'exploitation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contenu gnr :"})," les crations ralises via notre service (histoires, coloriages, etc.)"]})]}),c.jsx("p",{children:"La collecte de ces donnes est ncessaire pour :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fournir nos services de gnration de contenu cratif"}),c.jsx("li",{children:"Amliorer la qualit de nos services"}),c.jsx("li",{children:"Assurer la scurit de la plateforme"}),c.jsx("li",{children:"Respecter nos obligations lgales"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Utilisation des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les donnes collectes sont utilises pour :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fournir le service :"})," gnration de contenu personnalis, sauvegarde des crations"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Amlioration :"})," analyse des usages pour optimiser l'exprience utilisateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Communication :"})," envoi d'informations relatives au service, support client"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," dtection et prvention des fraudes et activits malveillantes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Obligations lgales :"})," conservation des donnes requises par la loi"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Partage des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'engage  ne pas vendre, louer ou commercialiser vos donnes personnelles."}),c.jsx("p",{children:"Les donnes peuvent tre partages uniquement dans les cas suivants :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fournisseurs de services :"})," hbergeurs, prestataires techniques (sous contrat de confidentialit)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Obligations lgales :"})," sur demande des autorits comptentes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Protection des droits :"})," en cas de litige ou contentieux"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Conservation des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les donnes sont conserves pendant la dure ncessaire aux finalits pour lesquelles elles ont t collectes :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de compte :"})," tant que le compte est actif + 3 ans aprs inactivation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes d'utilisation :"})," 2 ans  compter de la collecte"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contenu gnr :"})," tant que le compte est actif"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de facturation :"})," 10 ans (obligation lgale)"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Scurit des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE met en uvre des mesures techniques et organisationnelles appropries pour protger vos donnes personnelles contre :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"L'accs non autoris"}),c.jsx("li",{children:"L'utilisation illgitime"}),c.jsx("li",{children:"La perte ou destruction accidentelle"}),c.jsx("li",{children:"Toute forme de traitement illicite"})]}),c.jsx("p",{children:"Ces mesures incluent le chiffrement des donnes, des contrles d'accs stricts et des audits rguliers de scurit."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Vos droits"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Conformment au RGPD, vous disposez des droits suivants :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Droit d'accs :"})," demander l'accs  vos donnes personnelles"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit de rectification :"})," demander la correction de donnes inexactes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  l'effacement :"})," demander la suppression de vos donnes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  la limitation :"})," demander la limitation du traitement"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  la portabilit :"})," demander la rcupration de vos donnes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit d'opposition :"})," vous opposer au traitement de vos donnes"]})]}),c.jsxs("p",{children:["Pour exercer ces droits, contactez-nous  : ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Cookies et technologies similaires"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE utilise uniquement des cookies strictement essentiels au fonctionnement du service :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Maintien de votre connexion et scurit"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Mmorisation de votre identit"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de scurit :"})," Protection contre les menaces"]})]}),c.jsx("h4",{children:"Stockage et scurit des cookies :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Emplacement :"})," Stocks localement dans le navigateur (localStorage)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Dure de vie :"})," Sessions temporaires (supprims  la dconnexion)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," Chiffrs et protgs contre les attaques CSRF"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Serveur :"})," Gestion automatique par Supabase avec scurit renforce"]})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Note :"})," Aucun cookie de fonctionnalit, analytique, de personnalisation ou publicitaire n'est utilis."]}),c.jsx("p",{children:"Les cookies essentiels sont automatiquement grs et exempts de consentement selon le RGPD."})]})]})]}),N=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Politique des Cookies"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Qu'est-ce qu'un cookie ?"}),c.jsx("div",{className:"info-block",children:c.jsx("p",{children:"Un cookie est un petit fichier texte dpos sur votre terminal (ordinateur, tablette, smartphone) lors de la visite d'un site internet. Il permet de stocker des informations relatives  votre navigation et d'amliorer votre exprience utilisateur."})})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Cookies utiliss par HERBBIE"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:c.jsx("strong",{children:"Conformment  la rglementation RGPD, HERBBIE utilise uniquement des cookies strictement essentiels ncessaires au fonctionnement du service."})}),c.jsx("h4",{children:"Cookies essentiels (obligatoires) :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Maintien de votre connexion et scurit pendant votre visite"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Mmorisation de votre identit pour viter de vous reconnecter"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de scurit :"})," Protection contre les attaques CSRF et autres menaces"]})]}),c.jsxs("div",{className:"alert alert-info",children:[c.jsx("strong",{children:"Note :"})," Aucun cookie de fonctionnalit, analytique, de personnalisation ou publicitaire n'est utilis sur ce site."]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Gestion des cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les cookies essentiels utiliss par HERBBIE sont automatiquement grs et ne ncessitent pas d'action de votre part."}),c.jsx("h4",{children:"Via votre navigateur :"}),c.jsx("p",{children:"Si vous souhaitez supprimer les cookies essentiels (ce qui peut affecter le fonctionnement du site) :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Chrome :"})," Paramtres  Confidentialit et scurit  Cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Firefox :"})," Prfrences  Vie prive et scurit  Cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Safari :"})," Prfrences  Confidentialit  Grer les cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Edge :"})," Paramtres  Cookies et autorisations de site"]})]}),c.jsx("h4",{children:"Dure de conservation :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Supprims automatiquement  la fermeture du navigateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Conservs pendant votre session active (maximum 24h)"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Finalits des cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE utilise uniquement des cookies essentiels pour :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fonctionnement du service :"})," Maintien de la session utilisateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," Scurisation des transactions et protection contre les menaces"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Prfrences essentielles :"})," Mmorisation des paramtres de base (langue)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Performance :"})," Optimisation du fonctionnement du site"]})]}),c.jsxs("div",{className:"alert alert-info",children:[c.jsx("strong",{children:"Note :"})," Aucun cookie n'est utilis pour l'analyse d'audience, le suivi utilisateur ou la personnalisation avance."]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Cookies tiers"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE n'utilise pas de cookies tiers pour l'analyse, le suivi ou la publicit."}),c.jsx("p",{children:"Les services externes utiliss (comme les APIs d'IA) ne dposent pas de cookies sur votre navigateur."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Consentement"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:c.jsx("strong",{children:"Conformment  la rglementation RGPD, les cookies essentiels utiliss par HERBBIE ne ncessitent pas de consentement explicite car ils sont strictement ncessaires au fonctionnement du service."})}),c.jsx("p",{children:"Ces cookies sont automatiquement activs pour garantir la scurit et le bon fonctionnement du site."}),c.jsx("p",{children:"Note : La dsactivation de ces cookies essentiels peut gravement affecter le fonctionnement du service."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Mise  jour"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Cette politique des cookies peut tre mise  jour rgulirement pour reflter les volutions de nos services ou de la rglementation."}),c.jsx("p",{children:"La date de dernire modification est indique en bas de cette page."}),c.jsx("p",{children:"En cas de modification substantielle, nous vous en informerons via une notification sur le site."})]})]})]}),S=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Conditions d'utilisation"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Objet du service"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE est une plateforme de gnration de contenu cratif destine aux enfants, utilisant l'intelligence artificielle pour crer :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Des histoires personnalises et ducatives"}),c.jsx("li",{children:"Des coloriages et activits cratives"}),c.jsx("li",{children:"Du contenu pdagogique adapt  chaque ge"}),c.jsx("li",{children:"Des expriences d'apprentissage ludiques"})]}),c.jsx("p",{children:"Le service est conu pour stimuler l'imagination et la crativit des enfants de manire scurise et ducative."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Conditions d'accs"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"ge minimum :"}),c.jsx("p",{children:"Le service HERBBIE est accessible aux enfants de tous ges. Pour les enfants de moins de 13 ans, l'utilisation doit se faire sous la supervision d'un adulte responsable."}),c.jsx("h4",{children:"Inscription :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Les utilisateurs peuvent crer un compte gratuit"}),c.jsx("li",{children:"L'inscription ncessite une adresse email valide"}),c.jsx("li",{children:"Les mots de passe doivent tre scuriss"}),c.jsx("li",{children:"Une seule inscription par personne est autorise"})]}),c.jsx("h4",{children:"Utilisation acceptable :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Respect des autres utilisateurs"}),c.jsx("li",{children:"Utilisation dans un cadre ducatif et ludique"}),c.jsx("li",{children:"Interdiction de gnrer du contenu inappropri"}),c.jsx("li",{children:"Respect des droits d'auteur et proprit intellectuelle"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Services et fonctionnalits"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Services gratuits :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Accs  un nombre limit de gnration par jour"}),c.jsx("li",{children:"Fonctionnalits de base de cration de contenu"}),c.jsx("li",{children:"Sauvegarde des crations pendant 30 jours"}),c.jsx("li",{children:"Support communautaire"})]}),c.jsx("h4",{children:"Services premium (optionnels) :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Gnrations illimites"}),c.jsx("li",{children:"Sauvegarde permanente des crations"}),c.jsx("li",{children:"Fonctionnalits avances"}),c.jsx("li",{children:"Support prioritaire"}),c.jsx("li",{children:"Contenu personnalis avanc"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Rgles de conduite"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Interdictions :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Gnrer du contenu violent, haineux ou inappropri"}),c.jsx("li",{children:"Utiliser le service pour harceler ou intimider"}),c.jsx("li",{children:"Tenter de contourner les limitations techniques"}),c.jsx("li",{children:"Partager des informations personnelles d'autrui"}),c.jsx("li",{children:"Utiliser le service  des fins commerciales sans autorisation"}),c.jsx("li",{children:"Copier ou reproduire le contenu gnr par d'autres utilisateurs"})]}),c.jsx("h4",{children:"Obligations des utilisateurs :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fournir des informations exactes lors de l'inscription"}),c.jsx("li",{children:"Respecter les droits d'auteur et la proprit intellectuelle"}),c.jsx("li",{children:"Signaler tout contenu inappropri"}),c.jsx("li",{children:"Maintenir la confidentialit de leurs identifiants"}),c.jsx("li",{children:"Utiliser le service de manire responsable"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Proprit intellectuelle"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Contenu gnr :"}),c.jsx("p",{children:"Le contenu cr via HERBBIE appartient  l'utilisateur qui l'a gnr. L'utilisateur peut :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Tlcharger et utiliser ses crations  des fins personnelles"}),c.jsx("li",{children:"Partager ses crations dans un cadre familial ou ducatif"}),c.jsx("li",{children:"Modifier ses propres crations"})]}),c.jsx("h4",{children:"Plateforme HERBBIE :"}),c.jsx("p",{children:"Tous les lments de la plateforme (interface, algorithmes, design, etc.) restent la proprit exclusive de HERBBIE."}),c.jsx("h4",{children:"Contenu tiers :"}),c.jsx("p",{children:"Certains lments peuvent tre soumis  des licences tierces (polices, images, sons). L'utilisation doit respecter ces licences."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Limitation de responsabilit"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'efforce de fournir un service de qualit, mais ne peut garantir :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"La disponibilit permanente du service (maintenance, pannes)"}),c.jsx("li",{children:"L'absence totale de bugs ou erreurs"}),c.jsx("li",{children:"L'adquation du contenu gnr  tous les besoins"}),c.jsx("li",{children:"La scurit absolue contre les cyberattaques"})]}),c.jsx("p",{children:"En aucun cas HERBBIE ne pourra tre tenu responsable :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Des dommages indirects ou conscutifs  l'utilisation du service"}),c.jsx("li",{children:"De la perte de donnes ou de crations"}),c.jsx("li",{children:"Des interruptions de service non planifies"}),c.jsx("li",{children:"Des actes de tiers (piratage, virus, etc.)"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Rsiliation"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Par l'utilisateur :"}),c.jsx("p",{children:"L'utilisateur peut rsilier son compte  tout moment via les paramtres de son profil."}),c.jsx("h4",{children:"Par HERBBIE :"}),c.jsx("p",{children:"HERBBIE peut suspendre ou rsilier un compte en cas de :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Violation grave des conditions d'utilisation"}),c.jsx("li",{children:"Utilisation abusive du service"}),c.jsx("li",{children:"Non-paiement des services premium"}),c.jsx("li",{children:"Inactivit prolonge (plus de 2 ans)"})]}),c.jsx("h4",{children:"Consquences de la rsiliation :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Accs immdiat au service suspendu"}),c.jsx("li",{children:"Conservation des donnes pendant 30 jours"}),c.jsx("li",{children:"Suppression dfinitive aprs ce dlai"}),c.jsx("li",{children:"Possibilit de ractivation sous conditions"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"8. Modification des conditions"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE se rserve le droit de modifier ces conditions d'utilisation  tout moment."}),c.jsx("p",{children:"Les modifications seront notifies aux utilisateurs par email ou notification sur le site."}),c.jsx("p",{children:"La poursuite de l'utilisation du service aprs notification vaut acceptation des nouvelles conditions."}),c.jsx("p",{children:"En cas de dsaccord avec les modifications, l'utilisateur peut rsilier son compte."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"9. Droit applicable"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Ces conditions d'utilisation sont rgies par le droit franais."}),c.jsx("p",{children:"Tout litige relatif  l'interprtation ou l'excution de ces conditions sera soumis aux tribunaux comptents du ressort de Paris."}),c.jsx("p",{children:"En cas de traduction de ces conditions, seule la version franaise fait foi."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"10. Contact"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Pour toute question relative  ces conditions d'utilisation :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Email :"})," ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Objet :"}),' "Question CGU"']}),c.jsxs("li",{children:[c.jsx("strong",{children:"Dlai de rponse :"})," 48-72 heures"]})]})]})]})]}),A=(j,R)=>{s(B=>({...B,[j]:R}))},x=async j=>{j.preventDefault(),a(!0),d("");try{const R=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:i.firstName,lastName:i.lastName,email:i.email,subject:i.subject,message:i.message})});if(!R.ok){const z=await R.json();throw new Error(z.detail||"Erreur lors de l'envoi du message")}const B=await R.json();d(" Votre message a t envoy avec succs ! Nous vous rpondrons dans les plus brefs dlais."),s({firstName:"",lastName:"",email:"",subject:"",message:""})}catch(R){console.error("Erreur lors de l'envoi du message:",R),d(` Erreur lors de l'envoi : ${R.message}`)}finally{a(!1)}},w=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Contact"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:" Formulaire de contact"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Vous pouvez nous contacter directement en remplissant le formulaire ci-dessous :"}),c.jsxs("form",{className:"contact-form",onSubmit:x,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-firstName",children:"Prnom *"}),c.jsx("input",{type:"text",id:"contact-firstName",value:i.firstName,onChange:j=>A("firstName",j.target.value),required:!0,placeholder:"Votre prnom"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-lastName",children:"Nom *"}),c.jsx("input",{type:"text",id:"contact-lastName",value:i.lastName,onChange:j=>A("lastName",j.target.value),required:!0,placeholder:"Votre nom de famille"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-email",children:"Email *"}),c.jsx(Ma,{value:i.email,onChange:j=>A("email",j.target.value),placeholder:"votre.email@exemple.com",required:!0,user:null,onEmailSubmit:()=>{}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-subject",children:"Sujet *"}),c.jsxs("select",{id:"contact-subject",value:i.subject,onChange:j=>A("subject",j.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Choisissez un sujet"}),c.jsx("option",{value:"Support technique",children:" Support technique"}),c.jsx("option",{value:"Question gnrale",children:" Question gnrale"}),c.jsx("option",{value:"Partenariat",children:" Partenariat"}),c.jsx("option",{value:"Signaler un bug",children:" Signaler un bug"}),c.jsx("option",{value:"Suggestion",children:" Suggestion"}),c.jsx("option",{value:"Autre",children:" Autre"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-message",children:"Message *"}),c.jsx("textarea",{id:"contact-message",value:i.message,onChange:j=>A("message",j.target.value),required:!0,placeholder:"Dcrivez votre demande en dtail...",rows:"5"})]}),l&&c.jsx("div",{className:`submit-message ${l.includes("")?"success":"error"}`,children:l}),c.jsx("button",{type:"submit",className:"contact-submit-btn",disabled:o,children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner"}),"Envoi en cours..."]}):c.jsx(c.Fragment,{children:" Envoyer l'email"})})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Informations de contact"}),c.jsxs("div",{className:"info-block personal-data",children:[c.jsxs("p",{children:[c.jsx("strong",{children:" Email :"})," ",c.jsx("a",{href:"mailto:contact@herbbie.com",className:"email-protected",children:c.jsx("span",{className:"personal-data",children:"contact@herbbie.com"})})]}),c.jsxs("p",{children:[c.jsx("strong",{children:" Nom de l'entreprise :"})," ",c.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]})]})]})]});return c.jsx(ze.div,{className:"legal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:e,children:c.jsxs(ze.div,{className:"legal-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:j=>j.stopPropagation(),children:[c.jsxs("div",{className:"legal-header",children:[c.jsx("h1",{children:" Informations Lgales"}),c.jsx("button",{className:"close-button",onClick:e,children:""})]}),c.jsxs("div",{className:"legal-body",children:[c.jsx("nav",{className:"legal-nav",children:f.map(j=>c.jsxs("button",{className:`nav-item ${n===j.id?"active":""}`,onClick:()=>r(j.id),children:[c.jsx("span",{className:"nav-icon",children:j.icon}),c.jsx("span",{className:"nav-title",children:j.title})]},j.id))}),c.jsx("div",{className:"legal-main",children:c.jsx(Ti,{mode:"wait",children:c.jsx(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:p()},n)})})]})]})})};const Jk=()=>{const[e,t]=O.useState([]);return O.useEffect(()=>{const n=r=>{const i=Math.random()*899.5+.5;setTimeout(()=>{const s={id:Date.now()+r,index:r,duration:Math.random()*2+1};t(o=>[...o,s]),setTimeout(()=>{t(o=>o.filter(a=>a.id!==s.id))},s.duration*1e3),n(r)},i*1e3)};for(let r=0;r<10;r++)setTimeout(()=>n(r),Math.random()*5e3);return()=>{t([])}},[]),c.jsx("section",{className:"shooting-stars-container",children:e.map(n=>c.jsx("span",{className:`shooting-star star-${n.index+1}`,style:{animationDuration:`${n.duration}s`}},n.id))})},ru=(e,t,n="")=>{const r={comptine:{animaux:["Les Amis de la Fort","La Danse des Animaux","Mes Amis les Animaux","Le Grand Bal des Animaux"],nature:["Les Fleurs Magiques","L'Aventure dans les Bois","Les Secrets du Jardin","La Fte de la Nature"],transport:["Le Train des Copains","L'Aventure en Voiture","Le Voyage Fantastique","En Route pour l'Aventure"],couleurs:["L'Arc-en-Ciel Magique","Le Monde des Couleurs","La Danse des Couleurs","Mon Joli Tableau"],famille:["Ma Famille d'Amour","Tous Ensemble","Les Clins de Famille","Mon Coeur de Famille"],default:["Ma Jolie Comptine","Chanson du Bonheur","Ma Petite Mlodie","Comptine Rigolote"]},histoire:{aventure:["La Grande Aventure","Voyage Extraordinaire","Mission Secrte","L'Aventure Fantastique"],animaux:["Les Amis de la Fort","L'Histoire des Petits Animaux","Mes Copains Animaux","La Famille Animaux"],magie:["Le Monde Magique","L'Aventure Enchante","Le Secret Magique","La Fe et ses Amis"],amiti:["Les Meilleurs Amis","Une Belle Amiti","Copains pour la Vie","L'Amiti Magique"],espace:["Voyage dans les toiles","L'Aventure Spatiale","Les Amis de l'Espace","Mission sur la Lune"],default:["Mon Belle Histoire","Conte Merveilleux","Histoire Fantastique","Rcit d'Aventure"]},coloriage:{animaux:["Mes Amis Animaux","Zoo Rigolo","Famille Animaux","Copains de la Fort"],licorne:["Licorne Magique","Princesse Licorne","Pays des Licornes","Licorne Arc-en-Ciel"],dinosaures:["Dino Rigolo","Mes Amis Dinosaures","Parc des Dinosaures","T-Rex et ses Copains"],nature:["Jardin Fleuri","Fort Enchante","Promenade Nature","Fleurs et Papillons"],espace:["Voyage Spatial","Plantes Rigolotes","Astronaute en Mission","toiles et Fuses"],vhicules:["Mes Voitures","Garage Rigolo","Course Automobile","Train et Avions"],default:["Mon Coloriage","Dessin Rigolo","Art Cratif","Belle Image"]},animation:{aventure:["Mon Dessin Anim","Animation Magique","Film d'Aventure","Cinma Fantastique"],animaux:["Mes Amis Anims","Zoo en Mouvement","Aventures Animales","Cirque des Animaux"],magie:["Monde Enchant","Magie en Mouvement","Film de Fe","Animation Magique"],espace:["Voyage Anim","Aventure Spatiale","Film de l'Espace","Mission Animation"],nature:["Fort Anime","Jardin en Mouvement","Nature Vivante","Fleurs Dansantes"],default:["Mon Film IA","Dessin Anim IA","Animation Crative","Film Personnalis"]}},i=r[e]||r.histoire,s=i[t]||i.default||i.aventure,o=Math.floor(Math.random()*s.length);return s[o]};function Xk(e,t=600){const n=e.split(new RegExp("(?<=[.?!])\\s+")),r=[];let i="";for(const s of n)(i+s).length>t?(r.push(i.trim()),i=s+" "):i+=s+" ";return i.trim()&&r.push(i.trim()),r}function Qk(){const[e,t]=O.useState("animation"),[n,r]=O.useState(null),[i,s]=O.useState(""),[o,a]=O.useState(!0),[l,d]=O.useState(""),[f,p]=O.useState(""),[g,m]=O.useState(null),[N,S]=O.useState(""),[A,x]=O.useState(null),[w,j]=O.useState(""),[R,B]=O.useState(!1),[z,F]=O.useState(null);O.useState(!1);const[D,W]=O.useState(!1),[ee,T]=O.useState(!1),[E,G]=O.useState(null),[V,ae]=O.useState(""),[ie,oe]=O.useState(null),[H,ne]=O.useState(null),[te,xe]=O.useState(!0),[L,q]=O.useState(null),[U,J]=O.useState(null),[re,ce]=O.useState(null),[fe,pe]=O.useState(""),[Ee,Ce]=O.useState(null),[Re,Te]=O.useState(!1),[Ge,ve]=O.useState("demo"),[Y,Qe]=O.useState(!1),[Ue,Le]=O.useState(null);O.useState("user"),O.useState(!1);const[me,Ne]=O.useState("Gnrer"),[ke,We]=O.useState(!1),[rt,at]=O.useState("mentions"),ft=Ve=>new Promise(ht=>setTimeout(ht,Ve)),vt=async(Ve,{intervalMs:ht=5e3,maxAttempts:_e=240}={})=>{let Fe=0;for(;Fe<_e;){try{const lt=await fetch(`${vi}/status/${Ve}`);if(lt.ok){const ct=await lt.json();if((ct==null?void 0:ct.type)==="result"){const He=ct.data;if((He==null?void 0:He.status)==="completed"){if(He!=null&&He.clips&&He.clips.length>0)return He;console.warn(' Animation "completed" mais pas de clips, continuer le polling...')}if((He==null?void 0:He.status)==="failed")throw console.error(" Gnration choue:",He==null?void 0:He.error_message),new Error((He==null?void 0:He.error_message)||"Gnration choue")}}else console.warn(` Erreur HTTP ${lt.status} lors du polling`)}catch(lt){console.warn(" Erreur polling (tentative continue):",(lt==null?void 0:lt.message)||lt)}Fe+=1,await ft(ht)}throw console.error(" Timeout de gnration de l'animation aprs",_e,"tentatives"),new Error("Timeout de gnration de l'animation")},[At,Xe]=O.useState(null),{user:Ye,loading:Me}=J0(),[Cn,pt]=O.useState(!1),[Lr,Ct]=O.useState(!1);O.useMemo(()=>e==="audio"&&(z!=null&&z.content)?Xk(z.content):[],[z,e]);const[$t,qr]=O.useState(0);O.useEffect(()=>{window.location.hash==="#historique"&&pt(!0);const Ve=()=>{pt(window.location.hash==="#historique")};return window.addEventListener("hashchange",Ve),()=>window.removeEventListener("hashchange",Ve)},[]),O.useEffect(()=>{(async()=>{if(Ye){const ht=await ck(Ye.id,Ye.email);Ct(ht),xt(ht)}else Ct(!1),xt(!1)})()},[Ye,e]),O.useEffect(()=>{r(null),s(""),a(!0),d(""),p(""),m(null),S(""),x(null),G(null),ae(""),oe(null),xe(null),q(null),J(null),ce(null),pe(""),F(null),ne(null),Ce(null),Xe(null)},[e]);const xt=Ve=>{if(Ve)Ne("Gnrer Gratuitement");else{const ht=c4(e);Ne(`Acheter pour ${ht.display}`)}},qi=async()=>{if(!Ye){alert("Vous devez tre connect pour gnrer du contenu");return}if(Lr){zt();return}if((await uk(e,Ye.id,Ye.email)).hasPermission)zt();else{Le(e),Qe(!0);return}},zt=async()=>{var Ve,ht;if(B(!0),F(null),!Me)try{let _e=null;if(e==="rhyme"){const ct={theme:n==="custom"?i:n,custom_request:w,language:"fr"},He=await fetch(`${Bn}/generate_rhyme/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ct)});if(!He.ok)throw new Error(`Erreur HTTP : ${He.status}`);_e=await He.json()}else if(e==="audio"){const ct={story_type:g==="custom"?N:g,voice:A,custom_request:w},He=await fetch(`${Bn}/generate_audio_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ct)});if(!He.ok)throw new Error(`Erreur HTTP : ${He.status}`);_e=await He.json()}else if(e==="coloring")if(ie){const ct=new FormData;ct.append("file",ie);const He=await fetch(`${Bn}/upload_photo_for_coloring/`,{method:"POST",body:ct});if(!He.ok)throw new Error(`Erreur upload : ${He.status}`);const Tt={photo_path:(await He.json()).file_path,with_colored_model:te},Ft=await fetch(`${Bn}/convert_photo_to_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Tt)});if(!Ft.ok)throw new Error(`Erreur conversion : ${Ft.status}`);const cr=await Ft.json();ne(cr),_e=cr}else{const ct={theme:E,with_colored_model:te};E==="custom"&&V.trim()&&(ct.custom_prompt=V.trim());const He=await fetch(`${Bn}/generate_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ct)});if(!He.ok)throw new Error(`Erreur HTTP : ${He.status}`);const wt=await He.json();ne(wt),_e=wt}else if(e==="animation"){let ct;if(L&&L!=="custom"?ct={magie:"Une histoire magique avec des cratures fantastiques dans un monde enchant",aventure:"Une grande aventure pleine de dcouvertes et de rebondissements",animaux:"Une histoire mettant en scne des animaux adorables et leurs aventures",espace:"Un voyage extraordinaire  travers les toiles et les plantes",nature:"Une exploration merveilleuse de la nature et de ses secrets",amiti:"Une belle histoire d'amiti et de solidarit",famille:"Une histoire touchante sur les liens familiaux"}[L]||`Une belle histoire sur le thme ${L}`:ct=fe,!ct||ct.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractres");const Tt={theme:{magie:"magic",aventure:"adventure",animaux:"animals",espace:"space",nature:"nature",amiti:"friendship",famille:"friendship"}[L]||L||"adventure",duration:Number(U),custom_prompt:ct||void 0},Ft=Ge==="demo"?`${vi}/generate-quick?theme=${encodeURIComponent(E)}&duration=${U}`:`${vi}/generate`,cr=Ge==="demo"?{method:"POST",headers:{Accept:"application/json"}}:{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"},body:JSON.stringify(Tt)},Pn=await fetch(Ft,cr);if(!Pn.ok){const Xt=await Pn.text();throw console.error("Erreur API Animation:",Pn.status,Xt),new Error(`Erreur HTTP ${Pn.status}: ${Xt}`)}const Dt=await Pn.json();let jt=Dt;const Nn=Dt==null?void 0:Dt.task_id,dr=(Dt==null?void 0:Dt.status)==="completed"&&((Dt==null?void 0:Dt.final_video_url)||(((Ve=Dt==null?void 0:Dt.clips)==null?void 0:Ve.length)||0)>0);Nn&&!dr&&(jt=await vt(Nn)),(jt==null?void 0:jt.status)==="completed"&&(jt!=null&&jt.clips)&&jt.clips.length>0?(Ce(jt),Te(!0),_e=jt):console.warn(" Animation non complte ou sans clips, viewer non ouvert. Status:",jt==null?void 0:jt.status,"Clips:",(ht=jt==null?void 0:jt.clips)==null?void 0:ht.length)}if(F(_e),qr(0),e==="rhyme"&&_e.task_id){Ui(_e.task_id);return}let Fe;e==="rhyme"?_e.title&&!_e.title.includes("gnre")?Fe=_e.title+(_e.has_music?" ":""):Fe=ru("comptine",n==="custom"?"default":n)+(_e.has_music?" ":""):e==="audio"?_e.title&&!_e.title.includes("gnre")?Fe=_e.title:Fe=ru("histoire",g==="custom"?"default":g):e==="coloring"?Fe=(_e==null?void 0:_e.title)||ru("coloriage",E):e==="animation"&&(Fe=(_e==null?void 0:_e.title)||ru("animation",L||"aventure")),Xe(Fe);let lt;e==="coloring"?lt={id:Date.now().toString(),type:e,title:Fe,createdAt:new Date().toISOString(),content:_e?`${_e.total_images} coloriage(s) gnr(s)`:"Coloriage gnr",theme:E,images:(_e==null?void 0:_e.images)||[],metadata:(_e==null?void 0:_e.metadata)||{}}:e==="animation"?lt={id:Date.now().toString(),type:e,title:Fe,createdAt:new Date().toISOString(),content:_e?`Animation de ${_e.actual_duration}s avec ${_e.total_scenes} scnes`:"Animation gnre",theme:L,clips:(_e==null?void 0:_e.clips)||[],animation_data:_e||{}}:lt={id:Date.now().toString(),type:e,title:Fe,createdAt:new Date().toISOString(),content:(_e==null?void 0:_e.content)||_e||"Contenu gnr...",audio_path:(_e==null?void 0:_e.audio_path)||null};try{await _g({type:e,title:Fe,data:lt})}catch(ct){console.error("Erreur lors de l'enregistrement dans l'historique:",ct)}B(!1)}catch(_e){console.error(" Erreur de gnration :",_e),alert(` Erreur lors de la gnration : ${_e.message}

 Conseil : Vrifiez que les cls API sont configures dans le fichier .env du serveur.`),B(!1)}},Cr=Ve=>{var ht,_e,Fe,lt,ct;Ve.action==="showStory"?(F({title:Ve.title,content:Ve.content||((ht=Ve.data)==null?void 0:ht.content)||"",type:Ve.type}),W(!0)):Ve.action==="showColoring"?(ne({success:!0,theme:Ve.theme||((_e=Ve.data)==null?void 0:_e.theme)||"coloriage",images:Ve.images||((Fe=Ve.data)==null?void 0:Fe.images)||[],total_images:(Ve.images||((lt=Ve.data)==null?void 0:lt.images)||[]).length,metadata:Ve.metadata||((ct=Ve.data)==null?void 0:ct.metadata)||{}}),T(!0)):(pt(!1),window.location.hash="")},Ur=()=>{pt(!1),window.location.hash=""},Yt=()=>{if(e==="rhyme"){if(!n||n==="custom"&&!i.trim())return!1}else if(e==="audio"){if(!g||g==="custom"&&!N.trim())return!1}else if(e==="coloring"){if(!E&&!ie||E==="custom"&&!V.trim())return!1}else if(e==="animation"&&(!L&&!fe.trim()||L==="custom"&&!fe.trim()||L==="custom"&&fe.trim().length<10))return!1;return!0},nt={hidden:{opacity:0,height:0,marginBottom:0},visible:{opacity:1,height:"auto",marginBottom:"1rem"},exit:{opacity:0,height:0,marginBottom:0}},Nt=async(Ve,ht)=>{if(!ht||typeof ht!="string"){console.error(" Contenu invalide ou manquant pour le PDF.");return}const _e=new jsPDF({orientation:"p",unit:"mm",format:"a4"}),Fe=40,lt=210,ct=297,He=12,wt=Math.floor((ct-Fe*2)/He),Tt=13;let Ft=Ve;ht.startsWith("**")&&ht.includes("**",2)&&(Ft=ht.split("**")[1].trim(),ht=ht.replace(`**${Ft}**`,"").trim());const Dt=await(Xt=>new Promise(Un=>{const hr=new Image;hr.crossOrigin="anonymous",hr.src=Xt,hr.onload=()=>Un(hr)}))("/assets/fond_etoiles.png"),jt=_e.splitTextToSize(ht,150);let Nn=0;for(let Xt=0;Nn<jt.length;Xt++){Xt>0&&_e.addPage(),_e.addImage(Dt,"PNG",0,0,lt,ct,void 0,"FAST"),Xt===0&&(_e.setFont("courier","bold"),_e.setFontSize(22),_e.setTextColor(110,50,230),_e.text(Ft,lt/2,Fe-20,{align:"center"})),_e.setFont("courier","bold"),_e.setFontSize(Tt),_e.setTextColor(25,25,112);for(let Un=0;Un<wt&&Nn<jt.length;Un++,Nn++){const hr=Fe+Un*He;_e.text(jt[Nn],lt/2,hr,{align:"center"})}_e.setFontSize(11),_e.setTextColor(106,90,205),_e.text(`Page ${Xt+1}`,lt-15,290,{align:"right"})}const dr=Ft.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");_e.save(`${dr}.pdf`)},Ui=async(Ve,ht=40,_e=5e3)=>{let Fe=0;const lt=async()=>{try{const He=await(await fetch(`${Bn}/check_task_status/${Ve}`)).json();if(He.status==="completed"&&He.songs&&He.songs.length>0)return F(wt=>{const Tt={...wt,songs:He.songs,has_music:!0,service:"suno"},Ft=wt.title||ru("comptine",n==="custom"?"default":n)+" ";Xe(Ft);const cr={id:Date.now().toString(),type:"rhyme",title:Ft,createdAt:new Date().toISOString(),content:wt.content||wt.rhyme||"Comptine gnre",songs:He.songs};return _g({type:"rhyme",title:Ft,data:cr}).catch(Pn=>{console.error("Erreur lors de l'enregistrement dans l'historique:",Pn)}),Tt}),B(!1),!0;if(He.status==="failed")return console.error(" La gnration musicale Suno a chou:",He.error),F(wt=>({...wt,music_error:He.error,has_music:!1})),B(!1),!0;if(He.status!=="processing"){if(Fe>=ht-1)return console.warn(" Timeout atteint pour la gnration musicale Suno"),B(!1),alert(" La gnration de musique prend plus de temps que prvu. Veuillez vrifier votre historique dans quelques minutes."),!0}return Fe++,setTimeout(lt,_e),!1}catch(ct){return console.error(" Erreur lors du polling Suno:",ct),Fe++,Fe<ht&&setTimeout(lt,_e),!1}};await lt()};return c.jsxs("div",{className:"app-container",children:[c.jsx(BP,{isLoggedIn:!!Ye,onOpenHistory:()=>pt(!0)}),c.jsx(Jk,{}),c.jsx("main",{className:"main-content",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs(ze.div,{className:"creation-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["          ",c.jsx(GP,{contentType:e,setContentType:t}),"          ",c.jsx(Ti,{mode:"wait",children:e==="rhyme"?c.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{width:"100%"},children:c.jsx(YP,{selectedRhyme:n,setSelectedRhyme:r,customRhyme:i,setCustomRhyme:s})},"rhyme-selector"):e==="audio"?c.jsx(ze.div,{variants:nt,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(QP,{selectedAudioStory:g,setSelectedAudioStory:m,customAudioStory:N,setCustomAudioStory:S,selectedVoice:A,setSelectedVoice:x})},"audio-story-selector"):e==="coloring"?c.jsxs(ze.div,{variants:nt,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:["                ",c.jsx(ok,{selectedTheme:E,setSelectedTheme:G,customColoringTheme:V,setCustomColoringTheme:ae,uploadedPhoto:ie,setUploadedPhoto:oe,withColoredModel:te,setWithColoredModel:xe})]},"coloring-selector"):e==="animation"?c.jsx(ze.div,{variants:nt,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(e8,{selectedTheme:L,setSelectedTheme:q,selectedDuration:U,setSelectedDuration:J,selectedStyle:re,setSelectedStyle:ce,customStory:fe,setCustomStory:pe,generationMode:Ge,setGenerationMode:ve})},"animation-selector"):null}),"          ",c.jsx(n8,{customRequest:w,setCustomRequest:j,stepNumber:e==="coloring"?4:3}),c.jsx(r8,{onGenerate:qi,isGenerating:R,isDisabled:!Yt(),contentType:e,buttonText:me})]}),c.jsx("div",{className:"preview-column",children:c.jsx(ze.div,{className:"preview-panel",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:c.jsx("div",{className:"preview-container",children:c.jsx("div",{className:`preview ${z?"":"empty"}`,children:c.jsx(Ti,{mode:"wait",children:R?c.jsxs(ze.div,{className:"generating-animation",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[c.jsxs("div",{className:"loading-dots",children:[c.jsx("div",{className:"dot"}),c.jsx("div",{className:"dot"}),c.jsx("div",{className:"dot"})]}),"      ",c.jsxs("p",{children:["        ",e==="rhyme"?"Votre comptine est en cours de cration...":e==="audio"?"Cration de l'histoire en cours...":e==="coloring"?"Cration de vos coloriages en cours...":e==="animation"?"Cration de votre dessin anim en cours...":"Gnration en cours..."]})]},"generating"):H&&e==="coloring"?c.jsxs(ze.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[c.jsx("button",{onClick:()=>T(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Ouvrir le coloriage"}),"      ",c.jsx("button",{onClick:()=>{if(H!=null&&H.images){const Ve=At||(E?`coloriages_${E}`:"coloriages");tg(H.images,Ve)}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger le coloriage"})]},"coloring-result"):z&&e==="rhyme"&&z.songs&&z.songs.length>0?c.jsx(ze.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsx("div",{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"0.8rem",padding:"1rem",overflowY:"auto"},children:z.songs&&z.songs.length>0&&c.jsxs(c.Fragment,{children:[z.songs.map((Ve,ht)=>c.jsxs("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",padding:"22px",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"14px"},children:[c.jsx("span",{style:{fontSize:"24px"},children:""}),c.jsx("h4",{style:{margin:0,fontSize:"15px",color:"#333",fontWeight:"600"},children:"Votre comptine est prte !"})]}),c.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",height:"60px",outline:"none"},src:Ve.audio_url,children:"Votre navigateur ne supporte pas l'lment audio."})]},Ve.id||ht)),c.jsx("button",{onClick:async()=>{if(z.songs&&z.songs.length>0){const Ve=z.songs[0];try{const _e=await(await fetch(Ve.audio_url)).blob(),Fe=window.URL.createObjectURL(_e),lt=document.createElement("a");lt.href=Fe,lt.download=`${At||"Comptine"}.mp3`,document.body.appendChild(lt),lt.click(),document.body.removeChild(lt),window.URL.revokeObjectURL(Fe)}catch{window.open(Ve.audio_url,"_blank")}}},style:{padding:"0.8rem 2rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"600",fontSize:"14px",marginTop:"0.8rem",boxShadow:"0 4px 12px rgba(107, 78, 255, 0.3)",transition:"all 0.3s ease"},onMouseOver:Ve=>Ve.target.style.transform="translateY(-2px)",onMouseOut:Ve=>Ve.target.style.transform="translateY(0)",children:" Tlcharger"})]})})},"rhyme-result"):c.jsxs(ze.div,{className:"preview-placeholder",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:["  ",!(z!=null&&z.content)&&!H&&c.jsxs("div",{className:"empty-preview",children:["    ",c.jsx("p",{children:e==="rhyme"?"Votre comptine apparatra ici":e==="audio"?"Votre histoire apparatra ici":e==="coloring"?"Votre coloriage apparatra ici":"Votre dessin anim apparatra ici"})]}),e!=="rhyme"&&(z==null?void 0:z.audio_path)&&c.jsx("div",{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:c.jsx("audio",{controls:!0,style:{width:"100%",maxWidth:"360px"},src:`${Bn}/${z.audio_path}`,download:z.audio_path.split("/").pop()})}),e==="audio"&&(z==null?void 0:z.content)&&c.jsxs("div",{style:{height:"300px",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[c.jsx("button",{onClick:()=>W(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Ouvrir lhistoire"}),c.jsx("button",{onClick:()=>Nt(z.title,z.content),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger l'histoire"})]})]},"placeholder")})})})})})]})}),c.jsx(Ti,{children:Cn&&c.jsx(ze.div,{className:"history-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:Ur,children:c.jsx(ik,{onClose:Ur,onSelect:Cr})})}),D&&c.jsx(sk,{title:z.title,content:z.content,onClose:()=>W(!1)}),"    ",ee&&c.jsx(lk,{coloringResult:H,selectedTheme:E,onClose:()=>T(!1)}),Re&&c.jsx(t8,{animationResult:Ee,onClose:()=>Te(!1)}),Y&&c.jsx(Gk,{contentType:Ue,userId:Ye==null?void 0:Ye.id,userEmail:Ye==null?void 0:Ye.email,onSuccess:Ve=>{Qe(!1),setTimeout(()=>{zt()},500)},onCancel:()=>{Qe(!1)}}),c.jsx(Kk,{onLegalClick:Ve=>{We(!0),at(Ve)}}),c.jsx(Ti,{children:ke&&c.jsx(Yk,{onClose:()=>We(!1),initialSection:rt})})]})}const D5=["fredagathe77@gmail.com","admin@herbbie.com"],iu="herbbie_admin_session",vo={initAuthListener(e){const t=()=>{const r=this.getStoredSession();r&&r.user?e({user:r.user,isAdmin:r.isAdmin,session:r}):e(null)};t();const n=r=>{r.key===iu&&t()};return window.addEventListener("storage",n),{unsubscribe:()=>{window.removeEventListener("storage",n)}}},async signIn(e,t){try{if(!D5.includes(e))throw new Error("Accs refus. Seuls les administrateurs peuvent accder  ce panneau.");const n={id:"admin-"+Date.now(),email:e,user_metadata:{full_name:e==="fredagathe77@gmail.com"?"Admin Principal":"Administrateur"}},r={user:n,access_token:"admin-token-"+Date.now(),token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:n,isAdmin:!0,session:r}),{user:n,session:r,isAdmin:!0}}catch(n){throw console.error("Erreur de connexion:",n),n}},async signOut(){try{localStorage.removeItem(iu)}catch(e){throw console.error("Erreur de dconnexion:",e),e}},async getCurrentUser(){try{const e=this.getStoredSession();return e&&e.user?{user:e.user,isAdmin:e.isAdmin}:null}catch(e){return console.error("Erreur lors de la rcupration de l'utilisateur:",e),null}},async checkUserIsAdmin(e){try{return!e||!e.email?!1:D5.includes(e.email)}catch(t){return console.error("Erreur lors de la vrification du rle admin:",t),!1}},async authenticateWithToken(e){try{if(!e||!e.includes("admin"))return console.warn("Token invalide"),!1;const t={id:"admin-auto-"+Date.now(),email:"admin@herbbie.com",user_metadata:{full_name:"Administrateur Auto"}},n={user:t,access_token:e,token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:t,isAdmin:!0,session:n}),{user:t,isAdmin:!0,session:n}}catch(t){return console.error("Erreur authentification automatique:",t),!1}},async getCurrentSession(){try{return this.getStoredSession()}catch(e){return console.error("Erreur lors de la rcupration de la session:",e),null}},storeSession(e){try{localStorage.setItem(iu,JSON.stringify(e))}catch(t){console.error("Erreur lors du stockage de la session:",t)}},getStoredSession(){try{const e=localStorage.getItem(iu);if(e){const t=JSON.parse(e);if(t.session&&t.session.expires_at>Date.now())return t;localStorage.removeItem(iu)}}catch(e){console.error("Erreur lors de la rcupration de la session:",e)}return null}},A4=O.createContext(),L4=()=>{const e=O.useContext(A4);if(!e)throw new Error("useAuth doit tre utilis dans un AuthProvider");return e},Zk=({children:e})=>{const[t,n]=O.useState(null),[r,i]=O.useState(!1),[s,o]=O.useState(!0),[a,l]=O.useState(null);O.useEffect(()=>{let g;return(async()=>{try{const N=await vo.getCurrentSession();if(N!=null&&N.user){const S=await vo.checkUserIsAdmin(N.user);n(N.user),i(S),l(N)}}catch(N){console.error("Erreur lors de l'initialisation de l'authentification:",N)}finally{o(!1)}g=vo.initAuthListener(async N=>{N?(n(N.user),i(N.isAdmin),l(N.session)):(n(null),i(!1),l(null)),o(!1)})})(),()=>{g&&g.unsubscribe()}},[]);const p={user:t,isAdmin:r,loading:s,session:a,signIn:async(g,m)=>{o(!0);try{const N=await vo.signIn(g,m);return N&&(n(N.user),i(N.isAdmin),l(N.session)),N}catch(N){throw N}finally{o(!1)}},signOut:async()=>{o(!0);try{await vo.signOut(),n(null),i(!1),l(null)}catch(g){throw console.error("Erreur lors de la dconnexion:",g),g}finally{o(!1)}},authenticateWithToken:vo.authenticateWithToken.bind(vo),isAuthenticated:!!t&&r};return c.jsx(A4.Provider,{value:p,children:e})};const e7=()=>{const[e,t]=O.useState(""),[n,r]=O.useState(""),[i,s]=O.useState(""),[o,a]=O.useState(!1),{signIn:l}=L4(),d=async f=>{f.preventDefault(),s(""),a(!0);try{await l(e,n),$d(e.trim())}catch(p){s(p.message||"Erreur de connexion")}finally{a(!1)}};return c.jsx("div",{className:"login-container",children:c.jsxs(ze.div,{className:"login-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"login-header",children:[c.jsx("div",{className:"login-logo",children:c.jsxs("div",{className:"login-logo-text",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("span",{children:"Administration"})]})}),c.jsx("h2",{children:"Connexion Administrateur"}),c.jsx("p",{children:"Accs rserv aux administrateurs HERBBIE"})]}),c.jsxs("form",{className:"login-form",onSubmit:d,children:[i&&c.jsxs(ze.div,{className:"login-error",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:[c.jsx("span",{children:""})," ",i]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"email",children:"Email administrateur"}),c.jsx(Ma,{value:e,onChange:f=>t(f.target.value),placeholder:"admin@herbbie.com",required:!0,disabled:o,user:null,onEmailSubmit:()=>{}})]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"password",children:"Mot de passe"}),c.jsx("input",{type:"password",id:"password",value:n,onChange:f=>r(f.target.value),placeholder:"",required:!0,disabled:o,autoComplete:"current-password"})]}),c.jsx("button",{type:"submit",className:"login-button",disabled:o||!e||!n,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"login-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),c.jsx("div",{className:"login-footer",children:c.jsx("p",{children:" Accs scuris - Seuls les administrateurs peuvent se connecter"})})]})})},ng="/api/features",t7=async()=>{try{const e=await fetch(ng,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok)return await e.json();throw console.error("Erreur lors de la rcupration des fonctionnalits:",e.statusText),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors de la rcupration des fonctionnalits:",e),e}},n7=async(e,t)=>{try{const n=await fetch(`${ng}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:t})});if(n.ok)return(await n.json()).features;throw console.error("Erreur lors de la mise  jour:",n.statusText),new Error(`Erreur API: ${n.status}`)}catch(n){throw console.error("Erreur lors de la mise  jour de la fonctionnalit:",n),n}},r7=async()=>{try{const e=await fetch(`${ng}/reset`,{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok)return(await e.json()).features;throw console.error("Erreur lors de la rinitialisation:",e.statusText),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors de la rinitialisation:",e),e}},i7=async()=>{try{return await t7()}catch(e){throw console.error("Erreur lors du chargement des fonctionnalits:",e),e}},s7=async(e,t)=>{try{const n=await n7(e,t);return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:n})),n}catch(n){throw console.error("Erreur lors de la mise  jour de la fonctionnalit:",n),n}},o7=async()=>{try{const e=await r7();return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:e})),e}catch(e){throw console.error("Erreur lors de la rinitialisation des fonctionnalits:",e),e}};const a7=()=>{const[e,t]=O.useState({}),[n,r]=O.useState(!0),[i,s]=O.useState(null);O.useEffect(()=>{o()},[]);const o=async()=>{try{r(!0);const g=await i7();t(g)}catch(g){console.error("Erreur lors du chargement des fonctionnalits:",g),d("Erreur lors du chargement des fonctionnalits","error")}finally{r(!1)}},a=async g=>{var m,N;try{const S=((m=e[g])==null?void 0:m.enabled)||!1,A=await s7(g,!S);if(A){t(A),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:A}));const x=S?"dsactive":"active";d(`Fonctionnalit ${(N=e[g])==null?void 0:N.name} ${x}`,"success")}else d("Erreur lors de la mise  jour","error")}catch(S){console.error("Erreur lors de la mise  jour:",S),d("Erreur lors de la mise  jour","error")}},l=async()=>{try{const g=await o7();g?(t(g),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:g})),d("Toutes les fonctionnalits ont t rinitialises","success")):d("Erreur lors de la rinitialisation","error")}catch(g){console.error("Erreur lors de la rinitialisation:",g),d("Erreur lors de la rinitialisation","error")}},d=(g,m="info")=>{s({message:g,type:m}),setTimeout(()=>s(null),3e3)},f=()=>Object.values(e).filter(g=>g.enabled).length,p=()=>Object.keys(e).length;return n?c.jsxs("div",{className:"admin-loading",children:[c.jsx("div",{className:"admin-loading-spinner"}),c.jsx("span",{children:"Chargement des fonctionnalits..."})]}):c.jsxs("div",{className:"feature-manager-container",children:[i&&c.jsx(ze.div,{className:`admin-notification ${i.type} show`,initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},children:i.message}),c.jsxs("div",{className:"feature-manager-header",children:[c.jsxs("div",{className:"feature-manager-stats",children:[c.jsxs("div",{className:"feature-stat",children:[c.jsx("span",{className:"feature-stat-number",children:f()}),c.jsx("span",{className:"feature-stat-label",children:"Actives"})]}),c.jsxs("div",{className:"feature-stat",children:[c.jsx("span",{className:"feature-stat-number",children:p()}),c.jsx("span",{className:"feature-stat-label",children:"Total"})]}),c.jsxs("div",{className:"feature-stat",children:[c.jsxs("span",{className:"feature-stat-number",children:[Math.round(f()/p()*100),"%"]}),c.jsx("span",{className:"feature-stat-label",children:"Taux d'activation"})]})]}),c.jsx("div",{className:"feature-manager-actions",children:c.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:l,children:" Rinitialiser"})})]}),c.jsx("div",{className:"feature-manager-grid",children:Object.entries(e).map(([g,m])=>c.jsxs(ze.div,{className:"feature-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[c.jsxs("div",{className:"feature-card-header",children:[c.jsxs("div",{className:"feature-info",children:[c.jsx("span",{className:"feature-icon",children:l7(g)}),c.jsxs("div",{className:"feature-details",children:[c.jsx("h3",{className:"feature-name",children:m.name}),c.jsx("span",{className:`feature-status ${m.enabled?"enabled":"disabled"}`,children:m.enabled?"Active":"Dsactive"})]})]}),c.jsxs("label",{className:"feature-toggle",children:[c.jsx("input",{type:"checkbox",checked:m.enabled,onChange:()=>a(g)}),c.jsx("span",{className:"toggle-slider"})]})]}),c.jsx("div",{className:"feature-card-body",children:c.jsx("p",{className:"feature-description",children:u7(g)})})]},g))}),c.jsx("div",{className:"feature-manager-info",children:c.jsxs("div",{className:"admin-card",children:[c.jsx("div",{className:"admin-card-header",children:c.jsx("h3",{children:" Informations"})}),c.jsxs("div",{className:"admin-card-body",children:[c.jsx("p",{children:"Les fonctionnalits actives sont visibles pour tous les utilisateurs de HERBBIE. Les modifications sont appliques immdiatement."}),c.jsxs("ul",{className:"feature-info-list",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Dessin anim"})," : Gnration de vidos animes"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Bande dessine"})," : Cration de BD avec bulles"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Coloriage"})," : Pages de coloriage  imprimer"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Histoire"})," : Contes audio avec narration"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Comptine"})," : Chansons avec musique gnre"]})]})]})]})})]})},l7=e=>({animation:"",comic:"",coloring:"",audio:"",rhyme:""})[e]||"",u7=e=>({animation:"Gnration de dessins anims personnaliss avec IA",comic:"Cration de bandes dessines avec bulles de dialogue",coloring:"Pages de coloriage  imprimer pour les enfants",audio:"Histoires audio avec narration automatique",rhyme:"Comptines musicales avec paroles et mlodies"})[e]||"Fonctionnalit de cration de contenu",c7=()=>{const{user:e,isAdmin:t,loading:n,signOut:r}=L4(),[i]=nj(),s=d0(),o=i.get("auth"),[a,l]=Rt.useState(!1);return O.useEffect(()=>{o==="auto"?(l(!0),window.history.replaceState({},"","/admin")):!o&&!a&&localStorage.removeItem("herbbie_admin_session")},[o]),O.useEffect(()=>{const f=document.title;return document.title="HERBBIE - Administration",()=>{document.title=f}},[]),O.useEffect(()=>{const f=()=>{l(!1),localStorage.removeItem("herbbie_admin_session"),document.title="HERBBIE"};return window.addEventListener("beforeunload",f),()=>{window.removeEventListener("beforeunload",f)}},[]),n&&!a?c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:c.jsx("div",{children:"Chargement..."})}):a||e&&t?c.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"40px 20px"},children:c.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[c.jsx("h1",{style:{color:"white",textAlign:"center",marginBottom:"40px",fontSize:"2.5em"},children:" Gestion des Fonctionnalits Herbbie"}),c.jsx(a7,{}),c.jsxs("div",{style:{marginTop:"40px",textAlign:"center",display:"flex",gap:"15px",justifyContent:"center",flexWrap:"wrap"},children:[c.jsx("a",{href:"/",onClick:f=>{f.preventDefault(),localStorage.removeItem("herbbie_admin_session"),window.location.href="/"},style:{color:"white",textDecoration:"none",padding:"12px 30px",background:"rgba(255,255,255,0.2)",borderRadius:"25px",display:"inline-block",transition:"all 0.3s ease",cursor:"pointer"},children:" Retour  Herbbie"}),c.jsx("button",{onClick:async()=>{await r(),localStorage.removeItem("herbbie_admin_session"),s("/admin")},style:{color:"white",border:"none",padding:"12px 30px",background:"rgba(255,0,0,0.3)",borderRadius:"25px",cursor:"pointer",fontSize:"16px",fontWeight:"500",transition:"all 0.3s ease"},children:" Dconnexion"})]})]})}):c.jsx(e7,{})},d7=()=>c.jsx(Zk,{children:c.jsx(c7,{})});const h7=()=>{const[e,t]=O.useState(""),[n,r]=O.useState(""),[i,s]=O.useState(""),[o,a]=O.useState(!1),[l,d]=O.useState(!1),[f,p]=O.useState(!1),[g,m]=O.useState(!1);O.useEffect(()=>{let S,A;return(async()=>{await new Promise(R=>setTimeout(R,500));const{data:{session:w}}=await yn.auth.getSession();if(w){p(!0);return}S=setTimeout(async()=>{const{data:{session:R}}=await yn.auth.getSession();R||m(!0)},15e3);const{data:{subscription:j}}=yn.auth.onAuthStateChange(async(R,B)=>{(R==="PASSWORD_RECOVERY"||R==="SIGNED_IN"||R==="INITIAL_SESSION")&&B&&(p(!0),m(!1),S&&clearTimeout(S))});A=j})(),()=>{S&&clearTimeout(S),A&&A.unsubscribe()}},[]);const N=async S=>{if(S.preventDefault(),s(""),d(!0),e.length<6){s("Le mot de passe doit contenir au moins 6 caractres"),d(!1);return}if(e!==n){s("Les mots de passe ne correspondent pas"),d(!1);return}try{const{error:A}=await yn.auth.updateUser({password:e});A?s(A.message):(a(!0),setTimeout(()=>{window.location.href="/"},3e3))}catch{s("Une erreur est survenue lors de la mise  jour du mot de passe")}d(!1)};return o?c.jsx("div",{className:"reset-password-page",children:c.jsx(ze.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:c.jsxs("div",{className:"success-message",children:[c.jsx("div",{className:"success-icon",children:""}),c.jsx("h2",{children:"Mot de passe mis  jour !"}),c.jsx("p",{children:"Votre mot de passe a t chang avec succs."}),c.jsx("p",{children:"Vous serez redirig vers la page d'accueil dans quelques secondes..."})]})})}):g?c.jsx("div",{className:"reset-password-page",children:c.jsxs(ze.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Erreur de lien"})]}),c.jsxs("div",{className:"error-message",children:[c.jsx("div",{className:"error-icon",children:""}),c.jsx("h3",{children:"Lien de rinitialisation invalide"}),c.jsx("p",{children:"Ce lien de rinitialisation de mot de passe n'est pas valide ou a expir."}),c.jsx("p",{children:"Veuillez demander un nouveau lien de rinitialisation."})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})}):f?c.jsx("div",{className:"reset-password-page",children:c.jsxs(ze.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Rinitialiser votre mot de passe"})]}),c.jsxs("form",{onSubmit:N,className:"reset-password-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"newPassword",children:"Nouveau mot de passe"}),c.jsx("input",{type:"password",id:"newPassword",value:e,onChange:S=>t(S.target.value),placeholder:"Entrez votre nouveau mot de passe",required:!0,minLength:"6"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),c.jsx("input",{type:"password",id:"confirmPassword",value:n,onChange:S=>r(S.target.value),placeholder:"Confirmez votre nouveau mot de passe",required:!0,minLength:"6"})]}),i&&c.jsx("div",{className:"error-message",children:i}),c.jsx("button",{type:"submit",className:"reset-button",disabled:l,children:l?"Mise  jour...":"Mettre  jour le mot de passe"})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})}):c.jsx("div",{className:"reset-password-page",children:c.jsxs(ze.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Rinitialiser votre mot de passe"})]}),c.jsxs("div",{className:"waiting-message",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Vrification de votre lien de rinitialisation..."}),c.jsx("p",{className:"waiting-subtitle",children:"Si cette page ne se met pas  jour automatiquement, assurez-vous d'avoir cliqu sur le lien complet dans votre email."})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})})};Hp.createRoot(document.getElementById("root")).render(c.jsx(Rt.StrictMode,{children:c.jsx(XN,{children:c.jsxs(LN,{children:[c.jsx(Od,{path:"/",element:c.jsx(Qk,{})}),c.jsx(Od,{path:"/admin",element:c.jsx(d7,{})}),c.jsx(Od,{path:"/reset-password",element:c.jsx(h7,{})})]})})}));export{Et as _};
