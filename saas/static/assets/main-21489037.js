import{_ as zc}from"./preload-helper-8235fac6.js";import{g as y1,s as St}from"./supabaseClient-54ee3b77.js";import{deleteCreation as N4,addCreation as Rg}from"./creations-4ab0b6d9.js";var U5={exports:{}},qh={},V5={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=Symbol.for("react.element"),C4=Symbol.for("react.portal"),A4=Symbol.for("react.fragment"),k4=Symbol.for("react.strict_mode"),P4=Symbol.for("react.profiler"),L4=Symbol.for("react.provider"),_4=Symbol.for("react.context"),E4=Symbol.for("react.forward_ref"),T4=Symbol.for("react.suspense"),F4=Symbol.for("react.memo"),I4=Symbol.for("react.lazy"),Dg=Symbol.iterator;function R4(e){return e===null||typeof e!="object"?null:(e=Dg&&e[Dg]||e["@@iterator"],typeof e=="function"?e:null)}var $5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H5=Object.assign,W5={};function Sl(e,t,n){this.props=e,this.context=t,this.refs=W5,this.updater=n||$5}Sl.prototype.isReactComponent={};Sl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function G5(){}G5.prototype=Sl.prototype;function x1(e,t,n){this.props=e,this.context=t,this.refs=W5,this.updater=n||$5}var w1=x1.prototype=new G5;w1.constructor=x1;H5(w1,Sl.prototype);w1.isPureReactComponent=!0;var Mg=Array.isArray,K5=Object.prototype.hasOwnProperty,b1={current:null},Y5={key:!0,ref:!0,__self:!0,__source:!0};function J5(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)K5.call(t,r)&&!Y5.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:du,type:e,key:s,ref:o,props:i,_owner:b1.current}}function D4(e,t){return{$$typeof:du,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function S1(e){return typeof e=="object"&&e!==null&&e.$$typeof===du}function M4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Og=/\/+/g;function Jf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?M4(""+e.key):t.toString(36)}function Dd(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case du:case C4:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Jf(o,0):r,Mg(i)?(n="",e!=null&&(n=e.replace(Og,"$&/")+"/"),Dd(i,t,n,"",function(d){return d})):i!=null&&(S1(i)&&(i=D4(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Og,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Mg(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Jf(s,a);o+=Dd(s,t,n,l,i)}else if(l=R4(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Jf(s,a++),o+=Dd(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ad(e,t,n){if(e==null)return e;var r=[],i=0;return Dd(e,r,"","",function(s){return t.call(n,s,i++)}),r}function O4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pr={current:null},Md={transition:null},B4={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:Md,ReactCurrentOwner:b1};function X5(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:ad,forEach:function(e,t,n){ad(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ad(e,function(){t++}),t},toArray:function(e){return ad(e,function(t){return t})||[]},only:function(e){if(!S1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gt.Component=Sl;gt.Fragment=A4;gt.Profiler=P4;gt.PureComponent=x1;gt.StrictMode=k4;gt.Suspense=T4;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B4;gt.act=X5;gt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=H5({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=b1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)K5.call(t,l)&&!Y5.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:du,type:e.type,key:i,ref:s,props:r,_owner:o}};gt.createContext=function(e){return e={$$typeof:_4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:L4,_context:e},e.Consumer=e};gt.createElement=J5;gt.createFactory=function(e){var t=J5.bind(null,e);return t.type=e,t};gt.createRef=function(){return{current:null}};gt.forwardRef=function(e){return{$$typeof:E4,render:e}};gt.isValidElement=S1;gt.lazy=function(e){return{$$typeof:I4,_payload:{_status:-1,_result:e},_init:O4}};gt.memo=function(e,t){return{$$typeof:F4,type:e,compare:t===void 0?null:t}};gt.startTransition=function(e){var t=Md.transition;Md.transition={};try{e()}finally{Md.transition=t}};gt.unstable_act=X5;gt.useCallback=function(e,t){return pr.current.useCallback(e,t)};gt.useContext=function(e){return pr.current.useContext(e)};gt.useDebugValue=function(){};gt.useDeferredValue=function(e){return pr.current.useDeferredValue(e)};gt.useEffect=function(e,t){return pr.current.useEffect(e,t)};gt.useId=function(){return pr.current.useId()};gt.useImperativeHandle=function(e,t,n){return pr.current.useImperativeHandle(e,t,n)};gt.useInsertionEffect=function(e,t){return pr.current.useInsertionEffect(e,t)};gt.useLayoutEffect=function(e,t){return pr.current.useLayoutEffect(e,t)};gt.useMemo=function(e,t){return pr.current.useMemo(e,t)};gt.useReducer=function(e,t,n){return pr.current.useReducer(e,t,n)};gt.useRef=function(e){return pr.current.useRef(e)};gt.useState=function(e){return pr.current.useState(e)};gt.useSyncExternalStore=function(e,t,n){return pr.current.useSyncExternalStore(e,t,n)};gt.useTransition=function(){return pr.current.useTransition()};gt.version="18.3.1";V5.exports=gt;var T=V5.exports;const Rt=y1(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z4=T,q4=Symbol.for("react.element"),U4=Symbol.for("react.fragment"),V4=Object.prototype.hasOwnProperty,$4=z4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H4={key:!0,ref:!0,__self:!0,__source:!0};function Q5(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)V4.call(t,r)&&!H4.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:q4,type:e,key:s,ref:o,props:i,_owner:$4.current}}qh.Fragment=U4;qh.jsx=Q5;qh.jsxs=Q5;U5.exports=qh;var c=U5.exports,Gp={},Z5={exports:{}},Kr={},ey={exports:{}},ty={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,re){var J=H.length;H.push(re);e:for(;0<J;){var me=J-1>>>1,A=H[me];if(0<i(A,re))H[me]=re,H[J]=A,J=me;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var re=H[0],J=H.pop();if(J!==re){H[0]=J;e:for(var me=0,A=H.length,O=A>>>1;me<O;){var z=2*(me+1)-1,G=H[z],Z=z+1,se=H[Z];if(0>i(G,J))Z<A&&0>i(se,G)?(H[me]=se,H[Z]=J,me=Z):(H[me]=G,H[z]=J,me=z);else if(Z<A&&0>i(se,J))H[me]=se,H[Z]=J,me=Z;else break e}}return re}function i(H,re){var J=H.sortIndex-re.sortIndex;return J!==0?J:H.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],d=[],f=1,p=null,g=3,m=!1,S=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(H){for(var re=n(d);re!==null;){if(re.callback===null)r(d);else if(re.startTime<=H)r(d),re.sortIndex=re.expirationTime,t(l,re);else break;re=n(d)}}function R(H){if(b=!1,N(H),!S)if(n(l)!==null)S=!0,ce(q);else{var re=n(d);re!==null&&le(R,re.startTime-H)}}function q(H,re){S=!1,b&&(b=!1,x(F),F=-1),m=!0;var J=g;try{for(N(re),p=n(l);p!==null&&(!(p.expirationTime>re)||H&&!I());){var me=p.callback;if(typeof me=="function"){p.callback=null,g=p.priorityLevel;var A=me(p.expirationTime<=re);re=e.unstable_now(),typeof A=="function"?p.callback=A:p===n(l)&&r(l),N(re)}else r(l);p=n(l)}if(p!==null)var O=!0;else{var z=n(d);z!==null&&le(R,z.startTime-re),O=!1}return O}finally{p=null,g=J,m=!1}}var W=!1,B=null,F=-1,Q=5,X=-1;function I(){return!(e.unstable_now()-X<Q)}function L(){if(B!==null){var H=e.unstable_now();X=H;var re=!0;try{re=B(!0,H)}finally{re?Y():(W=!1,B=null)}}else W=!1}var Y;if(typeof w=="function")Y=function(){w(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ae=V.port2;V.port1.onmessage=L,Y=function(){ae.postMessage(null)}}else Y=function(){C(L,0)};function ce(H){B=H,W||(W=!0,Y())}function le(H,re){F=C(function(){H(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){S||m||(S=!0,ce(q))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(H){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var J=g;g=re;try{return H()}finally{g=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,re){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=g;g=H;try{return re()}finally{g=J}},e.unstable_scheduleCallback=function(H,re,J){var me=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?me+J:me):J=me,H){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=J+A,H={id:f++,callback:re,priorityLevel:H,startTime:J,expirationTime:A,sortIndex:-1},J>me?(H.sortIndex=J,t(d,H),n(l)===null&&H===n(d)&&(b?(x(F),F=-1):b=!0,le(R,J-me))):(H.sortIndex=A,t(l,H),S||m||(S=!0,ce(q))),H},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(H){var re=g;return function(){var J=g;g=re;try{return H.apply(this,arguments)}finally{g=J}}}})(ty);ey.exports=ty;var W4=ey.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G4=T,Wr=W4;function Ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ny=new Set,qc={};function na(e,t){dl(e,t),dl(e+"Capture",t)}function dl(e,t){for(qc[e]=t,e=0;e<t.length;e++)ny.add(t[e])}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kp=Object.prototype.hasOwnProperty,K4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bg={},zg={};function Y4(e){return Kp.call(zg,e)?!0:Kp.call(Bg,e)?!1:K4.test(e)?zg[e]=!0:(Bg[e]=!0,!1)}function J4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function X4(e,t,n,r){if(t===null||typeof t>"u"||J4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Hn[e]=new mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Hn[t]=new mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Hn[e]=new mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Hn[e]=new mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Hn[e]=new mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Hn[e]=new mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Hn[e]=new mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Hn[e]=new mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Hn[e]=new mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var j1=/[\-:]([a-z])/g;function N1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(j1,N1);Hn[t]=new mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(j1,N1);Hn[t]=new mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(j1,N1);Hn[t]=new mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Hn[e]=new mr(e,1,!1,e.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Hn[e]=new mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function C1(e,t,n,r){var i=Hn.hasOwnProperty(t)?Hn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(X4(t,n,i,r)&&(n=null),r||i===null?Y4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Es=G4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ld=Symbol.for("react.element"),Da=Symbol.for("react.portal"),Ma=Symbol.for("react.fragment"),A1=Symbol.for("react.strict_mode"),Yp=Symbol.for("react.profiler"),ry=Symbol.for("react.provider"),iy=Symbol.for("react.context"),k1=Symbol.for("react.forward_ref"),Jp=Symbol.for("react.suspense"),Xp=Symbol.for("react.suspense_list"),P1=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),sy=Symbol.for("react.offscreen"),qg=Symbol.iterator;function ic(e){return e===null||typeof e!="object"?null:(e=qg&&e[qg]||e["@@iterator"],typeof e=="function"?e:null)}var nn=Object.assign,Xf;function xc(e){if(Xf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xf=t&&t[1]||""}return`
`+Xf+e}var Qf=!1;function Zf(e,t){if(!e||Qf)return"";Qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xc(e):""}function Q4(e){switch(e.tag){case 5:return xc(e.type);case 16:return xc("Lazy");case 13:return xc("Suspense");case 19:return xc("SuspenseList");case 0:case 2:case 15:return e=Zf(e.type,!1),e;case 11:return e=Zf(e.type.render,!1),e;case 1:return e=Zf(e.type,!0),e;default:return""}}function Qp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ma:return"Fragment";case Da:return"Portal";case Yp:return"Profiler";case A1:return"StrictMode";case Jp:return"Suspense";case Xp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iy:return(e.displayName||"Context")+".Consumer";case ry:return(e._context.displayName||"Context")+".Provider";case k1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P1:return t=e.displayName||null,t!==null?t:Qp(e.type)||"Memo";case Qs:t=e._payload,e=e._init;try{return Qp(e(t))}catch{}}return null}function Z4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qp(t);case 8:return t===A1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function po(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eS(e){var t=oy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cd(e){e._valueTracker||(e._valueTracker=eS(e))}function ay(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function oh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zp(e,t){var n=t.checked;return nn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ug(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=po(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ly(e,t){t=t.checked,t!=null&&C1(e,"checked",t,!1)}function em(e,t){ly(e,t);var n=po(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tm(e,t.type,n):t.hasOwnProperty("defaultValue")&&tm(e,t.type,po(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tm(e,t,n){(t!=="number"||oh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wc=Array.isArray;function tl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+po(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function nm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return nn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $g(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ee(92));if(wc(n)){if(1<n.length)throw Error(Ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:po(n)}}function cy(e,t){var n=po(t.value),r=po(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ud,dy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ud=ud||document.createElement("div"),ud.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ud.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Uc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tS=["Webkit","ms","Moz","O"];Object.keys(Ac).forEach(function(e){tS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ac[t]=Ac[e]})});function hy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ac.hasOwnProperty(e)&&Ac[e]?(""+t).trim():t+"px"}function fy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var nS=nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function im(e,t){if(t){if(nS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ee(62))}}function sm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var om=null;function L1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var am=null,nl=null,rl=null;function Wg(e){if(e=pu(e)){if(typeof am!="function")throw Error(Ee(280));var t=e.stateNode;t&&(t=Wh(t),am(e.stateNode,e.type,t))}}function py(e){nl?rl?rl.push(e):rl=[e]:nl=e}function my(){if(nl){var e=nl,t=rl;if(rl=nl=null,Wg(e),t)for(e=0;e<t.length;e++)Wg(t[e])}}function gy(e,t){return e(t)}function vy(){}var ep=!1;function yy(e,t,n){if(ep)return e(t,n);ep=!0;try{return gy(e,t,n)}finally{ep=!1,(nl!==null||rl!==null)&&(vy(),my())}}function Vc(e,t){var n=e.stateNode;if(n===null)return null;var r=Wh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ee(231,t,typeof n));return n}var lm=!1;if(Cs)try{var sc={};Object.defineProperty(sc,"passive",{get:function(){lm=!0}}),window.addEventListener("test",sc,sc),window.removeEventListener("test",sc,sc)}catch{lm=!1}function rS(e,t,n,r,i,s,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var kc=!1,ah=null,lh=!1,cm=null,iS={onError:function(e){kc=!0,ah=e}};function sS(e,t,n,r,i,s,o,a,l){kc=!1,ah=null,rS.apply(iS,arguments)}function oS(e,t,n,r,i,s,o,a,l){if(sS.apply(this,arguments),kc){if(kc){var d=ah;kc=!1,ah=null}else throw Error(Ee(198));lh||(lh=!0,cm=d)}}function ra(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gg(e){if(ra(e)!==e)throw Error(Ee(188))}function aS(e){var t=e.alternate;if(!t){if(t=ra(e),t===null)throw Error(Ee(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Gg(i),e;if(s===r)return Gg(i),t;s=s.sibling}throw Error(Ee(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ee(189))}}if(n.alternate!==r)throw Error(Ee(190))}if(n.tag!==3)throw Error(Ee(188));return n.stateNode.current===n?e:t}function wy(e){return e=aS(e),e!==null?by(e):null}function by(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=by(e);if(t!==null)return t;e=e.sibling}return null}var Sy=Wr.unstable_scheduleCallback,Kg=Wr.unstable_cancelCallback,lS=Wr.unstable_shouldYield,cS=Wr.unstable_requestPaint,gn=Wr.unstable_now,uS=Wr.unstable_getCurrentPriorityLevel,_1=Wr.unstable_ImmediatePriority,jy=Wr.unstable_UserBlockingPriority,ch=Wr.unstable_NormalPriority,dS=Wr.unstable_LowPriority,Ny=Wr.unstable_IdlePriority,Uh=null,Ji=null;function hS(e){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(Uh,e,void 0,(e.current.flags&128)===128)}catch{}}var Ei=Math.clz32?Math.clz32:mS,fS=Math.log,pS=Math.LN2;function mS(e){return e>>>=0,e===0?32:31-(fS(e)/pS|0)|0}var dd=64,hd=4194304;function bc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=bc(a):(s&=o,s!==0&&(r=bc(s)))}else o=n&~i,o!==0?r=bc(o):s!==0&&(r=bc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ei(t),i=1<<n,r|=e[n],t&=~i;return r}function gS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ei(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=gS(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function um(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cy(){var e=dd;return dd<<=1,!(dd&4194240)&&(dd=64),e}function tp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ei(t),e[t]=n}function yS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ei(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function E1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ei(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ft=0;function Ay(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ky,T1,Py,Ly,_y,dm=!1,fd=[],so=null,oo=null,ao=null,$c=new Map,Hc=new Map,eo=[],xS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yg(e,t){switch(e){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":$c.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(t.pointerId)}}function oc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=pu(t),t!==null&&T1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function wS(e,t,n,r,i){switch(t){case"focusin":return so=oc(so,e,t,n,r,i),!0;case"dragenter":return oo=oc(oo,e,t,n,r,i),!0;case"mouseover":return ao=oc(ao,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return $c.set(s,oc($c.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Hc.set(s,oc(Hc.get(s)||null,e,t,n,r,i)),!0}return!1}function Ey(e){var t=Vo(e.target);if(t!==null){var n=ra(t);if(n!==null){if(t=n.tag,t===13){if(t=xy(n),t!==null){e.blockedOn=t,_y(e.priority,function(){Py(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Od(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);om=r,n.target.dispatchEvent(r),om=null}else return t=pu(n),t!==null&&T1(t),e.blockedOn=n,!1;t.shift()}return!0}function Jg(e,t,n){Od(e)&&n.delete(t)}function bS(){dm=!1,so!==null&&Od(so)&&(so=null),oo!==null&&Od(oo)&&(oo=null),ao!==null&&Od(ao)&&(ao=null),$c.forEach(Jg),Hc.forEach(Jg)}function ac(e,t){e.blockedOn===t&&(e.blockedOn=null,dm||(dm=!0,Wr.unstable_scheduleCallback(Wr.unstable_NormalPriority,bS)))}function Wc(e){function t(i){return ac(i,e)}if(0<fd.length){ac(fd[0],e);for(var n=1;n<fd.length;n++){var r=fd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(so!==null&&ac(so,e),oo!==null&&ac(oo,e),ao!==null&&ac(ao,e),$c.forEach(t),Hc.forEach(t),n=0;n<eo.length;n++)r=eo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<eo.length&&(n=eo[0],n.blockedOn===null);)Ey(n),n.blockedOn===null&&eo.shift()}var il=Es.ReactCurrentBatchConfig,dh=!0;function SS(e,t,n,r){var i=Ft,s=il.transition;il.transition=null;try{Ft=1,F1(e,t,n,r)}finally{Ft=i,il.transition=s}}function jS(e,t,n,r){var i=Ft,s=il.transition;il.transition=null;try{Ft=4,F1(e,t,n,r)}finally{Ft=i,il.transition=s}}function F1(e,t,n,r){if(dh){var i=hm(e,t,n,r);if(i===null)dp(e,t,r,hh,n),Yg(e,r);else if(wS(i,e,t,n,r))r.stopPropagation();else if(Yg(e,r),t&4&&-1<xS.indexOf(e)){for(;i!==null;){var s=pu(i);if(s!==null&&ky(s),s=hm(e,t,n,r),s===null&&dp(e,t,r,hh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else dp(e,t,r,null,n)}}var hh=null;function hm(e,t,n,r){if(hh=null,e=L1(r),e=Vo(e),e!==null)if(t=ra(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hh=e,null}function Ty(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uS()){case _1:return 1;case jy:return 4;case ch:case dS:return 16;case Ny:return 536870912;default:return 16}default:return 16}}var no=null,I1=null,Bd=null;function Fy(){if(Bd)return Bd;var e,t=I1,n=t.length,r,i="value"in no?no.value:no.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Bd=i.slice(e,1<r?1-r:void 0)}function zd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function Xg(){return!1}function Yr(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pd:Xg,this.isPropagationStopped=Xg,this}return nn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),t}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R1=Yr(jl),fu=nn({},jl,{view:0,detail:0}),NS=Yr(fu),np,rp,lc,Vh=nn({},fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lc&&(lc&&e.type==="mousemove"?(np=e.screenX-lc.screenX,rp=e.screenY-lc.screenY):rp=np=0,lc=e),np)},movementY:function(e){return"movementY"in e?e.movementY:rp}}),Qg=Yr(Vh),CS=nn({},Vh,{dataTransfer:0}),AS=Yr(CS),kS=nn({},fu,{relatedTarget:0}),ip=Yr(kS),PS=nn({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),LS=Yr(PS),_S=nn({},jl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ES=Yr(_S),TS=nn({},jl,{data:0}),Zg=Yr(TS),FS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RS[e])?!!t[e]:!1}function D1(){return DS}var MS=nn({},fu,{key:function(e){if(e.key){var t=FS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D1,charCode:function(e){return e.type==="keypress"?zd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OS=Yr(MS),BS=nn({},Vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e2=Yr(BS),zS=nn({},fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D1}),qS=Yr(zS),US=nn({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),VS=Yr(US),$S=nn({},Vh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HS=Yr($S),WS=[9,13,27,32],M1=Cs&&"CompositionEvent"in window,Pc=null;Cs&&"documentMode"in document&&(Pc=document.documentMode);var GS=Cs&&"TextEvent"in window&&!Pc,Iy=Cs&&(!M1||Pc&&8<Pc&&11>=Pc),t2=String.fromCharCode(32),n2=!1;function Ry(e,t){switch(e){case"keyup":return WS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oa=!1;function KS(e,t){switch(e){case"compositionend":return Dy(t);case"keypress":return t.which!==32?null:(n2=!0,t2);case"textInput":return e=t.data,e===t2&&n2?null:e;default:return null}}function YS(e,t){if(Oa)return e==="compositionend"||!M1&&Ry(e,t)?(e=Fy(),Bd=I1=no=null,Oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Iy&&t.locale!=="ko"?null:t.data;default:return null}}var JS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JS[e.type]:t==="textarea"}function My(e,t,n,r){py(r),t=fh(t,"onChange"),0<t.length&&(n=new R1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Lc=null,Gc=null;function XS(e){Ky(e,0)}function $h(e){var t=qa(e);if(ay(t))return e}function QS(e,t){if(e==="change")return t}var Oy=!1;if(Cs){var sp;if(Cs){var op="oninput"in document;if(!op){var i2=document.createElement("div");i2.setAttribute("oninput","return;"),op=typeof i2.oninput=="function"}sp=op}else sp=!1;Oy=sp&&(!document.documentMode||9<document.documentMode)}function s2(){Lc&&(Lc.detachEvent("onpropertychange",By),Gc=Lc=null)}function By(e){if(e.propertyName==="value"&&$h(Gc)){var t=[];My(t,Gc,e,L1(e)),yy(XS,t)}}function ZS(e,t,n){e==="focusin"?(s2(),Lc=t,Gc=n,Lc.attachEvent("onpropertychange",By)):e==="focusout"&&s2()}function ej(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $h(Gc)}function tj(e,t){if(e==="click")return $h(t)}function nj(e,t){if(e==="input"||e==="change")return $h(t)}function rj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fi=typeof Object.is=="function"?Object.is:rj;function Kc(e,t){if(Fi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Kp.call(t,i)||!Fi(e[i],t[i]))return!1}return!0}function o2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function a2(e,t){var n=o2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=o2(n)}}function zy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qy(){for(var e=window,t=oh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oh(e.document)}return t}function O1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ij(e){var t=qy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zy(n.ownerDocument.documentElement,n)){if(r!==null&&O1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=a2(n,s);var o=a2(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sj=Cs&&"documentMode"in document&&11>=document.documentMode,Ba=null,fm=null,_c=null,pm=!1;function l2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pm||Ba==null||Ba!==oh(r)||(r=Ba,"selectionStart"in r&&O1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_c&&Kc(_c,r)||(_c=r,r=fh(fm,"onSelect"),0<r.length&&(t=new R1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ba)))}function md(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var za={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},ap={},Uy={};Cs&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Hh(e){if(ap[e])return ap[e];if(!za[e])return e;var t=za[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uy)return ap[e]=t[n];return e}var Vy=Hh("animationend"),$y=Hh("animationiteration"),Hy=Hh("animationstart"),Wy=Hh("transitionend"),Gy=new Map,c2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wo(e,t){Gy.set(e,t),na(t,[e])}for(var lp=0;lp<c2.length;lp++){var cp=c2[lp],oj=cp.toLowerCase(),aj=cp[0].toUpperCase()+cp.slice(1);wo(oj,"on"+aj)}wo(Vy,"onAnimationEnd");wo($y,"onAnimationIteration");wo(Hy,"onAnimationStart");wo("dblclick","onDoubleClick");wo("focusin","onFocus");wo("focusout","onBlur");wo(Wy,"onTransitionEnd");dl("onMouseEnter",["mouseout","mouseover"]);dl("onMouseLeave",["mouseout","mouseover"]);dl("onPointerEnter",["pointerout","pointerover"]);dl("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sc));function u2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,oS(r,t,void 0,e),e.currentTarget=null}function Ky(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;u2(i,a,d),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;u2(i,a,d),s=l}}}if(lh)throw e=cm,lh=!1,cm=null,e}function $t(e,t){var n=t[xm];n===void 0&&(n=t[xm]=new Set);var r=e+"__bubble";n.has(r)||(Yy(t,e,2,!1),n.add(r))}function up(e,t,n){var r=0;t&&(r|=4),Yy(n,e,r,t)}var gd="_reactListening"+Math.random().toString(36).slice(2);function Yc(e){if(!e[gd]){e[gd]=!0,ny.forEach(function(n){n!=="selectionchange"&&(lj.has(n)||up(n,!1,e),up(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gd]||(t[gd]=!0,up("selectionchange",!1,t))}}function Yy(e,t,n,r){switch(Ty(t)){case 1:var i=SS;break;case 4:i=jS;break;default:i=F1}n=i.bind(null,t,n,e),i=void 0,!lm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function dp(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Vo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}yy(function(){var d=s,f=L1(n),p=[];e:{var g=Gy.get(e);if(g!==void 0){var m=R1,S=e;switch(e){case"keypress":if(zd(n)===0)break e;case"keydown":case"keyup":m=OS;break;case"focusin":S="focus",m=ip;break;case"focusout":S="blur",m=ip;break;case"beforeblur":case"afterblur":m=ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=AS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qS;break;case Vy:case $y:case Hy:m=LS;break;case Wy:m=VS;break;case"scroll":m=NS;break;case"wheel":m=HS;break;case"copy":case"cut":case"paste":m=ES;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=e2}var b=(t&4)!==0,C=!b&&e==="scroll",x=b?g!==null?g+"Capture":null:g;b=[];for(var w=d,N;w!==null;){N=w;var R=N.stateNode;if(N.tag===5&&R!==null&&(N=R,x!==null&&(R=Vc(w,x),R!=null&&b.push(Jc(w,R,N)))),C)break;w=w.return}0<b.length&&(g=new m(g,S,null,n,f),p.push({event:g,listeners:b}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==om&&(S=n.relatedTarget||n.fromElement)&&(Vo(S)||S[As]))break e;if((m||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=d,S=S?Vo(S):null,S!==null&&(C=ra(S),S!==C||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=d),m!==S)){if(b=Qg,R="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(b=e2,R="onPointerLeave",x="onPointerEnter",w="pointer"),C=m==null?g:qa(m),N=S==null?g:qa(S),g=new b(R,w+"leave",m,n,f),g.target=C,g.relatedTarget=N,R=null,Vo(f)===d&&(b=new b(x,w+"enter",S,n,f),b.target=N,b.relatedTarget=C,R=b),C=R,m&&S)t:{for(b=m,x=S,w=0,N=b;N;N=_a(N))w++;for(N=0,R=x;R;R=_a(R))N++;for(;0<w-N;)b=_a(b),w--;for(;0<N-w;)x=_a(x),N--;for(;w--;){if(b===x||x!==null&&b===x.alternate)break t;b=_a(b),x=_a(x)}b=null}else b=null;m!==null&&d2(p,g,m,b,!1),S!==null&&C!==null&&d2(p,C,S,b,!0)}}e:{if(g=d?qa(d):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var q=QS;else if(r2(g))if(Oy)q=nj;else{q=ej;var W=ZS}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(q=tj);if(q&&(q=q(e,d))){My(p,q,n,f);break e}W&&W(e,g,d),e==="focusout"&&(W=g._wrapperState)&&W.controlled&&g.type==="number"&&tm(g,"number",g.value)}switch(W=d?qa(d):window,e){case"focusin":(r2(W)||W.contentEditable==="true")&&(Ba=W,fm=d,_c=null);break;case"focusout":_c=fm=Ba=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,l2(p,n,f);break;case"selectionchange":if(sj)break;case"keydown":case"keyup":l2(p,n,f)}var B;if(M1)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Oa?Ry(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Iy&&n.locale!=="ko"&&(Oa||F!=="onCompositionStart"?F==="onCompositionEnd"&&Oa&&(B=Fy()):(no=f,I1="value"in no?no.value:no.textContent,Oa=!0)),W=fh(d,F),0<W.length&&(F=new Zg(F,e,null,n,f),p.push({event:F,listeners:W}),B?F.data=B:(B=Dy(n),B!==null&&(F.data=B)))),(B=GS?KS(e,n):YS(e,n))&&(d=fh(d,"onBeforeInput"),0<d.length&&(f=new Zg("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=B))}Ky(p,t)})}function Jc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fh(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vc(e,n),s!=null&&r.unshift(Jc(e,s,i)),s=Vc(e,t),s!=null&&r.push(Jc(e,s,i))),e=e.return}return r}function _a(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function d2(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,i?(l=Vc(n,s),l!=null&&o.unshift(Jc(n,l,a))):i||(l=Vc(n,s),l!=null&&o.push(Jc(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var cj=/\r\n?/g,uj=/\u0000|\uFFFD/g;function h2(e){return(typeof e=="string"?e:""+e).replace(cj,`
`).replace(uj,"")}function vd(e,t,n){if(t=h2(t),h2(e)!==t&&n)throw Error(Ee(425))}function ph(){}var mm=null,gm=null;function vm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ym=typeof setTimeout=="function"?setTimeout:void 0,dj=typeof clearTimeout=="function"?clearTimeout:void 0,f2=typeof Promise=="function"?Promise:void 0,hj=typeof queueMicrotask=="function"?queueMicrotask:typeof f2<"u"?function(e){return f2.resolve(null).then(e).catch(fj)}:ym;function fj(e){setTimeout(function(){throw e})}function hp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Wc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wc(t)}function lo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function p2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nl=Math.random().toString(36).slice(2),Ki="__reactFiber$"+Nl,Xc="__reactProps$"+Nl,As="__reactContainer$"+Nl,xm="__reactEvents$"+Nl,pj="__reactListeners$"+Nl,mj="__reactHandles$"+Nl;function Vo(e){var t=e[Ki];if(t)return t;for(var n=e.parentNode;n;){if(t=n[As]||n[Ki]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=p2(e);e!==null;){if(n=e[Ki])return n;e=p2(e)}return t}e=n,n=e.parentNode}return null}function pu(e){return e=e[Ki]||e[As],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ee(33))}function Wh(e){return e[Xc]||null}var wm=[],Ua=-1;function bo(e){return{current:e}}function Wt(e){0>Ua||(e.current=wm[Ua],wm[Ua]=null,Ua--)}function Ut(e,t){Ua++,wm[Ua]=e.current,e.current=t}var mo={},or=bo(mo),Ar=bo(!1),Xo=mo;function hl(e,t){var n=e.type.contextTypes;if(!n)return mo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function kr(e){return e=e.childContextTypes,e!=null}function mh(){Wt(Ar),Wt(or)}function m2(e,t,n){if(or.current!==mo)throw Error(Ee(168));Ut(or,t),Ut(Ar,n)}function Jy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ee(108,Z4(e)||"Unknown",i));return nn({},n,r)}function gh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mo,Xo=or.current,Ut(or,e),Ut(Ar,Ar.current),!0}function g2(e,t,n){var r=e.stateNode;if(!r)throw Error(Ee(169));n?(e=Jy(e,t,Xo),r.__reactInternalMemoizedMergedChildContext=e,Wt(Ar),Wt(or),Ut(or,e)):Wt(Ar),Ut(Ar,n)}var ys=null,Gh=!1,fp=!1;function Xy(e){ys===null?ys=[e]:ys.push(e)}function gj(e){Gh=!0,Xy(e)}function So(){if(!fp&&ys!==null){fp=!0;var e=0,t=Ft;try{var n=ys;for(Ft=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ys=null,Gh=!1}catch(i){throw ys!==null&&(ys=ys.slice(e+1)),Sy(_1,So),i}finally{Ft=t,fp=!1}}return null}var Va=[],$a=0,vh=null,yh=0,di=[],hi=0,Qo=null,xs=1,ws="";function Mo(e,t){Va[$a++]=yh,Va[$a++]=vh,vh=e,yh=t}function Qy(e,t,n){di[hi++]=xs,di[hi++]=ws,di[hi++]=Qo,Qo=e;var r=xs;e=ws;var i=32-Ei(r)-1;r&=~(1<<i),n+=1;var s=32-Ei(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,xs=1<<32-Ei(t)+i|n<<i|r,ws=s+e}else xs=1<<s|n<<i|r,ws=e}function B1(e){e.return!==null&&(Mo(e,1),Qy(e,1,0))}function z1(e){for(;e===vh;)vh=Va[--$a],Va[$a]=null,yh=Va[--$a],Va[$a]=null;for(;e===Qo;)Qo=di[--hi],di[hi]=null,ws=di[--hi],di[hi]=null,xs=di[--hi],di[hi]=null}var $r=null,Ur=null,Jt=!1,_i=null;function Zy(e,t){var n=fi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function v2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$r=e,Ur=lo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$r=e,Ur=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qo!==null?{id:xs,overflow:ws}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$r=e,Ur=null,!0):!1;default:return!1}}function bm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sm(e){if(Jt){var t=Ur;if(t){var n=t;if(!v2(e,t)){if(bm(e))throw Error(Ee(418));t=lo(n.nextSibling);var r=$r;t&&v2(e,t)?Zy(r,n):(e.flags=e.flags&-4097|2,Jt=!1,$r=e)}}else{if(bm(e))throw Error(Ee(418));e.flags=e.flags&-4097|2,Jt=!1,$r=e}}}function y2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$r=e}function yd(e){if(e!==$r)return!1;if(!Jt)return y2(e),Jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vm(e.type,e.memoizedProps)),t&&(t=Ur)){if(bm(e))throw ex(),Error(Ee(418));for(;t;)Zy(e,t),t=lo(t.nextSibling)}if(y2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ur=lo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ur=null}}else Ur=$r?lo(e.stateNode.nextSibling):null;return!0}function ex(){for(var e=Ur;e;)e=lo(e.nextSibling)}function fl(){Ur=$r=null,Jt=!1}function q1(e){_i===null?_i=[e]:_i.push(e)}var vj=Es.ReactCurrentBatchConfig;function cc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ee(309));var r=n.stateNode}if(!r)throw Error(Ee(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ee(284));if(!n._owner)throw Error(Ee(290,e))}return e}function xd(e,t){throw e=Object.prototype.toString.call(t),Error(Ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function x2(e){var t=e._init;return t(e._payload)}function tx(e){function t(x,w){if(e){var N=x.deletions;N===null?(x.deletions=[w],x.flags|=16):N.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=fo(x,w),x.index=0,x.sibling=null,x}function s(x,w,N){return x.index=N,e?(N=x.alternate,N!==null?(N=N.index,N<w?(x.flags|=2,w):N):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,w,N,R){return w===null||w.tag!==6?(w=wp(N,x.mode,R),w.return=x,w):(w=i(w,N),w.return=x,w)}function l(x,w,N,R){var q=N.type;return q===Ma?f(x,w,N.props.children,R,N.key):w!==null&&(w.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Qs&&x2(q)===w.type)?(R=i(w,N.props),R.ref=cc(x,w,N),R.return=x,R):(R=Gd(N.type,N.key,N.props,null,x.mode,R),R.ref=cc(x,w,N),R.return=x,R)}function d(x,w,N,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=bp(N,x.mode,R),w.return=x,w):(w=i(w,N.children||[]),w.return=x,w)}function f(x,w,N,R,q){return w===null||w.tag!==7?(w=Ko(N,x.mode,R,q),w.return=x,w):(w=i(w,N),w.return=x,w)}function p(x,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=wp(""+w,x.mode,N),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ld:return N=Gd(w.type,w.key,w.props,null,x.mode,N),N.ref=cc(x,null,w),N.return=x,N;case Da:return w=bp(w,x.mode,N),w.return=x,w;case Qs:var R=w._init;return p(x,R(w._payload),N)}if(wc(w)||ic(w))return w=Ko(w,x.mode,N,null),w.return=x,w;xd(x,w)}return null}function g(x,w,N,R){var q=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return q!==null?null:a(x,w,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ld:return N.key===q?l(x,w,N,R):null;case Da:return N.key===q?d(x,w,N,R):null;case Qs:return q=N._init,g(x,w,q(N._payload),R)}if(wc(N)||ic(N))return q!==null?null:f(x,w,N,R,null);xd(x,N)}return null}function m(x,w,N,R,q){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(N)||null,a(w,x,""+R,q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ld:return x=x.get(R.key===null?N:R.key)||null,l(w,x,R,q);case Da:return x=x.get(R.key===null?N:R.key)||null,d(w,x,R,q);case Qs:var W=R._init;return m(x,w,N,W(R._payload),q)}if(wc(R)||ic(R))return x=x.get(N)||null,f(w,x,R,q,null);xd(w,R)}return null}function S(x,w,N,R){for(var q=null,W=null,B=w,F=w=0,Q=null;B!==null&&F<N.length;F++){B.index>F?(Q=B,B=null):Q=B.sibling;var X=g(x,B,N[F],R);if(X===null){B===null&&(B=Q);break}e&&B&&X.alternate===null&&t(x,B),w=s(X,w,F),W===null?q=X:W.sibling=X,W=X,B=Q}if(F===N.length)return n(x,B),Jt&&Mo(x,F),q;if(B===null){for(;F<N.length;F++)B=p(x,N[F],R),B!==null&&(w=s(B,w,F),W===null?q=B:W.sibling=B,W=B);return Jt&&Mo(x,F),q}for(B=r(x,B);F<N.length;F++)Q=m(B,x,F,N[F],R),Q!==null&&(e&&Q.alternate!==null&&B.delete(Q.key===null?F:Q.key),w=s(Q,w,F),W===null?q=Q:W.sibling=Q,W=Q);return e&&B.forEach(function(I){return t(x,I)}),Jt&&Mo(x,F),q}function b(x,w,N,R){var q=ic(N);if(typeof q!="function")throw Error(Ee(150));if(N=q.call(N),N==null)throw Error(Ee(151));for(var W=q=null,B=w,F=w=0,Q=null,X=N.next();B!==null&&!X.done;F++,X=N.next()){B.index>F?(Q=B,B=null):Q=B.sibling;var I=g(x,B,X.value,R);if(I===null){B===null&&(B=Q);break}e&&B&&I.alternate===null&&t(x,B),w=s(I,w,F),W===null?q=I:W.sibling=I,W=I,B=Q}if(X.done)return n(x,B),Jt&&Mo(x,F),q;if(B===null){for(;!X.done;F++,X=N.next())X=p(x,X.value,R),X!==null&&(w=s(X,w,F),W===null?q=X:W.sibling=X,W=X);return Jt&&Mo(x,F),q}for(B=r(x,B);!X.done;F++,X=N.next())X=m(B,x,F,X.value,R),X!==null&&(e&&X.alternate!==null&&B.delete(X.key===null?F:X.key),w=s(X,w,F),W===null?q=X:W.sibling=X,W=X);return e&&B.forEach(function(L){return t(x,L)}),Jt&&Mo(x,F),q}function C(x,w,N,R){if(typeof N=="object"&&N!==null&&N.type===Ma&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case ld:e:{for(var q=N.key,W=w;W!==null;){if(W.key===q){if(q=N.type,q===Ma){if(W.tag===7){n(x,W.sibling),w=i(W,N.props.children),w.return=x,x=w;break e}}else if(W.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Qs&&x2(q)===W.type){n(x,W.sibling),w=i(W,N.props),w.ref=cc(x,W,N),w.return=x,x=w;break e}n(x,W);break}else t(x,W);W=W.sibling}N.type===Ma?(w=Ko(N.props.children,x.mode,R,N.key),w.return=x,x=w):(R=Gd(N.type,N.key,N.props,null,x.mode,R),R.ref=cc(x,w,N),R.return=x,x=R)}return o(x);case Da:e:{for(W=N.key;w!==null;){if(w.key===W)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){n(x,w.sibling),w=i(w,N.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=bp(N,x.mode,R),w.return=x,x=w}return o(x);case Qs:return W=N._init,C(x,w,W(N._payload),R)}if(wc(N))return S(x,w,N,R);if(ic(N))return b(x,w,N,R);xd(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,N),w.return=x,x=w):(n(x,w),w=wp(N,x.mode,R),w.return=x,x=w),o(x)):n(x,w)}return C}var pl=tx(!0),nx=tx(!1),xh=bo(null),wh=null,Ha=null,U1=null;function V1(){U1=Ha=wh=null}function $1(e){var t=xh.current;Wt(xh),e._currentValue=t}function jm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sl(e,t){wh=e,U1=Ha=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Cr=!0),e.firstContext=null)}function gi(e){var t=e._currentValue;if(U1!==e)if(e={context:e,memoizedValue:t,next:null},Ha===null){if(wh===null)throw Error(Ee(308));Ha=e,wh.dependencies={lanes:0,firstContext:e}}else Ha=Ha.next=e;return t}var $o=null;function H1(e){$o===null?$o=[e]:$o.push(e)}function rx(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,H1(t)):(n.next=i.next,i.next=n),t.interleaved=n,ks(e,r)}function ks(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zs=!1;function W1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ix(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,At&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ks(e,n)}return i=r.interleaved,i===null?(t.next=t,H1(r)):(t.next=i.next,i.next=t),r.interleaved=t,ks(e,n)}function qd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,E1(e,n)}}function w2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bh(e,t,n,r){var i=e.updateQueue;Zs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?s=d:o.next=d,o=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,f=d=l=null,a=s;do{var g=a.lane,m=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=e,b=a;switch(g=t,m=n,b.tag){case 1:if(S=b.payload,typeof S=="function"){p=S.call(m,p,g);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=b.payload,g=typeof S=="function"?S.call(m,p,g):S,g==null)break e;p=nn({},p,g);break e;case 2:Zs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else m={eventTime:m,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=m,l=p):f=f.next=m,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(f===null&&(l=p),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ea|=o,e.lanes=o,e.memoizedState=p}}function b2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ee(191,i));i.call(r)}}}var mu={},Xi=bo(mu),Qc=bo(mu),Zc=bo(mu);function Ho(e){if(e===mu)throw Error(Ee(174));return e}function G1(e,t){switch(Ut(Zc,t),Ut(Qc,e),Ut(Xi,mu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rm(t,e)}Wt(Xi),Ut(Xi,t)}function ml(){Wt(Xi),Wt(Qc),Wt(Zc)}function sx(e){Ho(Zc.current);var t=Ho(Xi.current),n=rm(t,e.type);t!==n&&(Ut(Qc,e),Ut(Xi,n))}function K1(e){Qc.current===e&&(Wt(Xi),Wt(Qc))}var Qt=bo(0);function Sh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pp=[];function Y1(){for(var e=0;e<pp.length;e++)pp[e]._workInProgressVersionPrimary=null;pp.length=0}var Ud=Es.ReactCurrentDispatcher,mp=Es.ReactCurrentBatchConfig,Zo=0,en=null,Ln=null,In=null,jh=!1,Ec=!1,eu=0,yj=0;function Jn(){throw Error(Ee(321))}function J1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fi(e[n],t[n]))return!1;return!0}function X1(e,t,n,r,i,s){if(Zo=s,en=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ud.current=e===null||e.memoizedState===null?Sj:jj,e=n(r,i),Ec){s=0;do{if(Ec=!1,eu=0,25<=s)throw Error(Ee(301));s+=1,In=Ln=null,t.updateQueue=null,Ud.current=Nj,e=n(r,i)}while(Ec)}if(Ud.current=Nh,t=Ln!==null&&Ln.next!==null,Zo=0,In=Ln=en=null,jh=!1,t)throw Error(Ee(300));return e}function Q1(){var e=eu!==0;return eu=0,e}function Gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?en.memoizedState=In=e:In=In.next=e,In}function vi(){if(Ln===null){var e=en.alternate;e=e!==null?e.memoizedState:null}else e=Ln.next;var t=In===null?en.memoizedState:In.next;if(t!==null)In=t,Ln=e;else{if(e===null)throw Error(Ee(310));Ln=e,e={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},In===null?en.memoizedState=In=e:In=In.next=e}return In}function tu(e,t){return typeof t=="function"?t(e):t}function gp(e){var t=vi(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var r=Ln,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,d=s;do{var f=d.lane;if((Zo&f)===f)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,en.lanes|=f,ea|=f}d=d.next}while(d!==null&&d!==s);l===null?o=r:l.next=a,Fi(r,t.memoizedState)||(Cr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,en.lanes|=s,ea|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vp(e){var t=vi(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Fi(s,t.memoizedState)||(Cr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ox(){}function ax(e,t){var n=en,r=vi(),i=t(),s=!Fi(r.memoizedState,i);if(s&&(r.memoizedState=i,Cr=!0),r=r.queue,Z1(ux.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||In!==null&&In.memoizedState.tag&1){if(n.flags|=2048,nu(9,cx.bind(null,n,r,i,t),void 0,null),Dn===null)throw Error(Ee(349));Zo&30||lx(n,t,i)}return i}function lx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cx(e,t,n,r){t.value=n,t.getSnapshot=r,dx(t)&&hx(e)}function ux(e,t,n){return n(function(){dx(t)&&hx(e)})}function dx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fi(e,n)}catch{return!0}}function hx(e){var t=ks(e,1);t!==null&&Ti(t,e,1,-1)}function S2(e){var t=Gi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:e},t.queue=e,e=e.dispatch=bj.bind(null,en,e),[t.memoizedState,e]}function nu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fx(){return vi().memoizedState}function Vd(e,t,n,r){var i=Gi();en.flags|=e,i.memoizedState=nu(1|t,n,void 0,r===void 0?null:r)}function Kh(e,t,n,r){var i=vi();r=r===void 0?null:r;var s=void 0;if(Ln!==null){var o=Ln.memoizedState;if(s=o.destroy,r!==null&&J1(r,o.deps)){i.memoizedState=nu(t,n,s,r);return}}en.flags|=e,i.memoizedState=nu(1|t,n,s,r)}function j2(e,t){return Vd(8390656,8,e,t)}function Z1(e,t){return Kh(2048,8,e,t)}function px(e,t){return Kh(4,2,e,t)}function mx(e,t){return Kh(4,4,e,t)}function gx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vx(e,t,n){return n=n!=null?n.concat([e]):null,Kh(4,4,gx.bind(null,t,e),n)}function e0(){}function yx(e,t){var n=vi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&J1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xx(e,t){var n=vi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&J1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wx(e,t,n){return Zo&21?(Fi(n,t)||(n=Cy(),en.lanes|=n,ea|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Cr=!0),e.memoizedState=n)}function xj(e,t){var n=Ft;Ft=n!==0&&4>n?n:4,e(!0);var r=mp.transition;mp.transition={};try{e(!1),t()}finally{Ft=n,mp.transition=r}}function bx(){return vi().memoizedState}function wj(e,t,n){var r=ho(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sx(e))jx(t,n);else if(n=rx(e,t,n,r),n!==null){var i=fr();Ti(n,e,r,i),Nx(n,t,r)}}function bj(e,t,n){var r=ho(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sx(e))jx(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Fi(a,o)){var l=t.interleaved;l===null?(i.next=i,H1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=rx(e,t,i,r),n!==null&&(i=fr(),Ti(n,e,r,i),Nx(n,t,r))}}function Sx(e){var t=e.alternate;return e===en||t!==null&&t===en}function jx(e,t){Ec=jh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,E1(e,n)}}var Nh={readContext:gi,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},Sj={readContext:gi,useCallback:function(e,t){return Gi().memoizedState=[e,t===void 0?null:t],e},useContext:gi,useEffect:j2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vd(4194308,4,gx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vd(4,2,e,t)},useMemo:function(e,t){var n=Gi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wj.bind(null,en,e),[r.memoizedState,e]},useRef:function(e){var t=Gi();return e={current:e},t.memoizedState=e},useState:S2,useDebugValue:e0,useDeferredValue:function(e){return Gi().memoizedState=e},useTransition:function(){var e=S2(!1),t=e[0];return e=xj.bind(null,e[1]),Gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=en,i=Gi();if(Jt){if(n===void 0)throw Error(Ee(407));n=n()}else{if(n=t(),Dn===null)throw Error(Ee(349));Zo&30||lx(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,j2(ux.bind(null,r,s,e),[e]),r.flags|=2048,nu(9,cx.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Gi(),t=Dn.identifierPrefix;if(Jt){var n=ws,r=xs;n=(r&~(1<<32-Ei(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=eu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jj={readContext:gi,useCallback:yx,useContext:gi,useEffect:Z1,useImperativeHandle:vx,useInsertionEffect:px,useLayoutEffect:mx,useMemo:xx,useReducer:gp,useRef:fx,useState:function(){return gp(tu)},useDebugValue:e0,useDeferredValue:function(e){var t=vi();return wx(t,Ln.memoizedState,e)},useTransition:function(){var e=gp(tu)[0],t=vi().memoizedState;return[e,t]},useMutableSource:ox,useSyncExternalStore:ax,useId:bx,unstable_isNewReconciler:!1},Nj={readContext:gi,useCallback:yx,useContext:gi,useEffect:Z1,useImperativeHandle:vx,useInsertionEffect:px,useLayoutEffect:mx,useMemo:xx,useReducer:vp,useRef:fx,useState:function(){return vp(tu)},useDebugValue:e0,useDeferredValue:function(e){var t=vi();return Ln===null?t.memoizedState=e:wx(t,Ln.memoizedState,e)},useTransition:function(){var e=vp(tu)[0],t=vi().memoizedState;return[e,t]},useMutableSource:ox,useSyncExternalStore:ax,useId:bx,unstable_isNewReconciler:!1};function ki(e,t){if(e&&e.defaultProps){t=nn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:nn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yh={isMounted:function(e){return(e=e._reactInternals)?ra(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fr(),i=ho(e),s=bs(r,i);s.payload=t,n!=null&&(s.callback=n),t=co(e,s,i),t!==null&&(Ti(t,e,i,r),qd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fr(),i=ho(e),s=bs(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=co(e,s,i),t!==null&&(Ti(t,e,i,r),qd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fr(),r=ho(e),i=bs(n,r);i.tag=2,t!=null&&(i.callback=t),t=co(e,i,r),t!==null&&(Ti(t,e,r,n),qd(t,e,r))}};function N2(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Kc(n,r)||!Kc(i,s):!0}function Cx(e,t,n){var r=!1,i=mo,s=t.contextType;return typeof s=="object"&&s!==null?s=gi(s):(i=kr(t)?Xo:or.current,r=t.contextTypes,s=(r=r!=null)?hl(e,i):mo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function C2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yh.enqueueReplaceState(t,t.state,null)}function Cm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},W1(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=gi(s):(s=kr(t)?Xo:or.current,i.context=hl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Nm(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Yh.enqueueReplaceState(i,i.state,null),bh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function gl(e,t){try{var n="",r=t;do n+=Q4(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function yp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Am(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cj=typeof WeakMap=="function"?WeakMap:Map;function Ax(e,t,n){n=bs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ah||(Ah=!0,Dm=r),Am(e,t)},n}function kx(e,t,n){n=bs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Am(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Am(e,t),typeof r!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function A2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cj;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Bj.bind(null,e,t,n),t.then(e,e))}function k2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function P2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bs(-1,1),t.tag=2,co(n,t,1))),n.lanes|=1),e)}var Aj=Es.ReactCurrentOwner,Cr=!1;function hr(e,t,n,r){t.child=e===null?nx(t,null,n,r):pl(t,e.child,n,r)}function L2(e,t,n,r,i){n=n.render;var s=t.ref;return sl(t,i),r=X1(e,t,n,r,s,i),n=Q1(),e!==null&&!Cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ps(e,t,i)):(Jt&&n&&B1(t),t.flags|=1,hr(e,t,r,i),t.child)}function _2(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!l0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Px(e,t,s,r,i)):(e=Gd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Kc,n(o,r)&&e.ref===t.ref)return Ps(e,t,i)}return t.flags|=1,e=fo(s,r),e.ref=t.ref,e.return=t,t.child=e}function Px(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Kc(s,r)&&e.ref===t.ref)if(Cr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Cr=!0);else return t.lanes=e.lanes,Ps(e,t,i)}return km(e,t,n,r,i)}function Lx(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Ga,qr),qr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ut(Ga,qr),qr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ut(Ga,qr),qr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ut(Ga,qr),qr|=r;return hr(e,t,i,n),t.child}function _x(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function km(e,t,n,r,i){var s=kr(n)?Xo:or.current;return s=hl(t,s),sl(t,i),n=X1(e,t,n,r,s,i),r=Q1(),e!==null&&!Cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ps(e,t,i)):(Jt&&r&&B1(t),t.flags|=1,hr(e,t,n,i),t.child)}function E2(e,t,n,r,i){if(kr(n)){var s=!0;gh(t)}else s=!1;if(sl(t,i),t.stateNode===null)$d(e,t),Cx(t,n,r),Cm(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=gi(d):(d=kr(n)?Xo:or.current,d=hl(t,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&C2(t,o,r,d),Zs=!1;var g=t.memoizedState;o.state=g,bh(t,r,o,i),l=t.memoizedState,a!==r||g!==l||Ar.current||Zs?(typeof f=="function"&&(Nm(t,n,f,r),l=t.memoizedState),(a=Zs||N2(t,n,a,r,g,l,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ix(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:ki(t.type,a),o.props=d,p=t.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gi(l):(l=kr(n)?Xo:or.current,l=hl(t,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==l)&&C2(t,o,r,l),Zs=!1,g=t.memoizedState,o.state=g,bh(t,r,o,i);var S=t.memoizedState;a!==p||g!==S||Ar.current||Zs?(typeof m=="function"&&(Nm(t,n,m,r),S=t.memoizedState),(d=Zs||N2(t,n,d,r,g,S,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),o.props=r,o.state=S,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Pm(e,t,n,r,s,i)}function Pm(e,t,n,r,i,s){_x(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&g2(t,n,!1),Ps(e,t,s);r=t.stateNode,Aj.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=pl(t,e.child,null,s),t.child=pl(t,null,a,s)):hr(e,t,a,s),t.memoizedState=r.state,i&&g2(t,n,!0),t.child}function Ex(e){var t=e.stateNode;t.pendingContext?m2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&m2(e,t.context,!1),G1(e,t.containerInfo)}function T2(e,t,n,r,i){return fl(),q1(i),t.flags|=256,hr(e,t,n,r),t.child}var Lm={dehydrated:null,treeContext:null,retryLane:0};function _m(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tx(e,t,n){var r=t.pendingProps,i=Qt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ut(Qt,i&1),e===null)return Sm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Qh(o,r,0,null),e=Ko(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=_m(n),t.memoizedState=Lm,e):t0(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kj(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=fo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=fo(a,s):(s=Ko(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?_m(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Lm,r}return s=e.child,e=s.sibling,r=fo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function t0(e,t){return t=Qh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wd(e,t,n,r){return r!==null&&q1(r),pl(t,e.child,null,n),e=t0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kj(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=yp(Error(Ee(422))),wd(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Qh({mode:"visible",children:r.children},i,0,null),s=Ko(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&pl(t,e.child,null,o),t.child.memoizedState=_m(o),t.memoizedState=Lm,s);if(!(t.mode&1))return wd(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ee(419)),r=yp(s,r,void 0),wd(e,t,o,r)}if(a=(o&e.childLanes)!==0,Cr||a){if(r=Dn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ks(e,i),Ti(r,e,i,-1))}return a0(),r=yp(Error(Ee(421))),wd(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zj.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ur=lo(i.nextSibling),$r=t,Jt=!0,_i=null,e!==null&&(di[hi++]=xs,di[hi++]=ws,di[hi++]=Qo,xs=e.id,ws=e.overflow,Qo=t),t=t0(t,r.children),t.flags|=4096,t)}function F2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jm(e.return,t,n)}function xp(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Fx(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(hr(e,t,r.children,n),r=Qt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&F2(e,n,t);else if(e.tag===19)F2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ut(Qt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xp(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xp(t,!0,n,null,s);break;case"together":xp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $d(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ps(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ea|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ee(153));if(t.child!==null){for(e=t.child,n=fo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pj(e,t,n){switch(t.tag){case 3:Ex(t),fl();break;case 5:sx(t);break;case 1:kr(t.type)&&gh(t);break;case 4:G1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ut(xh,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ut(Qt,Qt.current&1),t.flags|=128,null):n&t.child.childLanes?Tx(e,t,n):(Ut(Qt,Qt.current&1),e=Ps(e,t,n),e!==null?e.sibling:null);Ut(Qt,Qt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Fx(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ut(Qt,Qt.current),r)break;return null;case 22:case 23:return t.lanes=0,Lx(e,t,n)}return Ps(e,t,n)}var Ix,Em,Rx,Dx;Ix=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Em=function(){};Rx=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ho(Xi.current);var s=null;switch(n){case"input":i=Zp(e,i),r=Zp(e,r),s=[];break;case"select":i=nn({},i,{value:void 0}),r=nn({},r,{value:void 0}),s=[];break;case"textarea":i=nm(e,i),r=nm(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ph)}im(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qc.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(a=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qc.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&$t("scroll",e),s||a===l||(s=[])):(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};Dx=function(e,t,n,r){n!==r&&(t.flags|=4)};function uc(e,t){if(!Jt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Lj(e,t,n){var r=t.pendingProps;switch(z1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(t),null;case 1:return kr(t.type)&&mh(),Xn(t),null;case 3:return r=t.stateNode,ml(),Wt(Ar),Wt(or),Y1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_i!==null&&(Bm(_i),_i=null))),Em(e,t),Xn(t),null;case 5:K1(t);var i=Ho(Zc.current);if(n=t.type,e!==null&&t.stateNode!=null)Rx(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ee(166));return Xn(t),null}if(e=Ho(Xi.current),yd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ki]=t,r[Xc]=s,e=(t.mode&1)!==0,n){case"dialog":$t("cancel",r),$t("close",r);break;case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(i=0;i<Sc.length;i++)$t(Sc[i],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"details":$t("toggle",r);break;case"input":Ug(r,s),$t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$t("invalid",r);break;case"textarea":$g(r,s),$t("invalid",r)}im(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&vd(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&vd(r.textContent,a,e),i=["children",""+a]):qc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$t("scroll",r)}switch(n){case"input":cd(r),Vg(r,s,!0);break;case"textarea":cd(r),Hg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ph)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ki]=t,e[Xc]=r,Ix(e,t,!1,!1),t.stateNode=e;e:{switch(o=sm(n,r),n){case"dialog":$t("cancel",e),$t("close",e),i=r;break;case"iframe":case"object":case"embed":$t("load",e),i=r;break;case"video":case"audio":for(i=0;i<Sc.length;i++)$t(Sc[i],e);i=r;break;case"source":$t("error",e),i=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),i=r;break;case"details":$t("toggle",e),i=r;break;case"input":Ug(e,r),i=Zp(e,r),$t("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=nn({},r,{value:void 0}),$t("invalid",e);break;case"textarea":$g(e,r),i=nm(e,r),$t("invalid",e);break;default:i=r}im(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?fy(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dy(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Uc(e,l):typeof l=="number"&&Uc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&$t("scroll",e):l!=null&&C1(e,s,l,o))}switch(n){case"input":cd(e),Vg(e,r,!1);break;case"textarea":cd(e),Hg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+po(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?tl(e,!!r.multiple,s,!1):r.defaultValue!=null&&tl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ph)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xn(t),null;case 6:if(e&&t.stateNode!=null)Dx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ee(166));if(n=Ho(Zc.current),Ho(Xi.current),yd(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ki]=t,(s=r.nodeValue!==n)&&(e=$r,e!==null))switch(e.tag){case 3:vd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vd(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ki]=t,t.stateNode=r}return Xn(t),null;case 13:if(Wt(Qt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Jt&&Ur!==null&&t.mode&1&&!(t.flags&128))ex(),fl(),t.flags|=98560,s=!1;else if(s=yd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ee(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ee(317));s[Ki]=t}else fl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xn(t),s=!1}else _i!==null&&(Bm(_i),_i=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qt.current&1?_n===0&&(_n=3):a0())),t.updateQueue!==null&&(t.flags|=4),Xn(t),null);case 4:return ml(),Em(e,t),e===null&&Yc(t.stateNode.containerInfo),Xn(t),null;case 10:return $1(t.type._context),Xn(t),null;case 17:return kr(t.type)&&mh(),Xn(t),null;case 19:if(Wt(Qt),s=t.memoizedState,s===null)return Xn(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)uc(s,!1);else{if(_n!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sh(e),o!==null){for(t.flags|=128,uc(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ut(Qt,Qt.current&1|2),t.child}e=e.sibling}s.tail!==null&&gn()>vl&&(t.flags|=128,r=!0,uc(s,!1),t.lanes=4194304)}else{if(!r)if(e=Sh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),uc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Jt)return Xn(t),null}else 2*gn()-s.renderingStartTime>vl&&n!==1073741824&&(t.flags|=128,r=!0,uc(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=gn(),t.sibling=null,n=Qt.current,Ut(Qt,r?n&1|2:n&1),t):(Xn(t),null);case 22:case 23:return o0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qr&1073741824&&(Xn(t),t.subtreeFlags&6&&(t.flags|=8192)):Xn(t),null;case 24:return null;case 25:return null}throw Error(Ee(156,t.tag))}function _j(e,t){switch(z1(t),t.tag){case 1:return kr(t.type)&&mh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ml(),Wt(Ar),Wt(or),Y1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return K1(t),null;case 13:if(Wt(Qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ee(340));fl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wt(Qt),null;case 4:return ml(),null;case 10:return $1(t.type._context),null;case 22:case 23:return o0(),null;case 24:return null;default:return null}}var bd=!1,rr=!1,Ej=typeof WeakSet=="function"?WeakSet:Set,We=null;function Wa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){un(e,t,r)}else n.current=null}function Tm(e,t,n){try{n()}catch(r){un(e,t,r)}}var I2=!1;function Tj(e,t){if(mm=dh,e=qy(),O1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,f=0,p=e,g=null;t:for(;;){for(var m;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)g=p,p=m;for(;;){if(p===e)break t;if(g===n&&++d===i&&(a=o),g===s&&++f===r&&(l=o),(m=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gm={focusedElem:e,selectionRange:n},dh=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){t=We;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var b=S.memoizedProps,C=S.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:ki(t.type,b),C);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(R){un(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}return S=I2,I2=!1,S}function Tc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Tm(t,n,s)}i=i.next}while(i!==r)}}function Jh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mx(e){var t=e.alternate;t!==null&&(e.alternate=null,Mx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ki],delete t[Xc],delete t[xm],delete t[pj],delete t[mj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ox(e){return e.tag===5||e.tag===3||e.tag===4}function R2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ox(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Im(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ph));else if(r!==4&&(e=e.child,e!==null))for(Im(e,t,n),e=e.sibling;e!==null;)Im(e,t,n),e=e.sibling}function Rm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rm(e,t,n),e=e.sibling;e!==null;)Rm(e,t,n),e=e.sibling}var Un=null,Li=!1;function Ks(e,t,n){for(n=n.child;n!==null;)Bx(e,t,n),n=n.sibling}function Bx(e,t,n){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(Uh,n)}catch{}switch(n.tag){case 5:rr||Wa(n,t);case 6:var r=Un,i=Li;Un=null,Ks(e,t,n),Un=r,Li=i,Un!==null&&(Li?(e=Un,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Un.removeChild(n.stateNode));break;case 18:Un!==null&&(Li?(e=Un,n=n.stateNode,e.nodeType===8?hp(e.parentNode,n):e.nodeType===1&&hp(e,n),Wc(e)):hp(Un,n.stateNode));break;case 4:r=Un,i=Li,Un=n.stateNode.containerInfo,Li=!0,Ks(e,t,n),Un=r,Li=i;break;case 0:case 11:case 14:case 15:if(!rr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Tm(n,t,o),i=i.next}while(i!==r)}Ks(e,t,n);break;case 1:if(!rr&&(Wa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){un(n,t,a)}Ks(e,t,n);break;case 21:Ks(e,t,n);break;case 22:n.mode&1?(rr=(r=rr)||n.memoizedState!==null,Ks(e,t,n),rr=r):Ks(e,t,n);break;default:Ks(e,t,n)}}function D2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ej),t.forEach(function(r){var i=qj.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ji(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Un=a.stateNode,Li=!1;break e;case 3:Un=a.stateNode.containerInfo,Li=!0;break e;case 4:Un=a.stateNode.containerInfo,Li=!0;break e}a=a.return}if(Un===null)throw Error(Ee(160));Bx(s,o,i),Un=null,Li=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){un(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zx(t,e),t=t.sibling}function zx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ji(t,e),Hi(e),r&4){try{Tc(3,e,e.return),Jh(3,e)}catch(b){un(e,e.return,b)}try{Tc(5,e,e.return)}catch(b){un(e,e.return,b)}}break;case 1:ji(t,e),Hi(e),r&512&&n!==null&&Wa(n,n.return);break;case 5:if(ji(t,e),Hi(e),r&512&&n!==null&&Wa(n,n.return),e.flags&32){var i=e.stateNode;try{Uc(i,"")}catch(b){un(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ly(i,s),sm(a,o);var d=sm(a,s);for(o=0;o<l.length;o+=2){var f=l[o],p=l[o+1];f==="style"?fy(i,p):f==="dangerouslySetInnerHTML"?dy(i,p):f==="children"?Uc(i,p):C1(i,f,p,d)}switch(a){case"input":em(i,s);break;case"textarea":cy(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?tl(i,!!s.multiple,m,!1):g!==!!s.multiple&&(s.defaultValue!=null?tl(i,!!s.multiple,s.defaultValue,!0):tl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xc]=s}catch(b){un(e,e.return,b)}}break;case 6:if(ji(t,e),Hi(e),r&4){if(e.stateNode===null)throw Error(Ee(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(b){un(e,e.return,b)}}break;case 3:if(ji(t,e),Hi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wc(t.containerInfo)}catch(b){un(e,e.return,b)}break;case 4:ji(t,e),Hi(e);break;case 13:ji(t,e),Hi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(i0=gn())),r&4&&D2(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(rr=(d=rr)||f,ji(t,e),rr=d):ji(t,e),Hi(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(We=e,f=e.child;f!==null;){for(p=We=f;We!==null;){switch(g=We,m=g.child,g.tag){case 0:case 11:case 14:case 15:Tc(4,g,g.return);break;case 1:Wa(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(b){un(r,n,b)}}break;case 5:Wa(g,g.return);break;case 22:if(g.memoizedState!==null){O2(p);continue}}m!==null?(m.return=g,We=m):O2(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hy("display",o))}catch(b){un(e,e.return,b)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(b){un(e,e.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ji(t,e),Hi(e),r&4&&D2(e);break;case 21:break;default:ji(t,e),Hi(e)}}function Hi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ox(n)){var r=n;break e}n=n.return}throw Error(Ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uc(i,""),r.flags&=-33);var s=R2(e);Rm(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=R2(e);Im(e,a,o);break;default:throw Error(Ee(161))}}catch(l){un(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fj(e,t,n){We=e,qx(e)}function qx(e,t,n){for(var r=(e.mode&1)!==0;We!==null;){var i=We,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||rr;a=bd;var d=rr;if(bd=o,(rr=l)&&!d)for(We=i;We!==null;)o=We,l=o.child,o.tag===22&&o.memoizedState!==null?B2(i):l!==null?(l.return=o,We=l):B2(i);for(;s!==null;)We=s,qx(s),s=s.sibling;We=i,bd=a,rr=d}M2(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,We=s):M2(e)}}function M2(e){for(;We!==null;){var t=We;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rr||Jh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ki(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&b2(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}b2(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Wc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}rr||t.flags&512&&Fm(t)}catch(g){un(t,t.return,g)}}if(t===e){We=null;break}if(n=t.sibling,n!==null){n.return=t.return,We=n;break}We=t.return}}function O2(e){for(;We!==null;){var t=We;if(t===e){We=null;break}var n=t.sibling;if(n!==null){n.return=t.return,We=n;break}We=t.return}}function B2(e){for(;We!==null;){var t=We;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Jh(4,t)}catch(l){un(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){un(t,i,l)}}var s=t.return;try{Fm(t)}catch(l){un(t,s,l)}break;case 5:var o=t.return;try{Fm(t)}catch(l){un(t,o,l)}}}catch(l){un(t,t.return,l)}if(t===e){We=null;break}var a=t.sibling;if(a!==null){a.return=t.return,We=a;break}We=t.return}}var Ij=Math.ceil,Ch=Es.ReactCurrentDispatcher,n0=Es.ReactCurrentOwner,mi=Es.ReactCurrentBatchConfig,At=0,Dn=null,Nn=null,$n=0,qr=0,Ga=bo(0),_n=0,ru=null,ea=0,Xh=0,r0=0,Fc=null,Nr=null,i0=0,vl=1/0,vs=null,Ah=!1,Dm=null,uo=null,Sd=!1,ro=null,kh=0,Ic=0,Mm=null,Hd=-1,Wd=0;function fr(){return At&6?gn():Hd!==-1?Hd:Hd=gn()}function ho(e){return e.mode&1?At&2&&$n!==0?$n&-$n:vj.transition!==null?(Wd===0&&(Wd=Cy()),Wd):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:Ty(e.type)),e):1}function Ti(e,t,n,r){if(50<Ic)throw Ic=0,Mm=null,Error(Ee(185));hu(e,n,r),(!(At&2)||e!==Dn)&&(e===Dn&&(!(At&2)&&(Xh|=n),_n===4&&to(e,$n)),Pr(e,r),n===1&&At===0&&!(t.mode&1)&&(vl=gn()+500,Gh&&So()))}function Pr(e,t){var n=e.callbackNode;vS(e,t);var r=uh(e,e===Dn?$n:0);if(r===0)n!==null&&Kg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Kg(n),t===1)e.tag===0?gj(z2.bind(null,e)):Xy(z2.bind(null,e)),hj(function(){!(At&6)&&So()}),n=null;else{switch(Ay(r)){case 1:n=_1;break;case 4:n=jy;break;case 16:n=ch;break;case 536870912:n=Ny;break;default:n=ch}n=Yx(n,Ux.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ux(e,t){if(Hd=-1,Wd=0,At&6)throw Error(Ee(327));var n=e.callbackNode;if(ol()&&e.callbackNode!==n)return null;var r=uh(e,e===Dn?$n:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ph(e,r);else{t=r;var i=At;At|=2;var s=$x();(Dn!==e||$n!==t)&&(vs=null,vl=gn()+500,Go(e,t));do try{Mj();break}catch(a){Vx(e,a)}while(1);V1(),Ch.current=s,At=i,Nn!==null?t=0:(Dn=null,$n=0,t=_n)}if(t!==0){if(t===2&&(i=um(e),i!==0&&(r=i,t=Om(e,i))),t===1)throw n=ru,Go(e,0),to(e,r),Pr(e,gn()),n;if(t===6)to(e,r);else{if(i=e.current.alternate,!(r&30)&&!Rj(i)&&(t=Ph(e,r),t===2&&(s=um(e),s!==0&&(r=s,t=Om(e,s))),t===1))throw n=ru,Go(e,0),to(e,r),Pr(e,gn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ee(345));case 2:Oo(e,Nr,vs);break;case 3:if(to(e,r),(r&130023424)===r&&(t=i0+500-gn(),10<t)){if(uh(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){fr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ym(Oo.bind(null,e,Nr,vs),t);break}Oo(e,Nr,vs);break;case 4:if(to(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ei(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=gn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ij(r/1960))-r,10<r){e.timeoutHandle=ym(Oo.bind(null,e,Nr,vs),r);break}Oo(e,Nr,vs);break;case 5:Oo(e,Nr,vs);break;default:throw Error(Ee(329))}}}return Pr(e,gn()),e.callbackNode===n?Ux.bind(null,e):null}function Om(e,t){var n=Fc;return e.current.memoizedState.isDehydrated&&(Go(e,t).flags|=256),e=Ph(e,t),e!==2&&(t=Nr,Nr=n,t!==null&&Bm(t)),e}function Bm(e){Nr===null?Nr=e:Nr.push.apply(Nr,e)}function Rj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fi(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function to(e,t){for(t&=~r0,t&=~Xh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ei(t),r=1<<n;e[n]=-1,t&=~r}}function z2(e){if(At&6)throw Error(Ee(327));ol();var t=uh(e,0);if(!(t&1))return Pr(e,gn()),null;var n=Ph(e,t);if(e.tag!==0&&n===2){var r=um(e);r!==0&&(t=r,n=Om(e,r))}if(n===1)throw n=ru,Go(e,0),to(e,t),Pr(e,gn()),n;if(n===6)throw Error(Ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oo(e,Nr,vs),Pr(e,gn()),null}function s0(e,t){var n=At;At|=1;try{return e(t)}finally{At=n,At===0&&(vl=gn()+500,Gh&&So())}}function ta(e){ro!==null&&ro.tag===0&&!(At&6)&&ol();var t=At;At|=1;var n=mi.transition,r=Ft;try{if(mi.transition=null,Ft=1,e)return e()}finally{Ft=r,mi.transition=n,At=t,!(At&6)&&So()}}function o0(){qr=Ga.current,Wt(Ga)}function Go(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dj(n)),Nn!==null)for(n=Nn.return;n!==null;){var r=n;switch(z1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mh();break;case 3:ml(),Wt(Ar),Wt(or),Y1();break;case 5:K1(r);break;case 4:ml();break;case 13:Wt(Qt);break;case 19:Wt(Qt);break;case 10:$1(r.type._context);break;case 22:case 23:o0()}n=n.return}if(Dn=e,Nn=e=fo(e.current,null),$n=qr=t,_n=0,ru=null,r0=Xh=ea=0,Nr=Fc=null,$o!==null){for(t=0;t<$o.length;t++)if(n=$o[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$o=null}return e}function Vx(e,t){do{var n=Nn;try{if(V1(),Ud.current=Nh,jh){for(var r=en.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jh=!1}if(Zo=0,In=Ln=en=null,Ec=!1,eu=0,n0.current=null,n===null||n.return===null){_n=1,ru=t,Nn=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=$n,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=k2(o);if(m!==null){m.flags&=-257,P2(m,o,a,s,t),m.mode&1&&A2(s,d,t),t=m,l=d;var S=t.updateQueue;if(S===null){var b=new Set;b.add(l),t.updateQueue=b}else S.add(l);break e}else{if(!(t&1)){A2(s,d,t),a0();break e}l=Error(Ee(426))}}else if(Jt&&a.mode&1){var C=k2(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),P2(C,o,a,s,t),q1(gl(l,a));break e}}s=l=gl(l,a),_n!==4&&(_n=2),Fc===null?Fc=[s]:Fc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=Ax(s,l,t);w2(s,x);break e;case 1:a=l;var w=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(uo===null||!uo.has(N)))){s.flags|=65536,t&=-t,s.lanes|=t;var R=kx(s,a,t);w2(s,R);break e}}s=s.return}while(s!==null)}Wx(n)}catch(q){t=q,Nn===n&&n!==null&&(Nn=n=n.return);continue}break}while(1)}function $x(){var e=Ch.current;return Ch.current=Nh,e===null?Nh:e}function a0(){(_n===0||_n===3||_n===2)&&(_n=4),Dn===null||!(ea&268435455)&&!(Xh&268435455)||to(Dn,$n)}function Ph(e,t){var n=At;At|=2;var r=$x();(Dn!==e||$n!==t)&&(vs=null,Go(e,t));do try{Dj();break}catch(i){Vx(e,i)}while(1);if(V1(),At=n,Ch.current=r,Nn!==null)throw Error(Ee(261));return Dn=null,$n=0,_n}function Dj(){for(;Nn!==null;)Hx(Nn)}function Mj(){for(;Nn!==null&&!lS();)Hx(Nn)}function Hx(e){var t=Kx(e.alternate,e,qr);e.memoizedProps=e.pendingProps,t===null?Wx(e):Nn=t,n0.current=null}function Wx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_j(n,t),n!==null){n.flags&=32767,Nn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_n=6,Nn=null;return}}else if(n=Lj(n,t,qr),n!==null){Nn=n;return}if(t=t.sibling,t!==null){Nn=t;return}Nn=t=e}while(t!==null);_n===0&&(_n=5)}function Oo(e,t,n){var r=Ft,i=mi.transition;try{mi.transition=null,Ft=1,Oj(e,t,n,r)}finally{mi.transition=i,Ft=r}return null}function Oj(e,t,n,r){do ol();while(ro!==null);if(At&6)throw Error(Ee(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ee(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(yS(e,s),e===Dn&&(Nn=Dn=null,$n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sd||(Sd=!0,Yx(ch,function(){return ol(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mi.transition,mi.transition=null;var o=Ft;Ft=1;var a=At;At|=4,n0.current=null,Tj(e,n),zx(n,e),ij(gm),dh=!!mm,gm=mm=null,e.current=n,Fj(n),cS(),At=a,Ft=o,mi.transition=s}else e.current=n;if(Sd&&(Sd=!1,ro=e,kh=i),s=e.pendingLanes,s===0&&(uo=null),hS(n.stateNode),Pr(e,gn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ah)throw Ah=!1,e=Dm,Dm=null,e;return kh&1&&e.tag!==0&&ol(),s=e.pendingLanes,s&1?e===Mm?Ic++:(Ic=0,Mm=e):Ic=0,So(),null}function ol(){if(ro!==null){var e=Ay(kh),t=mi.transition,n=Ft;try{if(mi.transition=null,Ft=16>e?16:e,ro===null)var r=!1;else{if(e=ro,ro=null,kh=0,At&6)throw Error(Ee(331));var i=At;for(At|=4,We=e.current;We!==null;){var s=We,o=s.child;if(We.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(We=d;We!==null;){var f=We;switch(f.tag){case 0:case 11:case 15:Tc(8,f,s)}var p=f.child;if(p!==null)p.return=f,We=p;else for(;We!==null;){f=We;var g=f.sibling,m=f.return;if(Mx(f),f===d){We=null;break}if(g!==null){g.return=m,We=g;break}We=m}}}var S=s.alternate;if(S!==null){var b=S.child;if(b!==null){S.child=null;do{var C=b.sibling;b.sibling=null,b=C}while(b!==null)}}We=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,We=o;else e:for(;We!==null;){if(s=We,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tc(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,We=x;break e}We=s.return}}var w=e.current;for(We=w;We!==null;){o=We;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,We=N;else e:for(o=w;We!==null;){if(a=We,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Jh(9,a)}}catch(q){un(a,a.return,q)}if(a===o){We=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,We=R;break e}We=a.return}}if(At=i,So(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(Uh,e)}catch{}r=!0}return r}finally{Ft=n,mi.transition=t}}return!1}function q2(e,t,n){t=gl(n,t),t=Ax(e,t,1),e=co(e,t,1),t=fr(),e!==null&&(hu(e,1,t),Pr(e,t))}function un(e,t,n){if(e.tag===3)q2(e,e,n);else for(;t!==null;){if(t.tag===3){q2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(uo===null||!uo.has(r))){e=gl(n,e),e=kx(t,e,1),t=co(t,e,1),e=fr(),t!==null&&(hu(t,1,e),Pr(t,e));break}}t=t.return}}function Bj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=fr(),e.pingedLanes|=e.suspendedLanes&n,Dn===e&&($n&n)===n&&(_n===4||_n===3&&($n&130023424)===$n&&500>gn()-i0?Go(e,0):r0|=n),Pr(e,t)}function Gx(e,t){t===0&&(e.mode&1?(t=hd,hd<<=1,!(hd&130023424)&&(hd=4194304)):t=1);var n=fr();e=ks(e,t),e!==null&&(hu(e,t,n),Pr(e,n))}function zj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gx(e,n)}function qj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ee(314))}r!==null&&r.delete(t),Gx(e,n)}var Kx;Kx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ar.current)Cr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Cr=!1,Pj(e,t,n);Cr=!!(e.flags&131072)}else Cr=!1,Jt&&t.flags&1048576&&Qy(t,yh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$d(e,t),e=t.pendingProps;var i=hl(t,or.current);sl(t,n),i=X1(null,t,r,e,i,n);var s=Q1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kr(r)?(s=!0,gh(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,W1(t),i.updater=Yh,t.stateNode=i,i._reactInternals=t,Cm(t,r,e,n),t=Pm(null,t,r,!0,s,n)):(t.tag=0,Jt&&s&&B1(t),hr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($d(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Vj(r),e=ki(r,e),i){case 0:t=km(null,t,r,e,n);break e;case 1:t=E2(null,t,r,e,n);break e;case 11:t=L2(null,t,r,e,n);break e;case 14:t=_2(null,t,r,ki(r.type,e),n);break e}throw Error(Ee(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ki(r,i),km(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ki(r,i),E2(e,t,r,i,n);case 3:e:{if(Ex(t),e===null)throw Error(Ee(387));r=t.pendingProps,s=t.memoizedState,i=s.element,ix(e,t),bh(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=gl(Error(Ee(423)),t),t=T2(e,t,r,n,i);break e}else if(r!==i){i=gl(Error(Ee(424)),t),t=T2(e,t,r,n,i);break e}else for(Ur=lo(t.stateNode.containerInfo.firstChild),$r=t,Jt=!0,_i=null,n=nx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fl(),r===i){t=Ps(e,t,n);break e}hr(e,t,r,n)}t=t.child}return t;case 5:return sx(t),e===null&&Sm(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,vm(r,i)?o=null:s!==null&&vm(r,s)&&(t.flags|=32),_x(e,t),hr(e,t,o,n),t.child;case 6:return e===null&&Sm(t),null;case 13:return Tx(e,t,n);case 4:return G1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pl(t,null,r,n):hr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ki(r,i),L2(e,t,r,i,n);case 7:return hr(e,t,t.pendingProps,n),t.child;case 8:return hr(e,t,t.pendingProps.children,n),t.child;case 12:return hr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ut(xh,r._currentValue),r._currentValue=o,s!==null)if(Fi(s.value,o)){if(s.children===i.children&&!Ar.current){t=Ps(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=bs(-1,n&-n),l.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?l.next=l:(l.next=f.next,f.next=l),d.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),jm(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jm(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,sl(t,n),i=gi(i),r=r(i),t.flags|=1,hr(e,t,r,n),t.child;case 14:return r=t.type,i=ki(r,t.pendingProps),i=ki(r.type,i),_2(e,t,r,i,n);case 15:return Px(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ki(r,i),$d(e,t),t.tag=1,kr(r)?(e=!0,gh(t)):e=!1,sl(t,n),Cx(t,r,i),Cm(t,r,i,n),Pm(null,t,r,!0,e,n);case 19:return Fx(e,t,n);case 22:return Lx(e,t,n)}throw Error(Ee(156,t.tag))};function Yx(e,t){return Sy(e,t)}function Uj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(e,t,n,r){return new Uj(e,t,n,r)}function l0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vj(e){if(typeof e=="function")return l0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===k1)return 11;if(e===P1)return 14}return 2}function fo(e,t){var n=e.alternate;return n===null?(n=fi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gd(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")l0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ma:return Ko(n.children,i,s,t);case A1:o=8,i|=8;break;case Yp:return e=fi(12,n,t,i|2),e.elementType=Yp,e.lanes=s,e;case Jp:return e=fi(13,n,t,i),e.elementType=Jp,e.lanes=s,e;case Xp:return e=fi(19,n,t,i),e.elementType=Xp,e.lanes=s,e;case sy:return Qh(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ry:o=10;break e;case iy:o=9;break e;case k1:o=11;break e;case P1:o=14;break e;case Qs:o=16,r=null;break e}throw Error(Ee(130,e==null?e:typeof e,""))}return t=fi(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ko(e,t,n,r){return e=fi(7,e,r,t),e.lanes=n,e}function Qh(e,t,n,r){return e=fi(22,e,r,t),e.elementType=sy,e.lanes=n,e.stateNode={isHidden:!1},e}function wp(e,t,n){return e=fi(6,e,null,t),e.lanes=n,e}function bp(e,t,n){return t=fi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $j(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tp(0),this.expirationTimes=tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function c0(e,t,n,r,i,s,o,a,l){return e=new $j(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=fi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},W1(s),e}function Hj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Da,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Jx(e){if(!e)return mo;e=e._reactInternals;e:{if(ra(e)!==e||e.tag!==1)throw Error(Ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ee(171))}if(e.tag===1){var n=e.type;if(kr(n))return Jy(e,n,t)}return t}function Xx(e,t,n,r,i,s,o,a,l){return e=c0(n,r,!0,e,i,s,o,a,l),e.context=Jx(null),n=e.current,r=fr(),i=ho(n),s=bs(r,i),s.callback=t??null,co(n,s,i),e.current.lanes=i,hu(e,i,r),Pr(e,r),e}function Zh(e,t,n,r){var i=t.current,s=fr(),o=ho(i);return n=Jx(n),t.context===null?t.context=n:t.pendingContext=n,t=bs(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=co(i,t,o),e!==null&&(Ti(e,i,o,s),qd(e,i,o)),o}function Lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function U2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function u0(e,t){U2(e,t),(e=e.alternate)&&U2(e,t)}function Wj(){return null}var Qx=typeof reportError=="function"?reportError:function(e){console.error(e)};function d0(e){this._internalRoot=e}ef.prototype.render=d0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ee(409));Zh(e,t,null,null)};ef.prototype.unmount=d0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ta(function(){Zh(null,e,null,null)}),t[As]=null}};function ef(e){this._internalRoot=e}ef.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ly();e={blockedOn:null,target:e,priority:t};for(var n=0;n<eo.length&&t!==0&&t<eo[n].priority;n++);eo.splice(n,0,e),n===0&&Ey(e)}};function h0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function V2(){}function Gj(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=Lh(o);s.call(d)}}var o=Xx(t,r,e,0,null,!1,!1,"",V2);return e._reactRootContainer=o,e[As]=o.current,Yc(e.nodeType===8?e.parentNode:e),ta(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var d=Lh(l);a.call(d)}}var l=c0(e,0,!1,null,null,!1,!1,"",V2);return e._reactRootContainer=l,e[As]=l.current,Yc(e.nodeType===8?e.parentNode:e),ta(function(){Zh(t,l,n,r)}),l}function nf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Lh(o);a.call(l)}}Zh(t,o,e,i)}else o=Gj(n,t,e,i,r);return Lh(o)}ky=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bc(t.pendingLanes);n!==0&&(E1(t,n|1),Pr(t,gn()),!(At&6)&&(vl=gn()+500,So()))}break;case 13:ta(function(){var r=ks(e,1);if(r!==null){var i=fr();Ti(r,e,1,i)}}),u0(e,1)}};T1=function(e){if(e.tag===13){var t=ks(e,134217728);if(t!==null){var n=fr();Ti(t,e,134217728,n)}u0(e,134217728)}};Py=function(e){if(e.tag===13){var t=ho(e),n=ks(e,t);if(n!==null){var r=fr();Ti(n,e,t,r)}u0(e,t)}};Ly=function(){return Ft};_y=function(e,t){var n=Ft;try{return Ft=e,t()}finally{Ft=n}};am=function(e,t,n){switch(t){case"input":if(em(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Wh(r);if(!i)throw Error(Ee(90));ay(r),em(r,i)}}}break;case"textarea":cy(e,n);break;case"select":t=n.value,t!=null&&tl(e,!!n.multiple,t,!1)}};gy=s0;vy=ta;var Kj={usingClientEntryPoint:!1,Events:[pu,qa,Wh,py,my,s0]},dc={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yj={bundleType:dc.bundleType,version:dc.version,rendererPackageName:dc.rendererPackageName,rendererConfig:dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wy(e),e===null?null:e.stateNode},findFiberByHostInstance:dc.findFiberByHostInstance||Wj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{Uh=jd.inject(Yj),Ji=jd}catch{}}Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kj;Kr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h0(t))throw Error(Ee(200));return Hj(e,t,null,n)};Kr.createRoot=function(e,t){if(!h0(e))throw Error(Ee(299));var n=!1,r="",i=Qx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=c0(e,1,!1,null,null,n,!1,r,i),e[As]=t.current,Yc(e.nodeType===8?e.parentNode:e),new d0(t)};Kr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ee(188)):(e=Object.keys(e).join(","),Error(Ee(268,e)));return e=wy(t),e=e===null?null:e.stateNode,e};Kr.flushSync=function(e){return ta(e)};Kr.hydrate=function(e,t,n){if(!tf(t))throw Error(Ee(200));return nf(null,e,t,!0,n)};Kr.hydrateRoot=function(e,t,n){if(!h0(e))throw Error(Ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Qx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Xx(t,null,e,1,n??null,i,!1,s,o),e[As]=t.current,Yc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ef(t)};Kr.render=function(e,t,n){if(!tf(t))throw Error(Ee(200));return nf(null,e,t,!1,n)};Kr.unmountComponentAtNode=function(e){if(!tf(e))throw Error(Ee(40));return e._reactRootContainer?(ta(function(){nf(null,null,e,!1,function(){e._reactRootContainer=null,e[As]=null})}),!0):!1};Kr.unstable_batchedUpdates=s0;Kr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tf(n))throw Error(Ee(200));if(e==null||e._reactInternals===void 0)throw Error(Ee(38));return nf(e,t,n,!1,r)};Kr.version="18.3.1-next-f1338f8080-20240426";function Zx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zx)}catch(e){console.error(e)}}Zx(),Z5.exports=Kr;var ew=Z5.exports;const tw=y1(ew);var $2=ew;Gp.createRoot=$2.createRoot,Gp.hydrateRoot=$2.hydrateRoot;var H2="popstate";function Jj(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return zm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:iu(i)}return Qj(t,n,null,e)}function tn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ii(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xj(){return Math.random().toString(36).substring(2,10)}function W2(e,t){return{usr:e.state,key:e.key,idx:t}}function zm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Cl(t):t,state:n,key:t&&t.key||r||Xj()}}function iu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Cl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Qj(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let C=f(),x=C==null?null:C-d;d=C,l&&l({action:a,location:b.location,delta:x})}function g(C,x){a="PUSH";let w=zm(b.location,C,x);n&&n(w,C),d=f()+1;let N=W2(w,d),R=b.createHref(w);try{o.pushState(N,"",R)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(R)}s&&l&&l({action:a,location:b.location,delta:1})}function m(C,x){a="REPLACE";let w=zm(b.location,C,x);n&&n(w,C),d=f();let N=W2(w,d),R=b.createHref(w);o.replaceState(N,"",R),s&&l&&l({action:a,location:b.location,delta:0})}function S(C){return Zj(C)}let b={get action(){return a},get location(){return e(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(H2,p),l=C,()=>{i.removeEventListener(H2,p),l=null}},createHref(C){return t(i,C)},createURL:S,encodeLocation(C){let x=S(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:m,go(C){return o.go(C)}};return b}function Zj(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:iu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function nw(e,t,n="/"){return eN(e,t,n,!1)}function eN(e,t,n,r){let i=typeof t=="string"?Cl(t):t,s=Ls(i.pathname||"/",n);if(s==null)return null;let o=rw(e);tN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=hN(s);a=uN(o[l],d,r)}return a}function rw(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&l)return;tn(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let p=Ss([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(tn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),rw(o.children,t,g,p,l)),!(o.path==null&&!o.index)&&t.push({path:p,score:lN(p,o.index),routesMeta:g})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let d of iw(o.path))s(o,a,!0,d)}),t}function iw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=iw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function tN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:cN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var nN=/^:[\w-]+$/,rN=3,iN=2,sN=1,oN=10,aN=-2,G2=e=>e==="*";function lN(e,t){let n=e.split("/"),r=n.length;return n.some(G2)&&(r+=aN),t&&(r+=iN),n.filter(i=>!G2(i)).reduce((i,s)=>i+(nN.test(s)?rN:s===""?sN:oN),r)}function cN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function uN(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=_h({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},f),g=l.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=_h({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Ss([s,p.pathname]),pathnameBase:gN(Ss([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Ss([s,p.pathnameBase]))}return o}function _h(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=dN(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let S=a[g]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const m=a[g];return p&&!m?d[f]=void 0:d[f]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function dN(e,t=!1,n=!0){Ii(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function hN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ii(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ls(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function fN(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Cl(e):e;return{pathname:n?n.startsWith("/")?n:pN(n,t):t,search:vN(r),hash:yN(i)}}function pN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sw(e){let t=mN(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ow(e,t,n,r=!1){let i;typeof e=="string"?i=Cl(e):(i={...e},tn(!i.pathname||!i.pathname.includes("?"),Sp("?","pathname","search",i)),tn(!i.pathname||!i.pathname.includes("#"),Sp("#","pathname","hash",i)),tn(!i.search||!i.search.includes("#"),Sp("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?t[p]:"/"}let l=fN(i,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||f)&&(l.pathname+="/"),l}var Ss=e=>e.join("/").replace(/\/\/+/g,"/"),gN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var aw=["POST","PUT","PATCH","DELETE"];new Set(aw);var wN=["GET",...aw];new Set(wN);var Al=T.createContext(null);Al.displayName="DataRouter";var rf=T.createContext(null);rf.displayName="DataRouterState";T.createContext(!1);var lw=T.createContext({isTransitioning:!1});lw.displayName="ViewTransition";var bN=T.createContext(new Map);bN.displayName="Fetchers";var SN=T.createContext(null);SN.displayName="Await";var ts=T.createContext(null);ts.displayName="Navigation";var gu=T.createContext(null);gu.displayName="Location";var Ts=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ts.displayName="Route";var f0=T.createContext(null);f0.displayName="RouteError";function jN(e,{relative:t}={}){tn(vu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(ts),{hash:i,pathname:s,search:o}=yu(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Ss([n,s])),r.createHref({pathname:a,search:o,hash:i})}function vu(){return T.useContext(gu)!=null}function jo(){return tn(vu(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(gu).location}var cw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uw(e){T.useContext(ts).static||T.useLayoutEffect(e)}function p0(){let{isDataRoute:e}=T.useContext(Ts);return e?DN():NN()}function NN(){tn(vu(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(Al),{basename:t,navigator:n}=T.useContext(ts),{matches:r}=T.useContext(Ts),{pathname:i}=jo(),s=JSON.stringify(sw(r)),o=T.useRef(!1);return uw(()=>{o.current=!0}),T.useCallback((l,d={})=>{if(Ii(o.current,cw),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=ow(l,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ss([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}T.createContext(null);function yu(e,{relative:t}={}){let{matches:n}=T.useContext(Ts),{pathname:r}=jo(),i=JSON.stringify(sw(n));return T.useMemo(()=>ow(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function CN(e,t){return dw(e,t)}function dw(e,t,n,r,i){var w;tn(vu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(ts),{matches:o}=T.useContext(Ts),a=o[o.length-1],l=a?a.params:{},d=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let N=p&&p.path||"";hw(d,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=jo(),m;if(t){let N=typeof t=="string"?Cl(t):t;tn(f==="/"||((w=N.pathname)==null?void 0:w.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${N.pathname}" was given in the \`location\` prop.`),m=N}else m=g;let S=m.pathname||"/",b=S;if(f!=="/"){let N=f.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=nw(e,{pathname:b});Ii(p||C!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ii(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=_N(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Ss([f,s.encodeLocation?s.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:Ss([f,s.encodeLocation?s.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,n,r,i);return t&&x?T.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function AN(){let e=RN(),t=xN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,o)}var kN=T.createElement(AN,null),PN=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?T.createElement(Ts.Provider,{value:this.props.routeContext},T.createElement(f0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LN({routeContext:e,match:t,children:n}){let r=T.useContext(Al);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Ts.Provider,{value:e},n)}function _N(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);tn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,l=-1;if(n)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:p,errors:g}=n,m=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let g,m=!1,S=null,b=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,S=f.route.errorElement||kN,a&&(l<0&&p===0?(hw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):l===p&&(m=!0,b=f.route.hydrateFallbackElement||null)));let C=t.concat(s.slice(0,p+1)),x=()=>{let w;return g?w=S:m?w=b:f.route.Component?w=T.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,T.createElement(LN,{match:f,routeContext:{outlet:d,matches:C,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?T.createElement(PN,{location:n.location,revalidation:n.revalidation,component:S,error:g,children:x(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):x()},null)}function m0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EN(e){let t=T.useContext(Al);return tn(t,m0(e)),t}function TN(e){let t=T.useContext(rf);return tn(t,m0(e)),t}function FN(e){let t=T.useContext(Ts);return tn(t,m0(e)),t}function g0(e){let t=FN(e),n=t.matches[t.matches.length-1];return tn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function IN(){return g0("useRouteId")}function RN(){var r;let e=T.useContext(f0),t=TN("useRouteError"),n=g0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function DN(){let{router:e}=EN("useNavigate"),t=g0("useNavigate"),n=T.useRef(!1);return uw(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{Ii(n.current,cw),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var K2={};function hw(e,t,n){!t&&!K2[e]&&(K2[e]=!0,Ii(!1,n))}T.memo(MN);function MN({routes:e,future:t,state:n,unstable_onError:r}){return dw(e,void 0,n,r,t)}function Kd(e){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ON({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){tn(!vu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=T.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Cl(n));let{pathname:l="/",search:d="",hash:f="",state:p=null,key:g="default"}=n,m=T.useMemo(()=>{let S=Ls(l,o);return S==null?null:{location:{pathname:S,search:d,hash:f,state:p,key:g},navigationType:r}},[o,l,d,f,p,g,r]);return Ii(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:T.createElement(ts.Provider,{value:a},T.createElement(gu.Provider,{children:t,value:m}))}function BN({children:e,location:t}){return CN(qm(e),t)}function qm(e,t=[]){let n=[];return T.Children.forEach(e,(r,i)=>{if(!T.isValidElement(r))return;let s=[...t,i];if(r.type===T.Fragment){n.push.apply(n,qm(r.props.children,s));return}tn(r.type===Kd,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qm(r.props.children,s)),n.push(o)}),n}var Yd="get",Jd="application/x-www-form-urlencoded";function sf(e){return e!=null&&typeof e.tagName=="string"}function zN(e){return sf(e)&&e.tagName.toLowerCase()==="button"}function qN(e){return sf(e)&&e.tagName.toLowerCase()==="form"}function UN(e){return sf(e)&&e.tagName.toLowerCase()==="input"}function VN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $N(e,t){return e.button===0&&(!t||t==="_self")&&!VN(e)}function Um(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function HN(e,t){let n=Um(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Nd=null;function WN(){if(Nd===null)try{new FormData(document.createElement("form"),0),Nd=!1}catch{Nd=!0}return Nd}var GN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jp(e){return e!=null&&!GN.has(e)?(Ii(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jd}"`),null):e}function KN(e,t){let n,r,i,s,o;if(qN(e)){let a=e.getAttribute("action");r=a?Ls(a,t):null,n=e.getAttribute("method")||Yd,i=jp(e.getAttribute("enctype"))||Jd,s=new FormData(e)}else if(zN(e)||UN(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ls(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Yd,i=jp(e.getAttribute("formenctype"))||jp(a.getAttribute("enctype"))||Jd,s=new FormData(a,e),!WN()){let{name:d,type:f,value:p}=e;if(f==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,p)}}else{if(sf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yd,r=null,i=Jd,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function v0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YN(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ls(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function JN(e,t){if(e.id in t)return t[e.id];try{let n=await zc(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XN(e){return e!=null&&typeof e.page=="string"}function QN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ZN(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await JN(s,n);return o.links?o.links():[]}return[]}));return r6(r.flat(1).filter(QN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Y2(e,t,n,r,i,s){let o=(l,d)=>n[d]?l.route.id!==n[d].route.id:!0,a=(l,d)=>{var f;return n[d].pathname!==l.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,d)=>o(l,d)||a(l,d)):s==="data"?t.filter((l,d)=>{var p;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,d)||a(l,d))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function e6(e,t,{includeHydrateFallback:n}={}){return t6(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function t6(e){return[...new Set(e)]}function n6(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function r6(e,t){let n=new Set,r=new Set(t);return e.reduce((i,s)=>{if(t&&!XN(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(n6(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function fw(){let e=T.useContext(Al);return v0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function i6(){let e=T.useContext(rf);return v0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var y0=T.createContext(void 0);y0.displayName="FrameworkContext";function pw(){let e=T.useContext(y0);return v0(e,"You must render this element inside a <HydratedRouter> element"),e}function s6(e,t){let n=T.useContext(y0),[r,i]=T.useState(!1),[s,o]=T.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=t,g=T.useRef(null);T.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=x=>{x.forEach(w=>{o(w.isIntersecting)})},C=new IntersectionObserver(b,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[e]),T.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let m=()=>{i(!0)},S=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:hc(a,m),onBlur:hc(l,S),onMouseEnter:hc(d,m),onMouseLeave:hc(f,S),onTouchStart:hc(p,m)}]:[!1,g,{}]}function hc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function o6({page:e,...t}){let{router:n}=fw(),r=T.useMemo(()=>nw(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?T.createElement(l6,{page:e,matches:r,...t}):null}function a6(e){let{manifest:t,routeModules:n}=pw(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return ZN(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function l6({page:e,matches:t,...n}){let r=jo(),{manifest:i,routeModules:s}=pw(),{basename:o}=fw(),{loaderData:a,matches:l}=i6(),d=T.useMemo(()=>Y2(e,t,l,i,r,"data"),[e,t,l,i,r]),f=T.useMemo(()=>Y2(e,t,l,i,r,"assets"),[e,t,l,i,r]),p=T.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,b=!1;if(t.forEach(x=>{var N;let w=i.routes[x.route.id];!w||!w.hasLoader||(!d.some(R=>R.route.id===x.route.id)&&x.route.id in a&&((N=s[x.route.id])!=null&&N.shouldRevalidate)||w.hasClientLoader?b=!0:S.add(x.route.id))}),S.size===0)return[];let C=YN(e,o,"data");return b&&S.size>0&&C.searchParams.set("_routes",t.filter(x=>S.has(x.route.id)).map(x=>x.route.id).join(",")),[C.pathname+C.search]},[o,a,r,i,d,t,e,s]),g=T.useMemo(()=>e6(f,i),[f,i]),m=a6(f);return T.createElement(T.Fragment,null,p.map(S=>T.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),g.map(S=>T.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),m.map(({key:S,link:b})=>T.createElement("link",{key:S,nonce:n.nonce,...b})))}function c6(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var mw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mw&&(window.__reactRouterVersion="7.9.3")}catch{}function u6({basename:e,children:t,window:n}){let r=T.useRef();r.current==null&&(r.current=Jj({window:n,v5Compat:!0}));let i=r.current,[s,o]=T.useState({action:i.action,location:i.location}),a=T.useCallback(l=>{T.startTransition(()=>o(l))},[o]);return T.useLayoutEffect(()=>i.listen(a),[i,a]),T.createElement(ON,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var gw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vw=T.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:d,preventScrollReset:f,viewTransition:p,...g},m){let{basename:S}=T.useContext(ts),b=typeof d=="string"&&gw.test(d),C,x=!1;if(typeof d=="string"&&b&&(C=d,mw))try{let Q=new URL(window.location.href),X=d.startsWith("//")?new URL(Q.protocol+d):new URL(d),I=Ls(X.pathname,S);X.origin===Q.origin&&I!=null?d=I+X.search+X.hash:x=!0}catch{Ii(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=jN(d,{relative:i}),[N,R,q]=s6(r,g),W=p6(d,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:p});function B(Q){t&&t(Q),Q.defaultPrevented||W(Q)}let F=T.createElement("a",{...g,...q,href:C||w,onClick:x||s?t:B,ref:c6(m,R),target:l,"data-discover":!b&&n==="render"?"true":void 0});return N&&!b?T.createElement(T.Fragment,null,F,T.createElement(o6,{page:w})):F});vw.displayName="Link";var d6=T.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...d},f){let p=yu(o,{relative:d.relative}),g=jo(),m=T.useContext(rf),{navigator:S,basename:b}=T.useContext(ts),C=m!=null&&w6(p)&&a===!0,x=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,w=g.pathname,N=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(w=w.toLowerCase(),N=N?N.toLowerCase():null,x=x.toLowerCase()),N&&b&&(N=Ls(N,b)||N);const R=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let q=w===x||!i&&w.startsWith(x)&&w.charAt(R)==="/",W=N!=null&&(N===x||!i&&N.startsWith(x)&&N.charAt(x.length)==="/"),B={isActive:q,isPending:W,isTransitioning:C},F=q?t:void 0,Q;typeof r=="function"?Q=r(B):Q=[r,q?"active":null,W?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let X=typeof s=="function"?s(B):s;return T.createElement(vw,{...d,"aria-current":F,className:Q,ref:f,style:X,to:o,viewTransition:a},typeof l=="function"?l(B):l)});d6.displayName="NavLink";var h6=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Yd,action:a,onSubmit:l,relative:d,preventScrollReset:f,viewTransition:p,...g},m)=>{let S=y6(),b=x6(a,{relative:d}),C=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&gw.test(a),w=N=>{if(l&&l(N),N.defaultPrevented)return;N.preventDefault();let R=N.nativeEvent.submitter,q=(R==null?void 0:R.getAttribute("formmethod"))||o;S(R||N.currentTarget,{fetcherKey:t,method:q,navigate:n,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:p})};return T.createElement("form",{ref:m,method:C,action:b,onSubmit:r?l:w,...g,"data-discover":!x&&e==="render"?"true":void 0})});h6.displayName="Form";function f6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yw(e){let t=T.useContext(Al);return tn(t,f6(e)),t}function p6(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=p0(),l=jo(),d=yu(e,{relative:s});return T.useCallback(f=>{if($N(f,t)){f.preventDefault();let p=n!==void 0?n:iu(l)===iu(d);a(e,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,d,n,r,t,e,i,s,o])}function m6(e){Ii(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=T.useRef(Um(e)),n=T.useRef(!1),r=jo(),i=T.useMemo(()=>HN(r.search,n.current?null:t.current),[r.search]),s=p0(),o=T.useCallback((a,l)=>{const d=Um(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+d,l)},[s,i]);return[i,o]}var g6=0,v6=()=>`__${String(++g6)}__`;function y6(){let{router:e}=yw("useSubmit"),{basename:t}=T.useContext(ts),n=IN();return T.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:d}=KN(r,t);if(i.navigate===!1){let f=i.fetcherKey||v6();await e.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:d,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:d,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function x6(e,{relative:t}={}){let{basename:n}=T.useContext(ts),r=T.useContext(Ts);tn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...yu(e||".",{relative:t})},o=jo();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ss([n,s.pathname])),iu(s)}function w6(e,{relative:t}={}){let n=T.useContext(lw);tn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yw("useViewTransitionState"),i=yu(e,{relative:t});if(!n.isTransitioning)return!1;let s=Ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _h(i.pathname,o)!=null||_h(i.pathname,s)!=null}const x0=T.createContext({});function w0(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const of=T.createContext(null),b0=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class b6 extends T.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function S6({children:e,isPresent:t}){const n=T.useId(),r=T.useRef(null),i=T.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=T.useContext(b0);return T.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:d}=i.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return s&&(f.nonce=s),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),c.jsx(b6,{isPresent:t,childRef:r,sizeRef:i,children:T.cloneElement(e,{ref:r})})}const j6=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=w0(N6),l=T.useId(),d=T.useCallback(p=>{a.set(p,!0);for(const g of a.values())if(!g)return;r&&r()},[a,r]),f=T.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:d,register:p=>(a.set(p,!1),()=>a.delete(p))}),s?[Math.random(),d]:[n,d]);return T.useMemo(()=>{a.forEach((p,g)=>a.set(g,!1))},[n]),T.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(S6,{isPresent:n,children:e})),c.jsx(of.Provider,{value:f,children:e})};function N6(){return new Map}function xw(e=!0){const t=T.useContext(of);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=T.useId();T.useEffect(()=>{e&&i(s)},[e]);const o=T.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Cd=e=>e.key||"";function J2(e){const t=[];return T.Children.forEach(e,n=>{T.isValidElement(n)&&t.push(n)}),t}const S0=typeof window<"u",ww=S0?T.useLayoutEffect:T.useEffect,pi=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=xw(o),d=T.useMemo(()=>J2(e),[e]),f=o&&!a?[]:d.map(Cd),p=T.useRef(!0),g=T.useRef(d),m=w0(()=>new Map),[S,b]=T.useState(d),[C,x]=T.useState(d);ww(()=>{p.current=!1,g.current=d;for(let R=0;R<C.length;R++){const q=Cd(C[R]);f.includes(q)?m.delete(q):m.get(q)!==!0&&m.set(q,!1)}},[C,f.length,f.join("-")]);const w=[];if(d!==S){let R=[...d];for(let q=0;q<C.length;q++){const W=C[q],B=Cd(W);f.includes(B)||(R.splice(q,0,W),w.push(W))}s==="wait"&&w.length&&(R=w),x(J2(R)),b(d);return}const{forceRender:N}=T.useContext(x0);return c.jsx(c.Fragment,{children:C.map(R=>{const q=Cd(R),W=o&&!a?!1:d===C||f.includes(q),B=()=>{if(m.has(q))m.set(q,!0);else return;let F=!0;m.forEach(Q=>{Q||(F=!1)}),F&&(N==null||N(),x(g.current),o&&(l==null||l()),r&&r())};return c.jsx(j6,{isPresent:W,initial:!p.current||n?void 0:!1,custom:W?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:W?void 0:B,children:R},q)})})},Hr=e=>e;let bw=Hr;function j0(e){let t;return()=>(t===void 0&&(t=e()),t)}const yl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},js=e=>e*1e3,Ns=e=>e/1e3,C6={skipAnimations:!1,useManualTiming:!1};function A6(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(d){s.has(d)&&(l.schedule(d),e()),d(o)}const l={schedule:(d,f=!1,p=!1)=>{const m=p&&r?t:n;return f&&s.add(d),m.has(d)||m.add(d),d},cancel:d=>{n.delete(d),s.delete(d)},process:d=>{if(o=d,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(d))}};return l}const Ad=["read","resolveKeyframes","update","preRender","render","postRender"],k6=40;function Sw(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ad.reduce((x,w)=>(x[w]=A6(s),x),{}),{read:a,resolveKeyframes:l,update:d,preRender:f,render:p,postRender:g}=o,m=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,k6),1),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),d.process(i),f.process(i),p.process(i),g.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},S=()=>{n=!0,r=!0,i.isProcessing||e(m)};return{schedule:Ad.reduce((x,w)=>{const N=o[w];return x[w]=(R,q=!1,W=!1)=>(n||S(),N.schedule(R,q,W)),x},{}),cancel:x=>{for(let w=0;w<Ad.length;w++)o[Ad[w]].cancel(x)},state:i,steps:o}}const{schedule:Gt,cancel:go,state:Vn,steps:Np}=Sw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hr,!0),jw=T.createContext({strict:!1}),X2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xl={};for(const e in X2)xl[e]={isEnabled:t=>X2[e].some(n=>!!t[n])};function P6(e){for(const t in e)xl[t]={...xl[t],...e[t]}}const L6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Eh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||L6.has(e)}let Nw=e=>!Eh(e);function _6(e){e&&(Nw=t=>t.startsWith("on")?!Eh(t):e(t))}try{_6(require("@emotion/is-prop-valid").default)}catch{}function E6(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Nw(i)||n===!0&&Eh(i)||!t&&!Eh(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function T6(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const af=T.createContext({});function su(e){return typeof e=="string"||Array.isArray(e)}function lf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const N0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C0=["initial",...N0];function cf(e){return lf(e.animate)||C0.some(t=>su(e[t]))}function Cw(e){return!!(cf(e)||e.variants)}function F6(e,t){if(cf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||su(n)?n:void 0,animate:su(r)?r:void 0}}return e.inherit!==!1?t:{}}function I6(e){const{initial:t,animate:n}=F6(e,T.useContext(af));return T.useMemo(()=>({initial:t,animate:n}),[Q2(t),Q2(n)])}function Q2(e){return Array.isArray(e)?e.join(" "):e}const R6=Symbol.for("motionComponentSymbol");function Ka(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function D6(e,t,n){return T.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ka(n)&&(n.current=r))},[t])}const A0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),M6="framerAppearId",Aw="data-"+A0(M6),{schedule:k0,cancel:U_}=Sw(queueMicrotask,!1),kw=T.createContext({});function O6(e,t,n,r,i){var s,o;const{visualElement:a}=T.useContext(af),l=T.useContext(jw),d=T.useContext(of),f=T.useContext(b0).reducedMotion,p=T.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,m=T.useContext(kw);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&B6(p.current,n,i,m);const S=T.useRef(!1);T.useInsertionEffect(()=>{g&&S.current&&g.update(n,d)});const b=n[Aw],C=T.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return ww(()=>{g&&(S.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),k0.render(g.render),C.current&&g.animationState&&g.animationState.animateChanges())}),T.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,b)}),C.current=!1))}),g}function B6(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Pw(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ka(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:d})}function Pw(e){if(e)return e.options.allowProjection!==!1?e.projection:Pw(e.parent)}function z6({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,o;e&&P6(e);function a(d,f){let p;const g={...T.useContext(b0),...d,layoutId:q6(d)},{isStatic:m}=g,S=I6(d),b=r(d,m);if(!m&&S0){U6();const C=V6(g);p=C.MeasureLayout,S.visualElement=O6(i,b,g,t,C.ProjectionNode)}return c.jsxs(af.Provider,{value:S,children:[p&&S.visualElement?c.jsx(p,{visualElement:S.visualElement,...g}):null,n(i,d,D6(b,S.visualElement,f),b,m,S.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=T.forwardRef(a);return l[R6]=i,l}function q6({layoutId:e}){const t=T.useContext(x0).id;return t&&e!==void 0?t+"-"+e:e}function U6(e,t){T.useContext(jw).strict}function V6(e){const{drag:t,layout:n}=xl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const $6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P0(e){return typeof e!="string"||e.includes("-")?!1:!!($6.indexOf(e)>-1||/[A-Z]/u.test(e))}function Z2(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function L0(e,t,n,r){if(typeof t=="function"){const[i,s]=Z2(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=Z2(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const Vm=e=>Array.isArray(e),H6=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),W6=e=>Vm(e)?e[e.length-1]||0:e,sr=e=>!!(e&&e.getVelocity);function Xd(e){const t=sr(e)?e.get():e;return H6(t)?t.toValue():t}function G6({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const o={latestValues:K6(r,i,s,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const Lw=e=>(t,n)=>{const r=T.useContext(af),i=T.useContext(of),s=()=>G6(e,t,r,i);return n?s():w0(s)};function K6(e,t,n,r){const i={},s=r(e,{});for(const g in s)i[g]=Xd(s[g]);let{initial:o,animate:a}=e;const l=cf(e),d=Cw(e);t&&d&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const p=f?a:o;if(p&&typeof p!="boolean"&&!lf(p)){const g=Array.isArray(p)?p:[p];for(let m=0;m<g.length;m++){const S=L0(e,g[m]);if(S){const{transitionEnd:b,transition:C,...x}=S;for(const w in x){let N=x[w];if(Array.isArray(N)){const R=f?N.length-1:0;N=N[R]}N!==null&&(i[w]=N)}for(const w in b)i[w]=b[w]}}}return i}const kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ia=new Set(kl),_w=e=>t=>typeof t=="string"&&t.startsWith(e),Ew=_w("--"),Y6=_w("var(--"),_0=e=>Y6(e)?J6.test(e.split("/*")[0].trim()):!1,J6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,_s=(e,t,n)=>n>t?t:n<e?e:n,Pl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ou={...Pl,transform:e=>_s(0,1,e)},kd={...Pl,default:1},xu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xs=xu("deg"),Qi=xu("%"),st=xu("px"),X6=xu("vh"),Q6=xu("vw"),ev={...Qi,parse:e=>Qi.parse(e)/100,transform:e=>Qi.transform(e*100)},Z6={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,backgroundPositionX:st,backgroundPositionY:st},eC={rotate:Xs,rotateX:Xs,rotateY:Xs,rotateZ:Xs,scale:kd,scaleX:kd,scaleY:kd,scaleZ:kd,skew:Xs,skewX:Xs,skewY:Xs,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:ou,originX:ev,originY:ev,originZ:st},tv={...Pl,transform:Math.round},E0={...Z6,...eC,zIndex:tv,size:st,fillOpacity:ou,strokeOpacity:ou,numOctaves:tv},tC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nC=kl.length;function rC(e,t,n){let r="",i=!0;for(let s=0;s<nC;s++){const o=kl[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const d=Tw(a,E0[o]);if(!l){i=!1;const f=tC[o]||o;r+=`${f}(${d}) `}n&&(t[o]=d)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function T0(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const d=t[l];if(ia.has(l)){o=!0;continue}else if(Ew(l)){i[l]=d;continue}else{const f=Tw(d,E0[l]);l.startsWith("origin")?(a=!0,s[l]=f):r[l]=f}}if(t.transform||(o||n?r.transform=rC(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${l} ${d} ${f}`}}const iC={offset:"stroke-dashoffset",array:"stroke-dasharray"},sC={offset:"strokeDashoffset",array:"strokeDasharray"};function oC(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?iC:sC;e[s.offset]=st.transform(-r);const o=st.transform(t),a=st.transform(n);e[s.array]=`${o} ${a}`}function nv(e,t,n){return typeof e=="string"?e:st.transform(t+n*e)}function aC(e,t,n){const r=nv(t,e.x,e.width),i=nv(n,e.y,e.height);return`${r} ${i}`}function F0(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...d},f,p){if(T0(e,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:m,dimensions:S}=e;g.transform&&(S&&(m.transform=g.transform),delete g.transform),S&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=aC(S,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&oC(g,o,a,l,!1)}const I0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Fw=()=>({...I0(),attrs:{}}),R0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Iw(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const Rw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Dw(e,t,n,r){Iw(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Rw.has(i)?i:A0(i),t.attrs[i])}const Th={};function lC(e){Object.assign(Th,e)}function Mw(e,{layout:t,layoutId:n}){return ia.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Th[e]||e==="opacity")}function D0(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(sr(i[o])||t.style&&sr(t.style[o])||Mw(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function Ow(e,t,n){const r=D0(e,t,n);for(const i in e)if(sr(e[i])||sr(t[i])){const s=kl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function cC(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const rv=["x","y","width","height","cx","cy","r"],uC={useVisualState:Lw({scrapeMotionValuesFromProps:Ow,createRenderState:Fw,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in i)if(ia.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<rv.length;a++){const l=rv[a];e[l]!==t[l]&&(o=!0)}o&&Gt.read(()=>{cC(n,r),Gt.render(()=>{F0(r,i,R0(n.tagName),e.transformTemplate),Dw(n,r)})})}})},dC={useVisualState:Lw({scrapeMotionValuesFromProps:D0,createRenderState:I0})};function Bw(e,t,n){for(const r in t)!sr(t[r])&&!Mw(r,n)&&(e[r]=t[r])}function hC({transformTemplate:e},t){return T.useMemo(()=>{const n=I0();return T0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function fC(e,t){const n=e.style||{},r={};return Bw(r,n,e),Object.assign(r,hC(e,t)),r}function pC(e,t){const n={},r=fC(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function mC(e,t,n,r){const i=T.useMemo(()=>{const s=Fw();return F0(s,t,R0(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Bw(s,e.style,e),i.style={...s,...i.style}}return i}function gC(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(P0(n)?mC:pC)(r,s,o,n),d=E6(r,typeof n=="string",e),f=n!==T.Fragment?{...d,...l,ref:i}:{},{children:p}=r,g=T.useMemo(()=>sr(p)?p.get():p,[p]);return T.createElement(n,{...f,children:g})}}function vC(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...P0(r)?uC:dC,preloadedFeatures:e,useRender:gC(i),createVisualElement:t,Component:r};return z6(o)}}function zw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function uf(e,t,n){const r=e.getProps();return L0(r,t,n!==void 0?n:r.custom,e)}const yC=j0(()=>window.ScrollTimeline!==void 0);class xC{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(yC()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class wC extends xC{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function M0(e,t){return e?e[t]||e.default||e:void 0}const $m=2e4;function qw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<$m;)t+=n,r=e.next(t);return t>=$m?1/0:t}function O0(e){return typeof e=="function"}function iv(e,t){e.timeline=t,e.onfinish=null}const B0=e=>Array.isArray(e)&&typeof e[0]=="number",bC={linearEasing:void 0};function SC(e,t){const n=j0(e);return()=>{var r;return(r=bC[t])!==null&&r!==void 0?r:n()}}const Fh=SC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uw=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(yl(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function Vw(e){return!!(typeof e=="function"&&Fh()||!e||typeof e=="string"&&(e in Hm||Fh())||B0(e)||Array.isArray(e)&&e.every(Vw))}const jc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Hm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jc([0,.65,.55,1]),circOut:jc([.55,0,1,.45]),backIn:jc([.31,.01,.66,-.59]),backOut:jc([.33,1.53,.69,.99])};function $w(e,t){if(e)return typeof e=="function"&&Fh()?Uw(e,t):B0(e)?jc(e):Array.isArray(e)?e.map(n=>$w(n,t)||Hm.easeOut):Hm[e]}const Ai={x:!1,y:!1};function Hw(){return Ai.x||Ai.y}function jC(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;t&&(i=t.current);const s=(r=n==null?void 0:n[e])!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function Ww(e,t){const n=jC(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function sv(e){return t=>{t.pointerType==="touch"||Hw()||e(t)}}function NC(e,t,n={}){const[r,i,s]=Ww(e,n),o=sv(a=>{const{target:l}=a,d=t(a);if(typeof d!="function"||!l)return;const f=sv(p=>{d(p),l.removeEventListener("pointerleave",f)});l.addEventListener("pointerleave",f,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Gw=(e,t)=>t?e===t?!0:Gw(e,t.parentElement):!1,z0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,CC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AC(e){return CC.has(e.tagName)||e.tabIndex!==-1}const Nc=new WeakSet;function ov(e){return t=>{t.key==="Enter"&&e(t)}}function Cp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const kC=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=ov(()=>{if(Nc.has(n))return;Cp(n,"down");const i=ov(()=>{Cp(n,"up")}),s=()=>Cp(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function av(e){return z0(e)&&!Hw()}function PC(e,t,n={}){const[r,i,s]=Ww(e,n),o=a=>{const l=a.currentTarget;if(!av(a)||Nc.has(l))return;Nc.add(l);const d=t(a),f=(m,S)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),!(!av(m)||!Nc.has(l))&&(Nc.delete(l),typeof d=="function"&&d(m,{success:S}))},p=m=>{f(m,n.useGlobalTarget||Gw(l,m.target))},g=m=>{f(m,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(a=>{!AC(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",d=>kC(d,i),i)}),s}function LC(e){return e==="x"||e==="y"?Ai[e]?null:(Ai[e]=!0,()=>{Ai[e]=!1}):Ai.x||Ai.y?null:(Ai.x=Ai.y=!0,()=>{Ai.x=Ai.y=!1})}const Kw=new Set(["width","height","top","left","right","bottom",...kl]);let Qd;function _C(){Qd=void 0}const Zi={now:()=>(Qd===void 0&&Zi.set(Vn.isProcessing||C6.useManualTiming?Vn.timestamp:performance.now()),Qd),set:e=>{Qd=e,queueMicrotask(_C)}};function q0(e,t){e.indexOf(t)===-1&&e.push(t)}function U0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class V0{constructor(){this.subscriptions=[]}add(t){return q0(this.subscriptions,t),()=>U0(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Yw(e,t){return t?e*(1e3/t):0}const lv=30,EC=e=>!isNaN(parseFloat(e));class TC{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Zi.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Zi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=EC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new V0);const r=this.events[t].add(n);return t==="change"?()=>{r(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Zi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>lv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lv);return Yw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function au(e,t){return new TC(e,t)}function FC(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,au(n))}function IC(e,t){const n=uf(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=W6(s[o]);FC(e,o,a)}}function RC(e){return!!(sr(e)&&e.add)}function Wm(e,t){const n=e.getValue("willChange");if(RC(n))return n.add(t)}function Jw(e){return e.props[Aw]}const Xw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,DC=1e-7,MC=12;function OC(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=Xw(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>DC&&++a<MC);return o}function wu(e,t,n,r){if(e===t&&n===r)return Hr;const i=s=>OC(s,0,1,e,n);return s=>s===0||s===1?s:Xw(i(s),t,r)}const Qw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Zw=e=>t=>1-e(1-t),e3=wu(.33,1.53,.69,.99),$0=Zw(e3),t3=Qw($0),n3=e=>(e*=2)<1?.5*$0(e):.5*(2-Math.pow(2,-10*(e-1))),H0=e=>1-Math.sin(Math.acos(e)),r3=Zw(H0),i3=Qw(H0),s3=e=>/^0[^.\s]+$/u.test(e);function BC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||s3(e):!0}const Rc=e=>Math.round(e*1e5)/1e5,W0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zC(e){return e==null}const qC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,G0=(e,t)=>n=>!!(typeof n=="string"&&qC.test(n)&&n.startsWith(e)||t&&!zC(n)&&Object.prototype.hasOwnProperty.call(n,t)),o3=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(W0);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},UC=e=>_s(0,255,e),Ap={...Pl,transform:e=>Math.round(UC(e))},Wo={test:G0("rgb","red"),parse:o3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ap.transform(e)+", "+Ap.transform(t)+", "+Ap.transform(n)+", "+Rc(ou.transform(r))+")"};function VC(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Gm={test:G0("#"),parse:VC,transform:Wo.transform},Ya={test:G0("hsl","hue"),parse:o3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Qi.transform(Rc(t))+", "+Qi.transform(Rc(n))+", "+Rc(ou.transform(r))+")"},nr={test:e=>Wo.test(e)||Gm.test(e)||Ya.test(e),parse:e=>Wo.test(e)?Wo.parse(e):Ya.test(e)?Ya.parse(e):Gm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Wo.transform(e):Ya.transform(e)},$C=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HC(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(W0))===null||t===void 0?void 0:t.length)||0)+(((n=e.match($C))===null||n===void 0?void 0:n.length)||0)>0}const a3="number",l3="color",WC="var",GC="var(",cv="${}",KC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(KC,l=>(nr.test(l)?(r.color.push(s),i.push(l3),n.push(nr.parse(l))):l.startsWith(GC)?(r.var.push(s),i.push(WC),n.push(l)):(r.number.push(s),i.push(a3),n.push(parseFloat(l))),++s,cv)).split(cv);return{values:n,split:a,indexes:r,types:i}}function c3(e){return lu(e).values}function u3(e){const{split:t,types:n}=lu(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===a3?s+=Rc(i[o]):a===l3?s+=nr.transform(i[o]):s+=i[o]}return s}}const YC=e=>typeof e=="number"?0:e;function JC(e){const t=c3(e);return u3(e)(t.map(YC))}const vo={test:HC,parse:c3,createTransformer:u3,getAnimatableNone:JC},XC=new Set(["brightness","contrast","saturate","opacity"]);function QC(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(W0)||[];if(!r)return e;const i=n.replace(r,"");let s=XC.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const ZC=/\b([a-z-]*)\(.*?\)/gu,Km={...vo,getAnimatableNone:e=>{const t=e.match(ZC);return t?t.map(QC).join(" "):e}},eA={...E0,color:nr,backgroundColor:nr,outlineColor:nr,fill:nr,stroke:nr,borderColor:nr,borderTopColor:nr,borderRightColor:nr,borderBottomColor:nr,borderLeftColor:nr,filter:Km,WebkitFilter:Km},K0=e=>eA[e];function d3(e,t){let n=K0(e);return n!==Km&&(n=vo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const tA=new Set(["auto","none","0"]);function nA(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!tA.has(s)&&lu(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=d3(n,i)}const uv=e=>e===Pl||e===st,dv=(e,t)=>parseFloat(e.split(", ")[t]),hv=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return dv(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?dv(s[1],e):0}},rA=new Set(["x","y","z"]),iA=kl.filter(e=>!rA.has(e));function sA(e){const t=[];return iA.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const wl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:hv(4,13),y:hv(5,14)};wl.translateX=wl.x;wl.translateY=wl.y;const Yo=new Set;let Ym=!1,Jm=!1;function h3(){if(Jm){const e=Array.from(Yo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=sA(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jm=!1,Ym=!1,Yo.forEach(e=>e.complete()),Yo.clear()}function f3(){Yo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Jm=!0)})}function oA(){f3(),h3()}class Y0{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Yo.add(this),Ym||(Ym=!0,Gt.read(f3),Gt.resolveKeyframes(h3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Yo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Yo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const p3=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),aA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lA(e){const t=aA.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function m3(e,t,n=1){const[r,i]=lA(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return p3(o)?parseFloat(o):o}return _0(i)?m3(i,t,n+1):i}const g3=e=>t=>t.test(e),cA={test:e=>e==="auto",parse:e=>e},v3=[Pl,st,Qi,Xs,Q6,X6,cA],fv=e=>v3.find(g3(e));class y3 extends Y0{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let d=t[l];if(typeof d=="string"&&(d=d.trim(),_0(d))){const f=m3(d,n.current);f!==void 0&&(t[l]=f),l===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Kw.has(r)||t.length!==2)return;const[i,s]=t,o=fv(i),a=fv(s);if(o!==a)if(uv(o)&&uv(a))for(let l=0;l<t.length;l++){const d=t[l];typeof d=="string"&&(t[l]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)BC(t[i])&&r.push(i);r.length&&nA(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=wl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,d])=>{n.getValue(l).set(d)}),this.resolveNoneKeyframes()}}const pv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(vo.test(e)||e==="0")&&!e.startsWith("url("));function uA(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function dA(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=pv(i,t),a=pv(s,t);return!o||!a?!1:uA(e)||(n==="spring"||O0(n))&&r}const hA=e=>e!==null;function df(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(hA),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const fA=40;class x3{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Zi.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fA?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oA(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Zi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:d}=this.options;if(!d&&!dA(t,r,i,s))if(o)this.options.duration=0;else{l&&l(df(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,n);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Zt=(e,t,n)=>e+(t-e)*n;function kp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pA({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=kp(l,a,e+1/3),s=kp(l,a,e),o=kp(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Ih(e,t){return n=>n>0?t:e}const Pp=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},mA=[Gm,Wo,Ya],gA=e=>mA.find(t=>t.test(e));function mv(e){const t=gA(e);if(!t)return!1;let n=t.parse(e);return t===Ya&&(n=pA(n)),n}const gv=(e,t)=>{const n=mv(e),r=mv(t);if(!n||!r)return Ih(e,t);const i={...n};return s=>(i.red=Pp(n.red,r.red,s),i.green=Pp(n.green,r.green,s),i.blue=Pp(n.blue,r.blue,s),i.alpha=Zt(n.alpha,r.alpha,s),Wo.transform(i))},vA=(e,t)=>n=>t(e(n)),bu=(...e)=>e.reduce(vA),Xm=new Set(["none","hidden"]);function yA(e,t){return Xm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function xA(e,t){return n=>Zt(e,t,n)}function J0(e){return typeof e=="number"?xA:typeof e=="string"?_0(e)?Ih:nr.test(e)?gv:SA:Array.isArray(e)?w3:typeof e=="object"?nr.test(e)?gv:wA:Ih}function w3(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>J0(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function wA(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=J0(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function bA(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const SA=(e,t)=>{const n=vo.createTransformer(t),r=lu(e),i=lu(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Xm.has(e)&&!i.values.length||Xm.has(t)&&!r.values.length?yA(e,t):bu(w3(bA(r,i),i.values),n):Ih(e,t)};function b3(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Zt(e,t,n):J0(e)(e,t)}const jA=5;function S3(e,t,n){const r=Math.max(t-jA,0);return Yw(n-e(r),t-r)}const cn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lp=.001;function NA({duration:e=cn.duration,bounce:t=cn.bounce,velocity:n=cn.velocity,mass:r=cn.mass}){let i,s,o=1-t;o=_s(cn.minDamping,cn.maxDamping,o),e=_s(cn.minDuration,cn.maxDuration,Ns(e)),o<1?(i=d=>{const f=d*o,p=f*e,g=f-n,m=Qm(d,o),S=Math.exp(-p);return Lp-g/m*S},s=d=>{const p=d*o*e,g=p*n+n,m=Math.pow(o,2)*Math.pow(d,2)*e,S=Math.exp(-p),b=Qm(Math.pow(d,2),o);return(-i(d)+Lp>0?-1:1)*((g-m)*S)/b}):(i=d=>{const f=Math.exp(-d*e),p=(d-n)*e+1;return-Lp+f*p},s=d=>{const f=Math.exp(-d*e),p=(n-d)*(e*e);return f*p});const a=5/e,l=AA(i,s,a);if(e=js(e),isNaN(l))return{stiffness:cn.stiffness,damping:cn.damping,duration:e};{const d=Math.pow(l,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const CA=12;function AA(e,t,n){let r=n;for(let i=1;i<CA;i++)r=r-e(r)/t(r);return r}function Qm(e,t){return e*Math.sqrt(1-t*t)}const kA=["duration","bounce"],PA=["stiffness","damping","mass"];function vv(e,t){return t.some(n=>e[n]!==void 0)}function LA(e){let t={velocity:cn.velocity,stiffness:cn.stiffness,damping:cn.damping,mass:cn.mass,isResolvedFromDuration:!1,...e};if(!vv(e,PA)&&vv(e,kA))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*_s(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:cn.mass,stiffness:i,damping:s}}else{const n=NA(e);t={...t,...n,mass:cn.mass},t.isResolvedFromDuration=!0}return t}function j3(e=cn.visualDuration,t=cn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:d,mass:f,duration:p,velocity:g,isResolvedFromDuration:m}=LA({...n,velocity:-Ns(n.velocity||0)}),S=g||0,b=d/(2*Math.sqrt(l*f)),C=o-s,x=Ns(Math.sqrt(l/f)),w=Math.abs(C)<5;r||(r=w?cn.restSpeed.granular:cn.restSpeed.default),i||(i=w?cn.restDelta.granular:cn.restDelta.default);let N;if(b<1){const q=Qm(x,b);N=W=>{const B=Math.exp(-b*x*W);return o-B*((S+b*x*C)/q*Math.sin(q*W)+C*Math.cos(q*W))}}else if(b===1)N=q=>o-Math.exp(-x*q)*(C+(S+x*C)*q);else{const q=x*Math.sqrt(b*b-1);N=W=>{const B=Math.exp(-b*x*W),F=Math.min(q*W,300);return o-B*((S+b*x*C)*Math.sinh(F)+q*C*Math.cosh(F))/q}}const R={calculatedDuration:m&&p||null,next:q=>{const W=N(q);if(m)a.done=q>=p;else{let B=0;b<1&&(B=q===0?js(S):S3(N,q,W));const F=Math.abs(B)<=r,Q=Math.abs(o-W)<=i;a.done=F&&Q}return a.value=a.done?o:W,a},toString:()=>{const q=Math.min(qw(R),$m),W=Uw(B=>R.next(q*B).value,q,30);return q+"ms "+W}};return R}function yv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:d=.5,restSpeed:f}){const p=e[0],g={done:!1,value:p},m=F=>a!==void 0&&F<a||l!==void 0&&F>l,S=F=>a===void 0?l:l===void 0||Math.abs(a-F)<Math.abs(l-F)?a:l;let b=n*t;const C=p+b,x=o===void 0?C:o(C);x!==C&&(b=x-p);const w=F=>-b*Math.exp(-F/r),N=F=>x+w(F),R=F=>{const Q=w(F),X=N(F);g.done=Math.abs(Q)<=d,g.value=g.done?x:X};let q,W;const B=F=>{m(g.value)&&(q=F,W=j3({keyframes:[g.value,S(g.value)],velocity:S3(N,F,g.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return B(0),{calculatedDuration:null,next:F=>{let Q=!1;return!W&&q===void 0&&(Q=!0,R(F),B(F)),q!==void 0&&F>=q?W.next(F-q):(!Q&&R(F),g)}}}const _A=wu(.42,0,1,1),EA=wu(0,0,.58,1),N3=wu(.42,0,.58,1),TA=e=>Array.isArray(e)&&typeof e[0]!="number",FA={linear:Hr,easeIn:_A,easeInOut:N3,easeOut:EA,circIn:H0,circInOut:i3,circOut:r3,backIn:$0,backInOut:t3,backOut:e3,anticipate:n3},xv=e=>{if(B0(e)){bw(e.length===4);const[t,n,r,i]=e;return wu(t,n,r,i)}else if(typeof e=="string")return FA[e];return e};function IA(e,t,n){const r=[],i=n||b3,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Hr:t;a=bu(l,a)}r.push(a)}return r}function RA(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(bw(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=IA(t,r,i),l=a.length,d=f=>{if(o&&f<e[0])return t[0];let p=0;if(l>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const g=yl(e[p],e[p+1],f);return a[p](g)};return n?f=>d(_s(e[0],e[s-1],f)):d}function DA(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=yl(0,t,r);e.push(Zt(n,1,i))}}function MA(e){const t=[0];return DA(t,e.length-1),t}function OA(e,t){return e.map(n=>n*t)}function BA(e,t){return e.map(()=>t||N3).splice(0,e.length-1)}function Rh({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=TA(r)?r.map(xv):xv(r),s={done:!1,value:t[0]},o=OA(n&&n.length===t.length?n:MA(t),e),a=RA(o,t,{ease:Array.isArray(i)?i:BA(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const zA=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Gt.update(t,!0),stop:()=>go(t),now:()=>Vn.isProcessing?Vn.timestamp:Zi.now()}},qA={decay:yv,inertia:yv,tween:Rh,keyframes:Rh,spring:j3},UA=e=>e/100;class X0 extends x3{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Y0,a=(l,d)=>this.onKeyframesResolved(l,d);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=O0(n)?n:qA[n]||Rh;let l,d;a!==Rh&&typeof t[0]!="number"&&(l=bu(UA,b3(t[0],t[1])),t=[0,100]);const f=a({...this.options,keyframes:t});s==="mirror"&&(d=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=qw(f));const{calculatedDuration:p}=f,g=p+i,m=g*(r+1)-i;return{generator:f,mirroredGenerator:d,mapPercentToKeyframes:l,calculatedDuration:p,resolvedDuration:g,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:F}=this.options;return{done:!0,value:F[F.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:d,totalDuration:f,resolvedDuration:p}=r;if(this.startTime===null)return s.next(0);const{delay:g,repeat:m,repeatType:S,repeatDelay:b,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-g*(this.speed>=0?1:-1),w=this.speed>=0?x<0:x>f;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let N=this.currentTime,R=s;if(m){const F=Math.min(this.currentTime,f)/p;let Q=Math.floor(F),X=F%1;!X&&F>=1&&(X=1),X===1&&Q--,Q=Math.min(Q,m+1),!!(Q%2)&&(S==="reverse"?(X=1-X,b&&(X-=b/p)):S==="mirror"&&(R=o)),N=_s(0,1,X)*p}const q=w?{done:!1,value:l[0]}:R.next(N);a&&(q.value=a(q.value));let{done:W}=q;!w&&d!==null&&(W=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return B&&i!==void 0&&(q.value=df(l,this.options,i)),C&&C(q.value),B&&this.finish(),q}get duration(){const{resolved:t}=this;return t?Ns(t.calculatedDuration):0}get time(){return Ns(this.currentTime)}set time(t){t=js(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ns(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=zA,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const VA=new Set(["opacity","clipPath","filter","transform"]);function $A(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const d={[t]:n};l&&(d.offset=l);const f=$w(a,i);return Array.isArray(f)&&(d.easing=f),e.animate(d,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const HA=j0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Dh=10,WA=2e4;function GA(e){return O0(e.type)||e.type==="spring"||!Vw(e.ease)}function KA(e,t){const n=new X0({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<WA;)r=n.sample(s),i.push(r.value),s+=Dh;return{times:void 0,keyframes:i,duration:s-Dh,ease:"linear"}}const C3={anticipate:n3,backInOut:t3,circInOut:i3};function YA(e){return e in C3}class wv extends x3{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new y3(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:d}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Fh()&&YA(s)&&(s=C3[s]),GA(this.options)){const{onComplete:p,onUpdate:g,motionValue:m,element:S,...b}=this.options,C=KA(t,b);t=C.keyframes,t.length===1&&(t[1]=t[0]),r=C.duration,i=C.times,s=C.ease,o="keyframes"}const f=$A(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:s});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(iv(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;a.set(df(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ns(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ns(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=js(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Hr;const{animation:r}=n;iv(r,t)}return Hr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:f,onComplete:p,element:g,...m}=this.options,S=new X0({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),b=js(this.time);d.setWithVelocity(S.sample(b-Dh).value,S.sample(b).value,Dh)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:d}=n.owner.getProps();return HA()&&r&&VA.has(r)&&!l&&!d&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const JA={type:"spring",stiffness:500,damping:25,restSpeed:10},XA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),QA={type:"keyframes",duration:.8},ZA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},e8=(e,{keyframes:t})=>t.length>2?QA:ia.has(e)?e.startsWith("scale")?XA(t[1]):JA:ZA;function t8({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:d,...f}){return!!Object.keys(f).length}const Q0=(e,t,n,r={},i,s)=>o=>{const a=M0(r,e)||{},l=a.delay||r.delay||0;let{elapsed:d=0}=r;d=d-js(l);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-d,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};t8(a)||(f={...f,...e8(e,f)}),f.duration&&(f.duration=js(f.duration)),f.repeatDelay&&(f.repeatDelay=js(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!s&&t.get()!==void 0){const g=df(f.keyframes,a);if(g!==void 0)return Gt.update(()=>{f.onUpdate(g),f.onComplete()}),new wC([])}return!s&&wv.supports(f)?new wv(f):new X0(f)};function n8({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function A3(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const d=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in l){const g=e.getValue(p,(s=e.latestValues[p])!==null&&s!==void 0?s:null),m=l[p];if(m===void 0||f&&n8(f,p))continue;const S={delay:n,...M0(o||{},p)};let b=!1;if(window.MotionHandoffAnimation){const x=Jw(e);if(x){const w=window.MotionHandoffAnimation(x,p,Gt);w!==null&&(S.startTime=w,b=!0)}}Wm(e,p),g.start(Q0(p,g,m,e.shouldReduceMotion&&Kw.has(p)?{type:!1}:S,e,b));const C=g.animation;C&&d.push(C)}return a&&Promise.all(d).then(()=>{Gt.update(()=>{a&&IC(e,a)})}),d}function Zm(e,t,n={}){var r;const i=uf(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(A3(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=s;return r8(e,t,f+d,p,g,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,f]=l==="beforeChildren"?[o,a]:[a,o];return d().then(()=>f())}else return Promise.all([o(),a(n.delay)])}function r8(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(d=0)=>d*r:(d=0)=>a-d*r;return Array.from(e.variantChildren).sort(i8).forEach((d,f)=>{d.notify("AnimationStart",t),o.push(Zm(d,t,{...s,delay:n+l(f)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function i8(e,t){return e.sortNodePosition(t)}function s8(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Zm(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Zm(e,t,n);else{const i=typeof t=="function"?uf(e,t,n.custom):t;r=Promise.all(A3(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const o8=C0.length;function k3(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?k3(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<o8;n++){const r=C0[n],i=e.props[r];(su(i)||i===!1)&&(t[r]=i)}return t}const a8=[...N0].reverse(),l8=N0.length;function c8(e){return t=>Promise.all(t.map(({animation:n,options:r})=>s8(e,n,r)))}function u8(e){let t=c8(e),n=bv(),r=!0;const i=l=>(d,f)=>{var p;const g=uf(e,f,l==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(g){const{transition:m,transitionEnd:S,...b}=g;d={...d,...b,...S}}return d};function s(l){t=l(e)}function o(l){const{props:d}=e,f=k3(e.parent)||{},p=[],g=new Set;let m={},S=1/0;for(let C=0;C<l8;C++){const x=a8[C],w=n[x],N=d[x]!==void 0?d[x]:f[x],R=su(N),q=x===l?w.isActive:null;q===!1&&(S=C);let W=N===f[x]&&N!==d[x]&&R;if(W&&r&&e.manuallyAnimateOnMount&&(W=!1),w.protectedKeys={...m},!w.isActive&&q===null||!N&&!w.prevProp||lf(N)||typeof N=="boolean")continue;const B=d8(w.prevProp,N);let F=B||x===l&&w.isActive&&!W&&R||C>S&&R,Q=!1;const X=Array.isArray(N)?N:[N];let I=X.reduce(i(x),{});q===!1&&(I={});const{prevResolvedValues:L={}}=w,Y={...L,...I},V=le=>{F=!0,g.has(le)&&(Q=!0,g.delete(le)),w.needsAnimating[le]=!0;const H=e.getValue(le);H&&(H.liveStyle=!1)};for(const le in Y){const H=I[le],re=L[le];if(m.hasOwnProperty(le))continue;let J=!1;Vm(H)&&Vm(re)?J=!zw(H,re):J=H!==re,J?H!=null?V(le):g.add(le):H!==void 0&&g.has(le)?V(le):w.protectedKeys[le]=!0}w.prevProp=N,w.prevResolvedValues=I,w.isActive&&(m={...m,...I}),r&&e.blockInitialAnimation&&(F=!1),F&&(!(W&&B)||Q)&&p.push(...X.map(le=>({animation:le,options:{type:x}})))}if(g.size){const C={};g.forEach(x=>{const w=e.getBaseTarget(x),N=e.getValue(x);N&&(N.liveStyle=!0),C[x]=w??null}),p.push({animation:C})}let b=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function a(l,d){var f;if(n[l].isActive===d)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var m;return(m=g.animationState)===null||m===void 0?void 0:m.setActive(l,d)}),n[l].isActive=d;const p=o(l);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=bv(),r=!0}}}function d8(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zw(t,e):!1}function Ro(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bv(){return{animate:Ro(!0),whileInView:Ro(),whileHover:Ro(),whileTap:Ro(),whileDrag:Ro(),whileFocus:Ro(),exit:Ro()}}class No{constructor(t){this.isMounted=!1,this.node=t}update(){}}class h8 extends No{constructor(t){super(t),t.animationState||(t.animationState=u8(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();lf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let f8=0;class p8 extends No{constructor(){super(...arguments),this.id=f8++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const m8={animation:{Feature:h8},exit:{Feature:p8}};function cu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Su(e){return{point:{x:e.pageX,y:e.pageY}}}const g8=e=>t=>z0(t)&&e(t,Su(t));function Dc(e,t,n,r){return cu(e,t,g8(n),r)}const Sv=(e,t)=>Math.abs(e-t);function v8(e,t){const n=Sv(e.x,t.x),r=Sv(e.y,t.y);return Math.sqrt(n**2+r**2)}class P3{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Ep(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=v8(p.offset,{x:0,y:0})>=3;if(!g&&!m)return;const{point:S}=p,{timestamp:b}=Vn;this.history.push({...S,timestamp:b});const{onStart:C,onMove:x}=this.handlers;g||(C&&C(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=_p(g,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:m,onSessionEnd:S,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Ep(p.type==="pointercancel"?this.lastMoveEventInfo:_p(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(p,C),S&&S(p,C)},!z0(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Su(t),a=_p(o,this.transformPagePoint),{point:l}=a,{timestamp:d}=Vn;this.history=[{...l,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Ep(a,this.history)),this.removeListeners=bu(Dc(this.contextWindow,"pointermove",this.handlePointerMove),Dc(this.contextWindow,"pointerup",this.handlePointerUp),Dc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),go(this.updatePoint)}}function _p(e,t){return t?{point:t(e.point)}:e}function jv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ep({point:e},t){return{point:e,delta:jv(e,L3(t)),offset:jv(e,y8(t)),velocity:x8(t,.1)}}function y8(e){return e[0]}function L3(e){return e[e.length-1]}function x8(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=L3(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>js(t)));)n--;if(!r)return{x:0,y:0};const s=Ns(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const _3=1e-4,w8=1-_3,b8=1+_3,E3=.01,S8=0-E3,j8=0+E3;function Gr(e){return e.max-e.min}function N8(e,t,n){return Math.abs(e-t)<=n}function Nv(e,t,n,r=.5){e.origin=r,e.originPoint=Zt(t.min,t.max,e.origin),e.scale=Gr(n)/Gr(t),e.translate=Zt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=w8&&e.scale<=b8||isNaN(e.scale))&&(e.scale=1),(e.translate>=S8&&e.translate<=j8||isNaN(e.translate))&&(e.translate=0)}function Mc(e,t,n,r){Nv(e.x,t.x,n.x,r?r.originX:void 0),Nv(e.y,t.y,n.y,r?r.originY:void 0)}function Cv(e,t,n){e.min=n.min+t.min,e.max=e.min+Gr(t)}function C8(e,t,n){Cv(e.x,t.x,n.x),Cv(e.y,t.y,n.y)}function Av(e,t,n){e.min=t.min-n.min,e.max=e.min+Gr(t)}function Oc(e,t,n){Av(e.x,t.x,n.x),Av(e.y,t.y,n.y)}function A8(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Zt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Zt(n,e,r.max):Math.min(e,n)),e}function kv(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function k8(e,{top:t,left:n,bottom:r,right:i}){return{x:kv(e.x,n,i),y:kv(e.y,t,r)}}function Pv(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function P8(e,t){return{x:Pv(e.x,t.x),y:Pv(e.y,t.y)}}function L8(e,t){let n=.5;const r=Gr(e),i=Gr(t);return i>r?n=yl(t.min,t.max-r,e.min):r>i&&(n=yl(e.min,e.max-i,t.min)),_s(0,1,n)}function _8(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const e1=.35;function E8(e=e1){return e===!1?e=0:e===!0&&(e=e1),{x:Lv(e,"left","right"),y:Lv(e,"top","bottom")}}function Lv(e,t,n){return{min:_v(e,t),max:_v(e,n)}}function _v(e,t){return typeof e=="number"?e:e[t]||0}const Ev=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ja=()=>({x:Ev(),y:Ev()}),Tv=()=>({min:0,max:0}),mn=()=>({x:Tv(),y:Tv()});function ui(e){return[e("x"),e("y")]}function T3({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function T8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function F8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Tp(e){return e===void 0||e===1}function t1({scale:e,scaleX:t,scaleY:n}){return!Tp(e)||!Tp(t)||!Tp(n)}function Bo(e){return t1(e)||F3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function F3(e){return Fv(e.x)||Fv(e.y)}function Fv(e){return e&&e!=="0%"}function Mh(e,t,n){const r=e-n,i=t*r;return n+i}function Iv(e,t,n,r,i){return i!==void 0&&(e=Mh(e,i,r)),Mh(e,n,r)+t}function n1(e,t=0,n=1,r,i){e.min=Iv(e.min,t,n,r,i),e.max=Iv(e.max,t,n,r,i)}function I3(e,{x:t,y:n}){n1(e.x,t.translate,t.scale,t.originPoint),n1(e.y,n.translate,n.scale,n.originPoint)}const Rv=.999999999999,Dv=1.0000000000001;function I8(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Qa(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,I3(e,o)),r&&Bo(s.latestValues)&&Qa(e,s.latestValues))}t.x<Dv&&t.x>Rv&&(t.x=1),t.y<Dv&&t.y>Rv&&(t.y=1)}function Xa(e,t){e.min=e.min+t,e.max=e.max+t}function Mv(e,t,n,r,i=.5){const s=Zt(e.min,e.max,i);n1(e,t,n,s,r)}function Qa(e,t){Mv(e.x,t.x,t.scaleX,t.scale,t.originX),Mv(e.y,t.y,t.scaleY,t.scale,t.originY)}function R3(e,t){return T3(F8(e.getBoundingClientRect(),t))}function R8(e,t,n){const r=R3(e,n),{scroll:i}=t;return i&&(Xa(r.x,i.offset.x),Xa(r.y,i.offset.y)),r}const D3=({current:e})=>e?e.ownerDocument.defaultView:null,D8=new WeakMap;class M8{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Su(f).point)},s=(f,p)=>{const{drag:g,dragPropagation:m,onDragStart:S}=this.getProps();if(g&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LC(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ui(C=>{let x=this.getAxisMotionValue(C).get()||0;if(Qi.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const N=w.layout.layoutBox[C];N&&(x=Gr(N)*(parseFloat(x)/100))}}this.originPoint[C]=x}),S&&Gt.postRender(()=>S(f,p)),Wm(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(f,p)=>{const{dragPropagation:g,dragDirectionLock:m,onDirectionLock:S,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:C}=p;if(m&&this.currentDirection===null){this.currentDirection=O8(C),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",p.point,C),this.updateAxis("y",p.point,C),this.visualElement.render(),b&&b(f,p)},a=(f,p)=>this.stop(f,p),l=()=>ui(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new P3(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:D3(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Gt.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Pd(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=A8(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Ka(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=k8(i.layoutBox,n):this.constraints=!1,this.elastic=E8(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ui(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_8(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ka(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=R8(r,i.root,this.visualElement.getTransformPagePoint());let o=P8(i.layout.layoutBox,s);if(n){const a=n(T8(o));this.hasMutatedConstraints=!!a,a&&(o=T3(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},d=ui(f=>{if(!Pd(f,n,this.currentDirection))return;let p=l&&l[f]||{};o&&(p={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,S={type:"inertia",velocity:r?t[f]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,S)});return Promise.all(d).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Wm(this.visualElement,t),r.start(Q0(t,r,0,n,this.visualElement,!1))}stopAnimation(){ui(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ui(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ui(n=>{const{drag:r}=this.getProps();if(!Pd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Zt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ka(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ui(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=L8({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ui(o=>{if(!Pd(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:d}=this.constraints[o];a.set(Zt(l,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;D8.set(this.visualElement,this);const t=this.visualElement.current,n=Dc(t,"pointerdown",l=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ka(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Gt.read(r);const o=cu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(ui(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=l[f].translate,p.set(p.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=e1,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Pd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function O8(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class B8 extends No{constructor(t){super(t),this.removeGroupControls=Hr,this.removeListeners=Hr,this.controls=new M8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ov=e=>(t,n)=>{e&&Gt.postRender(()=>e(t,n))};class z8 extends No{constructor(){super(...arguments),this.removePointerDownListener=Hr}onPointerDown(t){this.session=new P3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:D3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ov(t),onStart:Ov(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Gt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Dc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(st.test(e))e=parseFloat(e);else return e;const n=Bv(e,t.target.x),r=Bv(e,t.target.y);return`${n}% ${r}%`}},q8={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=vo.parse(e);if(i.length>5)return r;const s=vo.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const d=Zt(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};class U8 extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;lC(V8),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Zd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Gt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),k0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function M3(e){const[t,n]=xw(),r=T.useContext(x0);return c.jsx(U8,{...e,layoutGroup:r,switchLayoutGroup:T.useContext(kw),isPresent:t,safeToRemove:n})}const V8={borderRadius:{...fc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fc,borderTopRightRadius:fc,borderBottomLeftRadius:fc,borderBottomRightRadius:fc,boxShadow:q8};function $8(e,t,n){const r=sr(e)?e:au(e);return r.start(Q0("",r,t,n)),r.animation}function H8(e){return e instanceof SVGElement&&e.tagName!=="svg"}const W8=(e,t)=>e.depth-t.depth;class G8{constructor(){this.children=[],this.isDirty=!1}add(t){q0(this.children,t),this.isDirty=!0}remove(t){U0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(W8),this.isDirty=!1,this.children.forEach(t)}}function K8(e,t){const n=Zi.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(go(r),e(s-t))};return Gt.read(r,!0),()=>go(r)}const O3=["TopLeft","TopRight","BottomLeft","BottomRight"],Y8=O3.length,zv=e=>typeof e=="string"?parseFloat(e):e,qv=e=>typeof e=="number"||st.test(e);function J8(e,t,n,r,i,s){i?(e.opacity=Zt(0,n.opacity!==void 0?n.opacity:1,X8(r)),e.opacityExit=Zt(t.opacity!==void 0?t.opacity:1,0,Q8(r))):s&&(e.opacity=Zt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Y8;o++){const a=`border${O3[o]}Radius`;let l=Uv(t,a),d=Uv(n,a);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||qv(l)===qv(d)?(e[a]=Math.max(Zt(zv(l),zv(d),r),0),(Qi.test(d)||Qi.test(l))&&(e[a]+="%")):e[a]=d}(t.rotate||n.rotate)&&(e.rotate=Zt(t.rotate||0,n.rotate||0,r))}function Uv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const X8=B3(0,.5,r3),Q8=B3(.5,.95,Hr);function B3(e,t,n){return r=>r<e?0:r>t?1:n(yl(e,t,r))}function Vv(e,t){e.min=t.min,e.max=t.max}function ci(e,t){Vv(e.x,t.x),Vv(e.y,t.y)}function $v(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Hv(e,t,n,r,i){return e-=t,e=Mh(e,1/n,r),i!==void 0&&(e=Mh(e,1/i,r)),e}function Z8(e,t=0,n=1,r=.5,i,s=e,o=e){if(Qi.test(t)&&(t=parseFloat(t),t=Zt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Zt(s.min,s.max,r);e===s&&(a-=t),e.min=Hv(e.min,t,n,a,i),e.max=Hv(e.max,t,n,a,i)}function Wv(e,t,[n,r,i],s,o){Z8(e,t[n],t[r],t[i],t.scale,s,o)}const ek=["x","scaleX","originX"],tk=["y","scaleY","originY"];function Gv(e,t,n,r){Wv(e.x,t,ek,n?n.x:void 0,r?r.x:void 0),Wv(e.y,t,tk,n?n.y:void 0,r?r.y:void 0)}function Kv(e){return e.translate===0&&e.scale===1}function z3(e){return Kv(e.x)&&Kv(e.y)}function Yv(e,t){return e.min===t.min&&e.max===t.max}function nk(e,t){return Yv(e.x,t.x)&&Yv(e.y,t.y)}function Jv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function q3(e,t){return Jv(e.x,t.x)&&Jv(e.y,t.y)}function Xv(e){return Gr(e.x)/Gr(e.y)}function Qv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rk{constructor(){this.members=[]}add(t){q0(this.members,t),t.scheduleRender()}remove(t){if(U0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ik(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:g,skewX:m,skewY:S}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),m&&(r+=`skewX(${m}deg) `),S&&(r+=`skewY(${S}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const zo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Cc=typeof window<"u"&&window.MotionDebug!==void 0,Fp=["","X","Y","Z"],sk={visibility:"hidden"},Zv=1e3;let ok=0;function Ip(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function U3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Jw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&U3(r)}function V3({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=ok++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cc&&(zo.totalNodes=zo.resolvedTargetDeltas=zo.recalculatedProjection=0),this.nodes.forEach(ck),this.nodes.forEach(pk),this.nodes.forEach(mk),this.nodes.forEach(uk),Cc&&window.MotionDebug.record(zo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new G8)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new V0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=H8(o),this.instance=o;const{layoutId:l,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(d||l)&&(this.isLayoutDirty=!0),e){let p;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=K8(g,250),Zd.hasAnimatedSinceResize&&(Zd.hasAnimatedSinceResize=!1,this.nodes.forEach(t5))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:m,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||wk,{onLayoutAnimationStart:C,onLayoutAnimationComplete:x}=f.getProps(),w=!this.targetLayout||!q3(this.targetLayout,S)||m,N=!g&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||g&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,N);const R={...M0(b,"layout"),onPlay:C,onComplete:x};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else g||t5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,go(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gk),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&U3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(e5);return}this.isUpdating||this.nodes.forEach(hk),this.isUpdating=!1,this.nodes.forEach(fk),this.nodes.forEach(ak),this.nodes.forEach(lk),this.clearAllSnapshots();const a=Zi.now();Vn.delta=_s(0,1e3/60,a-Vn.timestamp),Vn.timestamp=a,Vn.isProcessing=!0,Np.update.process(Vn),Np.preRender.process(Vn),Np.render.process(Vn),Vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,k0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dk),this.sharedNodes.forEach(vk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!z3(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&(a||Bo(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),bk(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return mn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Sk))){const{scroll:f}=this.root;f&&(Xa(l.x,f.offset.x),Xa(l.y,f.offset.y))}return l}removeElementScroll(o){var a;const l=mn();if(ci(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&ci(l,o),Xa(l.x,p.offset.x),Xa(l.y,p.offset.y))}return l}applyTransform(o,a=!1){const l=mn();ci(l,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Qa(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Bo(f.latestValues)&&Qa(l,f.latestValues)}return Bo(this.latestValues)&&Qa(l,this.latestValues),l}removeTransform(o){const a=mn();ci(a,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!Bo(d.latestValues))continue;t1(d.latestValues)&&d.updateSnapshot();const f=mn(),p=d.measurePageBox();ci(f,p),Gv(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Bo(this.latestValues)&&Gv(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Vn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mn(),this.relativeTargetOrigin=mn(),Oc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ci(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mn(),this.targetWithTransforms=mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ci(this.target,this.layout.layoutBox),I3(this.target,this.targetDelta)):ci(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mn(),this.relativeTargetOrigin=mn(),Oc(this.relativeTargetOrigin,this.target,m.target),ci(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cc&&zo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||t1(this.parent.latestValues)||F3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Vn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;ci(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,m=this.treeScale.y;I8(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=mn());const{target:S}=a;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($v(this.prevProjectionDelta.x,this.projectionDelta.x),$v(this.prevProjectionDelta.y,this.projectionDelta.y)),Mc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==m||!Qv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),Cc&&zo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ja(),this.projectionDelta=Ja(),this.projectionDeltaWithTransform=Ja()}setAnimationOrigin(o,a=!1){const l=this.snapshot,d=l?l.latestValues:{},f={...this.latestValues},p=Ja();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=mn(),m=l?l.source:void 0,S=this.layout?this.layout.source:void 0,b=m!==S,C=this.getStack(),x=!C||C.members.length<=1,w=!!(b&&!x&&this.options.crossfade===!0&&!this.path.some(xk));this.animationProgress=0;let N;this.mixTargetDelta=R=>{const q=R/1e3;n5(p.x,o.x,q),n5(p.y,o.y,q),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oc(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yk(this.relativeTarget,this.relativeTargetOrigin,g,q),N&&nk(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=mn()),ci(N,this.relativeTarget)),b&&(this.animationValues=f,J8(f,d,this.latestValues,q,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(go(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{Zd.hasAnimatedSinceResize=!0,this.currentAnimation=$8(0,Zv,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Zv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:d,latestValues:f}=o;if(!(!a||!l||!d)){if(this!==o&&this.layout&&d&&$3(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||mn();const p=Gr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const g=Gr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}ci(a,l),Qa(a,f),Mc(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new rk),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const d={};l.z&&Ip("z",o,d,this.animationValues);for(let f=0;f<Fp.length;f++)Ip(`rotate${Fp[f]}`,o,d,this.animationValues),Ip(`skew${Fp[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sk;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Xd(o==null?void 0:o.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Xd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Bo(this.latestValues)&&(b.transform=f?f({},""):"none",this.hasProjected=!1),b}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=ik(this.projectionDeltaWithTransform,this.treeScale,g),f&&(d.transform=f(g,d.transform));const{x:m,y:S}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${S.origin*100}% 0`,p.animationValues?d.opacity=p===this?(l=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in Th){if(g[b]===void 0)continue;const{correct:C,applyTo:x}=Th[b],w=d.transform==="none"?g[b]:C(g[b],p);if(x){const N=x.length;for(let R=0;R<N;R++)d[x[R]]=w}else d[b]=w}return this.options.layoutId&&(d.pointerEvents=p===this?Xd(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(e5),this.root.sharedNodes.clear()}}}function ak(e){e.updateLayout()}function lk(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?ui(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],m=Gr(g);g.min=r[p].min,g.max=g.min+m}):$3(s,n.layoutBox,r)&&ui(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],m=Gr(r[p]);g.max=g.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+m)});const a=Ja();Mc(a,r,n.layoutBox);const l=Ja();o?Mc(l,e.applyTransform(i,!0),n.measuredBox):Mc(l,r,n.layoutBox);const d=!z3(a);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:m}=p;if(g&&m){const S=mn();Oc(S,n.layoutBox,g.layoutBox);const b=mn();Oc(b,r,m.layoutBox),q3(S,b)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=S,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ck(e){Cc&&zo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function uk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function dk(e){e.clearSnapshot()}function e5(e){e.clearMeasurements()}function hk(e){e.isLayoutDirty=!1}function fk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function t5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pk(e){e.resolveTargetDelta()}function mk(e){e.calcProjection()}function gk(e){e.resetSkewAndRotation()}function vk(e){e.removeLeadSnapshot()}function n5(e,t,n){e.translate=Zt(t.translate,0,n),e.scale=Zt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function r5(e,t,n,r){e.min=Zt(t.min,n.min,r),e.max=Zt(t.max,n.max,r)}function yk(e,t,n,r){r5(e.x,t.x,n.x,r),r5(e.y,t.y,n.y,r)}function xk(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wk={duration:.45,ease:[.4,0,.1,1]},i5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),s5=i5("applewebkit/")&&!i5("chrome/")?Math.round:Hr;function o5(e){e.min=s5(e.min),e.max=s5(e.max)}function bk(e){o5(e.x),o5(e.y)}function $3(e,t,n){return e==="position"||e==="preserve-aspect"&&!N8(Xv(t),Xv(n),.2)}function Sk(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const jk=V3({attachResizeListener:(e,t)=>cu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rp={current:void 0},H3=V3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Rp.current){const e=new jk({});e.mount(window),e.setOptions({layoutScroll:!0}),Rp.current=e}return Rp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Nk={pan:{Feature:z8},drag:{Feature:B8,ProjectionNode:H3,MeasureLayout:M3}};function a5(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Gt.postRender(()=>s(t,Su(t)))}class Ck extends No{mount(){const{current:t}=this.node;t&&(this.unmount=NC(t,n=>(a5(this.node,n,"Start"),r=>a5(this.node,r,"End"))))}unmount(){}}class Ak extends No{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bu(cu(this.node.current,"focus",()=>this.onFocus()),cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function l5(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Gt.postRender(()=>s(t,Su(t)))}class kk extends No{mount(){const{current:t}=this.node;t&&(this.unmount=PC(t,n=>(l5(this.node,n,"Start"),(r,{success:i})=>l5(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const r1=new WeakMap,Dp=new WeakMap,Pk=e=>{const t=r1.get(e.target);t&&t(e)},Lk=e=>{e.forEach(Pk)};function _k({root:e,...t}){const n=e||document;Dp.has(n)||Dp.set(n,{});const r=Dp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Lk,{root:e,...t})),r[i]}function Ek(e,t,n){const r=_k(t);return r1.set(e,n),r.observe(e),()=>{r1.delete(e),r.unobserve(e)}}const Tk={some:0,all:1};class Fk extends No{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Tk[i]},a=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=d?f:p;g&&g(l)};return Ek(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Ik(t,n))&&this.startObserver()}unmount(){}}function Ik({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Rk={inView:{Feature:Fk},tap:{Feature:kk},focus:{Feature:Ak},hover:{Feature:Ck}},Dk={layout:{ProjectionNode:H3,MeasureLayout:M3}},i1={current:null},W3={current:!1};function Mk(){if(W3.current=!0,!!S0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>i1.current=e.matches;e.addListener(t),t()}else i1.current=!1}const Ok=[...v3,nr,vo],Bk=e=>Ok.find(g3(e)),c5=new WeakMap;function zk(e,t,n){for(const r in t){const i=t[r],s=n[r];if(sr(i))e.addValue(r,i);else if(sr(s))e.addValue(r,au(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,au(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const u5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qk{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Y0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Zi.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Gt.render(this.render,!1,!0))};const{latestValues:l,renderState:d,onUpdate:f}=o;this.onUpdate=f,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=cf(n),this.isVariantNode=Cw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in g){const S=g[m];l[m]!==void 0&&sr(S)&&S.set(l[m],!1)}}mount(t){this.current=t,c5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),W3.current||Mk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:i1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){c5.delete(this.current),this.projection&&this.projection.unmount(),go(this.notifyUpdate),go(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ia.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in xl){const n=xl[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<u5.length;r++){const i=u5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=zk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=au(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(p3(i)||s3(i))?i=parseFloat(i):!Bk(i)&&vo.test(n)&&(i=d3(t,n)),this.setBaseTarget(t,sr(i)?i.get():i)),sr(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=L0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!sr(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new V0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class G3 extends qk{constructor(){super(...arguments),this.KeyframeResolver=y3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Uk(e){return window.getComputedStyle(e)}class Vk extends G3{constructor(){super(...arguments),this.type="html",this.renderInstance=Iw}readValueFromInstance(t,n){if(ia.has(n)){const r=K0(n);return r&&r.default||0}else{const r=Uk(t),i=(Ew(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return R3(t,n)}build(t,n,r){T0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return D0(t,n,r)}}class $k extends G3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ia.has(n)){const r=K0(n);return r&&r.default||0}return n=Rw.has(n)?n:A0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Ow(t,n,r)}build(t,n,r){F0(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){Dw(t,n,r,i)}mount(t){this.isSVGTag=R0(t.tagName),super.mount(t)}}const Hk=(e,t)=>P0(e)?new $k(t):new Vk(t,{allowProjection:e!==T.Fragment}),Wk=vC({...m8,...Rk,...Nk,...Dk},Hk),Ie=T6(Wk);function Tt(e){"@babel/helpers - typeof";return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(e)}var ir=Uint8Array,Vr=Uint16Array,Z0=Int32Array,hf=new ir([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ff=new ir([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s1=new ir([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),K3=function(e,t){for(var n=new Vr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new Z0(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Y3=K3(hf,2),J3=Y3.b,o1=Y3.r;J3[28]=258,o1[258]=28;var X3=K3(ff,0),Gk=X3.b,d5=X3.r,a1=new Vr(32768);for(var Ht=0;Ht<32768;++Ht){var Ys=(Ht&43690)>>1|(Ht&21845)<<1;Ys=(Ys&52428)>>2|(Ys&13107)<<2,Ys=(Ys&61680)>>4|(Ys&3855)<<4,a1[Ht]=((Ys&65280)>>8|(Ys&255)<<8)>>1}var es=function(e,t,n){for(var r=e.length,i=0,s=new Vr(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Vr(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Vr(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],f=t-e[i],p=o[e[i]-1]++<<f,g=p|(1<<f)-1;p<=g;++p)a[a1[p]>>l]=d}else for(a=new Vr(r),i=0;i<r;++i)e[i]&&(a[i]=a1[o[e[i]-1]++]>>15-e[i]);return a},yo=new ir(288);for(var Ht=0;Ht<144;++Ht)yo[Ht]=8;for(var Ht=144;Ht<256;++Ht)yo[Ht]=9;for(var Ht=256;Ht<280;++Ht)yo[Ht]=7;for(var Ht=280;Ht<288;++Ht)yo[Ht]=8;var uu=new ir(32);for(var Ht=0;Ht<32;++Ht)uu[Ht]=5;var Kk=es(yo,9,0),Yk=es(yo,9,1),Jk=es(uu,5,0),Xk=es(uu,5,1),Mp=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ni=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Op=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},eg=function(e){return(e+7)/8|0},Q3=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new ir(e.subarray(t,n))},Qk=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Pi=function(e,t,n){var r=new Error(t||Qk[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Pi),!n)throw r;return r},Zk=function(e,t,n,r){var i=e.length,s=r?r.length:0;if(!i||t.f&&!t.l)return n||new ir(0);var o=!n,a=o||t.i!=2,l=t.i;o&&(n=new ir(i*3));var d=function(we){var Te=n.length;if(we>Te){var Le=new ir(Math.max(Te*2,we));Le.set(n),n=Le}},f=t.f||0,p=t.p||0,g=t.b||0,m=t.l,S=t.d,b=t.m,C=t.n,x=i*8;do{if(!m){f=Ni(e,p,1);var w=Ni(e,p+1,3);if(p+=3,w)if(w==1)m=Yk,S=Xk,b=9,C=5;else if(w==2){var W=Ni(e,p,31)+257,B=Ni(e,p+10,15)+4,F=W+Ni(e,p+5,31)+1;p+=14;for(var Q=new ir(F),X=new ir(19),I=0;I<B;++I)X[s1[I]]=Ni(e,p+I*3,7);p+=B*3;for(var L=Mp(X),Y=(1<<L)-1,V=es(X,L,1),I=0;I<F;){var ae=V[Ni(e,p,Y)];p+=ae&15;var N=ae>>4;if(N<16)Q[I++]=N;else{var ce=0,le=0;for(N==16?(le=3+Ni(e,p,3),p+=2,ce=Q[I-1]):N==17?(le=3+Ni(e,p,7),p+=3):N==18&&(le=11+Ni(e,p,127),p+=7);le--;)Q[I++]=ce}}var H=Q.subarray(0,W),re=Q.subarray(W);b=Mp(H),C=Mp(re),m=es(H,b,1),S=es(re,C,1)}else Pi(1);else{var N=eg(p)+4,R=e[N-4]|e[N-3]<<8,q=N+R;if(q>i){l&&Pi(0);break}a&&d(g+R),n.set(e.subarray(N,q),g),t.b=g+=R,t.p=p=q*8,t.f=f;continue}if(p>x){l&&Pi(0);break}}a&&d(g+131072);for(var J=(1<<b)-1,me=(1<<C)-1,A=p;;A=p){var ce=m[Op(e,p)&J],O=ce>>4;if(p+=ce&15,p>x){l&&Pi(0);break}if(ce||Pi(2),O<256)n[g++]=O;else if(O==256){A=p,m=null;break}else{var z=O-254;if(O>264){var I=O-257,G=hf[I];z=Ni(e,p,(1<<G)-1)+J3[I],p+=G}var Z=S[Op(e,p)&me],se=Z>>4;Z||Pi(3),p+=Z&15;var re=Gk[se];if(se>3){var G=ff[se];re+=Op(e,p)&(1<<G)-1,p+=G}if(p>x){l&&Pi(0);break}a&&d(g+131072);var he=g+z;if(g<re){var de=s-re,xe=Math.min(re,he);for(de+g<0&&Pi(3);g<xe;++g)n[g]=r[de+g]}for(;g<he;++g)n[g]=n[g-re]}}t.l=m,t.p=A,t.b=g,t.f=f,m&&(f=1,t.m=b,t.d=S,t.n=C)}while(!f);return g!=n.length&&o?Q3(n,0,g):n.subarray(0,g)},gs=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},pc=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Bp=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:eb,l:0};if(i==1){var o=new ir(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(q,W){return q.f-W.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],d=0,f=1,p=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=i-1;)a=n[n[d].f<n[p].f?d++:p++],l=n[d!=f&&n[d].f<n[p].f?d++:p++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new Vr(g+1),S=l1(n[f-1],m,0);if(S>t){var r=0,b=0,C=S-t,x=1<<C;for(s.sort(function(W,B){return m[B.s]-m[W.s]||W.f-B.f});r<i;++r){var w=s[r].s;if(m[w]>t)b+=x-(1<<S-m[w]),m[w]=t;else break}for(b>>=C;b>0;){var N=s[r].s;m[N]<t?b-=1<<t-m[N]++-1:++r}for(;r>=0&&b;--r){var R=s[r].s;m[R]==t&&(--m[R],++b)}S=t}return{t:new ir(m),l:S}},l1=function(e,t,n){return e.s==-1?Math.max(l1(e.l,t,n+1),l1(e.r,t,n+1)):t[e.s]=n},h5=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Vr(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},mc=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Z3=function(e,t,n){var r=n.length,i=eg(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},f5=function(e,t,n,r,i,s,o,a,l,d,f){gs(t,f++,n),++i[256];for(var p=Bp(i,15),g=p.t,m=p.l,S=Bp(s,15),b=S.t,C=S.l,x=h5(g),w=x.c,N=x.n,R=h5(b),q=R.c,W=R.n,B=new Vr(19),F=0;F<w.length;++F)++B[w[F]&31];for(var F=0;F<q.length;++F)++B[q[F]&31];for(var Q=Bp(B,7),X=Q.t,I=Q.l,L=19;L>4&&!X[s1[L-1]];--L);var Y=d+5<<3,V=mc(i,yo)+mc(s,uu)+o,ae=mc(i,g)+mc(s,b)+o+14+3*L+mc(B,X)+2*B[16]+3*B[17]+7*B[18];if(l>=0&&Y<=V&&Y<=ae)return Z3(t,f,e.subarray(l,l+d));var ce,le,H,re;if(gs(t,f,1+(ae<V)),f+=2,ae<V){ce=es(g,m,0),le=g,H=es(b,C,0),re=b;var J=es(X,I,0);gs(t,f,N-257),gs(t,f+5,W-1),gs(t,f+10,L-4),f+=14;for(var F=0;F<L;++F)gs(t,f+3*F,X[s1[F]]);f+=3*L;for(var me=[w,q],A=0;A<2;++A)for(var O=me[A],F=0;F<O.length;++F){var z=O[F]&31;gs(t,f,J[z]),f+=X[z],z>15&&(gs(t,f,O[F]>>5&127),f+=O[F]>>12)}}else ce=Kk,le=yo,H=Jk,re=uu;for(var F=0;F<a;++F){var G=r[F];if(G>255){var z=G>>18&31;pc(t,f,ce[z+257]),f+=le[z+257],z>7&&(gs(t,f,G>>23&31),f+=hf[z]);var Z=G&31;pc(t,f,H[Z]),f+=re[Z],Z>3&&(pc(t,f,G>>5&8191),f+=ff[Z])}else pc(t,f,ce[G]),f+=le[G]}return pc(t,f,ce[256]),f+le[256]},eP=new Z0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),eb=new ir(0),tP=function(e,t,n,r,i,s){var o=s.z||e.length,a=new ir(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),d=s.l,f=(s.r||0)&7;if(t){f&&(l[0]=s.r>>3);for(var p=eP[t-1],g=p>>13,m=p&8191,S=(1<<n)-1,b=s.p||new Vr(32768),C=s.h||new Vr(S+1),x=Math.ceil(n/3),w=2*x,N=function(et){return(e[et]^e[et+1]<<x^e[et+2]<<w)&S},R=new Z0(25e3),q=new Vr(288),W=new Vr(32),B=0,F=0,Q=s.i||0,X=0,I=s.w||0,L=0;Q+2<o;++Q){var Y=N(Q),V=Q&32767,ae=C[Y];if(b[V]=ae,C[Y]=V,I<=Q){var ce=o-Q;if((B>7e3||X>24576)&&(ce>423||!d)){f=f5(e,l,0,R,q,W,F,X,L,Q-L,f),X=B=F=0,L=Q;for(var le=0;le<286;++le)q[le]=0;for(var le=0;le<30;++le)W[le]=0}var H=2,re=0,J=m,me=V-ae&32767;if(ce>2&&Y==N(Q-me))for(var A=Math.min(g,ce)-1,O=Math.min(32767,Q),z=Math.min(258,ce);me<=O&&--J&&V!=ae;){if(e[Q+H]==e[Q+H-me]){for(var G=0;G<z&&e[Q+G]==e[Q+G-me];++G);if(G>H){if(H=G,re=me,G>A)break;for(var Z=Math.min(me,G-2),se=0,le=0;le<Z;++le){var he=Q-me+le&32767,de=b[he],xe=he-de&32767;xe>se&&(se=xe,ae=he)}}}V=ae,ae=b[V],me+=V-ae&32767}if(re){R[X++]=268435456|o1[H]<<18|d5[re];var we=o1[H]&31,Te=d5[re]&31;F+=hf[we]+ff[Te],++q[257+we],++W[Te],I=Q+H,++B}else R[X++]=e[Q],++q[e[Q]]}}for(Q=Math.max(Q,I);Q<o;++Q)R[X++]=e[Q],++q[e[Q]];f=f5(e,l,d,R,q,W,F,X,L,Q-L,f),d||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=C,s.p=b,s.i=Q,s.w=I)}else{for(var Q=s.w||0;Q<o+d;Q+=65535){var Le=Q+65535;Le>=o&&(l[f/8|0]=d,Le=o),f=Z3(l,f+1,e.subarray(Q,Le))}s.i=o}return Q3(a,0,r+eg(f)+i)},tb=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},nP=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new ir(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return tP(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},nb=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},rP=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=tb();i.p(t.dictionary),nb(e,2,i.d())}},iP=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Pi(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Pi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function c1(e,t){t||(t={});var n=tb();n.p(e);var r=nP(e,t,t.dictionary?6:2,4);return rP(r,t),nb(r,r.length-4,n.d()),r}function sP(e,t){return Zk(e.subarray(iP(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var oP=typeof TextDecoder<"u"&&new TextDecoder,aP=0;try{oP.decode(eb,{stream:!0}),aP=1}catch{}var at=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function zp(){at.console&&typeof at.console.log=="function"&&at.console.log.apply(at.console,arguments)}var Bt={log:zp,warn:function(e){at.console&&(typeof at.console.warn=="function"?at.console.warn.apply(at.console,arguments):zp.call(null,arguments))},error:function(e){at.console&&(typeof at.console.error=="function"?at.console.error.apply(at.console,arguments):zp(e))}};function qp(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){qo(r.response,t,n)},r.onerror=function(){Bt.error("could not download file")},r.send()}function p5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ld(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Bc,u1,qo=at.saveAs||((typeof window>"u"?"undefined":Tt(window))!=="object"||window!==at?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=at.URL||at.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?p5(i.href)?qp(e,t,n):Ld(i,i.target="_blank"):Ld(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ld(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(p5(e))qp(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Ld(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Tt(s)!=="object"&&(Bt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return qp(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(at.HTMLElement)||at.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Tt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(e)}else{var l=at.URL||at.webkitURL,d=l.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){l.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function rb(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),d=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),"#"+a+l+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Up(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=Qn(n,r,i,s,t[0],7,-680876936),s=Qn(s,n,r,i,t[1],12,-389564586),i=Qn(i,s,n,r,t[2],17,606105819),r=Qn(r,i,s,n,t[3],22,-1044525330),n=Qn(n,r,i,s,t[4],7,-176418897),s=Qn(s,n,r,i,t[5],12,1200080426),i=Qn(i,s,n,r,t[6],17,-1473231341),r=Qn(r,i,s,n,t[7],22,-45705983),n=Qn(n,r,i,s,t[8],7,1770035416),s=Qn(s,n,r,i,t[9],12,-1958414417),i=Qn(i,s,n,r,t[10],17,-42063),r=Qn(r,i,s,n,t[11],22,-1990404162),n=Qn(n,r,i,s,t[12],7,1804603682),s=Qn(s,n,r,i,t[13],12,-40341101),i=Qn(i,s,n,r,t[14],17,-1502002290),n=Zn(n,r=Qn(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Zn(s,n,r,i,t[6],9,-1069501632),i=Zn(i,s,n,r,t[11],14,643717713),r=Zn(r,i,s,n,t[0],20,-373897302),n=Zn(n,r,i,s,t[5],5,-701558691),s=Zn(s,n,r,i,t[10],9,38016083),i=Zn(i,s,n,r,t[15],14,-660478335),r=Zn(r,i,s,n,t[4],20,-405537848),n=Zn(n,r,i,s,t[9],5,568446438),s=Zn(s,n,r,i,t[14],9,-1019803690),i=Zn(i,s,n,r,t[3],14,-187363961),r=Zn(r,i,s,n,t[8],20,1163531501),n=Zn(n,r,i,s,t[13],5,-1444681467),s=Zn(s,n,r,i,t[2],9,-51403784),i=Zn(i,s,n,r,t[7],14,1735328473),n=er(n,r=Zn(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=er(s,n,r,i,t[8],11,-2022574463),i=er(i,s,n,r,t[11],16,1839030562),r=er(r,i,s,n,t[14],23,-35309556),n=er(n,r,i,s,t[1],4,-1530992060),s=er(s,n,r,i,t[4],11,1272893353),i=er(i,s,n,r,t[7],16,-155497632),r=er(r,i,s,n,t[10],23,-1094730640),n=er(n,r,i,s,t[13],4,681279174),s=er(s,n,r,i,t[0],11,-358537222),i=er(i,s,n,r,t[3],16,-722521979),r=er(r,i,s,n,t[6],23,76029189),n=er(n,r,i,s,t[9],4,-640364487),s=er(s,n,r,i,t[12],11,-421815835),i=er(i,s,n,r,t[15],16,530742520),n=tr(n,r=er(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=tr(s,n,r,i,t[7],10,1126891415),i=tr(i,s,n,r,t[14],15,-1416354905),r=tr(r,i,s,n,t[5],21,-57434055),n=tr(n,r,i,s,t[12],6,1700485571),s=tr(s,n,r,i,t[3],10,-1894986606),i=tr(i,s,n,r,t[10],15,-1051523),r=tr(r,i,s,n,t[1],21,-2054922799),n=tr(n,r,i,s,t[8],6,1873313359),s=tr(s,n,r,i,t[15],10,-30611744),i=tr(i,s,n,r,t[6],15,-1560198380),r=tr(r,i,s,n,t[13],21,1309151649),n=tr(n,r,i,s,t[4],6,-145523070),s=tr(s,n,r,i,t[11],10,-1120210379),i=tr(i,s,n,r,t[2],15,718787259),r=tr(r,i,s,n,t[9],21,-343485551),e[0]=io(n,e[0]),e[1]=io(r,e[1]),e[2]=io(i,e[2]),e[3]=io(s,e[3])}function pf(e,t,n,r,i,s){return t=io(io(t,e),io(r,s)),io(t<<i|t>>>32-i,n)}function Qn(e,t,n,r,i,s,o){return pf(t&n|~t&r,e,t,i,s,o)}function Zn(e,t,n,r,i,s,o){return pf(t&r|n&~r,e,t,i,s,o)}function er(e,t,n,r,i,s,o){return pf(t^n^r,e,t,i,s,o)}function tr(e,t,n,r,i,s,o){return pf(n^(t|~r),e,t,i,s,o)}function ib(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Up(r,lP(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Up(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Up(r,i),r}function lP(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Bc=at.atob.bind(at),u1=at.btoa.bind(at);var m5="0123456789abcdef".split("");function cP(e){for(var t="",n=0;n<4;n++)t+=m5[e>>8*n+4&15]+m5[e>>8*n&15];return t}function uP(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function d1(e){return ib(e).map(uP).join("")}var dP=function(e){for(var t=0;t<e.length;t++)e[t]=cP(e[t]);return e.join("")}(ib("hello"))!="5d41402abc4b2a76b9719d911017c592";function io(e,t){if(dP){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function h1(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var d=0;for(l=0;l<256;l++){var f=a[l];d=(d+f+o.charCodeAt(l))%256,a[l]=a[d],a[d]=f}n=e,r=a}else a=r;var p=t.length,g=0,m=0,S="";for(l=0;l<p;l++)m=(m+(f=a[g=(g+1)%256]))%256,a[g]=a[m],a[m]=f,o=a[(a[g]+a[m])%256],S+=String.fromCharCode(t.charCodeAt(l)^o);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var g5={print:4,modify:8,copy:16,"annot-forms":32};function Ia(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(g5.perm!==void 0)throw new Error("Invalid permission: "+a);i+=g5[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=d1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=h1(this.encryptionKey,this.padding)}function Ra(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function v5(e){if(Tt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(a){at.console&&Bt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Oh(e){if(!(this instanceof Oh))return new Oh(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function sb(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Uo(e,t,n,r,i){if(!(this instanceof Uo))return new Uo(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,sb.call(this,r,i)}function Za(e,t,n,r,i){if(!(this instanceof Za))return new Za(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,sb.call(this,r,i)}function rt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,d="S",f=null;Tt(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=v5;var S="1.3",b=m.__private__.getPdfVersion=function(){return S};m.__private__.setPdfVersion=function(v){S=v};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return C};var x=m.__private__.getPageFormat=function(v){return C[v]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},N=w.COMPAT;function R(){this.saveGraphicsState(),K(new tt(Fe,0,0,-Fe,0,Ds()*Fe).toString()+" cm"),this.setFontSize(this.getFontSize()/Fe),d="n",N=w.ADVANCED}function q(){this.restoreGraphicsState(),d="S",N=w.COMPAT}var W=m.__private__.combineFontStyleAndFontWeight=function(v,P){if(v=="bold"&&P=="normal"||v=="bold"&&P==400||v=="normal"&&P=="italic"||v=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(v=P==400||P==="normal"?v==="italic"?"italic":"normal":P!=700&&P!=="bold"||v!=="normal"?(P==700?"bold":P)+""+v:"bold"),v};m.advancedAPI=function(v){var P=N===w.COMPAT;return P&&R.call(this),typeof v!="function"||(v(this),P&&q.call(this)),this},m.compatAPI=function(v){var P=N===w.ADVANCED;return P&&q.call(this),typeof v!="function"||(v(this),P&&R.call(this)),this},m.isAdvancedAPI=function(){return N===w.ADVANCED};var B,F=function(v){if(N!==w.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=m.roundToPrecision=m.__private__.roundToPrecision=function(v,P){var $=t||P;if(isNaN(v)||isNaN($))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed($).replace(/0+$/,"")};B=m.hpf=m.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(v,16)};var X=m.f2=m.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return Q(v,2)},I=m.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return Q(v,3)},L=m.scale=m.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return N===w.COMPAT?v*Fe:N===w.ADVANCED?v:void 0},Y=function(v){return N===w.COMPAT?Ds()-v:N===w.ADVANCED?v:void 0},V=function(v){return L(Y(v))};m.__private__.setPrecision=m.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var ae,ce="00000000000000000000000000000000",le=m.__private__.getFileId=function(){return ce},H=m.__private__.setFileId=function(v){return ce=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Kn=new Ia(f.userPermissions,f.userPassword,f.ownerPassword,ce)),ce};m.setFileId=function(v){return H(v),this},m.getFileId=function(){return le()};var re=m.__private__.convertDateToPDFDate=function(v){var P=v.getTimezoneOffset(),$=P<0?"+":"-",ee=Math.floor(Math.abs(P/60)),ue=Math.abs(P%60),ye=[$,z(ee),"'",z(ue),"'"].join("");return["D:",v.getFullYear(),z(v.getMonth()+1),z(v.getDate()),z(v.getHours()),z(v.getMinutes()),z(v.getSeconds()),ye].join("")},J=m.__private__.convertPDFDateToDate=function(v){var P=parseInt(v.substr(2,4),10),$=parseInt(v.substr(6,2),10)-1,ee=parseInt(v.substr(8,2),10),ue=parseInt(v.substr(10,2),10),ye=parseInt(v.substr(12,2),10),ke=parseInt(v.substr(14,2),10);return new Date(P,$,ee,ue,ye,ke,0)},me=m.__private__.setCreationDate=function(v){var P;if(v===void 0&&(v=new Date),v instanceof Date)P=re(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=v}return ae=P},A=m.__private__.getCreationDate=function(v){var P=ae;return v==="jsDate"&&(P=J(ae)),P};m.setCreationDate=function(v){return me(v),this},m.getCreationDate=function(v){return A(v)};var O,z=m.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},G=m.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},Z=0,se=[],he=[],de=0,xe=[],we=[],Te=!1,Le=he,et=function(){Z=0,de=0,he=[],se=[],xe=[],yi=rn(),Ir=rn()};m.__private__.setCustomOutputDestination=function(v){Te=!0,Le=v};var ve=function(v){Te||(Le=v)};m.__private__.resetCustomOutputDestination=function(){Te=!1,Le=he};var K=m.__private__.out=function(v){return v=v.toString(),de+=v.length+1,Le.push(v),Le},Ye=m.__private__.write=function(v){return K(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Ge=m.__private__.getArrayBuffer=function(v){for(var P=v.length,$=new ArrayBuffer(P),ee=new Uint8Array($);P--;)ee[P]=v.charCodeAt(P);return $},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Pe};var Re=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(v){return Re=N===w.ADVANCED?v/Fe:v,this};var De,Me=m.__private__.getFontSize=m.getFontSize=function(){return N===w.COMPAT?Re:Re*Fe},$e=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(v){return $e=v,this},m.__private__.getR2L=m.getR2L=function(){return $e};var it,_e=m.__private__.setZoomMode=function(v){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))De=v;else if(isNaN(v)){if(P.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');De=v}else De=parseInt(v,10)};m.__private__.getZoomMode=function(){return De};var qe,Xe=m.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');it=v};m.__private__.getPageMode=function(){return it};var yt=m.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');qe=v};m.__private__.getLayoutMode=function(){return qe},m.__private__.setDisplayMode=m.setDisplayMode=function(v,P,$){return _e(v),yt(P),Xe($),this};var ot={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(v){if(Object.keys(ot).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ot[v]},m.__private__.getDocumentProperties=function(){return ot},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(v){for(var P in ot)ot.hasOwnProperty(P)&&v[P]&&(ot[P]=v[P]);return this},m.__private__.setDocumentProperty=function(v,P){if(Object.keys(ot).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ot[v]=P};var pt,Fe,Cn,xt,gr,Lt={},Dt={},Tr=[],wt={},rs={},Kt={},vr={},Jr=null,Yt=0,lt=[],jt=new v5(m),Mi=e.hotfixes||[],An={},Fr={},Xr=[],tt=function v(P,$,ee,ue,ye,ke){if(!(this instanceof v))return new v(P,$,ee,ue,ye,ke);isNaN(P)&&(P=1),isNaN($)&&($=0),isNaN(ee)&&(ee=0),isNaN(ue)&&(ue=1),isNaN(ye)&&(ye=0),isNaN(ke)&&(ke=0),this._matrix=[P,$,ee,ue,ye,ke]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(v)},tt.prototype.multiply=function(v){var P=v.sx*this.sx+v.shy*this.shx,$=v.sx*this.shy+v.shy*this.sy,ee=v.shx*this.sx+v.sy*this.shx,ue=v.shx*this.shy+v.sy*this.sy,ye=v.tx*this.sx+v.ty*this.shx+this.tx,ke=v.tx*this.shy+v.ty*this.sy+this.ty;return new tt(P,$,ee,ue,ye,ke)},tt.prototype.decompose=function(){var v=this.sx,P=this.shy,$=this.shx,ee=this.sy,ue=this.tx,ye=this.ty,ke=Math.sqrt(v*v+P*P),Ue=(v/=ke)*$+(P/=ke)*ee;$-=v*Ue,ee-=P*Ue;var Ze=Math.sqrt($*$+ee*ee);return Ue/=Ze,v*(ee/=Ze)<P*($/=Ze)&&(v=-v,P=-P,Ue=-Ue,ke=-ke),{scale:new tt(ke,0,0,Ze,0,0),translate:new tt(1,0,0,1,ue,ye),rotate:new tt(v,P,-P,v,0,0),skew:new tt(1,0,Ue,1,0,0)}},tt.prototype.toString=function(v){return this.join(" ")},tt.prototype.inversed=function(){var v=this.sx,P=this.shy,$=this.shx,ee=this.sy,ue=this.tx,ye=this.ty,ke=1/(v*ee-P*$),Ue=ee*ke,Ze=-P*ke,ht=-$*ke,ut=v*ke;return new tt(Ue,Ze,ht,ut,-Ue*ue-ht*ye,-Ze*ue-ut*ye)},tt.prototype.applyToPoint=function(v){var P=v.x*this.sx+v.y*this.shx+this.tx,$=v.x*this.shy+v.y*this.sy+this.ty;return new pa(P,$)},tt.prototype.applyToRectangle=function(v){var P=this.applyToPoint(v),$=this.applyToPoint(new pa(v.x+v.w,v.y+v.h));return new Ol(P.x,P.y,$.x-P.x,$.y-P.y)},tt.prototype.clone=function(){var v=this.sx,P=this.shy,$=this.shx,ee=this.sy,ue=this.tx,ye=this.ty;return new tt(v,P,$,ee,ue,ye)},m.Matrix=tt;var yr=m.matrixMult=function(v,P){return P.multiply(v)},Qr=new tt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Qr;var Wn=function(v,P){if(!rs[v]){var $=(P instanceof Uo?"Sh":"P")+(Object.keys(wt).length+1).toString(10);P.id=$,rs[v]=$,wt[$]=P,jt.publish("addPattern",P)}};m.ShadingPattern=Uo,m.TilingPattern=Za,m.addShadingPattern=function(v,P){return F("addShadingPattern()"),Wn(v,P),this},m.beginTilingPattern=function(v){F("beginTilingPattern()"),Ru(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},m.endTilingPattern=function(v,P){F("endTilingPattern()"),P.stream=we[O].join(`
`),Wn(v,P),jt.publish("endTilingPattern",P),Xr.pop().restore()};var dn=m.__private__.newObject=function(){var v=rn();return Mn(v,!0),v},rn=m.__private__.newObjectDeferred=function(){return Z++,se[Z]=function(){return de},Z},Mn=function(v,P){return P=typeof P=="boolean"&&P,se[v]=de,P&&K(v+" 0 obj"),v},Vt=m.__private__.newAdditionalObject=function(){var v={objId:rn(),content:""};return xe.push(v),v},yi=rn(),Ir=rn(),On=m.__private__.decodeColorString=function(v){var P=v.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var $=parseFloat(P[0]);P=[$,$,$,"r"]}for(var ee="#",ue=0;ue<3;ue++)ee+=("0"+Math.floor(255*parseFloat(P[ue])).toString(16)).slice(-2);return ee},Gn=m.__private__.encodeColorString=function(v){var P;typeof v=="string"&&(v={ch1:v});var $=v.ch1,ee=v.ch2,ue=v.ch3,ye=v.ch4,ke=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $=="string"&&$.charAt(0)!=="#"){var Ue=new rb($);if(Ue.ok)$=Ue.toHex();else if(!/^\d*\.?\d*$/.test($))throw new Error('Invalid color "'+$+'" passed to jsPDF.encodeColorString.')}if(typeof $=="string"&&/^#[0-9A-Fa-f]{3}$/.test($)&&($="#"+$[1]+$[1]+$[2]+$[2]+$[3]+$[3]),typeof $=="string"&&/^#[0-9A-Fa-f]{6}$/.test($)){var Ze=parseInt($.substr(1),16);$=Ze>>16&255,ee=Ze>>8&255,ue=255&Ze}if(ee===void 0||ye===void 0&&$===ee&&ee===ue)if(typeof $=="string")P=$+" "+ke[0];else switch(v.precision){case 2:P=X($/255)+" "+ke[0];break;case 3:default:P=I($/255)+" "+ke[0]}else if(ye===void 0||Tt(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return P=["1.","1.","1.",ke[1]].join(" ");if(typeof $=="string")P=[$,ee,ue,ke[1]].join(" ");else switch(v.precision){case 2:P=[X($/255),X(ee/255),X(ue/255),ke[1]].join(" ");break;default:case 3:P=[I($/255),I(ee/255),I(ue/255),ke[1]].join(" ")}}else if(typeof $=="string")P=[$,ee,ue,ye,ke[2]].join(" ");else switch(v.precision){case 2:P=[X($),X(ee),X(ue),X(ye),ke[2]].join(" ");break;case 3:default:P=[I($),I(ee),I(ue),I(ye),ke[2]].join(" ")}return P},Rr=m.__private__.getFilters=function(){return o},Dr=m.__private__.putStream=function(v){var P=(v=v||{}).data||"",$=v.filters||Rr(),ee=v.alreadyAppliedFilters||[],ue=v.addLength1||!1,ye=P.length,ke=v.objectId,Ue=function(Yn){return Yn};if(f!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ue=Kn.encryptor(ke,0));var Ze={};$===!0&&($=["FlateEncode"]);var ht=v.additionalKeyValues||[],ut=(Ze=rt.API.processDataByFilters!==void 0?rt.API.processDataByFilters(P,$):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(Ze.data.length!==0&&(ht.push({key:"Length",value:Ze.data.length}),ue===!0&&ht.push({key:"Length1",value:ye})),ut.length!=0)if(ut.split("/").length-1==1)ht.push({key:"Filter",value:ut});else{ht.push({key:"Filter",value:"["+ut+"]"});for(var bt=0;bt<ht.length;bt+=1)if(ht[bt].key==="DecodeParms"){for(var Xt=[],on=0;on<Ze.reverseChain.split("/").length-1;on+=1)Xt.push("null");Xt.push(ht[bt].value),ht[bt].value="["+Xt.join(" ")+"]"}}K("<<");for(var wn=0;wn<ht.length;wn++)K("/"+ht[wn].key+" "+ht[wn].value);K(">>"),Ze.data.length!==0&&(K("stream"),K(Ue(Ze.data)),K("endstream"))},Zr=m.__private__.putPage=function(v){var P=v.number,$=v.data,ee=v.objId,ue=v.contentsObjId;Mn(ee,!0),K("<</Type /Page"),K("/Parent "+v.rootDictionaryObjId+" 0 R"),K("/Resources "+v.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(B(v.mediaBox.bottomLeftX))+" "+parseFloat(B(v.mediaBox.bottomLeftY))+" "+B(v.mediaBox.topRightX)+" "+B(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&K("/CropBox ["+B(v.cropBox.bottomLeftX)+" "+B(v.cropBox.bottomLeftY)+" "+B(v.cropBox.topRightX)+" "+B(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&K("/BleedBox ["+B(v.bleedBox.bottomLeftX)+" "+B(v.bleedBox.bottomLeftY)+" "+B(v.bleedBox.topRightX)+" "+B(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&K("/TrimBox ["+B(v.trimBox.bottomLeftX)+" "+B(v.trimBox.bottomLeftY)+" "+B(v.trimBox.topRightX)+" "+B(v.trimBox.topRightY)+"]"),v.artBox!==null&&K("/ArtBox ["+B(v.artBox.bottomLeftX)+" "+B(v.artBox.bottomLeftY)+" "+B(v.artBox.topRightX)+" "+B(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&K("/UserUnit "+v.userUnit),jt.publish("putPage",{objId:ee,pageContext:lt[P],pageNumber:P,page:$}),K("/Contents "+ue+" 0 R"),K(">>"),K("endobj");var ye=$.join(`
`);return N===w.ADVANCED&&(ye+=`
Q`),Mn(ue,!0),Dr({data:ye,filters:Rr(),objectId:ue}),K("endobj"),ee},is=m.__private__.putPages=function(){var v,P,$=[];for(v=1;v<=Yt;v++)lt[v].objId=rn(),lt[v].contentsObjId=rn();for(v=1;v<=Yt;v++)$.push(Zr({number:v,data:we[v],objId:lt[v].objId,contentsObjId:lt[v].contentsObjId,mediaBox:lt[v].mediaBox,cropBox:lt[v].cropBox,bleedBox:lt[v].bleedBox,trimBox:lt[v].trimBox,artBox:lt[v].artBox,userUnit:lt[v].userUnit,rootDictionaryObjId:yi,resourceDictionaryObjId:Ir}));Mn(yi,!0),K("<</Type /Pages");var ee="/Kids [";for(P=0;P<Yt;P++)ee+=$[P]+" 0 R ";K(ee+"]"),K("/Count "+Yt),K(">>"),K("endobj"),jt.publish("postPutPages")},ss=function(v){jt.publish("putFont",{font:v,out:K,newObject:dn,putStream:Dr}),v.isAlreadyPutted!==!0&&(v.objectNumber=dn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+Ra(v.postScriptName)),K("/Subtype /Type1"),typeof v.encoding=="string"&&K("/Encoding /"+v.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},Oi=function(){for(var v in Lt)Lt.hasOwnProperty(v)&&(p===!1||p===!0&&g.hasOwnProperty(v))&&ss(Lt[v])},Fs=function(v){v.objectNumber=dn();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[B(v.x),B(v.y),B(v.x+v.width),B(v.y+v.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var $=v.pages[1].join(`
`);Dr({data:$,additionalKeyValues:P,objectId:v.objectNumber}),K("endobj")},Bi=function(){for(var v in An)An.hasOwnProperty(v)&&Fs(An[v])},oa=function(v,P){var $,ee=[],ue=1/(P-1);for($=0;$<1;$+=ue)ee.push($);if(ee.push(1),v[0].offset!=0){var ye={offset:0,color:v[0].color};v.unshift(ye)}if(v[v.length-1].offset!=1){var ke={offset:1,color:v[v.length-1].color};v.push(ke)}for(var Ue="",Ze=0,ht=0;ht<ee.length;ht++){for($=ee[ht];$>v[Ze+1].offset;)Ze++;var ut=v[Ze].offset,bt=($-ut)/(v[Ze+1].offset-ut),Xt=v[Ze].color,on=v[Ze+1].color;Ue+=G(Math.round((1-bt)*Xt[0]+bt*on[0]).toString(16))+G(Math.round((1-bt)*Xt[1]+bt*on[1]).toString(16))+G(Math.round((1-bt)*Xt[2]+bt*on[2]).toString(16))}return Ue.trim()},aa=function(v,P){P||(P=21);var $=dn(),ee=oa(v.colors,P),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+P+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Dr({data:ee,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$}),K("endobj"),v.objectNumber=dn(),K("<< /ShadingType "+v.type),K("/ColorSpace /DeviceRGB");var ye="/Coords ["+B(parseFloat(v.coords[0]))+" "+B(parseFloat(v.coords[1]))+" ";v.type===2?ye+=B(parseFloat(v.coords[2]))+" "+B(parseFloat(v.coords[3])):ye+=B(parseFloat(v.coords[2]))+" "+B(parseFloat(v.coords[3]))+" "+B(parseFloat(v.coords[4]))+" "+B(parseFloat(v.coords[5])),K(ye+="]"),v.matrix&&K("/Matrix ["+v.matrix.toString()+"]"),K("/Function "+$+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},Ll=function(v,P){var $=rn(),ee=dn();P.push({resourcesOid:$,objectOid:ee}),v.objectNumber=ee;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+v.boundingBox.map(B).join(" ")+"]"}),ue.push({key:"XStep",value:B(v.xStep)}),ue.push({key:"YStep",value:B(v.yStep)}),ue.push({key:"Resources",value:$+" 0 R"}),v.matrix&&ue.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Dr({data:v.stream,additionalKeyValues:ue,objectId:v.objectNumber}),K("endobj")},ei=function(v){var P;for(P in wt)wt.hasOwnProperty(P)&&(wt[P]instanceof Uo?aa(wt[P]):wt[P]instanceof Za&&Ll(wt[P],v))},la=function(v){for(var P in v.objectNumber=dn(),K("<<"),v)switch(P){case"opacity":K("/ca "+X(v[P]));break;case"stroke-opacity":K("/CA "+X(v[P]))}K(">>"),K("endobj")},_l=function(){var v;for(v in Kt)Kt.hasOwnProperty(v)&&la(Kt[v])},Be=function(){for(var v in K("/XObject <<"),An)An.hasOwnProperty(v)&&An[v].objectNumber>=0&&K("/"+v+" "+An[v].objectNumber+" 0 R");jt.publish("putXobjectDict"),K(">>")},Ne=function(){Kn.oid=dn(),K("<<"),K("/Filter /Standard"),K("/V "+Kn.v),K("/R "+Kn.r),K("/U <"+Kn.toHexString(Kn.U)+">"),K("/O <"+Kn.toHexString(Kn.O)+">"),K("/P "+Kn.P),K(">>"),K("endobj")},Je=function(){for(var v in K("/Font <<"),Lt)Lt.hasOwnProperty(v)&&(p===!1||p===!0&&g.hasOwnProperty(v))&&K("/"+v+" "+Lt[v].objectNumber+" 0 R");K(">>")},mt=function(){if(Object.keys(wt).length>0){for(var v in K("/Shading <<"),wt)wt.hasOwnProperty(v)&&wt[v]instanceof Uo&&wt[v].objectNumber>=0&&K("/"+v+" "+wt[v].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),K(">>")}},He=function(v){if(Object.keys(wt).length>0){for(var P in K("/Pattern <<"),wt)wt.hasOwnProperty(P)&&wt[P]instanceof m.TilingPattern&&wt[P].objectNumber>=0&&wt[P].objectNumber<v&&K("/"+P+" "+wt[P].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),K(">>")}},Qe=function(){if(Object.keys(Kt).length>0){var v;for(v in K("/ExtGState <<"),Kt)Kt.hasOwnProperty(v)&&Kt[v].objectNumber>=0&&K("/"+v+" "+Kt[v].objectNumber+" 0 R");jt.publish("putGStateDict"),K(">>")}},Ae=function(v){Mn(v.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Je(),mt(),He(v.objectOid),Qe(),Be(),K(">>"),K("endobj")},Pt=function(){var v=[];Oi(),_l(),Bi(),ei(v),jt.publish("putResources"),v.forEach(Ae),Ae({resourcesOid:Ir,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources")},Bn=function(){jt.publish("putAdditionalObjects");for(var v=0;v<xe.length;v++){var P=xe[v];Mn(P.objId,!0),K(P.content),K("endobj")}jt.publish("postPutAdditionalObjects")},kn=function(v){Dt[v.fontName]=Dt[v.fontName]||{},Dt[v.fontName][v.fontStyle]=v.id},xr=function(v,P,$,ee,ue){var ye={id:"F"+(Object.keys(Lt).length+1).toString(10),postScriptName:v,fontName:P,fontStyle:$,encoding:ee,isStandardFont:ue||!1,metadata:{}};return jt.publish("addFont",{font:ye,instance:this}),Lt[ye.id]=ye,kn(ye),ye.id},os=function(v){for(var P=0,$=Pe.length;P<$;P++){var ee=xr.call(this,v[P][0],v[P][1],v[P][2],Pe[P][3],!0);p===!1&&(g[ee]=!0);var ue=v[P][0].split("-");kn({id:ee,fontName:ue[0],fontStyle:ue[1]||""})}jt.publish("addFonts",{fonts:Lt,dictionary:Dt})},hn=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(ee){var P=ee.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var $="Error in function "+P.split(`
`)[0].split("<")[0]+": "+ee.message;if(!at.console)throw new Error($);at.console.error($,ee),at.alert&&alert($)}},v.foo.bar=v,v.foo},sn=function(v,P){var $,ee,ue,ye,ke,Ue,Ze,ht,ut;if(ue=(P=P||{}).sourceEncoding||"Unicode",ke=P.outputEncoding,(P.autoencode||ke)&&Lt[pt].metadata&&Lt[pt].metadata[ue]&&Lt[pt].metadata[ue].encoding&&(ye=Lt[pt].metadata[ue].encoding,!ke&&Lt[pt].encoding&&(ke=Lt[pt].encoding),!ke&&ye.codePages&&(ke=ye.codePages[0]),typeof ke=="string"&&(ke=ye[ke]),ke)){for(Ze=!1,Ue=[],$=0,ee=v.length;$<ee;$++)(ht=ke[v.charCodeAt($)])?Ue.push(String.fromCharCode(ht)):Ue.push(v[$]),Ue[$].charCodeAt(0)>>8&&(Ze=!0);v=Ue.join("")}for($=v.length;Ze===void 0&&$!==0;)v.charCodeAt($-1)>>8&&(Ze=!0),$--;if(!Ze)return v;for(Ue=P.noBOM?[]:[254,255],$=0,ee=v.length;$<ee;$++){if((ut=(ht=v.charCodeAt($))>>8)>>8)throw new Error("Character at position "+$+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ue.push(ut),Ue.push(ht-(ut<<8))}return String.fromCharCode.apply(void 0,Ue)},Nt=m.__private__.pdfEscape=m.pdfEscape=function(v,P){return sn(v,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ar=m.__private__.beginPage=function(v){we[++Yt]=[],lt[Yt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},Nu(Yt),ve(we[O])},zi=function(v,P){var $,ee,ue;switch(n=P||n,typeof v=="string"&&($=x(v.toLowerCase()),Array.isArray($)&&(ee=$[0],ue=$[1])),Array.isArray(v)&&(ee=v[0]*Fe,ue=v[1]*Fe),isNaN(ee)&&(ee=i[0],ue=i[1]),(ee>14400||ue>14400)&&(Bt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),ue=Math.min(14400,ue)),i=[ee,ue],n.substr(0,1)){case"l":ue>ee&&(i=[ue,ee]);break;case"p":ee>ue&&(i=[ue,ee])}ar(i),_u(Il),K(xi),Dl!==0&&K(Dl+" J"),Ml!==0&&K(Ml+" j"),jt.publish("addPage",{pageNumber:Yt})},ti=function(v){v>0&&v<=Yt&&(we.splice(v,1),lt.splice(v,1),Yt--,O>Yt&&(O=Yt),this.setPage(O))},Nu=function(v){v>0&&v<=Yt&&(O=v)},gf=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return we.length-1},Cu=function(v,P,$){var ee,ue=void 0;return $=$||{},v=v!==void 0?v:Lt[pt].fontName,P=P!==void 0?P:Lt[pt].fontStyle,ee=v.toLowerCase(),Dt[ee]!==void 0&&Dt[ee][P]!==void 0?ue=Dt[ee][P]:Dt[v]!==void 0&&Dt[v][P]!==void 0?ue=Dt[v][P]:$.disableWarning===!1&&Bt.warn("Unable to look up font label for font '"+v+"', '"+P+"'. Refer to getFontList() for available fonts."),ue||$.noFallback||(ue=Dt.times[P])==null&&(ue=Dt.times.normal),ue},vf=m.__private__.putInfo=function(){var v=dn(),P=function(ee){return ee};for(var $ in f!==null&&(P=Kn.encryptor(v,0)),K("<<"),K("/Producer ("+Nt(P("jsPDF "+rt.version))+")"),ot)ot.hasOwnProperty($)&&ot[$]&&K("/"+$.substr(0,1).toUpperCase()+$.substr(1)+" ("+Nt(P(ot[$]))+")");K("/CreationDate ("+Nt(P(ae))+")"),K(">>"),K("endobj")},El=m.__private__.putCatalog=function(v){var P=(v=v||{}).rootDictionaryObjId||yi;switch(dn(),K("<<"),K("/Type /Catalog"),K("/Pages "+P+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $=""+De;$.substr($.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&K("/OpenAction [3 0 R /XYZ null null "+X(De)+"]")}switch(qe||(qe="continuous"),qe){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}it&&K("/PageMode /"+it),jt.publish("putCatalog"),K(">>"),K("endobj")},yf=m.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(Z+1)),K("/Root "+Z+" 0 R"),K("/Info "+(Z-1)+" 0 R"),f!==null&&K("/Encrypt "+Kn.oid+" 0 R"),K("/ID [ <"+ce+"> <"+ce+"> ]"),K(">>")},xf=m.__private__.putHeader=function(){K("%PDF-"+S),K("%")},wf=m.__private__.putXRef=function(){var v="0000000000";K("xref"),K("0 "+(Z+1)),K("0000000000 65535 f ");for(var P=1;P<=Z;P++)typeof se[P]=="function"?K((v+se[P]()).slice(-10)+" 00000 n "):se[P]!==void 0?K((v+se[P]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},as=m.__private__.buildDocument=function(){et(),ve(he),jt.publish("buildDocument"),xf(),is(),Bn(),Pt(),f!==null&&Ne(),vf(),El();var v=de;return wf(),yf(),K("startxref"),K(""+v),K("%%EOF"),ve(we[O]),he.join(`
`)},ca=m.__private__.getBlob=function(v){return new Blob([Ge(v)],{type:"application/pdf"})},ua=m.output=m.__private__.output=hn(function(v,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",v){case void 0:return as();case"save":m.save(P.filename);break;case"arraybuffer":return Ge(as());case"blob":return ca(as());case"bloburi":case"bloburl":if(at.URL!==void 0&&typeof at.URL.createObjectURL=="function")return at.URL&&at.URL.createObjectURL(ca(as()))||void 0;Bt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $="",ee=as();try{$=u1(ee)}catch{$=u1(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+P.filename+";base64,"+$;case"pdfobjectnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(ue=P.pdfObjectUrl,ye="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",Ue=at.open();return Ue!==null&&Ue.document.write(ke),Ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',ht=at.open();if(ht!==null){ht.document.write(Ze);var ut=this;ht.document.documentElement.querySelector("#pdfViewer").onload=function(){ht.document.title=P.filename,ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ut.output("bloburl"))}}return ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(at)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',Xt=at.open();if(Xt!==null&&(Xt.document.write(bt),Xt.document.title=P.filename),Xt||typeof safari>"u")return Xt;break;case"datauri":case"dataurl":return at.document.location.href=this.output("datauristring",P);default:return null}}),Au=function(v){return Array.isArray(Mi)===!0&&Mi.indexOf(v)>-1};switch(r){case"pt":Fe=1;break;case"mm":Fe=72/25.4;break;case"cm":Fe=72/2.54;break;case"in":Fe=72;break;case"px":Fe=Au("px_scaling")==1?.75:96/72;break;case"pc":case"em":Fe=12;break;case"ex":Fe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Fe=r}var Kn=null;me(),H();var bf=function(v){return f!==null?Kn.encryptor(v,0):function(P){return P}},ku=m.__private__.getPageInfo=m.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[v].objId,pageNumber:v,pageContext:lt[v]}},ct=m.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in lt)if(lt[P].objId===v)break;return ku(P)},Sf=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:lt[O].objId,pageNumber:O,pageContext:lt[O]}};m.addPage=function(){return zi.apply(this,arguments),this},m.setPage=function(){return Nu.apply(this,arguments),ve.call(this,we[O]),this},m.insertPage=function(v){return this.addPage(),this.movePage(O,v),this},m.movePage=function(v,P){var $,ee;if(v>P){$=we[v],ee=lt[v];for(var ue=v;ue>P;ue--)we[ue]=we[ue-1],lt[ue]=lt[ue-1];we[P]=$,lt[P]=ee,this.setPage(P)}else if(v<P){$=we[v],ee=lt[v];for(var ye=v;ye<P;ye++)we[ye]=we[ye+1],lt[ye]=lt[ye+1];we[P]=$,lt[P]=ee,this.setPage(P)}return this},m.deletePage=function(){return ti.apply(this,arguments),this},m.__private__.text=m.text=function(v,P,$,ee,ue){var ye,ke,Ue,Ze,ht,ut,bt,Xt,on,wn=(ee=ee||{}).scope||this;if(typeof v=="number"&&typeof P=="number"&&(typeof $=="string"||Array.isArray($))){var Yn=$;$=P,P=v,v=Yn}if(arguments[3]instanceof tt?(F("The transform parameter of text() with a Matrix value"),on=ue):(Ue=arguments[4],Ze=arguments[5],Tt(bt=arguments[3])==="object"&&bt!==null||(typeof Ue=="string"&&(Ze=Ue,Ue=null),typeof bt=="string"&&(Ze=bt,bt=null),typeof bt=="number"&&(Ue=bt,bt=null),ee={flags:bt,angle:Ue,align:Ze})),isNaN(P)||isNaN($)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return wn;var En="",wi=!1,Mr=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:Ao,Vi=wn.internal.scaleFactor;function Du(zt){return zt=zt.split("	").join(Array(ee.TabLen||9).join(" ")),Nt(zt,bt)}function Ul(zt){for(var qt,pn=zt.concat(),Pn=[],hs=pn.length;hs--;)typeof(qt=pn.shift())=="string"?Pn.push(qt):Array.isArray(zt)&&(qt.length===1||qt[1]===void 0&&qt[2]===void 0)?Pn.push(qt[0]):Pn.push([qt[0],qt[1],qt[2]]);return Pn}function Vl(zt,qt){var pn;if(typeof zt=="string")pn=qt(zt)[0];else if(Array.isArray(zt)){for(var Pn,hs,Xl=zt.concat(),Ca=[],qu=Xl.length;qu--;)typeof(Pn=Xl.shift())=="string"?Ca.push(qt(Pn)[0]):Array.isArray(Pn)&&typeof Pn[0]=="string"&&(hs=qt(Pn[0],Pn[1],Pn[2]),Ca.push([hs[0],hs[1],hs[2]]));pn=Ca}return pn}var ga=!1,$l=!0;if(typeof v=="string")ga=!0;else if(Array.isArray(v)){var Hl=v.concat();ke=[];for(var va,zn=Hl.length;zn--;)(typeof(va=Hl.shift())!="string"||Array.isArray(va)&&typeof va[0]!="string")&&($l=!1);ga=$l}if(ga===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var ya=Re/wn.internal.scaleFactor,xa=ya*(Mr-1);switch(ee.baseline){case"bottom":$-=xa;break;case"top":$+=ya-xa;break;case"hanging":$+=ya-2*xa;break;case"middle":$+=ya/2-xa}if((ut=ee.maxWidth||0)>0&&(typeof v=="string"?v=wn.splitTextToSize(v,ut):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(zt,qt){return zt.concat(wn.splitTextToSize(qt,ut))},[]))),ye={text:v,x:P,y:$,options:ee,mutex:{pdfEscape:Nt,activeFontKey:pt,fonts:Lt,activeFontSize:Re}},jt.publish("preProcessText",ye),v=ye.text,Ue=(ee=ye.options).angle,!(on instanceof tt)&&Ue&&typeof Ue=="number"){Ue*=Math.PI/180,ee.rotationDirection===0&&(Ue=-Ue),N===w.ADVANCED&&(Ue=-Ue);var wa=Math.cos(Ue),Wl=Math.sin(Ue);on=new tt(wa,Wl,-Wl,wa,0,0)}else Ue&&Ue instanceof tt&&(on=Ue);N!==w.ADVANCED||on||(on=Qr),(ht=ee.charSpace||fa)!==void 0&&(En+=B(L(ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xt=ee.horizontalScale)!==void 0&&(En+=B(100*Xt)+` Tz
`),ee.lang;var wr=-1,Tf=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,Gl=wn.internal.getCurrentPageInfo().pageContext;switch(Tf){case 0:case!1:case"fill":wr=0;break;case 1:case!0:case"stroke":wr=1;break;case 2:case"fillThenStroke":wr=2;break;case 3:case"invisible":wr=3;break;case 4:case"fillAndAddForClipping":wr=4;break;case 5:case"strokeAndAddPathForClipping":wr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wr=6;break;case 7:case"addToPathForClipping":wr=7}var Mu=Gl.usedRenderingMode!==void 0?Gl.usedRenderingMode:-1;wr!==-1?En+=wr+` Tr
`:Mu!==-1&&(En+=`0 Tr
`),wr!==-1&&(Gl.usedRenderingMode=wr),Ze=ee.align||"left";var ni,ba=Re*Mr,Ou=wn.internal.pageSize.getWidth(),Bu=Lt[pt];ht=ee.charSpace||fa,ut=ee.maxWidth||0,bt=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var Ms=[],Lo=function(zt){return wn.getStringUnitWidth(zt,{font:Bu,charSpace:ht,fontSize:Re,doKerning:!1})*Re/Vi};if(Object.prototype.toString.call(v)==="[object Array]"){var br;ke=Ul(v),Ze!=="left"&&(ni=ke.map(Lo));var lr,Os=0;if(Ze==="right"){P-=ni[0],v=[],zn=ke.length;for(var cs=0;cs<zn;cs++)cs===0?(lr=Ui(P),br=ls($)):(lr=L(Os-ni[cs]),br=-ba),v.push([ke[cs],lr,br]),Os=ni[cs]}else if(Ze==="center"){P-=ni[0]/2,v=[],zn=ke.length;for(var us=0;us<zn;us++)us===0?(lr=Ui(P),br=ls($)):(lr=L((Os-ni[us])/2),br=-ba),v.push([ke[us],lr,br]),Os=ni[us]}else if(Ze==="left"){v=[],zn=ke.length;for(var Sa=0;Sa<zn;Sa++)v.push(ke[Sa])}else if(Ze==="justify"&&Bu.encoding==="Identity-H"){v=[],zn=ke.length,ut=ut!==0?ut:Ou;for(var ds=0,fn=0;fn<zn;fn++)if(br=fn===0?ls($):-ba,lr=fn===0?Ui(P):ds,fn<zn-1){var Kl=L((ut-ni[fn])/(ke[fn].split(" ").length-1)),cr=ke[fn].split(" ");v.push([cr[0]+" ",lr,br]),ds=0;for(var ri=1;ri<cr.length;ri++){var ja=(Lo(cr[ri-1]+" "+cr[ri])-Lo(cr[ri]))*Vi+Kl;ri==cr.length-1?v.push([cr[ri],ja,0]):v.push([cr[ri]+" ",ja,0]),ds-=ja}}else v.push([ke[fn],lr,br]);v.push(["",ds,0])}else{if(Ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],zn=ke.length,ut=ut!==0?ut:Ou,fn=0;fn<zn;fn++)br=fn===0?ls($):-ba,lr=fn===0?Ui(P):0,fn<zn-1?Ms.push(B(L((ut-ni[fn])/(ke[fn].split(" ").length-1)))):Ms.push(0),v.push([ke[fn],lr,br])}}var zu=typeof ee.R2L=="boolean"?ee.R2L:$e;zu===!0&&(v=Vl(v,function(zt,qt,pn){return[zt.split("").reverse().join(""),qt,pn]})),ye={text:v,x:P,y:$,options:ee,mutex:{pdfEscape:Nt,activeFontKey:pt,fonts:Lt,activeFontSize:Re}},jt.publish("postProcessText",ye),v=ye.text,wi=ye.mutex.isHex||!1;var Yl=Lt[pt].encoding;Yl!=="WinAnsiEncoding"&&Yl!=="StandardEncoding"||(v=Vl(v,function(zt,qt,pn){return[Du(zt),qt,pn]})),ke=Ul(v),v=[];for(var _o,Eo,Bs,To=0,Na=1,Fo=Array.isArray(ke[0])?Na:To,zs="",Jl=function(zt,qt,pn){var Pn="";return pn instanceof tt?(pn=typeof ee.angle=="number"?yr(pn,new tt(1,0,0,1,zt,qt)):yr(new tt(1,0,0,1,zt,qt),pn),N===w.ADVANCED&&(pn=yr(new tt(1,0,0,-1,0,0),pn)),Pn=pn.join(" ")+` Tm
`):Pn=B(zt)+" "+B(qt)+` Td
`,Pn},ii=0;ii<ke.length;ii++){switch(zs="",Fo){case Na:Bs=(wi?"<":"(")+ke[ii][0]+(wi?">":")"),_o=parseFloat(ke[ii][1]),Eo=parseFloat(ke[ii][2]);break;case To:Bs=(wi?"<":"(")+ke[ii]+(wi?">":")"),_o=Ui(P),Eo=ls($)}Ms!==void 0&&Ms[ii]!==void 0&&(zs=Ms[ii]+` Tw
`),ii===0?v.push(zs+Jl(_o,Eo,on)+Bs):Fo===To?v.push(zs+Bs):Fo===Na&&v.push(zs+Jl(_o,Eo,on)+Bs)}v=Fo===To?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var si=`BT
/`;return si+=pt+" "+Re+` Tf
`,si+=B(Re*Mr)+` TL
`,si+=ko+`
`,si+=En,si+=v,K(si+="ET"),g[pt]=!0,wn};var jf=m.__private__.clip=m.clip=function(v){return K(v==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return jf("evenodd")},m.__private__.discardPath=m.discardPath=function(){return K("n"),this};var qi=m.__private__.isValidStyle=function(v){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(P=!0),P};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(v){return qi(v)&&(d=v),this};var Pu=m.__private__.getStyle=m.getStyle=function(v){var P=d;switch(v){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=v}return P},Lu=m.close=function(){return K("h"),this};m.stroke=function(){return K("S"),this},m.fill=function(v){return da("f",v),this},m.fillEvenOdd=function(v){return da("f*",v),this},m.fillStroke=function(v){return da("B",v),this},m.fillStrokeEvenOdd=function(v){return da("B*",v),this};var da=function(v,P){Tt(P)==="object"?Cf(P,v):K(v)},Tl=function(v){v===null||N===w.ADVANCED&&v===void 0||(v=Pu(v),K(v))};function Nf(v,P,$,ee,ue){var ye=new Za(P||this.boundingBox,$||this.xStep,ee||this.yStep,this.gState,ue||this.matrix);ye.stream=this.stream;var ke=v+"$$"+this.cloneIndex+++"$$";return Wn(ke,ye),ye}var Cf=function(v,P){var $=rs[v.key],ee=wt[$];if(ee instanceof Uo)K("q"),K(Af(P)),ee.gState&&m.setGState(ee.gState),K(v.matrix.toString()+" cm"),K("/"+$+" sh"),K("Q");else if(ee instanceof Za){var ue=new tt(1,0,0,-1,0,Ds());v.matrix&&(ue=ue.multiply(v.matrix||Qr),$=Nf.call(ee,v.key,v.boundingBox,v.xStep,v.yStep,ue).id),K("q"),K("/Pattern cs"),K("/"+$+" scn"),ee.gState&&m.setGState(ee.gState),K(P),K("Q")}},Af=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Fl=m.moveTo=function(v,P){return K(B(L(v))+" "+B(V(P))+" m"),this},Co=m.lineTo=function(v,P){return K(B(L(v))+" "+B(V(P))+" l"),this},Is=m.curveTo=function(v,P,$,ee,ue,ye){return K([B(L(v)),B(V(P)),B(L($)),B(V(ee)),B(L(ue)),B(V(ye)),"c"].join(" ")),this};m.__private__.line=m.line=function(v,P,$,ee,ue){if(isNaN(v)||isNaN(P)||isNaN($)||isNaN(ee)||!qi(ue))throw new Error("Invalid arguments passed to jsPDF.line");return N===w.COMPAT?this.lines([[$-v,ee-P]],v,P,[1,1],ue||"S"):this.lines([[$-v,ee-P]],v,P,[1,1]).stroke()},m.__private__.lines=m.lines=function(v,P,$,ee,ue,ye){var ke,Ue,Ze,ht,ut,bt,Xt,on,wn,Yn,En,wi;if(typeof v=="number"&&(wi=$,$=P,P=v,v=wi),ee=ee||[1,1],ye=ye||!1,isNaN(P)||isNaN($)||!Array.isArray(v)||!Array.isArray(ee)||!qi(ue)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Fl(P,$),ke=ee[0],Ue=ee[1],ht=v.length,Yn=P,En=$,Ze=0;Ze<ht;Ze++)(ut=v[Ze]).length===2?(Yn=ut[0]*ke+Yn,En=ut[1]*Ue+En,Co(Yn,En)):(bt=ut[0]*ke+Yn,Xt=ut[1]*Ue+En,on=ut[2]*ke+Yn,wn=ut[3]*Ue+En,Yn=ut[4]*ke+Yn,En=ut[5]*Ue+En,Is(bt,Xt,on,wn,Yn,En));return ye&&Lu(),Tl(ue),this},m.path=function(v){for(var P=0;P<v.length;P++){var $=v[P],ee=$.c;switch($.op){case"m":Fl(ee[0],ee[1]);break;case"l":Co(ee[0],ee[1]);break;case"c":Is.apply(this,ee);break;case"h":Lu()}}return this},m.__private__.rect=m.rect=function(v,P,$,ee,ue){if(isNaN(v)||isNaN(P)||isNaN($)||isNaN(ee)||!qi(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return N===w.COMPAT&&(ee=-ee),K([B(L(v)),B(V(P)),B(L($)),B(L(ee)),"re"].join(" ")),Tl(ue),this},m.__private__.triangle=m.triangle=function(v,P,$,ee,ue,ye,ke){if(isNaN(v)||isNaN(P)||isNaN($)||isNaN(ee)||isNaN(ue)||isNaN(ye)||!qi(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$-v,ee-P],[ue-$,ye-ee],[v-ue,P-ye]],v,P,[1,1],ke,!0),this},m.__private__.roundedRect=m.roundedRect=function(v,P,$,ee,ue,ye,ke){if(isNaN(v)||isNaN(P)||isNaN($)||isNaN(ee)||isNaN(ue)||isNaN(ye)||!qi(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ue=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*$),ye=Math.min(ye,.5*ee),this.lines([[$-2*ue,0],[ue*Ue,0,ue,ye-ye*Ue,ue,ye],[0,ee-2*ye],[0,ye*Ue,-ue*Ue,ye,-ue,ye],[2*ue-$,0],[-ue*Ue,0,-ue,-ye*Ue,-ue,-ye],[0,2*ye-ee],[0,-ye*Ue,ue*Ue,-ye,ue,-ye]],v+ue,P,[1,1],ke,!0),this},m.__private__.ellipse=m.ellipse=function(v,P,$,ee,ue){if(isNaN(v)||isNaN(P)||isNaN($)||isNaN(ee)||!qi(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*$,ke=4/3*(Math.SQRT2-1)*ee;return Fl(v+$,P),Is(v+$,P-ke,v+ye,P-ee,v,P-ee),Is(v-ye,P-ee,v-$,P-ke,v-$,P),Is(v-$,P+ke,v-ye,P+ee,v,P+ee),Is(v+ye,P+ee,v+$,P+ke,v+$,P),Tl(ue),this},m.__private__.circle=m.circle=function(v,P,$,ee){if(isNaN(v)||isNaN(P)||isNaN($)||!qi(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,P,$,$,ee)},m.setFont=function(v,P,$){return $&&(P=W(P,$)),pt=Cu(v,P,{disableWarning:!1}),this};var kf=m.__private__.getFont=m.getFont=function(){return Lt[Cu.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var v,P,$={};for(v in Dt)if(Dt.hasOwnProperty(v))for(P in $[v]=[],Dt[v])Dt[v].hasOwnProperty(P)&&$[v].push(P);return $},m.addFont=function(v,P,$,ee,ue){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&($=W($,ee)),ue=ue||"Identity-H",xr.call(this,v,P,$,ue)};var Ao,Il=e.lineWidth||.200025,ha=m.__private__.getLineWidth=m.getLineWidth=function(){return Il},_u=m.__private__.setLineWidth=m.setLineWidth=function(v){return Il=v,K(B(L(v))+" w"),this};m.__private__.setLineDash=rt.API.setLineDash=rt.API.setLineDashPattern=function(v,P){if(v=v||[],P=P||0,isNaN(P)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function($){return B(L($))}).join(" "),P=B(L(P)),K("["+v+"] "+P+" d"),this};var Eu=m.__private__.getLineHeight=m.getLineHeight=function(){return Re*Ao};m.__private__.getLineHeight=m.getLineHeight=function(){return Re*Ao};var Tu=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Ao=v),this},Fu=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ao};Tu(e.lineHeight);var Ui=m.__private__.getHorizontalCoordinate=function(v){return L(v)},ls=m.__private__.getVerticalCoordinate=function(v){return N===w.ADVANCED?v:lt[O].mediaBox.topRightY-lt[O].mediaBox.bottomLeftY-L(v)},Pf=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(v){return B(Ui(v))},Rs=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(v){return B(ls(v))},xi=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return On(xi)},m.__private__.setStrokeColor=m.setDrawColor=function(v,P,$,ee){return xi=Gn({ch1:v,ch2:P,ch3:$,ch4:ee,pdfColorType:"draw",precision:2}),K(xi),this};var Rl=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return On(Rl)},m.__private__.setFillColor=m.setFillColor=function(v,P,$,ee){return Rl=Gn({ch1:v,ch2:P,ch3:$,ch4:ee,pdfColorType:"fill",precision:2}),K(Rl),this};var ko=e.textColor||"0 g",Lf=m.__private__.getTextColor=m.getTextColor=function(){return On(ko)};m.__private__.setTextColor=m.setTextColor=function(v,P,$,ee){return ko=Gn({ch1:v,ch2:P,ch3:$,ch4:ee,pdfColorType:"text",precision:3}),this};var fa=e.charSpace,_f=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(fa||0)};m.__private__.setCharSpace=m.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fa=v,this};var Dl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(v){var P=m.CapJoinStyles[v];if(P===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dl=P,K(P+" J"),this};var Ml=0;m.__private__.setLineJoin=m.setLineJoin=function(v){var P=m.CapJoinStyles[v];if(P===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ml=P,K(P+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(B(L(v))+" M"),this},m.GState=Oh,m.setGState=function(v){(v=typeof v=="string"?Kt[vr[v]]:Iu(null,v)).equals(Jr)||(K("/"+v.id+" gs"),Jr=v)};var Iu=function(v,P){if(!v||!vr[v]){var $=!1;for(var ee in Kt)if(Kt.hasOwnProperty(ee)&&Kt[ee].equals(P)){$=!0;break}if($)P=Kt[ee];else{var ue="GS"+(Object.keys(Kt).length+1).toString(10);Kt[ue]=P,P.id=ue}return v&&(vr[v]=P.id),jt.publish("addGState",P),P}};m.addGState=function(v,P){return Iu(v,P),this},m.saveGraphicsState=function(){return K("q"),Tr.push({key:pt,size:Re,color:ko}),this},m.restoreGraphicsState=function(){K("Q");var v=Tr.pop();return pt=v.key,Re=v.size,ko=v.color,Jr=null,this},m.setCurrentTransformationMatrix=function(v){return K(v.toString()+" cm"),this},m.comment=function(v){return K("#"+v),this};var pa=function(v,P){var $=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(ye){isNaN(ye)||($=parseFloat(ye))}});var ee=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(ye){isNaN(ye)||(ee=parseFloat(ye))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(ye){ue=ye.toString()}}),this},Ol=function(v,P,$,ee){pa.call(this,v,P),this.type="rect";var ue=$||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(ke){isNaN(ke)||(ue=parseFloat(ke))}});var ye=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(ke){isNaN(ke)||(ye=parseFloat(ke))}}),this},Bl=function(){this.page=Yt,this.currentPage=O,this.pages=we.slice(0),this.pagesContext=lt.slice(0),this.x=Cn,this.y=xt,this.matrix=gr,this.width=Po(O),this.height=Ds(O),this.outputDestination=Le,this.id="",this.objectNumber=-1};Bl.prototype.restore=function(){Yt=this.page,O=this.currentPage,lt=this.pagesContext,we=this.pages,Cn=this.x,xt=this.y,gr=this.matrix,zl(O,this.width),ql(O,this.height),Le=this.outputDestination};var Ru=function(v,P,$,ee,ue){Xr.push(new Bl),Yt=O=0,we=[],Cn=v,xt=P,gr=ue,ar([$,ee])},Ef=function(v){if(Fr[v])Xr.pop().restore();else{var P=new Bl,$="Xo"+(Object.keys(An).length+1).toString(10);P.id=$,Fr[v]=$,An[$]=P,jt.publish("addFormObject",P),Xr.pop().restore()}};for(var ma in m.beginFormObject=function(v,P,$,ee,ue){return Ru(v,P,$,ee,ue),this},m.endFormObject=function(v){return Ef(v),this},m.doFormObject=function(v,P){var $=An[Fr[v]];return K("q"),K(P.toString()+" cm"),K("/"+$.id+" Do"),K("Q"),this},m.getFormObject=function(v){var P=An[Fr[v]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},m.save=function(v,P){return v=v||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(qo(ca(as()),v),typeof qo.unload=="function"&&at.setTimeout&&setTimeout(qo.unload,911),this):new Promise(function($,ee){try{var ue=qo(ca(as()),v);typeof qo.unload=="function"&&at.setTimeout&&setTimeout(qo.unload,911),$(ue)}catch(ye){ee(ye.message)}})},rt.API)rt.API.hasOwnProperty(ma)&&(ma==="events"&&rt.API.events.length?function(v,P){var $,ee,ue;for(ue=P.length-1;ue!==-1;ue--)$=P[ue][0],ee=P[ue][1],v.subscribe.apply(v,[$].concat(typeof ee=="function"?[ee]:ee))}(jt,rt.API.events):m[ma]=rt.API[ma]);var Po=m.getPageWidth=function(v){return(lt[v=v||O].mediaBox.topRightX-lt[v].mediaBox.bottomLeftX)/Fe},zl=m.setPageWidth=function(v,P){lt[v].mediaBox.topRightX=P*Fe+lt[v].mediaBox.bottomLeftX},Ds=m.getPageHeight=function(v){return(lt[v=v||O].mediaBox.topRightY-lt[v].mediaBox.bottomLeftY)/Fe},ql=m.setPageHeight=function(v,P){lt[v].mediaBox.topRightY=P*Fe+lt[v].mediaBox.bottomLeftY};return m.internal={pdfEscape:Nt,getStyle:Pu,getFont:kf,getFontSize:Me,getCharSpace:_f,getTextColor:Lf,getLineHeight:Eu,getLineHeightFactor:Fu,getLineWidth:ha,write:Ye,getHorizontalCoordinate:Ui,getVerticalCoordinate:ls,getCoordinateString:Pf,getVerticalCoordinateString:Rs,collections:{},newObject:dn,newAdditionalObject:Vt,newObjectDeferred:rn,newObjectDeferredBegin:Mn,getFilters:Rr,putStream:Dr,events:jt,scaleFactor:Fe,pageSize:{getWidth:function(){return Po(O)},setWidth:function(v){zl(O,v)},getHeight:function(){return Ds(O)},setHeight:function(v){ql(O,v)}},encryptionOptions:f,encryption:Kn,getEncryptor:bf,output:ua,getNumberOfPages:gf,pages:we,out:K,f2:X,f3:I,getPageInfo:ku,getPageInfoByObjId:ct,getCurrentPageInfo:Sf,getPDFVersion:b,Point:pa,Rectangle:Ol,Matrix:tt,hasHotfix:Au},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Po(O)},set:function(v){zl(O,v)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ds(O)},set:function(v){ql(O,v)},enumerable:!0,configurable:!0}),os.call(m,Pe),pt="F1",zi(i,n),jt.publish("initialized"),m}Ia.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Ia.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ia.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Ia.prototype.processOwnerPassword=function(e,t){return h1(d1(t).substr(0,5),e)},Ia.prototype.encryptor=function(e,t){var n=d1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return h1(n,r)}},Oh.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Tt(e)!==Tt(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},rt.API={events:[]},rt.version="3.0.1";var ln=rt.API,tg=1,sa=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ea=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dt=function(e){return e.toFixed(2)},Js=function(e){return e.toFixed(5)};ln.__acroform__={};var Lr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},y5=function(e){return e*tg},Wi=function(e){var t=new ab,n=Ke.internal.getHeight(e)||0,r=Ke.internal.getWidth(e)||0;return t.BBox=[0,0,Number(dt(r)),Number(dt(n))],t},hP=ln.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},fP=ln.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},pP=ln.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},vn=ln.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return pP(e,t-1)},yn=ln.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return hP(e,t-1)},xn=ln.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fP(e,t-1)},mP=ln.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(dt(l.lowerLeft_X)),Number(dt(l.lowerLeft_Y)),Number(dt(l.upperRight_X)),Number(dt(l.upperRight_Y))]},gP=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=f1(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+dt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Wi(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},f1=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var s=n,o=Ke.internal.getHeight(e)||0;o=o<0?-o:o;var a=Ke.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(I,L,Y){if(I+1<i.length){var V=L+" "+i[I+1][0];return _d(V,e,Y).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var d,f,p=_d("3",e,s).height,g=e.multiline?o-s:(o-p)/2,m=g+=2,S=0,b=0,C=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+_d(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var x="",w=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var R=!1;if(i[N].length!==1&&C!==i[N].length-1){if((p+2)*(w+2)+2>o)continue e;x+=i[N][C],R=!0,b=N,N--}else{x=(x+=i[N][C]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var q=parseInt(N),W=l(q,x,s),B=N>=i.length-1;if(W&&!B){x+=" ",C=0;continue}if(W||B){if(B)b=q;else if(e.multiline&&(p+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(p+2)*(w+2)+2>o)continue e;b=q}}for(var F="",Q=S;Q<=b;Q++){var X=i[Q];if(e.multiline){if(Q===b){F+=X[C]+" ",C=(C+1)%X.length;continue}if(Q===S){F+=X[X.length-1]+" ";continue}}F+=X[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,f=_d(F,e,s).width,e.textAlign){case"right":d=a-f-2;break;case"center":d=(a-f)/2;break;case"left":default:d=2}t+=dt(d)+" "+dt(m)+` Td
`,t+="("+sa(F)+`) Tj
`,t+=-dt(d)+` 0 Td
`,m=-(s+2),f=0,S=R?b:b+1,w++,x=""}break}return r.text=t,r.fontSize=s,r},_d=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},vP={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},yP=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},xP=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Tt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},wP=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ri.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(vP)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");tg=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new lb,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&yP(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],d=a.Rect;if(a.Rect&&(a.Rect=mP(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ke.createDefaultAppearanceStream(a),Tt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=d,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=gP(a);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var p="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var m=a.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var S=m[o];typeof S=="function"&&(S=S.call(i,a)),p+="/"+o+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=m)=="function"&&(S=S.call(i,a)),p+="/"+o+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&xP(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},ob=ln.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Tt(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+sa(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Vp=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+sa(r(e))+")"},Yi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yi.prototype.toString=function(){return this.objId+" 0 R"},Yi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Yi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:ob(i,this.objId,this.scope)}):i instanceof Yi?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var ab=function(){Yi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Lr(ab,Yi);var lb=function(){Yi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+sa(n(e))+")"}},set:function(n){e=n}})};Lr(lb,Yi);var Ri=function e(){Yi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vn(t,3)},set:function(x){x?this.F=yn(t,3):this.F=xn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Bh)return;s="FieldObject"+e.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+sa(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/tg:d},set:function(x){d=x}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(x){f=x}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Bh||this instanceof Jo))return Vp(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=x}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Rn?g:Vp(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=this instanceof Rn?x:x.substr(0,1)==="("?Ea(x.substr(1,x.length-2)):Ea(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rn?Ea(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof Rn?"/"+x:x}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Rn?m:Vp(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=this instanceof Rn?x:x.substr(0,1)==="("?Ea(x.substr(1,x.length-2)):Ea(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rn?Ea(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof Rn?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(x){x=!!x,b=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(x){S=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,1)},set:function(x){x?this.Ff=yn(this.Ff,1):this.Ff=xn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,2)},set:function(x){x?this.Ff=yn(this.Ff,2):this.Ff=xn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,3)},set:function(x){x?this.Ff=yn(this.Ff,3):this.Ff=xn(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');C=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(C){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};Lr(Ri,Yi);var al=function(){Ri.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ob(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,d=[];l=o.exec(s);)d.push(l[a]);return d}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,18)},set:function(n){n?this.Ff=yn(this.Ff,18):this.Ff=xn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=yn(this.Ff,19):this.Ff=xn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,20)},set:function(n){n?(this.Ff=yn(this.Ff,20),t.sort()):this.Ff=xn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,22)},set:function(n){n?this.Ff=yn(this.Ff,22):this.Ff=xn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,23)},set:function(n){n?this.Ff=yn(this.Ff,23):this.Ff=xn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,27)},set:function(n){n?this.Ff=yn(this.Ff,27):this.Ff=xn(this.Ff,27)}}),this.hasAppearanceStream=!1};Lr(al,Ri);var ll=function(){al.call(this),this.fontName="helvetica",this.combo=!1};Lr(ll,al);var cl=function(){ll.call(this),this.combo=!0};Lr(cl,ll);var eh=function(){cl.call(this),this.edit=!0};Lr(eh,cl);var Rn=function(){Ri.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,15)},set:function(n){n?this.Ff=yn(this.Ff,15):this.Ff=xn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,16)},set:function(n){n?this.Ff=yn(this.Ff,16):this.Ff=xn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,17)},set:function(n){n?this.Ff=yn(this.Ff,17):this.Ff=xn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,26)},set:function(n){n?this.Ff=yn(this.Ff,26):this.Ff=xn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+sa(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Tt(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Lr(Rn,Ri);var th=function(){Rn.call(this),this.pushButton=!0};Lr(th,Rn);var ul=function(){Rn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Lr(ul,Rn);var Bh=function(){var e,t;Ri.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+sa(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Tt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ke.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Lr(Bh,Ri),ul.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ul.prototype.createOption=function(e){var t=new Bh;return t.Parent=this,t.optionName=e,this.Kids.push(t),bP.call(this.scope,t),t};var nh=function(){Rn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ke.CheckBox.createAppearanceStream()};Lr(nh,Rn);var Jo=function(){Ri.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,13)},set:function(t){t?this.Ff=yn(this.Ff,13):this.Ff=xn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,21)},set:function(t){t?this.Ff=yn(this.Ff,21):this.Ff=xn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,23)},set:function(t){t?this.Ff=yn(this.Ff,23):this.Ff=xn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,24)},set:function(t){t?this.Ff=yn(this.Ff,24):this.Ff=xn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,25)},set:function(t){t?this.Ff=yn(this.Ff,25):this.Ff=xn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,26)},set:function(t){t?this.Ff=yn(this.Ff,26):this.Ff=xn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Lr(Jo,Ri);var rh=function(){Jo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,14)},set:function(e){e?this.Ff=yn(this.Ff,14):this.Ff=xn(this.Ff,14)}}),this.password=!0};Lr(rh,Jo);var Ke={CheckBox:{createAppearanceStream:function(){return{N:{On:Ke.CheckBox.YesNormal},D:{On:Ke.CheckBox.YesPushDown,Off:Ke.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=f1(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+dt(Ke.internal.getWidth(e))+" "+dt(Ke.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+dt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Wi(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Ke.internal.getHeight(e),o=Ke.internal.getWidth(e),a=f1(e,e.caption);return i.push("1 g"),i.push("0 0 "+dt(o)+" "+dt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+dt(o-1)+" "+dt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+dt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+dt(Ke.internal.getWidth(e))+" "+dt(Ke.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ke.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ke.RadioButton.Circle.YesNormal,t.D[e]=Ke.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=Ke.internal.getWidth(e)<=Ke.internal.getHeight(e)?Ke.internal.getWidth(e)/4:Ke.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Ke.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Js(Ke.internal.getWidth(e)/2)+" "+Js(Ke.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=Ke.internal.getWidth(e)<=Ke.internal.getHeight(e)?Ke.internal.getWidth(e)/4:Ke.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ke.internal.Bezier_C).toFixed(5)),o=Number((r*Ke.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Js(Ke.internal.getWidth(e)/2)+" "+Js(Ke.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Js(Ke.internal.getWidth(e)/2)+" "+Js(Ke.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=Ke.internal.getWidth(e)<=Ke.internal.getHeight(e)?Ke.internal.getWidth(e)/4:Ke.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ke.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Js(Ke.internal.getWidth(e)/2)+" "+Js(Ke.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ke.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ke.RadioButton.Cross.YesNormal,t.D[e]=Ke.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=Ke.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+dt(Ke.internal.getWidth(e)-2)+" "+dt(Ke.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(dt(r.x1.x)+" "+dt(r.x1.y)+" m"),n.push(dt(r.x2.x)+" "+dt(r.x2.y)+" l"),n.push(dt(r.x4.x)+" "+dt(r.x4.y)+" m"),n.push(dt(r.x3.x)+" "+dt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=Ke.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+dt(Ke.internal.getWidth(e))+" "+dt(Ke.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+dt(Ke.internal.getWidth(e)-2)+" "+dt(Ke.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(dt(n.x1.x)+" "+dt(n.x1.y)+" m"),r.push(dt(n.x2.x)+" "+dt(n.x2.y)+" l"),r.push(dt(n.x4.x)+" "+dt(n.x4.y)+" m"),r.push(dt(n.x3.x)+" "+dt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+dt(Ke.internal.getWidth(e))+" "+dt(Ke.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ke.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ke.internal.getWidth(e),n=Ke.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ke.internal.getWidth=function(e){var t=0;return Tt(e)==="object"&&(t=y5(e.Rect[2])),t},Ke.internal.getHeight=function(e){var t=0;return Tt(e)==="object"&&(t=y5(e.Rect[3])),t};var bP=ln.addField=function(e){if(wP(this,e),!(e instanceof Ri))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ln.AcroFormChoiceField=al,ln.AcroFormListBox=ll,ln.AcroFormComboBox=cl,ln.AcroFormEditBox=eh,ln.AcroFormButton=Rn,ln.AcroFormPushButton=th,ln.AcroFormRadioButton=ul,ln.AcroFormCheckBox=nh,ln.AcroFormTextField=Jo,ln.AcroFormPasswordField=rh,ln.AcroFormAppearance=Ke,ln.AcroForm={ChoiceField:al,ListBox:ll,ComboBox:cl,EditBox:eh,Button:Rn,PushButton:th,RadioButton:ul,CheckBox:nh,TextField:Jo,PasswordField:rh,Appearance:Ke},rt.AcroForm={ChoiceField:al,ListBox:ll,ComboBox:cl,EditBox:eh,Button:Rn,PushButton:th,RadioButton:ul,CheckBox:nh,TextField:Jo,PasswordField:rh,Appearance:Ke};function cb(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(I,L){var Y,V,ae,ce,le,H=t;if((L=L||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(W(I))for(le in n)for(ae=n[le],Y=0;Y<ae.length;Y+=1){for(ce=!0,V=0;V<ae[Y].length;V+=1)if(ae[Y][V]!==void 0&&ae[Y][V]!==I[V]){ce=!1;break}if(ce===!0){H=le;break}}else for(le in n)for(ae=n[le],Y=0;Y<ae.length;Y+=1){for(ce=!0,V=0;V<ae[Y].length;V+=1)if(ae[Y][V]!==void 0&&ae[Y][V]!==I.charCodeAt(V)){ce=!1;break}if(ce===!0){H=le;break}}return H===t&&L!==t&&(H=L),H},i=function I(L){for(var Y=this.internal.write,V=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:L.width}),ce.push({key:"Height",value:L.height}),L.colorSpace===C.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===C.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var le="",H=0,re=L.transparency.length;H<re;H++)le+=L.transparency[H]+" "+L.transparency[H]+" ";ce.push({key:"Mask",value:"["+le+"]"})}L.sMask!==void 0&&ce.push({key:"SMask",value:L.objectId+1+" 0 R"});var J=L.filter!==void 0?["/"+L.filter]:void 0;if(V({data:L.data,additionalKeyValues:ce,alreadyAppliedFilters:J,objectId:L.objectId}),Y("endobj"),"sMask"in L&&L.sMask!==void 0){var me="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,A={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:me,data:L.sMask};"filter"in L&&(A.filter=L.filter),I.call(this,A)}if(L.colorSpace===C.INDEXED){var O=this.internal.newObject();V({data:F(new Uint8Array(L.palette)),objectId:O}),Y("endobj")}},s=function(){var I=this.internal.collections.addImage_images;for(var L in I)i.call(this,I[L])},o=function(){var I,L=this.internal.collections.addImage_images,Y=this.internal.write;for(var V in L)Y("/I"+(I=L[V]).index,I.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var I=this.internal.collections.addImage_images;return a.call(this),I},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(I){return typeof e["process"+I.toUpperCase()]=="function"},p=function(I){return Tt(I)==="object"&&I.nodeType===1},g=function(I,L){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var Y=""+I.getAttribute("src");if(Y.indexOf("data:image/")===0)return Bc(unescape(Y).split("base64,").pop());var V=e.loadFile(Y,!0);if(V!==void 0)return V}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var ae;switch(L){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;case"JPEG":case"JPG":default:ae="image/jpeg"}return Bc(I.toDataURL(ae,1).split("base64,").pop())}},m=function(I){var L=this.internal.collections.addImage_images;if(L){for(var Y in L)if(I===L[Y].alias)return L[Y]}},S=function(I,L,Y){return I||L||(I=-96,L=-96),I<0&&(I=-1*Y.width*72/I/this.internal.scaleFactor),L<0&&(L=-1*Y.height*72/L/this.internal.scaleFactor),I===0&&(I=L*Y.width/Y.height),L===0&&(L=I*Y.height/Y.width),[I,L]},b=function(I,L,Y,V,ae,ce){var le=S.call(this,Y,V,ae),H=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,J=l.call(this);if(Y=le[0],V=le[1],J[ae.index]=ae,ce){ce*=Math.PI/180;var me=Math.cos(ce),A=Math.sin(ce),O=function(G){return G.toFixed(4)},z=[O(me),O(A),O(-1*A),O(me),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,H(I),re(L+V),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([H(Y),"0","0",H(V),"0","0","cm"].join(" "))):this.internal.write([H(Y),"0","0",H(V),H(I),re(L+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},C=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(I){var L,Y,V=0;if(typeof I=="string")for(Y=I.length,L=0;L<Y;L++)V=(V<<5)-V+I.charCodeAt(L),V|=0;else if(W(I))for(Y=I.byteLength/2,L=0;L<Y;L++)V=(V<<5)-V+I[L],V|=0;return V},N=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var L=!0;return I.length===0&&(L=!1),I.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(L=!1),L},R=e.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var L=I.indexOf(",");return L<0?null:I.substring(0,L).trim().endsWith("base64")?I.substring(L+1):null},q=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(I){return q()&&I instanceof ArrayBuffer};var W=e.__addimage__.isArrayBufferView=function(I){return q()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},B=e.__addimage__.binaryStringToUint8Array=function(I){for(var L=I.length,Y=new Uint8Array(L),V=0;V<L;V++)Y[V]=I.charCodeAt(V);return Y},F=e.__addimage__.arrayBufferToBinaryString=function(I){for(var L="",Y=W(I)?I:new Uint8Array(I),V=0;V<Y.length;V+=8192)L+=String.fromCharCode.apply(null,Y.subarray(V,V+8192));return L};e.addImage=function(){var I,L,Y,V,ae,ce,le,H,re;if(typeof arguments[1]=="number"?(L=t,Y=arguments[1],V=arguments[2],ae=arguments[3],ce=arguments[4],le=arguments[5],H=arguments[6],re=arguments[7]):(L=arguments[1],Y=arguments[2],V=arguments[3],ae=arguments[4],ce=arguments[5],le=arguments[6],H=arguments[7],re=arguments[8]),Tt(I=arguments[0])==="object"&&!p(I)&&"imageData"in I){var J=I;I=J.imageData,L=J.format||L||t,Y=J.x||Y||0,V=J.y||V||0,ae=J.w||J.width||ae,ce=J.h||J.height||ce,le=J.alias||le,H=J.compression||H,re=J.rotation||J.angle||re}var me=this.internal.getFilters();if(H===void 0&&me.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(Y)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var A=Q.call(this,I,L,le,H);return b.call(this,Y,V,ae,ce,A,re),this};var Q=function(I,L,Y,V){var ae,ce,le;if(typeof I=="string"&&r(I)===t){I=unescape(I);var H=X(I,!1);(H!==""||(H=e.loadFile(I,!0))!==void 0)&&(I=H)}if(p(I)&&(I=g(I,L)),L=r(I,L),!f(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((le=Y)==null||le.length===0)&&(Y=function(re){return typeof re=="string"||W(re)?w(re):W(re.data)?w(re.data):null}(I)),(ae=m.call(this,Y))||(q()&&(I instanceof Uint8Array||L==="RGBA"||(ce=I,I=B(I))),ae=this["process"+L.toUpperCase()](I,d.call(this),Y,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in e.image_compression?re:x.NONE}(V),ce)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},X=e.__addimage__.convertBase64ToBinaryString=function(I,L){L=typeof L!="boolean"||L;var Y,V="";if(typeof I=="string"){var ae;Y=(ae=R(I))!==null&&ae!==void 0?ae:I;try{V=Bc(Y)}catch(ce){if(L)throw N(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(I){var L,Y,V="";if(p(I)&&(I=g(I)),typeof I=="string"&&r(I)===t&&((V=X(I,!1))===""&&(V=e.loadFile(I)||""),I=V),Y=r(I),!f(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(!q()||I instanceof Uint8Array||(I=B(I)),!(L=this["process"+Y.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=Y,L}})(rt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};rt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,f=!1,p=0;p<d.length&&!f;p++)switch((r=d[p]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){r=d[g];var m=this.internal.pdfEscape,S=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(b.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(x(r.contents))+")",s+=" /Popup "+C.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(x(w))+") >>",b.content=s;var N=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(s+=" /Open true"),s+=" >>",C.content=s,this.internal.write(b.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(S(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(S(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var W=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+W+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:d(r),w:l(n+i),h:d(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(n,a).length;o=Math.ceil(d*f)}else a=l,o=d;return this.text(n,r,i,s),i+=.2*d,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-d,a,o,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(rt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=e.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(b){var C=0,x=n,w="",N=0;for(C=0;C<b.length;C+=1)x[b.charCodeAt(C)]!==void 0?(N++,typeof(x=x[b.charCodeAt(C)])=="number"&&(w+=String.fromCharCode(x),x=n,N=0),C===b.length-1&&(x=n,w+=b.charAt(C-(N-1)),C-=N-1,N=0)):(x=n,w+=b.charAt(C-N),C-=N,N=0);return w};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(b,C,x){return o(b)?s(b)===!1?-1:!d(b)||!o(C)&&!o(x)||!o(x)&&a(C)||a(b)&&!o(C)||a(b)&&l(C)||a(b)&&a(C)?0:f(b)&&o(C)&&!a(C)&&o(x)&&d(x)?3:a(b)||!o(x)?1:2:-1},m=function(b){var C=0,x=0,w=0,N="",R="",q="",W=(b=b||"").split("\\s+"),B=[];for(C=0;C<W.length;C+=1){for(B.push(""),x=0;x<W[C].length;x+=1)N=W[C][x],R=W[C][x-1],q=W[C][x+1],o(N)?(w=g(N,R,q),B[C]+=w!==-1?String.fromCharCode(t[N.charCodeAt(0)][w]):N):B[C]+=N;B[C]=p(B[C])}return B.join(" ")},S=e.__arabicParser__.processArabic=e.processArabic=function(){var b,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(C)){var w=0;for(x=[],w=0;w<C.length;w+=1)Array.isArray(C[w])?x.push([m(C[w][0]),C[w][1],C[w][2]]):x.push([m(C[w])]);b=x}else b=m(C);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",S])}(rt.API),rt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(rt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(b){S=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,d){r.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,m=0,S=0,b=0,C=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=d.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,R){return N.concat(C.splitTextToSize(R,x))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)m<(b=this.getStringUnitWidth(l[w],{font:p})*f)&&(m=b);return m!==0&&(S=l.length),{w:m/=g,h:Math.max((S*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===l.lineNumber?(l.x=(d.x||0)+(d.width||0),l.y=d.y||0):d.y+d.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=d.y+d.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};e.table=function(l,d,f,p,g){if(r.call(this),!f)throw new Error("No data for PDF table.");var m,S,b,C,x=[],w=[],N=[],R={},q={},W=[],B=[],F=(g=g||{}).autoSize||!1,Q=g.printHeaders!==!1,X=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,I=g.margins||Object.assign({width:this.getPageWidth()},t),L=typeof g.padding=="number"?g.padding:3,Y=g.headerBackgroundColor||"#c8c8c8",V=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=V,this.setFontSize(X),p==null)w=x=Object.keys(f[0]),N=x.map(function(){return"left"});else if(Array.isArray(p)&&Tt(p[0])==="object")for(x=p.map(function(J){return J.name}),w=p.map(function(J){return J.prompt||J.name||""}),N=p.map(function(J){return J.align||"left"}),m=0;m<p.length;m+=1)q[p[m].name]=p[m].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(w=x=p,N=x.map(function(){return"left"}));if(F||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<x.length;m+=1){for(R[C=x[m]]=f.map(function(J){return J[C]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(w[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=R[C],this.setFont(void 0,"normal"),b=0;b<S.length;b+=1)W.push(this.getTextDimensions(S[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[C]=Math.max.apply(null,W)+L+L,W=[]}if(Q){var ae={};for(m=0;m<x.length;m+=1)ae[x[m]]={},ae[x[m]].text=w[m],ae[x[m]].align=N[m];var ce=a.call(this,ae,q);B=x.map(function(J){return new s(l,d,q[J],ce,ae[J].text,void 0,ae[J].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var le=p.reduce(function(J,me){return J[me.name]=me.align,J},{});for(m=0;m<f.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:f[m]},this);var H=a.call(this,f[m],q);for(b=0;b<x.length;b+=1){var re=f[m][x[b]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:b,data:re},this),o.call(this,new s(l,d,q[x[b]],H,re,m+2,le[x[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=d,this};var a=function(l,d){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var S=l[m];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,d[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+f+f},this).reduce(function(m,S){return Math.max(m,S)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=l;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(S)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(rt.API);var ub={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},db=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],p1=cb(db),hb=[100,200,300,400,500,600,700,800,900],SP=cb(hb);function m1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return ub[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof p1[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function x5(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var jP={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},w5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function b5(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function NP(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},jP,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=m1(t[a])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+b5(s)+"' and default family '"+r+"'.");if(o=function(l,d){if(d[l])return d[l];var f=p1[l],p=f<=p1.normal?-1:1,g=x5(d,db,f,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,o),o=function(l,d){if(d[l])return d[l];for(var f=ub[l],p=0;p<f.length;++p)if(d[f[p]])return d[f[p]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,d){if(d[l])return d[l];if(l===400&&d[500])return d[500];if(l===500&&d[400])return d[400];var f=SP[l],p=x5(d,hb,f,l<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+l);return p}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+b5(s)+"'.");return o}function S5(e){return e.trimLeft()}function CP(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function AP(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Ed,j5,N5,$p=["times"];(function(e){var t,n,r,i,s,o,a,l,d,f=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new l,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new o,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new o,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,d=new f}]);var p=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var O=A;Object.defineProperty(this,"pdf",{get:function(){return O}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(ve){z=!!ve}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(ve){G=!!ve}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ve){isNaN(ve)||(Z=ve)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(ve){isNaN(ve)||(se=ve)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ve){var K;typeof ve=="number"?K=[ve,ve,ve,ve]:((K=new Array(4))[0]=ve[0],K[1]=ve.length>=2?ve[1]:K[0],K[2]=ve.length>=3?ve[2]:K[0],K[3]=ve.length>=4?ve[3]:K[1]),d.margin=K}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ve){he=ve}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ve){de=ve}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(ve){xe=ve}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ve){ve instanceof f&&(d=ve)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ve){d.path=ve}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(ve){we=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var K;K=g(ve),this.ctx.fillStyle=K.style,this.ctx.isFillTransparent=K.a===0,this.ctx.fillOpacity=K.a,this.pdf.setFillColor(K.r,K.g,K.b,{a:K.a}),this.pdf.setTextColor(K.r,K.g,K.b,{a:K.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var K=g(ve);this.ctx.strokeStyle=K.style,this.ctx.isStrokeTransparent=K.a===0,this.ctx.strokeOpacity=K.a,K.a===0?this.pdf.setDrawColor(255,255,255):(K.a,this.pdf.setDrawColor(K.r,K.g,K.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Te=null;function Le(ve,K){if(Te===null){var Ye=function(Ge){var Pe=[];return Object.keys(Ge).forEach(function(Re){Ge[Re].forEach(function(De){var Me=null;switch(De){case"bold":Me={family:Re,weight:"bold"};break;case"italic":Me={family:Re,style:"italic"};break;case"bolditalic":Me={family:Re,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:Re}}Me!==null&&(Me.ref={name:Re,style:De},Pe.push(Me))})}),Pe}(ve.getFontList());Te=function(Ge){for(var Pe={},Re=0;Re<Ge.length;++Re){var De=m1(Ge[Re]),Me=De.family,$e=De.stretch,it=De.style,_e=De.weight;Pe[Me]=Pe[Me]||{},Pe[Me][$e]=Pe[Me][$e]||{},Pe[Me][$e][it]=Pe[Me][$e][it]||{},Pe[Me][$e][it][_e]=De}return Pe}(Ye.concat(K))}return Te}var et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(ve){Te=null,et=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var K;if(this.ctx.font=ve,(K=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var Ye=K[1];K[2];var Ge=K[3],Pe=K[4];K[5];var Re=K[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor(De==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var Me=function(ot){var pt,Fe,Cn=[],xt=ot.trim();if(xt==="")return $p;if(xt in w5)return[w5[xt]];for(;xt!=="";){switch(Fe=null,pt=(xt=S5(xt)).charAt(0)){case'"':case"'":Fe=CP(xt.substring(1),pt);break;default:Fe=AP(xt)}if(Fe===null||(Cn.push(Fe[0]),(xt=S5(Fe[1]))!==""&&xt.charAt(0)!==","))return $p;xt=xt.replace(/^,/,"")}return Cn}(Re);if(this.fontFaces){var $e=NP(Le(this.pdf,this.fontFaces),Me.map(function(ot){return{family:ot,stretch:"normal",weight:Ge,style:Ye}}));this.pdf.setFont($e.ref.name,$e.ref.style)}else{var it="";(Ge==="bold"||parseInt(Ge,10)>=700||Ye==="bold")&&(it="bold"),Ye==="italic"&&(it+="italic"),it.length===0&&(it="normal");for(var _e="",qe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Xe=0;Xe<Me.length;Xe++){if(this.pdf.internal.getFont(Me[Xe],it,{noFallback:!0,disableWarning:!0})!==void 0){_e=Me[Xe];break}if(it==="bolditalic"&&this.pdf.internal.getFont(Me[Xe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_e=Me[Xe],it="bold";else if(this.pdf.internal.getFont(Me[Xe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_e=Me[Xe],it="normal";break}}if(_e===""){for(var yt=0;yt<Me.length;yt++)if(qe[Me[yt]]){_e=qe[Me[yt]];break}}_e=_e===""?"Times":_e,this.pdf.setFont(_e,it)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};p.prototype.setLineDash=function(A){this.lineDash=A},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){R.call(this,"fill",!1)},p.prototype.stroke=function(){R.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(A,O){if(isNaN(A)||isNaN(O))throw Bt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new o(A,O));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(A,O)},p.prototype.closePath=function(){var A=new o(0,0),O=0;for(O=this.path.length-1;O!==-1;O--)if(this.path[O].type==="begin"&&Tt(this.path[O+1])==="object"&&typeof this.path[O+1].x=="number"){A=new o(this.path[O+1].x,this.path[O+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(A.x,A.y)},p.prototype.lineTo=function(A,O){if(isNaN(A)||isNaN(O))throw Bt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new o(A,O));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},p.prototype.quadraticCurveTo=function(A,O,z,G){if(isNaN(z)||isNaN(G)||isNaN(A)||isNaN(O))throw Bt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new o(z,G)),se=this.ctx.transform.applyToPoint(new o(A,O));this.path.push({type:"qct",x1:se.x,y1:se.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},p.prototype.bezierCurveTo=function(A,O,z,G,Z,se){if(isNaN(Z)||isNaN(se)||isNaN(A)||isNaN(O)||isNaN(z)||isNaN(G))throw Bt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(Z,se)),de=this.ctx.transform.applyToPoint(new o(A,O)),xe=this.ctx.transform.applyToPoint(new o(z,G));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:xe.x,y2:xe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},p.prototype.arc=function(A,O,z,G,Z,se){if(isNaN(A)||isNaN(O)||isNaN(z)||isNaN(G)||isNaN(Z))throw Bt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(A,O));A=he.x,O=he.y;var de=this.ctx.transform.applyToPoint(new o(0,z)),xe=this.ctx.transform.applyToPoint(new o(0,0));z=Math.sqrt(Math.pow(de.x-xe.x,2)+Math.pow(de.y-xe.y,2))}Math.abs(Z-G)>=2*Math.PI&&(G=0,Z=2*Math.PI),this.path.push({type:"arc",x:A,y:O,radius:z,startAngle:G,endAngle:Z,counterclockwise:se})},p.prototype.arcTo=function(A,O,z,G,Z){throw new Error("arcTo not implemented.")},p.prototype.rect=function(A,O,z,G){if(isNaN(A)||isNaN(O)||isNaN(z)||isNaN(G))throw Bt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,O),this.lineTo(A+z,O),this.lineTo(A+z,O+G),this.lineTo(A,O+G),this.lineTo(A,O),this.lineTo(A+z,O),this.lineTo(A,O)},p.prototype.fillRect=function(A,O,z,G){if(isNaN(A)||isNaN(O)||isNaN(z)||isNaN(G))throw Bt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,O,z,G),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},p.prototype.strokeRect=function(A,O,z,G){if(isNaN(A)||isNaN(O)||isNaN(z)||isNaN(G))throw Bt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(A,O,z,G),this.stroke())},p.prototype.clearRect=function(A,O,z,G){if(isNaN(A)||isNaN(O)||isNaN(z)||isNaN(G))throw Bt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,O,z,G))},p.prototype.save=function(A){A=typeof A!="boolean"||A;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(O),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},p.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(O),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(A){var O,z,G,Z;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))O=0,z=0,G=0,Z=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(se!==null)O=parseInt(se[1]),z=parseInt(se[2]),G=parseInt(se[3]),Z=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)O=parseInt(se[1]),z=parseInt(se[2]),G=parseInt(se[3]),Z=parseFloat(se[4]);else{if(Z=1,typeof A=="string"&&A.charAt(0)!=="#"){var he=new rb(A);A=he.ok?he.toHex():"#000000"}A.length===4?(O=A.substring(1,2),O+=O,z=A.substring(2,3),z+=z,G=A.substring(3,4),G+=G):(O=A.substring(1,3),z=A.substring(3,5),G=A.substring(5,7)),O=parseInt(O,16),z=parseInt(z,16),G=parseInt(G,16)}}return{r:O,g:z,b:G,a:Z,style:A}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(A,O,z,G){if(isNaN(O)||isNaN(z)||typeof A!="string")throw Bt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!m.call(this)){var Z=H(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;L.call(this,{text:A,x:O,y:z,scale:se,angle:Z,align:this.textAlign,maxWidth:G})}},p.prototype.strokeText=function(A,O,z,G){if(isNaN(O)||isNaN(z)||typeof A!="string")throw Bt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){G=isNaN(G)?void 0:G;var Z=H(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;L.call(this,{text:A,x:O,y:z,scale:se,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:G})}},p.prototype.measureText=function(A){if(typeof A!="string")throw Bt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var O=this.pdf,z=this.pdf.internal.scaleFactor,G=O.internal.getFontSize(),Z=O.getStringUnitWidth(A)*G/O.internal.scaleFactor,se=function(he){var de=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new se({width:Z*=Math.round(96*z/72*1e4)/1e4})},p.prototype.scale=function(A,O){if(isNaN(A)||isNaN(O))throw Bt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(A,0,0,O,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},p.prototype.rotate=function(A){if(isNaN(A))throw Bt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var O=new l(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(O)},p.prototype.translate=function(A,O){if(isNaN(A)||isNaN(O))throw Bt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,A,O);this.ctx.transform=this.ctx.transform.multiply(z)},p.prototype.transform=function(A,O,z,G,Z,se){if(isNaN(A)||isNaN(O)||isNaN(z)||isNaN(G)||isNaN(Z)||isNaN(se))throw Bt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(A,O,z,G,Z,se);this.ctx.transform=this.ctx.transform.multiply(he)},p.prototype.setTransform=function(A,O,z,G,Z,se){A=isNaN(A)?1:A,O=isNaN(O)?0:O,z=isNaN(z)?0:z,G=isNaN(G)?1:G,Z=isNaN(Z)?0:Z,se=isNaN(se)?0:se,this.ctx.transform=new l(A,O,z,G,Z,se)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(A,O,z,G,Z,se,he,de,xe){var we=this.pdf.getImageProperties(A),Te=1,Le=1,et=1,ve=1;G!==void 0&&de!==void 0&&(et=de/G,ve=xe/Z,Te=we.width/G*de/G,Le=we.height/Z*xe/Z),se===void 0&&(se=O,he=z,O=0,z=0),G!==void 0&&de===void 0&&(de=G,xe=Z),G===void 0&&de===void 0&&(de=we.width,xe=we.height);for(var K,Ye=this.ctx.transform.decompose(),Ge=H(Ye.rotate.shx),Pe=new l,Re=(Pe=(Pe=(Pe=Pe.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new a(se-O*et,he-z*ve,G*Te,Z*Le)),De=C.call(this,Re),Me=[],$e=0;$e<De.length;$e+=1)Me.indexOf(De[$e])===-1&&Me.push(De[$e]);if(N(Me),this.autoPaging)for(var it=Me[0],_e=Me[Me.length-1],qe=it;qe<_e+1;qe++){this.pdf.setPage(qe);var Xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=qe===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=qe===1?0:ot+(qe-2)*pt;if(this.ctx.clip_path.length!==0){var Cn=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(K,this.posX+this.margin[3],-Fe+yt+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Cn}var xt=JSON.parse(JSON.stringify(Re));xt=w([xt],this.posX+this.margin[3],-Fe+yt+this.ctx.prevPageLastElemOffset)[0];var gr=(qe>it||qe<_e)&&b.call(this);gr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,pt,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,Ge),gr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,Ge)};var C=function(A,O,z){var G=[];O=O||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":G.push(Math.floor((A.y+Z)/z)+1);break;case"arc":G.push(Math.floor((A.y+Z-A.radius)/z)+1),G.push(Math.floor((A.y+Z+A.radius)/z)+1);break;case"qct":var se=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);G.push(Math.floor((se.y+Z)/z)+1),G.push(Math.floor((se.y+se.h+Z)/z)+1);break;case"bct":var he=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);G.push(Math.floor((he.y+Z)/z)+1),G.push(Math.floor((he.y+he.h+Z)/z)+1);break;case"rect":G.push(Math.floor((A.y+Z)/z)+1),G.push(Math.floor((A.y+A.h+Z)/z)+1)}for(var de=0;de<G.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<G[de];)x.call(this);return G},x=function(){var A=this.fillStyle,O=this.strokeStyle,z=this.font,G=this.lineCap,Z=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=O,this.font=z,this.lineCap=G,this.lineWidth=Z,this.lineJoin=se},w=function(A,O,z){for(var G=0;G<A.length;G++)switch(A[G].type){case"bct":A[G].x2+=O,A[G].y2+=z;case"qct":A[G].x1+=O,A[G].y1+=z;case"mt":case"lt":case"arc":default:A[G].x+=O,A[G].y+=z}return A},N=function(A){return A.sort(function(O,z){return O-z})},R=function(A,O){for(var z,G,Z=this.fillStyle,se=this.strokeStyle,he=this.lineCap,de=this.lineWidth,xe=Math.abs(de*this.ctx.transform.scaleX),we=this.lineJoin,Te=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),et=[],ve=0;ve<Le.length;ve++)if(Le[ve].x!==void 0)for(var K=C.call(this,Le[ve]),Ye=0;Ye<K.length;Ye+=1)et.indexOf(K[Ye])===-1&&et.push(K[Ye]);for(var Ge=0;Ge<et.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<et[Ge];)x.call(this);if(N(et),this.autoPaging)for(var Pe=et[0],Re=et[et.length-1],De=Pe;De<Re+1;De++){this.pdf.setPage(De),this.fillStyle=Z,this.strokeStyle=se,this.lineCap=he,this.lineWidth=xe,this.lineJoin=we;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=De===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_e=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=De===1?0:it+(De-2)*_e;if(this.ctx.clip_path.length!==0){var Xe=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(z,this.posX+this.margin[3],-qe+$e+this.ctx.prevPageLastElemOffset),q.call(this,A,!0),this.path=Xe}if(G=JSON.parse(JSON.stringify(Te)),this.path=w(G,this.posX+this.margin[3],-qe+$e+this.ctx.prevPageLastElemOffset),O===!1||De===0){var yt=(De>Pe||De<Re)&&b.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,_e,null).clip().discardPath()),q.call(this,A,O),yt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=xe,q.call(this,A,O),this.lineWidth=de;this.path=Te},q=function(A,O){if((A!=="stroke"||O||!S.call(this))&&(A==="stroke"||O||!m.call(this))){for(var z,G,Z=[],se=this.path,he=0;he<se.length;he++){var de=se[he];switch(de.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:de,deltas:[],abs:[]});break;case"lt":var xe=Z.length;if(se[he-1]&&!isNaN(se[he-1].x)&&(z=[de.x-se[he-1].x,de.y-se[he-1].y],xe>0)){for(;xe>=0;xe--)if(Z[xe-1].close!==!0&&Z[xe-1].begin!==!0){Z[xe-1].deltas.push(z),Z[xe-1].abs.push(de);break}}break;case"bct":z=[de.x1-se[he-1].x,de.y1-se[he-1].y,de.x2-se[he-1].x,de.y2-se[he-1].y,de.x-se[he-1].x,de.y-se[he-1].y],Z[Z.length-1].deltas.push(z);break;case"qct":var we=se[he-1].x+2/3*(de.x1-se[he-1].x),Te=se[he-1].y+2/3*(de.y1-se[he-1].y),Le=de.x+2/3*(de.x1-de.x),et=de.y+2/3*(de.y1-de.y),ve=de.x,K=de.y;z=[we-se[he-1].x,Te-se[he-1].y,Le-se[he-1].x,et-se[he-1].y,ve-se[he-1].x,K-se[he-1].y],Z[Z.length-1].deltas.push(z);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(de)}}G=O?null:A==="stroke"?"stroke":"fill";for(var Ye=!1,Ge=0;Ge<Z.length;Ge++)if(Z[Ge].arc)for(var Pe=Z[Ge].abs,Re=0;Re<Pe.length;Re++){var De=Pe[Re];De.type==="arc"?F.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,O,!Ye):Y.call(this,De.x,De.y),Ye=!0}else if(Z[Ge].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(Z[Ge].begin!==!0){var Me=Z[Ge].start.x,$e=Z[Ge].start.y;V.call(this,Z[Ge].deltas,Me,$e),Ye=!0}G&&Q.call(this,G),O&&X.call(this)}},W=function(A){var O=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=O*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-z;case"top":return A+O-z;case"hanging":return A+O-2*z;case"middle":return A+O/2-z;case"ideographic":return A;case"alphabetic":default:return A}},B=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(O,z){this.colorStops.push([O,z])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(A,O,z,G,Z,se,he,de,xe){for(var we=ce.call(this,z,G,Z,se),Te=0;Te<we.length;Te++){var Le=we[Te];Te===0&&(xe?I.call(this,Le.x1+A,Le.y1+O):Y.call(this,Le.x1+A,Le.y1+O)),ae.call(this,A,O,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}de?X.call(this):Q.call(this,he)},Q=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(A,O){this.pdf.internal.out(n(A)+" "+r(O)+" m")},L=function(A){var O;switch(A.align){case"right":case"end":O="right";break;case"center":O="center";break;case"left":case"start":default:O="left"}var z=this.pdf.getTextDimensions(A.text),G=W.call(this,A.y),Z=B.call(this,G)-z.h,se=this.ctx.transform.applyToPoint(new o(A.x,G)),he=this.ctx.transform.decompose(),de=new l;de=(de=(de=de.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var xe,we,Te,Le=this.ctx.transform.applyToRectangle(new a(A.x,G,z.w,z.h)),et=de.applyToRectangle(new a(A.x,Z,z.w,z.h)),ve=C.call(this,et),K=[],Ye=0;Ye<ve.length;Ye+=1)K.indexOf(ve[Ye])===-1&&K.push(ve[Ye]);if(N(K),this.autoPaging)for(var Ge=K[0],Pe=K[K.length-1],Re=Ge;Re<Pe+1;Re++){this.pdf.setPage(Re);var De=Re===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[2],it=$e-this.margin[0],_e=this.pdf.internal.pageSize.width-this.margin[1],qe=_e-this.margin[3],Xe=Re===1?0:Me+(Re-2)*it;if(this.ctx.clip_path.length!==0){var yt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(xe,this.posX+this.margin[3],-1*Xe+De),q.call(this,"fill",!0),this.path=yt}var ot=w([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-Xe+De+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*A.scale),Te=this.lineWidth,this.lineWidth=Te*A.scale);var pt=this.autoPaging!=="text";if(pt||ot.y+ot.h<=$e){if(pt||ot.y>=De&&ot.x<=_e){var Fe=pt?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||_e-ot.x)[0],Cn=w([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-Xe+De+this.ctx.prevPageLastElemOffset)[0],xt=pt&&(Re>Ge||Re<Pe)&&b.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,it,null).clip().discardPath()),this.pdf.text(Fe,Cn.x,Cn.y,{angle:A.angle,align:O,renderingMode:A.renderingMode}),xt&&this.pdf.restoreGraphicsState()}}else ot.y<$e&&(this.ctx.prevPageLastElemOffset+=$e-ot.y);A.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=Te)}else A.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*A.scale),Te=this.lineWidth,this.lineWidth=Te*A.scale),this.pdf.text(A.text,se.x+this.posX,se.y+this.posY,{angle:A.angle,align:O,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=Te)},Y=function(A,O,z,G){z=z||0,G=G||0,this.pdf.internal.out(n(A+z)+" "+r(O+G)+" l")},V=function(A,O,z){return this.pdf.lines(A,O,z,null,null)},ae=function(A,O,z,G,Z,se,he,de){this.pdf.internal.out([t(i(z+A)),t(s(G+O)),t(i(Z+A)),t(s(se+O)),t(i(he+A)),t(s(de+O)),"c"].join(" "))},ce=function(A,O,z,G){for(var Z=2*Math.PI,se=Math.PI/2;O>z;)O-=Z;var he=Math.abs(z-O);he<Z&&G&&(he=Z-he);for(var de=[],xe=G?-1:1,we=O;he>1e-5;){var Te=we+xe*Math.min(he,se);de.push(le.call(this,A,we,Te)),he-=Math.abs(Te-we),we=Te}return de},le=function(A,O,z){var G=(z-O)/2,Z=A*Math.cos(G),se=A*Math.sin(G),he=Z,de=-se,xe=he*he+de*de,we=xe+he*Z+de*se,Te=4/3*(Math.sqrt(2*xe*we)-we)/(he*se-de*Z),Le=he-Te*de,et=de+Te*he,ve=Le,K=-et,Ye=G+O,Ge=Math.cos(Ye),Pe=Math.sin(Ye);return{x1:A*Math.cos(O),y1:A*Math.sin(O),x2:Le*Ge-et*Pe,y2:Le*Pe+et*Ge,x3:ve*Ge-K*Pe,y3:ve*Pe+K*Ge,x4:A*Math.cos(z),y4:A*Math.sin(z)}},H=function(A){return 180*A/Math.PI},re=function(A,O,z,G,Z,se){var he=A+.5*(z-A),de=O+.5*(G-O),xe=Z+.5*(z-Z),we=se+.5*(G-se),Te=Math.min(A,Z,he,xe),Le=Math.max(A,Z,he,xe),et=Math.min(O,se,de,we),ve=Math.max(O,se,de,we);return new a(Te,et,Le-Te,ve-et)},J=function(A,O,z,G,Z,se,he,de){var xe,we,Te,Le,et,ve,K,Ye,Ge,Pe,Re,De,Me,$e,it=z-A,_e=G-O,qe=Z-z,Xe=se-G,yt=he-Z,ot=de-se;for(we=0;we<41;we++)Ge=(K=(Te=A+(xe=we/40)*it)+xe*((et=z+xe*qe)-Te))+xe*(et+xe*(Z+xe*yt-et)-K),Pe=(Ye=(Le=O+xe*_e)+xe*((ve=G+xe*Xe)-Le))+xe*(ve+xe*(se+xe*ot-ve)-Ye),we==0?(Re=Ge,De=Pe,Me=Ge,$e=Pe):(Re=Math.min(Re,Ge),De=Math.min(De,Pe),Me=Math.max(Me,Ge),$e=Math.max($e,Pe));return new a(Math.round(Re),Math.round(De),Math.round(Me-Re),Math.round($e-De))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,O,z=(A=this.ctx.lineDash,O=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:O}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(rt.API),function(e){var t=function(s){var o,a,l,d,f,p,g,m,S,b;for(a=[],l=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>l;l+=4)(f=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(p=(f=((f=((f=((f=(f-(b=f%85))/85)-(S=f%85))/85)-(m=f%85))/85)-(g=f%85))/85)%85,a.push(p+33,g+33,m+33,S+33,b+33)):a.push(122);return function(C,x){for(var w=x;w>0;w--)C.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,d,f,p=String,g="length",m=255,S="charCodeAt",b="slice",C="replace";for(s[b](-2),s=s[b](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),l=[],d=0,f=(s+=o="uuuuu"[b](s[g]%5||5))[g];f>d;d+=5)a=52200625*(s[S](d)-33)+614125*(s[S](d+1)-33)+7225*(s[S](d+2)-33)+85*(s[S](d+3)-33)+(s[S](d+4)-33),l.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(x,w){for(var N=w;N>0;N--)x.pop()}(l,o[g]),p.fromCharCode.apply(p,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=c1(o)).reduce(function(l,d){return l+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,o){var a=0,l=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:d.reverse().join(" ")}}}(rt.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,d,f){var p=new XMLHttpRequest,g=0,m=function(S){var b=S.length,C=[],x=String.fromCharCode;for(g=0;g<b;g+=1)C.push(x(255&S.charCodeAt(g)));return C.join("")};if(p.open("GET",l,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?f(m(this.responseText)):f(void 0)}),p.send(null),d&&p.status===200)return m(p.responseText)}(i,s,o)}catch{}return a}(t,n,r)},e.loadImageFile=e.loadFile}(rt.API),function(e){function t(){return(at.html2canvas?Promise.resolve(at.html2canvas):zc(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(at.DOMPurify?Promise.resolve(at.DOMPurify):zc(()=>import("./purify.es-31816194.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Tt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var d in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[d]=a.style[d];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),l);return d=(d=d.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(d,f){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(l(g,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var m=d[g],S=m.src.find(function(b){return b.format==="truetype"});S&&l.addFont(S.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),a(this.prop.container,p)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,d){return Math.floor(l*d/72*96)}return this.then(function(){(o=o||rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,d){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,d){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(d,f){return l.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,d),p}).then(d,f).then(function(p){return l.updateProgress(1),p})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=l.call(d,o,a);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,rt.getPageSize=function(o,a,l){if(Tt(o)==="object"){var d=o;o=d.orientation,a=d.unit||a,l=d.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+a}var m,S=0,b=0;if(g.hasOwnProperty(p))S=g[p][1]/f,b=g[p][0]/f;else try{S=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",b>S&&(m=b,b=S,S=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",S>b&&(m=b,b=S,S=m)}return{width:b,height:S,unit:a,k:f,orientation:o}},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(m1):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(rt.API),rt.API.addJS=function(e){return N5=e,this.internal.events.subscribe("postPutResources",function(){Ed=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ed+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),j5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+N5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ed!==void 0&&j5!==void 0&&this.internal.out("/Names <</JavaScript "+Ed+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(s=0;s<d;s++){var p=n.internal.newObject();f.push(p);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(rt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,a){var l,d=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),S=p.length,b={width:0,height:0,numcomponents:1},C=4;C<S;C+=2){if(C+=m,t.indexOf(p.charCodeAt(C+1))!==-1){g=256*p.charCodeAt(C+5)+p.charCodeAt(C+6),b={width:256*p.charCodeAt(C+7)+p.charCodeAt(C+8),height:g,numcomponents:p.charCodeAt(C+9)};break}m=256*p.charCodeAt(C+2)+p.charCodeAt(C+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:d,index:r,alias:i}}return f}}(rt.API);var Ta,Td,C5,A5,k5,kP=function(){var e,t,n;function r(s){var o,a,l,d,f,p,g,m,S,b,C,x,w,N;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),S=(function(){var R,q;for(q=[],R=0;R<4;++R)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,p.delay=1e3*f/d,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,o-=4),s=(p!=null?p.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(w=0;0<=b?w<b:w>b;0<=b?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(C=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,C.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,C.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(p,g,m,S){var b,C,x,w,N,R,q,W,B,F,Q,X,I,L,Y,V,ae,ce,le,H,re,J=Math.ceil((d.width-p)/m),me=Math.ceil((d.height-g)/S),A=d.width==J&&d.height==me;for(L=o*J,X=A?a:new Uint8Array(L*me),R=s.length,I=0,C=0;I<me&&l<R;){switch(s[l++]){case 0:for(w=ae=0;ae<L;w=ae+=1)X[C++]=s[l++];break;case 1:for(w=ce=0;ce<L;w=ce+=1)b=s[l++],N=w<o?0:X[C-o],X[C++]=(b+N)%256;break;case 2:for(w=le=0;le<L;w=le+=1)b=s[l++],x=(w-w%o)/o,Y=I&&X[(I-1)*L+x*o+w%o],X[C++]=(Y+b)%256;break;case 3:for(w=H=0;H<L;w=H+=1)b=s[l++],x=(w-w%o)/o,N=w<o?0:X[C-o],Y=I&&X[(I-1)*L+x*o+w%o],X[C++]=(b+Math.floor((N+Y)/2))%256;break;case 4:for(w=re=0;re<L;w=re+=1)b=s[l++],x=(w-w%o)/o,N=w<o?0:X[C-o],I===0?Y=V=0:(Y=X[(I-1)*L+x*o+w%o],V=x&&X[(I-1)*L+(x-1)*o+w%o]),q=N+Y-V,W=Math.abs(q-N),F=Math.abs(q-Y),Q=Math.abs(q-V),B=W<=F&&W<=Q?N:F<=Q?Y:V,X[C++]=(b+B)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!A){var O=((g+I*S)*d.width+p)*o,z=I*L;for(w=0;w<J;w+=1){for(var G=0;G<o;G+=1)a[O++]=X[z++];O+=(m-1)*o}}I++}}return s=sP(s),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,d,f,p,g,m;for(a=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+a.length),l=0,s=0,o=p=0,g=a.length;p<g;o=p+=3)d[l++]=a[o],d[l++]=a[o+1],d[l++]=a[o+2],d[l++]=(m=f[s++])!=null?m:255;return d},r.prototype.copyToImageData=function(s,o){var a,l,d,f,p,g,m,S,b,C,x;if(l=this.colors,b=null,a=this.hasAlphaChannel,this.palette.length&&(b=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,a=!0),S=(d=s.data||s).length,p=b||o,f=g=0,l===1)for(;f<S;)m=b?4*o[f/4]:g,C=p[m++],d[f++]=C,d[f++]=C,d[f++]=C,d[f++]=a?p[m++]:255,g=m;else for(;f<S;)m=b?4*o[f/4]:g,d[f++]=p[m++],d[f++]=p[m++],d[f++]=p[m++],d[f++]=a?p[m++]:255,g=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(at)==="[object Window]"){try{t=at.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,d,f,p,g,m;if(this.animation){for(m=[],a=f=0,p=(g=this.animation.frames).length;f<p;a=++f)o=g[a],l=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,d),o.imageData=l,m.push(o.image=e(l));return m}},r.prototype.renderFrame=function(s,o){var a,l,d;return a=(l=this.animation.frames)[o],d=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,d,f,p,g=this;return a=0,p=this.animation,d=p.numFrames,l=p.frames,f=p.numPlays,(o=function(){var m,S;if(m=a++%d,S=l[m],g.renderFrame(s,m),d>1&&a/d<f)return g.animation._timeout=setTimeout(o,S.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function PP(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var d=!0,f=[],p=0,g=null,m=0,S=null;for(this.width=n,this.height=r;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,S=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];p=e[t++]|e[t++]<<8,g=e[t++],!(1&b)&&(g=null),m=b>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var C=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,R=e[t++],q=R>>6&1,W=1<<(7&R)+1,B=a,F=l,Q=!1;R>>7&&(Q=!0,B=t,F=W,t+=3*W);var X=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}f.push({x:C,y:x,width:w,height:N,has_local_palette:Q,palette_offset:B,palette_size:F,data_offset:X,data_length:t-X,transparent_index:g,interlaced:!!q,delay:p,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return S},this.frameInfo=function(L){if(L<0||L>=f.length)throw new Error("Frame index out of range.");return f[L]},this.decodeAndBlitFrameBGRA=function(L,Y){var V=this.frameInfo(L),ae=V.width*V.height,ce=new Uint8Array(ae);P5(e,V.data_offset,ce,ae);var le=V.palette_offset,H=V.transparent_index;H===null&&(H=256);var re=V.width,J=n-re,me=re,A=4*(V.y*n+V.x),O=4*((V.y+V.height)*n+V.x),z=A,G=4*J;V.interlaced===!0&&(G+=4*n*7);for(var Z=8,se=0,he=ce.length;se<he;++se){var de=ce[se];if(me===0&&(me=re,(z+=G)>=O&&(G=4*J+4*n*(Z-1),z=A+(re+J)*(Z<<1),Z>>=1)),de===H)z+=4;else{var xe=e[le+3*de],we=e[le+3*de+1],Te=e[le+3*de+2];Y[z++]=Te,Y[z++]=we,Y[z++]=xe,Y[z++]=255}--me}},this.decodeAndBlitFrameRGBA=function(L,Y){var V=this.frameInfo(L),ae=V.width*V.height,ce=new Uint8Array(ae);P5(e,V.data_offset,ce,ae);var le=V.palette_offset,H=V.transparent_index;H===null&&(H=256);var re=V.width,J=n-re,me=re,A=4*(V.y*n+V.x),O=4*((V.y+V.height)*n+V.x),z=A,G=4*J;V.interlaced===!0&&(G+=4*n*7);for(var Z=8,se=0,he=ce.length;se<he;++se){var de=ce[se];if(me===0&&(me=re,(z+=G)>=O&&(G=4*J+4*n*(Z-1),z=A+(re+J)*(Z<<1),Z>>=1)),de===H)z+=4;else{var xe=e[le+3*de],we=e[le+3*de+1],Te=e[le+3*de+2];Y[z++]=xe,Y[z++]=we,Y[z++]=Te,Y[z++]=255}--me}}}function P5(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,d=(1<<l)-1,f=0,p=0,g=0,m=e[t++],S=new Int32Array(4096),b=null;;){for(;f<16&&m!==0;)p|=e[t++]<<f,f+=8,m===1?m=e[t++]:--m;if(f<l)break;var C=p&d;if(p>>=l,f-=l,C!==s){if(C===o)break;for(var x=C<a?C:b,w=0,N=x;N>s;)N=S[N]>>8,++w;var R=N;if(g+w+(x!==C?1:0)>r)return void Bt.log("Warning, gif stream longer than expected.");n[g++]=R;var q=g+=w;for(x!==C&&(n[g++]=R),N=x;w--;)N=S[N],n[--q]=255&N,N>>=8;b!==null&&a<4096&&(S[a++]=b<<8|R,a>=d+1&&l<12&&(++l,d=d<<1|1)),b=C}else a=o+1,d=(1<<(l=i+1))-1,b=null}return g!==r&&Bt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Hp(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),d=new Array(64),f=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),S=new Array(64),b=[],C=0,x=7,w=new Array(64),N=new Array(64),R=new Array(64),q=new Array(256),W=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(A,O){for(var z=0,G=0,Z=new Array,se=1;se<=16;se++){for(var he=1;he<=A[se];he++)Z[O[G]]=[],Z[O[G]][0]=z,Z[O[G]][1]=se,G++,z++;z*=2}return Z}function le(A){for(var O=A[0],z=A[1]-1;z>=0;)O&1<<z&&(C|=1<<x),z--,--x<0&&(C==255?(H(255),H(0)):H(C),x=7,C=0)}function H(A){b.push(A)}function re(A){H(A>>8&255),H(255&A)}function J(A,O,z,G,Z){for(var se,he=Z[0],de=Z[240],xe=function(Pe,Re){var De,Me,$e,it,_e,qe,Xe,yt,ot,pt,Fe=0;for(ot=0;ot<8;++ot){De=Pe[Fe],Me=Pe[Fe+1],$e=Pe[Fe+2],it=Pe[Fe+3],_e=Pe[Fe+4],qe=Pe[Fe+5],Xe=Pe[Fe+6];var Cn=De+(yt=Pe[Fe+7]),xt=De-yt,gr=Me+Xe,Lt=Me-Xe,Dt=$e+qe,Tr=$e-qe,wt=it+_e,rs=it-_e,Kt=Cn+wt,vr=Cn-wt,Jr=gr+Dt,Yt=gr-Dt;Pe[Fe]=Kt+Jr,Pe[Fe+4]=Kt-Jr;var lt=.707106781*(Yt+vr);Pe[Fe+2]=vr+lt,Pe[Fe+6]=vr-lt;var jt=.382683433*((Kt=rs+Tr)-(Yt=Lt+xt)),Mi=.5411961*Kt+jt,An=1.306562965*Yt+jt,Fr=.707106781*(Jr=Tr+Lt),Xr=xt+Fr,tt=xt-Fr;Pe[Fe+5]=tt+Mi,Pe[Fe+3]=tt-Mi,Pe[Fe+1]=Xr+An,Pe[Fe+7]=Xr-An,Fe+=8}for(Fe=0,ot=0;ot<8;++ot){De=Pe[Fe],Me=Pe[Fe+8],$e=Pe[Fe+16],it=Pe[Fe+24],_e=Pe[Fe+32],qe=Pe[Fe+40],Xe=Pe[Fe+48];var yr=De+(yt=Pe[Fe+56]),Qr=De-yt,Wn=Me+Xe,dn=Me-Xe,rn=$e+qe,Mn=$e-qe,Vt=it+_e,yi=it-_e,Ir=yr+Vt,On=yr-Vt,Gn=Wn+rn,Rr=Wn-rn;Pe[Fe]=Ir+Gn,Pe[Fe+32]=Ir-Gn;var Dr=.707106781*(Rr+On);Pe[Fe+16]=On+Dr,Pe[Fe+48]=On-Dr;var Zr=.382683433*((Ir=yi+Mn)-(Rr=dn+Qr)),is=.5411961*Ir+Zr,ss=1.306562965*Rr+Zr,Oi=.707106781*(Gn=Mn+dn),Fs=Qr+Oi,Bi=Qr-Oi;Pe[Fe+40]=Bi+is,Pe[Fe+24]=Bi-is,Pe[Fe+8]=Fs+ss,Pe[Fe+56]=Fs-ss,Fe++}for(ot=0;ot<64;++ot)pt=Pe[ot]*Re[ot],m[ot]=pt>0?pt+.5|0:pt-.5|0;return m}(A,O),we=0;we<64;++we)S[B[we]]=xe[we];var Te=S[0]-z;z=S[0],Te==0?le(G[0]):(le(G[g[se=32767+Te]]),le(p[se]));for(var Le=63;Le>0&&S[Le]==0;)Le--;if(Le==0)return le(he),z;for(var et,ve=1;ve<=Le;){for(var K=ve;S[ve]==0&&ve<=Le;)++ve;var Ye=ve-K;if(Ye>=16){et=Ye>>4;for(var Ge=1;Ge<=et;++Ge)le(de);Ye&=15}se=32767+S[ve],le(Z[(Ye<<4)+g[se]]),le(p[se]),ve++}return Le!=63&&le(he),z}function me(A){A=Math.min(Math.max(A,1),100),s!=A&&(function(O){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var Z=o((z[G]*O+50)/100);Z=Math.min(Math.max(Z,1),255),a[B[G]]=Z}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var de=o((se[he]*O+50)/100);de=Math.min(Math.max(de,1),255),l[B[he]]=de}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,Te=0;Te<8;Te++)for(var Le=0;Le<8;Le++)d[we]=1/(a[B[we]]*xe[Te]*xe[Le]*8),f[we]=1/(l[B[we]]*xe[Te]*xe[Le]*8),we++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),s=A)}this.encode=function(A,O){O&&me(O),b=new Array,C=0,x=7,re(65496),re(65504),re(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),re(1),re(1),H(0),H(0),function(){re(65499),re(132),H(0);for(var Me=0;Me<64;Me++)H(a[Me]);H(1);for(var $e=0;$e<64;$e++)H(l[$e])}(),function(Me,$e){re(65472),re(17),H(8),re($e),re(Me),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(A.width,A.height),function(){re(65476),re(418),H(0);for(var Me=0;Me<16;Me++)H(F[Me+1]);for(var $e=0;$e<=11;$e++)H(Q[$e]);H(16);for(var it=0;it<16;it++)H(X[it+1]);for(var _e=0;_e<=161;_e++)H(I[_e]);H(1);for(var qe=0;qe<16;qe++)H(L[qe+1]);for(var Xe=0;Xe<=11;Xe++)H(Y[Xe]);H(17);for(var yt=0;yt<16;yt++)H(V[yt+1]);for(var ot=0;ot<=161;ot++)H(ae[ot])}(),re(65498),re(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var z=0,G=0,Z=0;C=0,x=7,this.encode.displayName="_encode_";for(var se,he,de,xe,we,Te,Le,et,ve,K=A.data,Ye=A.width,Ge=A.height,Pe=4*Ye,Re=0;Re<Ge;){for(se=0;se<Pe;){for(we=Pe*Re+se,Le=-1,et=0,ve=0;ve<64;ve++)Te=we+(et=ve>>3)*Pe+(Le=4*(7&ve)),Re+et>=Ge&&(Te-=Pe*(Re+1+et-Ge)),se+Le>=Pe&&(Te-=se+Le-Pe+4),he=K[Te++],de=K[Te++],xe=K[Te++],w[ve]=(W[he]+W[de+256>>0]+W[xe+512>>0]>>16)-128,N[ve]=(W[he+768>>0]+W[de+1024>>0]+W[xe+1280>>0]>>16)-128,R[ve]=(W[he+1280>>0]+W[de+1536>>0]+W[xe+1792>>0]>>16)-128;z=J(w,d,z,t,r),G=J(N,f,G,n,i),Z=J(R,f,Z,n,i),se+=32}Re+=8}if(x>=0){var De=[];De[1]=x+1,De[0]=(1<<x+1)-1,le(De)}return re(65497),new Uint8Array(b)},e=e||50,function(){for(var A=String.fromCharCode,O=0;O<256;O++)q[O]=A(O)}(),t=ce(F,Q),n=ce(L,Y),r=ce(X,I),i=ce(V,ae),function(){for(var A=1,O=2,z=1;z<=15;z++){for(var G=A;G<O;G++)g[32767+G]=z,p[32767+G]=[],p[32767+G][1]=z,p[32767+G][0]=G;for(var Z=-(O-1);Z<=-A;Z++)g[32767+Z]=z,p[32767+Z]=[],p[32767+Z][1]=z,p[32767+Z][0]=O-1+Z;A<<=1,O<<=1}}(),function(){for(var A=0;A<256;A++)W[A]=19595*A,W[A+256>>0]=38470*A,W[A+512>>0]=7471*A+32768,W[A+768>>0]=-11059*A,W[A+1024>>0]=-21709*A,W[A+1280>>0]=32768*A+8421375,W[A+1536>>0]=-27439*A,W[A+1792>>0]=-5329*A}(),me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ci(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function L5(e){function t(F){if(!F)throw Error("assert :P")}function n(F,Q,X){for(var I=0;4>I;I++)if(F[Q+I]!=X.charCodeAt(I))return!0;return!1}function r(F,Q,X,I,L){for(var Y=0;Y<L;Y++)F[Q+Y]=X[I+Y]}function i(F,Q,X,I){for(var L=0;L<I;L++)F[Q+L]=X}function s(F){return new Int32Array(F)}function o(F,Q){for(var X=[],I=0;I<F;I++)X.push(new Q);return X}function a(F,Q){var X=[];return function I(L,Y,V){for(var ae=V[Y],ce=0;ce<ae&&(L.push(V.length>Y+1?[]:new Q),!(V.length<Y+1));ce++)I(L[ce],Y+1,V)}(X,0,F),X}var l=function(){var F=this;function Q(u,h){for(var y=1<<h-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function X(u,h,y,j,k){t(!(j%y));do u[h+(j-=y)]=k;while(0<j)}function I(u,h,y,j,k){if(t(2328>=k),512>=k)var _=s(512);else if((_=s(k))==null)return 0;return function(E,D,M,U,te,fe){var pe,oe,je=D,ge=1<<M,ne=s(16),ie=s(16);for(t(te!=0),t(U!=null),t(E!=null),t(0<M),oe=0;oe<te;++oe){if(15<U[oe])return 0;++ne[U[oe]]}if(ne[0]==te)return 0;for(ie[1]=0,pe=1;15>pe;++pe){if(ne[pe]>1<<pe)return 0;ie[pe+1]=ie[pe]+ne[pe]}for(oe=0;oe<te;++oe)pe=U[oe],0<U[oe]&&(fe[ie[pe]++]=oe);if(ie[15]==1)return(U=new L).g=0,U.value=fe[0],X(E,je,1,ge,U),ge;var be,Ce=-1,Se=ge-1,Ve=0,Oe=1,nt=1,ze=1<<M;for(oe=0,pe=1,te=2;pe<=M;++pe,te<<=1){if(Oe+=nt<<=1,0>(nt-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe])(U=new L).g=pe,U.value=fe[oe++],X(E,je+Ve,te,ze,U),Ve=Q(Ve,pe)}for(pe=M+1,te=2;15>=pe;++pe,te<<=1){if(Oe+=nt<<=1,0>(nt-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe]){if(U=new L,(Ve&Se)!=Ce){for(je+=ze,be=1<<(Ce=pe)-M;15>Ce&&!(0>=(be-=ne[Ce]));)++Ce,be<<=1;ge+=ze=1<<(be=Ce-M),E[D+(Ce=Ve&Se)].g=be+M,E[D+Ce].value=je-D-Ce}U.g=pe-M,U.value=fe[oe++],X(E,je+(Ve>>M),te,ze,U),Ve=Q(Ve,pe)}}return Oe!=2*ie[15]-1?0:ge}(u,h,y,j,k,_)}function L(){this.value=this.g=0}function Y(){this.value=this.g=0}function V(){this.G=o(5,L),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(zn,Y)}function ae(u,h,y,j){t(u!=null),t(h!=null),t(2147483648>j),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=y,u.Jd=h,u.Yc=y+j,u.Zc=4<=j?y+j-4+1:y,se(u)}function ce(u,h){for(var y=0;0<h--;)y|=de(u,128)<<h;return y}function le(u,h){var y=ce(u,h);return he(u)?-y:y}function H(u,h,y,j){var k,_=0;for(t(u!=null),t(h!=null),t(4294967288>j),u.Sb=j,u.Ra=0,u.u=0,u.h=0,4<j&&(j=4),k=0;k<j;++k)_+=h[y+k]<<8*k;u.Ra=_,u.bb=j,u.oa=h,u.pa=y}function re(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<wa-8>>>0,++u.bb,u.u-=8;z(u)&&(u.h=1,u.u=0)}function J(u,h){if(t(0<=h),!u.h&&h<=xa){var y=O(u)&ya[h];return u.u+=h,re(u),y}return u.h=1,u.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function O(u){return u.Ra>>>(u.u&wa-1)>>>0}function z(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>wa}function G(u,h){u.u=h,u.h=z(u)}function Z(u){u.u>=Wl&&(t(u.u>=Wl),re(u))}function se(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function he(u){return ce(u,1)}function de(u,h){var y=u.Ca;0>u.b&&se(u);var j=u.b,k=y*h>>>8,_=(u.I>>>j>k)+0;for(_?(y-=k,u.I-=k+1<<j>>>0):y=k+1,j=y,k=0;256<=j;)k+=8,j>>=8;return j=7^k+wr[j],u.b-=j,u.Ca=(y<<j)-1,_}function xe(u,h,y){u[h+0]=y>>24&255,u[h+1]=y>>16&255,u[h+2]=y>>8&255,u[h+3]=y>>0&255}function we(u,h){return u[h+0]<<0|u[h+1]<<8}function Te(u,h){return we(u,h)|u[h+2]<<16}function Le(u,h){return we(u,h)|we(u,h+2)<<16}function et(u,h){var y=1<<h;return t(u!=null),t(0<h),u.X=s(y),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function ve(u,h){t(u!=null),t(h!=null),t(u.Xa==h.Xa),r(h.X,0,u.X,0,1<<h.Xa)}function K(){this.X=[],this.Xa=this.Mb=0}function Ye(u,h,y,j){t(y!=null),t(j!=null);var k=y[0],_=j[0];return k==0&&(k=(u*_+h/2)/h),_==0&&(_=(h*k+u/2)/u),0>=k||0>=_?0:(y[0]=k,j[0]=_,1)}function Ge(u,h){return u+(1<<h)-1>>>h}function Pe(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function Re(u,h){F[h]=function(y,j,k,_,E,D,M){var U;for(U=0;U<E;++U){var te=F[u](D[M+U-1],k,_+U);D[M+U]=Pe(y[j+U],te)}}}function De(){this.ud=this.hd=this.jd=0}function Me(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function $e(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function it(u,h){return $e(u+(u-h+.5>>1))}function _e(u,h,y){return Math.abs(h-y)-Math.abs(u-y)}function qe(u,h,y,j,k,_,E){for(j=_[E-1],y=0;y<k;++y)_[E+y]=j=Pe(u[h+y],j)}function Xe(u,h,y,j,k){var _;for(_=0;_<y;++_){var E=u[h+_],D=E>>8&255,M=16711935&(M=(M=16711935&E)+((D<<16)+D));j[k+_]=(4278255360&E)+M>>>0}}function yt(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function ot(u,h,y,j,k,_){var E;for(E=0;E<j;++E){var D=h[y+E],M=D>>>8,U=D,te=255&(te=(te=D>>>16)+((u.jd<<24>>24)*(M<<24>>24)>>>5));U=255&(U=(U=U+((u.hd<<24>>24)*(M<<24>>24)>>>5))+((u.ud<<24>>24)*(te<<24>>24)>>>5)),k[_+E]=(4278255360&D)+(te<<16)+U}}function pt(u,h,y,j,k){F[h]=function(_,E,D,M,U,te,fe,pe,oe){for(M=fe;M<pe;++M)for(fe=0;fe<oe;++fe)U[te++]=k(D[j(_[E++])])},F[u]=function(_,E,D,M,U,te,fe){var pe=8>>_.b,oe=_.Ea,je=_.K[0],ge=_.w;if(8>pe)for(_=(1<<_.b)-1,ge=(1<<pe)-1;E<D;++E){var ne,ie=0;for(ne=0;ne<oe;++ne)ne&_||(ie=j(M[U++])),te[fe++]=k(je[ie&ge]),ie>>=pe}else F["VP8LMapColor"+y](M,U,je,ge,te,fe,E,D,oe)}}function Fe(u,h,y,j,k){for(y=h+y;h<y;){var _=u[h++];j[k++]=_>>16&255,j[k++]=_>>8&255,j[k++]=_>>0&255}}function Cn(u,h,y,j,k){for(y=h+y;h<y;){var _=u[h++];j[k++]=_>>16&255,j[k++]=_>>8&255,j[k++]=_>>0&255,j[k++]=_>>24&255}}function xt(u,h,y,j,k){for(y=h+y;h<y;){var _=(E=u[h++])>>16&240|E>>12&15,E=E>>0&240|E>>28&15;j[k++]=_,j[k++]=E}}function gr(u,h,y,j,k){for(y=h+y;h<y;){var _=(E=u[h++])>>16&248|E>>13&7,E=E>>5&224|E>>3&31;j[k++]=_,j[k++]=E}}function Lt(u,h,y,j,k){for(y=h+y;h<y;){var _=u[h++];j[k++]=_>>0&255,j[k++]=_>>8&255,j[k++]=_>>16&255}}function Dt(u,h,y,j,k,_){if(_==0)for(y=h+y;h<y;)xe(j,((_=u[h++])[0]>>24|_[1]>>8&65280|_[2]<<8&16711680|_[3]<<24)>>>0),k+=32;else r(j,k,u,h,y)}function Tr(u,h){F[h][0]=F[u+"0"],F[h][1]=F[u+"1"],F[h][2]=F[u+"2"],F[h][3]=F[u+"3"],F[h][4]=F[u+"4"],F[h][5]=F[u+"5"],F[h][6]=F[u+"6"],F[h][7]=F[u+"7"],F[h][8]=F[u+"8"],F[h][9]=F[u+"9"],F[h][10]=F[u+"10"],F[h][11]=F[u+"11"],F[h][12]=F[u+"12"],F[h][13]=F[u+"13"],F[h][14]=F[u+"0"],F[h][15]=F[u+"0"]}function wt(u){return u==Rf||u==Df||u==Gu||u==Mf}function rs(){this.eb=[],this.size=this.A=this.fb=0}function Kt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new rs,this.f.kb=new Kt,this.sd=null}function Jr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function jt(u,h){var y=u.T,j=h.ba.f.RGBA,k=j.eb,_=j.fb+u.ka*j.A,E=ai[h.ba.S],D=u.y,M=u.O,U=u.f,te=u.N,fe=u.ea,pe=u.W,oe=h.cc,je=h.dc,ge=h.Mc,ne=h.Nc,ie=u.ka,be=u.ka+u.T,Ce=u.U,Se=Ce+1>>1;for(ie==0?E(D,M,null,null,U,te,fe,pe,U,te,fe,pe,k,_,null,null,Ce):(E(h.ec,h.fc,D,M,oe,je,ge,ne,U,te,fe,pe,k,_-j.A,k,_,Ce),++y);ie+2<be;ie+=2)oe=U,je=te,ge=fe,ne=pe,te+=u.Rc,pe+=u.Rc,_+=2*j.A,E(D,(M+=2*u.fa)-u.fa,D,M,oe,je,ge,ne,U,te,fe,pe,k,_-j.A,k,_,Ce);return M+=u.fa,u.j+be<u.o?(r(h.ec,h.fc,D,M,Ce),r(h.cc,h.dc,U,te,Se),r(h.Mc,h.Nc,fe,pe,Se),y--):1&be||E(D,M,null,null,U,te,fe,pe,U,te,fe,pe,k,_+j.A,null,null,Ce),y}function Mi(u,h,y){var j=u.F,k=[u.J];if(j!=null){var _=u.U,E=h.ba.S,D=E==Wu||E==Gu;h=h.ba.f.RGBA;var M=[0],U=u.ka;M[0]=u.T,u.Kb&&(U==0?--M[0]:(--U,k[0]-=u.width),u.j+u.ka+u.T==u.o&&(M[0]=u.o-u.j-U));var te=h.eb;U=h.fb+U*h.A,u=qt(j,k[0],u.width,_,M,te,U+(D?0:3),h.A),t(y==M),u&&wt(E)&&si(te,U,D,_,M,h.A)}return 0}function An(u){var h=u.ma,y=h.ba.S,j=11>y,k=y==$u||y==Hu||y==Wu||y==If||y==12||wt(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!$l(h.Oa,u,k?11:12))return 0;if(k&&wt(y)&&ke(),u.da)alert("todo:use_scaling");else{if(j){if(h.Ib=lt,u.Kb){if(y=u.U+1>>1,h.memory=s(u.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=jt,ke()}}else alert("todo:EmitYUV");k&&(h.Jb=Mi,j&&ue())}if(j&&!vg){for(u=0;256>u;++u)s4[u]=89858*(u-128)+Yu>>Ku,l4[u]=-22014*(u-128)+Yu,a4[u]=-45773*(u-128),o4[u]=113618*(u-128)+Yu>>Ku;for(u=Zl;u<zf;++u)h=76283*(u-16)+Yu>>Ku,c4[u-Zl]=Mr(h,255),u4[u-Zl]=Mr(h+8>>4,15);vg=1}return 1}function Fr(u){var h=u.ma,y=u.U,j=u.T;return t(!(1&u.ka)),0>=y||0>=j?0:(y=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,y),h.Dc+=y,1)}function Xr(u){u.ma.memory=null}function tt(u,h,y,j){return J(u,8)!=47?0:(h[0]=J(u,14)+1,y[0]=J(u,14)+1,j[0]=J(u,1),J(u,3)!=0?0:!u.h)}function yr(u,h){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+J(h,y)+1}function Qr(u,h){return 120<h?h-120:1<=(y=((y=Hb[h-1])>>4)*u+(8-(15&y)))?y:1;var y}function Wn(u,h,y){var j=O(y),k=u[h+=255&j].g-8;return 0<k&&(G(y,y.u+8),j=O(y),h+=u[h].value,h+=j&(1<<k)-1),G(y,y.u+u[h].g),u[h].value}function dn(u,h,y){return y.g+=u.g,y.value+=u.value<<h>>>0,t(8>=y.g),u.g}function rn(u,h,y){var j=u.xc;return t((h=j==0?0:u.vc[u.md*(y>>j)+(h>>j)])<u.Wb),u.Ya[h]}function Mn(u,h,y,j){var k=u.ab,_=u.c*h,E=u.C;h=E+h;var D=y,M=j;for(j=u.Ta,y=u.Ua;0<k--;){var U=u.gc[k],te=E,fe=h,pe=D,oe=M,je=(M=j,D=y,U.Ea);switch(t(te<fe),t(fe<=U.nc),U.hc){case 2:Mu(pe,oe,(fe-te)*je,M,D);break;case 0:var ge=te,ne=fe,ie=M,be=D,Ce=(ze=U).Ea;ge==0&&(Tf(pe,oe,null,null,1,ie,be),qe(pe,oe+1,0,0,Ce-1,ie,be+1),oe+=Ce,be+=Ce,++ge);for(var Se=1<<ze.b,Ve=Se-1,Oe=Ge(Ce,ze.b),nt=ze.K,ze=ze.w+(ge>>ze.b)*Oe;ge<ne;){var kt=nt,_t=ze,Ct=1;for(Gl(pe,oe,ie,be-Ce,1,ie,be);Ct<Ce;){var vt=(Ct&~Ve)+Se;vt>Ce&&(vt=Ce),(0,Ms[kt[_t++]>>8&15])(pe,oe+ +Ct,ie,be+Ct-Ce,vt-Ct,ie,be+Ct),Ct=vt}oe+=Ce,be+=Ce,++ge&Ve||(ze+=Oe)}fe!=U.nc&&r(M,D-je,M,D+(fe-te-1)*je,je);break;case 1:for(je=pe,ne=oe,Ce=(pe=U.Ea)-(be=pe&~(ie=(oe=1<<U.b)-1)),ge=Ge(pe,U.b),Se=U.K,U=U.w+(te>>U.b)*ge;te<fe;){for(Ve=Se,Oe=U,nt=new De,ze=ne+be,kt=ne+pe;ne<ze;)yt(Ve[Oe++],nt),Lo(nt,je,ne,oe,M,D),ne+=oe,D+=oe;ne<kt&&(yt(Ve[Oe++],nt),Lo(nt,je,ne,Ce,M,D),ne+=Ce,D+=Ce),++te&ie||(U+=ge)}break;case 3:if(pe==M&&oe==D&&0<U.b){for(ne=M,pe=je=D+(fe-te)*je-(be=(fe-te)*Ge(U.Ea,U.b)),oe=M,ie=D,ge=[],be=(Ce=be)-1;0<=be;--be)ge[be]=oe[ie+be];for(be=Ce-1;0<=be;--be)ne[pe+be]=ge[be];ni(U,te,fe,M,je,M,D)}else ni(U,te,fe,pe,oe,M,D)}D=j,M=y}M!=y&&r(j,y,D,M,_)}function Vt(u,h){var y=u.V,j=u.Ba+u.c*u.C,k=h-u.C;if(t(h<=u.l.o),t(16>=k),0<k){var _=u.l,E=u.Ta,D=u.Ua,M=_.width;if(Mn(u,k,y,j),k=D=[D],t((y=u.C)<(j=h)),t(_.v<_.va),j>_.o&&(j=_.o),y<_.j){var U=_.j-y;y=_.j,k[0]+=U*M}if(y>=j?y=0:(k[0]+=4*_.v,_.ka=y-_.j,_.U=_.va-_.v,_.T=j-y,y=1),y){if(D=D[0],11>(y=u.ca).S){var te=y.f.RGBA,fe=(j=y.S,k=_.U,_=_.T,U=te.eb,te.A),pe=_;for(te=te.fb+u.Ma*te.A;0<pe--;){var oe=E,je=D,ge=k,ne=U,ie=te;switch(j){case Vu:br(oe,je,ge,ne,ie);break;case $u:lr(oe,je,ge,ne,ie);break;case Rf:lr(oe,je,ge,ne,ie),si(ne,ie,0,ge,1,0);break;case ag:us(oe,je,ge,ne,ie);break;case Hu:Dt(oe,je,ge,ne,ie,1);break;case Df:Dt(oe,je,ge,ne,ie,1),si(ne,ie,0,ge,1,0);break;case Wu:Dt(oe,je,ge,ne,ie,0);break;case Gu:Dt(oe,je,ge,ne,ie,0),si(ne,ie,1,ge,1,0);break;case If:Os(oe,je,ge,ne,ie);break;case Mf:Os(oe,je,ge,ne,ie),zt(ne,ie,ge,1,0);break;case lg:cs(oe,je,ge,ne,ie);break;default:t(0)}D+=M,te+=fe}u.Ma+=_}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=y.height)}}u.C=h,t(u.C<=u.i)}function yi(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var y=u.Ya[h].G,j=u.Ya[h].H;if(0<y[1][j[1]+0].g||0<y[2][j[2]+0].g||0<y[3][j[3]+0].g)return 0}return 1}function Ir(u,h,y,j,k,_){if(u.Z!=0){var E=u.qd,D=u.rd;for(t(Us[u.Z]!=null);h<y;++h)Us[u.Z](E,D,j,k,j,k,_),E=j,D=k,k+=_;u.qd=E,u.rd=D}}function On(u,h){var y=u.l.ma,j=y.Z==0||y.Z==1?u.l.j:u.C;if(j=u.C<j?j:u.C,t(h<=u.l.o),h>j){var k=u.l.width,_=y.ca,E=y.tb+k*j,D=u.V,M=u.Ba+u.c*j,U=u.gc;t(u.ab==1),t(U[0].hc==3),Ou(U[0],j,h,D,M,_,E),Ir(y,j,h,_,E,k)}u.C=u.Ma=h}function Gn(u,h,y,j,k,_,E){var D=u.$/j,M=u.$%j,U=u.m,te=u.s,fe=y+u.$,pe=fe;k=y+j*k;var oe=y+j*_,je=280+te.ua,ge=u.Pb?D:16777216,ne=0<te.ua?te.Wa:null,ie=te.wc,be=fe<oe?rn(te,M,D):null;t(u.C<_),t(oe<=k);var Ce=!1;e:for(;;){for(;Ce||fe<oe;){var Se=0;if(D>=ge){var Ve=fe-y;t((ge=u).Pb),ge.wd=ge.m,ge.xd=Ve,0<ge.s.ua&&ve(ge.s.Wa,ge.s.vb),ge=D+Gb}if(M&ie||(be=rn(te,M,D)),t(be!=null),be.Qb&&(h[fe]=be.qb,Ce=!0),!Ce)if(Z(U),be.jc){Se=U,Ve=h;var Oe=fe,nt=be.pd[O(Se)&zn-1];t(be.jc),256>nt.g?(G(Se,Se.u+nt.g),Ve[Oe]=nt.value,Se=0):(G(Se,Se.u+nt.g-256),t(256<=nt.value),Se=nt.value),Se==0&&(Ce=!0)}else Se=Wn(be.G[0],be.H[0],U);if(U.h)break;if(Ce||256>Se){if(!Ce)if(be.nd)h[fe]=(be.qb|Se<<8)>>>0;else{if(Z(U),Ce=Wn(be.G[1],be.H[1],U),Z(U),Ve=Wn(be.G[2],be.H[2],U),Oe=Wn(be.G[3],be.H[3],U),U.h)break;h[fe]=(Oe<<24|Ce<<16|Se<<8|Ve)>>>0}if(Ce=!1,++fe,++M>=j&&(M=0,++D,E!=null&&D<=_&&!(D%16)&&E(u,D),ne!=null))for(;pe<fe;)Se=h[pe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se}else if(280>Se){if(Se=yr(Se-256,U),Ve=Wn(be.G[4],be.H[4],U),Z(U),Ve=Qr(j,Ve=yr(Ve,U)),U.h)break;if(fe-y<Ve||k-fe<Se)break e;for(Oe=0;Oe<Se;++Oe)h[fe+Oe]=h[fe+Oe-Ve];for(fe+=Se,M+=Se;M>=j;)M-=j,++D,E!=null&&D<=_&&!(D%16)&&E(u,D);if(t(fe<=k),M&ie&&(be=rn(te,M,D)),ne!=null)for(;pe<fe;)Se=h[pe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se}else{if(!(Se<je))break e;for(Ce=Se-280,t(ne!=null);pe<fe;)Se=h[pe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se;Se=fe,t(!(Ce>>>(Ve=ne).Xa)),h[Se]=Ve.X[Ce],Ce=!0}Ce||t(U.h==z(U))}if(u.Pb&&U.h&&fe<k)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ve(u.s.vb,u.s.Wa);else{if(U.h)break e;E!=null&&E(u,D>_?_:D),u.a=0,u.$=fe-y}return 1}return u.a=3,0}function Rr(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,t(u!=null)}function Dr(){var u=new Ef;return u==null?null:(u.a=0,u.xb=dg,Tr("Predictor","VP8LPredictors"),Tr("Predictor","VP8LPredictors_C"),Tr("PredictorAdd","VP8LPredictorsAdd"),Tr("PredictorAdd","VP8LPredictorsAdd_C"),Mu=Xe,Lo=ot,br=Fe,lr=Cn,Os=xt,cs=gr,us=Lt,F.VP8LMapColor32b=ba,F.VP8LMapColor8b=Bu,u)}function Zr(u,h,y,j,k){var _=1,E=[u],D=[h],M=j.m,U=j.s,te=null,fe=0;e:for(;;){if(y)for(;_&&J(M,1);){var pe=E,oe=D,je=j,ge=1,ne=je.m,ie=je.gc[je.ab],be=J(ne,2);if(je.Oc&1<<be)_=0;else{switch(je.Oc|=1<<be,ie.hc=be,ie.Ea=pe[0],ie.nc=oe[0],ie.K=[null],++je.ab,t(4>=je.ab),be){case 0:case 1:ie.b=J(ne,3)+2,ge=Zr(Ge(ie.Ea,ie.b),Ge(ie.nc,ie.b),0,je,ie.K),ie.K=ie.K[0];break;case 3:var Ce,Se=J(ne,8)+1,Ve=16<Se?0:4<Se?1:2<Se?2:3;if(pe[0]=Ge(ie.Ea,Ve),ie.b=Ve,Ce=ge=Zr(Se,1,0,je,ie.K)){var Oe,nt=Se,ze=ie,kt=1<<(8>>ze.b),_t=s(kt);if(_t==null)Ce=0;else{var Ct=ze.K[0],vt=ze.w;for(_t[0]=ze.K[0][0],Oe=1;Oe<1*nt;++Oe)_t[Oe]=Pe(Ct[vt+Oe],_t[Oe-1]);for(;Oe<4*kt;++Oe)_t[Oe]=0;ze.K[0]=null,ze.K[0]=_t,Ce=1}}ge=Ce;break;case 2:break;default:t(0)}_=ge}}if(E=E[0],D=D[0],_&&J(M,1)&&!(_=1<=(fe=J(M,4))&&11>=fe)){j.a=3;break e}var Mt;if(Mt=_)t:{var It,ft,bn,Sr=j,Sn=E,jr=D,Et=fe,Br=y,zr=Sr.m,Tn=Sr.s,qn=[null],ur=1,li=0,$i=Wb[Et];n:for(;;){if(Br&&J(zr,1)){var Fn=J(zr,3)+2,ps=Ge(Sn,Fn),Io=Ge(jr,Fn),Aa=ps*Io;if(!Zr(ps,Io,0,Sr,qn))break n;for(qn=qn[0],Tn.xc=Fn,It=0;It<Aa;++It){var Vs=qn[It]>>8&65535;qn[It]=Vs,Vs>=ur&&(ur=Vs+1)}}if(zr.h)break n;for(ft=0;5>ft;++ft){var an=cg[ft];!ft&&0<Et&&(an+=1<<Et),li<an&&(li=an)}var qf=o(ur*$i,L),wg=ur,bg=o(wg,V);if(bg==null)var Xu=null;else t(65536>=wg),Xu=bg;var ec=s(li);if(Xu==null||ec==null||qf==null){Sr.a=1;break n}var Qu=qf;for(It=bn=0;It<ur;++It){var Si=Xu[It],ka=Si.G,Pa=Si.H,Sg=0,Zu=1,jg=0;for(ft=0;5>ft;++ft){an=cg[ft],ka[ft]=Qu,Pa[ft]=bn,!ft&&0<Et&&(an+=1<<Et);i:{var ed,Uf=an,td=Sr,tc=ec,f4=Qu,p4=bn,Vf=0,$s=td.m,m4=J($s,1);if(i(tc,0,0,Uf),m4){var g4=J($s,1)+1,v4=J($s,1),Ng=J($s,v4==0?1:8);tc[Ng]=1,g4==2&&(tc[Ng=J($s,8)]=1);var nd=1}else{var Cg=s(19),Ag=J($s,4)+4;if(19<Ag){td.a=3;var rd=0;break i}for(ed=0;ed<Ag;++ed)Cg[$b[ed]]=J($s,3);var $f=void 0,nc=void 0,kg=td,y4=Cg,id=Uf,Pg=tc,Hf=0,Hs=kg.m,Lg=8,_g=o(128,L);r:for(;I(_g,0,7,y4,19);){if(J(Hs,1)){var x4=2+2*J(Hs,3);if(($f=2+J(Hs,x4))>id)break r}else $f=id;for(nc=0;nc<id&&$f--;){Z(Hs);var Eg=_g[0+(127&O(Hs))];G(Hs,Hs.u+Eg.g);var La=Eg.value;if(16>La)Pg[nc++]=La,La!=0&&(Lg=La);else{var w4=La==16,Tg=La-16,b4=Ub[Tg],Fg=J(Hs,qb[Tg])+b4;if(nc+Fg>id)break r;for(var S4=w4?Lg:0;0<Fg--;)Pg[nc++]=S4}}Hf=1;break r}Hf||(kg.a=3),nd=Hf}(nd=nd&&!$s.h)&&(Vf=I(f4,p4,8,tc,Uf)),nd&&Vf!=0?rd=Vf:(td.a=3,rd=0)}if(rd==0)break n;if(Zu&&Vb[ft]==1&&(Zu=Qu[bn].g==0),Sg+=Qu[bn].g,bn+=rd,3>=ft){var rc,Wf=ec[0];for(rc=1;rc<an;++rc)ec[rc]>Wf&&(Wf=ec[rc]);jg+=Wf}}if(Si.nd=Zu,Si.Qb=0,Zu&&(Si.qb=(ka[3][Pa[3]+0].value<<24|ka[1][Pa[1]+0].value<<16|ka[2][Pa[2]+0].value)>>>0,Sg==0&&256>ka[0][Pa[0]+0].value&&(Si.Qb=1,Si.qb+=ka[0][Pa[0]+0].value<<8)),Si.jc=!Si.Qb&&6>jg,Si.jc){var sd,ms=Si;for(sd=0;sd<zn;++sd){var Ws=sd,Gs=ms.pd[Ws],od=ms.G[0][ms.H[0]+Ws];256<=od.value?(Gs.g=od.g+256,Gs.value=od.value):(Gs.g=0,Gs.value=0,Ws>>=dn(od,8,Gs),Ws>>=dn(ms.G[1][ms.H[1]+Ws],16,Gs),Ws>>=dn(ms.G[2][ms.H[2]+Ws],0,Gs),dn(ms.G[3][ms.H[3]+Ws],24,Gs))}}}Tn.vc=qn,Tn.Wb=ur,Tn.Ya=Xu,Tn.yc=qf,Mt=1;break t}Mt=0}if(!(_=Mt)){j.a=3;break e}if(0<fe){if(U.ua=1<<fe,!et(U.Wa,fe)){j.a=1,_=0;break e}}else U.ua=0;var Gf=j,Ig=E,j4=D,Kf=Gf.s,Yf=Kf.xc;if(Gf.c=Ig,Gf.i=j4,Kf.md=Ge(Ig,Yf),Kf.wc=Yf==0?-1:(1<<Yf)-1,y){j.xb=e4;break e}if((te=s(E*D))==null){j.a=1,_=0;break e}_=(_=Gn(j,te,0,E,D,D,null))&&!M.h;break e}return _?(k!=null?k[0]=te:(t(te==null),t(y)),j.$=0,y||Rr(U)):Rr(U),_}function is(u,h){var y=u.c*u.i,j=y+h+16*h;return t(u.c<=h),u.V=s(j),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+h,1)}function ss(u,h){var y=u.C,j=h-y,k=u.V,_=u.Ba+u.c*y;for(t(h<=u.l.o);0<j;){var E=16<j?16:j,D=u.l.ma,M=u.l.width,U=M*E,te=D.ca,fe=D.tb+M*y,pe=u.Ta,oe=u.Ua;Mn(u,E,k,_),pn(pe,oe,te,fe,U),Ir(D,y,y+E,te,fe,M),j-=E,k+=E*u.c,y+=E}t(y==h),u.C=u.Ma=h}function Oi(){this.ub=this.yd=this.td=this.Rb=0}function Fs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bi(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function oa(){this.Yb=function(){var u=[];return function h(y,j,k){for(var _=k[j],E=0;E<_&&(y.push(k.length>j+1?[]:0),!(k.length<j+1));E++)h(y[E],j+1,k)}(u,0,[3,11]),u}()}function aa(){this.jb=s(3),this.Wc=a([4,8],oa),this.Xc=a([4,17],oa)}function Ll(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ei(){this.ld=this.La=this.dd=this.tc=0}function la(){this.Na=this.la=0}function _l(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Be(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ne(){this.uc=this.M=this.Nb=0,this.wa=Array(new ei),this.Y=0,this.ya=Array(new Be),this.aa=0,this.l=new He}function Je(){this.y=s(16),this.f=s(8),this.ea=s(8)}function mt(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new Oi,this.Kc=new Fs,this.ed=new Ll,this.Qa=new Bi,this.Ic=this.$c=this.Aa=0,this.D=new Ne,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,_l),this.Pa=new aa,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Je),this.Hd=0,this.rb=Array(new la),this.sb=0,this.wa=Array(new ei),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Be),this.L=this.aa=0,this.gd=a([4,2],ei),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function He(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qe(){var u=new mt;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Ql||(Ql=kn)),u}function Ae(u,h,y){return u.a==0&&(u.a=h,u.sc=y,u.cb=0),0}function Pt(u,h,y){return 3<=y&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function Bn(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return Ae(u,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,j=h.w,k=h.ha;if(4>k)return Ae(u,7,"Truncated header.");var _=y[j+0]|y[j+1]<<8|y[j+2]<<16,E=u.Od;if(E.Rb=!(1&_),E.td=_>>1&7,E.yd=_>>4&1,E.ub=_>>5,3<E.td)return Ae(u,3,"Incorrect keyframe parameters.");if(!E.yd)return Ae(u,4,"Frame not displayable.");j+=3,k-=3;var D=u.Kc;if(E.Rb){if(7>k)return Ae(u,7,"cannot parse picture header");if(!Pt(y,j,k))return Ae(u,3,"Bad code word");D.c=16383&(y[j+4]<<8|y[j+3]),D.Td=y[j+4]>>6,D.i=16383&(y[j+6]<<8|y[j+5]),D.Ud=y[j+6]>>6,j+=7,k-=7,u.za=D.c+15>>4,u.Ub=D.i+15>>4,h.width=D.c,h.height=D.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((_=u.Pa).jb,0,255,_.jb.length),t((_=u.Qa)!=null),_.Cb=0,_.Bb=0,_.Fb=1,i(_.Zb,0,0,_.Zb.length),i(_.Lb,0,0,_.Lb)}if(E.ub>k)return Ae(u,7,"bad partition length");ae(_=u.m,y,j,E.ub),j+=E.ub,k-=E.ub,E.Rb&&(D.Ld=he(_),D.Kd=he(_)),D=u.Qa;var M,U=u.Pa;if(t(_!=null),t(D!=null),D.Cb=he(_),D.Cb){if(D.Bb=he(_),he(_)){for(D.Fb=he(_),M=0;4>M;++M)D.Zb[M]=he(_)?le(_,7):0;for(M=0;4>M;++M)D.Lb[M]=he(_)?le(_,6):0}if(D.Bb)for(M=0;3>M;++M)U.jb[M]=he(_)?ce(_,8):255}else D.Bb=0;if(_.Ka)return Ae(u,3,"cannot parse segment header");if((D=u.ed).zd=he(_),D.Tb=ce(_,6),D.wb=ce(_,3),D.Pc=he(_),D.Pc&&he(_)){for(U=0;4>U;++U)he(_)&&(D.vd[U]=le(_,6));for(U=0;4>U;++U)he(_)&&(D.od[U]=le(_,6))}if(u.L=D.Tb==0?0:D.zd?1:2,_.Ka)return Ae(u,3,"cannot parse filter header");var te=k;if(k=M=j,j=M+te,D=te,u.Xb=(1<<ce(u.m,2))-1,te<3*(U=u.Xb))y=7;else{for(M+=3*U,D-=3*U,te=0;te<U;++te){var fe=y[k+0]|y[k+1]<<8|y[k+2]<<16;fe>D&&(fe=D),ae(u.Jc[+te],y,M,fe),M+=fe,D-=fe,k+=3}ae(u.Jc[+U],y,M,D),y=M<j?0:5}if(y!=0)return Ae(u,y,"cannot parse partitions");for(y=ce(M=u.m,7),k=he(M)?le(M,4):0,j=he(M)?le(M,4):0,D=he(M)?le(M,4):0,U=he(M)?le(M,4):0,M=he(M)?le(M,4):0,te=u.Qa,fe=0;4>fe;++fe){if(te.Cb){var pe=te.Zb[fe];te.Fb||(pe+=y)}else{if(0<fe){u.pb[fe]=u.pb[0];continue}pe=y}var oe=u.pb[fe];oe.Sc[0]=Of[Mr(pe+k,127)],oe.Sc[1]=Bf[Mr(pe+0,127)],oe.Eb[0]=2*Of[Mr(pe+j,127)],oe.Eb[1]=101581*Bf[Mr(pe+D,127)]>>16,8>oe.Eb[1]&&(oe.Eb[1]=8),oe.Qc[0]=Of[Mr(pe+U,117)],oe.Qc[1]=Bf[Mr(pe+M,127)],oe.lc=pe+M}if(!E.Rb)return Ae(u,4,"Not a key frame.");for(he(_),E=u.Pa,y=0;4>y;++y){for(k=0;8>k;++k)for(j=0;3>j;++j)for(D=0;11>D;++D)U=de(_,Qb[y][k][j][D])?ce(_,8):Jb[y][k][j][D],E.Wc[y][k].Yb[j][D]=U;for(k=0;17>k;++k)E.Xc[y][k]=E.Wc[y][Zb[k]]}return u.kc=he(_),u.kc&&(u.Bd=ce(_,8)),u.cb=1}function kn(u,h,y,j,k,_,E){var D=h[k].Yb[y];for(y=0;16>k;++k){if(!de(u,D[y+0]))return k;for(;!de(u,D[y+1]);)if(D=h[++k].Yb[0],y=0,k==16)return 16;var M=h[k+1].Yb;if(de(u,D[y+2])){var U=u,te=0;if(de(U,(pe=D)[(fe=y)+3]))if(de(U,pe[fe+6])){for(D=0,fe=2*(te=de(U,pe[fe+8]))+(pe=de(U,pe[fe+9+te])),te=0,pe=Kb[fe];pe[D];++D)te+=te+de(U,pe[D]);te+=3+(8<<fe)}else de(U,pe[fe+7])?(te=7+2*de(U,165),te+=de(U,145)):te=5+de(U,159);else te=de(U,pe[fe+4])?3+de(U,pe[fe+5]):2;D=M[2]}else te=1,D=M[1];M=E+Yb[k],0>(U=u).b&&se(U);var fe,pe=U.b,oe=(fe=U.Ca>>1)-(U.I>>pe)>>31;--U.b,U.Ca+=oe,U.Ca|=1,U.I-=(fe+1&oe)<<pe,_[M]=((te^oe)-oe)*j[(0<k)+0]}return 16}function xr(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function os(u,h){if(u==null)return 0;if(h==null)return Ae(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Bn(u,h))return 0;if(t(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var y=Ju[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-y>>4,u.zb=h.j-y>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+y>>4,u.Hb=h.va+15+y>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var j=u.ed;for(y=0;4>y;++y){var k;if(u.Qa.Cb){var _=u.Qa.Lb[y];u.Qa.Fb||(_+=j.Tb)}else _=j.Tb;for(k=0;1>=k;++k){var E=u.gd[y][k],D=_;if(j.Pc&&(D+=j.vd[0],k&&(D+=j.od[0])),0<(D=0>D?0:63<D?63:D)){var M=D;0<j.wb&&(M=4<j.wb?M>>2:M>>1)>9-j.wb&&(M=9-j.wb),1>M&&(M=1),E.dd=M,E.tc=2*D+M,E.ld=40<=D?2:15<=D?1:0}else E.tc=0;E.La=k}}}y=0}else Ae(u,6,"Frame setup failed"),y=u.a;if(y=y==0){if(y){u.$c=0,0<u.Aa||(u.Ic=h4);e:{y=u.Ic,j=4*(M=u.za);var U=32*M,te=M+1,fe=0<u.L?M*(0<u.Aa?2:1):0,pe=(u.Aa==2?2:1)*M;if((E=j+832+(k=3*(16*y+Ju[u.L])/2*U)+(_=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=E)y=0;else{if(E>u.Vb){if(u.Vb=0,u.Ec=s(E),u.Fc=0,u.Ec==null){y=Ae(u,1,"no memory during frame initialization.");break e}u.Vb=E}E=u.Ec,D=u.Fc,u.Ac=E,u.Bc=D,D+=j,u.Gd=o(U,Je),u.Hd=0,u.rb=o(te+1,la),u.sb=1,u.wa=fe?o(fe,ei):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=M),t(!0),u.oc=E,u.pc=D,D+=832,u.ya=o(pe,Be),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=M),u.R=16*M,u.B=8*M,M=(U=Ju[u.L])*u.R,U=U/2*u.B,u.sa=E,u.ta=D+M,u.qa=u.sa,u.ra=u.ta+16*y*u.R+U,u.Ha=u.qa,u.Ia=u.ra+8*y*u.B+U,u.$c=0,D+=k,u.mb=_?E:null,u.nb=_?D:null,t(D+_<=u.Fc+u.Vb),xr(u),i(u.Ac,u.Bc,0,j),y=1}}if(y){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!qu){for(y=-255;255>=y;++y)Pn[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)hs[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Xl[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)Ca[255+y]=0>y?0:255<y?255:y;qu=1}Sa=vf,ds=ti,Kl=Nu,cr=gf,ri=Cu,fn=zi,ja=Rl,zu=ko,Yl=_f,_o=Dl,Eo=Lf,Bs=fa,To=Ml,Na=Iu,Fo=Fu,zs=Ui,Jl=ls,ii=Pf,bi[0]=qi,bi[1]=yf,bi[2]=Sf,bi[3]=jf,bi[4]=Pu,bi[5]=da,bi[6]=Lu,bi[7]=Tl,bi[8]=Cf,bi[9]=Nf,qs[0]=Au,qs[1]=wf,qs[2]=as,qs[3]=ca,qs[4]=Kn,qs[5]=bf,qs[6]=ku,fs[0]=Is,fs[1]=xf,fs[2]=Af,fs[3]=Fl,fs[4]=Ao,fs[5]=kf,fs[6]=Il,y=1}else y=0}y&&(y=function(oe,je){for(oe.M=0;oe.M<oe.Va;++oe.M){var ge,ne=oe.Jc[oe.M&oe.Xb],ie=oe.m,be=oe;for(ge=0;ge<be.za;++ge){var Ce=ie,Se=be,Ve=Se.Ac,Oe=Se.Bc+4*ge,nt=Se.zc,ze=Se.ya[Se.aa+ge];if(Se.Qa.Bb?ze.$b=de(Ce,Se.Pa.jb[0])?2+de(Ce,Se.Pa.jb[2]):de(Ce,Se.Pa.jb[1]):ze.$b=0,Se.kc&&(ze.Ad=de(Ce,Se.Bd)),ze.Za=!de(Ce,145)+0,ze.Za){var kt=ze.Ob,_t=0;for(Se=0;4>Se;++Se){var Ct,vt=nt[0+Se];for(Ct=0;4>Ct;++Ct){vt=Xb[Ve[Oe+Ct]][vt];for(var Mt=ug[de(Ce,vt[0])];0<Mt;)Mt=ug[2*Mt+de(Ce,vt[Mt])];vt=-Mt,Ve[Oe+Ct]=vt}r(kt,_t,Ve,Oe,4),_t+=4,nt[0+Se]=vt}}else vt=de(Ce,156)?de(Ce,128)?1:3:de(Ce,163)?2:0,ze.Ob[0]=vt,i(Ve,Oe,vt,4),i(nt,0,vt,4);ze.Dd=de(Ce,142)?de(Ce,114)?de(Ce,183)?1:3:2:0}if(be.m.Ka)return Ae(oe,7,"Premature end-of-partition0 encountered.");for(;oe.ja<oe.za;++oe.ja){if(be=ne,Ce=(ie=oe).rb[ie.sb-1],Ve=ie.rb[ie.sb+ie.ja],ge=ie.ya[ie.aa+ie.ja],Oe=ie.kc?ge.Ad:0)Ce.la=Ve.la=0,ge.Za||(Ce.Na=Ve.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var It,ft;if(Ce=Ve,Ve=be,Oe=ie.Pa.Xc,nt=ie.ya[ie.aa+ie.ja],ze=ie.pb[nt.$b],Se=nt.ad,kt=0,_t=ie.rb[ie.sb-1],vt=Ct=0,i(Se,kt,0,384),nt.Za)var bn=0,Sr=Oe[3];else{Mt=s(16);var Sn=Ce.Na+_t.Na;if(Sn=Ql(Ve,Oe[1],Sn,ze.Eb,0,Mt,0),Ce.Na=_t.Na=(0<Sn)+0,1<Sn)Sa(Mt,0,Se,kt);else{var jr=Mt[0]+3>>3;for(Mt=0;256>Mt;Mt+=16)Se[kt+Mt]=jr}bn=1,Sr=Oe[0]}var Et=15&Ce.la,Br=15&_t.la;for(Mt=0;4>Mt;++Mt){var zr=1&Br;for(jr=ft=0;4>jr;++jr)Et=Et>>1|(zr=(Sn=Ql(Ve,Sr,Sn=zr+(1&Et),ze.Sc,bn,Se,kt))>bn)<<7,ft=ft<<2|(3<Sn?3:1<Sn?2:Se[kt+0]!=0),kt+=16;Et>>=4,Br=Br>>1|zr<<7,Ct=(Ct<<8|ft)>>>0}for(Sr=Et,bn=Br>>4,It=0;4>It;It+=2){for(ft=0,Et=Ce.la>>4+It,Br=_t.la>>4+It,Mt=0;2>Mt;++Mt){for(zr=1&Br,jr=0;2>jr;++jr)Sn=zr+(1&Et),Et=Et>>1|(zr=0<(Sn=Ql(Ve,Oe[2],Sn,ze.Qc,0,Se,kt)))<<3,ft=ft<<2|(3<Sn?3:1<Sn?2:Se[kt+0]!=0),kt+=16;Et>>=2,Br=Br>>1|zr<<5}vt|=ft<<4*It,Sr|=Et<<4<<It,bn|=(240&Br)<<It}Ce.la=Sr,_t.la=bn,nt.Hc=Ct,nt.Gc=vt,nt.ia=43690&vt?0:ze.ia,Oe=!(Ct|vt)}if(0<ie.L&&(ie.wa[ie.Y+ie.ja]=ie.gd[ge.$b][ge.Za],ie.wa[ie.Y+ie.ja].La|=!Oe),be.Ka)return Ae(oe,7,"Premature end-of-file encountered.")}if(xr(oe),ie=je,be=1,ge=(ne=oe).D,Ce=0<ne.L&&ne.M>=ne.zb&&ne.M<=ne.Va,ne.Aa==0)e:{if(ge.M=ne.M,ge.uc=Ce,Vl(ne,ge),be=1,ge=(ft=ne.D).Nb,Ce=(vt=Ju[ne.L])*ne.R,Ve=vt/2*ne.B,Mt=16*ge*ne.R,jr=8*ge*ne.B,Oe=ne.sa,nt=ne.ta-Ce+Mt,ze=ne.qa,Se=ne.ra-Ve+jr,kt=ne.Ha,_t=ne.Ia-Ve+jr,Br=(Et=ft.M)==0,Ct=Et>=ne.Va-1,ne.Aa==2&&Vl(ne,ft),ft.uc)for(zr=(Sn=ne).D.M,t(Sn.D.uc),ft=Sn.yb;ft<Sn.Hb;++ft){bn=ft,Sr=zr;var Tn=(qn=(an=Sn).D).Nb;It=an.R;var qn=qn.wa[qn.Y+bn],ur=an.sa,li=an.ta+16*Tn*It+16*bn,$i=qn.dd,Fn=qn.tc;if(Fn!=0)if(t(3<=Fn),an.L==1)0<bn&&zs(ur,li,It,Fn+4),qn.La&&ii(ur,li,It,Fn),0<Sr&&Fo(ur,li,It,Fn+4),qn.La&&Jl(ur,li,It,Fn);else{var ps=an.B,Io=an.qa,Aa=an.ra+8*Tn*ps+8*bn,Vs=an.Ha,an=an.Ia+8*Tn*ps+8*bn;Tn=qn.ld,0<bn&&(zu(ur,li,It,Fn+4,$i,Tn),_o(Io,Aa,Vs,an,ps,Fn+4,$i,Tn)),qn.La&&(Bs(ur,li,It,Fn,$i,Tn),Na(Io,Aa,Vs,an,ps,Fn,$i,Tn)),0<Sr&&(ja(ur,li,It,Fn+4,$i,Tn),Yl(Io,Aa,Vs,an,ps,Fn+4,$i,Tn)),qn.La&&(Eo(ur,li,It,Fn,$i,Tn),To(Io,Aa,Vs,an,ps,Fn,$i,Tn))}}if(ne.ia&&alert("todo:DitherRow"),ie.put!=null){if(ft=16*Et,Et=16*(Et+1),Br?(ie.y=ne.sa,ie.O=ne.ta+Mt,ie.f=ne.qa,ie.N=ne.ra+jr,ie.ea=ne.Ha,ie.W=ne.Ia+jr):(ft-=vt,ie.y=Oe,ie.O=nt,ie.f=ze,ie.N=Se,ie.ea=kt,ie.W=_t),Ct||(Et-=vt),Et>ie.o&&(Et=ie.o),ie.F=null,ie.J=null,ne.Fa!=null&&0<ne.Fa.length&&ft<Et&&(ie.J=ql(ne,ie,ft,Et-ft),ie.F=ne.mb,ie.F==null&&ie.F.length==0)){be=Ae(ne,3,"Could not decode alpha data.");break e}ft<ie.j&&(vt=ie.j-ft,ft=ie.j,t(!(1&vt)),ie.O+=ne.R*vt,ie.N+=ne.B*(vt>>1),ie.W+=ne.B*(vt>>1),ie.F!=null&&(ie.J+=ie.width*vt)),ft<Et&&(ie.O+=ie.v,ie.N+=ie.v>>1,ie.W+=ie.v>>1,ie.F!=null&&(ie.J+=ie.v),ie.ka=ft-ie.j,ie.U=ie.va-ie.v,ie.T=Et-ft,be=ie.put(ie))}ge+1!=ne.Ic||Ct||(r(ne.sa,ne.ta-Ce,Oe,nt+16*ne.R,Ce),r(ne.qa,ne.ra-Ve,ze,Se+8*ne.B,Ve),r(ne.Ha,ne.Ia-Ve,kt,_t+8*ne.B,Ve))}if(!be)return Ae(oe,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),y&=1}return y?(u.cb=0,y):0}function hn(u,h,y,j,k){k=u[h+y+32*j]+(k>>3),u[h+y+32*j]=-256&k?0>k?0:255:k}function sn(u,h,y,j,k,_){hn(u,h,0,y,j+k),hn(u,h,1,y,j+_),hn(u,h,2,y,j-_),hn(u,h,3,y,j-k)}function Nt(u){return(20091*u>>16)+u}function ar(u,h,y,j){var k,_=0,E=s(16);for(k=0;4>k;++k){var D=u[h+0]+u[h+8],M=u[h+0]-u[h+8],U=(35468*u[h+4]>>16)-Nt(u[h+12]),te=Nt(u[h+4])+(35468*u[h+12]>>16);E[_+0]=D+te,E[_+1]=M+U,E[_+2]=M-U,E[_+3]=D-te,_+=4,h++}for(k=_=0;4>k;++k)D=(u=E[_+0]+4)+E[_+8],M=u-E[_+8],U=(35468*E[_+4]>>16)-Nt(E[_+12]),hn(y,j,0,0,D+(te=Nt(E[_+4])+(35468*E[_+12]>>16))),hn(y,j,1,0,M+U),hn(y,j,2,0,M-U),hn(y,j,3,0,D-te),_++,j+=32}function zi(u,h,y,j){var k=u[h+0]+4,_=35468*u[h+4]>>16,E=Nt(u[h+4]),D=35468*u[h+1]>>16;sn(y,j,0,k+E,u=Nt(u[h+1]),D),sn(y,j,1,k+_,u,D),sn(y,j,2,k-_,u,D),sn(y,j,3,k-E,u,D)}function ti(u,h,y,j,k){ar(u,h,y,j),k&&ar(u,h+16,y,j+4)}function Nu(u,h,y,j){ds(u,h+0,y,j,1),ds(u,h+32,y,j+128,1)}function gf(u,h,y,j){var k;for(u=u[h+0]+4,k=0;4>k;++k)for(h=0;4>h;++h)hn(y,j,h,k,u)}function Cu(u,h,y,j){u[h+0]&&cr(u,h+0,y,j),u[h+16]&&cr(u,h+16,y,j+4),u[h+32]&&cr(u,h+32,y,j+128),u[h+48]&&cr(u,h+48,y,j+128+4)}function vf(u,h,y,j){var k,_=s(16);for(k=0;4>k;++k){var E=u[h+0+k]+u[h+12+k],D=u[h+4+k]+u[h+8+k],M=u[h+4+k]-u[h+8+k],U=u[h+0+k]-u[h+12+k];_[0+k]=E+D,_[8+k]=E-D,_[4+k]=U+M,_[12+k]=U-M}for(k=0;4>k;++k)E=(u=_[0+4*k]+3)+_[3+4*k],D=_[1+4*k]+_[2+4*k],M=_[1+4*k]-_[2+4*k],U=u-_[3+4*k],y[j+0]=E+D>>3,y[j+16]=U+M>>3,y[j+32]=E-D>>3,y[j+48]=U-M>>3,j+=64}function El(u,h,y){var j,k=h-32,_=Or,E=255-u[k-1];for(j=0;j<y;++j){var D,M=_,U=E+u[h-1];for(D=0;D<y;++D)u[h+D]=M[U+u[k+D]];h+=32}}function yf(u,h){El(u,h,4)}function xf(u,h){El(u,h,8)}function wf(u,h){El(u,h,16)}function as(u,h){var y;for(y=0;16>y;++y)r(u,h+32*y,u,h-32,16)}function ca(u,h){var y;for(y=16;0<y;--y)i(u,h,u[h-1],16),h+=32}function ua(u,h,y){var j;for(j=0;16>j;++j)i(h,y+32*j,u,16)}function Au(u,h){var y,j=16;for(y=0;16>y;++y)j+=u[h-1+32*y]+u[h+y-32];ua(j>>5,u,h)}function Kn(u,h){var y,j=8;for(y=0;16>y;++y)j+=u[h-1+32*y];ua(j>>4,u,h)}function bf(u,h){var y,j=8;for(y=0;16>y;++y)j+=u[h+y-32];ua(j>>4,u,h)}function ku(u,h){ua(128,u,h)}function ct(u,h,y){return u+2*h+y+2>>2}function Sf(u,h){var y,j=h-32;for(j=new Uint8Array([ct(u[j-1],u[j+0],u[j+1]),ct(u[j+0],u[j+1],u[j+2]),ct(u[j+1],u[j+2],u[j+3]),ct(u[j+2],u[j+3],u[j+4])]),y=0;4>y;++y)r(u,h+32*y,j,0,j.length)}function jf(u,h){var y=u[h-1],j=u[h-1+32],k=u[h-1+64],_=u[h-1+96];xe(u,h+0,16843009*ct(u[h-1-32],y,j)),xe(u,h+32,16843009*ct(y,j,k)),xe(u,h+64,16843009*ct(j,k,_)),xe(u,h+96,16843009*ct(k,_,_))}function qi(u,h){var y,j=4;for(y=0;4>y;++y)j+=u[h+y-32]+u[h-1+32*y];for(j>>=3,y=0;4>y;++y)i(u,h+32*y,j,4)}function Pu(u,h){var y=u[h-1+0],j=u[h-1+32],k=u[h-1+64],_=u[h-1-32],E=u[h+0-32],D=u[h+1-32],M=u[h+2-32],U=u[h+3-32];u[h+0+96]=ct(j,k,u[h-1+96]),u[h+1+96]=u[h+0+64]=ct(y,j,k),u[h+2+96]=u[h+1+64]=u[h+0+32]=ct(_,y,j),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=ct(E,_,y),u[h+3+64]=u[h+2+32]=u[h+1+0]=ct(D,E,_),u[h+3+32]=u[h+2+0]=ct(M,D,E),u[h+3+0]=ct(U,M,D)}function Lu(u,h){var y=u[h+1-32],j=u[h+2-32],k=u[h+3-32],_=u[h+4-32],E=u[h+5-32],D=u[h+6-32],M=u[h+7-32];u[h+0+0]=ct(u[h+0-32],y,j),u[h+1+0]=u[h+0+32]=ct(y,j,k),u[h+2+0]=u[h+1+32]=u[h+0+64]=ct(j,k,_),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=ct(k,_,E),u[h+3+32]=u[h+2+64]=u[h+1+96]=ct(_,E,D),u[h+3+64]=u[h+2+96]=ct(E,D,M),u[h+3+96]=ct(D,M,M)}function da(u,h){var y=u[h-1+0],j=u[h-1+32],k=u[h-1+64],_=u[h-1-32],E=u[h+0-32],D=u[h+1-32],M=u[h+2-32],U=u[h+3-32];u[h+0+0]=u[h+1+64]=_+E+1>>1,u[h+1+0]=u[h+2+64]=E+D+1>>1,u[h+2+0]=u[h+3+64]=D+M+1>>1,u[h+3+0]=M+U+1>>1,u[h+0+96]=ct(k,j,y),u[h+0+64]=ct(j,y,_),u[h+0+32]=u[h+1+96]=ct(y,_,E),u[h+1+32]=u[h+2+96]=ct(_,E,D),u[h+2+32]=u[h+3+96]=ct(E,D,M),u[h+3+32]=ct(D,M,U)}function Tl(u,h){var y=u[h+0-32],j=u[h+1-32],k=u[h+2-32],_=u[h+3-32],E=u[h+4-32],D=u[h+5-32],M=u[h+6-32],U=u[h+7-32];u[h+0+0]=y+j+1>>1,u[h+1+0]=u[h+0+64]=j+k+1>>1,u[h+2+0]=u[h+1+64]=k+_+1>>1,u[h+3+0]=u[h+2+64]=_+E+1>>1,u[h+0+32]=ct(y,j,k),u[h+1+32]=u[h+0+96]=ct(j,k,_),u[h+2+32]=u[h+1+96]=ct(k,_,E),u[h+3+32]=u[h+2+96]=ct(_,E,D),u[h+3+64]=ct(E,D,M),u[h+3+96]=ct(D,M,U)}function Nf(u,h){var y=u[h-1+0],j=u[h-1+32],k=u[h-1+64],_=u[h-1+96];u[h+0+0]=y+j+1>>1,u[h+2+0]=u[h+0+32]=j+k+1>>1,u[h+2+32]=u[h+0+64]=k+_+1>>1,u[h+1+0]=ct(y,j,k),u[h+3+0]=u[h+1+32]=ct(j,k,_),u[h+3+32]=u[h+1+64]=ct(k,_,_),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=_}function Cf(u,h){var y=u[h-1+0],j=u[h-1+32],k=u[h-1+64],_=u[h-1+96],E=u[h-1-32],D=u[h+0-32],M=u[h+1-32],U=u[h+2-32];u[h+0+0]=u[h+2+32]=y+E+1>>1,u[h+0+32]=u[h+2+64]=j+y+1>>1,u[h+0+64]=u[h+2+96]=k+j+1>>1,u[h+0+96]=_+k+1>>1,u[h+3+0]=ct(D,M,U),u[h+2+0]=ct(E,D,M),u[h+1+0]=u[h+3+32]=ct(y,E,D),u[h+1+32]=u[h+3+64]=ct(j,y,E),u[h+1+64]=u[h+3+96]=ct(k,j,y),u[h+1+96]=ct(_,k,j)}function Af(u,h){var y;for(y=0;8>y;++y)r(u,h+32*y,u,h-32,8)}function Fl(u,h){var y;for(y=0;8>y;++y)i(u,h,u[h-1],8),h+=32}function Co(u,h,y){var j;for(j=0;8>j;++j)i(h,y+32*j,u,8)}function Is(u,h){var y,j=8;for(y=0;8>y;++y)j+=u[h+y-32]+u[h-1+32*y];Co(j>>4,u,h)}function kf(u,h){var y,j=4;for(y=0;8>y;++y)j+=u[h+y-32];Co(j>>3,u,h)}function Ao(u,h){var y,j=4;for(y=0;8>y;++y)j+=u[h-1+32*y];Co(j>>3,u,h)}function Il(u,h){Co(128,u,h)}function ha(u,h,y){var j=u[h-y],k=u[h+0],_=3*(k-j)+Ff[1020+u[h-2*y]-u[h+y]],E=Uu[112+(_+4>>3)];u[h-y]=Or[255+j+Uu[112+(_+3>>3)]],u[h+0]=Or[255+k-E]}function _u(u,h,y,j){var k=u[h+0],_=u[h+y];return oi[255+u[h-2*y]-u[h-y]]>j||oi[255+_-k]>j}function Eu(u,h,y,j){return 4*oi[255+u[h-y]-u[h+0]]+oi[255+u[h-2*y]-u[h+y]]<=j}function Tu(u,h,y,j,k){var _=u[h-3*y],E=u[h-2*y],D=u[h-y],M=u[h+0],U=u[h+y],te=u[h+2*y],fe=u[h+3*y];return 4*oi[255+D-M]+oi[255+E-U]>j?0:oi[255+u[h-4*y]-_]<=k&&oi[255+_-E]<=k&&oi[255+E-D]<=k&&oi[255+fe-te]<=k&&oi[255+te-U]<=k&&oi[255+U-M]<=k}function Fu(u,h,y,j){var k=2*j+1;for(j=0;16>j;++j)Eu(u,h+j,y,k)&&ha(u,h+j,y)}function Ui(u,h,y,j){var k=2*j+1;for(j=0;16>j;++j)Eu(u,h+j*y,1,k)&&ha(u,h+j*y,1)}function ls(u,h,y,j){var k;for(k=3;0<k;--k)Fu(u,h+=4*y,y,j)}function Pf(u,h,y,j){var k;for(k=3;0<k;--k)Ui(u,h+=4,y,j)}function Rs(u,h,y,j,k,_,E,D){for(_=2*_+1;0<k--;){if(Tu(u,h,y,_,E))if(_u(u,h,y,D))ha(u,h,y);else{var M=u,U=h,te=y,fe=M[U-2*te],pe=M[U-te],oe=M[U+0],je=M[U+te],ge=M[U+2*te],ne=27*(be=Ff[1020+3*(oe-pe)+Ff[1020+fe-je]])+63>>7,ie=18*be+63>>7,be=9*be+63>>7;M[U-3*te]=Or[255+M[U-3*te]+be],M[U-2*te]=Or[255+fe+ie],M[U-te]=Or[255+pe+ne],M[U+0]=Or[255+oe-ne],M[U+te]=Or[255+je-ie],M[U+2*te]=Or[255+ge-be]}h+=j}}function xi(u,h,y,j,k,_,E,D){for(_=2*_+1;0<k--;){if(Tu(u,h,y,_,E))if(_u(u,h,y,D))ha(u,h,y);else{var M=u,U=h,te=y,fe=M[U-te],pe=M[U+0],oe=M[U+te],je=Uu[112+((ge=3*(pe-fe))+4>>3)],ge=Uu[112+(ge+3>>3)],ne=je+1>>1;M[U-2*te]=Or[255+M[U-2*te]+ne],M[U-te]=Or[255+fe+ge],M[U+0]=Or[255+pe-je],M[U+te]=Or[255+oe-ne]}h+=j}}function Rl(u,h,y,j,k,_){Rs(u,h,y,1,16,j,k,_)}function ko(u,h,y,j,k,_){Rs(u,h,1,y,16,j,k,_)}function Lf(u,h,y,j,k,_){var E;for(E=3;0<E;--E)xi(u,h+=4*y,y,1,16,j,k,_)}function fa(u,h,y,j,k,_){var E;for(E=3;0<E;--E)xi(u,h+=4,1,y,16,j,k,_)}function _f(u,h,y,j,k,_,E,D){Rs(u,h,k,1,8,_,E,D),Rs(y,j,k,1,8,_,E,D)}function Dl(u,h,y,j,k,_,E,D){Rs(u,h,1,k,8,_,E,D),Rs(y,j,1,k,8,_,E,D)}function Ml(u,h,y,j,k,_,E,D){xi(u,h+4*k,k,1,8,_,E,D),xi(y,j+4*k,k,1,8,_,E,D)}function Iu(u,h,y,j,k,_,E,D){xi(u,h+4,1,k,8,_,E,D),xi(y,j+4,1,k,8,_,E,D)}function pa(){this.ba=new vr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ol(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Bl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ru(){this.ua=0,this.Wa=new K,this.vb=new K,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new L}function Ef(){this.xb=this.a=0,this.l=new He,this.ca=new vr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ru,this.ab=0,this.gc=o(4,Bl),this.Oc=0}function ma(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new He,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Po(u,h,y,j,k,_,E){for(u=u==null?0:u[h+0],h=0;h<E;++h)k[_+h]=u+y[j+h]&255,u=k[_+h]}function zl(u,h,y,j,k,_,E){var D;if(u==null)Po(null,null,y,j,k,_,E);else for(D=0;D<E;++D)k[_+D]=u[h+D]+y[j+D]&255}function Ds(u,h,y,j,k,_,E){if(u==null)Po(null,null,y,j,k,_,E);else{var D,M=u[h+0],U=M,te=M;for(D=0;D<E;++D)U=te+(M=u[h+D])-U,te=y[j+D]+(-256&U?0>U?0:255:U)&255,U=M,k[_+D]=te}}function ql(u,h,y,j){var k=h.width,_=h.o;if(t(u!=null&&h!=null),0>y||0>=j||y+j>_)return null;if(!u.Cc){if(u.ga==null){var E;if(u.ga=new ma,(E=u.ga==null)||(E=h.width*h.o,t(u.Gb.length==0),u.Gb=s(E),u.Uc=0,u.Gb==null?E=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,E=1),E=!E),!E){E=u.ga;var D=u.Fa,M=u.P,U=u.qc,te=u.mb,fe=u.nb,pe=M+1,oe=U-1,je=E.l;if(t(D!=null&&te!=null&&h!=null),Us[0]=null,Us[1]=Po,Us[2]=zl,Us[3]=Ds,E.ca=te,E.tb=fe,E.c=h.width,E.i=h.height,t(0<E.c&&0<E.i),1>=U)h=0;else if(E.$a=D[M+0]>>0&3,E.Z=D[M+0]>>2&3,E.Lc=D[M+0]>>4&3,M=D[M+0]>>6&3,0>E.$a||1<E.$a||4<=E.Z||1<E.Lc||M)h=0;else if(je.put=Fr,je.ac=An,je.bc=Xr,je.ma=E,je.width=h.width,je.height=h.height,je.Da=h.Da,je.v=h.v,je.va=h.va,je.j=h.j,je.o=h.o,E.$a)e:{t(E.$a==1),h=Dr();t:for(;;){if(h==null){h=0;break e}if(t(E!=null),E.mc=h,h.c=E.c,h.i=E.i,h.l=E.l,h.l.ma=E,h.l.width=E.c,h.l.height=E.i,h.a=0,H(h.m,D,pe,oe),!Zr(E.c,E.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&yi(h.s)?(E.ic=1,D=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(D),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(E.ic=0,h=is(h,E.c)),!h))break t;h=1;break e}E.mc=null,h=0}else h=oe>=E.c*E.i;E=!h}if(E)return null;u.ga.Lc!=1?u.Ga=0:j=_-y}t(u.ga!=null),t(y+j<=_);e:{if(h=(D=u.ga).c,_=D.l.o,D.$a==0){if(pe=u.rc,oe=u.Vc,je=u.Fa,M=u.P+1+y*h,U=u.mb,te=u.nb+y*h,t(M<=u.P+u.qc),D.Z!=0)for(t(Us[D.Z]!=null),E=0;E<j;++E)Us[D.Z](pe,oe,je,M,U,te,h),pe=U,oe=te,te+=h,M+=h;else for(E=0;E<j;++E)r(U,te,je,M,h),pe=U,oe=te,te+=h,M+=h;u.rc=pe,u.Vc=oe}else{if(t(D.mc!=null),h=y+j,t((E=D.mc)!=null),t(h<=E.i),E.C>=h)h=1;else if(D.ic||ue(),D.ic){D=E.V,pe=E.Ba,oe=E.c;var ge=E.i,ne=(je=1,M=E.$/oe,U=E.$%oe,te=E.m,fe=E.s,E.$),ie=oe*ge,be=oe*h,Ce=fe.wc,Se=ne<be?rn(fe,U,M):null;t(ne<=ie),t(h<=ge),t(yi(fe));t:for(;;){for(;!te.h&&ne<be;){if(U&Ce||(Se=rn(fe,U,M)),t(Se!=null),Z(te),256>(ge=Wn(Se.G[0],Se.H[0],te)))D[pe+ne]=ge,++ne,++U>=oe&&(U=0,++M<=h&&!(M%16)&&On(E,M));else{if(!(280>ge)){je=0;break t}ge=yr(ge-256,te);var Ve,Oe=Wn(Se.G[4],Se.H[4],te);if(Z(te),!(ne>=(Oe=Qr(oe,Oe=yr(Oe,te)))&&ie-ne>=ge)){je=0;break t}for(Ve=0;Ve<ge;++Ve)D[pe+ne+Ve]=D[pe+ne+Ve-Oe];for(ne+=ge,U+=ge;U>=oe;)U-=oe,++M<=h&&!(M%16)&&On(E,M);ne<be&&U&Ce&&(Se=rn(fe,U,M))}t(te.h==z(te))}On(E,M>h?h:M);break t}!je||te.h&&ne<ie?(je=0,E.a=te.h?5:3):E.$=ne,h=je}else h=Gn(E,E.V,E.Ba,E.c,E.i,h,ss);if(!h){j=0;break e}}y+j>=_&&(u.Cc=1),j=1}if(!j)return null;if(u.Cc&&((j=u.ga)!=null&&(j.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*k}function v(u,h,y,j,k,_){for(;0<k--;){var E,D=u,M=h+(y?1:0),U=u,te=h+(y?0:3);for(E=0;E<j;++E){var fe=U[te+4*E];fe!=255&&(fe*=32897,D[M+4*E+0]=D[M+4*E+0]*fe>>23,D[M+4*E+1]=D[M+4*E+1]*fe>>23,D[M+4*E+2]=D[M+4*E+2]*fe>>23)}h+=_}}function P(u,h,y,j,k){for(;0<j--;){var _;for(_=0;_<y;++_){var E=u[h+2*_+0],D=15&(U=u[h+2*_+1]),M=4369*D,U=(240&U|U>>4)*M>>16;u[h+2*_+0]=(240&E|E>>4)*M>>16&240|(15&E|E<<4)*M>>16>>4&15,u[h+2*_+1]=240&U|D}h+=k}}function $(u,h,y,j,k,_,E,D){var M,U,te=255;for(U=0;U<k;++U){for(M=0;M<j;++M){var fe=u[h+M];_[E+4*M]=fe,te&=fe}h+=y,E+=D}return te!=255}function ee(u,h,y,j,k){var _;for(_=0;_<k;++_)y[j+_]=u[h+_]>>8}function ue(){si=v,zt=P,qt=$,pn=ee}function ye(u,h,y){F[u]=function(j,k,_,E,D,M,U,te,fe,pe,oe,je,ge,ne,ie,be,Ce){var Se,Ve=Ce-1>>1,Oe=D[M+0]|U[te+0]<<16,nt=fe[pe+0]|oe[je+0]<<16;t(j!=null);var ze=3*Oe+nt+131074>>2;for(h(j[k+0],255&ze,ze>>16,ge,ne),_!=null&&(ze=3*nt+Oe+131074>>2,h(_[E+0],255&ze,ze>>16,ie,be)),Se=1;Se<=Ve;++Se){var kt=D[M+Se]|U[te+Se]<<16,_t=fe[pe+Se]|oe[je+Se]<<16,Ct=Oe+kt+nt+_t+524296,vt=Ct+2*(kt+nt)>>3;ze=vt+Oe>>1,Oe=(Ct=Ct+2*(Oe+_t)>>3)+kt>>1,h(j[k+2*Se-1],255&ze,ze>>16,ge,ne+(2*Se-1)*y),h(j[k+2*Se-0],255&Oe,Oe>>16,ge,ne+(2*Se-0)*y),_!=null&&(ze=Ct+nt>>1,Oe=vt+_t>>1,h(_[E+2*Se-1],255&ze,ze>>16,ie,be+(2*Se-1)*y),h(_[E+2*Se+0],255&Oe,Oe>>16,ie,be+(2*Se+0)*y)),Oe=kt,nt=_t}1&Ce||(ze=3*Oe+nt+131074>>2,h(j[k+Ce-1],255&ze,ze>>16,ge,ne+(Ce-1)*y),_!=null&&(ze=3*nt+Oe+131074>>2,h(_[E+Ce-1],255&ze,ze>>16,ie,be+(Ce-1)*y)))}}function ke(){ai[Vu]=t4,ai[$u]=hg,ai[ag]=n4,ai[Hu]=fg,ai[Wu]=pg,ai[If]=mg,ai[lg]=r4,ai[Rf]=hg,ai[Df]=fg,ai[Gu]=pg,ai[Mf]=mg}function Ue(u){return u&~i4?0>u?0:255:u>>gg}function Ze(u,h){return Ue((19077*u>>8)+(26149*h>>8)-14234)}function ht(u,h,y){return Ue((19077*u>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function ut(u,h){return Ue((19077*u>>8)+(33050*h>>8)-17685)}function bt(u,h,y,j,k){j[k+0]=Ze(u,y),j[k+1]=ht(u,h,y),j[k+2]=ut(u,h)}function Xt(u,h,y,j,k){j[k+0]=ut(u,h),j[k+1]=ht(u,h,y),j[k+2]=Ze(u,y)}function on(u,h,y,j,k){var _=ht(u,h,y);h=_<<3&224|ut(u,h)>>3,j[k+0]=248&Ze(u,y)|_>>5,j[k+1]=h}function wn(u,h,y,j,k){var _=240&ut(u,h)|15;j[k+0]=240&Ze(u,y)|ht(u,h,y)>>4,j[k+1]=_}function Yn(u,h,y,j,k){j[k+0]=255,bt(u,h,y,j,k+1)}function En(u,h,y,j,k){Xt(u,h,y,j,k),j[k+3]=255}function wi(u,h,y,j,k){bt(u,h,y,j,k),j[k+3]=255}function Mr(u,h){return 0>u?0:u>h?h:u}function Vi(u,h,y){F[u]=function(j,k,_,E,D,M,U,te,fe){for(var pe=te+(-2&fe)*y;te!=pe;)h(j[k+0],_[E+0],D[M+0],U,te),h(j[k+1],_[E+0],D[M+0],U,te+y),k+=2,++E,++M,te+=2*y;1&fe&&h(j[k+0],_[E+0],D[M+0],U,te)}}function Du(u,h,y){return y==0?u==0?h==0?6:5:h==0?4:0:y}function Ul(u,h,y,j,k){switch(u>>>30){case 3:ds(h,y,j,k,0);break;case 2:fn(h,y,j,k);break;case 1:cr(h,y,j,k)}}function Vl(u,h){var y,j,k=h.M,_=h.Nb,E=u.oc,D=u.pc+40,M=u.oc,U=u.pc+584,te=u.oc,fe=u.pc+600;for(y=0;16>y;++y)E[D+32*y-1]=129;for(y=0;8>y;++y)M[U+32*y-1]=129,te[fe+32*y-1]=129;for(0<k?E[D-1-32]=M[U-1-32]=te[fe-1-32]=129:(i(E,D-32-1,127,21),i(M,U-32-1,127,9),i(te,fe-32-1,127,9)),j=0;j<u.za;++j){var pe=h.ya[h.aa+j];if(0<j){for(y=-1;16>y;++y)r(E,D+32*y-4,E,D+32*y+12,4);for(y=-1;8>y;++y)r(M,U+32*y-4,M,U+32*y+4,4),r(te,fe+32*y-4,te,fe+32*y+4,4)}var oe=u.Gd,je=u.Hd+j,ge=pe.ad,ne=pe.Hc;if(0<k&&(r(E,D-32,oe[je].y,0,16),r(M,U-32,oe[je].f,0,8),r(te,fe-32,oe[je].ea,0,8)),pe.Za){var ie=E,be=D-32+16;for(0<k&&(j>=u.za-1?i(ie,be,oe[je].y[15],4):r(ie,be,oe[je+1].y,0,4)),y=0;4>y;y++)ie[be+128+y]=ie[be+256+y]=ie[be+384+y]=ie[be+0+y];for(y=0;16>y;++y,ne<<=2)ie=E,be=D+yg[y],bi[pe.Ob[y]](ie,be),Ul(ne,ge,16*+y,ie,be)}else if(ie=Du(j,k,pe.Ob[0]),qs[ie](E,D),ne!=0)for(y=0;16>y;++y,ne<<=2)Ul(ne,ge,16*+y,E,D+yg[y]);for(y=pe.Gc,ie=Du(j,k,pe.Dd),fs[ie](M,U),fs[ie](te,fe),ne=ge,ie=M,be=U,255&(pe=y>>0)&&(170&pe?Kl(ne,256,ie,be):ri(ne,256,ie,be)),pe=te,ne=fe,255&(y>>=8)&&(170&y?Kl(ge,320,pe,ne):ri(ge,320,pe,ne)),k<u.Ub-1&&(r(oe[je].y,0,E,D+480,16),r(oe[je].f,0,M,U+224,8),r(oe[je].ea,0,te,fe+224,8)),y=8*_*u.B,oe=u.sa,je=u.ta+16*j+16*_*u.R,ge=u.qa,pe=u.ra+8*j+y,ne=u.Ha,ie=u.Ia+8*j+y,y=0;16>y;++y)r(oe,je+y*u.R,E,D+32*y,16);for(y=0;8>y;++y)r(ge,pe+y*u.B,M,U+32*y,8),r(ne,ie+y*u.B,te,fe+32*y,8)}}function ga(u,h,y,j,k,_,E,D,M){var U=[0],te=[0],fe=0,pe=M!=null?M.kd:0,oe=M??new Ol;if(u==null||12>y)return 7;oe.data=u,oe.w=h,oe.ha=y,h=[h],y=[y],oe.gb=[oe.gb];e:{var je=h,ge=y,ne=oe.gb;if(t(u!=null),t(ge!=null),t(ne!=null),ne[0]=0,12<=ge[0]&&!n(u,je[0],"RIFF")){if(n(u,je[0]+8,"WEBP")){ne=3;break e}var ie=Le(u,je[0]+4);if(12>ie||4294967286<ie){ne=3;break e}if(pe&&ie>ge[0]-8){ne=7;break e}ne[0]=ie,je[0]+=12,ge[0]-=12}ne=0}if(ne!=0)return ne;for(ie=0<oe.gb[0],y=y[0];;){e:{var be=u;ge=h,ne=y;var Ce=U,Se=te,Ve=je=[0];if((ze=fe=[fe])[0]=0,8>ne[0])ne=7;else{if(!n(be,ge[0],"VP8X")){if(Le(be,ge[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var Oe=Le(be,ge[0]+8),nt=1+Te(be,ge[0]+12);if(2147483648<=nt*(be=1+Te(be,ge[0]+15))){ne=3;break e}Ve!=null&&(Ve[0]=Oe),Ce!=null&&(Ce[0]=nt),Se!=null&&(Se[0]=be),ge[0]+=18,ne[0]-=18,ze[0]=1}ne=0}}if(fe=fe[0],je=je[0],ne!=0)return ne;if(ge=!!(2&je),!ie&&fe)return 3;if(_!=null&&(_[0]=!!(16&je)),E!=null&&(E[0]=ge),D!=null&&(D[0]=0),E=U[0],je=te[0],fe&&ge&&M==null){ne=0;break}if(4>y){ne=7;break}if(ie&&fe||!ie&&!fe&&!n(u,h[0],"ALPH")){y=[y],oe.na=[oe.na],oe.P=[oe.P],oe.Sa=[oe.Sa];e:{Oe=u,ne=h,ie=y;var ze=oe.gb;Ce=oe.na,Se=oe.P,Ve=oe.Sa,nt=22,t(Oe!=null),t(ie!=null),be=ne[0];var kt=ie[0];for(t(Ce!=null),t(Ve!=null),Ce[0]=null,Se[0]=null,Ve[0]=0;;){if(ne[0]=be,ie[0]=kt,8>kt){ne=7;break e}var _t=Le(Oe,be+4);if(4294967286<_t){ne=3;break e}var Ct=8+_t+1&-2;if(nt+=Ct,0<ze&&nt>ze){ne=3;break e}if(!n(Oe,be,"VP8 ")||!n(Oe,be,"VP8L")){ne=0;break e}if(kt[0]<Ct){ne=7;break e}n(Oe,be,"ALPH")||(Ce[0]=Oe,Se[0]=be+8,Ve[0]=_t),be+=Ct,kt-=Ct}}if(y=y[0],oe.na=oe.na[0],oe.P=oe.P[0],oe.Sa=oe.Sa[0],ne!=0)break}y=[y],oe.Ja=[oe.Ja],oe.xa=[oe.xa];e:if(ze=u,ne=h,ie=y,Ce=oe.gb[0],Se=oe.Ja,Ve=oe.xa,Oe=ne[0],be=!n(ze,Oe,"VP8 "),nt=!n(ze,Oe,"VP8L"),t(ze!=null),t(ie!=null),t(Se!=null),t(Ve!=null),8>ie[0])ne=7;else{if(be||nt){if(ze=Le(ze,Oe+4),12<=Ce&&ze>Ce-12){ne=3;break e}if(pe&&ze>ie[0]-8){ne=7;break e}Se[0]=ze,ne[0]+=8,ie[0]-=8,Ve[0]=nt}else Ve[0]=5<=ie[0]&&ze[Oe+0]==47&&!(ze[Oe+4]>>5),Se[0]=ie[0];ne=0}if(y=y[0],oe.Ja=oe.Ja[0],oe.xa=oe.xa[0],h=h[0],ne!=0)break;if(4294967286<oe.Ja)return 3;if(D==null||ge||(D[0]=oe.xa?2:1),E=[E],je=[je],oe.xa){if(5>y){ne=7;break}D=E,pe=je,ge=_,u==null||5>y?u=0:5<=y&&u[h+0]==47&&!(u[h+4]>>5)?(ie=[0],ze=[0],Ce=[0],H(Se=new A,u,h,y),tt(Se,ie,ze,Ce)?(D!=null&&(D[0]=ie[0]),pe!=null&&(pe[0]=ze[0]),ge!=null&&(ge[0]=Ce[0]),u=1):u=0):u=0}else{if(10>y){ne=7;break}D=je,u==null||10>y||!Pt(u,h+3,y-3)?u=0:(pe=u[h+0]|u[h+1]<<8|u[h+2]<<16,ge=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=oe.Ja||!ge||!u?u=0:(E&&(E[0]=ge),D&&(D[0]=u),u=1))}if(!u||(E=E[0],je=je[0],fe&&(U[0]!=E||te[0]!=je)))return 3;M!=null&&(M[0]=oe,M.offset=h-M.w,t(4294967286>h-M.w),t(M.offset==M.ha-y));break}return ne==0||ne==7&&fe&&M==null?(_!=null&&(_[0]|=oe.na!=null&&0<oe.na.length),j!=null&&(j[0]=E),k!=null&&(k[0]=je),0):ne}function $l(u,h,y){var j=h.width,k=h.height,_=0,E=0,D=j,M=k;if(h.Da=u!=null&&0<u.Da,h.Da&&(D=u.cd,M=u.bd,_=u.v,E=u.j,11>y||(_&=-2,E&=-2),0>_||0>E||0>=D||0>=M||_+D>j||E+M>k))return 0;if(h.v=_,h.j=E,h.va=_+D,h.o=E+M,h.U=D,h.T=M,h.da=u!=null&&0<u.da,h.da){if(!Ye(D,M,y=[u.ib],_=[u.hb]))return 0;h.ib=y[0],h.hb=_[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*j/4&&h.hb<3*k/4,h.Kb=0),1}function Hl(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function va(u,h,y,j){if(j==null||0>=u||0>=h)return 2;if(y!=null){if(y.Da){var k=y.cd,_=y.bd,E=-2&y.v,D=-2&y.j;if(0>E||0>D||0>=k||0>=_||E+k>u||D+_>h)return 2;u=k,h=_}if(y.da){if(!Ye(u,h,k=[y.ib],_=[y.hb]))return 2;u=k[0],h=_[0]}}j.width=u,j.height=h;e:{var M=j.width,U=j.height;if(u=j.S,0>=M||0>=U||!(u>=Vu&&13>u))u=2;else{if(0>=j.Rd&&j.sd==null){E=_=k=h=0;var te=(D=M*xg[u])*U;if(11>u||(_=(U+1)/2*(h=(M+1)/2),u==12&&(E=(k=M)*U)),(U=s(te+2*_+E))==null){u=1;break e}j.sd=U,11>u?((M=j.f.RGBA).eb=U,M.fb=0,M.A=D,M.size=te):((M=j.f.kb).y=U,M.O=0,M.fa=D,M.Fd=te,M.f=U,M.N=0+te,M.Ab=h,M.Cd=_,M.ea=U,M.W=0+te+_,M.Db=h,M.Ed=_,u==12&&(M.F=U,M.J=0+te+2*_),M.Tc=E,M.lb=k)}if(h=1,k=j.S,_=j.width,E=j.height,k>=Vu&&13>k)if(11>k)u=j.f.RGBA,h&=(D=Math.abs(u.A))*(E-1)+_<=u.size,h&=D>=_*xg[k],h&=u.eb!=null;else{u=j.f.kb,D=(_+1)/2,te=(E+1)/2,M=Math.abs(u.fa),U=Math.abs(u.Ab);var fe=Math.abs(u.Db),pe=Math.abs(u.lb),oe=pe*(E-1)+_;h&=M*(E-1)+_<=u.Fd,h&=U*(te-1)+D<=u.Cd,h=(h&=fe*(te-1)+D<=u.Ed)&M>=_&U>=D&fe>=D,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,k==12&&(h&=pe>=_,h&=oe<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||y!=null&&y.fd&&(u=Hl(j)),u}var zn=64,ya=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xa=24,wa=32,Wl=8,wr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(u){return u},F.Predictor2=function(u,h,y){return h[y+0]},F.Predictor3=function(u,h,y){return h[y+1]},F.Predictor4=function(u,h,y){return h[y-1]},F.Predictor5=function(u,h,y){return Me(Me(u,h[y+1]),h[y+0])},F.Predictor6=function(u,h,y){return Me(u,h[y-1])},F.Predictor7=function(u,h,y){return Me(u,h[y+0])},F.Predictor8=function(u,h,y){return Me(h[y-1],h[y+0])},F.Predictor9=function(u,h,y){return Me(h[y+0],h[y+1])},F.Predictor10=function(u,h,y){return Me(Me(u,h[y-1]),Me(h[y+0],h[y+1]))},F.Predictor11=function(u,h,y){var j=h[y+0];return 0>=_e(j>>24&255,u>>24&255,(h=h[y-1])>>24&255)+_e(j>>16&255,u>>16&255,h>>16&255)+_e(j>>8&255,u>>8&255,h>>8&255)+_e(255&j,255&u,255&h)?j:u},F.Predictor12=function(u,h,y){var j=h[y+0];return($e((u>>24&255)+(j>>24&255)-((h=h[y-1])>>24&255))<<24|$e((u>>16&255)+(j>>16&255)-(h>>16&255))<<16|$e((u>>8&255)+(j>>8&255)-(h>>8&255))<<8|$e((255&u)+(255&j)-(255&h)))>>>0},F.Predictor13=function(u,h,y){var j=h[y-1];return(it((u=Me(u,h[y+0]))>>24&255,j>>24&255)<<24|it(u>>16&255,j>>16&255)<<16|it(u>>8&255,j>>8&255)<<8|it(u>>0&255,j>>0&255))>>>0};var Tf=F.PredictorAdd0;F.PredictorAdd1=qe,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var Gl=F.PredictorAdd2;pt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Mu,ni=F.ColorIndexInverseTransform,ba=F.MapARGB,Ou=F.VP8LColorIndexInverseTransformAlpha,Bu=F.MapAlpha,Ms=F.VP8LPredictorsAdd=[];Ms.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var Lo,br,lr,Os,cs,us,Sa,ds,fn,Kl,cr,ri,ja,zu,Yl,_o,Eo,Bs,To,Na,Fo,zs,Jl,ii,si,zt,qt,pn,Pn=s(511),hs=s(2041),Xl=s(225),Ca=s(767),qu=0,Ff=hs,Uu=Xl,Or=Ca,oi=Pn,Vu=0,$u=1,ag=2,Hu=3,Wu=4,If=5,lg=6,Rf=7,Df=8,Gu=9,Mf=10,qb=[2,3,7],Ub=[3,3,11],cg=[280,256,256,256,40],Vb=[0,1,1,1,0],$b=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Hb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Wb=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Gb=8,Of=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ql=null,Kb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Yb=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ug=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Jb=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Xb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Qb=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Zb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qs=[],bi=[],fs=[],e4=1,dg=2,Us=[],ai=[];ye("UpsampleRgbLinePair",bt,3),ye("UpsampleBgrLinePair",Xt,3),ye("UpsampleRgbaLinePair",wi,4),ye("UpsampleBgraLinePair",En,4),ye("UpsampleArgbLinePair",Yn,4),ye("UpsampleRgba4444LinePair",wn,2),ye("UpsampleRgb565LinePair",on,2);var t4=F.UpsampleRgbLinePair,n4=F.UpsampleBgrLinePair,hg=F.UpsampleRgbaLinePair,fg=F.UpsampleBgraLinePair,pg=F.UpsampleArgbLinePair,mg=F.UpsampleRgba4444LinePair,r4=F.UpsampleRgb565LinePair,Ku=16,Yu=1<<Ku-1,Zl=-227,zf=482,gg=6,i4=(256<<gg)-1,vg=0,s4=s(256),o4=s(256),a4=s(256),l4=s(256),c4=s(zf-Zl),u4=s(zf-Zl);Vi("YuvToRgbRow",bt,3),Vi("YuvToBgrRow",Xt,3),Vi("YuvToRgbaRow",wi,4),Vi("YuvToBgraRow",En,4),Vi("YuvToArgbRow",Yn,4),Vi("YuvToRgba4444Row",wn,2),Vi("YuvToRgb565Row",on,2);var yg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ju=[0,2,8],d4=[8,7,6,4,4,2,2,2,1,1,1,1],h4=1;this.WebPDecodeRGBA=function(u,h,y,j,k){var _=$u,E=new pa,D=new vr;E.ba=D,D.S=_,D.width=[D.width],D.height=[D.height];var M=D.width,U=D.height,te=new Jr;if(te==null||u==null)var fe=2;else t(te!=null),fe=ga(u,h,y,te.width,te.height,te.Pd,te.Qd,te.format,null);if(fe!=0?M=0:(M!=null&&(M[0]=te.width[0]),U!=null&&(U[0]=te.height[0]),M=1),M){D.width=D.width[0],D.height=D.height[0],j!=null&&(j[0]=D.width),k!=null&&(k[0]=D.height);e:{if(j=new He,(k=new Ol).data=u,k.w=h,k.ha=y,k.kd=1,h=[0],t(k!=null),((u=ga(k.data,k.w,k.ha,null,null,null,h,null,k))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(t(E!=null),j.data=k.data,j.w=k.w+k.offset,j.ha=k.ha-k.offset,j.put=Fr,j.ac=An,j.bc=Xr,j.ma=E,k.xa){if((u=Dr())==null){E=1;break e}if(function(pe,oe){var je=[0],ge=[0],ne=[0];t:for(;;){if(pe==null)return 0;if(oe==null)return pe.a=2,0;if(pe.l=oe,pe.a=0,H(pe.m,oe.data,oe.w,oe.ha),!tt(pe.m,je,ge,ne)){pe.a=3;break t}if(pe.xb=dg,oe.width=je[0],oe.height=ge[0],!Zr(je[0],ge[0],1,pe,null))break t;return 1}return t(pe.a!=0),0}(u,j)){if(j=(h=va(j.width,j.height,E.Oa,E.ba))==0){t:{j=u;n:for(;;){if(j==null){j=0;break t}if(t(j.s.yc!=null),t(j.s.Ya!=null),t(0<j.s.Wb),t((y=j.l)!=null),t((k=y.ma)!=null),j.xb!=0){if(j.ca=k.ba,j.tb=k.tb,t(j.ca!=null),!$l(k.Oa,y,Hu)){j.a=2;break n}if(!is(j,y.width)||y.da)break n;if((y.da||wt(j.ca.S))&&ue(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ue()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!et(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Gn(j,j.V,j.Ba,j.c,j.i,y.o,Vt))break n;k.Dc=j.Ma,j=1;break t}t(j.a!=0),j=0}j=!j}j&&(h=u.a)}else h=u.a}else{if((u=new Qe)==null){E=1;break e}if(u.Fa=k.na,u.P=k.P,u.qc=k.Sa,Bn(u,j)){if((h=va(j.width,j.height,E.Oa,E.ba))==0){if(u.Aa=0,y=E.Oa,t((k=u)!=null),y!=null){if(0<(M=0>(M=y.Md)?0:100<M?255:255*M/100)){for(U=te=0;4>U;++U)12>(fe=k.pb[U]).lc&&(fe.ia=M*d4[0>fe.lc?0:fe.lc]>>3),te|=fe.ia;te&&(alert("todo:VP8InitRandom"),k.ia=1)}k.Ga=y.Id,100<k.Ga?k.Ga=100:0>k.Ga&&(k.Ga=0)}os(u,j)||(h=u.a)}}else h=u.a}h==0&&E.Oa!=null&&E.Oa.fd&&(h=Hl(E.ba))}E=h}_=E!=0?null:11>_?D.f.RGBA.eb:D.f.kb.y}else _=null;return _};var xg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(F,Q){for(var X="",I=0;I<4;I++)X+=String.fromCharCode(F[Q++]);return X}function f(F,Q){return(F[Q+0]<<0|F[Q+1]<<8|F[Q+2]<<16)>>>0}function p(F,Q){return(F[Q+0]<<0|F[Q+1]<<8|F[Q+2]<<16|F[Q+3]<<24)>>>0}new l;var g=[0],m=[0],S=[],b=new l,C=e,x=function(F,Q){var X={},I=0,L=!1,Y=0,V=0;if(X.frames=[],!function(O,z,G,Z){for(var se=0;se<Z;se++)if(O[z+se]!=G.charCodeAt(se))return!0;return!1}(F,Q,"RIFF",4)){for(p(F,Q+=4),Q+=8;Q<F.length;){var ae=d(F,Q),ce=p(F,Q+=4);Q+=4;var le=ce+(1&ce);switch(ae){case"VP8 ":case"VP8L":X.frames[I]===void 0&&(X.frames[I]={}),(J=X.frames[I]).src_off=L?V:Q-8,J.src_size=Y+ce+8,I++,L&&(L=!1,Y=0,V=0);break;case"VP8X":(J=X.header={}).feature_flags=F[Q];var H=Q+4;J.canvas_width=1+f(F,H),H+=3,J.canvas_height=1+f(F,H),H+=3;break;case"ALPH":L=!0,Y=le+8,V=Q-8;break;case"ANIM":(J=X.header).bgcolor=p(F,Q),H=Q+4,J.loop_count=(me=F)[(A=H)+0]<<0|me[A+1]<<8,H+=2;break;case"ANMF":var re,J;(J=X.frames[I]={}).offset_x=2*f(F,Q),Q+=3,J.offset_y=2*f(F,Q),Q+=3,J.width=1+f(F,Q),Q+=3,J.height=1+f(F,Q),Q+=3,J.duration=f(F,Q),Q+=3,re=F[Q++],J.dispose=1&re,J.blend=re>>1&1}ae!="ANMF"&&(Q+=le)}var me,A;return X}}(C,0);x.response=C,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,N=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,g=[w.canvas_height],m=[w.canvas_width];for(var R=0;R<N.length&&N[R].blend!=0;R++);}var q=N[0],W=b.WebPDecodeRGBA(C,q.src_off,q.src_size,m,g);q.rgba=W,q.imgwidth=m[0],q.imgheight=g[0];for(var B=0;B<m[0]*g[0]*4;B++)S[B]=W[B];return this.width=m,this.height=g,this.data=S,this}(function(e){var t=function(){return typeof c1=="function"},n=function(g,m,S,b){var C=4,x=o;switch(b){case e.image_compression.FAST:C=1,x=s;break;case e.image_compression.MEDIUM:C=6,x=a;break;case e.image_compression.SLOW:C=9,x=l}g=r(g,m,S,x);var w=c1(g,{level:C});return e.__addimage__.arrayBufferToBinaryString(w)},r=function(g,m,S,b){for(var C,x,w,N=g.length/m,R=new Uint8Array(g.length+N),q=f(),W=0;W<N;W+=1){if(w=W*m,C=g.subarray(w,w+m),b)R.set(b(C,S,x),w+W);else{for(var B,F=q.length,Q=[];B<F;B+=1)Q[B]=q[B](C,S,x);var X=p(Q.concat());R.set(Q[X],w+W)}x=C}return R},i=function(g){var m=Array.apply([],g);return m.unshift(0),m},s=function(g,m){var S,b=[],C=g.length;b[0]=1;for(var x=0;x<C;x+=1)S=g[x-m]||0,b[x+1]=g[x]-S+256&255;return b},o=function(g,m,S){var b,C=[],x=g.length;C[0]=2;for(var w=0;w<x;w+=1)b=S&&S[w]||0,C[w+1]=g[w]-b+256&255;return C},a=function(g,m,S){var b,C,x=[],w=g.length;x[0]=3;for(var N=0;N<w;N+=1)b=g[N-m]||0,C=S&&S[N]||0,x[N+1]=g[N]+256-(b+C>>>1)&255;return x},l=function(g,m,S){var b,C,x,w,N=[],R=g.length;N[0]=4;for(var q=0;q<R;q+=1)b=g[q-m]||0,C=S&&S[q]||0,x=S&&S[q-m]||0,w=d(b,C,x),N[q+1]=g[q]-w+256&255;return N},d=function(g,m,S){if(g===m&&m===S)return g;var b=Math.abs(m-S),C=Math.abs(g-S),x=Math.abs(g+m-S-S);return b<=C&&b<=x?g:C<=x?m:S},f=function(){return[i,s,o,a,l]},p=function(g){var m=g.map(function(S){return S.reduce(function(b,C){return b+Math.abs(C)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(g,m,S,b){var C,x,w,N,R,q,W,B,F,Q,X,I,L,Y,V,ae=this.decode.FLATE_DECODE,ce="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(w=new kP(g)).imgData,x=w.bits,C=w.colorSpace,R=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){F=(B=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,X=new Uint8Array(F*w.colors),Q=new Uint8Array(F);var le,H=w.pixelBitlength-w.bits;for(Y=0,V=0;Y<F;Y++){for(L=B[Y],le=0;le<H;)X[V++]=L>>>le&255,le+=w.bits;Q[Y]=L>>>le&255}}if(w.bits===16){F=(B=new Uint32Array(w.decodePixels().buffer)).length,X=new Uint8Array(F*(32/w.pixelBitlength)*w.colors),Q=new Uint8Array(F*(32/w.pixelBitlength)),I=w.colors>1,Y=0,V=0;for(var re=0;Y<F;)L=B[Y++],X[V++]=L>>>0&255,I&&(X[V++]=L>>>16&255,L=B[Y++],X[V++]=L>>>0&255),Q[re++]=L>>>16&255;x=8}b!==e.image_compression.NONE&&t()?(g=n(X,w.width*w.colors,w.colors,b),W=n(Q,w.width,1,b)):(g=X,W=Q,ae=void 0)}if(w.colorType===3&&(C=this.color_spaces.INDEXED,q=w.palette,w.transparency.indexed)){var J=w.transparency.indexed,me=0;for(Y=0,F=J.length;Y<F;++Y)me+=J[Y];if((me/=255)===F-1&&J.indexOf(0)!==-1)N=[J.indexOf(0)];else if(me!==F){for(B=w.decodePixels(),Q=new Uint8Array(B.length),Y=0,F=B.length;Y<F;Y++)Q[Y]=J[B[Y]];W=n(Q,w.width,1)}}var A=function(O){var z;switch(O){case e.image_compression.FAST:z=11;break;case e.image_compression.MEDIUM:z=13;break;case e.image_compression.SLOW:z=14;break;default:z=12}return z}(b);return ae===this.decode.FLATE_DECODE&&(ce="/Predictor "+A+" "),ce+="/Colors "+R+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(W&&this.__addimage__.isArrayBuffer(W)||this.__addimage__.isArrayBufferView(W))&&(W=this.__addimage__.arrayBufferToBinaryString(W)),{alias:S,data:g,index:m,filter:ae,decodeParameters:ce,transparency:N,palette:q,sMask:W,predictor:A,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:C}}}})(rt.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new PP(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var d={data:l,width:o,height:a},f=new Hp(100).encode(d,100);return e.processJPEG.call(this,f,n,r,i)},e.processGIF87A=e.processGIF89A}(rt.API),Ci.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ci.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Bt.log("bit decode error:"+n)}},Ci.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Ci.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,d=this.palette[a];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[l],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ci.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Ci.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,d=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=d}this.pos+=e}},Ci.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,d=(o>>11)/t*255|0,f=i*this.width*4+4*s;this.data[f]=d,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=e}},Ci.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ci.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Ci.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new Ci(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},d=new Hp(100).encode(l,100);return e.processJPEG.call(this,d,n,r,i)}}(rt.API),L5.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new L5(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},d=new Hp(100).encode(l,100);return e.processJPEG.call(this,d,n,r,i)}}(rt.API),rt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,d=0;d<i;d+=4){var f=r[d],p=r[d+1],g=r[d+2],m=r[d+3];s[a++]=f,s[a++]=p,s[a++]=g,o[l++]=m}var S=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:S,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},rt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ta=rt.API,Td=Ta.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,p=t.doKerning!==!1,g=0,m=e.length,S=0,b=a[0]||l,C=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=p&&Tt(d[r])==="object"&&!isNaN(parseInt(d[r][S],10))?d[r][S]/f:0,C.push((a[r]||b)/l+g)),S=r;return C},C5=Ta.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Ta.processArabic&&(e=Ta.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Td.apply(this,arguments).reduce(function(s,o){return s+o},0)},A5=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},k5=function(e,t,n){n||(n={});var r,i,s,o,a,l,d,f=[],p=[f],g=n.textIndent||0,m=0,S=0,b=e.split(" "),C=Td.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),w=[];b.map(function(R){(R=R.split(/\s*\n/)).length>1?w=w.concat(R.map(function(q,W){return(W&&q.length?`
`:"")+q})):w.push(R[0])}),b=w,l=C5.apply(this,[x,n])}for(s=0,o=b.length;s<o;s++){var N=0;if(r=b[s],l&&r[0]==`
`&&(r=r.substr(1),N=1),g+m+(S=(i=Td.apply(this,[r,n])).reduce(function(R,q){return R+q},0))>t||N){if(S>t){for(a=A5.apply(this,[r,i,t-(g+m),t]),f.push(a.shift()),f=[a.pop()];a.length;)p.push([a.shift()]);S=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(R,q){return R+q},0)}else f=[r];p.push(f),g=S+l,m=C}else f.push(r),g+=m+S,m=C}return d=l?function(R,q){return(q?x:"")+R.join(" ")}:function(R){return R.join(" ")},p.map(d)},Ta.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,d=[];for(a=0,l=r.length;a<l;a++)d=d.concat(k5.apply(this,[r[a],o,s]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var g,m,S,b,C=["{"];for(var x in p){if(g=p[x],isNaN(parseInt(x,10))?m="'"+x+"'":(x=parseInt(x,10),m=(m=s(x).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof g=="number")g<0?(S=s(g).slice(3),b="-"):(S=s(g).slice(2),b=""),S=b+S.slice(0,-1)+r[S.slice(-1)];else{if(Tt(g)!=="object")throw new Error("Don't know what to do with value type "+Tt(g)+".");S=o(g)}C.push(m+S)}return C.push("}"),C.join("")},a=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,S,b,C={},x=1,w=C,N=[],R="",q="",W=p.length-1,B=1;B<W;B+=1)(b=p[B])=="'"?g?(S=g.join(""),g=void 0):g=[]:g?g.push(b):b=="{"?(N.push([w,S]),w={},S=void 0):b=="}"?((m=N.pop())[0][m[1]]=w,S=void 0,w=m[0]):b=="-"?x=-1:S===void 0?n.hasOwnProperty(b)?(R+=n[b],S=parseInt(R,16)*x,x=1,R=""):R+=b:n.hasOwnProperty(b)?(q+=n[b],w[S]=parseInt(q,16)*x,x=1,S=void 0,q=""):q+=b;return C},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var g=p.font,m=f.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var S=d.Unicode[g.postScriptName];S&&(g.metadata.Unicode.encoding=S,g.encoding=S.codePages[0])}])}(rt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Bc(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(rt),function(e){function t(){return(at.canvg?Promise.resolve(at.canvg):zc(()=>import("./index.es-b1d3fe46.js"),["assets/index.es-b1d3fe46.js","assets/supabaseClient-54ee3b77.js","assets/preload-helper-8235fac6.js","assets/creations-4ab0b6d9.js"])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}rt.API.addSvgAsImage=function(n,r,i,s,o,a,l,d){if(isNaN(r)||isNaN(i))throw Bt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Bt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=o;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(S){return S.fromString(p,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(g)}).then(function(){m.addImage(f.toDataURL("image/jpeg",1),r,i,s,o,l,d)})}}(),rt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},rt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],d=0,f=0,p=0;function g(S,b){var C,x=!1;for(C=0;C<S.length;C+=1)S[C]===b&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=a.length;for(p=0;p<m;p+=1)n[a[p]].value=n[a[p]].defaultValue,n[a[p]].explicitSet=!1}if(Tt(e)==="object"){for(i in e)if(s=e[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")l.push(String(s[d]-1));else if(s[d].length>1){for(f=0;f<s[d].length;f+=1)typeof s[d][f]!="number"&&(r=!1);r===!0&&l.push([s[d][0]-1,s[d][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,b=[];for(S in n)n[S].explicitSet===!0&&(n[S].type==="name"?b.push("/"+S+" /"+n[S].value):b.push("/"+S+" "+n[S].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(rt.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],p=0,g=s.length;p<g;++p){if(a=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(p),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(d[4-a.length],a)}return f.join("")},r=function(s){var o,a,l,d,f,p,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(a=Object.keys(s).sort(function(m,S){return m-S})).length;p<g;p++)o=a[p],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+d+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,d=o.newObject,f=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",S=0;S<g.length;S++)m+=String.fromCharCode(g[S]);var b=d();f({data:m,addLength1:!0,objectId:b}),l("endobj");var C=d();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:C}),l("endobj");var x=d();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ra(a.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var w=d();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ra(a.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+e.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=d(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+C+" 0 R"),l("/BaseFont /"+Ra(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,d=o.newObject,f=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var S=d();f({data:g,addLength1:!0,objectId:S}),l("endobj");var b=d();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var C=d();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+S+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Ra(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=d();for(var x=0;x<a.metadata.hmtx.widths.length;x++)a.metadata.hmtx.widths[x]=parseInt(a.metadata.hmtx.widths[x]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Ra(a.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,d=s.y,f=s.options||{},p=s.mutex||{},g=p.pdfEscape,m=p.activeFontKey,S=p.fonts,b=m,C="",x=0,w="",N=S[b].encoding;if(S[b].encoding!=="Identity-H")return{text:a,x:l,y:d,options:f,mutex:p};for(w=a,b=m,Array.isArray(a)&&(w=a[0]),x=0;x<w.length;x+=1)S[b].metadata.hasOwnProperty("cmap")&&(o=S[b].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),o||w[x].charCodeAt(0)<256&&S[b].metadata.hasOwnProperty("Unicode")?C+=w[x]:C+="";var R="";return parseInt(b.slice(1))<14||N==="WinAnsiEncoding"?R=g(C,b).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(R=n(C,S[b])),p.isHex=!0,{text:R,x:l,y:d,options:f,mutex:p}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?a.push([i(Object.assign({},l,{text:o[d][0]})).text,o[d][1],o[d][2]]):a.push(i(Object.assign({},l,{text:o[d]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(rt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(rt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,a,l,d,f,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,N=0;this.__bidiEngine__={};var R=function(I){var L=I.charCodeAt(),Y=L>>8,V=b[Y];return V!==void 0?p[256*V+(255&L)]:Y===252||Y===253?"AL":x.test(Y)?"L":Y===8?"R":"N"},q=function(I){for(var L,Y=0;Y<I.length;Y++){if((L=R(I.charAt(Y)))==="L")return!1;if(L==="R")return!0}return!1},W=function(I,L,Y,V){var ae,ce,le,H,re=L[V];switch(re){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(re="AN");break;case"AL":w=!0,re="R";break;case"WS":re="N";break;case"CS":V<1||V+1>=L.length||(ae=Y[V-1])!=="EN"&&ae!=="AN"||(ce=L[V+1])!=="EN"&&ce!=="AN"?re="N":w&&(ce="AN"),re=ce===ae?ce:"N";break;case"ES":re=(ae=V>0?Y[V-1]:"B")==="EN"&&V+1<L.length&&L[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&Y[V-1]==="EN"){re="EN";break}if(w){re="N";break}for(le=V+1,H=L.length;le<H&&L[le]==="ET";)le++;re=le<H&&L[le]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(H=L.length,le=V+1;le<H&&L[le]==="NSM";)le++;if(le<H){var J=I[V],me=J>=1425&&J<=2303||J===64286;if(ae=L[le],me&&(ae==="R"||ae==="AL")){re="R";break}}}re=V<1||(ae=L[V-1])==="B"?"N":Y[V-1];break;case"B":w=!1,i=!0,re=N;break;case"S":s=!0,re="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":re="N"}return re},B=function(I,L,Y){var V=I.split("");return Y&&F(V,Y,{hiLevel:N}),V.reverse(),L&&L.reverse(),V.join("")},F=function(I,L,Y){var V,ae,ce,le,H,re=-1,J=I.length,me=0,A=[],O=N?m:g,z=[];for(w=!1,i=!1,s=!1,ae=0;ae<J;ae++)z[ae]=R(I[ae]);for(ce=0;ce<J;ce++){if(H=me,A[ce]=W(I,z,A,ce),V=240&(me=O[H][S[A[ce]]]),me&=15,L[ce]=le=O[me][5],V>0)if(V===16){for(ae=re;ae<ce;ae++)L[ae]=1;re=-1}else re=-1;if(O[me][6])re===-1&&(re=ce);else if(re>-1){for(ae=re;ae<ce;ae++)L[ae]=le;re=-1}z[ce]==="B"&&(L[ce]=0),Y.hiLevel|=le}s&&function(G,Z,se){for(var he=0;he<se;he++)if(G[he]==="S"){Z[he]=N;for(var de=he-1;de>=0&&G[de]==="WS";de--)Z[de]=N}}(z,L,J)},Q=function(I,L,Y,V,ae){if(!(ae.hiLevel<I)){if(I===1&&N===1&&!i)return L.reverse(),void(Y&&Y.reverse());for(var ce,le,H,re,J=L.length,me=0;me<J;){if(V[me]>=I){for(H=me+1;H<J&&V[H]>=I;)H++;for(re=me,le=H-1;re<le;re++,le--)ce=L[re],L[re]=L[le],L[le]=ce,Y&&(ce=Y[re],Y[re]=Y[le],Y[le]=ce);me=H}me++}}},X=function(I,L,Y){var V=I.split(""),ae={hiLevel:N};return Y||(Y=[]),F(V,Y,ae),function(ce,le,H){if(H.hiLevel!==0&&f)for(var re,J=0;J<ce.length;J++)le[J]===1&&(re=C.indexOf(ce[J]))>=0&&(ce[J]=C[re+1])}(V,Y,ae),Q(2,V,L,Y,ae),Q(1,V,L,Y,ae),V.join("")};return this.__bidiEngine__.doBidiReorder=function(I,L,Y){if(function(ae,ce){if(ce)for(var le=0;le<ae.length;le++)ce[le]=le;a===void 0&&(a=q(ae)),d===void 0&&(d=q(ae))}(I,L),o||!l||d)if(o&&l&&a^d)N=a?1:0,I=B(I,L,Y);else if(!o&&l&&d)N=a?1:0,I=X(I,L,Y),I=B(I,L);else if(!o||a||l||d){if(o&&!l&&a^d)I=B(I,L),a?(N=0,I=X(I,L,Y)):(N=1,I=X(I,L,Y),I=B(I,L));else if(o&&a&&!l&&d)N=1,I=X(I,L,Y),I=B(I,L);else if(!o&&!l&&a^d){var V=f;a?(N=1,I=X(I,L,Y),N=0,f=!1,I=X(I,L,Y),f=V):(N=0,I=X(I,L,Y),I=B(I,L),N=1,f=!1,I=X(I,L,Y),f=V,I=B(I,L))}}else N=0,I=X(I,L,Y);else N=a?1:0,I=X(I,L,Y);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,l=I.isOutputVisual,a=I.isInputRtl,d=I.isOutputRtl,f=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(rt),rt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new xo(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new VP(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new LP(this.contents),this.head=new EP(this),this.name=new DP(this),this.cmap=new fb(this),this.toUnicode={},this.hhea=new TP(this),this.maxp=new MP(this),this.hmtx=new OP(this),this.post=new IP(this),this.os2=new FP(this),this.loca=new UP(this),this.glyf=new BP(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,d;for(d=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Di,xo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),LP=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,a,l,d,f,p,g,m,S,b;for(b in m=Object.keys(n).length,l=Math.log(2),p=16*Math.floor(Math.log(m)/l),o=Math.floor(p/l),f=16*m-p,(i=new xo).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(o),i.writeShort(f),s=16*m,d=i.pos+s,a=null,S=[],n)for(g=n[b],i.writeString(b),i.writeInt(e(g)),i.writeInt(d),i.writeInt(g.length),S=S.concat(g),b==="head"&&(a=d),d+=g.length;d%4;)S.push(0),d++;return i.write(S),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=pb.call(n);n.length%4;)n.push(0);for(s=new xo(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),_P={}.hasOwnProperty,ns=function(e,t){for(var n in t)_P.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Di=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var EP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ns(t,Di),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new xo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),_5=function(){function e(t,n){var r,i,s,o,a,l,d,f,p,g,m,S,b,C,x,w,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(m=t.readUInt16(),g=m/2,t.pos+=6,s=function(){var R,q;for(q=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)q.push(t.readUInt16());return q}(),t.pos+=2,b=function(){var R,q;for(q=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)q.push(t.readUInt16());return q}(),d=function(){var R,q;for(q=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)q.push(t.readUInt16());return q}(),f=function(){var R,q;for(q=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)q.push(t.readUInt16());return q}(),i=(this.length-t.pos+this.offset)/2,a=function(){var R,q;for(q=[],l=R=0;0<=i?R<i:R>i;l=0<=i?++R:--R)q.push(t.readUInt16());return q}(),l=x=0,N=s.length;x<N;l=++x)for(C=s[l],r=w=S=b[l];S<=C?w<=C:w>=C;r=S<=C?++w:--w)f[l]===0?o=r+d[l]:(o=a[f[l]/2+(r-S)-(g-l)]||0)!==0&&(o+=d[l]),this.codeMap[r]=65535&o}t.pos=p}return e.encode=function(t,n){var r,i,s,o,a,l,d,f,p,g,m,S,b,C,x,w,N,R,q,W,B,F,Q,X,I,L,Y,V,ae,ce,le,H,re,J,me,A,O,z,G,Z,se,he,de,xe,we,Te;switch(V=new xo,o=Object.keys(t).sort(function(Le,et){return Le-et}),n){case"macroman":for(b=0,C=function(){var Le=[];for(S=0;S<256;++S)Le.push(0);return Le}(),w={0:0},s={},ae=0,re=o.length;ae<re;ae++)w[de=t[i=o[ae]]]==null&&(w[de]=++b),s[i]={old:t[i],new:w[t[i]]},C[i]=w[t[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(C),{charMap:s,subtable:V.data,maxGlyphID:b+1};case"unicode":for(L=[],p=[],N=0,w={},r={},x=d=null,ce=0,J=o.length;ce<J;ce++)w[q=t[i=o[ce]]]==null&&(w[q]=++N),r[i]={old:q,new:w[q]},a=w[q]-i,x!=null&&a===d||(x&&p.push(x),L.push(i),d=a),x=i;for(x&&p.push(x),p.push(65535),L.push(65535),X=2*(Q=L.length),F=2*Math.pow(Math.log(Q)/Math.LN2,2),g=Math.log(F/2)/Math.LN2,B=2*Q-F,l=[],W=[],m=[],S=le=0,me=L.length;le<me;S=++le){if(I=L[S],f=p[S],I===65535){l.push(0),W.push(0);break}if(I-(Y=r[I].new)>=32768)for(l.push(0),W.push(2*(m.length+Q-S)),i=H=I;I<=f?H<=f:H>=f;i=I<=f?++H:--H)m.push(r[i].new);else l.push(Y-I),W.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*Q+2*m.length),V.writeUInt16(0),V.writeUInt16(X),V.writeUInt16(F),V.writeUInt16(g),V.writeUInt16(B),se=0,A=p.length;se<A;se++)i=p[se],V.writeUInt16(i);for(V.writeUInt16(0),he=0,O=L.length;he<O;he++)i=L[he],V.writeUInt16(i);for(xe=0,z=l.length;xe<z;xe++)a=l[xe],V.writeUInt16(a);for(we=0,G=W.length;we<G;we++)R=W[we],V.writeUInt16(R);for(Te=0,Z=m.length;Te<Z;Te++)b=m[Te],V.writeUInt16(b);return{charMap:r,subtable:V.data,maxGlyphID:N+1}}},e}(),fb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ns(t,Di),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new _5(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=_5.encode(n,r),(s=new xo).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),TP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ns(t,Di),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),FP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ns(t,Di),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),IP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ns(t,Di),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,d;for(d=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)d.push(n.readUInt32());return d}).call(this)}},t}(),RP=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},DP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ns(t,Di),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,o,a,l,d,f,p,g,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(d={},o=p=0,g=i.length;p<g;o=++p)s=i[o],n.pos=s.offset,f=n.readString(s.length),a=new RP(f,s),d[m=s.nameID]==null&&(d[m]=[]),d[s.nameID].push(a);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),MP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ns(t,Di),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),OP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ns(t,Di),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,o,a,l,d;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)p.push(n.readInt16());return p}(),this.widths=(function(){var f,p,g,m;for(m=[],f=0,p=(g=this.metrics).length;f<p;f++)o=g[f],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],d=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)d.push(this.widths.push(i));return d},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),pb=[].slice,BP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ns(t,Di),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,o,a,l,d,f,p,g;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new xo(r.read(s))).readShort(),f=l.readShort(),g=l.readShort(),d=l.readShort(),p=l.readShort(),this.cache[n]=a===-1?new qP(l,f,g,d,p):new zP(l,a,f,g,d,p),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,o,a,l,d;for(a=[],o=[],l=0,d=r.length;l<d;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},t}(),zP=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),qP=function(){function e(t,n,r,i,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new xo(pb.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),UP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ns(t,Di),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],d=this.offsets[a+1]-l;d>0&&(s+=d)}for(var f=new Array(4*i.length),p=0;p<i.length;++p)f[4*p+3]=255&i[p],f[4*p+2]=(65280&i[p])>>8,f[4*p+1]=(16711680&i[p])>>16,f[4*p]=(4278190080&i[p])>>24;return f},t}(),VP=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,a,l,d,f,p,g,m,S,b,C,x;for(i in r=fb.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},x=r.charMap)m[(l=x[i]).old]=l.new;for(S in g=r.maxGlyphID,o)S in m||(m[S]=g++);return f=function(w){var N,R;for(N in R={},w)R[w[N]]=N;return R}(m),p=Object.keys(f).sort(function(w,N){return w-N}),b=function(){var w,N,R;for(R=[],w=0,N=p.length;w<N;w++)a=p[w],R.push(f[a]);return R}(),s=this.font.glyf.encode(o,b,m),d=this.font.loca.encode(s.offsets,b),C={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},e}();rt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,d;for(d=[],a=0,l=n.length;a<l;a++)r=n[a],d.push(t.convert(r));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();async function $P(e,t){try{const n={id:e,prenom:t.firstName,nom:t.lastName},{data:r,error:i}=await St.from("profiles").upsert(n,{onConflict:"id",returning:"representation"}).select().single();if(i)throw new Error(`Erreur mise  jour profil: ${i.message}`);return r}catch(n){throw n}}async function HP(e){var t,n,r,i;try{const{data:s,error:o}=await St.from("profiles").select("prenom, nom").eq("id",e.id).single(),a={id:e.id,email:e.email,prenom:(s==null?void 0:s.prenom)||((t=e.user_metadata)==null?void 0:t.firstName)||((n=e.user_metadata)==null?void 0:n.prenom)||null,nom:(s==null?void 0:s.nom)||((r=e.user_metadata)==null?void 0:r.lastName)||((i=e.user_metadata)==null?void 0:i.nom)||null,last_login:new Date().toISOString()},{data:l,error:d}=await St.from("profiles").upsert(a,{onConflict:"id",returning:"representation"}).select().single();if(d)throw new Error(`Erreur sync profil: ${d.message}`);return l}catch(s){throw s}}function ng(){const[e,t]=T.useState(null),[n,r]=T.useState(!0);return T.useEffect(()=>{const i=async()=>{try{const{data:{session:o}}=await St.auth.getSession();if(!(o!=null&&o.user)){t(null),r(!1);return}try{await HP(o.user)}catch{}const a=o.user.email.split("@")[0],l={id:o.user.id,email:o.user.email,firstName:a,lastName:"",name:a},{data:d,error:f}=await St.from("profiles").select("*").eq("id",o.user.id).single();if(d){const p={...l,firstName:d.prenom||l.firstName,lastName:d.nom||"",name:`${d.prenom||l.firstName} ${d.nom||""}`.trim(),profile:d};t(p)}else t(l)}catch{t(null)}finally{r(!1)}};i();const{data:{subscription:s}}=St.auth.onAuthStateChange(async(o,a)=>{o==="SIGNED_IN"?i():o==="SIGNED_OUT"&&(t(null),r(!1))});return()=>s==null?void 0:s.unsubscribe()},[]),{user:e,loading:n}}function E5(e){return e.includes("security purposes")&&e.includes("request this")||e.includes("only request this after")?"Pour des raisons de scurit, vous ne pouvez faire cette demande que toutes les 60 secondes.":e.includes("Invalid email")?"Adresse email invalide.":e.includes("User not found")?"Aucun compte trouv avec cette adresse email.":e.includes("Too many requests")?"Trop de tentatives. Veuillez ressayer dans quelques minutes.":e}async function WP({email:e}){try{const{error:t}=await St.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return t?{error:{message:E5(t.message)}}:{data:{message:"Email de rinitialisation envoy avec succs"}}}catch(t){return{error:{message:"Erreur lors de l'envoi de l'email de rinitialisation: "+E5(t.message)}}}}const ih=(e,t=null)=>{if(!e||!e.trim())return;const n=t?`email_history_${t}`:"email_history_guest",r=localStorage.getItem(n);let i=[];if(r)try{i=JSON.parse(r)}catch{}const s=[e,...i.filter(o=>o!==e)].slice(0,5);localStorage.setItem(n,JSON.stringify(s))},GP=e=>{const[t,n]=T.useState([]),[r,i]=T.useState(!1),[s,o]=T.useState([]);return T.useEffect(()=>{const f=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",p=localStorage.getItem(f);if(p)try{const g=JSON.parse(p);n(g)}catch{}},[e]),{showSuggestions:r,filteredEmails:s,saveEmail:f=>{if(!f||!f.trim())return;const p=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",g=[f,...t.filter(m=>m!==f)].slice(0,5);n(g),localStorage.setItem(p,JSON.stringify(g))},removeEmail:f=>{const p=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",g=t.filter(m=>m!==f);n(g),localStorage.setItem(p,JSON.stringify(g)),o(m=>m.filter(S=>S!==f))},filterEmails:f=>{if(!f||f.length<1){o([]),i(!1);return}const p=t.filter(g=>g.toLowerCase().startsWith(f.toLowerCase()));o(p),i(p.length>0)},hideSuggestions:()=>i(!1)}},el=({value:e,onChange:t,placeholder:n,required:r,disabled:i,user:s,onEmailSubmit:o})=>{const{showSuggestions:a,filteredEmails:l,saveEmail:d,removeEmail:f,filterEmails:p,hideSuggestions:g}=GP(s),[m,S]=T.useState(e||""),[b,C]=T.useState(-1),x=T.useRef(null),w=T.useRef(null);T.useEffect(()=>{S(e||"")},[e]),T.useEffect(()=>{const W=B=>{w.current&&!w.current.contains(B.target)&&(g(),C(-1))};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[g]);const N=W=>{const B=W.target.value;S(B),t(W),p(B),C(-1)},R=W=>{var B;S(W),t({target:{value:W}}),g(),C(-1),(B=x.current)==null||B.focus()},q=W=>{if(!a||l.length===0){W.key==="Enter"&&o&&(d(m),o());return}switch(W.key){case"ArrowDown":W.preventDefault(),C(B=>B<l.length-1?B+1:B);break;case"ArrowUp":W.preventDefault(),C(B=>B>0?B-1:-1);break;case"Enter":W.preventDefault(),b>=0&&b<l.length?R(l[b]):o&&(d(m),o());break;case"Escape":g(),C(-1);break}};return c.jsxs("div",{className:"email-input-container",ref:w,children:[c.jsx("input",{ref:x,type:"email",value:m,onChange:N,onKeyDown:q,placeholder:n,required:r,disabled:i,autoComplete:"off"}),a&&l.length>0&&c.jsx("div",{className:"email-suggestions google-style",children:l.map((W,B)=>c.jsxs("div",{className:`email-suggestion-item ${B===b?"selected":""}`,onMouseEnter:()=>C(B),children:[c.jsx("div",{className:"email-suggestion-content",onClick:()=>R(W),children:W}),c.jsx("button",{type:"button",className:"email-suggestion-remove",onClick:F=>{F.stopPropagation(),f(W)},onMouseEnter:F=>F.stopPropagation(),title:"Supprimer cet email",children:""})]},B))})]})},KP=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,onOpenSubscription:s})=>{var Re,De,Me,$e,it;const[o,a]=T.useState(!1),[l,d]=T.useState(!1),[f,p]=T.useState(!1),[g,m]=T.useState(!1),[S,b]=T.useState(""),[C,x]=T.useState(""),[w,N]=T.useState(""),[R,q]=T.useState(""),[W,B]=T.useState(""),[F,Q]=T.useState(!1),{user:X,loading:I}=ng(),L=!!X&&!I,Y=T.useRef(null),[V,ae]=T.useState(""),[ce,le]=T.useState(""),[H,re]=T.useState("");T.useState(!1),T.useState("");const[J,me]=T.useState(!1),[A,O]=T.useState(!1),[z,G]=T.useState(""),[Z,se]=T.useState(!1),[he,de]=T.useState(!1),[xe,we]=T.useState(!1),[Te,Le]=T.useState(!1);T.useEffect(()=>{(async()=>{if(!X||!X.id){de(!1);return}try{const{data:qe,error:Xe}=await St.from("profiles").select("role").eq("id",X.id).single();if(Xe){de(!1);return}const yt=(qe==null?void 0:qe.role)==="admin"||(qe==null?void 0:qe.role)==="super_admin";de(yt)}catch{de(!1)}})()},[X]);const et=()=>he,ve=async _e=>{_e.preventDefault(),B(""),Q(!0);try{const{data:qe,error:Xe}=await St.auth.signInWithPassword({email:S.trim(),password:C.trim()});if(Xe){B(Xe.message==="Invalid login credentials"?"Email ou mot de passe incorrect":Xe.message);return}qe!=null&&qe.user&&(ih(S.trim()),d(!1),a(!1),b(""),x(""),t&&t(qe.user))}catch{B("Erreur de connexion. Vrifiez vos identifiants.")}finally{Q(!1)}},K=async _e=>{_e.preventDefault(),B(""),Q(!0);try{const{data:qe,error:Xe}=await St.auth.signUp({email:S.trim(),password:C.trim(),options:{data:{firstName:w.trim(),lastName:R.trim(),name:`${w.trim()} ${R.trim()}`}}});if(Xe){B(Xe.message==="User already registered"?"Un compte existe dj avec cet email":Xe.message);return}qe!=null&&qe.user&&(ih(S.trim()),qe.session?(p(!1),a(!1),b(""),x(""),N(""),q(""),r&&r(qe.user)):B("Un email de confirmation a t envoy. Vrifiez votre bote mail."))}catch{B("Erreur d'inscription. Ressayez plus tard.")}finally{Q(!1)}},Ye=async()=>{try{const{error:_e}=await St.auth.signOut();if(_e){B("Erreur lors de la dconnexion");return}a(!1),m(!1),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userFirstName"),localStorage.removeItem("userLastName"),localStorage.removeItem("friday_supabase_user"),n&&n(),window.location.reload()}catch{B("Erreur lors de la dconnexion")}},Ge=async _e=>{_e.preventDefault(),B(""),se(!0),B(""),ih(z.trim());try{const{data:qe,error:Xe}=await WP({email:z.trim()});if(Xe){se(!1),B(Xe.message||"Erreur lors de l'envoi de l'email");return}}catch{se(!1),B("Erreur lors de l'envoi de l'email de rinitialisation")}},Pe=async()=>{if(!(!X||!X.id))try{const{data:_e,error:qe}=await St.from("profiles").select("*").eq("id",X.id).single();!qe&&_e&&(re(_e.email||X.email||""),ae(_e.prenom||""),le(_e.nom||""))}catch{}};return T.useEffect(()=>{var _e,qe;X&&(re(X.email||""),ae(X.firstName||((_e=X.user_metadata)==null?void 0:_e.firstName)||""),le(X.lastName||((qe=X.user_metadata)==null?void 0:qe.lastName)||""))},[X]),T.useEffect(()=>{const _e=qe=>{Y.current&&!Y.current.contains(qe.target)&&(a(!1),d(!1),p(!1),m(!1),O(!1),B(""))};return document.addEventListener("mousedown",_e),()=>{document.removeEventListener("mousedown",_e)}},[]),I?c.jsx("div",{className:"user-account",ref:Y,children:c.jsx("div",{className:"user-avatar",children:c.jsx("span",{children:""})})}):c.jsx("div",{className:"user-account",ref:Y,children:L?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-avatar",onClick:()=>a(!o),children:c.jsx("span",{className:"user-initial",children:((De=(Re=X==null?void 0:X.firstName)==null?void 0:Re.charAt(0))==null?void 0:De.toUpperCase())||(($e=(Me=X==null?void 0:X.email)==null?void 0:Me.charAt(0))==null?void 0:$e.toUpperCase())||""})}),c.jsx(pi,{children:o&&c.jsxs(Ie.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[c.jsxs("div",{className:"user-info",children:[c.jsx("div",{className:"user-name",children:(X==null?void 0:X.firstName)||(X==null?void 0:X.name)||((it=X==null?void 0:X.email)==null?void 0:it.split("@")[0])}),c.jsx("div",{className:"user-email",children:X==null?void 0:X.email})]}),c.jsxs("div",{className:"dropdown-actions",children:[et()&&c.jsx("button",{onClick:()=>{window.open("/ilmysv6iepwepoa4tj2k?auth=auto","_blank")},children:" Administration"}),c.jsx("button",{onClick:()=>{a(!1),m(!0)},children:"Mon profil"}),c.jsx("button",{onClick:()=>{a(!1),i&&i()},children:"Mon historique"}),c.jsx("button",{onClick:()=>{a(!1),s&&s()},children:"Mon abonnement"}),c.jsx("button",{onClick:Ye,className:"logout-button",children:"Se dconnecter"})]})]})}),c.jsx(pi,{children:g&&c.jsx(Ie.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>m(!1),children:c.jsxs(Ie.div,{className:"auth-form profile-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:_e=>_e.stopPropagation(),children:[c.jsx("h3",{children:"Mon profil"}),c.jsxs("form",{onSubmit:async _e=>{_e.preventDefault(),B("");try{await $P(X.id,{firstName:V.trim(),lastName:ce.trim()}),await Pe(),me(!0),setTimeout(()=>me(!1),3e3)}catch(qe){console.error("Erreur mise  jour profil:",qe),B("Erreur lors de la mise  jour du profil")}},children:[c.jsx(el,{value:H,onChange:_e=>re(_e.target.value),placeholder:"Email",disabled:!0,user:X,onEmailSubmit:()=>{}}),c.jsx("input",{type:"text",placeholder:"Prnom",value:V,onChange:_e=>ae(_e.target.value)}),c.jsx("input",{type:"text",placeholder:"Nom",value:ce,onChange:_e=>le(_e.target.value)}),W&&c.jsx("div",{className:"error-message",children:W}),J&&c.jsx("div",{className:"success-message",children:"Profil mis  jour avec succs !"}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>m(!1),children:"Fermer"}),c.jsx("button",{type:"submit",children:"Mettre  jour"})]})]})]})})})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-avatar",onClick:()=>a(!o),children:c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),c.jsx("path",{d:"M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),c.jsx(pi,{children:o&&c.jsx(Ie.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:c.jsxs("div",{className:"dropdown-actions",children:[c.jsx("button",{onClick:()=>{a(!1),d(!0),B("")},children:"Se connecter"}),c.jsx("button",{onClick:()=>{a(!1),p(!0),B("")},children:"Crer un compte"})]})})}),c.jsxs(pi,{children:[l&&c.jsx(Ie.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>d(!1),children:c.jsxs(Ie.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:_e=>_e.stopPropagation(),children:[c.jsx("h3",{children:"Connexion"}),c.jsxs("form",{onSubmit:ve,children:[c.jsx(el,{value:S,onChange:_e=>b(_e.target.value),placeholder:"Email",required:!0,disabled:F,user:null,onEmailSubmit:()=>{}}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:xe?"text":"password",placeholder:"Mot de passe",value:C,onChange:_e=>x(_e.target.value),required:!0,disabled:F,className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>we(!xe),disabled:F,"aria-label":xe?"Masquer le mot de passe":"Afficher le mot de passe",children:xe?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),W&&c.jsx("div",{className:"error-message",children:W}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{d(!1),p(!0),B("")},disabled:F,children:"Crer un compte"}),c.jsx("button",{type:"submit",disabled:F,children:F?"Connexion...":"Se connecter"})]}),c.jsx("button",{type:"button",className:"forgot-password-link",onClick:()=>{d(!1),O(!0),B("")},disabled:F,children:"Mot de passe oubli ?"})]})]})}),f&&c.jsx(Ie.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>p(!1),children:c.jsxs(Ie.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:_e=>_e.stopPropagation(),children:[c.jsx("h3",{children:"Crer un compte"}),c.jsxs("form",{onSubmit:K,children:[c.jsx("input",{type:"text",placeholder:"Prnom",value:w,onChange:_e=>N(_e.target.value),required:!0,disabled:F}),c.jsx("input",{type:"text",placeholder:"Nom",value:R,onChange:_e=>q(_e.target.value),required:!0,disabled:F}),c.jsx(el,{value:S,onChange:_e=>b(_e.target.value),placeholder:"Email",required:!0,disabled:F,user:null,onEmailSubmit:()=>{}}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:Te?"text":"password",placeholder:"Mot de passe (min 6 caractres)",value:C,onChange:_e=>x(_e.target.value),required:!0,minLength:6,disabled:F,className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>Le(!Te),disabled:F,"aria-label":Te?"Masquer le mot de passe":"Afficher le mot de passe",children:Te?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),W&&c.jsx("div",{className:"error-message",children:W}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{p(!1),d(!0),B("")},disabled:F,children:"Dj un compte ?"}),c.jsx("button",{type:"submit",disabled:F,children:F?"Cration...":"Crer le compte"})]})]})]})}),A&&c.jsx(Ie.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>O(!1),children:c.jsxs(Ie.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:_e=>_e.stopPropagation(),children:[c.jsx("h3",{children:"Rinitialiser le mot de passe"}),Z?c.jsxs("div",{className:"success-message",children:[c.jsxs("p",{children:["Un email de rinitialisation a t envoy  ",z]}),c.jsx("button",{onClick:()=>{O(!1),d(!0),se(!1),G("")},children:"Retour  la connexion"})]}):c.jsxs("form",{onSubmit:Ge,children:[c.jsx(el,{value:z,onChange:_e=>G(_e.target.value),placeholder:"Votre email",required:!0,user:null,onEmailSubmit:()=>{}}),W&&c.jsx("div",{className:"error-message",children:W}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{O(!1),d(!0),B("")},children:"Retour  la connexion"}),c.jsx("button",{type:"submit",children:"Envoyer le lien"})]})]})]})})]})]})})},YP=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,userId:s,onOpenSubscription:o})=>c.jsxs("header",{className:"header",children:[c.jsxs("div",{className:"header-content",children:[c.jsx(Ie.div,{className:"logo",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:c.jsx("h1",{children:"HERBBIE"})}),c.jsx(Ie.h2,{className:"tagline",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:"Offrez  vos enfants des crations ludiques et imaginatives personnalises !"})]}),c.jsx("div",{className:"user-account-container",children:c.jsx(KP,{isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,onOpenSubscription:o})})]});const JP="/api/features";let zh=null,rg=0;const XP=3e3,QP={animation:{enabled:!0,name:"Dessin anim",icon:"",description:"Gnration de dessins anims personnaliss avec IA"},comic:{enabled:!0,name:"Bande dessine",icon:"",description:"Cration de bandes dessines avec bulles de dialogue"},coloring:{enabled:!0,name:"Coloriage",icon:"",description:"Pages de coloriage  imprimer pour les enfants"},histoire:{enabled:!0,name:"Histoire",icon:"",description:"Histoires avec possibilit d'ajouter une narration audio"},audio:{enabled:!0,name:"Histoire",icon:"",description:"Histoires avec possibilit d'ajouter une narration audio"},rhyme:{enabled:!0,name:"Comptine",icon:"",description:"Comptines musicales avec paroles et mlodies"}},mb=async()=>{try{const e=await fetch(JP,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();return zh=t,rg=Date.now(),t}else throw console.error("Erreur API lors du chargement des fonctionnalits:",e.status),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors du chargement depuis l'API:",e),e}},ZP=async()=>{try{const e=Date.now();return zh&&e-rg<XP?zh:await mb()}catch(e){return console.error("Erreur lors de la rcupration des fonctionnalits:",e),QP}},eL=async()=>{try{const e=await ZP();return Object.entries(e).filter(([t,n])=>n.enabled).reduce((t,[n,r])=>(t[n]=r,t),{})}catch(e){return console.warn("Erreur lors de la rcupration des fonctionnalits actives:",e),{}}},tL=()=>{zh=null,rg=0},nL=e=>{let t=null;const n=async()=>{try{tL();const i=await mb();JSON.stringify(i)!==JSON.stringify(t)&&e&&typeof e=="function"&&(t=i,e(i))}catch(i){console.error("Erreur lors de la vrification des changements:",i)}},r=setInterval(n,5e3);return n(),()=>{clearInterval(r)}},rL=({contentType:e,setContentType:t})=>{const[n,r]=T.useState({}),[i,s]=T.useState(!0);T.useEffect(()=>(o(),nL(async f=>{const p=Object.entries(f).filter(([g,m])=>m.enabled).reduce((g,[m,S])=>(g[m]=S,g),{});if(r(p),!p[e]&&e!=="animation"){const g=Object.keys(p).find(m=>p[m].enabled);g&&t(g==="audio"?"histoire":g)}})),[e,t]);const o=async()=>{try{s(!0);const d=await eL();e==="audio"&&t("histoire"),r(d)}catch(d){console.error("Erreur lors du chargement des fonctionnalits:",d)}finally{s(!1)}},a=d=>{t(d)},l=Object.keys(n).length>0;return i?c.jsxs("div",{className:"content-type-selector",children:[c.jsx("h3",{children:"1. Choisissez le type de contenu"}),c.jsx("div",{className:"loading-message",children:c.jsx("p",{children:"Chargement des fonctionnalits..."})})]}):c.jsxs("div",{className:"content-type-selector",children:[c.jsx("h3",{children:"1. Choisissez le type de contenu"}),l?c.jsxs("div",{className:"content-type-options",children:[n.animation&&c.jsxs(Ie.div,{className:`content-type-option animation-full-width ${e==="animation"?"selected":""}`,onClick:()=>a("animation"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Dessin anim"}),c.jsx("p",{children:"Crez un vritable dessin anim fluide et cohrent avec l'IA"})]})]}),n.comic&&c.jsxs(Ie.div,{className:`content-type-option ${e==="comic"?"selected":""}`,onClick:()=>a("comic"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Bande dessine"}),c.jsx("p",{children:"Crez une vraie BD avec histoire cohrente et bulles de dialogue"})]})]}),n.coloring&&c.jsxs(Ie.div,{className:`content-type-option ${e==="coloring"?"selected":""}`,onClick:()=>a("coloring"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Coloriage"}),c.jsx("p",{children:"Crez des dessins  colorier personnaliss en noir et blanc"})]})]}),(n.histoire||n.audio)&&c.jsxs(Ie.div,{className:`content-type-option ${e==="histoire"?"selected":""}`,onClick:()=>a("histoire"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Histoire"}),c.jsx("p",{children:"Crez une histoire avec possibilit d'ajouter une narration audio"})]})]}),n.rhyme&&c.jsxs(Ie.div,{className:`content-type-option ${e==="rhyme"?"selected":""}`,onClick:()=>a("rhyme"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Comptine"}),c.jsx("p",{children:"Crez une comptine musicale avec paroles et mlodie"})]})]})]}):c.jsx("div",{className:"no-features-message",children:c.jsx("p",{children:"Aucune fonctionnalit n'est actuellement disponible."})})]})};const iL=[{id:"lullaby",title:"Berceuse douce",description:"Mlodie apaisante pour s'endormir",emoji:"",musicStyle:"gentle lullaby"},{id:"animal",title:"Comptine animalire",description:"Animaux et leurs sons en musique",emoji:"",musicStyle:"playful with animal sounds"},{id:"counting",title:"Comptine  compter",description:"Apprendre les chiffres en chanson",emoji:"",musicStyle:"upbeat educational"},{id:"colors",title:"Comptine des couleurs",description:"Dcouvrir les couleurs en musique",emoji:"",musicStyle:"cheerful and colorful"},{id:"alphabet",title:"Comptine de l'alphabet",description:"Apprendre les lettres en chantant",emoji:"",musicStyle:"educational and catchy"},{id:"family",title:"Comptine familiale",description:"Chanson sur la famille et l'amour",emoji:"",musicStyle:"warm and loving"},{id:"nature",title:"Comptine de la nature",description:"Explorer plantes, arbres et fleurs",emoji:"",musicStyle:"peaceful and natural"},{id:"seasonal",title:"Comptine saisonnire",description:"Clbrer saisons et merveilles",emoji:"",musicStyle:"festive and warm"},{id:"movement",title:"Comptine de mouvement",description:"Bouger, sauter et danser",emoji:"",musicStyle:"energetic dance rhythm"},{id:"emotions",title:"Comptine des motions",description:"Comprendre et exprimer sentiments",emoji:"",musicStyle:"expressive and gentle"},{id:"shapes",title:"Comptine des formes",description:"Apprendre les formes gomtriques",emoji:"",musicStyle:"playful educational"}],sL=({selectedRhyme:e,setSelectedRhyme:t,customRhyme:n,setCustomRhyme:r})=>{const i=s=>{t(e===s?"":s)};return c.jsxs("div",{className:"musical-rhyme-selector",children:[c.jsx("h3",{children:"2. Choisissez un type de comptine"}),c.jsxs("div",{className:"rhyme-grid",children:[c.jsxs("div",{className:"rhyme-slot",children:[c.jsxs(Ie.div,{className:`rhyme-card custom-rhyme ${e==="custom"?"selected":""}`,onClick:()=>i("custom"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"rhyme-emoji",children:""}),c.jsx("h4",{children:"Personnalis"}),c.jsx("p",{children:"Comptine avec prnom ou thme perso"})]}),e==="custom"&&c.jsx(Ie.div,{className:"custom-rhyme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{id:"customRhyme",value:n,onChange:s=>r(s.target.value),placeholder:"Dcrivez votre type de comptine personnalise...",className:"custom-textarea"})})]}),iL.map(s=>c.jsx("div",{className:"rhyme-slot",children:c.jsxs(Ie.div,{className:`rhyme-card ${e===s.id?"selected":""}`,onClick:()=>i(s.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"rhyme-emoji",children:s.emoji}),c.jsx("h4",{children:s.title}),c.jsx("p",{children:s.description})]})},s.id))]})]})};const oL=[{id:"magic",title:"Monde magique",description:"Fes, sorciers, cratures enchantes",emoji:""},{id:"dinosaurs",title:"Temps des dinosaures",description:"Dinosaures gentils, voyages dans le temps",emoji:""},{id:"space",title:"Voyage spatial",description:"Plantes, fuses, aliens sympathiques",emoji:""},{id:"adventure",title:"Aventure fantastique",description:"Rebondissements, magie, dcouvertes",emoji:""},{id:"animals",title:"Amis animaux",description:"Animaux qui parlent, aventures sauvages",emoji:""},{id:"underwater",title:"Monde sous-marin",description:"Ocans, cratures marines, trsors",emoji:""},{id:"forest",title:"Fort enchante",description:"Fort mystrieuse, surprises magiques",emoji:""},{id:"funny",title:"Histoire drle",description:"Contes amusants, rires garantis",emoji:""},{id:"mystery",title:"Petit mystre",description:"nigmes pour enfants, investigations",emoji:""},{id:"friendship",title:"Belle amiti",description:"Histoire sur l'amiti, entraide",emoji:""},{id:"learning",title:"Conte ducatif",description:"Leons importantes, apprentissage",emoji:""},{id:"bedtime",title:"Histoire du soir",description:"Contes apaisants, sommeil doux",emoji:""},{id:"robots",title:"Robots amis",description:"Robots gentils, inventions magiques",emoji:""},{id:"pirates",title:"Pirates courageux",description:"Bateaux pirates, trsors cachs",emoji:""}],aL=[{id:"female",name:"Voix fminine"},{id:"male",name:"Voix masculine"}],lL=({selectedAudioStory:e,setSelectedAudioStory:t,customAudioStory:n,setCustomAudioStory:r,selectedVoice:i,setSelectedVoice:s})=>{const[o,a]=T.useState(!1),l=m=>{e===m?(t(""),a(!1)):(t(m),m!=="custom"&&a(!1))},d=()=>{e==="custom"?(t(""),a(!1)):(t("custom"),a(!0))},f=[{id:"custom",title:"Personnalis",description:"Crez votre propre type d'histoire unique",emoji:"",isCustom:!0},...oL],p=m=>{r(m.target.value)},g=m=>{s(i===m?null:m)};return c.jsxs("div",{className:"audio-story-selector",children:[c.jsx("h3",{children:"2. Choisissez un type d'histoire"}),c.jsx("div",{className:"audio-story-grid",children:f.map(m=>c.jsxs("div",{className:"audio-story-slot",children:[c.jsxs(Ie.div,{className:`audio-story-card ${m.isCustom?"custom-audio-story":""} ${e===m.id?"selected":""}`,onClick:()=>m.isCustom?d():l(m.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"audio-story-emoji",children:m.emoji}),c.jsx("h4",{children:m.title}),c.jsx("p",{children:m.description})]}),m.isCustom&&o&&e==="custom"&&c.jsx(Ie.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx(Ie.textarea,{id:"customAudioStory",value:n,onChange:p,placeholder:"Ex: Un conte qui se droule dans un monde sous-marin avec des cratures magiques...",className:"custom-input",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})})]},m.id))}),c.jsxs("div",{className:"voice-selector-section",children:[c.jsx("h3",{children:"3. Choisissez une narration (optionnel)"}),c.jsx("div",{className:"voice-options",children:aL.map(m=>c.jsxs(Ie.div,{className:`voice-option ${i===m.id?"selected":""}`,onClick:()=>g(m.id),whileHover:{scale:1.03},whileTap:{scale:.98},children:[c.jsx("div",{className:"voice-icon",children:m.id==="female"?"":""}),c.jsx("div",{className:"voice-details",children:c.jsx("h4",{children:m.name})})]},m.id))})]})]})};const cL=[{id:"space",title:"Aventure spatiale",description:"Une exploration de l'espace et des plantes lointaines",emoji:""},{id:"ocean",title:"Sous l'ocan",description:"Une aventure sous-marine avec des cratures fantastiques",emoji:""},{id:"dinosaur",title:"Monde des dinosaures",description:"Un voyage dans le temps  l'poque des dinosaures",emoji:""},{id:"fairy",title:"Conte de fes",description:"Une histoire magique avec des fes et des cratures enchantes",emoji:""},{id:"superhero",title:"Super-hros",description:"Une aventure o votre enfant devient un super-hros",emoji:""},{id:"jungle",title:"Aventure dans la jungle",description:"Une exploration de la jungle et ses animaux sauvages",emoji:""}],uL=({selectedStory:e,setSelectedStory:t,customStory:n,setCustomStory:r})=>{const[i,s]=T.useState(!1),o=d=>{t(d),d!=="custom"&&s(!1)},a=()=>{t("custom"),s(!0)},l=d=>{r(d.target.value)};return c.jsxs("div",{className:"story-selector",children:[c.jsx("h3",{children:"4. Choisissez un type d'histoire"}),c.jsxs("div",{className:"story-grid",children:[c.jsxs(Ie.div,{className:`story-card custom-story ${e==="custom"?"selected":""}`,onClick:a,whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"story-emoji",children:""}),c.jsx("h4",{children:"Personnalis"}),c.jsx("p",{children:"Crez votre propre type d'histoire unique"})]}),cL.map(d=>c.jsxs(Ie.div,{className:`story-card ${e===d.id?"selected":""}`,onClick:()=>o(d.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"story-emoji",children:d.emoji}),c.jsx("h4",{children:d.title}),c.jsx("p",{children:d.description})]},d.id))]}),i&&c.jsxs(Ie.div,{className:"custom-story-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[c.jsx("label",{htmlFor:"customStory",children:"Dcrivez votre type d'histoire"}),c.jsx(Ie.textarea,{id:"customStory",value:n,onChange:l,placeholder:"Ex: Une aventure dans un monde de bonbons o les arbres sont en chocolat...",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})]})},jn={}.VITE_API_BASE_URL||"",Fd={}.VITE_ANIMATION_API_BASE_URL||"https://da-production-6222.up.railway.app";const dL=({selectedTheme:e,setSelectedTheme:t,selectedDuration:n,setSelectedDuration:r,selectedStyle:i,setSelectedStyle:s,customStory:o,setCustomStory:a,characterImage:l,setCharacterImage:d})=>{const[f,p]=T.useState([]),[g,m]=T.useState([]);T.useEffect(()=>{p([{id:"custom",name:"Personnalis",description:"crivez votre propre histoire",emoji:""},{id:"space",name:"Espace",description:"Voyages spatiaux",emoji:""},{id:"ocean",name:"Sous-marin",description:"Exploration sous-marine",emoji:""},{id:"nature",name:"Nature",description:"Monde naturel",emoji:""},{id:"adventure",name:"Aventure",description:"Voyages et explorations",emoji:""},{id:"animals",name:"Animaux",description:"Histoires d'animaux mignons",emoji:""},{id:"magic",name:"Magie",description:"Monde magique et sortilges",emoji:""},{id:"friendship",name:"Amiti",description:"Histoires d'amiti",emoji:""},{id:"circus",name:"Cirque",description:"Spectacle de cirque magique",emoji:""}]),m([{value:30,label:"30 secondes"},{value:60,label:"1 minute"},{value:120,label:"2 minutes"},{value:180,label:"3 minutes"},{value:240,label:"4 minutes"},{value:300,label:"5 minutes"}])},[]);const S=[{id:"3d",name:"3D",description:"Animation 3D moderne",emoji:""},{id:"realistic",name:"Raliste",description:"Style cinmatographique",emoji:""},{id:"cartoon",name:"Cartoon",description:"Style dessin anim color",emoji:""},{id:"anime",name:"Anime",description:"Style manga japonais",emoji:"",useImage:!0,imagePath:"/assets/japan-flag.png"}],b=w=>{t(e===w?null:w)},C=w=>{r(n===w?null:w)},x=w=>{s(i===w?null:w)};return c.jsxs("div",{className:"animation-selector",children:[c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"2. Choisissez un thme pour votre dessin anim"}),c.jsx("div",{className:"themes-grid",children:f.map(w=>c.jsxs("div",{children:[c.jsxs(Ie.div,{className:`theme-card ${e===w.id?"selected":""} ${w.id==="custom"?"custom-animation":""}`,onClick:()=>b(w.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx("div",{className:"theme-emoji",children:w.emoji}),c.jsxs("div",{className:"theme-content",children:[c.jsx("h5",{children:w.name}),c.jsx("p",{children:w.description})]})]}),w.id==="custom"&&e==="custom"&&c.jsx(Ie.div,{className:"custom-theme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{className:"custom-story-textarea",value:o,onChange:N=>a(N.target.value),placeholder:"Il tait une fois... Racontez votre histoire ici. Plus elle est dtaille, plus l'animation sera riche et personnalise !",rows:4})})]},w.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"2. Choisissez la dure de l'animation"}),c.jsx("div",{className:"duration-options",children:g.map(w=>c.jsx(Ie.div,{className:`duration-option ${n===w.value?"selected":""}`,onClick:()=>C(w.value),whileHover:{scale:1.02},whileTap:{scale:.98},children:c.jsx("div",{className:"duration-label",children:w.label})},w.value))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"3. Choisissez un style visuel"}),c.jsx("div",{className:"style-options",children:S.map(w=>c.jsxs(Ie.div,{className:`style-option ${i===w.id?"selected":""}`,onClick:()=>x(w.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"style-emoji",children:[w.useImage?c.jsx("img",{src:w.imagePath,alt:w.name,className:"style-flag-image",onError:N=>{N.target.style.display="none",N.target.nextSibling.style.display="block"}}):null,c.jsx("span",{style:{display:w.useImage?"none":"block"},children:w.emoji})]}),c.jsxs("div",{className:"style-content",children:[c.jsx("h5",{children:w.name}),c.jsx("p",{children:w.description})]})]},w.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"4. Personnage principal (optionnel)"}),c.jsx("p",{className:"section-description",children:"Uploadez une photo pour crer un personnage personnalis dans votre dessin anim"}),c.jsx("div",{className:"character-upload-container",children:l?c.jsxs("div",{className:"character-preview",children:[c.jsx("img",{src:l,alt:"Personnage",className:"character-image"}),c.jsx(Ie.button,{className:"remove-character-btn",onClick:()=>d(null),whileHover:{scale:1.1},whileTap:{scale:.9},children:" Supprimer"})]}):c.jsxs(Ie.label,{className:"character-upload-zone",whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx("input",{type:"file",accept:"image/*",onChange:w=>{const N=w.target.files[0];if(N){const R=new FileReader;R.onloadend=()=>{d(R.result)},R.readAsDataURL(N)}},style:{display:"none"}}),c.jsx("div",{className:"upload-icon",children:""}),c.jsxs("div",{className:"upload-text",children:[c.jsx("strong",{children:"Cliquez pour uploader une photo"}),c.jsx("span",{children:"ou glissez-dposez une image ici"})]})]})})]})]})};const hL=({animationResult:e,onClose:t})=>{var F,Q,X,I;const[n,r]=T.useState("video"),[i,s]=T.useState(null);if(!e)return null;const{status:o,clips:a=[],video_urls:l=[],scenes:d=[],generation_time:f,total_duration:p,successful_clips:g=0,fallback_clips:m=0,pipeline_type:S,scenes_count:b=0,video_count:C=0}=e,x=a.length>0?a:l.map((L,Y)=>({clip_url:L,status:"success",prompt:`Scne ${Y+1}`,duration:8})),w=x.some(L=>L.status==="success")||o==="completed"&&(e.final_video_url||((F=e.result)==null?void 0:F.final_video_url)),N=d||e.scenes_details||[],R=x.length||b||C,q=L=>{if(!L||isNaN(L))return"---";const Y=Math.floor(L/60),V=L%60;return Y>0?`${Y}m ${V}s`:`${V}s`},W=L=>{switch(L){case"success":return"#4CAF50";case"fallback":return"#FF9800";case"error":return"#F44336";default:return"#9E9E9E"}},B=L=>{switch(L){case"success":return"";case"fallback":return"";case"error":return"";default:return""}};return c.jsx(Ie.div,{className:"animation-viewer-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(Ie.div,{className:"animation-viewer",initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},onClick:L=>L.stopPropagation(),transition:{type:"spring",damping:20,stiffness:300},children:[c.jsxs("div",{className:"viewer-header",children:[c.jsx("h2",{children:" Votre dessin anim IA"}),o&&c.jsxs("div",{className:"status-badge",style:{backgroundColor:W(o)},children:[B(o)," ",o==="generating_idea"?"Cration de l'ide...":o==="creating_scenes"?"Cration des scnes...":o==="generating_clips"?"Gnration vido...":o==="completed"?"Termin !":o==="failed"?"chou":o]}),c.jsx("button",{className:"close-button",onClick:t,children:""})]}),c.jsxs("div",{className:"animation-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:["Dure: ",q(p||e.duration)]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[R," scnes"]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[g||R," russies"]})]}),m>0&&c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[m," fallback"]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:["Gnr en ",f?Math.round(f)+"s":"En cours..."]})]})]}),c.jsxs("div",{className:"viewer-tabs",children:[c.jsx("button",{className:`tab ${n==="video"?"active":""}`,onClick:()=>r("video"),children:" Vido"}),c.jsx("button",{className:`tab ${n==="scenes"?"active":""}`,onClick:()=>r("scenes"),children:" Scnes"}),c.jsx("button",{className:`tab ${n==="details"?"active":""}`,onClick:()=>r("details"),children:" Dtails"})]}),c.jsx("div",{className:"viewer-content",children:c.jsxs(pi,{mode:"wait",children:[n==="video"&&c.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"video-tab",children:w?c.jsx("div",{className:"video-player",children:e.final_video_url||(Q=e.result)!=null&&Q.final_video_url?c.jsxs("div",{className:"final-animation",children:[c.jsx("div",{className:"video-icon",children:""}),c.jsxs("h3",{children:[" ",e.title||"Votre dessin anim est prt !"]}),c.jsxs("p",{children:["Animation complte de ",q(p||e.duration)," avec ",g||R," scnes."]}),c.jsx("div",{className:"main-video-container",children:c.jsx("video",{src:e.final_video_url||((X=e.result)==null?void 0:X.final_video_url),className:"final-animation-video",controls:!0,autoPlay:!0,loop:!0,muted:!0,preload:"metadata",style:{width:"100%",maxWidth:"600px",height:"auto",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.2)",margin:"1rem 0"},onLoadedData:()=>{},onError:L=>{L.target.style.display="none"}})}),c.jsx("div",{className:"video-controls",children:c.jsx("button",{className:"play-btn",onClick:()=>{var L;return window.open(e.final_video_url||((L=e.result)==null?void 0:L.final_video_url),"_blank")},style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"},children:" Ouvrir en plein cran"})})]}):c.jsxs("div",{className:"animation-gallery",children:[c.jsx("div",{className:"video-icon",children:""}),c.jsx("h3",{children:" Votre dessin anim est prt !"}),c.jsxs("p",{children:["Animation de ",q(p)," gnre avec succs.",g>0&&` ${g} scnes cres avec l'IA.`]}),c.jsxs("div",{className:"scenes-gallery",children:[c.jsx("h4",{children:" Votre dessin anim en images :"}),c.jsx("div",{className:"gallery-grid",children:x.map((L,Y)=>{let V=null,ae=!1;return L.video_url&&L.type==="real_video"?(V=/^https?:\/\//i.test(L.video_url)?L.video_url:`${Fd}${L.video_url}`,ae=!0):L.demo_image_url?V=/^https?:\/\//i.test(L.demo_image_url)?L.demo_image_url:`${Fd}${L.demo_image_url}`:L.image_url?V=/^https?:\/\//i.test(L.image_url)?L.image_url:`${Fd}${L.image_url}`:L.video_url&&(V=/^https?:\/\//i.test(L.video_url)?L.video_url:`${Fd}${L.video_url}`),c.jsxs("div",{className:"scene-media-card",children:[ae?c.jsx("video",{src:V,className:"scene-video",controls:!0,loop:!0,muted:!0,preload:"metadata",onLoadedData:()=>{},onError:ce=>{ce.target.style.display="none",ce.target.nextSibling.style.display="flex"}}):c.jsx("img",{src:V,alt:`Scne ${L.scene_number}`,className:"scene-image",onLoad:()=>{},onError:ce=>{ce.target.style.display="none",ce.target.nextSibling.style.display="flex"}}),c.jsxs("div",{className:"scene-placeholder",style:{display:"none"},children:[c.jsx("span",{children:""}),c.jsxs("p",{children:["Scne ",L.scene_number]}),c.jsx("small",{children:L.type||"En cours..."})]}),c.jsxs("div",{className:"scene-info",children:[c.jsxs("span",{children:["Scne ",L.scene_number]}),c.jsx("span",{children:q(L.duration)}),L.type==="real_video"&&c.jsx("span",{className:"clip-type real",children:" Vido"}),L.type==="demo"&&c.jsx("span",{className:"clip-type demo",children:" Dmo"}),L.status==="success"&&c.jsx("span",{className:"clip-status success",children:""}),L.status==="fallback"&&c.jsx("span",{className:"clip-status fallback",children:""})]})]},Y)})}),c.jsx("div",{className:"gallery-summary",children:c.jsxs("p",{children:[c.jsx("strong",{children:" Votre animation complte :"}),R," scnes illustres reprsentant votre histoire. Chaque image correspond  un moment cl de votre rcit gnr par l'IA."]})})]}),x.filter(L=>L.status==="success").length>0&&c.jsxs("div",{className:"video-clips-list",children:[c.jsx("h4",{children:" Toutes les scnes gnres :"}),x.filter(L=>L.status==="success").map((L,Y)=>c.jsxs("div",{className:"clip-item",children:[c.jsxs("span",{children:[" Scne ",L.scene_number]}),c.jsx("span",{children:q(L.duration)}),L.type==="image"&&c.jsx("span",{className:"clip-type",children:" Image"})]},Y))]}),c.jsxs("div",{className:"video-actions",children:[c.jsx("button",{className:"download-btn",children:" Tlcharger"}),c.jsx("button",{className:"share-btn",children:" Partager"})]})]})}):c.jsxs("div",{className:"no-video",children:[c.jsx("div",{className:"no-video-icon",children:o==="completed"?"":""}),c.jsx("h3",{children:o==="completed"?"Animation termine !":"Gnration en cours..."}),c.jsx("p",{children:o==="completed"?"Votre animation a t gnre avec succs ! Thme: "+(e.theme||"N/A"):"La gnration vido peut prendre quelques minutes. Certaines scnes utilisent des modes de fallback."}),o==="completed"&&(e.final_video_url||((I=e.result)==null?void 0:I.final_video_url))&&c.jsx("div",{className:"video-controls",children:c.jsx("button",{className:"play-btn",onClick:()=>{var L;return window.open(e.final_video_url||((L=e.result)==null?void 0:L.final_video_url),"_blank")},children:" Voir l'animation"})})]})},"video"),n==="scenes"&&c.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"scenes-tab",children:c.jsx("div",{className:"scenes-list",children:N.map((L,Y)=>{const V=x.find(ae=>ae.scene_number===L.scene_number);return c.jsxs(Ie.div,{className:`scene-card ${i===Y?"selected":""}`,onClick:()=>s(i===Y?null:Y),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"scene-header",children:[c.jsxs("span",{className:"scene-number",children:["Scne ",L.scene_number]}),c.jsxs("div",{className:"scene-status",children:[c.jsx("span",{className:"status-icon",style:{color:W((V==null?void 0:V.status)||"pending")},children:B((V==null?void 0:V.status)||"pending")}),c.jsx("span",{className:"status-text",children:(V==null?void 0:V.status)||"pending"})]})]}),c.jsx("h4",{children:L.description}),c.jsxs("p",{children:[c.jsx("strong",{children:"Action:"})," ",L.action]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Dcor:"})," ",L.setting]}),c.jsxs("div",{className:"scene-duration",children:["Dure: ",q(L.duration)]}),i===Y&&V&&c.jsx(Ie.div,{className:"scene-details",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:V.video_url&&c.jsx("div",{className:"clip-preview",children:c.jsxs("span",{children:[" Fichier: ",V.video_url]})})})]},L.scene_number)})})},"scenes"),n==="details"&&c.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"details-tab",children:c.jsxs("div",{className:"technical-details",children:[c.jsx("h4",{children:" Dtails techniques"}),c.jsxs("div",{className:"detail-grid",children:[c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Pipeline:"}),c.jsx("span",{children:S||"custom_animation_ai"})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Statut:"}),c.jsx("span",{className:`status ${o}`,children:o})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Temps de gnration:"}),c.jsxs("span",{children:[Math.round(f),"s"]})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Scnes totales:"}),c.jsx("span",{children:R})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Scnes russies:"}),c.jsx("span",{children:g})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Dure totale:"}),c.jsx("span",{children:q(p)})]})]}),e.note&&c.jsxs("div",{className:"generation-note",children:[c.jsx("h5",{children:" Note de gnration"}),c.jsx("p",{children:e.note})]})]})},"details")]})})]})})};const fL=({customRequest:e,setCustomRequest:t})=>c.jsxs("div",{className:"custom-request",children:[c.jsx("h3",{children:"Demandes spcifiques (optionnel)"}),c.jsx("div",{className:"request-form",children:c.jsxs("div",{className:"input-group",children:[c.jsx("label",{htmlFor:"customRequest",children:"Avez-vous des demandes particulires ?"}),c.jsx(Ie.textarea,{id:"customRequest",value:e,onChange:n=>t(n.target.value),placeholder:"Ex: En anglais, avec un chien bleu, inclure un message sur l'amiti...",rows:3,whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})})]});const pL=({onGenerate:e,isGenerating:t,isDisabled:n,contentType:r,buttonText:i})=>{const s=()=>t?r==="rhyme"?"Cration de la comptine en cours...":r==="coloring"?"Cration du coloriage en cours...":r==="comic"?"Cration de la BD en cours...":r==="animation"?"Cration du dessin anim en cours...":"Cration du contenu en cours...":i||(r==="rhyme"?"Crer ma comptine":r==="coloring"?"Crer mon coloriage":r==="comic"?"Crer ma bande dessine":r==="animation"?"Crer mon dessin anim":r==="audio"?"Crer mon histoire":"Crer mon contenu");return c.jsxs("div",{className:"generate-button-container",children:[c.jsxs(Ie.button,{className:"generate-button",onClick:e,disabled:n||t,whileHover:!n&&!t?{scale:1.03}:{},whileTap:!n&&!t?{scale:.98}:{},initial:{opacity:.9},animate:{opacity:n?.6:1,y:[0,t?-5:0,0]},transition:{duration:t?.5:.2,repeat:t?1/0:0},children:[t&&c.jsxs("div",{className:"button-loading-dots",children:[c.jsx("div",{className:"button-dot"}),c.jsx("div",{className:"button-dot"}),c.jsx("div",{className:"button-dot"})]}),c.jsx("span",{children:s()})]}),n&&!t&&c.jsx("p",{className:"generate-button-hint",children:r==="story"?"Veuillez remplir tous les champs requis pour crer votre BD":r==="rhyme"?"Veuillez slectionner un type de comptine pour continuer":r==="coloring"?"Veuillez slectionner un thme de coloriage pour continuer":r==="comic"?"Veuillez slectionner un thme, un style et un nombre de pages pour votre BD":r==="animation"?"Veuillez slectionner un thme et configurer votre animation":"Veuillez slectionner un type d'histoire (et une voix) pour continuer"})]})};async function mL(e){return new Promise((t,n)=>{const r=new window.Image;r.crossOrigin="Anonymous",r.onload=function(){const i=document.createElement("canvas");i.width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0);const o=i.toDataURL("image/png");t({width:r.width,height:r.height,dataUrl:o})},r.onerror=n,r.src=e})}function gL(e,t=""){return(!e||e.trim()==="")&&(e={coloriage:"coloriage",comic:"bande_dessinee",comptine:"comptine",histoire:"histoire",animation:"animation"}[t]||"creation"),String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").toLowerCase()}async function ig(e,t="coloriages"){const n=new rt({orientation:"portrait",unit:"px",format:"a4"}),r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),s=40,o=r-2*s,a=i-2*s,l=await Promise.all(e.map(async f=>{try{const p=f.image_url||f;return await mL(p)}catch(p){return console.warn("Erreur chargement image pour le PDF :",f,p),null}}));let d=!0;for(let f=0;f<l.length;f++){if(!l[f])continue;d||n.addPage(),d=!1;const{dataUrl:p,width:g,height:m}=l[f],S=g/m;let b=o,C=o/S;C>a&&(C=a,b=a*S);const x=(r-b)/2,w=(i-C)/2;n.addImage(p,"PNG",x,w,b,C)}n.save(`${gL(t)}.pdf`)}function vL(e){const[t,n]=T.useState([]),[r,i]=T.useState(!1),[s,o]=T.useState(null);return T.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{i(!0);try{const{data:d,error:f}=await St.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});f?(console.error("Erreur rcupration crations:",f),o(f.message),n([])):(n(d||[]),o(null))}catch(d){console.error("Erreur critique rcupration crations:",d),o(d.message),n([])}finally{i(!1)}})()},[e]),{creations:t,loading:r,error:s,refreshCreations:async()=>{if(e){i(!0);try{const{data:l,error:d}=await St.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});d?o(d.message):(n(l||[]),o(null))}catch(l){o(l.message)}finally{i(!1)}}}}}const yL=({onClose:e,onSelect:t})=>{const{user:n}=ng(),{creations:r,loading:i,refreshCreations:s}=vL(n==null?void 0:n.id),o=async p=>{if(window.confirm("Supprimer cette cration ?"))try{const{error:m}=await N4(p);if(m){alert("Erreur lors de la suppression !");return}s()}catch(m){console.error("Erreur lors de la suppression:",m),alert("Erreur lors de la suppression !")}},a=p=>{const g=new Date(p);return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(g)},l=p=>{switch(p){case"story":return"";case"rhyme":return"";case"audio":return"";case"coloring":return"";case"crewai_animation":return"";case"animation":return"";default:return""}},d=p=>{switch(p){case"story":return"Bande dessine";case"rhyme":return"Comptine";case"audio":return"Histoire";case"coloring":return"Coloriage";case"crewai_animation":return"Dessin anim";case"animation":return"Dessin anim";default:return"Cration"}},f=p=>{var F;const g=p.content||((F=p.data)==null?void 0:F.content)||"";if(!g||typeof g!="string"){console.error(" Contenu invalide ou manquant pour le PDF.");return}const m=new rt({orientation:"p",unit:"mm",format:"a4"}),S=40,b=210,C=297,x=12,w=Math.floor((C-S*2)/x),N=13;let R=p.title,q=g;g.startsWith("**")&&g.includes("**",2)&&(R=g.split("**")[1].trim(),q=g.replace(`**${R}**`,"").trim());const W=Q=>new Promise(X=>{const I=new Image;I.crossOrigin="anonymous",I.src=Q,I.onload=()=>X(I)});(async()=>{try{const Q="/assets/fond.png?v=1";let X=null;try{X=await W(Q)}catch{console.log(" Image de fond non disponible, PDF sans fond")}const I=m.splitTextToSize(q,150);let L=0;for(let Y=0;L<I.length;Y++){Y>0&&m.addPage(),X&&m.addImage(X,"PNG",0,0,b,C,void 0,"FAST"),Y===0&&(m.setFont("courier","bold"),m.setFontSize(22),m.setTextColor(110,50,230),m.text(R,b/2,S-20,{align:"center"})),m.setFont("courier","bold"),m.setFontSize(N),m.setTextColor(25,25,112);for(let V=0;V<w&&L<I.length;V++,L++){const ae=S+V*x;m.text(I[L],b/2,ae,{align:"center"})}m.setFontSize(11),m.setTextColor(106,90,205),m.text(`Page ${Y+1}`,b-15,290,{align:"right"})}}catch(Q){console.error(" Erreur lors de la gnration du PDF:",Q),m.setFontSize(22),m.setTextColor(110,50,230),m.setFont("courier","bold"),m.text(R,b/2,S-20,{align:"center"}),m.setFontSize(N),m.setTextColor(25,25,112),m.setFont("courier","bold");const X=m.splitTextToSize(q,150);for(let I=0;I<X.length;I++){const L=S+I*x;m.text(X[I],b/2,L,{align:"center"})}}})().then(()=>{const Q=R.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),X=m.output("blob"),I=URL.createObjectURL(X),L=document.createElement("a");L.href=I,L.download=`${Q}.pdf`,L.style.display="none",document.body.appendChild(L),L.click(),document.body.removeChild(L),setTimeout(()=>{URL.revokeObjectURL(I)},100)})};return c.jsxs(Ie.div,{className:"history-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},onClick:p=>p.stopPropagation(),children:[c.jsxs("div",{className:"history-header",children:[c.jsx("h2",{children:"Historique de vos crations"}),c.jsx("button",{className:"close-button",onClick:e,children:""})]}),c.jsx("div",{className:"history-content",children:n?r.length===0&&!i?c.jsxs("div",{className:"empty-history",children:[c.jsx("p",{children:"Vous n'avez pas encore de crations"}),c.jsx("p",{className:"empty-subtext",children:"Vos crations apparatront ici une fois gnres"})]}):c.jsx("div",{className:"creations-list",children:r.map(p=>{var b,C,x,w,N,R,q,W,B,F,Q,X,I,L,Y;const g=!!(p.audio_path||(b=p.data)!=null&&b.audio_path),m=!!(p.content||(C=p.data)!=null&&C.content),S=["creation-item",g?"has-audio":"",m?"has-text":""].filter(Boolean).join(" ");return c.jsxs(Ie.div,{className:S,onClick:()=>t({...p,action:p.type==="coloring"?"showColoring":"showStory"}),whileHover:{scale:1.01},transition:{duration:.2},children:[c.jsx("div",{className:"creation-icon",children:l(p.type)}),"                  ",c.jsxs("div",{className:"creation-details",children:[c.jsx("h3",{children:p.title}),c.jsxs("div",{className:"creation-meta",children:[c.jsx("span",{className:"creation-type",children:d(p.type)}),c.jsx("span",{className:"creation-date",children:a(p.created_at)})]}),"                  ",(p.audio_path||((x=p.data)==null?void 0:x.audio_path))&&c.jsx("audio",{controls:!0,className:"creation-audio",src:`${jn}/${p.audio_path||((w=p.data)==null?void 0:w.audio_path)}`}),c.jsxs("div",{className:"creation-actions",children:[p.type==="rhyme"&&(p.audio_path||((N=p.data)==null?void 0:N.audio_path))&&c.jsx("button",{className:"btn-pdf",onClick:async V=>{var ae,ce;V.stopPropagation();try{const le=`${jn}/${p.audio_path||((ae=p.data)==null?void 0:ae.audio_path)}`,re=await(await fetch(le)).blob(),J=URL.createObjectURL(re);let me=p.title||"Comptine";const A=p.content||((ce=p.data)==null?void 0:ce.content)||"";A&&A.startsWith("**")&&A.includes("**",2)&&(me=A.split("**")[1].trim());const O=me.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),z=document.createElement("a");z.href=J,z.download=`${O}.mp3`,z.style.display="none",document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(J)}catch(le){console.error("Erreur lors du tlchargement de la comptine:",le),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger la comptine"}),p.type==="audio"&&(p.content||((R=p.data)==null?void 0:R.content))&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn-pdf",onClick:V=>{V.stopPropagation(),f(p)},children:" Tlcharger le PDF"}),(p.audio_path||((q=p.data)==null?void 0:q.audio_path))&&(p.audio_generated||((W=p.data)==null?void 0:W.audio_generated))&&c.jsx("button",{className:"btn-audio",onClick:async V=>{var ae,ce;V.stopPropagation();try{const le=`${jn}/${p.audio_path||((ae=p.data)==null?void 0:ae.audio_path)}`,re=await(await fetch(le)).blob(),J=URL.createObjectURL(re);let me=p.title||"Histoire";const A=p.content||((ce=p.data)==null?void 0:ce.content)||"";A&&A.startsWith("**")&&A.includes("**",2)&&(me=A.split("**")[1].trim());const O=me.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),z=document.createElement("a");z.href=J,z.download=`${O}.mp3`,z.style.display="none",document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(J)}catch(le){console.error("Erreur lors du tlchargement audio:",le),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger l'audio"})]}),(p.audio_path||((B=p.data)==null?void 0:B.audio_path))&&(p.audio_generated||((F=p.data)==null?void 0:F.audio_generated))&&p.type!=="rhyme"&&p.type!=="audio"&&c.jsx("a",{className:"btn-audio",href:`${jn}/${p.audio_path||((Q=p.data)==null?void 0:Q.audio_path)}`,download:!0,onClick:V=>V.stopPropagation(),children:" Tlcharger l'audio"}),p.type==="coloring"&&(p.images||((X=p.data)==null?void 0:X.images))&&(((I=p.images)==null?void 0:I.length)>0||((Y=(L=p.data)==null?void 0:L.images)==null?void 0:Y.length)>0)&&c.jsx("button",{className:"btn-pdf",onClick:V=>{var le;V.stopPropagation();const ae=p.title||(p.theme?`coloriages_${p.theme}`:"coloriages"),ce=p.images||((le=p.data)==null?void 0:le.images)||[];ig(ce,ae)},children:" Tlcharger le coloriage"}),c.jsx("button",{className:"btn-delete",onClick:V=>{V.stopPropagation(),o(p.id)},children:" Supprimer"})]})]})]},p.id)})}):c.jsx("div",{className:"empty-history",children:c.jsx("p",{children:"Connexion en cours..."})})})]})};const xL=({title:e,content:t,onClose:n,children:r})=>{const[i,s]=T.useState(!1),o=T.useRef(null),a=()=>{var d;document.fullscreenElement?(document.exitFullscreen(),s(!1)):((d=o.current)==null||d.requestFullscreen(),s(!0))},l=d=>{d.target.classList.contains("story-popup-overlay")&&n()};return c.jsx("div",{className:"story-popup-overlay",onClick:l,children:c.jsxs("div",{className:"story-popup-content",ref:o,children:[c.jsx("div",{className:"story-background"}),c.jsx("button",{className:"story-close-btn",onClick:n,children:""}),c.jsx("button",{className:"story-fullscreen-btn",onClick:a,children:i?" Quitter le plein cran":" Plein cran"}),c.jsxs("div",{className:"story-scroll",children:[e&&c.jsx("h2",{className:"story-title",children:e}),t&&typeof t=="string"?c.jsx("div",{className:"story-text",children:t}):r]})]})})};const wL=({selectedTheme:e,setSelectedTheme:t,customColoringTheme:n,setCustomColoringTheme:r,uploadedPhoto:i,setUploadedPhoto:s,withColoredModel:o,setWithColoredModel:a})=>{const[l,d]=T.useState(!1),[f,p]=T.useState(!1),[g,m]=T.useState(null),S=[{value:"upload_photo",label:"Ma Photo",icon:"",description:"Transformez votre photo en coloriage !",special:!0},{value:"custom",label:"Personnalis",icon:"",description:"Crez votre propre thme de coloriage"},{value:"animals",label:"Animaux",icon:"",description:"Chats, chiens, lions, lphants..."},{value:"dinosaurs",label:"Dinosaures",icon:"",description:"T-Rex, Triceratops, volcans..."},{value:"dragons",label:"Dragons",icon:"",description:"Dragons mignons, chevaliers..."},{value:"farm",label:"Ferme",icon:"",description:"Vache, cochon, poule, tracteur..."},{value:"fairies",label:"Fes & Licornes",icon:"",description:"Fes, licornes, chteaux magiques..."},{value:"princess",label:"Princesses",icon:"",description:"Princesses, robes, diadmes..."},{value:"mermaids",label:"Sirnes",icon:"",description:"Sirnes, coquillages, palais sous-marin..."},{value:"pirates",label:"Pirates",icon:"",description:"Bateaux pirates, trsors, perroquets..."},{value:"superheroes",label:"Super-hros",icon:"",description:"Hros masqus, super-pouvoirs..."},{value:"space",label:"Espace",icon:"",description:"Fuses, plantes, astronautes..."},{value:"robots",label:"Robots",icon:"",description:"Robots futuristes, androdes..."},{value:"vehicles",label:"Vhicules",icon:"",description:"Voitures, avions, trains, bateaux..."},{value:"nature",label:"Nature",icon:"",description:"Fleurs, arbres, papillons, paysages..."},{value:"ocean",label:"Ocan",icon:"",description:"Poissons, dauphins, coraux, tortues..."},{value:"seasons",label:"Saisons",icon:"",description:"Automne, hiver, printemps, t..."},{value:"sports",label:"Sports",icon:"",description:"Football, basketball, natation..."},{value:"fruits",label:"Fruits & Lgumes",icon:"",description:"Fruits rigolos, lgumes souriants..."},{value:"professions",label:"Mtiers",icon:"",description:"Mdecins, pompiers, cuisiniers..."},{value:"emotions",label:"motions",icon:"",description:"Visages joyeux, tristes, surpris..."}],b=N=>{e===N?(t(""),d(!1),p(!1)):(t(N),d(N==="custom"),p(N==="upload_photo"))},C=N=>{const R=N.target.files[0];if(R){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(R.type)){alert("Format de fichier non support. Utilisez JPG, PNG, GIF ou WebP.");return}if(R.size>5*1024*1024){alert("La photo est trop grande. Taille maximale : 5 MB");return}const W=new FileReader;W.onloadend=()=>{m(W.result)},W.readAsDataURL(R),s(R)}},x=N=>{a(o===N?null:N)},w=()=>{s(null),m(null);const N=document.getElementById("photo-upload-input");N&&(N.value="")};return c.jsxs("div",{className:"coloring-selector",children:[c.jsx("h3",{children:"2. Choisissez un thme pour vos coloriages"}),c.jsx("div",{className:"theme-grid",children:S.map((N,R)=>c.jsxs("div",{className:"theme-slot",children:[c.jsxs(Ie.div,{className:`theme-option ${N.special?"photo-upload-option":""} ${N.value==="custom"?"custom-coloring":""} ${e===N.value?"selected":""}`,onClick:()=>b(N.value),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"theme-icon",children:N.icon}),c.jsxs("div",{className:"theme-info",children:[c.jsx("h4",{children:N.label}),c.jsx("p",{children:N.description})]})]}),N.special&&f&&e==="upload_photo"&&c.jsxs(Ie.div,{className:"photo-upload-container inline-upload",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[c.jsxs("div",{className:"upload-section",children:[c.jsx("p",{className:"upload-hint",children:"Formats accepts : JPG, PNG, GIF, WebP (max 5 MB)"}),c.jsx("input",{type:"file",id:"photo-upload-input",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:C,style:{display:"none"}}),g?c.jsx("div",{className:"photo-preview-container",children:c.jsx("img",{src:g,alt:"Aperu",className:"photo-preview"})}):c.jsxs("label",{htmlFor:"photo-upload-input",className:"upload-button",children:[c.jsx("span",{className:"upload-icon",children:""}),c.jsx("span",{children:"Choisir une photo"})]})]}),g&&c.jsx(Ie.div,{className:"remove-photo-section",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:c.jsx("button",{onClick:w,className:"remove-photo-button",children:" Supprimer la photo"})})]}),N.value==="custom"&&l&&e==="custom"&&c.jsx(Ie.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("input",{type:"text",placeholder:"Dcrivez votre thme de coloriage personnalis...",value:n,onChange:q=>r(q.target.value),className:"custom-input"})})]},N.value))}),c.jsxs("div",{className:"model-choice-section",children:[c.jsx("h3",{children:"3. Voulez-vous un modle ?"}),c.jsxs("div",{className:"model-buttons",children:[c.jsxs(Ie.button,{className:`model-btn ${o===!0?"active":""}`,onClick:()=>x(!0),whileHover:{y:-3},whileTap:{scale:.98},children:[c.jsx("span",{className:"model-icon",children:""}),c.jsx("span",{className:"model-label",children:"Avec modle"}),c.jsx("span",{className:"model-desc",children:"Inclut un exemple color en coin"})]}),c.jsxs(Ie.button,{className:`model-btn ${o===!1?"active":""}`,onClick:()=>x(!1),whileHover:{y:-3},whileTap:{scale:.98},children:[c.jsx("span",{className:"model-icon",children:""}),c.jsx("span",{className:"model-label",children:"Sans modle"}),c.jsx("span",{className:"model-desc",children:"Coloriage pur, libert crative"})]})]})]})]})};const gb=({imageUrl:e,theme:t,onClose:n,onSave:r})=>{const i=T.useRef(null),[s,o]=T.useState(null),[a,l]=T.useState("#FF6B6B"),[d,f]=T.useState("bucket"),[p,g]=T.useState(!1),[m,S]=T.useState(1),[b,C]=T.useState(!1),[x,w]=T.useState(null),[N,R]=T.useState(null),q=["#FF6B6B","#FF4757","#FF6348","#FFA07A","#FF85C0","#FFB6C1","#FF1493","#DC143C","#F8B739","#FFA500","#FFD700","#F7DC6F","#FFDAB9","#FFE4B5","#F4A460","#FDB813","#52C41A","#98D8C8","#81C784","#00C853","#20B2AA","#3CB371","#90EE90","#7FFF00","#4ECDC4","#45B7D1","#85C1E9","#A8DADC","#00BFFF","#1E90FF","#4169E1","#6495ED","#BB8FCE","#9B59B6","#8B008B","#DA70D6","#E6E6FA","#DDA0DD","#BA55D3","#9370DB","#DDA15E","#BC6C25","#D2691E","#CD853F","#8B4513","#A0522D","#F5DEB3","#FAEBD7","#95A5A6","#7F8C8D","#BDC3C7","#ECF0F1","#D3D3D3","#C0C0C0","#A9A9A9","#808080","#E07A5F","#FF6B9D","#00D9FF","#FFEB3B","#FF5722","#8BC34A","#00BCD4","#E91E63"];T.useEffect(()=>{const J=i.current;if(!J)return;const me=J.getContext("2d",{willReadFrequently:!0});o(me);const A=new Image;A.crossOrigin="anonymous",A.onload=()=>{const O=window.innerWidth*.9,z=window.innerHeight*.7;let G=A.width,Z=A.height;G>O&&(Z=O/G*Z,G=O),Z>z&&(G=z/Z*G,Z=z),J.width=G,J.height=Z,me.drawImage(A,0,0,G,Z),w(me.getImageData(0,0,G,Z));const se=me.createImageData(G,Z);R(se),C(!0)},A.onerror=()=>{console.error("Erreur de chargement de l'image")},A.src=e},[e]);const W=(J,me,A)=>{if(!s||!x)return;const O=i.current,z=s.getImageData(0,0,O.width,O.height),G=z.data,Z=F(G,J,me,O.width),se=X(A);if(I(Z,se))return;const he=[[J,me]],de=new Set;for(;he.length>0;){const[xe,we]=he.pop(),Te=`${xe},${we}`;if(de.has(Te)||xe<0||xe>=O.width||we<0||we>=O.height)continue;const Le=F(G,xe,we,O.width);L(Le)||I(Le,Z)&&(de.add(Te),Q(G,xe,we,O.width,se),he.push([xe+1,we]),he.push([xe-1,we]),he.push([xe,we+1]),he.push([xe,we-1]))}s.putImageData(z,0,0)},B=(J,me)=>{if(!s||!x)return;const A=i.current,O=s.getImageData(0,0,A.width,A.height),z=O.data,G=x.data,Z=F(z,J,me,A.width);if(Y(Z))return;const se=[[J,me]],he=new Set;for(;se.length>0;){const[de,xe]=se.pop(),we=`${de},${xe}`;if(he.has(we)||de<0||de>=A.width||xe<0||xe>=A.height)continue;const Te=F(z,de,xe,A.width);if(L(Te)||!I(Te,Z))continue;he.add(we);const Le=(xe*A.width+de)*4;z[Le]=G[Le],z[Le+1]=G[Le+1],z[Le+2]=G[Le+2],z[Le+3]=G[Le+3],se.push([de+1,xe]),se.push([de-1,xe]),se.push([de,xe+1]),se.push([de,xe-1])}s.putImageData(O,0,0)},F=(J,me,A,O)=>{const z=(A*O+me)*4;return{r:J[z],g:J[z+1],b:J[z+2],a:J[z+3]}},Q=(J,me,A,O,z)=>{const G=(A*O+me)*4;J[G]=z.r,J[G+1]=z.g,J[G+2]=z.b,J[G+3]=255},X=J=>{const me=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(J);return me?{r:parseInt(me[1],16),g:parseInt(me[2],16),b:parseInt(me[3],16),a:255}:{r:0,g:0,b:0,a:255}},I=(J,me,A=10)=>Math.abs(J.r-me.r)<=A&&Math.abs(J.g-me.g)<=A&&Math.abs(J.b-me.b)<=A,L=(J,me=50)=>J.r<me&&J.g<me&&J.b<me,Y=(J,me=240)=>J.r>me&&J.g>me&&J.b>me||J.a<10,V=J=>{if(!b)return;const me=i.current,A=me.getBoundingClientRect(),O=Math.floor((J.clientX-A.left)*(me.width/A.width)),z=Math.floor((J.clientY-A.top)*(me.height/A.height));d==="bucket"?W(O,z,a):d==="eraser"&&B(O,z)},ae=()=>{i.current.toBlob(me=>{const A=URL.createObjectURL(me),O=document.createElement("a");O.href=A;const G=(t||"coloriage").replace(/[^a-z0-9]/gi,"_").toLowerCase();O.download=`coloriages_${G}_colorie.png`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(A)})},ce=J=>{J.target.classList.contains("coloring-canvas-overlay")&&n()},le=()=>{!s||!x||s.putImageData(x,0,0)},H=()=>{S(J=>Math.min(J+.5,3)),g(!0)},re=()=>{m>1&&(S(J=>Math.max(J-.5,1)),m-.5<=1&&g(!1))};return c.jsx("div",{className:"coloring-canvas-overlay",onClick:ce,children:c.jsxs("div",{className:"coloring-canvas-container",children:[c.jsxs("div",{className:"coloring-toolbar-top",children:[c.jsx("h2",{className:"coloring-canvas-title",children:" Coloriez votre dessin"}),c.jsxs("div",{className:"coloring-zoom-controls",children:[c.jsx("button",{className:"coloring-zoom-btn",onClick:re,disabled:m<=1,title:"Zoom arrire",children:""}),c.jsxs("span",{style:{color:"white",fontWeight:"bold",minWidth:"60px",textAlign:"center"},children:[Math.round(m*100),"%"]}),c.jsx("button",{className:"coloring-zoom-btn",onClick:H,disabled:m>=3,title:"Zoom avant",children:"+"})]}),c.jsxs("div",{className:"coloring-toolbar-actions",children:[c.jsx("button",{className:"coloring-btn coloring-reset-btn",onClick:le,title:"Rinitialiser",children:" Rinitialiser"}),c.jsx("button",{className:"coloring-btn coloring-save-btn",onClick:ae,title:"Tlcharger",children:" Tlcharger"}),c.jsx("button",{className:"coloring-btn coloring-close-btn-top",onClick:n,title:"Fermer",children:""})]})]}),c.jsxs("div",{className:"coloring-canvas-wrapper",children:[c.jsx("canvas",{ref:i,onClick:V,className:`coloring-canvas ${p?"zoomed":""}`,style:{transform:`scale(${m})`}}),!b&&c.jsxs("div",{className:"coloring-loading",children:[c.jsx("div",{className:"coloring-spinner"}),c.jsx("p",{children:"Chargement du coloriage..."})]})]}),c.jsxs("div",{className:"coloring-toolbar-bottom",children:[c.jsxs("div",{className:"coloring-tools",children:[c.jsx("button",{className:`coloring-tool-btn ${d==="bucket"?"active":""}`,onClick:()=>f("bucket"),title:"Seau de peinture",children:""}),c.jsx("button",{className:`coloring-tool-btn ${d==="eraser"?"active":""}`,onClick:()=>f("eraser"),title:"Gomme",children:""})]}),c.jsx("div",{className:"coloring-palette",children:q.map((J,me)=>c.jsx("button",{className:`coloring-color-btn ${a===J&&d==="bucket"?"active":""}`,style:{backgroundColor:J},onClick:()=>{l(J),f("bucket")},title:J},me))})]})]})})},bL=({coloringResult:e,onClose:t,selectedTheme:n})=>{const[r,i]=T.useState(!1),[s,o]=T.useState(!1),a=T.useRef(null),l=()=>{var S;document.fullscreenElement?(document.exitFullscreen(),i(!1)):((S=a.current)==null||S.requestFullscreen(),i(!0))},d=S=>{S.target.classList.contains("coloring-popup-overlay")&&t()},f=()=>{if(e!=null&&e.images&&e.images.length>0){const S=e.title||(n?`coloriages_${n}`:"coloriages");ig(e.images,S)}else console.warn("Aucune image disponible pour le tlchargement PDF")};if(!e||!e.images||e.images.length===0)return null;const p=e.images[0],g=p.image_url||p,m=()=>{o(!0)};return c.jsx(c.Fragment,{children:s?c.jsx(gb,{imageUrl:g,onClose:()=>o(!1)}):c.jsx("div",{className:"coloring-popup-overlay",onClick:d,children:c.jsxs("div",{className:"coloring-popup-content",ref:a,children:[c.jsx("div",{className:"coloring-background"}),c.jsx("button",{className:"coloring-close-btn",onClick:t,children:""}),c.jsx("button",{className:"coloring-fullscreen-btn",onClick:l,children:r?" Quitter le plein cran":" Plein cran"}),c.jsxs("div",{className:"coloring-container",children:[c.jsx("h2",{className:"coloring-title",children:" Votre coloriage"}),c.jsx("div",{className:"coloring-image-wrapper",children:c.jsx("img",{src:g,alt:"Coloriage",className:"coloring-popup-image"})}),c.jsxs("div",{className:"coloring-popup-actions",children:[c.jsx("button",{className:"coloring-open-btn",onClick:m,children:" Colorier maintenant"}),c.jsx("button",{className:"coloring-download-btn",onClick:f,children:" Tlcharger le coloriage"})]})]})]})})})};const SL=({selectedTheme:e,setSelectedTheme:t,selectedStyle:n,setSelectedStyle:r,numPages:i,setNumPages:s,customStory:o,setCustomStory:a,characterPhoto:l,setCharacterPhoto:d,onCharacterPhotoUpload:f})=>{const[p,g]=T.useState(!1),m=[{id:"custom",name:"Personnalis",icon:"",description:"Votre propre histoire"},{id:"espace",name:"Espace",icon:"",description:"Aventures spatiales"},{id:"pirates",name:"Pirates",icon:"",description:"Trsors et mers"},{id:"princesses",name:"Princesses",icon:"",description:"Chteaux magiques"},{id:"dinosaures",name:"Dinosaures",icon:"",description:"Monde prhistorique"},{id:"animaux",name:"Animaux",icon:"",description:"Animaux mignons"},{id:"superheros",name:"Super-hros",icon:"",description:"Pouvoirs incroyables"},{id:"foret",name:"Fort Magique",icon:"",description:"Fort enchante"},{id:"ecole",name:"cole",icon:"",description:"Aventures scolaires"}],S=[{id:"3d",name:"3D",icon:"",description:"Effets 3D modernes"},{id:"cartoon",name:"Cartoon",icon:"",description:"Color et enfantin"},{id:"manga",name:"Manga",icon:"",description:"Style japonais"},{id:"comics",name:"Comics Marvel",icon:"",description:"Style amricain"},{id:"realistic",name:"Raliste",icon:"",description:"Dtaill et raliste"},{id:"watercolor",name:"Aquarelle",icon:"",description:"Doux et artistique"}],b=[1,2,3,4,5],C=async x=>{const w=x.target.files[0];if(w){g(!0);try{await f(w)}catch(N){console.error("Erreur upload:",N),alert("Erreur lors de l'upload de la photo")}finally{g(!1)}}};return c.jsxs("div",{className:"comics-selector",children:[c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"2. Choisissez un thme pour votre bande dessine"}),c.jsx("div",{className:"theme-grid",children:m.map(x=>c.jsxs("div",{className:"theme-slot",children:[c.jsxs(Ie.div,{className:`theme-card ${e===x.id?"selected":""} ${x.id==="custom"?"custom-theme":""}`,onClick:()=>t(e===x.id?null:x.id),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[c.jsx("div",{className:"theme-icon",children:x.icon}),c.jsx("div",{className:"theme-name",children:x.name}),c.jsx("div",{className:"theme-description",children:x.description})]}),x.id==="custom"&&e==="custom"&&c.jsx(Ie.div,{className:"custom-theme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{className:"custom-input",placeholder:"Dcrivez votre histoire personnalise... (ex: Une petite fille qui dcouvre un monde magique dans son jardin)",value:o,onChange:w=>a(w.target.value),rows:3})})]},x.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"3. Choisissez un style de dessin"}),c.jsx("div",{className:"style-grid",children:S.map(x=>c.jsxs(Ie.div,{className:`style-card ${n===x.id?"selected":""}`,onClick:()=>r(n===x.id?null:x.id),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[c.jsx("div",{className:"style-icon",children:x.icon}),c.jsx("div",{className:"style-name",children:x.name}),c.jsx("div",{className:"style-description",children:x.description})]},x.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"4. Nombre de pages"}),c.jsx("div",{className:"pages-selector",children:b.map(x=>c.jsxs(Ie.button,{className:`page-btn ${i===x?"selected":""}`,onClick:()=>s(i===x?null:x),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[x," ",x===1?"page":"pages",c.jsxs("span",{className:"cases-info",children:["(",x*4," cases)"]})]},x))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"5. Personnage principal (optionnel)"}),c.jsxs("div",{className:"character-upload-section",children:[c.jsx("p",{className:"character-description",children:"Uploadez une photo pour crer un personnage ressemblant ! L'IA analysera la photo et crera un personnage de BD similaire."}),c.jsxs("div",{className:"upload-area",children:[c.jsx("input",{type:"file",id:"character-photo-upload",accept:"image/*",onChange:C,className:"file-input",disabled:p}),!l&&c.jsx("label",{htmlFor:"character-photo-upload",className:"upload-label",children:p?c.jsxs("div",{className:"uploading-state",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{children:"Upload en cours..."})]}):c.jsxs("div",{className:"upload-prompt",children:[c.jsx("span",{className:"upload-icon",children:""}),c.jsxs("div",{className:"upload-text",children:[c.jsx("strong",{children:"Cliquez pour uploader une photo"}),c.jsx("span",{children:"ou glissez-dposez une image ici"})]})]})})]}),l&&c.jsxs("div",{className:"photo-preview",children:[c.jsx("img",{src:l.url,alt:"Personnage upload"}),c.jsxs("div",{className:"photo-actions",children:[c.jsx("button",{className:"change-photo-btn",onClick:()=>document.getElementById("character-photo-upload").click(),children:" Changer"}),c.jsx("button",{className:"remove-photo-btn",onClick:()=>d(null),children:" Retirer"})]})]})]})]})]})};const jL=({comic:e,onClose:t,baseUrl:n})=>{const[r,i]=T.useState(0),[s,o]=T.useState(!1);if(!e||!e.pages||e.pages.length===0)return null;const a=e.pages[r],l=e.pages.length,d=()=>{r<l-1&&i(r+1)},f=()=>{r>0&&i(r-1)},p=()=>{const S=`${n}${a.image_url}`,b=document.createElement("a");b.href=S;const C=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();b.download=`${C}_page_${r+1}.png`,document.body.appendChild(b),b.click(),document.body.removeChild(b)},g=()=>{e.pages.forEach((S,b)=>{setTimeout(()=>{const C=`${n}${S.image_url}`,x=document.createElement("a");x.href=C;const w=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();x.download=`${w}_page_${b+1}.png`,document.body.appendChild(x),x.click(),document.body.removeChild(x)},b*500)})},m=()=>{o(!s)};return c.jsx(pi,{children:c.jsx(Ie.div,{className:"comics-popup-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(Ie.div,{className:`comics-popup-container ${s?"fullscreen":""}`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:S=>S.stopPropagation(),children:[c.jsxs("div",{className:"comics-popup-header",children:[c.jsxs("div",{className:"comic-title-section",children:[c.jsx("h2",{className:"comic-title",children:e.title}),c.jsx("p",{className:"comic-synopsis",children:e.synopsis}),c.jsxs("div",{className:"comic-meta",children:[c.jsxs("span",{className:"meta-item",children:[c.jsx("span",{className:"meta-icon",children:""}),e.art_style]}),c.jsxs("span",{className:"meta-item",children:[c.jsx("span",{className:"meta-icon",children:""}),l," ",l===1?"planche":"planches"]}),c.jsxs("span",{className:"meta-item",children:[c.jsx("span",{className:"meta-icon",children:""}),l*4," cases"]})]})]}),c.jsx("button",{className:"close-btn",onClick:t,children:""})]}),c.jsxs("div",{className:"comics-viewer",children:[c.jsx(pi,{mode:"wait",children:c.jsxs(Ie.div,{className:"page-display",initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},children:[c.jsx("img",{src:`${n}${a.image_url}`,alt:`Planche ${r+1}`,className:"page-image",onClick:m}),c.jsxs("div",{className:"page-info",children:["Planche ",r+1," / ",l]})]},r)}),l>1&&c.jsxs("div",{className:"page-navigation",children:[c.jsx("button",{className:"nav-btn prev-btn",onClick:f,disabled:r===0,children:" Prcdent"}),c.jsx("div",{className:"page-dots",children:e.pages.map((S,b)=>c.jsx("button",{className:`page-dot ${b===r?"active":""}`,onClick:()=>i(b),"aria-label":`Aller  la planche ${b+1}`},b))}),c.jsx("button",{className:"nav-btn next-btn",onClick:d,disabled:r===l-1,children:"Suivant "})]})]}),c.jsxs("div",{className:"comics-actions",children:[c.jsxs("button",{className:"action-btn secondary-btn",onClick:m,children:[c.jsx("span",{className:"btn-icon",children:s?"":""}),s?"Rduire":"Plein cran"]}),c.jsxs("button",{className:"action-btn primary-btn",onClick:p,children:[c.jsx("span",{className:"btn-icon",children:""}),"Tlcharger cette planche"]}),l>1&&c.jsxs("button",{className:"action-btn primary-btn",onClick:g,children:[c.jsx("span",{className:"btn-icon",children:""}),"Tlcharger toutes les planches"]})]}),l>1&&c.jsxs("div",{className:"thumbnails-section",children:[c.jsx("h4",{children:"Toutes les planches"}),c.jsx("div",{className:"thumbnails-grid",children:e.pages.map((S,b)=>c.jsxs(Ie.div,{className:`thumbnail ${b===r?"active":""}`,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(b),children:[c.jsx("img",{src:`${n}${S.image_url}`,alt:`Miniature planche ${b+1}`}),c.jsxs("div",{className:"thumbnail-label",children:["Planche ",b+1]})]},b))})]})]})})})},NL=async(e,t,n,r={})=>{try{if(n==="fredagathe77@gmail.com")return{hasPermission:!0,reason:"admin_access",userRole:"admin",isAdmin:!0};const{data:i,error:s}=await St.from("profiles").select("role").eq("id",t).single();if((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="free")return{hasPermission:!0,reason:(i==null?void 0:i.role)==="admin"?"admin_access":"free_access",userRole:i==null?void 0:i.role,isAdmin:(i==null?void 0:i.role)==="admin"};const{data:o,error:a}=await St.functions.invoke("check-permission",{body:{contentType:e,userId:t,userEmail:n,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice}});return a?(console.error("Erreur check-permission:",a),{hasPermission:!1,reason:"error",error:a,isAdmin:!1}):{...o,isAdmin:!1}}catch(i){return{hasPermission:!1,reason:"error",error:i,isAdmin:!1}}},CL=async(e,t,n,r={})=>{try{const s=ju(e==="audio"?"histoire":e,r),{data:o,error:a}=await St.functions.invoke("create-payment",{body:{contentType:e,userId:t,userEmail:n,amount:s.amount,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice}});if(a)throw a;return o}catch(i){throw i}},ju=(e,t={})=>{const n={comptine:{amount:149,name:"Comptine Musicale",currency:"EUR",display:"1,49"},histoire:{amount:49,name:"Histoire Texte",currency:"EUR",display:"0,49"},audio:{amount:79,name:"Histoire Audio",currency:"EUR",display:"0,79"},coloriage:{amount:99,name:"Coloriage Personnalis",currency:"EUR",display:"0,99"},coloring:{amount:99,name:"Coloriage personnalis",currency:"EUR",display:"0,99"},bd:{amount:149,name:"Page de Bande Dessine",currency:"EUR",display:"1,49"},comic:{amount:149,name:"Page de Bande Dessine",currency:"EUR",display:"1,49"},story:{amount:49,name:"Histoire Texte",currency:"EUR",display:"0,49"},rhyme:{amount:149,name:"Comptine musicale",currency:"EUR",display:"1,49"},animation:{amount:799,name:"Animation IA 30s",currency:"EUR",display:"7,99"}};if(e==="histoire"||e==="story"||e==="audio")return{amount:79,name:"Histoire",currency:"EUR",display:"0,79"};if(e==="animation"&&t.duration){const r={30:{amount:799,name:"Animation IA 30s",display:"7,99"},60:{amount:1199,name:"Animation IA 1min",display:"11,99"},120:{amount:1599,name:"Animation IA 2min",display:"15,99"},180:{amount:1999,name:"Animation IA 3min",display:"19,99"},240:{amount:2399,name:"Animation IA 4min",display:"23,99"},300:{amount:2799,name:"Animation IA 5min",display:"27,99"}},i=t.duration;if(r[i])return{...n[e],...r[i],currency:"EUR"}}if((e==="bd"||e==="comic")&&t.pages){const i=n[e].amount*t.pages,s=(i/100).toFixed(2).replace(".",",")+"";return{...n[e],amount:i,name:`${t.pages} page${t.pages>1?"s":""} de Bande Dessine`,display:s}}return n[e]||{amount:149,name:"Contenu Cratif",currency:"EUR",display:"1,49"}},vb=async(e,t)=>{try{if(t==="fredagathe77@gmail.com")return!0;const{data:n,error:r}=await St.from("profiles").select("role").eq("id",e).single();return r?!1:(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="free"}catch{return!1}},AL=async e=>{try{const{data:t,error:n}=await St.from("profiles").select("role").eq("id",e).single();return(t==null?void 0:t.role)||"user"}catch{return"user"}},kL=async(e,t,n,r)=>{try{const{data:i,error:s}=await St.from("generation_permissions").upsert({user_id:e,content_type:t,stripe_payment_intent_id:n,amount:r,status:"completed",created_at:new Date().toISOString()});if(s)throw s;return i}catch(i){throw i}},yb=async()=>{try{const{data:e,error:t}=await St.functions.invoke("manage-subscription",{body:{action:"get_plans"}});if(t)throw t;return e.plans||[]}catch(e){return console.error("Erreur rcupration plans:",e),[]}},xb=async e=>{try{const{data:t,error:n}=await St.functions.invoke("manage-subscription",{body:{action:"get_subscription",userId:e}});if(n)throw n;return t.subscription}catch(t){return console.error("Erreur rcupration abonnement:",t),null}},wb=async(e,t,n,r)=>{try{const{data:i,error:s}=await St.functions.invoke("manage-subscription",{body:{action:"create_subscription",planId:e,userId:t,paymentMethodId:n,userEmail:r}});if(s)throw s;return i}catch(i){throw console.error("Erreur cration abonnement:",i),i}},bb=async e=>{try{const{data:t,error:n}=await St.functions.invoke("manage-subscription",{body:{action:"cancel_subscription",userId:e}});if(n)throw n;return t}catch(t){throw console.error("Erreur annulation abonnement:",t),t}},PL=async(e,t,n,r={})=>{try{const{data:i,error:s}=await St.functions.invoke("deduct-tokens",{body:{userId:e,contentType:t,tokensUsed:n,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice,transactionId:r.transactionId||`txn_${Date.now()}`}});if(s)throw s;return i}catch(i){throw console.error("Erreur dduction tokens:",i),i}},Sb=async e=>{try{const{data:t,error:n}=await St.from("user_tokens").select("*").eq("user_id",e).is("used_at",null).or("expires_at.is.null,expires_at.gte."+new Date().toISOString()).order("created_at",{ascending:!1});if(n)throw n;return{totalTokens:t.reduce((i,s)=>i+s.tokens_amount,0),tokens:t}}catch(t){return console.error("Erreur rcupration tokens:",t),{totalTokens:0,tokens:[]}}},LL=(e,t={},n=null)=>{var i;let r=1;if(n){const s=(i=n.subscription_plans)==null?void 0:i.name,o={Dcouverte:{histoire:3,audio:3,coloriage:2,bd:4,comptine:5,animation:10},Famille:{histoire:3,audio:3,coloriage:2,bd:3,comptine:4,animation:8},Cratif:{histoire:2,audio:2,coloriage:1,bd:2,comptine:3,animation:5},Institut:{histoire:1,audio:1,coloriage:1,bd:1,comptine:2,animation:3}};s&&o[s]&&(r=o[s][e]||1)}else r={histoire:1,audio:1,coloriage:1,bd:4,comptine:5,animation:10}[e]||1;if(e==="animation"&&t.duration){const s=t.duration;s===60?r=Math.ceil(r*1.5):s===120?r=Math.ceil(r*2.5):s===180?r=Math.ceil(r*4):s===240?r=Math.ceil(r*5):s===300&&(r=Math.ceil(r*6))}return(e==="bd"||e==="comic")&&t.pages&&(r=r*t.pages),r},_L=async(e,t=50)=>{try{const{data:n,error:r}=await St.from("user_tokens").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return n||[]}catch(n){return console.error("Erreur rcupration historique tokens:",n),[]}},EL=Object.freeze(Object.defineProperty({__proto__:null,calculateTokenCost:LL,cancelSubscription:bb,checkPaymentPermission:NL,createPaymentSession:CL,createSubscription:wb,deductTokens:PL,getContentPrice:ju,getSubscriptionPlans:yb,getTokenHistory:_L,getUserRole:AL,getUserSubscription:xb,getUserTokens:Sb,grantPermission:kL,hasFreeAccess:vb},Symbol.toStringTag,{value:"Module"}));var jb="clover",TL=function(t){return t===3?"v3":t},Nb="https://js.stripe.com",FL="".concat(Nb,"/").concat(jb,"/stripe.js"),IL=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,RL=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,T5="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",DL=function(t){return IL.test(t)||RL.test(t)},ML=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Nb,'"]')),n=0;n<t.length;n++){var r=t[n];if(DL(r.src))return r}return null},F5=function(t){var n=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(FL).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},OL=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.0.0",startTime:n})},gc=null,Id=null,Rd=null,BL=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},zL=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},qL=function(t){return gc!==null?gc:(gc=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(T5),window.Stripe){n(window.Stripe);return}try{var i=ML();if(i&&t)console.warn(T5);else if(!i)i=F5(t);else if(i&&Rd!==null&&Id!==null){var s;i.removeEventListener("load",Rd),i.removeEventListener("error",Id),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=F5(t)}Rd=zL(n,r),Id=BL(r),i.addEventListener("load",Rd),i.addEventListener("error",Id)}catch(o){r(o);return}}),gc.catch(function(n){return gc=null,Promise.reject(n)}))},UL=function(t,n,r){if(t===null)return null;var i=n[0],s=i.match(/^pk_test/),o=TL(t.version),a=jb;s&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.0.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,n);return OL(l,r),l},vc,Cb=!1,Ab=function(){return vc||(vc=qL(null).catch(function(t){return vc=null,Promise.reject(t)}),vc)};Promise.resolve().then(function(){return Ab()}).catch(function(e){Cb||console.warn(e)});var kb=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Cb=!0;var i=Date.now();return Ab().then(function(s){return UL(s,n,i)})},Pb={exports:{}},VL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$L=VL,HL=$L;function Lb(){}function _b(){}_b.resetWarningCache=Lb;var WL=function(){function e(r,i,s,o,a,l){if(l!==HL){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_b,resetWarningCache:Lb};return n.PropTypes=n,n};Pb.exports=WL();var GL=Pb.exports;const Ot=y1(GL);function I5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I5(Object(n),!0).forEach(function(r){Eb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sh=function(t){return typeof t}:sh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function Eb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KL(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function YL(e,t){if(e==null)return{};var n=KL(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tb(e,t){return JL(e)||XL(e,t)||QL(e,t)||ZL()}function JL(e){if(Array.isArray(e))return e}function XL(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function QL(e,t){if(e){if(typeof e=="string")return D5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D5(e,t)}}function D5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dr=function(t,n,r){var i=!!r,s=Rt.useRef(r);Rt.useEffect(function(){s.current=r},[r]),Rt.useEffect(function(){if(!i||!t)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return t.on(n,o),function(){t.off(n,o)}},[i,n,t,s])},g1=function(t){var n=Rt.useRef(t);return Rt.useEffect(function(){n.current=t},[t]),n.current},bl=function(t){return t!==null&&sh(t)==="object"},e_=function(t){return bl(t)&&typeof t.then=="function"},t_=function(t){return bl(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},M5="[object Object]",n_=function e(t,n){if(!bl(t)||!bl(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(t)===M5,o=Object.prototype.toString.call(n)===M5;if(s!==o)return!1;if(!s&&!r)return t===n;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(var d={},f=0;f<a.length;f+=1)d[a[f]]=!0;for(var p=0;p<l.length;p+=1)d[l[p]]=!0;var g=Object.keys(d);if(g.length!==a.length)return!1;var m=t,S=n,b=function(x){return e(m[x],S[x])};return g.every(b)},Fb=function(t,n,r){return bl(t)?Object.keys(t).reduce(function(i,s){var o=!bl(n)||!n_(t[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?R5(R5({},i||{}),{},Eb({},s,t[s])):i},null):null},Ib="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",O5=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ib;if(t===null||t_(t))return t;throw new Error(n)},r_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ib;if(e_(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return O5(i,n)})};var r=O5(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},i_=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.0.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.0.0",url:"https://stripe.com/docs/stripe-js/react"}))},mf=Rt.createContext(null);mf.displayName="ElementsContext";var Rb=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},sg=function(t){var n=t.stripe,r=t.options,i=t.children,s=Rt.useMemo(function(){return r_(n)},[n]),o=Rt.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=Tb(o,2),l=a[0],d=a[1];Rt.useEffect(function(){var g=!0,m=function(b){d(function(C){return C.stripe?C:{stripe:b,elements:b.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(S){S&&g&&m(S)}):s.tag==="sync"&&!l.stripe&&m(s.stripe),function(){g=!1}},[s,l,r]);var f=g1(n);Rt.useEffect(function(){f!==null&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[f,n]);var p=g1(r);return Rt.useEffect(function(){if(l.elements){var g=Fb(r,p,["clientSecret","fonts"]);g&&l.elements.update(g)}},[r,p,l.elements]),Rt.useEffect(function(){i_(l.stripe)},[l.stripe]),Rt.createElement(mf.Provider,{value:l},i)};sg.propTypes={stripe:Ot.any,options:Ot.object};var s_=function(t){var n=Rt.useContext(mf);return Rb(n,t)},Db=function(){var t=s_("calls useElements()"),n=t.elements;return n};Ot.func.isRequired;var Mb=Rt.createContext(null);Mb.displayName="CheckoutContext";Ot.any,Ot.shape({clientSecret:Ot.oneOfType([Ot.string,Ot.instanceOf(Promise)]).isRequired,elementsOptions:Ot.object}).isRequired;var v1=function(t){var n=Rt.useContext(Mb),r=Rt.useContext(mf);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return Rb(r,t)},o_=["mode"],a_=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},_r=function(t,n){var r="".concat(a_(t),"Element"),i=function(l){var d=l.id,f=l.className,p=l.options,g=p===void 0?{}:p,m=l.onBlur,S=l.onFocus,b=l.onReady,C=l.onChange,x=l.onEscape,w=l.onClick,N=l.onLoadError,R=l.onLoaderStart,q=l.onNetworksChange,W=l.onConfirm,B=l.onCancel,F=l.onShippingAddressChange,Q=l.onShippingRateChange,X=l.onSavedPaymentMethodRemove,I=l.onSavedPaymentMethodUpdate,L=v1("mounts <".concat(r,">")),Y="elements"in L?L.elements:null,V="checkoutState"in L?L.checkoutState:null,ae=(V==null?void 0:V.type)==="success"||(V==null?void 0:V.type)==="loading"?V.sdk:null,ce=Rt.useState(null),le=Tb(ce,2),H=le[0],re=le[1],J=Rt.useRef(null),me=Rt.useRef(null);dr(H,"blur",m),dr(H,"focus",S),dr(H,"escape",x),dr(H,"click",w),dr(H,"loaderror",N),dr(H,"loaderstart",R),dr(H,"networkschange",q),dr(H,"confirm",W),dr(H,"cancel",B),dr(H,"shippingaddresschange",F),dr(H,"shippingratechange",Q),dr(H,"savedpaymentmethodremove",X),dr(H,"savedpaymentmethodupdate",I),dr(H,"change",C);var A;b&&(t==="expressCheckout"?A=b:A=function(){b(H)}),dr(H,"ready",A),Rt.useLayoutEffect(function(){if(J.current===null&&me.current!==null&&(Y||ae)){var z=null;if(ae)switch(t){case"payment":z=ae.createPaymentElement(g);break;case"address":if("mode"in g){var G=g.mode,Z=YL(g,o_);if(G==="shipping")z=ae.createShippingAddressElement(Z);else if(G==="billing")z=ae.createBillingAddressElement(Z);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":z=ae.createExpressCheckoutElement(g);break;case"currencySelector":z=ae.createCurrencySelectorElement();break;case"taxId":z=ae.createTaxIdElement(g);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else Y&&(z=Y.create(t,g));J.current=z,re(z),z&&z.mount(me.current)}},[Y,ae,g]);var O=g1(g);return Rt.useEffect(function(){if(J.current){var z=Fb(g,O,["paymentRequest"]);z&&"update"in J.current&&J.current.update(z)}},[g,O]),Rt.useLayoutEffect(function(){return function(){if(J.current&&typeof J.current.destroy=="function")try{J.current.destroy(),J.current=null}catch{}}},[]),Rt.createElement("div",{id:d,className:f,ref:me})},s=function(l){v1("mounts <".concat(r,">"));var d=l.id,f=l.className;return Rt.createElement("div",{id:d,className:f})},o=n?s:i;return o.propTypes={id:Ot.string,className:Ot.string,onChange:Ot.func,onBlur:Ot.func,onFocus:Ot.func,onReady:Ot.func,onEscape:Ot.func,onClick:Ot.func,onLoadError:Ot.func,onLoaderStart:Ot.func,onNetworksChange:Ot.func,onConfirm:Ot.func,onCancel:Ot.func,onShippingAddressChange:Ot.func,onShippingRateChange:Ot.func,onSavedPaymentMethodRemove:Ot.func,onSavedPaymentMethodUpdate:Ot.func,options:Ot.object},o.displayName=r,o.__elementType=t,o},Er=typeof window>"u",l_=Rt.createContext(null);l_.displayName="EmbeddedCheckoutProviderContext";var Ob=function(){var t=v1("calls useStripe()"),n=t.stripe;return n};_r("auBankAccount",Er);var B5=_r("card",Er),z5=_r("cardNumber",Er),c_=_r("cardExpiry",Er),u_=_r("cardCvc",Er);_r("iban",Er);_r("payment",Er);_r("expressCheckout",Er);_r("paymentRequestButton",Er);_r("linkAuthentication",Er);_r("address",Er);_r("shippingAddress",Er);_r("paymentMethodMessaging",Er);_r("taxId",Er);const d_="pk_live_51S9nbM2KIKbs2fxdAx3GkjvMFW540T4gDimo0fz30ZYXcXwJd4tYv6xdF0MD0yyYxmf3MwckzJoCuniCFHjYlXYg00ZrKRqzqt",h_=kb(d_),Wp={style:{base:{color:"#333",fontFamily:'"Baloo 2", sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#b8b5d1"}},invalid:{color:"#d32f2f",iconColor:"#d32f2f"},complete:{color:"#6B4EFF",iconColor:"#6B4EFF"}}},f_=({onClose:e,onSuccess:t,contentType:n,options:r})=>{const i=Ob(),s=Db(),[o,a]=T.useState(!1),[l,d]=T.useState(""),[f,p]=T.useState(""),g=n==="audio"?"histoire":n,m=ju(g,r),S=async w=>{if(w.preventDefault(),!i||!s){d("Stripe n'est pas encore charg. Veuillez ressayer.");return}if(!f.trim()){d("Veuillez entrer le nom du titulaire de la carte");return}const N=s.getElement(z5);if(!N){d("Impossible de charger le formulaire de paiement.");return}a(!0),d("");try{const{data:{user:R}}=await St.auth.getUser();if(!R)throw new Error("Vous devez tre connect pour effectuer un paiement");const{data:q,error:W}=await St.functions.invoke("create-payment",{body:{amount:m.amount,currency:m.currency,contentType:g,description:m.name,userId:R.id,userEmail:R.email}});if(W)throw new Error(W.message||"Erreur lors de la cration du paiement");if(!q||!q.clientSecret)throw new Error("Impossible de crer le paiement");const{error:B,paymentIntent:F}=await i.confirmCardPayment(q.clientSecret,{payment_method:{card:N,billing_details:{name:f,email:R.email}}});if(B)throw new Error(B.message||"Le paiement a chou");if(F&&F.status==="succeeded")t();else throw new Error("Le paiement n'a pas t confirm")}catch(R){console.error("Erreur de paiement:",R),d(R.message||"Une erreur est survenue lors du paiement")}finally{a(!1)}},b={width:"100%",padding:"12px 14px",fontSize:"15px",border:"1px solid #e0e0e0",borderRadius:"8px",fontFamily:'"Baloo 2", sans-serif',boxSizing:"border-box",outline:"none",transition:"border-color 0.2s ease",backgroundColor:"white"},C={display:"block",marginBottom:"5px",fontSize:"13px",fontWeight:"500",color:"#666",fontFamily:'"Baloo 2", sans-serif'},x={padding:"12px 14px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"white",transition:"border-color 0.2s ease"};return c.jsxs("form",{onSubmit:S,children:[c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:C,children:"Nom du titulaire"}),c.jsx("input",{type:"text",value:f,onChange:w=>p(w.target.value),placeholder:"Jean Dupont",required:!0,style:b,onFocus:w=>{w.target.style.borderColor="#6B4EFF"},onBlur:w=>{w.target.style.borderColor="#e0e0e0"}})]}),c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:C,children:"Numro de carte"}),c.jsx("div",{style:x,className:"stripe-card-element",children:c.jsx(z5,{options:Wp})})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:C,children:"Date d'expiration"}),c.jsx("div",{style:x,className:"stripe-card-element",children:c.jsx(c_,{options:Wp})})]}),c.jsxs("div",{children:[c.jsx("label",{style:C,children:"CVC"}),c.jsx("div",{style:x,className:"stripe-card-element",children:c.jsx(u_,{options:Wp})})]})]}),l&&c.jsx("div",{style:{padding:"12px",backgroundColor:"#fff5f5",color:"#e53e3e",borderRadius:"6px",marginBottom:"14px",fontSize:"14px",border:"1px solid #feb2b2",fontFamily:'"Baloo 2", sans-serif'},children:l}),c.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"0"},children:[c.jsx("button",{type:"button",onClick:e,disabled:o,style:{flex:1,padding:"12px 20px",fontSize:"15px",fontWeight:"500",borderRadius:"8px",border:"1px solid #d0d0d0",backgroundColor:"white",color:"#666",cursor:o?"not-allowed":"pointer",opacity:o?.5:1,fontFamily:'"Baloo 2", sans-serif',transition:"background-color 0.2s ease"},onMouseEnter:w=>{o||(w.target.style.backgroundColor="#f9f9f9")},onMouseLeave:w=>{w.target.style.backgroundColor="white"},children:"Annuler"}),c.jsx("button",{type:"submit",disabled:!i||o,style:{flex:1,padding:"12px 20px",fontSize:"15px",fontWeight:"500",borderRadius:"8px",border:"none",backgroundColor:"#6B4EFF",color:"white",cursor:!i||o?"not-allowed":"pointer",opacity:!i||o?.6:1,fontFamily:'"Baloo 2", sans-serif',transition:"background-color 0.2s ease"},onMouseEnter:w=>{i&&!o&&(w.target.style.backgroundColor="#5a3eef")},onMouseLeave:w=>{w.target.style.backgroundColor="#6B4EFF"},children:o?"Traitement...":`Payer ${m.display}`})]})]})},p_=({isOpen:e,onClose:t,onSuccess:n,contentType:r,options:i={}})=>{if(!e)return null;const o=ju(r==="audio"?"histoire":r,i),a=d=>{d.target===d.currentTarget&&t()},l=c.jsx("div",{onClick:a,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999999,padding:"20px",fontFamily:'"Baloo 2", sans-serif'},children:c.jsx("div",{onClick:d=>d.stopPropagation(),style:{backgroundColor:"white",borderRadius:"16px",maxWidth:"500px",width:"100%",boxShadow:"0 20px 60px rgba(107, 78, 255, 0.15)",position:"relative",maxHeight:"90vh",overflowY:"auto",isolation:"isolate",border:"3px solid #6B4EFF"},children:c.jsxs("div",{style:{padding:"32px"},children:[c.jsx("button",{onClick:t,style:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"28px",cursor:"pointer",color:"#999",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",lineHeight:"1",zIndex:10},"aria-label":"Fermer",children:""}),c.jsx("h2",{style:{margin:"0 0 12px 0",fontSize:"24px",fontWeight:"600",color:"#333",fontFamily:'"Baloo 2", sans-serif',textAlign:"center"},children:"Paiement scuris"}),c.jsxs("div",{style:{margin:"0 0 20px 0",padding:"12px 16px",backgroundColor:"#f8f7ff",borderRadius:"12px",border:"2px solid #6B4EFF",textAlign:"center",fontFamily:'"Baloo 2", sans-serif'},children:[c.jsx("div",{style:{fontSize:"14px",color:"#666",marginBottom:"2px"},children:o.name}),c.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#6B4EFF"},children:o.display})]}),c.jsx(sg,{stripe:h_,children:c.jsx(f_,{onClose:t,onSuccess:n,contentType:r,options:i})}),c.jsx("div",{style:{marginTop:"12px",textAlign:"right",fontSize:"11px",color:"#999",fontFamily:'"Baloo 2", sans-serif'},children:" Paiement scuris par Stripe"})]})})});return tw.createPortal(l,document.body)};const m_=107>0?kb("pk_live_51S9nbM2KIKbs2fxdAx3GkjvMFW540T4gDimo0fz30ZYXcXwJd4tYv6xdF0MD0yyYxmf3MwckzJoCuniCFHjYlXYg00ZrKRqzqt"):Promise.resolve(null),g_=({onSelectPlan:e,currentSubscription:t})=>{const[n,r]=T.useState([]),[i,s]=T.useState(!0);T.useEffect(()=>{o()},[]);const o=async()=>{try{const l=await yb();r(l)}catch(l){console.error("Erreur chargement plans:",l)}finally{s(!1)}},a=l=>({Dcouverte:{tokens:"40 tokens/mois",features:["Histoires & Audio: 4 tokens","Coloriages: 3 tokens","BD: 5 tokens/page","Comptines: 6 tokens","Animations 30s: 12 tokens","Animations 1min: 18 tokens"],ideal:"Parfait pour dcouvrir Herbbie",economy:"conomisez jusqu' 85%"},Famille:{tokens:"120 tokens/mois",features:["Histoires & Audio: 4 tokens","Coloriages: 3 tokens","BD: 4 tokens/page","Comptines: 5 tokens","Animations 30s: 10 tokens","Animations 1min: 15 tokens"],ideal:"Pour les familles actives",economy:"conomisez jusqu' 87%"},Cratif:{tokens:"300 tokens/mois",features:["Histoires & Audio: 3 tokens","Coloriages: 2 tokens","BD: 3 tokens/page","Comptines: 4 tokens","Animations 30s: 8 tokens","Animations 1min: 12 tokens"],ideal:"Pour les crateurs intensifs",economy:"conomisez jusqu' 90%"},Institut:{tokens:"900 tokens/mois",features:["Histoires & Audio: 2 tokens","Coloriages: 1 token","BD: 2 tokens/page","Comptines: 3 tokens","Animations 30s: 6 tokens","Animations 1min: 9 tokens"],ideal:"Pour les coles et institutions",economy:"conomisez jusqu' 95%"}})[l]||{};return i?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map(l=>{var p,g;const d=a(l.name),f=((p=t==null?void 0:t.subscription_plans)==null?void 0:p.name)===l.name;return c.jsxs(Ie.div,{className:`relative bg-white rounded-xl p-6 border-2 transition-all duration-300 ${f?"border-violet-500 shadow-lg shadow-violet-200":"border-gray-200 hover:border-violet-300 hover:shadow-md"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[f&&c.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:c.jsx("span",{className:"bg-violet-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Plan actuel"})}),c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:l.name}),c.jsxs("div",{className:"text-3xl font-bold text-violet-600 mb-1",children:[(l.price_monthly/100).toFixed(2).replace(".",","),""]}),c.jsx("div",{className:"text-sm text-gray-500",children:"par mois"}),c.jsx("div",{className:"text-lg font-semibold text-gray-700 mt-2",children:d.tokens})]}),c.jsx("div",{className:"space-y-2 mb-6",children:(g=d.features)==null?void 0:g.map((m,S)=>c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx("span",{className:"text-green-500 mr-2",children:""}),m]},S))}),c.jsx("div",{className:"text-center mb-4",children:c.jsx("div",{className:"text-xs text-gray-500 italic",children:d.ideal})}),!f&&c.jsx("button",{onClick:()=>e(l),className:"w-full bg-violet-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-violet-700 transition-colors duration-200",children:"Choisir ce plan"}),f&&c.jsx("div",{className:"w-full bg-gray-100 text-gray-600 py-3 px-4 rounded-lg font-medium text-center",children:"Plan actif"})]},l.id)})})},v_=({selectedPlan:e,onSuccess:t,onCancel:n,userId:r,userEmail:i})=>{const s=Ob(),o=Db(),[a,l]=T.useState(!1),[d,f]=T.useState(""),[p,g]=T.useState(null),m=async b=>{if(b.preventDefault(),!s||!o){g("Stripe n'est pas charg");return}if(!d.trim()){g("Le nom du titulaire de la carte est requis");return}l(!0),g(null);try{const C=o.getElement(B5),{error:x,paymentMethod:w}=await s.createPaymentMethod({type:"card",card:C,billing_details:{name:d.trim(),email:i}});if(x){g(x.message);return}const N=await wb(e.id,r,w.id,i);if(N.success){if(N.clientSecret){const{error:R}=await s.confirmCardPayment(N.clientSecret);if(R){g(R.message);return}}t()}else g(N.error||"Erreur lors de la cration de l'abonnement")}catch(C){console.error("Erreur abonnement:",C),g("Erreur lors de la cration de l'abonnement")}finally{l(!1)}},S={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},fontFamily:"Inter, system-ui, sans-serif"},invalid:{color:"#9e2146"}}};return c.jsxs("form",{onSubmit:m,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["S'abonner  ",e.name]}),c.jsxs("div",{className:"bg-violet-50 p-4 rounded-lg mb-6",children:[c.jsxs("div",{className:"text-lg font-semibold text-violet-800",children:[(e.price_monthly/100).toFixed(2).replace(".",","),"/mois"]}),c.jsx("div",{className:"text-sm text-violet-600",children:"Factur mensuellement  Annulable  tout moment"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du titulaire de la carte"}),c.jsx("input",{type:"text",value:d,onChange:b=>f(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500",placeholder:"Jean Dupont",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Informations de carte bancaire"}),c.jsx("div",{className:"border border-gray-300 rounded-md p-3 focus-within:ring-2 focus-within:ring-violet-500 focus-within:border-violet-500",children:c.jsx(B5,{options:S})})]}),p&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:c.jsx("div",{className:"text-red-800 text-sm",children:p})}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{type:"button",onClick:n,className:"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors duration-200",disabled:a,children:"Annuler"}),c.jsx("button",{type:"submit",className:"flex-1 bg-violet-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-violet-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:a||!s,children:a?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Traitement..."]}):`S'abonner pour ${(e.price_monthly/100).toFixed(2).replace(".",",")}/mois`})]}),c.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Vos informations de paiement sont scurises et cryptes. Vous pouvez annuler votre abonnement  tout moment."})]})},y_=({subscription:e,onCancel:t,onClose:n})=>{const[r,i]=T.useState(!1),[s,o]=T.useState(null);T.useEffect(()=>{a()},[]);const a=async()=>{try{const{totalTokens:f}=await Sb(e.user_id);o({totalTokens:f})}catch(f){console.error("Erreur chargement tokens:",f)}},l=async()=>{if(confirm("tes-vous sr de vouloir annuler votre abonnement ? Il restera actif jusqu' la fin de la priode en cours.")){i(!0);try{await bb(e.user_id),alert("Votre abonnement a t annul. Il restera actif jusqu' la fin de la priode en cours."),t()}catch(f){console.error("Erreur annulation:",f),alert("Erreur lors de l'annulation de l'abonnement")}finally{i(!1)}}},d=f=>new Date(f).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gestion de l'abonnement"}),c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[c.jsxs("div",{className:"text-green-800 font-medium",children:["Plan ",e.subscription_plans.name," actif"]}),c.jsxs("div",{className:"text-green-600 text-sm mt-1",children:["Prochaine facturation: ",d(e.current_period_end)]})]})]}),s&&c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsxs("div",{className:"text-blue-800 font-medium",children:["Tokens disponibles: ",s.totalTokens]}),c.jsxs("div",{className:"text-blue-600 text-sm mt-1",children:["Tokens utiliss ce mois: ",e.tokens_used_this_month||0]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Dtails de l'abonnement"}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[c.jsxs("div",{children:["Prix: ",(e.subscription_plans.price_monthly/100).toFixed(2).replace(".",","),"/mois"]}),c.jsxs("div",{children:["Dbut de priode: ",d(e.current_period_start)]}),c.jsxs("div",{children:["Fin de priode: ",d(e.current_period_end)]}),c.jsxs("div",{children:["Status: ",e.status==="active"?"Actif":e.status]})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:n,className:"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors duration-200",children:"Fermer"}),c.jsx("button",{onClick:l,className:"flex-1 bg-red-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r||e.cancel_at_period_end,children:r?"Annulation...":"Annuler l'abonnement"})]}),e.cancel_at_period_end&&c.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:c.jsxs("div",{className:"text-orange-800 text-sm",children:[" Votre abonnement sera annul le ",d(e.current_period_end)]})})]})},x_=({isOpen:e,onClose:t,userId:n,userEmail:r})=>{const[i,s]=T.useState("plans"),[o,a]=T.useState(null),[l,d]=T.useState(null),[f,p]=T.useState(!0);T.useEffect(()=>{e&&n&&g()},[e,n]);const g=async()=>{try{const w=await xb(n);d(w)}catch(w){console.error("Erreur chargement abonnement:",w)}finally{p(!1)}},m=w=>{a(w),s("payment")},S=()=>{s("plans"),a(null),g(),alert(" Flicitations ! Votre abonnement a t activ avec succs.")},b=()=>{s("plans"),a(null)},C=()=>{s("plans"),a(null),t()};if(!e)return null;const x=c.jsx("div",{className:"subscription-modal-overlay",children:c.jsxs(Ie.div,{className:"subscription-modal-content",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},children:[c.jsxs("div",{className:"subscription-modal-header",children:[c.jsx("h2",{children:l?"Mon abonnement":"Choisir un abonnement"}),c.jsx("button",{onClick:C,className:"subscription-modal-close","aria-label":"Fermer",children:""})]}),f?c.jsx("div",{className:"subscription-modal-loading",children:c.jsx("div",{className:"subscription-modal-spinner"})}):c.jsxs(c.Fragment,{children:[i==="plans"&&c.jsx(g_,{onSelectPlan:m,currentSubscription:l}),i==="payment"&&o&&c.jsx(sg,{stripe:m_,children:c.jsx(v_,{selectedPlan:o,onSuccess:S,onCancel:b,userId:n,userEmail:r})}),i==="management"&&l&&c.jsx(y_,{subscription:l,onCancel:g,onClose:C}),l&&i==="plans"&&c.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:c.jsx("div",{className:"text-center",children:c.jsx("button",{onClick:()=>s("management"),className:"bg-violet-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-violet-700 transition-colors duration-200",children:"Grer mon abonnement"})})})]})]})});return tw.createPortal(x,document.body)};const w_=({onLegalClick:e})=>c.jsx("footer",{className:"app-footer",children:c.jsxs("div",{className:"footer-content",children:[c.jsx("div",{className:"ai-notice",children:c.jsx("p",{children:"Les crations sont gnres par IA et peuvent contenir des erreurs."})}),c.jsxs("div",{className:"footer-links",children:[c.jsx("button",{className:"footer-link",onClick:()=>e("mentions"),children:"Mentions lgales"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("privacy"),children:"Confidentialit"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("cookies"),children:"Cookies"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("terms"),children:"CGU"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("contact"),children:"Contact"})]}),c.jsx("div",{className:"footer-info",children:c.jsxs("p",{children:[" ",new Date().getFullYear()," HERBBIE"]})})]})});const b_=({onClose:e,initialSection:t="mentions"})=>{const[n,r]=T.useState(t),[i,s]=T.useState({firstName:"",lastName:"",email:"",subject:"",message:""}),[o,a]=T.useState(!1),[l,d]=T.useState(""),f=[{id:"mentions",title:"Mentions Lgales",icon:""},{id:"privacy",title:"Confidentialit",icon:""},{id:"cookies",title:"Cookies",icon:""},{id:"terms",title:"Conditions d'utilisation",icon:""},{id:"contact",title:"Contact",icon:""}],p=()=>{switch(n){case"mentions":return g();case"privacy":return m();case"cookies":return S();case"terms":return b();case"contact":return w();default:return g()}},g=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Mentions Lgales"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Hbergement"}),c.jsxs("div",{className:"info-block",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Hbergeur :"})," Railway"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Adresse :"})," Railway, 1 Sentry Way, San Francisco, CA 94103, tats-Unis"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Site web :"})," ",c.jsx("a",{href:"https://railway.app",target:"_blank",rel:"noopener noreferrer",children:"railway.app"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Proprit intellectuelle"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"L'ensemble du contenu de ce site (textes, images, vidos, lments graphiques, logos, icnes, sons, logiciels) est la proprit exclusive de HERBBIE ou de ses partenaires, sauf mention contraire."}),c.jsx("p",{children:"Toute reproduction, distribution, modification ou exploitation commerciale, mme partielle, sans autorisation pralable crite de HERBBIE est strictement interdite et constituerait une contrefaon sanctionne par les articles L.335-2 et suivants du Code de la proprit intellectuelle."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Responsabilit"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'efforce d'assurer l'exactitude et la mise  jour des informations diffuses sur ce site, dont elle se rserve le droit de corriger,  tout moment et sans pravis, le contenu."}),c.jsx("p",{children:"Toutefois, HERBBIE ne peut garantir l'exactitude, la prcision ou l'exhaustivit des informations mises  disposition sur ce site. En consquence, HERBBIE dcline toute responsabilit :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Pour toute imprcision, inexactitude ou omission portant sur des informations disponibles sur le site"}),c.jsx("li",{children:"Pour tous dommages rsultant d'une intrusion frauduleuse d'un tiers ayant entran une modification des informations mises  disposition sur le site"}),c.jsx("li",{children:"Et plus gnralement pour tous dommages, directs ou indirects, quelles qu'en soient les causes, origines, natures ou consquences, provoqus  raison de l'accs de quiconque au site ou de l'impossibilit d'y accder"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Donnes personnelles"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Conformment  la loi n78-17 du 6 janvier 1978 relative  l'informatique, aux fichiers et aux liberts, vous disposez d'un droit d'accs, de rectification et de suppression des donnes vous concernant."}),c.jsxs("p",{children:["Pour exercer ce droit, vous pouvez nous contacter par email  l'adresse : ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Le site HERBBIE utilise des cookies pour amliorer votre exprience utilisateur et raliser des statistiques de visite."}),c.jsx("p",{children:"Conformment  la rglementation, vous pouvez refuser le dpt de cookies en configurant votre navigateur."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"diteur du site"}),c.jsxs("div",{className:"info-block personal-data",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Dnomination sociale :"})," ",c.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Forme juridique :"})," ",c.jsx("span",{className:"protect-personal-info",children:"Auto-entreprise (en cours d'immatriculation)"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Adresse du sige social :"})," ",c.jsx("span",{className:"address-protected personal-data",children:"10 bis rue Flix Arnaudin, 40100 Dax"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Numro SIRET :"})," ",c.jsx("span",{className:"protect-personal-info",children:"En cours d'attribution"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Directeur de la publication :"})," ",c.jsx("span",{className:"name-protected personal-data",children:"Adrien Gaulin"})]})]})]})]}),m=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Politique de Confidentialit"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Collecte des donnes personnelles"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Lors de votre utilisation du service HERBBIE, nous pouvons collecter les informations suivantes :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de compte :"})," adresse email, nom d'utilisateur (si inscription)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes d'utilisation :"})," historique des crations, prfrences, statistiques d'usage"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes techniques :"})," adresse IP, type de navigateur, systme d'exploitation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contenu gnr :"})," les crations ralises via notre service (histoires, coloriages, etc.)"]})]}),c.jsx("p",{children:"La collecte de ces donnes est ncessaire pour :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fournir nos services de gnration de contenu cratif"}),c.jsx("li",{children:"Amliorer la qualit de nos services"}),c.jsx("li",{children:"Assurer la scurit de la plateforme"}),c.jsx("li",{children:"Respecter nos obligations lgales"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Utilisation des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les donnes collectes sont utilises pour :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fournir le service :"})," gnration de contenu personnalis, sauvegarde des crations"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Amlioration :"})," analyse des usages pour optimiser l'exprience utilisateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Communication :"})," envoi d'informations relatives au service, support client"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," dtection et prvention des fraudes et activits malveillantes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Obligations lgales :"})," conservation des donnes requises par la loi"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Partage des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'engage  ne pas vendre, louer ou commercialiser vos donnes personnelles."}),c.jsx("p",{children:"Les donnes peuvent tre partages uniquement dans les cas suivants :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fournisseurs de services :"})," hbergeurs, prestataires techniques (sous contrat de confidentialit)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Obligations lgales :"})," sur demande des autorits comptentes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Protection des droits :"})," en cas de litige ou contentieux"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Conservation des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les donnes sont conserves pendant la dure ncessaire aux finalits pour lesquelles elles ont t collectes :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de compte :"})," tant que le compte est actif + 3 ans aprs inactivation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes d'utilisation :"})," 2 ans  compter de la collecte"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contenu gnr :"})," tant que le compte est actif"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de facturation :"})," 10 ans (obligation lgale)"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Scurit des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE met en uvre des mesures techniques et organisationnelles appropries pour protger vos donnes personnelles contre :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"L'accs non autoris"}),c.jsx("li",{children:"L'utilisation illgitime"}),c.jsx("li",{children:"La perte ou destruction accidentelle"}),c.jsx("li",{children:"Toute forme de traitement illicite"})]}),c.jsx("p",{children:"Ces mesures incluent le chiffrement des donnes, des contrles d'accs stricts et des audits rguliers de scurit."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Vos droits"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Conformment au RGPD, vous disposez des droits suivants :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Droit d'accs :"})," demander l'accs  vos donnes personnelles"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit de rectification :"})," demander la correction de donnes inexactes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  l'effacement :"})," demander la suppression de vos donnes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  la limitation :"})," demander la limitation du traitement"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  la portabilit :"})," demander la rcupration de vos donnes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit d'opposition :"})," vous opposer au traitement de vos donnes"]})]}),c.jsxs("p",{children:["Pour exercer ces droits, contactez-nous  : ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Cookies et technologies similaires"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE utilise uniquement des cookies strictement essentiels au fonctionnement du service :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Maintien de votre connexion et scurit"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Mmorisation de votre identit"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de scurit :"})," Protection contre les menaces"]})]}),c.jsx("h4",{children:"Stockage et scurit des cookies :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Emplacement :"})," Stocks localement dans le navigateur (localStorage)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Dure de vie :"})," Sessions temporaires (supprims  la dconnexion)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," Chiffrs et protgs contre les attaques CSRF"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Serveur :"})," Gestion automatique par Supabase avec scurit renforce"]})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Note :"})," Aucun cookie de fonctionnalit, analytique, de personnalisation ou publicitaire n'est utilis."]}),c.jsx("p",{children:"Les cookies essentiels sont automatiquement grs et exempts de consentement selon le RGPD."})]})]})]}),S=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Politique des Cookies"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Qu'est-ce qu'un cookie ?"}),c.jsx("div",{className:"info-block",children:c.jsx("p",{children:"Un cookie est un petit fichier texte dpos sur votre terminal (ordinateur, tablette, smartphone) lors de la visite d'un site internet. Il permet de stocker des informations relatives  votre navigation et d'amliorer votre exprience utilisateur."})})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Cookies utiliss par HERBBIE"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:c.jsx("strong",{children:"Conformment  la rglementation RGPD, HERBBIE utilise uniquement des cookies strictement essentiels ncessaires au fonctionnement du service."})}),c.jsx("h4",{children:"Cookies essentiels (obligatoires) :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Maintien de votre connexion et scurit pendant votre visite"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Mmorisation de votre identit pour viter de vous reconnecter"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de scurit :"})," Protection contre les attaques CSRF et autres menaces"]})]}),c.jsxs("div",{className:"alert alert-info",children:[c.jsx("strong",{children:"Note :"})," Aucun cookie de fonctionnalit, analytique, de personnalisation ou publicitaire n'est utilis sur ce site."]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Gestion des cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les cookies essentiels utiliss par HERBBIE sont automatiquement grs et ne ncessitent pas d'action de votre part."}),c.jsx("h4",{children:"Via votre navigateur :"}),c.jsx("p",{children:"Si vous souhaitez supprimer les cookies essentiels (ce qui peut affecter le fonctionnement du site) :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Chrome :"})," Paramtres  Confidentialit et scurit  Cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Firefox :"})," Prfrences  Vie prive et scurit  Cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Safari :"})," Prfrences  Confidentialit  Grer les cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Edge :"})," Paramtres  Cookies et autorisations de site"]})]}),c.jsx("h4",{children:"Dure de conservation :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Supprims automatiquement  la fermeture du navigateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Conservs pendant votre session active (maximum 24h)"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Finalits des cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE utilise uniquement des cookies essentiels pour :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fonctionnement du service :"})," Maintien de la session utilisateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," Scurisation des transactions et protection contre les menaces"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Prfrences essentielles :"})," Mmorisation des paramtres de base (langue)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Performance :"})," Optimisation du fonctionnement du site"]})]}),c.jsxs("div",{className:"alert alert-info",children:[c.jsx("strong",{children:"Note :"})," Aucun cookie n'est utilis pour l'analyse d'audience, le suivi utilisateur ou la personnalisation avance."]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Cookies tiers"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE n'utilise pas de cookies tiers pour l'analyse, le suivi ou la publicit."}),c.jsx("p",{children:"Les services externes utiliss (comme les APIs d'IA) ne dposent pas de cookies sur votre navigateur."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Consentement"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:c.jsx("strong",{children:"Conformment  la rglementation RGPD, les cookies essentiels utiliss par HERBBIE ne ncessitent pas de consentement explicite car ils sont strictement ncessaires au fonctionnement du service."})}),c.jsx("p",{children:"Ces cookies sont automatiquement activs pour garantir la scurit et le bon fonctionnement du site."}),c.jsx("p",{children:"Note : La dsactivation de ces cookies essentiels peut gravement affecter le fonctionnement du service."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Mise  jour"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Cette politique des cookies peut tre mise  jour rgulirement pour reflter les volutions de nos services ou de la rglementation."}),c.jsx("p",{children:"La date de dernire modification est indique en bas de cette page."}),c.jsx("p",{children:"En cas de modification substantielle, nous vous en informerons via une notification sur le site."})]})]})]}),b=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Conditions d'utilisation"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Objet du service"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE est une plateforme de gnration de contenu cratif destine aux enfants, utilisant l'intelligence artificielle pour crer :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Des histoires personnalises et ducatives"}),c.jsx("li",{children:"Des coloriages et activits cratives"}),c.jsx("li",{children:"Du contenu pdagogique adapt  chaque ge"}),c.jsx("li",{children:"Des expriences d'apprentissage ludiques"})]}),c.jsx("p",{children:"Le service est conu pour stimuler l'imagination et la crativit des enfants de manire scurise et ducative."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Conditions d'accs"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"ge minimum :"}),c.jsx("p",{children:"Le service HERBBIE est accessible aux enfants de tous ges. Pour les enfants de moins de 13 ans, l'utilisation doit se faire sous la supervision d'un adulte responsable."}),c.jsx("h4",{children:"Inscription :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Les utilisateurs peuvent crer un compte gratuit"}),c.jsx("li",{children:"L'inscription ncessite une adresse email valide"}),c.jsx("li",{children:"Les mots de passe doivent tre scuriss"}),c.jsx("li",{children:"Une seule inscription par personne est autorise"})]}),c.jsx("h4",{children:"Utilisation acceptable :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Respect des autres utilisateurs"}),c.jsx("li",{children:"Utilisation dans un cadre ducatif et ludique"}),c.jsx("li",{children:"Interdiction de gnrer du contenu inappropri"}),c.jsx("li",{children:"Respect des droits d'auteur et proprit intellectuelle"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Services et fonctionnalits"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Services gratuits :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Accs  un nombre limit de gnration par jour"}),c.jsx("li",{children:"Fonctionnalits de base de cration de contenu"}),c.jsx("li",{children:"Sauvegarde des crations pendant 30 jours"}),c.jsx("li",{children:"Support communautaire"})]}),c.jsx("h4",{children:"Services premium (optionnels) :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Gnrations illimites"}),c.jsx("li",{children:"Sauvegarde permanente des crations"}),c.jsx("li",{children:"Fonctionnalits avances"}),c.jsx("li",{children:"Support prioritaire"}),c.jsx("li",{children:"Contenu personnalis avanc"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Rgles de conduite"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Interdictions :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Gnrer du contenu violent, haineux ou inappropri"}),c.jsx("li",{children:"Utiliser le service pour harceler ou intimider"}),c.jsx("li",{children:"Tenter de contourner les limitations techniques"}),c.jsx("li",{children:"Partager des informations personnelles d'autrui"}),c.jsx("li",{children:"Utiliser le service  des fins commerciales sans autorisation"}),c.jsx("li",{children:"Copier ou reproduire le contenu gnr par d'autres utilisateurs"})]}),c.jsx("h4",{children:"Obligations des utilisateurs :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fournir des informations exactes lors de l'inscription"}),c.jsx("li",{children:"Respecter les droits d'auteur et la proprit intellectuelle"}),c.jsx("li",{children:"Signaler tout contenu inappropri"}),c.jsx("li",{children:"Maintenir la confidentialit de leurs identifiants"}),c.jsx("li",{children:"Utiliser le service de manire responsable"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Proprit intellectuelle"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Contenu gnr :"}),c.jsx("p",{children:"Le contenu cr via HERBBIE appartient  l'utilisateur qui l'a gnr. L'utilisateur peut :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Tlcharger et utiliser ses crations  des fins personnelles"}),c.jsx("li",{children:"Partager ses crations dans un cadre familial ou ducatif"}),c.jsx("li",{children:"Modifier ses propres crations"})]}),c.jsx("h4",{children:"Plateforme HERBBIE :"}),c.jsx("p",{children:"Tous les lments de la plateforme (interface, algorithmes, design, etc.) restent la proprit exclusive de HERBBIE."}),c.jsx("h4",{children:"Contenu tiers :"}),c.jsx("p",{children:"Certains lments peuvent tre soumis  des licences tierces (polices, images, sons). L'utilisation doit respecter ces licences."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Limitation de responsabilit"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'efforce de fournir un service de qualit, mais ne peut garantir :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"La disponibilit permanente du service (maintenance, pannes)"}),c.jsx("li",{children:"L'absence totale de bugs ou erreurs"}),c.jsx("li",{children:"L'adquation du contenu gnr  tous les besoins"}),c.jsx("li",{children:"La scurit absolue contre les cyberattaques"})]}),c.jsx("p",{children:"En aucun cas HERBBIE ne pourra tre tenu responsable :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Des dommages indirects ou conscutifs  l'utilisation du service"}),c.jsx("li",{children:"De la perte de donnes ou de crations"}),c.jsx("li",{children:"Des interruptions de service non planifies"}),c.jsx("li",{children:"Des actes de tiers (piratage, virus, etc.)"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Rsiliation"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Par l'utilisateur :"}),c.jsx("p",{children:"L'utilisateur peut rsilier son compte  tout moment via les paramtres de son profil."}),c.jsx("h4",{children:"Par HERBBIE :"}),c.jsx("p",{children:"HERBBIE peut suspendre ou rsilier un compte en cas de :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Violation grave des conditions d'utilisation"}),c.jsx("li",{children:"Utilisation abusive du service"}),c.jsx("li",{children:"Non-paiement des services premium"}),c.jsx("li",{children:"Inactivit prolonge (plus de 2 ans)"})]}),c.jsx("h4",{children:"Consquences de la rsiliation :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Accs immdiat au service suspendu"}),c.jsx("li",{children:"Conservation des donnes pendant 30 jours"}),c.jsx("li",{children:"Suppression dfinitive aprs ce dlai"}),c.jsx("li",{children:"Possibilit de ractivation sous conditions"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"8. Modification des conditions"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE se rserve le droit de modifier ces conditions d'utilisation  tout moment."}),c.jsx("p",{children:"Les modifications seront notifies aux utilisateurs par email ou notification sur le site."}),c.jsx("p",{children:"La poursuite de l'utilisation du service aprs notification vaut acceptation des nouvelles conditions."}),c.jsx("p",{children:"En cas de dsaccord avec les modifications, l'utilisateur peut rsilier son compte."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"9. Droit applicable"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Ces conditions d'utilisation sont rgies par le droit franais."}),c.jsx("p",{children:"Tout litige relatif  l'interprtation ou l'excution de ces conditions sera soumis aux tribunaux comptents du ressort de Paris."}),c.jsx("p",{children:"En cas de traduction de ces conditions, seule la version franaise fait foi."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"10. Contact"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Pour toute question relative  ces conditions d'utilisation :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Email :"})," ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Objet :"}),' "Question CGU"']}),c.jsxs("li",{children:[c.jsx("strong",{children:"Dlai de rponse :"})," 48-72 heures"]})]})]})]})]}),C=(N,R)=>{s(q=>({...q,[N]:R}))},x=async N=>{N.preventDefault(),a(!0),d("");try{const R=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:i.firstName,lastName:i.lastName,email:i.email,subject:i.subject,message:i.message})});if(!R.ok){const W=await R.json();throw new Error(W.detail||"Erreur lors de l'envoi du message")}const q=await R.json();d(" Votre message a t envoy avec succs ! Nous vous rpondrons dans les plus brefs dlais."),s({firstName:"",lastName:"",email:"",subject:"",message:""})}catch(R){d(` Erreur lors de l'envoi : ${R.message}`)}finally{a(!1)}},w=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Contact"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:" Formulaire de contact"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Vous pouvez nous contacter directement en remplissant le formulaire ci-dessous :"}),c.jsxs("form",{className:"contact-form",onSubmit:x,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-firstName",children:"Prnom *"}),c.jsx("input",{type:"text",id:"contact-firstName",value:i.firstName,onChange:N=>C("firstName",N.target.value),required:!0,placeholder:"Votre prnom"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-lastName",children:"Nom *"}),c.jsx("input",{type:"text",id:"contact-lastName",value:i.lastName,onChange:N=>C("lastName",N.target.value),required:!0,placeholder:"Votre nom de famille"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-email",children:"Email *"}),c.jsx(el,{value:i.email,onChange:N=>C("email",N.target.value),placeholder:"votre.email@exemple.com",required:!0,user:null,onEmailSubmit:()=>{}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-subject",children:"Sujet *"}),c.jsxs("select",{id:"contact-subject",value:i.subject,onChange:N=>C("subject",N.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Choisissez un sujet"}),c.jsx("option",{value:"Support technique",children:" Support technique"}),c.jsx("option",{value:"Question gnrale",children:" Question gnrale"}),c.jsx("option",{value:"Partenariat",children:" Partenariat"}),c.jsx("option",{value:"Signaler un bug",children:" Signaler un bug"}),c.jsx("option",{value:"Suggestion",children:" Suggestion"}),c.jsx("option",{value:"Autre",children:" Autre"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-message",children:"Message *"}),c.jsx("textarea",{id:"contact-message",value:i.message,onChange:N=>C("message",N.target.value),required:!0,placeholder:"Dcrivez votre demande en dtail...",rows:"5"})]}),l&&c.jsx("div",{className:`submit-message ${l.includes("")?"success":"error"}`,children:l}),c.jsx("button",{type:"submit",className:"contact-submit-btn",disabled:o,children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner"}),"Envoi en cours..."]}):c.jsx(c.Fragment,{children:" Envoyer l'email"})})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Informations de contact"}),c.jsxs("div",{className:"info-block personal-data",children:[c.jsxs("p",{children:[c.jsx("strong",{children:" Email :"})," ",c.jsx("a",{href:"mailto:contact@herbbie.com",className:"email-protected",children:c.jsx("span",{className:"personal-data",children:"contact@herbbie.com"})})]}),c.jsxs("p",{children:[c.jsx("strong",{children:" Nom de l'entreprise :"})," ",c.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]})]})]})]});return c.jsx(Ie.div,{className:"legal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:e,children:c.jsxs(Ie.div,{className:"legal-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:N=>N.stopPropagation(),children:[c.jsxs("div",{className:"legal-header",children:[c.jsx("h1",{children:" Informations Lgales"}),c.jsx("button",{className:"close-button",onClick:e,children:""})]}),c.jsxs("div",{className:"legal-body",children:[c.jsx("nav",{className:"legal-nav",children:f.map(N=>c.jsxs("button",{className:`nav-item ${n===N.id?"active":""}`,onClick:()=>r(N.id),children:[c.jsx("span",{className:"nav-icon",children:N.icon}),c.jsx("span",{className:"nav-title",children:N.title})]},N.id))}),c.jsx("div",{className:"legal-main",children:c.jsx(pi,{mode:"wait",children:c.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:p()},n)})})]})]})})};const S_=()=>{const[e,t]=T.useState([]);return T.useEffect(()=>{const n=r=>{const i=Math.random()*1799.5+.5;setTimeout(()=>{const s={id:Date.now()+r,index:r,duration:Math.random()*2+1};t(o=>[...o,s]),setTimeout(()=>{t(o=>o.filter(a=>a.id!==s.id))},s.duration*1e3),n(r)},i*1e3)};for(let r=0;r<10;r++)setTimeout(()=>n(r),Math.random()*5e3);return()=>{t([])}},[]),c.jsx("section",{className:"shooting-stars-container",children:e.map(n=>c.jsx("span",{className:`shooting-star star-${n.index+1}`,style:{animationDuration:`${n.duration}s`}},n.id))})},Fa=(e,t,n="")=>{const r={comptine:{animaux:["Les Amis de la Fort","La Danse des Animaux","Mes Amis les Animaux","Le Grand Bal des Animaux"],nature:["Les Fleurs Magiques","L'Aventure dans les Bois","Les Secrets du Jardin","La Fte de la Nature"],transport:["Le Train des Copains","L'Aventure en Voiture","Le Voyage Fantastique","En Route pour l'Aventure"],couleurs:["L'Arc-en-Ciel Magique","Le Monde des Couleurs","La Danse des Couleurs","Mon Joli Tableau"],famille:["Ma Famille d'Amour","Tous Ensemble","Les Clins de Famille","Mon Coeur de Famille"],default:["Ma Jolie Comptine","Chanson du Bonheur","Ma Petite Mlodie","Comptine Rigolote"]},histoire:{aventure:["La Grande Aventure","Voyage Extraordinaire","Mission Secrte","L'Aventure Fantastique"],animaux:["Les Amis de la Fort","L'Histoire des Petits Animaux","Mes Copains Animaux","La Famille Animaux"],magie:["Le Monde Magique","L'Aventure Enchante","Le Secret Magique","La Fe et ses Amis"],amiti:["Les Meilleurs Amis","Une Belle Amiti","Copains pour la Vie","L'Amiti Magique"],espace:["Voyage dans les toiles","L'Aventure Spatiale","Les Amis de l'Espace","Mission sur la Lune"],default:["Mon Belle Histoire","Conte Merveilleux","Histoire Fantastique","Rcit d'Aventure"]},coloriage:{animaux:["Mes Amis Animaux","Zoo Rigolo","Famille Animaux","Copains de la Fort"],licorne:["Licorne Magique","Princesse Licorne","Pays des Licornes","Licorne Arc-en-Ciel"],dinosaures:["Dino Rigolo","Mes Amis Dinosaures","Parc des Dinosaures","T-Rex et ses Copains"],nature:["Jardin Fleuri","Fort Enchante","Promenade Nature","Fleurs et Papillons"],espace:["Voyage Spatial","Plantes Rigolotes","Astronaute en Mission","toiles et Fuses"],vhicules:["Mes Voitures","Garage Rigolo","Course Automobile","Train et Avions"],default:["Mon Coloriage","Dessin Rigolo","Art Cratif","Belle Image"]},animation:{aventure:["Mon Dessin Anim","Animation Magique","Film d'Aventure","Cinma Fantastique"],animaux:["Mes Amis Anims","Zoo en Mouvement","Aventures Animales","Cirque des Animaux"],magie:["Monde Enchant","Magie en Mouvement","Film de Fe","Animation Magique"],espace:["Voyage Anim","Aventure Spatiale","Film de l'Espace","Mission Animation"],nature:["Fort Anime","Jardin en Mouvement","Nature Vivante","Fleurs Dansantes"],default:["Mon Film IA","Dessin Anim IA","Animation Crative","Film Personnalis"]}},i=r[e]||r.histoire,s=i[t]||i.default||i.aventure,o=Math.floor(Math.random()*s.length);return s[o]};function j_(e,t=600){const n=e.split(new RegExp("(?<=[.?!])\\s+")),r=[];let i="";for(const s of n)(i+s).length>t?(r.push(i.trim()),i=s+" "):i+=s+" ";return i.trim()&&r.push(i.trim()),r}function N_(){const[e,t]=T.useState("animation"),n=Be=>{t(Be==="audio"?"histoire":Be)},[r,i]=T.useState(null),[s,o]=T.useState(""),[a,l]=T.useState(!0),[d,f]=T.useState(""),[p,g]=T.useState(""),[m,S]=T.useState(null),[b,C]=T.useState(""),[x,w]=T.useState(null),[N,R]=T.useState(""),[q,W]=T.useState(!1),[B,F]=T.useState(null);T.useState(!1);const[Q,X]=T.useState(!1),[I,L]=T.useState(!1),[Y,V]=T.useState(!1),[ae,ce]=T.useState(!1),[le,H]=T.useState(null),[re,J]=T.useState(""),[me,A]=T.useState(null),[O,z]=T.useState(null),[G,Z]=T.useState(null),[se,he]=T.useState(null),[de,xe]=T.useState(null),[we,Te]=T.useState(null),[Le,et]=T.useState(""),[ve,K]=T.useState(null),[Ye,Ge]=T.useState(null),[Pe,Re]=T.useState(!1);T.useEffect(()=>{e==="comic"&&(xe(null),Te(null))},[e]);const[De,Me]=T.useState(null),[$e,it]=T.useState(30),[_e,qe]=T.useState(null),[Xe,yt]=T.useState(""),[ot,pt]=T.useState(null),[Fe,Cn]=T.useState(null),[xt,gr]=T.useState(null),[Lt,Dt]=T.useState(!1),[Tr,wt]=T.useState(!1),[rs,Kt]=T.useState(null),[vr,Jr]=T.useState(!1);T.useState("user"),T.useState(!1);const[Yt,lt]=T.useState("Gnrer"),[jt,Mi]=T.useState(!1),[An,Fr]=T.useState(!1),[Xr,tt]=T.useState("mentions"),yr=Be=>new Promise(Ne=>setTimeout(Ne,Be)),Qr=async(Be,{intervalMs:Ne=5e3,maxAttempts:Je=240}={})=>{let mt=0;for(;mt<Je;){try{const He=await fetch(`${jn}/status/${Be}`);if(He.ok){const Qe=await He.json();if((Qe==null?void 0:Qe.type)==="result"){const Ae=Qe.data;if((Ae==null?void 0:Ae.status)==="completed"&&Ae!=null&&Ae.clips&&Ae.clips.length>0)return Ae;if((Ae==null?void 0:Ae.status)==="failed")throw new Error((Ae==null?void 0:Ae.error_message)||"Gnration choue")}}}catch{}mt+=1,await yr(Ne)}throw new Error("Timeout de gnration de l'animation")},Wn=async(Be,{intervalMs:Ne=5e3,maxAttempts:Je=180}={})=>{let mt=0;for(;mt<Je;){try{const He=await fetch(`${jn}/status_comic/${Be}`);if(He.ok){const Qe=await He.json();if((Qe==null?void 0:Qe.type)==="result"){const Ae=Qe.data;if(((Ae==null?void 0:Ae.status)==="completed"||(Ae==null?void 0:Ae.status)==="success")&&Ae!=null&&Ae.pages&&Ae.pages.length>0)return Ae;if((Ae==null?void 0:Ae.status)==="failed")throw new Error((Ae==null?void 0:Ae.error)||"Gnration choue")}}}catch{}mt+=1,await yr(Ne)}throw new Error("Timeout de gnration de la BD")},dn=async Be=>{try{const Ne=new FormData;Ne.append("file",Be);const Je=await fetch(`${jn}/upload_character_photo/`,{method:"POST",body:Ne});if(!Je.ok)throw new Error(`Erreur upload : ${Je.status}`);const mt=await Je.json();return K(mt),mt}catch(Ne){throw Ne}},[rn,Mn]=T.useState(null),{user:Vt,loading:yi}=ng(),[Ir,On]=T.useState(!1),[Gn,Rr]=T.useState(!1);T.useMemo(()=>(e==="histoire"||e==="audio")&&(B!=null&&B.content)?j_(B.content):[],[B,e]);const[Dr,Zr]=T.useState(0);T.useEffect(()=>{window.location.hash==="#historique"&&On(!0);const Be=()=>{On(window.location.hash==="#historique")};return window.addEventListener("hashchange",Be),()=>window.removeEventListener("hashchange",Be)},[]),T.useEffect(()=>{(async()=>{if(Vt){const Ne=await vb(Vt.id,Vt.email);Rr(Ne),Oi(Ne)}else Rr(!1),Oi(!1)})()},[Vt,e]),T.useEffect(()=>{i(null),o(""),l(!0),f(""),g(""),S(null),C(""),w(null),H(null),J(""),A(null),Z(null),he(null),xe(null),Te(null),et(""),K(null),Ge(null),Me(null),it(30),qe(null),yt(""),Cn(null),F(null),z(null),gr(null),Mn(null)},[e]);const is=async Be=>{ce(!1),setTimeout(()=>{ce(!0),W(!1)},5e4)};T.useEffect(()=>{e==="animation"&&!De&&Me(null)},[e,De]);const ss=De||"space",Oi=Be=>{if(Be)lt("Gnrer Gratuitement");else{let Ne={};e==="animation"?Ne.duration=$e:e==="comic"||e==="bd"?Ne.pages=we||1:(e==="histoire"||e==="story"||e==="audio")&&(Ne.voice=x);const mt=ju(e==="audio"?"histoire":e,Ne);lt(`Acheter pour ${mt.display}`)}};T.useEffect(()=>{Oi(Gn)},[x,$e,we,e,Gn]);const Fs=async()=>{if(!Vt){alert("Vous devez tre connect pour gnrer du contenu");return}if(Gn){Bi();return}try{const Be={};e==="animation"?Be.selectedDuration=$e:e==="comic"||e==="bd"?Be.numPages=we||1:(e==="histoire"||e==="story"||e==="audio")&&(Be.selectedVoice=x);const{data:Ne,error:Je}=await St.functions.invoke("check-permission",{body:{contentType:e,userId:Vt.id,userEmail:Vt.email,...Be}});if(Je){console.error("Erreur vrification permission:",Je),alert("Erreur lors de la vrification des permissions. Veuillez ressayer.");return}if(Ne.hasPermission)Bi();else{Kt(e),wt(!0);return}}catch(Be){console.error("Erreur lors de l'appel  check-permission:",Be),alert("Erreur de vrification des permissions. Veuillez ressayer.");return}},Bi=async()=>{var Be;if(W(!0),F(null),!yi)try{let Ne=null;if(e==="rhyme"){const He={theme:r==="custom"?s:r,custom_request:N,language:"fr"},Qe=await fetch(`${jn}/generate_rhyme/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(He)});if(!Qe.ok)throw new Error(`Erreur HTTP : ${Qe.status}`);Ne=await Qe.json()}else if(e==="histoire"||e==="audio"){const He={story_type:m==="custom"?b:m,voice:x,custom_request:N},Qe=await fetch(`${jn}/generate_audio_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(He)});if(!Qe.ok)throw new Error(`Erreur HTTP : ${Qe.status}`);Ne=await Qe.json()}else if(e==="histoire"){let He;if(Fe&&Fe!=="custom"?He={space:"Une aventure spatiale extraordinaire o un enfant explore les plantes lointaines et rencontre des aliens amicaux.",ocean:"Une exploration sous-marine magique avec des cratures marines colores et des trsors cachs au fond de l'ocan.",dinosaur:"Un voyage dans le temps  l'poque des dinosaures o un enfant devient ami avec un dinosaure gentil et dcouvre un monde prhistorique.",fairy:"Un conte de fes enchanteur avec des fes bienveillantes, des chteaux magiques et des aventures pleines de poussire de fe.",superhero:"Une histoire de super-hros o un enfant dcouvre ses pouvoirs extraordinaires et sauve la ville avec courage et bont.",jungle:"Une aventure dans la jungle tropicale remplie d'animaux exotiques, de plantes mystrieuses et de dcouvertes passionnantes."}[Fe]||`Une belle histoire sur le thme ${Fe}`:He=Xe,!He||He.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractres");const Qe={story_type:Fe==="custom"?"custom":Fe,content:He,custom_request:N},Ae=await fetch(`${jn}/generate_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Qe)});if(!Ae.ok)throw new Error(`Erreur HTTP : ${Ae.status}`);Ne=await Ae.json()}else if(e==="coloring")if(me){const He=new FormData;He.append("file",me);const Qe=await fetch(`${jn}/upload_photo_for_coloring/`,{method:"POST",body:He});if(!Qe.ok)throw new Error(`Erreur upload : ${Qe.status}`);const Pt={photo_path:(await Qe.json()).file_path,with_colored_model:G},Bn=await fetch(`${jn}/convert_photo_to_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Pt)});if(!Bn.ok)throw new Error(`Erreur conversion : ${Bn.status}`);const kn=await Bn.json();z(kn),Ne=kn}else{const He={theme:le,with_colored_model:G};le==="custom"&&re.trim()&&(He.custom_prompt=re.trim());const Qe=await fetch(`${jn}/generate_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(He)});if(!Qe.ok)throw new Error(`Erreur HTTP : ${Qe.status}`);const Ae=await Qe.json();z(Ae),Ne=Ae}else if(e==="comic"){const He={theme:se==="custom"?Le:se,art_style:de||"cartoon",num_pages:we||1};se==="custom"&&Le.trim()&&(He.custom_prompt=Le.trim()),ve&&ve.file_path&&(He.character_photo_path=ve.file_path);const Qe=await fetch(`${jn}/generate_comic/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(He)});if(!Qe.ok)throw new Error(`Erreur HTTP : ${Qe.status}`);const Ae=await Qe.json();let Pt=Ae;const Bn=Ae==null?void 0:Ae.task_id,kn=(Ae==null?void 0:Ae.status)==="success"&&(Ae==null?void 0:Ae.pages)&&Ae.pages.length>0;Bn&&!kn&&(Pt=await Wn(Bn)),Pt!=null&&Pt.pages&&Pt.pages.length>0&&(Ge(Pt),Ne=Pt)}else if(e==="animation"){let He;const Qe=De||"space";if(Qe&&Qe!=="custom"?He={magie:"Une histoire magique avec des cratures fantastiques dans un monde enchant",aventure:"Une grande aventure pleine de dcouvertes et de rebondissements",animaux:"Une histoire mettant en scne des animaux adorables et leurs aventures",espace:"Un voyage extraordinaire  travers les toiles et les plantes",nature:"Une exploration merveilleuse de la nature et de ses secrets",amiti:"Une belle histoire d'amiti et de solidarit",famille:"Une histoire touchante sur les liens familiaux"}[Qe]||`Une belle histoire sur le thme ${Qe}`:He=Xe,!He||He.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractres");const Pt={magie:"magic",aventure:"adventure",animaux:"animals",espace:"space",nature:"nature",amiti:"friendship",famille:"friendship"}[Qe]||Qe||"adventure",Bn={theme:Pt,duration:Number($e),custom_prompt:He||void 0},kn=$e||30,xr=`${jn}/generate-quick?theme=${encodeURIComponent(Pt)}&duration=${kn}&style=${_e||"cartoon"}&custom_prompt=${encodeURIComponent(He||"")}`,hn=await fetch(xr,{method:"GET",headers:{Accept:"application/json"}});if(!hn.ok){const ti=await hn.text();throw new Error(`Erreur HTTP ${hn.status}: ${ti}`)}const sn=await hn.json();let Nt=sn;const ar=sn==null?void 0:sn.task_id,zi=(sn==null?void 0:sn.status)==="completed"&&((sn==null?void 0:sn.final_video_url)||(((Be=sn==null?void 0:sn.clips)==null?void 0:Be.length)||0)>0);ar&&!zi&&(Nt=await Qr(ar)),(Nt==null?void 0:Nt.status)==="completed"&&(Nt!=null&&Nt.clips)&&Nt.clips.length>0&&(gr(Nt),Dt(!0),Ne=Nt)}if(F(Ne),Zr(0),e==="rhyme"&&Ne.task_id){_l(Ne.task_id);return}let Je;e==="rhyme"?Ne.title&&!Ne.title.includes("gnre")?Je=Ne.title+(Ne.has_music?" ":""):Je=Fa("comptine",r==="custom"?"default":r)+(Ne.has_music?" ":""):e==="histoire"||e==="audio"?Ne.title&&!Ne.title.includes("gnre")?Je=Ne.title:Je=Fa("histoire",m==="custom"?"default":m):e==="coloring"?Je=(Ne==null?void 0:Ne.title)||Fa("coloriage",le):e==="comic"?Je=(Ye==null?void 0:Ye.title)||"Ma Bande Dessine ":e==="animation"?Je=(Ne==null?void 0:Ne.title)||Fa("animation",ss||"aventure"):e==="histoire"&&(Je=(Ne==null?void 0:Ne.title)||Fa("histoire",Fe==="custom"?"default":Fe)),Mn(Je);let mt;e==="coloring"?mt={id:Date.now().toString(),type:e,title:Je,createdAt:new Date().toISOString(),content:Ne?`${Ne.total_images} coloriage(s) gnr(s)`:"Coloriage gnr",theme:le,images:(Ne==null?void 0:Ne.images)||[],metadata:(Ne==null?void 0:Ne.metadata)||{}}:e==="comic"?mt={id:Date.now().toString(),type:e,title:Je,createdAt:new Date().toISOString(),content:Ye?`BD de ${Ye.total_pages} planche(s) - ${Ye.total_pages*4} cases`:"Bande dessine gnre",theme:se,pages:(Ye==null?void 0:Ye.pages)||[],comic_data:Ye||{}}:e==="animation"?mt={id:Date.now().toString(),type:e,title:Je,createdAt:new Date().toISOString(),content:Ne?`Animation de ${Ne.actual_duration}s avec ${Ne.total_scenes} scnes`:"Animation gnre",theme:ss,clips:(Ne==null?void 0:Ne.clips)||[],animation_data:Ne||{}}:e==="histoire"?mt={id:Date.now().toString(),type:e,title:Je,createdAt:new Date().toISOString(),content:(Ne==null?void 0:Ne.content)||Ne||"Histoire gnre...",story_type:Fe==="custom"?"custom":Fe}:mt={id:Date.now().toString(),type:e,title:Je,createdAt:new Date().toISOString(),content:(Ne==null?void 0:Ne.content)||Ne||"Contenu gnr...",audio_path:(Ne==null?void 0:Ne.audio_path)||null};try{await Rg({type:e,title:Je,data:mt})}catch{}if(!Gn&&!vr&&Ne)try{const{calculateTokenCost:He,deductTokens:Qe}=await zc(()=>Promise.resolve().then(()=>EL),void 0);let Ae={};e==="animation"?Ae.duration=$e:(e==="comic"||e==="bd")&&(Ae.pages=we||1),(e==="audio"||e==="histoire"&&x)&&(Ae.voice=x);const Pt=He(e,Ae),Bn=await Qe(Vt.id,e,Pt,{...Ae,transactionId:`gen_${Date.now()}_${e}`})}catch(He){console.error(" Erreur lors de la dduction des tokens:",He)}vr&&Jr(!1),W(!1)}catch(Ne){alert(` Erreur lors de la gnration : ${Ne.message}

 Conseil : Vrifiez que les cls API sont configures dans le fichier .env du serveur.`),W(!1)}},oa=Be=>{var Ne,Je,mt,He,Qe;Be.action==="showStory"?(F({title:Be.title,content:Be.content||((Ne=Be.data)==null?void 0:Ne.content)||"",type:Be.type}),X(!0)):Be.action==="showColoring"?(z({success:!0,theme:Be.theme||((Je=Be.data)==null?void 0:Je.theme)||"coloriage",images:Be.images||((mt=Be.data)==null?void 0:mt.images)||[],total_images:(Be.images||((He=Be.data)==null?void 0:He.images)||[]).length,metadata:Be.metadata||((Qe=Be.data)==null?void 0:Qe.metadata)||{}}),L(!0)):(On(!1),window.location.hash="")},aa=()=>{On(!1),window.location.hash=""},Ll=()=>{if(e==="rhyme"){if(!r||r==="custom"&&!s.trim())return!1}else if(e==="histoire"||e==="audio"){if(!m||m==="custom"&&!b.trim())return!1}else if(e==="coloring"){if(!le&&!me||le==="custom"&&!re.trim()||G===null)return!1}else if(e==="comic"){if(!se||!de||!we||se==="custom"&&!Le.trim())return!1}else if(e==="animation"){if(!De&&!Xe.trim()||De==="custom"&&!Xe.trim()||De==="custom"&&Xe.trim().length<10)return!1}else if(e==="histoire"&&(!Fe||Fe==="custom"&&!Xe.trim()||Fe==="custom"&&Xe.trim().length<10))return!1;return!0},ei={hidden:{opacity:0,height:0,marginBottom:0},visible:{opacity:1,height:"auto",marginBottom:"1rem"},exit:{opacity:0,height:0,marginBottom:0}},la=async(Be,Ne)=>{if(!(!Ne||typeof Ne!="string"))try{const Je=new rt({orientation:"p",unit:"mm",format:"a4"}),mt=50,He=210,Qe=297,Ae=6,Pt=Math.floor((Qe-mt-30)/Ae),Bn=Nt=>new Promise((ar,zi)=>{const ti=new Image;ti.crossOrigin="anonymous",ti.onload=()=>ar(ti),ti.onerror=()=>zi(new Error("Impossible de charger l'image de fond")),ti.src=Nt});let kn=null;try{kn=await Bn("/assets/fond.png?v=1")}catch{}let xr=Be;Ne.startsWith("**")&&Ne.includes("**",2)&&(xr=Ne.split("**")[1].trim(),Ne=Ne.replace(`**${xr}**`,"").trim());const os=Je.splitTextToSize(Ne,150);let hn=0;for(let Nt=0;hn<os.length;Nt++){if(Nt>0&&Je.addPage(),kn)try{Je.addImage(kn,"PNG",0,0,He,Qe,void 0,"FAST")}catch{}Nt===0&&(Je.setFont("courier","bold"),Je.setFontSize(18),Je.setTextColor(110,50,230),Je.text(xr,He/2,mt-20,{align:"center"})),Je.setFont("courier","bold"),Je.setFontSize(10),Je.setTextColor(25,25,112);for(let ar=0;ar<Pt&&hn<os.length;ar++,hn++){const zi=mt+ar*Ae;Je.text(os[hn],He/2,zi,{align:"center"})}Je.setFontSize(8),Je.setTextColor(106,90,205),Je.text(`Page ${Nt+1}`,He-15,Qe-10,{align:"right"})}const sn=xr.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");Je.save(`${sn}.pdf`)}catch{alert("Erreur lors de la gnration du PDF. Veuillez ressayer.")}},_l=async(Be,Ne=40,Je=5e3)=>{let mt=0;const He=async()=>{try{const Ae=await(await fetch(`${jn}/check_task_status/${Be}`)).json();if(Ae.status==="completed")return F(Pt=>{const Bn={...Pt,audio_path:Ae.audio_path,suno_url:Ae.suno_url,title:Ae.title||Pt.title,has_music:!0,service:"suno"},kn=Ae.title||Pt.title||Fa("comptine",r==="custom"?"default":r)+" ";Mn(kn);const xr={id:Date.now().toString(),type:"rhyme",title:kn,createdAt:new Date().toISOString(),content:Pt.content||Pt.rhyme||"Comptine gnre",audio_path:Ae.audio_path,suno_url:Ae.suno_url};return Rg({type:"rhyme",title:kn,data:xr}).catch(os=>{}),Bn}),Ae.suno_url?(is(Ae.suno_url),!0):(W(!1),!0);if(Ae.status==="failed")return F(Pt=>({...Pt,music_error:Ae.error,has_music:!1})),W(!1),!0;if(Ae.status!=="processing"){if(mt>=Ne-1)return W(!1),alert(" La gnration de musique prend plus de temps que prvu. Veuillez vrifier votre historique dans quelques minutes."),!0}return mt++,setTimeout(He,Je),!1}catch{return mt++,mt<Ne&&setTimeout(He,Je),!1}};await He()};return c.jsxs("div",{className:"app-container",children:[c.jsx(YP,{isLoggedIn:!!Vt,onOpenHistory:()=>On(!0),userId:Vt==null?void 0:Vt.id,onOpenSubscription:()=>Mi(!0)}),c.jsx(S_,{}),c.jsx("main",{className:"main-content",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs(Ie.div,{className:"creation-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["          ",c.jsx(rL,{contentType:e,setContentType:n}),"          ",c.jsx(pi,{mode:"wait",children:e==="rhyme"?c.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{width:"100%"},children:c.jsx(sL,{selectedRhyme:r,setSelectedRhyme:i,customRhyme:s,setCustomRhyme:o})},"rhyme-selector"):e==="histoire"||e==="audio"?c.jsx(Ie.div,{variants:ei,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(lL,{selectedAudioStory:m,setSelectedAudioStory:S,customAudioStory:b,setCustomAudioStory:C,selectedVoice:x,setSelectedVoice:w})},"audio-story-selector"):e==="coloring"?c.jsxs(Ie.div,{variants:ei,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:["                ",c.jsx(wL,{selectedTheme:le,setSelectedTheme:H,customColoringTheme:re,setCustomColoringTheme:J,uploadedPhoto:me,setUploadedPhoto:A,withColoredModel:G,setWithColoredModel:Z})]},"coloring-selector"):e==="comic"?c.jsx(Ie.div,{variants:ei,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(SL,{selectedTheme:se,setSelectedTheme:he,selectedStyle:de,setSelectedStyle:xe,numPages:we,setNumPages:Te,customStory:Le,setCustomStory:et,characterPhoto:ve,setCharacterPhoto:K,onCharacterPhotoUpload:dn})},"comics-selector"):e==="animation"?c.jsx(Ie.div,{variants:ei,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(dL,{selectedTheme:De,setSelectedTheme:Me,selectedDuration:$e,setSelectedDuration:it,selectedStyle:_e,setSelectedStyle:qe,customStory:Xe,setCustomStory:yt,characterImage:ot,setCharacterImage:pt})},"animation-selector"):e==="histoire"?c.jsx(Ie.div,{variants:ei,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(uL,{selectedStory:Fe,setSelectedStory:Cn,customStory:Xe,setCustomStory:yt})},"story-selector"):null}),"          ",c.jsx(fL,{customRequest:N,setCustomRequest:R,stepNumber:e==="coloring"?4:3}),c.jsx(pL,{onGenerate:Fs,isGenerating:q,isDisabled:!Ll(),contentType:e,buttonText:Yt})]}),c.jsx("div",{className:"preview-column",children:c.jsx(Ie.div,{className:"preview-panel",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:c.jsx("div",{className:"preview-container",children:c.jsx("div",{className:`preview ${B?"":"empty"}`,children:c.jsx(pi,{mode:"wait",children:q?c.jsxs(Ie.div,{className:"generating-animation",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[c.jsxs("div",{className:"loading-dots",children:[c.jsx("div",{className:"dot"}),c.jsx("div",{className:"dot"}),c.jsx("div",{className:"dot"})]}),"      ",c.jsxs("p",{children:["        ",e==="rhyme"?"Votre comptine est en cours de cration...":e==="histoire"||e==="audio"?"Cration de l'histoire en cours...":e==="histoire"?"Cration de votre histoire en cours...":e==="coloring"?"Votre coloriage est en cours de cration...":e==="comic"?"Cration de votre bande dessine en cours...":e==="animation"?"Cration de votre dessin anim en cours...":"Gnration en cours..."]})]},"generating"):O&&e==="coloring"?c.jsxs(Ie.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[c.jsx("button",{onClick:()=>L(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Ouvrir le coloriage"}),c.jsx("button",{onClick:()=>V(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Colorier maintenant"}),c.jsx("button",{onClick:()=>{if(O!=null&&O.images){const Be=`coloriages_${O.theme||le||"generes"}`;ig(O.images,Be)}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger le coloriage"})]},"coloring-result"):Ye&&e==="comic"?c.jsxs(Ie.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem",padding:"1rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem"},children:[c.jsx("h3",{style:{color:"var(--primary)",marginBottom:"0.5rem"},children:Ye.title||"Votre Bande Dessine"}),c.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[Ye.total_pages," ",Ye.total_pages===1?"planche":"planches","  ",Ye.total_pages*4," cases"]})]}),c.jsx("button",{onClick:()=>Re(!0),style:{padding:"0.8rem 2rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"700",fontSize:"1rem",boxShadow:"0 4px 12px rgba(245, 240, 255, 0.3)",transition:"all 0.2s ease"},onMouseOver:Be=>Be.target.style.transform="translateY(-2px)",onMouseOut:Be=>Be.target.style.transform="translateY(0)",children:" Lire la bande dessine"})]},"comics-result"):B&&e==="rhyme"&&B.suno_url&&ae?c.jsx(Ie.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsxs("div",{style:{height:"300px",maxWidth:"500px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"0.8rem",padding:"0.5rem",overflowY:"auto"},children:[B.suno_url&&ae&&c.jsx(c.Fragment,{children:c.jsxs("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",maxWidth:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",overflow:"hidden"},children:[c.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",padding:"9px 50px 0px"},children:c.jsx("h4",{style:{margin:0,fontSize:"15px",color:"#333",fontWeight:"600"},children:"Votre comptine est prte !"})}),c.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",outline:"none"},src:B.suno_url,children:"Votre navigateur ne supporte pas l'lment audio."})]})}),B.suno_url&&ae&&c.jsx(c.Fragment,{children:c.jsx("button",{onClick:async()=>{if(B.suno_url&&ae)try{const Be=await fetch(B.suno_url);if(!Be.ok)throw new Error(`Erreur HTTP: ${Be.status}`);const Ne=await Be.blob();if(Ne.size===0)throw new Error("Fichier audio indisponible");const Je=window.URL.createObjectURL(Ne),mt=(rn||B.title||"comptine").replace(/[^a-z0-9]/gi,"_").toLowerCase(),He=document.createElement("a");He.href=Je,He.download=`${mt}.mp3`,He.style.display="none",document.body.appendChild(He),He.click(),document.body.removeChild(He),setTimeout(()=>window.URL.revokeObjectURL(Je),100)}catch(Be){alert(`Erreur lors du tlchargement: ${Be.message}`)}},disabled:!ae,style:{padding:"0.8rem 2rem",backgroundColor:ae?"#6B4EFF":"#ccc",color:ae?"#fff":"#666",border:"none",borderRadius:"10px",cursor:ae?"pointer":"not-allowed",fontWeight:"600",fontSize:"14px",marginTop:"0.8rem",boxShadow:ae?"0 4px 12px rgba(245, 240, 255, 0.3)":"none",transition:"all 0.3s ease"},onMouseOver:Be=>ae&&(Be.target.style.transform="translateY(-2px)"),onMouseOut:Be=>ae&&(Be.target.style.transform="translateY(0)"),children:ae?" Tlcharger":" Prparation du tlchargement..."})})]})},"rhyme-result"):B&&(e==="histoire"||e==="audio")?c.jsx(Ie.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsxs("div",{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem",padding:"1rem",overflowY:"auto"},children:[B.audio_path&&c.jsx("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",padding:"22px",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:c.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",height:"40px",outline:"none"},src:`${jn}/audio/${B.audio_path.split("/").pop()}`,children:"Votre navigateur ne supporte pas l'lment audio."})}),c.jsxs("div",{style:{display:"flex",gap:"1rem",width:"100%",justifyContent:"center",flexWrap:"wrap"},children:[c.jsx("button",{onClick:()=>X(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Ouvrir l'histoire"}),c.jsx("button",{onClick:()=>la(B.title,B.content),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger l'histoire"}),B.audio_path&&c.jsx("button",{onClick:async()=>{try{const Be=B.audio_path.split("/").pop(),Ne=`${jn}/audio/${Be}?download=true`,Je=(B.title||"Histoire").replace(/[^a-z0-9]/gi,"_").toLowerCase(),mt=await fetch(Ne);if(!mt.ok)throw new Error(`Erreur HTTP: ${mt.status}`);const He=await mt.blob(),Qe=window.URL.createObjectURL(He),Ae=document.createElement("a");Ae.href=Qe,Ae.download=`${Je}.mp3`,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),setTimeout(()=>{window.URL.revokeObjectURL(Qe)},100)}catch{try{const Ne=B.audio_path.split("/").pop(),Je=`${jn}/audio/${Ne}?download=true`;window.open(Je,"_blank")}catch{alert("Erreur lors du tlchargement. Veuillez ressayer.")}}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger l'audio"})]})]})},"audio-story-result"):c.jsxs(Ie.div,{className:"preview-placeholder",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:["  ",!(B!=null&&B.content)&&!O&&c.jsxs("div",{className:"empty-preview",children:["    ",c.jsx("p",{children:e==="rhyme"?"Votre comptine apparatra ici":e==="histoire"||e==="audio"||e==="histoire"?"Votre histoire apparatra ici":e==="coloring"?"Votre coloriage apparatra ici":e==="comic"?"Votre bande dessine apparatra ici":e==="animation"?"Votre dessin anim apparatra ici":"Votre contenu apparatra ici"})]})]},"placeholder")})})})})})]})}),c.jsx(pi,{children:Ir&&c.jsx(Ie.div,{className:"history-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:aa,children:c.jsx(yL,{onClose:aa,onSelect:oa})})}),Q&&c.jsx(xL,{title:B.title,content:B.content,onClose:()=>X(!1)}),"    ",I&&c.jsx(bL,{coloringResult:O,selectedTheme:le,onClose:()=>L(!1)}),Y&&c.jsx(gb,{imageUrl:(()=>{var Ne;const Be=(Ne=O==null?void 0:O.images)==null?void 0:Ne[0];return Be?Be.image_url||Be:void 0})(),theme:(O==null?void 0:O.theme)||le,onClose:()=>V(!1)}),Pe&&c.jsx(jL,{comic:Ye,onClose:()=>Re(!1),baseUrl:jn}),Lt&&c.jsx(hL,{animationResult:xt,onClose:()=>Dt(!1)}),Tr&&c.jsx(p_,{isOpen:Tr,contentType:rs,options:{duration:$e,pages:we,voice:x},onSuccess:Be=>{wt(!1),Jr(!0),setTimeout(()=>{Bi()},500)},onClose:()=>{wt(!1)}}),jt&&c.jsx(x_,{isOpen:jt,onClose:()=>Mi(!1),userId:Vt==null?void 0:Vt.id,userEmail:Vt==null?void 0:Vt.email}),c.jsx(w_,{onLegalClick:Be=>{Fr(!0),tt(Be)}}),c.jsx(pi,{children:An&&c.jsx(b_,{onClose:()=>Fr(!1),initialSection:Xr})})]})}const q5=["fredagathe77@gmail.com","admin@herbbie.com"],yc="herbbie_admin_session",Do={initAuthListener(e){const t=()=>{const r=this.getStoredSession();r&&r.user?e({user:r.user,isAdmin:r.isAdmin,session:r}):e(null)};t();const n=r=>{r.key===yc&&t()};return window.addEventListener("storage",n),{unsubscribe:()=>{window.removeEventListener("storage",n)}}},async signIn(e,t){try{if(!q5.includes(e))throw new Error("Accs refus. Seuls les administrateurs peuvent accder  ce panneau.");const n={id:"admin-"+Date.now(),email:e,user_metadata:{full_name:e==="fredagathe77@gmail.com"?"Admin Principal":"Administrateur"}},r={user:n,access_token:"admin-token-"+Date.now(),token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:n,isAdmin:!0,session:r}),{user:n,session:r,isAdmin:!0}}catch(n){throw console.error("Erreur de connexion:",n),n}},async signOut(){try{localStorage.removeItem(yc)}catch(e){throw console.error("Erreur de dconnexion:",e),e}},async getCurrentUser(){try{const e=this.getStoredSession();return e&&e.user?{user:e.user,isAdmin:e.isAdmin}:null}catch(e){return console.error("Erreur lors de la rcupration de l'utilisateur:",e),null}},async checkUserIsAdmin(e){try{return!e||!e.email?!1:q5.includes(e.email)}catch(t){return console.error("Erreur lors de la vrification du rle admin:",t),!1}},async authenticateWithToken(e){try{if(!e||!e.includes("admin"))return console.warn("Token invalide"),!1;const t={id:"admin-auto-"+Date.now(),email:"admin@herbbie.com",user_metadata:{full_name:"Administrateur Auto"}},n={user:t,access_token:e,token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:t,isAdmin:!0,session:n}),{user:t,isAdmin:!0,session:n}}catch(t){return console.error("Erreur authentification automatique:",t),!1}},async getCurrentSession(){try{return this.getStoredSession()}catch(e){return console.error("Erreur lors de la rcupration de la session:",e),null}},storeSession(e){try{localStorage.setItem(yc,JSON.stringify(e))}catch(t){console.error("Erreur lors du stockage de la session:",t)}},getStoredSession(){try{const e=localStorage.getItem(yc);if(e){const t=JSON.parse(e);if(t.session&&t.session.expires_at>Date.now())return t;localStorage.removeItem(yc)}}catch(e){console.error("Erreur lors de la rcupration de la session:",e)}return null}},Bb=T.createContext(),zb=()=>{const e=T.useContext(Bb);if(!e)throw new Error("useAuth doit tre utilis dans un AuthProvider");return e},C_=({children:e})=>{const[t,n]=T.useState(null),[r,i]=T.useState(!1),[s,o]=T.useState(!0),[a,l]=T.useState(null);T.useEffect(()=>{let g;return(async()=>{try{const S=await Do.getCurrentSession();if(S!=null&&S.user){const b=await Do.checkUserIsAdmin(S.user);n(S.user),i(b),l(S)}}catch(S){console.error("Erreur lors de l'initialisation de l'authentification:",S)}finally{o(!1)}g=Do.initAuthListener(async S=>{S?(n(S.user),i(S.isAdmin),l(S.session)):(n(null),i(!1),l(null)),o(!1)})})(),()=>{g&&g.unsubscribe()}},[]);const p={user:t,isAdmin:r,loading:s,session:a,signIn:async(g,m)=>{o(!0);try{const S=await Do.signIn(g,m);return S&&(n(S.user),i(S.isAdmin),l(S.session)),S}catch(S){throw S}finally{o(!1)}},signOut:async()=>{o(!0);try{await Do.signOut(),n(null),i(!1),l(null)}catch(g){throw console.error("Erreur lors de la dconnexion:",g),g}finally{o(!1)}},authenticateWithToken:Do.authenticateWithToken.bind(Do),isAuthenticated:!!t&&r};return c.jsx(Bb.Provider,{value:p,children:e})};const A_=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState(!1),[l,d]=T.useState(!1),{signIn:f}=zb(),p=async g=>{g.preventDefault(),s(""),a(!0);try{await f(e,n),ih(e.trim())}catch(m){s(m.message||"Erreur de connexion")}finally{a(!1)}};return c.jsx("div",{className:"login-container",children:c.jsxs(Ie.div,{className:"login-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"login-header",children:[c.jsx("div",{className:"login-logo",children:c.jsxs("div",{className:"login-logo-text",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("span",{children:"Administration"})]})}),c.jsx("h2",{children:"Connexion Administrateur"}),c.jsx("p",{children:"Accs rserv aux administrateurs HERBBIE"})]}),c.jsxs("form",{className:"login-form",onSubmit:p,children:[i&&c.jsxs(Ie.div,{className:"login-error",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:[c.jsx("span",{children:""})," ",i]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"email",children:"Email administrateur"}),c.jsx(el,{value:e,onChange:g=>t(g.target.value),placeholder:"admin@herbbie.com",required:!0,disabled:o,user:null,onEmailSubmit:()=>{}})]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"password",children:"Mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:l?"text":"password",id:"password",value:n,onChange:g=>r(g.target.value),placeholder:"",required:!0,disabled:o,autoComplete:"current-password",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>d(!l),disabled:o,"aria-label":l?"Masquer le mot de passe":"Afficher le mot de passe",children:l?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),c.jsx("button",{type:"submit",className:"login-button",disabled:o||!e||!n,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"login-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),c.jsx("div",{className:"login-footer",children:c.jsx("p",{children:" Accs scuris - Seuls les administrateurs peuvent se connecter"})})]})})},og="/api/features",k_=async()=>{try{const e=await fetch(og,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok)return await e.json();throw console.error("Erreur lors de la rcupration des fonctionnalits:",e.statusText),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors de la rcupration des fonctionnalits:",e),e}},P_=async(e,t)=>{try{const n=await fetch(`${og}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:t})});if(n.ok)return(await n.json()).features;throw console.error("Erreur lors de la mise  jour:",n.statusText),new Error(`Erreur API: ${n.status}`)}catch(n){throw console.error("Erreur lors de la mise  jour de la fonctionnalit:",n),n}},L_=async()=>{try{const e=await fetch(`${og}/reset`,{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok)return(await e.json()).features;throw console.error("Erreur lors de la rinitialisation:",e.statusText),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors de la rinitialisation:",e),e}},__=async()=>{try{return await k_()}catch(e){throw e}},E_=async(e,t)=>{try{const n=await P_(e,t);return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:n})),n}catch(n){throw n}},T_=async()=>{try{const e=await L_();return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:e})),e}catch(e){throw console.error("Erreur lors de la rinitialisation des fonctionnalits:",e),e}};const F_=()=>{const[e,t]=T.useState({}),[n,r]=T.useState(!0),[i,s]=T.useState(null);T.useEffect(()=>{o()},[]);const o=async()=>{try{r(!0);const g=await __();t(g)}catch(g){console.error("Erreur lors du chargement des fonctionnalits:",g),d("Erreur lors du chargement des fonctionnalits","error")}finally{r(!1)}},a=async g=>{var m,S;try{const b=((m=e[g])==null?void 0:m.enabled)||!1,C=await E_(g,!b);if(C){t(C),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:C}));const x=b?"dsactive":"active";d(`Fonctionnalit ${(S=e[g])==null?void 0:S.name} ${x}`,"success")}else d("Erreur lors de la mise  jour","error")}catch(b){console.error("Erreur lors de la mise  jour:",b),d("Erreur lors de la mise  jour","error")}},l=async()=>{try{const g=await T_();g?(t(g),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:g})),d("Toutes les fonctionnalits ont t rinitialises","success")):d("Erreur lors de la rinitialisation","error")}catch(g){console.error("Erreur lors de la rinitialisation:",g),d("Erreur lors de la rinitialisation","error")}},d=(g,m="info")=>{s({message:g,type:m}),setTimeout(()=>s(null),3e3)},f=()=>Object.values(e).filter(g=>g.enabled).length,p=()=>Object.keys(e).length;return n?c.jsxs("div",{className:"admin-loading",children:[c.jsx("div",{className:"admin-loading-spinner"}),c.jsx("span",{children:"Chargement des fonctionnalits..."})]}):c.jsxs("div",{className:"feature-manager-container",children:[i&&c.jsx(Ie.div,{className:`admin-notification ${i.type} show`,initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},children:i.message}),c.jsxs("div",{className:"feature-manager-header",children:[c.jsxs("div",{className:"feature-manager-stats",children:[c.jsxs("div",{className:"feature-stat",children:[c.jsx("span",{className:"feature-stat-number",children:f()}),c.jsx("span",{className:"feature-stat-label",children:"Actives"})]}),c.jsxs("div",{className:"feature-stat",children:[c.jsx("span",{className:"feature-stat-number",children:p()}),c.jsx("span",{className:"feature-stat-label",children:"Total"})]}),c.jsxs("div",{className:"feature-stat",children:[c.jsxs("span",{className:"feature-stat-number",children:[Math.round(f()/p()*100),"%"]}),c.jsx("span",{className:"feature-stat-label",children:"Taux d'activation"})]})]}),c.jsx("div",{className:"feature-manager-actions",children:c.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:l,children:" Rinitialiser"})})]}),c.jsx("div",{className:"feature-manager-grid",children:Object.entries(e).map(([g,m])=>c.jsxs(Ie.div,{className:"feature-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[c.jsxs("div",{className:"feature-card-header",children:[c.jsxs("div",{className:"feature-info",children:[c.jsx("span",{className:"feature-icon",children:I_(g)}),c.jsxs("div",{className:"feature-details",children:[c.jsx("h3",{className:"feature-name",children:m.name}),c.jsx("span",{className:`feature-status ${m.enabled?"enabled":"disabled"}`,children:m.enabled?"Active":"Dsactive"})]})]}),c.jsxs("label",{className:"feature-toggle",children:[c.jsx("input",{type:"checkbox",checked:m.enabled,onChange:()=>a(g)}),c.jsx("span",{className:"toggle-slider"})]})]}),c.jsx("div",{className:"feature-card-body",children:c.jsx("p",{className:"feature-description",children:R_(g)})})]},g))}),c.jsx("div",{className:"feature-manager-info",children:c.jsxs("div",{className:"admin-card",children:[c.jsx("div",{className:"admin-card-header",children:c.jsx("h3",{children:" Informations"})}),c.jsxs("div",{className:"admin-card-body",children:[c.jsx("p",{children:"Les fonctionnalits actives sont visibles pour tous les utilisateurs de HERBBIE. Les modifications sont appliques immdiatement."}),c.jsxs("ul",{className:"feature-info-list",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Dessin anim"})," : Gnration de vidos animes"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Bande dessine"})," : Cration de BD avec bulles"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Coloriage"})," : Pages de coloriage  imprimer"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Histoire"})," : Contes audio avec narration"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Comptine"})," : Chansons avec musique gnre"]})]})]})]})})]})},I_=e=>({animation:"",comic:"",coloring:"",audio:"",rhyme:""})[e]||"",R_=e=>({animation:"Gnration de dessins anims personnaliss avec IA",comic:"Cration de bandes dessines avec bulles de dialogue",coloring:"Pages de coloriage  imprimer pour les enfants",audio:"Histoires audio avec narration automatique",rhyme:"Comptines musicales avec paroles et mlodies"})[e]||"Fonctionnalit de cration de contenu",D_=()=>{const{user:e,isAdmin:t,loading:n,signOut:r}=zb(),[i]=m6(),s=p0(),o=i.get("auth"),[a,l]=Rt.useState(!1);return T.useEffect(()=>{o==="auto"?(l(!0),window.history.replaceState({},"","/ilmysv6iepwepoa4tj2k")):!o&&!a&&localStorage.removeItem("herbbie_admin_session")},[o]),T.useEffect(()=>{const f=document.title;return document.title="HERBBIE - Administration",()=>{document.title=f}},[]),T.useEffect(()=>{const f=()=>{l(!1),localStorage.removeItem("herbbie_admin_session"),document.title="HERBBIE"};return window.addEventListener("beforeunload",f),()=>{window.removeEventListener("beforeunload",f)}},[]),n&&!a?c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:c.jsx("div",{children:"Chargement..."})}):a||e&&t?c.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"40px 20px"},children:c.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[c.jsx("h1",{style:{color:"white",textAlign:"center",marginBottom:"40px",fontSize:"2.5em"},children:" Gestion des Fonctionnalits Herbbie"}),c.jsx(F_,{}),c.jsxs("div",{style:{marginTop:"40px",textAlign:"center",display:"flex",gap:"15px",justifyContent:"center",flexWrap:"wrap"},children:[c.jsx("a",{href:"/",onClick:f=>{f.preventDefault(),localStorage.removeItem("herbbie_admin_session"),window.location.href="/"},style:{color:"white",textDecoration:"none",padding:"12px 30px",background:"rgba(255,255,255,0.2)",borderRadius:"25px",display:"inline-block",transition:"all 0.3s ease",cursor:"pointer"},children:" Retour  Herbbie"}),c.jsx("button",{onClick:async()=>{await r(),localStorage.removeItem("herbbie_admin_session"),s("/ilmysv6iepwepoa4tj2k")},style:{color:"white",border:"none",padding:"12px 30px",background:"rgba(255,0,0,0.3)",borderRadius:"25px",cursor:"pointer",fontSize:"16px",fontWeight:"500",transition:"all 0.3s ease"},children:" Dconnexion"})]})]})}):c.jsx(A_,{})},M_=()=>c.jsx(C_,{children:c.jsx(D_,{})});const O_=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState(!1),[l,d]=T.useState(!1),[f,p]=T.useState(!1),[g,m]=T.useState(!1),[S,b]=T.useState(!1),[C,x]=T.useState(!1);T.useEffect(()=>{const N=document.createElement("meta");return N.name="robots",N.content="noindex, nofollow",document.head.appendChild(N),()=>{const R=document.querySelector('meta[name="robots"]');R&&R.content==="noindex, nofollow"&&R.remove()}},[]),T.useEffect(()=>{let N,R;return(async()=>{await new Promise(F=>setTimeout(F,500));const{data:{session:W}}=await St.auth.getSession();if(W){p(!0);return}N=setTimeout(async()=>{const{data:{session:F}}=await St.auth.getSession();F||m(!0)},15e3);const{data:{subscription:B}}=St.auth.onAuthStateChange(async(F,Q)=>{(F==="PASSWORD_RECOVERY"||F==="SIGNED_IN"||F==="INITIAL_SESSION")&&Q&&(p(!0),m(!1),N&&clearTimeout(N))});R=B})(),()=>{N&&clearTimeout(N),R&&R.unsubscribe()}},[]);const w=async N=>{if(N.preventDefault(),s(""),d(!0),e.length<6){s("Le mot de passe doit contenir au moins 6 caractres"),d(!1);return}if(e!==n){s("Les mots de passe ne correspondent pas"),d(!1);return}try{const{error:R}=await St.auth.updateUser({password:e});R?s(R.message):(a(!0),setTimeout(()=>{window.location.href="/"},3e3))}catch{s("Une erreur est survenue lors de la mise  jour du mot de passe")}d(!1)};return o?c.jsx("div",{className:"reset-password-page",children:c.jsx(Ie.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:c.jsxs("div",{className:"success-message",children:[c.jsx("div",{className:"success-icon",children:""}),c.jsx("h2",{children:"Mot de passe mis  jour !"}),c.jsx("p",{children:"Votre mot de passe a t chang avec succs."}),c.jsx("p",{children:"Vous serez redirig vers la page d'accueil dans quelques secondes..."})]})})}):g?c.jsx("div",{className:"reset-password-page",children:c.jsxs(Ie.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Erreur de lien"})]}),c.jsxs("div",{className:"error-message",children:[c.jsx("div",{className:"error-icon",children:""}),c.jsx("h3",{children:"Lien de rinitialisation invalide"}),c.jsx("p",{children:"Ce lien de rinitialisation de mot de passe n'est pas valide ou a expir."}),c.jsx("p",{children:"Veuillez demander un nouveau lien de rinitialisation."})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})}):f?c.jsx("div",{className:"reset-password-page",children:c.jsxs(Ie.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Rinitialiser votre mot de passe"})]}),c.jsxs("form",{onSubmit:w,className:"reset-password-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"newPassword",children:"Nouveau mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:S?"text":"password",id:"newPassword",value:e,onChange:N=>t(N.target.value),placeholder:"Entrez votre nouveau mot de passe",required:!0,minLength:"6",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>b(!S),"aria-label":S?"Masquer le mot de passe":"Afficher le mot de passe",children:S?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:C?"text":"password",id:"confirmPassword",value:n,onChange:N=>r(N.target.value),placeholder:"Confirmez votre nouveau mot de passe",required:!0,minLength:"6",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>x(!C),"aria-label":C?"Masquer le mot de passe":"Afficher le mot de passe",children:C?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),i&&c.jsx("div",{className:"error-message",children:i}),c.jsx("button",{type:"submit",className:"reset-button",disabled:l,children:l?"Mise  jour...":"Mettre  jour le mot de passe"})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})}):c.jsx("div",{className:"reset-password-page",children:c.jsxs(Ie.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Rinitialiser votre mot de passe"})]}),c.jsxs("div",{className:"waiting-message",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Vrification de votre lien de rinitialisation..."}),c.jsx("p",{className:"waiting-subtitle",children:"Si cette page ne se met pas  jour automatiquement, assurez-vous d'avoir cliqu sur le lien complet dans votre email."})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})})};Gp.createRoot(document.getElementById("root")).render(c.jsx(Rt.StrictMode,{children:c.jsx(u6,{children:c.jsxs(BN,{children:[c.jsx(Kd,{path:"/",element:c.jsx(N_,{})}),c.jsx(Kd,{path:"/ilmysv6iepwepoa4tj2k",element:c.jsx(M_,{})}),c.jsx(Kd,{path:"/reset-password",element:c.jsx(O_,{})})]})})}));export{Tt as _};
