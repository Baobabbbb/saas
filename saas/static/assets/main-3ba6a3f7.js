import{p as Mc,_ as ih}from"./preload-helper-8235fac6-22690dc2.js";import{g as U5,s as Nt}from"./supabaseClient-54ee3b77-3619cb53.js";import{addCreation as Ig,deleteCreation as N4}from"./creations-4ab0b6d9-52219f91.js";var V5={exports:{}},qh={},H5={exports:{}},vt={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var lu=Symbol.for("react.element"),j4=Symbol.for("react.portal"),k4=Symbol.for("react.fragment"),A4=Symbol.for("react.strict_mode"),L4=Symbol.for("react.profiler"),C4=Symbol.for("react.provider"),P4=Symbol.for("react.context"),_4=Symbol.for("react.forward_ref"),E4=Symbol.for("react.suspense"),F4=Symbol.for("react.memo"),T4=Symbol.for("react.lazy"),Rg=Symbol.iterator;function I4(e){return e===null||typeof e!="object"?null:(e=Rg&&e[Rg]||e["@@iterator"],typeof e=="function"?e:null)}var W5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$5=Object.assign,G5={};function bl(e,t,n){this.props=e,this.context=t,this.refs=G5,this.updater=n||W5}bl.prototype.isReactComponent={};bl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function K5(){}K5.prototype=bl.prototype;function g1(e,t,n){this.props=e,this.context=t,this.refs=G5,this.updater=n||W5}var v1=g1.prototype=new K5;v1.constructor=g1;$5(v1,bl.prototype);v1.isPureReactComponent=!0;var Dg=Array.isArray,X5=Object.prototype.hasOwnProperty,y1={current:null},Y5={key:!0,ref:!0,__self:!0,__source:!0};function J5(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)X5.call(t,r)&&!Y5.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:lu,type:e,key:a,ref:s,props:i,_owner:y1.current}}function R4(e,t){return{$$typeof:lu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function b1(e){return typeof e=="object"&&e!==null&&e.$$typeof===lu}function D4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mg=/\/+/g;function Jf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D4(""+e.key):t.toString(36)}function Id(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case lu:case j4:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Jf(s,0):r,Dg(i)?(n="",e!=null&&(n=e.replace(Mg,"$&/")+"/"),Id(i,t,n,"",function(d){return d})):i!=null&&(b1(i)&&(i=R4(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Mg,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Dg(e))for(var o=0;o<e.length;o++){a=e[o];var c=r+Jf(a,o);s+=Id(a,t,n,c,i)}else if(c=I4(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=r+Jf(a,o++),s+=Id(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function id(e,t,n){if(e==null)return e;var r=[],i=0;return Id(e,r,"","",function(a){return t.call(n,a,i++)}),r}function M4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fr={current:null},Rd={transition:null},O4={ReactCurrentDispatcher:fr,ReactCurrentBatchConfig:Rd,ReactCurrentOwner:y1};function Q5(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:id,forEach:function(e,t,n){id(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return id(e,function(){t++}),t},toArray:function(e){return id(e,function(t){return t})||[]},only:function(e){if(!b1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vt.Component=bl;vt.Fragment=k4;vt.Profiler=L4;vt.PureComponent=g1;vt.StrictMode=A4;vt.Suspense=E4;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O4;vt.act=Q5;vt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$5({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=y1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)X5.call(t,c)&&!Y5.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:lu,type:e.type,key:i,ref:a,props:r,_owner:s}};vt.createContext=function(e){return e={$$typeof:P4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:C4,_context:e},e.Consumer=e};vt.createElement=J5;vt.createFactory=function(e){var t=J5.bind(null,e);return t.type=e,t};vt.createRef=function(){return{current:null}};vt.forwardRef=function(e){return{$$typeof:_4,render:e}};vt.isValidElement=b1;vt.lazy=function(e){return{$$typeof:T4,_payload:{_status:-1,_result:e},_init:M4}};vt.memo=function(e,t){return{$$typeof:F4,type:e,compare:t===void 0?null:t}};vt.startTransition=function(e){var t=Rd.transition;Rd.transition={};try{e()}finally{Rd.transition=t}};vt.unstable_act=Q5;vt.useCallback=function(e,t){return fr.current.useCallback(e,t)};vt.useContext=function(e){return fr.current.useContext(e)};vt.useDebugValue=function(){};vt.useDeferredValue=function(e){return fr.current.useDeferredValue(e)};vt.useEffect=function(e,t){return fr.current.useEffect(e,t)};vt.useId=function(){return fr.current.useId()};vt.useImperativeHandle=function(e,t,n){return fr.current.useImperativeHandle(e,t,n)};vt.useInsertionEffect=function(e,t){return fr.current.useInsertionEffect(e,t)};vt.useLayoutEffect=function(e,t){return fr.current.useLayoutEffect(e,t)};vt.useMemo=function(e,t){return fr.current.useMemo(e,t)};vt.useReducer=function(e,t,n){return fr.current.useReducer(e,t,n)};vt.useRef=function(e){return fr.current.useRef(e)};vt.useState=function(e){return fr.current.useState(e)};vt.useSyncExternalStore=function(e,t,n){return fr.current.useSyncExternalStore(e,t,n)};vt.useTransition=function(){return fr.current.useTransition()};vt.version="18.3.1";H5.exports=vt;var F=H5.exports;const Rt=U5(F);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var B4=F,q4=Symbol.for("react.element"),z4=Symbol.for("react.fragment"),U4=Object.prototype.hasOwnProperty,V4=B4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H4={key:!0,ref:!0,__self:!0,__source:!0};function Z5(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)U4.call(t,r)&&!H4.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:q4,type:e,key:a,ref:s,props:i,_owner:V4.current}}qh.Fragment=z4;qh.jsx=Z5;qh.jsxs=Z5;V5.exports=qh;var l=V5.exports,$p={},ey={exports:{}},$r={},ty={exports:{}},ny={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(G,ae){var Y=G.length;G.push(ae);e:for(;0<Y;){var me=Y-1>>>1,A=G[me];if(0<i(A,ae))G[me]=ae,G[Y]=A,Y=me;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ae=G[0],Y=G.pop();if(Y!==ae){G[0]=Y;e:for(var me=0,A=G.length,B=A>>>1;me<B;){var V=2*(me+1)-1,X=G[V],Q=V+1,oe=G[Q];if(0>i(X,Y))Q<A&&0>i(oe,X)?(G[me]=oe,G[Q]=Y,me=Q):(G[me]=X,G[V]=Y,me=V);else if(Q<A&&0>i(oe,Y))G[me]=oe,G[Q]=Y,me=Q;else break e}}return ae}function i(G,ae){var Y=G.sortIndex-ae.sortIndex;return Y!==0?Y:G.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],d=[],p=1,f=null,v=3,m=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(G){for(var ae=n(d);ae!==null;){if(ae.callback===null)r(d);else if(ae.startTime<=G)r(d),ae.sortIndex=ae.expirationTime,t(c,ae);else break;ae=n(d)}}function R(G){if(S=!1,j(G),!w)if(n(c)!==null)w=!0,ie(q);else{var ae=n(d);ae!==null&&he(R,ae.startTime-G)}}function q(G,ae){w=!1,S&&(S=!1,b(T),T=-1),m=!0;var Y=v;try{for(j(ae),f=n(c);f!==null&&(!(f.expirationTime>ae)||G&&!E());){var me=f.callback;if(typeof me=="function"){f.callback=null,v=f.priorityLevel;var A=me(f.expirationTime<=ae);ae=e.unstable_now(),typeof A=="function"?f.callback=A:f===n(c)&&r(c),j(ae)}else r(c);f=n(c)}if(f!==null)var B=!0;else{var V=n(d);V!==null&&he(R,V.startTime-ae),B=!1}return B}finally{f=null,v=Y,m=!1}}var H=!1,D=null,T=-1,J=5,Z=-1;function E(){return!(e.unstable_now()-Z<J)}function M(){if(D!==null){var G=e.unstable_now();Z=G;var ae=!0;try{ae=D(!0,G)}finally{ae?K():(H=!1,D=null)}}else H=!1}var K;if(typeof x=="function")K=function(){x(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,le=z.port2;z.port1.onmessage=M,K=function(){le.postMessage(null)}}else K=function(){k(M,0)};function ie(G){D=G,H||(H=!0,K())}function he(G,ae){T=k(function(){G(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,ie(q))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(G){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var Y=v;v=ae;try{return G()}finally{v=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Y=v;v=G;try{return ae()}finally{v=Y}},e.unstable_scheduleCallback=function(G,ae,Y){var me=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?me+Y:me):Y=me,G){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=Y+A,G={id:p++,callback:ae,priorityLevel:G,startTime:Y,expirationTime:A,sortIndex:-1},Y>me?(G.sortIndex=Y,t(d,G),n(c)===null&&G===n(d)&&(S?(b(T),T=-1):S=!0,he(R,Y-me))):(G.sortIndex=A,t(c,G),w||m||(w=!0,ie(q))),G},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(G){var ae=v;return function(){var Y=v;v=ae;try{return G.apply(this,arguments)}finally{v=Y}}}})(ny);ty.exports=ny;var W4=ty.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var $4=F,Hr=W4;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ry=new Set,Oc={};function to(e,t){ll(e,t),ll(e+"Capture",t)}function ll(e,t){for(Oc[e]=t,e=0;e<t.length;e++)ry.add(t[e])}var ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gp=Object.prototype.hasOwnProperty,G4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Og={},Bg={};function K4(e){return Gp.call(Bg,e)?!0:Gp.call(Og,e)?!1:G4.test(e)?Bg[e]=!0:(Og[e]=!0,!1)}function X4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Y4(e,t,n,r){if(t===null||typeof t>"u"||X4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pr(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Hn[e]=new pr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Hn[t]=new pr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Hn[e]=new pr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Hn[e]=new pr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Hn[e]=new pr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Hn[e]=new pr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Hn[e]=new pr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Hn[e]=new pr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Hn[e]=new pr(e,5,!1,e.toLowerCase(),null,!1,!1)});var x1=/[\-:]([a-z])/g;function w1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x1,w1);Hn[t]=new pr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x1,w1);Hn[t]=new pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x1,w1);Hn[t]=new pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Hn[e]=new pr(e,1,!1,e.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Hn[e]=new pr(e,1,!1,e.toLowerCase(),null,!0,!0)});function S1(e,t,n,r){var i=Hn.hasOwnProperty(t)?Hn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Y4(t,n,i,r)&&(n=null),r||i===null?K4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _a=$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ad=Symbol.for("react.element"),To=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),N1=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),iy=Symbol.for("react.provider"),ay=Symbol.for("react.context"),j1=Symbol.for("react.forward_ref"),Xp=Symbol.for("react.suspense"),Yp=Symbol.for("react.suspense_list"),k1=Symbol.for("react.memo"),Qa=Symbol.for("react.lazy"),sy=Symbol.for("react.offscreen"),qg=Symbol.iterator;function nc(e){return e===null||typeof e!="object"?null:(e=qg&&e[qg]||e["@@iterator"],typeof e=="function"?e:null)}var nn=Object.assign,Qf;function gc(e){if(Qf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qf=t&&t[1]||""}return`
`+Qf+e}var Zf=!1;function ep(e,t){if(!e||Zf)return"";Zf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{Zf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gc(e):""}function J4(e){switch(e.tag){case 5:return gc(e.type);case 16:return gc("Lazy");case 13:return gc("Suspense");case 19:return gc("SuspenseList");case 0:case 2:case 15:return e=ep(e.type,!1),e;case 11:return e=ep(e.type.render,!1),e;case 1:return e=ep(e.type,!0),e;default:return""}}function Jp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Io:return"Fragment";case To:return"Portal";case Kp:return"Profiler";case N1:return"StrictMode";case Xp:return"Suspense";case Yp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ay:return(e.displayName||"Context")+".Consumer";case iy:return(e._context.displayName||"Context")+".Provider";case j1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k1:return t=e.displayName||null,t!==null?t:Jp(e.type)||"Memo";case Qa:t=e._payload,e=e._init;try{return Jp(e(t))}catch{}}return null}function Q4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jp(t);case 8:return t===N1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Z4(e){var t=oy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sd(e){e._valueTracker||(e._valueTracker=Z4(e))}function ly(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ah(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qp(e,t){var n=t.checked;return nn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cy(e,t){t=t.checked,t!=null&&S1(e,"checked",t,!1)}function Zp(e,t){cy(e,t);var n=fs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?em(e,t.type,n):t.hasOwnProperty("defaultValue")&&em(e,t.type,fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ug(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function em(e,t,n){(t!=="number"||ah(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vc=Array.isArray;function Qo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function tm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return nn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_e(92));if(vc(n)){if(1<n.length)throw Error(_e(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fs(n)}}function uy(e,t){var n=fs(t.value),r=fs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var od,hy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(od=od||document.createElement("div"),od.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=od.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eS=["Webkit","ms","Moz","O"];Object.keys(Nc).forEach(function(e){eS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nc[t]=Nc[e]})});function fy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nc.hasOwnProperty(e)&&Nc[e]?(""+t).trim():t+"px"}function py(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var tS=nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rm(e,t){if(t){if(tS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function im(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var am=null;function A1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sm=null,Zo=null,el=null;function Wg(e){if(e=du(e)){if(typeof sm!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=Wh(t),sm(e.stateNode,e.type,t))}}function my(e){Zo?el?el.push(e):el=[e]:Zo=e}function gy(){if(Zo){var e=Zo,t=el;if(el=Zo=null,Wg(e),t)for(e=0;e<t.length;e++)Wg(t[e])}}function vy(e,t){return e(t)}function yy(){}var tp=!1;function by(e,t,n){if(tp)return e(t,n);tp=!0;try{return vy(e,t,n)}finally{tp=!1,(Zo!==null||el!==null)&&(yy(),gy())}}function qc(e,t){var n=e.stateNode;if(n===null)return null;var r=Wh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_e(231,t,typeof n));return n}var om=!1;if(ja)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){om=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{om=!1}function nS(e,t,n,r,i,a,s,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var jc=!1,sh=null,oh=!1,lm=null,rS={onError:function(e){jc=!0,sh=e}};function iS(e,t,n,r,i,a,s,o,c){jc=!1,sh=null,nS.apply(rS,arguments)}function aS(e,t,n,r,i,a,s,o,c){if(iS.apply(this,arguments),jc){if(jc){var d=sh;jc=!1,sh=null}else throw Error(_e(198));oh||(oh=!0,lm=d)}}function no(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $g(e){if(no(e)!==e)throw Error(_e(188))}function sS(e){var t=e.alternate;if(!t){if(t=no(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $g(i),e;if(a===r)return $g(i),t;a=a.sibling}throw Error(_e(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?e:t}function wy(e){return e=sS(e),e!==null?Sy(e):null}function Sy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sy(e);if(t!==null)return t;e=e.sibling}return null}var Ny=Hr.unstable_scheduleCallback,Gg=Hr.unstable_cancelCallback,oS=Hr.unstable_shouldYield,lS=Hr.unstable_requestPaint,fn=Hr.unstable_now,cS=Hr.unstable_getCurrentPriorityLevel,L1=Hr.unstable_ImmediatePriority,jy=Hr.unstable_UserBlockingPriority,lh=Hr.unstable_NormalPriority,uS=Hr.unstable_LowPriority,ky=Hr.unstable_IdlePriority,zh=null,Xi=null;function dS(e){if(Xi&&typeof Xi.onCommitFiberRoot=="function")try{Xi.onCommitFiberRoot(zh,e,void 0,(e.current.flags&128)===128)}catch{}}var _i=Math.clz32?Math.clz32:pS,hS=Math.log,fS=Math.LN2;function pS(e){return e>>>=0,e===0?32:31-(hS(e)/fS|0)|0}var ld=64,cd=4194304;function yc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ch(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=yc(o):(a&=s,a!==0&&(r=yc(a)))}else s=n&~i,s!==0?r=yc(s):a!==0&&(r=yc(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_i(t),i=1<<n,r|=e[n],t&=~i;return r}function mS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-_i(a),o=1<<s,c=i[s];c===-1?(!(o&n)||o&r)&&(i[s]=mS(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function cm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ay(){var e=ld;return ld<<=1,!(ld&4194240)&&(ld=64),e}function np(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_i(t),e[t]=n}function vS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-_i(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function C1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_i(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Tt=0;function Ly(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cy,P1,Py,_y,Ey,um=!1,ud=[],as=null,ss=null,os=null,zc=new Map,Uc=new Map,es=[],yS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kg(e,t){switch(e){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":zc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(t.pointerId)}}function ic(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=du(t),t!==null&&P1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function bS(e,t,n,r,i){switch(t){case"focusin":return as=ic(as,e,t,n,r,i),!0;case"dragenter":return ss=ic(ss,e,t,n,r,i),!0;case"mouseover":return os=ic(os,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return zc.set(a,ic(zc.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Uc.set(a,ic(Uc.get(a)||null,e,t,n,r,i)),!0}return!1}function Fy(e){var t=Us(e.target);if(t!==null){var n=no(t);if(n!==null){if(t=n.tag,t===13){if(t=xy(n),t!==null){e.blockedOn=t,Ey(e.priority,function(){Py(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);am=r,n.target.dispatchEvent(r),am=null}else return t=du(n),t!==null&&P1(t),e.blockedOn=n,!1;t.shift()}return!0}function Xg(e,t,n){Dd(e)&&n.delete(t)}function xS(){um=!1,as!==null&&Dd(as)&&(as=null),ss!==null&&Dd(ss)&&(ss=null),os!==null&&Dd(os)&&(os=null),zc.forEach(Xg),Uc.forEach(Xg)}function ac(e,t){e.blockedOn===t&&(e.blockedOn=null,um||(um=!0,Hr.unstable_scheduleCallback(Hr.unstable_NormalPriority,xS)))}function Vc(e){function t(i){return ac(i,e)}if(0<ud.length){ac(ud[0],e);for(var n=1;n<ud.length;n++){var r=ud[n];r.blockedOn===e&&(r.blockedOn=null)}}for(as!==null&&ac(as,e),ss!==null&&ac(ss,e),os!==null&&ac(os,e),zc.forEach(t),Uc.forEach(t),n=0;n<es.length;n++)r=es[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<es.length&&(n=es[0],n.blockedOn===null);)Fy(n),n.blockedOn===null&&es.shift()}var tl=_a.ReactCurrentBatchConfig,uh=!0;function wS(e,t,n,r){var i=Tt,a=tl.transition;tl.transition=null;try{Tt=1,_1(e,t,n,r)}finally{Tt=i,tl.transition=a}}function SS(e,t,n,r){var i=Tt,a=tl.transition;tl.transition=null;try{Tt=4,_1(e,t,n,r)}finally{Tt=i,tl.transition=a}}function _1(e,t,n,r){if(uh){var i=dm(e,t,n,r);if(i===null)hp(e,t,r,dh,n),Kg(e,r);else if(bS(i,e,t,n,r))r.stopPropagation();else if(Kg(e,r),t&4&&-1<yS.indexOf(e)){for(;i!==null;){var a=du(i);if(a!==null&&Cy(a),a=dm(e,t,n,r),a===null&&hp(e,t,r,dh,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else hp(e,t,r,null,n)}}var dh=null;function dm(e,t,n,r){if(dh=null,e=A1(r),e=Us(e),e!==null)if(t=no(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dh=e,null}function Ty(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cS()){case L1:return 1;case jy:return 4;case lh:case uS:return 16;case ky:return 536870912;default:return 16}default:return 16}}var ns=null,E1=null,Md=null;function Iy(){if(Md)return Md;var e,t=E1,n=t.length,r,i="value"in ns?ns.value:ns.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Md=i.slice(e,1<r?1-r:void 0)}function Od(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dd(){return!0}function Yg(){return!1}function Gr(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?dd:Yg,this.isPropagationStopped=Yg,this}return nn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),t}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F1=Gr(xl),uu=nn({},xl,{view:0,detail:0}),NS=Gr(uu),rp,ip,sc,Uh=nn({},uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sc&&(sc&&e.type==="mousemove"?(rp=e.screenX-sc.screenX,ip=e.screenY-sc.screenY):ip=rp=0,sc=e),rp)},movementY:function(e){return"movementY"in e?e.movementY:ip}}),Jg=Gr(Uh),jS=nn({},Uh,{dataTransfer:0}),kS=Gr(jS),AS=nn({},uu,{relatedTarget:0}),ap=Gr(AS),LS=nn({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),CS=Gr(LS),PS=nn({},xl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_S=Gr(PS),ES=nn({},xl,{data:0}),Qg=Gr(ES),FS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IS[e])?!!t[e]:!1}function T1(){return RS}var DS=nn({},uu,{key:function(e){if(e.key){var t=FS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T1,charCode:function(e){return e.type==="keypress"?Od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MS=Gr(DS),OS=nn({},Uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zg=Gr(OS),BS=nn({},uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T1}),qS=Gr(BS),zS=nn({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),US=Gr(zS),VS=nn({},Uh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HS=Gr(VS),WS=[9,13,27,32],I1=ja&&"CompositionEvent"in window,kc=null;ja&&"documentMode"in document&&(kc=document.documentMode);var $S=ja&&"TextEvent"in window&&!kc,Ry=ja&&(!I1||kc&&8<kc&&11>=kc),e2=String.fromCharCode(32),t2=!1;function Dy(e,t){switch(e){case"keyup":return WS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function My(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ro=!1;function GS(e,t){switch(e){case"compositionend":return My(t);case"keypress":return t.which!==32?null:(t2=!0,e2);case"textInput":return e=t.data,e===e2&&t2?null:e;default:return null}}function KS(e,t){if(Ro)return e==="compositionend"||!I1&&Dy(e,t)?(e=Iy(),Md=E1=ns=null,Ro=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ry&&t.locale!=="ko"?null:t.data;default:return null}}var XS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XS[e.type]:t==="textarea"}function Oy(e,t,n,r){my(r),t=hh(t,"onChange"),0<t.length&&(n=new F1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ac=null,Hc=null;function YS(e){Xy(e,0)}function Vh(e){var t=Oo(e);if(ly(t))return e}function JS(e,t){if(e==="change")return t}var By=!1;if(ja){var sp;if(ja){var op="oninput"in document;if(!op){var r2=document.createElement("div");r2.setAttribute("oninput","return;"),op=typeof r2.oninput=="function"}sp=op}else sp=!1;By=sp&&(!document.documentMode||9<document.documentMode)}function i2(){Ac&&(Ac.detachEvent("onpropertychange",qy),Hc=Ac=null)}function qy(e){if(e.propertyName==="value"&&Vh(Hc)){var t=[];Oy(t,Hc,e,A1(e)),by(YS,t)}}function QS(e,t,n){e==="focusin"?(i2(),Ac=t,Hc=n,Ac.attachEvent("onpropertychange",qy)):e==="focusout"&&i2()}function ZS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vh(Hc)}function e6(e,t){if(e==="click")return Vh(t)}function t6(e,t){if(e==="input"||e==="change")return Vh(t)}function n6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fi=typeof Object.is=="function"?Object.is:n6;function Wc(e,t){if(Fi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gp.call(t,i)||!Fi(e[i],t[i]))return!1}return!0}function a2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function s2(e,t){var n=a2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=a2(n)}}function zy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uy(){for(var e=window,t=ah();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ah(e.document)}return t}function R1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function r6(e){var t=Uy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zy(n.ownerDocument.documentElement,n)){if(r!==null&&R1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=s2(n,a);var s=s2(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var i6=ja&&"documentMode"in document&&11>=document.documentMode,Do=null,hm=null,Lc=null,fm=!1;function o2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fm||Do==null||Do!==ah(r)||(r=Do,"selectionStart"in r&&R1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lc&&Wc(Lc,r)||(Lc=r,r=hh(hm,"onSelect"),0<r.length&&(t=new F1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Do)))}function hd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mo={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},lp={},Vy={};ja&&(Vy=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Hh(e){if(lp[e])return lp[e];if(!Mo[e])return e;var t=Mo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vy)return lp[e]=t[n];return e}var Hy=Hh("animationend"),Wy=Hh("animationiteration"),$y=Hh("animationstart"),Gy=Hh("transitionend"),Ky=new Map,l2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(e,t){Ky.set(e,t),to(t,[e])}for(var cp=0;cp<l2.length;cp++){var up=l2[cp],a6=up.toLowerCase(),s6=up[0].toUpperCase()+up.slice(1);bs(a6,"on"+s6)}bs(Hy,"onAnimationEnd");bs(Wy,"onAnimationIteration");bs($y,"onAnimationStart");bs("dblclick","onDoubleClick");bs("focusin","onFocus");bs("focusout","onBlur");bs(Gy,"onTransitionEnd");ll("onMouseEnter",["mouseout","mouseover"]);ll("onMouseLeave",["mouseout","mouseover"]);ll("onPointerEnter",["pointerout","pointerover"]);ll("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o6=new Set("cancel close invalid load scroll toggle".split(" ").concat(bc));function c2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,aS(r,t,void 0,e),e.currentTarget=null}function Xy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;c2(i,o,d),a=c}else for(s=0;s<r.length;s++){if(o=r[s],c=o.instance,d=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;c2(i,o,d),a=c}}}if(oh)throw e=lm,oh=!1,lm=null,e}function Ht(e,t){var n=t[ym];n===void 0&&(n=t[ym]=new Set);var r=e+"__bubble";n.has(r)||(Yy(t,e,2,!1),n.add(r))}function dp(e,t,n){var r=0;t&&(r|=4),Yy(n,e,r,t)}var fd="_reactListening"+Math.random().toString(36).slice(2);function $c(e){if(!e[fd]){e[fd]=!0,ry.forEach(function(n){n!=="selectionchange"&&(o6.has(n)||dp(n,!1,e),dp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fd]||(t[fd]=!0,dp("selectionchange",!1,t))}}function Yy(e,t,n,r){switch(Ty(t)){case 1:var i=wS;break;case 4:i=SS;break;default:i=_1}n=i.bind(null,t,n,e),i=void 0,!om||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function hp(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Us(o),s===null)return;if(c=s.tag,c===5||c===6){r=a=s;continue e}o=o.parentNode}}r=r.return}by(function(){var d=a,p=A1(n),f=[];e:{var v=Ky.get(e);if(v!==void 0){var m=F1,w=e;switch(e){case"keypress":if(Od(n)===0)break e;case"keydown":case"keyup":m=MS;break;case"focusin":w="focus",m=ap;break;case"focusout":w="blur",m=ap;break;case"beforeblur":case"afterblur":m=ap;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qS;break;case Hy:case Wy:case $y:m=CS;break;case Gy:m=US;break;case"scroll":m=NS;break;case"wheel":m=HS;break;case"copy":case"cut":case"paste":m=_S;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zg}var S=(t&4)!==0,k=!S&&e==="scroll",b=S?v!==null?v+"Capture":null:v;S=[];for(var x=d,j;x!==null;){j=x;var R=j.stateNode;if(j.tag===5&&R!==null&&(j=R,b!==null&&(R=qc(x,b),R!=null&&S.push(Gc(x,R,j)))),k)break;x=x.return}0<S.length&&(v=new m(v,w,null,n,p),f.push({event:v,listeners:S}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",v&&n!==am&&(w=n.relatedTarget||n.fromElement)&&(Us(w)||w[ka]))break e;if((m||v)&&(v=p.window===p?p:(v=p.ownerDocument)?v.defaultView||v.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=d,w=w?Us(w):null,w!==null&&(k=no(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=d),m!==w)){if(S=Jg,R="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(S=Zg,R="onPointerLeave",b="onPointerEnter",x="pointer"),k=m==null?v:Oo(m),j=w==null?v:Oo(w),v=new S(R,x+"leave",m,n,p),v.target=k,v.relatedTarget=j,R=null,Us(p)===d&&(S=new S(b,x+"enter",w,n,p),S.target=j,S.relatedTarget=k,R=S),k=R,m&&w)t:{for(S=m,b=w,x=0,j=S;j;j=Lo(j))x++;for(j=0,R=b;R;R=Lo(R))j++;for(;0<x-j;)S=Lo(S),x--;for(;0<j-x;)b=Lo(b),j--;for(;x--;){if(S===b||b!==null&&S===b.alternate)break t;S=Lo(S),b=Lo(b)}S=null}else S=null;m!==null&&u2(f,v,m,S,!1),w!==null&&k!==null&&u2(f,k,w,S,!0)}}e:{if(v=d?Oo(d):window,m=v.nodeName&&v.nodeName.toLowerCase(),m==="select"||m==="input"&&v.type==="file")var q=JS;else if(n2(v))if(By)q=t6;else{q=ZS;var H=QS}else(m=v.nodeName)&&m.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(q=e6);if(q&&(q=q(e,d))){Oy(f,q,n,p);break e}H&&H(e,v,d),e==="focusout"&&(H=v._wrapperState)&&H.controlled&&v.type==="number"&&em(v,"number",v.value)}switch(H=d?Oo(d):window,e){case"focusin":(n2(H)||H.contentEditable==="true")&&(Do=H,hm=d,Lc=null);break;case"focusout":Lc=hm=Do=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,o2(f,n,p);break;case"selectionchange":if(i6)break;case"keydown":case"keyup":o2(f,n,p)}var D;if(I1)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ro?Dy(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Ry&&n.locale!=="ko"&&(Ro||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ro&&(D=Iy()):(ns=p,E1="value"in ns?ns.value:ns.textContent,Ro=!0)),H=hh(d,T),0<H.length&&(T=new Qg(T,e,null,n,p),f.push({event:T,listeners:H}),D?T.data=D:(D=My(n),D!==null&&(T.data=D)))),(D=$S?GS(e,n):KS(e,n))&&(d=hh(d,"onBeforeInput"),0<d.length&&(p=new Qg("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:d}),p.data=D))}Xy(f,t)})}function Gc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hh(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=qc(e,n),a!=null&&r.unshift(Gc(e,a,i)),a=qc(e,t),a!=null&&r.push(Gc(e,a,i))),e=e.return}return r}function Lo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function u2(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,i?(c=qc(n,a),c!=null&&s.unshift(Gc(n,c,o))):i||(c=qc(n,a),c!=null&&s.push(Gc(n,c,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var l6=/\r\n?/g,c6=/\u0000|\uFFFD/g;function d2(e){return(typeof e=="string"?e:""+e).replace(l6,`
`).replace(c6,"")}function pd(e,t,n){if(t=d2(t),d2(e)!==t&&n)throw Error(_e(425))}function fh(){}var pm=null,mm=null;function gm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vm=typeof setTimeout=="function"?setTimeout:void 0,u6=typeof clearTimeout=="function"?clearTimeout:void 0,h2=typeof Promise=="function"?Promise:void 0,d6=typeof queueMicrotask=="function"?queueMicrotask:typeof h2<"u"?function(e){return h2.resolve(null).then(e).catch(h6)}:vm;function h6(e){setTimeout(function(){throw e})}function fp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Vc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vc(t)}function ls(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function f2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wl=Math.random().toString(36).slice(2),Gi="__reactFiber$"+wl,Kc="__reactProps$"+wl,ka="__reactContainer$"+wl,ym="__reactEvents$"+wl,f6="__reactListeners$"+wl,p6="__reactHandles$"+wl;function Us(e){var t=e[Gi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ka]||n[Gi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=f2(e);e!==null;){if(n=e[Gi])return n;e=f2(e)}return t}e=n,n=e.parentNode}return null}function du(e){return e=e[Gi]||e[ka],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Oo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function Wh(e){return e[Kc]||null}var bm=[],Bo=-1;function xs(e){return{current:e}}function $t(e){0>Bo||(e.current=bm[Bo],bm[Bo]=null,Bo--)}function Ut(e,t){Bo++,bm[Bo]=e.current,e.current=t}var ps={},rr=xs(ps),jr=xs(!1),Ys=ps;function cl(e,t){var n=e.type.contextTypes;if(!n)return ps;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function kr(e){return e=e.childContextTypes,e!=null}function ph(){$t(jr),$t(rr)}function p2(e,t,n){if(rr.current!==ps)throw Error(_e(168));Ut(rr,t),Ut(jr,n)}function Jy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(_e(108,Q4(e)||"Unknown",i));return nn({},n,r)}function mh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ps,Ys=rr.current,Ut(rr,e),Ut(jr,jr.current),!0}function m2(e,t,n){var r=e.stateNode;if(!r)throw Error(_e(169));n?(e=Jy(e,t,Ys),r.__reactInternalMemoizedMergedChildContext=e,$t(jr),$t(rr),Ut(rr,e)):$t(jr),Ut(jr,n)}var va=null,$h=!1,pp=!1;function Qy(e){va===null?va=[e]:va.push(e)}function m6(e){$h=!0,Qy(e)}function ws(){if(!pp&&va!==null){pp=!0;var e=0,t=Tt;try{var n=va;for(Tt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}va=null,$h=!1}catch(i){throw va!==null&&(va=va.slice(e+1)),Ny(L1,ws),i}finally{Tt=t,pp=!1}}return null}var qo=[],zo=0,gh=null,vh=0,hi=[],fi=0,Js=null,ya=1,ba="";function Ds(e,t){qo[zo++]=vh,qo[zo++]=gh,gh=e,vh=t}function Zy(e,t,n){hi[fi++]=ya,hi[fi++]=ba,hi[fi++]=Js,Js=e;var r=ya;e=ba;var i=32-_i(r)-1;r&=~(1<<i),n+=1;var a=32-_i(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ya=1<<32-_i(t)+i|n<<i|r,ba=a+e}else ya=1<<a|n<<i|r,ba=e}function D1(e){e.return!==null&&(Ds(e,1),Zy(e,1,0))}function M1(e){for(;e===gh;)gh=qo[--zo],qo[zo]=null,vh=qo[--zo],qo[zo]=null;for(;e===Js;)Js=hi[--fi],hi[fi]=null,ba=hi[--fi],hi[fi]=null,ya=hi[--fi],hi[fi]=null}var Ur=null,Br=null,Yt=!1,Pi=null;function eb(e,t){var n=pi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function g2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ur=e,Br=ls(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ur=e,Br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Js!==null?{id:ya,overflow:ba}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ur=e,Br=null,!0):!1;default:return!1}}function xm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wm(e){if(Yt){var t=Br;if(t){var n=t;if(!g2(e,t)){if(xm(e))throw Error(_e(418));t=ls(n.nextSibling);var r=Ur;t&&g2(e,t)?eb(r,n):(e.flags=e.flags&-4097|2,Yt=!1,Ur=e)}}else{if(xm(e))throw Error(_e(418));e.flags=e.flags&-4097|2,Yt=!1,Ur=e}}}function v2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ur=e}function md(e){if(e!==Ur)return!1;if(!Yt)return v2(e),Yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gm(e.type,e.memoizedProps)),t&&(t=Br)){if(xm(e))throw tb(),Error(_e(418));for(;t;)eb(e,t),t=ls(t.nextSibling)}if(v2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Br=ls(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Br=null}}else Br=Ur?ls(e.stateNode.nextSibling):null;return!0}function tb(){for(var e=Br;e;)e=ls(e.nextSibling)}function ul(){Br=Ur=null,Yt=!1}function O1(e){Pi===null?Pi=[e]:Pi.push(e)}var g6=_a.ReactCurrentBatchConfig;function oc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,e))}return e}function gd(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function y2(e){var t=e._init;return t(e._payload)}function nb(e){function t(b,x){if(e){var j=b.deletions;j===null?(b.deletions=[x],b.flags|=16):j.push(x)}}function n(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=hs(b,x),b.index=0,b.sibling=null,b}function a(b,x,j){return b.index=j,e?(j=b.alternate,j!==null?(j=j.index,j<x?(b.flags|=2,x):j):(b.flags|=2,x)):(b.flags|=1048576,x)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,x,j,R){return x===null||x.tag!==6?(x=wp(j,b.mode,R),x.return=b,x):(x=i(x,j),x.return=b,x)}function c(b,x,j,R){var q=j.type;return q===Io?p(b,x,j.props.children,R,j.key):x!==null&&(x.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Qa&&y2(q)===x.type)?(R=i(x,j.props),R.ref=oc(b,x,j),R.return=b,R):(R=Wd(j.type,j.key,j.props,null,b.mode,R),R.ref=oc(b,x,j),R.return=b,R)}function d(b,x,j,R){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=Sp(j,b.mode,R),x.return=b,x):(x=i(x,j.children||[]),x.return=b,x)}function p(b,x,j,R,q){return x===null||x.tag!==7?(x=Gs(j,b.mode,R,q),x.return=b,x):(x=i(x,j),x.return=b,x)}function f(b,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return x=wp(""+x,b.mode,j),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ad:return j=Wd(x.type,x.key,x.props,null,b.mode,j),j.ref=oc(b,null,x),j.return=b,j;case To:return x=Sp(x,b.mode,j),x.return=b,x;case Qa:var R=x._init;return f(b,R(x._payload),j)}if(vc(x)||nc(x))return x=Gs(x,b.mode,j,null),x.return=b,x;gd(b,x)}return null}function v(b,x,j,R){var q=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return q!==null?null:o(b,x,""+j,R);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ad:return j.key===q?c(b,x,j,R):null;case To:return j.key===q?d(b,x,j,R):null;case Qa:return q=j._init,v(b,x,q(j._payload),R)}if(vc(j)||nc(j))return q!==null?null:p(b,x,j,R,null);gd(b,j)}return null}function m(b,x,j,R,q){if(typeof R=="string"&&R!==""||typeof R=="number")return b=b.get(j)||null,o(x,b,""+R,q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ad:return b=b.get(R.key===null?j:R.key)||null,c(x,b,R,q);case To:return b=b.get(R.key===null?j:R.key)||null,d(x,b,R,q);case Qa:var H=R._init;return m(b,x,j,H(R._payload),q)}if(vc(R)||nc(R))return b=b.get(j)||null,p(x,b,R,q,null);gd(x,R)}return null}function w(b,x,j,R){for(var q=null,H=null,D=x,T=x=0,J=null;D!==null&&T<j.length;T++){D.index>T?(J=D,D=null):J=D.sibling;var Z=v(b,D,j[T],R);if(Z===null){D===null&&(D=J);break}e&&D&&Z.alternate===null&&t(b,D),x=a(Z,x,T),H===null?q=Z:H.sibling=Z,H=Z,D=J}if(T===j.length)return n(b,D),Yt&&Ds(b,T),q;if(D===null){for(;T<j.length;T++)D=f(b,j[T],R),D!==null&&(x=a(D,x,T),H===null?q=D:H.sibling=D,H=D);return Yt&&Ds(b,T),q}for(D=r(b,D);T<j.length;T++)J=m(D,b,T,j[T],R),J!==null&&(e&&J.alternate!==null&&D.delete(J.key===null?T:J.key),x=a(J,x,T),H===null?q=J:H.sibling=J,H=J);return e&&D.forEach(function(E){return t(b,E)}),Yt&&Ds(b,T),q}function S(b,x,j,R){var q=nc(j);if(typeof q!="function")throw Error(_e(150));if(j=q.call(j),j==null)throw Error(_e(151));for(var H=q=null,D=x,T=x=0,J=null,Z=j.next();D!==null&&!Z.done;T++,Z=j.next()){D.index>T?(J=D,D=null):J=D.sibling;var E=v(b,D,Z.value,R);if(E===null){D===null&&(D=J);break}e&&D&&E.alternate===null&&t(b,D),x=a(E,x,T),H===null?q=E:H.sibling=E,H=E,D=J}if(Z.done)return n(b,D),Yt&&Ds(b,T),q;if(D===null){for(;!Z.done;T++,Z=j.next())Z=f(b,Z.value,R),Z!==null&&(x=a(Z,x,T),H===null?q=Z:H.sibling=Z,H=Z);return Yt&&Ds(b,T),q}for(D=r(b,D);!Z.done;T++,Z=j.next())Z=m(D,b,T,Z.value,R),Z!==null&&(e&&Z.alternate!==null&&D.delete(Z.key===null?T:Z.key),x=a(Z,x,T),H===null?q=Z:H.sibling=Z,H=Z);return e&&D.forEach(function(M){return t(b,M)}),Yt&&Ds(b,T),q}function k(b,x,j,R){if(typeof j=="object"&&j!==null&&j.type===Io&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ad:e:{for(var q=j.key,H=x;H!==null;){if(H.key===q){if(q=j.type,q===Io){if(H.tag===7){n(b,H.sibling),x=i(H,j.props.children),x.return=b,b=x;break e}}else if(H.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Qa&&y2(q)===H.type){n(b,H.sibling),x=i(H,j.props),x.ref=oc(b,H,j),x.return=b,b=x;break e}n(b,H);break}else t(b,H);H=H.sibling}j.type===Io?(x=Gs(j.props.children,b.mode,R,j.key),x.return=b,b=x):(R=Wd(j.type,j.key,j.props,null,b.mode,R),R.ref=oc(b,x,j),R.return=b,b=R)}return s(b);case To:e:{for(H=j.key;x!==null;){if(x.key===H)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){n(b,x.sibling),x=i(x,j.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else t(b,x);x=x.sibling}x=Sp(j,b.mode,R),x.return=b,b=x}return s(b);case Qa:return H=j._init,k(b,x,H(j._payload),R)}if(vc(j))return w(b,x,j,R);if(nc(j))return S(b,x,j,R);gd(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,x!==null&&x.tag===6?(n(b,x.sibling),x=i(x,j),x.return=b,b=x):(n(b,x),x=wp(j,b.mode,R),x.return=b,b=x),s(b)):n(b,x)}return k}var dl=nb(!0),rb=nb(!1),yh=xs(null),bh=null,Uo=null,B1=null;function q1(){B1=Uo=bh=null}function z1(e){var t=yh.current;$t(yh),e._currentValue=t}function Sm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nl(e,t){bh=e,B1=Uo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function gi(e){var t=e._currentValue;if(B1!==e)if(e={context:e,memoizedValue:t,next:null},Uo===null){if(bh===null)throw Error(_e(308));Uo=e,bh.dependencies={lanes:0,firstContext:e}}else Uo=Uo.next=e;return t}var Vs=null;function U1(e){Vs===null?Vs=[e]:Vs.push(e)}function ib(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,U1(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Za=!1;function V1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ab(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,jt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return i=r.interleaved,i===null?(t.next=t,U1(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Bd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,C1(e,n)}}function b2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xh(e,t,n,r){var i=e.updateQueue;Za=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,d=c.next;c.next=null,s===null?a=d:s.next=d,s=c;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==s&&(o===null?p.firstBaseUpdate=d:o.next=d,p.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,p=d=c=null,o=a;do{var v=o.lane,m=o.eventTime;if((r&v)===v){p!==null&&(p=p.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,S=o;switch(v=t,m=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){f=w.call(m,f,v);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,v=typeof w=="function"?w.call(m,f,v):w,v==null)break e;f=nn({},f,v);break e;case 2:Za=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[o]:v.push(o))}else m={eventTime:m,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(d=p=m,c=f):p=p.next=m,s|=v;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;v=o,o=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(p===null&&(c=f),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Zs|=s,e.lanes=s,e.memoizedState=f}}function x2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var hu={},Yi=xs(hu),Xc=xs(hu),Yc=xs(hu);function Hs(e){if(e===hu)throw Error(_e(174));return e}function H1(e,t){switch(Ut(Yc,t),Ut(Xc,e),Ut(Yi,hu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nm(t,e)}$t(Yi),Ut(Yi,t)}function hl(){$t(Yi),$t(Xc),$t(Yc)}function sb(e){Hs(Yc.current);var t=Hs(Yi.current),n=nm(t,e.type);t!==n&&(Ut(Xc,e),Ut(Yi,n))}function W1(e){Xc.current===e&&($t(Yi),$t(Xc))}var Qt=xs(0);function wh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mp=[];function $1(){for(var e=0;e<mp.length;e++)mp[e]._workInProgressVersionPrimary=null;mp.length=0}var qd=_a.ReactCurrentDispatcher,gp=_a.ReactCurrentBatchConfig,Qs=0,en=null,Ln=null,Dn=null,Sh=!1,Cc=!1,Jc=0,v6=0;function Gn(){throw Error(_e(321))}function G1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fi(e[n],t[n]))return!1;return!0}function K1(e,t,n,r,i,a){if(Qs=a,en=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qd.current=e===null||e.memoizedState===null?w6:S6,e=n(r,i),Cc){a=0;do{if(Cc=!1,Jc=0,25<=a)throw Error(_e(301));a+=1,Dn=Ln=null,t.updateQueue=null,qd.current=N6,e=n(r,i)}while(Cc)}if(qd.current=Nh,t=Ln!==null&&Ln.next!==null,Qs=0,Dn=Ln=en=null,Sh=!1,t)throw Error(_e(300));return e}function X1(){var e=Jc!==0;return Jc=0,e}function $i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?en.memoizedState=Dn=e:Dn=Dn.next=e,Dn}function vi(){if(Ln===null){var e=en.alternate;e=e!==null?e.memoizedState:null}else e=Ln.next;var t=Dn===null?en.memoizedState:Dn.next;if(t!==null)Dn=t,Ln=e;else{if(e===null)throw Error(_e(310));Ln=e,e={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Dn===null?en.memoizedState=Dn=e:Dn=Dn.next=e}return Dn}function Qc(e,t){return typeof t=="function"?t(e):t}function vp(e){var t=vi(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=Ln,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,c=null,d=a;do{var p=d.lane;if((Qs&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=f,s=r):c=c.next=f,en.lanes|=p,Zs|=p}d=d.next}while(d!==null&&d!==a);c===null?s=r:c.next=o,Fi(r,t.memoizedState)||(Nr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,en.lanes|=a,Zs|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yp(e){var t=vi(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Fi(a,t.memoizedState)||(Nr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ob(){}function lb(e,t){var n=en,r=vi(),i=t(),a=!Fi(r.memoizedState,i);if(a&&(r.memoizedState=i,Nr=!0),r=r.queue,Y1(db.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Dn!==null&&Dn.memoizedState.tag&1){if(n.flags|=2048,Zc(9,ub.bind(null,n,r,i,t),void 0,null),On===null)throw Error(_e(349));Qs&30||cb(n,t,i)}return i}function cb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ub(e,t,n,r){t.value=n,t.getSnapshot=r,hb(t)&&fb(e)}function db(e,t,n){return n(function(){hb(t)&&fb(e)})}function hb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fi(e,n)}catch{return!0}}function fb(e){var t=Aa(e,1);t!==null&&Ei(t,e,1,-1)}function w2(e){var t=$i();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:e},t.queue=e,e=e.dispatch=x6.bind(null,en,e),[t.memoizedState,e]}function Zc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function pb(){return vi().memoizedState}function zd(e,t,n,r){var i=$i();en.flags|=e,i.memoizedState=Zc(1|t,n,void 0,r===void 0?null:r)}function Gh(e,t,n,r){var i=vi();r=r===void 0?null:r;var a=void 0;if(Ln!==null){var s=Ln.memoizedState;if(a=s.destroy,r!==null&&G1(r,s.deps)){i.memoizedState=Zc(t,n,a,r);return}}en.flags|=e,i.memoizedState=Zc(1|t,n,a,r)}function S2(e,t){return zd(8390656,8,e,t)}function Y1(e,t){return Gh(2048,8,e,t)}function mb(e,t){return Gh(4,2,e,t)}function gb(e,t){return Gh(4,4,e,t)}function vb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yb(e,t,n){return n=n!=null?n.concat([e]):null,Gh(4,4,vb.bind(null,t,e),n)}function J1(){}function bb(e,t){var n=vi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&G1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xb(e,t){var n=vi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&G1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wb(e,t,n){return Qs&21?(Fi(n,t)||(n=Ay(),en.lanes|=n,Zs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=n)}function y6(e,t){var n=Tt;Tt=n!==0&&4>n?n:4,e(!0);var r=gp.transition;gp.transition={};try{e(!1),t()}finally{Tt=n,gp.transition=r}}function Sb(){return vi().memoizedState}function b6(e,t,n){var r=ds(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nb(e))jb(t,n);else if(n=ib(e,t,n,r),n!==null){var i=hr();Ei(n,e,r,i),kb(n,t,r)}}function x6(e,t,n){var r=ds(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nb(e))jb(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Fi(o,s)){var c=t.interleaved;c===null?(i.next=i,U1(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=ib(e,t,i,r),n!==null&&(i=hr(),Ei(n,e,r,i),kb(n,t,r))}}function Nb(e){var t=e.alternate;return e===en||t!==null&&t===en}function jb(e,t){Cc=Sh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,C1(e,n)}}var Nh={readContext:gi,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},w6={readContext:gi,useCallback:function(e,t){return $i().memoizedState=[e,t===void 0?null:t],e},useContext:gi,useEffect:S2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zd(4194308,4,vb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zd(4194308,4,e,t)},useInsertionEffect:function(e,t){return zd(4,2,e,t)},useMemo:function(e,t){var n=$i();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$i();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=b6.bind(null,en,e),[r.memoizedState,e]},useRef:function(e){var t=$i();return e={current:e},t.memoizedState=e},useState:w2,useDebugValue:J1,useDeferredValue:function(e){return $i().memoizedState=e},useTransition:function(){var e=w2(!1),t=e[0];return e=y6.bind(null,e[1]),$i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=en,i=$i();if(Yt){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=t(),On===null)throw Error(_e(349));Qs&30||cb(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,S2(db.bind(null,r,a,e),[e]),r.flags|=2048,Zc(9,ub.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=$i(),t=On.identifierPrefix;if(Yt){var n=ba,r=ya;n=(r&~(1<<32-_i(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=v6++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},S6={readContext:gi,useCallback:bb,useContext:gi,useEffect:Y1,useImperativeHandle:yb,useInsertionEffect:mb,useLayoutEffect:gb,useMemo:xb,useReducer:vp,useRef:pb,useState:function(){return vp(Qc)},useDebugValue:J1,useDeferredValue:function(e){var t=vi();return wb(t,Ln.memoizedState,e)},useTransition:function(){var e=vp(Qc)[0],t=vi().memoizedState;return[e,t]},useMutableSource:ob,useSyncExternalStore:lb,useId:Sb,unstable_isNewReconciler:!1},N6={readContext:gi,useCallback:bb,useContext:gi,useEffect:Y1,useImperativeHandle:yb,useInsertionEffect:mb,useLayoutEffect:gb,useMemo:xb,useReducer:yp,useRef:pb,useState:function(){return yp(Qc)},useDebugValue:J1,useDeferredValue:function(e){var t=vi();return Ln===null?t.memoizedState=e:wb(t,Ln.memoizedState,e)},useTransition:function(){var e=yp(Qc)[0],t=vi().memoizedState;return[e,t]},useMutableSource:ob,useSyncExternalStore:lb,useId:Sb,unstable_isNewReconciler:!1};function Ai(e,t){if(e&&e.defaultProps){t=nn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:nn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Kh={isMounted:function(e){return(e=e._reactInternals)?no(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hr(),i=ds(e),a=xa(r,i);a.payload=t,n!=null&&(a.callback=n),t=cs(e,a,i),t!==null&&(Ei(t,e,i,r),Bd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hr(),i=ds(e),a=xa(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=cs(e,a,i),t!==null&&(Ei(t,e,i,r),Bd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hr(),r=ds(e),i=xa(n,r);i.tag=2,t!=null&&(i.callback=t),t=cs(e,i,r),t!==null&&(Ei(t,e,r,n),Bd(t,e,r))}};function N2(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Wc(n,r)||!Wc(i,a):!0}function Ab(e,t,n){var r=!1,i=ps,a=t.contextType;return typeof a=="object"&&a!==null?a=gi(a):(i=kr(t)?Ys:rr.current,r=t.contextTypes,a=(r=r!=null)?cl(e,i):ps),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function j2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Kh.enqueueReplaceState(t,t.state,null)}function jm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},V1(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=gi(a):(a=kr(t)?Ys:rr.current,i.context=cl(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Nm(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Kh.enqueueReplaceState(i,i.state,null),xh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function fl(e,t){try{var n="",r=t;do n+=J4(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function bp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function km(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var j6=typeof WeakMap=="function"?WeakMap:Map;function Lb(e,t,n){n=xa(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){kh||(kh=!0,Im=r),km(e,t)},n}function Cb(e,t,n){n=xa(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){km(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){km(e,t),typeof r!="function"&&(us===null?us=new Set([this]):us.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function k2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new j6;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=O6.bind(null,e,t,n),t.then(e,e))}function A2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function L2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xa(-1,1),t.tag=2,cs(n,t,1))),n.lanes|=1),e)}var k6=_a.ReactCurrentOwner,Nr=!1;function dr(e,t,n,r){t.child=e===null?rb(t,null,n,r):dl(t,e.child,n,r)}function C2(e,t,n,r,i){n=n.render;var a=t.ref;return nl(t,i),r=K1(e,t,n,r,a,i),n=X1(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,La(e,t,i)):(Yt&&n&&D1(t),t.flags|=1,dr(e,t,r,i),t.child)}function P2(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!a0(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Pb(e,t,a,r,i)):(e=Wd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Wc,n(s,r)&&e.ref===t.ref)return La(e,t,i)}return t.flags|=1,e=hs(a,r),e.ref=t.ref,e.return=t,t.child=e}function Pb(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Wc(a,r)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,La(e,t,i)}return Am(e,t,n,r,i)}function _b(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Ho,Or),Or|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ut(Ho,Or),Or|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ut(Ho,Or),Or|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ut(Ho,Or),Or|=r;return dr(e,t,i,n),t.child}function Eb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Am(e,t,n,r,i){var a=kr(n)?Ys:rr.current;return a=cl(t,a),nl(t,i),n=K1(e,t,n,r,a,i),r=X1(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,La(e,t,i)):(Yt&&r&&D1(t),t.flags|=1,dr(e,t,n,i),t.child)}function _2(e,t,n,r,i){if(kr(n)){var a=!0;mh(t)}else a=!1;if(nl(t,i),t.stateNode===null)Ud(e,t),Ab(t,n,r),jm(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=gi(d):(d=kr(n)?Ys:rr.current,d=cl(t,d));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||c!==d)&&j2(t,s,r,d),Za=!1;var v=t.memoizedState;s.state=v,xh(t,r,s,i),c=t.memoizedState,o!==r||v!==c||jr.current||Za?(typeof p=="function"&&(Nm(t,n,p,r),c=t.memoizedState),(o=Za||N2(t,n,o,r,v,c,d))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=d,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ab(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Ai(t.type,o),s.props=d,f=t.pendingProps,v=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=gi(c):(c=kr(n)?Ys:rr.current,c=cl(t,c));var m=n.getDerivedStateFromProps;(p=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||v!==c)&&j2(t,s,r,c),Za=!1,v=t.memoizedState,s.state=v,xh(t,r,s,i);var w=t.memoizedState;o!==f||v!==w||jr.current||Za?(typeof m=="function"&&(Nm(t,n,m,r),w=t.memoizedState),(d=Za||N2(t,n,d,r,v,w,c)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return Lm(e,t,n,r,a,i)}function Lm(e,t,n,r,i,a){Eb(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&m2(t,n,!1),La(e,t,a);r=t.stateNode,k6.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=dl(t,e.child,null,a),t.child=dl(t,null,o,a)):dr(e,t,o,a),t.memoizedState=r.state,i&&m2(t,n,!0),t.child}function Fb(e){var t=e.stateNode;t.pendingContext?p2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&p2(e,t.context,!1),H1(e,t.containerInfo)}function E2(e,t,n,r,i){return ul(),O1(i),t.flags|=256,dr(e,t,n,r),t.child}var Cm={dehydrated:null,treeContext:null,retryLane:0};function Pm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tb(e,t,n){var r=t.pendingProps,i=Qt.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ut(Qt,i&1),e===null)return wm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Jh(s,r,0,null),e=Gs(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Pm(n),t.memoizedState=Cm,e):Q1(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return A6(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=hs(i,c),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=hs(o,a):(a=Gs(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Pm(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Cm,r}return a=e.child,e=a.sibling,r=hs(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Q1(e,t){return t=Jh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vd(e,t,n,r){return r!==null&&O1(r),dl(t,e.child,null,n),e=Q1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function A6(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=bp(Error(_e(422))),vd(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Jh({mode:"visible",children:r.children},i,0,null),a=Gs(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&dl(t,e.child,null,s),t.child.memoizedState=Pm(s),t.memoizedState=Cm,a);if(!(t.mode&1))return vd(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(_e(419)),r=bp(a,r,void 0),vd(e,t,s,r)}if(o=(s&e.childLanes)!==0,Nr||o){if(r=On,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Aa(e,i),Ei(r,e,i,-1))}return i0(),r=bp(Error(_e(421))),vd(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=B6.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Br=ls(i.nextSibling),Ur=t,Yt=!0,Pi=null,e!==null&&(hi[fi++]=ya,hi[fi++]=ba,hi[fi++]=Js,ya=e.id,ba=e.overflow,Js=t),t=Q1(t,r.children),t.flags|=4096,t)}function F2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Sm(e.return,t,n)}function xp(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ib(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(dr(e,t,r.children,n),r=Qt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&F2(e,n,t);else if(e.tag===19)F2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ut(Qt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&wh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xp(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xp(t,!0,n,null,a);break;case"together":xp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ud(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function La(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,n=hs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function L6(e,t,n){switch(t.tag){case 3:Fb(t),ul();break;case 5:sb(t);break;case 1:kr(t.type)&&mh(t);break;case 4:H1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ut(yh,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ut(Qt,Qt.current&1),t.flags|=128,null):n&t.child.childLanes?Tb(e,t,n):(Ut(Qt,Qt.current&1),e=La(e,t,n),e!==null?e.sibling:null);Ut(Qt,Qt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ib(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ut(Qt,Qt.current),r)break;return null;case 22:case 23:return t.lanes=0,_b(e,t,n)}return La(e,t,n)}var Rb,_m,Db,Mb;Rb=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_m=function(){};Db=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Hs(Yi.current);var a=null;switch(n){case"input":i=Qp(e,i),r=Qp(e,r),a=[];break;case"select":i=nn({},i,{value:void 0}),r=nn({},r,{value:void 0}),a=[];break;case"textarea":i=tm(e,i),r=tm(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fh)}rm(n,r);var s;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Oc.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(o=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Oc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ht("scroll",e),a||o===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Mb=function(e,t,n,r){n!==r&&(t.flags|=4)};function lc(e,t){if(!Yt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function C6(e,t,n){var r=t.pendingProps;switch(M1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(t),null;case 1:return kr(t.type)&&ph(),Kn(t),null;case 3:return r=t.stateNode,hl(),$t(jr),$t(rr),$1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(md(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pi!==null&&(Mm(Pi),Pi=null))),_m(e,t),Kn(t),null;case 5:W1(t);var i=Hs(Yc.current);if(n=t.type,e!==null&&t.stateNode!=null)Db(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_e(166));return Kn(t),null}if(e=Hs(Yi.current),md(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Gi]=t,r[Kc]=a,e=(t.mode&1)!==0,n){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(i=0;i<bc.length;i++)Ht(bc[i],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":zg(r,a),Ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ht("invalid",r);break;case"textarea":Vg(r,a),Ht("invalid",r)}rm(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&pd(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&pd(r.textContent,o,e),i=["children",""+o]):Oc.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Ht("scroll",r)}switch(n){case"input":sd(r),Ug(r,a,!0);break;case"textarea":sd(r),Hg(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=fh)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Gi]=t,e[Kc]=r,Rb(e,t,!1,!1),t.stateNode=e;e:{switch(s=im(n,r),n){case"dialog":Ht("cancel",e),Ht("close",e),i=r;break;case"iframe":case"object":case"embed":Ht("load",e),i=r;break;case"video":case"audio":for(i=0;i<bc.length;i++)Ht(bc[i],e);i=r;break;case"source":Ht("error",e),i=r;break;case"img":case"image":case"link":Ht("error",e),Ht("load",e),i=r;break;case"details":Ht("toggle",e),i=r;break;case"input":zg(e,r),i=Qp(e,r),Ht("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=nn({},r,{value:void 0}),Ht("invalid",e);break;case"textarea":Vg(e,r),i=tm(e,r),Ht("invalid",e);break;default:i=r}rm(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?py(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hy(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Bc(e,c):typeof c=="number"&&Bc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Oc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ht("scroll",e):c!=null&&S1(e,a,c,s))}switch(n){case"input":sd(e),Ug(e,r,!1);break;case"textarea":sd(e),Hg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fs(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Qo(e,!!r.multiple,a,!1):r.defaultValue!=null&&Qo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=fh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kn(t),null;case 6:if(e&&t.stateNode!=null)Mb(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_e(166));if(n=Hs(Yc.current),Hs(Yi.current),md(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gi]=t,(a=r.nodeValue!==n)&&(e=Ur,e!==null))switch(e.tag){case 3:pd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pd(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gi]=t,t.stateNode=r}return Kn(t),null;case 13:if($t(Qt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yt&&Br!==null&&t.mode&1&&!(t.flags&128))tb(),ul(),t.flags|=98560,a=!1;else if(a=md(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(_e(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(_e(317));a[Gi]=t}else ul(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kn(t),a=!1}else Pi!==null&&(Mm(Pi),Pi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qt.current&1?Cn===0&&(Cn=3):i0())),t.updateQueue!==null&&(t.flags|=4),Kn(t),null);case 4:return hl(),_m(e,t),e===null&&$c(t.stateNode.containerInfo),Kn(t),null;case 10:return z1(t.type._context),Kn(t),null;case 17:return kr(t.type)&&ph(),Kn(t),null;case 19:if($t(Qt),a=t.memoizedState,a===null)return Kn(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)lc(a,!1);else{if(Cn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=wh(e),s!==null){for(t.flags|=128,lc(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ut(Qt,Qt.current&1|2),t.child}e=e.sibling}a.tail!==null&&fn()>pl&&(t.flags|=128,r=!0,lc(a,!1),t.lanes=4194304)}else{if(!r)if(e=wh(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Yt)return Kn(t),null}else 2*fn()-a.renderingStartTime>pl&&n!==1073741824&&(t.flags|=128,r=!0,lc(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=fn(),t.sibling=null,n=Qt.current,Ut(Qt,r?n&1|2:n&1),t):(Kn(t),null);case 22:case 23:return r0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Or&1073741824&&(Kn(t),t.subtreeFlags&6&&(t.flags|=8192)):Kn(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function P6(e,t){switch(M1(t),t.tag){case 1:return kr(t.type)&&ph(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hl(),$t(jr),$t(rr),$1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return W1(t),null;case 13:if($t(Qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));ul()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $t(Qt),null;case 4:return hl(),null;case 10:return z1(t.type._context),null;case 22:case 23:return r0(),null;case 24:return null;default:return null}}var yd=!1,er=!1,_6=typeof WeakSet=="function"?WeakSet:Set,He=null;function Vo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ln(e,t,r)}else n.current=null}function Ob(e,t,n){try{n()}catch(r){ln(e,t,r)}}var T2=!1;function E6(e,t){if(pm=uh,e=Uy(),R1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,c=-1,d=0,p=0,f=e,v=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)v=f,f=m;for(;;){if(f===e)break t;if(v===n&&++d===i&&(o=s),v===a&&++p===r&&(c=s),(m=f.nextSibling)!==null)break;f=v,v=f.parentNode}f=m}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(mm={focusedElem:e,selectionRange:n},uh=!1,He=t;He!==null;)if(t=He,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,He=e;else for(;He!==null;){t=He;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,k=w.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?S:Ai(t.type,S),k);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(R){ln(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,He=e;break}He=t.return}return w=T2,T2=!1,w}function Pc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ob(t,n,a)}i=i.next}while(i!==r)}}function Xh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Em(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Bb(e){var t=e.alternate;t!==null&&(e.alternate=null,Bb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gi],delete t[Kc],delete t[ym],delete t[f6],delete t[p6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qb(e){return e.tag===5||e.tag===3||e.tag===4}function I2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fh));else if(r!==4&&(e=e.child,e!==null))for(Fm(e,t,n),e=e.sibling;e!==null;)Fm(e,t,n),e=e.sibling}function Tm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Tm(e,t,n),e=e.sibling;e!==null;)Tm(e,t,n),e=e.sibling}var zn=null,Ci=!1;function Ka(e,t,n){for(n=n.child;n!==null;)zb(e,t,n),n=n.sibling}function zb(e,t,n){if(Xi&&typeof Xi.onCommitFiberUnmount=="function")try{Xi.onCommitFiberUnmount(zh,n)}catch{}switch(n.tag){case 5:er||Vo(n,t);case 6:var r=zn,i=Ci;zn=null,Ka(e,t,n),zn=r,Ci=i,zn!==null&&(Ci?(e=zn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):zn.removeChild(n.stateNode));break;case 18:zn!==null&&(Ci?(e=zn,n=n.stateNode,e.nodeType===8?fp(e.parentNode,n):e.nodeType===1&&fp(e,n),Vc(e)):fp(zn,n.stateNode));break;case 4:r=zn,i=Ci,zn=n.stateNode.containerInfo,Ci=!0,Ka(e,t,n),zn=r,Ci=i;break;case 0:case 11:case 14:case 15:if(!er&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Ob(n,t,s),i=i.next}while(i!==r)}Ka(e,t,n);break;case 1:if(!er&&(Vo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ln(n,t,o)}Ka(e,t,n);break;case 21:Ka(e,t,n);break;case 22:n.mode&1?(er=(r=er)||n.memoizedState!==null,Ka(e,t,n),er=r):Ka(e,t,n);break;default:Ka(e,t,n)}}function R2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _6),t.forEach(function(r){var i=q6.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Si(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:zn=o.stateNode,Ci=!1;break e;case 3:zn=o.stateNode.containerInfo,Ci=!0;break e;case 4:zn=o.stateNode.containerInfo,Ci=!0;break e}o=o.return}if(zn===null)throw Error(_e(160));zb(a,s,i),zn=null,Ci=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ln(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ub(t,e),t=t.sibling}function Ub(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Si(t,e),Hi(e),r&4){try{Pc(3,e,e.return),Xh(3,e)}catch(S){ln(e,e.return,S)}try{Pc(5,e,e.return)}catch(S){ln(e,e.return,S)}}break;case 1:Si(t,e),Hi(e),r&512&&n!==null&&Vo(n,n.return);break;case 5:if(Si(t,e),Hi(e),r&512&&n!==null&&Vo(n,n.return),e.flags&32){var i=e.stateNode;try{Bc(i,"")}catch(S){ln(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&cy(i,a),im(o,s);var d=im(o,a);for(s=0;s<c.length;s+=2){var p=c[s],f=c[s+1];p==="style"?py(i,f):p==="dangerouslySetInnerHTML"?hy(i,f):p==="children"?Bc(i,f):S1(i,p,f,d)}switch(o){case"input":Zp(i,a);break;case"textarea":uy(i,a);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Qo(i,!!a.multiple,m,!1):v!==!!a.multiple&&(a.defaultValue!=null?Qo(i,!!a.multiple,a.defaultValue,!0):Qo(i,!!a.multiple,a.multiple?[]:"",!1))}i[Kc]=a}catch(S){ln(e,e.return,S)}}break;case 6:if(Si(t,e),Hi(e),r&4){if(e.stateNode===null)throw Error(_e(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(S){ln(e,e.return,S)}}break;case 3:if(Si(t,e),Hi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vc(t.containerInfo)}catch(S){ln(e,e.return,S)}break;case 4:Si(t,e),Hi(e);break;case 13:Si(t,e),Hi(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(t0=fn())),r&4&&R2(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(er=(d=er)||p,Si(t,e),er=d):Si(t,e),Hi(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(He=e,p=e.child;p!==null;){for(f=He=p;He!==null;){switch(v=He,m=v.child,v.tag){case 0:case 11:case 14:case 15:Pc(4,v,v.return);break;case 1:Vo(v,v.return);var w=v.stateNode;if(typeof w.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(S){ln(r,n,S)}}break;case 5:Vo(v,v.return);break;case 22:if(v.memoizedState!==null){M2(f);continue}}m!==null?(m.return=v,He=m):M2(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{i=f.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=fy("display",s))}catch(S){ln(e,e.return,S)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(S){ln(e,e.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Si(t,e),Hi(e),r&4&&R2(e);break;case 21:break;default:Si(t,e),Hi(e)}}function Hi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qb(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bc(i,""),r.flags&=-33);var a=I2(e);Tm(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=I2(e);Fm(e,o,s);break;default:throw Error(_e(161))}}catch(c){ln(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function F6(e,t,n){He=e,Vb(e)}function Vb(e,t,n){for(var r=(e.mode&1)!==0;He!==null;){var i=He,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||yd;if(!s){var o=i.alternate,c=o!==null&&o.memoizedState!==null||er;o=yd;var d=er;if(yd=s,(er=c)&&!d)for(He=i;He!==null;)s=He,c=s.child,s.tag===22&&s.memoizedState!==null?O2(i):c!==null?(c.return=s,He=c):O2(i);for(;a!==null;)He=a,Vb(a),a=a.sibling;He=i,yd=o,er=d}D2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,He=a):D2(e)}}function D2(e){for(;He!==null;){var t=He;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:er||Xh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!er)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ai(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&x2(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}x2(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&Vc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}er||t.flags&512&&Em(t)}catch(v){ln(t,t.return,v)}}if(t===e){He=null;break}if(n=t.sibling,n!==null){n.return=t.return,He=n;break}He=t.return}}function M2(e){for(;He!==null;){var t=He;if(t===e){He=null;break}var n=t.sibling;if(n!==null){n.return=t.return,He=n;break}He=t.return}}function O2(e){for(;He!==null;){var t=He;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xh(4,t)}catch(c){ln(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){ln(t,i,c)}}var a=t.return;try{Em(t)}catch(c){ln(t,a,c)}break;case 5:var s=t.return;try{Em(t)}catch(c){ln(t,s,c)}}}catch(c){ln(t,t.return,c)}if(t===e){He=null;break}var o=t.sibling;if(o!==null){o.return=t.return,He=o;break}He=t.return}}var T6=Math.ceil,jh=_a.ReactCurrentDispatcher,Z1=_a.ReactCurrentOwner,mi=_a.ReactCurrentBatchConfig,jt=0,On=null,Sn=null,Vn=0,Or=0,Ho=xs(0),Cn=0,eu=null,Zs=0,Yh=0,e0=0,_c=null,Sr=null,t0=0,pl=1/0,ga=null,kh=!1,Im=null,us=null,bd=!1,rs=null,Ah=0,Ec=0,Rm=null,Vd=-1,Hd=0;function hr(){return jt&6?fn():Vd!==-1?Vd:Vd=fn()}function ds(e){return e.mode&1?jt&2&&Vn!==0?Vn&-Vn:g6.transition!==null?(Hd===0&&(Hd=Ay()),Hd):(e=Tt,e!==0||(e=window.event,e=e===void 0?16:Ty(e.type)),e):1}function Ei(e,t,n,r){if(50<Ec)throw Ec=0,Rm=null,Error(_e(185));cu(e,n,r),(!(jt&2)||e!==On)&&(e===On&&(!(jt&2)&&(Yh|=n),Cn===4&&ts(e,Vn)),Ar(e,r),n===1&&jt===0&&!(t.mode&1)&&(pl=fn()+500,$h&&ws()))}function Ar(e,t){var n=e.callbackNode;gS(e,t);var r=ch(e,e===On?Vn:0);if(r===0)n!==null&&Gg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Gg(n),t===1)e.tag===0?m6(B2.bind(null,e)):Qy(B2.bind(null,e)),d6(function(){!(jt&6)&&ws()}),n=null;else{switch(Ly(r)){case 1:n=L1;break;case 4:n=jy;break;case 16:n=lh;break;case 536870912:n=ky;break;default:n=lh}n=Jb(n,Hb.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hb(e,t){if(Vd=-1,Hd=0,jt&6)throw Error(_e(327));var n=e.callbackNode;if(rl()&&e.callbackNode!==n)return null;var r=ch(e,e===On?Vn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lh(e,r);else{t=r;var i=jt;jt|=2;var a=$b();(On!==e||Vn!==t)&&(ga=null,pl=fn()+500,$s(e,t));do try{D6();break}catch(o){Wb(e,o)}while(1);q1(),jh.current=a,jt=i,Sn!==null?t=0:(On=null,Vn=0,t=Cn)}if(t!==0){if(t===2&&(i=cm(e),i!==0&&(r=i,t=Dm(e,i))),t===1)throw n=eu,$s(e,0),ts(e,r),Ar(e,fn()),n;if(t===6)ts(e,r);else{if(i=e.current.alternate,!(r&30)&&!I6(i)&&(t=Lh(e,r),t===2&&(a=cm(e),a!==0&&(r=a,t=Dm(e,a))),t===1))throw n=eu,$s(e,0),ts(e,r),Ar(e,fn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(_e(345));case 2:Ms(e,Sr,ga);break;case 3:if(ts(e,r),(r&130023424)===r&&(t=t0+500-fn(),10<t)){if(ch(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){hr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=vm(Ms.bind(null,e,Sr,ga),t);break}Ms(e,Sr,ga);break;case 4:if(ts(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-_i(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T6(r/1960))-r,10<r){e.timeoutHandle=vm(Ms.bind(null,e,Sr,ga),r);break}Ms(e,Sr,ga);break;case 5:Ms(e,Sr,ga);break;default:throw Error(_e(329))}}}return Ar(e,fn()),e.callbackNode===n?Hb.bind(null,e):null}function Dm(e,t){var n=_c;return e.current.memoizedState.isDehydrated&&($s(e,t).flags|=256),e=Lh(e,t),e!==2&&(t=Sr,Sr=n,t!==null&&Mm(t)),e}function Mm(e){Sr===null?Sr=e:Sr.push.apply(Sr,e)}function I6(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Fi(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ts(e,t){for(t&=~e0,t&=~Yh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_i(t),r=1<<n;e[n]=-1,t&=~r}}function B2(e){if(jt&6)throw Error(_e(327));rl();var t=ch(e,0);if(!(t&1))return Ar(e,fn()),null;var n=Lh(e,t);if(e.tag!==0&&n===2){var r=cm(e);r!==0&&(t=r,n=Dm(e,r))}if(n===1)throw n=eu,$s(e,0),ts(e,t),Ar(e,fn()),n;if(n===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ms(e,Sr,ga),Ar(e,fn()),null}function n0(e,t){var n=jt;jt|=1;try{return e(t)}finally{jt=n,jt===0&&(pl=fn()+500,$h&&ws())}}function eo(e){rs!==null&&rs.tag===0&&!(jt&6)&&rl();var t=jt;jt|=1;var n=mi.transition,r=Tt;try{if(mi.transition=null,Tt=1,e)return e()}finally{Tt=r,mi.transition=n,jt=t,!(jt&6)&&ws()}}function r0(){Or=Ho.current,$t(Ho)}function $s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,u6(n)),Sn!==null)for(n=Sn.return;n!==null;){var r=n;switch(M1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ph();break;case 3:hl(),$t(jr),$t(rr),$1();break;case 5:W1(r);break;case 4:hl();break;case 13:$t(Qt);break;case 19:$t(Qt);break;case 10:z1(r.type._context);break;case 22:case 23:r0()}n=n.return}if(On=e,Sn=e=hs(e.current,null),Vn=Or=t,Cn=0,eu=null,e0=Yh=Zs=0,Sr=_c=null,Vs!==null){for(t=0;t<Vs.length;t++)if(n=Vs[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Vs=null}return e}function Wb(e,t){do{var n=Sn;try{if(q1(),qd.current=Nh,Sh){for(var r=en.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sh=!1}if(Qs=0,Dn=Ln=en=null,Cc=!1,Jc=0,Z1.current=null,n===null||n.return===null){Cn=1,eu=t,Sn=null;break}e:{var a=e,s=n.return,o=n,c=t;if(t=Vn,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=o,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var v=p.alternate;v?(p.updateQueue=v.updateQueue,p.memoizedState=v.memoizedState,p.lanes=v.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=A2(s);if(m!==null){m.flags&=-257,L2(m,s,o,a,t),m.mode&1&&k2(a,d,t),t=m,c=d;var w=t.updateQueue;if(w===null){var S=new Set;S.add(c),t.updateQueue=S}else w.add(c);break e}else{if(!(t&1)){k2(a,d,t),i0();break e}c=Error(_e(426))}}else if(Yt&&o.mode&1){var k=A2(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),L2(k,s,o,a,t),O1(fl(c,o));break e}}a=c=fl(c,o),Cn!==4&&(Cn=2),_c===null?_c=[a]:_c.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=Lb(a,c,t);b2(a,b);break e;case 1:o=c;var x=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(us===null||!us.has(j)))){a.flags|=65536,t&=-t,a.lanes|=t;var R=Cb(a,o,t);b2(a,R);break e}}a=a.return}while(a!==null)}Kb(n)}catch(q){t=q,Sn===n&&n!==null&&(Sn=n=n.return);continue}break}while(1)}function $b(){var e=jh.current;return jh.current=Nh,e===null?Nh:e}function i0(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),On===null||!(Zs&268435455)&&!(Yh&268435455)||ts(On,Vn)}function Lh(e,t){var n=jt;jt|=2;var r=$b();(On!==e||Vn!==t)&&(ga=null,$s(e,t));do try{R6();break}catch(i){Wb(e,i)}while(1);if(q1(),jt=n,jh.current=r,Sn!==null)throw Error(_e(261));return On=null,Vn=0,Cn}function R6(){for(;Sn!==null;)Gb(Sn)}function D6(){for(;Sn!==null&&!oS();)Gb(Sn)}function Gb(e){var t=Yb(e.alternate,e,Or);e.memoizedProps=e.pendingProps,t===null?Kb(e):Sn=t,Z1.current=null}function Kb(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=P6(n,t),n!==null){n.flags&=32767,Sn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Cn=6,Sn=null;return}}else if(n=C6(n,t,Or),n!==null){Sn=n;return}if(t=t.sibling,t!==null){Sn=t;return}Sn=t=e}while(t!==null);Cn===0&&(Cn=5)}function Ms(e,t,n){var r=Tt,i=mi.transition;try{mi.transition=null,Tt=1,M6(e,t,n,r)}finally{mi.transition=i,Tt=r}return null}function M6(e,t,n,r){do rl();while(rs!==null);if(jt&6)throw Error(_e(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(vS(e,a),e===On&&(Sn=On=null,Vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bd||(bd=!0,Jb(lh,function(){return rl(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=mi.transition,mi.transition=null;var s=Tt;Tt=1;var o=jt;jt|=4,Z1.current=null,E6(e,n),Ub(n,e),r6(mm),uh=!!pm,mm=pm=null,e.current=n,F6(n),lS(),jt=o,Tt=s,mi.transition=a}else e.current=n;if(bd&&(bd=!1,rs=e,Ah=i),a=e.pendingLanes,a===0&&(us=null),dS(n.stateNode),Ar(e,fn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kh)throw kh=!1,e=Im,Im=null,e;return Ah&1&&e.tag!==0&&rl(),a=e.pendingLanes,a&1?e===Rm?Ec++:(Ec=0,Rm=e):Ec=0,ws(),null}function rl(){if(rs!==null){var e=Ly(Ah),t=mi.transition,n=Tt;try{if(mi.transition=null,Tt=16>e?16:e,rs===null)var r=!1;else{if(e=rs,rs=null,Ah=0,jt&6)throw Error(_e(331));var i=jt;for(jt|=4,He=e.current;He!==null;){var a=He,s=a.child;if(He.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(He=d;He!==null;){var p=He;switch(p.tag){case 0:case 11:case 15:Pc(8,p,a)}var f=p.child;if(f!==null)f.return=p,He=f;else for(;He!==null;){p=He;var v=p.sibling,m=p.return;if(Bb(p),p===d){He=null;break}if(v!==null){v.return=m,He=v;break}He=m}}}var w=a.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}He=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,He=s;else e:for(;He!==null;){if(a=He,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pc(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,He=b;break e}He=a.return}}var x=e.current;for(He=x;He!==null;){s=He;var j=s.child;if(s.subtreeFlags&2064&&j!==null)j.return=s,He=j;else e:for(s=x;He!==null;){if(o=He,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Xh(9,o)}}catch(q){ln(o,o.return,q)}if(o===s){He=null;break e}var R=o.sibling;if(R!==null){R.return=o.return,He=R;break e}He=o.return}}if(jt=i,ws(),Xi&&typeof Xi.onPostCommitFiberRoot=="function")try{Xi.onPostCommitFiberRoot(zh,e)}catch{}r=!0}return r}finally{Tt=n,mi.transition=t}}return!1}function q2(e,t,n){t=fl(n,t),t=Lb(e,t,1),e=cs(e,t,1),t=hr(),e!==null&&(cu(e,1,t),Ar(e,t))}function ln(e,t,n){if(e.tag===3)q2(e,e,n);else for(;t!==null;){if(t.tag===3){q2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(us===null||!us.has(r))){e=fl(n,e),e=Cb(t,e,1),t=cs(t,e,1),e=hr(),t!==null&&(cu(t,1,e),Ar(t,e));break}}t=t.return}}function O6(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=hr(),e.pingedLanes|=e.suspendedLanes&n,On===e&&(Vn&n)===n&&(Cn===4||Cn===3&&(Vn&130023424)===Vn&&500>fn()-t0?$s(e,0):e0|=n),Ar(e,t)}function Xb(e,t){t===0&&(e.mode&1?(t=cd,cd<<=1,!(cd&130023424)&&(cd=4194304)):t=1);var n=hr();e=Aa(e,t),e!==null&&(cu(e,t,n),Ar(e,n))}function B6(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Xb(e,n)}function q6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(t),Xb(e,n)}var Yb;Yb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jr.current)Nr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nr=!1,L6(e,t,n);Nr=!!(e.flags&131072)}else Nr=!1,Yt&&t.flags&1048576&&Zy(t,vh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ud(e,t),e=t.pendingProps;var i=cl(t,rr.current);nl(t,n),i=K1(null,t,r,e,i,n);var a=X1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kr(r)?(a=!0,mh(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,V1(t),i.updater=Kh,t.stateNode=i,i._reactInternals=t,jm(t,r,e,n),t=Lm(null,t,r,!0,a,n)):(t.tag=0,Yt&&a&&D1(t),dr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ud(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=U6(r),e=Ai(r,e),i){case 0:t=Am(null,t,r,e,n);break e;case 1:t=_2(null,t,r,e,n);break e;case 11:t=C2(null,t,r,e,n);break e;case 14:t=P2(null,t,r,Ai(r.type,e),n);break e}throw Error(_e(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ai(r,i),Am(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ai(r,i),_2(e,t,r,i,n);case 3:e:{if(Fb(t),e===null)throw Error(_e(387));r=t.pendingProps,a=t.memoizedState,i=a.element,ab(e,t),xh(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=fl(Error(_e(423)),t),t=E2(e,t,r,n,i);break e}else if(r!==i){i=fl(Error(_e(424)),t),t=E2(e,t,r,n,i);break e}else for(Br=ls(t.stateNode.containerInfo.firstChild),Ur=t,Yt=!0,Pi=null,n=rb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ul(),r===i){t=La(e,t,n);break e}dr(e,t,r,n)}t=t.child}return t;case 5:return sb(t),e===null&&wm(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,gm(r,i)?s=null:a!==null&&gm(r,a)&&(t.flags|=32),Eb(e,t),dr(e,t,s,n),t.child;case 6:return e===null&&wm(t),null;case 13:return Tb(e,t,n);case 4:return H1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=dl(t,null,r,n):dr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ai(r,i),C2(e,t,r,i,n);case 7:return dr(e,t,t.pendingProps,n),t.child;case 8:return dr(e,t,t.pendingProps.children,n),t.child;case 12:return dr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ut(yh,r._currentValue),r._currentValue=s,a!==null)if(Fi(a.value,s)){if(a.children===i.children&&!jr.current){t=La(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=xa(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Sm(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(_e(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Sm(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}dr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,nl(t,n),i=gi(i),r=r(i),t.flags|=1,dr(e,t,r,n),t.child;case 14:return r=t.type,i=Ai(r,t.pendingProps),i=Ai(r.type,i),P2(e,t,r,i,n);case 15:return Pb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ai(r,i),Ud(e,t),t.tag=1,kr(r)?(e=!0,mh(t)):e=!1,nl(t,n),Ab(t,r,i),jm(t,r,i,n),Lm(null,t,r,!0,e,n);case 19:return Ib(e,t,n);case 22:return _b(e,t,n)}throw Error(_e(156,t.tag))};function Jb(e,t){return Ny(e,t)}function z6(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(e,t,n,r){return new z6(e,t,n,r)}function a0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function U6(e){if(typeof e=="function")return a0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===j1)return 11;if(e===k1)return 14}return 2}function hs(e,t){var n=e.alternate;return n===null?(n=pi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wd(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")a0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Io:return Gs(n.children,i,a,t);case N1:s=8,i|=8;break;case Kp:return e=pi(12,n,t,i|2),e.elementType=Kp,e.lanes=a,e;case Xp:return e=pi(13,n,t,i),e.elementType=Xp,e.lanes=a,e;case Yp:return e=pi(19,n,t,i),e.elementType=Yp,e.lanes=a,e;case sy:return Jh(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iy:s=10;break e;case ay:s=9;break e;case j1:s=11;break e;case k1:s=14;break e;case Qa:s=16,r=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=pi(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Gs(e,t,n,r){return e=pi(7,e,r,t),e.lanes=n,e}function Jh(e,t,n,r){return e=pi(22,e,r,t),e.elementType=sy,e.lanes=n,e.stateNode={isHidden:!1},e}function wp(e,t,n){return e=pi(6,e,null,t),e.lanes=n,e}function Sp(e,t,n){return t=pi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function V6(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=np(0),this.expirationTimes=np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=np(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function s0(e,t,n,r,i,a,s,o,c){return e=new V6(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=pi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},V1(a),e}function H6(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Qb(e){if(!e)return ps;e=e._reactInternals;e:{if(no(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var n=e.type;if(kr(n))return Jy(e,n,t)}return t}function Zb(e,t,n,r,i,a,s,o,c){return e=s0(n,r,!0,e,i,a,s,o,c),e.context=Qb(null),n=e.current,r=hr(),i=ds(n),a=xa(r,i),a.callback=t??null,cs(n,a,i),e.current.lanes=i,cu(e,i,r),Ar(e,r),e}function Qh(e,t,n,r){var i=t.current,a=hr(),s=ds(i);return n=Qb(n),t.context===null?t.context=n:t.pendingContext=n,t=xa(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cs(i,t,s),e!==null&&(Ei(e,i,s,a),Bd(e,i,s)),s}function Ch(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function z2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function o0(e,t){z2(e,t),(e=e.alternate)&&z2(e,t)}function W6(){return null}var ex=typeof reportError=="function"?reportError:function(e){console.error(e)};function l0(e){this._internalRoot=e}Zh.prototype.render=l0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));Qh(e,t,null,null)};Zh.prototype.unmount=l0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eo(function(){Qh(null,e,null,null)}),t[ka]=null}};function Zh(e){this._internalRoot=e}Zh.prototype.unstable_scheduleHydration=function(e){if(e){var t=_y();e={blockedOn:null,target:e,priority:t};for(var n=0;n<es.length&&t!==0&&t<es[n].priority;n++);es.splice(n,0,e),n===0&&Fy(e)}};function c0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ef(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function U2(){}function $6(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=Ch(s);a.call(d)}}var s=Zb(t,r,e,0,null,!1,!1,"",U2);return e._reactRootContainer=s,e[ka]=s.current,$c(e.nodeType===8?e.parentNode:e),eo(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var d=Ch(c);o.call(d)}}var c=s0(e,0,!1,null,null,!1,!1,"",U2);return e._reactRootContainer=c,e[ka]=c.current,$c(e.nodeType===8?e.parentNode:e),eo(function(){Qh(t,c,n,r)}),c}function tf(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var c=Ch(s);o.call(c)}}Qh(t,s,e,i)}else s=$6(n,t,e,i,r);return Ch(s)}Cy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yc(t.pendingLanes);n!==0&&(C1(t,n|1),Ar(t,fn()),!(jt&6)&&(pl=fn()+500,ws()))}break;case 13:eo(function(){var r=Aa(e,1);if(r!==null){var i=hr();Ei(r,e,1,i)}}),o0(e,1)}};P1=function(e){if(e.tag===13){var t=Aa(e,134217728);if(t!==null){var n=hr();Ei(t,e,134217728,n)}o0(e,134217728)}};Py=function(e){if(e.tag===13){var t=ds(e),n=Aa(e,t);if(n!==null){var r=hr();Ei(n,e,t,r)}o0(e,t)}};_y=function(){return Tt};Ey=function(e,t){var n=Tt;try{return Tt=e,t()}finally{Tt=n}};sm=function(e,t,n){switch(t){case"input":if(Zp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Wh(r);if(!i)throw Error(_e(90));ly(r),Zp(r,i)}}}break;case"textarea":uy(e,n);break;case"select":t=n.value,t!=null&&Qo(e,!!n.multiple,t,!1)}};vy=n0;yy=eo;var G6={usingClientEntryPoint:!1,Events:[du,Oo,Wh,my,gy,n0]},cc={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K6={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_a.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wy(e),e===null?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||W6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{zh=xd.inject(K6),Xi=xd}catch{}}$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G6;$r.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c0(t))throw Error(_e(200));return H6(e,t,null,n)};$r.createRoot=function(e,t){if(!c0(e))throw Error(_e(299));var n=!1,r="",i=ex;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=s0(e,1,!1,null,null,n,!1,r,i),e[ka]=t.current,$c(e.nodeType===8?e.parentNode:e),new l0(t)};$r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=wy(t),e=e===null?null:e.stateNode,e};$r.flushSync=function(e){return eo(e)};$r.hydrate=function(e,t,n){if(!ef(t))throw Error(_e(200));return tf(null,e,t,!0,n)};$r.hydrateRoot=function(e,t,n){if(!c0(e))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=ex;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Zb(t,null,e,1,n??null,i,!1,a,s),e[ka]=t.current,$c(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zh(t)};$r.render=function(e,t,n){if(!ef(t))throw Error(_e(200));return tf(null,e,t,!1,n)};$r.unmountComponentAtNode=function(e){if(!ef(e))throw Error(_e(40));return e._reactRootContainer?(eo(function(){tf(null,null,e,!1,function(){e._reactRootContainer=null,e[ka]=null})}),!0):!1};$r.unstable_batchedUpdates=n0;$r.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ef(n))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return tf(e,t,n,!1,r)};$r.version="18.3.1-next-f1338f8080-20240426";function tx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tx)}catch(e){console.error(e)}}tx(),ey.exports=$r;var X6=ey.exports,V2=X6;$p.createRoot=V2.createRoot,$p.hydrateRoot=V2.hydrateRoot;var H2="popstate";function Y6(e={}){function t(r,i){let{pathname:a,search:s,hash:o}=r.location;return Om("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tu(i)}return Q6(t,n,null,e)}function tn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ti(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function J6(){return Math.random().toString(36).substring(2,10)}function W2(e,t){return{usr:e.state,key:e.key,idx:t}}function Om(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Sl(t):t,state:n,key:t&&t.key||r||J6()}}function tu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Sl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Q6(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",c=null,d=p();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function p(){return(s.state||{idx:null}).idx}function f(){o="POP";let k=p(),b=k==null?null:k-d;d=k,c&&c({action:o,location:S.location,delta:b})}function v(k,b){o="PUSH";let x=Om(S.location,k,b);n&&n(x,k),d=p()+1;let j=W2(x,d),R=S.createHref(x);try{s.pushState(j,"",R)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(R)}a&&c&&c({action:o,location:S.location,delta:1})}function m(k,b){o="REPLACE";let x=Om(S.location,k,b);n&&n(x,k),d=p();let j=W2(x,d),R=S.createHref(x);s.replaceState(j,"",R),a&&c&&c({action:o,location:S.location,delta:0})}function w(k){return Z6(k)}let S={get action(){return o},get location(){return e(i,s)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(H2,f),c=k,()=>{i.removeEventListener(H2,f),c=null}},createHref(k){return t(i,k)},createURL:w,encodeLocation(k){let b=w(k);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:v,replace:m,go(k){return s.go(k)}};return S}function Z6(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:tu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function nx(e,t,n="/"){return eN(e,t,n,!1)}function eN(e,t,n,r){let i=typeof t=="string"?Sl(t):t,a=Ca(i.pathname||"/",n);if(a==null)return null;let s=rx(e);tN(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let d=hN(a);o=uN(s[c],d,r)}return o}function rx(e,t=[],n=[],r="",i=!1){let a=(s,o,c=i,d)=>{let p={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&c)return;tn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let f=wa([r,p.relativePath]),v=n.concat(p);s.children&&s.children.length>0&&(tn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),rx(s.children,t,v,f,c)),!(s.path==null&&!s.index)&&t.push({path:f,score:lN(f,s.index),routesMeta:v})};return e.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,o);else for(let d of ix(s.path))a(s,o,!0,d)}),t}function ix(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=ix(r.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function tN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:cN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var nN=/^:[\w-]+$/,rN=3,iN=2,aN=1,sN=10,oN=-2,$2=e=>e==="*";function lN(e,t){let n=e.split("/"),r=n.length;return n.some($2)&&(r+=oN),t&&(r+=iN),n.filter(i=>!$2(i)).reduce((i,a)=>i+(nN.test(a)?rN:a===""?aN:sN),r)}function cN(e,t){return e.length===t.length&&e.slice(0,-1).every((n,r)=>n===t[r])?e[e.length-1]-t[t.length-1]:0}function uN(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",f=Ph({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),v=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Ph({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:wa([a,f.pathname]),pathnameBase:gN(wa([a,f.pathnameBase])),route:v}),f.pathnameBase!=="/"&&(a=wa([a,f.pathnameBase]))}return s}function Ph(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=dN(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:p},f)=>{if(d==="*"){let m=o[f]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const v=o[f];return p&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:e}}function dN(e,t=!1,n=!0){Ti(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,o)=>(r.push({paramName:s,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function hN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ti(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ca(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function fN(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Sl(e):e;return{pathname:n?n.startsWith("/")?n:pN(n,t):t,search:vN(r),hash:yN(i)}}function pN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Np(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ax(e){let t=mN(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function sx(e,t,n,r=!1){let i;typeof e=="string"?i=Sl(e):(i={...e},tn(!i.pathname||!i.pathname.includes("?"),Np("?","pathname","search",i)),tn(!i.pathname||!i.pathname.includes("#"),Np("#","pathname","hash",i)),tn(!i.search||!i.search.includes("#"),Np("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),f-=1;i.pathname=v.join("/")}o=f>=0?t[f]:"/"}let c=fN(i,o),d=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}var wa=e=>e.join("/").replace(/\/\/+/g,"/"),gN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var ox=["POST","PUT","PATCH","DELETE"];new Set(ox);var xN=["GET",...ox];new Set(xN);var Nl=F.createContext(null);Nl.displayName="DataRouter";var nf=F.createContext(null);nf.displayName="DataRouterState";F.createContext(!1);var lx=F.createContext({isTransitioning:!1});lx.displayName="ViewTransition";var wN=F.createContext(new Map);wN.displayName="Fetchers";var SN=F.createContext(null);SN.displayName="Await";var ea=F.createContext(null);ea.displayName="Navigation";var fu=F.createContext(null);fu.displayName="Location";var Ea=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ea.displayName="Route";var u0=F.createContext(null);u0.displayName="RouteError";function NN(e,{relative:t}={}){tn(pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext(ea),{hash:i,pathname:a,search:s}=mu(e,{relative:t}),o=a;return n!=="/"&&(o=a==="/"?n:wa([n,a])),r.createHref({pathname:o,search:s,hash:i})}function pu(){return F.useContext(fu)!=null}function Ss(){return tn(pu(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(fu).location}var cx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ux(e){F.useContext(ea).static||F.useLayoutEffect(e)}function d0(){let{isDataRoute:e}=F.useContext(Ea);return e?DN():jN()}function jN(){tn(pu(),"useNavigate() may be used only in the context of a <Router> component.");let e=F.useContext(Nl),{basename:t,navigator:n}=F.useContext(ea),{matches:r}=F.useContext(Ea),{pathname:i}=Ss(),a=JSON.stringify(ax(r)),s=F.useRef(!1);return ux(()=>{s.current=!0}),F.useCallback((o,c={})=>{if(Ti(s.current,cx),!s.current)return;if(typeof o=="number"){n.go(o);return}let d=sx(o,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:wa([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,a,i,e])}F.createContext(null);function mu(e,{relative:t}={}){let{matches:n}=F.useContext(Ea),{pathname:r}=Ss(),i=JSON.stringify(ax(n));return F.useMemo(()=>sx(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function kN(e,t){return dx(e,t)}function dx(e,t,n,r,i){var a;tn(pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=F.useContext(ea),{matches:o}=F.useContext(Ea),c=o[o.length-1],d=c?c.params:{},p=c?c.pathname:"/",f=c?c.pathnameBase:"/",v=c&&c.route;{let j=v&&v.path||"";hx(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let m=Ss(),w;if(t){let j=typeof t=="string"?Sl(t):t;tn(f==="/"||((a=j.pathname)==null?void 0:a.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${j.pathname}" was given in the \`location\` prop.`),w=j}else w=m;let S=w.pathname||"/",k=S;if(f!=="/"){let j=f.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=nx(e,{pathname:k});Ti(v||b!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ti(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=_N(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:wa([f,s.encodeLocation?s.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:wa([f,s.encodeLocation?s.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),o,n,r,i);return t&&x?F.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},x):x}function AN(){let e=RN(),t=bN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:a},"ErrorBoundary")," or"," ",F.createElement("code",{style:a},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:i},n):null,s)}var LN=F.createElement(AN,null),CN=class extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?F.createElement(Ea.Provider,{value:this.props.routeContext},F.createElement(u0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PN({routeContext:e,match:t,children:n}){let r=F.useContext(Nl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(Ea.Provider,{value:e},n)}function _N(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n==null?void 0:n.errors;if(s!=null){let d=a.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);tn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let o=!1,c=-1;if(n)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:f,errors:v}=n,m=p.route.loader&&!f.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||m){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,p,f)=>{let v,m=!1,w=null,S=null;n&&(v=s&&p.route.id?s[p.route.id]:void 0,w=p.route.errorElement||LN,o&&(c<0&&f===0?(hx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,S=null):c===f&&(m=!0,S=p.route.hydrateFallbackElement||null)));let k=t.concat(a.slice(0,f+1)),b=()=>{let x;return v?x=w:m?x=S:p.route.Component?x=F.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=d,F.createElement(PN,{match:p,routeContext:{outlet:d,matches:k,isDataRoute:n!=null},children:x})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?F.createElement(CN,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:b(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):b()},null)}function h0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EN(e){let t=F.useContext(Nl);return tn(t,h0(e)),t}function FN(e){let t=F.useContext(nf);return tn(t,h0(e)),t}function TN(e){let t=F.useContext(Ea);return tn(t,h0(e)),t}function f0(e){let t=TN(e),n=t.matches[t.matches.length-1];return tn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function IN(){return f0("useRouteId")}function RN(){var e;let t=F.useContext(u0),n=FN("useRouteError"),r=f0("useRouteError");return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function DN(){let{router:e}=EN("useNavigate"),t=f0("useNavigate"),n=F.useRef(!1);return ux(()=>{n.current=!0}),F.useCallback(async(r,i={})=>{Ti(n.current,cx),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var G2={};function hx(e,t,n){!t&&!G2[e]&&(G2[e]=!0,Ti(!1,n))}F.memo(MN);function MN({routes:e,future:t,state:n,unstable_onError:r}){return dx(e,void 0,n,r,t)}function $d(e){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ON({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){tn(!pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=F.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=Sl(n));let{pathname:c="/",search:d="",hash:p="",state:f=null,key:v="default"}=n,m=F.useMemo(()=>{let w=Ca(c,s);return w==null?null:{location:{pathname:w,search:d,hash:p,state:f,key:v},navigationType:r}},[s,c,d,p,f,v,r]);return Ti(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:F.createElement(ea.Provider,{value:o},F.createElement(fu.Provider,{children:t,value:m}))}function BN({children:e,location:t}){return kN(Bm(e),t)}function Bm(e,t=[]){let n=[];return F.Children.forEach(e,(r,i)=>{if(!F.isValidElement(r))return;let a=[...t,i];if(r.type===F.Fragment){n.push.apply(n,Bm(r.props.children,a));return}tn(r.type===$d,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Bm(r.props.children,a)),n.push(s)}),n}var Gd="get",Kd="application/x-www-form-urlencoded";function rf(e){return e!=null&&typeof e.tagName=="string"}function qN(e){return rf(e)&&e.tagName.toLowerCase()==="button"}function zN(e){return rf(e)&&e.tagName.toLowerCase()==="form"}function UN(e){return rf(e)&&e.tagName.toLowerCase()==="input"}function VN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HN(e,t){return e.button===0&&(!t||t==="_self")&&!VN(e)}function qm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function WN(e,t){let n=qm(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}var wd=null;function $N(){if(wd===null)try{new FormData(document.createElement("form"),0),wd=!1}catch{wd=!0}return wd}var GN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jp(e){return e!=null&&!GN.has(e)?(Ti(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kd}"`),null):e}function KN(e,t){let n,r,i,a,s;if(zN(e)){let o=e.getAttribute("action");r=o?Ca(o,t):null,n=e.getAttribute("method")||Gd,i=jp(e.getAttribute("enctype"))||Kd,a=new FormData(e)}else if(qN(e)||UN(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(r=c?Ca(c,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Gd,i=jp(e.getAttribute("formenctype"))||jp(o.getAttribute("enctype"))||Kd,a=new FormData(o,e),!$N()){let{name:d,type:p,value:f}=e;if(p==="image"){let v=d?`${d}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else d&&a.append(d,f)}}else{if(rf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gd,r=null,i=Kd,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function p0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function XN(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ca(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function YN(e,t){if(e.id in t)return t[e.id];try{let n=await Mc(()=>ih(()=>import(e.module),[]),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JN(e){return e!=null&&typeof e.page=="string"}function QN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ZN(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await YN(a,n);return s.links?s.links():[]}return[]}));return rj(r.flat(1).filter(QN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function K2(e,t,n,r,i,a){let s=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,o=(c,d)=>{var p;return n[d].pathname!==c.pathname||((p=n[d].route.path)==null?void 0:p.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,d)=>s(c,d)||o(c,d)):a==="data"?t.filter((c,d)=>{var p;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(s(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function ej(e,t,{includeHydrateFallback:n}={}){return tj(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function tj(e){return[...new Set(e)]}function nj(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function rj(e,t){let n=new Set,r=new Set(t);return e.reduce((i,a)=>{if(t&&!JN(a)&&a.as==="script"&&a.href&&r.has(a.href))return i;let s=JSON.stringify(nj(a));return n.has(s)||(n.add(s),i.push({key:s,link:a})),i},[])}function fx(){let e=F.useContext(Nl);return p0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ij(){let e=F.useContext(nf);return p0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var m0=F.createContext(void 0);m0.displayName="FrameworkContext";function px(){let e=F.useContext(m0);return p0(e,"You must render this element inside a <HydratedRouter> element"),e}function aj(e,t){let n=F.useContext(m0),[r,i]=F.useState(!1),[a,s]=F.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:p,onTouchStart:f}=t,v=F.useRef(null);F.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let S=b=>{b.forEach(x=>{s(x.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return v.current&&k.observe(v.current),()=>{k.disconnect()}}},[e]),F.useEffect(()=>{if(r){let S=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(S)}}},[r]);let m=()=>{i(!0)},w=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,v,{}]:[a,v,{onFocus:uc(o,m),onBlur:uc(c,w),onMouseEnter:uc(d,m),onMouseLeave:uc(p,w),onTouchStart:uc(f,m)}]:[!1,v,{}]}function uc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function sj({page:e,...t}){let{router:n}=fx(),r=F.useMemo(()=>nx(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?F.createElement(lj,{page:e,matches:r,...t}):null}function oj(e){let{manifest:t,routeModules:n}=px(),[r,i]=F.useState([]);return F.useEffect(()=>{let a=!1;return ZN(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function lj({page:e,matches:t,...n}){let r=Ss(),{manifest:i,routeModules:a}=px(),{basename:s}=fx(),{loaderData:o,matches:c}=ij(),d=F.useMemo(()=>K2(e,t,c,i,r,"data"),[e,t,c,i,r]),p=F.useMemo(()=>K2(e,t,c,i,r,"assets"),[e,t,c,i,r]),f=F.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(t.forEach(b=>{var x;let j=i.routes[b.route.id];!j||!j.hasLoader||(!d.some(R=>R.route.id===b.route.id)&&b.route.id in o&&(x=a[b.route.id])!=null&&x.shouldRevalidate||j.hasClientLoader?S=!0:w.add(b.route.id))}),w.size===0)return[];let k=XN(e,s,"data");return S&&w.size>0&&k.searchParams.set("_routes",t.filter(b=>w.has(b.route.id)).map(b=>b.route.id).join(",")),[k.pathname+k.search]},[s,o,r,i,d,t,e,a]),v=F.useMemo(()=>ej(p,i),[p,i]),m=oj(p);return F.createElement(F.Fragment,null,f.map(w=>F.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>F.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),m.map(({key:w,link:S})=>F.createElement("link",{key:w,nonce:n.nonce,...S})))}function cj(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var mx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mx&&(window.__reactRouterVersion="7.9.3")}catch{}function uj({basename:e,children:t,window:n}){let r=F.useRef();r.current==null&&(r.current=Y6({window:n,v5Compat:!0}));let i=r.current,[a,s]=F.useState({action:i.action,location:i.location}),o=F.useCallback(c=>{F.startTransition(()=>s(c))},[s]);return F.useLayoutEffect(()=>i.listen(o),[i,o]),F.createElement(ON,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vx=F.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:i,replace:a,state:s,target:o,to:c,preventScrollReset:d,viewTransition:p,...f},v){let{basename:m}=F.useContext(ea),w=typeof c=="string"&&gx.test(c),S,k=!1;if(typeof c=="string"&&w&&(S=c,mx))try{let T=new URL(window.location.href),J=c.startsWith("//")?new URL(T.protocol+c):new URL(c),Z=Ca(J.pathname,m);J.origin===T.origin&&Z!=null?c=Z+J.search+J.hash:k=!0}catch{Ti(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=NN(c,{relative:r}),[x,j,R]=aj(n,f),q=pj(c,{replace:a,state:s,target:o,preventScrollReset:d,relative:r,viewTransition:p});function H(T){e&&e(T),T.defaultPrevented||q(T)}let D=F.createElement("a",{...f,...R,href:S||b,onClick:k||i?e:H,ref:cj(v,j),target:o,"data-discover":!w&&t==="render"?"true":void 0});return x&&!w?F.createElement(F.Fragment,null,D,F.createElement(sj,{page:b})):D});vx.displayName="Link";var dj=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:i,to:a,viewTransition:s,children:o,...c},d){let p=mu(a,{relative:c.relative}),f=Ss(),v=F.useContext(nf),{navigator:m,basename:w}=F.useContext(ea),S=v!=null&&xj(p)&&s===!0,k=m.encodeLocation?m.encodeLocation(p).pathname:p.pathname,b=f.pathname,x=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(b=b.toLowerCase(),x=x?x.toLowerCase():null,k=k.toLowerCase()),x&&w&&(x=Ca(x,w)||x);const j=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let R=b===k||!r&&b.startsWith(k)&&b.charAt(j)==="/",q=x!=null&&(x===k||!r&&x.startsWith(k)&&x.charAt(k.length)==="/"),H={isActive:R,isPending:q,isTransitioning:S},D=R?e:void 0,T;typeof n=="function"?T=n(H):T=[n,R?"active":null,q?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let J=typeof i=="function"?i(H):i;return F.createElement(vx,{...c,"aria-current":D,className:T,ref:d,style:J,to:a,viewTransition:s},typeof o=="function"?o(H):o)});dj.displayName="NavLink";var hj=F.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Gd,action:o,onSubmit:c,relative:d,preventScrollReset:p,viewTransition:f,...v},m)=>{let w=yj(),S=bj(o,{relative:d}),k=s.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&gx.test(o),x=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let R=j.nativeEvent.submitter,q=(R==null?void 0:R.getAttribute("formmethod"))||s;w(R||j.currentTarget,{fetcherKey:t,method:q,navigate:n,replace:i,state:a,relative:d,preventScrollReset:p,viewTransition:f})};return F.createElement("form",{ref:m,method:k,action:S,onSubmit:r?c:x,...v,"data-discover":!b&&e==="render"?"true":void 0})});hj.displayName="Form";function fj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yx(e){let t=F.useContext(Nl);return tn(t,fj(e)),t}function pj(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=d0(),c=Ss(),d=mu(e,{relative:a});return F.useCallback(p=>{if(HN(p,t)){p.preventDefault();let f=n!==void 0?n:tu(c)===tu(d);o(e,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[c,o,d,n,r,t,e,i,a,s])}function mj(e){Ti(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=F.useRef(qm(e)),n=F.useRef(!1),r=Ss(),i=F.useMemo(()=>WN(r.search,n.current?null:t.current),[r.search]),a=d0(),s=F.useCallback((o,c)=>{const d=qm(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,a("?"+d,c)},[a,i]);return[i,s]}var gj=0,vj=()=>`__${String(++gj)}__`;function yj(){let{router:e}=yx("useSubmit"),{basename:t}=F.useContext(ea),n=IN();return F.useCallback(async(r,i={})=>{let{action:a,method:s,encType:o,formData:c,body:d}=KN(r,t);if(i.navigate===!1){let p=i.fetcherKey||vj();await e.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function bj(e,{relative:t}={}){let{basename:n}=F.useContext(ea),r=F.useContext(Ea);tn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...mu(e||".",{relative:t})},s=Ss();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(p=>p).forEach(p=>o.append("index",p));let d=o.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:wa([n,a.pathname])),tu(a)}function xj(e,{relative:t}={}){let n=F.useContext(lx);tn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yx("useViewTransitionState"),i=mu(e,{relative:t});if(!n.isTransitioning)return!1;let a=Ca(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ca(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ph(i.pathname,s)!=null||Ph(i.pathname,a)!=null}const g0=F.createContext({});function v0(e){const t=F.useRef(null);return t.current===null&&(t.current=e()),t.current}const af=F.createContext(null),y0=F.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class wj extends F.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Sj({children:e,isPresent:t}){const n=F.useId(),r=F.useRef(null),i=F.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=F.useContext(y0);return F.useInsertionEffect(()=>{const{width:s,height:o,top:c,left:d}=i.current;if(t||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const p=document.createElement("style");return a&&(p.nonce=a),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),l.jsx(wj,{isPresent:t,childRef:r,sizeRef:i,children:F.cloneElement(e,{ref:r})})}const Nj=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=v0(jj),c=F.useId(),d=F.useCallback(f=>{o.set(f,!0);for(const v of o.values())if(!v)return;r&&r()},[o,r]),p=F.useMemo(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:d,register:f=>(o.set(f,!1),()=>o.delete(f))}),a?[Math.random(),d]:[n,d]);return F.useMemo(()=>{o.forEach((f,v)=>o.set(v,!1))},[n]),F.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),s==="popLayout"&&(e=l.jsx(Sj,{isPresent:n,children:e})),l.jsx(af.Provider,{value:p,children:e})};function jj(){return new Map}function bx(e=!0){const t=F.useContext(af);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=F.useId();F.useEffect(()=>{e&&i(a)},[e]);const s=F.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,s]:[!0]}const Sd=e=>e.key||"";function X2(e){const t=[];return F.Children.forEach(e,n=>{F.isValidElement(n)&&t.push(n)}),t}const b0=typeof window<"u",xx=b0?F.useLayoutEffect:F.useEffect,qr=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1})=>{const[o,c]=bx(s),d=F.useMemo(()=>X2(e),[e]),p=s&&!o?[]:d.map(Sd),f=F.useRef(!0),v=F.useRef(d),m=v0(()=>new Map),[w,S]=F.useState(d),[k,b]=F.useState(d);xx(()=>{f.current=!1,v.current=d;for(let R=0;R<k.length;R++){const q=Sd(k[R]);p.includes(q)?m.delete(q):m.get(q)!==!0&&m.set(q,!1)}},[k,p.length,p.join("-")]);const x=[];if(d!==w){let R=[...d];for(let q=0;q<k.length;q++){const H=k[q],D=Sd(H);p.includes(D)||(R.splice(q,0,H),x.push(H))}a==="wait"&&x.length&&(R=x),b(X2(R)),S(d);return}const{forceRender:j}=F.useContext(g0);return l.jsx(l.Fragment,{children:k.map(R=>{const q=Sd(R),H=s&&!o?!1:d===k||p.includes(q),D=()=>{if(m.has(q))m.set(q,!0);else return;let T=!0;m.forEach(J=>{J||(T=!1)}),T&&(j==null||j(),b(v.current),s&&(c==null||c()),r&&r())};return l.jsx(Nj,{isPresent:H,initial:!f.current||n?void 0:!1,custom:H?void 0:t,presenceAffectsLayout:i,mode:a,onExitComplete:H?void 0:D,children:R},q)})})},Vr=e=>e;let wx=Vr;function x0(e){let t;return()=>(t===void 0&&(t=e()),t)}const ml=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Sa=e=>e*1e3,Na=e=>e/1e3,kj={skipAnimations:!1,useManualTiming:!1};function Aj(e){let t=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(d){a.has(d)&&(c.schedule(d),e()),d(s)}const c={schedule:(d,p=!1,f=!1)=>{const v=f&&r?t:n;return p&&a.add(d),v.has(d)||v.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(s=d,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,i&&(i=!1,c.process(d))}};return c}const Nd=["read","resolveKeyframes","update","preRender","render","postRender"],Lj=40;function Sx(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=Nd.reduce((S,k)=>(S[k]=Aj(a),S),{}),{read:o,resolveKeyframes:c,update:d,preRender:p,render:f,postRender:v}=s,m=()=>{const S=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,Lj),1),i.timestamp=S,i.isProcessing=!0,o.process(i),c.process(i),d.process(i),p.process(i),f.process(i),v.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},w=()=>{n=!0,r=!0,i.isProcessing||e(m)};return{schedule:Nd.reduce((S,k)=>{const b=s[k];return S[k]=(x,j=!1,R=!1)=>(n||w(),b.schedule(x,j,R)),S},{}),cancel:S=>{for(let k=0;k<Nd.length;k++)s[Nd[k]].cancel(S)},state:i,steps:s}}const{schedule:Gt,cancel:ms,state:Un,steps:kp}=Sx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vr,!0),Nx=F.createContext({strict:!1}),Y2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gl={};for(const e in Y2)gl[e]={isEnabled:t=>Y2[e].some(n=>!!t[n])};function Cj(e){for(const t in e)gl[t]={...gl[t],...e[t]}}const Pj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _h(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Pj.has(e)}let jx=e=>!_h(e);function _j(e){e&&(jx=t=>t.startsWith("on")?!_h(t):e(t))}try{_j(require("@emotion/is-prop-valid").default)}catch{}function Ej(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(jx(i)||n===!0&&_h(i)||!t&&!_h(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Fj(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const sf=F.createContext({});function nu(e){return typeof e=="string"||Array.isArray(e)}function of(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const w0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],S0=["initial",...w0];function lf(e){return of(e.animate)||S0.some(t=>nu(e[t]))}function kx(e){return!!(lf(e)||e.variants)}function Tj(e,t){if(lf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||nu(n)?n:void 0,animate:nu(r)?r:void 0}}return e.inherit!==!1?t:{}}function Ij(e){const{initial:t,animate:n}=Tj(e,F.useContext(sf));return F.useMemo(()=>({initial:t,animate:n}),[J2(t),J2(n)])}function J2(e){return Array.isArray(e)?e.join(" "):e}const Rj=Symbol.for("motionComponentSymbol");function Wo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Dj(e,t,n){return F.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Wo(n)&&(n.current=r))},[t])}const N0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Mj="framerAppearId",Ax="data-"+N0(Mj),{schedule:j0,cancel:zP}=Sx(queueMicrotask,!1),Lx=F.createContext({});function Oj(e,t,n,r,i){var a,s;const{visualElement:o}=F.useContext(sf),c=F.useContext(Nx),d=F.useContext(af),p=F.useContext(y0).reducedMotion,f=F.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:o,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=f.current,m=F.useContext(Lx);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&Bj(f.current,n,i,m);const w=F.useRef(!1);F.useInsertionEffect(()=>{v&&w.current&&v.update(n,d)});const S=n[Ax],k=F.useRef(!!S&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,S))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,S)));return xx(()=>{v&&(w.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),j0.render(v.render),k.current&&v.animationState&&v.animationState.animateChanges())}),F.useEffect(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,S)}),k.current=!1))}),v}function Bj(e,t,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:c,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Cx(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&Wo(o),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:d})}function Cx(e){if(e)return e.options.allowProjection!==!1?e.projection:Cx(e.parent)}function qj({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var a,s;e&&Cj(e);function o(d,p){let f;const v={...F.useContext(y0),...d,layoutId:zj(d)},{isStatic:m}=v,w=Ij(d),S=r(d,m);if(!m&&b0){Uj();const k=Vj(v);f=k.MeasureLayout,w.visualElement=Oj(i,S,v,t,k.ProjectionNode)}return l.jsxs(sf.Provider,{value:w,children:[f&&w.visualElement?l.jsx(f,{visualElement:w.visualElement,...v}):null,n(i,d,Dj(S,w.visualElement,p),S,m,w.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(s=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&s!==void 0?s:""})`}`;const c=F.forwardRef(o);return c[Rj]=i,c}function zj({layoutId:e}){const t=F.useContext(g0).id;return t&&e!==void 0?t+"-"+e:e}function Uj(e,t){F.useContext(Nx).strict}function Vj(e){const{drag:t,layout:n}=gl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Hj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function k0(e){return typeof e!="string"||e.includes("-")?!1:!!(Hj.indexOf(e)>-1||/[A-Z]/u.test(e))}function Q2(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function A0(e,t,n,r){if(typeof t=="function"){const[i,a]=Q2(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=Q2(r);t=t(n!==void 0?n:e.custom,i,a)}return t}const zm=e=>Array.isArray(e),Wj=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),$j=e=>zm(e)?e[e.length-1]||0:e,nr=e=>!!(e&&e.getVelocity);function Xd(e){const t=nr(e)?e.get():e;return Wj(t)?t.toValue():t}function Gj({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,a){const s={latestValues:Kj(r,i,a,e),renderState:t()};return n&&(s.onMount=o=>n({props:r,current:o,...s}),s.onUpdate=o=>n(o)),s}const Px=e=>(t,n)=>{const r=F.useContext(sf),i=F.useContext(af),a=()=>Gj(e,t,r,i);return n?a():v0(a)};function Kj(e,t,n,r){const i={},a=r(e,{});for(const v in a)i[v]=Xd(a[v]);let{initial:s,animate:o}=e;const c=lf(e),d=kx(e);t&&d&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let p=n?n.initial===!1:!1;p=p||s===!1;const f=p?o:s;if(f&&typeof f!="boolean"&&!of(f)){const v=Array.isArray(f)?f:[f];for(let m=0;m<v.length;m++){const w=A0(e,v[m]);if(w){const{transitionEnd:S,transition:k,...b}=w;for(const x in b){let j=b[x];if(Array.isArray(j)){const R=p?j.length-1:0;j=j[R]}j!==null&&(i[x]=j)}for(const x in S)i[x]=S[x]}}}return i}const jl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ro=new Set(jl),_x=e=>t=>typeof t=="string"&&t.startsWith(e),Ex=_x("--"),Xj=_x("var(--"),L0=e=>Xj(e)?Yj.test(e.split("/*")[0].trim()):!1,Yj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fx=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Pa=(e,t,n)=>n>t?t:n<e?e:n,kl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ru={...kl,transform:e=>Pa(0,1,e)},jd={...kl,default:1},gu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ja=gu("deg"),Ji=gu("%"),it=gu("px"),Jj=gu("vh"),Qj=gu("vw"),Z2={...Ji,parse:e=>Ji.parse(e)/100,transform:e=>Ji.transform(e*100)},Zj={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,backgroundPositionX:it,backgroundPositionY:it},e8={rotate:Ja,rotateX:Ja,rotateY:Ja,rotateZ:Ja,scale:jd,scaleX:jd,scaleY:jd,scaleZ:jd,skew:Ja,skewX:Ja,skewY:Ja,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:ru,originX:Z2,originY:Z2,originZ:it},ev={...kl,transform:Math.round},C0={...Zj,...e8,zIndex:ev,size:it,fillOpacity:ru,strokeOpacity:ru,numOctaves:ev},t8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},n8=jl.length;function r8(e,t,n){let r="",i=!0;for(let a=0;a<n8;a++){const s=jl[a],o=e[s];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(s.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const d=Fx(o,C0[s]);if(!c){i=!1;const p=t8[s]||s;r+=`${p}(${d}) `}n&&(t[s]=d)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function P0(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let s=!1,o=!1;for(const c in t){const d=t[c];if(ro.has(c)){s=!0;continue}else if(Ex(c)){i[c]=d;continue}else{const p=Fx(d,C0[c]);c.startsWith("origin")?(o=!0,a[c]=p):r[c]=p}}if(t.transform||(s||n?r.transform=r8(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:p=0}=a;r.transformOrigin=`${c} ${d} ${p}`}}const i8={offset:"stroke-dashoffset",array:"stroke-dasharray"},a8={offset:"strokeDashoffset",array:"strokeDasharray"};function s8(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?i8:a8;e[a.offset]=it.transform(-r);const s=it.transform(t),o=it.transform(n);e[a.array]=`${s} ${o}`}function tv(e,t,n){return typeof e=="string"?e:it.transform(t+n*e)}function o8(e,t,n){const r=tv(t,e.x,e.width),i=tv(n,e.y,e.height);return`${r} ${i}`}function _0(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:c=0,...d},p,f){if(P0(e,d,f),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:m,dimensions:w}=e;v.transform&&(w&&(m.transform=v.transform),delete v.transform),w&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=o8(w,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&s8(v,s,o,c,!1)}const E0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Tx=()=>({...E0(),attrs:{}}),F0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ix(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const Rx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Dx(e,t,n,r){Ix(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Rx.has(i)?i:N0(i),t.attrs[i])}const Eh={};function l8(e){Object.assign(Eh,e)}function Mx(e,{layout:t,layoutId:n}){return ro.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Eh[e]||e==="opacity")}function T0(e,t,n){var r;const{style:i}=e,a={};for(const s in i)(nr(i[s])||t.style&&nr(t.style[s])||Mx(s,e)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[s]=i[s]);return a}function Ox(e,t,n){const r=T0(e,t,n);for(const i in e)if(nr(e[i])||nr(t[i])){const a=jl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}function c8(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const nv=["x","y","width","height","cx","cy","r"],u8={useVisualState:Px({scrapeMotionValuesFromProps:Ox,createRenderState:Tx,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!e.drag;if(!a){for(const o in i)if(ro.has(o)){a=!0;break}}if(!a)return;let s=!t;if(t)for(let o=0;o<nv.length;o++){const c=nv[o];e[c]!==t[c]&&(s=!0)}s&&Gt.read(()=>{c8(n,r),Gt.render(()=>{_0(r,i,F0(n.tagName),e.transformTemplate),Dx(n,r)})})}})},d8={useVisualState:Px({scrapeMotionValuesFromProps:T0,createRenderState:E0})};function Bx(e,t,n){for(const r in t)!nr(t[r])&&!Mx(r,n)&&(e[r]=t[r])}function h8({transformTemplate:e},t){return F.useMemo(()=>{const n=E0();return P0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function f8(e,t){const n=e.style||{},r={};return Bx(r,n,e),Object.assign(r,h8(e,t)),r}function p8(e,t){const n={},r=f8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function m8(e,t,n,r){const i=F.useMemo(()=>{const a=Tx();return _0(a,t,F0(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Bx(a,e.style,e),i.style={...a,...i.style}}return i}function g8(e=!1){return(t,n,r,{latestValues:i},a)=>{const s=(k0(t)?m8:p8)(n,i,a,t),o=Ej(n,typeof t=="string",e),c=t!==F.Fragment?{...o,...s,ref:r}:{},{children:d}=n,p=F.useMemo(()=>nr(d)?d.get():d,[d]);return F.createElement(t,{...c,children:p})}}function v8(e,t){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){const i={...k0(n)?u8:d8,preloadedFeatures:e,useRender:g8(r),createVisualElement:t,Component:n};return qj(i)}}function qx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function cf(e,t,n){const r=e.getProps();return A0(r,t,n!==void 0?n:r.custom,e)}const y8=x0(()=>window.ScrollTimeline!==void 0);class b8{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(y8()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class x8 extends b8{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function I0(e,t){return e?e[t]||e.default||e:void 0}const Um=2e4;function zx(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Um;)t+=n,r=e.next(t);return t>=Um?1/0:t}function R0(e){return typeof e=="function"}function rv(e,t){e.timeline=t,e.onfinish=null}const D0=e=>Array.isArray(e)&&typeof e[0]=="number",w8={linearEasing:void 0};function S8(e,t){const n=x0(e);return()=>{var r;return(r=w8[t])!==null&&r!==void 0?r:n()}}const Fh=S8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ux=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=e(ml(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function Vx(e){return!!(typeof e=="function"&&Fh()||!e||typeof e=="string"&&(e in Vm||Fh())||D0(e)||Array.isArray(e)&&e.every(Vx))}const xc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Vm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xc([0,.65,.55,1]),circOut:xc([.55,0,1,.45]),backIn:xc([.31,.01,.66,-.59]),backOut:xc([.33,1.53,.69,.99])};function Hx(e,t){if(e)return typeof e=="function"&&Fh()?Ux(e,t):D0(e)?xc(e):Array.isArray(e)?e.map(n=>Hx(n,t)||Vm.easeOut):Vm[e]}const ki={x:!1,y:!1};function Wx(){return ki.x||ki.y}function N8(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;t&&(i=t.current);const a=(r=n==null?void 0:n[e])!==null&&r!==void 0?r:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function $x(e,t){const n=N8(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function iv(e){return t=>{t.pointerType==="touch"||Wx()||e(t)}}function j8(e,t,n={}){const[r,i,a]=$x(e,n),s=iv(o=>{const{target:c}=o,d=t(o);if(typeof d!="function"||!c)return;const p=iv(f=>{d(f),c.removeEventListener("pointerleave",p)});c.addEventListener("pointerleave",p,i)});return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const Gx=(e,t)=>t?e===t?!0:Gx(e,t.parentElement):!1,M0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,k8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function A8(e){return k8.has(e.tagName)||e.tabIndex!==-1}const wc=new WeakSet;function av(e){return t=>{t.key==="Enter"&&e(t)}}function Ap(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const L8=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=av(()=>{if(wc.has(n))return;Ap(n,"down");const i=av(()=>{Ap(n,"up")}),a=()=>Ap(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function sv(e){return M0(e)&&!Wx()}function C8(e,t,n={}){const[r,i,a]=$x(e,n),s=o=>{const c=o.currentTarget;if(!sv(o)||wc.has(c))return;wc.add(c);const d=t(o),p=(m,w)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",v),!(!sv(m)||!wc.has(c))&&(wc.delete(c),typeof d=="function"&&d(m,{success:w}))},f=m=>{p(m,n.useGlobalTarget||Gx(c,m.target))},v=m=>{p(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",v,i)};return r.forEach(o=>{!A8(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),o.addEventListener("focus",c=>L8(c,i),i)}),a}function P8(e){return e==="x"||e==="y"?ki[e]?null:(ki[e]=!0,()=>{ki[e]=!1}):ki.x||ki.y?null:(ki.x=ki.y=!0,()=>{ki.x=ki.y=!1})}const Kx=new Set(["width","height","top","left","right","bottom",...jl]);let Yd;function _8(){Yd=void 0}const Qi={now:()=>(Yd===void 0&&Qi.set(Un.isProcessing||kj.useManualTiming?Un.timestamp:performance.now()),Yd),set:e=>{Yd=e,queueMicrotask(_8)}};function O0(e,t){e.indexOf(t)===-1&&e.push(t)}function B0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class q0{constructor(){this.subscriptions=[]}add(t){return O0(this.subscriptions,t),()=>B0(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Xx(e,t){return t?e*(1e3/t):0}const ov=30,E8=e=>!isNaN(parseFloat(e));class F8{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Qi.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Qi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=E8(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new q0);const r=this.events[t].add(n);return t==="change"?()=>{r(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Qi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ov)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ov);return Xx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function iu(e,t){return new F8(e,t)}function T8(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,iu(n))}function I8(e,t){const n=cf(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=$j(a[s]);T8(e,s,o)}}function R8(e){return!!(nr(e)&&e.add)}function Hm(e,t){const n=e.getValue("willChange");if(R8(n))return n.add(t)}function Yx(e){return e.props[Ax]}const Jx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,D8=1e-7,M8=12;function O8(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=Jx(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>D8&&++o<M8);return s}function vu(e,t,n,r){if(e===t&&n===r)return Vr;const i=a=>O8(a,0,1,e,n);return a=>a===0||a===1?a:Jx(i(a),t,r)}const Qx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Zx=e=>t=>1-e(1-t),ew=vu(.33,1.53,.69,.99),z0=Zx(ew),tw=Qx(z0),nw=e=>(e*=2)<1?.5*z0(e):.5*(2-Math.pow(2,-10*(e-1))),U0=e=>1-Math.sin(Math.acos(e)),rw=Zx(U0),iw=Qx(U0),aw=e=>/^0[^.\s]+$/u.test(e);function B8(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||aw(e):!0}const Fc=e=>Math.round(e*1e5)/1e5,V0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function q8(e){return e==null}const z8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,H0=(e,t)=>n=>!!(typeof n=="string"&&z8.test(n)&&n.startsWith(e)||t&&!q8(n)&&Object.prototype.hasOwnProperty.call(n,t)),sw=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(V0);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},U8=e=>Pa(0,255,e),Lp={...kl,transform:e=>Math.round(U8(e))},Ws={test:H0("rgb","red"),parse:sw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Lp.transform(e)+", "+Lp.transform(t)+", "+Lp.transform(n)+", "+Fc(ru.transform(r))+")"};function V8(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Wm={test:H0("#"),parse:V8,transform:Ws.transform},$o={test:H0("hsl","hue"),parse:sw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ji.transform(Fc(t))+", "+Ji.transform(Fc(n))+", "+Fc(ru.transform(r))+")"},Zn={test:e=>Ws.test(e)||Wm.test(e)||$o.test(e),parse:e=>Ws.test(e)?Ws.parse(e):$o.test(e)?$o.parse(e):Wm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ws.transform(e):$o.transform(e)},H8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function W8(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(V0))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(H8))===null||n===void 0?void 0:n.length)||0)>0}const ow="number",lw="color",$8="var",G8="var(",lv="${}",K8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function au(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const s=t.replace(K8,o=>(Zn.test(o)?(r.color.push(a),i.push(lw),n.push(Zn.parse(o))):o.startsWith(G8)?(r.var.push(a),i.push($8),n.push(o)):(r.number.push(a),i.push(ow),n.push(parseFloat(o))),++a,lv)).split(lv);return{values:n,split:s,indexes:r,types:i}}function cw(e){return au(e).values}function uw(e){const{split:t,types:n}=au(e),r=t.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=t[s],i[s]!==void 0){const o=n[s];o===ow?a+=Fc(i[s]):o===lw?a+=Zn.transform(i[s]):a+=i[s]}return a}}const X8=e=>typeof e=="number"?0:e;function Y8(e){const t=cw(e);return uw(e)(t.map(X8))}const gs={test:W8,parse:cw,createTransformer:uw,getAnimatableNone:Y8},J8=new Set(["brightness","contrast","saturate","opacity"]);function Q8(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(V0)||[];if(!r)return e;const i=n.replace(r,"");let a=J8.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const Z8=/\b([a-z-]*)\(.*?\)/gu,$m={...gs,getAnimatableNone:e=>{const t=e.match(Z8);return t?t.map(Q8).join(" "):e}},ek={...C0,color:Zn,backgroundColor:Zn,outlineColor:Zn,fill:Zn,stroke:Zn,borderColor:Zn,borderTopColor:Zn,borderRightColor:Zn,borderBottomColor:Zn,borderLeftColor:Zn,filter:$m,WebkitFilter:$m},W0=e=>ek[e];function dw(e,t){let n=W0(e);return n!==$m&&(n=gs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const tk=new Set(["auto","none","0"]);function nk(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!tk.has(a)&&au(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=dw(n,i)}const cv=e=>e===kl||e===it,uv=(e,t)=>parseFloat(e.split(", ")[t]),dv=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return uv(i[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?uv(a[1],e):0}},rk=new Set(["x","y","z"]),ik=jl.filter(e=>!rk.has(e));function ak(e){const t=[];return ik.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const vl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:dv(4,13),y:dv(5,14)};vl.translateX=vl.x;vl.translateY=vl.y;const Ks=new Set;let Gm=!1,Km=!1;function hw(){if(Km){const e=Array.from(Ks).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=ak(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Km=!1,Gm=!1,Ks.forEach(e=>e.complete()),Ks.clear()}function fw(){Ks.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Km=!0)})}function sk(){fw(),hw()}class $0{constructor(t,n,r,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ks.add(this),Gm||(Gm=!0,Gt.read(fw),Gt.resolveKeyframes(hw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const c=r.readValue(n,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ks.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ks.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const pw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ok=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lk(e){const t=ok.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function mw(e,t,n=1){const[r,i]=lk(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return pw(s)?parseFloat(s):s}return L0(i)?mw(i,t,n+1):i}const gw=e=>t=>t.test(e),ck={test:e=>e==="auto",parse:e=>e},vw=[kl,it,Ji,Ja,Qj,Jj,ck],hv=e=>vw.find(gw(e));class yw extends $0{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),L0(d))){const p=mw(d,n.current);p!==void 0&&(t[c]=p),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Kx.has(r)||t.length!==2)return;const[i,a]=t,s=hv(i),o=hv(a);if(s!==o)if(cv(s)&&cv(o))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)B8(t[i])&&r.push(i);r.length&&nk(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=vl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{n.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const fv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(gs.test(e)||e==="0")&&!e.startsWith("url("));function uk(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function dk(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],s=fv(i,t),o=fv(a,t);return!s||!o?!1:uk(e)||(n==="spring"||R0(n))&&r}const hk=e=>e!==null;function uf(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(hk),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const fk=40;class bw{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Qi.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fk?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&sk(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Qi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:s,onComplete:o,onUpdate:c,isGenerator:d}=this.options;if(!d&&!dk(t,r,i,a))if(s)this.options.duration=0;else{c&&c(uf(t,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,n);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Zt=(e,t,n)=>e+(t-e)*n;function Cp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pk({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,c=2*n-o;i=Cp(c,o,e+1/3),a=Cp(c,o,e),s=Cp(c,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function Th(e,t){return n=>n>0?t:e}const Pp=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},mk=[Wm,Ws,$o],gk=e=>mk.find(t=>t.test(e));function pv(e){const t=gk(e);if(!t)return!1;let n=t.parse(e);return t===$o&&(n=pk(n)),n}const mv=(e,t)=>{const n=pv(e),r=pv(t);if(!n||!r)return Th(e,t);const i={...n};return a=>(i.red=Pp(n.red,r.red,a),i.green=Pp(n.green,r.green,a),i.blue=Pp(n.blue,r.blue,a),i.alpha=Zt(n.alpha,r.alpha,a),Ws.transform(i))},vk=(e,t)=>n=>t(e(n)),yu=(...e)=>e.reduce(vk),Xm=new Set(["none","hidden"]);function yk(e,t){return Xm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function bk(e,t){return n=>Zt(e,t,n)}function G0(e){return typeof e=="number"?bk:typeof e=="string"?L0(e)?Th:Zn.test(e)?mv:Sk:Array.isArray(e)?xw:typeof e=="object"?Zn.test(e)?mv:xk:Th}function xw(e,t){const n=[...e],r=n.length,i=e.map((a,s)=>G0(a)(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function xk(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=G0(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function wk(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],o=e.indexes[s][i[s]],c=(n=e.values[o])!==null&&n!==void 0?n:0;r[a]=c,i[s]++}return r}const Sk=(e,t)=>{const n=gs.createTransformer(t),r=au(e),i=au(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Xm.has(e)&&!i.values.length||Xm.has(t)&&!r.values.length?yk(e,t):yu(xw(wk(r,i),i.values),n):Th(e,t)};function ww(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Zt(e,t,n):G0(e)(e,t)}const Nk=5;function Sw(e,t,n){const r=Math.max(t-Nk,0);return Xx(n-e(r),t-r)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_p=.001;function jk({duration:e=on.duration,bounce:t=on.bounce,velocity:n=on.velocity,mass:r=on.mass}){let i,a,s=1-t;s=Pa(on.minDamping,on.maxDamping,s),e=Pa(on.minDuration,on.maxDuration,Na(e)),s<1?(i=d=>{const p=d*s,f=p*e,v=p-n,m=Ym(d,s),w=Math.exp(-f);return _p-v/m*w},a=d=>{const p=d*s*e,f=p*n+n,v=Math.pow(s,2)*Math.pow(d,2)*e,m=Math.exp(-p),w=Ym(Math.pow(d,2),s);return(-i(d)+_p>0?-1:1)*((f-v)*m)/w}):(i=d=>{const p=Math.exp(-d*e),f=(d-n)*e+1;return-_p+p*f},a=d=>{const p=Math.exp(-d*e),f=(n-d)*(e*e);return p*f});const o=5/e,c=Ak(i,a,o);if(e=Sa(e),isNaN(c))return{stiffness:on.stiffness,damping:on.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:s*2*Math.sqrt(r*d),duration:e}}}const kk=12;function Ak(e,t,n){let r=n;for(let i=1;i<kk;i++)r=r-e(r)/t(r);return r}function Ym(e,t){return e*Math.sqrt(1-t*t)}const Lk=["duration","bounce"],Ck=["stiffness","damping","mass"];function gv(e,t){return t.some(n=>e[n]!==void 0)}function Pk(e){let t={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...e};if(!gv(e,Ck)&&gv(e,Lk))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Pa(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:on.mass,stiffness:i,damping:a}}else{const n=jk(e);t={...t,...n,mass:on.mass},t.isResolvedFromDuration=!0}return t}function Nw(e=on.visualDuration,t=on.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:d,mass:p,duration:f,velocity:v,isResolvedFromDuration:m}=Pk({...n,velocity:-Na(n.velocity||0)}),w=v||0,S=d/(2*Math.sqrt(c*p)),k=s-a,b=Na(Math.sqrt(c/p)),x=Math.abs(k)<5;r||(r=x?on.restSpeed.granular:on.restSpeed.default),i||(i=x?on.restDelta.granular:on.restDelta.default);let j;if(S<1){const q=Ym(b,S);j=H=>{const D=Math.exp(-S*b*H);return s-D*((w+S*b*k)/q*Math.sin(q*H)+k*Math.cos(q*H))}}else if(S===1)j=q=>s-Math.exp(-b*q)*(k+(w+b*k)*q);else{const q=b*Math.sqrt(S*S-1);j=H=>{const D=Math.exp(-S*b*H),T=Math.min(q*H,300);return s-D*((w+S*b*k)*Math.sinh(T)+q*k*Math.cosh(T))/q}}const R={calculatedDuration:m&&f||null,next:q=>{const H=j(q);if(m)o.done=q>=f;else{let D=0;S<1&&(D=q===0?Sa(w):Sw(j,q,H));const T=Math.abs(D)<=r,J=Math.abs(s-H)<=i;o.done=T&&J}return o.value=o.done?s:H,o},toString:()=>{const q=Math.min(zx(R),Um),H=Ux(D=>R.next(q*D).value,q,30);return q+"ms "+H}};return R}function vv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:c,restDelta:d=.5,restSpeed:p}){const f=e[0],v={done:!1,value:f},m=T=>o!==void 0&&T<o||c!==void 0&&T>c,w=T=>o===void 0?c:c===void 0||Math.abs(o-T)<Math.abs(c-T)?o:c;let S=n*t;const k=f+S,b=s===void 0?k:s(k);b!==k&&(S=b-f);const x=T=>-S*Math.exp(-T/r),j=T=>b+x(T),R=T=>{const J=x(T),Z=j(T);v.done=Math.abs(J)<=d,v.value=v.done?b:Z};let q,H;const D=T=>{m(v.value)&&(q=T,H=Nw({keyframes:[v.value,w(v.value)],velocity:Sw(j,T,v.value),damping:i,stiffness:a,restDelta:d,restSpeed:p}))};return D(0),{calculatedDuration:null,next:T=>{let J=!1;return!H&&q===void 0&&(J=!0,R(T),D(T)),q!==void 0&&T>=q?H.next(T-q):(!J&&R(T),v)}}}const _k=vu(.42,0,1,1),Ek=vu(0,0,.58,1),jw=vu(.42,0,.58,1),Fk=e=>Array.isArray(e)&&typeof e[0]!="number",Tk={linear:Vr,easeIn:_k,easeInOut:jw,easeOut:Ek,circIn:U0,circInOut:iw,circOut:rw,backIn:z0,backInOut:tw,backOut:ew,anticipate:nw},yv=e=>{if(D0(e)){wx(e.length===4);const[t,n,r,i]=e;return vu(t,n,r,i)}else if(typeof e=="string")return Tk[e];return e};function Ik(e,t,n){const r=[],i=n||ww,a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Vr:t;o=yu(c,o)}r.push(o)}return r}function Rk(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(wx(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Ik(t,r,i),c=o.length,d=p=>{if(s&&p<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(p<e[f+1]);f++);const v=ml(e[f],e[f+1],p);return o[f](v)};return n?p=>d(Pa(e[0],e[a-1],p)):d}function Dk(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=ml(0,t,r);e.push(Zt(n,1,i))}}function Mk(e){const t=[0];return Dk(t,e.length-1),t}function Ok(e,t){return e.map(n=>n*t)}function Bk(e,t){return e.map(()=>t||jw).splice(0,e.length-1)}function Ih({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Fk(r)?r.map(yv):yv(r),a={done:!1,value:t[0]},s=Ok(n&&n.length===t.length?n:Mk(t),e),o=Rk(s,t,{ease:Array.isArray(i)?i:Bk(t,i)});return{calculatedDuration:e,next:c=>(a.value=o(c),a.done=c>=e,a)}}const qk=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Gt.update(t,!0),stop:()=>ms(t),now:()=>Un.isProcessing?Un.timestamp:Qi.now()}},zk={decay:vv,inertia:vv,tween:Ih,keyframes:Ih,spring:Nw},Uk=e=>e/100;class K0 extends bw{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,s=(i==null?void 0:i.KeyframeResolver)||$0,o=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new s(a,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=this.options,o=R0(n)?n:zk[n]||Ih;let c,d;o!==Ih&&typeof t[0]!="number"&&(c=yu(Uk,ww(t[0],t[1])),t=[0,100]);const p=o({...this.options,keyframes:t});a==="mirror"&&(d=o({...this.options,keyframes:[...t].reverse(),velocity:-s})),p.calculatedDuration===null&&(p.calculatedDuration=zx(p));const{calculatedDuration:f}=p,v=f+i,m=v*(r+1)-i;return{generator:p,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:v,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:d,totalDuration:p,resolvedDuration:f}=r;if(this.startTime===null)return a.next(0);const{delay:v,repeat:m,repeatType:w,repeatDelay:S,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-v*(this.speed>=0?1:-1),x=this.speed>=0?b<0:b>p;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let j=this.currentTime,R=a;if(m){const T=Math.min(this.currentTime,p)/f;let J=Math.floor(T),Z=T%1;!Z&&T>=1&&(Z=1),Z===1&&J--,J=Math.min(J,m+1),J%2&&(w==="reverse"?(Z=1-Z,S&&(Z-=S/f)):w==="mirror"&&(R=s)),j=Pa(0,1,Z)*f}const q=x?{done:!1,value:c[0]}:R.next(j);o&&(q.value=o(q.value));let{done:H}=q;!x&&d!==null&&(H=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return D&&i!==void 0&&(q.value=uf(c,this.options,i)),k&&k(q.value),D&&this.finish(),q}get duration(){const{resolved:t}=this;return t?Na(t.calculatedDuration):0}get time(){return Na(this.currentTime)}set time(t){t=Sa(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Na(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=qk,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Vk=new Set(["opacity","clipPath","filter","transform"]);function Hk(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:c}={}){const d={[t]:n};c&&(d.offset=c);const p=Hx(o,i);return Array.isArray(p)&&(d.easing=p),e.animate(d,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const Wk=x0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Rh=10,$k=2e4;function Gk(e){return R0(e.type)||e.type==="spring"||!Vx(e.ease)}function Kk(e,t){const n=new K0({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let a=0;for(;!r.done&&a<$k;)r=n.sample(a),i.push(r.value),a+=Rh;return{times:void 0,keyframes:i,duration:a-Rh,ease:"linear"}}const kw={anticipate:nw,backInOut:tw,circInOut:iw};function Xk(e){return e in kw}class bv extends bw{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new yw(a,(s,o)=>this.onKeyframesResolved(s,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:a,type:s,motionValue:o,name:c,startTime:d}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&Fh()&&Xk(a)&&(a=kw[a]),Gk(this.options)){const{onComplete:f,onUpdate:v,motionValue:m,element:w,...S}=this.options,k=Kk(t,S);t=k.keyframes,t.length===1&&(t[1]=t[0]),r=k.duration,i=k.times,a=k.ease,s="keyframes"}const p=Hk(o.owner.current,c,t,{...this.options,duration:r,times:i,ease:a});return p.startTime=d??this.calcStartTime(),this.pendingTimeline?(rv(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:f}=this.options;o.set(uf(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:i,type:s,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Na(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Na(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Sa(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Vr;const{animation:r}=n;rv(r,t)}return Vr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:a,ease:s,times:o}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:p,onComplete:f,element:v,...m}=this.options,w=new K0({...m,keyframes:r,duration:i,type:a,ease:s,times:o,isGenerator:!0}),S=Sa(this.time);d.setWithVelocity(w.sample(S-Rh).value,w.sample(S).value,Rh)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=n.owner.getProps();return Wk()&&r&&Vk.has(r)&&!c&&!d&&!i&&a!=="mirror"&&s!==0&&o!=="inertia"}}const Yk={type:"spring",stiffness:500,damping:25,restSpeed:10},Jk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Qk={type:"keyframes",duration:.8},Zk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eA=(e,{keyframes:t})=>t.length>2?Qk:ro.has(e)?e.startsWith("scale")?Jk(t[1]):Yk:Zk;function tA({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:c,elapsed:d,...p}){return!!Object.keys(p).length}const X0=(e,t,n,r={},i,a)=>s=>{const o=I0(r,e)||{},c=o.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Sa(c);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-d,onUpdate:v=>{t.set(v),o.onUpdate&&o.onUpdate(v)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};tA(o)||(p={...p,...eA(e,p)}),p.duration&&(p.duration=Sa(p.duration)),p.repeatDelay&&(p.repeatDelay=Sa(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let f=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(f=!0)),f&&!a&&t.get()!==void 0){const v=uf(p.keyframes,o);if(v!==void 0)return Gt.update(()=>{p.onUpdate(v),p.onComplete()}),new x8([])}return!a&&bv.supports(p)?new bv(p):new K0(p)};function nA({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Aw(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=e.getDefaultTransition(),transitionEnd:o,...c}=t;r&&(s=r);const d=[],p=i&&e.animationState&&e.animationState.getState()[i];for(const f in c){const v=e.getValue(f,(a=e.latestValues[f])!==null&&a!==void 0?a:null),m=c[f];if(m===void 0||p&&nA(p,f))continue;const w={delay:n,...I0(s||{},f)};let S=!1;if(window.MotionHandoffAnimation){const b=Yx(e);if(b){const x=window.MotionHandoffAnimation(b,f,Gt);x!==null&&(w.startTime=x,S=!0)}}Hm(e,f),v.start(X0(f,v,m,e.shouldReduceMotion&&Kx.has(f)?{type:!1}:w,e,S));const k=v.animation;k&&d.push(k)}return o&&Promise.all(d).then(()=>{Gt.update(()=>{o&&I8(e,o)})}),d}function Jm(e,t,n={}){var r;const i=cf(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>Promise.all(Aw(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:f,staggerDirection:v}=a;return rA(e,t,p+d,f,v,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,p]=c==="beforeChildren"?[s,o]:[o,s];return d().then(()=>p())}else return Promise.all([s(),o(n.delay)])}function rA(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,c=i===1?(d=0)=>d*r:(d=0)=>o-d*r;return Array.from(e.variantChildren).sort(iA).forEach((d,p)=>{d.notify("AnimationStart",t),s.push(Jm(d,t,{...a,delay:n+c(p)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(s)}function iA(e,t){return e.sortNodePosition(t)}function aA(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>Jm(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=Jm(e,t,n);else{const i=typeof t=="function"?cf(e,t,n.custom):t;r=Promise.all(Aw(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const sA=S0.length;function Lw(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Lw(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<sA;n++){const r=S0[n],i=e.props[r];(nu(i)||i===!1)&&(t[r]=i)}return t}const oA=[...w0].reverse(),lA=w0.length;function cA(e){return t=>Promise.all(t.map(({animation:n,options:r})=>aA(e,n,r)))}function uA(e){let t=cA(e),n=xv(),r=!0;const i=c=>(d,p)=>{var f;const v=cf(e,p,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(v){const{transition:m,transitionEnd:w,...S}=v;d={...d,...S,...w}}return d};function a(c){t=c(e)}function s(c){const{props:d}=e,p=Lw(e.parent)||{},f=[],v=new Set;let m={},w=1/0;for(let k=0;k<lA;k++){const b=oA[k],x=n[b],j=d[b]!==void 0?d[b]:p[b],R=nu(j),q=b===c?x.isActive:null;q===!1&&(w=k);let H=j===p[b]&&j!==d[b]&&R;if(H&&r&&e.manuallyAnimateOnMount&&(H=!1),x.protectedKeys={...m},!x.isActive&&q===null||!j&&!x.prevProp||of(j)||typeof j=="boolean")continue;const D=dA(x.prevProp,j);let T=D||b===c&&x.isActive&&!H&&R||k>w&&R,J=!1;const Z=Array.isArray(j)?j:[j];let E=Z.reduce(i(b),{});q===!1&&(E={});const{prevResolvedValues:M={}}=x,K={...M,...E},z=le=>{T=!0,v.has(le)&&(J=!0,v.delete(le)),x.needsAnimating[le]=!0;const ie=e.getValue(le);ie&&(ie.liveStyle=!1)};for(const le in K){const ie=E[le],he=M[le];if(m.hasOwnProperty(le))continue;let G=!1;zm(ie)&&zm(he)?G=!qx(ie,he):G=ie!==he,G?ie!=null?z(le):v.add(le):ie!==void 0&&v.has(le)?z(le):x.protectedKeys[le]=!0}x.prevProp=j,x.prevResolvedValues=E,x.isActive&&(m={...m,...E}),r&&e.blockInitialAnimation&&(T=!1),T&&(!(H&&D)||J)&&f.push(...Z.map(le=>({animation:le,options:{type:b}})))}if(v.size){const k={};v.forEach(b=>{const x=e.getBaseTarget(b),j=e.getValue(b);j&&(j.liveStyle=!0),k[b]=x??null}),f.push({animation:k})}let S=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(f):Promise.resolve()}function o(c,d){var p;if(n[c].isActive===d)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(v=>{var m;return(m=v.animationState)===null||m===void 0?void 0:m.setActive(c,d)}),n[c].isActive=d;const f=s(c);for(const v in n)n[v].protectedKeys={};return f}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=xv(),r=!0}}}function dA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!qx(t,e):!1}function Is(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xv(){return{animate:Is(!0),whileInView:Is(),whileHover:Is(),whileTap:Is(),whileDrag:Is(),whileFocus:Is(),exit:Is()}}class Ns{constructor(t){this.isMounted=!1,this.node=t}update(){}}class hA extends Ns{constructor(t){super(t),t.animationState||(t.animationState=uA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();of(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let fA=0;class pA extends Ns{constructor(){super(...arguments),this.id=fA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const mA={animation:{Feature:hA},exit:{Feature:pA}};function su(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function bu(e){return{point:{x:e.pageX,y:e.pageY}}}const gA=e=>t=>M0(t)&&e(t,bu(t));function Tc(e,t,n,r){return su(e,t,gA(n),r)}const wv=(e,t)=>Math.abs(e-t);function vA(e,t){const n=wv(e.x,t.x),r=wv(e.y,t.y);return Math.sqrt(n**2+r**2)}class Cw{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Fp(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,m=vA(f.offset,{x:0,y:0})>=3;if(!v&&!m)return;const{point:w}=f,{timestamp:S}=Un;this.history.push({...w,timestamp:S});const{onStart:k,onMove:b}=this.handlers;v||(k&&k(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,v)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ep(v,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(f,v)=>{this.end();const{onEnd:m,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Fp(f.type==="pointercancel"?this.lastMoveEventInfo:Ep(v,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,k),w&&w(f,k)},!M0(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=bu(t),o=Ep(s,this.transformPagePoint),{point:c}=o,{timestamp:d}=Un;this.history=[{...c,timestamp:d}];const{onSessionStart:p}=n;p&&p(t,Fp(o,this.history)),this.removeListeners=yu(Tc(this.contextWindow,"pointermove",this.handlePointerMove),Tc(this.contextWindow,"pointerup",this.handlePointerUp),Tc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ms(this.updatePoint)}}function Ep(e,t){return t?{point:t(e.point)}:e}function Sv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fp({point:e},t){return{point:e,delta:Sv(e,Pw(t)),offset:Sv(e,yA(t)),velocity:bA(t,.1)}}function yA(e){return e[0]}function Pw(e){return e[e.length-1]}function bA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Pw(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Sa(t)));)n--;if(!r)return{x:0,y:0};const a=Na(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const _w=1e-4,xA=1-_w,wA=1+_w,Ew=.01,SA=0-Ew,NA=0+Ew;function Wr(e){return e.max-e.min}function jA(e,t,n){return Math.abs(e-t)<=n}function Nv(e,t,n,r=.5){e.origin=r,e.originPoint=Zt(t.min,t.max,e.origin),e.scale=Wr(n)/Wr(t),e.translate=Zt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=xA&&e.scale<=wA||isNaN(e.scale))&&(e.scale=1),(e.translate>=SA&&e.translate<=NA||isNaN(e.translate))&&(e.translate=0)}function Ic(e,t,n,r){Nv(e.x,t.x,n.x,r?r.originX:void 0),Nv(e.y,t.y,n.y,r?r.originY:void 0)}function jv(e,t,n){e.min=n.min+t.min,e.max=e.min+Wr(t)}function kA(e,t,n){jv(e.x,t.x,n.x),jv(e.y,t.y,n.y)}function kv(e,t,n){e.min=t.min-n.min,e.max=e.min+Wr(t)}function Rc(e,t,n){kv(e.x,t.x,n.x),kv(e.y,t.y,n.y)}function AA(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Zt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Zt(n,e,r.max):Math.min(e,n)),e}function Av(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function LA(e,{top:t,left:n,bottom:r,right:i}){return{x:Av(e.x,n,i),y:Av(e.y,t,r)}}function Lv(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function CA(e,t){return{x:Lv(e.x,t.x),y:Lv(e.y,t.y)}}function PA(e,t){let n=.5;const r=Wr(e),i=Wr(t);return i>r?n=ml(t.min,t.max-r,e.min):r>i&&(n=ml(e.min,e.max-i,t.min)),Pa(0,1,n)}function _A(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Qm=.35;function EA(e=Qm){return e===!1?e=0:e===!0&&(e=Qm),{x:Cv(e,"left","right"),y:Cv(e,"top","bottom")}}function Cv(e,t,n){return{min:Pv(e,t),max:Pv(e,n)}}function Pv(e,t){return typeof e=="number"?e:e[t]||0}const _v=()=>({translate:0,scale:1,origin:0,originPoint:0}),Go=()=>({x:_v(),y:_v()}),Ev=()=>({min:0,max:0}),hn=()=>({x:Ev(),y:Ev()});function di(e){return[e("x"),e("y")]}function Fw({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function FA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function TA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Tp(e){return e===void 0||e===1}function Zm({scale:e,scaleX:t,scaleY:n}){return!Tp(e)||!Tp(t)||!Tp(n)}function Os(e){return Zm(e)||Tw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Tw(e){return Fv(e.x)||Fv(e.y)}function Fv(e){return e&&e!=="0%"}function Dh(e,t,n){const r=e-n,i=t*r;return n+i}function Tv(e,t,n,r,i){return i!==void 0&&(e=Dh(e,i,r)),Dh(e,n,r)+t}function e1(e,t=0,n=1,r,i){e.min=Tv(e.min,t,n,r,i),e.max=Tv(e.max,t,n,r,i)}function Iw(e,{x:t,y:n}){e1(e.x,t.translate,t.scale,t.originPoint),e1(e.y,n.translate,n.scale,n.originPoint)}const Iv=.999999999999,Rv=1.0000000000001;function IA(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Xo(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Iw(e,s)),r&&Os(a.latestValues)&&Xo(e,a.latestValues))}t.x<Rv&&t.x>Iv&&(t.x=1),t.y<Rv&&t.y>Iv&&(t.y=1)}function Ko(e,t){e.min=e.min+t,e.max=e.max+t}function Dv(e,t,n,r,i=.5){const a=Zt(e.min,e.max,i);e1(e,t,n,a,r)}function Xo(e,t){Dv(e.x,t.x,t.scaleX,t.scale,t.originX),Dv(e.y,t.y,t.scaleY,t.scale,t.originY)}function Rw(e,t){return Fw(TA(e.getBoundingClientRect(),t))}function RA(e,t,n){const r=Rw(e,n),{scroll:i}=t;return i&&(Ko(r.x,i.offset.x),Ko(r.y,i.offset.y)),r}const Dw=({current:e})=>e?e.ownerDocument.defaultView:null,DA=new WeakMap;class MA{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bu(p).point)},a=(p,f)=>{const{drag:v,dragPropagation:m,onDragStart:w}=this.getProps();if(v&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=P8(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),di(k=>{let b=this.getAxisMotionValue(k).get()||0;if(Ji.test(b)){const{projection:x}=this.visualElement;if(x&&x.layout){const j=x.layout.layoutBox[k];j&&(b=Wr(j)*(parseFloat(b)/100))}}this.originPoint[k]=b}),w&&Gt.postRender(()=>w(p,f)),Hm(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},s=(p,f)=>{const{dragPropagation:v,dragDirectionLock:m,onDirectionLock:w,onDrag:S}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:k}=f;if(m&&this.currentDirection===null){this.currentDirection=OA(k),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,k),this.updateAxis("y",f.point,k),this.visualElement.render(),S&&S(p,f)},o=(p,f)=>this.stop(p,f),c=()=>di(p=>{var f;return this.getAnimationState(p)==="paused"&&((f=this.getAxisMotionValue(p).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Cw(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Dw(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Gt.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!kd(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=AA(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&Wo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=LA(i.layoutBox,n):this.constraints=!1,this.elastic=EA(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&di(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=_A(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Wo(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=RA(r,i.root,this.visualElement.getTransformPagePoint());let s=CA(i.layout.layoutBox,a);if(n){const o=n(FA(s));this.hasMutatedConstraints=!!o,o&&(s=Fw(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=di(p=>{if(!kd(p,n,this.currentDirection))return;let f=c&&c[p]||{};s&&(f={min:0,max:0});const v=i?200:1e6,m=i?40:1e7,w={type:"inertia",velocity:r?t[p]:0,bounceStiffness:v,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(p,w)});return Promise.all(d).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Hm(this.visualElement,t),r.start(X0(t,r,0,n,this.visualElement,!1))}stopAnimation(){di(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){di(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){di(n=>{const{drag:r}=this.getProps();if(!kd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-Zt(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};di(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const c=o.get();i[s]=PA({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),di(s=>{if(!kd(s,t,null))return;const o=this.getAxisMotionValue(s),{min:c,max:d}=this.constraints[s];o.set(Zt(c,d,i[s]))})}addListeners(){if(!this.visualElement.current)return;DA.set(this.visualElement,this);const t=this.visualElement.current,n=Tc(t,"pointerdown",c=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Wo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Gt.read(r);const s=su(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(di(p=>{const f=this.getAxisMotionValue(p);f&&(this.originPoint[p]+=c[p].translate,f.set(f.get()+c[p].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=Qm,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function kd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function OA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class BA extends Ns{constructor(t){super(t),this.removeGroupControls=Vr,this.removeListeners=Vr,this.controls=new MA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Mv=e=>(t,n)=>{e&&Gt.postRender(()=>e(t,n))};class qA extends Ns{constructor(){super(...arguments),this.removePointerDownListener=Vr}onPointerDown(t){this.session=new Cw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Mv(t),onStart:Mv(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&Gt.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=Tc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ov(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const dc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(it.test(e))e=parseFloat(e);else return e;const n=Ov(e,t.target.x),r=Ov(e,t.target.y);return`${n}% ${r}%`}},zA={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=gs.parse(e);if(i.length>5)return r;const a=gs.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,c=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=c;const d=Zt(o,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=d),typeof i[3+s]=="number"&&(i[3+s]/=d),a(i)}};class UA extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;l8(VA),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Jd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||Gt.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),j0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Mw(e){const[t,n]=bx(),r=F.useContext(g0);return l.jsx(UA,{...e,layoutGroup:r,switchLayoutGroup:F.useContext(Lx),isPresent:t,safeToRemove:n})}const VA={borderRadius:{...dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dc,borderTopRightRadius:dc,borderBottomLeftRadius:dc,borderBottomRightRadius:dc,boxShadow:zA};function HA(e,t,n){const r=nr(e)?e:iu(e);return r.start(X0("",r,t,n)),r.animation}function WA(e){return e instanceof SVGElement&&e.tagName!=="svg"}const $A=(e,t)=>e.depth-t.depth;class GA{constructor(){this.children=[],this.isDirty=!1}add(t){O0(this.children,t),this.isDirty=!0}remove(t){B0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort($A),this.isDirty=!1,this.children.forEach(t)}}function KA(e,t){const n=Qi.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(ms(r),e(a-t))};return Gt.read(r,!0),()=>ms(r)}const Ow=["TopLeft","TopRight","BottomLeft","BottomRight"],XA=Ow.length,Bv=e=>typeof e=="string"?parseFloat(e):e,qv=e=>typeof e=="number"||it.test(e);function YA(e,t,n,r,i,a){i?(e.opacity=Zt(0,n.opacity!==void 0?n.opacity:1,JA(r)),e.opacityExit=Zt(t.opacity!==void 0?t.opacity:1,0,QA(r))):a&&(e.opacity=Zt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<XA;s++){const o=`border${Ow[s]}Radius`;let c=zv(t,o),d=zv(n,o);c===void 0&&d===void 0||(c||(c=0),d||(d=0),c===0||d===0||qv(c)===qv(d)?(e[o]=Math.max(Zt(Bv(c),Bv(d),r),0),(Ji.test(d)||Ji.test(c))&&(e[o]+="%")):e[o]=d)}(t.rotate||n.rotate)&&(e.rotate=Zt(t.rotate||0,n.rotate||0,r))}function zv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const JA=Bw(0,.5,rw),QA=Bw(.5,.95,Vr);function Bw(e,t,n){return r=>r<e?0:r>t?1:n(ml(e,t,r))}function Uv(e,t){e.min=t.min,e.max=t.max}function ui(e,t){Uv(e.x,t.x),Uv(e.y,t.y)}function Vv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Hv(e,t,n,r,i){return e-=t,e=Dh(e,1/n,r),i!==void 0&&(e=Dh(e,1/i,r)),e}function ZA(e,t=0,n=1,r=.5,i,a=e,s=e){if(Ji.test(t)&&(t=parseFloat(t),t=Zt(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Zt(a.min,a.max,r);e===a&&(o-=t),e.min=Hv(e.min,t,n,o,i),e.max=Hv(e.max,t,n,o,i)}function Wv(e,t,[n,r,i],a,s){ZA(e,t[n],t[r],t[i],t.scale,a,s)}const eL=["x","scaleX","originX"],tL=["y","scaleY","originY"];function $v(e,t,n,r){Wv(e.x,t,eL,n?n.x:void 0,r?r.x:void 0),Wv(e.y,t,tL,n?n.y:void 0,r?r.y:void 0)}function Gv(e){return e.translate===0&&e.scale===1}function qw(e){return Gv(e.x)&&Gv(e.y)}function Kv(e,t){return e.min===t.min&&e.max===t.max}function nL(e,t){return Kv(e.x,t.x)&&Kv(e.y,t.y)}function Xv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function zw(e,t){return Xv(e.x,t.x)&&Xv(e.y,t.y)}function Yv(e){return Wr(e.x)/Wr(e.y)}function Jv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rL{constructor(){this.members=[]}add(t){O0(this.members,t),t.scheduleRender()}remove(t){if(B0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iL(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:p,rotateX:f,rotateY:v,skewX:m,skewY:w}=n;d&&(r=`perspective(${d}px) ${r}`),p&&(r+=`rotate(${p}deg) `),f&&(r+=`rotateX(${f}deg) `),v&&(r+=`rotateY(${v}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const Bs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Sc=typeof window<"u"&&window.MotionDebug!==void 0,Ip=["","X","Y","Z"],aL={visibility:"hidden"},Qv=1e3;let sL=0;function Rp(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Uw(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Yx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Uw(r)}function Vw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},s=t==null?void 0:t()){this.id=sL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sc&&(Bs.totalNodes=Bs.resolvedTargetDeltas=Bs.recalculatedProjection=0),this.nodes.forEach(cL),this.nodes.forEach(pL),this.nodes.forEach(mL),this.nodes.forEach(uL),Sc&&window.MotionDebug.record(Bs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new GA)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new q0),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const o=this.eventHandlers.get(a);o&&o.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=WA(a),this.instance=a;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(c||o)&&(this.isLayoutDirty=!0),e){let p;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=KA(f,250),Jd.hasAnimatedSinceResize&&(Jd.hasAnimatedSinceResize=!1,this.nodes.forEach(e5))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:f,hasRelativeTargetChanged:v,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||xL,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=d.getProps(),b=!this.targetLayout||!zw(this.targetLayout,m)||v,x=!f&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,x);const j={...I0(w,"layout"),onPlay:S,onComplete:k};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||e5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gL),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Uw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:s,layout:o}=this.options;if(s===void 0&&!o)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zv);return}this.isUpdating||this.nodes.forEach(hL),this.isUpdating=!1,this.nodes.forEach(fL),this.nodes.forEach(oL),this.nodes.forEach(lL),this.clearAllSnapshots();const a=Qi.now();Un.delta=Pa(0,1e3/60,a-Un.timestamp),Un.timestamp=a,Un.isProcessing=!0,kp.update.process(Un),kp.preRender.process(Un),kp.render.process(Un),Un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,j0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dL),this.sharedNodes.forEach(vL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s){const o=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:o,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!qw(this.projectionDelta),o=this.getTransformTemplate(),c=o?o(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&(s||Os(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let o=this.removeElementScroll(s);return a&&(o=this.removeTransform(o)),wL(o),{animationId:this.root.animationId,measuredBox:s,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:s}=this.options;if(!s)return hn();const o=s.measureViewportBox();if(!(!((a=this.scroll)===null||a===void 0)&&a.wasRoot||this.path.some(SL))){const{scroll:c}=this.root;c&&(Ko(o.x,c.offset.x),Ko(o.y,c.offset.y))}return o}removeElementScroll(a){var s;const o=hn();if(ui(o,a),!((s=this.scroll)===null||s===void 0)&&s.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:p,options:f}=d;d!==this.root&&p&&f.layoutScroll&&(p.wasRoot&&ui(o,a),Ko(o.x,p.offset.x),Ko(o.y,p.offset.y))}return o}applyTransform(a,s=!1){const o=hn();ui(o,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!s&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Xo(o,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Os(d.latestValues)&&Xo(o,d.latestValues)}return Os(this.latestValues)&&Xo(o,this.latestValues),o}removeTransform(a){const s=hn();ui(s,a);for(let o=0;o<this.path.length;o++){const c=this.path[o];if(!c.instance||!Os(c.latestValues))continue;Zm(c.latestValues)&&c.updateSnapshot();const d=hn(),p=c.measurePageBox();ui(d,p),$v(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Os(this.latestValues)&&$v(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var s;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Un.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Rc(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ui(this.target,this.layout.layoutBox),Iw(this.target,this.targetDelta)):ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Rc(this.relativeTargetOrigin,this.target,f.target),ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sc&&Bs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zm(this.parent.latestValues)||Tw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Un.timestamp&&(c=!1),c)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;ui(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,v=this.treeScale.y;IA(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=hn());const{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vv(this.prevProjectionDelta.x,this.projectionDelta.x),Vv(this.prevProjectionDelta.y,this.projectionDelta.y)),Ic(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==v||!Jv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Sc&&Bs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var s;if((s=this.options.visualElement)===null||s===void 0||s.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Go(),this.projectionDelta=Go(),this.projectionDeltaWithTransform=Go()}setAnimationOrigin(a,s=!1){const o=this.snapshot,c=o?o.latestValues:{},d={...this.latestValues},p=Go();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const f=hn(),v=o?o.source:void 0,m=this.layout?this.layout.source:void 0,w=v!==m,S=this.getStack(),k=!S||S.members.length<=1,b=!!(w&&!k&&this.options.crossfade===!0&&!this.path.some(bL));this.animationProgress=0;let x;this.mixTargetDelta=j=>{const R=j/1e3;t5(p.x,a.x,R),t5(p.y,a.y,R),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yL(this.relativeTarget,this.relativeTargetOrigin,f,R),x&&nL(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=hn()),ui(x,this.relativeTarget)),w&&(this.animationValues=d,YA(d,c,this.latestValues,R,b,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{Jd.hasAnimatedSinceResize=!0,this.currentAnimation=HA(0,Qv,{...a,onUpdate:s=>{this.mixTargetDelta(s),a.onUpdate&&a.onUpdate(s)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:o,layout:c,latestValues:d}=a;if(!(!s||!o||!c)){if(this!==a&&this.layout&&c&&Hw(this.options.animationType,this.layout.layoutBox,c.layoutBox)){o=this.target||hn();const p=Wr(this.layout.layoutBox.x);o.x.min=a.target.x.min,o.x.max=o.x.min+p;const f=Wr(this.layout.layoutBox.y);o.y.min=a.target.y.min,o.y.max=o.y.min+f}ui(s,o),Xo(s,d),Ic(this.projectionDeltaWithTransform,this.layoutCorrected,s,d)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new rL),this.sharedNodes.get(a).add(s);const o=s.options.initialPromotionConfig;s.promote({transition:o?o.transition:void 0,preserveFollowOpacity:o&&o.shouldPreserveFollowOpacity?o.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:o}={}){const c=this.getStack();c&&c.promote(this,o),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:o}=a;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(s=!0),!s)return;const c={};o.z&&Rp("z",a,c,this.animationValues);for(let d=0;d<Ip.length;d++)Rp(`rotate${Ip[d]}`,a,c,this.animationValues),Rp(`skew${Ip[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}getProjectionStyles(a){var s,o;if(!this.instance||this.isSVG)return;if(!this.isVisible)return aL;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Xd(a==null?void 0:a.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Xd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Os(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=p.animationValues||p.latestValues;this.applyTransformsToTarget(),c.transform=iL(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:v,y:m}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${m.origin*100}% 0`,p.animationValues?c.opacity=p===this?(o=(s=f.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=p===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Eh){if(f[w]===void 0)continue;const{correct:S,applyTo:k}=Eh[w],b=c.transform==="none"?f[w]:S(f[w],p);if(k){const x=k.length;for(let j=0;j<x;j++)c[k[j]]=b}else c[w]=b}return this.options.layoutId&&(c.pointerEvents=p===this?Xd(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var s;return(s=a.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(Zv),this.root.sharedNodes.clear()}}}function oL(e){e.updateLayout()}function lL(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?di(f=>{const v=s?n.measuredBox[f]:n.layoutBox[f],m=Wr(v);v.min=r[f].min,v.max=v.min+m}):Hw(a,n.layoutBox,r)&&di(f=>{const v=s?n.measuredBox[f]:n.layoutBox[f],m=Wr(r[f]);v.max=v.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=Go();Ic(o,r,n.layoutBox);const c=Go();s?Ic(c,e.applyTransform(i,!0),n.measuredBox):Ic(c,r,n.layoutBox);const d=!qw(o);let p=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:v,layout:m}=f;if(v&&m){const w=hn();Rc(w,n.layoutBox,v.layoutBox);const S=hn();Rc(S,r,m.layoutBox),zw(w,S)||(p=!0),f.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=w,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeTargetChanged:p})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function cL(e){Sc&&Bs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function uL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function dL(e){e.clearSnapshot()}function Zv(e){e.clearMeasurements()}function hL(e){e.isLayoutDirty=!1}function fL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function e5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pL(e){e.resolveTargetDelta()}function mL(e){e.calcProjection()}function gL(e){e.resetSkewAndRotation()}function vL(e){e.removeLeadSnapshot()}function t5(e,t,n){e.translate=Zt(t.translate,0,n),e.scale=Zt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function n5(e,t,n,r){e.min=Zt(t.min,n.min,r),e.max=Zt(t.max,n.max,r)}function yL(e,t,n,r){n5(e.x,t.x,n.x,r),n5(e.y,t.y,n.y,r)}function bL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const xL={duration:.45,ease:[.4,0,.1,1]},r5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),i5=r5("applewebkit/")&&!r5("chrome/")?Math.round:Vr;function a5(e){e.min=i5(e.min),e.max=i5(e.max)}function wL(e){a5(e.x),a5(e.y)}function Hw(e,t,n){return e==="position"||e==="preserve-aspect"&&!jA(Yv(t),Yv(n),.2)}function SL(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const NL=Vw({attachResizeListener:(e,t)=>su(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dp={current:void 0},Ww=Vw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Dp.current){const e=new NL({});e.mount(window),e.setOptions({layoutScroll:!0}),Dp.current=e}return Dp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jL={pan:{Feature:qA},drag:{Feature:BA,ProjectionNode:Ww,MeasureLayout:Mw}};function s5(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Gt.postRender(()=>a(t,bu(t)))}class kL extends Ns{mount(){const{current:t}=this.node;t&&(this.unmount=j8(t,n=>(s5(this.node,n,"Start"),r=>s5(this.node,r,"End"))))}unmount(){}}class AL extends Ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yu(su(this.node.current,"focus",()=>this.onFocus()),su(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function o5(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Gt.postRender(()=>a(t,bu(t)))}class LL extends Ns{mount(){const{current:t}=this.node;t&&(this.unmount=C8(t,n=>(o5(this.node,n,"Start"),(r,{success:i})=>o5(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const t1=new WeakMap,Mp=new WeakMap,CL=e=>{const t=t1.get(e.target);t&&t(e)},PL=e=>{e.forEach(CL)};function _L({root:e,...t}){const n=e||document;Mp.has(n)||Mp.set(n,{});const r=Mp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(PL,{root:e,...t})),r[i]}function EL(e,t,n){const r=_L(t);return t1.set(e,n),r.observe(e),()=>{t1.delete(e),r.unobserve(e)}}const FL={some:0,all:1};class TL extends Ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:FL[i]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:f}=this.node.getProps(),v=d?p:f;v&&v(c)};return EL(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(IL(t,n))&&this.startObserver()}unmount(){}}function IL({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const RL={inView:{Feature:TL},tap:{Feature:LL},focus:{Feature:AL},hover:{Feature:kL}},DL={layout:{ProjectionNode:Ww,MeasureLayout:Mw}},n1={current:null},$w={current:!1};function ML(){if($w.current=!0,!!b0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>n1.current=e.matches;e.addListener(t),t()}else n1.current=!1}const OL=[...vw,Zn,gs],BL=e=>OL.find(gw(e)),l5=new WeakMap;function qL(e,t,n){for(const r in t){const i=t[r],a=n[r];if(nr(i))e.addValue(r,i);else if(nr(a))e.addValue(r,iu(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,iu(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const c5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zL{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Qi.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Gt.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:p}=s;this.onUpdate=p,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=lf(n),this.isVariantNode=kx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in v){const w=v[m];c[m]!==void 0&&nr(w)&&w.set(c[m],!1)}}mount(t){this.current=t,l5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$w.current||ML(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:n1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){l5.delete(this.current),this.projection&&this.projection.unmount(),ms(this.notifyUpdate),ms(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ro.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in gl){const n=gl[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<c5.length;r++){const i=c5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=t[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=qL(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=iu(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(pw(i)||aw(i))?i=parseFloat(i):!BL(i)&&gs.test(n)&&(i=dw(t,n)),this.setBaseTarget(t,nr(i)?i.get():i)),nr(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=A0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[t])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!nr(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new q0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Gw extends zL{constructor(){super(...arguments),this.KeyframeResolver=yw}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;nr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function UL(e){return window.getComputedStyle(e)}class VL extends Gw{constructor(){super(...arguments),this.type="html",this.renderInstance=Ix}readValueFromInstance(t,n){if(ro.has(n)){const r=W0(n);return r&&r.default||0}else{const r=UL(t),i=(Ex(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Rw(t,n)}build(t,n,r){P0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return T0(t,n,r)}}class HL extends Gw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ro.has(n)){const r=W0(n);return r&&r.default||0}return n=Rx.has(n)?n:N0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Ox(t,n,r)}build(t,n,r){_0(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){Dx(t,n,r,i)}mount(t){this.isSVGTag=F0(t.tagName),super.mount(t)}}const WL=(e,t)=>k0(e)?new HL(t):new VL(t,{allowProjection:e!==F.Fragment}),$L=v8({...mA,...RL,...jL,...DL},WL),Fe=Fj($L);function Ft(e){"@babel/helpers - typeof";return Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(e)}var tr=Uint8Array,zr=Uint16Array,Y0=Int32Array,df=new tr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hf=new tr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),r1=new tr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kw=function(e,t){for(var n=new zr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new Y0(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},Xw=Kw(df,2),Yw=Xw.b,i1=Xw.r;Yw[28]=258,i1[258]=28;var Jw=Kw(hf,0),GL=Jw.b,u5=Jw.r,a1=new zr(32768);for(var Wt=0;Wt<32768;++Wt){var Xa=(Wt&43690)>>1|(Wt&21845)<<1;Xa=(Xa&52428)>>2|(Xa&13107)<<2,Xa=(Xa&61680)>>4|(Xa&3855)<<4,a1[Wt]=((Xa&65280)>>8|(Xa&255)<<8)>>1}var Zi=function(e,t,n){for(var r=e.length,i=0,a=new zr(t);i<r;++i)e[i]&&++a[e[i]-1];var s=new zr(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(n){o=new zr(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],p=t-e[i],f=s[e[i]-1]++<<p,v=f|(1<<p)-1;f<=v;++f)o[a1[f]>>c]=d}else for(o=new zr(r),i=0;i<r;++i)e[i]&&(o[i]=a1[s[e[i]-1]++]>>15-e[i]);return o},vs=new tr(288);for(var Wt=0;Wt<144;++Wt)vs[Wt]=8;for(var Wt=144;Wt<256;++Wt)vs[Wt]=9;for(var Wt=256;Wt<280;++Wt)vs[Wt]=7;for(var Wt=280;Wt<288;++Wt)vs[Wt]=8;var ou=new tr(32);for(var Wt=0;Wt<32;++Wt)ou[Wt]=5;var KL=Zi(vs,9,0),XL=Zi(vs,9,1),YL=Zi(ou,5,0),JL=Zi(ou,5,1),Op=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ni=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Bp=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},J0=function(e){return(e+7)/8|0},Qw=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new tr(e.subarray(t,n))},QL=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Li=function(e,t,n){var r=new Error(t||QL[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Li),!n)throw r;return r},ZL=function(e,t,n,r){var i=e.length,a=r?r.length:0;if(!i||t.f&&!t.l)return n||new tr(0);var s=!n,o=s||t.i!=2,c=t.i;s&&(n=new tr(i*3));var d=function(we){var Te=n.length;if(we>Te){var Ce=new tr(Math.max(Te*2,we));Ce.set(n),n=Ce}},p=t.f||0,f=t.p||0,v=t.b||0,m=t.l,w=t.d,S=t.m,k=t.n,b=i*8;do{if(!m){p=Ni(e,f,1);var x=Ni(e,f+1,3);if(f+=3,x)if(x==1)m=XL,w=JL,S=9,k=5;else if(x==2){var j=Ni(e,f,31)+257,R=Ni(e,f+10,15)+4,q=j+Ni(e,f+5,31)+1;f+=14;for(var H=new tr(q),D=new tr(19),T=0;T<R;++T)D[r1[T]]=Ni(e,f+T*3,7);f+=R*3;for(var J=Op(D),Z=(1<<J)-1,E=Zi(D,J,1),T=0;T<q;){var M=E[Ni(e,f,Z)];f+=M&15;var K=M>>4;if(K<16)H[T++]=K;else{var z=0,le=0;for(K==16?(le=3+Ni(e,f,3),f+=2,z=H[T-1]):K==17?(le=3+Ni(e,f,7),f+=3):K==18&&(le=11+Ni(e,f,127),f+=7);le--;)H[T++]=z}}var ie=H.subarray(0,j),he=H.subarray(j);S=Op(ie),k=Op(he),m=Zi(ie,S,1),w=Zi(he,k,1)}else Li(1);else{var K=J0(f)+4,G=e[K-4]|e[K-3]<<8,ae=K+G;if(ae>i){c&&Li(0);break}o&&d(v+G),n.set(e.subarray(K,ae),v),t.b=v+=G,t.p=f=ae*8,t.f=p;continue}if(f>b){c&&Li(0);break}}o&&d(v+131072);for(var Y=(1<<S)-1,me=(1<<k)-1,A=f;;A=f){var z=m[Bp(e,f)&Y],B=z>>4;if(f+=z&15,f>b){c&&Li(0);break}if(z||Li(2),B<256)n[v++]=B;else if(B==256){A=f,m=null;break}else{var V=B-254;if(B>264){var T=B-257,X=df[T];V=Ni(e,f,(1<<X)-1)+Yw[T],f+=X}var Q=w[Bp(e,f)&me],oe=Q>>4;Q||Li(3),f+=Q&15;var he=GL[oe];if(oe>3){var X=hf[oe];he+=Bp(e,f)&(1<<X)-1,f+=X}if(f>b){c&&Li(0);break}o&&d(v+131072);var ue=v+V;if(v<he){var de=a-he,be=Math.min(he,ue);for(de+v<0&&Li(3);v<be;++v)n[v]=r[de+v]}for(;v<ue;++v)n[v]=n[v-he]}}t.l=m,t.p=A,t.b=v,t.f=p,m&&(p=1,t.m=S,t.d=w,t.n=k)}while(!p);return v!=n.length&&s?Qw(n,0,v):n.subarray(0,v)},ma=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},hc=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},qp=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:e3,l:0};if(i==1){var s=new tr(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(q,H){return q.f-H.f}),n.push({s:-1,f:25001});var o=n[0],c=n[1],d=0,p=1,f=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};p!=i-1;)o=n[n[d].f<n[f].f?d++:f++],c=n[d!=p&&n[d].f<n[f].f?d++:f++],n[p++]={s:-1,f:o.f+c.f,l:o,r:c};for(var v=a[0].s,r=1;r<i;++r)a[r].s>v&&(v=a[r].s);var m=new zr(v+1),w=s1(n[p-1],m,0);if(w>t){var r=0,S=0,k=w-t,b=1<<k;for(a.sort(function(H,D){return m[D.s]-m[H.s]||H.f-D.f});r<i;++r){var x=a[r].s;if(m[x]>t)S+=b-(1<<w-m[x]),m[x]=t;else break}for(S>>=k;S>0;){var j=a[r].s;m[j]<t?S-=1<<t-m[j]++-1:++r}for(;r>=0&&S;--r){var R=a[r].s;m[R]==t&&(--m[R],++S)}w=t}return{t:new tr(m),l:w}},s1=function(e,t,n){return e.s==-1?Math.max(s1(e.l,t,n+1),s1(e.r,t,n+1)):t[e.s]=n},d5=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new zr(++t),r=0,i=e[0],a=1,s=function(c){n[r++]=c},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:n.subarray(0,r),n:t}},fc=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Zw=function(e,t,n){var r=n.length,i=J0(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},h5=function(e,t,n,r,i,a,s,o,c,d,p){ma(t,p++,n),++i[256];for(var f=qp(i,15),v=f.t,m=f.l,w=qp(a,15),S=w.t,k=w.l,b=d5(v),x=b.c,j=b.n,R=d5(S),q=R.c,H=R.n,D=new zr(19),T=0;T<x.length;++T)++D[x[T]&31];for(var T=0;T<q.length;++T)++D[q[T]&31];for(var J=qp(D,7),Z=J.t,E=J.l,M=19;M>4&&!Z[r1[M-1]];--M);var K=d+5<<3,z=fc(i,vs)+fc(a,ou)+s,le=fc(i,v)+fc(a,S)+s+14+3*M+fc(D,Z)+2*D[16]+3*D[17]+7*D[18];if(c>=0&&K<=z&&K<=le)return Zw(t,p,e.subarray(c,c+d));var ie,he,G,ae;if(ma(t,p,1+(le<z)),p+=2,le<z){ie=Zi(v,m,0),he=v,G=Zi(S,k,0),ae=S;var Y=Zi(Z,E,0);ma(t,p,j-257),ma(t,p+5,H-1),ma(t,p+10,M-4),p+=14;for(var T=0;T<M;++T)ma(t,p+3*T,Z[r1[T]]);p+=3*M;for(var me=[x,q],A=0;A<2;++A)for(var B=me[A],T=0;T<B.length;++T){var V=B[T]&31;ma(t,p,Y[V]),p+=Z[V],V>15&&(ma(t,p,B[T]>>5&127),p+=B[T]>>12)}}else ie=KL,he=vs,G=YL,ae=ou;for(var T=0;T<o;++T){var X=r[T];if(X>255){var V=X>>18&31;hc(t,p,ie[V+257]),p+=he[V+257],V>7&&(ma(t,p,X>>23&31),p+=df[V]);var Q=X&31;hc(t,p,G[Q]),p+=ae[Q],Q>3&&(hc(t,p,X>>5&8191),p+=hf[Q])}else hc(t,p,ie[X]),p+=he[X]}return hc(t,p,ie[256]),p+he[256]},e7=new Y0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),e3=new tr(0),t7=function(e,t,n,r,i,a){var s=a.z||e.length,o=new tr(r+s+5*(1+Math.ceil(s/7e3))+i),c=o.subarray(r,o.length-i),d=a.l,p=(a.r||0)&7;if(t){p&&(c[0]=a.r>>3);for(var f=e7[t-1],v=f>>13,m=f&8191,w=(1<<n)-1,S=a.p||new zr(32768),k=a.h||new zr(w+1),b=Math.ceil(n/3),x=2*b,j=function(Je){return(e[Je]^e[Je+1]<<b^e[Je+2]<<x)&w},R=new Y0(25e3),q=new zr(288),H=new zr(32),D=0,T=0,J=a.i||0,Z=0,E=a.w||0,M=0;J+2<s;++J){var K=j(J),z=J&32767,le=k[K];if(S[z]=le,k[K]=z,E<=J){var ie=s-J;if((D>7e3||Z>24576)&&(ie>423||!d)){p=h5(e,c,0,R,q,H,T,Z,M,J-M,p),Z=D=T=0,M=J;for(var he=0;he<286;++he)q[he]=0;for(var he=0;he<30;++he)H[he]=0}var G=2,ae=0,Y=m,me=z-le&32767;if(ie>2&&K==j(J-me))for(var A=Math.min(v,ie)-1,B=Math.min(32767,J),V=Math.min(258,ie);me<=B&&--Y&&z!=le;){if(e[J+G]==e[J+G-me]){for(var X=0;X<V&&e[J+X]==e[J+X-me];++X);if(X>G){if(G=X,ae=me,X>A)break;for(var Q=Math.min(me,X-2),oe=0,he=0;he<Q;++he){var ue=J-me+he&32767,de=S[ue],be=ue-de&32767;be>oe&&(oe=be,le=ue)}}}z=le,le=S[z],me+=z-le&32767}if(ae){R[Z++]=268435456|i1[G]<<18|u5[ae];var we=i1[G]&31,Te=u5[ae]&31;T+=df[we]+hf[Te],++q[257+we],++H[Te],E=J+G,++D}else R[Z++]=e[J],++q[e[J]]}}for(J=Math.max(J,E);J<s;++J)R[Z++]=e[J],++q[e[J]];p=h5(e,c,d,R,q,H,T,Z,M,J-M,p),d||(a.r=p&7|c[p/8|0]<<3,p-=7,a.h=k,a.p=S,a.i=J,a.w=E)}else{for(var J=a.w||0;J<s+d;J+=65535){var Ce=J+65535;Ce>=s&&(c[p/8|0]=d,Ce=s),p=Zw(c,p+1,e.subarray(J,Ce))}a.i=s}return Qw(o,0,r+J0(p)+i)},t3=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},n7=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new tr(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return t7(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},n3=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},r7=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=t3();i.p(t.dictionary),n3(e,2,i.d())}},i7=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Li(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Li(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function o1(e,t){t||(t={});var n=t3();n.p(e);var r=n7(e,t,t.dictionary?6:2,4);return r7(r,t),n3(r,r.length-4,n.d()),r}function a7(e,t){return ZL(e.subarray(i7(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var s7=typeof TextDecoder<"u"&&new TextDecoder,o7=0;try{s7.decode(e3,{stream:!0}),o7=1}catch{}var st=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function zp(){st.console&&typeof st.console.log=="function"&&st.console.log.apply(st.console,arguments)}var Ot={log:zp,warn:function(e){st.console&&(typeof st.console.warn=="function"?st.console.warn.apply(st.console,arguments):zp.call(null,arguments))},error:function(e){st.console&&(typeof st.console.error=="function"?st.console.error.apply(st.console,arguments):zp(e))}};function Up(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){qs(r.response,t,n)},r.onerror=function(){Ot.error("could not download file")},r.send()}function f5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ad(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Dc,l1,qs=st.saveAs||((typeof window>"u"?"undefined":Ft(window))!=="object"||window!==st?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=st.URL||st.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?f5(i.href)?Up(e,t,n):Ad(i,i.target="_blank"):Ad(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ad(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(f5(e))Up(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Ad(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Ft(a)!=="object"&&(Ot.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Up(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(st.HTMLElement)||st.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Ft(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var p=o.result;p=s?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},o.readAsDataURL(e)}else{var c=st.URL||st.webkitURL,d=c.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
* A class to parse color values
* @author Stoyan Stefanov <sstoo@gmail.com>
* {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
* @license Use it if you like it
*/function r3(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}/**
* @license
* Joseph Myers does not specify a particular license for his work.
*
* Author: Joseph Myers
* Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
*
* Modified by: Owen Leong
*/function Vp(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=Xn(n,r,i,a,t[0],7,-680876936),a=Xn(a,n,r,i,t[1],12,-389564586),i=Xn(i,a,n,r,t[2],17,606105819),r=Xn(r,i,a,n,t[3],22,-1044525330),n=Xn(n,r,i,a,t[4],7,-176418897),a=Xn(a,n,r,i,t[5],12,1200080426),i=Xn(i,a,n,r,t[6],17,-1473231341),r=Xn(r,i,a,n,t[7],22,-45705983),n=Xn(n,r,i,a,t[8],7,1770035416),a=Xn(a,n,r,i,t[9],12,-1958414417),i=Xn(i,a,n,r,t[10],17,-42063),r=Xn(r,i,a,n,t[11],22,-1990404162),n=Xn(n,r,i,a,t[12],7,1804603682),a=Xn(a,n,r,i,t[13],12,-40341101),i=Xn(i,a,n,r,t[14],17,-1502002290),n=Yn(n,r=Xn(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Yn(a,n,r,i,t[6],9,-1069501632),i=Yn(i,a,n,r,t[11],14,643717713),r=Yn(r,i,a,n,t[0],20,-373897302),n=Yn(n,r,i,a,t[5],5,-701558691),a=Yn(a,n,r,i,t[10],9,38016083),i=Yn(i,a,n,r,t[15],14,-660478335),r=Yn(r,i,a,n,t[4],20,-405537848),n=Yn(n,r,i,a,t[9],5,568446438),a=Yn(a,n,r,i,t[14],9,-1019803690),i=Yn(i,a,n,r,t[3],14,-187363961),r=Yn(r,i,a,n,t[8],20,1163531501),n=Yn(n,r,i,a,t[13],5,-1444681467),a=Yn(a,n,r,i,t[2],9,-51403784),i=Yn(i,a,n,r,t[7],14,1735328473),n=Jn(n,r=Yn(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Jn(a,n,r,i,t[8],11,-2022574463),i=Jn(i,a,n,r,t[11],16,1839030562),r=Jn(r,i,a,n,t[14],23,-35309556),n=Jn(n,r,i,a,t[1],4,-1530992060),a=Jn(a,n,r,i,t[4],11,1272893353),i=Jn(i,a,n,r,t[7],16,-155497632),r=Jn(r,i,a,n,t[10],23,-1094730640),n=Jn(n,r,i,a,t[13],4,681279174),a=Jn(a,n,r,i,t[0],11,-358537222),i=Jn(i,a,n,r,t[3],16,-722521979),r=Jn(r,i,a,n,t[6],23,76029189),n=Jn(n,r,i,a,t[9],4,-640364487),a=Jn(a,n,r,i,t[12],11,-421815835),i=Jn(i,a,n,r,t[15],16,530742520),n=Qn(n,r=Jn(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Qn(a,n,r,i,t[7],10,1126891415),i=Qn(i,a,n,r,t[14],15,-1416354905),r=Qn(r,i,a,n,t[5],21,-57434055),n=Qn(n,r,i,a,t[12],6,1700485571),a=Qn(a,n,r,i,t[3],10,-1894986606),i=Qn(i,a,n,r,t[10],15,-1051523),r=Qn(r,i,a,n,t[1],21,-2054922799),n=Qn(n,r,i,a,t[8],6,1873313359),a=Qn(a,n,r,i,t[15],10,-30611744),i=Qn(i,a,n,r,t[6],15,-1560198380),r=Qn(r,i,a,n,t[13],21,1309151649),n=Qn(n,r,i,a,t[4],6,-145523070),a=Qn(a,n,r,i,t[11],10,-1120210379),i=Qn(i,a,n,r,t[2],15,718787259),r=Qn(r,i,a,n,t[9],21,-343485551),e[0]=is(n,e[0]),e[1]=is(r,e[1]),e[2]=is(i,e[2]),e[3]=is(a,e[3])}function ff(e,t,n,r,i,a){return t=is(is(t,e),is(r,a)),is(t<<i|t>>>32-i,n)}function Xn(e,t,n,r,i,a,s){return ff(t&n|~t&r,e,t,i,a,s)}function Yn(e,t,n,r,i,a,s){return ff(t&r|n&~r,e,t,i,a,s)}function Jn(e,t,n,r,i,a,s){return ff(t^n^r,e,t,i,a,s)}function Qn(e,t,n,r,i,a,s){return ff(n^(t|~r),e,t,i,a,s)}function i3(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Vp(r,l7(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Vp(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Vp(r,i),r}function l7(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Dc=st.atob.bind(st),l1=st.btoa.bind(st);var p5="0123456789abcdef".split("");function c7(e){for(var t="",n=0;n<4;n++)t+=p5[e>>8*n+4&15]+p5[e>>8*n&15];return t}function u7(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function c1(e){return i3(e).map(u7).join("")}var d7=function(e){for(var t=0;t<e.length;t++)e[t]=c7(e[t]);return e.join("")}(i3("hello"))!="5d41402abc4b2a76b9719d911017c592";function is(e,t){if(d7){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
* @license
* FPDF is released under a permissive license: there is no usage restriction.
* You may embed it freely in your application (commercial or not), with or
* without modifications.
*
* Reference: http://www.fpdf.org/en/script/script37.php
*/function u1(e,t){var n,r,i,a;if(e!==n){for(var s=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var p=o[c];d=(d+p+s.charCodeAt(c))%256,o[c]=o[d],o[d]=p}n=e,r=o}else o=r;var f=t.length,v=0,m=0,w="";for(c=0;c<f;c++)m=(m+(p=o[v=(v+1)%256]))%256,o[v]=o[m],o[m]=p,s=o[(o[v]+o[m])%256],w+=String.fromCharCode(t.charCodeAt(c)^s);return w}/**
* @license
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
* Author: Owen Leong (@owenl131)
* Date: 15 Oct 2020
* References:
* https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
* https://github.com/foliojs/pdfkit/blob/master/lib/security.js
* http://www.fpdf.org/en/script/script37.php
*/var m5={print:4,modify:8,copy:16,"annot-forms":32};function Eo(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(m5.perm!==void 0)throw new Error("Invalid permission: "+o);i+=m5[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=c1(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=u1(this.encryptionKey,this.padding)}function Fo(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function g5(e){if(Ft(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var s=t[n][a];try{s[0].apply(e,r)}catch(o){st.console&&Ot.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Mh(e){if(!(this instanceof Mh))return new Mh(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function a3(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function zs(e,t,n,r,i){if(!(this instanceof zs))return new zs(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,a3.call(this,r,i)}function Yo(e,t,n,r,i){if(!(this instanceof Yo))return new Yo(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,a3.call(this,r,i)}function rt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,c=16,d="S",p=null;Ft(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,v={},m={internal:{},__private__:{}};m.__private__.PubSub=g5;var w="1.3",S=m.__private__.getPdfVersion=function(){return w};m.__private__.setPdfVersion=function(g){w=g};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return k};var b=m.__private__.getPageFormat=function(g){return k[g]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},j=x.COMPAT;function R(){this.saveGraphicsState(),$(new tt(Oe,0,0,-Oe,0,Da()*Oe).toString()+" cm"),this.setFontSize(this.getFontSize()/Oe),d="n",j=x.ADVANCED}function q(){this.restoreGraphicsState(),d="S",j=x.COMPAT}var H=m.__private__.combineFontStyleAndFontWeight=function(g,C){if(g=="bold"&&C=="normal"||g=="bold"&&C==400||g=="normal"&&C=="italic"||g=="bold"&&C=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(g=C==400||C==="normal"?g==="italic"?"italic":"normal":C!=700&&C!=="bold"||g!=="normal"?(C==700?"bold":C)+""+g:"bold"),g};m.advancedAPI=function(g){var C=j===x.COMPAT;return C&&R.call(this),typeof g!="function"||(g(this),C&&q.call(this)),this},m.compatAPI=function(g){var C=j===x.ADVANCED;return C&&q.call(this),typeof g!="function"||(g(this),C&&R.call(this)),this},m.isAdvancedAPI=function(){return j===x.ADVANCED};var D,T=function(g){if(j!==x.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},J=m.roundToPrecision=m.__private__.roundToPrecision=function(g,C){var W=t||C;if(isNaN(g)||isNaN(W))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(W).replace(/0+$/,"")};D=m.hpf=m.__private__.hpf=typeof c=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return J(g,c)}:c==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return J(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return J(g,16)};var Z=m.f2=m.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return J(g,2)},E=m.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return J(g,3)},M=m.scale=m.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return j===x.COMPAT?g*Oe:j===x.ADVANCED?g:void 0},K=function(g){return j===x.COMPAT?Da()-g:j===x.ADVANCED?g:void 0},z=function(g){return M(K(g))};m.__private__.setPrecision=m.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(t=parseInt(g,10))};var le,ie="00000000000000000000000000000000",he=m.__private__.getFileId=function(){return ie},G=m.__private__.setFileId=function(g){return ie=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Wn=new Eo(p.userPermissions,p.userPassword,p.ownerPassword,ie)),ie};m.setFileId=function(g){return G(g),this},m.getFileId=function(){return he()};var ae=m.__private__.convertDateToPDFDate=function(g){var C=g.getTimezoneOffset(),W=C<0?"+":"-",ee=Math.floor(Math.abs(C/60)),ce=Math.abs(C%60),ye=[W,V(ee),"'",V(ce),"'"].join("");return["D:",g.getFullYear(),V(g.getMonth()+1),V(g.getDate()),V(g.getHours()),V(g.getMinutes()),V(g.getSeconds()),ye].join("")},Y=m.__private__.convertPDFDateToDate=function(g){var C=parseInt(g.substr(2,4),10),W=parseInt(g.substr(6,2),10)-1,ee=parseInt(g.substr(8,2),10),ce=parseInt(g.substr(10,2),10),ye=parseInt(g.substr(12,2),10),Ae=parseInt(g.substr(14,2),10);return new Date(C,W,ee,ce,ye,Ae,0)},me=m.__private__.setCreationDate=function(g){var C;if(g===void 0&&(g=new Date),g instanceof Date)C=ae(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=g}return le=C},A=m.__private__.getCreationDate=function(g){var C=le;return g==="jsDate"&&(C=Y(le)),C};m.setCreationDate=function(g){return me(g),this},m.getCreationDate=function(g){return A(g)};var B,V=m.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},X=m.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},Q=0,oe=[],ue=[],de=0,be=[],we=[],Te=!1,Ce=ue,Je=function(){Q=0,de=0,ue=[],oe=[],be=[],Qr=rn(),vr=rn()};m.__private__.setCustomOutputDestination=function(g){Te=!0,Ce=g};var ve=function(g){Te||(Ce=g)};m.__private__.resetCustomOutputDestination=function(){Te=!1,Ce=ue};var $=m.__private__.out=function(g){return g=g.toString(),de+=g.length+1,Ce.push(g),Ce},ot=m.__private__.write=function(g){return $(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},$e=m.__private__.getArrayBuffer=function(g){for(var C=g.length,W=new ArrayBuffer(C),ee=new Uint8Array(W);C--;)ee[C]=g.charCodeAt(C);return W},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Le};var Ee=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(g){return Ee=j===x.ADVANCED?g/Oe:g,this};var De,Ie=m.__private__.getFontSize=m.getFontSize=function(){return j===x.COMPAT?Ee:Ee*Oe},Ye=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(g){return Ye=g,this},m.__private__.getR2L=m.getR2L=function(){return Ye};var ke,We=m.__private__.setZoomMode=function(g){var C=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))De=g;else if(isNaN(g)){if(C.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');De=g}else De=parseInt(g,10)};m.__private__.getZoomMode=function(){return De};var Ke,gt=m.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');ke=g};m.__private__.getPageMode=function(){return ke};var Ct=m.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');Ke=g};m.__private__.getLayoutMode=function(){return Ke},m.__private__.setDisplayMode=m.setDisplayMode=function(g,C,W){return We(g),Ct(C),gt(W),this};var at={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(g){if(Object.keys(at).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return at[g]},m.__private__.getDocumentProperties=function(){return at},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(g){for(var C in at)at.hasOwnProperty(C)&&g[C]&&(at[C]=g[C]);return this},m.__private__.setDocumentProperty=function(g,C){if(Object.keys(at).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return at[g]=C};var et,Oe,Pn,bt,_r,Pt={},Bt={},mr=[],kt={},na={},Kt={},gr={},Kr=null,Vt=0,lt=[],wt=new g5(m),ra=e.hotfixes||[],Nn={},Er={},Xr=[],tt=function g(C,W,ee,ce,ye,Ae){if(!(this instanceof g))return new g(C,W,ee,ce,ye,Ae);isNaN(C)&&(C=1),isNaN(W)&&(W=0),isNaN(ee)&&(ee=0),isNaN(ce)&&(ce=1),isNaN(ye)&&(ye=0),isNaN(Ae)&&(Ae=0),this._matrix=[C,W,ee,ce,ye,Ae]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(g)},tt.prototype.multiply=function(g){var C=g.sx*this.sx+g.shy*this.shx,W=g.sx*this.shy+g.shy*this.sy,ee=g.shx*this.sx+g.sy*this.shx,ce=g.shx*this.shy+g.sy*this.sy,ye=g.tx*this.sx+g.ty*this.shx+this.tx,Ae=g.tx*this.shy+g.ty*this.sy+this.ty;return new tt(C,W,ee,ce,ye,Ae)},tt.prototype.decompose=function(){var g=this.sx,C=this.shy,W=this.shx,ee=this.sy,ce=this.tx,ye=this.ty,Ae=Math.sqrt(g*g+C*C),ze=(g/=Ae)*W+(C/=Ae)*ee;W-=g*ze,ee-=C*ze;var Ze=Math.sqrt(W*W+ee*ee);return ze/=Ze,g*(ee/=Ze)<C*(W/=Ze)&&(g=-g,C=-C,ze=-ze,Ae=-Ae),{scale:new tt(Ae,0,0,Ze,0,0),translate:new tt(1,0,0,1,ce,ye),rotate:new tt(g,C,-C,g,0,0),skew:new tt(1,0,ze,1,0,0)}},tt.prototype.toString=function(g){return this.join(" ")},tt.prototype.inversed=function(){var g=this.sx,C=this.shy,W=this.shx,ee=this.sy,ce=this.tx,ye=this.ty,Ae=1/(g*ee-C*W),ze=ee*Ae,Ze=-C*Ae,ht=-W*Ae,ut=g*Ae;return new tt(ze,Ze,ht,ut,-ze*ce-ht*ye,-Ze*ce-ut*ye)},tt.prototype.applyToPoint=function(g){var C=g.x*this.sx+g.y*this.shx+this.tx,W=g.x*this.shy+g.y*this.sy+this.ty;return new uo(C,W)},tt.prototype.applyToRectangle=function(g){var C=this.applyToPoint(g),W=this.applyToPoint(new uo(g.x+g.w,g.y+g.h));return new Dl(C.x,C.y,W.x-C.x,W.y-C.y)},tt.prototype.clone=function(){var g=this.sx,C=this.shy,W=this.shx,ee=this.sy,ce=this.tx,ye=this.ty;return new tt(g,C,W,ee,ce,ye)},m.Matrix=tt;var Fr=m.matrixMult=function(g,C){return C.multiply(g)},Yr=new tt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Yr;var _n=function(g,C){if(!na[g]){var W=(C instanceof zs?"Sh":"P")+(Object.keys(kt).length+1).toString(10);C.id=W,na[g]=W,kt[W]=C,wt.publish("addPattern",C)}};m.ShadingPattern=zs,m.TilingPattern=Yo,m.addShadingPattern=function(g,C){return T("addShadingPattern()"),_n(g,C),this},m.beginTilingPattern=function(g){T("beginTilingPattern()"),Fu(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},m.endTilingPattern=function(g,C){T("endTilingPattern()"),C.stream=we[B].join(`
`),_n(g,C),wt.publish("endTilingPattern",C),Xr.pop().restore()};var pt=m.__private__.newObject=function(){var g=rn();return ir(g,!0),g},rn=m.__private__.newObjectDeferred=function(){return Q++,oe[Q]=function(){return de},Q},ir=function(g,C){return C=typeof C=="boolean"&&C,oe[g]=de,C&&$(g+" 0 obj"),g},Jr=m.__private__.newAdditionalObject=function(){var g={objId:rn(),content:""};return be.push(g),g},Qr=rn(),vr=rn(),Zr=m.__private__.decodeColorString=function(g){var C=g.split(" ");if(C.length!==2||C[1]!=="g"&&C[1]!=="G")C.length===5&&(C[4]==="k"||C[4]==="K")&&(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var W=parseFloat(C[0]);C=[W,W,W,"r"]}for(var ee="#",ce=0;ce<3;ce++)ee+=("0"+Math.floor(255*parseFloat(C[ce])).toString(16)).slice(-2);return ee},Tr=m.__private__.encodeColorString=function(g){var C;typeof g=="string"&&(g={ch1:g});var W=g.ch1,ee=g.ch2,ce=g.ch3,ye=g.ch4,Ae=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof W=="string"&&W.charAt(0)!=="#"){var ze=new r3(W);if(ze.ok)W=ze.toHex();else if(!/^\d*\.?\d*$/.test(W))throw new Error('Invalid color "'+W+'" passed to jsPDF.encodeColorString.')}if(typeof W=="string"&&/^#[0-9A-Fa-f]{3}$/.test(W)&&(W="#"+W[1]+W[1]+W[2]+W[2]+W[3]+W[3]),typeof W=="string"&&/^#[0-9A-Fa-f]{6}$/.test(W)){var Ze=parseInt(W.substr(1),16);W=Ze>>16&255,ee=Ze>>8&255,ce=255&Ze}if(ee===void 0||ye===void 0&&W===ee&&ee===ce)if(typeof W=="string")C=W+" "+Ae[0];else switch(g.precision){case 2:C=Z(W/255)+" "+Ae[0];break;case 3:default:C=E(W/255)+" "+Ae[0]}else if(ye===void 0||Ft(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return C=["1.","1.","1.",Ae[1]].join(" ");if(typeof W=="string")C=[W,ee,ce,Ae[1]].join(" ");else switch(g.precision){case 2:C=[Z(W/255),Z(ee/255),Z(ce/255),Ae[1]].join(" ");break;default:case 3:C=[E(W/255),E(ee/255),E(ce/255),Ae[1]].join(" ")}}else if(typeof W=="string")C=[W,ee,ce,ye,Ae[2]].join(" ");else switch(g.precision){case 2:C=[Z(W),Z(ee),Z(ce),Z(ye),Ae[2]].join(" ");break;case 3:default:C=[E(W),E(ee),E(ce),E(ye),Ae[2]].join(" ")}return C},ei=m.__private__.getFilters=function(){return s},ar=m.__private__.putStream=function(g){var C=(g=g||{}).data||"",W=g.filters||ei(),ee=g.alreadyAppliedFilters||[],ce=g.addLength1||!1,ye=C.length,Ae=g.objectId,ze=function($n){return $n};if(p!==null&&Ae===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ze=Wn.encryptor(Ae,0));var Ze={};W===!0&&(W=["FlateEncode"]);var ht=g.additionalKeyValues||[],ut=(Ze=rt.API.processDataByFilters!==void 0?rt.API.processDataByFilters(C,W):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(Ze.data.length!==0&&(ht.push({key:"Length",value:Ze.data.length}),ce===!0&&ht.push({key:"Length1",value:ye})),ut.length!=0)if(ut.split("/").length-1==1)ht.push({key:"Filter",value:ut});else{ht.push({key:"Filter",value:"["+ut+"]"});for(var xt=0;xt<ht.length;xt+=1)if(ht[xt].key==="DecodeParms"){for(var Jt=[],cn=0;cn<Ze.reverseChain.split("/").length-1;cn+=1)Jt.push("null");Jt.push(ht[xt].value),ht[xt].value="["+Jt.join(" ")+"]"}}$("<<");for(var yn=0;yn<ht.length;yn++)$("/"+ht[yn].key+" "+ht[yn].value);$(">>"),Ze.data.length!==0&&($("stream"),$(ze(Ze.data)),$("endstream"))},Ir=m.__private__.putPage=function(g){var C=g.number,W=g.data,ee=g.objId,ce=g.contentsObjId;ir(ee,!0),$("<</Type /Page"),$("/Parent "+g.rootDictionaryObjId+" 0 R"),$("/Resources "+g.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(D(g.mediaBox.bottomLeftX))+" "+parseFloat(D(g.mediaBox.bottomLeftY))+" "+D(g.mediaBox.topRightX)+" "+D(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&$("/CropBox ["+D(g.cropBox.bottomLeftX)+" "+D(g.cropBox.bottomLeftY)+" "+D(g.cropBox.topRightX)+" "+D(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&$("/BleedBox ["+D(g.bleedBox.bottomLeftX)+" "+D(g.bleedBox.bottomLeftY)+" "+D(g.bleedBox.topRightX)+" "+D(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&$("/TrimBox ["+D(g.trimBox.bottomLeftX)+" "+D(g.trimBox.bottomLeftY)+" "+D(g.trimBox.topRightX)+" "+D(g.trimBox.topRightY)+"]"),g.artBox!==null&&$("/ArtBox ["+D(g.artBox.bottomLeftX)+" "+D(g.artBox.bottomLeftY)+" "+D(g.artBox.topRightX)+" "+D(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&$("/UserUnit "+g.userUnit),wt.publish("putPage",{objId:ee,pageContext:lt[C],pageNumber:C,page:W}),$("/Contents "+ce+" 0 R"),$(">>"),$("endobj");var ye=W.join(`
`);return j===x.ADVANCED&&(ye+=`
Q`),ir(ce,!0),ar({data:ye,filters:ei(),objectId:ce}),$("endobj"),ee},ia=m.__private__.putPages=function(){var g,C,W=[];for(g=1;g<=Vt;g++)lt[g].objId=rn(),lt[g].contentsObjId=rn();for(g=1;g<=Vt;g++)W.push(Ir({number:g,data:we[g],objId:lt[g].objId,contentsObjId:lt[g].contentsObjId,mediaBox:lt[g].mediaBox,cropBox:lt[g].cropBox,bleedBox:lt[g].bleedBox,trimBox:lt[g].trimBox,artBox:lt[g].artBox,userUnit:lt[g].userUnit,rootDictionaryObjId:Qr,resourceDictionaryObjId:vr}));ir(Qr,!0),$("<</Type /Pages");var ee="/Kids [";for(C=0;C<Vt;C++)ee+=W[C]+" 0 R ";$(ee+"]"),$("/Count "+Vt),$(">>"),$("endobj"),wt.publish("postPutPages")},Di=function(g){wt.publish("putFont",{font:g,out:$,newObject:pt,putStream:ar}),g.isAlreadyPutted!==!0&&(g.objectNumber=pt(),$("<<"),$("/Type /Font"),$("/BaseFont /"+Fo(g.postScriptName)),$("/Subtype /Type1"),typeof g.encoding=="string"&&$("/Encoding /"+g.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},Fa=function(){for(var g in Pt)Pt.hasOwnProperty(g)&&(f===!1||f===!0&&v.hasOwnProperty(g))&&Di(Pt[g])},aa=function(g){g.objectNumber=pt();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[D(g.x),D(g.y),D(g.x+g.width),D(g.y+g.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var W=g.pages[1].join(`
`);ar({data:W,additionalKeyValues:C,objectId:g.objectNumber}),$("endobj")},Ta=function(){for(var g in Nn)Nn.hasOwnProperty(g)&&aa(Nn[g])},Mi=function(g,C){var W,ee=[],ce=1/(C-1);for(W=0;W<1;W+=ce)ee.push(W);if(ee.push(1),g[0].offset!=0){var ye={offset:0,color:g[0].color};g.unshift(ye)}if(g[g.length-1].offset!=1){var Ae={offset:1,color:g[g.length-1].color};g.push(Ae)}for(var ze="",Ze=0,ht=0;ht<ee.length;ht++){for(W=ee[ht];W>g[Ze+1].offset;)Ze++;var ut=g[Ze].offset,xt=(W-ut)/(g[Ze+1].offset-ut),Jt=g[Ze].color,cn=g[Ze+1].color;ze+=X(Math.round((1-xt)*Jt[0]+xt*cn[0]).toString(16))+X(Math.round((1-xt)*Jt[1]+xt*cn[1]).toString(16))+X(Math.round((1-xt)*Jt[2]+xt*cn[2]).toString(16))}return ze.trim()},Al=function(g,C){C||(C=21);var W=pt(),ee=Mi(g.colors,C),ce=[];ce.push({key:"FunctionType",value:"0"}),ce.push({key:"Domain",value:"[0.0 1.0]"}),ce.push({key:"Size",value:"["+C+"]"}),ce.push({key:"BitsPerSample",value:"8"}),ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ar({data:ee,additionalKeyValues:ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:W}),$("endobj"),g.objectNumber=pt(),$("<< /ShadingType "+g.type),$("/ColorSpace /DeviceRGB");var ye="/Coords ["+D(parseFloat(g.coords[0]))+" "+D(parseFloat(g.coords[1]))+" ";g.type===2?ye+=D(parseFloat(g.coords[2]))+" "+D(parseFloat(g.coords[3])):ye+=D(parseFloat(g.coords[2]))+" "+D(parseFloat(g.coords[3]))+" "+D(parseFloat(g.coords[4]))+" "+D(parseFloat(g.coords[5])),$(ye+="]"),g.matrix&&$("/Matrix ["+g.matrix.toString()+"]"),$("/Function "+W+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},Ll=function(g,C){var W=rn(),ee=pt();C.push({resourcesOid:W,objectOid:ee}),g.objectNumber=ee;var ce=[];ce.push({key:"Type",value:"/Pattern"}),ce.push({key:"PatternType",value:"1"}),ce.push({key:"PaintType",value:"1"}),ce.push({key:"TilingType",value:"1"}),ce.push({key:"BBox",value:"["+g.boundingBox.map(D).join(" ")+"]"}),ce.push({key:"XStep",value:D(g.xStep)}),ce.push({key:"YStep",value:D(g.yStep)}),ce.push({key:"Resources",value:W+" 0 R"}),g.matrix&&ce.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),ar({data:g.stream,additionalKeyValues:ce,objectId:g.objectNumber}),$("endobj")},Be=function(g){var C;for(C in kt)kt.hasOwnProperty(C)&&(kt[C]instanceof zs?Al(kt[C]):kt[C]instanceof Yo&&Ll(kt[C],g))},Pe=function(g){for(var C in g.objectNumber=pt(),$("<<"),g)switch(C){case"opacity":$("/ca "+Z(g[C]));break;case"stroke-opacity":$("/CA "+Z(g[C]))}$(">>"),$("endobj")},Qe=function(){var g;for(g in Kt)Kt.hasOwnProperty(g)&&Pe(Kt[g])},mt=function(){for(var g in $("/XObject <<"),Nn)Nn.hasOwnProperty(g)&&Nn[g].objectNumber>=0&&$("/"+g+" "+Nn[g].objectNumber+" 0 R");wt.publish("putXobjectDict"),$(">>")},Xe=function(){Wn.oid=pt(),$("<<"),$("/Filter /Standard"),$("/V "+Wn.v),$("/R "+Wn.r),$("/U <"+Wn.toHexString(Wn.U)+">"),$("/O <"+Wn.toHexString(Wn.O)+">"),$("/P "+Wn.P),$(">>"),$("endobj")},Ve=function(){for(var g in $("/Font <<"),Pt)Pt.hasOwnProperty(g)&&(f===!1||f===!0&&v.hasOwnProperty(g))&&$("/"+g+" "+Pt[g].objectNumber+" 0 R");$(">>")},qe=function(){if(Object.keys(kt).length>0){for(var g in $("/Shading <<"),kt)kt.hasOwnProperty(g)&&kt[g]instanceof zs&&kt[g].objectNumber>=0&&$("/"+g+" "+kt[g].objectNumber+" 0 R");wt.publish("putShadingPatternDict"),$(">>")}},Xt=function(g){if(Object.keys(kt).length>0){for(var C in $("/Pattern <<"),kt)kt.hasOwnProperty(C)&&kt[C]instanceof m.TilingPattern&&kt[C].objectNumber>=0&&kt[C].objectNumber<g&&$("/"+C+" "+kt[C].objectNumber+" 0 R");wt.publish("putTilingPatternDict"),$(">>")}},jn=function(){if(Object.keys(Kt).length>0){var g;for(g in $("/ExtGState <<"),Kt)Kt.hasOwnProperty(g)&&Kt[g].objectNumber>=0&&$("/"+g+" "+Kt[g].objectNumber+" 0 R");wt.publish("putGStateDict"),$(">>")}},At=function(g){ir(g.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ve(),qe(),Xt(g.objectOid),jn(),mt(),$(">>"),$("endobj")},sr=function(){var g=[];Fa(),Qe(),Ta(),Be(g),wt.publish("putResources"),g.forEach(At),At({resourcesOid:vr,objectOid:Number.MAX_SAFE_INTEGER}),wt.publish("postPutResources")},En=function(){wt.publish("putAdditionalObjects");for(var g=0;g<be.length;g++){var C=be[g];ir(C.objId,!0),$(C.content),$("endobj")}wt.publish("postPutAdditionalObjects")},Fn=function(g){Bt[g.fontName]=Bt[g.fontName]||{},Bt[g.fontName][g.fontStyle]=g.id},Oi=function(g,C,W,ee,ce){var ye={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:g,fontName:C,fontStyle:W,encoding:ee,isStandardFont:ce||!1,metadata:{}};return wt.publish("addFont",{font:ye,instance:this}),Pt[ye.id]=ye,Fn(ye),ye.id},ti=function(g){for(var C=0,W=Le.length;C<W;C++){var ee=Oi.call(this,g[C][0],g[C][1],g[C][2],Le[C][3],!0);f===!1&&(v[ee]=!0);var ce=g[C][0].split("-");Fn({id:ee,fontName:ce[0],fontStyle:ce[1]||""})}wt.publish("addFonts",{fonts:Pt,dictionary:Bt})},kn=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(ee){var C=ee.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var W="Error in function "+C.split(`
`)[0].split("<")[0]+": "+ee.message;if(!st.console)throw new Error(W);st.console.error(W,ee),st.alert&&alert(W)}},g.foo.bar=g,g.foo},Bi=function(g,C){var W,ee,ce,ye,Ae,ze,Ze,ht,ut;if(ce=(C=C||{}).sourceEncoding||"Unicode",Ae=C.outputEncoding,(C.autoencode||Ae)&&Pt[et].metadata&&Pt[et].metadata[ce]&&Pt[et].metadata[ce].encoding&&(ye=Pt[et].metadata[ce].encoding,!Ae&&Pt[et].encoding&&(Ae=Pt[et].encoding),!Ae&&ye.codePages&&(Ae=ye.codePages[0]),typeof Ae=="string"&&(Ae=ye[Ae]),Ae)){for(Ze=!1,ze=[],W=0,ee=g.length;W<ee;W++)(ht=Ae[g.charCodeAt(W)])?ze.push(String.fromCharCode(ht)):ze.push(g[W]),ze[W].charCodeAt(0)>>8&&(Ze=!0);g=ze.join("")}for(W=g.length;Ze===void 0&&W!==0;)g.charCodeAt(W-1)>>8&&(Ze=!0),W--;if(!Ze)return g;for(ze=C.noBOM?[]:[254,255],W=0,ee=g.length;W<ee;W++){if((ut=(ht=g.charCodeAt(W))>>8)>>8)throw new Error("Character at position "+W+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ze.push(ut),ze.push(ht-(ut<<8))}return String.fromCharCode.apply(void 0,ze)},vn=m.__private__.pdfEscape=m.pdfEscape=function(g,C){return Bi(g,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cl=m.__private__.beginPage=function(g){we[++Vt]=[],lt[Vt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},wu(Vt),ve(we[B])},xu=function(g,C){var W,ee,ce;switch(n=C||n,typeof g=="string"&&(W=b(g.toLowerCase()),Array.isArray(W)&&(ee=W[0],ce=W[1])),Array.isArray(g)&&(ee=g[0]*Oe,ce=g[1]*Oe),isNaN(ee)&&(ee=i[0],ce=i[1]),(ee>14400||ce>14400)&&(Ot.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),ce=Math.min(14400,ce)),i=[ee,ce],n.substr(0,1)){case"l":ce>ee&&(i=[ce,ee]);break;case"p":ee>ce&&(i=[ce,ee])}Cl(i),Lu(Fl),$(yi),Il!==0&&$(Il+" J"),Rl!==0&&$(Rl+" j"),wt.publish("addPage",{pageNumber:Vt})},gf=function(g){g>0&&g<=Vt&&(we.splice(g,1),lt.splice(g,1),Vt--,B>Vt&&(B=Vt),this.setPage(B))},wu=function(g){g>0&&g<=Vt&&(B=g)},vf=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return we.length-1},Su=function(g,C,W){var ee,ce=void 0;return W=W||{},g=g!==void 0?g:Pt[et].fontName,C=C!==void 0?C:Pt[et].fontStyle,ee=g.toLowerCase(),Bt[ee]!==void 0&&Bt[ee][C]!==void 0?ce=Bt[ee][C]:Bt[g]!==void 0&&Bt[g][C]!==void 0?ce=Bt[g][C]:W.disableWarning===!1&&Ot.warn("Unable to look up font label for font '"+g+"', '"+C+"'. Refer to getFontList() for available fonts."),ce||W.noFallback||(ce=Bt.times[C])==null&&(ce=Bt.times.normal),ce},yf=m.__private__.putInfo=function(){var g=pt(),C=function(ee){return ee};for(var W in p!==null&&(C=Wn.encryptor(g,0)),$("<<"),$("/Producer ("+vn(C("jsPDF "+rt.version))+")"),at)at.hasOwnProperty(W)&&at[W]&&$("/"+W.substr(0,1).toUpperCase()+W.substr(1)+" ("+vn(C(at[W]))+")");$("/CreationDate ("+vn(C(le))+")"),$(">>"),$("endobj")},Pl=m.__private__.putCatalog=function(g){var C=(g=g||{}).rootDictionaryObjId||Qr;switch(pt(),$("<<"),$("/Type /Catalog"),$("/Pages "+C+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var W=""+De;W.substr(W.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&$("/OpenAction [3 0 R /XYZ null null "+Z(De)+"]")}switch(Ke||(Ke="continuous"),Ke){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}ke&&$("/PageMode /"+ke),wt.publish("putCatalog"),$(">>"),$("endobj")},bf=m.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(Q+1)),$("/Root "+Q+" 0 R"),$("/Info "+(Q-1)+" 0 R"),p!==null&&$("/Encrypt "+Wn.oid+" 0 R"),$("/ID [ <"+ie+"> <"+ie+"> ]"),$(">>")},xf=m.__private__.putHeader=function(){$("%PDF-"+w),$("%")},wf=m.__private__.putXRef=function(){var g="0000000000";$("xref"),$("0 "+(Q+1)),$("0000000000 65535 f ");for(var C=1;C<=Q;C++)typeof oe[C]=="function"?$((g+oe[C]()).slice(-10)+" 00000 n "):oe[C]!==void 0?$((g+oe[C]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},sa=m.__private__.buildDocument=function(){Je(),ve(ue),wt.publish("buildDocument"),xf(),ia(),En(),sr(),p!==null&&Xe(),yf(),Pl();var g=de;return wf(),bf(),$("startxref"),$(""+g),$("%%EOF"),ve(we[B]),ue.join(`
`)},ao=m.__private__.getBlob=function(g){return new Blob([$e(g)],{type:"application/pdf"})},so=m.output=m.__private__.output=kn(function(g,C){switch(typeof(C=C||{})=="string"?C={filename:C}:C.filename=C.filename||"generated.pdf",g){case void 0:return sa();case"save":m.save(C.filename);break;case"arraybuffer":return $e(sa());case"blob":return ao(sa());case"bloburi":case"bloburl":if(st.URL!==void 0&&typeof st.URL.createObjectURL=="function")return st.URL&&st.URL.createObjectURL(ao(sa()))||void 0;Ot.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var W="",ee=sa();try{W=l1(ee)}catch{W=l1(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+C.filename+";base64,"+W;case"pdfobjectnewwindow":if(Object.prototype.toString.call(st)==="[object Window]"){var ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(ce=C.pdfObjectUrl,ye="");var Ae='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ce+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",ze=st.open();return ze!==null&&ze.document.write(Ae),ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(st)==="[object Window]"){var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',ht=st.open();if(ht!==null){ht.document.write(Ze);var ut=this;ht.document.documentElement.querySelector("#pdfViewer").onload=function(){ht.document.title=C.filename,ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ut.output("bloburl"))}}return ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(st)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',Jt=st.open();if(Jt!==null&&(Jt.document.write(xt),Jt.document.title=C.filename),Jt||typeof safari>"u")return Jt;break;case"datauri":case"dataurl":return st.document.location.href=this.output("datauristring",C);default:return null}}),Nu=function(g){return Array.isArray(ra)===!0&&ra.indexOf(g)>-1};switch(r){case"pt":Oe=1;break;case"mm":Oe=72/25.4;break;case"cm":Oe=72/2.54;break;case"in":Oe=72;break;case"px":Oe=Nu("px_scaling")==1?.75:96/72;break;case"pc":case"em":Oe=12;break;case"ex":Oe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Oe=r}var Wn=null;me(),G();var Sf=function(g){return p!==null?Wn.encryptor(g,0):function(C){return C}},ju=m.__private__.getPageInfo=m.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[g].objId,pageNumber:g,pageContext:lt[g]}},ct=m.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in lt)if(lt[C].objId===g)break;return ju(C)},Nf=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:lt[B].objId,pageNumber:B,pageContext:lt[B]}};m.addPage=function(){return xu.apply(this,arguments),this},m.setPage=function(){return wu.apply(this,arguments),ve.call(this,we[B]),this},m.insertPage=function(g){return this.addPage(),this.movePage(B,g),this},m.movePage=function(g,C){var W,ee;if(g>C){W=we[g],ee=lt[g];for(var ce=g;ce>C;ce--)we[ce]=we[ce-1],lt[ce]=lt[ce-1];we[C]=W,lt[C]=ee,this.setPage(C)}else if(g<C){W=we[g],ee=lt[g];for(var ye=g;ye<C;ye++)we[ye]=we[ye+1],lt[ye]=lt[ye+1];we[C]=W,lt[C]=ee,this.setPage(C)}return this},m.deletePage=function(){return gf.apply(this,arguments),this},m.__private__.text=m.text=function(g,C,W,ee,ce){var ye,Ae,ze,Ze,ht,ut,xt,Jt,cn,yn=(ee=ee||{}).scope||this;if(typeof g=="number"&&typeof C=="number"&&(typeof W=="string"||Array.isArray(W))){var $n=W;W=C,C=g,g=$n}if(arguments[3]instanceof tt?(T("The transform parameter of text() with a Matrix value"),cn=ce):(ze=arguments[4],Ze=arguments[5],Ft(xt=arguments[3])==="object"&&xt!==null||(typeof ze=="string"&&(Ze=ze,ze=null),typeof xt=="string"&&(Ze=xt,xt=null),typeof xt=="number"&&(ze=xt,xt=null),ee={flags:xt,angle:ze,align:Ze})),isNaN(C)||isNaN(W)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return yn;var Tn="",bi=!1,ni=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:ks,Ui=yn.internal.scaleFactor;function Tu(qt){return qt=qt.split("	").join(Array(ee.TabLen||9).join(" ")),vn(qt,xt)}function ql(qt){for(var zt,dn=qt.concat(),An=[],da=dn.length;da--;)typeof(zt=dn.shift())=="string"?An.push(zt):Array.isArray(qt)&&(zt.length===1||zt[1]===void 0&&zt[2]===void 0)?An.push(zt[0]):An.push([zt[0],zt[1],zt[2]]);return An}function zl(qt,zt){var dn;if(typeof qt=="string")dn=zt(qt)[0];else if(Array.isArray(qt)){for(var An,da,Xl=qt.concat(),So=[],Ou=Xl.length;Ou--;)typeof(An=Xl.shift())=="string"?So.push(zt(An)[0]):Array.isArray(An)&&typeof An[0]=="string"&&(da=zt(An[0],An[1],An[2]),So.push([da[0],da[1],da[2]]));dn=So}return dn}var fo=!1,Ul=!0;if(typeof g=="string")fo=!0;else if(Array.isArray(g)){var Vl=g.concat();Ae=[];for(var po,Bn=Vl.length;Bn--;)(typeof(po=Vl.shift())!="string"||Array.isArray(po)&&typeof po[0]!="string")&&(Ul=!1);fo=Ul}if(fo===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var mo=Ee/yn.internal.scaleFactor,go=mo*(ni-1);switch(ee.baseline){case"bottom":W-=go;break;case"top":W+=mo-go;break;case"hanging":W+=mo-2*go;break;case"middle":W+=mo/2-go}if((ut=ee.maxWidth||0)>0&&(typeof g=="string"?g=yn.splitTextToSize(g,ut):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(qt,zt){return qt.concat(yn.splitTextToSize(zt,ut))},[]))),ye={text:g,x:C,y:W,options:ee,mutex:{pdfEscape:vn,activeFontKey:et,fonts:Pt,activeFontSize:Ee}},wt.publish("preProcessText",ye),g=ye.text,ze=(ee=ye.options).angle,!(cn instanceof tt)&&ze&&typeof ze=="number"){ze*=Math.PI/180,ee.rotationDirection===0&&(ze=-ze),j===x.ADVANCED&&(ze=-ze);var vo=Math.cos(ze),Hl=Math.sin(ze);cn=new tt(vo,Hl,-Hl,vo,0,0)}else ze&&ze instanceof tt&&(cn=ze);j!==x.ADVANCED||cn||(cn=Yr),(ht=ee.charSpace||co)!==void 0&&(Tn+=D(M(ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jt=ee.horizontalScale)!==void 0&&(Tn+=D(100*Jt)+` Tz
`),ee.lang;var yr=-1,Tf=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,Wl=yn.internal.getCurrentPageInfo().pageContext;switch(Tf){case 0:case!1:case"fill":yr=0;break;case 1:case!0:case"stroke":yr=1;break;case 2:case"fillThenStroke":yr=2;break;case 3:case"invisible":yr=3;break;case 4:case"fillAndAddForClipping":yr=4;break;case 5:case"strokeAndAddPathForClipping":yr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":yr=6;break;case 7:case"addToPathForClipping":yr=7}var Iu=Wl.usedRenderingMode!==void 0?Wl.usedRenderingMode:-1;yr!==-1?Tn+=yr+` Tr
`:Iu!==-1&&(Tn+=`0 Tr
`),yr!==-1&&(Wl.usedRenderingMode=yr),Ze=ee.align||"left";var ri,yo=Ee*ni,Ru=yn.internal.pageSize.getWidth(),Du=Pt[et];ht=ee.charSpace||co,ut=ee.maxWidth||0,xt=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var Ma=[],Cs=function(qt){return yn.getStringUnitWidth(qt,{font:Du,charSpace:ht,fontSize:Ee,doKerning:!1})*Ee/Ui};if(Object.prototype.toString.call(g)==="[object Array]"){var br;Ae=ql(g),Ze!=="left"&&(ri=Ae.map(Cs));var or,Oa=0;if(Ze==="right"){C-=ri[0],g=[],Bn=Ae.length;for(var la=0;la<Bn;la++)la===0?(or=zi(C),br=oa(W)):(or=M(Oa-ri[la]),br=-yo),g.push([Ae[la],or,br]),Oa=ri[la]}else if(Ze==="center"){C-=ri[0]/2,g=[],Bn=Ae.length;for(var ca=0;ca<Bn;ca++)ca===0?(or=zi(C),br=oa(W)):(or=M((Oa-ri[ca])/2),br=-yo),g.push([Ae[ca],or,br]),Oa=ri[ca]}else if(Ze==="left"){g=[],Bn=Ae.length;for(var bo=0;bo<Bn;bo++)g.push(Ae[bo])}else if(Ze==="justify"&&Du.encoding==="Identity-H"){g=[],Bn=Ae.length,ut=ut!==0?ut:Ru;for(var ua=0,un=0;un<Bn;un++)if(br=un===0?oa(W):-yo,or=un===0?zi(C):ua,un<Bn-1){var $l=M((ut-ri[un])/(Ae[un].split(" ").length-1)),lr=Ae[un].split(" ");g.push([lr[0]+" ",or,br]),ua=0;for(var ii=1;ii<lr.length;ii++){var xo=(Cs(lr[ii-1]+" "+lr[ii])-Cs(lr[ii]))*Ui+$l;ii==lr.length-1?g.push([lr[ii],xo,0]):g.push([lr[ii]+" ",xo,0]),ua-=xo}}else g.push([Ae[un],or,br]);g.push(["",ua,0])}else{if(Ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Bn=Ae.length,ut=ut!==0?ut:Ru,un=0;un<Bn;un++)br=un===0?oa(W):-yo,or=un===0?zi(C):0,un<Bn-1?Ma.push(D(M((ut-ri[un])/(Ae[un].split(" ").length-1)))):Ma.push(0),g.push([Ae[un],or,br])}}var Mu=typeof ee.R2L=="boolean"?ee.R2L:Ye;Mu===!0&&(g=zl(g,function(qt,zt,dn){return[qt.split("").reverse().join(""),zt,dn]})),ye={text:g,x:C,y:W,options:ee,mutex:{pdfEscape:vn,activeFontKey:et,fonts:Pt,activeFontSize:Ee}},wt.publish("postProcessText",ye),g=ye.text,bi=ye.mutex.isHex||!1;var Gl=Pt[et].encoding;Gl!=="WinAnsiEncoding"&&Gl!=="StandardEncoding"||(g=zl(g,function(qt,zt,dn){return[Tu(qt),zt,dn]})),Ae=ql(g),g=[];for(var Ps,_s,Ba,Es=0,wo=1,Fs=Array.isArray(Ae[0])?wo:Es,qa="",Kl=function(qt,zt,dn){var An="";return dn instanceof tt?(dn=typeof ee.angle=="number"?Fr(dn,new tt(1,0,0,1,qt,zt)):Fr(new tt(1,0,0,1,qt,zt),dn),j===x.ADVANCED&&(dn=Fr(new tt(1,0,0,-1,0,0),dn)),An=dn.join(" ")+` Tm
`):An=D(qt)+" "+D(zt)+` Td
`,An},ai=0;ai<Ae.length;ai++){switch(qa="",Fs){case wo:Ba=(bi?"<":"(")+Ae[ai][0]+(bi?">":")"),Ps=parseFloat(Ae[ai][1]),_s=parseFloat(Ae[ai][2]);break;case Es:Ba=(bi?"<":"(")+Ae[ai]+(bi?">":")"),Ps=zi(C),_s=oa(W)}Ma!==void 0&&Ma[ai]!==void 0&&(qa=Ma[ai]+` Tw
`),ai===0?g.push(qa+Kl(Ps,_s,cn)+Ba):Fs===Es?g.push(qa+Ba):Fs===wo&&g.push(qa+Kl(Ps,_s,cn)+Ba)}g=Fs===Es?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var si=`BT
/`;return si+=et+" "+Ee+` Tf
`,si+=D(Ee*ni)+` TL
`,si+=As+`
`,si+=Tn,si+=g,$(si+="ET"),v[et]=!0,yn};var jf=m.__private__.clip=m.clip=function(g){return $(g==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return jf("evenodd")},m.__private__.discardPath=m.discardPath=function(){return $("n"),this};var qi=m.__private__.isValidStyle=function(g){var C=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(C=!0),C};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(g){return qi(g)&&(d=g),this};var ku=m.__private__.getStyle=m.getStyle=function(g){var C=d;switch(g){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=g}return C},Au=m.close=function(){return $("h"),this};m.stroke=function(){return $("S"),this},m.fill=function(g){return oo("f",g),this},m.fillEvenOdd=function(g){return oo("f*",g),this},m.fillStroke=function(g){return oo("B",g),this},m.fillStrokeEvenOdd=function(g){return oo("B*",g),this};var oo=function(g,C){Ft(C)==="object"?Af(C,g):$(g)},_l=function(g){g===null||j===x.ADVANCED&&g===void 0||(g=ku(g),$(g))};function kf(g,C,W,ee,ce){var ye=new Yo(C||this.boundingBox,W||this.xStep,ee||this.yStep,this.gState,ce||this.matrix);ye.stream=this.stream;var Ae=g+"$$"+this.cloneIndex+++"$$";return _n(Ae,ye),ye}var Af=function(g,C){var W=na[g.key],ee=kt[W];if(ee instanceof zs)$("q"),$(Lf(C)),ee.gState&&m.setGState(ee.gState),$(g.matrix.toString()+" cm"),$("/"+W+" sh"),$("Q");else if(ee instanceof Yo){var ce=new tt(1,0,0,-1,0,Da());g.matrix&&(ce=ce.multiply(g.matrix||Yr),W=kf.call(ee,g.key,g.boundingBox,g.xStep,g.yStep,ce).id),$("q"),$("/Pattern cs"),$("/"+W+" scn"),ee.gState&&m.setGState(ee.gState),$(C),$("Q")}},Lf=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},El=m.moveTo=function(g,C){return $(D(M(g))+" "+D(z(C))+" m"),this},js=m.lineTo=function(g,C){return $(D(M(g))+" "+D(z(C))+" l"),this},Ia=m.curveTo=function(g,C,W,ee,ce,ye){return $([D(M(g)),D(z(C)),D(M(W)),D(z(ee)),D(M(ce)),D(z(ye)),"c"].join(" ")),this};m.__private__.line=m.line=function(g,C,W,ee,ce){if(isNaN(g)||isNaN(C)||isNaN(W)||isNaN(ee)||!qi(ce))throw new Error("Invalid arguments passed to jsPDF.line");return j===x.COMPAT?this.lines([[W-g,ee-C]],g,C,[1,1],ce||"S"):this.lines([[W-g,ee-C]],g,C,[1,1]).stroke()},m.__private__.lines=m.lines=function(g,C,W,ee,ce,ye){var Ae,ze,Ze,ht,ut,xt,Jt,cn,yn,$n,Tn,bi;if(typeof g=="number"&&(bi=W,W=C,C=g,g=bi),ee=ee||[1,1],ye=ye||!1,isNaN(C)||isNaN(W)||!Array.isArray(g)||!Array.isArray(ee)||!qi(ce)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(El(C,W),Ae=ee[0],ze=ee[1],ht=g.length,$n=C,Tn=W,Ze=0;Ze<ht;Ze++)(ut=g[Ze]).length===2?($n=ut[0]*Ae+$n,Tn=ut[1]*ze+Tn,js($n,Tn)):(xt=ut[0]*Ae+$n,Jt=ut[1]*ze+Tn,cn=ut[2]*Ae+$n,yn=ut[3]*ze+Tn,$n=ut[4]*Ae+$n,Tn=ut[5]*ze+Tn,Ia(xt,Jt,cn,yn,$n,Tn));return ye&&Au(),_l(ce),this},m.path=function(g){for(var C=0;C<g.length;C++){var W=g[C],ee=W.c;switch(W.op){case"m":El(ee[0],ee[1]);break;case"l":js(ee[0],ee[1]);break;case"c":Ia.apply(this,ee);break;case"h":Au()}}return this},m.__private__.rect=m.rect=function(g,C,W,ee,ce){if(isNaN(g)||isNaN(C)||isNaN(W)||isNaN(ee)||!qi(ce))throw new Error("Invalid arguments passed to jsPDF.rect");return j===x.COMPAT&&(ee=-ee),$([D(M(g)),D(z(C)),D(M(W)),D(M(ee)),"re"].join(" ")),_l(ce),this},m.__private__.triangle=m.triangle=function(g,C,W,ee,ce,ye,Ae){if(isNaN(g)||isNaN(C)||isNaN(W)||isNaN(ee)||isNaN(ce)||isNaN(ye)||!qi(Ae))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[W-g,ee-C],[ce-W,ye-ee],[g-ce,C-ye]],g,C,[1,1],Ae,!0),this},m.__private__.roundedRect=m.roundedRect=function(g,C,W,ee,ce,ye,Ae){if(isNaN(g)||isNaN(C)||isNaN(W)||isNaN(ee)||isNaN(ce)||isNaN(ye)||!qi(Ae))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ze=4/3*(Math.SQRT2-1);return ce=Math.min(ce,.5*W),ye=Math.min(ye,.5*ee),this.lines([[W-2*ce,0],[ce*ze,0,ce,ye-ye*ze,ce,ye],[0,ee-2*ye],[0,ye*ze,-ce*ze,ye,-ce,ye],[2*ce-W,0],[-ce*ze,0,-ce,-ye*ze,-ce,-ye],[0,2*ye-ee],[0,-ye*ze,ce*ze,-ye,ce,-ye]],g+ce,C,[1,1],Ae,!0),this},m.__private__.ellipse=m.ellipse=function(g,C,W,ee,ce){if(isNaN(g)||isNaN(C)||isNaN(W)||isNaN(ee)||!qi(ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*W,Ae=4/3*(Math.SQRT2-1)*ee;return El(g+W,C),Ia(g+W,C-Ae,g+ye,C-ee,g,C-ee),Ia(g-ye,C-ee,g-W,C-Ae,g-W,C),Ia(g-W,C+Ae,g-ye,C+ee,g,C+ee),Ia(g+ye,C+ee,g+W,C+Ae,g+W,C),_l(ce),this},m.__private__.circle=m.circle=function(g,C,W,ee){if(isNaN(g)||isNaN(C)||isNaN(W)||!qi(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,C,W,W,ee)},m.setFont=function(g,C,W){return W&&(C=H(C,W)),et=Su(g,C,{disableWarning:!1}),this};var Cf=m.__private__.getFont=m.getFont=function(){return Pt[Su.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var g,C,W={};for(g in Bt)if(Bt.hasOwnProperty(g))for(C in W[g]=[],Bt[g])Bt[g].hasOwnProperty(C)&&W[g].push(C);return W},m.addFont=function(g,C,W,ee,ce){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?ce=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(W=H(W,ee)),ce=ce||"Identity-H",Oi.call(this,g,C,W,ce)};var ks,Fl=e.lineWidth||.200025,lo=m.__private__.getLineWidth=m.getLineWidth=function(){return Fl},Lu=m.__private__.setLineWidth=m.setLineWidth=function(g){return Fl=g,$(D(M(g))+" w"),this};m.__private__.setLineDash=rt.API.setLineDash=rt.API.setLineDashPattern=function(g,C){if(g=g||[],C=C||0,isNaN(C)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(W){return D(M(W))}).join(" "),C=D(M(C)),$("["+g+"] "+C+" d"),this};var Cu=m.__private__.getLineHeight=m.getLineHeight=function(){return Ee*ks};m.__private__.getLineHeight=m.getLineHeight=function(){return Ee*ks};var Pu=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(ks=g),this},_u=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return ks};Pu(e.lineHeight);var zi=m.__private__.getHorizontalCoordinate=function(g){return M(g)},oa=m.__private__.getVerticalCoordinate=function(g){return j===x.ADVANCED?g:lt[B].mediaBox.topRightY-lt[B].mediaBox.bottomLeftY-M(g)},Pf=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(g){return D(zi(g))},Ra=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(g){return D(oa(g))},yi=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Zr(yi)},m.__private__.setStrokeColor=m.setDrawColor=function(g,C,W,ee){return yi=Tr({ch1:g,ch2:C,ch3:W,ch4:ee,pdfColorType:"draw",precision:2}),$(yi),this};var Tl=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Zr(Tl)},m.__private__.setFillColor=m.setFillColor=function(g,C,W,ee){return Tl=Tr({ch1:g,ch2:C,ch3:W,ch4:ee,pdfColorType:"fill",precision:2}),$(Tl),this};var As=e.textColor||"0 g",_f=m.__private__.getTextColor=m.getTextColor=function(){return Zr(As)};m.__private__.setTextColor=m.setTextColor=function(g,C,W,ee){return As=Tr({ch1:g,ch2:C,ch3:W,ch4:ee,pdfColorType:"text",precision:3}),this};var co=e.charSpace,Ef=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(co||0)};m.__private__.setCharSpace=m.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return co=g,this};var Il=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(g){var C=m.CapJoinStyles[g];if(C===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=C,$(C+" J"),this};var Rl=0;m.__private__.setLineJoin=m.setLineJoin=function(g){var C=m.CapJoinStyles[g];if(C===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rl=C,$(C+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(D(M(g))+" M"),this},m.GState=Mh,m.setGState=function(g){(g=typeof g=="string"?Kt[gr[g]]:Eu(null,g)).equals(Kr)||($("/"+g.id+" gs"),Kr=g)};var Eu=function(g,C){if(!g||!gr[g]){var W=!1;for(var ee in Kt)if(Kt.hasOwnProperty(ee)&&Kt[ee].equals(C)){W=!0;break}if(W)C=Kt[ee];else{var ce="GS"+(Object.keys(Kt).length+1).toString(10);Kt[ce]=C,C.id=ce}return g&&(gr[g]=C.id),wt.publish("addGState",C),C}};m.addGState=function(g,C){return Eu(g,C),this},m.saveGraphicsState=function(){return $("q"),mr.push({key:et,size:Ee,color:As}),this},m.restoreGraphicsState=function(){$("Q");var g=mr.pop();return et=g.key,Ee=g.size,As=g.color,Kr=null,this},m.setCurrentTransformationMatrix=function(g){return $(g.toString()+" cm"),this},m.comment=function(g){return $("#"+g),this};var uo=function(g,C){var W=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return W},set:function(ye){isNaN(ye)||(W=parseFloat(ye))}});var ee=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(ye){isNaN(ye)||(ee=parseFloat(ye))}});var ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ce},set:function(ye){ce=ye.toString()}}),this},Dl=function(g,C,W,ee){uo.call(this,g,C),this.type="rect";var ce=W||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ce},set:function(Ae){isNaN(Ae)||(ce=parseFloat(Ae))}});var ye=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(Ae){isNaN(Ae)||(ye=parseFloat(Ae))}}),this},Ml=function(){this.page=Vt,this.currentPage=B,this.pages=we.slice(0),this.pagesContext=lt.slice(0),this.x=Pn,this.y=bt,this.matrix=_r,this.width=Ls(B),this.height=Da(B),this.outputDestination=Ce,this.id="",this.objectNumber=-1};Ml.prototype.restore=function(){Vt=this.page,B=this.currentPage,lt=this.pagesContext,we=this.pages,Pn=this.x,bt=this.y,_r=this.matrix,Ol(B,this.width),Bl(B,this.height),Ce=this.outputDestination};var Fu=function(g,C,W,ee,ce){Xr.push(new Ml),Vt=B=0,we=[],Pn=g,bt=C,_r=ce,Cl([W,ee])},Ff=function(g){if(Er[g])Xr.pop().restore();else{var C=new Ml,W="Xo"+(Object.keys(Nn).length+1).toString(10);C.id=W,Er[g]=W,Nn[W]=C,wt.publish("addFormObject",C),Xr.pop().restore()}};for(var ho in m.beginFormObject=function(g,C,W,ee,ce){return Fu(g,C,W,ee,ce),this},m.endFormObject=function(g){return Ff(g),this},m.doFormObject=function(g,C){var W=Nn[Er[g]];return $("q"),$(C.toString()+" cm"),$("/"+W.id+" Do"),$("Q"),this},m.getFormObject=function(g){var C=Nn[Er[g]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},m.save=function(g,C){return g=g||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,C.returnPromise===!1?(qs(ao(sa()),g),typeof qs.unload=="function"&&st.setTimeout&&setTimeout(qs.unload,911),this):new Promise(function(W,ee){try{var ce=qs(ao(sa()),g);typeof qs.unload=="function"&&st.setTimeout&&setTimeout(qs.unload,911),W(ce)}catch(ye){ee(ye.message)}})},rt.API)rt.API.hasOwnProperty(ho)&&(ho==="events"&&rt.API.events.length?function(g,C){var W,ee,ce;for(ce=C.length-1;ce!==-1;ce--)W=C[ce][0],ee=C[ce][1],g.subscribe.apply(g,[W].concat(typeof ee=="function"?[ee]:ee))}(wt,rt.API.events):m[ho]=rt.API[ho]);var Ls=m.getPageWidth=function(g){return(lt[g=g||B].mediaBox.topRightX-lt[g].mediaBox.bottomLeftX)/Oe},Ol=m.setPageWidth=function(g,C){lt[g].mediaBox.topRightX=C*Oe+lt[g].mediaBox.bottomLeftX},Da=m.getPageHeight=function(g){return(lt[g=g||B].mediaBox.topRightY-lt[g].mediaBox.bottomLeftY)/Oe},Bl=m.setPageHeight=function(g,C){lt[g].mediaBox.topRightY=C*Oe+lt[g].mediaBox.bottomLeftY};return m.internal={pdfEscape:vn,getStyle:ku,getFont:Cf,getFontSize:Ie,getCharSpace:Ef,getTextColor:_f,getLineHeight:Cu,getLineHeightFactor:_u,getLineWidth:lo,write:ot,getHorizontalCoordinate:zi,getVerticalCoordinate:oa,getCoordinateString:Pf,getVerticalCoordinateString:Ra,collections:{},newObject:pt,newAdditionalObject:Jr,newObjectDeferred:rn,newObjectDeferredBegin:ir,getFilters:ei,putStream:ar,events:wt,scaleFactor:Oe,pageSize:{getWidth:function(){return Ls(B)},setWidth:function(g){Ol(B,g)},getHeight:function(){return Da(B)},setHeight:function(g){Bl(B,g)}},encryptionOptions:p,encryption:Wn,getEncryptor:Sf,output:so,getNumberOfPages:vf,pages:we,out:$,f2:Z,f3:E,getPageInfo:ju,getPageInfoByObjId:ct,getCurrentPageInfo:Nf,getPDFVersion:S,Point:uo,Rectangle:Dl,Matrix:tt,hasHotfix:Nu},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Ls(B)},set:function(g){Ol(B,g)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Da(B)},set:function(g){Bl(B,g)},enumerable:!0,configurable:!0}),ti.call(m,Le),et="F1",xu(i,n),wt.publish("initialized"),m}Eo.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Eo.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Eo.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Eo.prototype.processOwnerPassword=function(e,t){return u1(c1(t).substr(0,5),e)},Eo.prototype.encryptor=function(e,t){var n=c1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return u1(n,r)}},Mh.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Ft(e)!==Ft(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},rt.API={events:[]},rt.version="3.0.1";var sn=rt.API,Q0=1,io=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Co=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dt=function(e){return e.toFixed(2)},Ya=function(e){return e.toFixed(5)};sn.__acroform__={};var Lr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},v5=function(e){return e*Q0},Wi=function(e){var t=new o3,n=Ge.internal.getHeight(e)||0,r=Ge.internal.getWidth(e)||0;return t.BBox=[0,0,Number(dt(r)),Number(dt(n))],t},h7=sn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},f7=sn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},p7=sn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},pn=sn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return p7(e,t-1)},mn=sn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return h7(e,t-1)},gn=sn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return f7(e,t-1)},m7=sn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(a+o)||0,c.upperRight_X=n(i+s)||0,c.upperRight_Y=r(a)||0,[Number(dt(c.lowerLeft_X)),Number(dt(c.lowerLeft_Y)),Number(dt(c.upperRight_X)),Number(dt(c.upperRight_Y))]},g7=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=d1(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+dt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Wi(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},d1=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var a=n,s=Ge.internal.getHeight(e)||0;s=s<0?-s:s;var o=Ge.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(E,M,K){if(E+1<i.length){var z=M+" "+i[E+1][0];return Ld(z,e,K).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var d,p,f=Ld("3",e,a).height,v=e.multiline?s-a:(s-f)/2,m=v+=2,w=0,S=0,k=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ld(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var b="",x=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var R=!1;if(i[j].length!==1&&k!==i[j].length-1){if((f+2)*(x+2)+2>s)continue e;b+=i[j][k],R=!0,S=j,j--}else{b=(b+=i[j][k]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var q=parseInt(j),H=c(q,b,a),D=j>=i.length-1;if(H&&!D){b+=" ",k=0;continue}if(H||D){if(D)S=q;else if(e.multiline&&(f+2)*(x+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(x+2)+2>s)continue e;S=q}}for(var T="",J=w;J<=S;J++){var Z=i[J];if(e.multiline){if(J===S){T+=Z[k]+" ",k=(k+1)%Z.length;continue}if(J===w){T+=Z[Z.length-1]+" ";continue}}T+=Z[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,p=Ld(T,e,a).width,e.textAlign){case"right":d=o-p-2;break;case"center":d=(o-p)/2;break;case"left":default:d=2}t+=dt(d)+" "+dt(m)+` Td
`,t+="("+io(T)+`) Tj
`,t+=-dt(d)+` 0 Td
`,m=-(a+2),p=0,w=R?S:S+1,x++,b=""}break}return r.text=t,r.fontSize=a,r},Ld=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},v7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},y7=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},b7=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Ft(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},x7=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ii.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(v7)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Q0=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new l3,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&y7(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var o=r[s],c=[],d=o.Rect;if(o.Rect&&(o.Rect=m7(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ge.createDefaultAppearanceStream(o),Ft(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var p=g7(o);c.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(o.appearanceStreamContent){var f="";for(var v in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(v)){var m=o.appearanceStreamContent[v];if(f+="/"+v+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var w=m[s];typeof w=="function"&&(w=w.call(i,o)),f+="/"+s+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=m)=="function"&&(w=w.call(i,o)),f+="/"+s+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}a&&b7(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},s3=sn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Ft(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+io(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Hp=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+io(r(e))+")"},Ki=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ki.prototype.toString=function(){return this.objId+" 0 R"},Ki.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ki.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:s3(i,this.objId,this.scope)}):i instanceof Ki?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var o3=function(){Ki.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Lr(o3,Ki);var l3=function(){Ki.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+io(n(e))+")"}},set:function(n){e=n}})};Lr(l3,Ki);var Ii=function e(){Ki.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pn(t,3)},set:function(b){b?this.F=mn(t,3):this.F=gn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Oh)return;a="FieldObject"+e.FieldNum++}var b=function(x){return x};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+io(b(a))+")"},set:function(b){a=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(b){a=b}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Q0:d},set:function(b){d=b}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(b){p=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Oh||this instanceof Xs))return Hp(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Mn?v:Hp(v,this.objId,this.scope)},set:function(b){b=b.toString(),v=this instanceof Mn?b:b.substr(0,1)==="("?Co(b.substr(1,b.length-2)):Co(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mn?Co(v.substr(1,v.length-1)):v},set:function(b){b=b.toString(),v=this instanceof Mn?"/"+b:b}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Mn?m:Hp(m,this.objId,this.scope)},set:function(b){b=b.toString(),m=this instanceof Mn?b:b.substr(0,1)==="("?Co(b.substr(1,b.length-2)):Co(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mn?Co(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof Mn?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(b){b=!!b,S=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(b){w=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,1)},set:function(b){b?this.Ff=mn(this.Ff,1):this.Ff=gn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,2)},set:function(b){b?this.Ff=mn(this.Ff,2):this.Ff=gn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,3)},set:function(b){b?this.Ff=mn(this.Ff,3):this.Ff=gn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');k=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(k){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Lr(Ii,Ki);var il=function(){Ii.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return s3(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,s,o){o||(o=1);for(var c,d=[];c=s.exec(a);)d.push(c[o]);return d}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,18)},set:function(n){n?this.Ff=mn(this.Ff,18):this.Ff=gn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=mn(this.Ff,19):this.Ff=gn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,20)},set:function(n){n?(this.Ff=mn(this.Ff,20),t.sort()):this.Ff=gn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,22)},set:function(n){n?this.Ff=mn(this.Ff,22):this.Ff=gn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,23)},set:function(n){n?this.Ff=mn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,27)},set:function(n){n?this.Ff=mn(this.Ff,27):this.Ff=gn(this.Ff,27)}}),this.hasAppearanceStream=!1};Lr(il,Ii);var al=function(){il.call(this),this.fontName="helvetica",this.combo=!1};Lr(al,il);var sl=function(){al.call(this),this.combo=!0};Lr(sl,al);var Qd=function(){sl.call(this),this.edit=!0};Lr(Qd,sl);var Mn=function(){Ii.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,15)},set:function(n){n?this.Ff=mn(this.Ff,15):this.Ff=gn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,16)},set:function(n){n?this.Ff=mn(this.Ff,16):this.Ff=gn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,17)},set:function(n){n?this.Ff=mn(this.Ff,17):this.Ff=gn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,26)},set:function(n){n?this.Ff=mn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+io(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ft(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Lr(Mn,Ii);var Zd=function(){Mn.call(this),this.pushButton=!0};Lr(Zd,Mn);var ol=function(){Mn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Lr(ol,Mn);var Oh=function(){var e,t;Ii.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+io(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Ft(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Lr(Oh,Ii),ol.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ol.prototype.createOption=function(e){var t=new Oh;return t.Parent=this,t.optionName=e,this.Kids.push(t),w7.call(this.scope,t),t};var eh=function(){Mn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ge.CheckBox.createAppearanceStream()};Lr(eh,Mn);var Xs=function(){Ii.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,13)},set:function(t){t?this.Ff=mn(this.Ff,13):this.Ff=gn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,21)},set:function(t){t?this.Ff=mn(this.Ff,21):this.Ff=gn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,23)},set:function(t){t?this.Ff=mn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,24)},set:function(t){t?this.Ff=mn(this.Ff,24):this.Ff=gn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,25)},set:function(t){t?this.Ff=mn(this.Ff,25):this.Ff=gn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,26)},set:function(t){t?this.Ff=mn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Lr(Xs,Ii);var th=function(){Xs.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,14)},set:function(e){e?this.Ff=mn(this.Ff,14):this.Ff=gn(this.Ff,14)}}),this.password=!0};Lr(th,Xs);var Ge={CheckBox:{createAppearanceStream:function(){return{N:{On:Ge.CheckBox.YesNormal},D:{On:Ge.CheckBox.YesPushDown,Off:Ge.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=d1(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+dt(Ge.internal.getWidth(e))+" "+dt(Ge.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+dt(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Wi(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Ge.internal.getHeight(e),s=Ge.internal.getWidth(e),o=d1(e,e.caption);return i.push("1 g"),i.push("0 0 "+dt(s)+" "+dt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+dt(s-1)+" "+dt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+dt(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+dt(Ge.internal.getWidth(e))+" "+dt(Ge.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ge.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ge.RadioButton.Circle.YesNormal,t.D[e]=Ge.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Ge.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ya(Ge.internal.getWidth(e)/2)+" "+Ya(Ge.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ge.internal.Bezier_C).toFixed(5)),s=Number((r*Ge.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ya(Ge.internal.getWidth(e)/2)+" "+Ya(Ge.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ya(Ge.internal.getWidth(e)/2)+" "+Ya(Ge.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ge.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ya(Ge.internal.getWidth(e)/2)+" "+Ya(Ge.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ge.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ge.RadioButton.Cross.YesNormal,t.D[e]=Ge.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=Ge.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+dt(Ge.internal.getWidth(e)-2)+" "+dt(Ge.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(dt(r.x1.x)+" "+dt(r.x1.y)+" m"),n.push(dt(r.x2.x)+" "+dt(r.x2.y)+" l"),n.push(dt(r.x4.x)+" "+dt(r.x4.y)+" m"),n.push(dt(r.x3.x)+" "+dt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=Ge.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+dt(Ge.internal.getWidth(e))+" "+dt(Ge.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+dt(Ge.internal.getWidth(e)-2)+" "+dt(Ge.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(dt(n.x1.x)+" "+dt(n.x1.y)+" m"),r.push(dt(n.x2.x)+" "+dt(n.x2.y)+" l"),r.push(dt(n.x4.x)+" "+dt(n.x4.y)+" m"),r.push(dt(n.x3.x)+" "+dt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+dt(Ge.internal.getWidth(e))+" "+dt(Ge.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ge.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ge.internal.getWidth(e),n=Ge.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ge.internal.getWidth=function(e){var t=0;return Ft(e)==="object"&&(t=v5(e.Rect[2])),t},Ge.internal.getHeight=function(e){var t=0;return Ft(e)==="object"&&(t=v5(e.Rect[3])),t};var w7=sn.addField=function(e){if(x7(this,e),!(e instanceof Ii))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};sn.AcroFormChoiceField=il,sn.AcroFormListBox=al,sn.AcroFormComboBox=sl,sn.AcroFormEditBox=Qd,sn.AcroFormButton=Mn,sn.AcroFormPushButton=Zd,sn.AcroFormRadioButton=ol,sn.AcroFormCheckBox=eh,sn.AcroFormTextField=Xs,sn.AcroFormPasswordField=th,sn.AcroFormAppearance=Ge,sn.AcroForm={ChoiceField:il,ListBox:al,ComboBox:sl,EditBox:Qd,Button:Mn,PushButton:Zd,RadioButton:ol,CheckBox:eh,TextField:Xs,PasswordField:th,Appearance:Ge},rt.AcroForm={ChoiceField:il,ListBox:al,ComboBox:sl,EditBox:Qd,Button:Mn,PushButton:Zd,RadioButton:ol,CheckBox:eh,TextField:Xs,PasswordField:th,Appearance:Ge};function c3(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(E,M){var K,z,le,ie,he,G=t;if((M=M||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(H(E))for(he in n)for(le=n[he],K=0;K<le.length;K+=1){for(ie=!0,z=0;z<le[K].length;z+=1)if(le[K][z]!==void 0&&le[K][z]!==E[z]){ie=!1;break}if(ie===!0){G=he;break}}else for(he in n)for(le=n[he],K=0;K<le.length;K+=1){for(ie=!0,z=0;z<le[K].length;z+=1)if(le[K][z]!==void 0&&le[K][z]!==E.charCodeAt(z)){ie=!1;break}if(ie===!0){G=he;break}}return G===t&&M!==t&&(G=M),G},i=function E(M){for(var K=this.internal.write,z=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:M.width}),ie.push({key:"Height",value:M.height}),M.colorSpace===k.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===k.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var he="",G=0,ae=M.transparency.length;G<ae;G++)he+=M.transparency[G]+" "+M.transparency[G]+" ";ie.push({key:"Mask",value:"["+he+"]"})}M.sMask!==void 0&&ie.push({key:"SMask",value:M.objectId+1+" 0 R"});var Y=M.filter!==void 0?["/"+M.filter]:void 0;if(z({data:M.data,additionalKeyValues:ie,alreadyAppliedFilters:Y,objectId:M.objectId}),K("endobj"),"sMask"in M&&M.sMask!==void 0){var me="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,A={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:me,data:M.sMask};"filter"in M&&(A.filter=M.filter),E.call(this,A)}if(M.colorSpace===k.INDEXED){var B=this.internal.newObject();z({data:T(new Uint8Array(M.palette)),objectId:B}),K("endobj")}},a=function(){var E=this.internal.collections.addImage_images;for(var M in E)i.call(this,E[M])},s=function(){var E,M=this.internal.collections.addImage_images,K=this.internal.write;for(var z in M)K("/I"+(E=M[z]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},d=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(E){return typeof e["process"+E.toUpperCase()]=="function"},f=function(E){return Ft(E)==="object"&&E.nodeType===1},v=function(E,M){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var K=""+E.getAttribute("src");if(K.indexOf("data:image/")===0)return Dc(unescape(K).split("base64,").pop());var z=e.loadFile(K,!0);if(z!==void 0)return z}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var le;switch(M){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;case"JPEG":case"JPG":default:le="image/jpeg"}return Dc(E.toDataURL(le,1).split("base64,").pop())}},m=function(E){var M=this.internal.collections.addImage_images;if(M){for(var K in M)if(E===M[K].alias)return M[K]}},w=function(E,M,K){return E||M||(E=-96,M=-96),E<0&&(E=-1*K.width*72/E/this.internal.scaleFactor),M<0&&(M=-1*K.height*72/M/this.internal.scaleFactor),E===0&&(E=M*K.width/K.height),M===0&&(M=E*K.height/K.width),[E,M]},S=function(E,M,K,z,le,ie){var he=w.call(this,K,z,le),G=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,Y=c.call(this);if(K=he[0],z=he[1],Y[le.index]=le,ie){ie*=Math.PI/180;var me=Math.cos(ie),A=Math.sin(ie),B=function(X){return X.toFixed(4)},V=[B(me),B(A),B(-1*A),B(me),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,G(E),ae(M+z),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([G(K),"0","0",G(z),"0","0","cm"].join(" "))):this.internal.write([G(K),"0","0",G(z),G(E),ae(M+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(E){var M,K,z=0;if(typeof E=="string")for(K=E.length,M=0;M<K;M++)z=(z<<5)-z+E.charCodeAt(M),z|=0;else if(H(E))for(K=E.byteLength/2,M=0;M<K;M++)z=(z<<5)-z+E[M],z|=0;return z},j=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var M=!0;return E.length===0&&(M=!1),E.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(M=!1),M},R=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var M=E.indexOf(",");return M<0?null:E.substring(0,M).trim().endsWith("base64")?E.substring(M+1):null},q=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return q()&&E instanceof ArrayBuffer};var H=e.__addimage__.isArrayBufferView=function(E){return q()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},D=e.__addimage__.binaryStringToUint8Array=function(E){for(var M=E.length,K=new Uint8Array(M),z=0;z<M;z++)K[z]=E.charCodeAt(z);return K},T=e.__addimage__.arrayBufferToBinaryString=function(E){for(var M="",K=H(E)?E:new Uint8Array(E),z=0;z<K.length;z+=8192)M+=String.fromCharCode.apply(null,K.subarray(z,z+8192));return M};e.addImage=function(){var E,M,K,z,le,ie,he,G,ae;if(typeof arguments[1]=="number"?(M=t,K=arguments[1],z=arguments[2],le=arguments[3],ie=arguments[4],he=arguments[5],G=arguments[6],ae=arguments[7]):(M=arguments[1],K=arguments[2],z=arguments[3],le=arguments[4],ie=arguments[5],he=arguments[6],G=arguments[7],ae=arguments[8]),Ft(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var Y=E;E=Y.imageData,M=Y.format||M||t,K=Y.x||K||0,z=Y.y||z||0,le=Y.w||Y.width||le,ie=Y.h||Y.height||ie,he=Y.alias||he,G=Y.compression||G,ae=Y.rotation||Y.angle||ae}var me=this.internal.getFilters();if(G===void 0&&me.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(K)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var A=J.call(this,E,M,he,G);return S.call(this,K,z,le,ie,A,ae),this};var J=function(E,M,K,z){var le,ie,he;if(typeof E=="string"&&r(E)===t){E=unescape(E);var G=Z(E,!1);(G!==""||(G=e.loadFile(E,!0))!==void 0)&&(E=G)}if(f(E)&&(E=v(E,M)),M=r(E,M),!p(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((he=K)==null||he.length===0)&&(K=function(ae){return typeof ae=="string"||H(ae)?x(ae):H(ae.data)?x(ae.data):null}(E)),(le=m.call(this,K))||(q()&&(E instanceof Uint8Array||M==="RGBA"||(ie=E,E=D(E))),le=this["process"+M.toUpperCase()](E,d.call(this),K,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in e.image_compression?ae:b.NONE}(z),ie)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},Z=e.__addimage__.convertBase64ToBinaryString=function(E,M){M=typeof M!="boolean"||M;var K,z="";if(typeof E=="string"){var le;K=(le=R(E))!==null&&le!==void 0?le:E;try{z=Dc(K)}catch(ie){if(M)throw j(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};e.getImageProperties=function(E){var M,K,z="";if(f(E)&&(E=v(E)),typeof E=="string"&&r(E)===t&&((z=Z(E,!1))===""&&(z=e.loadFile(E)||""),E=z),K=r(E),!p(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!q()||E instanceof Uint8Array||(E=D(E)),!(M=this["process"+K.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=K,M}})(rt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};rt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,p=!1,f=0;f<d.length&&!p;f++)switch((r=d[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var v=0;v<d.length;v++){r=d[v];var m=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(S.objId),x=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+m(b(r.contents))+")",a+=" /Popup "+k.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+m(b(x))+") >>",S.content=a;var j=S.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(a+=" /Open true"),a+=" >>",k.content=a,this.internal.write(S.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(w(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var H=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+H+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(n),y:d(r),w:c(n+i),h:d(r+a)},options:s,type:"link"})},e.textWithLink=function(n,r,i,a){var s,o,c=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var p=this.splitTextToSize(n,o).length;s=Math.ceil(d*p)}else o=c,s=d;return this.text(n,r,i,a),i+=.2*d,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-d,o,s,a),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(rt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(S){return t[S.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},o=e.__arabicParser__.isArabicEndLetter=function(S){return s(S)&&a(S)&&t[S.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(S){return s(S)&&i.indexOf(S.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return s(S)&&a(S)&&t[S.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(S){return s(S)&&a(S)&&t[S.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(S){return s(S)&&a(S)&&t[S.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(S){return s(S)&&a(S)&&t[S.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(S){var k=0,b=n,x="",j=0;for(k=0;k<S.length;k+=1)b[S.charCodeAt(k)]!==void 0?(j++,typeof(b=b[S.charCodeAt(k)])=="number"&&(x+=String.fromCharCode(b),b=n,j=0),k===S.length-1&&(b=n,x+=S.charAt(k-(j-1)),k-=j-1,j=0)):(b=n,x+=S.charAt(k-j),k-=j,j=0);return x};e.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var v=e.__arabicParser__.getCorrectForm=function(S,k,b){return s(S)?a(S)===!1?-1:!d(S)||!s(k)&&!s(b)||!s(b)&&o(k)||o(S)&&!s(k)||o(S)&&c(k)||o(S)&&o(k)?0:p(S)&&s(k)&&!o(k)&&s(b)&&d(b)?3:o(S)||!s(b)?1:2:-1},m=function(S){var k=0,b=0,x=0,j="",R="",q="",H=(S=S||"").split("\\s+"),D=[];for(k=0;k<H.length;k+=1){for(D.push(""),b=0;b<H[k].length;b+=1)j=H[k][b],R=H[k][b-1],q=H[k][b+1],s(j)?(x=v(j,R,q),D[k]+=x!==-1?String.fromCharCode(t[j.charCodeAt(0)][x]):j):D[k]+=j;D[k]=f(D[k])}return D.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var S,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(k)){var x=0;for(b=[],x=0;x<k.length;x+=1)Array.isArray(k[x])?b.push([m(k[x][0]),k[x][1],k[x][2]]):b.push([m(k[x])]);S=b}else S=m(k);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};e.events.push(["preProcessText",w])}(rt.API),rt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(rt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(S){w=S}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){r.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),v=d.scaleFactor||this.internal.scaleFactor,m=0,w=0,S=0,k=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=d.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,R){return j.concat(k.splitTextToSize(R,b))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)m<(S=this.getStringUnitWidth(c[x],{font:f})*p)&&(m=S);return m!==0&&(w=c.length),{w:m/=v,h:Math.max((w*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/v,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,v=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&v&&(this.printHeaderRow(c.lineNumber,!0),c.y+=v[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,p,f,v){if(r.call(this),!p)throw new Error("No data for PDF table.");var m,w,S,k,b=[],x=[],j=[],R={},q={},H=[],D=[],T=(v=v||{}).autoSize||!1,J=v.printHeaders!==!1,Z=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,E=v.margins||Object.assign({width:this.getPageWidth()},t),M=typeof v.padding=="number"?v.padding:3,K=v.headerBackgroundColor||"#c8c8c8",z=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=J,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=z,this.setFontSize(Z),f==null)x=b=Object.keys(p[0]),j=b.map(function(){return"left"});else if(Array.isArray(f)&&Ft(f[0])==="object")for(b=f.map(function(Y){return Y.name}),x=f.map(function(Y){return Y.prompt||Y.name||""}),j=f.map(function(Y){return Y.align||"left"}),m=0;m<f.length;m+=1)q[f[m].name]=f[m].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=b=f,j=b.map(function(){return"left"}));if(T||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<b.length;m+=1){for(R[k=b[m]]=p.map(function(Y){return Y[k]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(x[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=R[k],this.setFont(void 0,"normal"),S=0;S<w.length;S+=1)H.push(this.getTextDimensions(w[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[k]=Math.max.apply(null,H)+M+M,H=[]}if(J){var le={};for(m=0;m<b.length;m+=1)le[b[m]]={},le[b[m]].text=x[m],le[b[m]].align=j[m];var ie=o.call(this,le,q);D=b.map(function(Y){return new a(c,d,q[Y],ie,le[Y].text,void 0,le[Y].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var he=f.reduce(function(Y,me){return Y[me.name]=me.align,Y},{});for(m=0;m<p.length;m+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:m,data:p[m]},this);var G=o.call(this,p[m],q);for(S=0;S<b.length;S+=1){var ae=p[m][b[S]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:m,col:S,data:ae},this),s.call(this,new a(c,d,q[b[S]],G,ae,m+2,he[b[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var p=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(c).map(function(m){var w=c[m];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,d[m]-p-p)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/v+p+p},this).reduce(function(m,w){return Math.max(m,w)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){p=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,v.push(p)),p.lineNumber=c;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,p),this.setTextColor(w)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),n=!1}}(rt.API);var u3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},d3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],h1=c3(d3),h3=[100,200,300,400,500,600,700,800,900],S7=c3(h3);function f1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return u3[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof h1[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function y5(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var N7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},b5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function x5(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function j7(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},N7,n.genericFontFamilies||{}),a=null,s=null,o=0;o<t.length;++o)if(i[(a=f1(t[o])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){s=e[a.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+x5(a)+"' and default family '"+r+"'.");if(s=function(c,d){if(d[c])return d[c];var p=h1[c],f=p<=h1.normal?-1:1,v=y5(d,d3,p,f);if(!v)throw new Error("Could not find a matching font-stretch value for "+c);return v}(a.stretch,s),s=function(c,d){if(d[c])return d[c];for(var p=u3[c],f=0;f<p.length;++f)if(d[p[f]])return d[p[f]];throw new Error("Could not find a matching font-style for "+c)}(a.style,s),!(s=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var p=S7[c],f=y5(d,h3,p,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+x5(a)+"'.");return s}function w5(e){return e.trimLeft()}function k7(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function A7(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Cd,S5,N5,j5=["times"];(function(e){var t,n,r,i,a,s,o,c,d,p=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new c,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new s,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new s,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new p}]);var f=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=A;Object.defineProperty(this,"pdf",{get:function(){return B}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(ve){V=!!ve}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(ve){X=!!ve}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(ve){isNaN(ve)||(Q=ve)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(ve){isNaN(ve)||(oe=ve)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ve){var $;typeof ve=="number"?$=[ve,ve,ve,ve]:(($=new Array(4))[0]=ve[0],$[1]=ve.length>=2?ve[1]:$[0],$[2]=ve.length>=3?ve[2]:$[0],$[3]=ve.length>=4?ve[3]:$[1]),d.margin=$}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(ve){ue=ve}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ve){de=ve}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(ve){be=ve}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ve){ve instanceof p&&(d=ve)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ve){d.path=ve}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(ve){we=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var $;$=v(ve),this.ctx.fillStyle=$.style,this.ctx.isFillTransparent=$.a===0,this.ctx.fillOpacity=$.a,this.pdf.setFillColor($.r,$.g,$.b,{a:$.a}),this.pdf.setTextColor($.r,$.g,$.b,{a:$.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var $=v(ve);this.ctx.strokeStyle=$.style,this.ctx.isStrokeTransparent=$.a===0,this.ctx.strokeOpacity=$.a,$.a===0?this.pdf.setDrawColor(255,255,255):($.a,this.pdf.setDrawColor($.r,$.g,$.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Te=null;function Ce(ve,$){if(Te===null){var ot=function($e){var Le=[];return Object.keys($e).forEach(function(Ee){$e[Ee].forEach(function(De){var Ie=null;switch(De){case"bold":Ie={family:Ee,weight:"bold"};break;case"italic":Ie={family:Ee,style:"italic"};break;case"bolditalic":Ie={family:Ee,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Ee}}Ie!==null&&(Ie.ref={name:Ee,style:De},Le.push(Ie))})}),Le}(ve.getFontList());Te=function($e){for(var Le={},Ee=0;Ee<$e.length;++Ee){var De=f1($e[Ee]),Ie=De.family,Ye=De.stretch,ke=De.style,We=De.weight;Le[Ie]=Le[Ie]||{},Le[Ie][Ye]=Le[Ie][Ye]||{},Le[Ie][Ye][ke]=Le[Ie][Ye][ke]||{},Le[Ie][Ye][ke][We]=De}return Le}(ot.concat($))}return Te}var Je=null;Object.defineProperty(this,"fontFaces",{get:function(){return Je},set:function(ve){Te=null,Je=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var $;if(this.ctx.font=ve,($=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var ot=$[1];$[2];var $e=$[3],Le=$[4];$[5];var Ee=$[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(De==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var Ie=function(at){var et,Oe,Pn=[],bt=at.trim();if(bt==="")return j5;if(bt in b5)return[b5[bt]];for(;bt!=="";){switch(Oe=null,et=(bt=w5(bt)).charAt(0)){case'"':case"'":Oe=k7(bt.substring(1),et);break;default:Oe=A7(bt)}if(Oe===null||(Pn.push(Oe[0]),(bt=w5(Oe[1]))!==""&&bt.charAt(0)!==","))return j5;bt=bt.replace(/^,/,"")}return Pn}(Ee);if(this.fontFaces){var Ye=j7(Ce(this.pdf,this.fontFaces),Ie.map(function(at){return{family:at,stretch:"normal",weight:$e,style:ot}}));this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var ke="";($e==="bold"||parseInt($e,10)>=700||ot==="bold")&&(ke="bold"),ot==="italic"&&(ke+="italic"),ke.length===0&&(ke="normal");for(var We="",Ke={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<Ie.length;gt++){if(this.pdf.internal.getFont(Ie[gt],ke,{noFallback:!0,disableWarning:!0})!==void 0){We=Ie[gt];break}if(ke==="bolditalic"&&this.pdf.internal.getFont(Ie[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=Ie[gt],ke="bold";else if(this.pdf.internal.getFont(Ie[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=Ie[gt],ke="normal";break}}if(We===""){for(var Ct=0;Ct<Ie.length;Ct++)if(Ke[Ie[Ct]]){We=Ke[Ie[Ct]];break}}We=We===""?"Times":We,this.pdf.setFont(We,ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};f.prototype.setLineDash=function(A){this.lineDash=A},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){R.call(this,"fill",!1)},f.prototype.stroke=function(){R.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(A,B){if(isNaN(A)||isNaN(B))throw Ot.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new s(A,B));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(A,B)},f.prototype.closePath=function(){var A=new s(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Ft(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){A=new s(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(A.x,A.y)},f.prototype.lineTo=function(A,B){if(isNaN(A)||isNaN(B))throw Ot.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new s(A,B));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},f.prototype.quadraticCurveTo=function(A,B,V,X){if(isNaN(V)||isNaN(X)||isNaN(A)||isNaN(B))throw Ot.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new s(V,X)),oe=this.ctx.transform.applyToPoint(new s(A,B));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},f.prototype.bezierCurveTo=function(A,B,V,X,Q,oe){if(isNaN(Q)||isNaN(oe)||isNaN(A)||isNaN(B)||isNaN(V)||isNaN(X))throw Ot.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new s(Q,oe)),de=this.ctx.transform.applyToPoint(new s(A,B)),be=this.ctx.transform.applyToPoint(new s(V,X));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:be.x,y2:be.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new s(ue.x,ue.y)},f.prototype.arc=function(A,B,V,X,Q,oe){if(isNaN(A)||isNaN(B)||isNaN(V)||isNaN(X)||isNaN(Q))throw Ot.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new s(A,B));A=ue.x,B=ue.y;var de=this.ctx.transform.applyToPoint(new s(0,V)),be=this.ctx.transform.applyToPoint(new s(0,0));V=Math.sqrt(Math.pow(de.x-be.x,2)+Math.pow(de.y-be.y,2))}Math.abs(Q-X)>=2*Math.PI&&(X=0,Q=2*Math.PI),this.path.push({type:"arc",x:A,y:B,radius:V,startAngle:X,endAngle:Q,counterclockwise:oe})},f.prototype.arcTo=function(A,B,V,X,Q){throw new Error("arcTo not implemented.")},f.prototype.rect=function(A,B,V,X){if(isNaN(A)||isNaN(B)||isNaN(V)||isNaN(X))throw Ot.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,B),this.lineTo(A+V,B),this.lineTo(A+V,B+X),this.lineTo(A,B+X),this.lineTo(A,B),this.lineTo(A+V,B),this.lineTo(A,B)},f.prototype.fillRect=function(A,B,V,X){if(isNaN(A)||isNaN(B)||isNaN(V)||isNaN(X))throw Ot.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,B,V,X),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},f.prototype.strokeRect=function(A,B,V,X){if(isNaN(A)||isNaN(B)||isNaN(V)||isNaN(X))throw Ot.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(A,B,V,X),this.stroke())},f.prototype.clearRect=function(A,B,V,X){if(isNaN(A)||isNaN(B)||isNaN(V)||isNaN(X))throw Ot.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,B,V,X))},f.prototype.save=function(A){A=typeof A!="boolean"||A;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},f.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(B),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(A){var B,V,X,Q;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))B=0,V=0,X=0,Q=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(oe!==null)B=parseInt(oe[1]),V=parseInt(oe[2]),X=parseInt(oe[3]),Q=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)B=parseInt(oe[1]),V=parseInt(oe[2]),X=parseInt(oe[3]),Q=parseFloat(oe[4]);else{if(Q=1,typeof A=="string"&&A.charAt(0)!=="#"){var ue=new r3(A);A=ue.ok?ue.toHex():"#000000"}A.length===4?(B=A.substring(1,2),B+=B,V=A.substring(2,3),V+=V,X=A.substring(3,4),X+=X):(B=A.substring(1,3),V=A.substring(3,5),X=A.substring(5,7)),B=parseInt(B,16),V=parseInt(V,16),X=parseInt(X,16)}}return{r:B,g:V,b:X,a:Q,style:A}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(A,B,V,X){if(isNaN(B)||isNaN(V)||typeof A!="string")throw Ot.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!m.call(this)){var Q=G(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;M.call(this,{text:A,x:B,y:V,scale:oe,angle:Q,align:this.textAlign,maxWidth:X})}},f.prototype.strokeText=function(A,B,V,X){if(isNaN(B)||isNaN(V)||typeof A!="string")throw Ot.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){X=isNaN(X)?void 0:X;var Q=G(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;M.call(this,{text:A,x:B,y:V,scale:oe,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:X})}},f.prototype.measureText=function(A){if(typeof A!="string")throw Ot.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,V=this.pdf.internal.scaleFactor,X=B.internal.getFontSize(),Q=B.getStringUnitWidth(A)*X/B.internal.scaleFactor,oe=function(ue){var de=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new oe({width:Q*=Math.round(96*V/72*1e4)/1e4})},f.prototype.scale=function(A,B){if(isNaN(A)||isNaN(B))throw Ot.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new c(A,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.rotate=function(A){if(isNaN(A))throw Ot.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new c(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.translate=function(A,B){if(isNaN(A)||isNaN(B))throw Ot.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new c(1,0,0,1,A,B);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.transform=function(A,B,V,X,Q,oe){if(isNaN(A)||isNaN(B)||isNaN(V)||isNaN(X)||isNaN(Q)||isNaN(oe))throw Ot.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new c(A,B,V,X,Q,oe);this.ctx.transform=this.ctx.transform.multiply(ue)},f.prototype.setTransform=function(A,B,V,X,Q,oe){A=isNaN(A)?1:A,B=isNaN(B)?0:B,V=isNaN(V)?0:V,X=isNaN(X)?1:X,Q=isNaN(Q)?0:Q,oe=isNaN(oe)?0:oe,this.ctx.transform=new c(A,B,V,X,Q,oe)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(A,B,V,X,Q,oe,ue,de,be){var we=this.pdf.getImageProperties(A),Te=1,Ce=1,Je=1,ve=1;X!==void 0&&de!==void 0&&(Je=de/X,ve=be/Q,Te=we.width/X*de/X,Ce=we.height/Q*be/Q),oe===void 0&&(oe=B,ue=V,B=0,V=0),X!==void 0&&de===void 0&&(de=X,be=Q),X===void 0&&de===void 0&&(de=we.width,be=we.height);for(var $,ot=this.ctx.transform.decompose(),$e=G(ot.rotate.shx),Le=new c,Ee=(Le=(Le=(Le=Le.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale)).applyToRectangle(new o(oe-B*Je,ue-V*ve,X*Te,Q*Ce)),De=k.call(this,Ee),Ie=[],Ye=0;Ye<De.length;Ye+=1)Ie.indexOf(De[Ye])===-1&&Ie.push(De[Ye]);if(j(Ie),this.autoPaging)for(var ke=Ie[0],We=Ie[Ie.length-1],Ke=ke;Ke<We+1;Ke++){this.pdf.setPage(Ke);var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=Ke===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Oe=Ke===1?0:at+(Ke-2)*et;if(this.ctx.clip_path.length!==0){var Pn=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x($,this.posX+this.margin[3],-Oe+Ct+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Pn}var bt=JSON.parse(JSON.stringify(Ee));bt=x([bt],this.posX+this.margin[3],-Oe+Ct+this.ctx.prevPageLastElemOffset)[0];var _r=(Ke>ke||Ke<We)&&S.call(this);_r&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,et,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",bt.x,bt.y,bt.w,bt.h,null,null,$e),_r&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,$e)};var k=function(A,B,V){var X=[];B=B||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":X.push(Math.floor((A.y+Q)/V)+1);break;case"arc":X.push(Math.floor((A.y+Q-A.radius)/V)+1),X.push(Math.floor((A.y+Q+A.radius)/V)+1);break;case"qct":var oe=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);X.push(Math.floor((oe.y+Q)/V)+1),X.push(Math.floor((oe.y+oe.h+Q)/V)+1);break;case"bct":var ue=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);X.push(Math.floor((ue.y+Q)/V)+1),X.push(Math.floor((ue.y+ue.h+Q)/V)+1);break;case"rect":X.push(Math.floor((A.y+Q)/V)+1),X.push(Math.floor((A.y+A.h+Q)/V)+1)}for(var de=0;de<X.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<X[de];)b.call(this);return X},b=function(){var A=this.fillStyle,B=this.strokeStyle,V=this.font,X=this.lineCap,Q=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=B,this.font=V,this.lineCap=X,this.lineWidth=Q,this.lineJoin=oe},x=function(A,B,V){for(var X=0;X<A.length;X++)switch(A[X].type){case"bct":A[X].x2+=B,A[X].y2+=V;case"qct":A[X].x1+=B,A[X].y1+=V;case"mt":case"lt":case"arc":default:A[X].x+=B,A[X].y+=V}return A},j=function(A){return A.sort(function(B,V){return B-V})},R=function(A,B){for(var V,X,Q=this.fillStyle,oe=this.strokeStyle,ue=this.lineCap,de=this.lineWidth,be=Math.abs(de*this.ctx.transform.scaleX),we=this.lineJoin,Te=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),Je=[],ve=0;ve<Ce.length;ve++)if(Ce[ve].x!==void 0)for(var $=k.call(this,Ce[ve]),ot=0;ot<$.length;ot+=1)Je.indexOf($[ot])===-1&&Je.push($[ot]);for(var $e=0;$e<Je.length;$e++)for(;this.pdf.internal.getNumberOfPages()<Je[$e];)b.call(this);if(j(Je),this.autoPaging)for(var Le=Je[0],Ee=Je[Je.length-1],De=Le;De<Ee+1;De++){this.pdf.setPage(De),this.fillStyle=Q,this.strokeStyle=oe,this.lineCap=ue,this.lineWidth=be,this.lineJoin=we;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=De===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=De===1?0:ke+(De-2)*We;if(this.ctx.clip_path.length!==0){var gt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(V,this.posX+this.margin[3],-Ke+Ye+this.ctx.prevPageLastElemOffset),q.call(this,A,!0),this.path=gt}if(X=JSON.parse(JSON.stringify(Te)),this.path=x(X,this.posX+this.margin[3],-Ke+Ye+this.ctx.prevPageLastElemOffset),B===!1||De===0){var Ct=(De>Le||De<Ee)&&S.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,We,null).clip().discardPath()),q.call(this,A,B),Ct&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=be,q.call(this,A,B),this.lineWidth=de;this.path=Te},q=function(A,B){if((A!=="stroke"||B||!w.call(this))&&(A==="stroke"||B||!m.call(this))){for(var V,X,Q=[],oe=this.path,ue=0;ue<oe.length;ue++){var de=oe[ue];switch(de.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:de,deltas:[],abs:[]});break;case"lt":var be=Q.length;if(oe[ue-1]&&!isNaN(oe[ue-1].x)&&(V=[de.x-oe[ue-1].x,de.y-oe[ue-1].y],be>0)){for(;be>=0;be--)if(Q[be-1].close!==!0&&Q[be-1].begin!==!0){Q[be-1].deltas.push(V),Q[be-1].abs.push(de);break}}break;case"bct":V=[de.x1-oe[ue-1].x,de.y1-oe[ue-1].y,de.x2-oe[ue-1].x,de.y2-oe[ue-1].y,de.x-oe[ue-1].x,de.y-oe[ue-1].y],Q[Q.length-1].deltas.push(V);break;case"qct":var we=oe[ue-1].x+2/3*(de.x1-oe[ue-1].x),Te=oe[ue-1].y+2/3*(de.y1-oe[ue-1].y),Ce=de.x+2/3*(de.x1-de.x),Je=de.y+2/3*(de.y1-de.y),ve=de.x,$=de.y;V=[we-oe[ue-1].x,Te-oe[ue-1].y,Ce-oe[ue-1].x,Je-oe[ue-1].y,ve-oe[ue-1].x,$-oe[ue-1].y],Q[Q.length-1].deltas.push(V);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(de)}}X=B?null:A==="stroke"?"stroke":"fill";for(var ot=!1,$e=0;$e<Q.length;$e++)if(Q[$e].arc)for(var Le=Q[$e].abs,Ee=0;Ee<Le.length;Ee++){var De=Le[Ee];De.type==="arc"?T.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,B,!ot):K.call(this,De.x,De.y),ot=!0}else if(Q[$e].close===!0)this.pdf.internal.out("h"),ot=!1;else if(Q[$e].begin!==!0){var Ie=Q[$e].start.x,Ye=Q[$e].start.y;z.call(this,Q[$e].deltas,Ie,Ye),ot=!0}X&&J.call(this,X),B&&Z.call(this)}},H=function(A){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-V;case"top":return A+B-V;case"hanging":return A+B-2*V;case"middle":return A+B/2-V;case"ideographic":return A;case"alphabetic":default:return A}},D=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(B,V){this.colorStops.push([B,V])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(A,B,V,X,Q,oe,ue,de,be){for(var we=ie.call(this,V,X,Q,oe),Te=0;Te<we.length;Te++){var Ce=we[Te];Te===0&&(be?E.call(this,Ce.x1+A,Ce.y1+B):K.call(this,Ce.x1+A,Ce.y1+B)),le.call(this,A,B,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}de?Z.call(this):J.call(this,ue)},J=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(A,B){this.pdf.internal.out(n(A)+" "+r(B)+" m")},M=function(A){var B;switch(A.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var V=this.pdf.getTextDimensions(A.text),X=H.call(this,A.y),Q=D.call(this,X)-V.h,oe=this.ctx.transform.applyToPoint(new s(A.x,X)),ue=this.ctx.transform.decompose(),de=new c;de=(de=(de=de.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var be,we,Te,Ce=this.ctx.transform.applyToRectangle(new o(A.x,X,V.w,V.h)),Je=de.applyToRectangle(new o(A.x,Q,V.w,V.h)),ve=k.call(this,Je),$=[],ot=0;ot<ve.length;ot+=1)$.indexOf(ve[ot])===-1&&$.push(ve[ot]);if(j($),this.autoPaging)for(var $e=$[0],Le=$[$.length-1],Ee=$e;Ee<Le+1;Ee++){this.pdf.setPage(Ee);var De=Ee===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],ke=Ye-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],Ke=We-this.margin[3],gt=Ee===1?0:Ie+(Ee-2)*ke;if(this.ctx.clip_path.length!==0){var Ct=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(be,this.posX+this.margin[3],-1*gt+De),q.call(this,"fill",!0),this.path=Ct}var at=x([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-gt+De+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*A.scale),Te=this.lineWidth,this.lineWidth=Te*A.scale);var et=this.autoPaging!=="text";if(et||at.y+at.h<=Ye){if(et||at.y>=De&&at.x<=We){var Oe=et?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||We-at.x)[0],Pn=x([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-gt+De+this.ctx.prevPageLastElemOffset)[0],bt=et&&(Ee>$e||Ee<Le)&&S.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,ke,null).clip().discardPath()),this.pdf.text(Oe,Pn.x,Pn.y,{angle:A.angle,align:B,renderingMode:A.renderingMode}),bt&&this.pdf.restoreGraphicsState()}}else at.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-at.y);A.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=Te)}else A.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*A.scale),Te=this.lineWidth,this.lineWidth=Te*A.scale),this.pdf.text(A.text,oe.x+this.posX,oe.y+this.posY,{angle:A.angle,align:B,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=Te)},K=function(A,B,V,X){V=V||0,X=X||0,this.pdf.internal.out(n(A+V)+" "+r(B+X)+" l")},z=function(A,B,V){return this.pdf.lines(A,B,V,null,null)},le=function(A,B,V,X,Q,oe,ue,de){this.pdf.internal.out([t(i(V+A)),t(a(X+B)),t(i(Q+A)),t(a(oe+B)),t(i(ue+A)),t(a(de+B)),"c"].join(" "))},ie=function(A,B,V,X){for(var Q=2*Math.PI,oe=Math.PI/2;B>V;)B-=Q;var ue=Math.abs(V-B);ue<Q&&X&&(ue=Q-ue);for(var de=[],be=X?-1:1,we=B;ue>1e-5;){var Te=we+be*Math.min(ue,oe);de.push(he.call(this,A,we,Te)),ue-=Math.abs(Te-we),we=Te}return de},he=function(A,B,V){var X=(V-B)/2,Q=A*Math.cos(X),oe=A*Math.sin(X),ue=Q,de=-oe,be=ue*ue+de*de,we=be+ue*Q+de*oe,Te=4/3*(Math.sqrt(2*be*we)-we)/(ue*oe-de*Q),Ce=ue-Te*de,Je=de+Te*ue,ve=Ce,$=-Je,ot=X+B,$e=Math.cos(ot),Le=Math.sin(ot);return{x1:A*Math.cos(B),y1:A*Math.sin(B),x2:Ce*$e-Je*Le,y2:Ce*Le+Je*$e,x3:ve*$e-$*Le,y3:ve*Le+$*$e,x4:A*Math.cos(V),y4:A*Math.sin(V)}},G=function(A){return 180*A/Math.PI},ae=function(A,B,V,X,Q,oe){var ue=A+.5*(V-A),de=B+.5*(X-B),be=Q+.5*(V-Q),we=oe+.5*(X-oe),Te=Math.min(A,Q,ue,be),Ce=Math.max(A,Q,ue,be),Je=Math.min(B,oe,de,we),ve=Math.max(B,oe,de,we);return new o(Te,Je,Ce-Te,ve-Je)},Y=function(A,B,V,X,Q,oe,ue,de){var be,we,Te,Ce,Je,ve,$,ot,$e,Le,Ee,De,Ie,Ye,ke=V-A,We=X-B,Ke=Q-V,gt=oe-X,Ct=ue-Q,at=de-oe;for(we=0;we<41;we++)$e=($=(Te=A+(be=we/40)*ke)+be*((Je=V+be*Ke)-Te))+be*(Je+be*(Q+be*Ct-Je)-$),Le=(ot=(Ce=B+be*We)+be*((ve=X+be*gt)-Ce))+be*(ve+be*(oe+be*at-ve)-ot),we==0?(Ee=$e,De=Le,Ie=$e,Ye=Le):(Ee=Math.min(Ee,$e),De=Math.min(De,Le),Ie=Math.max(Ie,$e),Ye=Math.max(Ye,Le));return new o(Math.round(Ee),Math.round(De),Math.round(Ie-Ee),Math.round(Ye-De))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,B,V=(A=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:B}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(rt.API),function(e){var t=function(a){var s,o,c,d,p,f,v,m,w,S;for(o=[],c=0,d=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(p=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(f=(p=((p=((p=((p=(p-(S=p%85))/85)-(w=p%85))/85)-(m=p%85))/85)-(v=p%85))/85)%85,o.push(f+33,v+33,m+33,w+33,S+33)):o.push(122);return function(k,b){for(var x=b;x>0;x--)k.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},n=function(a){var s,o,c,d,p,f=String,v="length",m=255,w="charCodeAt",S="slice",k="replace";for(a[S](-2),a=a[S](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),c=[],d=0,p=(a+=s="uuuuu"[S](a[v]%5||5))[v];p>d;d+=5)o=52200625*(a[w](d)-33)+614125*(a[w](d+1)-33)+7225*(a[w](d+2)-33)+85*(a[w](d+3)-33)+(a[w](d+4)-33),c.push(m&o>>24,m&o>>16,m&o>>8,m&o);return function(b,x){for(var j=x;j>0;j--)b.pop()}(c,s[v]),f.fromCharCode.apply(f,c)},r=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var o="",c=0;c<a.length;c+=2)o+=String.fromCharCode("0x"+(a[c]+a[c+1]));return o},i=function(a){for(var s=new Uint8Array(a.length),o=a.length;o--;)s[o]=a.charCodeAt(o);return a=(s=o1(s)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,s){var o=0,c=a||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(rt.API),function(e){e.loadFile=function(t,n,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(c,d,p){var f=new XMLHttpRequest,v=0,m=function(w){var S=w.length,k=[],b=String.fromCharCode;for(v=0;v<S;v+=1)k.push(b(255&w.charCodeAt(v)));return k.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?p(m(this.responseText)):p(void 0)}),f.send(null),d&&f.status===200)return m(f.responseText)}(i,a,s)}catch{}return o}(t,n,r)},e.loadImageFile=e.loadFile}(rt.API),function(e){function t(){return(st.html2canvas?Promise.resolve(st.html2canvas):Mc(()=>ih(()=>import("./html2canvas.esm-e0a7d97b-57644866.js"),[]),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function n(){return(st.DOMPurify?Promise.resolve(st.DOMPurify):Mc(()=>ih(()=>import("./purify.es-31816194-ea228b00.js"),[]),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var o=Ft(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(s,o){var c=document.createElement(s);for(var d in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[d]=o.style[d];return c},a=function s(o){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,s,1,[s])).set(o)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,o){return s.__proto__=o||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(d,p){for(var f=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),v=d.firstChild;v;v=v.nextSibling)p!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||f.appendChild(c(v,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(f.width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(f.value=d.value),f.addEventListener("load",function(){f.scrollTop=d.scrollTop,f.scrollLeft=d.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var c=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var v=0;v<d.length;++v){var m=d[v],w=m.src.find(function(S){return S.format==="truetype"});w&&c.addFont(w.url,m.ref.name,m.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},a.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(r(s)!=="object")return this;var o=Object.keys(s||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(o)})},a.prototype.get=function(s,o){return this.then(function(){var c=s in a.template.prop?this.prop[s]:this.opt[s];return o?o(c):c})},a.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function o(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(s=s||rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,o,c,d){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,o,c,d){return this.setProgress(s?this.progress.val+s:null,o||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(s,o){var c=this;return this.thenCore(s,o,function(d,p){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,d),f}).then(d,p).then(function(f){return c.updateProgress(1),f})})},a.prototype.thenCore=function(s,o,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),p=c.call(d,s,o);return a.convert(p,this.__proto__)},a.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},a.prototype.thenList=function(s){var o=this;return s.forEach(function(c){o=o.thenCore(c)}),o},a.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return a.convert(o,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,rt.getPageSize=function(s,o,c){if(Ft(s)==="object"){var d=s;s=d.orientation,o=d.unit||o,c=d.format||c}o=o||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var p,f=(""+c).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+o}var m,w=0,S=0;if(v.hasOwnProperty(f))w=v[f][1]/p,S=v[f][0]/p;else try{w=c[1],S=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",S>w&&(m=S,S=w,w=m);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",w>S&&(m=S,S=w,w=m)}return{width:S,height:w,unit:o,k:p,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(f1):null;var c=new a(o);return o.worker?c:c.from(s).doCallback()}}(rt.API),rt.API.addJS=function(e){return N5=e,this.internal.events.subscribe("postPutResources",function(){Cd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Cd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),S5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+N5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Cd!==void 0&&S5!==void 0&&this.internal.out("/Names <</JavaScript "+Cd+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=r.exec(s);if(o!=null){var c=o[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(a=0;a<d;a++){var f=n.internal.newObject();p.push(f);var v=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<p.length;a++)n.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(rt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,s,o){var c,d=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(f){for(var v,m=256*f.charCodeAt(4)+f.charCodeAt(5),w=f.length,S={width:0,height:0,numcomponents:1},k=4;k<w;k+=2){if(k+=m,t.indexOf(f.charCodeAt(k+1))!==-1){v=256*f.charCodeAt(k+5)+f.charCodeAt(k+6),S={width:256*f.charCodeAt(k+7)+f.charCodeAt(k+8),height:v,numcomponents:f.charCodeAt(k+9)};break}m=256*f.charCodeAt(k+2)+f.charCodeAt(k+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}p={data:n,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:r,alias:i}}return p}}(rt.API);var Po,Pd,k5,A5,L5,L7=function(){var e,t,n;function r(a){var s,o,c,d,p,f,v,m,w,S,k,b,x,j;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),w=(function(){var R,q;for(q=[],R=0;R<4;++R)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),d=this.readUInt16()||100,f.delay=1e3*p/d,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,s-=4),a=(f!=null?f.data:void 0)||this.imgData,b=0;0<=s?b<s:b>s;0<=s?++b:--b)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((S=c-this.transparency.indexed.length)>0)for(x=0;0<=S?x<S:x>S;0<=S?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":v=(k=this.read(s)).indexOf(0),m=String.fromCharCode.apply(String,k.slice(0,v)),this.text[m]=String.fromCharCode.apply(String,k.slice(v+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var s,o;for(o=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),c=0,d=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function p(f,v,m,w){var S,k,b,x,j,R,q,H,D,T,J,Z,E,M,K,z,le,ie,he,G,ae,Y=Math.ceil((d.width-f)/m),me=Math.ceil((d.height-v)/w),A=d.width==Y&&d.height==me;for(M=s*Y,Z=A?o:new Uint8Array(M*me),R=a.length,E=0,k=0;E<me&&c<R;){switch(a[c++]){case 0:for(x=le=0;le<M;x=le+=1)Z[k++]=a[c++];break;case 1:for(x=ie=0;ie<M;x=ie+=1)S=a[c++],j=x<s?0:Z[k-s],Z[k++]=(S+j)%256;break;case 2:for(x=he=0;he<M;x=he+=1)S=a[c++],b=(x-x%s)/s,K=E&&Z[(E-1)*M+b*s+x%s],Z[k++]=(K+S)%256;break;case 3:for(x=G=0;G<M;x=G+=1)S=a[c++],b=(x-x%s)/s,j=x<s?0:Z[k-s],K=E&&Z[(E-1)*M+b*s+x%s],Z[k++]=(S+Math.floor((j+K)/2))%256;break;case 4:for(x=ae=0;ae<M;x=ae+=1)S=a[c++],b=(x-x%s)/s,j=x<s?0:Z[k-s],E===0?K=z=0:(K=Z[(E-1)*M+b*s+x%s],z=b&&Z[(E-1)*M+(b-1)*s+x%s]),q=j+K-z,H=Math.abs(q-j),T=Math.abs(q-K),J=Math.abs(q-z),D=H<=T&&H<=J?j:T<=J?K:z,Z[k++]=(S+D)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!A){var B=((v+E*w)*d.width+f)*s,V=E*M;for(x=0;x<Y;x+=1){for(var X=0;X<s;X+=1)o[B++]=Z[V++];B+=(m-1)*s}}E++}}return a=a7(a),d.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),o},r.prototype.decodePalette=function(){var a,s,o,c,d,p,f,v,m;for(o=this.palette,p=this.transparency.indexed||[],d=new Uint8Array((p.length||0)+o.length),c=0,a=0,s=f=0,v=o.length;f<v;s=f+=3)d[c++]=o[s],d[c++]=o[s+1],d[c++]=o[s+2],d[c++]=(m=p[a++])!=null?m:255;return d},r.prototype.copyToImageData=function(a,s){var o,c,d,p,f,v,m,w,S,k,b;if(c=this.colors,S=null,o=this.hasAlphaChannel,this.palette.length&&(S=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),c=4,o=!0),w=(d=a.data||a).length,f=S||s,p=v=0,c===1)for(;p<w;)m=S?4*s[p/4]:v,k=f[m++],d[p++]=k,d[p++]=k,d[p++]=k,d[p++]=o?f[m++]:255,v=m;else for(;p<w;)m=S?4*s[p/4]:v,d[p++]=f[m++],d[p++]=f[m++],d[p++]=f[m++],d[p++]=o?f[m++]:255,v=m},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(st)==="[object Window]"){try{t=st.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var s;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var s,o,c,d,p,f,v,m;if(this.animation){for(m=[],o=p=0,f=(v=this.animation.frames).length;p<f;o=++p)s=v[o],c=a.createImageData(s.width,s.height),d=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,d),s.imageData=c,m.push(s.image=e(c));return m}},r.prototype.renderFrame=function(a,s){var o,c,d;return o=(c=this.animation.frames)[s],d=c[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?a.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&a.putImageData(d.imageData,d.xOffset,d.yOffset),o.blendOp===0&&a.clearRect(o.xOffset,o.yOffset,o.width,o.height),a.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(a){var s,o,c,d,p,f,v=this;return o=0,f=this.animation,d=f.numFrames,c=f.frames,p=f.numPlays,(s=function(){var m,w;if(m=o++%d,w=c[m],v.renderFrame(a,m),d>1&&o/d<p)return v.animation._timeout=setTimeout(s,w.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var s,o;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},r}();/**
* @license
*
* Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
*
* Permission is hereby granted, free of charge, to any person obtaining
* a copy of this software and associated documentation files (the
* "Software"), to deal in the Software without restriction, including
* without limitation the rights to use, copy, modify, merge, publish,
* distribute, sublicense, and/or sell copies of the Software, and to
* permit persons to whom the Software is furnished to do so, subject to
* the following conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
* MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
* LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
* OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
* WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
* ====================================================================
*//**
* @license
* (c) Dean McNamee <dean@gmail.com>, 2013.
*
* https://github.com/deanm/omggif
*
* Permission is hereby granted, free of charge, to any person obtaining a copy
* of this software and associated documentation files (the "Software"), to
* deal in the Software without restriction, including without limitation the
* rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
* sell copies of the Software, and to permit persons to whom the Software is
* furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in
* all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
* IN THE SOFTWARE.
*
* omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
* including animation and compression.  It does not rely on any specific
* underlying system, so should run in the browser, Node, or Plask.
*/function C7(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<(7&i)+1;e[t++],e[t++];var o=null,c=null;a&&(o=t,c=s,t+=3*s);var d=!0,p=[],f=0,v=null,m=0,w=null;for(this.width=n,this.height=r;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var S=e[t++];f=e[t++]|e[t++]<<8,v=e[t++],!(1&S)&&(v=null),m=S>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var k=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,R=e[t++],q=R>>6&1,H=1<<(7&R)+1,D=o,T=c,J=!1;R>>7&&(J=!0,D=t,T=H,t+=3*H);var Z=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}p.push({x:k,y:b,width:x,height:j,has_local_palette:J,palette_offset:D,palette_size:T,data_offset:Z,data_length:t-Z,transparent_index:v,interlaced:!!q,delay:f,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return w},this.frameInfo=function(M){if(M<0||M>=p.length)throw new Error("Frame index out of range.");return p[M]},this.decodeAndBlitFrameBGRA=function(M,K){var z=this.frameInfo(M),le=z.width*z.height,ie=new Uint8Array(le);C5(e,z.data_offset,ie,le);var he=z.palette_offset,G=z.transparent_index;G===null&&(G=256);var ae=z.width,Y=n-ae,me=ae,A=4*(z.y*n+z.x),B=4*((z.y+z.height)*n+z.x),V=A,X=4*Y;z.interlaced===!0&&(X+=4*n*7);for(var Q=8,oe=0,ue=ie.length;oe<ue;++oe){var de=ie[oe];if(me===0&&(me=ae,(V+=X)>=B&&(X=4*Y+4*n*(Q-1),V=A+(ae+Y)*(Q<<1),Q>>=1)),de===G)V+=4;else{var be=e[he+3*de],we=e[he+3*de+1],Te=e[he+3*de+2];K[V++]=Te,K[V++]=we,K[V++]=be,K[V++]=255}--me}},this.decodeAndBlitFrameRGBA=function(M,K){var z=this.frameInfo(M),le=z.width*z.height,ie=new Uint8Array(le);C5(e,z.data_offset,ie,le);var he=z.palette_offset,G=z.transparent_index;G===null&&(G=256);var ae=z.width,Y=n-ae,me=ae,A=4*(z.y*n+z.x),B=4*((z.y+z.height)*n+z.x),V=A,X=4*Y;z.interlaced===!0&&(X+=4*n*7);for(var Q=8,oe=0,ue=ie.length;oe<ue;++oe){var de=ie[oe];if(me===0&&(me=ae,(V+=X)>=B&&(X=4*Y+4*n*(Q-1),V=A+(ae+Y)*(Q<<1),Q>>=1)),de===G)V+=4;else{var be=e[he+3*de],we=e[he+3*de+1],Te=e[he+3*de+2];K[V++]=be,K[V++]=we,K[V++]=Te,K[V++]=255}--me}}}function C5(e,t,n,r){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,c=i+1,d=(1<<c)-1,p=0,f=0,v=0,m=e[t++],w=new Int32Array(4096),S=null;;){for(;p<16&&m!==0;)f|=e[t++]<<p,p+=8,m===1?m=e[t++]:--m;if(p<c)break;var k=f&d;if(f>>=c,p-=c,k!==a){if(k===s)break;for(var b=k<o?k:S,x=0,j=b;j>a;)j=w[j]>>8,++x;var R=j;if(v+x+(b!==k?1:0)>r)return void Ot.log("Warning, gif stream longer than expected.");n[v++]=R;var q=v+=x;for(b!==k&&(n[v++]=R),j=b;x--;)j=w[j],n[--q]=255&j,j>>=8;S!==null&&o<4096&&(w[o++]=S<<8|R,o>=d+1&&c<12&&(++c,d=d<<1|1)),S=k}else o=s+1,d=(1<<(c=i+1))-1,S=null}return v!==r&&Ot.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Wp(e){var t,n,r,i,a,s=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),p=new Array(64),f=new Array(65535),v=new Array(65535),m=new Array(64),w=new Array(64),S=[],k=0,b=7,x=new Array(64),j=new Array(64),R=new Array(64),q=new Array(256),H=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(A,B){for(var V=0,X=0,Q=new Array,oe=1;oe<=16;oe++){for(var ue=1;ue<=A[oe];ue++)Q[B[X]]=[],Q[B[X]][0]=V,Q[B[X]][1]=oe,X++,V++;V*=2}return Q}function he(A){for(var B=A[0],V=A[1]-1;V>=0;)B&1<<V&&(k|=1<<b),V--,--b<0&&(k==255?(G(255),G(0)):G(k),b=7,k=0)}function G(A){S.push(A)}function ae(A){G(A>>8&255),G(255&A)}function Y(A,B,V,X,Q){for(var oe,ue=Q[0],de=Q[240],be=function(Le,Ee){var De,Ie,Ye,ke,We,Ke,gt,Ct,at,et,Oe=0;for(at=0;at<8;++at){De=Le[Oe],Ie=Le[Oe+1],Ye=Le[Oe+2],ke=Le[Oe+3],We=Le[Oe+4],Ke=Le[Oe+5],gt=Le[Oe+6];var Pn=De+(Ct=Le[Oe+7]),bt=De-Ct,_r=Ie+gt,Pt=Ie-gt,Bt=Ye+Ke,mr=Ye-Ke,kt=ke+We,na=ke-We,Kt=Pn+kt,gr=Pn-kt,Kr=_r+Bt,Vt=_r-Bt;Le[Oe]=Kt+Kr,Le[Oe+4]=Kt-Kr;var lt=.707106781*(Vt+gr);Le[Oe+2]=gr+lt,Le[Oe+6]=gr-lt;var wt=.382683433*((Kt=na+mr)-(Vt=Pt+bt)),ra=.5411961*Kt+wt,Nn=1.306562965*Vt+wt,Er=.707106781*(Kr=mr+Pt),Xr=bt+Er,tt=bt-Er;Le[Oe+5]=tt+ra,Le[Oe+3]=tt-ra,Le[Oe+1]=Xr+Nn,Le[Oe+7]=Xr-Nn,Oe+=8}for(Oe=0,at=0;at<8;++at){De=Le[Oe],Ie=Le[Oe+8],Ye=Le[Oe+16],ke=Le[Oe+24],We=Le[Oe+32],Ke=Le[Oe+40],gt=Le[Oe+48];var Fr=De+(Ct=Le[Oe+56]),Yr=De-Ct,_n=Ie+gt,pt=Ie-gt,rn=Ye+Ke,ir=Ye-Ke,Jr=ke+We,Qr=ke-We,vr=Fr+Jr,Zr=Fr-Jr,Tr=_n+rn,ei=_n-rn;Le[Oe]=vr+Tr,Le[Oe+32]=vr-Tr;var ar=.707106781*(ei+Zr);Le[Oe+16]=Zr+ar,Le[Oe+48]=Zr-ar;var Ir=.382683433*((vr=Qr+ir)-(ei=pt+Yr)),ia=.5411961*vr+Ir,Di=1.306562965*ei+Ir,Fa=.707106781*(Tr=ir+pt),aa=Yr+Fa,Ta=Yr-Fa;Le[Oe+40]=Ta+ia,Le[Oe+24]=Ta-ia,Le[Oe+8]=aa+Di,Le[Oe+56]=aa-Di,Oe++}for(at=0;at<64;++at)et=Le[at]*Ee[at],m[at]=et>0?et+.5|0:et-.5|0;return m}(A,B),we=0;we<64;++we)w[D[we]]=be[we];var Te=w[0]-V;V=w[0],Te==0?he(X[0]):(he(X[v[oe=32767+Te]]),he(f[oe]));for(var Ce=63;Ce>0&&w[Ce]==0;)Ce--;if(Ce==0)return he(ue),V;for(var Je,ve=1;ve<=Ce;){for(var $=ve;w[ve]==0&&ve<=Ce;)++ve;var ot=ve-$;if(ot>=16){Je=ot>>4;for(var $e=1;$e<=Je;++$e)he(de);ot&=15}oe=32767+w[ve],he(Q[(ot<<4)+v[oe]]),he(f[oe]),ve++}return Ce!=63&&he(ue),V}function me(A){A=Math.min(Math.max(A,1),100),a!=A&&(function(B){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var Q=s((V[X]*B+50)/100);Q=Math.min(Math.max(Q,1),255),o[D[X]]=Q}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var de=s((oe[ue]*B+50)/100);de=Math.min(Math.max(de,1),255),c[D[ue]]=de}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,Te=0;Te<8;Te++)for(var Ce=0;Ce<8;Ce++)d[we]=1/(o[D[we]]*be[Te]*be[Ce]*8),p[we]=1/(c[D[we]]*be[Te]*be[Ce]*8),we++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),a=A)}this.encode=function(A,B){B&&me(B),S=new Array,k=0,b=7,ae(65496),ae(65504),ae(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),ae(1),ae(1),G(0),G(0),function(){ae(65499),ae(132),G(0);for(var Ie=0;Ie<64;Ie++)G(o[Ie]);G(1);for(var Ye=0;Ye<64;Ye++)G(c[Ye])}(),function(Ie,Ye){ae(65472),ae(17),G(8),ae(Ye),ae(Ie),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(A.width,A.height),function(){ae(65476),ae(418),G(0);for(var Ie=0;Ie<16;Ie++)G(T[Ie+1]);for(var Ye=0;Ye<=11;Ye++)G(J[Ye]);G(16);for(var ke=0;ke<16;ke++)G(Z[ke+1]);for(var We=0;We<=161;We++)G(E[We]);G(1);for(var Ke=0;Ke<16;Ke++)G(M[Ke+1]);for(var gt=0;gt<=11;gt++)G(K[gt]);G(17);for(var Ct=0;Ct<16;Ct++)G(z[Ct+1]);for(var at=0;at<=161;at++)G(le[at])}(),ae(65498),ae(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var V=0,X=0,Q=0;k=0,b=7,this.encode.displayName="_encode_";for(var oe,ue,de,be,we,Te,Ce,Je,ve,$=A.data,ot=A.width,$e=A.height,Le=4*ot,Ee=0;Ee<$e;){for(oe=0;oe<Le;){for(we=Le*Ee+oe,Ce=-1,Je=0,ve=0;ve<64;ve++)Te=we+(Je=ve>>3)*Le+(Ce=4*(7&ve)),Ee+Je>=$e&&(Te-=Le*(Ee+1+Je-$e)),oe+Ce>=Le&&(Te-=oe+Ce-Le+4),ue=$[Te++],de=$[Te++],be=$[Te++],x[ve]=(H[ue]+H[de+256>>0]+H[be+512>>0]>>16)-128,j[ve]=(H[ue+768>>0]+H[de+1024>>0]+H[be+1280>>0]>>16)-128,R[ve]=(H[ue+1280>>0]+H[de+1536>>0]+H[be+1792>>0]>>16)-128;V=Y(x,d,V,t,r),X=Y(j,p,X,n,i),Q=Y(R,p,Q,n,i),oe+=32}Ee+=8}if(b>=0){var De=[];De[1]=b+1,De[0]=(1<<b+1)-1,he(De)}return ae(65497),new Uint8Array(S)},e=e||50,function(){for(var A=String.fromCharCode,B=0;B<256;B++)q[B]=A(B)}(),t=ie(T,J),n=ie(M,K),r=ie(Z,E),i=ie(z,le),function(){for(var A=1,B=2,V=1;V<=15;V++){for(var X=A;X<B;X++)v[32767+X]=V,f[32767+X]=[],f[32767+X][1]=V,f[32767+X][0]=X;for(var Q=-(B-1);Q<=-A;Q++)v[32767+Q]=V,f[32767+Q]=[],f[32767+Q][1]=V,f[32767+Q][0]=B-1+Q;A<<=1,B<<=1}}(),function(){for(var A=0;A<256;A++)H[A]=19595*A,H[A+256>>0]=38470*A,H[A+512>>0]=7471*A+32768,H[A+768>>0]=-11059*A,H[A+1024>>0]=-21709*A,H[A+1280>>0]=32768*A+8421375,H[A+1536>>0]=-27439*A,H[A+1792>>0]=-5329*A}(),me(e)}/**
* @license
* Copyright (c) 2017 Aras Abbasi
*
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
*/function ji(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function P5(e){function t(T){if(!T)throw Error("assert :P")}function n(T,J,Z){for(var E=0;4>E;E++)if(T[J+E]!=Z.charCodeAt(E))return!0;return!1}function r(T,J,Z,E,M){for(var K=0;K<M;K++)T[J+K]=Z[E+K]}function i(T,J,Z,E){for(var M=0;M<E;M++)T[J+M]=Z}function a(T){return new Int32Array(T)}function s(T,J){for(var Z=[],E=0;E<T;E++)Z.push(new J);return Z}function o(T,J){var Z=[];return function E(M,K,z){for(var le=z[K],ie=0;ie<le&&(M.push(z.length>K+1?[]:new J),!(z.length<K+1));ie++)E(M[ie],K+1,z)}(Z,0,T),Z}var c=function(){var T=this;function J(u,h){for(var y=1<<h-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function Z(u,h,y,N,L){t(!(N%y));do u[h+(N-=y)]=L;while(0<N)}function E(u,h,y,N,L){if(t(2328>=L),512>=L)var P=a(512);else if((P=a(L))==null)return 0;return function(_,I,O,U,te,fe){var pe,se,Ne=I,ge=1<<O,ne=a(16),re=a(16);for(t(te!=0),t(U!=null),t(_!=null),t(0<O),se=0;se<te;++se){if(15<U[se])return 0;++ne[U[se]]}if(ne[0]==te)return 0;for(re[1]=0,pe=1;15>pe;++pe){if(ne[pe]>1<<pe)return 0;re[pe+1]=re[pe]+ne[pe]}for(se=0;se<te;++se)pe=U[se],0<U[se]&&(fe[re[pe]++]=se);if(re[15]==1)return(U=new M).g=0,U.value=fe[0],Z(_,Ne,1,ge,U),ge;var xe,je=-1,Se=ge-1,Ue=0,Re=1,nt=1,Me=1<<O;for(se=0,pe=1,te=2;pe<=O;++pe,te<<=1){if(Re+=nt<<=1,0>(nt-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe])(U=new M).g=pe,U.value=fe[se++],Z(_,Ne+Ue,te,Me,U),Ue=J(Ue,pe)}for(pe=O+1,te=2;15>=pe;++pe,te<<=1){if(Re+=nt<<=1,0>(nt-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe]){if(U=new M,(Ue&Se)!=je){for(Ne+=Me,xe=1<<(je=pe)-O;15>je&&!(0>=(xe-=ne[je]));)++je,xe<<=1;ge+=Me=1<<(xe=je-O),_[I+(je=Ue&Se)].g=xe+O,_[I+je].value=Ne-I-je}U.g=pe-O,U.value=fe[se++],Z(_,Ne+(Ue>>O),te,Me,U),Ue=J(Ue,pe)}}return Re!=2*re[15]-1?0:ge}(u,h,y,N,L,P)}function M(){this.value=this.g=0}function K(){this.value=this.g=0}function z(){this.G=s(5,M),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Bn,K)}function le(u,h,y,N){t(u!=null),t(h!=null),t(2147483648>N),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=y,u.Jd=h,u.Yc=y+N,u.Zc=4<=N?y+N-4+1:y,oe(u)}function ie(u,h){for(var y=0;0<h--;)y|=de(u,128)<<h;return y}function he(u,h){var y=ie(u,h);return ue(u)?-y:y}function G(u,h,y,N){var L,P=0;for(t(u!=null),t(h!=null),t(4294967288>N),u.Sb=N,u.Ra=0,u.u=0,u.h=0,4<N&&(N=4),L=0;L<N;++L)P+=h[y+L]<<8*L;u.Ra=P,u.bb=N,u.oa=h,u.pa=y}function ae(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<vo-8>>>0,++u.bb,u.u-=8;V(u)&&(u.h=1,u.u=0)}function Y(u,h){if(t(0<=h),!u.h&&h<=go){var y=B(u)&mo[h];return u.u+=h,ae(u),y}return u.h=1,u.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(u){return u.Ra>>>(u.u&vo-1)>>>0}function V(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>vo}function X(u,h){u.u=h,u.h=V(u)}function Q(u){u.u>=Hl&&(t(u.u>=Hl),ae(u))}function oe(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ue(u){return ie(u,1)}function de(u,h){var y=u.Ca;0>u.b&&oe(u);var N=u.b,L=y*h>>>8,P=(u.I>>>N>L)+0;for(P?(y-=L,u.I-=L+1<<N>>>0):y=L+1,N=y,L=0;256<=N;)L+=8,N>>=8;return N=7^L+yr[N],u.b-=N,u.Ca=(y<<N)-1,P}function be(u,h,y){u[h+0]=y>>24&255,u[h+1]=y>>16&255,u[h+2]=y>>8&255,u[h+3]=y>>0&255}function we(u,h){return u[h+0]<<0|u[h+1]<<8}function Te(u,h){return we(u,h)|u[h+2]<<16}function Ce(u,h){return we(u,h)|we(u,h+2)<<16}function Je(u,h){var y=1<<h;return t(u!=null),t(0<h),u.X=a(y),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function ve(u,h){t(u!=null),t(h!=null),t(u.Xa==h.Xa),r(h.X,0,u.X,0,1<<h.Xa)}function $(){this.X=[],this.Xa=this.Mb=0}function ot(u,h,y,N){t(y!=null),t(N!=null);var L=y[0],P=N[0];return L==0&&(L=(u*P+h/2)/h),P==0&&(P=(h*L+u/2)/u),0>=L||0>=P?0:(y[0]=L,N[0]=P,1)}function $e(u,h){return u+(1<<h)-1>>>h}function Le(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function Ee(u,h){T[h]=function(y,N,L,P,_,I,O){var U;for(U=0;U<_;++U){var te=T[u](I[O+U-1],L,P+U);I[O+U]=Le(y[N+U],te)}}}function De(){this.ud=this.hd=this.jd=0}function Ie(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function Ye(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function ke(u,h){return Ye(u+(u-h+.5>>1))}function We(u,h,y){return Math.abs(h-y)-Math.abs(u-y)}function Ke(u,h,y,N,L,P,_){for(N=P[_-1],y=0;y<L;++y)P[_+y]=N=Le(u[h+y],N)}function gt(u,h,y,N,L){var P;for(P=0;P<y;++P){var _=u[h+P],I=_>>8&255,O=16711935&(O=(O=16711935&_)+((I<<16)+I));N[L+P]=(4278255360&_)+O>>>0}}function Ct(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function at(u,h,y,N,L,P){var _;for(_=0;_<N;++_){var I=h[y+_],O=I>>>8,U=I,te=255&(te=(te=I>>>16)+((u.jd<<24>>24)*(O<<24>>24)>>>5));U=255&(U=(U=U+((u.hd<<24>>24)*(O<<24>>24)>>>5))+((u.ud<<24>>24)*(te<<24>>24)>>>5)),L[P+_]=(4278255360&I)+(te<<16)+U}}function et(u,h,y,N,L){T[h]=function(P,_,I,O,U,te,fe,pe,se){for(O=fe;O<pe;++O)for(fe=0;fe<se;++fe)U[te++]=L(I[N(P[_++])])},T[u]=function(P,_,I,O,U,te,fe){var pe=8>>P.b,se=P.Ea,Ne=P.K[0],ge=P.w;if(8>pe)for(P=(1<<P.b)-1,ge=(1<<pe)-1;_<I;++_){var ne,re=0;for(ne=0;ne<se;++ne)ne&P||(re=N(O[U++])),te[fe++]=L(Ne[re&ge]),re>>=pe}else T["VP8LMapColor"+y](O,U,Ne,ge,te,fe,_,I,se)}}function Oe(u,h,y,N,L){for(y=h+y;h<y;){var P=u[h++];N[L++]=P>>16&255,N[L++]=P>>8&255,N[L++]=P>>0&255}}function Pn(u,h,y,N,L){for(y=h+y;h<y;){var P=u[h++];N[L++]=P>>16&255,N[L++]=P>>8&255,N[L++]=P>>0&255,N[L++]=P>>24&255}}function bt(u,h,y,N,L){for(y=h+y;h<y;){var P=(_=u[h++])>>16&240|_>>12&15,_=_>>0&240|_>>28&15;N[L++]=P,N[L++]=_}}function _r(u,h,y,N,L){for(y=h+y;h<y;){var P=(_=u[h++])>>16&248|_>>13&7,_=_>>5&224|_>>3&31;N[L++]=P,N[L++]=_}}function Pt(u,h,y,N,L){for(y=h+y;h<y;){var P=u[h++];N[L++]=P>>0&255,N[L++]=P>>8&255,N[L++]=P>>16&255}}function Bt(u,h,y,N,L,P){if(P==0)for(y=h+y;h<y;)be(N,((P=u[h++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),L+=32;else r(N,L,u,h,y)}function mr(u,h){T[h][0]=T[u+"0"],T[h][1]=T[u+"1"],T[h][2]=T[u+"2"],T[h][3]=T[u+"3"],T[h][4]=T[u+"4"],T[h][5]=T[u+"5"],T[h][6]=T[u+"6"],T[h][7]=T[u+"7"],T[h][8]=T[u+"8"],T[h][9]=T[u+"9"],T[h][10]=T[u+"10"],T[h][11]=T[u+"11"],T[h][12]=T[u+"12"],T[h][13]=T[u+"13"],T[h][14]=T[u+"0"],T[h][15]=T[u+"0"]}function kt(u){return u==Df||u==Mf||u==Hu||u==Of}function na(){this.eb=[],this.size=this.A=this.fb=0}function Kt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new na,this.f.kb=new Kt,this.sd=null}function Kr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function wt(u,h){var y=u.T,N=h.ba.f.RGBA,L=N.eb,P=N.fb+u.ka*N.A,_=li[h.ba.S],I=u.y,O=u.O,U=u.f,te=u.N,fe=u.ea,pe=u.W,se=h.cc,Ne=h.dc,ge=h.Mc,ne=h.Nc,re=u.ka,xe=u.ka+u.T,je=u.U,Se=je+1>>1;for(re==0?_(I,O,null,null,U,te,fe,pe,U,te,fe,pe,L,P,null,null,je):(_(h.ec,h.fc,I,O,se,Ne,ge,ne,U,te,fe,pe,L,P-N.A,L,P,je),++y);re+2<xe;re+=2)se=U,Ne=te,ge=fe,ne=pe,te+=u.Rc,pe+=u.Rc,P+=2*N.A,_(I,(O+=2*u.fa)-u.fa,I,O,se,Ne,ge,ne,U,te,fe,pe,L,P-N.A,L,P,je);return O+=u.fa,u.j+xe<u.o?(r(h.ec,h.fc,I,O,je),r(h.cc,h.dc,U,te,Se),r(h.Mc,h.Nc,fe,pe,Se),y--):1&xe||_(I,O,null,null,U,te,fe,pe,U,te,fe,pe,L,P+N.A,null,null,je),y}function ra(u,h,y){var N=u.F,L=[u.J];if(N!=null){var P=u.U,_=h.ba.S,I=_==Vu||_==Hu;h=h.ba.f.RGBA;var O=[0],U=u.ka;O[0]=u.T,u.Kb&&(U==0?--O[0]:(--U,L[0]-=u.width),u.j+u.ka+u.T==u.o&&(O[0]=u.o-u.j-U));var te=h.eb;U=h.fb+U*h.A,u=zt(N,L[0],u.width,P,O,te,U+(I?0:3),h.A),t(y==O),u&&kt(_)&&si(te,U,I,P,O,h.A)}return 0}function Nn(u){var h=u.ma,y=h.ba.S,N=11>y,L=y==zu||y==Uu||y==Vu||y==Rf||y==12||kt(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!Ul(h.Oa,u,L?11:12))return 0;if(L&&kt(y)&&Ae(),u.da)alert("todo:use_scaling");else{if(N){if(h.Ib=lt,u.Kb){if(y=u.U+1>>1,h.memory=a(u.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=wt,Ae()}}else alert("todo:EmitYUV");L&&(h.Jb=ra,N&&ce())}if(N&&!gg){for(u=0;256>u;++u)i4[u]=89858*(u-128)+$u>>Wu,o4[u]=-22014*(u-128)+$u,s4[u]=-45773*(u-128),a4[u]=113618*(u-128)+$u>>Wu;for(u=Jl;u<zf;++u)h=76283*(u-16)+$u>>Wu,l4[u-Jl]=ni(h,255),c4[u-Jl]=ni(h+8>>4,15);gg=1}return 1}function Er(u){var h=u.ma,y=u.U,N=u.T;return t(!(1&u.ka)),0>=y||0>=N?0:(y=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,y),h.Dc+=y,1)}function Xr(u){u.ma.memory=null}function tt(u,h,y,N){return Y(u,8)!=47?0:(h[0]=Y(u,14)+1,y[0]=Y(u,14)+1,N[0]=Y(u,1),Y(u,3)!=0?0:!u.h)}function Fr(u,h){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+Y(h,y)+1}function Yr(u,h){return 120<h?h-120:1<=(y=((y=H3[h-1])>>4)*u+(8-(15&y)))?y:1;var y}function _n(u,h,y){var N=B(y),L=u[h+=255&N].g-8;return 0<L&&(X(y,y.u+8),N=B(y),h+=u[h].value,h+=N&(1<<L)-1),X(y,y.u+u[h].g),u[h].value}function pt(u,h,y){return y.g+=u.g,y.value+=u.value<<h>>>0,t(8>=y.g),u.g}function rn(u,h,y){var N=u.xc;return t((h=N==0?0:u.vc[u.md*(y>>N)+(h>>N)])<u.Wb),u.Ya[h]}function ir(u,h,y,N){var L=u.ab,P=u.c*h,_=u.C;h=_+h;var I=y,O=N;for(N=u.Ta,y=u.Ua;0<L--;){var U=u.gc[L],te=_,fe=h,pe=I,se=O,Ne=(O=N,I=y,U.Ea);switch(t(te<fe),t(fe<=U.nc),U.hc){case 2:Iu(pe,se,(fe-te)*Ne,O,I);break;case 0:var ge=te,ne=fe,re=O,xe=I,je=(Me=U).Ea;ge==0&&(Tf(pe,se,null,null,1,re,xe),Ke(pe,se+1,0,0,je-1,re,xe+1),se+=je,xe+=je,++ge);for(var Se=1<<Me.b,Ue=Se-1,Re=$e(je,Me.b),nt=Me.K,Me=Me.w+(ge>>Me.b)*Re;ge<ne;){var Lt=nt,_t=Me,St=1;for(Wl(pe,se,re,xe-je,1,re,xe);St<je;){var yt=(St&~Ue)+Se;yt>je&&(yt=je),(0,Ma[Lt[_t++]>>8&15])(pe,se+ +St,re,xe+St-je,yt-St,re,xe+St),St=yt}se+=je,xe+=je,++ge&Ue||(Me+=Re)}fe!=U.nc&&r(O,I-Ne,O,I+(fe-te-1)*Ne,Ne);break;case 1:for(Ne=pe,ne=se,je=(pe=U.Ea)-(xe=pe&~(re=(se=1<<U.b)-1)),ge=$e(pe,U.b),Se=U.K,U=U.w+(te>>U.b)*ge;te<fe;){for(Ue=Se,Re=U,nt=new De,Me=ne+xe,Lt=ne+pe;ne<Me;)Ct(Ue[Re++],nt),Cs(nt,Ne,ne,se,O,I),ne+=se,I+=se;ne<Lt&&(Ct(Ue[Re++],nt),Cs(nt,Ne,ne,je,O,I),ne+=je,I+=je),++te&re||(U+=ge)}break;case 3:if(pe==O&&se==I&&0<U.b){for(ne=O,pe=Ne=I+(fe-te)*Ne-(xe=(fe-te)*$e(U.Ea,U.b)),se=O,re=I,ge=[],xe=(je=xe)-1;0<=xe;--xe)ge[xe]=se[re+xe];for(xe=je-1;0<=xe;--xe)ne[pe+xe]=ge[xe];ri(U,te,fe,O,Ne,O,I)}else ri(U,te,fe,pe,se,O,I)}I=N,O=y}O!=y&&r(N,y,I,O,P)}function Jr(u,h){var y=u.V,N=u.Ba+u.c*u.C,L=h-u.C;if(t(h<=u.l.o),t(16>=L),0<L){var P=u.l,_=u.Ta,I=u.Ua,O=P.width;if(ir(u,L,y,N),L=I=[I],t((y=u.C)<(N=h)),t(P.v<P.va),N>P.o&&(N=P.o),y<P.j){var U=P.j-y;y=P.j,L[0]+=U*O}if(y>=N?y=0:(L[0]+=4*P.v,P.ka=y-P.j,P.U=P.va-P.v,P.T=N-y,y=1),y){if(I=I[0],11>(y=u.ca).S){var te=y.f.RGBA,fe=(N=y.S,L=P.U,P=P.T,U=te.eb,te.A),pe=P;for(te=te.fb+u.Ma*te.A;0<pe--;){var se=_,Ne=I,ge=L,ne=U,re=te;switch(N){case qu:br(se,Ne,ge,ne,re);break;case zu:or(se,Ne,ge,ne,re);break;case Df:or(se,Ne,ge,ne,re),si(ne,re,0,ge,1,0);break;case sg:ca(se,Ne,ge,ne,re);break;case Uu:Bt(se,Ne,ge,ne,re,1);break;case Mf:Bt(se,Ne,ge,ne,re,1),si(ne,re,0,ge,1,0);break;case Vu:Bt(se,Ne,ge,ne,re,0);break;case Hu:Bt(se,Ne,ge,ne,re,0),si(ne,re,1,ge,1,0);break;case Rf:Oa(se,Ne,ge,ne,re);break;case Of:Oa(se,Ne,ge,ne,re),qt(ne,re,ge,1,0);break;case og:la(se,Ne,ge,ne,re);break;default:t(0)}I+=O,te+=fe}u.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=y.height)}}u.C=h,t(u.C<=u.i)}function Qr(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var y=u.Ya[h].G,N=u.Ya[h].H;if(0<y[1][N[1]+0].g||0<y[2][N[2]+0].g||0<y[3][N[3]+0].g)return 0}return 1}function vr(u,h,y,N,L,P){if(u.Z!=0){var _=u.qd,I=u.rd;for(t(Ua[u.Z]!=null);h<y;++h)Ua[u.Z](_,I,N,L,N,L,P),_=N,I=L,L+=P;u.qd=_,u.rd=I}}function Zr(u,h){var y=u.l.ma,N=y.Z==0||y.Z==1?u.l.j:u.C;if(N=u.C<N?N:u.C,t(h<=u.l.o),h>N){var L=u.l.width,P=y.ca,_=y.tb+L*N,I=u.V,O=u.Ba+u.c*N,U=u.gc;t(u.ab==1),t(U[0].hc==3),Ru(U[0],N,h,I,O,P,_),vr(y,N,h,P,_,L)}u.C=u.Ma=h}function Tr(u,h,y,N,L,P,_){var I=u.$/N,O=u.$%N,U=u.m,te=u.s,fe=y+u.$,pe=fe;L=y+N*L;var se=y+N*P,Ne=280+te.ua,ge=u.Pb?I:16777216,ne=0<te.ua?te.Wa:null,re=te.wc,xe=fe<se?rn(te,O,I):null;t(u.C<P),t(se<=L);var je=!1;e:for(;;){for(;je||fe<se;){var Se=0;if(I>=ge){var Ue=fe-y;t((ge=u).Pb),ge.wd=ge.m,ge.xd=Ue,0<ge.s.ua&&ve(ge.s.Wa,ge.s.vb),ge=I+$3}if(O&re||(xe=rn(te,O,I)),t(xe!=null),xe.Qb&&(h[fe]=xe.qb,je=!0),!je)if(Q(U),xe.jc){Se=U,Ue=h;var Re=fe,nt=xe.pd[B(Se)&Bn-1];t(xe.jc),256>nt.g?(X(Se,Se.u+nt.g),Ue[Re]=nt.value,Se=0):(X(Se,Se.u+nt.g-256),t(256<=nt.value),Se=nt.value),Se==0&&(je=!0)}else Se=_n(xe.G[0],xe.H[0],U);if(U.h)break;if(je||256>Se){if(!je)if(xe.nd)h[fe]=(xe.qb|Se<<8)>>>0;else{if(Q(U),je=_n(xe.G[1],xe.H[1],U),Q(U),Ue=_n(xe.G[2],xe.H[2],U),Re=_n(xe.G[3],xe.H[3],U),U.h)break;h[fe]=(Re<<24|je<<16|Se<<8|Ue)>>>0}if(je=!1,++fe,++O>=N&&(O=0,++I,_!=null&&I<=P&&!(I%16)&&_(u,I),ne!=null))for(;pe<fe;)Se=h[pe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se}else if(280>Se){if(Se=Fr(Se-256,U),Ue=_n(xe.G[4],xe.H[4],U),Q(U),Ue=Yr(N,Ue=Fr(Ue,U)),U.h)break;if(fe-y<Ue||L-fe<Se)break e;for(Re=0;Re<Se;++Re)h[fe+Re]=h[fe+Re-Ue];for(fe+=Se,O+=Se;O>=N;)O-=N,++I,_!=null&&I<=P&&!(I%16)&&_(u,I);if(t(fe<=L),O&re&&(xe=rn(te,O,I)),ne!=null)for(;pe<fe;)Se=h[pe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se}else{if(!(Se<Ne))break e;for(je=Se-280,t(ne!=null);pe<fe;)Se=h[pe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se;Se=fe,t(!(je>>>(Ue=ne).Xa)),h[Se]=Ue.X[je],je=!0}je||t(U.h==V(U))}if(u.Pb&&U.h&&fe<L)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ve(u.s.vb,u.s.Wa);else{if(U.h)break e;_!=null&&_(u,I>P?P:I),u.a=0,u.$=fe-y}return 1}return u.a=3,0}function ei(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,t(u!=null)}function ar(){var u=new Ff;return u==null?null:(u.a=0,u.xb=ug,mr("Predictor","VP8LPredictors"),mr("Predictor","VP8LPredictors_C"),mr("PredictorAdd","VP8LPredictorsAdd"),mr("PredictorAdd","VP8LPredictorsAdd_C"),Iu=gt,Cs=at,br=Oe,or=Pn,Oa=bt,la=_r,ca=Pt,T.VP8LMapColor32b=yo,T.VP8LMapColor8b=Du,u)}function Ir(u,h,y,N,L){var P=1,_=[u],I=[h],O=N.m,U=N.s,te=null,fe=0;e:for(;;){if(y)for(;P&&Y(O,1);){var pe=_,se=I,Ne=N,ge=1,ne=Ne.m,re=Ne.gc[Ne.ab],xe=Y(ne,2);if(Ne.Oc&1<<xe)P=0;else{switch(Ne.Oc|=1<<xe,re.hc=xe,re.Ea=pe[0],re.nc=se[0],re.K=[null],++Ne.ab,t(4>=Ne.ab),xe){case 0:case 1:re.b=Y(ne,3)+2,ge=Ir($e(re.Ea,re.b),$e(re.nc,re.b),0,Ne,re.K),re.K=re.K[0];break;case 3:var je,Se=Y(ne,8)+1,Ue=16<Se?0:4<Se?1:2<Se?2:3;if(pe[0]=$e(re.Ea,Ue),re.b=Ue,je=ge=Ir(Se,1,0,Ne,re.K)){var Re,nt=Se,Me=re,Lt=1<<(8>>Me.b),_t=a(Lt);if(_t==null)je=0;else{var St=Me.K[0],yt=Me.w;for(_t[0]=Me.K[0][0],Re=1;Re<1*nt;++Re)_t[Re]=Le(St[yt+Re],_t[Re-1]);for(;Re<4*Lt;++Re)_t[Re]=0;Me.K[0]=null,Me.K[0]=_t,je=1}}ge=je;break;case 2:break;default:t(0)}P=ge}}if(_=_[0],I=I[0],P&&Y(O,1)&&!(P=1<=(fe=Y(O,4))&&11>=fe)){N.a=3;break e}var Dt;if(Dt=P)t:{var It,ft,bn,xr=N,xn=_,wr=I,Et=fe,Dr=y,Mr=xr.m,In=xr.s,qn=[null],cr=1,ci=0,Vi=W3[Et];n:for(;;){if(Dr&&Y(Mr,1)){var Rn=Y(Mr,3)+2,fa=$e(xn,Rn),Ts=$e(wr,Rn),No=fa*Ts;if(!Ir(fa,Ts,0,xr,qn))break n;for(qn=qn[0],In.xc=Rn,It=0;It<No;++It){var Va=qn[It]>>8&65535;qn[It]=Va,Va>=cr&&(cr=Va+1)}}if(Mr.h)break n;for(ft=0;5>ft;++ft){var an=lg[ft];!ft&&0<Et&&(an+=1<<Et),ci<an&&(ci=an)}var Uf=s(cr*Vi,M),bg=cr,xg=s(bg,z);if(xg==null)var Ku=null;else t(65536>=bg),Ku=xg;var Ql=a(ci);if(Ku==null||Ql==null||Uf==null){xr.a=1;break n}var Xu=Uf;for(It=bn=0;It<cr;++It){var wi=Ku[It],jo=wi.G,ko=wi.H,wg=0,Yu=1,Sg=0;for(ft=0;5>ft;++ft){an=lg[ft],jo[ft]=Xu,ko[ft]=bn,!ft&&0<Et&&(an+=1<<Et);i:{var Ju,Vf=an,Qu=xr,Zl=Ql,h4=Xu,f4=bn,Hf=0,Ha=Qu.m,p4=Y(Ha,1);if(i(Zl,0,0,Vf),p4){var m4=Y(Ha,1)+1,g4=Y(Ha,1),Ng=Y(Ha,g4==0?1:8);Zl[Ng]=1,m4==2&&(Zl[Ng=Y(Ha,8)]=1);var Zu=1}else{var jg=a(19),kg=Y(Ha,4)+4;if(19<kg){Qu.a=3;var ed=0;break i}for(Ju=0;Ju<kg;++Ju)jg[V3[Ju]]=Y(Ha,3);var Wf=void 0,ec=void 0,Ag=Qu,v4=jg,td=Vf,Lg=Zl,$f=0,Wa=Ag.m,Cg=8,Pg=s(128,M);r:for(;E(Pg,0,7,v4,19);){if(Y(Wa,1)){var y4=2+2*Y(Wa,3);if((Wf=2+Y(Wa,y4))>td)break r}else Wf=td;for(ec=0;ec<td&&Wf--;){Q(Wa);var _g=Pg[0+(127&B(Wa))];X(Wa,Wa.u+_g.g);var Ao=_g.value;if(16>Ao)Lg[ec++]=Ao,Ao!=0&&(Cg=Ao);else{var b4=Ao==16,Eg=Ao-16,x4=z3[Eg],Fg=Y(Wa,q3[Eg])+x4;if(ec+Fg>td)break r;for(var w4=b4?Cg:0;0<Fg--;)Lg[ec++]=w4}}$f=1;break r}$f||(Ag.a=3),Zu=$f}(Zu=Zu&&!Ha.h)&&(Hf=E(h4,f4,8,Zl,Vf)),Zu&&Hf!=0?ed=Hf:(Qu.a=3,ed=0)}if(ed==0)break n;if(Yu&&U3[ft]==1&&(Yu=Xu[bn].g==0),wg+=Xu[bn].g,bn+=ed,3>=ft){var tc,Gf=Ql[0];for(tc=1;tc<an;++tc)Ql[tc]>Gf&&(Gf=Ql[tc]);Sg+=Gf}}if(wi.nd=Yu,wi.Qb=0,Yu&&(wi.qb=(jo[3][ko[3]+0].value<<24|jo[1][ko[1]+0].value<<16|jo[2][ko[2]+0].value)>>>0,wg==0&&256>jo[0][ko[0]+0].value&&(wi.Qb=1,wi.qb+=jo[0][ko[0]+0].value<<8)),wi.jc=!wi.Qb&&6>Sg,wi.jc){var nd,pa=wi;for(nd=0;nd<Bn;++nd){var $a=nd,Ga=pa.pd[$a],rd=pa.G[0][pa.H[0]+$a];256<=rd.value?(Ga.g=rd.g+256,Ga.value=rd.value):(Ga.g=0,Ga.value=0,$a>>=pt(rd,8,Ga),$a>>=pt(pa.G[1][pa.H[1]+$a],16,Ga),$a>>=pt(pa.G[2][pa.H[2]+$a],0,Ga),pt(pa.G[3][pa.H[3]+$a],24,Ga))}}}In.vc=qn,In.Wb=cr,In.Ya=Ku,In.yc=Uf,Dt=1;break t}Dt=0}if(!(P=Dt)){N.a=3;break e}if(0<fe){if(U.ua=1<<fe,!Je(U.Wa,fe)){N.a=1,P=0;break e}}else U.ua=0;var Kf=N,Tg=_,S4=I,Xf=Kf.s,Yf=Xf.xc;if(Kf.c=Tg,Kf.i=S4,Xf.md=$e(Tg,Yf),Xf.wc=Yf==0?-1:(1<<Yf)-1,y){N.xb=Z3;break e}if((te=a(_*I))==null){N.a=1,P=0;break e}P=(P=Tr(N,te,0,_,I,I,null))&&!O.h;break e}return P?(L!=null?L[0]=te:(t(te==null),t(y)),N.$=0,y||ei(U)):ei(U),P}function ia(u,h){var y=u.c*u.i,N=y+h+16*h;return t(u.c<=h),u.V=a(N),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+h,1)}function Di(u,h){var y=u.C,N=h-y,L=u.V,P=u.Ba+u.c*y;for(t(h<=u.l.o);0<N;){var _=16<N?16:N,I=u.l.ma,O=u.l.width,U=O*_,te=I.ca,fe=I.tb+O*y,pe=u.Ta,se=u.Ua;ir(u,_,L,P),dn(pe,se,te,fe,U),vr(I,y,y+_,te,fe,O),N-=_,L+=_*u.c,y+=_}t(y==h),u.C=u.Ma=h}function Fa(){this.ub=this.yd=this.td=this.Rb=0}function aa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ta(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Mi(){this.Yb=function(){var u=[];return function h(y,N,L){for(var P=L[N],_=0;_<P&&(y.push(L.length>N+1?[]:0),!(L.length<N+1));_++)h(y[_],N+1,L)}(u,0,[3,11]),u}()}function Al(){this.jb=a(3),this.Wc=o([4,8],Mi),this.Xc=o([4,17],Mi)}function Ll(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Be(){this.ld=this.La=this.dd=this.tc=0}function Pe(){this.Na=this.la=0}function Qe(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function mt(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xe(){this.uc=this.M=this.Nb=0,this.wa=Array(new Be),this.Y=0,this.ya=Array(new mt),this.aa=0,this.l=new Xt}function Ve(){this.y=a(16),this.f=a(8),this.ea=a(8)}function qe(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new Fa,this.Kc=new aa,this.ed=new Ll,this.Qa=new Ta,this.Ic=this.$c=this.Aa=0,this.D=new Xe,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,me),this.ia=0,this.pb=s(4,Qe),this.Pa=new Al,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ve),this.Hd=0,this.rb=Array(new Pe),this.sb=0,this.wa=Array(new Be),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new mt),this.L=this.aa=0,this.gd=o([4,2],Be),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function jn(){var u=new qe;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Yl||(Yl=Fn)),u}function At(u,h,y){return u.a==0&&(u.a=h,u.sc=y,u.cb=0),0}function sr(u,h,y){return 3<=y&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function En(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return At(u,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,N=h.w,L=h.ha;if(4>L)return At(u,7,"Truncated header.");var P=y[N+0]|y[N+1]<<8|y[N+2]<<16,_=u.Od;if(_.Rb=!(1&P),_.td=P>>1&7,_.yd=P>>4&1,_.ub=P>>5,3<_.td)return At(u,3,"Incorrect keyframe parameters.");if(!_.yd)return At(u,4,"Frame not displayable.");N+=3,L-=3;var I=u.Kc;if(_.Rb){if(7>L)return At(u,7,"cannot parse picture header");if(!sr(y,N,L))return At(u,3,"Bad code word");I.c=16383&(y[N+4]<<8|y[N+3]),I.Td=y[N+4]>>6,I.i=16383&(y[N+6]<<8|y[N+5]),I.Ud=y[N+6]>>6,N+=7,L-=7,u.za=I.c+15>>4,u.Ub=I.i+15>>4,h.width=I.c,h.height=I.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((P=u.Pa).jb,0,255,P.jb.length),t((P=u.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,i(P.Zb,0,0,P.Zb.length),i(P.Lb,0,0,P.Lb)}if(_.ub>L)return At(u,7,"bad partition length");le(P=u.m,y,N,_.ub),N+=_.ub,L-=_.ub,_.Rb&&(I.Ld=ue(P),I.Kd=ue(P)),I=u.Qa;var O,U=u.Pa;if(t(P!=null),t(I!=null),I.Cb=ue(P),I.Cb){if(I.Bb=ue(P),ue(P)){for(I.Fb=ue(P),O=0;4>O;++O)I.Zb[O]=ue(P)?he(P,7):0;for(O=0;4>O;++O)I.Lb[O]=ue(P)?he(P,6):0}if(I.Bb)for(O=0;3>O;++O)U.jb[O]=ue(P)?ie(P,8):255}else I.Bb=0;if(P.Ka)return At(u,3,"cannot parse segment header");if((I=u.ed).zd=ue(P),I.Tb=ie(P,6),I.wb=ie(P,3),I.Pc=ue(P),I.Pc&&ue(P)){for(U=0;4>U;++U)ue(P)&&(I.vd[U]=he(P,6));for(U=0;4>U;++U)ue(P)&&(I.od[U]=he(P,6))}if(u.L=I.Tb==0?0:I.zd?1:2,P.Ka)return At(u,3,"cannot parse filter header");var te=L;if(L=O=N,N=O+te,I=te,u.Xb=(1<<ie(u.m,2))-1,te<3*(U=u.Xb))y=7;else{for(O+=3*U,I-=3*U,te=0;te<U;++te){var fe=y[L+0]|y[L+1]<<8|y[L+2]<<16;fe>I&&(fe=I),le(u.Jc[+te],y,O,fe),O+=fe,I-=fe,L+=3}le(u.Jc[+U],y,O,I),y=O<N?0:5}if(y!=0)return At(u,y,"cannot parse partitions");for(y=ie(O=u.m,7),L=ue(O)?he(O,4):0,N=ue(O)?he(O,4):0,I=ue(O)?he(O,4):0,U=ue(O)?he(O,4):0,O=ue(O)?he(O,4):0,te=u.Qa,fe=0;4>fe;++fe){if(te.Cb){var pe=te.Zb[fe];te.Fb||(pe+=y)}else{if(0<fe){u.pb[fe]=u.pb[0];continue}pe=y}var se=u.pb[fe];se.Sc[0]=Bf[ni(pe+L,127)],se.Sc[1]=qf[ni(pe+0,127)],se.Eb[0]=2*Bf[ni(pe+N,127)],se.Eb[1]=101581*qf[ni(pe+I,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=Bf[ni(pe+U,117)],se.Qc[1]=qf[ni(pe+O,127)],se.lc=pe+O}if(!_.Rb)return At(u,4,"Not a key frame.");for(ue(P),_=u.Pa,y=0;4>y;++y){for(L=0;8>L;++L)for(N=0;3>N;++N)for(I=0;11>I;++I)U=de(P,J3[y][L][N][I])?ie(P,8):X3[y][L][N][I],_.Wc[y][L].Yb[N][I]=U;for(L=0;17>L;++L)_.Xc[y][L]=_.Wc[y][Q3[L]]}return u.kc=ue(P),u.kc&&(u.Bd=ie(P,8)),u.cb=1}function Fn(u,h,y,N,L,P,_){var I=h[L].Yb[y];for(y=0;16>L;++L){if(!de(u,I[y+0]))return L;for(;!de(u,I[y+1]);)if(I=h[++L].Yb[0],y=0,L==16)return 16;var O=h[L+1].Yb;if(de(u,I[y+2])){var U=u,te=0;if(de(U,(pe=I)[(fe=y)+3]))if(de(U,pe[fe+6])){for(I=0,fe=2*(te=de(U,pe[fe+8]))+(pe=de(U,pe[fe+9+te])),te=0,pe=G3[fe];pe[I];++I)te+=te+de(U,pe[I]);te+=3+(8<<fe)}else de(U,pe[fe+7])?(te=7+2*de(U,165),te+=de(U,145)):te=5+de(U,159);else te=de(U,pe[fe+4])?3+de(U,pe[fe+5]):2;I=O[2]}else te=1,I=O[1];O=_+K3[L],0>(U=u).b&&oe(U);var fe,pe=U.b,se=(fe=U.Ca>>1)-(U.I>>pe)>>31;--U.b,U.Ca+=se,U.Ca|=1,U.I-=(fe+1&se)<<pe,P[O]=((te^se)-se)*N[(0<L)+0]}return 16}function Oi(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function ti(u,h){if(u==null)return 0;if(h==null)return At(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!En(u,h))return 0;if(t(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var y=Gu[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-y>>4,u.zb=h.j-y>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+y>>4,u.Hb=h.va+15+y>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var N=u.ed;for(y=0;4>y;++y){var L;if(u.Qa.Cb){var P=u.Qa.Lb[y];u.Qa.Fb||(P+=N.Tb)}else P=N.Tb;for(L=0;1>=L;++L){var _=u.gd[y][L],I=P;if(N.Pc&&(I+=N.vd[0],L&&(I+=N.od[0])),0<(I=0>I?0:63<I?63:I)){var O=I;0<N.wb&&(O=4<N.wb?O>>2:O>>1)>9-N.wb&&(O=9-N.wb),1>O&&(O=1),_.dd=O,_.tc=2*I+O,_.ld=40<=I?2:15<=I?1:0}else _.tc=0;_.La=L}}}y=0}else At(u,6,"Frame setup failed"),y=u.a;if(y=y==0){if(y){u.$c=0,0<u.Aa||(u.Ic=d4);e:{y=u.Ic,N=4*(O=u.za);var U=32*O,te=O+1,fe=0<u.L?O*(0<u.Aa?2:1):0,pe=(u.Aa==2?2:1)*O;if((_=N+832+(L=3*(16*y+Gu[u.L])/2*U)+(P=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=_)y=0;else{if(_>u.Vb){if(u.Vb=0,u.Ec=a(_),u.Fc=0,u.Ec==null){y=At(u,1,"no memory during frame initialization.");break e}u.Vb=_}_=u.Ec,I=u.Fc,u.Ac=_,u.Bc=I,I+=N,u.Gd=s(U,Ve),u.Hd=0,u.rb=s(te+1,Pe),u.sb=1,u.wa=fe?s(fe,Be):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=O),t(!0),u.oc=_,u.pc=I,I+=832,u.ya=s(pe,mt),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=O),u.R=16*O,u.B=8*O,O=(U=Gu[u.L])*u.R,U=U/2*u.B,u.sa=_,u.ta=I+O,u.qa=u.sa,u.ra=u.ta+16*y*u.R+U,u.Ha=u.qa,u.Ia=u.ra+8*y*u.B+U,u.$c=0,I+=L,u.mb=P?_:null,u.nb=P?I:null,t(I+P<=u.Fc+u.Vb),Oi(u),i(u.Ac,u.Bc,0,N),y=1}}if(y){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!Ou){for(y=-255;255>=y;++y)An[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)da[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Xl[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)So[255+y]=0>y?0:255<y?255:y;Ou=1}bo=yf,ua=gf,$l=wu,lr=vf,ii=Su,un=xu,xo=Tl,Mu=As,Gl=Ef,Ps=Il,_s=_f,Ba=co,Es=Rl,wo=Eu,Fs=_u,qa=zi,Kl=oa,ai=Pf,xi[0]=qi,xi[1]=bf,xi[2]=Nf,xi[3]=jf,xi[4]=ku,xi[5]=oo,xi[6]=Au,xi[7]=_l,xi[8]=Af,xi[9]=kf,za[0]=Nu,za[1]=wf,za[2]=sa,za[3]=ao,za[4]=Wn,za[5]=Sf,za[6]=ju,ha[0]=Ia,ha[1]=xf,ha[2]=Lf,ha[3]=El,ha[4]=ks,ha[5]=Cf,ha[6]=Fl,y=1}else y=0}y&&(y=function(se,Ne){for(se.M=0;se.M<se.Va;++se.M){var ge,ne=se.Jc[se.M&se.Xb],re=se.m,xe=se;for(ge=0;ge<xe.za;++ge){var je=re,Se=xe,Ue=Se.Ac,Re=Se.Bc+4*ge,nt=Se.zc,Me=Se.ya[Se.aa+ge];if(Se.Qa.Bb?Me.$b=de(je,Se.Pa.jb[0])?2+de(je,Se.Pa.jb[2]):de(je,Se.Pa.jb[1]):Me.$b=0,Se.kc&&(Me.Ad=de(je,Se.Bd)),Me.Za=!de(je,145)+0,Me.Za){var Lt=Me.Ob,_t=0;for(Se=0;4>Se;++Se){var St,yt=nt[0+Se];for(St=0;4>St;++St){yt=Y3[Ue[Re+St]][yt];for(var Dt=cg[de(je,yt[0])];0<Dt;)Dt=cg[2*Dt+de(je,yt[Dt])];yt=-Dt,Ue[Re+St]=yt}r(Lt,_t,Ue,Re,4),_t+=4,nt[0+Se]=yt}}else yt=de(je,156)?de(je,128)?1:3:de(je,163)?2:0,Me.Ob[0]=yt,i(Ue,Re,yt,4),i(nt,0,yt,4);Me.Dd=de(je,142)?de(je,114)?de(je,183)?1:3:2:0}if(xe.m.Ka)return At(se,7,"Premature end-of-partition0 encountered.");for(;se.ja<se.za;++se.ja){if(xe=ne,je=(re=se).rb[re.sb-1],Ue=re.rb[re.sb+re.ja],ge=re.ya[re.aa+re.ja],Re=re.kc?ge.Ad:0)je.la=Ue.la=0,ge.Za||(je.Na=Ue.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var It,ft;if(je=Ue,Ue=xe,Re=re.Pa.Xc,nt=re.ya[re.aa+re.ja],Me=re.pb[nt.$b],Se=nt.ad,Lt=0,_t=re.rb[re.sb-1],yt=St=0,i(Se,Lt,0,384),nt.Za)var bn=0,xr=Re[3];else{Dt=a(16);var xn=je.Na+_t.Na;if(xn=Yl(Ue,Re[1],xn,Me.Eb,0,Dt,0),je.Na=_t.Na=(0<xn)+0,1<xn)bo(Dt,0,Se,Lt);else{var wr=Dt[0]+3>>3;for(Dt=0;256>Dt;Dt+=16)Se[Lt+Dt]=wr}bn=1,xr=Re[0]}var Et=15&je.la,Dr=15&_t.la;for(Dt=0;4>Dt;++Dt){var Mr=1&Dr;for(wr=ft=0;4>wr;++wr)Et=Et>>1|(Mr=(xn=Yl(Ue,xr,xn=Mr+(1&Et),Me.Sc,bn,Se,Lt))>bn)<<7,ft=ft<<2|(3<xn?3:1<xn?2:Se[Lt+0]!=0),Lt+=16;Et>>=4,Dr=Dr>>1|Mr<<7,St=(St<<8|ft)>>>0}for(xr=Et,bn=Dr>>4,It=0;4>It;It+=2){for(ft=0,Et=je.la>>4+It,Dr=_t.la>>4+It,Dt=0;2>Dt;++Dt){for(Mr=1&Dr,wr=0;2>wr;++wr)xn=Mr+(1&Et),Et=Et>>1|(Mr=0<(xn=Yl(Ue,Re[2],xn,Me.Qc,0,Se,Lt)))<<3,ft=ft<<2|(3<xn?3:1<xn?2:Se[Lt+0]!=0),Lt+=16;Et>>=2,Dr=Dr>>1|Mr<<5}yt|=ft<<4*It,xr|=Et<<4<<It,bn|=(240&Dr)<<It}je.la=xr,_t.la=bn,nt.Hc=St,nt.Gc=yt,nt.ia=43690&yt?0:Me.ia,Re=!(St|yt)}if(0<re.L&&(re.wa[re.Y+re.ja]=re.gd[ge.$b][ge.Za],re.wa[re.Y+re.ja].La|=!Re),xe.Ka)return At(se,7,"Premature end-of-file encountered.")}if(Oi(se),re=Ne,xe=1,ge=(ne=se).D,je=0<ne.L&&ne.M>=ne.zb&&ne.M<=ne.Va,ne.Aa==0)e:{if(ge.M=ne.M,ge.uc=je,zl(ne,ge),xe=1,ge=(ft=ne.D).Nb,je=(yt=Gu[ne.L])*ne.R,Ue=yt/2*ne.B,Dt=16*ge*ne.R,wr=8*ge*ne.B,Re=ne.sa,nt=ne.ta-je+Dt,Me=ne.qa,Se=ne.ra-Ue+wr,Lt=ne.Ha,_t=ne.Ia-Ue+wr,Dr=(Et=ft.M)==0,St=Et>=ne.Va-1,ne.Aa==2&&zl(ne,ft),ft.uc)for(Mr=(xn=ne).D.M,t(xn.D.uc),ft=xn.yb;ft<xn.Hb;++ft){bn=ft,xr=Mr;var In=(qn=(an=xn).D).Nb;It=an.R;var qn=qn.wa[qn.Y+bn],cr=an.sa,ci=an.ta+16*In*It+16*bn,Vi=qn.dd,Rn=qn.tc;if(Rn!=0)if(t(3<=Rn),an.L==1)0<bn&&qa(cr,ci,It,Rn+4),qn.La&&ai(cr,ci,It,Rn),0<xr&&Fs(cr,ci,It,Rn+4),qn.La&&Kl(cr,ci,It,Rn);else{var fa=an.B,Ts=an.qa,No=an.ra+8*In*fa+8*bn,Va=an.Ha,an=an.Ia+8*In*fa+8*bn;In=qn.ld,0<bn&&(Mu(cr,ci,It,Rn+4,Vi,In),Ps(Ts,No,Va,an,fa,Rn+4,Vi,In)),qn.La&&(Ba(cr,ci,It,Rn,Vi,In),wo(Ts,No,Va,an,fa,Rn,Vi,In)),0<xr&&(xo(cr,ci,It,Rn+4,Vi,In),Gl(Ts,No,Va,an,fa,Rn+4,Vi,In)),qn.La&&(_s(cr,ci,It,Rn,Vi,In),Es(Ts,No,Va,an,fa,Rn,Vi,In))}}if(ne.ia&&alert("todo:DitherRow"),re.put!=null){if(ft=16*Et,Et=16*(Et+1),Dr?(re.y=ne.sa,re.O=ne.ta+Dt,re.f=ne.qa,re.N=ne.ra+wr,re.ea=ne.Ha,re.W=ne.Ia+wr):(ft-=yt,re.y=Re,re.O=nt,re.f=Me,re.N=Se,re.ea=Lt,re.W=_t),St||(Et-=yt),Et>re.o&&(Et=re.o),re.F=null,re.J=null,ne.Fa!=null&&0<ne.Fa.length&&ft<Et&&(re.J=Bl(ne,re,ft,Et-ft),re.F=ne.mb,re.F==null&&re.F.length==0)){xe=At(ne,3,"Could not decode alpha data.");break e}ft<re.j&&(yt=re.j-ft,ft=re.j,t(!(1&yt)),re.O+=ne.R*yt,re.N+=ne.B*(yt>>1),re.W+=ne.B*(yt>>1),re.F!=null&&(re.J+=re.width*yt)),ft<Et&&(re.O+=re.v,re.N+=re.v>>1,re.W+=re.v>>1,re.F!=null&&(re.J+=re.v),re.ka=ft-re.j,re.U=re.va-re.v,re.T=Et-ft,xe=re.put(re))}ge+1!=ne.Ic||St||(r(ne.sa,ne.ta-je,Re,nt+16*ne.R,je),r(ne.qa,ne.ra-Ue,Me,Se+8*ne.B,Ue),r(ne.Ha,ne.Ia-Ue,Lt,_t+8*ne.B,Ue))}if(!xe)return At(se,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),y&=1}return y?(u.cb=0,y):0}function kn(u,h,y,N,L){L=u[h+y+32*N]+(L>>3),u[h+y+32*N]=-256&L?0>L?0:255:L}function Bi(u,h,y,N,L,P){kn(u,h,0,y,N+L),kn(u,h,1,y,N+P),kn(u,h,2,y,N-P),kn(u,h,3,y,N-L)}function vn(u){return(20091*u>>16)+u}function Cl(u,h,y,N){var L,P=0,_=a(16);for(L=0;4>L;++L){var I=u[h+0]+u[h+8],O=u[h+0]-u[h+8],U=(35468*u[h+4]>>16)-vn(u[h+12]),te=vn(u[h+4])+(35468*u[h+12]>>16);_[P+0]=I+te,_[P+1]=O+U,_[P+2]=O-U,_[P+3]=I-te,P+=4,h++}for(L=P=0;4>L;++L)I=(u=_[P+0]+4)+_[P+8],O=u-_[P+8],U=(35468*_[P+4]>>16)-vn(_[P+12]),kn(y,N,0,0,I+(te=vn(_[P+4])+(35468*_[P+12]>>16))),kn(y,N,1,0,O+U),kn(y,N,2,0,O-U),kn(y,N,3,0,I-te),P++,N+=32}function xu(u,h,y,N){var L=u[h+0]+4,P=35468*u[h+4]>>16,_=vn(u[h+4]),I=35468*u[h+1]>>16;Bi(y,N,0,L+_,u=vn(u[h+1]),I),Bi(y,N,1,L+P,u,I),Bi(y,N,2,L-P,u,I),Bi(y,N,3,L-_,u,I)}function gf(u,h,y,N,L){Cl(u,h,y,N),L&&Cl(u,h+16,y,N+4)}function wu(u,h,y,N){ua(u,h+0,y,N,1),ua(u,h+32,y,N+128,1)}function vf(u,h,y,N){var L;for(u=u[h+0]+4,L=0;4>L;++L)for(h=0;4>h;++h)kn(y,N,h,L,u)}function Su(u,h,y,N){u[h+0]&&lr(u,h+0,y,N),u[h+16]&&lr(u,h+16,y,N+4),u[h+32]&&lr(u,h+32,y,N+128),u[h+48]&&lr(u,h+48,y,N+128+4)}function yf(u,h,y,N){var L,P=a(16);for(L=0;4>L;++L){var _=u[h+0+L]+u[h+12+L],I=u[h+4+L]+u[h+8+L],O=u[h+4+L]-u[h+8+L],U=u[h+0+L]-u[h+12+L];P[0+L]=_+I,P[8+L]=_-I,P[4+L]=U+O,P[12+L]=U-O}for(L=0;4>L;++L)_=(u=P[0+4*L]+3)+P[3+4*L],I=P[1+4*L]+P[2+4*L],O=P[1+4*L]-P[2+4*L],U=u-P[3+4*L],y[N+0]=_+I>>3,y[N+16]=U+O>>3,y[N+32]=_-I>>3,y[N+48]=U-O>>3,N+=64}function Pl(u,h,y){var N,L=h-32,P=Rr,_=255-u[L-1];for(N=0;N<y;++N){var I,O=P,U=_+u[h-1];for(I=0;I<y;++I)u[h+I]=O[U+u[L+I]];h+=32}}function bf(u,h){Pl(u,h,4)}function xf(u,h){Pl(u,h,8)}function wf(u,h){Pl(u,h,16)}function sa(u,h){var y;for(y=0;16>y;++y)r(u,h+32*y,u,h-32,16)}function ao(u,h){var y;for(y=16;0<y;--y)i(u,h,u[h-1],16),h+=32}function so(u,h,y){var N;for(N=0;16>N;++N)i(h,y+32*N,u,16)}function Nu(u,h){var y,N=16;for(y=0;16>y;++y)N+=u[h-1+32*y]+u[h+y-32];so(N>>5,u,h)}function Wn(u,h){var y,N=8;for(y=0;16>y;++y)N+=u[h-1+32*y];so(N>>4,u,h)}function Sf(u,h){var y,N=8;for(y=0;16>y;++y)N+=u[h+y-32];so(N>>4,u,h)}function ju(u,h){so(128,u,h)}function ct(u,h,y){return u+2*h+y+2>>2}function Nf(u,h){var y,N=h-32;for(N=new Uint8Array([ct(u[N-1],u[N+0],u[N+1]),ct(u[N+0],u[N+1],u[N+2]),ct(u[N+1],u[N+2],u[N+3]),ct(u[N+2],u[N+3],u[N+4])]),y=0;4>y;++y)r(u,h+32*y,N,0,N.length)}function jf(u,h){var y=u[h-1],N=u[h-1+32],L=u[h-1+64],P=u[h-1+96];be(u,h+0,16843009*ct(u[h-1-32],y,N)),be(u,h+32,16843009*ct(y,N,L)),be(u,h+64,16843009*ct(N,L,P)),be(u,h+96,16843009*ct(L,P,P))}function qi(u,h){var y,N=4;for(y=0;4>y;++y)N+=u[h+y-32]+u[h-1+32*y];for(N>>=3,y=0;4>y;++y)i(u,h+32*y,N,4)}function ku(u,h){var y=u[h-1+0],N=u[h-1+32],L=u[h-1+64],P=u[h-1-32],_=u[h+0-32],I=u[h+1-32],O=u[h+2-32],U=u[h+3-32];u[h+0+96]=ct(N,L,u[h-1+96]),u[h+1+96]=u[h+0+64]=ct(y,N,L),u[h+2+96]=u[h+1+64]=u[h+0+32]=ct(P,y,N),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=ct(_,P,y),u[h+3+64]=u[h+2+32]=u[h+1+0]=ct(I,_,P),u[h+3+32]=u[h+2+0]=ct(O,I,_),u[h+3+0]=ct(U,O,I)}function Au(u,h){var y=u[h+1-32],N=u[h+2-32],L=u[h+3-32],P=u[h+4-32],_=u[h+5-32],I=u[h+6-32],O=u[h+7-32];u[h+0+0]=ct(u[h+0-32],y,N),u[h+1+0]=u[h+0+32]=ct(y,N,L),u[h+2+0]=u[h+1+32]=u[h+0+64]=ct(N,L,P),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=ct(L,P,_),u[h+3+32]=u[h+2+64]=u[h+1+96]=ct(P,_,I),u[h+3+64]=u[h+2+96]=ct(_,I,O),u[h+3+96]=ct(I,O,O)}function oo(u,h){var y=u[h-1+0],N=u[h-1+32],L=u[h-1+64],P=u[h-1-32],_=u[h+0-32],I=u[h+1-32],O=u[h+2-32],U=u[h+3-32];u[h+0+0]=u[h+1+64]=P+_+1>>1,u[h+1+0]=u[h+2+64]=_+I+1>>1,u[h+2+0]=u[h+3+64]=I+O+1>>1,u[h+3+0]=O+U+1>>1,u[h+0+96]=ct(L,N,y),u[h+0+64]=ct(N,y,P),u[h+0+32]=u[h+1+96]=ct(y,P,_),u[h+1+32]=u[h+2+96]=ct(P,_,I),u[h+2+32]=u[h+3+96]=ct(_,I,O),u[h+3+32]=ct(I,O,U)}function _l(u,h){var y=u[h+0-32],N=u[h+1-32],L=u[h+2-32],P=u[h+3-32],_=u[h+4-32],I=u[h+5-32],O=u[h+6-32],U=u[h+7-32];u[h+0+0]=y+N+1>>1,u[h+1+0]=u[h+0+64]=N+L+1>>1,u[h+2+0]=u[h+1+64]=L+P+1>>1,u[h+3+0]=u[h+2+64]=P+_+1>>1,u[h+0+32]=ct(y,N,L),u[h+1+32]=u[h+0+96]=ct(N,L,P),u[h+2+32]=u[h+1+96]=ct(L,P,_),u[h+3+32]=u[h+2+96]=ct(P,_,I),u[h+3+64]=ct(_,I,O),u[h+3+96]=ct(I,O,U)}function kf(u,h){var y=u[h-1+0],N=u[h-1+32],L=u[h-1+64],P=u[h-1+96];u[h+0+0]=y+N+1>>1,u[h+2+0]=u[h+0+32]=N+L+1>>1,u[h+2+32]=u[h+0+64]=L+P+1>>1,u[h+1+0]=ct(y,N,L),u[h+3+0]=u[h+1+32]=ct(N,L,P),u[h+3+32]=u[h+1+64]=ct(L,P,P),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=P}function Af(u,h){var y=u[h-1+0],N=u[h-1+32],L=u[h-1+64],P=u[h-1+96],_=u[h-1-32],I=u[h+0-32],O=u[h+1-32],U=u[h+2-32];u[h+0+0]=u[h+2+32]=y+_+1>>1,u[h+0+32]=u[h+2+64]=N+y+1>>1,u[h+0+64]=u[h+2+96]=L+N+1>>1,u[h+0+96]=P+L+1>>1,u[h+3+0]=ct(I,O,U),u[h+2+0]=ct(_,I,O),u[h+1+0]=u[h+3+32]=ct(y,_,I),u[h+1+32]=u[h+3+64]=ct(N,y,_),u[h+1+64]=u[h+3+96]=ct(L,N,y),u[h+1+96]=ct(P,L,N)}function Lf(u,h){var y;for(y=0;8>y;++y)r(u,h+32*y,u,h-32,8)}function El(u,h){var y;for(y=0;8>y;++y)i(u,h,u[h-1],8),h+=32}function js(u,h,y){var N;for(N=0;8>N;++N)i(h,y+32*N,u,8)}function Ia(u,h){var y,N=8;for(y=0;8>y;++y)N+=u[h+y-32]+u[h-1+32*y];js(N>>4,u,h)}function Cf(u,h){var y,N=4;for(y=0;8>y;++y)N+=u[h+y-32];js(N>>3,u,h)}function ks(u,h){var y,N=4;for(y=0;8>y;++y)N+=u[h-1+32*y];js(N>>3,u,h)}function Fl(u,h){js(128,u,h)}function lo(u,h,y){var N=u[h-y],L=u[h+0],P=3*(L-N)+If[1020+u[h-2*y]-u[h+y]],_=Bu[112+(P+4>>3)];u[h-y]=Rr[255+N+Bu[112+(P+3>>3)]],u[h+0]=Rr[255+L-_]}function Lu(u,h,y,N){var L=u[h+0],P=u[h+y];return oi[255+u[h-2*y]-u[h-y]]>N||oi[255+P-L]>N}function Cu(u,h,y,N){return 4*oi[255+u[h-y]-u[h+0]]+oi[255+u[h-2*y]-u[h+y]]<=N}function Pu(u,h,y,N,L){var P=u[h-3*y],_=u[h-2*y],I=u[h-y],O=u[h+0],U=u[h+y],te=u[h+2*y],fe=u[h+3*y];return 4*oi[255+I-O]+oi[255+_-U]>N?0:oi[255+u[h-4*y]-P]<=L&&oi[255+P-_]<=L&&oi[255+_-I]<=L&&oi[255+fe-te]<=L&&oi[255+te-U]<=L&&oi[255+U-O]<=L}function _u(u,h,y,N){var L=2*N+1;for(N=0;16>N;++N)Cu(u,h+N,y,L)&&lo(u,h+N,y)}function zi(u,h,y,N){var L=2*N+1;for(N=0;16>N;++N)Cu(u,h+N*y,1,L)&&lo(u,h+N*y,1)}function oa(u,h,y,N){var L;for(L=3;0<L;--L)_u(u,h+=4*y,y,N)}function Pf(u,h,y,N){var L;for(L=3;0<L;--L)zi(u,h+=4,y,N)}function Ra(u,h,y,N,L,P,_,I){for(P=2*P+1;0<L--;){if(Pu(u,h,y,P,_))if(Lu(u,h,y,I))lo(u,h,y);else{var O=u,U=h,te=y,fe=O[U-2*te],pe=O[U-te],se=O[U+0],Ne=O[U+te],ge=O[U+2*te],ne=27*(xe=If[1020+3*(se-pe)+If[1020+fe-Ne]])+63>>7,re=18*xe+63>>7,xe=9*xe+63>>7;O[U-3*te]=Rr[255+O[U-3*te]+xe],O[U-2*te]=Rr[255+fe+re],O[U-te]=Rr[255+pe+ne],O[U+0]=Rr[255+se-ne],O[U+te]=Rr[255+Ne-re],O[U+2*te]=Rr[255+ge-xe]}h+=N}}function yi(u,h,y,N,L,P,_,I){for(P=2*P+1;0<L--;){if(Pu(u,h,y,P,_))if(Lu(u,h,y,I))lo(u,h,y);else{var O=u,U=h,te=y,fe=O[U-te],pe=O[U+0],se=O[U+te],Ne=Bu[112+((ge=3*(pe-fe))+4>>3)],ge=Bu[112+(ge+3>>3)],ne=Ne+1>>1;O[U-2*te]=Rr[255+O[U-2*te]+ne],O[U-te]=Rr[255+fe+ge],O[U+0]=Rr[255+pe-Ne],O[U+te]=Rr[255+se-ne]}h+=N}}function Tl(u,h,y,N,L,P){Ra(u,h,y,1,16,N,L,P)}function As(u,h,y,N,L,P){Ra(u,h,1,y,16,N,L,P)}function _f(u,h,y,N,L,P){var _;for(_=3;0<_;--_)yi(u,h+=4*y,y,1,16,N,L,P)}function co(u,h,y,N,L,P){var _;for(_=3;0<_;--_)yi(u,h+=4,1,y,16,N,L,P)}function Ef(u,h,y,N,L,P,_,I){Ra(u,h,L,1,8,P,_,I),Ra(y,N,L,1,8,P,_,I)}function Il(u,h,y,N,L,P,_,I){Ra(u,h,1,L,8,P,_,I),Ra(y,N,1,L,8,P,_,I)}function Rl(u,h,y,N,L,P,_,I){yi(u,h+4*L,L,1,8,P,_,I),yi(y,N+4*L,L,1,8,P,_,I)}function Eu(u,h,y,N,L,P,_,I){yi(u,h+4,1,L,8,P,_,I),yi(y,N+4,1,L,8,P,_,I)}function uo(){this.ba=new gr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Dl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ml(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Fu(){this.ua=0,this.Wa=new $,this.vb=new $,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new M}function Ff(){this.xb=this.a=0,this.l=new Xt,this.ca=new gr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Fu,this.ab=0,this.gc=s(4,Ml),this.Oc=0}function ho(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ls(u,h,y,N,L,P,_){for(u=u==null?0:u[h+0],h=0;h<_;++h)L[P+h]=u+y[N+h]&255,u=L[P+h]}function Ol(u,h,y,N,L,P,_){var I;if(u==null)Ls(null,null,y,N,L,P,_);else for(I=0;I<_;++I)L[P+I]=u[h+I]+y[N+I]&255}function Da(u,h,y,N,L,P,_){if(u==null)Ls(null,null,y,N,L,P,_);else{var I,O=u[h+0],U=O,te=O;for(I=0;I<_;++I)U=te+(O=u[h+I])-U,te=y[N+I]+(-256&U?0>U?0:255:U)&255,U=O,L[P+I]=te}}function Bl(u,h,y,N){var L=h.width,P=h.o;if(t(u!=null&&h!=null),0>y||0>=N||y+N>P)return null;if(!u.Cc){if(u.ga==null){var _;if(u.ga=new ho,(_=u.ga==null)||(_=h.width*h.o,t(u.Gb.length==0),u.Gb=a(_),u.Uc=0,u.Gb==null?_=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,_=1),_=!_),!_){_=u.ga;var I=u.Fa,O=u.P,U=u.qc,te=u.mb,fe=u.nb,pe=O+1,se=U-1,Ne=_.l;if(t(I!=null&&te!=null&&h!=null),Ua[0]=null,Ua[1]=Ls,Ua[2]=Ol,Ua[3]=Da,_.ca=te,_.tb=fe,_.c=h.width,_.i=h.height,t(0<_.c&&0<_.i),1>=U)h=0;else if(_.$a=I[O+0]>>0&3,_.Z=I[O+0]>>2&3,_.Lc=I[O+0]>>4&3,O=I[O+0]>>6&3,0>_.$a||1<_.$a||4<=_.Z||1<_.Lc||O)h=0;else if(Ne.put=Er,Ne.ac=Nn,Ne.bc=Xr,Ne.ma=_,Ne.width=h.width,Ne.height=h.height,Ne.Da=h.Da,Ne.v=h.v,Ne.va=h.va,Ne.j=h.j,Ne.o=h.o,_.$a)e:{t(_.$a==1),h=ar();t:for(;;){if(h==null){h=0;break e}if(t(_!=null),_.mc=h,h.c=_.c,h.i=_.i,h.l=_.l,h.l.ma=_,h.l.width=_.c,h.l.height=_.i,h.a=0,G(h.m,I,pe,se),!Ir(_.c,_.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&Qr(h.s)?(_.ic=1,I=h.c*h.i,h.Ta=null,h.Ua=0,h.V=a(I),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(_.ic=0,h=ia(h,_.c)),!h))break t;h=1;break e}_.mc=null,h=0}else h=se>=_.c*_.i;_=!h}if(_)return null;u.ga.Lc!=1?u.Ga=0:N=P-y}t(u.ga!=null),t(y+N<=P);e:{if(h=(I=u.ga).c,P=I.l.o,I.$a==0){if(pe=u.rc,se=u.Vc,Ne=u.Fa,O=u.P+1+y*h,U=u.mb,te=u.nb+y*h,t(O<=u.P+u.qc),I.Z!=0)for(t(Ua[I.Z]!=null),_=0;_<N;++_)Ua[I.Z](pe,se,Ne,O,U,te,h),pe=U,se=te,te+=h,O+=h;else for(_=0;_<N;++_)r(U,te,Ne,O,h),pe=U,se=te,te+=h,O+=h;u.rc=pe,u.Vc=se}else{if(t(I.mc!=null),h=y+N,t((_=I.mc)!=null),t(h<=_.i),_.C>=h)h=1;else if(I.ic||ce(),I.ic){I=_.V,pe=_.Ba,se=_.c;var ge=_.i,ne=(Ne=1,O=_.$/se,U=_.$%se,te=_.m,fe=_.s,_.$),re=se*ge,xe=se*h,je=fe.wc,Se=ne<xe?rn(fe,U,O):null;t(ne<=re),t(h<=ge),t(Qr(fe));t:for(;;){for(;!te.h&&ne<xe;){if(U&je||(Se=rn(fe,U,O)),t(Se!=null),Q(te),256>(ge=_n(Se.G[0],Se.H[0],te)))I[pe+ne]=ge,++ne,++U>=se&&(U=0,++O<=h&&!(O%16)&&Zr(_,O));else{if(!(280>ge)){Ne=0;break t}ge=Fr(ge-256,te);var Ue,Re=_n(Se.G[4],Se.H[4],te);if(Q(te),!(ne>=(Re=Yr(se,Re=Fr(Re,te)))&&re-ne>=ge)){Ne=0;break t}for(Ue=0;Ue<ge;++Ue)I[pe+ne+Ue]=I[pe+ne+Ue-Re];for(ne+=ge,U+=ge;U>=se;)U-=se,++O<=h&&!(O%16)&&Zr(_,O);ne<xe&&U&je&&(Se=rn(fe,U,O))}t(te.h==V(te))}Zr(_,O>h?h:O);break t}!Ne||te.h&&ne<re?(Ne=0,_.a=te.h?5:3):_.$=ne,h=Ne}else h=Tr(_,_.V,_.Ba,_.c,_.i,h,Di);if(!h){N=0;break e}}y+N>=P&&(u.Cc=1),N=1}if(!N)return null;if(u.Cc&&((N=u.ga)!=null&&(N.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*L}function g(u,h,y,N,L,P){for(;0<L--;){var _,I=u,O=h+(y?1:0),U=u,te=h+(y?0:3);for(_=0;_<N;++_){var fe=U[te+4*_];fe!=255&&(fe*=32897,I[O+4*_+0]=I[O+4*_+0]*fe>>23,I[O+4*_+1]=I[O+4*_+1]*fe>>23,I[O+4*_+2]=I[O+4*_+2]*fe>>23)}h+=P}}function C(u,h,y,N,L){for(;0<N--;){var P;for(P=0;P<y;++P){var _=u[h+2*P+0],I=15&(U=u[h+2*P+1]),O=4369*I,U=(240&U|U>>4)*O>>16;u[h+2*P+0]=(240&_|_>>4)*O>>16&240|(15&_|_<<4)*O>>16>>4&15,u[h+2*P+1]=240&U|I}h+=L}}function W(u,h,y,N,L,P,_,I){var O,U,te=255;for(U=0;U<L;++U){for(O=0;O<N;++O){var fe=u[h+O];P[_+4*O]=fe,te&=fe}h+=y,_+=I}return te!=255}function ee(u,h,y,N,L){var P;for(P=0;P<L;++P)y[N+P]=u[h+P]>>8}function ce(){si=g,qt=C,zt=W,dn=ee}function ye(u,h,y){T[u]=function(N,L,P,_,I,O,U,te,fe,pe,se,Ne,ge,ne,re,xe,je){var Se,Ue=je-1>>1,Re=I[O+0]|U[te+0]<<16,nt=fe[pe+0]|se[Ne+0]<<16;t(N!=null);var Me=3*Re+nt+131074>>2;for(h(N[L+0],255&Me,Me>>16,ge,ne),P!=null&&(Me=3*nt+Re+131074>>2,h(P[_+0],255&Me,Me>>16,re,xe)),Se=1;Se<=Ue;++Se){var Lt=I[O+Se]|U[te+Se]<<16,_t=fe[pe+Se]|se[Ne+Se]<<16,St=Re+Lt+nt+_t+524296,yt=St+2*(Lt+nt)>>3;Me=yt+Re>>1,Re=(St=St+2*(Re+_t)>>3)+Lt>>1,h(N[L+2*Se-1],255&Me,Me>>16,ge,ne+(2*Se-1)*y),h(N[L+2*Se-0],255&Re,Re>>16,ge,ne+(2*Se-0)*y),P!=null&&(Me=St+nt>>1,Re=yt+_t>>1,h(P[_+2*Se-1],255&Me,Me>>16,re,xe+(2*Se-1)*y),h(P[_+2*Se+0],255&Re,Re>>16,re,xe+(2*Se+0)*y)),Re=Lt,nt=_t}1&je||(Me=3*Re+nt+131074>>2,h(N[L+je-1],255&Me,Me>>16,ge,ne+(je-1)*y),P!=null&&(Me=3*nt+Re+131074>>2,h(P[_+je-1],255&Me,Me>>16,re,xe+(je-1)*y)))}}function Ae(){li[qu]=e4,li[zu]=dg,li[sg]=t4,li[Uu]=hg,li[Vu]=fg,li[Rf]=pg,li[og]=n4,li[Df]=dg,li[Mf]=hg,li[Hu]=fg,li[Of]=pg}function ze(u){return u&~r4?0>u?0:255:u>>mg}function Ze(u,h){return ze((19077*u>>8)+(26149*h>>8)-14234)}function ht(u,h,y){return ze((19077*u>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function ut(u,h){return ze((19077*u>>8)+(33050*h>>8)-17685)}function xt(u,h,y,N,L){N[L+0]=Ze(u,y),N[L+1]=ht(u,h,y),N[L+2]=ut(u,h)}function Jt(u,h,y,N,L){N[L+0]=ut(u,h),N[L+1]=ht(u,h,y),N[L+2]=Ze(u,y)}function cn(u,h,y,N,L){var P=ht(u,h,y);h=P<<3&224|ut(u,h)>>3,N[L+0]=248&Ze(u,y)|P>>5,N[L+1]=h}function yn(u,h,y,N,L){var P=240&ut(u,h)|15;N[L+0]=240&Ze(u,y)|ht(u,h,y)>>4,N[L+1]=P}function $n(u,h,y,N,L){N[L+0]=255,xt(u,h,y,N,L+1)}function Tn(u,h,y,N,L){Jt(u,h,y,N,L),N[L+3]=255}function bi(u,h,y,N,L){xt(u,h,y,N,L),N[L+3]=255}function ni(u,h){return 0>u?0:u>h?h:u}function Ui(u,h,y){T[u]=function(N,L,P,_,I,O,U,te,fe){for(var pe=te+(-2&fe)*y;te!=pe;)h(N[L+0],P[_+0],I[O+0],U,te),h(N[L+1],P[_+0],I[O+0],U,te+y),L+=2,++_,++O,te+=2*y;1&fe&&h(N[L+0],P[_+0],I[O+0],U,te)}}function Tu(u,h,y){return y==0?u==0?h==0?6:5:h==0?4:0:y}function ql(u,h,y,N,L){switch(u>>>30){case 3:ua(h,y,N,L,0);break;case 2:un(h,y,N,L);break;case 1:lr(h,y,N,L)}}function zl(u,h){var y,N,L=h.M,P=h.Nb,_=u.oc,I=u.pc+40,O=u.oc,U=u.pc+584,te=u.oc,fe=u.pc+600;for(y=0;16>y;++y)_[I+32*y-1]=129;for(y=0;8>y;++y)O[U+32*y-1]=129,te[fe+32*y-1]=129;for(0<L?_[I-1-32]=O[U-1-32]=te[fe-1-32]=129:(i(_,I-32-1,127,21),i(O,U-32-1,127,9),i(te,fe-32-1,127,9)),N=0;N<u.za;++N){var pe=h.ya[h.aa+N];if(0<N){for(y=-1;16>y;++y)r(_,I+32*y-4,_,I+32*y+12,4);for(y=-1;8>y;++y)r(O,U+32*y-4,O,U+32*y+4,4),r(te,fe+32*y-4,te,fe+32*y+4,4)}var se=u.Gd,Ne=u.Hd+N,ge=pe.ad,ne=pe.Hc;if(0<L&&(r(_,I-32,se[Ne].y,0,16),r(O,U-32,se[Ne].f,0,8),r(te,fe-32,se[Ne].ea,0,8)),pe.Za){var re=_,xe=I-32+16;for(0<L&&(N>=u.za-1?i(re,xe,se[Ne].y[15],4):r(re,xe,se[Ne+1].y,0,4)),y=0;4>y;y++)re[xe+128+y]=re[xe+256+y]=re[xe+384+y]=re[xe+0+y];for(y=0;16>y;++y,ne<<=2)re=_,xe=I+vg[y],xi[pe.Ob[y]](re,xe),ql(ne,ge,16*+y,re,xe)}else if(re=Tu(N,L,pe.Ob[0]),za[re](_,I),ne!=0)for(y=0;16>y;++y,ne<<=2)ql(ne,ge,16*+y,_,I+vg[y]);for(y=pe.Gc,re=Tu(N,L,pe.Dd),ha[re](O,U),ha[re](te,fe),ne=ge,re=O,xe=U,255&(pe=y>>0)&&(170&pe?$l(ne,256,re,xe):ii(ne,256,re,xe)),pe=te,ne=fe,255&(y>>=8)&&(170&y?$l(ge,320,pe,ne):ii(ge,320,pe,ne)),L<u.Ub-1&&(r(se[Ne].y,0,_,I+480,16),r(se[Ne].f,0,O,U+224,8),r(se[Ne].ea,0,te,fe+224,8)),y=8*P*u.B,se=u.sa,Ne=u.ta+16*N+16*P*u.R,ge=u.qa,pe=u.ra+8*N+y,ne=u.Ha,re=u.Ia+8*N+y,y=0;16>y;++y)r(se,Ne+y*u.R,_,I+32*y,16);for(y=0;8>y;++y)r(ge,pe+y*u.B,O,U+32*y,8),r(ne,re+y*u.B,te,fe+32*y,8)}}function fo(u,h,y,N,L,P,_,I,O){var U=[0],te=[0],fe=0,pe=O!=null?O.kd:0,se=O??new Dl;if(u==null||12>y)return 7;se.data=u,se.w=h,se.ha=y,h=[h],y=[y],se.gb=[se.gb];e:{var Ne=h,ge=y,ne=se.gb;if(t(u!=null),t(ge!=null),t(ne!=null),ne[0]=0,12<=ge[0]&&!n(u,Ne[0],"RIFF")){if(n(u,Ne[0]+8,"WEBP")){ne=3;break e}var re=Ce(u,Ne[0]+4);if(12>re||4294967286<re){ne=3;break e}if(pe&&re>ge[0]-8){ne=7;break e}ne[0]=re,Ne[0]+=12,ge[0]-=12}ne=0}if(ne!=0)return ne;for(re=0<se.gb[0],y=y[0];;){e:{var xe=u;ge=h,ne=y;var je=U,Se=te,Ue=Ne=[0];if((Me=fe=[fe])[0]=0,8>ne[0])ne=7;else{if(!n(xe,ge[0],"VP8X")){if(Ce(xe,ge[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var Re=Ce(xe,ge[0]+8),nt=1+Te(xe,ge[0]+12);if(2147483648<=nt*(xe=1+Te(xe,ge[0]+15))){ne=3;break e}Ue!=null&&(Ue[0]=Re),je!=null&&(je[0]=nt),Se!=null&&(Se[0]=xe),ge[0]+=18,ne[0]-=18,Me[0]=1}ne=0}}if(fe=fe[0],Ne=Ne[0],ne!=0)return ne;if(ge=!!(2&Ne),!re&&fe)return 3;if(P!=null&&(P[0]=!!(16&Ne)),_!=null&&(_[0]=ge),I!=null&&(I[0]=0),_=U[0],Ne=te[0],fe&&ge&&O==null){ne=0;break}if(4>y){ne=7;break}if(re&&fe||!re&&!fe&&!n(u,h[0],"ALPH")){y=[y],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{Re=u,ne=h,re=y;var Me=se.gb;je=se.na,Se=se.P,Ue=se.Sa,nt=22,t(Re!=null),t(re!=null),xe=ne[0];var Lt=re[0];for(t(je!=null),t(Ue!=null),je[0]=null,Se[0]=null,Ue[0]=0;;){if(ne[0]=xe,re[0]=Lt,8>Lt){ne=7;break e}var _t=Ce(Re,xe+4);if(4294967286<_t){ne=3;break e}var St=8+_t+1&-2;if(nt+=St,0<Me&&nt>Me){ne=3;break e}if(!n(Re,xe,"VP8 ")||!n(Re,xe,"VP8L")){ne=0;break e}if(Lt[0]<St){ne=7;break e}n(Re,xe,"ALPH")||(je[0]=Re,Se[0]=xe+8,Ue[0]=_t),xe+=St,Lt-=St}}if(y=y[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],ne!=0)break}y=[y],se.Ja=[se.Ja],se.xa=[se.xa];e:if(Me=u,ne=h,re=y,je=se.gb[0],Se=se.Ja,Ue=se.xa,Re=ne[0],xe=!n(Me,Re,"VP8 "),nt=!n(Me,Re,"VP8L"),t(Me!=null),t(re!=null),t(Se!=null),t(Ue!=null),8>re[0])ne=7;else{if(xe||nt){if(Me=Ce(Me,Re+4),12<=je&&Me>je-12){ne=3;break e}if(pe&&Me>re[0]-8){ne=7;break e}Se[0]=Me,ne[0]+=8,re[0]-=8,Ue[0]=nt}else Ue[0]=5<=re[0]&&Me[Re+0]==47&&!(Me[Re+4]>>5),Se[0]=re[0];ne=0}if(y=y[0],se.Ja=se.Ja[0],se.xa=se.xa[0],h=h[0],ne!=0)break;if(4294967286<se.Ja)return 3;if(I==null||ge||(I[0]=se.xa?2:1),_=[_],Ne=[Ne],se.xa){if(5>y){ne=7;break}I=_,pe=Ne,ge=P,u==null||5>y?u=0:5<=y&&u[h+0]==47&&!(u[h+4]>>5)?(re=[0],Me=[0],je=[0],G(Se=new A,u,h,y),tt(Se,re,Me,je)?(I!=null&&(I[0]=re[0]),pe!=null&&(pe[0]=Me[0]),ge!=null&&(ge[0]=je[0]),u=1):u=0):u=0}else{if(10>y){ne=7;break}I=Ne,u==null||10>y||!sr(u,h+3,y-3)?u=0:(pe=u[h+0]|u[h+1]<<8|u[h+2]<<16,ge=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=se.Ja||!ge||!u?u=0:(_&&(_[0]=ge),I&&(I[0]=u),u=1))}if(!u||(_=_[0],Ne=Ne[0],fe&&(U[0]!=_||te[0]!=Ne)))return 3;O!=null&&(O[0]=se,O.offset=h-O.w,t(4294967286>h-O.w),t(O.offset==O.ha-y));break}return ne==0||ne==7&&fe&&O==null?(P!=null&&(P[0]|=se.na!=null&&0<se.na.length),N!=null&&(N[0]=_),L!=null&&(L[0]=Ne),0):ne}function Ul(u,h,y){var N=h.width,L=h.height,P=0,_=0,I=N,O=L;if(h.Da=u!=null&&0<u.Da,h.Da&&(I=u.cd,O=u.bd,P=u.v,_=u.j,11>y||(P&=-2,_&=-2),0>P||0>_||0>=I||0>=O||P+I>N||_+O>L))return 0;if(h.v=P,h.j=_,h.va=P+I,h.o=_+O,h.U=I,h.T=O,h.da=u!=null&&0<u.da,h.da){if(!ot(I,O,y=[u.ib],P=[u.hb]))return 0;h.ib=y[0],h.hb=P[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*N/4&&h.hb<3*L/4,h.Kb=0),1}function Vl(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function po(u,h,y,N){if(N==null||0>=u||0>=h)return 2;if(y!=null){if(y.Da){var L=y.cd,P=y.bd,_=-2&y.v,I=-2&y.j;if(0>_||0>I||0>=L||0>=P||_+L>u||I+P>h)return 2;u=L,h=P}if(y.da){if(!ot(u,h,L=[y.ib],P=[y.hb]))return 2;u=L[0],h=P[0]}}N.width=u,N.height=h;e:{var O=N.width,U=N.height;if(u=N.S,0>=O||0>=U||!(u>=qu&&13>u))u=2;else{if(0>=N.Rd&&N.sd==null){_=P=L=h=0;var te=(I=O*yg[u])*U;if(11>u||(P=(U+1)/2*(h=(O+1)/2),u==12&&(_=(L=O)*U)),(U=a(te+2*P+_))==null){u=1;break e}N.sd=U,11>u?((O=N.f.RGBA).eb=U,O.fb=0,O.A=I,O.size=te):((O=N.f.kb).y=U,O.O=0,O.fa=I,O.Fd=te,O.f=U,O.N=0+te,O.Ab=h,O.Cd=P,O.ea=U,O.W=0+te+P,O.Db=h,O.Ed=P,u==12&&(O.F=U,O.J=0+te+2*P),O.Tc=_,O.lb=L)}if(h=1,L=N.S,P=N.width,_=N.height,L>=qu&&13>L)if(11>L)u=N.f.RGBA,h&=(I=Math.abs(u.A))*(_-1)+P<=u.size,h&=I>=P*yg[L],h&=u.eb!=null;else{u=N.f.kb,I=(P+1)/2,te=(_+1)/2,O=Math.abs(u.fa),U=Math.abs(u.Ab);var fe=Math.abs(u.Db),pe=Math.abs(u.lb),se=pe*(_-1)+P;h&=O*(_-1)+P<=u.Fd,h&=U*(te-1)+I<=u.Cd,h=(h&=fe*(te-1)+I<=u.Ed)&O>=P&U>=I&fe>=I,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,L==12&&(h&=pe>=P,h&=se<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||y!=null&&y.fd&&(u=Vl(N)),u}var Bn=64,mo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],go=24,vo=32,Hl=8,yr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(u){return u},T.Predictor2=function(u,h,y){return h[y+0]},T.Predictor3=function(u,h,y){return h[y+1]},T.Predictor4=function(u,h,y){return h[y-1]},T.Predictor5=function(u,h,y){return Ie(Ie(u,h[y+1]),h[y+0])},T.Predictor6=function(u,h,y){return Ie(u,h[y-1])},T.Predictor7=function(u,h,y){return Ie(u,h[y+0])},T.Predictor8=function(u,h,y){return Ie(h[y-1],h[y+0])},T.Predictor9=function(u,h,y){return Ie(h[y+0],h[y+1])},T.Predictor10=function(u,h,y){return Ie(Ie(u,h[y-1]),Ie(h[y+0],h[y+1]))},T.Predictor11=function(u,h,y){var N=h[y+0];return 0>=We(N>>24&255,u>>24&255,(h=h[y-1])>>24&255)+We(N>>16&255,u>>16&255,h>>16&255)+We(N>>8&255,u>>8&255,h>>8&255)+We(255&N,255&u,255&h)?N:u},T.Predictor12=function(u,h,y){var N=h[y+0];return(Ye((u>>24&255)+(N>>24&255)-((h=h[y-1])>>24&255))<<24|Ye((u>>16&255)+(N>>16&255)-(h>>16&255))<<16|Ye((u>>8&255)+(N>>8&255)-(h>>8&255))<<8|Ye((255&u)+(255&N)-(255&h)))>>>0},T.Predictor13=function(u,h,y){var N=h[y-1];return(ke((u=Ie(u,h[y+0]))>>24&255,N>>24&255)<<24|ke(u>>16&255,N>>16&255)<<16|ke(u>>8&255,N>>8&255)<<8|ke(u>>0&255,N>>0&255))>>>0};var Tf=T.PredictorAdd0;T.PredictorAdd1=Ke,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var Wl=T.PredictorAdd2;et("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Iu,ri=T.ColorIndexInverseTransform,yo=T.MapARGB,Ru=T.VP8LColorIndexInverseTransformAlpha,Du=T.MapAlpha,Ma=T.VP8LPredictorsAdd=[];Ma.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Cs,br,or,Oa,la,ca,bo,ua,un,$l,lr,ii,xo,Mu,Gl,Ps,_s,Ba,Es,wo,Fs,qa,Kl,ai,si,qt,zt,dn,An=a(511),da=a(2041),Xl=a(225),So=a(767),Ou=0,If=da,Bu=Xl,Rr=So,oi=An,qu=0,zu=1,sg=2,Uu=3,Vu=4,Rf=5,og=6,Df=7,Mf=8,Hu=9,Of=10,q3=[2,3,7],z3=[3,3,11],lg=[280,256,256,256,40],U3=[0,1,1,1,0],V3=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],H3=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],W3=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$3=8,Bf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],qf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Yl=null,G3=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],K3=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],cg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],X3=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Y3=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],J3=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Q3=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],za=[],xi=[],ha=[],Z3=1,ug=2,Ua=[],li=[];ye("UpsampleRgbLinePair",xt,3),ye("UpsampleBgrLinePair",Jt,3),ye("UpsampleRgbaLinePair",bi,4),ye("UpsampleBgraLinePair",Tn,4),ye("UpsampleArgbLinePair",$n,4),ye("UpsampleRgba4444LinePair",yn,2),ye("UpsampleRgb565LinePair",cn,2);var e4=T.UpsampleRgbLinePair,t4=T.UpsampleBgrLinePair,dg=T.UpsampleRgbaLinePair,hg=T.UpsampleBgraLinePair,fg=T.UpsampleArgbLinePair,pg=T.UpsampleRgba4444LinePair,n4=T.UpsampleRgb565LinePair,Wu=16,$u=1<<Wu-1,Jl=-227,zf=482,mg=6,r4=(256<<mg)-1,gg=0,i4=a(256),a4=a(256),s4=a(256),o4=a(256),l4=a(zf-Jl),c4=a(zf-Jl);Ui("YuvToRgbRow",xt,3),Ui("YuvToBgrRow",Jt,3),Ui("YuvToRgbaRow",bi,4),Ui("YuvToBgraRow",Tn,4),Ui("YuvToArgbRow",$n,4),Ui("YuvToRgba4444Row",yn,2),Ui("YuvToRgb565Row",cn,2);var vg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gu=[0,2,8],u4=[8,7,6,4,4,2,2,2,1,1,1,1],d4=1;this.WebPDecodeRGBA=function(u,h,y,N,L){var P=zu,_=new uo,I=new gr;_.ba=I,I.S=P,I.width=[I.width],I.height=[I.height];var O=I.width,U=I.height,te=new Kr;if(te==null||u==null)var fe=2;else t(te!=null),fe=fo(u,h,y,te.width,te.height,te.Pd,te.Qd,te.format,null);if(fe!=0?O=0:(O!=null&&(O[0]=te.width[0]),U!=null&&(U[0]=te.height[0]),O=1),O){I.width=I.width[0],I.height=I.height[0],N!=null&&(N[0]=I.width),L!=null&&(L[0]=I.height);e:{if(N=new Xt,(L=new Dl).data=u,L.w=h,L.ha=y,L.kd=1,h=[0],t(L!=null),((u=fo(L.data,L.w,L.ha,null,null,null,h,null,L))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(t(_!=null),N.data=L.data,N.w=L.w+L.offset,N.ha=L.ha-L.offset,N.put=Er,N.ac=Nn,N.bc=Xr,N.ma=_,L.xa){if((u=ar())==null){_=1;break e}if(function(pe,se){var Ne=[0],ge=[0],ne=[0];t:for(;;){if(pe==null)return 0;if(se==null)return pe.a=2,0;if(pe.l=se,pe.a=0,G(pe.m,se.data,se.w,se.ha),!tt(pe.m,Ne,ge,ne)){pe.a=3;break t}if(pe.xb=ug,se.width=Ne[0],se.height=ge[0],!Ir(Ne[0],ge[0],1,pe,null))break t;return 1}return t(pe.a!=0),0}(u,N)){if(N=(h=po(N.width,N.height,_.Oa,_.ba))==0){t:{N=u;n:for(;;){if(N==null){N=0;break t}if(t(N.s.yc!=null),t(N.s.Ya!=null),t(0<N.s.Wb),t((y=N.l)!=null),t((L=y.ma)!=null),N.xb!=0){if(N.ca=L.ba,N.tb=L.tb,t(N.ca!=null),!Ul(L.Oa,y,Uu)){N.a=2;break n}if(!ia(N,y.width)||y.da)break n;if((y.da||kt(N.ca.S))&&ce(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&ce()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!Je(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Tr(N,N.V,N.Ba,N.c,N.i,y.o,Jr))break n;L.Dc=N.Ma,N=1;break t}t(N.a!=0),N=0}N=!N}N&&(h=u.a)}else h=u.a}else{if((u=new jn)==null){_=1;break e}if(u.Fa=L.na,u.P=L.P,u.qc=L.Sa,En(u,N)){if((h=po(N.width,N.height,_.Oa,_.ba))==0){if(u.Aa=0,y=_.Oa,t((L=u)!=null),y!=null){if(0<(O=0>(O=y.Md)?0:100<O?255:255*O/100)){for(U=te=0;4>U;++U)12>(fe=L.pb[U]).lc&&(fe.ia=O*u4[0>fe.lc?0:fe.lc]>>3),te|=fe.ia;te&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=y.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}ti(u,N)||(h=u.a)}}else h=u.a}h==0&&_.Oa!=null&&_.Oa.fd&&(h=Vl(_.ba))}_=h}P=_!=0?null:11>P?I.f.RGBA.eb:I.f.kb.y}else P=null;return P};var yg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(T,J){for(var Z="",E=0;E<4;E++)Z+=String.fromCharCode(T[J++]);return Z}function p(T,J){return(T[J+0]<<0|T[J+1]<<8|T[J+2]<<16)>>>0}function f(T,J){return(T[J+0]<<0|T[J+1]<<8|T[J+2]<<16|T[J+3]<<24)>>>0}new c;var v=[0],m=[0],w=[],S=new c,k=e,b=function(T,J){var Z={},E=0,M=!1,K=0,z=0;if(Z.frames=[],!function(B,V,X,Q){for(var oe=0;oe<Q;oe++)if(B[V+oe]!=X.charCodeAt(oe))return!0;return!1}(T,J,"RIFF",4)){for(f(T,J+=4),J+=8;J<T.length;){var le=d(T,J),ie=f(T,J+=4);J+=4;var he=ie+(1&ie);switch(le){case"VP8 ":case"VP8L":Z.frames[E]===void 0&&(Z.frames[E]={}),(Y=Z.frames[E]).src_off=M?z:J-8,Y.src_size=K+ie+8,E++,M&&(M=!1,K=0,z=0);break;case"VP8X":(Y=Z.header={}).feature_flags=T[J];var G=J+4;Y.canvas_width=1+p(T,G),G+=3,Y.canvas_height=1+p(T,G),G+=3;break;case"ALPH":M=!0,K=he+8,z=J-8;break;case"ANIM":(Y=Z.header).bgcolor=f(T,J),G=J+4,Y.loop_count=(me=T)[(A=G)+0]<<0|me[A+1]<<8,G+=2;break;case"ANMF":var ae,Y;(Y=Z.frames[E]={}).offset_x=2*p(T,J),J+=3,Y.offset_y=2*p(T,J),J+=3,Y.width=1+p(T,J),J+=3,Y.height=1+p(T,J),J+=3,Y.duration=p(T,J),J+=3,ae=T[J++],Y.dispose=1&ae,Y.blend=ae>>1&1}le!="ANMF"&&(J+=he)}var me,A;return Z}}(k,0);b.response=k,b.rgbaoutput=!0,b.dataurl=!1;var x=b.header?b.header:null,j=b.frames?b.frames:null;if(x){x.loop_counter=x.loop_count,v=[x.canvas_height],m=[x.canvas_width];for(var R=0;R<j.length&&j[R].blend!=0;R++);}var q=j[0],H=S.WebPDecodeRGBA(k,q.src_off,q.src_size,m,v);q.rgba=H,q.imgwidth=m[0],q.imgheight=v[0];for(var D=0;D<m[0]*v[0]*4;D++)w[D]=H[D];return this.width=m,this.height=v,this.data=w,this}(function(e){var t=function(){return typeof o1=="function"},n=function(v,m,w,S){var k=4,b=s;switch(S){case e.image_compression.FAST:k=1,b=a;break;case e.image_compression.MEDIUM:k=6,b=o;break;case e.image_compression.SLOW:k=9,b=c}v=r(v,m,w,b);var x=o1(v,{level:k});return e.__addimage__.arrayBufferToBinaryString(x)},r=function(v,m,w,S){for(var k,b,x,j=v.length/m,R=new Uint8Array(v.length+j),q=p(),H=0;H<j;H+=1){if(x=H*m,k=v.subarray(x,x+m),S)R.set(S(k,w,b),x+H);else{for(var D,T=q.length,J=[];D<T;D+=1)J[D]=q[D](k,w,b);var Z=f(J.concat());R.set(J[Z],x+H)}b=k}return R},i=function(v){var m=Array.apply([],v);return m.unshift(0),m},a=function(v,m){var w,S=[],k=v.length;S[0]=1;for(var b=0;b<k;b+=1)w=v[b-m]||0,S[b+1]=v[b]-w+256&255;return S},s=function(v,m,w){var S,k=[],b=v.length;k[0]=2;for(var x=0;x<b;x+=1)S=w&&w[x]||0,k[x+1]=v[x]-S+256&255;return k},o=function(v,m,w){var S,k,b=[],x=v.length;b[0]=3;for(var j=0;j<x;j+=1)S=v[j-m]||0,k=w&&w[j]||0,b[j+1]=v[j]+256-(S+k>>>1)&255;return b},c=function(v,m,w){var S,k,b,x,j=[],R=v.length;j[0]=4;for(var q=0;q<R;q+=1)S=v[q-m]||0,k=w&&w[q]||0,b=w&&w[q-m]||0,x=d(S,k,b),j[q+1]=v[q]-x+256&255;return j},d=function(v,m,w){if(v===m&&m===w)return v;var S=Math.abs(m-w),k=Math.abs(v-w),b=Math.abs(v+m-w-w);return S<=k&&S<=b?v:k<=b?m:w},p=function(){return[i,a,s,o,c]},f=function(v){var m=v.map(function(w){return w.reduce(function(S,k){return S+Math.abs(k)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(v,m,w,S){var k,b,x,j,R,q,H,D,T,J,Z,E,M,K,z,le=this.decode.FLATE_DECODE,ie="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(x=new L7(v)).imgData,b=x.bits,k=x.colorSpace,R=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){T=(D=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,Z=new Uint8Array(T*x.colors),J=new Uint8Array(T);var he,G=x.pixelBitlength-x.bits;for(K=0,z=0;K<T;K++){for(M=D[K],he=0;he<G;)Z[z++]=M>>>he&255,he+=x.bits;J[K]=M>>>he&255}}if(x.bits===16){T=(D=new Uint32Array(x.decodePixels().buffer)).length,Z=new Uint8Array(T*(32/x.pixelBitlength)*x.colors),J=new Uint8Array(T*(32/x.pixelBitlength)),E=x.colors>1,K=0,z=0;for(var ae=0;K<T;)M=D[K++],Z[z++]=M>>>0&255,E&&(Z[z++]=M>>>16&255,M=D[K++],Z[z++]=M>>>0&255),J[ae++]=M>>>16&255;b=8}S!==e.image_compression.NONE&&t()?(v=n(Z,x.width*x.colors,x.colors,S),H=n(J,x.width,1,S)):(v=Z,H=J,le=void 0)}if(x.colorType===3&&(k=this.color_spaces.INDEXED,q=x.palette,x.transparency.indexed)){var Y=x.transparency.indexed,me=0;for(K=0,T=Y.length;K<T;++K)me+=Y[K];if((me/=255)===T-1&&Y.indexOf(0)!==-1)j=[Y.indexOf(0)];else if(me!==T){for(D=x.decodePixels(),J=new Uint8Array(D.length),K=0,T=D.length;K<T;K++)J[K]=Y[D[K]];H=n(J,x.width,1)}}var A=function(B){var V;switch(B){case e.image_compression.FAST:V=11;break;case e.image_compression.MEDIUM:V=13;break;case e.image_compression.SLOW:V=14;break;default:V=12}return V}(S);return le===this.decode.FLATE_DECODE&&(ie="/Predictor "+A+" "),ie+="/Colors "+R+" /BitsPerComponent "+b+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(H&&this.__addimage__.isArrayBuffer(H)||this.__addimage__.isArrayBufferView(H))&&(H=this.__addimage__.arrayBufferToBinaryString(H)),{alias:w,data:v,index:m,filter:le,decodeParameters:ie,transparency:j,palette:q,sMask:H,predictor:A,width:x.width,height:x.height,bitsPerComponent:b,colorSpace:k}}}})(rt.API),function(e){e.processGIF89A=function(t,n,r,i){var a=new C7(t),s=a.width,o=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:s,height:o},p=new Wp(100).encode(d,100);return e.processJPEG.call(this,p,n,r,i)},e.processGIF87A=e.processGIF89A}(rt.API),ji.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ji.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Ot.log("bit decode error:"+n)}},ji.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[a>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}n!==0&&(this.pos+=4-n)}},ji.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,o=a>>4,c=15&a,d=this.palette[o];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},ji.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},ji.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,d=a>>15?255:0,p=r*this.width*4+4*i;this.data[p]=c,this.data[p+1]=o,this.data[p+2]=s,this.data[p+3]=d}this.pos+=e}},ji.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&n)/n*255|0,d=(s>>11)/t*255|0,p=i*this.width*4+4*a;this.data[p]=d,this.data[p+1]=c,this.data[p+2]=o,this.data[p+3]=255}this.pos+=e}},ji.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},ji.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=s}},ji.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new ji(t,!1),s=a.width,o=a.height,c={data:a.getData(),width:s,height:o},d=new Wp(100).encode(c,100);return e.processJPEG.call(this,d,n,r,i)}}(rt.API),P5.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new P5(t),s=a.width,o=a.height,c={data:a.getData(),width:s,height:o},d=new Wp(100).encode(c,100);return e.processJPEG.call(this,d,n,r,i)}}(rt.API),rt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,c=0,d=0;d<i;d+=4){var p=r[d],f=r[d+1],v=r[d+2],m=r[d+3];a[o++]=p,a[o++]=f,a[o++]=v,s[c++]=m}var w=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:w,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},rt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Po=rt.API,Pd=Po.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,p=d.fof?d.fof:1,f=t.doKerning!==!1,v=0,m=e.length,w=0,S=o[0]||c,k=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(v=f&&Ft(d[r])==="object"&&!isNaN(parseInt(d[r][w],10))?d[r][w]/p:0,k.push((o[r]||S)/c+v)),w=r;return k},k5=Po.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Po.processArabic&&(e=Po.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Pd.apply(this,arguments).reduce(function(a,s){return a+s},0)},A5=function(e,t,n,r){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<n;)o+=t[a],a++;i.push(e.slice(0,a));var c=a;for(o=0;a!==s;)o+t[a]>r&&(i.push(e.slice(c,a)),o=0,c=a),o+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},L5=function(e,t,n){n||(n={});var r,i,a,s,o,c,d,p=[],f=[p],v=n.textIndent||0,m=0,w=0,S=e.split(" "),k=Pd.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var b=Array(c).join(" "),x=[];S.map(function(R){(R=R.split(/\s*\n/)).length>1?x=x.concat(R.map(function(q,H){return(H&&q.length?`
`:"")+q})):x.push(R[0])}),S=x,c=k5.apply(this,[b,n])}for(a=0,s=S.length;a<s;a++){var j=0;if(r=S[a],c&&r[0]==`
`&&(r=r.substr(1),j=1),v+m+(w=(i=Pd.apply(this,[r,n])).reduce(function(R,q){return R+q},0))>t||j){if(w>t){for(o=A5.apply(this,[r,i,t-(v+m),t]),p.push(o.shift()),p=[o.pop()];o.length;)f.push([o.shift()]);w=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(R,q){return R+q},0)}else p=[r];f.push(p),v=w+c,m=k}else p.push(r),v+=m+w,m=k}return d=c?function(R,q){return(q?b:"")+R.join(" ")}:function(R){return R.join(" ")},f.map(d)},Po.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var f=this.internal.getFont(p.fontName,p.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var o,c,d=[];for(o=0,c=r.length;o<c;o++)d=d.concat(L5.apply(this,[r[o],s,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var v,m,w,S,k=["{"];for(var b in f){if(v=f[b],isNaN(parseInt(b,10))?m="'"+b+"'":(b=parseInt(b,10),m=(m=a(b).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof v=="number")v<0?(w=a(v).slice(3),S="-"):(w=a(v).slice(2),S=""),w=S+w.slice(0,-1)+r[w.slice(-1)];else{if(Ft(v)!=="object")throw new Error("Don't know what to do with value type "+Ft(v)+".");w=s(v)}k.push(m+w)}return k.push("}"),k.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,m,w,S,k={},b=1,x=k,j=[],R="",q="",H=f.length-1,D=1;D<H;D+=1)(S=f[D])=="'"?v?(w=v.join(""),v=void 0):v=[]:v?v.push(S):S=="{"?(j.push([x,w]),x={},w=void 0):S=="}"?((m=j.pop())[0][m[1]]=x,w=void 0,x=m[0]):S=="-"?b=-1:w===void 0?n.hasOwnProperty(S)?(R+=n[S],w=parseInt(R,16)*b,b=1,R=""):R+=S:n.hasOwnProperty(S)?(q+=n[S],x[w]=parseInt(q,16)*b,b=1,w=void 0,q=""):q+=S;return k},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var v=f.font,m=p.Unicode[v.postScriptName];m&&(v.metadata.Unicode={},v.metadata.Unicode.widths=m.widths,v.metadata.Unicode.kerning=m.kerning);var w=d.Unicode[v.postScriptName];w&&(v.metadata.Unicode.encoding=w,v.encoding=w.codePages[0])}])}(rt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Dc(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(rt),function(e){function t(){return(st.canvg?Promise.resolve(st.canvg):Mc(()=>ih(()=>import("./index.es-4206122c-720dff6a.js"),["assets/index.es-4206122c-720dff6a.js","assets/supabaseClient-54ee3b77-3619cb53.js","assets/preload-helper-8235fac6-22690dc2.js","assets/creations-4ab0b6d9-52219f91.js"]),["assets/index.es-4206122c.js","assets/supabaseClient-54ee3b77.js","assets/preload-helper-8235fac6.js","assets/creations-4ab0b6d9.js"])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}rt.API.addSvgAsImage=function(n,r,i,a,s,o,c,d){if(isNaN(r)||isNaN(i))throw Ot.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Ot.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=a,p.height=s;var f=p.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,p.width,p.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(w){return w.fromString(f,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(v)}).then(function(){m.addImage(p.toDataURL("image/jpeg",1),r,i,a,s,c,d)})}}(),rt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},rt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],d=0,p=0,f=0;function v(w,S){var k,b=!1;for(k=0;k<w.length;k+=1)w[k]===S&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=o.length;for(f=0;f<m;f+=1)n[o[f]].value=n[o[f]].defaultValue,n[o[f]].explicitSet=!1}if(Ft(e)==="object"){for(i in e)if(a=e[i],v(o,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&v(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(d=0;d<a.length;d+=1)if(r=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(p=0;p<a[d].length;p+=1)typeof a[d][p]!="number"&&(r=!1);r===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,S=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?S.push("/"+w+" /"+n[w].value):S.push("/"+w+" "+n[w].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+s.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(rt.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,s){for(var o,c=s.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],f=0,v=a.length;f<v;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return p.join("");o=o.toString(16),p.push(d[4-o.length],o)}return p.join("")},r=function(a){var s,o,c,d,p,f,v;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,v=(o=Object.keys(a).sort(function(m,w){return m-w})).length;f<v;f++)s=o[f],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(d=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+d+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,c=s.out,d=s.newObject,p=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,v=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",w=0;w<v.length;w++)m+=String.fromCharCode(v[w]);var S=d();p({data:m,addLength1:!0,objectId:S}),c("endobj");var k=d();p({data:r(o.metadata.toUnicode),addLength1:!0,objectId:k}),c("endobj");var b=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Fo(o.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var x=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Fo(o.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+k+" 0 R"),c("/BaseFont /"+Fo(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,c=s.out,d=s.newObject,p=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,v="",m=0;m<f.length;m++)v+=String.fromCharCode(f[m]);var w=d();p({data:v,addLength1:!0,objectId:w}),c("endobj");var S=d();p({data:r(o.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var k=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+w+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Fo(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var b=0;b<o.metadata.hmtx.widths.length;b++)o.metadata.hmtx.widths[b]=parseInt(o.metadata.hmtx.widths[b]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Fo(o.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",c=a.x,d=a.y,p=a.options||{},f=a.mutex||{},v=f.pdfEscape,m=f.activeFontKey,w=f.fonts,S=m,k="",b=0,x="",j=w[S].encoding;if(w[S].encoding!=="Identity-H")return{text:o,x:c,y:d,options:p,mutex:f};for(x=o,S=m,Array.isArray(o)&&(x=o[0]),b=0;b<x.length;b+=1)w[S].metadata.hasOwnProperty("cmap")&&(s=w[S].metadata.cmap.unicode.codeMap[x[b].charCodeAt(0)]),s||x[b].charCodeAt(0)<256&&w[S].metadata.hasOwnProperty("Unicode")?k+=x[b]:k+="";var R="";return parseInt(S.slice(1))<14||j==="WinAnsiEncoding"?R=v(k,S).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(R=n(k,w[S])),f.isHex=!0,{text:R,x:c,y:d,options:p,mutex:f}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?o.push([i(Object.assign({},c,{text:s[d][0]})).text,s[d][1],s[d][2]]):o.push(i(Object.assign({},c,{text:s[d]})).text);a.text=o}else a.text=i(Object.assign({},c,{text:s})).text}])}(rt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(rt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,s,o,c,d,p,f=t,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,j=0;this.__bidiEngine__={};var R=function(E){var M=E.charCodeAt(),K=M>>8,z=S[K];return z!==void 0?f[256*z+(255&M)]:K===252||K===253?"AL":b.test(K)?"L":K===8?"R":"N"},q=function(E){for(var M,K=0;K<E.length;K++){if((M=R(E.charAt(K)))==="L")return!1;if(M==="R")return!0}return!1},H=function(E,M,K,z){var le,ie,he,G,ae=M[z];switch(ae){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(ae="AN");break;case"AL":x=!0,ae="R";break;case"WS":ae="N";break;case"CS":z<1||z+1>=M.length||(le=K[z-1])!=="EN"&&le!=="AN"||(ie=M[z+1])!=="EN"&&ie!=="AN"?ae="N":x&&(ie="AN"),ae=ie===le?ie:"N";break;case"ES":ae=(le=z>0?K[z-1]:"B")==="EN"&&z+1<M.length&&M[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&K[z-1]==="EN"){ae="EN";break}if(x){ae="N";break}for(he=z+1,G=M.length;he<G&&M[he]==="ET";)he++;ae=he<G&&M[he]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(G=M.length,he=z+1;he<G&&M[he]==="NSM";)he++;if(he<G){var Y=E[z],me=Y>=1425&&Y<=2303||Y===64286;if(le=M[he],me&&(le==="R"||le==="AL")){ae="R";break}}}ae=z<1||(le=M[z-1])==="B"?"N":K[z-1];break;case"B":x=!1,i=!0,ae=j;break;case"S":a=!0,ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":ae="N"}return ae},D=function(E,M,K){var z=E.split("");return K&&T(z,K,{hiLevel:j}),z.reverse(),M&&M.reverse(),z.join("")},T=function(E,M,K){var z,le,ie,he,G,ae=-1,Y=E.length,me=0,A=[],B=j?m:v,V=[];for(x=!1,i=!1,a=!1,le=0;le<Y;le++)V[le]=R(E[le]);for(ie=0;ie<Y;ie++){if(G=me,A[ie]=H(E,V,A,ie),z=240&(me=B[G][w[A[ie]]]),me&=15,M[ie]=he=B[me][5],z>0)if(z===16){for(le=ae;le<ie;le++)M[le]=1;ae=-1}else ae=-1;if(B[me][6])ae===-1&&(ae=ie);else if(ae>-1){for(le=ae;le<ie;le++)M[le]=he;ae=-1}V[ie]==="B"&&(M[ie]=0),K.hiLevel|=he}a&&function(X,Q,oe){for(var ue=0;ue<oe;ue++)if(X[ue]==="S"){Q[ue]=j;for(var de=ue-1;de>=0&&X[de]==="WS";de--)Q[de]=j}}(V,M,Y)},J=function(E,M,K,z,le){if(!(le.hiLevel<E)){if(E===1&&j===1&&!i)return M.reverse(),void(K&&K.reverse());for(var ie,he,G,ae,Y=M.length,me=0;me<Y;){if(z[me]>=E){for(G=me+1;G<Y&&z[G]>=E;)G++;for(ae=me,he=G-1;ae<he;ae++,he--)ie=M[ae],M[ae]=M[he],M[he]=ie,K&&(ie=K[ae],K[ae]=K[he],K[he]=ie);me=G}me++}}},Z=function(E,M,K){var z=E.split(""),le={hiLevel:j};return K||(K=[]),T(z,K,le),function(ie,he,G){if(G.hiLevel!==0&&p)for(var ae,Y=0;Y<ie.length;Y++)he[Y]===1&&(ae=k.indexOf(ie[Y]))>=0&&(ie[Y]=k[ae+1])}(z,K,le),J(2,z,M,K,le),J(1,z,M,K,le),z.join("")};return this.__bidiEngine__.doBidiReorder=function(E,M,K){if(function(le,ie){if(ie)for(var he=0;he<le.length;he++)ie[he]=he;o===void 0&&(o=q(le)),d===void 0&&(d=q(le))}(E,M),s||!c||d)if(s&&c&&o^d)j=o?1:0,E=D(E,M,K);else if(!s&&c&&d)j=o?1:0,E=Z(E,M,K),E=D(E,M);else if(!s||o||c||d){if(s&&!c&&o^d)E=D(E,M),o?(j=0,E=Z(E,M,K)):(j=1,E=Z(E,M,K),E=D(E,M));else if(s&&o&&!c&&d)j=1,E=Z(E,M,K),E=D(E,M);else if(!s&&!c&&o^d){var z=p;o?(j=1,E=Z(E,M,K),j=0,p=!1,E=Z(E,M,K),p=z):(j=0,E=Z(E,M,K),E=D(E,M),j=1,p=!1,E=Z(E,M,K),p=z,E=D(E,M))}}else j=0,E=Z(E,M,K);else j=o?1:0,E=Z(E,M,K);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,c=E.isOutputVisual,o=E.isInputRtl,d=E.isOutputRtl,p=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([n.doBidiReorder(i[o])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(rt),rt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new ys(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new V7(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new P7(this.contents),this.head=new E7(this),this.name=new D7(this),this.cmap=new f3(this),this.toUnicode={},this.hhea=new F7(this),this.maxp=new M7(this),this.hmtx=new O7(this),this.post=new I7(this),this.os2=new T7(this),this.loca=new U7(this),this.glyf=new B7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,d;for(d=[],s=0,o=(c=this.bbox).length;s<o;s++)t=c[s],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Ri,ys=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,s,o,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*o+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),P7=function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,s,o,c,d,p,f,v,m,w,S;for(S in m=Object.keys(n).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),s=Math.floor(f/c),p=16*m-f,(i=new ys).writeInt(this.scalarType),i.writeShort(m),i.writeShort(f),i.writeShort(s),i.writeShort(p),a=16*m,d=i.pos+a,o=null,w=[],n)for(v=n[S],i.writeString(S),i.writeInt(e(v)),i.writeInt(d),i.writeInt(v.length),w=w.concat(v),S==="head"&&(o=d),d+=v.length;d%4;)w.push(0),d++;return i.write(w),r=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,s;for(n=p3.call(n);n.length%4;)n.push(0);for(a=new ys(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},t}(),_7={}.hasOwnProperty,ta=function(e,t){for(var n in t)_7.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Ri=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var E7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,Ri),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new ys).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),_5=function(){function e(t,n){var r,i,a,s,o,c,d,p,f,v,m,w,S,k,b,x,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),v=m/2,t.pos+=6,a=function(){var R,q;for(q=[],c=R=0;0<=v?R<v:R>v;c=0<=v?++R:--R)q.push(t.readUInt16());return q}(),t.pos+=2,S=function(){var R,q;for(q=[],c=R=0;0<=v?R<v:R>v;c=0<=v?++R:--R)q.push(t.readUInt16());return q}(),d=function(){var R,q;for(q=[],c=R=0;0<=v?R<v:R>v;c=0<=v?++R:--R)q.push(t.readUInt16());return q}(),p=function(){var R,q;for(q=[],c=R=0;0<=v?R<v:R>v;c=0<=v?++R:--R)q.push(t.readUInt16());return q}(),i=(this.length-t.pos+this.offset)/2,o=function(){var R,q;for(q=[],c=R=0;0<=i?R<i:R>i;c=0<=i?++R:--R)q.push(t.readUInt16());return q}(),c=b=0,j=a.length;b<j;c=++b)for(k=a[c],r=x=w=S[c];w<=k?x<=k:x>=k;r=w<=k?++x:--x)p[c]===0?s=r+d[c]:(s=o[p[c]/2+(r-w)-(v-c)]||0)!==0&&(s+=d[c]),this.codeMap[r]=65535&s}t.pos=f}return e.encode=function(t,n){var r,i,a,s,o,c,d,p,f,v,m,w,S,k,b,x,j,R,q,H,D,T,J,Z,E,M,K,z,le,ie,he,G,ae,Y,me,A,B,V,X,Q,oe,ue,de,be,we,Te;switch(z=new ys,s=Object.keys(t).sort(function(Ce,Je){return Ce-Je}),n){case"macroman":for(S=0,k=function(){var Ce=[];for(w=0;w<256;++w)Ce.push(0);return Ce}(),x={0:0},a={},le=0,ae=s.length;le<ae;le++)x[de=t[i=s[le]]]==null&&(x[de]=++S),a[i]={old:t[i],new:x[t[i]]},k[i]=x[t[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(k),{charMap:a,subtable:z.data,maxGlyphID:S+1};case"unicode":for(M=[],f=[],j=0,x={},r={},b=d=null,ie=0,Y=s.length;ie<Y;ie++)x[q=t[i=s[ie]]]==null&&(x[q]=++j),r[i]={old:q,new:x[q]},o=x[q]-i,b!=null&&o===d||(b&&f.push(b),M.push(i),d=o),b=i;for(b&&f.push(b),f.push(65535),M.push(65535),Z=2*(J=M.length),T=2*Math.pow(Math.log(J)/Math.LN2,2),v=Math.log(T/2)/Math.LN2,D=2*J-T,c=[],H=[],m=[],w=he=0,me=M.length;he<me;w=++he){if(E=M[w],p=f[w],E===65535){c.push(0),H.push(0);break}if(E-(K=r[E].new)>=32768)for(c.push(0),H.push(2*(m.length+J-w)),i=G=E;E<=p?G<=p:G>=p;i=E<=p?++G:--G)m.push(r[i].new);else c.push(K-E),H.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*J+2*m.length),z.writeUInt16(0),z.writeUInt16(Z),z.writeUInt16(T),z.writeUInt16(v),z.writeUInt16(D),oe=0,A=f.length;oe<A;oe++)i=f[oe],z.writeUInt16(i);for(z.writeUInt16(0),ue=0,B=M.length;ue<B;ue++)i=M[ue],z.writeUInt16(i);for(be=0,V=c.length;be<V;be++)o=c[be],z.writeUInt16(o);for(we=0,X=H.length;we<X;we++)R=H[we],z.writeUInt16(R);for(Te=0,Q=m.length;Te<Q;Te++)S=m[Te],z.writeUInt16(S);return{charMap:r,subtable:z.data,maxGlyphID:j+1}}},e}(),f3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,Ri),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new _5(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=_5.encode(n,r),(a=new ys).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),F7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,Ri),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),T7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,Ri),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),I7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,Ri),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var s;for(i=n.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var o,c,d;for(d=[],s=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;s=0<=c?++o:--o)d.push(n.readUInt32());return d}).call(this)}},t}(),R7=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},D7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,Ri),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,a,s,o,c,d,p,f,v,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(d={},s=f=0,v=i.length;f<v;s=++f)a=i[s],n.pos=a.offset,p=n.readString(a.length),o=new R7(p,a),d[m=a.nameID]==null&&(d[m]=[]),d[a.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),M7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,Ri),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),O7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,Ri),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,a,s,o,c,d;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,f;for(f=[],r=p=0;0<=a?p<a:p>a;r=0<=a?++p:--p)f.push(n.readInt16());return f}(),this.widths=(function(){var p,f,v,m;for(m=[],p=0,f=(v=this.metrics).length;p<f;p++)s=v[p],m.push(s.advance);return m}).call(this),i=this.widths[this.widths.length-1],d=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)d.push(this.widths.push(i));return d},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),p3=[].slice,B7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,Ri),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,a,s,o,c,d,p,f,v;return n in this.cache?this.cache[n]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(n),(a=s.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(c=new ys(r.read(a))).readShort(),p=c.readShort(),v=c.readShort(),d=c.readShort(),f=c.readShort(),this.cache[n]=o===-1?new z7(c,p,v,d,f):new q7(c,o,p,v,d,f),this.cache[n]))},t.prototype.encode=function(n,r,i){var a,s,o,c,d;for(o=[],s=[],c=0,d=r.length;c<d;c++)a=n[r[c]],s.push(o.length),a&&(o=o.concat(a.encode(i)));return s.push(o.length),{table:o,offsets:s}},t}(),q7=function(){function e(t,n,r,i,a,s){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),z7=function(){function e(t,n,r,i,a){var s,o;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new ys(p3.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),U7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,Ri),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*n.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(n.readUInt32());return s}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<i.length;++o)if(i[o]=a,s<r.length&&r[s]==o){++s,i[o]=a;var c=this.offsets[o],d=this.offsets[o+1]-c;d>0&&(a+=d)}for(var p=new Array(4*i.length),f=0;f<i.length;++f)p[4*f+3]=255&i[f],p[4*f+2]=(65280&i[f])>>8,p[4*f+1]=(16711680&i[f])>>16,p[4*f]=(4278190080&i[f])>>24;return p},t}(),V7=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,s,o,c;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))r=c[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,s,o,c,d,p,f,v,m,w,S,k,b;for(i in r=f3.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),m={0:0},b=r.charMap)m[(c=b[i]).old]=c.new;for(w in v=r.maxGlyphID,s)w in m||(m[w]=v++);return p=function(x){var j,R;for(j in R={},x)R[x[j]]=j;return R}(m),f=Object.keys(p).sort(function(x,j){return x-j}),S=function(){var x,j,R;for(R=[],x=0,j=f.length;x<j;x++)o=f[x],R.push(p[o]);return R}(),a=this.font.glyf.encode(s,S,m),d=this.font.loca.encode(a.offsets,S),k={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},e}();rt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+function(){var o,c,d;for(d=[],o=0,c=n.length;o<c;o++)r=n[o],d.push(t.convert(r));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+n},t}();async function H7(e,t){try{const n={id:e,prenom:t.firstName,nom:t.lastName},{data:r,error:i}=await Nt.from("profiles").upsert(n,{onConflict:"id",returning:"representation"}).select().single();if(i)throw new Error(`Erreur mise  jour profil: ${i.message}`);return r}catch(n){throw n}}async function W7(e){var t,n,r,i;try{const{data:a,error:s}=await Nt.from("profiles").select("prenom, nom").eq("id",e.id).single(),o={id:e.id,email:e.email,prenom:(a==null?void 0:a.prenom)||((t=e.user_metadata)==null?void 0:t.firstName)||((n=e.user_metadata)==null?void 0:n.prenom)||null,nom:(a==null?void 0:a.nom)||((r=e.user_metadata)==null?void 0:r.lastName)||((i=e.user_metadata)==null?void 0:i.nom)||null,last_login:new Date().toISOString()},{data:c,error:d}=await Nt.from("profiles").upsert(o,{onConflict:"id",returning:"representation"}).select().single();if(d)throw new Error(`Erreur sync profil: ${d.message}`);return c}catch(a){throw a}}function Z0(){const[e,t]=F.useState(null),[n,r]=F.useState(!0);return F.useEffect(()=>{const i=async()=>{try{const{data:{session:s}}=await Nt.auth.getSession();if(!(s!=null&&s.user)){t(null),r(!1);return}try{await W7(s.user)}catch{}const o=s.user.email.split("@")[0],c={id:s.user.id,email:s.user.email,firstName:o,lastName:"",name:o},{data:d,error:p}=await Nt.from("profiles").select("*").eq("id",s.user.id).single();if(d){const f={...c,firstName:d.prenom||c.firstName,lastName:d.nom||"",name:`${d.prenom||c.firstName} ${d.nom||""}`.trim(),profile:d};t(f)}else t(c)}catch{t(null)}finally{r(!1)}};i();const{data:{subscription:a}}=Nt.auth.onAuthStateChange(async(s,o)=>{s==="SIGNED_IN"?i():s==="SIGNED_OUT"&&(t(null),r(!1))});return()=>a==null?void 0:a.unsubscribe()},[]),{user:e,loading:n}}function E5(e){return e.includes("security purposes")&&e.includes("request this")||e.includes("only request this after")?"Pour des raisons de scurit, vous ne pouvez faire cette demande que toutes les 60 secondes.":e.includes("Invalid email")?"Adresse email invalide.":e.includes("User not found")?"Aucun compte trouv avec cette adresse email.":e.includes("Too many requests")?"Trop de tentatives. Veuillez ressayer dans quelques minutes.":e}async function $7({email:e}){try{const{error:t}=await Nt.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return t?{error:{message:E5(t.message)}}:{data:{message:"Email de rinitialisation envoy avec succs"}}}catch(t){return{error:{message:"Erreur lors de l'envoi de l'email de rinitialisation: "+E5(t.message)}}}}const nh=(e,t=null)=>{if(!e||!e.trim())return;const n=t?`email_history_${t}`:"email_history_guest",r=localStorage.getItem(n);let i=[];if(r)try{i=JSON.parse(r)}catch{}const a=[e,...i.filter(s=>s!==e)].slice(0,5);localStorage.setItem(n,JSON.stringify(a))},G7=e=>{const[t,n]=F.useState([]),[r,i]=F.useState(!1),[a,s]=F.useState([]);return F.useEffect(()=>{const o=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",c=localStorage.getItem(o);if(c)try{const d=JSON.parse(c);n(d)}catch{}},[e]),{showSuggestions:r,filteredEmails:a,saveEmail:o=>{if(!o||!o.trim())return;const c=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",d=[o,...t.filter(p=>p!==o)].slice(0,5);n(d),localStorage.setItem(c,JSON.stringify(d))},removeEmail:o=>{const c=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",d=t.filter(p=>p!==o);n(d),localStorage.setItem(c,JSON.stringify(d)),s(p=>p.filter(f=>f!==o))},filterEmails:o=>{if(!o||o.length<1){s([]),i(!1);return}const c=t.filter(d=>d.toLowerCase().startsWith(o.toLowerCase()));s(c),i(c.length>0)},hideSuggestions:()=>i(!1)}},Jo=({value:e,onChange:t,placeholder:n,required:r,disabled:i,user:a,onEmailSubmit:s})=>{const{showSuggestions:o,filteredEmails:c,saveEmail:d,removeEmail:p,filterEmails:f,hideSuggestions:v}=G7(a),[m,w]=F.useState(e||""),[S,k]=F.useState(-1),b=F.useRef(null),x=F.useRef(null);F.useEffect(()=>{w(e||"")},[e]),F.useEffect(()=>{const H=D=>{x.current&&!x.current.contains(D.target)&&(v(),k(-1))};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[v]);const j=H=>{const D=H.target.value;w(D),t(H),f(D),k(-1)},R=H=>{var D;w(H),t({target:{value:H}}),v(),k(-1),(D=b.current)==null||D.focus()},q=H=>{if(!o||c.length===0){H.key==="Enter"&&s&&(d(m),s());return}switch(H.key){case"ArrowDown":H.preventDefault(),k(D=>D<c.length-1?D+1:D);break;case"ArrowUp":H.preventDefault(),k(D=>D>0?D-1:-1);break;case"Enter":H.preventDefault(),S>=0&&S<c.length?R(c[S]):s&&(d(m),s());break;case"Escape":v(),k(-1);break}};return l.jsxs("div",{className:"email-input-container",ref:x,children:[l.jsx("input",{ref:b,type:"email",value:m,onChange:j,onKeyDown:q,placeholder:n,required:r,disabled:i,autoComplete:"off"}),o&&c.length>0&&l.jsx("div",{className:"email-suggestions google-style",children:c.map((H,D)=>l.jsxs("div",{className:`email-suggestion-item ${D===S?"selected":""}`,onMouseEnter:()=>k(D),children:[l.jsx("div",{className:"email-suggestion-content",onClick:()=>R(H),children:H}),l.jsx("button",{type:"button",className:"email-suggestion-remove",onClick:T=>{T.stopPropagation(),p(H)},onMouseEnter:T=>T.stopPropagation(),title:"Supprimer cet email",children:""})]},D))})]})},K7=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i})=>{var a,s,o,c,d;const[p,f]=F.useState(!1),[v,m]=F.useState(!1),[w,S]=F.useState(!1),[k,b]=F.useState(!1),[x,j]=F.useState(""),[R,q]=F.useState(""),[H,D]=F.useState(""),[T,J]=F.useState(""),[Z,E]=F.useState(""),[M,K]=F.useState(!1),{user:z,loading:le}=Z0(),ie=!!z&&!le,he=F.useRef(null),[G,ae]=F.useState(""),[Y,me]=F.useState(""),[A,B]=F.useState("");F.useState(!1),F.useState("");const[V,X]=F.useState(!1),[Q,oe]=F.useState(!1),[ue,de]=F.useState(""),[be,we]=F.useState(!1),[Te,Ce]=F.useState(!1),[Je,ve]=F.useState(!1),[$,ot]=F.useState(!1);F.useEffect(()=>{(async()=>{if(!z||!z.id){Ce(!1);return}try{const{data:ke,error:We}=await Nt.from("profiles").select("role").eq("id",z.id).single();if(We){Ce(!1);return}const Ke=(ke==null?void 0:ke.role)==="admin"||(ke==null?void 0:ke.role)==="super_admin";Ce(Ke)}catch{Ce(!1)}})()},[z]);const $e=()=>Te,Le=async ke=>{ke.preventDefault(),E(""),K(!0);try{const{data:We,error:Ke}=await Nt.auth.signInWithPassword({email:x.trim(),password:R.trim()});if(Ke){E(Ke.message==="Invalid login credentials"?"Email ou mot de passe incorrect":Ke.message);return}We!=null&&We.user&&(nh(x.trim()),m(!1),f(!1),j(""),q(""),t&&t(We.user))}catch{E("Erreur de connexion. Vrifiez vos identifiants.")}finally{K(!1)}},Ee=async ke=>{ke.preventDefault(),E(""),K(!0);try{const{data:We,error:Ke}=await Nt.auth.signUp({email:x.trim(),password:R.trim(),options:{data:{firstName:H.trim(),lastName:T.trim(),name:`${H.trim()} ${T.trim()}`}}});if(Ke){E(Ke.message==="User already registered"?"Un compte existe dj avec cet email":Ke.message);return}We!=null&&We.user&&(nh(x.trim()),We.session?(S(!1),f(!1),j(""),q(""),D(""),J(""),r&&r(We.user)):E("Un email de confirmation a t envoy. Vrifiez votre bote mail."))}catch{E("Erreur d'inscription. Ressayez plus tard.")}finally{K(!1)}},De=async()=>{try{const{error:ke}=await Nt.auth.signOut();if(ke){E("Erreur lors de la dconnexion");return}f(!1),b(!1),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userFirstName"),localStorage.removeItem("userLastName"),localStorage.removeItem("friday_supabase_user"),n&&n(),window.location.reload()}catch{E("Erreur lors de la dconnexion")}},Ie=async ke=>{ke.preventDefault(),E(""),we(!0),E(""),nh(ue.trim());try{const{data:We,error:Ke}=await $7({email:ue.trim()});if(Ke){we(!1),E(Ke.message||"Erreur lors de l'envoi de l'email");return}}catch{we(!1),E("Erreur lors de l'envoi de l'email de rinitialisation")}},Ye=async()=>{if(!(!z||!z.id))try{const{data:ke,error:We}=await Nt.from("profiles").select("*").eq("id",z.id).single();!We&&ke&&(B(ke.email||z.email||""),ae(ke.prenom||""),me(ke.nom||""))}catch{}};return F.useEffect(()=>{var ke,We;z&&(B(z.email||""),ae(z.firstName||((ke=z.user_metadata)==null?void 0:ke.firstName)||""),me(z.lastName||((We=z.user_metadata)==null?void 0:We.lastName)||""))},[z]),F.useEffect(()=>{const ke=We=>{he.current&&!he.current.contains(We.target)&&(f(!1),m(!1),S(!1),b(!1),oe(!1),E(""))};return document.addEventListener("mousedown",ke),()=>{document.removeEventListener("mousedown",ke)}},[]),le?l.jsx("div",{className:"user-account",ref:he,children:l.jsx("div",{className:"user-avatar",children:l.jsx("span",{children:""})})}):l.jsx("div",{className:"user-account",ref:he,children:ie?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"user-avatar",onClick:()=>f(!p),children:l.jsx("span",{className:"user-initial",children:((s=(a=z==null?void 0:z.firstName)==null?void 0:a.charAt(0))==null?void 0:s.toUpperCase())||((c=(o=z==null?void 0:z.email)==null?void 0:o.charAt(0))==null?void 0:c.toUpperCase())||""})}),l.jsx(qr,{children:p&&l.jsxs(Fe.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[l.jsxs("div",{className:"user-info",children:[l.jsx("div",{className:"user-name",children:(z==null?void 0:z.firstName)||(z==null?void 0:z.name)||((d=z==null?void 0:z.email)==null?void 0:d.split("@")[0])}),l.jsx("div",{className:"user-email",children:z==null?void 0:z.email})]}),l.jsxs("div",{className:"dropdown-actions",children:[$e()&&l.jsx("button",{onClick:()=>{window.open("/ilmysv6iepwepoa4tj2k?auth=auto","_blank")},children:" Administration"}),l.jsx("button",{onClick:()=>{f(!1),b(!0)},children:"Mon profil"}),l.jsx("button",{onClick:()=>{f(!1),i&&i()},children:"Mon historique"}),l.jsx("button",{onClick:De,className:"logout-button",children:"Se dconnecter"})]})]})}),l.jsx(qr,{children:k&&l.jsx(Fe.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>b(!1),children:l.jsxs(Fe.div,{className:"auth-form profile-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:ke=>ke.stopPropagation(),children:[l.jsx("h3",{children:"Mon profil"}),l.jsxs("form",{onSubmit:async ke=>{ke.preventDefault(),E("");try{await H7(z.id,{firstName:G.trim(),lastName:Y.trim()}),await Ye(),X(!0),setTimeout(()=>X(!1),3e3)}catch(We){console.error("Erreur mise  jour profil:",We),E("Erreur lors de la mise  jour du profil")}},children:[l.jsx(Jo,{value:A,onChange:ke=>B(ke.target.value),placeholder:"Email",disabled:!0,user:z,onEmailSubmit:()=>{}}),l.jsx("input",{type:"text",placeholder:"Prnom",value:G,onChange:ke=>ae(ke.target.value)}),l.jsx("input",{type:"text",placeholder:"Nom",value:Y,onChange:ke=>me(ke.target.value)}),Z&&l.jsx("div",{className:"error-message",children:Z}),V&&l.jsx("div",{className:"success-message",children:"Profil mis  jour avec succs !"}),l.jsxs("div",{className:"form-buttons",children:[l.jsx("button",{type:"button",onClick:()=>b(!1),children:"Fermer"}),l.jsx("button",{type:"submit",children:"Mettre  jour"})]})]})]})})})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"user-avatar",onClick:()=>f(!p),children:l.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),l.jsx("path",{d:"M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),l.jsx(qr,{children:p&&l.jsx(Fe.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:l.jsxs("div",{className:"dropdown-actions",children:[l.jsx("button",{onClick:()=>{f(!1),m(!0),E("")},children:"Se connecter"}),l.jsx("button",{onClick:()=>{f(!1),S(!0),E("")},children:"Crer un compte"})]})})}),l.jsxs(qr,{children:[v&&l.jsx(Fe.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>m(!1),children:l.jsxs(Fe.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:ke=>ke.stopPropagation(),children:[l.jsx("h3",{children:"Connexion"}),l.jsxs("form",{onSubmit:Le,children:[l.jsx(Jo,{value:x,onChange:ke=>j(ke.target.value),placeholder:"Email",required:!0,disabled:M,user:null,onEmailSubmit:()=>{}}),l.jsxs("div",{className:"password-input-container",children:[l.jsx("input",{type:Je?"text":"password",placeholder:"Mot de passe",value:R,onChange:ke=>q(ke.target.value),required:!0,disabled:M,className:"password-input"}),l.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>ve(!Je),disabled:M,"aria-label":Je?"Masquer le mot de passe":"Afficher le mot de passe",children:Je?l.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):l.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),Z&&l.jsx("div",{className:"error-message",children:Z}),l.jsxs("div",{className:"form-buttons",children:[l.jsx("button",{type:"button",onClick:()=>{m(!1),S(!0),E("")},disabled:M,children:"Crer un compte"}),l.jsx("button",{type:"submit",disabled:M,children:M?"Connexion...":"Se connecter"})]}),l.jsx("button",{type:"button",className:"forgot-password-link",onClick:()=>{m(!1),oe(!0),E("")},disabled:M,children:"Mot de passe oubli ?"})]})]})}),w&&l.jsx(Fe.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>S(!1),children:l.jsxs(Fe.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:ke=>ke.stopPropagation(),children:[l.jsx("h3",{children:"Crer un compte"}),l.jsxs("form",{onSubmit:Ee,children:[l.jsx("input",{type:"text",placeholder:"Prnom",value:H,onChange:ke=>D(ke.target.value),required:!0,disabled:M}),l.jsx("input",{type:"text",placeholder:"Nom",value:T,onChange:ke=>J(ke.target.value),required:!0,disabled:M}),l.jsx(Jo,{value:x,onChange:ke=>j(ke.target.value),placeholder:"Email",required:!0,disabled:M,user:null,onEmailSubmit:()=>{}}),l.jsxs("div",{className:"password-input-container",children:[l.jsx("input",{type:$?"text":"password",placeholder:"Mot de passe (min 6 caractres)",value:R,onChange:ke=>q(ke.target.value),required:!0,minLength:6,disabled:M,className:"password-input"}),l.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>ot(!$),disabled:M,"aria-label":$?"Masquer le mot de passe":"Afficher le mot de passe",children:$?l.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):l.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),Z&&l.jsx("div",{className:"error-message",children:Z}),l.jsxs("div",{className:"form-buttons",children:[l.jsx("button",{type:"button",onClick:()=>{S(!1),m(!0),E("")},disabled:M,children:"Dj un compte ?"}),l.jsx("button",{type:"submit",disabled:M,children:M?"Cration...":"Crer le compte"})]})]})]})}),Q&&l.jsx(Fe.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>oe(!1),children:l.jsxs(Fe.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:ke=>ke.stopPropagation(),children:[l.jsx("h3",{children:"Rinitialiser le mot de passe"}),be?l.jsxs("div",{className:"success-message",children:[l.jsxs("p",{children:["Un email de rinitialisation a t envoy  ",ue]}),l.jsx("button",{onClick:()=>{oe(!1),m(!0),we(!1),de("")},children:"Retour  la connexion"})]}):l.jsxs("form",{onSubmit:Ie,children:[l.jsx(Jo,{value:ue,onChange:ke=>de(ke.target.value),placeholder:"Votre email",required:!0,user:null,onEmailSubmit:()=>{}}),Z&&l.jsx("div",{className:"error-message",children:Z}),l.jsxs("div",{className:"form-buttons",children:[l.jsx("button",{type:"button",onClick:()=>{oe(!1),m(!0),E("")},children:"Retour  la connexion"}),l.jsx("button",{type:"submit",children:"Envoyer le lien"})]})]})]})})]})]})})},X7=async(e,t,n,r={})=>{try{if(n==="fredagathe77@gmail.com")return{hasPermission:!0,reason:"admin_access",userRole:"admin",isAdmin:!0};const{data:i,error:a}=await Nt.from("profiles").select("role").eq("id",t).single();if((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="free")return{hasPermission:!0,reason:(i==null?void 0:i.role)==="admin"?"admin_access":"free_access",userRole:i==null?void 0:i.role,isAdmin:(i==null?void 0:i.role)==="admin"};const{data:s,error:o}=await Nt.functions.invoke("check-permission",{body:{contentType:e,userId:t,userEmail:n,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice}});return o?(console.error("Erreur check-permission:",o),{hasPermission:!1,reason:"error",error:o,isAdmin:!1}):{...s,isAdmin:!1}}catch(i){return{hasPermission:!1,reason:"error",error:i,isAdmin:!1}}},Y7=async(e,t,n,r={})=>{try{const i=pf(e,r),{data:a,error:s}=await Nt.functions.invoke("create-payment",{body:{contentType:e,userId:t,userEmail:n,amount:i.amount,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice}});if(s)throw s;return a}catch(i){throw i}},pf=(e,t={})=>{const n={comptine:{amount:149,name:"Comptine Musicale",currency:"EUR",display:"1,49"},histoire:{amount:49,name:"Histoire Texte",currency:"EUR",display:"0,49"},audio:{amount:69,name:"Histoire Audio",currency:"EUR",display:"0,69"},coloriage:{amount:49,name:"Coloriage Personnalis",currency:"EUR",display:"0,49"},coloring:{amount:49,name:"Coloriage personnalis",currency:"EUR",display:"0,49"},bd:{amount:99,name:"Page de Bande Dessine",currency:"EUR",display:"0,99"},comic:{amount:99,name:"Page de Bande Dessine",currency:"EUR",display:"0,99"},story:{amount:49,name:"Histoire Texte",currency:"EUR",display:"0,49"},rhyme:{amount:149,name:"Comptine musicale",currency:"EUR",display:"1,49"},animation:{amount:229,name:"Animation IA 30s",currency:"EUR",display:"2,29"}};if(e==="animation"&&t.duration){const r={30:{amount:229,name:"Animation IA 30s",display:"2,29"},60:{amount:379,name:"Animation IA 1min",display:"3,79"},120:{amount:619,name:"Animation IA 2min",display:"6,19"},180:{amount:859,name:"Animation IA 3min",display:"8,59"},240:{amount:1099,name:"Animation IA 4min",display:"10,99"},300:{amount:1339,name:"Animation IA 5min",display:"13,39"}},i=t.duration;if(r[i])return{...n[e],...r[i],currency:"EUR"}}if((e==="bd"||e==="comic")&&t.pages){const r=n[e].amount*t.pages,i=(r/100).toFixed(2).replace(".",",")+"";return{...n[e],amount:r,name:`${t.pages} page${t.pages>1?"s":""} de Bande Dessine`,display:i}}return n[e]||{amount:149,name:"Contenu Cratif",currency:"EUR",display:"1,49"}},m3=async(e,t)=>{try{if(t==="fredagathe77@gmail.com")return!0;const{data:n,error:r}=await Nt.from("profiles").select("role").eq("id",e).single();return r?!1:(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="free"}catch{return!1}},J7=async e=>{try{const{data:t,error:n}=await Nt.from("profiles").select("role").eq("id",e).single();return(t==null?void 0:t.role)||"user"}catch{return"user"}},g3=async(e,t,n,r)=>{try{const{data:i,error:a}=await Nt.from("generation_permissions").upsert({user_id:e,content_type:t,stripe_payment_intent_id:n,amount:r,status:"completed",created_at:new Date().toISOString()});if(a)throw a;return i}catch(i){throw i}},v3=async()=>{try{const{data:e,error:t}=await Nt.functions.invoke("manage-subscription",{body:{action:"get_plans"}});if(t)throw t;return e.plans||[]}catch(e){return console.error("Erreur rcupration plans:",e),[]}},eg=async e=>{try{const{data:t,error:n}=await Nt.functions.invoke("manage-subscription",{body:{action:"get_subscription",userId:e}});if(n)throw n;return t.subscription}catch(t){return console.error("Erreur rcupration abonnement:",t),null}},y3=async(e,t,n,r)=>{try{const{data:i,error:a}=await Nt.functions.invoke("manage-subscription",{body:{action:"create_subscription",planId:e,userId:t,paymentMethodId:n,userEmail:r}});if(a)throw a;return i}catch(i){throw console.error("Erreur cration abonnement:",i),i}},b3=async e=>{try{const{data:t,error:n}=await Nt.functions.invoke("manage-subscription",{body:{action:"cancel_subscription",userId:e}});if(n)throw n;return t}catch(t){throw console.error("Erreur annulation abonnement:",t),t}},Q7=async(e,t,n,r={})=>{try{const{data:i,error:a}=await Nt.functions.invoke("deduct-tokens",{body:{userId:e,contentType:t,tokensUsed:n,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice,transactionId:r.transactionId||`txn_${Date.now()}`}});if(a)throw a;return i}catch(i){throw console.error("Erreur dduction tokens:",i),i}},tg=async e=>{try{const{data:t,error:n}=await Nt.from("user_tokens").select("*").eq("user_id",e).is("used_at",null).or("expires_at.is.null,expires_at.gte."+new Date().toISOString()).order("created_at",{ascending:!1});if(n)throw n;return{totalTokens:t.reduce((r,i)=>r+i.tokens_amount,0),tokens:t}}catch(t){return console.error("Erreur rcupration tokens:",t),{totalTokens:0,tokens:[]}}},Z7=(e,t={},n=null)=>{var r;let i=1;if(n){const a=(r=n.subscription_plans)==null?void 0:r.name,s={Dcouverte:{histoire:3,audio:3,coloriage:2,bd:4,comptine:5,animation:10},Famille:{histoire:3,audio:3,coloriage:2,bd:3,comptine:4,animation:8},Cratif:{histoire:2,audio:2,coloriage:1,bd:2,comptine:3,animation:5},Institut:{histoire:1,audio:1,coloriage:1,bd:1,comptine:2,animation:3}};a&&s[a]&&(i=s[a][e]||1)}else i={histoire:1,audio:1,coloriage:1,bd:4,comptine:5,animation:10}[e]||1;if(e==="animation"&&t.duration){const a=t.duration;a===60?i=Math.ceil(i*1.5):a===120?i=Math.ceil(i*2.5):a===180?i=Math.ceil(i*4):a===240?i=Math.ceil(i*5):a===300&&(i=Math.ceil(i*6))}return(e==="bd"||e==="comic")&&t.pages&&(i=i*t.pages),i},eC=async(e,t=50)=>{try{const{data:n,error:r}=await Nt.from("user_tokens").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return n||[]}catch(n){return console.error("Erreur rcupration historique tokens:",n),[]}},tC=Object.freeze(Object.defineProperty({__proto__:null,calculateTokenCost:Z7,cancelSubscription:b3,checkPaymentPermission:X7,createPaymentSession:Y7,createSubscription:y3,deductTokens:Q7,getContentPrice:pf,getSubscriptionPlans:v3,getTokenHistory:eC,getUserRole:J7,getUserSubscription:eg,getUserTokens:tg,grantPermission:g3,hasFreeAccess:m3},Symbol.toStringTag,{value:"Module"})),nC=({userId:e,compact:t=!1})=>{var n;const[r,i]=F.useState({totalTokens:0,tokens:[]}),[a,s]=F.useState(null),[o,c]=F.useState(!0);F.useEffect(()=>{e&&d()},[e]);const d=async()=>{try{const[p,f]=await Promise.all([tg(e),eg(e)]);i(p),s(f)}catch(p){console.error("Erreur chargement donnes tokens:",p)}finally{c(!1)}};if(o)return l.jsxs("div",{className:`flex items-center ${t?"text-sm":"text-base"}`,children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-violet-600 mr-2"}),l.jsx("span",{className:"text-gray-500",children:"Chargement..."})]});if(a){const p=a.tokens_remaining||0,f=a.tokens_used_this_month||0,v=p+f;return l.jsxs("div",{className:`flex items-center ${t?"text-sm":"text-base"}`,children:[l.jsxs("div",{className:"bg-violet-100 text-violet-800 px-3 py-1 rounded-full font-medium flex items-center",children:[l.jsx("span",{className:"mr-1",children:""}),l.jsx("span",{children:p}),!t&&l.jsxs("span",{className:"text-violet-600 text-xs ml-1",children:["/",v]})]}),!t&&l.jsxs("div",{className:"ml-2 text-xs text-gray-600",children:[l.jsxs("div",{children:["Plan ",(n=a.subscription_plans)==null?void 0:n.name]}),l.jsxs("div",{className:"text-gray-500",children:["Renouvellement: ",new Date(a.current_period_end).toLocaleDateString("fr-FR")]})]})]})}return r.totalTokens>0?l.jsxs("div",{className:`flex items-center ${t?"text-sm":"text-base"}`,children:[l.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium flex items-center",children:[l.jsx("span",{className:"mr-1",children:""}),l.jsx("span",{children:r.totalTokens}),!t&&l.jsx("span",{className:"text-green-600 text-xs ml-1",children:"tokens"})]}),!t&&l.jsxs("div",{className:"ml-2 text-xs text-gray-600",children:[l.jsx("div",{children:"Crdits disponibles"}),l.jsxs("div",{className:"text-gray-500",children:[r.tokens.length," transaction",r.tokens.length>1?"s":""]})]})]}):l.jsxs("div",{className:`flex items-center ${t?"text-sm":"text-base"}`,children:[l.jsxs("div",{className:"bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-medium flex items-center",children:[l.jsx("span",{className:"mr-1",children:""}),l.jsx("span",{children:"0"}),!t&&l.jsx("span",{className:"text-gray-500 text-xs ml-1",children:"tokens"})]}),!t&&l.jsxs("div",{className:"ml-2 text-xs text-gray-600",children:[l.jsx("div",{children:"Aucun crdit"}),l.jsx("div",{className:"text-violet-600 cursor-pointer hover:underline",children:"S'abonner pour des tokens illimits"})]})]})},rC=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,userId:a,onOpenSubscription:s})=>l.jsxs("header",{className:"header",children:[l.jsxs("div",{className:"header-content",children:[l.jsx(Fe.div,{className:"logo",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:l.jsx("h1",{children:"HERBBIE"})}),l.jsx(Fe.h2,{className:"tagline",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:"Offrez  vos enfants des crations ludiques et imaginatives personnalises !"})]}),l.jsxs("div",{className:"user-account-container",children:[e&&a&&l.jsxs("div",{className:"flex items-center space-x-4 mr-4",children:[l.jsx(nC,{userId:a,compact:!0}),l.jsx("button",{onClick:s,className:"bg-violet-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-violet-700 transition-colors duration-200 text-sm",children:" Abonnement"})]}),l.jsx(K7,{isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i})]})]}),iC="/api/features";let Bh=null,ng=0;const aC=3e3,sC={animation:{enabled:!0,name:"Dessin anim",icon:"",description:"Gnration de dessins anims personnaliss avec IA"},comic:{enabled:!0,name:"Bande dessine",icon:"",description:"Cration de bandes dessines avec bulles de dialogue"},coloring:{enabled:!0,name:"Coloriage",icon:"",description:"Pages de coloriage  imprimer pour les enfants"},audio:{enabled:!0,name:"Histoire",icon:"",description:"Histoires audio avec narration automatique"},rhyme:{enabled:!0,name:"Comptine",icon:"",description:"Comptines musicales avec paroles et mlodies"}},x3=async()=>{try{const e=await fetch(iC,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();return Bh=t,ng=Date.now(),t}else throw console.error("Erreur API lors du chargement des fonctionnalits:",e.status),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors du chargement depuis l'API:",e),e}},oC=async()=>{try{const e=Date.now();return Bh&&e-ng<aC?Bh:await x3()}catch(e){return console.error("Erreur lors de la rcupration des fonctionnalits:",e),sC}},lC=async()=>{try{const e=await oC();return Object.entries(e).filter(([t,n])=>n.enabled).reduce((t,[n,r])=>(t[n]=r,t),{})}catch(e){return console.warn("Erreur lors de la rcupration des fonctionnalits actives:",e),{}}},cC=()=>{Bh=null,ng=0},uC=e=>{let t=null;const n=async()=>{try{cC();const i=await x3();JSON.stringify(i)!==JSON.stringify(t)&&e&&typeof e=="function"&&(t=i,e(i))}catch(i){console.error("Erreur lors de la vrification des changements:",i)}},r=setInterval(n,5e3);return n(),()=>{clearInterval(r)}},dC=({contentType:e,setContentType:t})=>{const[n,r]=F.useState({}),[i,a]=F.useState(!0);F.useEffect(()=>(s(),uC(async d=>{const p=Object.entries(d).filter(([f,v])=>v.enabled).reduce((f,[v,m])=>(f[v]=m,f),{});if(r(p),!p[e]&&e!=="animation"){const f=Object.keys(p).find(v=>p[v].enabled);f&&t(f)}})),[e,t]);const s=async()=>{try{a(!0);const d=await lC();r(d)}catch(d){console.error("Erreur lors du chargement des fonctionnalits:",d)}finally{a(!1)}},o=d=>{t(d)},c=Object.keys(n).length>0;return i?l.jsxs("div",{className:"content-type-selector",children:[l.jsx("h3",{children:"1. Choisissez le type de contenu"}),l.jsx("div",{className:"loading-message",children:l.jsx("p",{children:"Chargement des fonctionnalits..."})})]}):l.jsxs("div",{className:"content-type-selector",children:[l.jsx("h3",{children:"1. Choisissez le type de contenu"}),c?l.jsxs("div",{className:"content-type-options",children:[n.animation&&l.jsxs(Fe.div,{className:`content-type-option animation-full-width ${e==="animation"?"selected":""}`,onClick:()=>o("animation"),whileHover:{y:-5},whileTap:{scale:.98},children:[l.jsx("div",{className:"content-type-icon",children:""}),l.jsxs("div",{className:"content-type-details",children:[l.jsx("h4",{children:"Dessin anim"}),l.jsx("p",{children:"Crez un vritable dessin anim fluide et cohrent avec l'IA"})]})]}),n.comic&&l.jsxs(Fe.div,{className:`content-type-option ${e==="comic"?"selected":""}`,onClick:()=>o("comic"),whileHover:{y:-5},whileTap:{scale:.98},children:[l.jsx("div",{className:"content-type-icon",children:""}),l.jsxs("div",{className:"content-type-details",children:[l.jsx("h4",{children:"Bande dessine"}),l.jsx("p",{children:"Crez une vraie BD avec histoire cohrente et bulles de dialogue"})]})]}),n.coloring&&l.jsxs(Fe.div,{className:`content-type-option ${e==="coloring"?"selected":""}`,onClick:()=>o("coloring"),whileHover:{y:-5},whileTap:{scale:.98},children:[l.jsx("div",{className:"content-type-icon",children:""}),l.jsxs("div",{className:"content-type-details",children:[l.jsx("h4",{children:"Coloriage"}),l.jsx("p",{children:"Crez des dessins  colorier personnaliss en noir et blanc"})]})]}),n.audio&&l.jsxs(Fe.div,{className:`content-type-option ${e==="audio"?"selected":""}`,onClick:()=>o("audio"),whileHover:{y:-5},whileTap:{scale:.98},children:[l.jsx("div",{className:"content-type-icon",children:""}),l.jsxs("div",{className:"content-type-details",children:[l.jsx("h4",{children:"Histoire"}),l.jsx("p",{children:"Crez une histoire avec possibilit d'ajouter une narration audio"})]})]}),n.rhyme&&l.jsxs(Fe.div,{className:`content-type-option ${e==="rhyme"?"selected":""}`,onClick:()=>o("rhyme"),whileHover:{y:-5},whileTap:{scale:.98},children:[l.jsx("div",{className:"content-type-icon",children:""}),l.jsxs("div",{className:"content-type-details",children:[l.jsx("h4",{children:"Comptine"}),l.jsx("p",{children:"Crez une comptine musicale avec paroles et mlodie"})]})]})]}):l.jsx("div",{className:"no-features-message",children:l.jsx("p",{children:"Aucune fonctionnalit n'est actuellement disponible."})})]})},hC=[{id:"lullaby",title:"Berceuse douce",description:"Mlodie apaisante pour s'endormir",emoji:"",musicStyle:"gentle lullaby"},{id:"animal",title:"Comptine animalire",description:"Animaux et leurs sons en musique",emoji:"",musicStyle:"playful with animal sounds"},{id:"counting",title:"Comptine  compter",description:"Apprendre les chiffres en chanson",emoji:"",musicStyle:"upbeat educational"},{id:"colors",title:"Comptine des couleurs",description:"Dcouvrir les couleurs en musique",emoji:"",musicStyle:"cheerful and colorful"},{id:"alphabet",title:"Comptine de l'alphabet",description:"Apprendre les lettres en chantant",emoji:"",musicStyle:"educational and catchy"},{id:"family",title:"Comptine familiale",description:"Chanson sur la famille et l'amour",emoji:"",musicStyle:"warm and loving"},{id:"nature",title:"Comptine de la nature",description:"Explorer plantes, arbres et fleurs",emoji:"",musicStyle:"peaceful and natural"},{id:"seasonal",title:"Comptine saisonnire",description:"Clbrer saisons et merveilles",emoji:"",musicStyle:"festive and warm"},{id:"movement",title:"Comptine de mouvement",description:"Bouger, sauter et danser",emoji:"",musicStyle:"energetic dance rhythm"},{id:"emotions",title:"Comptine des motions",description:"Comprendre et exprimer sentiments",emoji:"",musicStyle:"expressive and gentle"},{id:"shapes",title:"Comptine des formes",description:"Apprendre les formes gomtriques",emoji:"",musicStyle:"playful educational"}],fC=({selectedRhyme:e,setSelectedRhyme:t,customRhyme:n,setCustomRhyme:r})=>{const i=a=>{t(e===a?"":a)};return l.jsxs("div",{className:"musical-rhyme-selector",children:[l.jsx("h3",{children:"2. Choisissez un type de comptine"}),l.jsxs("div",{className:"rhyme-grid",children:[l.jsxs("div",{className:"rhyme-slot",children:[l.jsxs(Fe.div,{className:`rhyme-card custom-rhyme ${e==="custom"?"selected":""}`,onClick:()=>i("custom"),whileHover:{y:-5},whileTap:{scale:.98},children:[l.jsx("div",{className:"rhyme-emoji",children:""}),l.jsx("h4",{children:"Personnalis"}),l.jsx("p",{children:"Comptine avec prnom ou thme perso"})]}),e==="custom"&&l.jsx(Fe.div,{className:"custom-rhyme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:l.jsx("textarea",{id:"customRhyme",value:n,onChange:a=>r(a.target.value),placeholder:"Dcrivez votre type de comptine personnalise...",className:"custom-textarea"})})]}),hC.map(a=>l.jsx("div",{className:"rhyme-slot",children:l.jsxs(Fe.div,{className:`rhyme-card ${e===a.id?"selected":""}`,onClick:()=>i(a.id),whileHover:{y:-5},whileTap:{scale:.98},children:[l.jsx("div",{className:"rhyme-emoji",children:a.emoji}),l.jsx("h4",{children:a.title}),l.jsx("p",{children:a.description})]})},a.id))]})]})},pC=[{id:"magic",title:"Monde magique",description:"Fes, sorciers, cratures enchantes",emoji:""},{id:"dinosaurs",title:"Temps des dinosaures",description:"Dinosaures gentils, voyages dans le temps",emoji:""},{id:"space",title:"Voyage spatial",description:"Plantes, fuses, aliens sympathiques",emoji:""},{id:"adventure",title:"Aventure fantastique",description:"Rebondissements, magie, dcouvertes",emoji:""},{id:"animals",title:"Amis animaux",description:"Animaux qui parlent, aventures sauvages",emoji:""},{id:"underwater",title:"Monde sous-marin",description:"Ocans, cratures marines, trsors",emoji:""},{id:"forest",title:"Fort enchante",description:"Fort mystrieuse, surprises magiques",emoji:""},{id:"funny",title:"Histoire drle",description:"Contes amusants, rires garantis",emoji:""},{id:"mystery",title:"Petit mystre",description:"nigmes pour enfants, investigations",emoji:""},{id:"friendship",title:"Belle amiti",description:"Histoire sur l'amiti, entraide",emoji:""},{id:"learning",title:"Conte ducatif",description:"Leons importantes, apprentissage",emoji:""},{id:"bedtime",title:"Histoire du soir",description:"Contes apaisants, sommeil doux",emoji:""},{id:"robots",title:"Robots amis",description:"Robots gentils, inventions magiques",emoji:""},{id:"pirates",title:"Pirates courageux",description:"Bateaux pirates, trsors cachs",emoji:""}],mC=[{id:"female",name:"Voix fminine"},{id:"male",name:"Voix masculine"}],gC=({selectedAudioStory:e,setSelectedAudioStory:t,customAudioStory:n,setCustomAudioStory:r,selectedVoice:i,setSelectedVoice:a})=>{const[s,o]=F.useState(!1),c=m=>{e===m?(t(""),o(!1)):(t(m),m!=="custom"&&o(!1))},d=()=>{e==="custom"?(t(""),o(!1)):(t("custom"),o(!0))},p=[{id:"custom",title:"Personnalis",description:"Crez votre propre type d'histoire unique",emoji:"",isCustom:!0},...pC],f=m=>{r(m.target.value)},v=m=>{a(i===m?null:m)};return l.jsxs("div",{className:"audio-story-selector",children:[l.jsx("h3",{children:"2. Choisissez un type d'histoire"}),l.jsx("div",{className:"audio-story-grid",children:p.map(m=>l.jsxs("div",{className:"audio-story-slot",children:[l.jsxs(Fe.div,{className:`audio-story-card ${m.isCustom?"custom-audio-story":""} ${e===m.id?"selected":""}`,onClick:()=>m.isCustom?d():c(m.id),whileHover:{y:-5},whileTap:{scale:.98},children:[l.jsx("div",{className:"audio-story-emoji",children:m.emoji}),l.jsx("h4",{children:m.title}),l.jsx("p",{children:m.description})]}),m.isCustom&&s&&e==="custom"&&l.jsx(Fe.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:l.jsx(Fe.textarea,{id:"customAudioStory",value:n,onChange:f,placeholder:"Ex: Un conte qui se droule dans un monde sous-marin avec des cratures magiques...",className:"custom-input",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})})]},m.id))}),l.jsxs("div",{className:"voice-selector-section",children:[l.jsx("h3",{children:"3. Choisissez une narration (optionnel)"}),l.jsx("div",{className:"voice-options",children:mC.map(m=>l.jsxs(Fe.div,{className:`voice-option ${i===m.id?"selected":""}`,onClick:()=>v(m.id),whileHover:{scale:1.03},whileTap:{scale:.98},children:[l.jsx("div",{className:"voice-icon",children:m.id==="female"?"":""}),l.jsx("div",{className:"voice-details",children:l.jsx("h4",{children:m.name})})]},m.id))})]})]})},vC=[{id:"space",title:"Aventure spatiale",description:"Une exploration de l'espace et des plantes lointaines",emoji:""},{id:"ocean",title:"Sous l'ocan",description:"Une aventure sous-marine avec des cratures fantastiques",emoji:""},{id:"dinosaur",title:"Monde des dinosaures",description:"Un voyage dans le temps  l'poque des dinosaures",emoji:""},{id:"fairy",title:"Conte de fes",description:"Une histoire magique avec des fes et des cratures enchantes",emoji:""},{id:"superhero",title:"Super-hros",description:"Une aventure o votre enfant devient un super-hros",emoji:""},{id:"jungle",title:"Aventure dans la jungle",description:"Une exploration de la jungle et ses animaux sauvages",emoji:""}],yC=({selectedStory:e,setSelectedStory:t,customStory:n,setCustomStory:r})=>{const[i,a]=F.useState(!1),s=d=>{t(d),d!=="custom"&&a(!1)},o=()=>{t("custom"),a(!0)},c=d=>{r(d.target.value)};return l.jsxs("div",{className:"story-selector",children:[l.jsx("h3",{children:"4. Choisissez un type d'histoire"}),l.jsxs("div",{className:"story-grid",children:[l.jsxs(Fe.div,{className:`story-card custom-story ${e==="custom"?"selected":""}`,onClick:o,whileHover:{y:-5},whileTap:{scale:.98},children:[l.jsx("div",{className:"story-emoji",children:""}),l.jsx("h4",{children:"Personnalis"}),l.jsx("p",{children:"Crez votre propre type d'histoire unique"})]}),vC.map(d=>l.jsxs(Fe.div,{className:`story-card ${e===d.id?"selected":""}`,onClick:()=>s(d.id),whileHover:{y:-5},whileTap:{scale:.98},children:[l.jsx("div",{className:"story-emoji",children:d.emoji}),l.jsx("h4",{children:d.title}),l.jsx("p",{children:d.description})]},d.id))]}),i&&l.jsxs(Fe.div,{className:"custom-story-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[l.jsx("label",{htmlFor:"customStory",children:"Dcrivez votre type d'histoire"}),l.jsx(Fe.textarea,{id:"customStory",value:n,onChange:c,placeholder:"Ex: Une aventure dans un monde de bonbons o les arbres sont en chocolat...",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})]})},wn={}.VITE_API_BASE_URL||"",_d={}.VITE_ANIMATION_API_BASE_URL||"https://da-production-6222.up.railway.app",bC=({selectedTheme:e,setSelectedTheme:t,selectedDuration:n,setSelectedDuration:r,selectedStyle:i,setSelectedStyle:a,customStory:s,setCustomStory:o,characterImage:c,setCharacterImage:d})=>{const[p,f]=F.useState([]),[v,m]=F.useState([]);F.useEffect(()=>{f([{id:"custom",name:"Personnalis",description:"crivez votre propre histoire",emoji:""},{id:"space",name:"Espace",description:"Voyages spatiaux",emoji:""},{id:"ocean",name:"Sous-marin",description:"Exploration sous-marine",emoji:""},{id:"nature",name:"Nature",description:"Monde naturel",emoji:""},{id:"adventure",name:"Aventure",description:"Voyages et explorations",emoji:""},{id:"animals",name:"Animaux",description:"Histoires d'animaux mignons",emoji:""},{id:"magic",name:"Magie",description:"Monde magique et sortilges",emoji:""},{id:"friendship",name:"Amiti",description:"Histoires d'amiti",emoji:""},{id:"circus",name:"Cirque",description:"Spectacle de cirque magique",emoji:""}]),m([{value:30,label:"30 secondes"},{value:60,label:"1 minute"},{value:120,label:"2 minutes"},{value:180,label:"3 minutes"},{value:240,label:"4 minutes"},{value:300,label:"5 minutes"}])},[]);const w=[{id:"3d",name:"3D",description:"Animation 3D moderne",emoji:""},{id:"realistic",name:"Raliste",description:"Style cinmatographique",emoji:""},{id:"cartoon",name:"Cartoon",description:"Style dessin anim color",emoji:""},{id:"anime",name:"Anime",description:"Style manga japonais",emoji:"",useImage:!0,imagePath:"/assets/japan-flag.png"}],S=x=>{t(e===x?null:x)},k=x=>{r(n===x?null:x)},b=x=>{a(i===x?null:x)};return l.jsxs("div",{className:"animation-selector",children:[l.jsxs("div",{className:"selector-section",children:[l.jsx("h4",{children:"2. Choisissez un thme pour votre dessin anim"}),l.jsx("div",{className:"themes-grid",children:p.map(x=>l.jsxs("div",{children:[l.jsxs(Fe.div,{className:`theme-card ${e===x.id?"selected":""} ${x.id==="custom"?"custom-animation":""}`,onClick:()=>S(x.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[l.jsx("div",{className:"theme-emoji",children:x.emoji}),l.jsxs("div",{className:"theme-content",children:[l.jsx("h5",{children:x.name}),l.jsx("p",{children:x.description})]})]}),x.id==="custom"&&e==="custom"&&l.jsx(Fe.div,{className:"custom-theme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:l.jsx("textarea",{className:"custom-story-textarea",value:s,onChange:j=>o(j.target.value),placeholder:"Il tait une fois... Racontez votre histoire ici. Plus elle est dtaille, plus l'animation sera riche et personnalise !",rows:4})})]},x.id))})]}),l.jsxs("div",{className:"selector-section",children:[l.jsx("h4",{children:"2. Choisissez la dure de l'animation"}),l.jsx("div",{className:"duration-options",children:v.map(x=>l.jsx(Fe.div,{className:`duration-option ${n===x.value?"selected":""}`,onClick:()=>k(x.value),whileHover:{scale:1.02},whileTap:{scale:.98},children:l.jsx("div",{className:"duration-label",children:x.label})},x.value))})]}),l.jsxs("div",{className:"selector-section",children:[l.jsx("h4",{children:"3. Choisissez un style visuel"}),l.jsx("div",{className:"style-options",children:w.map(x=>l.jsxs(Fe.div,{className:`style-option ${i===x.id?"selected":""}`,onClick:()=>b(x.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[l.jsxs("div",{className:"style-emoji",children:[x.useImage?l.jsx("img",{src:x.imagePath,alt:x.name,className:"style-flag-image",onError:j=>{j.target.style.display="none",j.target.nextSibling.style.display="block"}}):null,l.jsx("span",{style:{display:x.useImage?"none":"block"},children:x.emoji})]}),l.jsxs("div",{className:"style-content",children:[l.jsx("h5",{children:x.name}),l.jsx("p",{children:x.description})]})]},x.id))})]}),l.jsxs("div",{className:"selector-section",children:[l.jsx("h4",{children:"4. Personnage principal (optionnel)"}),l.jsx("p",{className:"section-description",children:"Uploadez une photo pour crer un personnage personnalis dans votre dessin anim"}),l.jsx("div",{className:"character-upload-container",children:c?l.jsxs("div",{className:"character-preview",children:[l.jsx("img",{src:c,alt:"Personnage",className:"character-image"}),l.jsx(Fe.button,{className:"remove-character-btn",onClick:()=>d(null),whileHover:{scale:1.1},whileTap:{scale:.9},children:" Supprimer"})]}):l.jsxs(Fe.label,{className:"character-upload-zone",whileHover:{scale:1.02},whileTap:{scale:.98},children:[l.jsx("input",{type:"file",accept:"image/*",onChange:x=>{const j=x.target.files[0];if(j){const R=new FileReader;R.onloadend=()=>{d(R.result)},R.readAsDataURL(j)}},style:{display:"none"}}),l.jsx("div",{className:"upload-icon",children:""}),l.jsxs("div",{className:"upload-text",children:[l.jsx("strong",{children:"Cliquez pour uploader une photo"}),l.jsx("span",{children:"ou glissez-dposez une image ici"})]})]})})]})]})},xC=({animationResult:e,onClose:t})=>{var n,r,i,a;const[s,o]=F.useState("video"),[c,d]=F.useState(null);if(!e)return null;const{status:p,clips:f=[],scenes:v=[],generation_time:m,total_duration:w,successful_clips:S=0,fallback_clips:k=0,pipeline_type:b}=e,x=f.some(D=>D.status==="success")||p==="completed"&&(e.final_video_url||((n=e.result)==null?void 0:n.final_video_url)),j=v||e.scenes_details||[],R=D=>{if(!D||isNaN(D))return"---";const T=Math.floor(D/60),J=D%60;return T>0?`${T}m ${J}s`:`${J}s`},q=D=>{switch(D){case"success":return"#4CAF50";case"fallback":return"#FF9800";case"error":return"#F44336";default:return"#9E9E9E"}},H=D=>{switch(D){case"success":return"";case"fallback":return"";case"error":return"";default:return""}};return l.jsx(Fe.div,{className:"animation-viewer-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:l.jsxs(Fe.div,{className:"animation-viewer",initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},onClick:D=>D.stopPropagation(),transition:{type:"spring",damping:20,stiffness:300},children:[l.jsxs("div",{className:"viewer-header",children:[l.jsx("h2",{children:" Votre dessin anim IA"}),p&&l.jsxs("div",{className:"status-badge",style:{backgroundColor:q(p)},children:[H(p)," ",p==="generating_idea"?"Cration de l'ide...":p==="creating_scenes"?"Cration des scnes...":p==="generating_clips"?"Gnration vido...":p==="completed"?"Termin !":p==="failed"?"chou":p]}),l.jsx("button",{className:"close-button",onClick:t,children:""})]}),l.jsxs("div",{className:"animation-stats",children:[l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-icon",children:""}),l.jsxs("span",{children:["Dure: ",R(w||e.duration)]})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-icon",children:""}),l.jsxs("span",{children:[f.length," scnes"]})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-icon",children:""}),l.jsxs("span",{children:[S," russies"]})]}),k>0&&l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-icon",children:""}),l.jsxs("span",{children:[k," fallback"]})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-icon",children:""}),l.jsxs("span",{children:["Gnr en ",m?Math.round(m)+"s":"En cours..."]})]})]}),l.jsxs("div",{className:"viewer-tabs",children:[l.jsx("button",{className:`tab ${s==="video"?"active":""}`,onClick:()=>o("video"),children:" Vido"}),l.jsx("button",{className:`tab ${s==="scenes"?"active":""}`,onClick:()=>o("scenes"),children:" Scnes"}),l.jsx("button",{className:`tab ${s==="details"?"active":""}`,onClick:()=>o("details"),children:" Dtails"})]}),l.jsx("div",{className:"viewer-content",children:l.jsxs(qr,{mode:"wait",children:[s==="video"&&l.jsx(Fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"video-tab",children:x?l.jsx("div",{className:"video-player",children:e.final_video_url||(r=e.result)!=null&&r.final_video_url?l.jsxs("div",{className:"final-animation",children:[l.jsx("div",{className:"video-icon",children:""}),l.jsxs("h3",{children:[" ",e.title||"Votre dessin anim est prt !"]}),l.jsxs("p",{children:["Animation complte de ",R(w||e.duration)," avec ",S||f.length," scnes."]}),l.jsx("div",{className:"main-video-container",children:l.jsx("video",{src:e.final_video_url||((i=e.result)==null?void 0:i.final_video_url),className:"final-animation-video",controls:!0,autoPlay:!0,loop:!0,muted:!0,preload:"metadata",style:{width:"100%",maxWidth:"600px",height:"auto",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.2)",margin:"1rem 0"},onLoadedData:()=>{},onError:D=>{D.target.style.display="none"}})}),l.jsx("div",{className:"video-controls",children:l.jsx("button",{className:"play-btn",onClick:()=>{var D;return window.open(e.final_video_url||((D=e.result)==null?void 0:D.final_video_url),"_blank")},style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"},children:" Ouvrir en plein cran"})})]}):l.jsxs("div",{className:"animation-gallery",children:[l.jsx("div",{className:"video-icon",children:""}),l.jsx("h3",{children:" Votre dessin anim est prt !"}),l.jsxs("p",{children:["Animation de ",R(w)," gnre avec succs.",S>0&&` ${S} scnes cres avec l'IA.`]}),l.jsxs("div",{className:"scenes-gallery",children:[l.jsx("h4",{children:" Votre dessin anim en images :"}),l.jsx("div",{className:"gallery-grid",children:f.map((D,T)=>{let J=null,Z=!1;return D.video_url&&D.type==="real_video"?(J=/^https?:\/\//i.test(D.video_url)?D.video_url:`${_d}${D.video_url}`,Z=!0):D.demo_image_url?J=/^https?:\/\//i.test(D.demo_image_url)?D.demo_image_url:`${_d}${D.demo_image_url}`:D.image_url?J=/^https?:\/\//i.test(D.image_url)?D.image_url:`${_d}${D.image_url}`:D.video_url&&(J=/^https?:\/\//i.test(D.video_url)?D.video_url:`${_d}${D.video_url}`),l.jsxs("div",{className:"scene-media-card",children:[Z?l.jsx("video",{src:J,className:"scene-video",controls:!0,loop:!0,muted:!0,preload:"metadata",onLoadedData:()=>{},onError:E=>{E.target.style.display="none",E.target.nextSibling.style.display="flex"}}):l.jsx("img",{src:J,alt:`Scne ${D.scene_number}`,className:"scene-image",onLoad:()=>{},onError:E=>{E.target.style.display="none",E.target.nextSibling.style.display="flex"}}),l.jsxs("div",{className:"scene-placeholder",style:{display:"none"},children:[l.jsx("span",{children:""}),l.jsxs("p",{children:["Scne ",D.scene_number]}),l.jsx("small",{children:D.type||"En cours..."})]}),l.jsxs("div",{className:"scene-info",children:[l.jsxs("span",{children:["Scne ",D.scene_number]}),l.jsx("span",{children:R(D.duration)}),D.type==="real_video"&&l.jsx("span",{className:"clip-type real",children:" Vido"}),D.type==="demo"&&l.jsx("span",{className:"clip-type demo",children:" Dmo"}),D.status==="success"&&l.jsx("span",{className:"clip-status success",children:""}),D.status==="fallback"&&l.jsx("span",{className:"clip-status fallback",children:""})]})]},T)})}),l.jsx("div",{className:"gallery-summary",children:l.jsxs("p",{children:[l.jsx("strong",{children:" Votre animation complte :"}),f.length," scnes illustres reprsentant votre histoire. Chaque image correspond  un moment cl de votre rcit gnr par l'IA."]})})]}),f.filter(D=>D.status==="success").length>0&&l.jsxs("div",{className:"video-clips-list",children:[l.jsx("h4",{children:" Toutes les scnes gnres :"}),f.filter(D=>D.status==="success").map((D,T)=>l.jsxs("div",{className:"clip-item",children:[l.jsxs("span",{children:[" Scne ",D.scene_number]}),l.jsx("span",{children:R(D.duration)}),D.type==="image"&&l.jsx("span",{className:"clip-type",children:" Image"})]},T))]}),l.jsxs("div",{className:"video-actions",children:[l.jsx("button",{className:"download-btn",children:" Tlcharger"}),l.jsx("button",{className:"share-btn",children:" Partager"})]})]})}):l.jsxs("div",{className:"no-video",children:[l.jsx("div",{className:"no-video-icon",children:p==="completed"?"":""}),l.jsx("h3",{children:p==="completed"?"Animation termine !":"Gnration en cours..."}),l.jsx("p",{children:p==="completed"?"Votre animation a t gnre avec succs ! Thme: "+(e.theme||"N/A"):"La gnration vido peut prendre quelques minutes. Certaines scnes utilisent des modes de fallback."}),p==="completed"&&(e.final_video_url||((a=e.result)==null?void 0:a.final_video_url))&&l.jsx("div",{className:"video-controls",children:l.jsx("button",{className:"play-btn",onClick:()=>{var D;return window.open(e.final_video_url||((D=e.result)==null?void 0:D.final_video_url),"_blank")},children:" Voir l'animation"})})]})},"video"),s==="scenes"&&l.jsx(Fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"scenes-tab",children:l.jsx("div",{className:"scenes-list",children:j.map((D,T)=>{const J=f.find(Z=>Z.scene_number===D.scene_number);return l.jsxs(Fe.div,{className:`scene-card ${c===T?"selected":""}`,onClick:()=>d(c===T?null:T),whileHover:{scale:1.02},whileTap:{scale:.98},children:[l.jsxs("div",{className:"scene-header",children:[l.jsxs("span",{className:"scene-number",children:["Scne ",D.scene_number]}),l.jsxs("div",{className:"scene-status",children:[l.jsx("span",{className:"status-icon",style:{color:q((J==null?void 0:J.status)||"pending")},children:H((J==null?void 0:J.status)||"pending")}),l.jsx("span",{className:"status-text",children:(J==null?void 0:J.status)||"pending"})]})]}),l.jsx("h4",{children:D.description}),l.jsxs("p",{children:[l.jsx("strong",{children:"Action:"})," ",D.action]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Dcor:"})," ",D.setting]}),l.jsxs("div",{className:"scene-duration",children:["Dure: ",R(D.duration)]}),c===T&&J&&l.jsx(Fe.div,{className:"scene-details",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:J.video_url&&l.jsx("div",{className:"clip-preview",children:l.jsxs("span",{children:[" Fichier: ",J.video_url]})})})]},D.scene_number)})})},"scenes"),s==="details"&&l.jsx(Fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"details-tab",children:l.jsxs("div",{className:"technical-details",children:[l.jsx("h4",{children:" Dtails techniques"}),l.jsxs("div",{className:"detail-grid",children:[l.jsxs("div",{className:"detail-item",children:[l.jsx("strong",{children:"Pipeline:"}),l.jsx("span",{children:b||"custom_animation_ai"})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("strong",{children:"Statut:"}),l.jsx("span",{className:`status ${p}`,children:p})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("strong",{children:"Temps de gnration:"}),l.jsxs("span",{children:[Math.round(m),"s"]})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("strong",{children:"Scnes totales:"}),l.jsx("span",{children:f.length})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("strong",{children:"Scnes russies:"}),l.jsx("span",{children:S})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("strong",{children:"Dure totale:"}),l.jsx("span",{children:R(w)})]})]}),e.note&&l.jsxs("div",{className:"generation-note",children:[l.jsx("h5",{children:" Note de gnration"}),l.jsx("p",{children:e.note})]})]})},"details")]})})]})})},wC=({customRequest:e,setCustomRequest:t})=>l.jsxs("div",{className:"custom-request",children:[l.jsx("h3",{children:"Demandes spcifiques (optionnel)"}),l.jsx("div",{className:"request-form",children:l.jsxs("div",{className:"input-group",children:[l.jsx("label",{htmlFor:"customRequest",children:"Avez-vous des demandes particulires ?"}),l.jsx(Fe.textarea,{id:"customRequest",value:e,onChange:n=>t(n.target.value),placeholder:"Ex: En anglais, avec un chien bleu, inclure un message sur l'amiti...",rows:3,whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})})]}),SC=({onGenerate:e,isGenerating:t,isDisabled:n,contentType:r,buttonText:i})=>{const a=()=>t?r==="rhyme"?"Cration de la comptine en cours...":r==="coloring"?"Cration du coloriage en cours...":r==="comic"?"Cration de la BD en cours...":r==="animation"?"Cration du dessin anim en cours...":"Cration du contenu en cours...":i||(r==="rhyme"?"Crer ma comptine":r==="coloring"?"Crer mon coloriage":r==="comic"?"Crer ma bande dessine":r==="animation"?"Crer mon dessin anim":r==="audio"?"Crer mon histoire":"Crer mon contenu");return l.jsxs("div",{className:"generate-button-container",children:[l.jsxs(Fe.button,{className:"generate-button",onClick:e,disabled:n||t,whileHover:!n&&!t?{scale:1.03}:{},whileTap:!n&&!t?{scale:.98}:{},initial:{opacity:.9},animate:{opacity:n?.6:1,y:[0,t?-5:0,0]},transition:{duration:t?.5:.2,repeat:t?1/0:0},children:[t&&l.jsxs("div",{className:"button-loading-dots",children:[l.jsx("div",{className:"button-dot"}),l.jsx("div",{className:"button-dot"}),l.jsx("div",{className:"button-dot"})]}),l.jsx("span",{children:a()})]}),n&&!t&&l.jsx("p",{className:"generate-button-hint",children:r==="story"?"Veuillez remplir tous les champs requis pour crer votre BD":r==="rhyme"?"Veuillez slectionner un type de comptine pour continuer":r==="coloring"?"Veuillez slectionner un thme de coloriage pour continuer":r==="comic"?"Veuillez slectionner un thme, un style et un nombre de pages pour votre BD":r==="animation"?"Veuillez slectionner un thme et configurer votre animation":"Veuillez slectionner un type d'histoire (et une voix) pour continuer"})]})};async function NC(e){return new Promise((t,n)=>{const r=new window.Image;r.crossOrigin="Anonymous",r.onload=function(){const i=document.createElement("canvas");i.width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0);const a=i.toDataURL("image/png");t({width:r.width,height:r.height,dataUrl:a})},r.onerror=n,r.src=e})}function jC(e,t=""){return(!e||e.trim()==="")&&(e={coloriage:"coloriage",comic:"bande_dessinee",comptine:"comptine",histoire:"histoire",animation:"animation"}[t]||"creation"),String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").toLowerCase()}async function rg(e,t="coloriages"){const n=new rt({orientation:"portrait",unit:"px",format:"a4"}),r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),a=40,s=r-2*a,o=i-2*a,c=await Promise.all(e.map(async p=>{try{const f=p.image_url||p;return await NC(f)}catch(f){return console.warn("Erreur chargement image pour le PDF :",p,f),null}}));let d=!0;for(let p=0;p<c.length;p++){if(!c[p])continue;d||n.addPage(),d=!1;const{dataUrl:f,width:v,height:m}=c[p],w=v/m;let S=s,k=s/w;k>o&&(k=o,S=o*w);const b=(r-S)/2,x=(i-k)/2;n.addImage(f,"PNG",b,x,S,k)}n.save(`${jC(t)}.pdf`)}function kC(e){const[t,n]=F.useState([]),[r,i]=F.useState(!1),[a,s]=F.useState(null);return F.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{i(!0);try{const{data:o,error:c}=await Nt.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});c?(console.error("Erreur rcupration crations:",c),s(c.message),n([])):(n(o||[]),s(null))}catch(o){console.error("Erreur critique rcupration crations:",o),s(o.message),n([])}finally{i(!1)}})()},[e]),{creations:t,loading:r,error:a,refreshCreations:async()=>{if(e){i(!0);try{const{data:o,error:c}=await Nt.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});c?s(c.message):(n(o||[]),s(null))}catch(o){s(o.message)}finally{i(!1)}}}}}const AC=({onClose:e,onSelect:t})=>{const{user:n}=Z0(),{creations:r,loading:i,refreshCreations:a}=kC(n==null?void 0:n.id),s=async f=>{if(window.confirm("Supprimer cette cration ?"))try{const{error:v}=await N4(f);if(v){alert("Erreur lors de la suppression !");return}a()}catch(v){console.error("Erreur lors de la suppression:",v),alert("Erreur lors de la suppression !")}},o=f=>{const v=new Date(f);return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(v)},c=f=>{switch(f){case"story":return"";case"rhyme":return"";case"audio":return"";case"coloring":return"";case"crewai_animation":return"";case"animation":return"";default:return""}},d=f=>{switch(f){case"story":return"Bande dessine";case"rhyme":return"Comptine";case"audio":return"Histoire";case"coloring":return"Coloriage";case"crewai_animation":return"Dessin anim";case"animation":return"Dessin anim";default:return"Cration"}},p=f=>{var v;const m=f.content||((v=f.data)==null?void 0:v.content)||"";if(!m||typeof m!="string"){console.error(" Contenu invalide ou manquant pour le PDF.");return}const w=new rt({orientation:"p",unit:"mm",format:"a4"}),S=40,k=210,b=297,x=12,j=Math.floor((b-S*2)/x),R=13;let q=f.title,H=m;m.startsWith("**")&&m.includes("**",2)&&(q=m.split("**")[1].trim(),H=m.replace(`**${q}**`,"").trim());const D=T=>new Promise(J=>{const Z=new Image;Z.crossOrigin="anonymous",Z.src=T,Z.onload=()=>J(Z)});(async()=>{try{const T="/assets/fond.png?v=1";let J=null;try{J=await D(T)}catch{console.log(" Image de fond non disponible, PDF sans fond")}const Z=w.splitTextToSize(H,150);let E=0;for(let M=0;E<Z.length;M++){M>0&&w.addPage(),J&&w.addImage(J,"PNG",0,0,k,b,void 0,"FAST"),M===0&&(w.setFont("courier","bold"),w.setFontSize(22),w.setTextColor(110,50,230),w.text(q,k/2,S-20,{align:"center"})),w.setFont("courier","bold"),w.setFontSize(R),w.setTextColor(25,25,112);for(let K=0;K<j&&E<Z.length;K++,E++){const z=S+K*x;w.text(Z[E],k/2,z,{align:"center"})}w.setFontSize(11),w.setTextColor(106,90,205),w.text(`Page ${M+1}`,k-15,290,{align:"right"})}}catch(T){console.error(" Erreur lors de la gnration du PDF:",T),w.setFontSize(22),w.setTextColor(110,50,230),w.setFont("courier","bold"),w.text(q,k/2,S-20,{align:"center"}),w.setFontSize(R),w.setTextColor(25,25,112),w.setFont("courier","bold");const J=w.splitTextToSize(H,150);for(let Z=0;Z<J.length;Z++){const E=S+Z*x;w.text(J[Z],k/2,E,{align:"center"})}}})().then(()=>{const T=q.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),J=w.output("blob"),Z=URL.createObjectURL(J),E=document.createElement("a");E.href=Z,E.download=`${T}.pdf`,E.style.display="none",document.body.appendChild(E),E.click(),document.body.removeChild(E),setTimeout(()=>{URL.revokeObjectURL(Z)},100)})};return l.jsxs(Fe.div,{className:"history-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},onClick:f=>f.stopPropagation(),children:[l.jsxs("div",{className:"history-header",children:[l.jsx("h2",{children:"Historique de vos crations"}),l.jsx("button",{className:"close-button",onClick:e,children:""})]}),l.jsx("div",{className:"history-content",children:n?r.length===0&&!i?l.jsxs("div",{className:"empty-history",children:[l.jsx("p",{children:"Vous n'avez pas encore de crations"}),l.jsx("p",{className:"empty-subtext",children:"Vos crations apparatront ici une fois gnres"})]}):l.jsx("div",{className:"creations-list",children:r.map(f=>{var v,m,w,S,k,b,x,j,R,q,H,D,T,J,Z;const E=!!(f.audio_path||(v=f.data)!=null&&v.audio_path),M=!!(f.content||(m=f.data)!=null&&m.content),K=["creation-item",E?"has-audio":"",M?"has-text":""].filter(Boolean).join(" ");return l.jsxs(Fe.div,{className:K,onClick:()=>t({...f,action:f.type==="coloring"?"showColoring":"showStory"}),whileHover:{scale:1.01},transition:{duration:.2},children:[l.jsx("div",{className:"creation-icon",children:c(f.type)}),"                  ",l.jsxs("div",{className:"creation-details",children:[l.jsx("h3",{children:f.title}),l.jsxs("div",{className:"creation-meta",children:[l.jsx("span",{className:"creation-type",children:d(f.type)}),l.jsx("span",{className:"creation-date",children:o(f.created_at)})]}),"                  ",(f.audio_path||((w=f.data)==null?void 0:w.audio_path))&&l.jsx("audio",{controls:!0,className:"creation-audio",src:`${wn}/${f.audio_path||((S=f.data)==null?void 0:S.audio_path)}`}),l.jsxs("div",{className:"creation-actions",children:[f.type==="rhyme"&&(f.audio_path||((k=f.data)==null?void 0:k.audio_path))&&l.jsx("button",{className:"btn-pdf",onClick:async z=>{var le,ie;z.stopPropagation();try{const he=`${wn}/${f.audio_path||((le=f.data)==null?void 0:le.audio_path)}`,G=await(await fetch(he)).blob(),ae=URL.createObjectURL(G);let Y=f.title||"Comptine";const me=f.content||((ie=f.data)==null?void 0:ie.content)||"";me&&me.startsWith("**")&&me.includes("**",2)&&(Y=me.split("**")[1].trim());const A=Y.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),B=document.createElement("a");B.href=ae,B.download=`${A}.mp3`,B.style.display="none",document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(ae)}catch(he){console.error("Erreur lors du tlchargement de la comptine:",he),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger la comptine"}),f.type==="audio"&&(f.content||((b=f.data)==null?void 0:b.content))&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"btn-pdf",onClick:z=>{z.stopPropagation(),p(f)},children:" Tlcharger le PDF"}),(f.audio_path||((x=f.data)==null?void 0:x.audio_path))&&(f.audio_generated||((j=f.data)==null?void 0:j.audio_generated))&&l.jsx("button",{className:"btn-audio",onClick:async z=>{var le,ie;z.stopPropagation();try{const he=`${wn}/${f.audio_path||((le=f.data)==null?void 0:le.audio_path)}`,G=await(await fetch(he)).blob(),ae=URL.createObjectURL(G);let Y=f.title||"Histoire";const me=f.content||((ie=f.data)==null?void 0:ie.content)||"";me&&me.startsWith("**")&&me.includes("**",2)&&(Y=me.split("**")[1].trim());const A=Y.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),B=document.createElement("a");B.href=ae,B.download=`${A}.mp3`,B.style.display="none",document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(ae)}catch(he){console.error("Erreur lors du tlchargement audio:",he),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger l'audio"})]}),(f.audio_path||((R=f.data)==null?void 0:R.audio_path))&&(f.audio_generated||((q=f.data)==null?void 0:q.audio_generated))&&f.type!=="rhyme"&&f.type!=="audio"&&l.jsx("a",{className:"btn-audio",href:`${wn}/${f.audio_path||((H=f.data)==null?void 0:H.audio_path)}`,download:!0,onClick:z=>z.stopPropagation(),children:" Tlcharger l'audio"}),f.type==="coloring"&&(f.images||((D=f.data)==null?void 0:D.images))&&(((T=f.images)==null?void 0:T.length)>0||((Z=(J=f.data)==null?void 0:J.images)==null?void 0:Z.length)>0)&&l.jsx("button",{className:"btn-pdf",onClick:z=>{var le;z.stopPropagation();const ie=f.title||(f.theme?`coloriages_${f.theme}`:"coloriages"),he=f.images||((le=f.data)==null?void 0:le.images)||[];rg(he,ie)},children:" Tlcharger le coloriage"}),l.jsx("button",{className:"btn-delete",onClick:z=>{z.stopPropagation(),s(f.id)},children:" Supprimer"})]})]})]},f.id)})}):l.jsx("div",{className:"empty-history",children:l.jsx("p",{children:"Connexion en cours..."})})})]})},LC=({title:e,content:t,onClose:n,children:r})=>{const[i,a]=F.useState(!1),s=F.useRef(null),o=()=>{var d;document.fullscreenElement?(document.exitFullscreen(),a(!1)):((d=s.current)==null||d.requestFullscreen(),a(!0))},c=d=>{d.target.classList.contains("story-popup-overlay")&&n()};return l.jsx("div",{className:"story-popup-overlay",onClick:c,children:l.jsxs("div",{className:"story-popup-content",ref:s,children:[l.jsx("div",{className:"story-background"}),l.jsx("button",{className:"story-close-btn",onClick:n,children:""}),l.jsx("button",{className:"story-fullscreen-btn",onClick:o,children:i?" Quitter le plein cran":" Plein cran"}),l.jsxs("div",{className:"story-scroll",children:[e&&l.jsx("h2",{className:"story-title",children:e}),t&&typeof t=="string"?l.jsx("div",{className:"story-text",children:t}):r]})]})})},CC=({selectedTheme:e,setSelectedTheme:t,customColoringTheme:n,setCustomColoringTheme:r,uploadedPhoto:i,setUploadedPhoto:a,withColoredModel:s,setWithColoredModel:o})=>{const[c,d]=F.useState(!1),[p,f]=F.useState(!1),[v,m]=F.useState(null),w=[{value:"upload_photo",label:"Ma Photo",icon:"",description:"Transformez votre photo en coloriage !",special:!0},{value:"custom",label:"Personnalis",icon:"",description:"Crez votre propre thme de coloriage"},{value:"animals",label:"Animaux",icon:"",description:"Chats, chiens, lions, lphants..."},{value:"dinosaurs",label:"Dinosaures",icon:"",description:"T-Rex, Triceratops, volcans..."},{value:"dragons",label:"Dragons",icon:"",description:"Dragons mignons, chevaliers..."},{value:"farm",label:"Ferme",icon:"",description:"Vache, cochon, poule, tracteur..."},{value:"fairies",label:"Fes & Licornes",icon:"",description:"Fes, licornes, chteaux magiques..."},{value:"princess",label:"Princesses",icon:"",description:"Princesses, robes, diadmes..."},{value:"mermaids",label:"Sirnes",icon:"",description:"Sirnes, coquillages, palais sous-marin..."},{value:"pirates",label:"Pirates",icon:"",description:"Bateaux pirates, trsors, perroquets..."},{value:"superheroes",label:"Super-hros",icon:"",description:"Hros masqus, super-pouvoirs..."},{value:"space",label:"Espace",icon:"",description:"Fuses, plantes, astronautes..."},{value:"robots",label:"Robots",icon:"",description:"Robots futuristes, androdes..."},{value:"vehicles",label:"Vhicules",icon:"",description:"Voitures, avions, trains, bateaux..."},{value:"nature",label:"Nature",icon:"",description:"Fleurs, arbres, papillons, paysages..."},{value:"ocean",label:"Ocan",icon:"",description:"Poissons, dauphins, coraux, tortues..."},{value:"seasons",label:"Saisons",icon:"",description:"Automne, hiver, printemps, t..."},{value:"sports",label:"Sports",icon:"",description:"Football, basketball, natation..."},{value:"fruits",label:"Fruits & Lgumes",icon:"",description:"Fruits rigolos, lgumes souriants..."},{value:"professions",label:"Mtiers",icon:"",description:"Mdecins, pompiers, cuisiniers..."},{value:"emotions",label:"motions",icon:"",description:"Visages joyeux, tristes, surpris..."}],S=j=>{e===j?(t(""),d(!1),f(!1)):(t(j),d(j==="custom"),f(j==="upload_photo"))},k=j=>{const R=j.target.files[0];if(R){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(R.type)){alert("Format de fichier non support. Utilisez JPG, PNG, GIF ou WebP.");return}if(R.size>5*1024*1024){alert("La photo est trop grande. Taille maximale : 5 MB");return}const q=new FileReader;q.onloadend=()=>{m(q.result)},q.readAsDataURL(R),a(R)}},b=j=>{o(s===j?null:j)},x=()=>{a(null),m(null);const j=document.getElementById("photo-upload-input");j&&(j.value="")};return l.jsxs("div",{className:"coloring-selector",children:[l.jsx("h3",{children:"2. Choisissez un thme pour vos coloriages"}),l.jsx("div",{className:"theme-grid",children:w.map((j,R)=>l.jsxs("div",{className:"theme-slot",children:[l.jsxs(Fe.div,{className:`theme-option ${j.special?"photo-upload-option":""} ${j.value==="custom"?"custom-coloring":""} ${e===j.value?"selected":""}`,onClick:()=>S(j.value),whileHover:{y:-5},whileTap:{scale:.98},children:[l.jsx("div",{className:"theme-icon",children:j.icon}),l.jsxs("div",{className:"theme-info",children:[l.jsx("h4",{children:j.label}),l.jsx("p",{children:j.description})]})]}),j.special&&p&&e==="upload_photo"&&l.jsxs(Fe.div,{className:"photo-upload-container inline-upload",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[l.jsxs("div",{className:"upload-section",children:[l.jsx("p",{className:"upload-hint",children:"Formats accepts : JPG, PNG, GIF, WebP (max 5 MB)"}),l.jsx("input",{type:"file",id:"photo-upload-input",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:k,style:{display:"none"}}),v?l.jsx("div",{className:"photo-preview-container",children:l.jsx("img",{src:v,alt:"Aperu",className:"photo-preview"})}):l.jsxs("label",{htmlFor:"photo-upload-input",className:"upload-button",children:[l.jsx("span",{className:"upload-icon",children:""}),l.jsx("span",{children:"Choisir une photo"})]})]}),v&&l.jsx(Fe.div,{className:"remove-photo-section",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:l.jsx("button",{onClick:x,className:"remove-photo-button",children:" Supprimer la photo"})})]}),j.value==="custom"&&c&&e==="custom"&&l.jsx(Fe.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:l.jsx("input",{type:"text",placeholder:"Dcrivez votre thme de coloriage personnalis...",value:n,onChange:q=>r(q.target.value),className:"custom-input"})})]},j.value))}),l.jsxs("div",{className:"model-choice-section",children:[l.jsx("h3",{children:"3. Voulez-vous un modle ?"}),l.jsxs("div",{className:"model-buttons",children:[l.jsxs(Fe.button,{className:`model-btn ${s===!0?"active":""}`,onClick:()=>b(!0),whileHover:{y:-3},whileTap:{scale:.98},children:[l.jsx("span",{className:"model-icon",children:""}),l.jsx("span",{className:"model-label",children:"Avec modle"}),l.jsx("span",{className:"model-desc",children:"Inclut un exemple color en coin"})]}),l.jsxs(Fe.button,{className:`model-btn ${s===!1?"active":""}`,onClick:()=>b(!1),whileHover:{y:-3},whileTap:{scale:.98},children:[l.jsx("span",{className:"model-icon",children:""}),l.jsx("span",{className:"model-label",children:"Sans modle"}),l.jsx("span",{className:"model-desc",children:"Coloriage pur, libert crative"})]})]})]})]})},w3=({imageUrl:e,theme:t,onClose:n,onSave:r})=>{const i=F.useRef(null),[a,s]=F.useState(null),[o,c]=F.useState("#FF6B6B"),[d,p]=F.useState("bucket"),[f,v]=F.useState(!1),[m,w]=F.useState(1),[S,k]=F.useState(!1),[b,x]=F.useState(null),[j,R]=F.useState(null),q=["#FF6B6B","#FF4757","#FF6348","#FFA07A","#FF85C0","#FFB6C1","#FF1493","#DC143C","#F8B739","#FFA500","#FFD700","#F7DC6F","#FFDAB9","#FFE4B5","#F4A460","#FDB813","#52C41A","#98D8C8","#81C784","#00C853","#20B2AA","#3CB371","#90EE90","#7FFF00","#4ECDC4","#45B7D1","#85C1E9","#A8DADC","#00BFFF","#1E90FF","#4169E1","#6495ED","#BB8FCE","#9B59B6","#8B008B","#DA70D6","#E6E6FA","#DDA0DD","#BA55D3","#9370DB","#DDA15E","#BC6C25","#D2691E","#CD853F","#8B4513","#A0522D","#F5DEB3","#FAEBD7","#95A5A6","#7F8C8D","#BDC3C7","#ECF0F1","#D3D3D3","#C0C0C0","#A9A9A9","#808080","#E07A5F","#FF6B9D","#00D9FF","#FFEB3B","#FF5722","#8BC34A","#00BCD4","#E91E63"];F.useEffect(()=>{const Y=i.current;if(!Y)return;const me=Y.getContext("2d",{willReadFrequently:!0});s(me);const A=new Image;A.crossOrigin="anonymous",A.onload=()=>{const B=window.innerWidth*.9,V=window.innerHeight*.7;let X=A.width,Q=A.height;X>B&&(Q=B/X*Q,X=B),Q>V&&(X=V/Q*X,Q=V),Y.width=X,Y.height=Q,me.drawImage(A,0,0,X,Q),x(me.getImageData(0,0,X,Q));const oe=me.createImageData(X,Q);R(oe),k(!0)},A.onerror=()=>{console.error("Erreur de chargement de l'image")},A.src=e},[e]);const H=(Y,me,A)=>{if(!a||!b)return;const B=i.current,V=a.getImageData(0,0,B.width,B.height),X=V.data,Q=T(X,Y,me,B.width),oe=Z(A);if(E(Q,oe))return;const ue=[[Y,me]],de=new Set;for(;ue.length>0;){const[be,we]=ue.pop(),Te=`${be},${we}`;if(de.has(Te)||be<0||be>=B.width||we<0||we>=B.height)continue;const Ce=T(X,be,we,B.width);M(Ce)||E(Ce,Q)&&(de.add(Te),J(X,be,we,B.width,oe),ue.push([be+1,we]),ue.push([be-1,we]),ue.push([be,we+1]),ue.push([be,we-1]))}a.putImageData(V,0,0)},D=(Y,me)=>{if(!a||!b)return;const A=i.current,B=a.getImageData(0,0,A.width,A.height),V=B.data,X=b.data,Q=T(V,Y,me,A.width);if(K(Q))return;const oe=[[Y,me]],ue=new Set;for(;oe.length>0;){const[de,be]=oe.pop(),we=`${de},${be}`;if(ue.has(we)||de<0||de>=A.width||be<0||be>=A.height)continue;const Te=T(V,de,be,A.width);if(M(Te)||!E(Te,Q))continue;ue.add(we);const Ce=(be*A.width+de)*4;V[Ce]=X[Ce],V[Ce+1]=X[Ce+1],V[Ce+2]=X[Ce+2],V[Ce+3]=X[Ce+3],oe.push([de+1,be]),oe.push([de-1,be]),oe.push([de,be+1]),oe.push([de,be-1])}a.putImageData(B,0,0)},T=(Y,me,A,B)=>{const V=(A*B+me)*4;return{r:Y[V],g:Y[V+1],b:Y[V+2],a:Y[V+3]}},J=(Y,me,A,B,V)=>{const X=(A*B+me)*4;Y[X]=V.r,Y[X+1]=V.g,Y[X+2]=V.b,Y[X+3]=255},Z=Y=>{const me=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Y);return me?{r:parseInt(me[1],16),g:parseInt(me[2],16),b:parseInt(me[3],16),a:255}:{r:0,g:0,b:0,a:255}},E=(Y,me,A=10)=>Math.abs(Y.r-me.r)<=A&&Math.abs(Y.g-me.g)<=A&&Math.abs(Y.b-me.b)<=A,M=(Y,me=50)=>Y.r<me&&Y.g<me&&Y.b<me,K=(Y,me=240)=>Y.r>me&&Y.g>me&&Y.b>me||Y.a<10,z=Y=>{if(!S)return;const me=i.current,A=me.getBoundingClientRect(),B=Math.floor((Y.clientX-A.left)*(me.width/A.width)),V=Math.floor((Y.clientY-A.top)*(me.height/A.height));d==="bucket"?H(B,V,o):d==="eraser"&&D(B,V)},le=()=>{i.current.toBlob(Y=>{const me=URL.createObjectURL(Y),A=document.createElement("a");A.href=me;const B=(t||"coloriage").replace(/[^a-z0-9]/gi,"_").toLowerCase();A.download=`coloriages_${B}_colorie.png`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(me)})},ie=Y=>{Y.target.classList.contains("coloring-canvas-overlay")&&n()},he=()=>{!a||!b||a.putImageData(b,0,0)},G=()=>{w(Y=>Math.min(Y+.5,3)),v(!0)},ae=()=>{m>1&&(w(Y=>Math.max(Y-.5,1)),m-.5<=1&&v(!1))};return l.jsx("div",{className:"coloring-canvas-overlay",onClick:ie,children:l.jsxs("div",{className:"coloring-canvas-container",children:[l.jsxs("div",{className:"coloring-toolbar-top",children:[l.jsx("h2",{className:"coloring-canvas-title",children:" Coloriez votre dessin"}),l.jsxs("div",{className:"coloring-zoom-controls",children:[l.jsx("button",{className:"coloring-zoom-btn",onClick:ae,disabled:m<=1,title:"Zoom arrire",children:""}),l.jsxs("span",{style:{color:"white",fontWeight:"bold",minWidth:"60px",textAlign:"center"},children:[Math.round(m*100),"%"]}),l.jsx("button",{className:"coloring-zoom-btn",onClick:G,disabled:m>=3,title:"Zoom avant",children:"+"})]}),l.jsxs("div",{className:"coloring-toolbar-actions",children:[l.jsx("button",{className:"coloring-btn coloring-reset-btn",onClick:he,title:"Rinitialiser",children:" Rinitialiser"}),l.jsx("button",{className:"coloring-btn coloring-save-btn",onClick:le,title:"Tlcharger",children:" Tlcharger"}),l.jsx("button",{className:"coloring-btn coloring-close-btn-top",onClick:n,title:"Fermer",children:""})]})]}),l.jsxs("div",{className:"coloring-canvas-wrapper",children:[l.jsx("canvas",{ref:i,onClick:z,className:`coloring-canvas ${f?"zoomed":""}`,style:{transform:`scale(${m})`}}),!S&&l.jsxs("div",{className:"coloring-loading",children:[l.jsx("div",{className:"coloring-spinner"}),l.jsx("p",{children:"Chargement du coloriage..."})]})]}),l.jsxs("div",{className:"coloring-toolbar-bottom",children:[l.jsxs("div",{className:"coloring-tools",children:[l.jsx("button",{className:`coloring-tool-btn ${d==="bucket"?"active":""}`,onClick:()=>p("bucket"),title:"Seau de peinture",children:""}),l.jsx("button",{className:`coloring-tool-btn ${d==="eraser"?"active":""}`,onClick:()=>p("eraser"),title:"Gomme",children:""})]}),l.jsx("div",{className:"coloring-palette",children:q.map((Y,me)=>l.jsx("button",{className:`coloring-color-btn ${o===Y&&d==="bucket"?"active":""}`,style:{backgroundColor:Y},onClick:()=>{c(Y),p("bucket")},title:Y},me))})]})]})})},PC=({coloringResult:e,onClose:t,selectedTheme:n})=>{const[r,i]=F.useState(!1),[a,s]=F.useState(!1),o=F.useRef(null),c=()=>{var w;document.fullscreenElement?(document.exitFullscreen(),i(!1)):((w=o.current)==null||w.requestFullscreen(),i(!0))},d=w=>{w.target.classList.contains("coloring-popup-overlay")&&t()},p=()=>{if(e!=null&&e.images&&e.images.length>0){const w=e.title||(n?`coloriages_${n}`:"coloriages");rg(e.images,w)}else console.warn("Aucune image disponible pour le tlchargement PDF")};if(!e||!e.images||e.images.length===0)return null;const f=e.images[0],v=f.image_url||f,m=()=>{s(!0)};return l.jsx(l.Fragment,{children:a?l.jsx(w3,{imageUrl:v,onClose:()=>s(!1)}):l.jsx("div",{className:"coloring-popup-overlay",onClick:d,children:l.jsxs("div",{className:"coloring-popup-content",ref:o,children:[l.jsx("div",{className:"coloring-background"}),l.jsx("button",{className:"coloring-close-btn",onClick:t,children:""}),l.jsx("button",{className:"coloring-fullscreen-btn",onClick:c,children:r?" Quitter le plein cran":" Plein cran"}),l.jsxs("div",{className:"coloring-container",children:[l.jsx("h2",{className:"coloring-title",children:" Votre coloriage"}),l.jsx("div",{className:"coloring-image-wrapper",children:l.jsx("img",{src:v,alt:"Coloriage",className:"coloring-popup-image"})}),l.jsxs("div",{className:"coloring-popup-actions",children:[l.jsx("button",{className:"coloring-open-btn",onClick:m,children:" Colorier maintenant"}),l.jsx("button",{className:"coloring-download-btn",onClick:p,children:" Tlcharger le coloriage"})]})]})]})})})},_C=({selectedTheme:e,setSelectedTheme:t,selectedStyle:n,setSelectedStyle:r,numPages:i,setNumPages:a,customStory:s,setCustomStory:o,characterPhoto:c,setCharacterPhoto:d,onCharacterPhotoUpload:p})=>{const[f,v]=F.useState(!1),m=[{id:"custom",name:"Personnalis",icon:"",description:"Votre propre histoire"},{id:"espace",name:"Espace",icon:"",description:"Aventures spatiales"},{id:"pirates",name:"Pirates",icon:"",description:"Trsors et mers"},{id:"princesses",name:"Princesses",icon:"",description:"Chteaux magiques"},{id:"dinosaures",name:"Dinosaures",icon:"",description:"Monde prhistorique"},{id:"animaux",name:"Animaux",icon:"",description:"Animaux mignons"},{id:"superheros",name:"Super-hros",icon:"",description:"Pouvoirs incroyables"},{id:"foret",name:"Fort Magique",icon:"",description:"Fort enchante"},{id:"ecole",name:"cole",icon:"",description:"Aventures scolaires"}],w=[{id:"3d",name:"3D",icon:"",description:"Effets 3D modernes"},{id:"cartoon",name:"Cartoon",icon:"",description:"Color et enfantin"},{id:"manga",name:"Manga",icon:"",description:"Style japonais"},{id:"comics",name:"Comics Marvel",icon:"",description:"Style amricain"},{id:"realistic",name:"Raliste",icon:"",description:"Dtaill et raliste"},{id:"watercolor",name:"Aquarelle",icon:"",description:"Doux et artistique"}],S=[1,2,3,4,5],k=async b=>{const x=b.target.files[0];if(x){v(!0);try{await p(x)}catch(j){console.error("Erreur upload:",j),alert("Erreur lors de l'upload de la photo")}finally{v(!1)}}};return l.jsxs("div",{className:"comics-selector",children:[l.jsxs("div",{className:"selector-section",children:[l.jsx("h3",{children:"2. Choisissez un thme pour votre bande dessine"}),l.jsx("div",{className:"theme-grid",children:m.map(b=>l.jsxs("div",{className:"theme-slot",children:[l.jsxs(Fe.div,{className:`theme-card ${e===b.id?"selected":""} ${b.id==="custom"?"custom-theme":""}`,onClick:()=>t(e===b.id?null:b.id),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[l.jsx("div",{className:"theme-icon",children:b.icon}),l.jsx("div",{className:"theme-name",children:b.name}),l.jsx("div",{className:"theme-description",children:b.description})]}),b.id==="custom"&&e==="custom"&&l.jsx(Fe.div,{className:"custom-theme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:l.jsx("textarea",{className:"custom-input",placeholder:"Dcrivez votre histoire personnalise... (ex: Une petite fille qui dcouvre un monde magique dans son jardin)",value:s,onChange:x=>o(x.target.value),rows:3})})]},b.id))})]}),l.jsxs("div",{className:"selector-section",children:[l.jsx("h3",{children:"3. Choisissez un style de dessin"}),l.jsx("div",{className:"style-grid",children:w.map(b=>l.jsxs(Fe.div,{className:`style-card ${n===b.id?"selected":""}`,onClick:()=>r(n===b.id?null:b.id),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[l.jsx("div",{className:"style-icon",children:b.icon}),l.jsx("div",{className:"style-name",children:b.name}),l.jsx("div",{className:"style-description",children:b.description})]},b.id))})]}),l.jsxs("div",{className:"selector-section",children:[l.jsx("h3",{children:"4. Nombre de pages"}),l.jsx("div",{className:"pages-selector",children:S.map(b=>l.jsxs(Fe.button,{className:`page-btn ${i===b?"selected":""}`,onClick:()=>a(i===b?null:b),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[b," ",b===1?"page":"pages",l.jsxs("span",{className:"cases-info",children:["(",b*4," cases)"]})]},b))})]}),l.jsxs("div",{className:"selector-section",children:[l.jsx("h3",{children:"5. Personnage principal (optionnel)"}),l.jsxs("div",{className:"character-upload-section",children:[l.jsx("p",{className:"character-description",children:"Uploadez une photo pour crer un personnage ressemblant ! L'IA analysera la photo et crera un personnage de BD similaire."}),l.jsxs("div",{className:"upload-area",children:[l.jsx("input",{type:"file",id:"character-photo-upload",accept:"image/*",onChange:k,className:"file-input",disabled:f}),!c&&l.jsx("label",{htmlFor:"character-photo-upload",className:"upload-label",children:f?l.jsxs("div",{className:"uploading-state",children:[l.jsx("div",{className:"spinner"}),l.jsx("span",{children:"Upload en cours..."})]}):l.jsxs("div",{className:"upload-prompt",children:[l.jsx("span",{className:"upload-icon",children:""}),l.jsxs("div",{className:"upload-text",children:[l.jsx("strong",{children:"Cliquez pour uploader une photo"}),l.jsx("span",{children:"ou glissez-dposez une image ici"})]})]})})]}),c&&l.jsxs("div",{className:"photo-preview",children:[l.jsx("img",{src:c.url,alt:"Personnage upload"}),l.jsxs("div",{className:"photo-actions",children:[l.jsx("button",{className:"change-photo-btn",onClick:()=>document.getElementById("character-photo-upload").click(),children:" Changer"}),l.jsx("button",{className:"remove-photo-btn",onClick:()=>d(null),children:" Retirer"})]})]})]})]})]})},EC=({comic:e,onClose:t,baseUrl:n})=>{const[r,i]=F.useState(0),[a,s]=F.useState(!1);if(!e||!e.pages||e.pages.length===0)return null;const o=e.pages[r],c=e.pages.length,d=()=>{r<c-1&&i(r+1)},p=()=>{r>0&&i(r-1)},f=()=>{const w=`${n}${o.image_url}`,S=document.createElement("a");S.href=w;const k=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();S.download=`${k}_page_${r+1}.png`,document.body.appendChild(S),S.click(),document.body.removeChild(S)},v=()=>{e.pages.forEach((w,S)=>{setTimeout(()=>{const k=`${n}${w.image_url}`,b=document.createElement("a");b.href=k;const x=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();b.download=`${x}_page_${S+1}.png`,document.body.appendChild(b),b.click(),document.body.removeChild(b)},S*500)})},m=()=>{s(!a)};return l.jsx(qr,{children:l.jsx(Fe.div,{className:"comics-popup-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:l.jsxs(Fe.div,{className:`comics-popup-container ${a?"fullscreen":""}`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:w=>w.stopPropagation(),children:[l.jsxs("div",{className:"comics-popup-header",children:[l.jsxs("div",{className:"comic-title-section",children:[l.jsx("h2",{className:"comic-title",children:e.title}),l.jsx("p",{className:"comic-synopsis",children:e.synopsis}),l.jsxs("div",{className:"comic-meta",children:[l.jsxs("span",{className:"meta-item",children:[l.jsx("span",{className:"meta-icon",children:""}),e.art_style]}),l.jsxs("span",{className:"meta-item",children:[l.jsx("span",{className:"meta-icon",children:""}),c," ",c===1?"planche":"planches"]}),l.jsxs("span",{className:"meta-item",children:[l.jsx("span",{className:"meta-icon",children:""}),c*4," cases"]})]})]}),l.jsx("button",{className:"close-btn",onClick:t,children:""})]}),l.jsxs("div",{className:"comics-viewer",children:[l.jsx(qr,{mode:"wait",children:l.jsxs(Fe.div,{className:"page-display",initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},children:[l.jsx("img",{src:`${n}${o.image_url}`,alt:`Planche ${r+1}`,className:"page-image",onClick:m}),l.jsxs("div",{className:"page-info",children:["Planche ",r+1," / ",c]})]},r)}),c>1&&l.jsxs("div",{className:"page-navigation",children:[l.jsx("button",{className:"nav-btn prev-btn",onClick:p,disabled:r===0,children:" Prcdent"}),l.jsx("div",{className:"page-dots",children:e.pages.map((w,S)=>l.jsx("button",{className:`page-dot ${S===r?"active":""}`,onClick:()=>i(S),"aria-label":`Aller  la planche ${S+1}`},S))}),l.jsx("button",{className:"nav-btn next-btn",onClick:d,disabled:r===c-1,children:"Suivant "})]})]}),l.jsxs("div",{className:"comics-actions",children:[l.jsxs("button",{className:"action-btn secondary-btn",onClick:m,children:[l.jsx("span",{className:"btn-icon",children:a?"":""}),a?"Rduire":"Plein cran"]}),l.jsxs("button",{className:"action-btn primary-btn",onClick:f,children:[l.jsx("span",{className:"btn-icon",children:""}),"Tlcharger cette planche"]}),c>1&&l.jsxs("button",{className:"action-btn primary-btn",onClick:v,children:[l.jsx("span",{className:"btn-icon",children:""}),"Tlcharger toutes les planches"]})]}),c>1&&l.jsxs("div",{className:"thumbnails-section",children:[l.jsx("h4",{children:"Toutes les planches"}),l.jsx("div",{className:"thumbnails-grid",children:e.pages.map((w,S)=>l.jsxs(Fe.div,{className:`thumbnail ${S===r?"active":""}`,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(S),children:[l.jsx("img",{src:`${n}${w.image_url}`,alt:`Miniature planche ${S+1}`}),l.jsxs("div",{className:"thumbnail-label",children:["Planche ",S+1]})]},S))})]})]})})})};var S3="clover",FC=function(e){return e===3?"v3":e},N3="https://js.stripe.com",TC="".concat(N3,"/").concat(S3,"/stripe.js"),IC=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,RC=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,F5="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",DC=function(e){return IC.test(e)||RC.test(e)},MC=function(){for(var e=document.querySelectorAll('script[src^="'.concat(N3,'"]')),t=0;t<e.length;t++){var n=e[t];if(DC(n.src))return n}return null},T5=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(TC).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},OC=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.0.0",startTime:t})},pc=null,Ed=null,Fd=null,BC=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},qC=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},zC=function(e){return pc!==null?pc:(pc=new Promise(function(t,n){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(F5),window.Stripe){t(window.Stripe);return}try{var r=MC();if(r&&e)console.warn(F5);else if(!r)r=T5(e);else if(r&&Fd!==null&&Ed!==null){var i;r.removeEventListener("load",Fd),r.removeEventListener("error",Ed),(i=r.parentNode)===null||i===void 0||i.removeChild(r),r=T5(e)}Fd=qC(t,n),Ed=BC(n),r.addEventListener("load",Fd),r.addEventListener("error",Ed)}catch(a){n(a);return}}),pc.catch(function(t){return pc=null,Promise.reject(t)}))},UC=function(e,t,n){if(e===null)return null;var r=t[0],i=r.match(/^pk_test/),a=FC(e.version),s=S3;i&&a!==s&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("8.0.0"," expected Stripe.js@").concat(s,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var o=e.apply(void 0,t);return OC(o,n),o},Td,j3=!1,k3=function(){return Td||(Td=zC(null).catch(function(e){return Td=null,Promise.reject(e)}),Td)};Promise.resolve().then(function(){return k3()}).catch(function(e){j3||console.warn(e)});var A3=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];j3=!0;var r=Date.now();return k3().then(function(i){return UC(i,t,r)})},L3={exports:{}},VC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HC=VC,WC=HC;function C3(){}function P3(){}P3.resetWarningCache=C3;var $C=function(){function e(r,i,a,s,o,c){if(c!==WC){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:P3,resetWarningCache:C3};return n.PropTypes=n,n};L3.exports=$C();var GC=L3.exports;const Mt=U5(GC);function I5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I5(Object(n),!0).forEach(function(r){_3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rh=function(t){return typeof t}:rh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function _3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KC(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function XC(e,t){if(e==null)return{};var n=KC(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function E3(e,t){return YC(e)||JC(e,t)||QC(e,t)||ZC()}function YC(e){if(Array.isArray(e))return e}function JC(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],i=!0,a=!1,s,o;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(c){a=!0,o=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw o}}return r}}function QC(e,t){if(e){if(typeof e=="string")return D5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D5(e,t)}}function D5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ur=function(e,t,n){var r=!!n,i=Rt.useRef(n);Rt.useEffect(function(){i.current=n},[n]),Rt.useEffect(function(){if(!r||!e)return function(){};var a=function(){i.current&&i.current.apply(i,arguments)};return e.on(t,a),function(){e.off(t,a)}},[r,t,e,i])},p1=function(e){var t=Rt.useRef(e);return Rt.useEffect(function(){t.current=e},[e]),t.current},yl=function(e){return e!==null&&rh(e)==="object"},eP=function(e){return yl(e)&&typeof e.then=="function"},tP=function(e){return yl(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},M5="[object Object]",nP=function e(t,n){if(!yl(t)||!yl(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var a=Object.prototype.toString.call(t)===M5,s=Object.prototype.toString.call(n)===M5;if(a!==s)return!1;if(!a&&!r)return t===n;var o=Object.keys(t),c=Object.keys(n);if(o.length!==c.length)return!1;for(var d={},p=0;p<o.length;p+=1)d[o[p]]=!0;for(var f=0;f<c.length;f+=1)d[c[f]]=!0;var v=Object.keys(d);if(v.length!==o.length)return!1;var m=t,w=n,S=function(k){return e(m[k],w[k])};return v.every(S)},F3=function(e,t,n){return yl(e)?Object.keys(e).reduce(function(r,i){var a=!yl(t)||!nP(e[i],t[i]);return n.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),r):a?R5(R5({},r||{}),{},_3({},i,e[i])):r},null):null},T3="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",O5=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T3;if(e===null||tP(e))return e;throw new Error(t)},rP=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T3;if(eP(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(r){return O5(r,t)})};var n=O5(e,t);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},iP=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"5.0.0"}),e.registerAppInfo({name:"react-stripe-js",version:"5.0.0",url:"https://stripe.com/docs/stripe-js/react"}))},mf=Rt.createContext(null);mf.displayName="ElementsContext";var I3=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},ig=function(e){var t=e.stripe,n=e.options,r=e.children,i=Rt.useMemo(function(){return rP(t)},[t]),a=Rt.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),s=E3(a,2),o=s[0],c=s[1];Rt.useEffect(function(){var f=!0,v=function(m){c(function(w){return w.stripe?w:{stripe:m,elements:m.elements(n)}})};return i.tag==="async"&&!o.stripe?i.stripePromise.then(function(m){m&&f&&v(m)}):i.tag==="sync"&&!o.stripe&&v(i.stripe),function(){f=!1}},[i,o,n]);var d=p1(t);Rt.useEffect(function(){d!==null&&d!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,t]);var p=p1(n);return Rt.useEffect(function(){if(o.elements){var f=F3(n,p,["clientSecret","fonts"]);f&&o.elements.update(f)}},[n,p,o.elements]),Rt.useEffect(function(){iP(o.stripe)},[o.stripe]),Rt.createElement(mf.Provider,{value:o},r)};ig.propTypes={stripe:Mt.any,options:Mt.object};var aP=function(e){var t=Rt.useContext(mf);return I3(t,e)},R3=function(){var e=aP("calls useElements()"),t=e.elements;return t};Mt.func.isRequired;var D3=Rt.createContext(null);D3.displayName="CheckoutContext";Mt.any,Mt.shape({clientSecret:Mt.oneOfType([Mt.string,Mt.instanceOf(Promise)]).isRequired,elementsOptions:Mt.object}).isRequired;var m1=function(e){var t=Rt.useContext(D3),n=Rt.useContext(mf);if(t){if(n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}else return I3(n,e)},sP=["mode"],oP=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Cr=function(e,t){var n="".concat(oP(e),"Element"),r=function(s){var o=s.id,c=s.className,d=s.options,p=d===void 0?{}:d,f=s.onBlur,v=s.onFocus,m=s.onReady,w=s.onChange,S=s.onEscape,k=s.onClick,b=s.onLoadError,x=s.onLoaderStart,j=s.onNetworksChange,R=s.onConfirm,q=s.onCancel,H=s.onShippingAddressChange,D=s.onShippingRateChange,T=s.onSavedPaymentMethodRemove,J=s.onSavedPaymentMethodUpdate,Z=m1("mounts <".concat(n,">")),E="elements"in Z?Z.elements:null,M="checkoutState"in Z?Z.checkoutState:null,K=(M==null?void 0:M.type)==="success"||(M==null?void 0:M.type)==="loading"?M.sdk:null,z=Rt.useState(null),le=E3(z,2),ie=le[0],he=le[1],G=Rt.useRef(null),ae=Rt.useRef(null);ur(ie,"blur",f),ur(ie,"focus",v),ur(ie,"escape",S),ur(ie,"click",k),ur(ie,"loaderror",b),ur(ie,"loaderstart",x),ur(ie,"networkschange",j),ur(ie,"confirm",R),ur(ie,"cancel",q),ur(ie,"shippingaddresschange",H),ur(ie,"shippingratechange",D),ur(ie,"savedpaymentmethodremove",T),ur(ie,"savedpaymentmethodupdate",J),ur(ie,"change",w);var Y;m&&(e==="expressCheckout"?Y=m:Y=function(){m(ie)}),ur(ie,"ready",Y),Rt.useLayoutEffect(function(){if(G.current===null&&ae.current!==null&&(E||K)){var A=null;if(K)switch(e){case"payment":A=K.createPaymentElement(p);break;case"address":if("mode"in p){var B=p.mode,V=XC(p,sP);if(B==="shipping")A=K.createShippingAddressElement(V);else if(B==="billing")A=K.createBillingAddressElement(V);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":A=K.createExpressCheckoutElement(p);break;case"currencySelector":A=K.createCurrencySelectorElement();break;case"taxId":A=K.createTaxIdElement(p);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else E&&(A=E.create(e,p));G.current=A,he(A),A&&A.mount(ae.current)}},[E,K,p]);var me=p1(p);return Rt.useEffect(function(){if(G.current){var A=F3(p,me,["paymentRequest"]);A&&"update"in G.current&&G.current.update(A)}},[p,me]),Rt.useLayoutEffect(function(){return function(){if(G.current&&typeof G.current.destroy=="function")try{G.current.destroy(),G.current=null}catch{}}},[]),Rt.createElement("div",{id:o,className:c,ref:ae})},i=function(s){m1("mounts <".concat(n,">"));var o=s.id,c=s.className;return Rt.createElement("div",{id:o,className:c})},a=t?i:r;return a.propTypes={id:Mt.string,className:Mt.string,onChange:Mt.func,onBlur:Mt.func,onFocus:Mt.func,onReady:Mt.func,onEscape:Mt.func,onClick:Mt.func,onLoadError:Mt.func,onLoaderStart:Mt.func,onNetworksChange:Mt.func,onConfirm:Mt.func,onCancel:Mt.func,onShippingAddressChange:Mt.func,onShippingRateChange:Mt.func,onSavedPaymentMethodRemove:Mt.func,onSavedPaymentMethodUpdate:Mt.func,options:Mt.object},a.displayName=n,a.__elementType=e,a},Pr=typeof window>"u",lP=Rt.createContext(null);lP.displayName="EmbeddedCheckoutProviderContext";var M3=function(){var e=m1("calls useStripe()"),t=e.stripe;return t};Cr("auBankAccount",Pr);var B5=Cr("card",Pr),q5=Cr("cardNumber",Pr),cP=Cr("cardExpiry",Pr),uP=Cr("cardCvc",Pr);Cr("iban",Pr);Cr("payment",Pr);Cr("expressCheckout",Pr);Cr("paymentRequestButton",Pr);Cr("linkAuthentication",Pr);Cr("address",Pr);Cr("shippingAddress",Pr);Cr("paymentMethodMessaging",Pr);Cr("taxId",Pr);const dP=A3({}.VITE_STRIPE_PUBLISHABLE_KEY),hP=({contentType:e,userId:t,userEmail:n,onSuccess:r,onCancel:i,priceInfo:a})=>{const s=M3(),o=R3(),[c,d]=F.useState(!1),[p,f]=F.useState(null),[v,m]=F.useState(""),[w,S]=F.useState("");F.useEffect(()=>{s&&(async()=>{try{const{data:x,error:j}=await Nt.functions.invoke("create-payment",{body:{contentType:e,userId:t,userEmail:n,amount:a.amount,selectedDuration,numPages,selectedVoice}});if(j)throw console.error("Erreur Edge Function:",j),new Error("Erreur lors de la cration du paiement");if(!x.client_secret)throw new Error("Client secret manquant dans la rponse");m(x.client_secret)}catch(x){console.error(" Erreur cration Payment Intent:",x),f(x.message||"Erreur lors de l'initialisation du paiement")}})()},[e,a.amount,t,n,s]);const k=async x=>{if(x.preventDefault(),!s||!o){f("Stripe n'est pas encore charg. Veuillez patienter.");return}const j=o.getElement(q5);if(!j){f("lment numro de carte non trouv");return}d(!0),f(null);try{if(console.log(" Traitement paiement Stripe pour:",{contentType:e,userId:t,userEmail:n,amount:a.amount}),!w.trim())throw new Error("Veuillez saisir le nom du titulaire de la carte");const{error:R,paymentIntent:q}=await s.confirmCardPayment(v,{payment_method:{card:j,billing_details:{name:w.trim(),email:n}},return_url:window.location.origin});if(R)throw console.error("Erreur Stripe:",R),new Error(R.message||"Erreur lors du paiement");if(q.status==="succeeded"){console.log(" Paiement Stripe russi:",q);try{await g3(t,e,q.id,a.amount/100)}catch(H){console.error("Erreur lors de l'enregistrement de la permission:",H)}r({success:!0,contentType:e,amount:a.amount/100,paymentIntentId:q.id,stripePayment:!0})}else throw q.status==="requires_action"?new Error("Authentification supplmentaire requise. Veuillez ressayer."):new Error("Paiement non finalis. Veuillez vrifier votre carte.")}catch(R){console.error(" Erreur paiement Stripe:",R),f(R.message||"Erreur lors du paiement. Veuillez ressayer.")}finally{d(!1)}},b={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased"},invalid:{color:"#9e2146"}}};return l.jsxs("form",{onSubmit:k,className:"payment-form",children:[l.jsxs("div",{className:"payment-summary",children:[l.jsx("h3",{children:"Rcapitulatif de votre commande"}),l.jsxs("div",{className:"order-item",children:[l.jsx("span",{className:"item-name",children:a.name}),l.jsx("span",{className:"item-price",children:a.display})]}),l.jsxs("div",{className:"order-total",children:[l.jsx("span",{className:"total-label",children:"Total  payer :"}),l.jsx("span",{className:"total-amount",children:a.display})]})]}),l.jsxs("div",{className:"payment-method",children:[l.jsx("h3",{children:"Informations de paiement"}),l.jsxs("div",{className:"card-field",children:[l.jsx("label",{htmlFor:"cardholder-name",children:"Nom du titulaire"}),l.jsx("input",{id:"cardholder-name",type:"text",placeholder:"Jean Dupont",className:"card-input",value:w,onChange:x=>S(x.target.value),required:!0})]}),l.jsxs("div",{className:"card-field",children:[l.jsx("label",{children:"Numro de carte"}),l.jsx("div",{className:"card-element-container",children:l.jsx(q5,{options:b,className:"card-element"})})]}),l.jsxs("div",{className:"card-row",children:[l.jsxs("div",{className:"card-field",children:[l.jsx("label",{children:"Date d'expiration"}),l.jsx("div",{className:"card-element-container small",children:l.jsx(cP,{options:b,className:"card-element"})})]}),l.jsxs("div",{className:"card-field",children:[l.jsx("label",{children:"Code de scurit (CVC)"}),l.jsx("div",{className:"card-element-container small",children:l.jsx(uP,{options:b,className:"card-element"})})]})]})]}),p&&l.jsxs("div",{className:"payment-error",children:[l.jsx("span",{className:"error-icon",children:""}),p]}),l.jsxs("div",{className:"payment-actions",children:[l.jsx("button",{type:"button",onClick:i,className:"cancel-button",disabled:c,children:"Annuler"}),l.jsx("button",{type:"submit",className:"pay-button",disabled:!s||c,children:c?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"loading-spinner"}),"Traitement en cours..."]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"lock-icon",children:""}),"Payer ",a.display]})})]}),l.jsx("div",{className:"payment-security",children:l.jsxs("div",{className:"security-info",children:[l.jsx("span",{className:"security-icon",children:""}),l.jsx("small",{children:"Paiement scuris par Stripe"})]})})]})},fP=({contentType:e,selectedDuration:t,numPages:n,selectedVoice:r,userId:i,userEmail:a,onSuccess:s,onCancel:o})=>{let c={};e==="animation"?c.duration=t:(e==="comic"||e==="bd")&&(c.pages=n||1);const d=pf(e,c),p=f=>{f.target===f.currentTarget&&o()};return F.useEffect(()=>{setTimeout(()=>{const f=document.querySelector(".stripe-payment-modal");f&&(f.style.overflowY="scroll",f.style.scrollbarWidth="auto",f.style.scrollbarColor="#6B4EFF transparent",f.style.setProperty("overflow-y","scroll","important"),f.style.setProperty("-webkit-overflow-scrolling","touch","important"))},100)},[]),l.jsx("div",{className:"payment-modal-overlay",onClick:p,children:l.jsxs(Fe.div,{className:"payment-modal stripe-payment-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},children:[l.jsxs("div",{className:"payment-header",children:[l.jsx("h2",{children:" Paiement scuris"}),l.jsx("button",{className:"close-button",onClick:o,"aria-label":"Fermer",children:""})]}),l.jsx(ig,{stripe:dP,children:l.jsx(hP,{contentType:e,userId:i,userEmail:a,onSuccess:s,onCancel:o,priceInfo:d})})]})})},pP=A3({}.VITE_STRIPE_PUBLISHABLE_KEY),mP=({onSelectPlan:e,currentSubscription:t})=>{const[n,r]=F.useState([]),[i,a]=F.useState(!0);F.useEffect(()=>{s()},[]);const s=async()=>{try{const c=await v3();r(c)}catch(c){console.error("Erreur chargement plans:",c)}finally{a(!1)}},o=c=>({Dcouverte:{tokens:"50 tokens/mois",features:["Histoires & Audio: 3 tokens","Coloriages: 2 tokens","BD: 4 tokens/page","Comptines: 5 tokens","Animations: 10 tokens"],ideal:"Parfait pour dcouvrir Herbbie"},Famille:{tokens:"150 tokens/mois",features:["Histoires & Audio: 3 tokens","Coloriages: 2 tokens","BD: 3 tokens/page","Comptines: 4 tokens","Animations: 8 tokens"],ideal:"Pour les familles actives"},Cratif:{tokens:"400 tokens/mois",features:["Histoires & Audio: 2 tokens","Coloriages: 1 token","BD: 2 tokens/page","Comptines: 3 tokens","Animations: 5 tokens"],ideal:"Pour les crateurs intensifs"},Institut:{tokens:"1,200 tokens/mois",features:["Histoires & Audio: 1 token","Coloriages: 1 token","BD: 1 token/page","Comptines: 2 tokens","Animations: 3 tokens"],ideal:"Pour les coles et institutions"}})[c]||{};return i?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map(c=>{var d,p;const f=o(c.name),v=((d=t==null?void 0:t.subscription_plans)==null?void 0:d.name)===c.name;return l.jsxs(Fe.div,{className:`relative bg-white rounded-xl p-6 border-2 transition-all duration-300 ${v?"border-violet-500 shadow-lg shadow-violet-200":"border-gray-200 hover:border-violet-300 hover:shadow-md"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[v&&l.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:l.jsx("span",{className:"bg-violet-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Plan actuel"})}),l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:c.name}),l.jsxs("div",{className:"text-3xl font-bold text-violet-600 mb-1",children:[(c.price_monthly/100).toFixed(2).replace(".",","),""]}),l.jsx("div",{className:"text-sm text-gray-500",children:"par mois"}),l.jsx("div",{className:"text-lg font-semibold text-gray-700 mt-2",children:f.tokens})]}),l.jsx("div",{className:"space-y-2 mb-6",children:(p=f.features)==null?void 0:p.map((m,w)=>l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx("span",{className:"text-green-500 mr-2",children:""}),m]},w))}),l.jsx("div",{className:"text-center mb-4",children:l.jsx("div",{className:"text-xs text-gray-500 italic",children:f.ideal})}),!v&&l.jsx("button",{onClick:()=>e(c),className:"w-full bg-violet-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-violet-700 transition-colors duration-200",children:"Choisir ce plan"}),v&&l.jsx("div",{className:"w-full bg-gray-100 text-gray-600 py-3 px-4 rounded-lg font-medium text-center",children:"Plan actif"})]},c.id)})})},gP=({selectedPlan:e,onSuccess:t,onCancel:n,userId:r,userEmail:i})=>{const a=M3(),s=R3(),[o,c]=F.useState(!1),[d,p]=F.useState(""),[f,v]=F.useState(null),m=async S=>{if(S.preventDefault(),!a||!s){v("Stripe n'est pas charg");return}if(!d.trim()){v("Le nom du titulaire de la carte est requis");return}c(!0),v(null);try{const k=s.getElement(B5),{error:b,paymentMethod:x}=await a.createPaymentMethod({type:"card",card:k,billing_details:{name:d.trim(),email:i}});if(b){v(b.message);return}const j=await y3(e.id,r,x.id,i);if(j.success){if(j.clientSecret){const{error:R}=await a.confirmCardPayment(j.clientSecret);if(R){v(R.message);return}}t()}else v(j.error||"Erreur lors de la cration de l'abonnement")}catch(k){console.error("Erreur abonnement:",k),v("Erreur lors de la cration de l'abonnement")}finally{c(!1)}},w={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},fontFamily:"Inter, system-ui, sans-serif"},invalid:{color:"#9e2146"}}};return l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["S'abonner  ",e.name]}),l.jsxs("div",{className:"bg-violet-50 p-4 rounded-lg mb-6",children:[l.jsxs("div",{className:"text-lg font-semibold text-violet-800",children:[(e.price_monthly/100).toFixed(2).replace(".",","),"/mois"]}),l.jsx("div",{className:"text-sm text-violet-600",children:"Factur mensuellement  Annulable  tout moment"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du titulaire de la carte"}),l.jsx("input",{type:"text",value:d,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500",placeholder:"Jean Dupont",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Informations de carte bancaire"}),l.jsx("div",{className:"border border-gray-300 rounded-md p-3 focus-within:ring-2 focus-within:ring-violet-500 focus-within:border-violet-500",children:l.jsx(B5,{options:w})})]}),f&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:l.jsx("div",{className:"text-red-800 text-sm",children:f})}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{type:"button",onClick:n,className:"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors duration-200",disabled:o,children:"Annuler"}),l.jsx("button",{type:"submit",className:"flex-1 bg-violet-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-violet-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o||!a,children:o?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Traitement..."]}):`S'abonner pour ${(e.price_monthly/100).toFixed(2).replace(".",",")}/mois`})]}),l.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Vos informations de paiement sont scurises et cryptes. Vous pouvez annuler votre abonnement  tout moment."})]})},vP=({subscription:e,onCancel:t,onClose:n})=>{const[r,i]=F.useState(!1),[a,s]=F.useState(null);F.useEffect(()=>{o()},[]);const o=async()=>{try{const{totalTokens:p}=await tg(e.user_id);s({totalTokens:p})}catch(p){console.error("Erreur chargement tokens:",p)}},c=async()=>{if(confirm("tes-vous sr de vouloir annuler votre abonnement ? Il restera actif jusqu' la fin de la priode en cours.")){i(!0);try{await b3(e.user_id),alert("Votre abonnement a t annul. Il restera actif jusqu' la fin de la priode en cours."),t()}catch(p){console.error("Erreur annulation:",p),alert("Erreur lors de l'annulation de l'abonnement")}finally{i(!1)}}},d=p=>new Date(p).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gestion de l'abonnement"}),l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[l.jsxs("div",{className:"text-green-800 font-medium",children:["Plan ",e.subscription_plans.name," actif"]}),l.jsxs("div",{className:"text-green-600 text-sm mt-1",children:["Prochaine facturation: ",d(e.current_period_end)]})]})]}),a&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsxs("div",{className:"text-blue-800 font-medium",children:["Tokens disponibles: ",a.totalTokens]}),l.jsxs("div",{className:"text-blue-600 text-sm mt-1",children:["Tokens utiliss ce mois: ",e.tokens_used_this_month||0]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Dtails de l'abonnement"}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("div",{children:["Prix: ",(e.subscription_plans.price_monthly/100).toFixed(2).replace(".",","),"/mois"]}),l.jsxs("div",{children:["Dbut de priode: ",d(e.current_period_start)]}),l.jsxs("div",{children:["Fin de priode: ",d(e.current_period_end)]}),l.jsxs("div",{children:["Status: ",e.status==="active"?"Actif":e.status]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:n,className:"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors duration-200",children:"Fermer"}),l.jsx("button",{onClick:c,className:"flex-1 bg-red-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r||e.cancel_at_period_end,children:r?"Annulation...":"Annuler l'abonnement"})]}),e.cancel_at_period_end&&l.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:l.jsxs("div",{className:"text-orange-800 text-sm",children:[" Votre abonnement sera annul le ",d(e.current_period_end)]})})]})},yP=({isOpen:e,onClose:t,userId:n,userEmail:r})=>{const[i,a]=F.useState("plans"),[s,o]=F.useState(null),[c,d]=F.useState(null),[p,f]=F.useState(!0);F.useEffect(()=>{e&&n&&v()},[e,n]);const v=async()=>{try{const b=await eg(n);d(b)}catch(b){console.error("Erreur chargement abonnement:",b)}finally{f(!1)}},m=b=>{o(b),a("payment")},w=()=>{a("plans"),o(null),v(),alert(" Flicitations ! Votre abonnement a t activ avec succs.")},S=()=>{a("plans"),o(null)},k=()=>{a("plans"),o(null),t()};return e?l.jsx(qr,{children:l.jsx(Fe.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.jsx(Fe.div,{className:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{scrollbarWidth:"thin",scrollbarColor:"rgba(107, 78, 255, 0.3) transparent"},children:l.jsxs("div",{className:"p-6 md:p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:c?"Mon abonnement":"Choisir un abonnement"}),l.jsx("button",{onClick:k,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),p?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"})}):l.jsxs(l.Fragment,{children:[i==="plans"&&l.jsx(mP,{onSelectPlan:m,currentSubscription:c}),i==="payment"&&s&&l.jsx(ig,{stripe:pP,children:l.jsx(gP,{selectedPlan:s,onSuccess:w,onCancel:S,userId:n,userEmail:r})}),i==="management"&&c&&l.jsx(vP,{subscription:c,onCancel:v,onClose:k}),c&&i==="plans"&&l.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:()=>a("management"),className:"bg-violet-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-violet-700 transition-colors duration-200",children:"Grer mon abonnement"})})})]})]})})})}):null},bP=({onLegalClick:e})=>l.jsx("footer",{className:"app-footer",children:l.jsxs("div",{className:"footer-content",children:[l.jsx("div",{className:"ai-notice",children:l.jsx("p",{children:"Les crations sont gnres par IA et peuvent contenir des erreurs."})}),l.jsxs("div",{className:"footer-links",children:[l.jsx("button",{className:"footer-link",onClick:()=>e("mentions"),children:"Mentions lgales"}),l.jsx("span",{className:"separator",children:""}),l.jsx("button",{className:"footer-link",onClick:()=>e("privacy"),children:"Confidentialit"}),l.jsx("span",{className:"separator",children:""}),l.jsx("button",{className:"footer-link",onClick:()=>e("cookies"),children:"Cookies"}),l.jsx("span",{className:"separator",children:""}),l.jsx("button",{className:"footer-link",onClick:()=>e("terms"),children:"CGU"}),l.jsx("span",{className:"separator",children:""}),l.jsx("button",{className:"footer-link",onClick:()=>e("contact"),children:"Contact"})]}),l.jsx("div",{className:"footer-info",children:l.jsxs("p",{children:[" ",new Date().getFullYear()," HERBBIE"]})})]})}),xP=({onClose:e,initialSection:t="mentions"})=>{const[n,r]=F.useState(t),[i,a]=F.useState({firstName:"",lastName:"",email:"",subject:"",message:""}),[s,o]=F.useState(!1),[c,d]=F.useState(""),p=[{id:"mentions",title:"Mentions Lgales",icon:""},{id:"privacy",title:"Confidentialit",icon:""},{id:"cookies",title:"Cookies",icon:""},{id:"terms",title:"Conditions d'utilisation",icon:""},{id:"contact",title:"Contact",icon:""}],f=()=>{switch(n){case"mentions":return v();case"privacy":return m();case"cookies":return w();case"terms":return S();case"contact":return x();default:return v()}},v=()=>l.jsxs("div",{className:"legal-content",children:[l.jsx("h2",{children:" Mentions Lgales"}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"Hbergement"}),l.jsxs("div",{className:"info-block",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Hbergeur :"})," Railway"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Adresse :"})," Railway, 1 Sentry Way, San Francisco, CA 94103, tats-Unis"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Site web :"})," ",l.jsx("a",{href:"https://railway.app",target:"_blank",rel:"noopener noreferrer",children:"railway.app"})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"Proprit intellectuelle"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"L'ensemble du contenu de ce site (textes, images, vidos, lments graphiques, logos, icnes, sons, logiciels) est la proprit exclusive de HERBBIE ou de ses partenaires, sauf mention contraire."}),l.jsx("p",{children:"Toute reproduction, distribution, modification ou exploitation commerciale, mme partielle, sans autorisation pralable crite de HERBBIE est strictement interdite et constituerait une contrefaon sanctionne par les articles L.335-2 et suivants du Code de la proprit intellectuelle."})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"Responsabilit"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"HERBBIE s'efforce d'assurer l'exactitude et la mise  jour des informations diffuses sur ce site, dont elle se rserve le droit de corriger,  tout moment et sans pravis, le contenu."}),l.jsx("p",{children:"Toutefois, HERBBIE ne peut garantir l'exactitude, la prcision ou l'exhaustivit des informations mises  disposition sur ce site. En consquence, HERBBIE dcline toute responsabilit :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Pour toute imprcision, inexactitude ou omission portant sur des informations disponibles sur le site"}),l.jsx("li",{children:"Pour tous dommages rsultant d'une intrusion frauduleuse d'un tiers ayant entran une modification des informations mises  disposition sur le site"}),l.jsx("li",{children:"Et plus gnralement pour tous dommages, directs ou indirects, quelles qu'en soient les causes, origines, natures ou consquences, provoqus  raison de l'accs de quiconque au site ou de l'impossibilit d'y accder"})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"Donnes personnelles"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"Conformment  la loi n78-17 du 6 janvier 1978 relative  l'informatique, aux fichiers et aux liberts, vous disposez d'un droit d'accs, de rectification et de suppression des donnes vous concernant."}),l.jsxs("p",{children:["Pour exercer ce droit, vous pouvez nous contacter par email  l'adresse : ",l.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"Cookies"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"Le site HERBBIE utilise des cookies pour amliorer votre exprience utilisateur et raliser des statistiques de visite."}),l.jsx("p",{children:"Conformment  la rglementation, vous pouvez refuser le dpt de cookies en configurant votre navigateur."})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"diteur du site"}),l.jsxs("div",{className:"info-block personal-data",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Dnomination sociale :"})," ",l.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Forme juridique :"})," ",l.jsx("span",{className:"protect-personal-info",children:"Auto-entreprise (en cours d'immatriculation)"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Adresse du sige social :"})," ",l.jsx("span",{className:"address-protected personal-data",children:"10 bis rue Flix Arnaudin, 40100 Dax"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Numro SIRET :"})," ",l.jsx("span",{className:"protect-personal-info",children:"En cours d'attribution"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Directeur de la publication :"})," ",l.jsx("span",{className:"name-protected personal-data",children:"Adrien Gaulin"})]})]})]})]}),m=()=>l.jsxs("div",{className:"legal-content",children:[l.jsx("h2",{children:" Politique de Confidentialit"}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"1. Collecte des donnes personnelles"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"Lors de votre utilisation du service HERBBIE, nous pouvons collecter les informations suivantes :"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Donnes de compte :"})," adresse email, nom d'utilisateur (si inscription)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Donnes d'utilisation :"})," historique des crations, prfrences, statistiques d'usage"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Donnes techniques :"})," adresse IP, type de navigateur, systme d'exploitation"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Contenu gnr :"})," les crations ralises via notre service (histoires, coloriages, etc.)"]})]}),l.jsx("p",{children:"La collecte de ces donnes est ncessaire pour :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Fournir nos services de gnration de contenu cratif"}),l.jsx("li",{children:"Amliorer la qualit de nos services"}),l.jsx("li",{children:"Assurer la scurit de la plateforme"}),l.jsx("li",{children:"Respecter nos obligations lgales"})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"2. Utilisation des donnes"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"Les donnes collectes sont utilises pour :"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Fournir le service :"})," gnration de contenu personnalis, sauvegarde des crations"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Amlioration :"})," analyse des usages pour optimiser l'exprience utilisateur"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Communication :"})," envoi d'informations relatives au service, support client"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Scurit :"})," dtection et prvention des fraudes et activits malveillantes"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Obligations lgales :"})," conservation des donnes requises par la loi"]})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"3. Partage des donnes"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"HERBBIE s'engage  ne pas vendre, louer ou commercialiser vos donnes personnelles."}),l.jsx("p",{children:"Les donnes peuvent tre partages uniquement dans les cas suivants :"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Fournisseurs de services :"})," hbergeurs, prestataires techniques (sous contrat de confidentialit)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Obligations lgales :"})," sur demande des autorits comptentes"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Protection des droits :"})," en cas de litige ou contentieux"]})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"4. Conservation des donnes"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"Les donnes sont conserves pendant la dure ncessaire aux finalits pour lesquelles elles ont t collectes :"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Donnes de compte :"})," tant que le compte est actif + 3 ans aprs inactivation"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Donnes d'utilisation :"})," 2 ans  compter de la collecte"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Contenu gnr :"})," tant que le compte est actif"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Donnes de facturation :"})," 10 ans (obligation lgale)"]})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"5. Scurit des donnes"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"HERBBIE met en uvre des mesures techniques et organisationnelles appropries pour protger vos donnes personnelles contre :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"L'accs non autoris"}),l.jsx("li",{children:"L'utilisation illgitime"}),l.jsx("li",{children:"La perte ou destruction accidentelle"}),l.jsx("li",{children:"Toute forme de traitement illicite"})]}),l.jsx("p",{children:"Ces mesures incluent le chiffrement des donnes, des contrles d'accs stricts et des audits rguliers de scurit."})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"6. Vos droits"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"Conformment au RGPD, vous disposez des droits suivants :"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Droit d'accs :"})," demander l'accs  vos donnes personnelles"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Droit de rectification :"})," demander la correction de donnes inexactes"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Droit  l'effacement :"})," demander la suppression de vos donnes"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Droit  la limitation :"})," demander la limitation du traitement"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Droit  la portabilit :"})," demander la rcupration de vos donnes"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Droit d'opposition :"})," vous opposer au traitement de vos donnes"]})]}),l.jsxs("p",{children:["Pour exercer ces droits, contactez-nous  : ",l.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"7. Cookies et technologies similaires"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"HERBBIE utilise uniquement des cookies strictement essentiels au fonctionnement du service :"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies de session :"})," Maintien de votre connexion et scurit"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies d'authentification :"})," Mmorisation de votre identit"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies de scurit :"})," Protection contre les menaces"]})]}),l.jsx("h4",{children:"Stockage et scurit des cookies :"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Emplacement :"})," Stocks localement dans le navigateur (localStorage)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Dure de vie :"})," Sessions temporaires (supprims  la dconnexion)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Scurit :"})," Chiffrs et protgs contre les attaques CSRF"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Serveur :"})," Gestion automatique par Supabase avec scurit renforce"]})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Note :"})," Aucun cookie de fonctionnalit, analytique, de personnalisation ou publicitaire n'est utilis."]}),l.jsx("p",{children:"Les cookies essentiels sont automatiquement grs et exempts de consentement selon le RGPD."})]})]})]}),w=()=>l.jsxs("div",{className:"legal-content",children:[l.jsx("h2",{children:" Politique des Cookies"}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"1. Qu'est-ce qu'un cookie ?"}),l.jsx("div",{className:"info-block",children:l.jsx("p",{children:"Un cookie est un petit fichier texte dpos sur votre terminal (ordinateur, tablette, smartphone) lors de la visite d'un site internet. Il permet de stocker des informations relatives  votre navigation et d'amliorer votre exprience utilisateur."})})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"2. Cookies utiliss par HERBBIE"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:l.jsx("strong",{children:"Conformment  la rglementation RGPD, HERBBIE utilise uniquement des cookies strictement essentiels ncessaires au fonctionnement du service."})}),l.jsx("h4",{children:"Cookies essentiels (obligatoires) :"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies de session :"})," Maintien de votre connexion et scurit pendant votre visite"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies d'authentification :"})," Mmorisation de votre identit pour viter de vous reconnecter"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies de scurit :"})," Protection contre les attaques CSRF et autres menaces"]})]}),l.jsxs("div",{className:"alert alert-info",children:[l.jsx("strong",{children:"Note :"})," Aucun cookie de fonctionnalit, analytique, de personnalisation ou publicitaire n'est utilis sur ce site."]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"3. Gestion des cookies"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"Les cookies essentiels utiliss par HERBBIE sont automatiquement grs et ne ncessitent pas d'action de votre part."}),l.jsx("h4",{children:"Via votre navigateur :"}),l.jsx("p",{children:"Si vous souhaitez supprimer les cookies essentiels (ce qui peut affecter le fonctionnement du site) :"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Chrome :"})," Paramtres  Confidentialit et scurit  Cookies"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Firefox :"})," Prfrences  Vie prive et scurit  Cookies"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Safari :"})," Prfrences  Confidentialit  Grer les cookies"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Edge :"})," Paramtres  Cookies et autorisations de site"]})]}),l.jsx("h4",{children:"Dure de conservation :"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies de session :"})," Supprims automatiquement  la fermeture du navigateur"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies d'authentification :"})," Conservs pendant votre session active (maximum 24h)"]})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"4. Finalits des cookies"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"HERBBIE utilise uniquement des cookies essentiels pour :"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Fonctionnement du service :"})," Maintien de la session utilisateur"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Scurit :"})," Scurisation des transactions et protection contre les menaces"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Prfrences essentielles :"})," Mmorisation des paramtres de base (langue)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Performance :"})," Optimisation du fonctionnement du site"]})]}),l.jsxs("div",{className:"alert alert-info",children:[l.jsx("strong",{children:"Note :"})," Aucun cookie n'est utilis pour l'analyse d'audience, le suivi utilisateur ou la personnalisation avance."]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"5. Cookies tiers"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"HERBBIE n'utilise pas de cookies tiers pour l'analyse, le suivi ou la publicit."}),l.jsx("p",{children:"Les services externes utiliss (comme les APIs d'IA) ne dposent pas de cookies sur votre navigateur."})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"6. Consentement"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:l.jsx("strong",{children:"Conformment  la rglementation RGPD, les cookies essentiels utiliss par HERBBIE ne ncessitent pas de consentement explicite car ils sont strictement ncessaires au fonctionnement du service."})}),l.jsx("p",{children:"Ces cookies sont automatiquement activs pour garantir la scurit et le bon fonctionnement du site."}),l.jsx("p",{children:"Note : La dsactivation de ces cookies essentiels peut gravement affecter le fonctionnement du service."})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"7. Mise  jour"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"Cette politique des cookies peut tre mise  jour rgulirement pour reflter les volutions de nos services ou de la rglementation."}),l.jsx("p",{children:"La date de dernire modification est indique en bas de cette page."}),l.jsx("p",{children:"En cas de modification substantielle, nous vous en informerons via une notification sur le site."})]})]})]}),S=()=>l.jsxs("div",{className:"legal-content",children:[l.jsx("h2",{children:" Conditions d'utilisation"}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"1. Objet du service"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"HERBBIE est une plateforme de gnration de contenu cratif destine aux enfants, utilisant l'intelligence artificielle pour crer :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Des histoires personnalises et ducatives"}),l.jsx("li",{children:"Des coloriages et activits cratives"}),l.jsx("li",{children:"Du contenu pdagogique adapt  chaque ge"}),l.jsx("li",{children:"Des expriences d'apprentissage ludiques"})]}),l.jsx("p",{children:"Le service est conu pour stimuler l'imagination et la crativit des enfants de manire scurise et ducative."})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"2. Conditions d'accs"}),l.jsxs("div",{className:"info-block",children:[l.jsx("h4",{children:"ge minimum :"}),l.jsx("p",{children:"Le service HERBBIE est accessible aux enfants de tous ges. Pour les enfants de moins de 13 ans, l'utilisation doit se faire sous la supervision d'un adulte responsable."}),l.jsx("h4",{children:"Inscription :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Les utilisateurs peuvent crer un compte gratuit"}),l.jsx("li",{children:"L'inscription ncessite une adresse email valide"}),l.jsx("li",{children:"Les mots de passe doivent tre scuriss"}),l.jsx("li",{children:"Une seule inscription par personne est autorise"})]}),l.jsx("h4",{children:"Utilisation acceptable :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Respect des autres utilisateurs"}),l.jsx("li",{children:"Utilisation dans un cadre ducatif et ludique"}),l.jsx("li",{children:"Interdiction de gnrer du contenu inappropri"}),l.jsx("li",{children:"Respect des droits d'auteur et proprit intellectuelle"})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"3. Services et fonctionnalits"}),l.jsxs("div",{className:"info-block",children:[l.jsx("h4",{children:"Services gratuits :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Accs  un nombre limit de gnration par jour"}),l.jsx("li",{children:"Fonctionnalits de base de cration de contenu"}),l.jsx("li",{children:"Sauvegarde des crations pendant 30 jours"}),l.jsx("li",{children:"Support communautaire"})]}),l.jsx("h4",{children:"Services premium (optionnels) :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Gnrations illimites"}),l.jsx("li",{children:"Sauvegarde permanente des crations"}),l.jsx("li",{children:"Fonctionnalits avances"}),l.jsx("li",{children:"Support prioritaire"}),l.jsx("li",{children:"Contenu personnalis avanc"})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"4. Rgles de conduite"}),l.jsxs("div",{className:"info-block",children:[l.jsx("h4",{children:"Interdictions :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Gnrer du contenu violent, haineux ou inappropri"}),l.jsx("li",{children:"Utiliser le service pour harceler ou intimider"}),l.jsx("li",{children:"Tenter de contourner les limitations techniques"}),l.jsx("li",{children:"Partager des informations personnelles d'autrui"}),l.jsx("li",{children:"Utiliser le service  des fins commerciales sans autorisation"}),l.jsx("li",{children:"Copier ou reproduire le contenu gnr par d'autres utilisateurs"})]}),l.jsx("h4",{children:"Obligations des utilisateurs :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Fournir des informations exactes lors de l'inscription"}),l.jsx("li",{children:"Respecter les droits d'auteur et la proprit intellectuelle"}),l.jsx("li",{children:"Signaler tout contenu inappropri"}),l.jsx("li",{children:"Maintenir la confidentialit de leurs identifiants"}),l.jsx("li",{children:"Utiliser le service de manire responsable"})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"5. Proprit intellectuelle"}),l.jsxs("div",{className:"info-block",children:[l.jsx("h4",{children:"Contenu gnr :"}),l.jsx("p",{children:"Le contenu cr via HERBBIE appartient  l'utilisateur qui l'a gnr. L'utilisateur peut :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Tlcharger et utiliser ses crations  des fins personnelles"}),l.jsx("li",{children:"Partager ses crations dans un cadre familial ou ducatif"}),l.jsx("li",{children:"Modifier ses propres crations"})]}),l.jsx("h4",{children:"Plateforme HERBBIE :"}),l.jsx("p",{children:"Tous les lments de la plateforme (interface, algorithmes, design, etc.) restent la proprit exclusive de HERBBIE."}),l.jsx("h4",{children:"Contenu tiers :"}),l.jsx("p",{children:"Certains lments peuvent tre soumis  des licences tierces (polices, images, sons). L'utilisation doit respecter ces licences."})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"6. Limitation de responsabilit"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"HERBBIE s'efforce de fournir un service de qualit, mais ne peut garantir :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"La disponibilit permanente du service (maintenance, pannes)"}),l.jsx("li",{children:"L'absence totale de bugs ou erreurs"}),l.jsx("li",{children:"L'adquation du contenu gnr  tous les besoins"}),l.jsx("li",{children:"La scurit absolue contre les cyberattaques"})]}),l.jsx("p",{children:"En aucun cas HERBBIE ne pourra tre tenu responsable :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Des dommages indirects ou conscutifs  l'utilisation du service"}),l.jsx("li",{children:"De la perte de donnes ou de crations"}),l.jsx("li",{children:"Des interruptions de service non planifies"}),l.jsx("li",{children:"Des actes de tiers (piratage, virus, etc.)"})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"7. Rsiliation"}),l.jsxs("div",{className:"info-block",children:[l.jsx("h4",{children:"Par l'utilisateur :"}),l.jsx("p",{children:"L'utilisateur peut rsilier son compte  tout moment via les paramtres de son profil."}),l.jsx("h4",{children:"Par HERBBIE :"}),l.jsx("p",{children:"HERBBIE peut suspendre ou rsilier un compte en cas de :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Violation grave des conditions d'utilisation"}),l.jsx("li",{children:"Utilisation abusive du service"}),l.jsx("li",{children:"Non-paiement des services premium"}),l.jsx("li",{children:"Inactivit prolonge (plus de 2 ans)"})]}),l.jsx("h4",{children:"Consquences de la rsiliation :"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Accs immdiat au service suspendu"}),l.jsx("li",{children:"Conservation des donnes pendant 30 jours"}),l.jsx("li",{children:"Suppression dfinitive aprs ce dlai"}),l.jsx("li",{children:"Possibilit de ractivation sous conditions"})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"8. Modification des conditions"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"HERBBIE se rserve le droit de modifier ces conditions d'utilisation  tout moment."}),l.jsx("p",{children:"Les modifications seront notifies aux utilisateurs par email ou notification sur le site."}),l.jsx("p",{children:"La poursuite de l'utilisation du service aprs notification vaut acceptation des nouvelles conditions."}),l.jsx("p",{children:"En cas de dsaccord avec les modifications, l'utilisateur peut rsilier son compte."})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"9. Droit applicable"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"Ces conditions d'utilisation sont rgies par le droit franais."}),l.jsx("p",{children:"Tout litige relatif  l'interprtation ou l'excution de ces conditions sera soumis aux tribunaux comptents du ressort de Paris."}),l.jsx("p",{children:"En cas de traduction de ces conditions, seule la version franaise fait foi."})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"10. Contact"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"Pour toute question relative  ces conditions d'utilisation :"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Email :"})," ",l.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Objet :"}),' "Question CGU"']}),l.jsxs("li",{children:[l.jsx("strong",{children:"Dlai de rponse :"})," 48-72 heures"]})]})]})]})]}),k=(j,R)=>{a(q=>({...q,[j]:R}))},b=async j=>{j.preventDefault(),o(!0),d("");try{const R=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:i.firstName,lastName:i.lastName,email:i.email,subject:i.subject,message:i.message})});if(!R.ok){const H=await R.json();throw new Error(H.detail||"Erreur lors de l'envoi du message")}const q=await R.json();d(" Votre message a t envoy avec succs ! Nous vous rpondrons dans les plus brefs dlais."),a({firstName:"",lastName:"",email:"",subject:"",message:""})}catch(R){d(` Erreur lors de l'envoi : ${R.message}`)}finally{o(!1)}},x=()=>l.jsxs("div",{className:"legal-content",children:[l.jsx("h2",{children:" Contact"}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:" Formulaire de contact"}),l.jsxs("div",{className:"info-block",children:[l.jsx("p",{children:"Vous pouvez nous contacter directement en remplissant le formulaire ci-dessous :"}),l.jsxs("form",{className:"contact-form",onSubmit:b,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"contact-firstName",children:"Prnom *"}),l.jsx("input",{type:"text",id:"contact-firstName",value:i.firstName,onChange:j=>k("firstName",j.target.value),required:!0,placeholder:"Votre prnom"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"contact-lastName",children:"Nom *"}),l.jsx("input",{type:"text",id:"contact-lastName",value:i.lastName,onChange:j=>k("lastName",j.target.value),required:!0,placeholder:"Votre nom de famille"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"contact-email",children:"Email *"}),l.jsx(Jo,{value:i.email,onChange:j=>k("email",j.target.value),placeholder:"votre.email@exemple.com",required:!0,user:null,onEmailSubmit:()=>{}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"contact-subject",children:"Sujet *"}),l.jsxs("select",{id:"contact-subject",value:i.subject,onChange:j=>k("subject",j.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Choisissez un sujet"}),l.jsx("option",{value:"Support technique",children:" Support technique"}),l.jsx("option",{value:"Question gnrale",children:" Question gnrale"}),l.jsx("option",{value:"Partenariat",children:" Partenariat"}),l.jsx("option",{value:"Signaler un bug",children:" Signaler un bug"}),l.jsx("option",{value:"Suggestion",children:" Suggestion"}),l.jsx("option",{value:"Autre",children:" Autre"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"contact-message",children:"Message *"}),l.jsx("textarea",{id:"contact-message",value:i.message,onChange:j=>k("message",j.target.value),required:!0,placeholder:"Dcrivez votre demande en dtail...",rows:"5"})]}),c&&l.jsx("div",{className:`submit-message ${c.includes("")?"success":"error"}`,children:c}),l.jsx("button",{type:"submit",className:"contact-submit-btn",disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner"}),"Envoi en cours..."]}):l.jsx(l.Fragment,{children:" Envoyer l'email"})})]})]})]}),l.jsxs("div",{className:"legal-section",children:[l.jsx("h3",{children:"Informations de contact"}),l.jsxs("div",{className:"info-block personal-data",children:[l.jsxs("p",{children:[l.jsx("strong",{children:" Email :"})," ",l.jsx("a",{href:"mailto:contact@herbbie.com",className:"email-protected",children:l.jsx("span",{className:"personal-data",children:"contact@herbbie.com"})})]}),l.jsxs("p",{children:[l.jsx("strong",{children:" Nom de l'entreprise :"})," ",l.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]})]})]})]});return l.jsx(Fe.div,{className:"legal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:e,children:l.jsxs(Fe.div,{className:"legal-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:j=>j.stopPropagation(),children:[l.jsxs("div",{className:"legal-header",children:[l.jsx("h1",{children:" Informations Lgales"}),l.jsx("button",{className:"close-button",onClick:e,children:""})]}),l.jsxs("div",{className:"legal-body",children:[l.jsx("nav",{className:"legal-nav",children:p.map(j=>l.jsxs("button",{className:`nav-item ${n===j.id?"active":""}`,onClick:()=>r(j.id),children:[l.jsx("span",{className:"nav-icon",children:j.icon}),l.jsx("span",{className:"nav-title",children:j.title})]},j.id))}),l.jsx("div",{className:"legal-main",children:l.jsx(qr,{mode:"wait",children:l.jsx(Fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:f()},n)})})]})]})})},wP=()=>{const[e,t]=F.useState([]);return F.useEffect(()=>{const n=r=>{const i=Math.random()*1799.5+.5;setTimeout(()=>{const a={id:Date.now()+r,index:r,duration:Math.random()*2+1};t(s=>[...s,a]),setTimeout(()=>{t(s=>s.filter(o=>o.id!==a.id))},a.duration*1e3),n(r)},i*1e3)};for(let r=0;r<10;r++)setTimeout(()=>n(r),Math.random()*5e3);return()=>{t([])}},[]),l.jsx("section",{className:"shooting-stars-container",children:e.map(n=>l.jsx("span",{className:`shooting-star star-${n.index+1}`,style:{animationDuration:`${n.duration}s`}},n.id))})},_o=(e,t,n="")=>{const r={comptine:{animaux:["Les Amis de la Fort","La Danse des Animaux","Mes Amis les Animaux","Le Grand Bal des Animaux"],nature:["Les Fleurs Magiques","L'Aventure dans les Bois","Les Secrets du Jardin","La Fte de la Nature"],transport:["Le Train des Copains","L'Aventure en Voiture","Le Voyage Fantastique","En Route pour l'Aventure"],couleurs:["L'Arc-en-Ciel Magique","Le Monde des Couleurs","La Danse des Couleurs","Mon Joli Tableau"],famille:["Ma Famille d'Amour","Tous Ensemble","Les Clins de Famille","Mon Coeur de Famille"],default:["Ma Jolie Comptine","Chanson du Bonheur","Ma Petite Mlodie","Comptine Rigolote"]},histoire:{aventure:["La Grande Aventure","Voyage Extraordinaire","Mission Secrte","L'Aventure Fantastique"],animaux:["Les Amis de la Fort","L'Histoire des Petits Animaux","Mes Copains Animaux","La Famille Animaux"],magie:["Le Monde Magique","L'Aventure Enchante","Le Secret Magique","La Fe et ses Amis"],amiti:["Les Meilleurs Amis","Une Belle Amiti","Copains pour la Vie","L'Amiti Magique"],espace:["Voyage dans les toiles","L'Aventure Spatiale","Les Amis de l'Espace","Mission sur la Lune"],default:["Mon Belle Histoire","Conte Merveilleux","Histoire Fantastique","Rcit d'Aventure"]},coloriage:{animaux:["Mes Amis Animaux","Zoo Rigolo","Famille Animaux","Copains de la Fort"],licorne:["Licorne Magique","Princesse Licorne","Pays des Licornes","Licorne Arc-en-Ciel"],dinosaures:["Dino Rigolo","Mes Amis Dinosaures","Parc des Dinosaures","T-Rex et ses Copains"],nature:["Jardin Fleuri","Fort Enchante","Promenade Nature","Fleurs et Papillons"],espace:["Voyage Spatial","Plantes Rigolotes","Astronaute en Mission","toiles et Fuses"],vhicules:["Mes Voitures","Garage Rigolo","Course Automobile","Train et Avions"],default:["Mon Coloriage","Dessin Rigolo","Art Cratif","Belle Image"]},animation:{aventure:["Mon Dessin Anim","Animation Magique","Film d'Aventure","Cinma Fantastique"],animaux:["Mes Amis Anims","Zoo en Mouvement","Aventures Animales","Cirque des Animaux"],magie:["Monde Enchant","Magie en Mouvement","Film de Fe","Animation Magique"],espace:["Voyage Anim","Aventure Spatiale","Film de l'Espace","Mission Animation"],nature:["Fort Anime","Jardin en Mouvement","Nature Vivante","Fleurs Dansantes"],default:["Mon Film IA","Dessin Anim IA","Animation Crative","Film Personnalis"]}},i=r[e]||r.histoire,a=i[t]||i.default||i.aventure,s=Math.floor(Math.random()*a.length);return a[s]};function SP(e,t=600){const n=e.split(new RegExp("(?<=[.?!])\\s+")),r=[];let i="";for(const a of n)(i+a).length>t?(r.push(i.trim()),i=a+" "):i+=a+" ";return i.trim()&&r.push(i.trim()),r}function NP(){const[e,t]=F.useState("animation"),[n,r]=F.useState(null),[i,a]=F.useState(""),[s,o]=F.useState(!0),[c,d]=F.useState(""),[p,f]=F.useState(""),[v,m]=F.useState(null),[w,S]=F.useState(""),[k,b]=F.useState(null),[x,j]=F.useState(""),[R,q]=F.useState(!1),[H,D]=F.useState(null);F.useState(!1);const[T,J]=F.useState(!1),[Z,E]=F.useState(!1),[M,K]=F.useState(!1),[z,le]=F.useState(!1),[ie,he]=F.useState(null),[G,ae]=F.useState(""),[Y,me]=F.useState(null),[A,B]=F.useState(null),[V,X]=F.useState(null),[Q,oe]=F.useState(null),[ue,de]=F.useState(null),[be,we]=F.useState(null),[Te,Ce]=F.useState(""),[Je,ve]=F.useState(null),[$,ot]=F.useState(null),[$e,Le]=F.useState(!1);F.useEffect(()=>{e==="comic"&&(de(null),we(null))},[e]);const[Ee,De]=F.useState(null),[Ie,Ye]=F.useState(30),[ke,We]=F.useState(null),[Ke,gt]=F.useState(""),[Ct,at]=F.useState(null),[et,Oe]=F.useState(null),[Pn,bt]=F.useState(null),[_r,Pt]=F.useState(!1),[Bt,mr]=F.useState(!1),[kt,na]=F.useState(null);F.useState("user"),F.useState(!1);const[Kt,gr]=F.useState("Gnrer"),[Kr,Vt]=F.useState(!1),[lt,wt]=F.useState(!1),[ra,Nn]=F.useState("mentions"),Er=Be=>new Promise(Pe=>setTimeout(Pe,Be)),Xr=async(Be,{intervalMs:Pe=5e3,maxAttempts:Qe=240}={})=>{let mt=0;for(;mt<Qe;){try{const Xe=await fetch(`${wn}/status/${Be}`);if(Xe.ok){const Ve=await Xe.json();if((Ve==null?void 0:Ve.type)==="result"){const qe=Ve.data;if((qe==null?void 0:qe.status)==="completed"&&qe!=null&&qe.clips&&qe.clips.length>0)return qe;if((qe==null?void 0:qe.status)==="failed")throw new Error((qe==null?void 0:qe.error_message)||"Gnration choue")}}}catch{}mt+=1,await Er(Pe)}throw new Error("Timeout de gnration de l'animation")},tt=async(Be,{intervalMs:Pe=5e3,maxAttempts:Qe=180}={})=>{let mt=0;for(;mt<Qe;){try{const Xe=await fetch(`${wn}/status_comic/${Be}`);if(Xe.ok){const Ve=await Xe.json();if((Ve==null?void 0:Ve.type)==="result"){const qe=Ve.data;if(((qe==null?void 0:qe.status)==="completed"||(qe==null?void 0:qe.status)==="success")&&qe!=null&&qe.pages&&qe.pages.length>0)return qe;if((qe==null?void 0:qe.status)==="failed")throw new Error((qe==null?void 0:qe.error)||"Gnration choue")}}}catch{}mt+=1,await Er(Pe)}throw new Error("Timeout de gnration de la BD")},Fr=async Be=>{try{const Pe=new FormData;Pe.append("file",Be);const Qe=await fetch(`${wn}/upload_character_photo/`,{method:"POST",body:Pe});if(!Qe.ok)throw new Error(`Erreur upload : ${Qe.status}`);const mt=await Qe.json();return ve(mt),mt}catch(Pe){throw Pe}},[Yr,_n]=F.useState(null),{user:pt,loading:rn}=Z0(),[ir,Jr]=F.useState(!1),[Qr,vr]=F.useState(!1);F.useMemo(()=>e==="audio"&&H!=null&&H.content?SP(H.content):[],[H,e]);const[Zr,Tr]=F.useState(0);F.useEffect(()=>{window.location.hash==="#historique"&&Jr(!0);const Be=()=>{Jr(window.location.hash==="#historique")};return window.addEventListener("hashchange",Be),()=>window.removeEventListener("hashchange",Be)},[]),F.useEffect(()=>{(async()=>{if(pt){const Be=await m3(pt.id,pt.email);vr(Be),Ir(Be)}else vr(!1),Ir(!1)})()},[pt,e]),F.useEffect(()=>{r(null),a(""),o(!0),d(""),f(""),m(null),S(""),b(null),he(null),ae(""),me(null),X(null),oe(null),de(null),we(null),Ce(""),ve(null),ot(null),De(null),Ye(30),We(null),gt(""),Oe(null),D(null),B(null),bt(null),_n(null)},[e]);const ei=async Be=>{le(!1),setTimeout(()=>{le(!0),q(!1)},5e4)};F.useEffect(()=>{e==="animation"&&!Ee&&De(null)},[e,Ee]);const ar=Ee||"space",Ir=Be=>{if(Be)gr("Gnrer Gratuitement");else{let Pe={};e==="animation"?Pe.duration=Ie:(e==="comic"||e==="bd")&&(Pe.pages=be||1);const Qe=pf(e,Pe);gr(`Acheter pour ${Qe.display}`)}},ia=async()=>{if(!pt){alert("Vous devez tre connect pour gnrer du contenu");return}if(Qr){Di();return}try{const{data:Be,error:Pe}=await Nt.functions.invoke("check-permission",{body:{contentType:e,userId:pt.id,userEmail:pt.email}});if(Pe){console.error("Erreur vrification permission:",Pe),alert("Erreur lors de la vrification des permissions. Veuillez ressayer.");return}if(Be.hasPermission)Di();else{na(e),mr(!0);return}}catch(Be){console.error("Erreur lors de l'appel  check-permission:",Be),alert("Erreur de vrification des permissions. Veuillez ressayer.");return}},Di=async()=>{var Be;if(q(!0),D(null),!rn)try{let Pe=null;if(e==="rhyme"){const Xe={theme:n==="custom"?i:n,custom_request:x,language:"fr"},Ve=await fetch(`${wn}/generate_rhyme/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Xe)});if(!Ve.ok)throw new Error(`Erreur HTTP : ${Ve.status}`);Pe=await Ve.json()}else if(e==="audio"||e==="histoire"&&k){const Xe={story_type:v==="custom"?w:v,voice:k,custom_request:x},Ve=await fetch(`${wn}/generate_audio_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Xe)});if(!Ve.ok)throw new Error(`Erreur HTTP : ${Ve.status}`);Pe=await Ve.json()}else if(e==="histoire"){let Xe;if(et&&et!=="custom"?Xe={space:"Une aventure spatiale extraordinaire o un enfant explore les plantes lointaines et rencontre des aliens amicaux.",ocean:"Une exploration sous-marine magique avec des cratures marines colores et des trsors cachs au fond de l'ocan.",dinosaur:"Un voyage dans le temps  l'poque des dinosaures o un enfant devient ami avec un dinosaure gentil et dcouvre un monde prhistorique.",fairy:"Un conte de fes enchanteur avec des fes bienveillantes, des chteaux magiques et des aventures pleines de poussire de fe.",superhero:"Une histoire de super-hros o un enfant dcouvre ses pouvoirs extraordinaires et sauve la ville avec courage et bont.",jungle:"Une aventure dans la jungle tropicale remplie d'animaux exotiques, de plantes mystrieuses et de dcouvertes passionnantes."}[et]||`Une belle histoire sur le thme ${et}`:Xe=Ke,!Xe||Xe.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractres");const Ve={story_type:et==="custom"?"custom":et,content:Xe,custom_request:x},qe=await fetch(`${wn}/generate_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve)});if(!qe.ok)throw new Error(`Erreur HTTP : ${qe.status}`);Pe=await qe.json()}else if(e==="coloring")if(Y){const Xe=new FormData;Xe.append("file",Y);const Ve=await fetch(`${wn}/upload_photo_for_coloring/`,{method:"POST",body:Xe});if(!Ve.ok)throw new Error(`Erreur upload : ${Ve.status}`);const qe={photo_path:(await Ve.json()).file_path,with_colored_model:V},Xt=await fetch(`${wn}/convert_photo_to_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(qe)});if(!Xt.ok)throw new Error(`Erreur conversion : ${Xt.status}`);const jn=await Xt.json();B(jn),Pe=jn}else{const Xe={theme:ie,with_colored_model:V};ie==="custom"&&G.trim()&&(Xe.custom_prompt=G.trim());const Ve=await fetch(`${wn}/generate_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Xe)});if(!Ve.ok)throw new Error(`Erreur HTTP : ${Ve.status}`);const qe=await Ve.json();B(qe),Pe=qe}else if(e==="comic"){const Xe={theme:Q==="custom"?Te:Q,art_style:ue||"cartoon",num_pages:be||1};Q==="custom"&&Te.trim()&&(Xe.custom_prompt=Te.trim()),Je&&Je.file_path&&(Xe.character_photo_path=Je.file_path);const Ve=await fetch(`${wn}/generate_comic/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Xe)});if(!Ve.ok)throw new Error(`Erreur HTTP : ${Ve.status}`);const qe=await Ve.json();let Xt=qe;const jn=qe==null?void 0:qe.task_id,At=(qe==null?void 0:qe.status)==="success"&&(qe==null?void 0:qe.pages)&&qe.pages.length>0;jn&&!At&&(Xt=await tt(jn)),Xt!=null&&Xt.pages&&Xt.pages.length>0&&(ot(Xt),Pe=Xt)}else if(e==="animation"){let Xe;const Ve=Ee||"space";if(Ve&&Ve!=="custom"?Xe={magie:"Une histoire magique avec des cratures fantastiques dans un monde enchant",aventure:"Une grande aventure pleine de dcouvertes et de rebondissements",animaux:"Une histoire mettant en scne des animaux adorables et leurs aventures",espace:"Un voyage extraordinaire  travers les toiles et les plantes",nature:"Une exploration merveilleuse de la nature et de ses secrets",amiti:"Une belle histoire d'amiti et de solidarit",famille:"Une histoire touchante sur les liens familiaux"}[Ve]||`Une belle histoire sur le thme ${Ve}`:Xe=Ke,!Xe||Xe.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractres");const qe={magie:"magic",aventure:"adventure",animaux:"animals",espace:"space",nature:"nature",amiti:"friendship",famille:"friendship"}[Ve]||Ve||"adventure",Xt={theme:qe,duration:Number(Ie),custom_prompt:Xe||void 0},jn=Ie||30,At=`${wn}/generate-quick?theme=${encodeURIComponent(qe)}&duration=${jn}&style=${ke||"cartoon"}&custom_prompt=${encodeURIComponent(Xe||"")}`,sr=await fetch(At,{method:"GET",headers:{Accept:"application/json"}});if(!sr.ok){const kn=await sr.text();throw new Error(`Erreur HTTP ${sr.status}: ${kn}`)}const En=await sr.json();let Fn=En;const Oi=En==null?void 0:En.task_id,ti=(En==null?void 0:En.status)==="completed"&&((En==null?void 0:En.final_video_url)||(((Be=En==null?void 0:En.clips)==null?void 0:Be.length)||0)>0);Oi&&!ti&&(Fn=await Xr(Oi)),(Fn==null?void 0:Fn.status)==="completed"&&Fn!=null&&Fn.clips&&Fn.clips.length>0&&(bt(Fn),Pt(!0),Pe=Fn)}if(D(Pe),Tr(0),e==="rhyme"&&Pe.task_id){Ll(Pe.task_id);return}let Qe;e==="rhyme"?Pe.title&&!Pe.title.includes("gnre")?Qe=Pe.title+(Pe.has_music?" ":""):Qe=_o("comptine",n==="custom"?"default":n)+(Pe.has_music?" ":""):e==="audio"?Pe.title&&!Pe.title.includes("gnre")?Qe=Pe.title:Qe=_o("histoire",v==="custom"?"default":v):e==="coloring"?Qe=(Pe==null?void 0:Pe.title)||_o("coloriage",ie):e==="comic"?Qe=($==null?void 0:$.title)||"Ma Bande Dessine ":e==="animation"?Qe=(Pe==null?void 0:Pe.title)||_o("animation",ar||"aventure"):e==="histoire"&&(Qe=(Pe==null?void 0:Pe.title)||_o("histoire",et==="custom"?"default":et)),_n(Qe);let mt;e==="coloring"?mt={id:Date.now().toString(),type:e,title:Qe,createdAt:new Date().toISOString(),content:Pe?`${Pe.total_images} coloriage(s) gnr(s)`:"Coloriage gnr",theme:ie,images:(Pe==null?void 0:Pe.images)||[],metadata:(Pe==null?void 0:Pe.metadata)||{}}:e==="comic"?mt={id:Date.now().toString(),type:e,title:Qe,createdAt:new Date().toISOString(),content:$?`BD de ${$.total_pages} planche(s) - ${$.total_pages*4} cases`:"Bande dessine gnre",theme:Q,pages:($==null?void 0:$.pages)||[],comic_data:$||{}}:e==="animation"?mt={id:Date.now().toString(),type:e,title:Qe,createdAt:new Date().toISOString(),content:Pe?`Animation de ${Pe.actual_duration}s avec ${Pe.total_scenes} scnes`:"Animation gnre",theme:ar,clips:(Pe==null?void 0:Pe.clips)||[],animation_data:Pe||{}}:e==="histoire"?mt={id:Date.now().toString(),type:e,title:Qe,createdAt:new Date().toISOString(),content:(Pe==null?void 0:Pe.content)||Pe||"Histoire gnre...",story_type:et==="custom"?"custom":et}:mt={id:Date.now().toString(),type:e,title:Qe,createdAt:new Date().toISOString(),content:(Pe==null?void 0:Pe.content)||Pe||"Contenu gnr...",audio_path:(Pe==null?void 0:Pe.audio_path)||null};try{await Ig({type:e,title:Qe,data:mt})}catch{}if(!Qr&&Pe)try{const{calculateTokenCost:Xe,deductTokens:Ve}=await Mc(()=>Promise.resolve().then(()=>tC),void 0);let qe={};e==="animation"?qe.duration=Ie:(e==="comic"||e==="bd")&&(qe.pages=be||1),(e==="audio"||e==="histoire"&&k)&&(qe.voice=k);const Xt=Xe(e,qe),jn=await Ve(pt.id,e,Xt,{...qe,transactionId:`gen_${Date.now()}_${e}`});console.log(" Tokens dduits avec succs:",jn)}catch(Xe){console.error(" Erreur lors de la dduction des tokens:",Xe)}q(!1)}catch(Pe){alert(` Erreur lors de la gnration : ${Pe.message}

 Conseil : Vrifiez que les cls API sont configures dans le fichier .env du serveur.`),q(!1)}},Fa=Be=>{var Pe,Qe,mt,Xe,Ve;Be.action==="showStory"?(D({title:Be.title,content:Be.content||((Pe=Be.data)==null?void 0:Pe.content)||"",type:Be.type}),J(!0)):Be.action==="showColoring"?(B({success:!0,theme:Be.theme||((Qe=Be.data)==null?void 0:Qe.theme)||"coloriage",images:Be.images||((mt=Be.data)==null?void 0:mt.images)||[],total_images:(Be.images||((Xe=Be.data)==null?void 0:Xe.images)||[]).length,metadata:Be.metadata||((Ve=Be.data)==null?void 0:Ve.metadata)||{}}),E(!0)):(Jr(!1),window.location.hash="")},aa=()=>{Jr(!1),window.location.hash=""},Ta=()=>{if(e==="rhyme"){if(!n||n==="custom"&&!i.trim())return!1}else if(e==="audio"){if(!v||v==="custom"&&!w.trim())return!1}else if(e==="coloring"){if(!ie&&!Y||ie==="custom"&&!G.trim()||V===null)return!1}else if(e==="comic"){if(!Q||!ue||!be||Q==="custom"&&!Te.trim())return!1}else if(e==="animation"){if(!Ee&&!Ke.trim()||Ee==="custom"&&!Ke.trim()||Ee==="custom"&&Ke.trim().length<10)return!1}else if(e==="histoire"&&(!et||et==="custom"&&!Ke.trim()||et==="custom"&&Ke.trim().length<10))return!1;return!0},Mi={hidden:{opacity:0,height:0,marginBottom:0},visible:{opacity:1,height:"auto",marginBottom:"1rem"},exit:{opacity:0,height:0,marginBottom:0}},Al=async(Be,Pe)=>{if(!(!Pe||typeof Pe!="string"))try{const Qe=new rt({orientation:"p",unit:"mm",format:"a4"}),mt=50,Xe=210,Ve=297,qe=6,Xt=Math.floor((Ve-mt-30)/qe),jn=ti=>new Promise((kn,Bi)=>{const vn=new Image;vn.crossOrigin="anonymous",vn.onload=()=>kn(vn),vn.onerror=()=>Bi(new Error("Impossible de charger l'image de fond")),vn.src=ti});let At=null;try{At=await jn("/assets/fond.png?v=1")}catch{}let sr=Be;Pe.startsWith("**")&&Pe.includes("**",2)&&(sr=Pe.split("**")[1].trim(),Pe=Pe.replace(`**${sr}**`,"").trim());const En=Qe.splitTextToSize(Pe,150);let Fn=0;for(let ti=0;Fn<En.length;ti++){if(ti>0&&Qe.addPage(),At)try{Qe.addImage(At,"PNG",0,0,Xe,Ve,void 0,"FAST")}catch{}ti===0&&(Qe.setFont("courier","bold"),Qe.setFontSize(18),Qe.setTextColor(110,50,230),Qe.text(sr,Xe/2,mt-20,{align:"center"})),Qe.setFont("courier","bold"),Qe.setFontSize(10),Qe.setTextColor(25,25,112);for(let kn=0;kn<Xt&&Fn<En.length;kn++,Fn++){const Bi=mt+kn*qe;Qe.text(En[Fn],Xe/2,Bi,{align:"center"})}Qe.setFontSize(8),Qe.setTextColor(106,90,205),Qe.text(`Page ${ti+1}`,Xe-15,Ve-10,{align:"right"})}const Oi=sr.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");Qe.save(`${Oi}.pdf`)}catch{alert("Erreur lors de la gnration du PDF. Veuillez ressayer.")}},Ll=async(Be,Pe=40,Qe=5e3)=>{let mt=0;const Xe=async()=>{try{const Ve=await(await fetch(`${wn}/check_task_status/${Be}`)).json();return Ve.status==="completed"?(D(qe=>{const Xt={...qe,audio_path:Ve.audio_path,suno_url:Ve.suno_url,title:Ve.title||qe.title,has_music:!0,service:"suno"},jn=Ve.title||qe.title||_o("comptine",n==="custom"?"default":n)+" ";_n(jn);const At={id:Date.now().toString(),type:"rhyme",title:jn,createdAt:new Date().toISOString(),content:qe.content||qe.rhyme||"Comptine gnre",audio_path:Ve.audio_path,suno_url:Ve.suno_url};return Ig({type:"rhyme",title:jn,data:At}).catch(sr=>{}),Xt}),Ve.suno_url?(ei(Ve.suno_url),!0):(q(!1),!0)):Ve.status==="failed"?(D(qe=>({...qe,music_error:Ve.error,has_music:!1})),q(!1),!0):Ve.status!=="processing"&&mt>=Pe-1?(q(!1),alert(" La gnration de musique prend plus de temps que prvu. Veuillez vrifier votre historique dans quelques minutes."),!0):(mt++,setTimeout(Xe,Qe),!1)}catch{return mt++,mt<Pe&&setTimeout(Xe,Qe),!1}};await Xe()};return l.jsxs("div",{className:"app-container",children:[l.jsx(rC,{isLoggedIn:!!pt,onOpenHistory:()=>Jr(!0),userId:pt==null?void 0:pt.id,onOpenSubscription:()=>Vt(!0)}),l.jsx(wP,{}),l.jsx("main",{className:"main-content",children:l.jsxs("div",{className:"content-wrapper",children:[l.jsxs(Fe.div,{className:"creation-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["          ",l.jsx(dC,{contentType:e,setContentType:t}),"          ",l.jsx(qr,{mode:"wait",children:e==="rhyme"?l.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{width:"100%"},children:l.jsx(fC,{selectedRhyme:n,setSelectedRhyme:r,customRhyme:i,setCustomRhyme:a})},"rhyme-selector"):e==="audio"?l.jsx(Fe.div,{variants:Mi,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:l.jsx(gC,{selectedAudioStory:v,setSelectedAudioStory:m,customAudioStory:w,setCustomAudioStory:S,selectedVoice:k,setSelectedVoice:b})},"audio-story-selector"):e==="coloring"?l.jsxs(Fe.div,{variants:Mi,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:["                ",l.jsx(CC,{selectedTheme:ie,setSelectedTheme:he,customColoringTheme:G,setCustomColoringTheme:ae,uploadedPhoto:Y,setUploadedPhoto:me,withColoredModel:V,setWithColoredModel:X})]},"coloring-selector"):e==="comic"?l.jsx(Fe.div,{variants:Mi,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:l.jsx(_C,{selectedTheme:Q,setSelectedTheme:oe,selectedStyle:ue,setSelectedStyle:de,numPages:be,setNumPages:we,customStory:Te,setCustomStory:Ce,characterPhoto:Je,setCharacterPhoto:ve,onCharacterPhotoUpload:Fr})},"comics-selector"):e==="animation"?l.jsx(Fe.div,{variants:Mi,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:l.jsx(bC,{selectedTheme:Ee,setSelectedTheme:De,selectedDuration:Ie,setSelectedDuration:Ye,selectedStyle:ke,setSelectedStyle:We,customStory:Ke,setCustomStory:gt,characterImage:Ct,setCharacterImage:at})},"animation-selector"):e==="histoire"?l.jsx(Fe.div,{variants:Mi,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:l.jsx(yC,{selectedStory:et,setSelectedStory:Oe,customStory:Ke,setCustomStory:gt})},"story-selector"):null}),"          ",l.jsx(wC,{customRequest:x,setCustomRequest:j,stepNumber:e==="coloring"?4:3}),l.jsx(SC,{onGenerate:ia,isGenerating:R,isDisabled:!Ta(),contentType:e,buttonText:Kt})]}),l.jsx("div",{className:"preview-column",children:l.jsx(Fe.div,{className:"preview-panel",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:l.jsx("div",{className:"preview-container",children:l.jsx("div",{className:`preview ${H?"":"empty"}`,children:l.jsx(qr,{mode:"wait",children:R?l.jsxs(Fe.div,{className:"generating-animation",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[l.jsxs("div",{className:"loading-dots",children:[l.jsx("div",{className:"dot"}),l.jsx("div",{className:"dot"}),l.jsx("div",{className:"dot"})]}),"      ",l.jsxs("p",{children:["        ",e==="rhyme"?"Votre comptine est en cours de cration...":e==="audio"?"Cration de l'histoire en cours...":e==="histoire"?"Cration de votre histoire en cours...":e==="coloring"?"Votre coloriage est en cours de cration...":e==="comic"?"Cration de votre bande dessine en cours...":e==="animation"?"Cration de votre dessin anim en cours...":"Gnration en cours..."]})]},"generating"):A&&e==="coloring"?l.jsxs(Fe.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[l.jsx("button",{onClick:()=>E(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Ouvrir le coloriage"}),l.jsx("button",{onClick:()=>K(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Colorier maintenant"}),l.jsx("button",{onClick:()=>{if(A!=null&&A.images){const Be=`coloriages_${A.theme||ie||"generes"}`;rg(A.images,Be)}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger le coloriage"})]},"coloring-result"):$&&e==="comic"?l.jsxs(Fe.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem",padding:"1rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem"},children:[l.jsx("h3",{style:{color:"var(--primary)",marginBottom:"0.5rem"},children:$.title||"Votre Bande Dessine"}),l.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[$.total_pages," ",$.total_pages===1?"planche":"planches","  ",$.total_pages*4," cases"]})]}),l.jsx("button",{onClick:()=>Le(!0),style:{padding:"0.8rem 2rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"700",fontSize:"1rem",boxShadow:"0 4px 12px rgba(245, 240, 255, 0.3)",transition:"all 0.2s ease"},onMouseOver:Be=>Be.target.style.transform="translateY(-2px)",onMouseOut:Be=>Be.target.style.transform="translateY(0)",children:" Lire la bande dessine"})]},"comics-result"):H&&e==="rhyme"&&H.suno_url&&z?l.jsx(Fe.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.jsxs("div",{style:{height:"300px",maxWidth:"500px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"0.8rem",padding:"0.5rem",overflowY:"auto"},children:[H.suno_url&&z&&l.jsx(l.Fragment,{children:l.jsxs("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",maxWidth:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",overflow:"hidden"},children:[l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",padding:"9px 50px 0px"},children:l.jsx("h4",{style:{margin:0,fontSize:"15px",color:"#333",fontWeight:"600"},children:"Votre comptine est prte !"})}),l.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",outline:"none"},src:H.suno_url,children:"Votre navigateur ne supporte pas l'lment audio."})]})}),H.suno_url&&z&&l.jsx(l.Fragment,{children:l.jsx("button",{onClick:async()=>{if(H.suno_url&&z)try{const Be=await fetch(H.suno_url);if(!Be.ok)throw new Error(`Erreur HTTP: ${Be.status}`);const Pe=await Be.blob();if(Pe.size===0)throw new Error("Fichier audio indisponible");const Qe=window.URL.createObjectURL(Pe),mt=(Yr||H.title||"comptine").replace(/[^a-z0-9]/gi,"_").toLowerCase(),Xe=document.createElement("a");Xe.href=Qe,Xe.download=`${mt}.mp3`,Xe.style.display="none",document.body.appendChild(Xe),Xe.click(),document.body.removeChild(Xe),setTimeout(()=>window.URL.revokeObjectURL(Qe),100)}catch(Be){alert(`Erreur lors du tlchargement: ${Be.message}`)}},disabled:!z,style:{padding:"0.8rem 2rem",backgroundColor:z?"#6B4EFF":"#ccc",color:z?"#fff":"#666",border:"none",borderRadius:"10px",cursor:z?"pointer":"not-allowed",fontWeight:"600",fontSize:"14px",marginTop:"0.8rem",boxShadow:z?"0 4px 12px rgba(245, 240, 255, 0.3)":"none",transition:"all 0.3s ease"},onMouseOver:Be=>z&&(Be.target.style.transform="translateY(-2px)"),onMouseOut:Be=>z&&(Be.target.style.transform="translateY(0)"),children:z?" Tlcharger":" Prparation du tlchargement..."})})]})},"rhyme-result"):H&&e==="audio"?l.jsx(Fe.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.jsxs("div",{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem",padding:"1rem",overflowY:"auto"},children:[H.audio_path&&l.jsx("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",padding:"22px",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:l.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",height:"40px",outline:"none"},src:`${wn}/audio/${H.audio_path.split("/").pop()}`,children:"Votre navigateur ne supporte pas l'lment audio."})}),l.jsxs("div",{style:{display:"flex",gap:"1rem",width:"100%",justifyContent:"center",flexWrap:"wrap"},children:[l.jsx("button",{onClick:()=>J(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Ouvrir l'histoire"}),l.jsx("button",{onClick:()=>Al(H.title,H.content),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger l'histoire"}),H.audio_path&&l.jsx("button",{onClick:async()=>{try{const Be=H.audio_path.split("/").pop(),Pe=`${wn}/audio/${Be}?download=true`,Qe=(H.title||"Histoire").replace(/[^a-z0-9]/gi,"_").toLowerCase(),mt=await fetch(Pe);if(!mt.ok)throw new Error(`Erreur HTTP: ${mt.status}`);const Xe=await mt.blob(),Ve=window.URL.createObjectURL(Xe),qe=document.createElement("a");qe.href=Ve,qe.download=`${Qe}.mp3`,document.body.appendChild(qe),qe.click(),document.body.removeChild(qe),setTimeout(()=>{window.URL.revokeObjectURL(Ve)},100)}catch{try{const Be=H.audio_path.split("/").pop(),Pe=`${wn}/audio/${Be}?download=true`;window.open(Pe,"_blank")}catch{alert("Erreur lors du tlchargement. Veuillez ressayer.")}}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger l'audio"})]})]})},"audio-story-result"):l.jsxs(Fe.div,{className:"preview-placeholder",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:["  ",!(H!=null&&H.content)&&!A&&l.jsxs("div",{className:"empty-preview",children:["    ",l.jsx("p",{children:e==="rhyme"?"Votre comptine apparatra ici":e==="audio"||e==="histoire"?"Votre histoire apparatra ici":e==="coloring"?"Votre coloriage apparatra ici":e==="comic"?"Votre bande dessine apparatra ici":e==="animation"?"Votre dessin anim apparatra ici":"Votre contenu apparatra ici"})]})]},"placeholder")})})})})})]})}),l.jsx(qr,{children:ir&&l.jsx(Fe.div,{className:"history-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:aa,children:l.jsx(AC,{onClose:aa,onSelect:Fa})})}),T&&l.jsx(LC,{title:H.title,content:H.content,onClose:()=>J(!1)}),"    ",Z&&l.jsx(PC,{coloringResult:A,selectedTheme:ie,onClose:()=>E(!1)}),M&&l.jsx(w3,{imageUrl:(()=>{var Be;const Pe=(Be=A==null?void 0:A.images)==null?void 0:Be[0];return Pe?Pe.image_url||Pe:void 0})(),theme:(A==null?void 0:A.theme)||ie,onClose:()=>K(!1)}),$e&&l.jsx(EC,{comic:$,onClose:()=>Le(!1),baseUrl:wn}),_r&&l.jsx(xC,{animationResult:Pn,onClose:()=>Pt(!1)}),Bt&&l.jsx(fP,{contentType:kt,selectedDuration:Ie,numPages:be,selectedVoice:k,userId:pt==null?void 0:pt.id,userEmail:pt==null?void 0:pt.email,onSuccess:Be=>{mr(!1),setTimeout(()=>{Di()},500)},onCancel:()=>{mr(!1)}}),Kr&&l.jsx(yP,{isOpen:Kr,onClose:()=>Vt(!1),userId:pt==null?void 0:pt.id,userEmail:pt==null?void 0:pt.email}),l.jsx(bP,{onLegalClick:Be=>{wt(!0),Nn(Be)}}),l.jsx(qr,{children:lt&&l.jsx(xP,{onClose:()=>wt(!1),initialSection:ra})})]})}const z5=["fredagathe77@gmail.com","admin@herbbie.com"],mc="herbbie_admin_session",Rs={initAuthListener(e){const t=()=>{const r=this.getStoredSession();r&&r.user?e({user:r.user,isAdmin:r.isAdmin,session:r}):e(null)};t();const n=r=>{r.key===mc&&t()};return window.addEventListener("storage",n),{unsubscribe:()=>{window.removeEventListener("storage",n)}}},async signIn(e,t){try{if(!z5.includes(e))throw new Error("Accs refus. Seuls les administrateurs peuvent accder  ce panneau.");const n={id:"admin-"+Date.now(),email:e,user_metadata:{full_name:e==="fredagathe77@gmail.com"?"Admin Principal":"Administrateur"}},r={user:n,access_token:"admin-token-"+Date.now(),token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:n,isAdmin:!0,session:r}),{user:n,session:r,isAdmin:!0}}catch(n){throw console.error("Erreur de connexion:",n),n}},async signOut(){try{localStorage.removeItem(mc)}catch(e){throw console.error("Erreur de dconnexion:",e),e}},async getCurrentUser(){try{const e=this.getStoredSession();return e&&e.user?{user:e.user,isAdmin:e.isAdmin}:null}catch(e){return console.error("Erreur lors de la rcupration de l'utilisateur:",e),null}},async checkUserIsAdmin(e){try{return!e||!e.email?!1:z5.includes(e.email)}catch(t){return console.error("Erreur lors de la vrification du rle admin:",t),!1}},async authenticateWithToken(e){try{if(!e||!e.includes("admin"))return console.warn("Token invalide"),!1;const t={id:"admin-auto-"+Date.now(),email:"admin@herbbie.com",user_metadata:{full_name:"Administrateur Auto"}},n={user:t,access_token:e,token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:t,isAdmin:!0,session:n}),{user:t,isAdmin:!0,session:n}}catch(t){return console.error("Erreur authentification automatique:",t),!1}},async getCurrentSession(){try{return this.getStoredSession()}catch(e){return console.error("Erreur lors de la rcupration de la session:",e),null}},storeSession(e){try{localStorage.setItem(mc,JSON.stringify(e))}catch(t){console.error("Erreur lors du stockage de la session:",t)}},getStoredSession(){try{const e=localStorage.getItem(mc);if(e){const t=JSON.parse(e);if(t.session&&t.session.expires_at>Date.now())return t;localStorage.removeItem(mc)}}catch(e){console.error("Erreur lors de la rcupration de la session:",e)}return null}},O3=F.createContext(),B3=()=>{const e=F.useContext(O3);if(!e)throw new Error("useAuth doit tre utilis dans un AuthProvider");return e},jP=({children:e})=>{const[t,n]=F.useState(null),[r,i]=F.useState(!1),[a,s]=F.useState(!0),[o,c]=F.useState(null);F.useEffect(()=>{let p;return(async()=>{try{const f=await Rs.getCurrentSession();if(f!=null&&f.user){const v=await Rs.checkUserIsAdmin(f.user);n(f.user),i(v),c(f)}}catch(f){console.error("Erreur lors de l'initialisation de l'authentification:",f)}finally{s(!1)}p=Rs.initAuthListener(async f=>{f?(n(f.user),i(f.isAdmin),c(f.session)):(n(null),i(!1),c(null)),s(!1)})})(),()=>{p&&p.unsubscribe()}},[]);const d={user:t,isAdmin:r,loading:a,session:o,signIn:async(p,f)=>{s(!0);try{const v=await Rs.signIn(p,f);return v&&(n(v.user),i(v.isAdmin),c(v.session)),v}catch(v){throw v}finally{s(!1)}},signOut:async()=>{s(!0);try{await Rs.signOut(),n(null),i(!1),c(null)}catch(p){throw console.error("Erreur lors de la dconnexion:",p),p}finally{s(!1)}},authenticateWithToken:Rs.authenticateWithToken.bind(Rs),isAuthenticated:!!t&&r};return l.jsx(O3.Provider,{value:d,children:e})},kP=()=>{const[e,t]=F.useState(""),[n,r]=F.useState(""),[i,a]=F.useState(""),[s,o]=F.useState(!1),[c,d]=F.useState(!1),{signIn:p}=B3(),f=async v=>{v.preventDefault(),a(""),o(!0);try{await p(e,n),nh(e.trim())}catch(m){a(m.message||"Erreur de connexion")}finally{o(!1)}};return l.jsx("div",{className:"login-container",children:l.jsxs(Fe.div,{className:"login-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[l.jsxs("div",{className:"login-header",children:[l.jsx("div",{className:"login-logo",children:l.jsxs("div",{className:"login-logo-text",children:[l.jsx("h1",{children:"HERBBIE"}),l.jsx("span",{children:"Administration"})]})}),l.jsx("h2",{children:"Connexion Administrateur"}),l.jsx("p",{children:"Accs rserv aux administrateurs HERBBIE"})]}),l.jsxs("form",{className:"login-form",onSubmit:f,children:[i&&l.jsxs(Fe.div,{className:"login-error",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:[l.jsx("span",{children:""})," ",i]}),l.jsxs("div",{className:"login-field",children:[l.jsx("label",{htmlFor:"email",children:"Email administrateur"}),l.jsx(Jo,{value:e,onChange:v=>t(v.target.value),placeholder:"admin@herbbie.com",required:!0,disabled:s,user:null,onEmailSubmit:()=>{}})]}),l.jsxs("div",{className:"login-field",children:[l.jsx("label",{htmlFor:"password",children:"Mot de passe"}),l.jsxs("div",{className:"password-input-container",children:[l.jsx("input",{type:c?"text":"password",id:"password",value:n,onChange:v=>r(v.target.value),placeholder:"",required:!0,disabled:s,autoComplete:"current-password",className:"password-input"}),l.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>d(!c),disabled:s,"aria-label":c?"Masquer le mot de passe":"Afficher le mot de passe",children:c?l.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):l.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),l.jsx("button",{type:"submit",className:"login-button",disabled:s||!e||!n,children:s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"login-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),l.jsx("div",{className:"login-footer",children:l.jsx("p",{children:" Accs scuris - Seuls les administrateurs peuvent se connecter"})})]})})},ag="/api/features",AP=async()=>{try{const e=await fetch(ag,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok)return await e.json();throw console.error("Erreur lors de la rcupration des fonctionnalits:",e.statusText),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors de la rcupration des fonctionnalits:",e),e}},LP=async(e,t)=>{try{const n=await fetch(`${ag}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:t})});if(n.ok)return(await n.json()).features;throw console.error("Erreur lors de la mise  jour:",n.statusText),new Error(`Erreur API: ${n.status}`)}catch(n){throw console.error("Erreur lors de la mise  jour de la fonctionnalit:",n),n}},CP=async()=>{try{const e=await fetch(`${ag}/reset`,{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok)return(await e.json()).features;throw console.error("Erreur lors de la rinitialisation:",e.statusText),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors de la rinitialisation:",e),e}},PP=async()=>{try{return await AP()}catch(e){throw e}},_P=async(e,t)=>{try{const n=await LP(e,t);return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:n})),n}catch(n){throw n}},EP=async()=>{try{const e=await CP();return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:e})),e}catch(e){throw console.error("Erreur lors de la rinitialisation des fonctionnalits:",e),e}},FP=()=>{const[e,t]=F.useState({}),[n,r]=F.useState(!0),[i,a]=F.useState(null);F.useEffect(()=>{s()},[]);const s=async()=>{try{r(!0);const v=await PP();t(v)}catch(v){console.error("Erreur lors du chargement des fonctionnalits:",v),d("Erreur lors du chargement des fonctionnalits","error")}finally{r(!1)}},o=async v=>{var m,w;try{const S=((m=e[v])==null?void 0:m.enabled)||!1,k=await _P(v,!S);if(k){t(k),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:k}));const b=S?"dsactive":"active";d(`Fonctionnalit ${(w=e[v])==null?void 0:w.name} ${b}`,"success")}else d("Erreur lors de la mise  jour","error")}catch(S){console.error("Erreur lors de la mise  jour:",S),d("Erreur lors de la mise  jour","error")}},c=async()=>{try{const v=await EP();v?(t(v),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:v})),d("Toutes les fonctionnalits ont t rinitialises","success")):d("Erreur lors de la rinitialisation","error")}catch(v){console.error("Erreur lors de la rinitialisation:",v),d("Erreur lors de la rinitialisation","error")}},d=(v,m="info")=>{a({message:v,type:m}),setTimeout(()=>a(null),3e3)},p=()=>Object.values(e).filter(v=>v.enabled).length,f=()=>Object.keys(e).length;return n?l.jsxs("div",{className:"admin-loading",children:[l.jsx("div",{className:"admin-loading-spinner"}),l.jsx("span",{children:"Chargement des fonctionnalits..."})]}):l.jsxs("div",{className:"feature-manager-container",children:[i&&l.jsx(Fe.div,{className:`admin-notification ${i.type} show`,initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},children:i.message}),l.jsxs("div",{className:"feature-manager-header",children:[l.jsxs("div",{className:"feature-manager-stats",children:[l.jsxs("div",{className:"feature-stat",children:[l.jsx("span",{className:"feature-stat-number",children:p()}),l.jsx("span",{className:"feature-stat-label",children:"Actives"})]}),l.jsxs("div",{className:"feature-stat",children:[l.jsx("span",{className:"feature-stat-number",children:f()}),l.jsx("span",{className:"feature-stat-label",children:"Total"})]}),l.jsxs("div",{className:"feature-stat",children:[l.jsxs("span",{className:"feature-stat-number",children:[Math.round(p()/f()*100),"%"]}),l.jsx("span",{className:"feature-stat-label",children:"Taux d'activation"})]})]}),l.jsx("div",{className:"feature-manager-actions",children:l.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:c,children:" Rinitialiser"})})]}),l.jsx("div",{className:"feature-manager-grid",children:Object.entries(e).map(([v,m])=>l.jsxs(Fe.div,{className:"feature-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[l.jsxs("div",{className:"feature-card-header",children:[l.jsxs("div",{className:"feature-info",children:[l.jsx("span",{className:"feature-icon",children:TP(v)}),l.jsxs("div",{className:"feature-details",children:[l.jsx("h3",{className:"feature-name",children:m.name}),l.jsx("span",{className:`feature-status ${m.enabled?"enabled":"disabled"}`,children:m.enabled?"Active":"Dsactive"})]})]}),l.jsxs("label",{className:"feature-toggle",children:[l.jsx("input",{type:"checkbox",checked:m.enabled,onChange:()=>o(v)}),l.jsx("span",{className:"toggle-slider"})]})]}),l.jsx("div",{className:"feature-card-body",children:l.jsx("p",{className:"feature-description",children:IP(v)})})]},v))}),l.jsx("div",{className:"feature-manager-info",children:l.jsxs("div",{className:"admin-card",children:[l.jsx("div",{className:"admin-card-header",children:l.jsx("h3",{children:" Informations"})}),l.jsxs("div",{className:"admin-card-body",children:[l.jsx("p",{children:"Les fonctionnalits actives sont visibles pour tous les utilisateurs de HERBBIE. Les modifications sont appliques immdiatement."}),l.jsxs("ul",{className:"feature-info-list",children:[l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Dessin anim"})," : Gnration de vidos animes"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Bande dessine"})," : Cration de BD avec bulles"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Coloriage"})," : Pages de coloriage  imprimer"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Histoire"})," : Contes audio avec narration"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Comptine"})," : Chansons avec musique gnre"]})]})]})]})})]})},TP=e=>({animation:"",comic:"",coloring:"",audio:"",rhyme:""})[e]||"",IP=e=>({animation:"Gnration de dessins anims personnaliss avec IA",comic:"Cration de bandes dessines avec bulles de dialogue",coloring:"Pages de coloriage  imprimer pour les enfants",audio:"Histoires audio avec narration automatique",rhyme:"Comptines musicales avec paroles et mlodies"})[e]||"Fonctionnalit de cration de contenu",RP=()=>{const{user:e,isAdmin:t,loading:n,signOut:r}=B3(),[i]=mj(),a=d0(),s=i.get("auth"),[o,c]=Rt.useState(!1);return F.useEffect(()=>{s==="auto"?(c(!0),window.history.replaceState({},"","/ilmysv6iepwepoa4tj2k")):!s&&!o&&localStorage.removeItem("herbbie_admin_session")},[s]),F.useEffect(()=>{const d=document.title;return document.title="HERBBIE - Administration",()=>{document.title=d}},[]),F.useEffect(()=>{const d=()=>{c(!1),localStorage.removeItem("herbbie_admin_session"),document.title="HERBBIE"};return window.addEventListener("beforeunload",d),()=>{window.removeEventListener("beforeunload",d)}},[]),n&&!o?l.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:l.jsx("div",{children:"Chargement..."})}):o||e&&t?l.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"40px 20px"},children:l.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[l.jsx("h1",{style:{color:"white",textAlign:"center",marginBottom:"40px",fontSize:"2.5em"},children:" Gestion des Fonctionnalits Herbbie"}),l.jsx(FP,{}),l.jsxs("div",{style:{marginTop:"40px",textAlign:"center",display:"flex",gap:"15px",justifyContent:"center",flexWrap:"wrap"},children:[l.jsx("a",{href:"/",onClick:d=>{d.preventDefault(),localStorage.removeItem("herbbie_admin_session"),window.location.href="/"},style:{color:"white",textDecoration:"none",padding:"12px 30px",background:"rgba(255,255,255,0.2)",borderRadius:"25px",display:"inline-block",transition:"all 0.3s ease",cursor:"pointer"},children:" Retour  Herbbie"}),l.jsx("button",{onClick:async()=>{await r(),localStorage.removeItem("herbbie_admin_session"),a("/ilmysv6iepwepoa4tj2k")},style:{color:"white",border:"none",padding:"12px 30px",background:"rgba(255,0,0,0.3)",borderRadius:"25px",cursor:"pointer",fontSize:"16px",fontWeight:"500",transition:"all 0.3s ease"},children:" Dconnexion"})]})]})}):l.jsx(kP,{})},DP=()=>l.jsx(jP,{children:l.jsx(RP,{})}),MP=()=>{const[e,t]=F.useState(""),[n,r]=F.useState(""),[i,a]=F.useState(""),[s,o]=F.useState(!1),[c,d]=F.useState(!1),[p,f]=F.useState(!1),[v,m]=F.useState(!1),[w,S]=F.useState(!1),[k,b]=F.useState(!1);F.useEffect(()=>{let j,R;return(async()=>{await new Promise(D=>setTimeout(D,500));const{data:{session:q}}=await Nt.auth.getSession();if(q){f(!0);return}j=setTimeout(async()=>{const{data:{session:D}}=await Nt.auth.getSession();D||m(!0)},15e3);const{data:{subscription:H}}=Nt.auth.onAuthStateChange(async(D,T)=>{(D==="PASSWORD_RECOVERY"||D==="SIGNED_IN"||D==="INITIAL_SESSION")&&T&&(f(!0),m(!1),j&&clearTimeout(j))});R=H})(),()=>{j&&clearTimeout(j),R&&R.unsubscribe()}},[]);const x=async j=>{if(j.preventDefault(),a(""),d(!0),e.length<6){a("Le mot de passe doit contenir au moins 6 caractres"),d(!1);return}if(e!==n){a("Les mots de passe ne correspondent pas"),d(!1);return}try{const{error:R}=await Nt.auth.updateUser({password:e});R?a(R.message):(o(!0),setTimeout(()=>{window.location.href="/"},3e3))}catch{a("Une erreur est survenue lors de la mise  jour du mot de passe")}d(!1)};return s?l.jsx("div",{className:"reset-password-page",children:l.jsx(Fe.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:l.jsxs("div",{className:"success-message",children:[l.jsx("div",{className:"success-icon",children:""}),l.jsx("h2",{children:"Mot de passe mis  jour !"}),l.jsx("p",{children:"Votre mot de passe a t chang avec succs."}),l.jsx("p",{children:"Vous serez redirig vers la page d'accueil dans quelques secondes..."})]})})}):v?l.jsx("div",{className:"reset-password-page",children:l.jsxs(Fe.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[l.jsxs("div",{className:"reset-password-header",children:[l.jsx("h1",{children:"HERBBIE"}),l.jsx("h2",{children:"Erreur de lien"})]}),l.jsxs("div",{className:"error-message",children:[l.jsx("div",{className:"error-icon",children:""}),l.jsx("h3",{children:"Lien de rinitialisation invalide"}),l.jsx("p",{children:"Ce lien de rinitialisation de mot de passe n'est pas valide ou a expir."}),l.jsx("p",{children:"Veuillez demander un nouveau lien de rinitialisation."})]}),l.jsx("div",{className:"reset-password-footer",children:l.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})}):p?l.jsx("div",{className:"reset-password-page",children:l.jsxs(Fe.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[l.jsxs("div",{className:"reset-password-header",children:[l.jsx("h1",{children:"HERBBIE"}),l.jsx("h2",{children:"Rinitialiser votre mot de passe"})]}),l.jsxs("form",{onSubmit:x,className:"reset-password-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"newPassword",children:"Nouveau mot de passe"}),l.jsxs("div",{className:"password-input-container",children:[l.jsx("input",{type:w?"text":"password",id:"newPassword",value:e,onChange:j=>t(j.target.value),placeholder:"Entrez votre nouveau mot de passe",required:!0,minLength:"6",className:"password-input"}),l.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>S(!w),"aria-label":w?"Masquer le mot de passe":"Afficher le mot de passe",children:w?l.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):l.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),l.jsxs("div",{className:"password-input-container",children:[l.jsx("input",{type:k?"text":"password",id:"confirmPassword",value:n,onChange:j=>r(j.target.value),placeholder:"Confirmez votre nouveau mot de passe",required:!0,minLength:"6",className:"password-input"}),l.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>b(!k),"aria-label":k?"Masquer le mot de passe":"Afficher le mot de passe",children:k?l.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):l.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),i&&l.jsx("div",{className:"error-message",children:i}),l.jsx("button",{type:"submit",className:"reset-button",disabled:c,children:c?"Mise  jour...":"Mettre  jour le mot de passe"})]}),l.jsx("div",{className:"reset-password-footer",children:l.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})}):l.jsx("div",{className:"reset-password-page",children:l.jsxs(Fe.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[l.jsxs("div",{className:"reset-password-header",children:[l.jsx("h1",{children:"HERBBIE"}),l.jsx("h2",{children:"Rinitialiser votre mot de passe"})]}),l.jsxs("div",{className:"waiting-message",children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("p",{children:"Vrification de votre lien de rinitialisation..."}),l.jsx("p",{className:"waiting-subtitle",children:"Si cette page ne se met pas  jour automatiquement, assurez-vous d'avoir cliqu sur le lien complet dans votre email."})]}),l.jsx("div",{className:"reset-password-footer",children:l.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})})};$p.createRoot(document.getElementById("root")).render(l.jsx(Rt.StrictMode,{children:l.jsx(uj,{children:l.jsxs(BN,{children:[l.jsx($d,{path:"/",element:l.jsx(NP,{})}),l.jsx($d,{path:"/ilmysv6iepwepoa4tj2k",element:l.jsx(DP,{})}),l.jsx($d,{path:"/reset-password",element:l.jsx(MP,{})})]})})}));export{Ft as F};
