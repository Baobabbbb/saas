import{_ as Vd}from"./preload-helper-8235fac6.js";import{g as ov,s as Fr}from"./supabaseClient-76c3910e.js";import{deleteCreation as k4,addCreation as dg}from"./creations-822d4935.js";var av={exports:{}},Lf={},lv={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u=Symbol.for("react.element"),_4=Symbol.for("react.portal"),E4=Symbol.for("react.fragment"),F4=Symbol.for("react.strict_mode"),T4=Symbol.for("react.profiler"),I4=Symbol.for("react.provider"),R4=Symbol.for("react.context"),M4=Symbol.for("react.forward_ref"),D4=Symbol.for("react.suspense"),O4=Symbol.for("react.memo"),B4=Symbol.for("react.lazy"),fg=Symbol.iterator;function z4(e){return e===null||typeof e!="object"?null:(e=fg&&e[fg]||e["@@iterator"],typeof e=="function"?e:null)}var uv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cv=Object.assign,dv={};function sl(e,t,n){this.props=e,this.context=t,this.refs=dv,this.updater=n||uv}sl.prototype.isReactComponent={};sl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fv(){}fv.prototype=sl.prototype;function c1(e,t,n){this.props=e,this.context=t,this.refs=dv,this.updater=n||uv}var d1=c1.prototype=new fv;d1.constructor=c1;cv(d1,sl.prototype);d1.isPureReactComponent=!0;var hg=Array.isArray,hv=Object.prototype.hasOwnProperty,f1={current:null},pv={key:!0,ref:!0,__self:!0,__source:!0};function mv(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)hv.call(t,r)&&!pv.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$u,type:e,key:s,ref:o,props:i,_owner:f1.current}}function V4(e,t){return{$$typeof:$u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function h1(e){return typeof e=="object"&&e!==null&&e.$$typeof===$u}function U4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pg=/\/+/g;function $h(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U4(""+e.key):t.toString(36)}function wd(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $u:case _4:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+$h(o,0):r,hg(i)?(n="",e!=null&&(n=e.replace(pg,"$&/")+"/"),wd(i,t,n,"",function(d){return d})):i!=null&&(h1(i)&&(i=V4(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pg,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",hg(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+$h(s,a);o+=wd(s,t,n,l,i)}else if(l=z4(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+$h(s,a++),o+=wd(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Wc(e,t,n){if(e==null)return e;var r=[],i=0;return wd(e,r,"","",function(s){return t.call(n,s,i++)}),r}function q4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var or={current:null},bd={transition:null},$4={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:bd,ReactCurrentOwner:f1};function gv(){throw Error("act(...) is not supported in production builds of React.")}pt.Children={map:Wc,forEach:function(e,t,n){Wc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wc(e,function(){t++}),t},toArray:function(e){return Wc(e,function(t){return t})||[]},only:function(e){if(!h1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pt.Component=sl;pt.Fragment=E4;pt.Profiler=T4;pt.PureComponent=c1;pt.StrictMode=F4;pt.Suspense=D4;pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$4;pt.act=gv;pt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=cv({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=f1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)hv.call(t,l)&&!pv.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:$u,type:e.type,key:i,ref:s,props:r,_owner:o}};pt.createContext=function(e){return e={$$typeof:R4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I4,_context:e},e.Consumer=e};pt.createElement=mv;pt.createFactory=function(e){var t=mv.bind(null,e);return t.type=e,t};pt.createRef=function(){return{current:null}};pt.forwardRef=function(e){return{$$typeof:M4,render:e}};pt.isValidElement=h1;pt.lazy=function(e){return{$$typeof:B4,_payload:{_status:-1,_result:e},_init:q4}};pt.memo=function(e,t){return{$$typeof:O4,type:e,compare:t===void 0?null:t}};pt.startTransition=function(e){var t=bd.transition;bd.transition={};try{e()}finally{bd.transition=t}};pt.unstable_act=gv;pt.useCallback=function(e,t){return or.current.useCallback(e,t)};pt.useContext=function(e){return or.current.useContext(e)};pt.useDebugValue=function(){};pt.useDeferredValue=function(e){return or.current.useDeferredValue(e)};pt.useEffect=function(e,t){return or.current.useEffect(e,t)};pt.useId=function(){return or.current.useId()};pt.useImperativeHandle=function(e,t,n){return or.current.useImperativeHandle(e,t,n)};pt.useInsertionEffect=function(e,t){return or.current.useInsertionEffect(e,t)};pt.useLayoutEffect=function(e,t){return or.current.useLayoutEffect(e,t)};pt.useMemo=function(e,t){return or.current.useMemo(e,t)};pt.useReducer=function(e,t,n){return or.current.useReducer(e,t,n)};pt.useRef=function(e){return or.current.useRef(e)};pt.useState=function(e){return or.current.useState(e)};pt.useSyncExternalStore=function(e,t,n){return or.current.useSyncExternalStore(e,t,n)};pt.useTransition=function(){return or.current.useTransition()};pt.version="18.3.1";lv.exports=pt;var O=lv.exports;const kt=ov(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H4=O,W4=Symbol.for("react.element"),G4=Symbol.for("react.fragment"),Y4=Object.prototype.hasOwnProperty,K4=H4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J4={key:!0,ref:!0,__self:!0,__source:!0};function vv(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Y4.call(t,r)&&!J4.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:W4,type:e,key:s,ref:o,props:i,_owner:K4.current}}Lf.Fragment=G4;Lf.jsx=vv;Lf.jsxs=vv;av.exports=Lf;var c=av.exports,zp={},yv={exports:{}},Or={},xv={exports:{}},wv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,te){var ie=H.length;H.push(te);e:for(;0<ie;){var me=ie-1>>>1,A=H[me];if(0<i(A,te))H[me]=te,H[ie]=A,ie=me;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var te=H[0],ie=H.pop();if(ie!==te){H[0]=ie;e:for(var me=0,A=H.length,B=A>>>1;me<B;){var V=2*(me+1)-1,J=H[V],Z=V+1,ce=H[Z];if(0>i(J,ie))Z<A&&0>i(ce,J)?(H[me]=ce,H[Z]=ie,me=Z):(H[me]=J,H[V]=ie,me=V);else if(Z<A&&0>i(ce,ie))H[me]=ce,H[Z]=ie,me=Z;else break e}}return te}function i(H,te){var ie=H.sortIndex-te.sortIndex;return ie!==0?ie:H.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],d=[],p=1,h=null,g=3,m=!1,N=!1,j=!1,L=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(H){for(var te=n(d);te!==null;){if(te.callback===null)r(d);else if(te.startTime<=H)r(d),te.sortIndex=te.expirationTime,t(l,te);else break;te=n(d)}}function T(H){if(j=!1,b(H),!N)if(n(l)!==null)N=!0,Q(q);else{var te=n(d);te!==null&&ae(T,te.startTime-H)}}function q(H,te){N=!1,j&&(j=!1,w(M),M=-1),m=!0;var ie=g;try{for(b(te),h=n(l);h!==null&&(!(h.expirationTime>te)||H&&!F());){var me=h.callback;if(typeof me=="function"){h.callback=null,g=h.priorityLevel;var A=me(h.expirationTime<=te);te=e.unstable_now(),typeof A=="function"?h.callback=A:h===n(l)&&r(l),b(te)}else r(l);h=n(l)}if(h!==null)var B=!0;else{var V=n(d);V!==null&&ae(T,V.startTime-te),B=!1}return B}finally{h=null,g=ie,m=!1}}var G=!1,R=null,M=-1,$=5,re=-1;function F(){return!(e.unstable_now()-re<$)}function k(){if(R!==null){var H=e.unstable_now();re=H;var te=!0;try{te=R(!0,H)}finally{te?W():(G=!1,R=null)}}else G=!1}var W;if(typeof x=="function")W=function(){x(k)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,se=z.port2;z.port1.onmessage=k,W=function(){se.postMessage(null)}}else W=function(){L(k,0)};function Q(H){R=H,G||(G=!0,W())}function ae(H,te){M=L(function(){H(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){N||m||(N=!0,Q(q))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(H){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var ie=g;g=te;try{return H()}finally{g=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=g;g=H;try{return te()}finally{g=ie}},e.unstable_scheduleCallback=function(H,te,ie){var me=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?me+ie:me):ie=me,H){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ie+A,H={id:p++,callback:te,priorityLevel:H,startTime:ie,expirationTime:A,sortIndex:-1},ie>me?(H.sortIndex=ie,t(d,H),n(l)===null&&H===n(d)&&(j?(w(M),M=-1):j=!0,ae(T,ie-me))):(H.sortIndex=A,t(l,H),N||m||(N=!0,Q(q))),H},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(H){var te=g;return function(){var ie=g;g=te;try{return H.apply(this,arguments)}finally{g=ie}}}})(wv);xv.exports=wv;var X4=xv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q4=O,Mr=X4;function Pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bv=new Set,Su={};function Oo(e,t){Ka(e,t),Ka(e+"Capture",t)}function Ka(e,t){for(Su[e]=t,e=0;e<t.length;e++)bv.add(t[e])}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vp=Object.prototype.hasOwnProperty,Z4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mg={},gg={};function eb(e){return Vp.call(gg,e)?!0:Vp.call(mg,e)?!1:Z4.test(e)?gg[e]=!0:(mg[e]=!0,!1)}function tb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nb(e,t,n,r){if(t===null||typeof t>"u"||tb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ar(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bn[e]=new ar(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bn[t]=new ar(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bn[e]=new ar(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bn[e]=new ar(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bn[e]=new ar(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bn[e]=new ar(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bn[e]=new ar(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bn[e]=new ar(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bn[e]=new ar(e,5,!1,e.toLowerCase(),null,!1,!1)});var p1=/[\-:]([a-z])/g;function m1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(p1,m1);Bn[t]=new ar(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(p1,m1);Bn[t]=new ar(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(p1,m1);Bn[t]=new ar(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bn[e]=new ar(e,1,!1,e.toLowerCase(),null,!1,!1)});Bn.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bn[e]=new ar(e,1,!1,e.toLowerCase(),null,!0,!0)});function g1(e,t,n,r){var i=Bn.hasOwnProperty(t)?Bn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nb(t,n,i,r)&&(n=null),r||i===null?eb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ds=Q4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gc=Symbol.for("react.element"),Sa=Symbol.for("react.portal"),Na=Symbol.for("react.fragment"),v1=Symbol.for("react.strict_mode"),Up=Symbol.for("react.profiler"),Sv=Symbol.for("react.provider"),Nv=Symbol.for("react.context"),y1=Symbol.for("react.forward_ref"),qp=Symbol.for("react.suspense"),$p=Symbol.for("react.suspense_list"),x1=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),jv=Symbol.for("react.offscreen"),vg=Symbol.iterator;function zl(e){return e===null||typeof e!="object"?null:(e=vg&&e[vg]||e["@@iterator"],typeof e=="function"?e:null)}var sn=Object.assign,Hh;function ru(e){if(Hh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hh=t&&t[1]||""}return`
`+Hh+e}var Wh=!1;function Gh(e,t){if(!e||Wh)return"";Wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ru(e):""}function rb(e){switch(e.tag){case 5:return ru(e.type);case 16:return ru("Lazy");case 13:return ru("Suspense");case 19:return ru("SuspenseList");case 0:case 2:case 15:return e=Gh(e.type,!1),e;case 11:return e=Gh(e.type.render,!1),e;case 1:return e=Gh(e.type,!0),e;default:return""}}function Hp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Na:return"Fragment";case Sa:return"Portal";case Up:return"Profiler";case v1:return"StrictMode";case qp:return"Suspense";case $p:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nv:return(e.displayName||"Context")+".Consumer";case Sv:return(e._context.displayName||"Context")+".Provider";case y1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x1:return t=e.displayName||null,t!==null?t:Hp(e.type)||"Memo";case Es:t=e._payload,e=e._init;try{return Hp(e(t))}catch{}}return null}function ib(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hp(t);case 8:return t===v1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ks(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Av(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sb(e){var t=Av(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yc(e){e._valueTracker||(e._valueTracker=sb(e))}function Lv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Av(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ud(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wp(e,t){var n=t.checked;return sn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ks(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cv(e,t){t=t.checked,t!=null&&g1(e,"checked",t,!1)}function Gp(e,t){Cv(e,t);var n=Ks(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Yp(e,t.type,Ks(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Yp(e,t,n){(t!=="number"||Ud(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var iu=Array.isArray;function Ba(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ks(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Kp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return sn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Pe(92));if(iu(n)){if(1<n.length)throw Error(Pe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ks(n)}}function Pv(e,t){var n=Ks(t.value),r=Ks(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kc,_v=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Kc=Kc||document.createElement("div"),Kc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Kc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ob=["Webkit","ms","Moz","O"];Object.keys(lu).forEach(function(e){ob.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lu[t]=lu[e]})});function Ev(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lu.hasOwnProperty(e)&&lu[e]?(""+t).trim():t+"px"}function Fv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ev(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ab=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xp(e,t){if(t){if(ab[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Pe(62))}}function Qp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zp=null;function w1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var em=null,za=null,Va=null;function Sg(e){if(e=Gu(e)){if(typeof em!="function")throw Error(Pe(280));var t=e.stateNode;t&&(t=Ef(t),em(e.stateNode,e.type,t))}}function Tv(e){za?Va?Va.push(e):Va=[e]:za=e}function Iv(){if(za){var e=za,t=Va;if(Va=za=null,Sg(e),t)for(e=0;e<t.length;e++)Sg(t[e])}}function Rv(e,t){return e(t)}function Mv(){}var Yh=!1;function Dv(e,t,n){if(Yh)return e(t,n);Yh=!0;try{return Rv(e,t,n)}finally{Yh=!1,(za!==null||Va!==null)&&(Mv(),Iv())}}function ju(e,t){var n=e.stateNode;if(n===null)return null;var r=Ef(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Pe(231,t,typeof n));return n}var tm=!1;if(ss)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){tm=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{tm=!1}function lb(e,t,n,r,i,s,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var uu=!1,qd=null,$d=!1,nm=null,ub={onError:function(e){uu=!0,qd=e}};function cb(e,t,n,r,i,s,o,a,l){uu=!1,qd=null,lb.apply(ub,arguments)}function db(e,t,n,r,i,s,o,a,l){if(cb.apply(this,arguments),uu){if(uu){var d=qd;uu=!1,qd=null}else throw Error(Pe(198));$d||($d=!0,nm=d)}}function Bo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ov(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ng(e){if(Bo(e)!==e)throw Error(Pe(188))}function fb(e){var t=e.alternate;if(!t){if(t=Bo(e),t===null)throw Error(Pe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ng(i),e;if(s===r)return Ng(i),t;s=s.sibling}throw Error(Pe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Pe(189))}}if(n.alternate!==r)throw Error(Pe(190))}if(n.tag!==3)throw Error(Pe(188));return n.stateNode.current===n?e:t}function Bv(e){return e=fb(e),e!==null?zv(e):null}function zv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zv(e);if(t!==null)return t;e=e.sibling}return null}var Vv=Mr.unstable_scheduleCallback,jg=Mr.unstable_cancelCallback,hb=Mr.unstable_shouldYield,pb=Mr.unstable_requestPaint,pn=Mr.unstable_now,mb=Mr.unstable_getCurrentPriorityLevel,b1=Mr.unstable_ImmediatePriority,Uv=Mr.unstable_UserBlockingPriority,Hd=Mr.unstable_NormalPriority,gb=Mr.unstable_LowPriority,qv=Mr.unstable_IdlePriority,Cf=null,Fi=null;function vb(e){if(Fi&&typeof Fi.onCommitFiberRoot=="function")try{Fi.onCommitFiberRoot(Cf,e,void 0,(e.current.flags&128)===128)}catch{}}var vi=Math.clz32?Math.clz32:wb,yb=Math.log,xb=Math.LN2;function wb(e){return e>>>=0,e===0?32:31-(yb(e)/xb|0)|0}var Jc=64,Xc=4194304;function su(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=su(a):(s&=o,s!==0&&(r=su(s)))}else o=n&~i,o!==0?r=su(o):s!==0&&(r=su(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vi(t),i=1<<n,r|=e[n],t&=~i;return r}function bb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-vi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=bb(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function rm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $v(){var e=Jc;return Jc<<=1,!(Jc&4194240)&&(Jc=64),e}function Kh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vi(t),e[t]=n}function Nb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-vi(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function S1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Tt=0;function Hv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wv,N1,Gv,Yv,Kv,im=!1,Qc=[],Bs=null,zs=null,Vs=null,Au=new Map,Lu=new Map,Is=[],jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ag(e,t){switch(e){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Au.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(t.pointerId)}}function Ul(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Gu(t),t!==null&&N1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ab(e,t,n,r,i){switch(t){case"focusin":return Bs=Ul(Bs,e,t,n,r,i),!0;case"dragenter":return zs=Ul(zs,e,t,n,r,i),!0;case"mouseover":return Vs=Ul(Vs,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Au.set(s,Ul(Au.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lu.set(s,Ul(Lu.get(s)||null,e,t,n,r,i)),!0}return!1}function Jv(e){var t=Lo(e.target);if(t!==null){var n=Bo(t);if(n!==null){if(t=n.tag,t===13){if(t=Ov(n),t!==null){e.blockedOn=t,Kv(e.priority,function(){Gv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zp=r,n.target.dispatchEvent(r),Zp=null}else return t=Gu(n),t!==null&&N1(t),e.blockedOn=n,!1;t.shift()}return!0}function Lg(e,t,n){Sd(e)&&n.delete(t)}function Lb(){im=!1,Bs!==null&&Sd(Bs)&&(Bs=null),zs!==null&&Sd(zs)&&(zs=null),Vs!==null&&Sd(Vs)&&(Vs=null),Au.forEach(Lg),Lu.forEach(Lg)}function ql(e,t){e.blockedOn===t&&(e.blockedOn=null,im||(im=!0,Mr.unstable_scheduleCallback(Mr.unstable_NormalPriority,Lb)))}function Cu(e){function t(i){return ql(i,e)}if(0<Qc.length){ql(Qc[0],e);for(var n=1;n<Qc.length;n++){var r=Qc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bs!==null&&ql(Bs,e),zs!==null&&ql(zs,e),Vs!==null&&ql(Vs,e),Au.forEach(t),Lu.forEach(t),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)Jv(n),n.blockedOn===null&&Is.shift()}var Ua=ds.ReactCurrentBatchConfig,Gd=!0;function Cb(e,t,n,r){var i=Tt,s=Ua.transition;Ua.transition=null;try{Tt=1,j1(e,t,n,r)}finally{Tt=i,Ua.transition=s}}function Pb(e,t,n,r){var i=Tt,s=Ua.transition;Ua.transition=null;try{Tt=4,j1(e,t,n,r)}finally{Tt=i,Ua.transition=s}}function j1(e,t,n,r){if(Gd){var i=sm(e,t,n,r);if(i===null)sp(e,t,r,Yd,n),Ag(e,r);else if(Ab(i,e,t,n,r))r.stopPropagation();else if(Ag(e,r),t&4&&-1<jb.indexOf(e)){for(;i!==null;){var s=Gu(i);if(s!==null&&Wv(s),s=sm(e,t,n,r),s===null&&sp(e,t,r,Yd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sp(e,t,r,null,n)}}var Yd=null;function sm(e,t,n,r){if(Yd=null,e=w1(r),e=Lo(e),e!==null)if(t=Bo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ov(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yd=e,null}function Xv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mb()){case b1:return 1;case Uv:return 4;case Hd:case gb:return 16;case qv:return 536870912;default:return 16}default:return 16}}var Ms=null,A1=null,Nd=null;function Qv(){if(Nd)return Nd;var e,t=A1,n=t.length,r,i="value"in Ms?Ms.value:Ms.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Nd=i.slice(e,1<r?1-r:void 0)}function jd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zc(){return!0}function Cg(){return!1}function Br(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zc:Cg,this.isPropagationStopped=Cg,this}return sn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),t}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L1=Br(ol),Wu=sn({},ol,{view:0,detail:0}),kb=Br(Wu),Jh,Xh,$l,Pf=sn({},Wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$l&&($l&&e.type==="mousemove"?(Jh=e.screenX-$l.screenX,Xh=e.screenY-$l.screenY):Xh=Jh=0,$l=e),Jh)},movementY:function(e){return"movementY"in e?e.movementY:Xh}}),Pg=Br(Pf),_b=sn({},Pf,{dataTransfer:0}),Eb=Br(_b),Fb=sn({},Wu,{relatedTarget:0}),Qh=Br(Fb),Tb=sn({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),Ib=Br(Tb),Rb=sn({},ol,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mb=Br(Rb),Db=sn({},ol,{data:0}),kg=Br(Db),Ob={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zb[e])?!!t[e]:!1}function C1(){return Vb}var Ub=sn({},Wu,{key:function(e){if(e.key){var t=Ob[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C1,charCode:function(e){return e.type==="keypress"?jd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qb=Br(Ub),$b=sn({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_g=Br($b),Hb=sn({},Wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C1}),Wb=Br(Hb),Gb=sn({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yb=Br(Gb),Kb=sn({},Pf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jb=Br(Kb),Xb=[9,13,27,32],P1=ss&&"CompositionEvent"in window,cu=null;ss&&"documentMode"in document&&(cu=document.documentMode);var Qb=ss&&"TextEvent"in window&&!cu,Zv=ss&&(!P1||cu&&8<cu&&11>=cu),Eg=String.fromCharCode(32),Fg=!1;function ey(e,t){switch(e){case"keyup":return Xb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ja=!1;function Zb(e,t){switch(e){case"compositionend":return ty(t);case"keypress":return t.which!==32?null:(Fg=!0,Eg);case"textInput":return e=t.data,e===Eg&&Fg?null:e;default:return null}}function eS(e,t){if(ja)return e==="compositionend"||!P1&&ey(e,t)?(e=Qv(),Nd=A1=Ms=null,ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zv&&t.locale!=="ko"?null:t.data;default:return null}}var tS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tS[e.type]:t==="textarea"}function ny(e,t,n,r){Tv(r),t=Kd(t,"onChange"),0<t.length&&(n=new L1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var du=null,Pu=null;function nS(e){hy(e,0)}function kf(e){var t=Ca(e);if(Lv(t))return e}function rS(e,t){if(e==="change")return t}var ry=!1;if(ss){var Zh;if(ss){var ep="oninput"in document;if(!ep){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),ep=typeof Ig.oninput=="function"}Zh=ep}else Zh=!1;ry=Zh&&(!document.documentMode||9<document.documentMode)}function Rg(){du&&(du.detachEvent("onpropertychange",iy),Pu=du=null)}function iy(e){if(e.propertyName==="value"&&kf(Pu)){var t=[];ny(t,Pu,e,w1(e)),Dv(nS,t)}}function iS(e,t,n){e==="focusin"?(Rg(),du=t,Pu=n,du.attachEvent("onpropertychange",iy)):e==="focusout"&&Rg()}function sS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kf(Pu)}function oS(e,t){if(e==="click")return kf(t)}function aS(e,t){if(e==="input"||e==="change")return kf(t)}function lS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xi=typeof Object.is=="function"?Object.is:lS;function ku(e,t){if(xi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vp.call(t,i)||!xi(e[i],t[i]))return!1}return!0}function Mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dg(e,t){var n=Mg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mg(n)}}function sy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oy(){for(var e=window,t=Ud();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ud(e.document)}return t}function k1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uS(e){var t=oy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sy(n.ownerDocument.documentElement,n)){if(r!==null&&k1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Dg(n,s);var o=Dg(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cS=ss&&"documentMode"in document&&11>=document.documentMode,Aa=null,om=null,fu=null,am=!1;function Og(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;am||Aa==null||Aa!==Ud(r)||(r=Aa,"selectionStart"in r&&k1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fu&&ku(fu,r)||(fu=r,r=Kd(om,"onSelect"),0<r.length&&(t=new L1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Aa)))}function ed(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var La={animationend:ed("Animation","AnimationEnd"),animationiteration:ed("Animation","AnimationIteration"),animationstart:ed("Animation","AnimationStart"),transitionend:ed("Transition","TransitionEnd")},tp={},ay={};ss&&(ay=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function _f(e){if(tp[e])return tp[e];if(!La[e])return e;var t=La[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ay)return tp[e]=t[n];return e}var ly=_f("animationend"),uy=_f("animationiteration"),cy=_f("animationstart"),dy=_f("transitionend"),fy=new Map,Bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(e,t){fy.set(e,t),Oo(t,[e])}for(var np=0;np<Bg.length;np++){var rp=Bg[np],dS=rp.toLowerCase(),fS=rp[0].toUpperCase()+rp.slice(1);to(dS,"on"+fS)}to(ly,"onAnimationEnd");to(uy,"onAnimationIteration");to(cy,"onAnimationStart");to("dblclick","onDoubleClick");to("focusin","onFocus");to("focusout","onBlur");to(dy,"onTransitionEnd");Ka("onMouseEnter",["mouseout","mouseover"]);Ka("onMouseLeave",["mouseout","mouseover"]);Ka("onPointerEnter",["pointerout","pointerover"]);Ka("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ou));function zg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,db(r,t,void 0,e),e.currentTarget=null}function hy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;zg(i,a,d),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;zg(i,a,d),s=l}}}if($d)throw e=nm,$d=!1,nm=null,e}function Gt(e,t){var n=t[fm];n===void 0&&(n=t[fm]=new Set);var r=e+"__bubble";n.has(r)||(py(t,e,2,!1),n.add(r))}function ip(e,t,n){var r=0;t&&(r|=4),py(n,e,r,t)}var td="_reactListening"+Math.random().toString(36).slice(2);function _u(e){if(!e[td]){e[td]=!0,bv.forEach(function(n){n!=="selectionchange"&&(hS.has(n)||ip(n,!1,e),ip(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[td]||(t[td]=!0,ip("selectionchange",!1,t))}}function py(e,t,n,r){switch(Xv(t)){case 1:var i=Cb;break;case 4:i=Pb;break;default:i=j1}n=i.bind(null,t,n,e),i=void 0,!tm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function sp(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Lo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Dv(function(){var d=s,p=w1(n),h=[];e:{var g=fy.get(e);if(g!==void 0){var m=L1,N=e;switch(e){case"keypress":if(jd(n)===0)break e;case"keydown":case"keyup":m=qb;break;case"focusin":N="focus",m=Qh;break;case"focusout":N="blur",m=Qh;break;case"beforeblur":case"afterblur":m=Qh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Eb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Wb;break;case ly:case uy:case cy:m=Ib;break;case dy:m=Yb;break;case"scroll":m=kb;break;case"wheel":m=Jb;break;case"copy":case"cut":case"paste":m=Mb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=_g}var j=(t&4)!==0,L=!j&&e==="scroll",w=j?g!==null?g+"Capture":null:g;j=[];for(var x=d,b;x!==null;){b=x;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,w!==null&&(T=ju(x,w),T!=null&&j.push(Eu(x,T,b)))),L)break;x=x.return}0<j.length&&(g=new m(g,N,null,n,p),h.push({event:g,listeners:j}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==Zp&&(N=n.relatedTarget||n.fromElement)&&(Lo(N)||N[os]))break e;if((m||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,m?(N=n.relatedTarget||n.toElement,m=d,N=N?Lo(N):null,N!==null&&(L=Bo(N),N!==L||N.tag!==5&&N.tag!==6)&&(N=null)):(m=null,N=d),m!==N)){if(j=Pg,T="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(j=_g,T="onPointerLeave",w="onPointerEnter",x="pointer"),L=m==null?g:Ca(m),b=N==null?g:Ca(N),g=new j(T,x+"leave",m,n,p),g.target=L,g.relatedTarget=b,T=null,Lo(p)===d&&(j=new j(w,x+"enter",N,n,p),j.target=b,j.relatedTarget=L,T=j),L=T,m&&N)t:{for(j=m,w=N,x=0,b=j;b;b=va(b))x++;for(b=0,T=w;T;T=va(T))b++;for(;0<x-b;)j=va(j),x--;for(;0<b-x;)w=va(w),b--;for(;x--;){if(j===w||w!==null&&j===w.alternate)break t;j=va(j),w=va(w)}j=null}else j=null;m!==null&&Vg(h,g,m,j,!1),N!==null&&L!==null&&Vg(h,L,N,j,!0)}}e:{if(g=d?Ca(d):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var q=rS;else if(Tg(g))if(ry)q=aS;else{q=sS;var G=iS}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(q=oS);if(q&&(q=q(e,d))){ny(h,q,n,p);break e}G&&G(e,g,d),e==="focusout"&&(G=g._wrapperState)&&G.controlled&&g.type==="number"&&Yp(g,"number",g.value)}switch(G=d?Ca(d):window,e){case"focusin":(Tg(G)||G.contentEditable==="true")&&(Aa=G,om=d,fu=null);break;case"focusout":fu=om=Aa=null;break;case"mousedown":am=!0;break;case"contextmenu":case"mouseup":case"dragend":am=!1,Og(h,n,p);break;case"selectionchange":if(cS)break;case"keydown":case"keyup":Og(h,n,p)}var R;if(P1)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ja?ey(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Zv&&n.locale!=="ko"&&(ja||M!=="onCompositionStart"?M==="onCompositionEnd"&&ja&&(R=Qv()):(Ms=p,A1="value"in Ms?Ms.value:Ms.textContent,ja=!0)),G=Kd(d,M),0<G.length&&(M=new kg(M,e,null,n,p),h.push({event:M,listeners:G}),R?M.data=R:(R=ty(n),R!==null&&(M.data=R)))),(R=Qb?Zb(e,n):eS(e,n))&&(d=Kd(d,"onBeforeInput"),0<d.length&&(p=new kg("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:d}),p.data=R))}hy(h,t)})}function Eu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ju(e,n),s!=null&&r.unshift(Eu(e,s,i)),s=ju(e,t),s!=null&&r.push(Eu(e,s,i))),e=e.return}return r}function va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vg(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,i?(l=ju(n,s),l!=null&&o.unshift(Eu(n,l,a))):i||(l=ju(n,s),l!=null&&o.push(Eu(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var pS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function Ug(e){return(typeof e=="string"?e:""+e).replace(pS,`
`).replace(mS,"")}function nd(e,t,n){if(t=Ug(t),Ug(e)!==t&&n)throw Error(Pe(425))}function Jd(){}var lm=null,um=null;function cm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dm=typeof setTimeout=="function"?setTimeout:void 0,gS=typeof clearTimeout=="function"?clearTimeout:void 0,qg=typeof Promise=="function"?Promise:void 0,vS=typeof queueMicrotask=="function"?queueMicrotask:typeof qg<"u"?function(e){return qg.resolve(null).then(e).catch(yS)}:dm;function yS(e){setTimeout(function(){throw e})}function op(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Cu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cu(t)}function Us(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $g(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var al=Math.random().toString(36).slice(2),_i="__reactFiber$"+al,Fu="__reactProps$"+al,os="__reactContainer$"+al,fm="__reactEvents$"+al,xS="__reactListeners$"+al,wS="__reactHandles$"+al;function Lo(e){var t=e[_i];if(t)return t;for(var n=e.parentNode;n;){if(t=n[os]||n[_i]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$g(e);e!==null;){if(n=e[_i])return n;e=$g(e)}return t}e=n,n=e.parentNode}return null}function Gu(e){return e=e[_i]||e[os],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ca(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Pe(33))}function Ef(e){return e[Fu]||null}var hm=[],Pa=-1;function no(e){return{current:e}}function Kt(e){0>Pa||(e.current=hm[Pa],hm[Pa]=null,Pa--)}function $t(e,t){Pa++,hm[Pa]=e.current,e.current=t}var Js={},Qn=no(Js),yr=no(!1),To=Js;function Ja(e,t){var n=e.type.contextTypes;if(!n)return Js;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xr(e){return e=e.childContextTypes,e!=null}function Xd(){Kt(yr),Kt(Qn)}function Hg(e,t,n){if(Qn.current!==Js)throw Error(Pe(168));$t(Qn,t),$t(yr,n)}function my(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Pe(108,ib(e)||"Unknown",i));return sn({},n,r)}function Qd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Js,To=Qn.current,$t(Qn,e),$t(yr,yr.current),!0}function Wg(e,t,n){var r=e.stateNode;if(!r)throw Error(Pe(169));n?(e=my(e,t,To),r.__reactInternalMemoizedMergedChildContext=e,Kt(yr),Kt(Qn),$t(Qn,e)):Kt(yr),$t(yr,n)}var Xi=null,Ff=!1,ap=!1;function gy(e){Xi===null?Xi=[e]:Xi.push(e)}function bS(e){Ff=!0,gy(e)}function ro(){if(!ap&&Xi!==null){ap=!0;var e=0,t=Tt;try{var n=Xi;for(Tt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xi=null,Ff=!1}catch(i){throw Xi!==null&&(Xi=Xi.slice(e+1)),Vv(b1,ro),i}finally{Tt=t,ap=!1}}return null}var ka=[],_a=0,Zd=null,ef=0,Xr=[],Qr=0,Io=null,Qi=1,Zi="";function xo(e,t){ka[_a++]=ef,ka[_a++]=Zd,Zd=e,ef=t}function vy(e,t,n){Xr[Qr++]=Qi,Xr[Qr++]=Zi,Xr[Qr++]=Io,Io=e;var r=Qi;e=Zi;var i=32-vi(r)-1;r&=~(1<<i),n+=1;var s=32-vi(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-vi(t)+i|n<<i|r,Zi=s+e}else Qi=1<<s|n<<i|r,Zi=e}function _1(e){e.return!==null&&(xo(e,1),vy(e,1,0))}function E1(e){for(;e===Zd;)Zd=ka[--_a],ka[_a]=null,ef=ka[--_a],ka[_a]=null;for(;e===Io;)Io=Xr[--Qr],Xr[Qr]=null,Zi=Xr[--Qr],Xr[Qr]=null,Qi=Xr[--Qr],Xr[Qr]=null}var Rr=null,Tr=null,Xt=!1,pi=null;function yy(e,t){var n=Zr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rr=e,Tr=Us(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rr=e,Tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Io!==null?{id:Qi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Zr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rr=e,Tr=null,!0):!1;default:return!1}}function pm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mm(e){if(Xt){var t=Tr;if(t){var n=t;if(!Gg(e,t)){if(pm(e))throw Error(Pe(418));t=Us(n.nextSibling);var r=Rr;t&&Gg(e,t)?yy(r,n):(e.flags=e.flags&-4097|2,Xt=!1,Rr=e)}}else{if(pm(e))throw Error(Pe(418));e.flags=e.flags&-4097|2,Xt=!1,Rr=e}}}function Yg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rr=e}function rd(e){if(e!==Rr)return!1;if(!Xt)return Yg(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cm(e.type,e.memoizedProps)),t&&(t=Tr)){if(pm(e))throw xy(),Error(Pe(418));for(;t;)yy(e,t),t=Us(t.nextSibling)}if(Yg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tr=Us(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tr=null}}else Tr=Rr?Us(e.stateNode.nextSibling):null;return!0}function xy(){for(var e=Tr;e;)e=Us(e.nextSibling)}function Xa(){Tr=Rr=null,Xt=!1}function F1(e){pi===null?pi=[e]:pi.push(e)}var SS=ds.ReactCurrentBatchConfig;function Hl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Pe(309));var r=n.stateNode}if(!r)throw Error(Pe(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Pe(284));if(!n._owner)throw Error(Pe(290,e))}return e}function id(e,t){throw e=Object.prototype.toString.call(t),Error(Pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kg(e){var t=e._init;return t(e._payload)}function wy(e){function t(w,x){if(e){var b=w.deletions;b===null?(w.deletions=[x],w.flags|=16):b.push(x)}}function n(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=Ws(w,x),w.index=0,w.sibling=null,w}function s(w,x,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<x?(w.flags|=2,x):b):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,x,b,T){return x===null||x.tag!==6?(x=pp(b,w.mode,T),x.return=w,x):(x=i(x,b),x.return=w,x)}function l(w,x,b,T){var q=b.type;return q===Na?p(w,x,b.props.children,T,b.key):x!==null&&(x.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Es&&Kg(q)===x.type)?(T=i(x,b.props),T.ref=Hl(w,x,b),T.return=w,T):(T=Ed(b.type,b.key,b.props,null,w.mode,T),T.ref=Hl(w,x,b),T.return=w,T)}function d(w,x,b,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=mp(b,w.mode,T),x.return=w,x):(x=i(x,b.children||[]),x.return=w,x)}function p(w,x,b,T,q){return x===null||x.tag!==7?(x=Eo(b,w.mode,T,q),x.return=w,x):(x=i(x,b),x.return=w,x)}function h(w,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=pp(""+x,w.mode,b),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gc:return b=Ed(x.type,x.key,x.props,null,w.mode,b),b.ref=Hl(w,null,x),b.return=w,b;case Sa:return x=mp(x,w.mode,b),x.return=w,x;case Es:var T=x._init;return h(w,T(x._payload),b)}if(iu(x)||zl(x))return x=Eo(x,w.mode,b,null),x.return=w,x;id(w,x)}return null}function g(w,x,b,T){var q=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return q!==null?null:a(w,x,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gc:return b.key===q?l(w,x,b,T):null;case Sa:return b.key===q?d(w,x,b,T):null;case Es:return q=b._init,g(w,x,q(b._payload),T)}if(iu(b)||zl(b))return q!==null?null:p(w,x,b,T,null);id(w,b)}return null}function m(w,x,b,T,q){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(b)||null,a(x,w,""+T,q);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Gc:return w=w.get(T.key===null?b:T.key)||null,l(x,w,T,q);case Sa:return w=w.get(T.key===null?b:T.key)||null,d(x,w,T,q);case Es:var G=T._init;return m(w,x,b,G(T._payload),q)}if(iu(T)||zl(T))return w=w.get(b)||null,p(x,w,T,q,null);id(x,T)}return null}function N(w,x,b,T){for(var q=null,G=null,R=x,M=x=0,$=null;R!==null&&M<b.length;M++){R.index>M?($=R,R=null):$=R.sibling;var re=g(w,R,b[M],T);if(re===null){R===null&&(R=$);break}e&&R&&re.alternate===null&&t(w,R),x=s(re,x,M),G===null?q=re:G.sibling=re,G=re,R=$}if(M===b.length)return n(w,R),Xt&&xo(w,M),q;if(R===null){for(;M<b.length;M++)R=h(w,b[M],T),R!==null&&(x=s(R,x,M),G===null?q=R:G.sibling=R,G=R);return Xt&&xo(w,M),q}for(R=r(w,R);M<b.length;M++)$=m(R,w,M,b[M],T),$!==null&&(e&&$.alternate!==null&&R.delete($.key===null?M:$.key),x=s($,x,M),G===null?q=$:G.sibling=$,G=$);return e&&R.forEach(function(F){return t(w,F)}),Xt&&xo(w,M),q}function j(w,x,b,T){var q=zl(b);if(typeof q!="function")throw Error(Pe(150));if(b=q.call(b),b==null)throw Error(Pe(151));for(var G=q=null,R=x,M=x=0,$=null,re=b.next();R!==null&&!re.done;M++,re=b.next()){R.index>M?($=R,R=null):$=R.sibling;var F=g(w,R,re.value,T);if(F===null){R===null&&(R=$);break}e&&R&&F.alternate===null&&t(w,R),x=s(F,x,M),G===null?q=F:G.sibling=F,G=F,R=$}if(re.done)return n(w,R),Xt&&xo(w,M),q;if(R===null){for(;!re.done;M++,re=b.next())re=h(w,re.value,T),re!==null&&(x=s(re,x,M),G===null?q=re:G.sibling=re,G=re);return Xt&&xo(w,M),q}for(R=r(w,R);!re.done;M++,re=b.next())re=m(R,w,M,re.value,T),re!==null&&(e&&re.alternate!==null&&R.delete(re.key===null?M:re.key),x=s(re,x,M),G===null?q=re:G.sibling=re,G=re);return e&&R.forEach(function(k){return t(w,k)}),Xt&&xo(w,M),q}function L(w,x,b,T){if(typeof b=="object"&&b!==null&&b.type===Na&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Gc:e:{for(var q=b.key,G=x;G!==null;){if(G.key===q){if(q=b.type,q===Na){if(G.tag===7){n(w,G.sibling),x=i(G,b.props.children),x.return=w,w=x;break e}}else if(G.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Es&&Kg(q)===G.type){n(w,G.sibling),x=i(G,b.props),x.ref=Hl(w,G,b),x.return=w,w=x;break e}n(w,G);break}else t(w,G);G=G.sibling}b.type===Na?(x=Eo(b.props.children,w.mode,T,b.key),x.return=w,w=x):(T=Ed(b.type,b.key,b.props,null,w.mode,T),T.ref=Hl(w,x,b),T.return=w,w=T)}return o(w);case Sa:e:{for(G=b.key;x!==null;){if(x.key===G)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(w,x.sibling),x=i(x,b.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else t(w,x);x=x.sibling}x=mp(b,w.mode,T),x.return=w,w=x}return o(w);case Es:return G=b._init,L(w,x,G(b._payload),T)}if(iu(b))return N(w,x,b,T);if(zl(b))return j(w,x,b,T);id(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(w,x.sibling),x=i(x,b),x.return=w,w=x):(n(w,x),x=pp(b,w.mode,T),x.return=w,w=x),o(w)):n(w,x)}return L}var Qa=wy(!0),by=wy(!1),tf=no(null),nf=null,Ea=null,T1=null;function I1(){T1=Ea=nf=null}function R1(e){var t=tf.current;Kt(tf),e._currentValue=t}function gm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qa(e,t){nf=e,T1=Ea=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vr=!0),e.firstContext=null)}function ti(e){var t=e._currentValue;if(T1!==e)if(e={context:e,memoizedValue:t,next:null},Ea===null){if(nf===null)throw Error(Pe(308));Ea=e,nf.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return t}var Co=null;function M1(e){Co===null?Co=[e]:Co.push(e)}function Sy(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,M1(t)):(n.next=i.next,i.next=n),t.interleaved=n,as(e,r)}function as(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fs=!1;function D1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ny(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Nt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,as(e,n)}return i=r.interleaved,i===null?(t.next=t,M1(r)):(t.next=i.next,i.next=t),r.interleaved=t,as(e,n)}function Ad(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,S1(e,n)}}function Jg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function rf(e,t,n,r){var i=e.updateQueue;Fs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?s=d:o.next=d,o=l;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,p=d=l=null,a=s;do{var g=a.lane,m=a.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var N=e,j=a;switch(g=t,m=n,j.tag){case 1:if(N=j.payload,typeof N=="function"){h=N.call(m,h,g);break e}h=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=j.payload,g=typeof N=="function"?N.call(m,h,g):N,g==null)break e;h=sn({},h,g);break e;case 2:Fs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else m={eventTime:m,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=m,l=h):p=p.next=m,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(p===null&&(l=h),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Mo|=o,e.lanes=o,e.memoizedState=h}}function Xg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Pe(191,i));i.call(r)}}}var Yu={},Ti=no(Yu),Tu=no(Yu),Iu=no(Yu);function Po(e){if(e===Yu)throw Error(Pe(174));return e}function O1(e,t){switch($t(Iu,t),$t(Tu,e),$t(Ti,Yu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jp(t,e)}Kt(Ti),$t(Ti,t)}function Za(){Kt(Ti),Kt(Tu),Kt(Iu)}function jy(e){Po(Iu.current);var t=Po(Ti.current),n=Jp(t,e.type);t!==n&&($t(Tu,e),$t(Ti,n))}function B1(e){Tu.current===e&&(Kt(Ti),Kt(Tu))}var en=no(0);function sf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lp=[];function z1(){for(var e=0;e<lp.length;e++)lp[e]._workInProgressVersionPrimary=null;lp.length=0}var Ld=ds.ReactCurrentDispatcher,up=ds.ReactCurrentBatchConfig,Ro=0,nn=null,An=null,En=null,of=!1,hu=!1,Ru=0,NS=0;function qn(){throw Error(Pe(321))}function V1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xi(e[n],t[n]))return!1;return!0}function U1(e,t,n,r,i,s){if(Ro=s,nn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ld.current=e===null||e.memoizedState===null?CS:PS,e=n(r,i),hu){s=0;do{if(hu=!1,Ru=0,25<=s)throw Error(Pe(301));s+=1,En=An=null,t.updateQueue=null,Ld.current=kS,e=n(r,i)}while(hu)}if(Ld.current=af,t=An!==null&&An.next!==null,Ro=0,En=An=nn=null,of=!1,t)throw Error(Pe(300));return e}function q1(){var e=Ru!==0;return Ru=0,e}function ki(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?nn.memoizedState=En=e:En=En.next=e,En}function ni(){if(An===null){var e=nn.alternate;e=e!==null?e.memoizedState:null}else e=An.next;var t=En===null?nn.memoizedState:En.next;if(t!==null)En=t,An=e;else{if(e===null)throw Error(Pe(310));An=e,e={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},En===null?nn.memoizedState=En=e:En=En.next=e}return En}function Mu(e,t){return typeof t=="function"?t(e):t}function cp(e){var t=ni(),n=t.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=e;var r=An,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,d=s;do{var p=d.lane;if((Ro&p)===p)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,nn.lanes|=p,Mo|=p}d=d.next}while(d!==null&&d!==s);l===null?o=r:l.next=a,xi(r,t.memoizedState)||(vr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,nn.lanes|=s,Mo|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function dp(e){var t=ni(),n=t.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);xi(s,t.memoizedState)||(vr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ay(){}function Ly(e,t){var n=nn,r=ni(),i=t(),s=!xi(r.memoizedState,i);if(s&&(r.memoizedState=i,vr=!0),r=r.queue,$1(ky.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||En!==null&&En.memoizedState.tag&1){if(n.flags|=2048,Du(9,Py.bind(null,n,r,i,t),void 0,null),Tn===null)throw Error(Pe(349));Ro&30||Cy(n,t,i)}return i}function Cy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nn.updateQueue,t===null?(t={lastEffect:null,stores:null},nn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Py(e,t,n,r){t.value=n,t.getSnapshot=r,_y(t)&&Ey(e)}function ky(e,t,n){return n(function(){_y(t)&&Ey(e)})}function _y(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xi(e,n)}catch{return!0}}function Ey(e){var t=as(e,1);t!==null&&yi(t,e,1,-1)}function Qg(e){var t=ki();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:e},t.queue=e,e=e.dispatch=LS.bind(null,nn,e),[t.memoizedState,e]}function Du(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=nn.updateQueue,t===null?(t={lastEffect:null,stores:null},nn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fy(){return ni().memoizedState}function Cd(e,t,n,r){var i=ki();nn.flags|=e,i.memoizedState=Du(1|t,n,void 0,r===void 0?null:r)}function Tf(e,t,n,r){var i=ni();r=r===void 0?null:r;var s=void 0;if(An!==null){var o=An.memoizedState;if(s=o.destroy,r!==null&&V1(r,o.deps)){i.memoizedState=Du(t,n,s,r);return}}nn.flags|=e,i.memoizedState=Du(1|t,n,s,r)}function Zg(e,t){return Cd(8390656,8,e,t)}function $1(e,t){return Tf(2048,8,e,t)}function Ty(e,t){return Tf(4,2,e,t)}function Iy(e,t){return Tf(4,4,e,t)}function Ry(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function My(e,t,n){return n=n!=null?n.concat([e]):null,Tf(4,4,Ry.bind(null,t,e),n)}function H1(){}function Dy(e,t){var n=ni();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&V1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oy(e,t){var n=ni();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&V1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function By(e,t,n){return Ro&21?(xi(n,t)||(n=$v(),nn.lanes|=n,Mo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vr=!0),e.memoizedState=n)}function jS(e,t){var n=Tt;Tt=n!==0&&4>n?n:4,e(!0);var r=up.transition;up.transition={};try{e(!1),t()}finally{Tt=n,up.transition=r}}function zy(){return ni().memoizedState}function AS(e,t,n){var r=Hs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vy(e))Uy(t,n);else if(n=Sy(e,t,n,r),n!==null){var i=sr();yi(n,e,r,i),qy(n,t,r)}}function LS(e,t,n){var r=Hs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vy(e))Uy(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,xi(a,o)){var l=t.interleaved;l===null?(i.next=i,M1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Sy(e,t,i,r),n!==null&&(i=sr(),yi(n,e,r,i),qy(n,t,r))}}function Vy(e){var t=e.alternate;return e===nn||t!==null&&t===nn}function Uy(e,t){hu=of=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,S1(e,n)}}var af={readContext:ti,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},CS={readContext:ti,useCallback:function(e,t){return ki().memoizedState=[e,t===void 0?null:t],e},useContext:ti,useEffect:Zg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cd(4194308,4,Ry.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cd(4,2,e,t)},useMemo:function(e,t){var n=ki();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ki();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=AS.bind(null,nn,e),[r.memoizedState,e]},useRef:function(e){var t=ki();return e={current:e},t.memoizedState=e},useState:Qg,useDebugValue:H1,useDeferredValue:function(e){return ki().memoizedState=e},useTransition:function(){var e=Qg(!1),t=e[0];return e=jS.bind(null,e[1]),ki().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=nn,i=ki();if(Xt){if(n===void 0)throw Error(Pe(407));n=n()}else{if(n=t(),Tn===null)throw Error(Pe(349));Ro&30||Cy(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Zg(ky.bind(null,r,s,e),[e]),r.flags|=2048,Du(9,Py.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ki(),t=Tn.identifierPrefix;if(Xt){var n=Zi,r=Qi;n=(r&~(1<<32-vi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ru++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=NS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PS={readContext:ti,useCallback:Dy,useContext:ti,useEffect:$1,useImperativeHandle:My,useInsertionEffect:Ty,useLayoutEffect:Iy,useMemo:Oy,useReducer:cp,useRef:Fy,useState:function(){return cp(Mu)},useDebugValue:H1,useDeferredValue:function(e){var t=ni();return By(t,An.memoizedState,e)},useTransition:function(){var e=cp(Mu)[0],t=ni().memoizedState;return[e,t]},useMutableSource:Ay,useSyncExternalStore:Ly,useId:zy,unstable_isNewReconciler:!1},kS={readContext:ti,useCallback:Dy,useContext:ti,useEffect:$1,useImperativeHandle:My,useInsertionEffect:Ty,useLayoutEffect:Iy,useMemo:Oy,useReducer:dp,useRef:Fy,useState:function(){return dp(Mu)},useDebugValue:H1,useDeferredValue:function(e){var t=ni();return An===null?t.memoizedState=e:By(t,An.memoizedState,e)},useTransition:function(){var e=dp(Mu)[0],t=ni().memoizedState;return[e,t]},useMutableSource:Ay,useSyncExternalStore:Ly,useId:zy,unstable_isNewReconciler:!1};function di(e,t){if(e&&e.defaultProps){t=sn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:sn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var If={isMounted:function(e){return(e=e._reactInternals)?Bo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sr(),i=Hs(e),s=ts(r,i);s.payload=t,n!=null&&(s.callback=n),t=qs(e,s,i),t!==null&&(yi(t,e,i,r),Ad(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sr(),i=Hs(e),s=ts(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=qs(e,s,i),t!==null&&(yi(t,e,i,r),Ad(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sr(),r=Hs(e),i=ts(n,r);i.tag=2,t!=null&&(i.callback=t),t=qs(e,i,r),t!==null&&(yi(t,e,r,n),Ad(t,e,r))}};function e2(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ku(n,r)||!ku(i,s):!0}function $y(e,t,n){var r=!1,i=Js,s=t.contextType;return typeof s=="object"&&s!==null?s=ti(s):(i=xr(t)?To:Qn.current,r=t.contextTypes,s=(r=r!=null)?Ja(e,i):Js),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=If,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function t2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&If.enqueueReplaceState(t,t.state,null)}function ym(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},D1(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ti(s):(s=xr(t)?To:Qn.current,i.context=Ja(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(vm(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&If.enqueueReplaceState(i,i.state,null),rf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function el(e,t){try{var n="",r=t;do n+=rb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function fp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _S=typeof WeakMap=="function"?WeakMap:Map;function Hy(e,t,n){n=ts(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){uf||(uf=!0,km=r),xm(e,t)},n}function Wy(e,t,n){n=ts(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){xm(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xm(e,t),typeof r!="function"&&($s===null?$s=new Set([this]):$s.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function n2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _S;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$S.bind(null,e,t,n),t.then(e,e))}function r2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function i2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ts(-1,1),t.tag=2,qs(n,t,1))),n.lanes|=1),e)}var ES=ds.ReactCurrentOwner,vr=!1;function ir(e,t,n,r){t.child=e===null?by(t,null,n,r):Qa(t,e.child,n,r)}function s2(e,t,n,r,i){n=n.render;var s=t.ref;return qa(t,i),r=U1(e,t,n,r,s,i),n=q1(),e!==null&&!vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ls(e,t,i)):(Xt&&n&&_1(t),t.flags|=1,ir(e,t,r,i),t.child)}function o2(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Z1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Gy(e,t,s,r,i)):(e=Ed(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ku,n(o,r)&&e.ref===t.ref)return ls(e,t,i)}return t.flags|=1,e=Ws(s,r),e.ref=t.ref,e.return=t,t.child=e}function Gy(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ku(s,r)&&e.ref===t.ref)if(vr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(vr=!0);else return t.lanes=e.lanes,ls(e,t,i)}return wm(e,t,n,r,i)}function Yy(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Ta,Er),Er|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$t(Ta,Er),Er|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$t(Ta,Er),Er|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,$t(Ta,Er),Er|=r;return ir(e,t,i,n),t.child}function Ky(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function wm(e,t,n,r,i){var s=xr(n)?To:Qn.current;return s=Ja(t,s),qa(t,i),n=U1(e,t,n,r,s,i),r=q1(),e!==null&&!vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ls(e,t,i)):(Xt&&r&&_1(t),t.flags|=1,ir(e,t,n,i),t.child)}function a2(e,t,n,r,i){if(xr(n)){var s=!0;Qd(t)}else s=!1;if(qa(t,i),t.stateNode===null)Pd(e,t),$y(t,n,r),ym(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=ti(d):(d=xr(n)?To:Qn.current,d=Ja(t,d));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&t2(t,o,r,d),Fs=!1;var g=t.memoizedState;o.state=g,rf(t,r,o,i),l=t.memoizedState,a!==r||g!==l||yr.current||Fs?(typeof p=="function"&&(vm(t,n,p,r),l=t.memoizedState),(a=Fs||e2(t,n,a,r,g,l,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ny(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:di(t.type,a),o.props=d,h=t.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ti(l):(l=xr(n)?To:Qn.current,l=Ja(t,l));var m=n.getDerivedStateFromProps;(p=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==l)&&t2(t,o,r,l),Fs=!1,g=t.memoizedState,o.state=g,rf(t,r,o,i);var N=t.memoizedState;a!==h||g!==N||yr.current||Fs?(typeof m=="function"&&(vm(t,n,m,r),N=t.memoizedState),(d=Fs||e2(t,n,d,r,g,N,l)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,N,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,N,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),o.props=r,o.state=N,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return bm(e,t,n,r,s,i)}function bm(e,t,n,r,i,s){Ky(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Wg(t,n,!1),ls(e,t,s);r=t.stateNode,ES.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Qa(t,e.child,null,s),t.child=Qa(t,null,a,s)):ir(e,t,a,s),t.memoizedState=r.state,i&&Wg(t,n,!0),t.child}function Jy(e){var t=e.stateNode;t.pendingContext?Hg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hg(e,t.context,!1),O1(e,t.containerInfo)}function l2(e,t,n,r,i){return Xa(),F1(i),t.flags|=256,ir(e,t,n,r),t.child}var Sm={dehydrated:null,treeContext:null,retryLane:0};function Nm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xy(e,t,n){var r=t.pendingProps,i=en.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$t(en,i&1),e===null)return mm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Df(o,r,0,null),e=Eo(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Nm(n),t.memoizedState=Sm,e):W1(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FS(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ws(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ws(a,s):(s=Eo(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Nm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Sm,r}return s=e.child,e=s.sibling,r=Ws(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function W1(e,t){return t=Df({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sd(e,t,n,r){return r!==null&&F1(r),Qa(t,e.child,null,n),e=W1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function FS(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=fp(Error(Pe(422))),sd(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Df({mode:"visible",children:r.children},i,0,null),s=Eo(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Qa(t,e.child,null,o),t.child.memoizedState=Nm(o),t.memoizedState=Sm,s);if(!(t.mode&1))return sd(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Pe(419)),r=fp(s,r,void 0),sd(e,t,o,r)}if(a=(o&e.childLanes)!==0,vr||a){if(r=Tn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,as(e,i),yi(r,e,i,-1))}return Q1(),r=fp(Error(Pe(421))),sd(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=HS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Tr=Us(i.nextSibling),Rr=t,Xt=!0,pi=null,e!==null&&(Xr[Qr++]=Qi,Xr[Qr++]=Zi,Xr[Qr++]=Io,Qi=e.id,Zi=e.overflow,Io=t),t=W1(t,r.children),t.flags|=4096,t)}function u2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gm(e.return,t,n)}function hp(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Qy(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ir(e,t,r.children,n),r=en.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&u2(e,n,t);else if(e.tag===19)u2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($t(en,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&sf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),hp(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&sf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}hp(t,!0,n,null,s);break;case"together":hp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ls(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Pe(153));if(t.child!==null){for(e=t.child,n=Ws(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ws(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function TS(e,t,n){switch(t.tag){case 3:Jy(t),Xa();break;case 5:jy(t);break;case 1:xr(t.type)&&Qd(t);break;case 4:O1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;$t(tf,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($t(en,en.current&1),t.flags|=128,null):n&t.child.childLanes?Xy(e,t,n):($t(en,en.current&1),e=ls(e,t,n),e!==null?e.sibling:null);$t(en,en.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Qy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(en,en.current),r)break;return null;case 22:case 23:return t.lanes=0,Yy(e,t,n)}return ls(e,t,n)}var Zy,jm,ex,tx;Zy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jm=function(){};ex=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Po(Ti.current);var s=null;switch(n){case"input":i=Wp(e,i),r=Wp(e,r),s=[];break;case"select":i=sn({},i,{value:void 0}),r=sn({},r,{value:void 0}),s=[];break;case"textarea":i=Kp(e,i),r=Kp(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jd)}Xp(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Su.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(a=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Su.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Gt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};tx=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wl(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $n(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function IS(e,t,n){var r=t.pendingProps;switch(E1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(t),null;case 1:return xr(t.type)&&Xd(),$n(t),null;case 3:return r=t.stateNode,Za(),Kt(yr),Kt(Qn),z1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(rd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pi!==null&&(Fm(pi),pi=null))),jm(e,t),$n(t),null;case 5:B1(t);var i=Po(Iu.current);if(n=t.type,e!==null&&t.stateNode!=null)ex(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Pe(166));return $n(t),null}if(e=Po(Ti.current),rd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[_i]=t,r[Fu]=s,e=(t.mode&1)!==0,n){case"dialog":Gt("cancel",r),Gt("close",r);break;case"iframe":case"object":case"embed":Gt("load",r);break;case"video":case"audio":for(i=0;i<ou.length;i++)Gt(ou[i],r);break;case"source":Gt("error",r);break;case"img":case"image":case"link":Gt("error",r),Gt("load",r);break;case"details":Gt("toggle",r);break;case"input":yg(r,s),Gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Gt("invalid",r);break;case"textarea":wg(r,s),Gt("invalid",r)}Xp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&nd(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&nd(r.textContent,a,e),i=["children",""+a]):Su.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Gt("scroll",r)}switch(n){case"input":Yc(r),xg(r,s,!0);break;case"textarea":Yc(r),bg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[_i]=t,e[Fu]=r,Zy(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qp(n,r),n){case"dialog":Gt("cancel",e),Gt("close",e),i=r;break;case"iframe":case"object":case"embed":Gt("load",e),i=r;break;case"video":case"audio":for(i=0;i<ou.length;i++)Gt(ou[i],e);i=r;break;case"source":Gt("error",e),i=r;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),i=r;break;case"details":Gt("toggle",e),i=r;break;case"input":yg(e,r),i=Wp(e,r),Gt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=sn({},r,{value:void 0}),Gt("invalid",e);break;case"textarea":wg(e,r),i=Kp(e,r),Gt("invalid",e);break;default:i=r}Xp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Fv(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_v(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Nu(e,l):typeof l=="number"&&Nu(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Su.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Gt("scroll",e):l!=null&&g1(e,s,l,o))}switch(n){case"input":Yc(e),xg(e,r,!1);break;case"textarea":Yc(e),bg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ks(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ba(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ba(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Jd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $n(t),null;case 6:if(e&&t.stateNode!=null)tx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Pe(166));if(n=Po(Iu.current),Po(Ti.current),rd(t)){if(r=t.stateNode,n=t.memoizedProps,r[_i]=t,(s=r.nodeValue!==n)&&(e=Rr,e!==null))switch(e.tag){case 3:nd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nd(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_i]=t,t.stateNode=r}return $n(t),null;case 13:if(Kt(en),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&Tr!==null&&t.mode&1&&!(t.flags&128))xy(),Xa(),t.flags|=98560,s=!1;else if(s=rd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Pe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Pe(317));s[_i]=t}else Xa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$n(t),s=!1}else pi!==null&&(Fm(pi),pi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||en.current&1?Ln===0&&(Ln=3):Q1())),t.updateQueue!==null&&(t.flags|=4),$n(t),null);case 4:return Za(),jm(e,t),e===null&&_u(t.stateNode.containerInfo),$n(t),null;case 10:return R1(t.type._context),$n(t),null;case 17:return xr(t.type)&&Xd(),$n(t),null;case 19:if(Kt(en),s=t.memoizedState,s===null)return $n(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Wl(s,!1);else{if(Ln!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sf(e),o!==null){for(t.flags|=128,Wl(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $t(en,en.current&1|2),t.child}e=e.sibling}s.tail!==null&&pn()>tl&&(t.flags|=128,r=!0,Wl(s,!1),t.lanes=4194304)}else{if(!r)if(e=sf(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xt)return $n(t),null}else 2*pn()-s.renderingStartTime>tl&&n!==1073741824&&(t.flags|=128,r=!0,Wl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=pn(),t.sibling=null,n=en.current,$t(en,r?n&1|2:n&1),t):($n(t),null);case 22:case 23:return X1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Er&1073741824&&($n(t),t.subtreeFlags&6&&(t.flags|=8192)):$n(t),null;case 24:return null;case 25:return null}throw Error(Pe(156,t.tag))}function RS(e,t){switch(E1(t),t.tag){case 1:return xr(t.type)&&Xd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Za(),Kt(yr),Kt(Qn),z1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return B1(t),null;case 13:if(Kt(en),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Pe(340));Xa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kt(en),null;case 4:return Za(),null;case 10:return R1(t.type._context),null;case 22:case 23:return X1(),null;case 24:return null;default:return null}}var od=!1,Jn=!1,MS=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Fa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){un(e,t,r)}else n.current=null}function Am(e,t,n){try{n()}catch(r){un(e,t,r)}}var c2=!1;function DS(e,t){if(lm=Gd,e=oy(),k1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,p=0,h=e,g=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)g=h,h=m;for(;;){if(h===e)break t;if(g===n&&++d===i&&(a=o),g===s&&++p===r&&(l=o),(m=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(um={focusedElem:e,selectionRange:n},Gd=!1,ze=t;ze!==null;)if(t=ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ze=e;else for(;ze!==null;){t=ze;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var j=N.memoizedProps,L=N.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?j:di(t.type,j),L);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(T){un(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,ze=e;break}ze=t.return}return N=c2,c2=!1,N}function pu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Am(t,n,s)}i=i.next}while(i!==r)}}function Rf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Lm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function nx(e){var t=e.alternate;t!==null&&(e.alternate=null,nx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_i],delete t[Fu],delete t[fm],delete t[xS],delete t[wS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rx(e){return e.tag===5||e.tag===3||e.tag===4}function d2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jd));else if(r!==4&&(e=e.child,e!==null))for(Cm(e,t,n),e=e.sibling;e!==null;)Cm(e,t,n),e=e.sibling}function Pm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Pm(e,t,n),e=e.sibling;e!==null;)Pm(e,t,n),e=e.sibling}var Mn=null,hi=!1;function Cs(e,t,n){for(n=n.child;n!==null;)ix(e,t,n),n=n.sibling}function ix(e,t,n){if(Fi&&typeof Fi.onCommitFiberUnmount=="function")try{Fi.onCommitFiberUnmount(Cf,n)}catch{}switch(n.tag){case 5:Jn||Fa(n,t);case 6:var r=Mn,i=hi;Mn=null,Cs(e,t,n),Mn=r,hi=i,Mn!==null&&(hi?(e=Mn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Mn.removeChild(n.stateNode));break;case 18:Mn!==null&&(hi?(e=Mn,n=n.stateNode,e.nodeType===8?op(e.parentNode,n):e.nodeType===1&&op(e,n),Cu(e)):op(Mn,n.stateNode));break;case 4:r=Mn,i=hi,Mn=n.stateNode.containerInfo,hi=!0,Cs(e,t,n),Mn=r,hi=i;break;case 0:case 11:case 14:case 15:if(!Jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Am(n,t,o),i=i.next}while(i!==r)}Cs(e,t,n);break;case 1:if(!Jn&&(Fa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){un(n,t,a)}Cs(e,t,n);break;case 21:Cs(e,t,n);break;case 22:n.mode&1?(Jn=(r=Jn)||n.memoizedState!==null,Cs(e,t,n),Jn=r):Cs(e,t,n);break;default:Cs(e,t,n)}}function f2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new MS),t.forEach(function(r){var i=WS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function li(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mn=a.stateNode,hi=!1;break e;case 3:Mn=a.stateNode.containerInfo,hi=!0;break e;case 4:Mn=a.stateNode.containerInfo,hi=!0;break e}a=a.return}if(Mn===null)throw Error(Pe(160));ix(s,o,i),Mn=null,hi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){un(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sx(t,e),t=t.sibling}function sx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(li(t,e),Ci(e),r&4){try{pu(3,e,e.return),Rf(3,e)}catch(j){un(e,e.return,j)}try{pu(5,e,e.return)}catch(j){un(e,e.return,j)}}break;case 1:li(t,e),Ci(e),r&512&&n!==null&&Fa(n,n.return);break;case 5:if(li(t,e),Ci(e),r&512&&n!==null&&Fa(n,n.return),e.flags&32){var i=e.stateNode;try{Nu(i,"")}catch(j){un(e,e.return,j)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Cv(i,s),Qp(a,o);var d=Qp(a,s);for(o=0;o<l.length;o+=2){var p=l[o],h=l[o+1];p==="style"?Fv(i,h):p==="dangerouslySetInnerHTML"?_v(i,h):p==="children"?Nu(i,h):g1(i,p,h,d)}switch(a){case"input":Gp(i,s);break;case"textarea":Pv(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ba(i,!!s.multiple,m,!1):g!==!!s.multiple&&(s.defaultValue!=null?Ba(i,!!s.multiple,s.defaultValue,!0):Ba(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fu]=s}catch(j){un(e,e.return,j)}}break;case 6:if(li(t,e),Ci(e),r&4){if(e.stateNode===null)throw Error(Pe(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(j){un(e,e.return,j)}}break;case 3:if(li(t,e),Ci(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cu(t.containerInfo)}catch(j){un(e,e.return,j)}break;case 4:li(t,e),Ci(e);break;case 13:li(t,e),Ci(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(K1=pn())),r&4&&f2(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Jn=(d=Jn)||p,li(t,e),Jn=d):li(t,e),Ci(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(ze=e,p=e.child;p!==null;){for(h=ze=p;ze!==null;){switch(g=ze,m=g.child,g.tag){case 0:case 11:case 14:case 15:pu(4,g,g.return);break;case 1:Fa(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(j){un(r,n,j)}}break;case 5:Fa(g,g.return);break;case 22:if(g.memoizedState!==null){p2(h);continue}}m!==null?(m.return=g,ze=m):p2(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{i=h.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ev("display",o))}catch(j){un(e,e.return,j)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(j){un(e,e.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:li(t,e),Ci(e),r&4&&f2(e);break;case 21:break;default:li(t,e),Ci(e)}}function Ci(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rx(n)){var r=n;break e}n=n.return}throw Error(Pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Nu(i,""),r.flags&=-33);var s=d2(e);Pm(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=d2(e);Cm(e,a,o);break;default:throw Error(Pe(161))}}catch(l){un(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OS(e,t,n){ze=e,ox(e)}function ox(e,t,n){for(var r=(e.mode&1)!==0;ze!==null;){var i=ze,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||od;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jn;a=od;var d=Jn;if(od=o,(Jn=l)&&!d)for(ze=i;ze!==null;)o=ze,l=o.child,o.tag===22&&o.memoizedState!==null?m2(i):l!==null?(l.return=o,ze=l):m2(i);for(;s!==null;)ze=s,ox(s),s=s.sibling;ze=i,od=a,Jn=d}h2(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ze=s):h2(e)}}function h2(e){for(;ze!==null;){var t=ze;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jn||Rf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Jn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:di(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Xg(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xg(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&Cu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}Jn||t.flags&512&&Lm(t)}catch(g){un(t,t.return,g)}}if(t===e){ze=null;break}if(n=t.sibling,n!==null){n.return=t.return,ze=n;break}ze=t.return}}function p2(e){for(;ze!==null;){var t=ze;if(t===e){ze=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ze=n;break}ze=t.return}}function m2(e){for(;ze!==null;){var t=ze;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Rf(4,t)}catch(l){un(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){un(t,i,l)}}var s=t.return;try{Lm(t)}catch(l){un(t,s,l)}break;case 5:var o=t.return;try{Lm(t)}catch(l){un(t,o,l)}}}catch(l){un(t,t.return,l)}if(t===e){ze=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ze=a;break}ze=t.return}}var BS=Math.ceil,lf=ds.ReactCurrentDispatcher,G1=ds.ReactCurrentOwner,ei=ds.ReactCurrentBatchConfig,Nt=0,Tn=null,Sn=null,On=0,Er=0,Ta=no(0),Ln=0,Ou=null,Mo=0,Mf=0,Y1=0,mu=null,gr=null,K1=0,tl=1/0,Ji=null,uf=!1,km=null,$s=null,ad=!1,Ds=null,cf=0,gu=0,_m=null,kd=-1,_d=0;function sr(){return Nt&6?pn():kd!==-1?kd:kd=pn()}function Hs(e){return e.mode&1?Nt&2&&On!==0?On&-On:SS.transition!==null?(_d===0&&(_d=$v()),_d):(e=Tt,e!==0||(e=window.event,e=e===void 0?16:Xv(e.type)),e):1}function yi(e,t,n,r){if(50<gu)throw gu=0,_m=null,Error(Pe(185));Hu(e,n,r),(!(Nt&2)||e!==Tn)&&(e===Tn&&(!(Nt&2)&&(Mf|=n),Ln===4&&Rs(e,On)),wr(e,r),n===1&&Nt===0&&!(t.mode&1)&&(tl=pn()+500,Ff&&ro()))}function wr(e,t){var n=e.callbackNode;Sb(e,t);var r=Wd(e,e===Tn?On:0);if(r===0)n!==null&&jg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jg(n),t===1)e.tag===0?bS(g2.bind(null,e)):gy(g2.bind(null,e)),vS(function(){!(Nt&6)&&ro()}),n=null;else{switch(Hv(r)){case 1:n=b1;break;case 4:n=Uv;break;case 16:n=Hd;break;case 536870912:n=qv;break;default:n=Hd}n=px(n,ax.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ax(e,t){if(kd=-1,_d=0,Nt&6)throw Error(Pe(327));var n=e.callbackNode;if($a()&&e.callbackNode!==n)return null;var r=Wd(e,e===Tn?On:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=df(e,r);else{t=r;var i=Nt;Nt|=2;var s=ux();(Tn!==e||On!==t)&&(Ji=null,tl=pn()+500,_o(e,t));do try{US();break}catch(a){lx(e,a)}while(1);I1(),lf.current=s,Nt=i,Sn!==null?t=0:(Tn=null,On=0,t=Ln)}if(t!==0){if(t===2&&(i=rm(e),i!==0&&(r=i,t=Em(e,i))),t===1)throw n=Ou,_o(e,0),Rs(e,r),wr(e,pn()),n;if(t===6)Rs(e,r);else{if(i=e.current.alternate,!(r&30)&&!zS(i)&&(t=df(e,r),t===2&&(s=rm(e),s!==0&&(r=s,t=Em(e,s))),t===1))throw n=Ou,_o(e,0),Rs(e,r),wr(e,pn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Pe(345));case 2:wo(e,gr,Ji);break;case 3:if(Rs(e,r),(r&130023424)===r&&(t=K1+500-pn(),10<t)){if(Wd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){sr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=dm(wo.bind(null,e,gr,Ji),t);break}wo(e,gr,Ji);break;case 4:if(Rs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-vi(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BS(r/1960))-r,10<r){e.timeoutHandle=dm(wo.bind(null,e,gr,Ji),r);break}wo(e,gr,Ji);break;case 5:wo(e,gr,Ji);break;default:throw Error(Pe(329))}}}return wr(e,pn()),e.callbackNode===n?ax.bind(null,e):null}function Em(e,t){var n=mu;return e.current.memoizedState.isDehydrated&&(_o(e,t).flags|=256),e=df(e,t),e!==2&&(t=gr,gr=n,t!==null&&Fm(t)),e}function Fm(e){gr===null?gr=e:gr.push.apply(gr,e)}function zS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xi(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rs(e,t){for(t&=~Y1,t&=~Mf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vi(t),r=1<<n;e[n]=-1,t&=~r}}function g2(e){if(Nt&6)throw Error(Pe(327));$a();var t=Wd(e,0);if(!(t&1))return wr(e,pn()),null;var n=df(e,t);if(e.tag!==0&&n===2){var r=rm(e);r!==0&&(t=r,n=Em(e,r))}if(n===1)throw n=Ou,_o(e,0),Rs(e,t),wr(e,pn()),n;if(n===6)throw Error(Pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wo(e,gr,Ji),wr(e,pn()),null}function J1(e,t){var n=Nt;Nt|=1;try{return e(t)}finally{Nt=n,Nt===0&&(tl=pn()+500,Ff&&ro())}}function Do(e){Ds!==null&&Ds.tag===0&&!(Nt&6)&&$a();var t=Nt;Nt|=1;var n=ei.transition,r=Tt;try{if(ei.transition=null,Tt=1,e)return e()}finally{Tt=r,ei.transition=n,Nt=t,!(Nt&6)&&ro()}}function X1(){Er=Ta.current,Kt(Ta)}function _o(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gS(n)),Sn!==null)for(n=Sn.return;n!==null;){var r=n;switch(E1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xd();break;case 3:Za(),Kt(yr),Kt(Qn),z1();break;case 5:B1(r);break;case 4:Za();break;case 13:Kt(en);break;case 19:Kt(en);break;case 10:R1(r.type._context);break;case 22:case 23:X1()}n=n.return}if(Tn=e,Sn=e=Ws(e.current,null),On=Er=t,Ln=0,Ou=null,Y1=Mf=Mo=0,gr=mu=null,Co!==null){for(t=0;t<Co.length;t++)if(n=Co[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Co=null}return e}function lx(e,t){do{var n=Sn;try{if(I1(),Ld.current=af,of){for(var r=nn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}of=!1}if(Ro=0,En=An=nn=null,hu=!1,Ru=0,G1.current=null,n===null||n.return===null){Ln=1,Ou=t,Sn=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=On,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,p=a,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=r2(o);if(m!==null){m.flags&=-257,i2(m,o,a,s,t),m.mode&1&&n2(s,d,t),t=m,l=d;var N=t.updateQueue;if(N===null){var j=new Set;j.add(l),t.updateQueue=j}else N.add(l);break e}else{if(!(t&1)){n2(s,d,t),Q1();break e}l=Error(Pe(426))}}else if(Xt&&a.mode&1){var L=r2(o);if(L!==null){!(L.flags&65536)&&(L.flags|=256),i2(L,o,a,s,t),F1(el(l,a));break e}}s=l=el(l,a),Ln!==4&&(Ln=2),mu===null?mu=[s]:mu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var w=Hy(s,l,t);Jg(s,w);break e;case 1:a=l;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&($s===null||!$s.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=Wy(s,a,t);Jg(s,T);break e}}s=s.return}while(s!==null)}dx(n)}catch(q){t=q,Sn===n&&n!==null&&(Sn=n=n.return);continue}break}while(1)}function ux(){var e=lf.current;return lf.current=af,e===null?af:e}function Q1(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),Tn===null||!(Mo&268435455)&&!(Mf&268435455)||Rs(Tn,On)}function df(e,t){var n=Nt;Nt|=2;var r=ux();(Tn!==e||On!==t)&&(Ji=null,_o(e,t));do try{VS();break}catch(i){lx(e,i)}while(1);if(I1(),Nt=n,lf.current=r,Sn!==null)throw Error(Pe(261));return Tn=null,On=0,Ln}function VS(){for(;Sn!==null;)cx(Sn)}function US(){for(;Sn!==null&&!hb();)cx(Sn)}function cx(e){var t=hx(e.alternate,e,Er);e.memoizedProps=e.pendingProps,t===null?dx(e):Sn=t,G1.current=null}function dx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=RS(n,t),n!==null){n.flags&=32767,Sn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ln=6,Sn=null;return}}else if(n=IS(n,t,Er),n!==null){Sn=n;return}if(t=t.sibling,t!==null){Sn=t;return}Sn=t=e}while(t!==null);Ln===0&&(Ln=5)}function wo(e,t,n){var r=Tt,i=ei.transition;try{ei.transition=null,Tt=1,qS(e,t,n,r)}finally{ei.transition=i,Tt=r}return null}function qS(e,t,n,r){do $a();while(Ds!==null);if(Nt&6)throw Error(Pe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Pe(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Nb(e,s),e===Tn&&(Sn=Tn=null,On=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ad||(ad=!0,px(Hd,function(){return $a(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ei.transition,ei.transition=null;var o=Tt;Tt=1;var a=Nt;Nt|=4,G1.current=null,DS(e,n),sx(n,e),uS(um),Gd=!!lm,um=lm=null,e.current=n,OS(n),pb(),Nt=a,Tt=o,ei.transition=s}else e.current=n;if(ad&&(ad=!1,Ds=e,cf=i),s=e.pendingLanes,s===0&&($s=null),vb(n.stateNode),wr(e,pn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(uf)throw uf=!1,e=km,km=null,e;return cf&1&&e.tag!==0&&$a(),s=e.pendingLanes,s&1?e===_m?gu++:(gu=0,_m=e):gu=0,ro(),null}function $a(){if(Ds!==null){var e=Hv(cf),t=ei.transition,n=Tt;try{if(ei.transition=null,Tt=16>e?16:e,Ds===null)var r=!1;else{if(e=Ds,Ds=null,cf=0,Nt&6)throw Error(Pe(331));var i=Nt;for(Nt|=4,ze=e.current;ze!==null;){var s=ze,o=s.child;if(ze.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(ze=d;ze!==null;){var p=ze;switch(p.tag){case 0:case 11:case 15:pu(8,p,s)}var h=p.child;if(h!==null)h.return=p,ze=h;else for(;ze!==null;){p=ze;var g=p.sibling,m=p.return;if(nx(p),p===d){ze=null;break}if(g!==null){g.return=m,ze=g;break}ze=m}}}var N=s.alternate;if(N!==null){var j=N.child;if(j!==null){N.child=null;do{var L=j.sibling;j.sibling=null,j=L}while(j!==null)}}ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ze=o;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ze=w;break e}ze=s.return}}var x=e.current;for(ze=x;ze!==null;){o=ze;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ze=b;else e:for(o=x;ze!==null;){if(a=ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rf(9,a)}}catch(q){un(a,a.return,q)}if(a===o){ze=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,ze=T;break e}ze=a.return}}if(Nt=i,ro(),Fi&&typeof Fi.onPostCommitFiberRoot=="function")try{Fi.onPostCommitFiberRoot(Cf,e)}catch{}r=!0}return r}finally{Tt=n,ei.transition=t}}return!1}function v2(e,t,n){t=el(n,t),t=Hy(e,t,1),e=qs(e,t,1),t=sr(),e!==null&&(Hu(e,1,t),wr(e,t))}function un(e,t,n){if(e.tag===3)v2(e,e,n);else for(;t!==null;){if(t.tag===3){v2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($s===null||!$s.has(r))){e=el(n,e),e=Wy(t,e,1),t=qs(t,e,1),e=sr(),t!==null&&(Hu(t,1,e),wr(t,e));break}}t=t.return}}function $S(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=sr(),e.pingedLanes|=e.suspendedLanes&n,Tn===e&&(On&n)===n&&(Ln===4||Ln===3&&(On&130023424)===On&&500>pn()-K1?_o(e,0):Y1|=n),wr(e,t)}function fx(e,t){t===0&&(e.mode&1?(t=Xc,Xc<<=1,!(Xc&130023424)&&(Xc=4194304)):t=1);var n=sr();e=as(e,t),e!==null&&(Hu(e,t,n),wr(e,n))}function HS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fx(e,n)}function WS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Pe(314))}r!==null&&r.delete(t),fx(e,n)}var hx;hx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yr.current)vr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vr=!1,TS(e,t,n);vr=!!(e.flags&131072)}else vr=!1,Xt&&t.flags&1048576&&vy(t,ef,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pd(e,t),e=t.pendingProps;var i=Ja(t,Qn.current);qa(t,n),i=U1(null,t,r,e,i,n);var s=q1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xr(r)?(s=!0,Qd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,D1(t),i.updater=If,t.stateNode=i,i._reactInternals=t,ym(t,r,e,n),t=bm(null,t,r,!0,s,n)):(t.tag=0,Xt&&s&&_1(t),ir(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=YS(r),e=di(r,e),i){case 0:t=wm(null,t,r,e,n);break e;case 1:t=a2(null,t,r,e,n);break e;case 11:t=s2(null,t,r,e,n);break e;case 14:t=o2(null,t,r,di(r.type,e),n);break e}throw Error(Pe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:di(r,i),wm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:di(r,i),a2(e,t,r,i,n);case 3:e:{if(Jy(t),e===null)throw Error(Pe(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Ny(e,t),rf(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=el(Error(Pe(423)),t),t=l2(e,t,r,n,i);break e}else if(r!==i){i=el(Error(Pe(424)),t),t=l2(e,t,r,n,i);break e}else for(Tr=Us(t.stateNode.containerInfo.firstChild),Rr=t,Xt=!0,pi=null,n=by(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xa(),r===i){t=ls(e,t,n);break e}ir(e,t,r,n)}t=t.child}return t;case 5:return jy(t),e===null&&mm(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,cm(r,i)?o=null:s!==null&&cm(r,s)&&(t.flags|=32),Ky(e,t),ir(e,t,o,n),t.child;case 6:return e===null&&mm(t),null;case 13:return Xy(e,t,n);case 4:return O1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qa(t,null,r,n):ir(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:di(r,i),s2(e,t,r,i,n);case 7:return ir(e,t,t.pendingProps,n),t.child;case 8:return ir(e,t,t.pendingProps.children,n),t.child;case 12:return ir(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,$t(tf,r._currentValue),r._currentValue=o,s!==null)if(xi(s.value,o)){if(s.children===i.children&&!yr.current){t=ls(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ts(-1,n&-n),l.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?l.next=l:(l.next=p.next,p.next=l),d.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),gm(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Pe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gm(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ir(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,qa(t,n),i=ti(i),r=r(i),t.flags|=1,ir(e,t,r,n),t.child;case 14:return r=t.type,i=di(r,t.pendingProps),i=di(r.type,i),o2(e,t,r,i,n);case 15:return Gy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:di(r,i),Pd(e,t),t.tag=1,xr(r)?(e=!0,Qd(t)):e=!1,qa(t,n),$y(t,r,i),ym(t,r,i,n),bm(null,t,r,!0,e,n);case 19:return Qy(e,t,n);case 22:return Yy(e,t,n)}throw Error(Pe(156,t.tag))};function px(e,t){return Vv(e,t)}function GS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(e,t,n,r){return new GS(e,t,n,r)}function Z1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function YS(e){if(typeof e=="function")return Z1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===y1)return 11;if(e===x1)return 14}return 2}function Ws(e,t){var n=e.alternate;return n===null?(n=Zr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ed(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Z1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Na:return Eo(n.children,i,s,t);case v1:o=8,i|=8;break;case Up:return e=Zr(12,n,t,i|2),e.elementType=Up,e.lanes=s,e;case qp:return e=Zr(13,n,t,i),e.elementType=qp,e.lanes=s,e;case $p:return e=Zr(19,n,t,i),e.elementType=$p,e.lanes=s,e;case jv:return Df(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sv:o=10;break e;case Nv:o=9;break e;case y1:o=11;break e;case x1:o=14;break e;case Es:o=16,r=null;break e}throw Error(Pe(130,e==null?e:typeof e,""))}return t=Zr(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Eo(e,t,n,r){return e=Zr(7,e,r,t),e.lanes=n,e}function Df(e,t,n,r){return e=Zr(22,e,r,t),e.elementType=jv,e.lanes=n,e.stateNode={isHidden:!1},e}function pp(e,t,n){return e=Zr(6,e,null,t),e.lanes=n,e}function mp(e,t,n){return t=Zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kh(0),this.expirationTimes=Kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function e0(e,t,n,r,i,s,o,a,l){return e=new KS(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Zr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},D1(s),e}function JS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function mx(e){if(!e)return Js;e=e._reactInternals;e:{if(Bo(e)!==e||e.tag!==1)throw Error(Pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Pe(171))}if(e.tag===1){var n=e.type;if(xr(n))return my(e,n,t)}return t}function gx(e,t,n,r,i,s,o,a,l){return e=e0(n,r,!0,e,i,s,o,a,l),e.context=mx(null),n=e.current,r=sr(),i=Hs(n),s=ts(r,i),s.callback=t??null,qs(n,s,i),e.current.lanes=i,Hu(e,i,r),wr(e,r),e}function Of(e,t,n,r){var i=t.current,s=sr(),o=Hs(i);return n=mx(n),t.context===null?t.context=n:t.pendingContext=n,t=ts(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qs(i,t,o),e!==null&&(yi(e,i,o,s),Ad(e,i,o)),o}function ff(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function y2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function t0(e,t){y2(e,t),(e=e.alternate)&&y2(e,t)}function XS(){return null}var vx=typeof reportError=="function"?reportError:function(e){console.error(e)};function n0(e){this._internalRoot=e}Bf.prototype.render=n0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Pe(409));Of(e,t,null,null)};Bf.prototype.unmount=n0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Do(function(){Of(null,e,null,null)}),t[os]=null}};function Bf(e){this._internalRoot=e}Bf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Is.length&&t!==0&&t<Is[n].priority;n++);Is.splice(n,0,e),n===0&&Jv(e)}};function r0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function x2(){}function QS(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=ff(o);s.call(d)}}var o=gx(t,r,e,0,null,!1,!1,"",x2);return e._reactRootContainer=o,e[os]=o.current,_u(e.nodeType===8?e.parentNode:e),Do(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var d=ff(l);a.call(d)}}var l=e0(e,0,!1,null,null,!1,!1,"",x2);return e._reactRootContainer=l,e[os]=l.current,_u(e.nodeType===8?e.parentNode:e),Do(function(){Of(t,l,n,r)}),l}function Vf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ff(o);a.call(l)}}Of(t,o,e,i)}else o=QS(n,t,e,i,r);return ff(o)}Wv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=su(t.pendingLanes);n!==0&&(S1(t,n|1),wr(t,pn()),!(Nt&6)&&(tl=pn()+500,ro()))}break;case 13:Do(function(){var r=as(e,1);if(r!==null){var i=sr();yi(r,e,1,i)}}),t0(e,1)}};N1=function(e){if(e.tag===13){var t=as(e,134217728);if(t!==null){var n=sr();yi(t,e,134217728,n)}t0(e,134217728)}};Gv=function(e){if(e.tag===13){var t=Hs(e),n=as(e,t);if(n!==null){var r=sr();yi(n,e,t,r)}t0(e,t)}};Yv=function(){return Tt};Kv=function(e,t){var n=Tt;try{return Tt=e,t()}finally{Tt=n}};em=function(e,t,n){switch(t){case"input":if(Gp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ef(r);if(!i)throw Error(Pe(90));Lv(r),Gp(r,i)}}}break;case"textarea":Pv(e,n);break;case"select":t=n.value,t!=null&&Ba(e,!!n.multiple,t,!1)}};Rv=J1;Mv=Do;var ZS={usingClientEntryPoint:!1,Events:[Gu,Ca,Ef,Tv,Iv,J1]},Gl={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e6={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bv(e),e===null?null:e.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||XS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{Cf=ld.inject(e6),Fi=ld}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZS;Or.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r0(t))throw Error(Pe(200));return JS(e,t,null,n)};Or.createRoot=function(e,t){if(!r0(e))throw Error(Pe(299));var n=!1,r="",i=vx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=e0(e,1,!1,null,null,n,!1,r,i),e[os]=t.current,_u(e.nodeType===8?e.parentNode:e),new n0(t)};Or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Pe(188)):(e=Object.keys(e).join(","),Error(Pe(268,e)));return e=Bv(t),e=e===null?null:e.stateNode,e};Or.flushSync=function(e){return Do(e)};Or.hydrate=function(e,t,n){if(!zf(t))throw Error(Pe(200));return Vf(null,e,t,!0,n)};Or.hydrateRoot=function(e,t,n){if(!r0(e))throw Error(Pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=vx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=gx(t,null,e,1,n??null,i,!1,s,o),e[os]=t.current,_u(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Bf(t)};Or.render=function(e,t,n){if(!zf(t))throw Error(Pe(200));return Vf(null,e,t,!1,n)};Or.unmountComponentAtNode=function(e){if(!zf(e))throw Error(Pe(40));return e._reactRootContainer?(Do(function(){Vf(null,null,e,!1,function(){e._reactRootContainer=null,e[os]=null})}),!0):!1};Or.unstable_batchedUpdates=J1;Or.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zf(n))throw Error(Pe(200));if(e==null||e._reactInternals===void 0)throw Error(Pe(38));return Vf(e,t,n,!1,r)};Or.version="18.3.1-next-f1338f8080-20240426";function yx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yx)}catch(e){console.error(e)}}yx(),yv.exports=Or;var t6=yv.exports,w2=t6;zp.createRoot=w2.createRoot,zp.hydrateRoot=w2.hydrateRoot;var b2="popstate";function n6(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Tm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bu(i)}return i6(t,n,null,e)}function rn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function r6(){return Math.random().toString(36).substring(2,10)}function S2(e,t){return{usr:e.state,key:e.key,idx:t}}function Tm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ll(t):t,state:n,key:t&&t.key||r||r6()}}function Bu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ll(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function i6(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function h(){a="POP";let L=p(),w=L==null?null:L-d;d=L,l&&l({action:a,location:j.location,delta:w})}function g(L,w){a="PUSH";let x=Tm(j.location,L,w);n&&n(x,L),d=p()+1;let b=S2(x,d),T=j.createHref(x);try{o.pushState(b,"",T)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(T)}s&&l&&l({action:a,location:j.location,delta:1})}function m(L,w){a="REPLACE";let x=Tm(j.location,L,w);n&&n(x,L),d=p();let b=S2(x,d),T=j.createHref(x);o.replaceState(b,"",T),s&&l&&l({action:a,location:j.location,delta:0})}function N(L){return s6(L)}let j={get action(){return a},get location(){return e(i,o)},listen(L){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(b2,h),l=L,()=>{i.removeEventListener(b2,h),l=null}},createHref(L){return t(i,L)},createURL:N,encodeLocation(L){let w=N(L);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:m,go(L){return o.go(L)}};return j}function s6(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Bu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function xx(e,t,n="/"){return o6(e,t,n,!1)}function o6(e,t,n,r){let i=typeof t=="string"?ll(t):t,s=us(i.pathname||"/",n);if(s==null)return null;let o=wx(e);a6(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=y6(s);a=g6(o[l],d,r)}return a}function wx(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,d)=>{let p={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&l)return;rn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let h=ns([r,p.relativePath]),g=n.concat(p);o.children&&o.children.length>0&&(rn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),wx(o.children,t,g,h,l)),!(o.path==null&&!o.index)&&t.push({path:h,score:p6(h,o.index),routesMeta:g})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let d of bx(o.path))s(o,a,!0,d)}),t}function bx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function a6(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:m6(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var l6=/^:[\w-]+$/,u6=3,c6=2,d6=1,f6=10,h6=-2,N2=e=>e==="*";function p6(e,t){let n=e.split("/"),r=n.length;return n.some(N2)&&(r+=h6),t&&(r+=c6),n.filter(i=>!N2(i)).reduce((i,s)=>i+(l6.test(s)?u6:s===""?d6:f6),r)}function m6(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function g6(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",h=hf({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},p),g=l.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=hf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},p)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ns([s,h.pathname]),pathnameBase:S6(ns([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=ns([s,h.pathnameBase]))}return o}function hf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=v6(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:h},g)=>{if(p==="*"){let N=a[g]||"";o=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const m=a[g];return h&&!m?d[p]=void 0:d[p]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function v6(e,t=!1,n=!0){wi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function y6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function us(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function x6(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ll(e):e;return{pathname:n?n.startsWith("/")?n:w6(n,t):t,search:N6(r),hash:j6(i)}}function w6(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Sx(e){let t=b6(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Nx(e,t,n,r=!1){let i;typeof e=="string"?i=ll(e):(i={...e},rn(!i.pathname||!i.pathname.includes("?"),gp("?","pathname","search",i)),rn(!i.pathname||!i.pathname.includes("#"),gp("#","pathname","hash",i)),rn(!i.search||!i.search.includes("#"),gp("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}a=h>=0?t[h]:"/"}let l=x6(i,a),d=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||p)&&(l.pathname+="/"),l}var ns=e=>e.join("/").replace(/\/\/+/g,"/"),S6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),N6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,j6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function A6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var jx=["POST","PUT","PATCH","DELETE"];new Set(jx);var L6=["GET",...jx];new Set(L6);var ul=O.createContext(null);ul.displayName="DataRouter";var Uf=O.createContext(null);Uf.displayName="DataRouterState";O.createContext(!1);var Ax=O.createContext({isTransitioning:!1});Ax.displayName="ViewTransition";var C6=O.createContext(new Map);C6.displayName="Fetchers";var P6=O.createContext(null);P6.displayName="Await";var Mi=O.createContext(null);Mi.displayName="Navigation";var Ku=O.createContext(null);Ku.displayName="Location";var fs=O.createContext({outlet:null,matches:[],isDataRoute:!1});fs.displayName="Route";var i0=O.createContext(null);i0.displayName="RouteError";function k6(e,{relative:t}={}){rn(Ju(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Mi),{hash:i,pathname:s,search:o}=Xu(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:ns([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Ju(){return O.useContext(Ku)!=null}function io(){return rn(Ju(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Ku).location}var Lx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cx(e){O.useContext(Mi).static||O.useLayoutEffect(e)}function s0(){let{isDataRoute:e}=O.useContext(fs);return e?U6():_6()}function _6(){rn(Ju(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(ul),{basename:t,navigator:n}=O.useContext(Mi),{matches:r}=O.useContext(fs),{pathname:i}=io(),s=JSON.stringify(Sx(r)),o=O.useRef(!1);return Cx(()=>{o.current=!0}),O.useCallback((l,d={})=>{if(wi(o.current,Lx),!o.current)return;if(typeof l=="number"){n.go(l);return}let p=Nx(l,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ns([t,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[t,n,s,i,e])}O.createContext(null);function Xu(e,{relative:t}={}){let{matches:n}=O.useContext(fs),{pathname:r}=io(),i=JSON.stringify(Sx(n));return O.useMemo(()=>Nx(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function E6(e,t){return Px(e,t)}function Px(e,t,n,r,i){var x;rn(Ju(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(Mi),{matches:o}=O.useContext(fs),a=o[o.length-1],l=a?a.params:{},d=a?a.pathname:"/",p=a?a.pathnameBase:"/",h=a&&a.route;{let b=h&&h.path||"";kx(d,!h||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let g=io(),m;if(t){let b=typeof t=="string"?ll(t):t;rn(p==="/"||((x=b.pathname)==null?void 0:x.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${b.pathname}" was given in the \`location\` prop.`),m=b}else m=g;let N=m.pathname||"/",j=N;if(p!=="/"){let b=p.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(b.length).join("/")}let L=xx(e,{pathname:j});wi(h||L!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),wi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=M6(L&&L.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:ns([p,s.encodeLocation?s.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?p:ns([p,s.encodeLocation?s.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),o,n,r,i);return t&&w?O.createElement(Ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function F6(){let e=V6(),t=A6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:s},"ErrorBoundary")," or"," ",O.createElement("code",{style:s},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:i},n):null,o)}var T6=O.createElement(F6,null),I6=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?O.createElement(fs.Provider,{value:this.props.routeContext},O.createElement(i0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function R6({routeContext:e,match:t,children:n}){let r=O.useContext(ul);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(fs.Provider,{value:e},n)}function M6(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let d=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);rn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,l=-1;if(n)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=d),p.route.id){let{loaderData:h,errors:g}=n,m=p.route.loader&&!h.hasOwnProperty(p.route.id)&&(!g||g[p.route.id]===void 0);if(p.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((d,p,h)=>{let g,m=!1,N=null,j=null;n&&(g=o&&p.route.id?o[p.route.id]:void 0,N=p.route.errorElement||T6,a&&(l<0&&h===0?(kx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,j=null):l===h&&(m=!0,j=p.route.hydrateFallbackElement||null)));let L=t.concat(s.slice(0,h+1)),w=()=>{let x;return g?x=N:m?x=j:p.route.Component?x=O.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=d,O.createElement(R6,{match:p,routeContext:{outlet:d,matches:L,isDataRoute:n!=null},children:x})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?O.createElement(I6,{location:n.location,revalidation:n.revalidation,component:N,error:g,children:w(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:r}):w()},null)}function o0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D6(e){let t=O.useContext(ul);return rn(t,o0(e)),t}function O6(e){let t=O.useContext(Uf);return rn(t,o0(e)),t}function B6(e){let t=O.useContext(fs);return rn(t,o0(e)),t}function a0(e){let t=B6(e),n=t.matches[t.matches.length-1];return rn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function z6(){return a0("useRouteId")}function V6(){var r;let e=O.useContext(i0),t=O6("useRouteError"),n=a0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function U6(){let{router:e}=D6("useNavigate"),t=a0("useNavigate"),n=O.useRef(!1);return Cx(()=>{n.current=!0}),O.useCallback(async(i,s={})=>{wi(n.current,Lx),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var j2={};function kx(e,t,n){!t&&!j2[e]&&(j2[e]=!0,wi(!1,n))}O.memo(q6);function q6({routes:e,future:t,state:n,unstable_onError:r}){return Px(e,void 0,n,r,t)}function Im(e){rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $6({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){rn(!Ju(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=O.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=ll(n));let{pathname:l="/",search:d="",hash:p="",state:h=null,key:g="default"}=n,m=O.useMemo(()=>{let N=us(l,o);return N==null?null:{location:{pathname:N,search:d,hash:p,state:h,key:g},navigationType:r}},[o,l,d,p,h,g,r]);return wi(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:O.createElement(Mi.Provider,{value:a},O.createElement(Ku.Provider,{children:t,value:m}))}function H6({children:e,location:t}){return E6(Rm(e),t)}function Rm(e,t=[]){let n=[];return O.Children.forEach(e,(r,i)=>{if(!O.isValidElement(r))return;let s=[...t,i];if(r.type===O.Fragment){n.push.apply(n,Rm(r.props.children,s));return}rn(r.type===Im,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Rm(r.props.children,s)),n.push(o)}),n}var Fd="get",Td="application/x-www-form-urlencoded";function qf(e){return e!=null&&typeof e.tagName=="string"}function W6(e){return qf(e)&&e.tagName.toLowerCase()==="button"}function G6(e){return qf(e)&&e.tagName.toLowerCase()==="form"}function Y6(e){return qf(e)&&e.tagName.toLowerCase()==="input"}function K6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function J6(e,t){return e.button===0&&(!t||t==="_self")&&!K6(e)}function Mm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function X6(e,t){let n=Mm(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var ud=null;function Q6(){if(ud===null)try{new FormData(document.createElement("form"),0),ud=!1}catch{ud=!0}return ud}var Z6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vp(e){return e!=null&&!Z6.has(e)?(wi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Td}"`),null):e}function eN(e,t){let n,r,i,s,o;if(G6(e)){let a=e.getAttribute("action");r=a?us(a,t):null,n=e.getAttribute("method")||Fd,i=vp(e.getAttribute("enctype"))||Td,s=new FormData(e)}else if(W6(e)||Y6(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?us(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Fd,i=vp(e.getAttribute("formenctype"))||vp(a.getAttribute("enctype"))||Td,s=new FormData(a,e),!Q6()){let{name:d,type:p,value:h}=e;if(p==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,h)}}else{if(qf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fd,r=null,i=Td,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function l0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tN(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&us(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function nN(e,t){if(e.id in t)return t[e.id];try{let n=await Vd(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rN(e){return e!=null&&typeof e.page=="string"}function iN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function sN(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await nN(s,n);return o.links?o.links():[]}return[]}));return uN(r.flat(1).filter(iN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function A2(e,t,n,r,i,s){let o=(l,d)=>n[d]?l.route.id!==n[d].route.id:!0,a=(l,d)=>{var p;return n[d].pathname!==l.pathname||((p=n[d].route.path)==null?void 0:p.endsWith("*"))&&n[d].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,d)=>o(l,d)||a(l,d)):s==="data"?t.filter((l,d)=>{var h;let p=r.routes[l.route.id];if(!p||!p.hasLoader)return!1;if(o(l,d)||a(l,d))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function oN(e,t,{includeHydrateFallback:n}={}){return aN(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function aN(e){return[...new Set(e)]}function lN(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function uN(e,t){let n=new Set,r=new Set(t);return e.reduce((i,s)=>{if(t&&!rN(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(lN(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function _x(){let e=O.useContext(ul);return l0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function cN(){let e=O.useContext(Uf);return l0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var u0=O.createContext(void 0);u0.displayName="FrameworkContext";function Ex(){let e=O.useContext(u0);return l0(e,"You must render this element inside a <HydratedRouter> element"),e}function dN(e,t){let n=O.useContext(u0),[r,i]=O.useState(!1),[s,o]=O.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:d,onMouseLeave:p,onTouchStart:h}=t,g=O.useRef(null);O.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let j=w=>{w.forEach(x=>{o(x.isIntersecting)})},L=new IntersectionObserver(j,{threshold:.5});return g.current&&L.observe(g.current),()=>{L.disconnect()}}},[e]),O.useEffect(()=>{if(r){let j=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(j)}}},[r]);let m=()=>{i(!0)},N=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:Yl(a,m),onBlur:Yl(l,N),onMouseEnter:Yl(d,m),onMouseLeave:Yl(p,N),onTouchStart:Yl(h,m)}]:[!1,g,{}]}function Yl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function fN({page:e,...t}){let{router:n}=_x(),r=O.useMemo(()=>xx(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?O.createElement(pN,{page:e,matches:r,...t}):null}function hN(e){let{manifest:t,routeModules:n}=Ex(),[r,i]=O.useState([]);return O.useEffect(()=>{let s=!1;return sN(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function pN({page:e,matches:t,...n}){let r=io(),{manifest:i,routeModules:s}=Ex(),{basename:o}=_x(),{loaderData:a,matches:l}=cN(),d=O.useMemo(()=>A2(e,t,l,i,r,"data"),[e,t,l,i,r]),p=O.useMemo(()=>A2(e,t,l,i,r,"assets"),[e,t,l,i,r]),h=O.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let N=new Set,j=!1;if(t.forEach(w=>{var b;let x=i.routes[w.route.id];!x||!x.hasLoader||(!d.some(T=>T.route.id===w.route.id)&&w.route.id in a&&((b=s[w.route.id])!=null&&b.shouldRevalidate)||x.hasClientLoader?j=!0:N.add(w.route.id))}),N.size===0)return[];let L=tN(e,o,"data");return j&&N.size>0&&L.searchParams.set("_routes",t.filter(w=>N.has(w.route.id)).map(w=>w.route.id).join(",")),[L.pathname+L.search]},[o,a,r,i,d,t,e,s]),g=O.useMemo(()=>oN(p,i),[p,i]),m=hN(p);return O.createElement(O.Fragment,null,h.map(N=>O.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),g.map(N=>O.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),m.map(({key:N,link:j})=>O.createElement("link",{key:N,nonce:n.nonce,...j})))}function mN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Fx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fx&&(window.__reactRouterVersion="7.9.3")}catch{}function gN({basename:e,children:t,window:n}){let r=O.useRef();r.current==null&&(r.current=n6({window:n,v5Compat:!0}));let i=r.current,[s,o]=O.useState({action:i.action,location:i.location}),a=O.useCallback(l=>{O.startTransition(()=>o(l))},[o]);return O.useLayoutEffect(()=>i.listen(a),[i,a]),O.createElement($6,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var Tx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ix=O.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:d,preventScrollReset:p,viewTransition:h,...g},m){let{basename:N}=O.useContext(Mi),j=typeof d=="string"&&Tx.test(d),L,w=!1;if(typeof d=="string"&&j&&(L=d,Fx))try{let $=new URL(window.location.href),re=d.startsWith("//")?new URL($.protocol+d):new URL(d),F=us(re.pathname,N);re.origin===$.origin&&F!=null?d=F+re.search+re.hash:w=!0}catch{wi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=k6(d,{relative:i}),[b,T,q]=dN(r,g),G=wN(d,{replace:o,state:a,target:l,preventScrollReset:p,relative:i,viewTransition:h});function R($){t&&t($),$.defaultPrevented||G($)}let M=O.createElement("a",{...g,...q,href:L||x,onClick:w||s?t:R,ref:mN(m,T),target:l,"data-discover":!j&&n==="render"?"true":void 0});return b&&!j?O.createElement(O.Fragment,null,M,O.createElement(fN,{page:x})):M});Ix.displayName="Link";var vN=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...d},p){let h=Xu(o,{relative:d.relative}),g=io(),m=O.useContext(Uf),{navigator:N,basename:j}=O.useContext(Mi),L=m!=null&&LN(h)&&a===!0,w=N.encodeLocation?N.encodeLocation(h).pathname:h.pathname,x=g.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(x=x.toLowerCase(),b=b?b.toLowerCase():null,w=w.toLowerCase()),b&&j&&(b=us(b,j)||b);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let q=x===w||!i&&x.startsWith(w)&&x.charAt(T)==="/",G=b!=null&&(b===w||!i&&b.startsWith(w)&&b.charAt(w.length)==="/"),R={isActive:q,isPending:G,isTransitioning:L},M=q?t:void 0,$;typeof r=="function"?$=r(R):$=[r,q?"active":null,G?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let re=typeof s=="function"?s(R):s;return O.createElement(Ix,{...d,"aria-current":M,className:$,ref:p,style:re,to:o,viewTransition:a},typeof l=="function"?l(R):l)});vN.displayName="NavLink";var yN=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Fd,action:a,onSubmit:l,relative:d,preventScrollReset:p,viewTransition:h,...g},m)=>{let N=jN(),j=AN(a,{relative:d}),L=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&Tx.test(a),x=b=>{if(l&&l(b),b.defaultPrevented)return;b.preventDefault();let T=b.nativeEvent.submitter,q=(T==null?void 0:T.getAttribute("formmethod"))||o;N(T||b.currentTarget,{fetcherKey:t,method:q,navigate:n,replace:i,state:s,relative:d,preventScrollReset:p,viewTransition:h})};return O.createElement("form",{ref:m,method:L,action:j,onSubmit:r?l:x,...g,"data-discover":!w&&e==="render"?"true":void 0})});yN.displayName="Form";function xN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rx(e){let t=O.useContext(ul);return rn(t,xN(e)),t}function wN(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=s0(),l=io(),d=Xu(e,{relative:s});return O.useCallback(p=>{if(J6(p,t)){p.preventDefault();let h=n!==void 0?n:Bu(l)===Bu(d);a(e,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,d,n,r,t,e,i,s,o])}function bN(e){wi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=O.useRef(Mm(e)),n=O.useRef(!1),r=io(),i=O.useMemo(()=>X6(r.search,n.current?null:t.current),[r.search]),s=s0(),o=O.useCallback((a,l)=>{const d=Mm(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+d,l)},[s,i]);return[i,o]}var SN=0,NN=()=>`__${String(++SN)}__`;function jN(){let{router:e}=Rx("useSubmit"),{basename:t}=O.useContext(Mi),n=z6();return O.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:d}=eN(r,t);if(i.navigate===!1){let p=i.fetcherKey||NN();await e.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:d,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:d,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function AN(e,{relative:t}={}){let{basename:n}=O.useContext(Mi),r=O.useContext(fs);rn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Xu(e||".",{relative:t})},o=io();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(p=>p==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let p=a.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ns([n,s.pathname])),Bu(s)}function LN(e,{relative:t}={}){let n=O.useContext(Ax);rn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Rx("useViewTransitionState"),i=Xu(e,{relative:t});if(!n.isTransitioning)return!1;let s=us(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=us(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hf(i.pathname,o)!=null||hf(i.pathname,s)!=null}const Mx=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),$f=O.createContext({}),Hf=O.createContext(null),Wf=typeof document<"u",c0=Wf?O.useLayoutEffect:O.useEffect,Dx=O.createContext({strict:!1}),d0=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),CN="framerAppearId",Ox="data-"+d0(CN);function PN(e,t,n,r){const{visualElement:i}=O.useContext($f),s=O.useContext(Dx),o=O.useContext(Hf),a=O.useContext(Mx).reducedMotion,l=O.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const d=l.current;O.useInsertionEffect(()=>{d&&d.update(n,o)});const p=O.useRef(!!(n[Ox]&&!window.HandoffComplete));return c0(()=>{d&&(d.render(),p.current&&d.animationState&&d.animationState.animateChanges())}),O.useEffect(()=>{d&&(d.updateFeatures(),!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(p.current=!1,window.HandoffComplete=!0))}),d}function Ia(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function kN(e,t,n){return O.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ia(n)&&(n.current=r))},[t])}function zu(e){return typeof e=="string"||Array.isArray(e)}function Gf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const f0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],h0=["initial",...f0];function Yf(e){return Gf(e.animate)||h0.some(t=>zu(e[t]))}function Bx(e){return!!(Yf(e)||e.variants)}function _N(e,t){if(Yf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||zu(n)?n:void 0,animate:zu(r)?r:void 0}}return e.inherit!==!1?t:{}}function EN(e){const{initial:t,animate:n}=_N(e,O.useContext($f));return O.useMemo(()=>({initial:t,animate:n}),[L2(t),L2(n)])}function L2(e){return Array.isArray(e)?e.join(" "):e}const C2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vu={};for(const e in C2)Vu[e]={isEnabled:t=>C2[e].some(n=>!!t[n])};function FN(e){for(const t in e)Vu[t]={...Vu[t],...e[t]}}const p0=O.createContext({}),zx=O.createContext({}),TN=Symbol.for("motionComponentSymbol");function IN({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&FN(e);function s(a,l){let d;const p={...O.useContext(Mx),...a,layoutId:RN(a)},{isStatic:h}=p,g=EN(a),m=r(a,h);if(!h&&Wf){g.visualElement=PN(i,m,p,t);const N=O.useContext(zx),j=O.useContext(Dx).strict;g.visualElement&&(d=g.visualElement.loadFeatures(p,j,e,N))}return O.createElement($f.Provider,{value:g},d&&g.visualElement?O.createElement(d,{visualElement:g.visualElement,...p}):null,n(i,a,kN(m,g.visualElement,l),m,h,g.visualElement))}const o=O.forwardRef(s);return o[TN]=i,o}function RN({layoutId:e}){const t=O.useContext(p0).id;return t&&e!==void 0?t+"-"+e:e}function MN(e){function t(r,i={}){return IN(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const DN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function m0(e){return typeof e!="string"||e.includes("-")?!1:!!(DN.indexOf(e)>-1||/[A-Z]/.test(e))}const pf={};function ON(e){Object.assign(pf,e)}const Qu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zo=new Set(Qu);function Vx(e,{layout:t,layoutId:n}){return zo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!pf[e]||e==="opacity")}const br=e=>!!(e&&e.getVelocity),BN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zN=Qu.length;function VN(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<zN;o++){const a=Qu[o];if(e[a]!==void 0){const l=BN[a]||a;s+=`${l}(${e[a]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const Ux=e=>t=>typeof t=="string"&&t.startsWith(e),qx=Ux("--"),Dm=Ux("var(--"),UN=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,qN=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Xs=(e,t,n)=>Math.min(Math.max(n,e),t),Vo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vu={...Vo,transform:e=>Xs(0,1,e)},cd={...Vo,default:1},yu=e=>Math.round(e*1e5)/1e5,Kf=/(-)?([\d]*\.?[\d])+/g,$x=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,$N=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Zu(e){return typeof e=="string"}const ec=e=>({test:t=>Zu(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_s=ec("deg"),Ii=ec("%"),Ze=ec("px"),HN=ec("vh"),WN=ec("vw"),P2={...Ii,parse:e=>Ii.parse(e)/100,transform:e=>Ii.transform(e*100)},k2={...Vo,transform:Math.round},Hx={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,size:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,rotate:_s,rotateX:_s,rotateY:_s,rotateZ:_s,scale:cd,scaleX:cd,scaleY:cd,scaleZ:cd,skew:_s,skewX:_s,skewY:_s,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:vu,originX:P2,originY:P2,originZ:Ze,zIndex:k2,fillOpacity:vu,strokeOpacity:vu,numOctaves:k2};function g0(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let l=!1,d=!1,p=!0;for(const h in t){const g=t[h];if(qx(h)){s[h]=g;continue}const m=Hx[h],N=qN(g,m);if(zo.has(h)){if(l=!0,o[h]=N,!p)continue;g!==(m.default||0)&&(p=!1)}else h.startsWith("origin")?(d=!0,a[h]=N):i[h]=N}if(t.transform||(l||r?i.transform=VN(e.transform,n,p,r):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:g="50%",originZ:m=0}=a;i.transformOrigin=`${h} ${g} ${m}`}}const v0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Wx(e,t,n){for(const r in t)!br(t[r])&&!Vx(r,n)&&(e[r]=t[r])}function GN({transformTemplate:e},t,n){return O.useMemo(()=>{const r=v0();return g0(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function YN(e,t,n){const r=e.style||{},i={};return Wx(i,r,e),Object.assign(i,GN(e,t,n)),e.transformValues?e.transformValues(i):i}function KN(e,t,n){const r={},i=YN(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const JN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||JN.has(e)}let Gx=e=>!mf(e);function XN(e){e&&(Gx=t=>t.startsWith("on")?!mf(t):e(t))}try{XN(require("@emotion/is-prop-valid").default)}catch{}function QN(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Gx(i)||n===!0&&mf(i)||!t&&!mf(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function _2(e,t,n){return typeof e=="string"?e:Ze.transform(t+n*e)}function ZN(e,t,n){const r=_2(t,e.x,e.width),i=_2(n,e.y,e.height);return`${r} ${i}`}const ej={offset:"stroke-dashoffset",array:"stroke-dasharray"},tj={offset:"strokeDashoffset",array:"strokeDasharray"};function nj(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?ej:tj;e[s.offset]=Ze.transform(-r);const o=Ze.transform(t),a=Ze.transform(n);e[s.array]=`${o} ${a}`}function y0(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...d},p,h,g){if(g0(e,d,p,g),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:N,dimensions:j}=e;m.transform&&(j&&(N.transform=m.transform),delete m.transform),j&&(i!==void 0||s!==void 0||N.transform)&&(N.transformOrigin=ZN(j,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&nj(m,o,a,l,!1)}const Yx=()=>({...v0(),attrs:{}}),x0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rj(e,t,n,r){const i=O.useMemo(()=>{const s=Yx();return y0(s,t,{enableHardwareAcceleration:!1},x0(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Wx(s,e.style,e),i.style={...s,...i.style}}return i}function ij(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(m0(n)?rj:KN)(r,s,o,n),p={...QN(r,typeof n=="string",e),...l,ref:i},{children:h}=r,g=O.useMemo(()=>br(h)?h.get():h,[h]);return O.createElement(n,{...p,children:g})}}function Kx(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const Jx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xx(e,t,n,r){Kx(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Jx.has(i)?i:d0(i),t.attrs[i])}function w0(e,t){const{style:n}=e,r={};for(const i in n)(br(n[i])||t.style&&br(t.style[i])||Vx(i,e))&&(r[i]=n[i]);return r}function Qx(e,t){const n=w0(e,t);for(const r in e)if(br(e[r])||br(t[r])){const i=Qu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function b0(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function Zx(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const gf=e=>Array.isArray(e),sj=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),oj=e=>gf(e)?e[e.length-1]||0:e;function Id(e){const t=br(e)?e.get():e;return sj(t)?t.toValue():t}function aj({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:lj(r,i,s,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const ew=e=>(t,n)=>{const r=O.useContext($f),i=O.useContext(Hf),s=()=>aj(e,t,r,i);return n?s():Zx(s)};function lj(e,t,n,r){const i={},s=r(e,{});for(const g in s)i[g]=Id(s[g]);let{initial:o,animate:a}=e;const l=Yf(e),d=Bx(e);t&&d&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let p=n?n.initial===!1:!1;p=p||o===!1;const h=p?a:o;return h&&typeof h!="boolean"&&!Gf(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const N=b0(e,m);if(!N)return;const{transitionEnd:j,transition:L,...w}=N;for(const x in w){let b=w[x];if(Array.isArray(b)){const T=p?b.length-1:0;b=b[T]}b!==null&&(i[x]=b)}for(const x in j)i[x]=j[x]}),i}const cn=e=>e;class E2{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function uj(e){let t=new E2,n=new E2,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,d=!1,p=!1)=>{const h=p&&i,g=h?t:n;return d&&o.add(l),g.add(l)&&h&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let d=0;d<r;d++){const p=t.order[d];p(l),o.has(p)&&(a.schedule(p),e())}i=!1,s&&(s=!1,a.process(l))}};return a}const dd=["prepare","read","update","preRender","render","postRender"],cj=40;function dj(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=dd.reduce((h,g)=>(h[g]=uj(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,cj),1),i.timestamp=h,i.isProcessing=!0,dd.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,i.isProcessing||e(a)};return{schedule:dd.reduce((h,g)=>{const m=s[g];return h[g]=(N,j=!1,L=!1)=>(n||l(),m.schedule(N,j,L)),h},{}),cancel:h=>dd.forEach(g=>s[g].cancel(h)),state:i,steps:s}}const{schedule:Ht,cancel:cs,state:Kn,steps:yp}=dj(typeof requestAnimationFrame<"u"?requestAnimationFrame:cn,!0),fj={useVisualState:ew({scrapeMotionValuesFromProps:Qx,createRenderState:Yx,onMount:(e,t,{renderState:n,latestValues:r})=>{Ht.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ht.render(()=>{y0(n,r,{enableHardwareAcceleration:!1},x0(t.tagName),e.transformTemplate),Xx(t,n)})}})},hj={useVisualState:ew({scrapeMotionValuesFromProps:w0,createRenderState:v0})};function pj(e,{forwardMotionProps:t=!1},n,r){return{...m0(e)?fj:hj,preloadedFeatures:n,useRender:ij(t),createVisualElement:r,Component:e}}function es(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const tw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Jf(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const mj=e=>t=>tw(t)&&e(t,Jf(t));function rs(e,t,n,r){return es(e,t,mj(n),r)}const gj=(e,t)=>n=>t(e(n)),Gs=(...e)=>e.reduce(gj);function nw(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const F2=nw("dragHorizontal"),T2=nw("dragVertical");function rw(e){let t=!1;if(e==="y")t=T2();else if(e==="x")t=F2();else{const n=F2(),r=T2();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function iw(){const e=rw(!0);return e?(e(),!1):!0}class so{constructor(t){this.isMounted=!1,this.node=t}update(){}}function I2(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||iw())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Ht.update(()=>a[r](s,o))};return rs(e.current,n,i,{passive:!e.getProps()[r]})}class vj extends so{mount(){this.unmount=Gs(I2(this.node,!0),I2(this.node,!1))}unmount(){}}class yj extends so{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gs(es(this.node.current,"focus",()=>this.onFocus()),es(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const sw=(e,t)=>t?e===t?!0:sw(e,t.parentElement):!1;function xp(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Jf(n))}class xj extends so{constructor(){super(...arguments),this.removeStartListeners=cn,this.removeEndListeners=cn,this.removeAccessibleListeners=cn,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=rs(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:p,globalTapTarget:h}=this.node.getProps();Ht.update(()=>{!h&&!sw(this.node.current,a.target)?p&&p(a,l):d&&d(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=rs(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Gs(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||xp("up",(l,d)=>{const{onTap:p}=this.node.getProps();p&&Ht.update(()=>p(l,d))})};this.removeEndListeners(),this.removeEndListeners=es(this.node.current,"keyup",o),xp("down",(a,l)=>{this.startPress(a,l)})},n=es(this.node.current,"keydown",t),r=()=>{this.isPressing&&xp("cancel",(s,o)=>this.cancelPress(s,o))},i=es(this.node.current,"blur",r);this.removeAccessibleListeners=Gs(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ht.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!iw()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ht.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=rs(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=es(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Gs(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Om=new WeakMap,wp=new WeakMap,wj=e=>{const t=Om.get(e.target);t&&t(e)},bj=e=>{e.forEach(wj)};function Sj({root:e,...t}){const n=e||document;wp.has(n)||wp.set(n,{});const r=wp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(bj,{root:e,...t})),r[i]}function Nj(e,t,n){const r=Sj(t);return Om.set(e,n),r.observe(e),()=>{Om.delete(e),r.unobserve(e)}}const jj={some:0,all:1};class Aj extends so{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:jj[i]},a=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:h}=this.node.getProps(),g=d?p:h;g&&g(l)};return Nj(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Lj(t,n))&&this.startObserver()}unmount(){}}function Lj({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Cj={inView:{Feature:Aj},tap:{Feature:xj},focus:{Feature:yj},hover:{Feature:vj}};function ow(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Pj(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function kj(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Xf(e,t,n){const r=e.getProps();return b0(r,t,n!==void 0?n:r.custom,Pj(e),kj(e))}let _j=cn,S0=cn;const Ys=e=>e*1e3,is=e=>e/1e3,Ej={current:!1},aw=e=>Array.isArray(e)&&typeof e[0]=="number";function lw(e){return!!(!e||typeof e=="string"&&uw[e]||aw(e)||Array.isArray(e)&&e.every(lw))}const au=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,uw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function cw(e){if(e)return aw(e)?au(e):Array.isArray(e)?e.map(cw):uw[e]}function Fj(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const d={[t]:n};l&&(d.offset=l);const p=cw(a);return Array.isArray(p)&&(d.easing=p),e.animate(d,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Tj(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const dw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Ij=1e-7,Rj=12;function Mj(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=dw(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>Ij&&++a<Rj);return o}function tc(e,t,n,r){if(e===t&&n===r)return cn;const i=s=>Mj(s,0,1,e,n);return s=>s===0||s===1?s:dw(i(s),t,r)}const Dj=tc(.42,0,1,1),Oj=tc(0,0,.58,1),fw=tc(.42,0,.58,1),Bj=e=>Array.isArray(e)&&typeof e[0]!="number",hw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pw=e=>t=>1-e(1-t),N0=e=>1-Math.sin(Math.acos(e)),mw=pw(N0),zj=hw(N0),gw=tc(.33,1.53,.69,.99),j0=pw(gw),Vj=hw(j0),Uj=e=>(e*=2)<1?.5*j0(e):.5*(2-Math.pow(2,-10*(e-1))),qj={linear:cn,easeIn:Dj,easeInOut:fw,easeOut:Oj,circIn:N0,circInOut:zj,circOut:mw,backIn:j0,backInOut:Vj,backOut:gw,anticipate:Uj},R2=e=>{if(Array.isArray(e)){S0(e.length===4);const[t,n,r,i]=e;return tc(t,n,r,i)}else if(typeof e=="string")return qj[e];return e},A0=(e,t)=>n=>!!(Zu(n)&&$N.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),vw=(e,t,n)=>r=>{if(!Zu(r))return r;const[i,s,o,a]=r.match(Kf);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},$j=e=>Xs(0,255,e),bp={...Vo,transform:e=>Math.round($j(e))},ko={test:A0("rgb","red"),parse:vw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+bp.transform(e)+", "+bp.transform(t)+", "+bp.transform(n)+", "+yu(vu.transform(r))+")"};function Hj(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Bm={test:A0("#"),parse:Hj,transform:ko.transform},Ra={test:A0("hsl","hue"),parse:vw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ii.transform(yu(t))+", "+Ii.transform(yu(n))+", "+yu(vu.transform(r))+")"},rr={test:e=>ko.test(e)||Bm.test(e)||Ra.test(e),parse:e=>ko.test(e)?ko.parse(e):Ra.test(e)?Ra.parse(e):Bm.parse(e),transform:e=>Zu(e)?e:e.hasOwnProperty("red")?ko.transform(e):Ra.transform(e)},tn=(e,t,n)=>-n*e+n*t+e;function Sp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Wj({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Sp(l,a,e+1/3),s=Sp(l,a,e),o=Sp(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Np=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Gj=[Bm,ko,Ra],Yj=e=>Gj.find(t=>t.test(e));function M2(e){const t=Yj(e);let n=t.parse(e);return t===Ra&&(n=Wj(n)),n}const yw=(e,t)=>{const n=M2(e),r=M2(t),i={...n};return s=>(i.red=Np(n.red,r.red,s),i.green=Np(n.green,r.green,s),i.blue=Np(n.blue,r.blue,s),i.alpha=tn(n.alpha,r.alpha,s),ko.transform(i))};function Kj(e){var t,n;return isNaN(e)&&Zu(e)&&(((t=e.match(Kf))===null||t===void 0?void 0:t.length)||0)+(((n=e.match($x))===null||n===void 0?void 0:n.length)||0)>0}const xw={regex:UN,countKey:"Vars",token:"${v}",parse:cn},ww={regex:$x,countKey:"Colors",token:"${c}",parse:rr.parse},bw={regex:Kf,countKey:"Numbers",token:"${n}",parse:Vo.parse};function jp(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function vf(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&jp(n,xw),jp(n,ww),jp(n,bw),n}function Sw(e){return vf(e).values}function Nw(e){const{values:t,numColors:n,numVars:r,tokenised:i}=vf(e),s=t.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(xw.token,o[l]):l<r+n?a=a.replace(ww.token,rr.transform(o[l])):a=a.replace(bw.token,yu(o[l]));return a}}const Jj=e=>typeof e=="number"?0:e;function Xj(e){const t=Sw(e);return Nw(e)(t.map(Jj))}const Qs={test:Kj,parse:Sw,createTransformer:Nw,getAnimatableNone:Xj},jw=(e,t)=>n=>`${n>0?t:e}`;function Aw(e,t){return typeof e=="number"?n=>tn(e,t,n):rr.test(e)?yw(e,t):e.startsWith("var(")?jw(e,t):Cw(e,t)}const Lw=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>Aw(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},Qj=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Aw(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},Cw=(e,t)=>{const n=Qs.createTransformer(t),r=vf(e),i=vf(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Gs(Lw(r.values,i.values),n):jw(e,t)},Uu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},D2=(e,t)=>n=>tn(e,t,n);function Zj(e){return typeof e=="number"?D2:typeof e=="string"?rr.test(e)?yw:Cw:Array.isArray(e)?Lw:typeof e=="object"?Qj:D2}function eA(e,t,n){const r=[],i=n||Zj(e[0]),s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||cn:t;a=Gs(l,a)}r.push(a)}return r}function Pw(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(S0(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=eA(t,r,i),a=o.length,l=d=>{let p=0;if(a>1)for(;p<e.length-2&&!(d<e[p+1]);p++);const h=Uu(e[p],e[p+1],d);return o[p](h)};return n?d=>l(Xs(e[0],e[s-1],d)):l}function tA(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Uu(0,t,r);e.push(tn(n,1,i))}}function nA(e){const t=[0];return tA(t,e.length-1),t}function rA(e,t){return e.map(n=>n*t)}function iA(e,t){return e.map(()=>t||fw).splice(0,e.length-1)}function yf({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Bj(r)?r.map(R2):R2(r),s={done:!1,value:t[0]},o=rA(n&&n.length===t.length?n:nA(t),e),a=Pw(o,t,{ease:Array.isArray(i)?i:iA(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}function kw(e,t){return t?e*(1e3/t):0}const sA=5;function _w(e,t,n){const r=Math.max(t-sA,0);return kw(n-e(r),t-r)}const Ap=.001,oA=.01,O2=10,aA=.05,lA=1;function uA({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s;_j(e<=Ys(O2));let o=1-t;o=Xs(aA,lA,o),e=Xs(oA,O2,is(e)),o<1?(i=d=>{const p=d*o,h=p*e,g=p-n,m=zm(d,o),N=Math.exp(-h);return Ap-g/m*N},s=d=>{const h=d*o*e,g=h*n+n,m=Math.pow(o,2)*Math.pow(d,2)*e,N=Math.exp(-h),j=zm(Math.pow(d,2),o);return(-i(d)+Ap>0?-1:1)*((g-m)*N)/j}):(i=d=>{const p=Math.exp(-d*e),h=(d-n)*e+1;return-Ap+p*h},s=d=>{const p=Math.exp(-d*e),h=(n-d)*(e*e);return p*h});const a=5/e,l=dA(i,s,a);if(e=Ys(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(l,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const cA=12;function dA(e,t,n){let r=n;for(let i=1;i<cA;i++)r=r-e(r)/t(r);return r}function zm(e,t){return e*Math.sqrt(1-t*t)}const fA=["duration","bounce"],hA=["stiffness","damping","mass"];function B2(e,t){return t.some(n=>e[n]!==void 0)}function pA(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!B2(e,hA)&&B2(e,fA)){const n=uA(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Ew({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:d,duration:p,velocity:h,isResolvedFromDuration:g}=pA({...r,velocity:-is(r.velocity||0)}),m=h||0,N=l/(2*Math.sqrt(a*d)),j=s-i,L=is(Math.sqrt(a/d)),w=Math.abs(j)<5;n||(n=w?.01:2),t||(t=w?.005:.5);let x;if(N<1){const b=zm(L,N);x=T=>{const q=Math.exp(-N*L*T);return s-q*((m+N*L*j)/b*Math.sin(b*T)+j*Math.cos(b*T))}}else if(N===1)x=b=>s-Math.exp(-L*b)*(j+(m+L*j)*b);else{const b=L*Math.sqrt(N*N-1);x=T=>{const q=Math.exp(-N*L*T),G=Math.min(b*T,300);return s-q*((m+N*L*j)*Math.sinh(G)+b*j*Math.cosh(G))/b}}return{calculatedDuration:g&&p||null,next:b=>{const T=x(b);if(g)o.done=b>=p;else{let q=m;b!==0&&(N<1?q=_w(x,b,T):q=0);const G=Math.abs(q)<=n,R=Math.abs(s-T)<=t;o.done=G&&R}return o.value=o.done?s:T,o}}}function z2({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:d=.5,restSpeed:p}){const h=e[0],g={done:!1,value:h},m=M=>a!==void 0&&M<a||l!==void 0&&M>l,N=M=>a===void 0?l:l===void 0||Math.abs(a-M)<Math.abs(l-M)?a:l;let j=n*t;const L=h+j,w=o===void 0?L:o(L);w!==L&&(j=w-h);const x=M=>-j*Math.exp(-M/r),b=M=>w+x(M),T=M=>{const $=x(M),re=b(M);g.done=Math.abs($)<=d,g.value=g.done?w:re};let q,G;const R=M=>{m(g.value)&&(q=M,G=Ew({keyframes:[g.value,N(g.value)],velocity:_w(b,M,g.value),damping:i,stiffness:s,restDelta:d,restSpeed:p}))};return R(0),{calculatedDuration:null,next:M=>{let $=!1;return!G&&q===void 0&&($=!0,T(M),R(M)),q!==void 0&&M>q?G.next(M-q):(!$&&T(M),g)}}}const mA=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ht.update(t,!0),stop:()=>cs(t),now:()=>Kn.isProcessing?Kn.timestamp:performance.now()}},V2=2e4;function U2(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<V2;)t+=n,r=e.next(t);return t>=V2?1/0:t}const gA={decay:z2,inertia:z2,tween:yf,keyframes:yf,spring:Ew};function xf({autoplay:e=!0,delay:t=0,driver:n=mA,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:d,onComplete:p,onUpdate:h,...g}){let m=1,N=!1,j,L;const w=()=>{L=new Promise(me=>{j=me})};w();let x;const b=gA[i]||yf;let T;b!==yf&&typeof r[0]!="number"&&(T=Pw([0,100],r,{clamp:!1}),r=[0,100]);const q=b({...g,keyframes:r});let G;a==="mirror"&&(G=b({...g,keyframes:[...r].reverse(),velocity:-(g.velocity||0)}));let R="idle",M=null,$=null,re=null;q.calculatedDuration===null&&s&&(q.calculatedDuration=U2(q));const{calculatedDuration:F}=q;let k=1/0,W=1/0;F!==null&&(k=F+o,W=k*(s+1)-o);let z=0;const se=me=>{if($===null)return;m>0&&($=Math.min($,me)),m<0&&($=Math.min(me-W/m,$)),M!==null?z=M:z=Math.round(me-$)*m;const A=z-t*(m>=0?1:-1),B=m>=0?A<0:A>W;z=Math.max(A,0),R==="finished"&&M===null&&(z=W);let V=z,J=q;if(s){const pe=Math.min(z,W)/k;let Ce=Math.floor(pe),Ae=pe%1;!Ae&&pe>=1&&(Ae=1),Ae===1&&Ce--,Ce=Math.min(Ce,s+1),!!(Ce%2)&&(a==="reverse"?(Ae=1-Ae,o&&(Ae-=o/k)):a==="mirror"&&(J=G)),V=Xs(0,1,Ae)*k}const Z=B?{done:!1,value:r[0]}:J.next(V);T&&(Z.value=T(Z.value));let{done:ce}=Z;!B&&F!==null&&(ce=m>=0?z>=W:z<=0);const he=M===null&&(R==="finished"||R==="running"&&ce);return h&&h(Z.value),he&&H(),Z},Q=()=>{x&&x.stop(),x=void 0},ae=()=>{R="idle",Q(),j(),w(),$=re=null},H=()=>{R="finished",p&&p(),Q(),j()},te=()=>{if(N)return;x||(x=n(se));const me=x.now();l&&l(),M!==null?$=me-M:(!$||R==="finished")&&($=me),R==="finished"&&w(),re=$,M=null,R="running",x.start()};e&&te();const ie={then(me,A){return L.then(me,A)},get time(){return is(z)},set time(me){me=Ys(me),z=me,M!==null||!x||m===0?M=me:$=x.now()-me/m},get duration(){const me=q.calculatedDuration===null?U2(q):q.calculatedDuration;return is(me)},get speed(){return m},set speed(me){me===m||!x||(m=me,ie.time=is(z))},get state(){return R},play:te,pause:()=>{R="paused",M=z},stop:()=>{N=!0,R!=="idle"&&(R="idle",d&&d(),ae())},cancel:()=>{re!==null&&se(re),ae()},complete:()=>{R="finished"},sample:me=>($=0,se(me))};return ie}function vA(e){let t;return()=>(t===void 0&&(t=e()),t)}const yA=vA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xA=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),fd=10,wA=2e4,bA=(e,t)=>t.type==="spring"||e==="backgroundColor"||!lw(t.ease);function SA(e,t,{onUpdate:n,onComplete:r,...i}){if(!(yA()&&xA.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,d=!1;const p=()=>{l=new Promise(b=>{a=b})};p();let{keyframes:h,duration:g=300,ease:m,times:N}=i;if(bA(t,i)){const b=xf({...i,repeat:0,delay:0});let T={done:!1,value:h[0]};const q=[];let G=0;for(;!T.done&&G<wA;)T=b.sample(G),q.push(T.value),G+=fd;N=void 0,h=q,g=G-fd,m="linear"}const j=Fj(e.owner.current,t,h,{...i,duration:g,ease:m,times:N}),L=()=>{d=!1,j.cancel()},w=()=>{d=!0,Ht.update(L),a(),p()};return j.onfinish=()=>{d||(e.set(Tj(h,i)),r&&r(),w())},{then(b,T){return l.then(b,T)},attachTimeline(b){return j.timeline=b,j.onfinish=null,cn},get time(){return is(j.currentTime||0)},set time(b){j.currentTime=Ys(b)},get speed(){return j.playbackRate},set speed(b){j.playbackRate=b},get duration(){return is(g)},play:()=>{o||(j.play(),cs(L))},pause:()=>j.pause(),stop:()=>{if(o=!0,j.playState==="idle")return;const{currentTime:b}=j;if(b){const T=xf({...i,autoplay:!1});e.setWithVelocity(T.sample(b-fd).value,T.sample(b).value,fd)}w()},complete:()=>{d||j.finish()},cancel:w}}function NA({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:cn,pause:cn,stop:cn,then:s=>(s(),Promise.resolve()),cancel:cn,complete:cn});return t?xf({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const jA={type:"spring",stiffness:500,damping:25,restSpeed:10},AA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),LA={type:"keyframes",duration:.8},CA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PA=(e,{keyframes:t})=>t.length>2?LA:zo.has(e)?e.startsWith("scale")?AA(t[1]):jA:CA,Vm=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qs.test(t)||t==="0")&&!t.startsWith("url(")),kA=new Set(["brightness","contrast","saturate","opacity"]);function _A(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Kf)||[];if(!r)return e;const i=n.replace(r,"");let s=kA.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const EA=/([a-z-]*)\(.*?\)/g,Um={...Qs,getAnimatableNone:e=>{const t=e.match(EA);return t?t.map(_A).join(" "):e}},FA={...Hx,color:rr,backgroundColor:rr,outlineColor:rr,fill:rr,stroke:rr,borderColor:rr,borderTopColor:rr,borderRightColor:rr,borderBottomColor:rr,borderLeftColor:rr,filter:Um,WebkitFilter:Um},L0=e=>FA[e];function Fw(e,t){let n=L0(e);return n!==Um&&(n=Qs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Tw=e=>/^0[^.\s]+$/.test(e);function TA(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Tw(e)}function IA(e,t,n,r){const i=Vm(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const l=[];for(let d=0;d<s.length;d++)s[d]===null&&(s[d]=d===0?o:s[d-1]),TA(s[d])&&l.push(d),typeof s[d]=="string"&&s[d]!=="none"&&s[d]!=="0"&&(a=s[d]);if(i&&l.length&&a)for(let d=0;d<l.length;d++){const p=l[d];s[p]=Fw(t,a)}return s}function RA({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:d,...p}){return!!Object.keys(p).length}function C0(e,t){return e[t]||e.default||e}const MA={skipAnimations:!1},P0=(e,t,n,r={})=>i=>{const s=C0(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ys(o);const l=IA(t,e,n,s),d=l[0],p=l[l.length-1],h=Vm(e,d),g=Vm(e,p);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:N=>{t.set(N),s.onUpdate&&s.onUpdate(N)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(RA(s)||(m={...m,...PA(e,m)}),m.duration&&(m.duration=Ys(m.duration)),m.repeatDelay&&(m.repeatDelay=Ys(m.repeatDelay)),!h||!g||Ej.current||s.type===!1||MA.skipAnimations)return NA(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const N=SA(t,e,m);if(N)return N}return xf(m)};function wf(e){return!!(br(e)&&e.add)}const Iw=e=>/^\-?\d*\.?\d+$/.test(e);function k0(e,t){e.indexOf(t)===-1&&e.push(t)}function _0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class E0{constructor(){this.subscriptions=[]}add(t){return k0(this.subscriptions,t),()=>_0(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const DA=e=>!isNaN(parseFloat(e));class OA{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Kn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ht.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ht.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=DA(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new E0);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ht.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?kw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nl(e,t){return new OA(e,t)}const Rw=e=>t=>t.test(e),BA={test:e=>e==="auto",parse:e=>e},Mw=[Vo,Ze,Ii,_s,WN,HN,BA],Kl=e=>Mw.find(Rw(e)),zA=[...Mw,rr,Qs],VA=e=>zA.find(Rw(e));function UA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,nl(n))}function qA(e,t){const n=Xf(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=oj(s[o]);UA(e,o,a)}}function $A(e,t,n){var r,i;const s=Object.keys(t).filter(a=>!e.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],d=t[l];let p=null;Array.isArray(d)&&(p=d[0]),p===null&&(p=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),p!=null&&(typeof p=="string"&&(Iw(p)||Tw(p))?p=parseFloat(p):!VA(p)&&Qs.test(d)&&(p=Fw(l,d)),e.addValue(l,nl(p,{owner:e})),n[l]===void 0&&(n[l]=p),p!==null&&e.setBaseTarget(l,p))}}function HA(e,t){return t?(t[e]||t.default||t).from:void 0}function WA(e,t,n){const r={};for(const i in e){const s=HA(i,t);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function GA({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function YA(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Dw(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const d=[],p=i&&e.animationState&&e.animationState.getState()[i];for(const h in a){const g=e.getValue(h),m=a[h];if(!g||m===void 0||p&&GA(p,h))continue;const N={delay:n,elapsed:0,...C0(s||{},h)};if(window.HandoffAppearAnimations){const w=e.getProps()[Ox];if(w){const x=window.HandoffAppearAnimations(w,h,g,Ht);x!==null&&(N.elapsed=x,N.isHandoff=!0)}}let j=!N.isHandoff&&!YA(g,m);if(N.type==="spring"&&(g.getVelocity()||N.velocity)&&(j=!1),g.animation&&(j=!1),j)continue;g.start(P0(h,g,m,e.shouldReduceMotion&&zo.has(h)?{type:!1}:N));const L=g.animation;wf(l)&&(l.add(h),L.then(()=>l.remove(h))),d.push(L)}return o&&Promise.all(d).then(()=>{o&&qA(e,o)}),d}function qm(e,t,n={}){const r=Xf(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Dw(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:h}=i;return KA(e,t,d+l,p,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,d]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function KA(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(d=0)=>d*r:(d=0)=>a-d*r;return Array.from(e.variantChildren).sort(JA).forEach((d,p)=>{d.notify("AnimationStart",t),o.push(qm(d,t,{...s,delay:n+l(p)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function JA(e,t){return e.sortNodePosition(t)}function XA(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>qm(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=qm(e,t,n);else{const i=typeof t=="function"?Xf(e,t,n.custom):t;r=Promise.all(Dw(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const QA=[...f0].reverse(),ZA=f0.length;function eL(e){return t=>Promise.all(t.map(({animation:n,options:r})=>XA(e,n,r)))}function tL(e){let t=eL(e);const n=rL();let r=!0;const i=(l,d)=>{const p=Xf(e,d);if(p){const{transition:h,transitionEnd:g,...m}=p;l={...l,...m,...g}}return l};function s(l){t=l(e)}function o(l,d){const p=e.getProps(),h=e.getVariantContext(!0)||{},g=[],m=new Set;let N={},j=1/0;for(let w=0;w<ZA;w++){const x=QA[w],b=n[x],T=p[x]!==void 0?p[x]:h[x],q=zu(T),G=x===d?b.isActive:null;G===!1&&(j=w);let R=T===h[x]&&T!==p[x]&&q;if(R&&r&&e.manuallyAnimateOnMount&&(R=!1),b.protectedKeys={...N},!b.isActive&&G===null||!T&&!b.prevProp||Gf(T)||typeof T=="boolean")continue;let $=nL(b.prevProp,T)||x===d&&b.isActive&&!R&&q||w>j&&q,re=!1;const F=Array.isArray(T)?T:[T];let k=F.reduce(i,{});G===!1&&(k={});const{prevResolvedValues:W={}}=b,z={...W,...k},se=Q=>{$=!0,m.has(Q)&&(re=!0,m.delete(Q)),b.needsAnimating[Q]=!0};for(const Q in z){const ae=k[Q],H=W[Q];if(N.hasOwnProperty(Q))continue;let te=!1;gf(ae)&&gf(H)?te=!ow(ae,H):te=ae!==H,te?ae!==void 0?se(Q):m.add(Q):ae!==void 0&&m.has(Q)?se(Q):b.protectedKeys[Q]=!0}b.prevProp=T,b.prevResolvedValues=k,b.isActive&&(N={...N,...k}),r&&e.blockInitialAnimation&&($=!1),$&&(!R||re)&&g.push(...F.map(Q=>({animation:Q,options:{type:x,...l}})))}if(m.size){const w={};m.forEach(x=>{const b=e.getBaseTarget(x);b!==void 0&&(w[x]=b)}),g.push({animation:w})}let L=!!g.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(L=!1),r=!1,L?t(g):Promise.resolve()}function a(l,d,p){var h;if(n[l].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var N;return(N=m.animationState)===null||N===void 0?void 0:N.setActive(l,d)}),n[l].isActive=d;const g=o(p,l);for(const m in n)n[m].protectedKeys={};return g}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function nL(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ow(t,e):!1}function vo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rL(){return{animate:vo(!0),whileInView:vo(),whileHover:vo(),whileTap:vo(),whileDrag:vo(),whileFocus:vo(),exit:vo()}}class iL extends so{constructor(t){super(t),t.animationState||(t.animationState=tL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Gf(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let sL=0;class oL extends so{constructor(){super(...arguments),this.id=sL++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const aL={animation:{Feature:iL},exit:{Feature:oL}},q2=(e,t)=>Math.abs(e-t);function lL(e,t){const n=q2(e.x,t.x),r=q2(e.y,t.y);return Math.sqrt(n**2+r**2)}class Ow{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Cp(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=lL(h.offset,{x:0,y:0})>=3;if(!g&&!m)return;const{point:N}=h,{timestamp:j}=Kn;this.history.push({...N,timestamp:j});const{onStart:L,onMove:w}=this.handlers;g||(L&&L(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,g)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Lp(g,this.transformPagePoint),Ht.update(this.updatePoint,!0)},this.handlePointerUp=(h,g)=>{this.end();const{onEnd:m,onSessionEnd:N,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Cp(h.type==="pointercancel"?this.lastMoveEventInfo:Lp(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,L),N&&N(h,L)},!tw(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Jf(t),a=Lp(o,this.transformPagePoint),{point:l}=a,{timestamp:d}=Kn;this.history=[{...l,timestamp:d}];const{onSessionStart:p}=n;p&&p(t,Cp(a,this.history)),this.removeListeners=Gs(rs(this.contextWindow,"pointermove",this.handlePointerMove),rs(this.contextWindow,"pointerup",this.handlePointerUp),rs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cs(this.updatePoint)}}function Lp(e,t){return t?{point:t(e.point)}:e}function $2(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Cp({point:e},t){return{point:e,delta:$2(e,Bw(t)),offset:$2(e,uL(t)),velocity:cL(t,.1)}}function uL(e){return e[0]}function Bw(e){return e[e.length-1]}function cL(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Bw(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ys(t)));)n--;if(!r)return{x:0,y:0};const s=is(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Dr(e){return e.max-e.min}function $m(e,t=0,n=.01){return Math.abs(e-t)<=n}function H2(e,t,n,r=.5){e.origin=r,e.originPoint=tn(t.min,t.max,e.origin),e.scale=Dr(n)/Dr(t),($m(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=tn(n.min,n.max,e.origin)-e.originPoint,($m(e.translate)||isNaN(e.translate))&&(e.translate=0)}function xu(e,t,n,r){H2(e.x,t.x,n.x,r?r.originX:void 0),H2(e.y,t.y,n.y,r?r.originY:void 0)}function W2(e,t,n){e.min=n.min+t.min,e.max=e.min+Dr(t)}function dL(e,t,n){W2(e.x,t.x,n.x),W2(e.y,t.y,n.y)}function G2(e,t,n){e.min=t.min-n.min,e.max=e.min+Dr(t)}function wu(e,t,n){G2(e.x,t.x,n.x),G2(e.y,t.y,n.y)}function fL(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?tn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?tn(n,e,r.max):Math.min(e,n)),e}function Y2(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function hL(e,{top:t,left:n,bottom:r,right:i}){return{x:Y2(e.x,n,i),y:Y2(e.y,t,r)}}function K2(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function pL(e,t){return{x:K2(e.x,t.x),y:K2(e.y,t.y)}}function mL(e,t){let n=.5;const r=Dr(e),i=Dr(t);return i>r?n=Uu(t.min,t.max-r,e.min):r>i&&(n=Uu(e.min,e.max-i,t.min)),Xs(0,1,n)}function gL(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Hm=.35;function vL(e=Hm){return e===!1?e=0:e===!0&&(e=Hm),{x:J2(e,"left","right"),y:J2(e,"top","bottom")}}function J2(e,t,n){return{min:X2(e,t),max:X2(e,n)}}function X2(e,t){return typeof e=="number"?e:e[t]||0}const Q2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ma=()=>({x:Q2(),y:Q2()}),Z2=()=>({min:0,max:0}),bn=()=>({x:Z2(),y:Z2()});function Jr(e){return[e("x"),e("y")]}function zw({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function yL({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function xL(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Pp(e){return e===void 0||e===1}function Wm({scale:e,scaleX:t,scaleY:n}){return!Pp(e)||!Pp(t)||!Pp(n)}function bo(e){return Wm(e)||Vw(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Vw(e){return e5(e.x)||e5(e.y)}function e5(e){return e&&e!=="0%"}function bf(e,t,n){const r=e-n,i=t*r;return n+i}function t5(e,t,n,r,i){return i!==void 0&&(e=bf(e,i,r)),bf(e,n,r)+t}function Gm(e,t=0,n=1,r,i){e.min=t5(e.min,t,n,r,i),e.max=t5(e.max,t,n,r,i)}function Uw(e,{x:t,y:n}){Gm(e.x,t.translate,t.scale,t.originPoint),Gm(e.y,n.translate,n.scale,n.originPoint)}function wL(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Da(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Uw(e,o)),r&&bo(s.latestValues)&&Da(e,s.latestValues))}t.x=n5(t.x),t.y=n5(t.y)}function n5(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ts(e,t){e.min=e.min+t,e.max=e.max+t}function r5(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=tn(e.min,e.max,s);Gm(e,t[n],t[r],o,t.scale)}const bL=["x","scaleX","originX"],SL=["y","scaleY","originY"];function Da(e,t){r5(e.x,t,bL),r5(e.y,t,SL)}function qw(e,t){return zw(xL(e.getBoundingClientRect(),t))}function NL(e,t,n){const r=qw(e,n),{scroll:i}=t;return i&&(Ts(r.x,i.offset.x),Ts(r.y,i.offset.y)),r}const $w=({current:e})=>e?e.ownerDocument.defaultView:null,jL=new WeakMap;class AL{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jf(p,"page").point)},s=(p,h)=>{const{drag:g,dragPropagation:m,onDragStart:N}=this.getProps();if(g&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=rw(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jr(L=>{let w=this.getAxisMotionValue(L).get()||0;if(Ii.test(w)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[L];b&&(w=Dr(b)*(parseFloat(w)/100))}}this.originPoint[L]=w}),N&&Ht.update(()=>N(p,h),!1,!0);const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},o=(p,h)=>{const{dragPropagation:g,dragDirectionLock:m,onDirectionLock:N,onDrag:j}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:L}=h;if(m&&this.currentDirection===null){this.currentDirection=LL(L),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",h.point,L),this.updateAxis("y",h.point,L),this.visualElement.render(),j&&j(p,h)},a=(p,h)=>this.stop(p,h),l=()=>Jr(p=>{var h;return this.getAnimationState(p)==="paused"&&((h=this.getAxisMotionValue(p).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Ow(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:$w(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ht.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!hd(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=fL(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Ia(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=hL(i.layoutBox,n):this.constraints=!1,this.elastic=vL(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Jr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=gL(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ia(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=NL(r,i.root,this.visualElement.getTransformPagePoint());let o=pL(i.layout.layoutBox,s);if(n){const a=n(yL(o));this.hasMutatedConstraints=!!a,a&&(o=zw(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},d=Jr(p=>{if(!hd(p,n,this.currentDirection))return;let h=l&&l[p]||{};o&&(h={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,N={type:"inertia",velocity:r?t[p]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(p,N)});return Promise.all(d).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(P0(t,r,0,n))}stopAnimation(){Jr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Jr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Jr(n=>{const{drag:r}=this.getProps();if(!hd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-tn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ia(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Jr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=mL({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jr(o=>{if(!hd(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:d}=this.constraints[o];a.set(tn(l,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;jL.set(this.visualElement,this);const t=this.visualElement.current,n=rs(t,"pointerdown",l=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ia(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=es(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(Jr(p=>{const h=this.getAxisMotionValue(p);h&&(this.originPoint[p]+=l[p].translate,h.set(h.get()+l[p].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Hm,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function hd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function LL(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class CL extends so{constructor(t){super(t),this.removeGroupControls=cn,this.removeListeners=cn,this.controls=new AL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const i5=e=>(t,n)=>{e&&Ht.update(()=>e(t,n))};class PL extends so{constructor(){super(...arguments),this.removePointerDownListener=cn}onPointerDown(t){this.session=new Ow(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$w(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:i5(t),onStart:i5(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ht.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=rs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function kL(){const e=O.useContext(Hf);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=O.useId();return O.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function s5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Jl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ze.test(e))e=parseFloat(e);else return e;const n=s5(e,t.target.x),r=s5(e,t.target.y);return`${n}% ${r}%`}},_L={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Qs.parse(e);if(i.length>5)return r;const s=Qs.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const d=tn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};class EL extends kt.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;ON(FL),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Ht.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Hw(e){const[t,n]=kL(),r=O.useContext(p0);return kt.createElement(EL,{...e,layoutGroup:r,switchLayoutGroup:O.useContext(zx),isPresent:t,safeToRemove:n})}const FL={borderRadius:{...Jl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jl,borderTopRightRadius:Jl,borderBottomLeftRadius:Jl,borderBottomRightRadius:Jl,boxShadow:_L},Ww=["TopLeft","TopRight","BottomLeft","BottomRight"],TL=Ww.length,o5=e=>typeof e=="string"?parseFloat(e):e,a5=e=>typeof e=="number"||Ze.test(e);function IL(e,t,n,r,i,s){i?(e.opacity=tn(0,n.opacity!==void 0?n.opacity:1,RL(r)),e.opacityExit=tn(t.opacity!==void 0?t.opacity:1,0,ML(r))):s&&(e.opacity=tn(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<TL;o++){const a=`border${Ww[o]}Radius`;let l=l5(t,a),d=l5(n,a);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||a5(l)===a5(d)?(e[a]=Math.max(tn(o5(l),o5(d),r),0),(Ii.test(d)||Ii.test(l))&&(e[a]+="%")):e[a]=d}(t.rotate||n.rotate)&&(e.rotate=tn(t.rotate||0,n.rotate||0,r))}function l5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const RL=Gw(0,.5,mw),ML=Gw(.5,.95,cn);function Gw(e,t,n){return r=>r<e?0:r>t?1:n(Uu(e,t,r))}function u5(e,t){e.min=t.min,e.max=t.max}function Kr(e,t){u5(e.x,t.x),u5(e.y,t.y)}function c5(e,t,n,r,i){return e-=t,e=bf(e,1/n,r),i!==void 0&&(e=bf(e,1/i,r)),e}function DL(e,t=0,n=1,r=.5,i,s=e,o=e){if(Ii.test(t)&&(t=parseFloat(t),t=tn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=tn(s.min,s.max,r);e===s&&(a-=t),e.min=c5(e.min,t,n,a,i),e.max=c5(e.max,t,n,a,i)}function d5(e,t,[n,r,i],s,o){DL(e,t[n],t[r],t[i],t.scale,s,o)}const OL=["x","scaleX","originX"],BL=["y","scaleY","originY"];function f5(e,t,n,r){d5(e.x,t,OL,n?n.x:void 0,r?r.x:void 0),d5(e.y,t,BL,n?n.y:void 0,r?r.y:void 0)}function h5(e){return e.translate===0&&e.scale===1}function Yw(e){return h5(e.x)&&h5(e.y)}function zL(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Kw(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function p5(e){return Dr(e.x)/Dr(e.y)}class VL{constructor(){this.members=[]}add(t){k0(this.members,t),t.scheduleRender()}remove(t){if(_0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function m5(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:d,rotateY:p}=n;l&&(r+=`rotate(${l}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const UL=(e,t)=>e.depth-t.depth;class qL{constructor(){this.children=[],this.isDirty=!1}add(t){k0(this.children,t),this.isDirty=!0}remove(t){_0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(UL),this.isDirty=!1,this.children.forEach(t)}}function $L(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(cs(r),e(s-t))};return Ht.read(r,!0),()=>cs(r)}function HL(e){window.MotionDebug&&window.MotionDebug.record(e)}function WL(e){return e instanceof SVGElement&&e.tagName!=="svg"}function GL(e,t,n){const r=br(e)?e:nl(e);return r.start(P0("",r,t,n)),r.animation}const g5=["","X","Y","Z"],YL={visibility:"hidden"},v5=1e3;let KL=0;const So={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Jw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=KL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,So.totalNodes=So.resolvedTargetDeltas=So.recalculatedProjection=0,this.nodes.forEach(QL),this.nodes.forEach(r8),this.nodes.forEach(i8),this.nodes.forEach(ZL),HL(So)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qL)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new E0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=WL(o),this.instance=o;const{layoutId:l,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(d||l)&&(this.isLayoutDirty=!0),e){let h;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=$L(g,250),Rd.hasAnimatedSinceResize&&(Rd.hasAnimatedSinceResize=!1,this.nodes.forEach(x5))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&p&&(l||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeTargetChanged:m,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||u8,{onLayoutAnimationStart:L,onLayoutAnimationComplete:w}=p.getProps(),x=!this.targetLayout||!Kw(this.targetLayout,N)||m,b=!g&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||g&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const T={...C0(j,"layout"),onPlay:L,onComplete:w};(p.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else g||x5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(s8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const h=this.path[p];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(y5);return}this.isUpdating||this.nodes.forEach(t8),this.isUpdating=!1,this.nodes.forEach(n8),this.nodes.forEach(JL),this.nodes.forEach(XL),this.clearAllSnapshots();const a=performance.now();Kn.delta=Xs(0,1e3/60,a-Kn.timestamp),Kn.timestamp=a,Kn.isProcessing=!0,yp.update.process(Kn),yp.preRender.process(Kn),yp.render.process(Kn),Kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(e8),this.sharedNodes.forEach(o8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Yw(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;o&&(a||bo(this.latestValues)||p)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),c8(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return bn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Ts(a.x,l.offset.x),Ts(a.y,l.offset.y)),a}removeElementScroll(o){const a=bn();Kr(a,o);for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:p,options:h}=d;if(d!==this.root&&p&&h.layoutScroll){if(p.isRoot){Kr(a,o);const{scroll:g}=this.root;g&&(Ts(a.x,-g.offset.x),Ts(a.y,-g.offset.y))}Ts(a.x,p.offset.x),Ts(a.y,p.offset.y)}}return a}applyTransform(o,a=!1){const l=bn();Kr(l,o);for(let d=0;d<this.path.length;d++){const p=this.path[d];!a&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Da(l,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),bo(p.latestValues)&&Da(l,p.latestValues)}return bo(this.latestValues)&&Da(l,this.latestValues),l}removeTransform(o){const a=bn();Kr(a,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!bo(d.latestValues))continue;Wm(d.latestValues)&&d.updateSnapshot();const p=bn(),h=d.measurePageBox();Kr(p,h),f5(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return bo(this.latestValues)&&f5(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=Kn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),wu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=bn(),this.targetWithTransforms=bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kr(this.target,this.layout.layoutBox),Uw(this.target,this.targetDelta)):Kr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),wu(this.relativeTargetOrigin,this.target,m.target),Kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}So.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Wm(this.parent.latestValues)||Vw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Kn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||h))return;Kr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,m=this.treeScale.y;wL(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:N}=a;if(!N){this.projectionTransform&&(this.projectionDelta=Ma(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ma(),this.projectionDeltaWithTransform=Ma());const j=this.projectionTransform;xu(this.projectionDelta,this.layoutCorrected,N,this.latestValues),this.projectionTransform=m5(this.projectionDelta,this.treeScale),(this.projectionTransform!==j||this.treeScale.x!==g||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N)),So.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,d=l?l.latestValues:{},p={...this.latestValues},h=Ma();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=bn(),m=l?l.source:void 0,N=this.layout?this.layout.source:void 0,j=m!==N,L=this.getStack(),w=!L||L.members.length<=1,x=!!(j&&!w&&this.options.crossfade===!0&&!this.path.some(l8));this.animationProgress=0;let b;this.mixTargetDelta=T=>{const q=T/1e3;w5(h.x,o.x,q),w5(h.y,o.y,q),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wu(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),a8(this.relativeTarget,this.relativeTargetOrigin,g,q),b&&zL(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=bn()),Kr(b,this.relativeTarget)),j&&(this.animationValues=p,IL(p,d,this.latestValues,q,x,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ht.update(()=>{Rd.hasAnimatedSinceResize=!0,this.currentAnimation=GL(0,v5,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(v5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:d,latestValues:p}=o;if(!(!a||!l||!d)){if(this!==o&&this.layout&&d&&Xw(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||bn();const h=Dr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const g=Dr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}Kr(a,l),Da(a,p),xu(this.projectionDeltaWithTransform,this.layoutCorrected,a,p)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new VL),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const d={};for(let p=0;p<g5.length;p++){const h="rotate"+g5[p];l[h]&&(d[h]=l[h],o.setStaticValue(h,0))}o.render();for(const p in d)o.setStaticValue(p,d[p]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return YL;const d={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Id(o==null?void 0:o.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=Id(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!bo(this.latestValues)&&(j.transform=p?p({},""):"none",this.hasProjected=!1),j}const g=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=m5(this.projectionDeltaWithTransform,this.treeScale,g),p&&(d.transform=p(g,d.transform));const{x:m,y:N}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${N.origin*100}% 0`,h.animationValues?d.opacity=h===this?(l=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const j in pf){if(g[j]===void 0)continue;const{correct:L,applyTo:w}=pf[j],x=d.transform==="none"?g[j]:L(g[j],h);if(w){const b=w.length;for(let T=0;T<b;T++)d[w[T]]=x}else d[j]=x}return this.options.layoutId&&(d.pointerEvents=h===this?Id(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(y5),this.root.sharedNodes.clear()}}}function JL(e){e.updateLayout()}function XL(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Jr(h=>{const g=o?n.measuredBox[h]:n.layoutBox[h],m=Dr(g);g.min=r[h].min,g.max=g.min+m}):Xw(s,n.layoutBox,r)&&Jr(h=>{const g=o?n.measuredBox[h]:n.layoutBox[h],m=Dr(r[h]);g.max=g.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const a=Ma();xu(a,r,n.layoutBox);const l=Ma();o?xu(l,e.applyTransform(i,!0),n.measuredBox):xu(l,r,n.layoutBox);const d=!Yw(a);let p=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:m}=h;if(g&&m){const N=bn();wu(N,n.layoutBox,g.layoutBox);const j=bn();wu(j,r,m.layoutBox),Kw(N,j)||(p=!0),h.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=N,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:d,hasRelativeTargetChanged:p})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function QL(e){So.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ZL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function e8(e){e.clearSnapshot()}function y5(e){e.clearMeasurements()}function t8(e){e.isLayoutDirty=!1}function n8(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function x5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function r8(e){e.resolveTargetDelta()}function i8(e){e.calcProjection()}function s8(e){e.resetRotation()}function o8(e){e.removeLeadSnapshot()}function w5(e,t,n){e.translate=tn(t.translate,0,n),e.scale=tn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function b5(e,t,n,r){e.min=tn(t.min,n.min,r),e.max=tn(t.max,n.max,r)}function a8(e,t,n,r){b5(e.x,t.x,n.x,r),b5(e.y,t.y,n.y,r)}function l8(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const u8={duration:.45,ease:[.4,0,.1,1]},S5=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),N5=S5("applewebkit/")&&!S5("chrome/")?Math.round:cn;function j5(e){e.min=N5(e.min),e.max=N5(e.max)}function c8(e){j5(e.x),j5(e.y)}function Xw(e,t,n){return e==="position"||e==="preserve-aspect"&&!$m(p5(t),p5(n),.2)}const d8=Jw({attachResizeListener:(e,t)=>es(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kp={current:void 0},Qw=Jw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kp.current){const e=new d8({});e.mount(window),e.setOptions({layoutScroll:!0}),kp.current=e}return kp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),f8={pan:{Feature:PL},drag:{Feature:CL,ProjectionNode:Qw,MeasureLayout:Hw}},h8=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function p8(e){const t=h8.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Ym(e,t,n=1){const[r,i]=p8(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return Iw(o)?parseFloat(o):o}else return Dm(i)?Ym(i,t,n+1):i}function m8(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!Dm(s))return;const o=Ym(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!Dm(s))continue;const o=Ym(s,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const g8=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Zw=e=>g8.has(e),v8=e=>Object.keys(e).some(Zw),A5=e=>e===Vo||e===Ze,L5=(e,t)=>parseFloat(e.split(", ")[t]),C5=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return L5(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?L5(s[1],e):0}},y8=new Set(["x","y","z"]),x8=Qu.filter(e=>!y8.has(e));function w8(e){const t=[];return x8.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const rl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:C5(4,13),y:C5(5,14)};rl.translateX=rl.x;rl.translateY=rl.y;const b8=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(d=>{a[d]=rl[d](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(d=>{const p=t.getValue(d);p&&p.jump(a[d]),e[d]=rl[d](l,s)}),e},S8=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(Zw);let s=[],o=!1;const a=[];if(i.forEach(l=>{const d=e.getValue(l);if(!e.hasValue(l))return;let p=n[l],h=Kl(p);const g=t[l];let m;if(gf(g)){const N=g.length,j=g[0]===null?1:0;p=g[j],h=Kl(p);for(let L=j;L<N&&g[L]!==null;L++)m?S0(Kl(g[L])===m):m=Kl(g[L])}else m=Kl(g);if(h!==m)if(A5(h)&&A5(m)){const N=d.get();typeof N=="string"&&d.set(parseFloat(N)),typeof g=="string"?t[l]=parseFloat(g):Array.isArray(g)&&m===Ze&&(t[l]=g.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(p===0||g===0)?p===0?d.set(m.transform(p)):t[l]=h.transform(g):(o||(s=w8(e),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],d.jump(g))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,d=b8(t,e,a);return s.length&&s.forEach(([p,h])=>{e.getValue(p).set(h)}),e.render(),Wf&&l!==null&&window.scrollTo({top:l}),{target:d,transitionEnd:r}}else return{target:t,transitionEnd:r}};function N8(e,t,n,r){return v8(t)?S8(e,t,n,r):{target:t,transitionEnd:r}}const j8=(e,t,n,r)=>{const i=m8(e,t,r);return t=i.target,r=i.transitionEnd,N8(e,t,n,r)},Km={current:null},e3={current:!1};function A8(){if(e3.current=!0,!!Wf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Km.current=e.matches;e.addListener(t),t()}else Km.current=!1}function L8(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(br(s))e.addValue(i,s),wf(r)&&r.add(i);else if(br(o))e.addValue(i,nl(s,{owner:e})),wf(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,nl(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const P5=new WeakMap,t3=Object.keys(Vu),C8=t3.length,k5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],P8=h0.length;class k8{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ht.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Yf(n),this.isVariantNode=Bx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{});for(const h in p){const g=p[h];a[h]!==void 0&&br(g)&&(g.set(a[h],!1),wf(d)&&d.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,P5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),e3.current||A8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Km.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){P5.delete(this.current),this.projection&&this.projection.unmount(),cs(this.notifyUpdate),cs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=zo.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ht.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let o,a;for(let l=0;l<C8;l++){const d=t3[l],{isEnabled:p,Feature:h,ProjectionNode:g,MeasureLayout:m}=Vu[d];g&&(o=g),p(n)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:d,drag:p,dragConstraints:h,layoutScroll:g,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:d,alwaysMeasureLayout:!!p||h&&Ia(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:s,layoutScroll:g,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<k5.length;r++){const i=k5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=L8(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<P8;r++){const i=h0[r],s=this.props[i];(zu(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=nl(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=b0(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!br(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new E0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class n3 extends k8{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=WA(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){$A(this,r,o);const a=j8(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function _8(e){return window.getComputedStyle(e)}class E8 extends n3{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(zo.has(n)){const r=L0(n);return r&&r.default||0}else{const r=_8(t),i=(qx(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return qw(t,n)}build(t,n,r,i){g0(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return w0(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;br(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){Kx(t,n,r,i)}}class F8 extends n3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(zo.has(n)){const r=L0(n);return r&&r.default||0}return n=Jx.has(n)?n:d0(n),t.getAttribute(n)}measureInstanceViewportBox(){return bn()}scrapeMotionValuesFromProps(t,n){return Qx(t,n)}build(t,n,r,i){y0(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){Xx(t,n,r,i)}mount(t){this.isSVGTag=x0(t.tagName),super.mount(t)}}const T8=(e,t)=>m0(e)?new F8(t,{enableHardwareAcceleration:!1}):new E8(t,{enableHardwareAcceleration:!0}),I8={layout:{ProjectionNode:Qw,MeasureLayout:Hw}},R8={...aL,...Cj,...f8,...I8},Ve=MN((e,t)=>pj(e,t,R8,T8));function r3(){const e=O.useRef(!1);return c0(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function M8(){const e=r3(),[t,n]=O.useState(0),r=O.useCallback(()=>{e.current&&n(t+1)},[t]);return[O.useCallback(()=>Ht.postRender(r),[r]),t]}class D8 extends O.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function O8({children:e,isPresent:t}){const n=O.useId(),r=O.useRef(null),i=O.useRef({width:0,height:0,top:0,left:0});return O.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(t||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),O.createElement(D8,{isPresent:t,childRef:r,sizeRef:i},O.cloneElement(e,{ref:r}))}const _p=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Zx(B8),l=O.useId(),d=O.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:p=>{a.set(p,!0);for(const h of a.values())if(!h)return;r&&r()},register:p=>(a.set(p,!1),()=>a.delete(p))}),s?void 0:[n]);return O.useMemo(()=>{a.forEach((p,h)=>a.set(h,!1))},[n]),O.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=O.createElement(O8,{isPresent:n},e)),O.createElement(Hf.Provider,{value:d},e)};function B8(){return new Map}function z8(e){return O.useEffect(()=>()=>e(),[])}const No=e=>e.key||"";function V8(e,t){e.forEach(n=>{const r=No(n);t.set(r,n)})}function U8(e){const t=[];return O.Children.forEach(e,n=>{O.isValidElement(n)&&t.push(n)}),t}const mi=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=O.useContext(p0).forceRender||M8()[0],l=r3(),d=U8(e);let p=d;const h=O.useRef(new Map).current,g=O.useRef(p),m=O.useRef(new Map).current,N=O.useRef(!0);if(c0(()=>{N.current=!1,V8(d,m),g.current=p}),z8(()=>{N.current=!0,m.clear(),h.clear()}),N.current)return O.createElement(O.Fragment,null,p.map(x=>O.createElement(_p,{key:No(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},x)));p=[...p];const j=g.current.map(No),L=d.map(No),w=j.length;for(let x=0;x<w;x++){const b=j[x];L.indexOf(b)===-1&&!h.has(b)&&h.set(b,void 0)}return o==="wait"&&h.size&&(p=[]),h.forEach((x,b)=>{if(L.indexOf(b)!==-1)return;const T=m.get(b);if(!T)return;const q=j.indexOf(b);let G=x;if(!G){const R=()=>{h.delete(b);const M=Array.from(m.keys()).filter($=>!L.includes($));if(M.forEach($=>m.delete($)),g.current=d.filter($=>{const re=No($);return re===b||M.includes(re)}),!h.size){if(l.current===!1)return;a(),r&&r()}};G=O.createElement(_p,{key:No(T),isPresent:!1,onExitComplete:R,custom:t,presenceAffectsLayout:s,mode:o},T),h.set(b,G)}p.splice(q,0,G)}),p=p.map(x=>{const b=x.key;return h.has(b)?x:O.createElement(_p,{key:No(x),isPresent:!0,presenceAffectsLayout:s,mode:o},x)}),O.createElement(O.Fragment,null,h.size?p:p.map(x=>O.cloneElement(x)))};function F0(){const[e,t]=O.useState(null),[n,r]=O.useState(!0);return O.useEffect(()=>{const i=async()=>{try{const{data:{session:o}}=await Fr.auth.getSession();if(!(o!=null&&o.user)){t(null),r(!1);return}const a=o.user.email.split("@")[0],l={id:o.user.id,email:o.user.email,firstName:a,lastName:"",name:a},{data:d,error:p}=await Fr.from("profiles").select("*").eq("id",o.user.id).single();if(d){const h={...l,firstName:d.prenom||l.firstName,lastName:d.nom||"",name:`${d.prenom||l.firstName} ${d.nom||""}`.trim(),profile:d};t(h)}else t(l)}catch(o){console.error("Erreur chargement utilisateur:",o),t(null)}finally{r(!1)}};i();const{data:{subscription:s}}=Fr.auth.onAuthStateChange(async(o,a)=>{o==="SIGNED_IN"?i():o==="SIGNED_OUT"&&(t(null),r(!1))});return()=>s==null?void 0:s.unsubscribe()},[]),{user:e,loading:n}}const q8=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i})=>{var Ge,ye,K,Je,Ue;const[s,o]=O.useState(!1),[a,l]=O.useState(!1),[d,p]=O.useState(!1),[h,g]=O.useState(!1),[m,N]=O.useState(""),[j,L]=O.useState(""),[w,x]=O.useState(""),[b,T]=O.useState(""),[q,G]=O.useState(""),[R,M]=O.useState(!1),{user:$,loading:re}=F0(),F=!!$&&!re,k=O.useRef(null),[W,z]=O.useState(""),[se,Q]=O.useState(""),[ae,H]=O.useState("");O.useState(!1),O.useState("");const[te,ie]=O.useState(!1),[me,A]=O.useState(!1),[B,V]=O.useState(""),[J,Z]=O.useState(!1),[ce,he]=O.useState(!1);O.useEffect(()=>{(async()=>{if(!$||!$.id){he(!1);return}try{const{data:be,error:ke}=await Fr.from("profiles").select("role").eq("id",$.id).single();if(ke){console.error("Erreur vérification rôle admin:",ke),he(!1);return}const Ie=(be==null?void 0:be.role)==="admin"||(be==null?void 0:be.role)==="super_admin";he(Ie)}catch(be){console.error("Erreur lors de la vérification du rôle:",be),he(!1)}})()},[$]);const pe=()=>ce,Ce=async ge=>{ge.preventDefault(),G(""),M(!0);try{const{data:be,error:ke}=await Fr.auth.signInWithPassword({email:m.trim(),password:j.trim()});if(ke){console.error("❌ HERBBIE: Erreur connexion Supabase:",ke.message),G(ke.message==="Invalid login credentials"?"Email ou mot de passe incorrect":ke.message);return}be!=null&&be.user&&(l(!1),o(!1),N(""),L(""),t&&t(be.user))}catch(be){console.error("❌ HERBBIE: Erreur critique connexion:",be),G("Erreur de connexion. Vérifiez vos identifiants.")}finally{M(!1)}},Ae=async ge=>{ge.preventDefault(),G(""),M(!0);try{const{data:be,error:ke}=await Fr.auth.signUp({email:m.trim(),password:j.trim(),options:{data:{firstName:w.trim(),lastName:b.trim(),name:`${w.trim()} ${b.trim()}`}}});if(ke){console.error("❌ HERBBIE: Erreur inscription Supabase:",ke.message),G(ke.message==="User already registered"?"Un compte existe déjà avec cet email":ke.message);return}be!=null&&be.user&&(be.session?(p(!1),o(!1),N(""),L(""),x(""),T(""),r&&r(be.user)):G("Un email de confirmation a été envoyé. Vérifiez votre boîte mail."))}catch(be){console.error("❌ HERBBIE: Erreur critique inscription:",be),G("Erreur d'inscription. Réessayez plus tard.")}finally{M(!1)}},Te=async()=>{try{const{error:ge}=await Fr.auth.signOut();if(ge){console.error("❌ HERBBIE: Erreur déconnexion:",ge.message),G("Erreur lors de la déconnexion");return}o(!1),g(!1),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userFirstName"),localStorage.removeItem("userLastName"),localStorage.removeItem("friday_supabase_user"),n&&n(),window.location.reload()}catch(ge){console.error("❌ HERBBIE: Erreur critique déconnexion:",ge),G("Erreur lors de la déconnexion")}},Ee=async ge=>{ge.preventDefault(),G("");try{const{error:be}=await Fr.auth.resetPasswordForEmail(B.trim(),{redirectTo:window.location.origin});if(be){G(be.message);return}Z(!0),G("")}catch{G("Erreur lors de l'envoi de l'email de réinitialisation")}};return O.useEffect(()=>{var ge,be;$&&(H($.email||""),z($.firstName||((ge=$.user_metadata)==null?void 0:ge.firstName)||""),Q($.lastName||((be=$.user_metadata)==null?void 0:be.lastName)||""))},[$]),O.useEffect(()=>{const ge=be=>{k.current&&!k.current.contains(be.target)&&(o(!1),l(!1),p(!1),g(!1),A(!1),G(""))};return document.addEventListener("mousedown",ge),()=>{document.removeEventListener("mousedown",ge)}},[]),re?c.jsx("div",{className:"user-account",ref:k,children:c.jsx("div",{className:"user-avatar",children:c.jsx("span",{children:"⏳"})})}):c.jsx("div",{className:"user-account",ref:k,children:F?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-avatar",onClick:()=>o(!s),children:c.jsx("span",{className:"user-initial",children:((ye=(Ge=$==null?void 0:$.firstName)==null?void 0:Ge.charAt(0))==null?void 0:ye.toUpperCase())||((Je=(K=$==null?void 0:$.email)==null?void 0:K.charAt(0))==null?void 0:Je.toUpperCase())||"👤"})}),c.jsx(mi,{children:s&&c.jsxs(Ve.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[c.jsxs("div",{className:"user-info",children:[c.jsx("div",{className:"user-name",children:($==null?void 0:$.firstName)||($==null?void 0:$.name)||((Ue=$==null?void 0:$.email)==null?void 0:Ue.split("@")[0])}),c.jsx("div",{className:"user-email",children:$==null?void 0:$.email})]}),c.jsxs("div",{className:"dropdown-actions",children:[pe()&&c.jsx("button",{onClick:()=>{window.open("/admin?auth=auto","_blank")},children:"⚙️ Administration"}),c.jsx("button",{onClick:()=>{o(!1),g(!0)},children:"Mon profil"}),c.jsx("button",{onClick:()=>{o(!1),i&&i()},children:"Mon historique"}),c.jsx("button",{onClick:Te,className:"logout-button",children:"Se déconnecter"})]})]})}),c.jsx(mi,{children:h&&c.jsx(Ve.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>g(!1),children:c.jsxs(Ve.div,{className:"auth-form profile-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:ge=>ge.stopPropagation(),children:[c.jsx("h3",{children:"Mon profil"}),c.jsxs("form",{onSubmit:async ge=>{ge.preventDefault(),console.log("Mise à jour profil:",{profileFirstName:W,profileLastName:se})},children:[c.jsx("input",{type:"email",value:ae,disabled:!0,placeholder:"Email"}),c.jsx("input",{type:"text",placeholder:"Prénom",value:W,onChange:ge=>z(ge.target.value)}),c.jsx("input",{type:"text",placeholder:"Nom",value:se,onChange:ge=>Q(ge.target.value)}),q&&c.jsx("div",{className:"error-message",children:q}),te&&c.jsx("div",{className:"success-message",children:"Profil mis à jour avec succès !"}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>g(!1),children:"Fermer"}),c.jsx("button",{type:"submit",children:"Mettre à jour"})]})]})]})})})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-avatar",onClick:()=>o(!s),children:c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),c.jsx("path",{d:"M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),c.jsx(mi,{children:s&&c.jsx(Ve.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:c.jsxs("div",{className:"dropdown-actions",children:[c.jsx("button",{onClick:()=>{o(!1),l(!0),G("")},children:"Se connecter"}),c.jsx("button",{onClick:()=>{o(!1),p(!0),G("")},children:"Créer un compte"})]})})}),c.jsxs(mi,{children:[a&&c.jsx(Ve.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>l(!1),children:c.jsxs(Ve.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:ge=>ge.stopPropagation(),children:[c.jsx("h3",{children:"Connexion"}),c.jsxs("form",{onSubmit:Ce,children:[c.jsx("input",{type:"email",placeholder:"Email",value:m,onChange:ge=>N(ge.target.value),required:!0,disabled:R}),c.jsx("input",{type:"password",placeholder:"Mot de passe",value:j,onChange:ge=>L(ge.target.value),required:!0,disabled:R}),q&&c.jsx("div",{className:"error-message",children:q}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{l(!1),p(!0),G("")},disabled:R,children:"Créer un compte"}),c.jsx("button",{type:"submit",disabled:R,children:R?"Connexion...":"Se connecter"})]}),c.jsx("button",{type:"button",className:"forgot-password-link",onClick:()=>{l(!1),A(!0),G("")},disabled:R,children:"Mot de passe oublié ?"})]})]})}),d&&c.jsx(Ve.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>p(!1),children:c.jsxs(Ve.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:ge=>ge.stopPropagation(),children:[c.jsx("h3",{children:"Créer un compte"}),c.jsxs("form",{onSubmit:Ae,children:[c.jsx("input",{type:"text",placeholder:"Prénom",value:w,onChange:ge=>x(ge.target.value),required:!0,disabled:R}),c.jsx("input",{type:"text",placeholder:"Nom",value:b,onChange:ge=>T(ge.target.value),required:!0,disabled:R}),c.jsx("input",{type:"email",placeholder:"Email",value:m,onChange:ge=>N(ge.target.value),required:!0,disabled:R}),c.jsx("input",{type:"password",placeholder:"Mot de passe (min 6 caractères)",value:j,onChange:ge=>L(ge.target.value),required:!0,minLength:6,disabled:R}),q&&c.jsx("div",{className:"error-message",children:q}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{p(!1),l(!0),G("")},disabled:R,children:"Déjà un compte ?"}),c.jsx("button",{type:"submit",disabled:R,children:R?"Création...":"Créer le compte"})]})]})]})}),me&&c.jsx(Ve.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>A(!1),children:c.jsxs(Ve.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:ge=>ge.stopPropagation(),children:[c.jsx("h3",{children:"Réinitialiser le mot de passe"}),J?c.jsxs("div",{className:"success-message",children:[c.jsxs("p",{children:["Un email de réinitialisation a été envoyé à ",B]}),c.jsx("button",{onClick:()=>{A(!1),l(!0),Z(!1),V("")},children:"Retour à la connexion"})]}):c.jsxs("form",{onSubmit:Ee,children:[c.jsx("input",{type:"email",placeholder:"Votre email",value:B,onChange:ge=>V(ge.target.value),required:!0}),q&&c.jsx("div",{className:"error-message",children:q}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"submit",children:"Envoyer le lien"}),c.jsx("button",{type:"button",onClick:()=>{A(!1),l(!0),G("")},children:"Retour à la connexion"})]})]})]})})]})]})})},$8=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i})=>c.jsxs("header",{className:"header",children:[c.jsxs("div",{className:"header-content",children:[c.jsx(Ve.div,{className:"logo",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:c.jsx("h1",{children:"HERBBIE"})}),c.jsx(Ve.h2,{className:"tagline",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:"Offrez à vos enfants des créations ludiques et imaginatives personnalisées !"})]}),c.jsx("div",{className:"user-account-container",children:c.jsx(q8,{isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i})})]});const Sf="herbbie_features_config",Jm="admin_features_config",_5={animation:{enabled:!0,name:"Dessin animé",icon:"🎬",description:"Génération de dessins animés personnalisés avec IA"},comic:{enabled:!0,name:"Bande dessinée",icon:"💬",description:"Création de bandes dessinées avec bulles de dialogue"},coloring:{enabled:!0,name:"Coloriage",icon:"🎨",description:"Pages de coloriage à imprimer pour les enfants"},audio:{enabled:!0,name:"Histoire",icon:"📖",description:"Histoires audio avec narration automatique"},rhyme:{enabled:!0,name:"Comptine",icon:"🎵",description:"Comptines musicales avec paroles et mélodies"}},i3=()=>{try{let e=localStorage.getItem(Sf);if(e)return JSON.parse(e);if(e=localStorage.getItem(Jm),e){const t=JSON.parse(e);return localStorage.setItem(Sf,JSON.stringify(t)),t}}catch(e){console.warn("Erreur lors du chargement des fonctionnalités depuis le localStorage:",e)}return null},H8=async()=>{try{const e=i3();return e||_5}catch(e){return console.warn("Erreur lors de la récupération des fonctionnalités:",e),_5}},W8=async()=>{try{const e=await H8();return Object.entries(e).filter(([t,n])=>n.enabled).reduce((t,[n,r])=>(t[n]=r,t),{})}catch(e){return console.warn("Erreur lors de la récupération des fonctionnalités activées:",e),{}}},G8=e=>{const t=s=>{if((s.key===Sf||s.key===Jm)&&s.newValue)try{const o=JSON.parse(s.newValue);s.key===Jm&&localStorage.setItem(Sf,s.newValue),e&&typeof e=="function"&&e(o)}catch(o){console.error("Erreur lors du parsing des nouvelles fonctionnalités:",o)}},n=s=>{s.detail&&e&&typeof e=="function"&&e(s.detail)},r=()=>{const s=i3();s&&e&&typeof e=="function"&&e(s)};window.addEventListener("storage",t),window.addEventListener("herbbieFeaturesUpdate",n),window.addEventListener("featuresUpdated",n);const i=setInterval(r,2e3);return()=>{window.removeEventListener("storage",t),window.removeEventListener("herbbieFeaturesUpdate",n),window.removeEventListener("featuresUpdated",n),clearInterval(i)}},Y8=({contentType:e,setContentType:t})=>{const[n,r]=O.useState({}),[i,s]=O.useState(!0);O.useEffect(()=>(o(),G8(async p=>{const h=Object.entries(p).filter(([g,m])=>m.enabled).reduce((g,[m,N])=>(g[m]=N,g),{});if(r(h),!h[e]){const g=Object.keys(h).find(m=>h[m].enabled);g&&t(g)}})),[e,t]);const o=async()=>{try{s(!0);const d=await W8();r(d)}catch(d){console.error("Erreur lors du chargement des fonctionnalités:",d)}finally{s(!1)}},a=d=>{t(d)},l=Object.keys(n).length>0;return i?c.jsxs("div",{className:"content-type-selector",children:[c.jsx("h3",{children:"1. Choisissez le type de contenu"}),c.jsx("div",{className:"loading-message",children:c.jsx("p",{children:"Chargement des fonctionnalités..."})})]}):c.jsxs("div",{className:"content-type-selector",children:[c.jsx("h3",{children:"1. Choisissez le type de contenu"}),l?c.jsxs("div",{className:"content-type-options",children:[n.animation&&c.jsxs(Ve.div,{className:`content-type-option ${e==="animation"?"selected":""}`,onClick:()=>a("animation"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:"🎬"}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Dessin animé"}),c.jsx("p",{children:"Créez un véritable dessin animé fluide et cohérent avec l'IA"})]})]}),n.comic&&c.jsxs(Ve.div,{className:`content-type-option ${e==="comic"?"selected":""}`,onClick:()=>a("comic"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:"💬"}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Bande dessinée"}),c.jsx("p",{children:"Créez une vraie BD avec histoire cohérente et bulles de dialogue"})]})]}),n.coloring&&c.jsxs(Ve.div,{className:`content-type-option ${e==="coloring"?"selected":""}`,onClick:()=>a("coloring"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:"🎨"}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Coloriage"}),c.jsx("p",{children:"Créez des dessins à colorier personnalisés en noir et blanc"})]})]}),n.audio&&c.jsxs(Ve.div,{className:`content-type-option ${e==="audio"?"selected":""}`,onClick:()=>a("audio"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:"📖"}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Histoire"}),c.jsx("p",{children:"Créez une histoire audio avec narration et effets sonores"})]})]}),n.rhyme&&c.jsxs(Ve.div,{className:`content-type-option ${e==="rhyme"?"selected":""}`,onClick:()=>a("rhyme"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"content-type-icon",children:"🎵"}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Comptine"}),c.jsx("p",{children:"Créez une comptine musicale avec paroles et mélodie"})]})]})]}):c.jsx("div",{className:"no-features-message",children:c.jsx("p",{children:"Aucune fonctionnalité n'est actuellement disponible."})})]})};const K8=[{id:"animal",title:"Comptine animalière",description:"Une comptine joyeuse avec des animaux et leurs sons",emoji:"🐘",musicStyle:"playful with animal sounds"},{id:"counting",title:"Comptine à compter",description:"Apprendre les chiffres en chanson",emoji:"🔢",musicStyle:"upbeat educational"},{id:"colors",title:"Comptine des couleurs",description:"Découvrir les couleurs en musique",emoji:"🌈",musicStyle:"cheerful and colorful"},{id:"alphabet",title:"Comptine de l'alphabet",description:"Apprendre les lettres en chantant",emoji:"🔤",musicStyle:"educational and catchy"},{id:"family",title:"Comptine familiale",description:"Une chanson sur la famille et l'amour",emoji:"👨‍👩‍👧‍👦",musicStyle:"warm and loving"},{id:"nature",title:"Comptine de la nature",description:"Explorer les plantes, arbres et fleurs",emoji:"🌳",musicStyle:"peaceful and natural"},{id:"seasonal",title:"Comptine saisonnière",description:"Célébrer les saisons et leurs merveilles",emoji:"🍂",musicStyle:"festive and warm"},{id:"movement",title:"Comptine de mouvement",description:"Bouger, sauter et danser en musique",emoji:"💃",musicStyle:"energetic dance rhythm"},{id:"emotions",title:"Comptine des émotions",description:"Comprendre et exprimer ses sentiments",emoji:"😊",musicStyle:"expressive and gentle"},{id:"lullaby",title:"Berceuse douce",description:"Une mélodie apaisante pour s'endormir",emoji:"🌙",musicStyle:"gentle lullaby"}],J8=({selectedRhyme:e,setSelectedRhyme:t,customRhyme:n,setCustomRhyme:r})=>{const[i,s]=O.useState(!1),o=l=>{e===l?(t(""),s(!1)):(t(l),l!=="custom"&&s(!1))},a=()=>{e==="custom"?(t(""),s(!1)):(t("custom"),s(!0))};return c.jsxs("div",{className:"musical-rhyme-selector",children:[c.jsx("h3",{children:"2. Choisissez un type de comptine"}),c.jsxs("div",{className:"rhyme-grid",children:[c.jsxs(Ve.div,{className:`rhyme-card custom-rhyme ${e==="custom"?"selected":""}`,onClick:a,whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"rhyme-emoji",children:"✏️"}),c.jsx("h4",{children:"Comptine personnalisée"}),c.jsx("p",{children:"Créez votre propre type de comptine unique, en y mettant par exemple le prénom de votre enfant"})]}),K8.map(l=>c.jsxs(Ve.div,{className:`rhyme-card ${e===l.id?"selected":""}`,onClick:()=>o(l.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"rhyme-emoji",children:l.emoji}),c.jsx("h4",{children:l.title}),c.jsx("p",{children:l.description})]},l.id))]}),c.jsx(mi,{children:i&&c.jsxs(Ve.div,{className:"custom-rhyme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[c.jsx("label",{htmlFor:"customRhyme",children:"Décrivez votre type de comptine"}),c.jsx(Ve.textarea,{id:"customRhyme",value:n,onChange:l=>r(l.target.value),placeholder:"Ex: Une comptine sur les planètes du système solaire avec le prénom Lucas...",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})})]})};const X8=[{id:"magic",title:"Monde magique",description:"Une histoire pleine de magie avec des fées et des sorciers bienveillants",emoji:"🧚‍♀️"},{id:"dinosaurs",title:"Temps des dinosaures",description:"Un voyage dans le passé à la rencontre de dinosaures gentils",emoji:"🦕"},{id:"space",title:"Voyage spatial",description:"Une aventure dans l'espace avec des planètes et des aliens sympathiques",emoji:"🚀"},{id:"adventure",title:"Aventure fantastique",description:"Une aventure pleine de rebondissements et de magie",emoji:"✨"},{id:"animals",title:"Amis animaux",description:"Une histoire avec des animaux qui parlent et vivent des aventures",emoji:"🦊"},{id:"underwater",title:"Monde sous-marin",description:"Une exploration des océans avec des créatures marines extraordinaires",emoji:"🐠"},{id:"forest",title:"Forêt enchantée",description:"Une promenade dans une forêt mystérieuse pleine de surprises",emoji:"🌲"},{id:"funny",title:"Histoire drôle",description:"Un conte amusant qui fera rire votre enfant",emoji:"😄"},{id:"mystery",title:"Petit mystère",description:"Une énigme adaptée aux enfants à résoudre",emoji:"🔍"},{id:"friendship",title:"Belle amitié",description:"Une histoire touchante sur l'amitié et l'entraide",emoji:"👫"},{id:"learning",title:"Conte éducatif",description:"Une histoire qui enseigne une leçon importante",emoji:"📚"},{id:"bedtime",title:"Histoire du soir",description:"Un conte apaisant pour aider votre enfant à s'endormir",emoji:"🌙"}],Q8=[{id:"female",name:"Voix féminine"},{id:"male",name:"Voix masculine"}],Z8=({selectedAudioStory:e,setSelectedAudioStory:t,customAudioStory:n,setCustomAudioStory:r,selectedVoice:i,setSelectedVoice:s})=>{const[o,a]=O.useState(!1),l=g=>{e===g?(t(""),a(!1)):(t(g),g!=="custom"&&a(!1))},d=()=>{e==="custom"?(t(""),a(!1)):(t("custom"),a(!0))},p=g=>{r(g.target.value)},h=g=>{s(i===g?null:g)};return c.jsxs("div",{className:"audio-story-selector",children:[c.jsx("h3",{children:"2. Choisissez un type d'histoire"}),c.jsxs("div",{className:"audio-story-grid",children:[c.jsxs(Ve.div,{className:`audio-story-card custom-audio-story ${e==="custom"?"selected":""}`,onClick:d,whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"audio-story-emoji",children:"✏️"}),c.jsx("h4",{children:"Histoire personnalisée"}),c.jsx("p",{children:"Créez votre propre type d'histoire unique"})]}),X8.map(g=>c.jsxs(Ve.div,{className:`audio-story-card ${e===g.id?"selected":""}`,onClick:()=>l(g.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"audio-story-emoji",children:g.emoji}),c.jsx("h4",{children:g.title}),c.jsx("p",{children:g.description})]},g.id))]}),o&&c.jsxs(Ve.div,{className:"custom-audio-story-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[c.jsx("label",{htmlFor:"customAudioStory",children:"Décrivez votre type d'histoire"}),c.jsx(Ve.textarea,{id:"customAudioStory",value:n,onChange:p,placeholder:"Ex: Un conte qui se déroule dans un monde sous-marin avec des créatures magiques...",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]}),c.jsxs("div",{className:"voice-selector-section",children:[c.jsx("h3",{children:"3. Choisissez une narration (optionnel)"}),c.jsx("div",{className:"voice-options",children:Q8.map(g=>c.jsxs(Ve.div,{className:`voice-option ${i===g.id?"selected":""}`,onClick:()=>h(g.id),whileHover:{scale:1.03},whileTap:{scale:.98},children:[c.jsx("div",{className:"voice-icon",children:g.id==="female"?"👩":"👨"}),c.jsx("div",{className:"voice-details",children:c.jsx("h4",{children:g.name})})]},g.id))})]})]})},Dn={}.VITE_API_BASE_URL||"",gi={}.VITE_ANIMATION_API_BASE_URL||"https://da-production-6222.up.railway.app",eC={generateRhyme:`${Dn}/generate_rhyme/`,generateAudioStory:`${Dn}/generate_audio_story/`,generateColoring:`${Dn}/generate_coloring/`,generateComic:`${Dn}/generate_comic/`,generateAnimation:`${gi}/generate`,animationStatus:e=>`${gi}/status/${e}`,animationThemes:`${gi}/themes`,animationDiagnostic:`${gi}/diagnostic`,checkTaskStatus:e=>`${Dn}/check_task_status/${e}`,downloadAudio:(e,t)=>`${Dn}/download_audio/${e}.mp3?url=${encodeURIComponent(t)}`};const tC=({selectedTheme:e,setSelectedTheme:t,selectedDuration:n,setSelectedDuration:r,selectedStyle:i,setSelectedStyle:s,customStory:o,setCustomStory:a})=>{const[l,d]=O.useState([]),[p,h]=O.useState([]),[g,m]=O.useState(!0);O.useEffect(()=>{(async()=>{try{m(!0);const T=await(await fetch(eC.animationThemes)).json();if(T.themes){const q=Object.entries(T.themes).map(([G,R])=>({id:G,name:R.name,description:R.description,emoji:R.icon}));d([{id:"custom",name:"Dessin animé personnalisé",description:"Écrivez votre propre histoire",emoji:"✏️"},...q])}if(T.durations){const q=T.durations.map(G=>({value:G,label:G>=60?`${G/60} minute${G>60?"s":""}`:`${G} secondes`}));h(q)}}catch(b){console.error("Erreur lors du chargement des thèmes:",b),d([{id:"custom",name:"Dessin animé personnalisé",description:"Écrivez votre propre histoire",emoji:"✏️"},{id:"space",name:"Espace",description:"Voyages spatiaux",emoji:"🚀"},{id:"nature",name:"Nature",description:"Monde naturel",emoji:"🌳"},{id:"adventure",name:"Aventure",description:"Voyages et explorations",emoji:"🏰"},{id:"animals",name:"Animaux",description:"Histoires d'animaux mignons",emoji:"🐾"},{id:"magic",name:"Magie",description:"Monde magique et sortilèges",emoji:"✨"},{id:"friendship",name:"Amitié",description:"Histoires d'amitié",emoji:"🤝"}]),h([{value:30,label:"30 secondes"},{value:60,label:"1 minute"},{value:120,label:"2 minutes"},{value:180,label:"3 minutes"},{value:240,label:"4 minutes"},{value:300,label:"5 minutes"}])}finally{m(!1)}p.length===0&&h([{value:30,label:"30 secondes"},{value:60,label:"1 minute"},{value:120,label:"2 minutes"},{value:180,label:"3 minutes"},{value:240,label:"4 minutes"},{value:300,label:"5 minutes"}])})()},[]);const N=[{id:"cartoon",name:"Cartoon",description:"Style dessin animé coloré",emoji:"🎨"},{id:"anime",name:"Anime",description:"Style manga japonais",emoji:"🇯🇵",useImage:!0,imagePath:"/assets/japan-flag.png"},{id:"realistic",name:"Réaliste",description:"Style cinématographique",emoji:"🎬"},{id:"pastel",name:"Pastel",description:"Couleurs douces et tendres",emoji:"🌸"}],j=x=>{t(e===x?null:x)},L=x=>{r(n===x?null:x)},w=x=>{s(i===x?null:x)};return g?c.jsx("div",{className:"animation-selector loading",children:c.jsxs("div",{className:"loading-message",children:[c.jsx("div",{className:"spinner",children:"🎬"}),c.jsx("p",{children:"Chargement des thèmes d'animation..."})]})}):c.jsxs("div",{className:"animation-selector",children:[c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"2. Choisissez un thème pour votre dessin animé"}),c.jsx("div",{className:"themes-grid",children:l.map(x=>c.jsxs(Ve.div,{className:`theme-card ${e===x.id?"selected":""} ${x.id==="custom"?"custom-animation":""}`,onClick:()=>j(x.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx("div",{className:"theme-emoji",children:x.emoji}),c.jsxs("div",{className:"theme-content",children:[c.jsx("h5",{children:x.name}),c.jsx("p",{children:x.description})]})]},x.id))}),e==="custom"&&c.jsxs(Ve.div,{className:"custom-story-section",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[c.jsx("h4",{children:"Écrivez votre histoire"}),c.jsx("textarea",{className:"custom-story-textarea",value:o,onChange:x=>a(x.target.value),placeholder:"Il était une fois... Racontez votre histoire ici. Plus elle est détaillée, plus l'animation sera riche et personnalisée !",rows:4}),c.jsxs("div",{className:"character-count",children:[o.length,"/500 caractères"]})]})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"3. Choisissez la durée de l'animation"}),c.jsx("div",{className:"duration-options",children:p.map(x=>c.jsx(Ve.div,{className:`duration-option ${n===x.value?"selected":""}`,onClick:()=>L(x.value),whileHover:{scale:1.02},whileTap:{scale:.98},children:c.jsx("div",{className:"duration-label",children:x.label})},x.value))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"4. Choisissez un style visuel"}),c.jsx("div",{className:"style-options",children:N.map(x=>c.jsxs(Ve.div,{className:`style-option ${i===x.id?"selected":""}`,onClick:()=>w(x.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"style-emoji",children:[x.useImage?c.jsx("img",{src:x.imagePath,alt:x.name,className:"style-flag-image",onError:b=>{b.target.style.display="none",b.target.nextSibling.style.display="block"}}):null,c.jsx("span",{style:{display:x.useImage?"none":"block"},children:x.emoji})]}),c.jsxs("div",{className:"style-content",children:[c.jsx("h5",{children:x.name}),c.jsx("p",{children:x.description})]})]},x.id))})]})]})};const nC=({animationResult:e,onClose:t})=>{var b,T,q,G;const[n,r]=O.useState("video"),[i,s]=O.useState(null);if(!e)return null;const{status:o,clips:a=[],scenes:l=[],generation_time:d,total_duration:p,successful_clips:h=0,fallback_clips:g=0,pipeline_type:m}=e,N=a.some(R=>R.status==="success")||o==="completed"&&(e.final_video_url||((b=e.result)==null?void 0:b.final_video_url)),j=l||e.scenes_details||[],L=R=>{if(!R||isNaN(R))return"---";const M=Math.floor(R/60),$=R%60;return M>0?`${M}m ${$}s`:`${$}s`},w=R=>{switch(R){case"success":return"#4CAF50";case"fallback":return"#FF9800";case"error":return"#F44336";default:return"#9E9E9E"}},x=R=>{switch(R){case"success":return"✅";case"fallback":return"⚠️";case"error":return"❌";default:return"🔄"}};return c.jsx(Ve.div,{className:"animation-viewer-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(Ve.div,{className:"animation-viewer",initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},onClick:R=>R.stopPropagation(),transition:{type:"spring",damping:20,stiffness:300},children:[c.jsxs("div",{className:"viewer-header",children:[c.jsx("h2",{children:"🎬 Votre dessin animé IA"}),o&&c.jsxs("div",{className:"status-badge",style:{backgroundColor:w(o)},children:[x(o)," ",o==="generating_idea"?"Création de l'idée...":o==="creating_scenes"?"Création des scènes...":o==="generating_clips"?"Génération vidéo...":o==="completed"?"Terminé !":o==="failed"?"Échoué":o]}),c.jsx("button",{className:"close-button",onClick:t,children:"✕"})]}),c.jsxs("div",{className:"animation-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:"⏱️"}),c.jsxs("span",{children:["Durée: ",L(p||e.duration)]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:"🎞️"}),c.jsxs("span",{children:[a.length," scènes"]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:"✅"}),c.jsxs("span",{children:[h," réussies"]})]}),g>0&&c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:"⚠️"}),c.jsxs("span",{children:[g," fallback"]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:"🚀"}),c.jsxs("span",{children:["Généré en ",d?Math.round(d)+"s":"En cours..."]})]})]}),c.jsxs("div",{className:"viewer-tabs",children:[c.jsx("button",{className:`tab ${n==="video"?"active":""}`,onClick:()=>r("video"),children:"🎬 Vidéo"}),c.jsx("button",{className:`tab ${n==="scenes"?"active":""}`,onClick:()=>r("scenes"),children:"🎞️ Scènes"}),c.jsx("button",{className:`tab ${n==="details"?"active":""}`,onClick:()=>r("details"),children:"📊 Détails"})]}),c.jsx("div",{className:"viewer-content",children:c.jsxs(mi,{mode:"wait",children:[n==="video"&&c.jsx(Ve.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"video-tab",children:N?c.jsx("div",{className:"video-player",children:e.final_video_url||(T=e.result)!=null&&T.final_video_url?c.jsxs("div",{className:"final-animation",children:[c.jsx("div",{className:"video-icon",children:"🎬"}),c.jsxs("h3",{children:["🎉 ",e.title||"Votre dessin animé est prêt !"]}),c.jsxs("p",{children:["Animation complète de ",L(p||e.duration)," avec ",h||a.length," scènes."]}),c.jsx("div",{className:"main-video-container",children:c.jsx("video",{src:e.final_video_url||((q=e.result)==null?void 0:q.final_video_url),className:"final-animation-video",controls:!0,autoPlay:!0,loop:!0,muted:!0,preload:"metadata",style:{width:"100%",maxWidth:"600px",height:"auto",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.2)",margin:"1rem 0"},onLoadedData:()=>{},onError:R=>{R.target.style.display="none"}})}),c.jsx("div",{className:"video-controls",children:c.jsx("button",{className:"play-btn",onClick:()=>{var R;return window.open(e.final_video_url||((R=e.result)==null?void 0:R.final_video_url),"_blank")},style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"},children:"🎬 Ouvrir en plein écran"})})]}):c.jsxs("div",{className:"animation-gallery",children:[c.jsx("div",{className:"video-icon",children:"🎬"}),c.jsx("h3",{children:"🎉 Votre dessin animé est prêt !"}),c.jsxs("p",{children:["Animation de ",L(p)," générée avec succès.",h>0&&` ${h} scènes créées avec l'IA.`]}),c.jsxs("div",{className:"scenes-gallery",children:[c.jsx("h4",{children:"🎨 Votre dessin animé en images :"}),c.jsx("div",{className:"gallery-grid",children:a.map((R,M)=>{let $=null,re=!1;return R.video_url&&R.type==="real_video"?($=/^https?:\/\//i.test(R.video_url)?R.video_url:`${gi}${R.video_url}`,re=!0):R.demo_image_url?$=/^https?:\/\//i.test(R.demo_image_url)?R.demo_image_url:`${gi}${R.demo_image_url}`:R.image_url?$=/^https?:\/\//i.test(R.image_url)?R.image_url:`${gi}${R.image_url}`:R.video_url&&($=/^https?:\/\//i.test(R.video_url)?R.video_url:`${gi}${R.video_url}`),c.jsxs("div",{className:"scene-media-card",children:[re?c.jsx("video",{src:$,className:"scene-video",controls:!0,loop:!0,muted:!0,preload:"metadata",onLoadedData:()=>{},onError:F=>{F.target.style.display="none",F.target.nextSibling.style.display="flex"}}):c.jsx("img",{src:$,alt:`Scène ${R.scene_number}`,className:"scene-image",onLoad:()=>{},onError:F=>{F.target.style.display="none",F.target.nextSibling.style.display="flex"}}),c.jsxs("div",{className:"scene-placeholder",style:{display:"none"},children:[c.jsx("span",{children:"🎬"}),c.jsxs("p",{children:["Scène ",R.scene_number]}),c.jsx("small",{children:R.type||"En cours..."})]}),c.jsxs("div",{className:"scene-info",children:[c.jsxs("span",{children:["Scène ",R.scene_number]}),c.jsx("span",{children:L(R.duration)}),R.type==="real_video"&&c.jsx("span",{className:"clip-type real",children:"🎥 Vidéo"}),R.type==="demo"&&c.jsx("span",{className:"clip-type demo",children:"🎨 Démo"}),R.status==="success"&&c.jsx("span",{className:"clip-status success",children:"✅"}),R.status==="fallback"&&c.jsx("span",{className:"clip-status fallback",children:"⚠️"})]})]},M)})}),c.jsx("div",{className:"gallery-summary",children:c.jsxs("p",{children:[c.jsx("strong",{children:"🎬 Votre animation complète :"}),a.length," scènes illustrées représentant votre histoire. Chaque image correspond à un moment clé de votre récit généré par l'IA."]})})]}),a.filter(R=>R.status==="success").length>0&&c.jsxs("div",{className:"video-clips-list",children:[c.jsx("h4",{children:"📝 Toutes les scènes générées :"}),a.filter(R=>R.status==="success").map((R,M)=>c.jsxs("div",{className:"clip-item",children:[c.jsxs("span",{children:["🎬 Scène ",R.scene_number]}),c.jsx("span",{children:L(R.duration)}),R.type==="image"&&c.jsx("span",{className:"clip-type",children:"🎨 Image"})]},M))]}),c.jsxs("div",{className:"video-actions",children:[c.jsx("button",{className:"download-btn",children:"📥 Télécharger"}),c.jsx("button",{className:"share-btn",children:"🔗 Partager"})]})]})}):c.jsxs("div",{className:"no-video",children:[c.jsx("div",{className:"no-video-icon",children:o==="completed"?"✅":"⚠️"}),c.jsx("h3",{children:o==="completed"?"Animation terminée !":"Génération en cours..."}),c.jsx("p",{children:o==="completed"?"Votre animation a été générée avec succès ! Thème: "+(e.theme||"N/A"):"La génération vidéo peut prendre quelques minutes. Certaines scènes utilisent des modes de fallback."}),o==="completed"&&(e.final_video_url||((G=e.result)==null?void 0:G.final_video_url))&&c.jsx("div",{className:"video-controls",children:c.jsx("button",{className:"play-btn",onClick:()=>{var R;return window.open(e.final_video_url||((R=e.result)==null?void 0:R.final_video_url),"_blank")},children:"🎬 Voir l'animation"})})]})},"video"),n==="scenes"&&c.jsx(Ve.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"scenes-tab",children:c.jsx("div",{className:"scenes-list",children:j.map((R,M)=>{const $=a.find(re=>re.scene_number===R.scene_number);return c.jsxs(Ve.div,{className:`scene-card ${i===M?"selected":""}`,onClick:()=>s(i===M?null:M),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"scene-header",children:[c.jsxs("span",{className:"scene-number",children:["Scène ",R.scene_number]}),c.jsxs("div",{className:"scene-status",children:[c.jsx("span",{className:"status-icon",style:{color:w(($==null?void 0:$.status)||"pending")},children:x(($==null?void 0:$.status)||"pending")}),c.jsx("span",{className:"status-text",children:($==null?void 0:$.status)||"pending"})]})]}),c.jsx("h4",{children:R.description}),c.jsxs("p",{children:[c.jsx("strong",{children:"Action:"})," ",R.action]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Décor:"})," ",R.setting]}),c.jsxs("div",{className:"scene-duration",children:["Durée: ",L(R.duration)]}),i===M&&$&&c.jsx(Ve.div,{className:"scene-details",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:$.video_url&&c.jsx("div",{className:"clip-preview",children:c.jsxs("span",{children:["📁 Fichier: ",$.video_url]})})})]},R.scene_number)})})},"scenes"),n==="details"&&c.jsx(Ve.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"details-tab",children:c.jsxs("div",{className:"technical-details",children:[c.jsx("h4",{children:"🤖 Détails techniques"}),c.jsxs("div",{className:"detail-grid",children:[c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Pipeline:"}),c.jsx("span",{children:m||"custom_animation_ai"})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Statut:"}),c.jsx("span",{className:`status ${o}`,children:o})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Temps de génération:"}),c.jsxs("span",{children:[Math.round(d),"s"]})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Scènes totales:"}),c.jsx("span",{children:a.length})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Scènes réussies:"}),c.jsx("span",{children:h})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Durée totale:"}),c.jsx("span",{children:L(p)})]})]}),e.note&&c.jsxs("div",{className:"generation-note",children:[c.jsx("h5",{children:"📝 Note de génération"}),c.jsx("p",{children:e.note})]})]})},"details")]})})]})})};const rC=({customRequest:e,setCustomRequest:t})=>c.jsxs("div",{className:"custom-request",children:[c.jsx("h3",{children:"Demandes spécifiques (optionnel)"}),c.jsx("div",{className:"request-form",children:c.jsxs("div",{className:"input-group",children:[c.jsx("label",{htmlFor:"customRequest",children:"Avez-vous des demandes particulières ?"}),c.jsx(Ve.textarea,{id:"customRequest",value:e,onChange:n=>t(n.target.value),placeholder:"Ex: En anglais, avec un chien bleu, inclure un message sur l'amitié...",rows:3,whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})})]});const iC=({onGenerate:e,isGenerating:t,isDisabled:n,contentType:r,buttonText:i})=>{const s=()=>t?r==="story"?"Création de la BD en cours...":r==="rhyme"?"Création de la comptine en cours...":r==="coloring"?"Création du coloriage en cours...":r==="comic"?"Création de la BD en cours...":r==="animation"?"Création du dessin animé en cours...":"Création du contenu en cours...":i||(r==="story"?"Créer ma bande dessinée":r==="rhyme"?"Créer ma comptine":r==="coloring"?"Créer mon coloriage":r==="comic"?"Créer ma bande dessinée":r==="animation"?"Créer mon dessin animé":r==="audio"?"Créer mon histoire":"Créer mon contenu");return c.jsxs("div",{className:"generate-button-container",children:[c.jsxs(Ve.button,{className:"generate-button",onClick:e,disabled:n||t,whileHover:!n&&!t?{scale:1.03}:{},whileTap:!n&&!t?{scale:.98}:{},initial:{opacity:.9},animate:{opacity:n?.6:1,y:[0,t?-5:0,0]},transition:{duration:t?.5:.2,repeat:t?1/0:0},children:[t&&c.jsxs("div",{className:"button-loading-dots",children:[c.jsx("div",{className:"button-dot"}),c.jsx("div",{className:"button-dot"}),c.jsx("div",{className:"button-dot"})]}),c.jsx("span",{children:s()})]}),n&&!t&&c.jsx("p",{className:"generate-button-hint",children:r==="story"?"Veuillez remplir tous les champs requis pour créer votre BD":r==="rhyme"?"Veuillez sélectionner un type de comptine pour continuer":r==="coloring"?"Veuillez sélectionner un thème de coloriage pour continuer":r==="comic"?"Veuillez sélectionner un thème, style et longueur pour votre BD":r==="animation"?"Veuillez sélectionner un thème et configurer votre animation":"Veuillez sélectionner un type d'histoire (et une voix) pour continuer"})]})};function Ft(e){"@babel/helpers - typeof";return Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(e)}var Xn=Uint8Array,Ir=Uint16Array,T0=Int32Array,Qf=new Xn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zf=new Xn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xm=new Xn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s3=function(e,t){for(var n=new Ir(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new T0(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},o3=s3(Qf,2),a3=o3.b,Qm=o3.r;a3[28]=258,Qm[258]=28;var l3=s3(Zf,0),sC=l3.b,E5=l3.r,Zm=new Ir(32768);for(var Yt=0;Yt<32768;++Yt){var Ps=(Yt&43690)>>1|(Yt&21845)<<1;Ps=(Ps&52428)>>2|(Ps&13107)<<2,Ps=(Ps&61680)>>4|(Ps&3855)<<4,Zm[Yt]=((Ps&65280)>>8|(Ps&255)<<8)>>1}var Ri=function(e,t,n){for(var r=e.length,i=0,s=new Ir(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Ir(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Ir(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],p=t-e[i],h=o[e[i]-1]++<<p,g=h|(1<<p)-1;h<=g;++h)a[Zm[h]>>l]=d}else for(a=new Ir(r),i=0;i<r;++i)e[i]&&(a[i]=Zm[o[e[i]-1]++]>>15-e[i]);return a},Zs=new Xn(288);for(var Yt=0;Yt<144;++Yt)Zs[Yt]=8;for(var Yt=144;Yt<256;++Yt)Zs[Yt]=9;for(var Yt=256;Yt<280;++Yt)Zs[Yt]=7;for(var Yt=280;Yt<288;++Yt)Zs[Yt]=8;var qu=new Xn(32);for(var Yt=0;Yt<32;++Yt)qu[Yt]=5;var oC=Ri(Zs,9,0),aC=Ri(Zs,9,1),lC=Ri(qu,5,0),uC=Ri(qu,5,1),Ep=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ui=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Fp=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},I0=function(e){return(e+7)/8|0},u3=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new Xn(e.subarray(t,n))},cC=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],fi=function(e,t,n){var r=new Error(t||cC[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,fi),!n)throw r;return r},dC=function(e,t,n,r){var i=e.length,s=r?r.length:0;if(!i||t.f&&!t.l)return n||new Xn(0);var o=!n,a=o||t.i!=2,l=t.i;o&&(n=new Xn(i*3));var d=function(Ae){var Te=n.length;if(Ae>Te){var Ee=new Xn(Math.max(Te*2,Ae));Ee.set(n),n=Ee}},p=t.f||0,h=t.p||0,g=t.b||0,m=t.l,N=t.d,j=t.m,L=t.n,w=i*8;do{if(!m){p=ui(e,h,1);var x=ui(e,h+1,3);if(h+=3,x)if(x==1)m=aC,N=uC,j=9,L=5;else if(x==2){var G=ui(e,h,31)+257,R=ui(e,h+10,15)+4,M=G+ui(e,h+5,31)+1;h+=14;for(var $=new Xn(M),re=new Xn(19),F=0;F<R;++F)re[Xm[F]]=ui(e,h+F*3,7);h+=R*3;for(var k=Ep(re),W=(1<<k)-1,z=Ri(re,k,1),F=0;F<M;){var se=z[ui(e,h,W)];h+=se&15;var b=se>>4;if(b<16)$[F++]=b;else{var Q=0,ae=0;for(b==16?(ae=3+ui(e,h,3),h+=2,Q=$[F-1]):b==17?(ae=3+ui(e,h,7),h+=3):b==18&&(ae=11+ui(e,h,127),h+=7);ae--;)$[F++]=Q}}var H=$.subarray(0,G),te=$.subarray(G);j=Ep(H),L=Ep(te),m=Ri(H,j,1),N=Ri(te,L,1)}else fi(1);else{var b=I0(h)+4,T=e[b-4]|e[b-3]<<8,q=b+T;if(q>i){l&&fi(0);break}a&&d(g+T),n.set(e.subarray(b,q),g),t.b=g+=T,t.p=h=q*8,t.f=p;continue}if(h>w){l&&fi(0);break}}a&&d(g+131072);for(var ie=(1<<j)-1,me=(1<<L)-1,A=h;;A=h){var Q=m[Fp(e,h)&ie],B=Q>>4;if(h+=Q&15,h>w){l&&fi(0);break}if(Q||fi(2),B<256)n[g++]=B;else if(B==256){A=h,m=null;break}else{var V=B-254;if(B>264){var F=B-257,J=Qf[F];V=ui(e,h,(1<<J)-1)+a3[F],h+=J}var Z=N[Fp(e,h)&me],ce=Z>>4;Z||fi(3),h+=Z&15;var te=sC[ce];if(ce>3){var J=Zf[ce];te+=Fp(e,h)&(1<<J)-1,h+=J}if(h>w){l&&fi(0);break}a&&d(g+131072);var he=g+V;if(g<te){var pe=s-te,Ce=Math.min(te,he);for(pe+g<0&&fi(3);g<Ce;++g)n[g]=r[pe+g]}for(;g<he;++g)n[g]=n[g-te]}}t.l=m,t.p=A,t.b=g,t.f=p,m&&(p=1,t.m=j,t.d=N,t.n=L)}while(!p);return g!=n.length&&o?u3(n,0,g):n.subarray(0,g)},Ki=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Xl=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Tp=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:d3,l:0};if(i==1){var o=new Xn(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(q,G){return q.f-G.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],d=0,p=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};p!=i-1;)a=n[n[d].f<n[h].f?d++:h++],l=n[d!=p&&n[d].f<n[h].f?d++:h++],n[p++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new Ir(g+1),N=e1(n[p-1],m,0);if(N>t){var r=0,j=0,L=N-t,w=1<<L;for(s.sort(function(G,R){return m[R.s]-m[G.s]||G.f-R.f});r<i;++r){var x=s[r].s;if(m[x]>t)j+=w-(1<<N-m[x]),m[x]=t;else break}for(j>>=L;j>0;){var b=s[r].s;m[b]<t?j-=1<<t-m[b]++-1:++r}for(;r>=0&&j;--r){var T=s[r].s;m[T]==t&&(--m[T],++j)}N=t}return{t:new Xn(m),l:N}},e1=function(e,t,n){return e.s==-1?Math.max(e1(e.l,t,n+1),e1(e.r,t,n+1)):t[e.s]=n},F5=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ir(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},Ql=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},c3=function(e,t,n){var r=n.length,i=I0(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},T5=function(e,t,n,r,i,s,o,a,l,d,p){Ki(t,p++,n),++i[256];for(var h=Tp(i,15),g=h.t,m=h.l,N=Tp(s,15),j=N.t,L=N.l,w=F5(g),x=w.c,b=w.n,T=F5(j),q=T.c,G=T.n,R=new Ir(19),M=0;M<x.length;++M)++R[x[M]&31];for(var M=0;M<q.length;++M)++R[q[M]&31];for(var $=Tp(R,7),re=$.t,F=$.l,k=19;k>4&&!re[Xm[k-1]];--k);var W=d+5<<3,z=Ql(i,Zs)+Ql(s,qu)+o,se=Ql(i,g)+Ql(s,j)+o+14+3*k+Ql(R,re)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&W<=z&&W<=se)return c3(t,p,e.subarray(l,l+d));var Q,ae,H,te;if(Ki(t,p,1+(se<z)),p+=2,se<z){Q=Ri(g,m,0),ae=g,H=Ri(j,L,0),te=j;var ie=Ri(re,F,0);Ki(t,p,b-257),Ki(t,p+5,G-1),Ki(t,p+10,k-4),p+=14;for(var M=0;M<k;++M)Ki(t,p+3*M,re[Xm[M]]);p+=3*k;for(var me=[x,q],A=0;A<2;++A)for(var B=me[A],M=0;M<B.length;++M){var V=B[M]&31;Ki(t,p,ie[V]),p+=re[V],V>15&&(Ki(t,p,B[M]>>5&127),p+=B[M]>>12)}}else Q=oC,ae=Zs,H=lC,te=qu;for(var M=0;M<a;++M){var J=r[M];if(J>255){var V=J>>18&31;Xl(t,p,Q[V+257]),p+=ae[V+257],V>7&&(Ki(t,p,J>>23&31),p+=Qf[V]);var Z=J&31;Xl(t,p,H[Z]),p+=te[Z],Z>3&&(Xl(t,p,J>>5&8191),p+=Zf[Z])}else Xl(t,p,Q[J]),p+=ae[J]}return Xl(t,p,Q[256]),p+ae[256]},fC=new T0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),d3=new Xn(0),hC=function(e,t,n,r,i,s){var o=s.z||e.length,a=new Xn(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),d=s.l,p=(s.r||0)&7;if(t){p&&(l[0]=s.r>>3);for(var h=fC[t-1],g=h>>13,m=h&8191,N=(1<<n)-1,j=s.p||new Ir(32768),L=s.h||new Ir(N+1),w=Math.ceil(n/3),x=2*w,b=function(Ge){return(e[Ge]^e[Ge+1]<<w^e[Ge+2]<<x)&N},T=new T0(25e3),q=new Ir(288),G=new Ir(32),R=0,M=0,$=s.i||0,re=0,F=s.w||0,k=0;$+2<o;++$){var W=b($),z=$&32767,se=L[W];if(j[z]=se,L[W]=z,F<=$){var Q=o-$;if((R>7e3||re>24576)&&(Q>423||!d)){p=T5(e,l,0,T,q,G,M,re,k,$-k,p),re=R=M=0,k=$;for(var ae=0;ae<286;++ae)q[ae]=0;for(var ae=0;ae<30;++ae)G[ae]=0}var H=2,te=0,ie=m,me=z-se&32767;if(Q>2&&W==b($-me))for(var A=Math.min(g,Q)-1,B=Math.min(32767,$),V=Math.min(258,Q);me<=B&&--ie&&z!=se;){if(e[$+H]==e[$+H-me]){for(var J=0;J<V&&e[$+J]==e[$+J-me];++J);if(J>H){if(H=J,te=me,J>A)break;for(var Z=Math.min(me,J-2),ce=0,ae=0;ae<Z;++ae){var he=$-me+ae&32767,pe=j[he],Ce=he-pe&32767;Ce>ce&&(ce=Ce,se=he)}}}z=se,se=j[z],me+=z-se&32767}if(te){T[re++]=268435456|Qm[H]<<18|E5[te];var Ae=Qm[H]&31,Te=E5[te]&31;M+=Qf[Ae]+Zf[Te],++q[257+Ae],++G[Te],F=$+H,++R}else T[re++]=e[$],++q[e[$]]}}for($=Math.max($,F);$<o;++$)T[re++]=e[$],++q[e[$]];p=T5(e,l,d,T,q,G,M,re,k,$-k,p),d||(s.r=p&7|l[p/8|0]<<3,p-=7,s.h=L,s.p=j,s.i=$,s.w=F)}else{for(var $=s.w||0;$<o+d;$+=65535){var Ee=$+65535;Ee>=o&&(l[p/8|0]=d,Ee=o),p=c3(l,p+1,e.subarray($,Ee))}s.i=o}return u3(a,0,r+I0(p)+i)},f3=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},pC=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Xn(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return hC(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},h3=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},mC=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=f3();i.p(t.dictionary),h3(e,2,i.d())}},gC=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&fi(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&fi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function t1(e,t){t||(t={});var n=f3();n.p(e);var r=pC(e,t,t.dictionary?6:2,4);return mC(r,t),h3(r,r.length-4,n.d()),r}function vC(e,t){return dC(e.subarray(gC(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var yC=typeof TextDecoder<"u"&&new TextDecoder,xC=0;try{yC.decode(d3,{stream:!0}),xC=1}catch{}var et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ip(){et.console&&typeof et.console.log=="function"&&et.console.log.apply(et.console,arguments)}var zt={log:Ip,warn:function(e){et.console&&(typeof et.console.warn=="function"?et.console.warn.apply(et.console,arguments):Ip.call(null,arguments))},error:function(e){et.console&&(typeof et.console.error=="function"?et.console.error.apply(et.console,arguments):Ip(e))}};function Rp(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){jo(r.response,t,n)},r.onerror=function(){zt.error("could not download file")},r.send()}function I5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function pd(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var bu,n1,jo=et.saveAs||((typeof window>"u"?"undefined":Ft(window))!=="object"||window!==et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=et.URL||et.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?I5(i.href)?Rp(e,t,n):pd(i,i.target="_blank"):pd(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){pd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(I5(e))Rp(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){pd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Ft(s)!=="object"&&(zt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Rp(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(et.HTMLElement)||et.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Ft(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var p=a.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},a.readAsDataURL(e)}else{var l=et.URL||et.webkitURL,d=l.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){l.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function p3(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),d=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),"#"+a+l+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Mp(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=Hn(n,r,i,s,t[0],7,-680876936),s=Hn(s,n,r,i,t[1],12,-389564586),i=Hn(i,s,n,r,t[2],17,606105819),r=Hn(r,i,s,n,t[3],22,-1044525330),n=Hn(n,r,i,s,t[4],7,-176418897),s=Hn(s,n,r,i,t[5],12,1200080426),i=Hn(i,s,n,r,t[6],17,-1473231341),r=Hn(r,i,s,n,t[7],22,-45705983),n=Hn(n,r,i,s,t[8],7,1770035416),s=Hn(s,n,r,i,t[9],12,-1958414417),i=Hn(i,s,n,r,t[10],17,-42063),r=Hn(r,i,s,n,t[11],22,-1990404162),n=Hn(n,r,i,s,t[12],7,1804603682),s=Hn(s,n,r,i,t[13],12,-40341101),i=Hn(i,s,n,r,t[14],17,-1502002290),n=Wn(n,r=Hn(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Wn(s,n,r,i,t[6],9,-1069501632),i=Wn(i,s,n,r,t[11],14,643717713),r=Wn(r,i,s,n,t[0],20,-373897302),n=Wn(n,r,i,s,t[5],5,-701558691),s=Wn(s,n,r,i,t[10],9,38016083),i=Wn(i,s,n,r,t[15],14,-660478335),r=Wn(r,i,s,n,t[4],20,-405537848),n=Wn(n,r,i,s,t[9],5,568446438),s=Wn(s,n,r,i,t[14],9,-1019803690),i=Wn(i,s,n,r,t[3],14,-187363961),r=Wn(r,i,s,n,t[8],20,1163531501),n=Wn(n,r,i,s,t[13],5,-1444681467),s=Wn(s,n,r,i,t[2],9,-51403784),i=Wn(i,s,n,r,t[7],14,1735328473),n=Gn(n,r=Wn(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Gn(s,n,r,i,t[8],11,-2022574463),i=Gn(i,s,n,r,t[11],16,1839030562),r=Gn(r,i,s,n,t[14],23,-35309556),n=Gn(n,r,i,s,t[1],4,-1530992060),s=Gn(s,n,r,i,t[4],11,1272893353),i=Gn(i,s,n,r,t[7],16,-155497632),r=Gn(r,i,s,n,t[10],23,-1094730640),n=Gn(n,r,i,s,t[13],4,681279174),s=Gn(s,n,r,i,t[0],11,-358537222),i=Gn(i,s,n,r,t[3],16,-722521979),r=Gn(r,i,s,n,t[6],23,76029189),n=Gn(n,r,i,s,t[9],4,-640364487),s=Gn(s,n,r,i,t[12],11,-421815835),i=Gn(i,s,n,r,t[15],16,530742520),n=Yn(n,r=Gn(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Yn(s,n,r,i,t[7],10,1126891415),i=Yn(i,s,n,r,t[14],15,-1416354905),r=Yn(r,i,s,n,t[5],21,-57434055),n=Yn(n,r,i,s,t[12],6,1700485571),s=Yn(s,n,r,i,t[3],10,-1894986606),i=Yn(i,s,n,r,t[10],15,-1051523),r=Yn(r,i,s,n,t[1],21,-2054922799),n=Yn(n,r,i,s,t[8],6,1873313359),s=Yn(s,n,r,i,t[15],10,-30611744),i=Yn(i,s,n,r,t[6],15,-1560198380),r=Yn(r,i,s,n,t[13],21,1309151649),n=Yn(n,r,i,s,t[4],6,-145523070),s=Yn(s,n,r,i,t[11],10,-1120210379),i=Yn(i,s,n,r,t[2],15,718787259),r=Yn(r,i,s,n,t[9],21,-343485551),e[0]=Os(n,e[0]),e[1]=Os(r,e[1]),e[2]=Os(i,e[2]),e[3]=Os(s,e[3])}function eh(e,t,n,r,i,s){return t=Os(Os(t,e),Os(r,s)),Os(t<<i|t>>>32-i,n)}function Hn(e,t,n,r,i,s,o){return eh(t&n|~t&r,e,t,i,s,o)}function Wn(e,t,n,r,i,s,o){return eh(t&r|n&~r,e,t,i,s,o)}function Gn(e,t,n,r,i,s,o){return eh(t^n^r,e,t,i,s,o)}function Yn(e,t,n,r,i,s,o){return eh(n^(t|~r),e,t,i,s,o)}function m3(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Mp(r,wC(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Mp(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Mp(r,i),r}function wC(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}bu=et.atob.bind(et),n1=et.btoa.bind(et);var R5="0123456789abcdef".split("");function bC(e){for(var t="",n=0;n<4;n++)t+=R5[e>>8*n+4&15]+R5[e>>8*n&15];return t}function SC(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function r1(e){return m3(e).map(SC).join("")}var NC=function(e){for(var t=0;t<e.length;t++)e[t]=bC(e[t]);return e.join("")}(m3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Os(e,t){if(NC){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function i1(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var d=0;for(l=0;l<256;l++){var p=a[l];d=(d+p+o.charCodeAt(l))%256,a[l]=a[d],a[d]=p}n=e,r=a}else a=r;var h=t.length,g=0,m=0,N="";for(l=0;l<h;l++)m=(m+(p=a[g=(g+1)%256]))%256,a[g]=a[m],a[m]=p,o=a[(a[g]+a[m])%256],N+=String.fromCharCode(t.charCodeAt(l)^o);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var M5={print:4,modify:8,copy:16,"annot-forms":32};function wa(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(M5.perm!==void 0)throw new Error("Invalid permission: "+a);i+=M5[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=r1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=i1(this.encryptionKey,this.padding)}function ba(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function D5(e){if(Ft(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(a){et.console&&zt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Nf(e){if(!(this instanceof Nf))return new Nf(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function g3(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ao(e,t,n,r,i){if(!(this instanceof Ao))return new Ao(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,g3.call(this,r,i)}function Oa(e,t,n,r,i){if(!(this instanceof Oa))return new Oa(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,g3.call(this,r,i)}function Xe(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,d="S",p=null;Ft(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=D5;var N="1.3",j=m.__private__.getPdfVersion=function(){return N};m.__private__.setPdfVersion=function(v){N=v};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return L};var w=m.__private__.getPageFormat=function(v){return L[v]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},b=x.COMPAT;function T(){this.saveGraphicsState(),K(new Fe(Me,0,0,-Me,0,ms()*Me).toString()+" cm"),this.setFontSize(this.getFontSize()/Me),d="n",b=x.ADVANCED}function q(){this.restoreGraphicsState(),d="S",b=x.COMPAT}var G=m.__private__.combineFontStyleAndFontWeight=function(v,P){if(v=="bold"&&P=="normal"||v=="bold"&&P==400||v=="normal"&&P=="italic"||v=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(v=P==400||P==="normal"?v==="italic"?"italic":"normal":P!=700&&P!=="bold"||v!=="normal"?(P==700?"bold":P)+""+v:"bold"),v};m.advancedAPI=function(v){var P=b===x.COMPAT;return P&&T.call(this),typeof v!="function"||(v(this),P&&q.call(this)),this},m.compatAPI=function(v){var P=b===x.ADVANCED;return P&&q.call(this),typeof v!="function"||(v(this),P&&T.call(this)),this},m.isAdvancedAPI=function(){return b===x.ADVANCED};var R,M=function(v){if(b!==x.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=m.roundToPrecision=m.__private__.roundToPrecision=function(v,P){var Y=t||P;if(isNaN(v)||isNaN(Y))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(Y).replace(/0+$/,"")};R=m.hpf=m.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,16)};var re=m.f2=m.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return $(v,2)},F=m.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return $(v,3)},k=m.scale=m.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return b===x.COMPAT?v*Me:b===x.ADVANCED?v:void 0},W=function(v){return b===x.COMPAT?ms()-v:b===x.ADVANCED?v:void 0},z=function(v){return k(W(v))};m.__private__.setPrecision=m.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var se,Q="00000000000000000000000000000000",ae=m.__private__.getFileId=function(){return Q},H=m.__private__.setFileId=function(v){return Q=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Vn=new wa(p.userPermissions,p.userPassword,p.ownerPassword,Q)),Q};m.setFileId=function(v){return H(v),this},m.getFileId=function(){return ae()};var te=m.__private__.convertDateToPDFDate=function(v){var P=v.getTimezoneOffset(),Y=P<0?"+":"-",X=Math.floor(Math.abs(P/60)),ue=Math.abs(P%60),xe=[Y,V(X),"'",V(ue),"'"].join("");return["D:",v.getFullYear(),V(v.getMonth()+1),V(v.getDate()),V(v.getHours()),V(v.getMinutes()),V(v.getSeconds()),xe].join("")},ie=m.__private__.convertPDFDateToDate=function(v){var P=parseInt(v.substr(2,4),10),Y=parseInt(v.substr(6,2),10)-1,X=parseInt(v.substr(8,2),10),ue=parseInt(v.substr(10,2),10),xe=parseInt(v.substr(12,2),10),Le=parseInt(v.substr(14,2),10);return new Date(P,Y,X,ue,xe,Le,0)},me=m.__private__.setCreationDate=function(v){var P;if(v===void 0&&(v=new Date),v instanceof Date)P=te(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=v}return se=P},A=m.__private__.getCreationDate=function(v){var P=se;return v==="jsDate"&&(P=ie(se)),P};m.setCreationDate=function(v){return me(v),this},m.getCreationDate=function(v){return A(v)};var B,V=m.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},J=m.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},Z=0,ce=[],he=[],pe=0,Ce=[],Ae=[],Te=!1,Ee=he,Ge=function(){Z=0,pe=0,he=[],ce=[],Ce=[],Cn=It(),Dt=It()};m.__private__.setCustomOutputDestination=function(v){Te=!0,Ee=v};var ye=function(v){Te||(Ee=v)};m.__private__.resetCustomOutputDestination=function(){Te=!1,Ee=he};var K=m.__private__.out=function(v){return v=v.toString(),pe+=v.length+1,Ee.push(v),Ee},Je=m.__private__.write=function(v){return K(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Ue=m.__private__.getArrayBuffer=function(v){for(var P=v.length,Y=new ArrayBuffer(P),X=new Uint8Array(Y);P--;)X[P]=v.charCodeAt(P);return Y},ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ge};var be=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(v){return be=b===x.ADVANCED?v/Me:v,this};var ke,Ie=m.__private__.getFontSize=m.getFontSize=function(){return b===x.COMPAT?be:be*Me},We=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(v){return We=v,this},m.__private__.getR2L=m.getR2L=function(){return We};var nt,it=m.__private__.setZoomMode=function(v){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))ke=v;else if(isNaN(v)){if(P.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');ke=v}else ke=parseInt(v,10)};m.__private__.getZoomMode=function(){return ke};var ft,gt=m.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');nt=v};m.__private__.getPageMode=function(){return nt};var Pt=m.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');ft=v};m.__private__.getLayoutMode=function(){return ft},m.__private__.setDisplayMode=m.setDisplayMode=function(v,P,Y){return it(v),Pt(P),gt(Y),this};var Qe={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(v){if(Object.keys(Qe).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qe[v]},m.__private__.getDocumentProperties=function(){return Qe},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(v){for(var P in Qe)Qe.hasOwnProperty(P)&&v[P]&&(Qe[P]=v[P]);return this},m.__private__.setDocumentProperty=function(v,P){if(Object.keys(Qe).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qe[v]=P};var ht,Me,Lt,vt,Ar,xt={},Wt={},zr=[],wt={},Oi={},Vt={},Lr={},Vr=null,Jt=0,tt=[],jt=new D5(m),Bi=e.hotfixes||[],qe={},ct={},_e=[],Fe=function v(P,Y,X,ue,xe,Le){if(!(this instanceof v))return new v(P,Y,X,ue,xe,Le);isNaN(P)&&(P=1),isNaN(Y)&&(Y=0),isNaN(X)&&(X=0),isNaN(ue)&&(ue=1),isNaN(xe)&&(xe=0),isNaN(Le)&&(Le=0),this._matrix=[P,Y,X,ue,xe,Le]};Object.defineProperty(Fe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Fe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Fe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Fe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Fe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Fe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Fe.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Fe.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Fe.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Fe.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Fe.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Fe.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Fe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Fe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Fe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Fe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Fe.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(v)},Fe.prototype.multiply=function(v){var P=v.sx*this.sx+v.shy*this.shx,Y=v.sx*this.shy+v.shy*this.sy,X=v.shx*this.sx+v.sy*this.shx,ue=v.shx*this.shy+v.sy*this.sy,xe=v.tx*this.sx+v.ty*this.shx+this.tx,Le=v.tx*this.shy+v.ty*this.sy+this.ty;return new Fe(P,Y,X,ue,xe,Le)},Fe.prototype.decompose=function(){var v=this.sx,P=this.shy,Y=this.shx,X=this.sy,ue=this.tx,xe=this.ty,Le=Math.sqrt(v*v+P*P),Oe=(v/=Le)*Y+(P/=Le)*X;Y-=v*Oe,X-=P*Oe;var Ye=Math.sqrt(Y*Y+X*X);return Oe/=Ye,v*(X/=Ye)<P*(Y/=Ye)&&(v=-v,P=-P,Oe=-Oe,Le=-Le),{scale:new Fe(Le,0,0,Ye,0,0),translate:new Fe(1,0,0,1,ue,xe),rotate:new Fe(v,P,-P,v,0,0),skew:new Fe(1,0,Oe,1,0,0)}},Fe.prototype.toString=function(v){return this.join(" ")},Fe.prototype.inversed=function(){var v=this.sx,P=this.shy,Y=this.shx,X=this.sy,ue=this.tx,xe=this.ty,Le=1/(v*X-P*Y),Oe=X*Le,Ye=-P*Le,lt=-Y*Le,st=v*Le;return new Fe(Oe,Ye,lt,st,-Oe*ue-lt*xe,-Ye*ue-st*xe)},Fe.prototype.applyToPoint=function(v){var P=v.x*this.sx+v.y*this.shx+this.tx,Y=v.x*this.shy+v.y*this.sy+this.ty;return new ta(P,Y)},Fe.prototype.applyToRectangle=function(v){var P=this.applyToPoint(v),Y=this.applyToPoint(new ta(v.x+v.w,v.y+v.h));return new wl(P.x,P.y,Y.x-P.x,Y.y-P.y)},Fe.prototype.clone=function(){var v=this.sx,P=this.shy,Y=this.shx,X=this.sy,ue=this.tx,xe=this.ty;return new Fe(v,P,Y,X,ue,xe)},m.Matrix=Fe;var at=m.matrixMult=function(v,P){return P.multiply(v)},dt=new Fe(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=dt;var He=function(v,P){if(!Oi[v]){var Y=(P instanceof Ao?"Sh":"P")+(Object.keys(wt).length+1).toString(10);P.id=Y,Oi[v]=Y,wt[Y]=P,jt.publish("addPattern",P)}};m.ShadingPattern=Ao,m.TilingPattern=Oa,m.addShadingPattern=function(v,P){return M("addShadingPattern()"),He(v,P),this},m.beginTilingPattern=function(v){M("beginTilingPattern()"),wc(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},m.endTilingPattern=function(v,P){M("endTilingPattern()"),P.stream=Ae[B].join(`
`),He(v,P),jt.publish("endTilingPattern",P),_e.pop().restore()};var bt=m.__private__.newObject=function(){var v=It();return Rt(v,!0),v},It=m.__private__.newObjectDeferred=function(){return Z++,ce[Z]=function(){return pe},Z},Rt=function(v,P){return P=typeof P=="boolean"&&P,ce[v]=pe,P&&K(v+" 0 obj"),v},lr=m.__private__.newAdditionalObject=function(){var v={objId:It(),content:""};return Ce.push(v),v},Cn=It(),Dt=It(),At=m.__private__.decodeColorString=function(v){var P=v.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var Y=parseFloat(P[0]);P=[Y,Y,Y,"r"]}for(var X="#",ue=0;ue<3;ue++)X+=("0"+Math.floor(255*parseFloat(P[ue])).toString(16)).slice(-2);return X},Nn=m.__private__.encodeColorString=function(v){var P;typeof v=="string"&&(v={ch1:v});var Y=v.ch1,X=v.ch2,ue=v.ch3,xe=v.ch4,Le=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Y=="string"&&Y.charAt(0)!=="#"){var Oe=new p3(Y);if(Oe.ok)Y=Oe.toHex();else if(!/^\d*\.?\d*$/.test(Y))throw new Error('Invalid color "'+Y+'" passed to jsPDF.encodeColorString.')}if(typeof Y=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Y)&&(Y="#"+Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]),typeof Y=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Y)){var Ye=parseInt(Y.substr(1),16);Y=Ye>>16&255,X=Ye>>8&255,ue=255&Ye}if(X===void 0||xe===void 0&&Y===X&&X===ue)if(typeof Y=="string")P=Y+" "+Le[0];else switch(v.precision){case 2:P=re(Y/255)+" "+Le[0];break;case 3:default:P=F(Y/255)+" "+Le[0]}else if(xe===void 0||Ft(xe)==="object"){if(xe&&!isNaN(xe.a)&&xe.a===0)return P=["1.","1.","1.",Le[1]].join(" ");if(typeof Y=="string")P=[Y,X,ue,Le[1]].join(" ");else switch(v.precision){case 2:P=[re(Y/255),re(X/255),re(ue/255),Le[1]].join(" ");break;default:case 3:P=[F(Y/255),F(X/255),F(ue/255),Le[1]].join(" ")}}else if(typeof Y=="string")P=[Y,X,ue,xe,Le[2]].join(" ");else switch(v.precision){case 2:P=[re(Y),re(X),re(ue),re(xe),Le[2]].join(" ");break;case 3:default:P=[F(Y),F(X),F(ue),F(xe),Le[2]].join(" ")}return P},ur=m.__private__.getFilters=function(){return o},Qt=m.__private__.putStream=function(v){var P=(v=v||{}).data||"",Y=v.filters||ur(),X=v.alreadyAppliedFilters||[],ue=v.addLength1||!1,xe=P.length,Le=v.objectId,Oe=function(Un){return Un};if(p!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Oe=Vn.encryptor(Le,0));var Ye={};Y===!0&&(Y=["FlateEncode"]);var lt=v.additionalKeyValues||[],st=(Ye=Xe.API.processDataByFilters!==void 0?Xe.API.processDataByFilters(P,Y):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(X)?X.join(" "):X.toString());if(Ye.data.length!==0&&(lt.push({key:"Length",value:Ye.data.length}),ue===!0&&lt.push({key:"Length1",value:xe})),st.length!=0)if(st.split("/").length-1==1)lt.push({key:"Filter",value:st});else{lt.push({key:"Filter",value:"["+st+"]"});for(var yt=0;yt<lt.length;yt+=1)if(lt[yt].key==="DecodeParms"){for(var Zt=[],on=0;on<Ye.reverseChain.split("/").length-1;on+=1)Zt.push("null");Zt.push(lt[yt].value),lt[yt].value="["+Zt.join(" ")+"]"}}K("<<");for(var yn=0;yn<lt.length;yn++)K("/"+lt[yn].key+" "+lt[yn].value);K(">>"),Ye.data.length!==0&&(K("stream"),K(Oe(Ye.data)),K("endstream"))},zn=m.__private__.putPage=function(v){var P=v.number,Y=v.data,X=v.objId,ue=v.contentsObjId;Rt(X,!0),K("<</Type /Page"),K("/Parent "+v.rootDictionaryObjId+" 0 R"),K("/Resources "+v.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(R(v.mediaBox.bottomLeftX))+" "+parseFloat(R(v.mediaBox.bottomLeftY))+" "+R(v.mediaBox.topRightX)+" "+R(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&K("/CropBox ["+R(v.cropBox.bottomLeftX)+" "+R(v.cropBox.bottomLeftY)+" "+R(v.cropBox.topRightX)+" "+R(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&K("/BleedBox ["+R(v.bleedBox.bottomLeftX)+" "+R(v.bleedBox.bottomLeftY)+" "+R(v.bleedBox.topRightX)+" "+R(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&K("/TrimBox ["+R(v.trimBox.bottomLeftX)+" "+R(v.trimBox.bottomLeftY)+" "+R(v.trimBox.topRightX)+" "+R(v.trimBox.topRightY)+"]"),v.artBox!==null&&K("/ArtBox ["+R(v.artBox.bottomLeftX)+" "+R(v.artBox.bottomLeftY)+" "+R(v.artBox.topRightX)+" "+R(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&K("/UserUnit "+v.userUnit),jt.publish("putPage",{objId:X,pageContext:tt[P],pageNumber:P,page:Y}),K("/Contents "+ue+" 0 R"),K(">>"),K("endobj");var xe=Y.join(`
`);return b===x.ADVANCED&&(xe+=`
Q`),Rt(ue,!0),Qt({data:xe,filters:ur(),objectId:ue}),K("endobj"),X},cr=m.__private__.putPages=function(){var v,P,Y=[];for(v=1;v<=Jt;v++)tt[v].objId=It(),tt[v].contentsObjId=It();for(v=1;v<=Jt;v++)Y.push(zn({number:v,data:Ae[v],objId:tt[v].objId,contentsObjId:tt[v].contentsObjId,mediaBox:tt[v].mediaBox,cropBox:tt[v].cropBox,bleedBox:tt[v].bleedBox,trimBox:tt[v].trimBox,artBox:tt[v].artBox,userUnit:tt[v].userUnit,rootDictionaryObjId:Cn,resourceDictionaryObjId:Dt}));Rt(Cn,!0),K("<</Type /Pages");var X="/Kids [";for(P=0;P<Jt;P++)X+=Y[P]+" 0 R ";K(X+"]"),K("/Count "+Jt),K(">>"),K("endobj"),jt.publish("postPutPages")},qo=function(v){jt.publish("putFont",{font:v,out:K,newObject:bt,putStream:Qt}),v.isAlreadyPutted!==!0&&(v.objectNumber=bt(),K("<<"),K("/Type /Font"),K("/BaseFont /"+ba(v.postScriptName)),K("/Subtype /Type1"),typeof v.encoding=="string"&&K("/Encoding /"+v.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},$o=function(){for(var v in xt)xt.hasOwnProperty(v)&&(h===!1||h===!0&&g.hasOwnProperty(v))&&qo(xt[v])},Ho=function(v){v.objectNumber=bt();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[R(v.x),R(v.y),R(v.x+v.width),R(v.y+v.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var Y=v.pages[1].join(`
`);Qt({data:Y,additionalKeyValues:P,objectId:v.objectNumber}),K("endobj")},Wo=function(){for(var v in qe)qe.hasOwnProperty(v)&&Ho(qe[v])},nc=function(v,P){var Y,X=[],ue=1/(P-1);for(Y=0;Y<1;Y+=ue)X.push(Y);if(X.push(1),v[0].offset!=0){var xe={offset:0,color:v[0].color};v.unshift(xe)}if(v[v.length-1].offset!=1){var Le={offset:1,color:v[v.length-1].color};v.push(Le)}for(var Oe="",Ye=0,lt=0;lt<X.length;lt++){for(Y=X[lt];Y>v[Ye+1].offset;)Ye++;var st=v[Ye].offset,yt=(Y-st)/(v[Ye+1].offset-st),Zt=v[Ye].color,on=v[Ye+1].color;Oe+=J(Math.round((1-yt)*Zt[0]+yt*on[0]).toString(16))+J(Math.round((1-yt)*Zt[1]+yt*on[1]).toString(16))+J(Math.round((1-yt)*Zt[2]+yt*on[2]).toString(16))}return Oe.trim()},nh=function(v,P){P||(P=21);var Y=bt(),X=nc(v.colors,P),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+P+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qt({data:X,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Y}),K("endobj"),v.objectNumber=bt(),K("<< /ShadingType "+v.type),K("/ColorSpace /DeviceRGB");var xe="/Coords ["+R(parseFloat(v.coords[0]))+" "+R(parseFloat(v.coords[1]))+" ";v.type===2?xe+=R(parseFloat(v.coords[2]))+" "+R(parseFloat(v.coords[3])):xe+=R(parseFloat(v.coords[2]))+" "+R(parseFloat(v.coords[3]))+" "+R(parseFloat(v.coords[4]))+" "+R(parseFloat(v.coords[5])),K(xe+="]"),v.matrix&&K("/Matrix ["+v.matrix.toString()+"]"),K("/Function "+Y+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},rh=function(v,P){var Y=It(),X=bt();P.push({resourcesOid:Y,objectOid:X}),v.objectNumber=X;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+v.boundingBox.map(R).join(" ")+"]"}),ue.push({key:"XStep",value:R(v.xStep)}),ue.push({key:"YStep",value:R(v.yStep)}),ue.push({key:"Resources",value:Y+" 0 R"}),v.matrix&&ue.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Qt({data:v.stream,additionalKeyValues:ue,objectId:v.objectNumber}),K("endobj")},Go=function(v){var P;for(P in wt)wt.hasOwnProperty(P)&&(wt[P]instanceof Ao?nh(wt[P]):wt[P]instanceof Oa&&rh(wt[P],v))},rc=function(v){for(var P in v.objectNumber=bt(),K("<<"),v)switch(P){case"opacity":K("/ca "+re(v[P]));break;case"stroke-opacity":K("/CA "+re(v[P]))}K(">>"),K("endobj")},ih=function(){var v;for(v in Vt)Vt.hasOwnProperty(v)&&rc(Vt[v])},cl=function(){for(var v in K("/XObject <<"),qe)qe.hasOwnProperty(v)&&qe[v].objectNumber>=0&&K("/"+v+" "+qe[v].objectNumber+" 0 R");jt.publish("putXobjectDict"),K(">>")},sh=function(){Vn.oid=bt(),K("<<"),K("/Filter /Standard"),K("/V "+Vn.v),K("/R "+Vn.r),K("/U <"+Vn.toHexString(Vn.U)+">"),K("/O <"+Vn.toHexString(Vn.O)+">"),K("/P "+Vn.P),K(">>"),K("endobj")},ic=function(){for(var v in K("/Font <<"),xt)xt.hasOwnProperty(v)&&(h===!1||h===!0&&g.hasOwnProperty(v))&&K("/"+v+" "+xt[v].objectNumber+" 0 R");K(">>")},oh=function(){if(Object.keys(wt).length>0){for(var v in K("/Shading <<"),wt)wt.hasOwnProperty(v)&&wt[v]instanceof Ao&&wt[v].objectNumber>=0&&K("/"+v+" "+wt[v].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),K(">>")}},Yo=function(v){if(Object.keys(wt).length>0){for(var P in K("/Pattern <<"),wt)wt.hasOwnProperty(P)&&wt[P]instanceof m.TilingPattern&&wt[P].objectNumber>=0&&wt[P].objectNumber<v&&K("/"+P+" "+wt[P].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),K(">>")}},ah=function(){if(Object.keys(Vt).length>0){var v;for(v in K("/ExtGState <<"),Vt)Vt.hasOwnProperty(v)&&Vt[v].objectNumber>=0&&K("/"+v+" "+Vt[v].objectNumber+" 0 R");jt.publish("putGStateDict"),K(">>")}},dn=function(v){Rt(v.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ic(),oh(),Yo(v.objectOid),ah(),cl(),K(">>"),K("endobj")},sc=function(){var v=[];$o(),ih(),Wo(),Go(v),jt.publish("putResources"),v.forEach(dn),dn({resourcesOid:Dt,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources")},oc=function(){jt.publish("putAdditionalObjects");for(var v=0;v<Ce.length;v++){var P=Ce[v];Rt(P.objId,!0),K(P.content),K("endobj")}jt.publish("postPutAdditionalObjects")},ac=function(v){Wt[v.fontName]=Wt[v.fontName]||{},Wt[v.fontName][v.fontStyle]=v.id},dl=function(v,P,Y,X,ue){var xe={id:"F"+(Object.keys(xt).length+1).toString(10),postScriptName:v,fontName:P,fontStyle:Y,encoding:X,isStandardFont:ue||!1,metadata:{}};return jt.publish("addFont",{font:xe,instance:this}),xt[xe.id]=xe,ac(xe),xe.id},lh=function(v){for(var P=0,Y=ge.length;P<Y;P++){var X=dl.call(this,v[P][0],v[P][1],v[P][2],ge[P][3],!0);h===!1&&(g[X]=!0);var ue=v[P][0].split("-");ac({id:X,fontName:ue[0],fontStyle:ue[1]||""})}jt.publish("addFonts",{fonts:xt,dictionary:Wt})},ri=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(X){var P=X.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var Y="Error in function "+P.split(`
`)[0].split("<")[0]+": "+X.message;if(!et.console)throw new Error(Y);et.console.error(Y,X),et.alert&&alert(Y)}},v.foo.bar=v,v.foo},Ko=function(v,P){var Y,X,ue,xe,Le,Oe,Ye,lt,st;if(ue=(P=P||{}).sourceEncoding||"Unicode",Le=P.outputEncoding,(P.autoencode||Le)&&xt[ht].metadata&&xt[ht].metadata[ue]&&xt[ht].metadata[ue].encoding&&(xe=xt[ht].metadata[ue].encoding,!Le&&xt[ht].encoding&&(Le=xt[ht].encoding),!Le&&xe.codePages&&(Le=xe.codePages[0]),typeof Le=="string"&&(Le=xe[Le]),Le)){for(Ye=!1,Oe=[],Y=0,X=v.length;Y<X;Y++)(lt=Le[v.charCodeAt(Y)])?Oe.push(String.fromCharCode(lt)):Oe.push(v[Y]),Oe[Y].charCodeAt(0)>>8&&(Ye=!0);v=Oe.join("")}for(Y=v.length;Ye===void 0&&Y!==0;)v.charCodeAt(Y-1)>>8&&(Ye=!0),Y--;if(!Ye)return v;for(Oe=P.noBOM?[]:[254,255],Y=0,X=v.length;Y<X;Y++){if((st=(lt=v.charCodeAt(Y))>>8)>>8)throw new Error("Character at position "+Y+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Oe.push(st),Oe.push(lt-(st<<8))}return String.fromCharCode.apply(void 0,Oe)},dr=m.__private__.pdfEscape=m.pdfEscape=function(v,P){return Ko(v,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fl=m.__private__.beginPage=function(v){Ae[++Jt]=[],tt[Jt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},uc(Jt),ye(Ae[B])},lc=function(v,P){var Y,X,ue;switch(n=P||n,typeof v=="string"&&(Y=w(v.toLowerCase()),Array.isArray(Y)&&(X=Y[0],ue=Y[1])),Array.isArray(v)&&(X=v[0]*Me,ue=v[1]*Me),isNaN(X)&&(X=i[0],ue=i[1]),(X>14400||ue>14400)&&(zt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),X=Math.min(14400,X),ue=Math.min(14400,ue)),i=[X,ue],n.substr(0,1)){case"l":ue>X&&(i=[ue,X]);break;case"p":X>ue&&(i=[ue,X])}fl(i),mc(gl),K(ii),yl!==0&&K(yl+" J"),xl!==0&&K(xl+" j"),jt.publish("addPage",{pageNumber:Jt})},uh=function(v){v>0&&v<=Jt&&(Ae.splice(v,1),tt.splice(v,1),Jt--,B>Jt&&(B=Jt),this.setPage(B))},uc=function(v){v>0&&v<=Jt&&(B=v)},ch=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ae.length-1},cc=function(v,P,Y){var X,ue=void 0;return Y=Y||{},v=v!==void 0?v:xt[ht].fontName,P=P!==void 0?P:xt[ht].fontStyle,X=v.toLowerCase(),Wt[X]!==void 0&&Wt[X][P]!==void 0?ue=Wt[X][P]:Wt[v]!==void 0&&Wt[v][P]!==void 0?ue=Wt[v][P]:Y.disableWarning===!1&&zt.warn("Unable to look up font label for font '"+v+"', '"+P+"'. Refer to getFontList() for available fonts."),ue||Y.noFallback||(ue=Wt.times[P])==null&&(ue=Wt.times.normal),ue},dh=m.__private__.putInfo=function(){var v=bt(),P=function(X){return X};for(var Y in p!==null&&(P=Vn.encryptor(v,0)),K("<<"),K("/Producer ("+dr(P("jsPDF "+Xe.version))+")"),Qe)Qe.hasOwnProperty(Y)&&Qe[Y]&&K("/"+Y.substr(0,1).toUpperCase()+Y.substr(1)+" ("+dr(P(Qe[Y]))+")");K("/CreationDate ("+dr(P(se))+")"),K(">>"),K("endobj")},hl=m.__private__.putCatalog=function(v){var P=(v=v||{}).rootDictionaryObjId||Cn;switch(bt(),K("<<"),K("/Type /Catalog"),K("/Pages "+P+" 0 R"),ke||(ke="fullwidth"),ke){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Y=""+ke;Y.substr(Y.length-1)==="%"&&(ke=parseInt(ke)/100),typeof ke=="number"&&K("/OpenAction [3 0 R /XYZ null null "+re(ke)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}nt&&K("/PageMode /"+nt),jt.publish("putCatalog"),K(">>"),K("endobj")},fh=m.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(Z+1)),K("/Root "+Z+" 0 R"),K("/Info "+(Z-1)+" 0 R"),p!==null&&K("/Encrypt "+Vn.oid+" 0 R"),K("/ID [ <"+Q+"> <"+Q+"> ]"),K(">>")},hh=m.__private__.putHeader=function(){K("%PDF-"+N),K("%ºß¬à")},ph=m.__private__.putXRef=function(){var v="0000000000";K("xref"),K("0 "+(Z+1)),K("0000000000 65535 f ");for(var P=1;P<=Z;P++)typeof ce[P]=="function"?K((v+ce[P]()).slice(-10)+" 00000 n "):ce[P]!==void 0?K((v+ce[P]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},zi=m.__private__.buildDocument=function(){Ge(),ye(he),jt.publish("buildDocument"),hh(),cr(),oc(),sc(),p!==null&&sh(),dh(),hl();var v=pe;return ph(),fh(),K("startxref"),K(""+v),K("%%EOF"),ye(Ae[B]),he.join(`
`)},Jo=m.__private__.getBlob=function(v){return new Blob([Ue(v)],{type:"application/pdf"})},Xo=m.output=m.__private__.output=ri(function(v,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",v){case void 0:return zi();case"save":m.save(P.filename);break;case"arraybuffer":return Ue(zi());case"blob":return Jo(zi());case"bloburi":case"bloburl":if(et.URL!==void 0&&typeof et.URL.createObjectURL=="function")return et.URL&&et.URL.createObjectURL(Jo(zi()))||void 0;zt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Y="",X=zi();try{Y=n1(X)}catch{Y=n1(unescape(encodeURIComponent(X)))}return"data:application/pdf;filename="+P.filename+";base64,"+Y;case"pdfobjectnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(ue=P.pdfObjectUrl,xe="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",Oe=et.open();return Oe!==null&&Oe.document.write(Le),Oe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',lt=et.open();if(lt!==null){lt.document.write(Ye);var st=this;lt.document.documentElement.querySelector("#pdfViewer").onload=function(){lt.document.title=P.filename,lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(st.output("bloburl"))}}return lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',Zt=et.open();if(Zt!==null&&(Zt.document.write(yt),Zt.document.title=P.filename),Zt||typeof safari>"u")return Zt;break;case"datauri":case"dataurl":return et.document.location.href=this.output("datauristring",P);default:return null}}),dc=function(v){return Array.isArray(Bi)===!0&&Bi.indexOf(v)>-1};switch(r){case"pt":Me=1;break;case"mm":Me=72/25.4;break;case"cm":Me=72/2.54;break;case"in":Me=72;break;case"px":Me=dc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Me=12;break;case"ex":Me=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Me=r}var Vn=null;me(),H();var mh=function(v){return p!==null?Vn.encryptor(v,0):function(P){return P}},fc=m.__private__.getPageInfo=m.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tt[v].objId,pageNumber:v,pageContext:tt[v]}},rt=m.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in tt)if(tt[P].objId===v)break;return fc(P)},gh=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:tt[B].objId,pageNumber:B,pageContext:tt[B]}};m.addPage=function(){return lc.apply(this,arguments),this},m.setPage=function(){return uc.apply(this,arguments),ye.call(this,Ae[B]),this},m.insertPage=function(v){return this.addPage(),this.movePage(B,v),this},m.movePage=function(v,P){var Y,X;if(v>P){Y=Ae[v],X=tt[v];for(var ue=v;ue>P;ue--)Ae[ue]=Ae[ue-1],tt[ue]=tt[ue-1];Ae[P]=Y,tt[P]=X,this.setPage(P)}else if(v<P){Y=Ae[v],X=tt[v];for(var xe=v;xe<P;xe++)Ae[xe]=Ae[xe+1],tt[xe]=tt[xe+1];Ae[P]=Y,tt[P]=X,this.setPage(P)}return this},m.deletePage=function(){return uh.apply(this,arguments),this},m.__private__.text=m.text=function(v,P,Y,X,ue){var xe,Le,Oe,Ye,lt,st,yt,Zt,on,yn=(X=X||{}).scope||this;if(typeof v=="number"&&typeof P=="number"&&(typeof Y=="string"||Array.isArray(Y))){var Un=Y;Y=P,P=v,v=Un}if(arguments[3]instanceof Fe?(M("The transform parameter of text() with a Matrix value"),on=ue):(Oe=arguments[4],Ye=arguments[5],Ft(yt=arguments[3])==="object"&&yt!==null||(typeof Oe=="string"&&(Ye=Oe,Oe=null),typeof yt=="string"&&(Ye=yt,yt=null),typeof yt=="number"&&(Oe=yt,yt=null),X={flags:yt,angle:Oe,align:Ye})),isNaN(P)||isNaN(Y)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return yn;var Pn="",si=!1,Cr=typeof X.lineHeightFactor=="number"?X.lineHeightFactor:ao,Ai=yn.internal.scaleFactor;function bc(Ut){return Ut=Ut.split("	").join(Array(X.TabLen||9).join(" ")),dr(Ut,yt)}function jl(Ut){for(var qt,hn=Ut.concat(),jn=[],Hi=hn.length;Hi--;)typeof(qt=hn.shift())=="string"?jn.push(qt):Array.isArray(Ut)&&(qt.length===1||qt[1]===void 0&&qt[2]===void 0)?jn.push(qt[0]):jn.push([qt[0],qt[1],qt[2]]);return jn}function Al(Ut,qt){var hn;if(typeof Ut=="string")hn=qt(Ut)[0];else if(Array.isArray(Ut)){for(var jn,Hi,Tl=Ut.concat(),fa=[],Lc=Tl.length;Lc--;)typeof(jn=Tl.shift())=="string"?fa.push(qt(jn)[0]):Array.isArray(jn)&&typeof jn[0]=="string"&&(Hi=qt(jn[0],jn[1],jn[2]),fa.push([Hi[0],Hi[1],Hi[2]]));hn=fa}return hn}var ra=!1,Ll=!0;if(typeof v=="string")ra=!0;else if(Array.isArray(v)){var Cl=v.concat();Le=[];for(var ia,In=Cl.length;In--;)(typeof(ia=Cl.shift())!="string"||Array.isArray(ia)&&typeof ia[0]!="string")&&(Ll=!1);ra=Ll}if(ra===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var sa=be/yn.internal.scaleFactor,oa=sa*(Cr-1);switch(X.baseline){case"bottom":Y-=oa;break;case"top":Y+=sa-oa;break;case"hanging":Y+=sa-2*oa;break;case"middle":Y+=sa/2-oa}if((st=X.maxWidth||0)>0&&(typeof v=="string"?v=yn.splitTextToSize(v,st):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(Ut,qt){return Ut.concat(yn.splitTextToSize(qt,st))},[]))),xe={text:v,x:P,y:Y,options:X,mutex:{pdfEscape:dr,activeFontKey:ht,fonts:xt,activeFontSize:be}},jt.publish("preProcessText",xe),v=xe.text,Oe=(X=xe.options).angle,!(on instanceof Fe)&&Oe&&typeof Oe=="number"){Oe*=Math.PI/180,X.rotationDirection===0&&(Oe=-Oe),b===x.ADVANCED&&(Oe=-Oe);var aa=Math.cos(Oe),Pl=Math.sin(Oe);on=new Fe(aa,Pl,-Pl,aa,0,0)}else Oe&&Oe instanceof Fe&&(on=Oe);b!==x.ADVANCED||on||(on=dt),(lt=X.charSpace||ea)!==void 0&&(Pn+=R(k(lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zt=X.horizontalScale)!==void 0&&(Pn+=R(100*Zt)+` Tz
`),X.lang;var fr=-1,Lh=X.renderingMode!==void 0?X.renderingMode:X.stroke,kl=yn.internal.getCurrentPageInfo().pageContext;switch(Lh){case 0:case!1:case"fill":fr=0;break;case 1:case!0:case"stroke":fr=1;break;case 2:case"fillThenStroke":fr=2;break;case 3:case"invisible":fr=3;break;case 4:case"fillAndAddForClipping":fr=4;break;case 5:case"strokeAndAddPathForClipping":fr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fr=6;break;case 7:case"addToPathForClipping":fr=7}var Sc=kl.usedRenderingMode!==void 0?kl.usedRenderingMode:-1;fr!==-1?Pn+=fr+` Tr
`:Sc!==-1&&(Pn+=`0 Tr
`),fr!==-1&&(kl.usedRenderingMode=fr),Ye=X.align||"left";var Ur,la=be*Cr,Nc=yn.internal.pageSize.getWidth(),jc=xt[ht];lt=X.charSpace||ea,st=X.maxWidth||0,yt=Object.assign({autoencode:!0,noBOM:!0},X.flags);var gs=[],co=function(Ut){return yn.getStringUnitWidth(Ut,{font:jc,charSpace:lt,fontSize:be,doKerning:!1})*be/Ai};if(Object.prototype.toString.call(v)==="[object Array]"){var hr;Le=jl(v),Ye!=="left"&&(Ur=Le.map(co));var Zn,vs=0;if(Ye==="right"){P-=Ur[0],v=[],In=Le.length;for(var Ui=0;Ui<In;Ui++)Ui===0?(Zn=ji(P),hr=Vi(Y)):(Zn=k(vs-Ur[Ui]),hr=-la),v.push([Le[Ui],Zn,hr]),vs=Ur[Ui]}else if(Ye==="center"){P-=Ur[0]/2,v=[],In=Le.length;for(var qi=0;qi<In;qi++)qi===0?(Zn=ji(P),hr=Vi(Y)):(Zn=k((vs-Ur[qi])/2),hr=-la),v.push([Le[qi],Zn,hr]),vs=Ur[qi]}else if(Ye==="left"){v=[],In=Le.length;for(var ua=0;ua<In;ua++)v.push(Le[ua])}else if(Ye==="justify"&&jc.encoding==="Identity-H"){v=[],In=Le.length,st=st!==0?st:Nc;for(var $i=0,fn=0;fn<In;fn++)if(hr=fn===0?Vi(Y):-la,Zn=fn===0?ji(P):$i,fn<In-1){var _l=k((st-Ur[fn])/(Le[fn].split(" ").length-1)),er=Le[fn].split(" ");v.push([er[0]+" ",Zn,hr]),$i=0;for(var qr=1;qr<er.length;qr++){var ca=(co(er[qr-1]+" "+er[qr])-co(er[qr]))*Ai+_l;qr==er.length-1?v.push([er[qr],ca,0]):v.push([er[qr]+" ",ca,0]),$i-=ca}}else v.push([Le[fn],Zn,hr]);v.push(["",$i,0])}else{if(Ye!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],In=Le.length,st=st!==0?st:Nc,fn=0;fn<In;fn++)hr=fn===0?Vi(Y):-la,Zn=fn===0?ji(P):0,fn<In-1?gs.push(R(k((st-Ur[fn])/(Le[fn].split(" ").length-1)))):gs.push(0),v.push([Le[fn],Zn,hr])}}var Ac=typeof X.R2L=="boolean"?X.R2L:We;Ac===!0&&(v=Al(v,function(Ut,qt,hn){return[Ut.split("").reverse().join(""),qt,hn]})),xe={text:v,x:P,y:Y,options:X,mutex:{pdfEscape:dr,activeFontKey:ht,fonts:xt,activeFontSize:be}},jt.publish("postProcessText",xe),v=xe.text,si=xe.mutex.isHex||!1;var El=xt[ht].encoding;El!=="WinAnsiEncoding"&&El!=="StandardEncoding"||(v=Al(v,function(Ut,qt,hn){return[bc(Ut),qt,hn]})),Le=jl(v),v=[];for(var fo,ho,ys,po=0,da=1,mo=Array.isArray(Le[0])?da:po,xs="",Fl=function(Ut,qt,hn){var jn="";return hn instanceof Fe?(hn=typeof X.angle=="number"?at(hn,new Fe(1,0,0,1,Ut,qt)):at(new Fe(1,0,0,1,Ut,qt),hn),b===x.ADVANCED&&(hn=at(new Fe(1,0,0,-1,0,0),hn)),jn=hn.join(" ")+` Tm
`):jn=R(Ut)+" "+R(qt)+` Td
`,jn},$r=0;$r<Le.length;$r++){switch(xs="",mo){case da:ys=(si?"<":"(")+Le[$r][0]+(si?">":")"),fo=parseFloat(Le[$r][1]),ho=parseFloat(Le[$r][2]);break;case po:ys=(si?"<":"(")+Le[$r]+(si?">":")"),fo=ji(P),ho=Vi(Y)}gs!==void 0&&gs[$r]!==void 0&&(xs=gs[$r]+` Tw
`),$r===0?v.push(xs+Fl(fo,ho,on)+ys):mo===po?v.push(xs+ys):mo===da&&v.push(xs+Fl(fo,ho,on)+ys)}v=mo===po?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Hr=`BT
/`;return Hr+=ht+" "+be+` Tf
`,Hr+=R(be*Cr)+` TL
`,Hr+=lo+`
`,Hr+=Pn,Hr+=v,K(Hr+="ET"),g[ht]=!0,yn};var vh=m.__private__.clip=m.clip=function(v){return K(v==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return vh("evenodd")},m.__private__.discardPath=m.discardPath=function(){return K("n"),this};var Ni=m.__private__.isValidStyle=function(v){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(P=!0),P};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(v){return Ni(v)&&(d=v),this};var hc=m.__private__.getStyle=m.getStyle=function(v){var P=d;switch(v){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=v}return P},pc=m.close=function(){return K("h"),this};m.stroke=function(){return K("S"),this},m.fill=function(v){return Qo("f",v),this},m.fillEvenOdd=function(v){return Qo("f*",v),this},m.fillStroke=function(v){return Qo("B",v),this},m.fillStrokeEvenOdd=function(v){return Qo("B*",v),this};var Qo=function(v,P){Ft(P)==="object"?xh(P,v):K(v)},pl=function(v){v===null||b===x.ADVANCED&&v===void 0||(v=hc(v),K(v))};function yh(v,P,Y,X,ue){var xe=new Oa(P||this.boundingBox,Y||this.xStep,X||this.yStep,this.gState,ue||this.matrix);xe.stream=this.stream;var Le=v+"$$"+this.cloneIndex+++"$$";return He(Le,xe),xe}var xh=function(v,P){var Y=Oi[v.key],X=wt[Y];if(X instanceof Ao)K("q"),K(wh(P)),X.gState&&m.setGState(X.gState),K(v.matrix.toString()+" cm"),K("/"+Y+" sh"),K("Q");else if(X instanceof Oa){var ue=new Fe(1,0,0,-1,0,ms());v.matrix&&(ue=ue.multiply(v.matrix||dt),Y=yh.call(X,v.key,v.boundingBox,v.xStep,v.yStep,ue).id),K("q"),K("/Pattern cs"),K("/"+Y+" scn"),X.gState&&m.setGState(X.gState),K(P),K("Q")}},wh=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ml=m.moveTo=function(v,P){return K(R(k(v))+" "+R(z(P))+" m"),this},oo=m.lineTo=function(v,P){return K(R(k(v))+" "+R(z(P))+" l"),this},hs=m.curveTo=function(v,P,Y,X,ue,xe){return K([R(k(v)),R(z(P)),R(k(Y)),R(z(X)),R(k(ue)),R(z(xe)),"c"].join(" ")),this};m.__private__.line=m.line=function(v,P,Y,X,ue){if(isNaN(v)||isNaN(P)||isNaN(Y)||isNaN(X)||!Ni(ue))throw new Error("Invalid arguments passed to jsPDF.line");return b===x.COMPAT?this.lines([[Y-v,X-P]],v,P,[1,1],ue||"S"):this.lines([[Y-v,X-P]],v,P,[1,1]).stroke()},m.__private__.lines=m.lines=function(v,P,Y,X,ue,xe){var Le,Oe,Ye,lt,st,yt,Zt,on,yn,Un,Pn,si;if(typeof v=="number"&&(si=Y,Y=P,P=v,v=si),X=X||[1,1],xe=xe||!1,isNaN(P)||isNaN(Y)||!Array.isArray(v)||!Array.isArray(X)||!Ni(ue)||typeof xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ml(P,Y),Le=X[0],Oe=X[1],lt=v.length,Un=P,Pn=Y,Ye=0;Ye<lt;Ye++)(st=v[Ye]).length===2?(Un=st[0]*Le+Un,Pn=st[1]*Oe+Pn,oo(Un,Pn)):(yt=st[0]*Le+Un,Zt=st[1]*Oe+Pn,on=st[2]*Le+Un,yn=st[3]*Oe+Pn,Un=st[4]*Le+Un,Pn=st[5]*Oe+Pn,hs(yt,Zt,on,yn,Un,Pn));return xe&&pc(),pl(ue),this},m.path=function(v){for(var P=0;P<v.length;P++){var Y=v[P],X=Y.c;switch(Y.op){case"m":ml(X[0],X[1]);break;case"l":oo(X[0],X[1]);break;case"c":hs.apply(this,X);break;case"h":pc()}}return this},m.__private__.rect=m.rect=function(v,P,Y,X,ue){if(isNaN(v)||isNaN(P)||isNaN(Y)||isNaN(X)||!Ni(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return b===x.COMPAT&&(X=-X),K([R(k(v)),R(z(P)),R(k(Y)),R(k(X)),"re"].join(" ")),pl(ue),this},m.__private__.triangle=m.triangle=function(v,P,Y,X,ue,xe,Le){if(isNaN(v)||isNaN(P)||isNaN(Y)||isNaN(X)||isNaN(ue)||isNaN(xe)||!Ni(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Y-v,X-P],[ue-Y,xe-X],[v-ue,P-xe]],v,P,[1,1],Le,!0),this},m.__private__.roundedRect=m.roundedRect=function(v,P,Y,X,ue,xe,Le){if(isNaN(v)||isNaN(P)||isNaN(Y)||isNaN(X)||isNaN(ue)||isNaN(xe)||!Ni(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Oe=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*Y),xe=Math.min(xe,.5*X),this.lines([[Y-2*ue,0],[ue*Oe,0,ue,xe-xe*Oe,ue,xe],[0,X-2*xe],[0,xe*Oe,-ue*Oe,xe,-ue,xe],[2*ue-Y,0],[-ue*Oe,0,-ue,-xe*Oe,-ue,-xe],[0,2*xe-X],[0,-xe*Oe,ue*Oe,-xe,ue,-xe]],v+ue,P,[1,1],Le,!0),this},m.__private__.ellipse=m.ellipse=function(v,P,Y,X,ue){if(isNaN(v)||isNaN(P)||isNaN(Y)||isNaN(X)||!Ni(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xe=4/3*(Math.SQRT2-1)*Y,Le=4/3*(Math.SQRT2-1)*X;return ml(v+Y,P),hs(v+Y,P-Le,v+xe,P-X,v,P-X),hs(v-xe,P-X,v-Y,P-Le,v-Y,P),hs(v-Y,P+Le,v-xe,P+X,v,P+X),hs(v+xe,P+X,v+Y,P+Le,v+Y,P),pl(ue),this},m.__private__.circle=m.circle=function(v,P,Y,X){if(isNaN(v)||isNaN(P)||isNaN(Y)||!Ni(X))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,P,Y,Y,X)},m.setFont=function(v,P,Y){return Y&&(P=G(P,Y)),ht=cc(v,P,{disableWarning:!1}),this};var bh=m.__private__.getFont=m.getFont=function(){return xt[cc.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var v,P,Y={};for(v in Wt)if(Wt.hasOwnProperty(v))for(P in Y[v]=[],Wt[v])Wt[v].hasOwnProperty(P)&&Y[v].push(P);return Y},m.addFont=function(v,P,Y,X,ue){var xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xe.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&xe.indexOf(arguments[3])==-1&&(Y=G(Y,X)),ue=ue||"Identity-H",dl.call(this,v,P,Y,ue)};var ao,gl=e.lineWidth||.200025,Zo=m.__private__.getLineWidth=m.getLineWidth=function(){return gl},mc=m.__private__.setLineWidth=m.setLineWidth=function(v){return gl=v,K(R(k(v))+" w"),this};m.__private__.setLineDash=Xe.API.setLineDash=Xe.API.setLineDashPattern=function(v,P){if(v=v||[],P=P||0,isNaN(P)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(Y){return R(k(Y))}).join(" "),P=R(k(P)),K("["+v+"] "+P+" d"),this};var gc=m.__private__.getLineHeight=m.getLineHeight=function(){return be*ao};m.__private__.getLineHeight=m.getLineHeight=function(){return be*ao};var vc=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(ao=v),this},yc=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return ao};vc(e.lineHeight);var ji=m.__private__.getHorizontalCoordinate=function(v){return k(v)},Vi=m.__private__.getVerticalCoordinate=function(v){return b===x.ADVANCED?v:tt[B].mediaBox.topRightY-tt[B].mediaBox.bottomLeftY-k(v)},Sh=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(v){return R(ji(v))},ps=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(v){return R(Vi(v))},ii=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return At(ii)},m.__private__.setStrokeColor=m.setDrawColor=function(v,P,Y,X){return ii=Nn({ch1:v,ch2:P,ch3:Y,ch4:X,pdfColorType:"draw",precision:2}),K(ii),this};var vl=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return At(vl)},m.__private__.setFillColor=m.setFillColor=function(v,P,Y,X){return vl=Nn({ch1:v,ch2:P,ch3:Y,ch4:X,pdfColorType:"fill",precision:2}),K(vl),this};var lo=e.textColor||"0 g",Nh=m.__private__.getTextColor=m.getTextColor=function(){return At(lo)};m.__private__.setTextColor=m.setTextColor=function(v,P,Y,X){return lo=Nn({ch1:v,ch2:P,ch3:Y,ch4:X,pdfColorType:"text",precision:3}),this};var ea=e.charSpace,jh=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(ea||0)};m.__private__.setCharSpace=m.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ea=v,this};var yl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(v){var P=m.CapJoinStyles[v];if(P===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yl=P,K(P+" J"),this};var xl=0;m.__private__.setLineJoin=m.setLineJoin=function(v){var P=m.CapJoinStyles[v];if(P===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xl=P,K(P+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(R(k(v))+" M"),this},m.GState=Nf,m.setGState=function(v){(v=typeof v=="string"?Vt[Lr[v]]:xc(null,v)).equals(Vr)||(K("/"+v.id+" gs"),Vr=v)};var xc=function(v,P){if(!v||!Lr[v]){var Y=!1;for(var X in Vt)if(Vt.hasOwnProperty(X)&&Vt[X].equals(P)){Y=!0;break}if(Y)P=Vt[X];else{var ue="GS"+(Object.keys(Vt).length+1).toString(10);Vt[ue]=P,P.id=ue}return v&&(Lr[v]=P.id),jt.publish("addGState",P),P}};m.addGState=function(v,P){return xc(v,P),this},m.saveGraphicsState=function(){return K("q"),zr.push({key:ht,size:be,color:lo}),this},m.restoreGraphicsState=function(){K("Q");var v=zr.pop();return ht=v.key,be=v.size,lo=v.color,Vr=null,this},m.setCurrentTransformationMatrix=function(v){return K(v.toString()+" cm"),this},m.comment=function(v){return K("#"+v),this};var ta=function(v,P){var Y=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Y},set:function(xe){isNaN(xe)||(Y=parseFloat(xe))}});var X=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return X},set:function(xe){isNaN(xe)||(X=parseFloat(xe))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(xe){ue=xe.toString()}}),this},wl=function(v,P,Y,X){ta.call(this,v,P),this.type="rect";var ue=Y||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Le){isNaN(Le)||(ue=parseFloat(Le))}});var xe=X||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xe},set:function(Le){isNaN(Le)||(xe=parseFloat(Le))}}),this},bl=function(){this.page=Jt,this.currentPage=B,this.pages=Ae.slice(0),this.pagesContext=tt.slice(0),this.x=Lt,this.y=vt,this.matrix=Ar,this.width=uo(B),this.height=ms(B),this.outputDestination=Ee,this.id="",this.objectNumber=-1};bl.prototype.restore=function(){Jt=this.page,B=this.currentPage,tt=this.pagesContext,Ae=this.pages,Lt=this.x,vt=this.y,Ar=this.matrix,Sl(B,this.width),Nl(B,this.height),Ee=this.outputDestination};var wc=function(v,P,Y,X,ue){_e.push(new bl),Jt=B=0,Ae=[],Lt=v,vt=P,Ar=ue,fl([Y,X])},Ah=function(v){if(ct[v])_e.pop().restore();else{var P=new bl,Y="Xo"+(Object.keys(qe).length+1).toString(10);P.id=Y,ct[v]=Y,qe[Y]=P,jt.publish("addFormObject",P),_e.pop().restore()}};for(var na in m.beginFormObject=function(v,P,Y,X,ue){return wc(v,P,Y,X,ue),this},m.endFormObject=function(v){return Ah(v),this},m.doFormObject=function(v,P){var Y=qe[ct[v]];return K("q"),K(P.toString()+" cm"),K("/"+Y.id+" Do"),K("Q"),this},m.getFormObject=function(v){var P=qe[ct[v]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},m.save=function(v,P){return v=v||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(jo(Jo(zi()),v),typeof jo.unload=="function"&&et.setTimeout&&setTimeout(jo.unload,911),this):new Promise(function(Y,X){try{var ue=jo(Jo(zi()),v);typeof jo.unload=="function"&&et.setTimeout&&setTimeout(jo.unload,911),Y(ue)}catch(xe){X(xe.message)}})},Xe.API)Xe.API.hasOwnProperty(na)&&(na==="events"&&Xe.API.events.length?function(v,P){var Y,X,ue;for(ue=P.length-1;ue!==-1;ue--)Y=P[ue][0],X=P[ue][1],v.subscribe.apply(v,[Y].concat(typeof X=="function"?[X]:X))}(jt,Xe.API.events):m[na]=Xe.API[na]);var uo=m.getPageWidth=function(v){return(tt[v=v||B].mediaBox.topRightX-tt[v].mediaBox.bottomLeftX)/Me},Sl=m.setPageWidth=function(v,P){tt[v].mediaBox.topRightX=P*Me+tt[v].mediaBox.bottomLeftX},ms=m.getPageHeight=function(v){return(tt[v=v||B].mediaBox.topRightY-tt[v].mediaBox.bottomLeftY)/Me},Nl=m.setPageHeight=function(v,P){tt[v].mediaBox.topRightY=P*Me+tt[v].mediaBox.bottomLeftY};return m.internal={pdfEscape:dr,getStyle:hc,getFont:bh,getFontSize:Ie,getCharSpace:jh,getTextColor:Nh,getLineHeight:gc,getLineHeightFactor:yc,getLineWidth:Zo,write:Je,getHorizontalCoordinate:ji,getVerticalCoordinate:Vi,getCoordinateString:Sh,getVerticalCoordinateString:ps,collections:{},newObject:bt,newAdditionalObject:lr,newObjectDeferred:It,newObjectDeferredBegin:Rt,getFilters:ur,putStream:Qt,events:jt,scaleFactor:Me,pageSize:{getWidth:function(){return uo(B)},setWidth:function(v){Sl(B,v)},getHeight:function(){return ms(B)},setHeight:function(v){Nl(B,v)}},encryptionOptions:p,encryption:Vn,getEncryptor:mh,output:Xo,getNumberOfPages:ch,pages:Ae,out:K,f2:re,f3:F,getPageInfo:fc,getPageInfoByObjId:rt,getCurrentPageInfo:gh,getPDFVersion:j,Point:ta,Rectangle:wl,Matrix:Fe,hasHotfix:dc},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return uo(B)},set:function(v){Sl(B,v)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return ms(B)},set:function(v){Nl(B,v)},enumerable:!0,configurable:!0}),lh.call(m,ge),ht="F1",lc(i,n),jt.publish("initialized"),m}wa.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},wa.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wa.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},wa.prototype.processOwnerPassword=function(e,t){return i1(r1(t).substr(0,5),e)},wa.prototype.encryptor=function(e,t){var n=r1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return i1(n,r)}},Nf.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Ft(e)!==Ft(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Xe.API={events:[]},Xe.version="3.0.1";var ln=Xe.API,R0=1,Uo=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ya=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ot=function(e){return e.toFixed(2)},ks=function(e){return e.toFixed(5)};ln.__acroform__={};var Sr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},O5=function(e){return e*R0},Pi=function(e){var t=new y3,n=$e.internal.getHeight(e)||0,r=$e.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ot(r)),Number(ot(n))],t},jC=ln.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},AC=ln.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},LC=ln.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},mn=ln.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return LC(e,t-1)},gn=ln.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jC(e,t-1)},vn=ln.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return AC(e,t-1)},CC=ln.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(ot(l.lowerLeft_X)),Number(ot(l.lowerLeft_Y)),Number(ot(l.upperRight_X)),Number(ot(l.upperRight_Y))]},PC=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=s1(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+ot(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Pi(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},s1=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(F){return F.split(`
`)}):i.map(function(F){return[F]});var s=n,o=$e.internal.getHeight(e)||0;o=o<0?-o:o;var a=$e.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(F,k,W){if(F+1<i.length){var z=k+" "+i[F+1][0];return md(z,e,W).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var d,p,h=md("3",e,s).height,g=e.multiline?o-s:(o-h)/2,m=g+=2,N=0,j=0,L=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+md(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",x=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var T=!1;if(i[b].length!==1&&L!==i[b].length-1){if((h+2)*(x+2)+2>o)continue e;w+=i[b][L],T=!0,j=b,b--}else{w=(w+=i[b][L]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var q=parseInt(b),G=l(q,w,s),R=b>=i.length-1;if(G&&!R){w+=" ",L=0;continue}if(G||R){if(R)j=q;else if(e.multiline&&(h+2)*(x+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(x+2)+2>o)continue e;j=q}}for(var M="",$=N;$<=j;$++){var re=i[$];if(e.multiline){if($===j){M+=re[L]+" ",L=(L+1)%re.length;continue}if($===N){M+=re[re.length-1]+" ";continue}}M+=re[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,p=md(M,e,s).width,e.textAlign){case"right":d=a-p-2;break;case"center":d=(a-p)/2;break;case"left":default:d=2}t+=ot(d)+" "+ot(m)+` Td
`,t+="("+Uo(M)+`) Tj
`,t+=-ot(d)+` 0 Td
`,m=-(s+2),p=0,N=T?j:j+1,x++,w=""}break}return r.text=t,r.fontSize=s,r},md=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},kC={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_C=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},EC=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Ft(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},FC=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(bi.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(kC)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");R0=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new x3,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&_C(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],d=a.Rect;if(a.Rect&&(a.Rect=CC(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=$e.createDefaultAppearanceStream(a),Ft(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=d,a.hasAppearanceStream&&!a.appearanceStreamContent){var p=PC(a);l.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(a.appearanceStreamContent){var h="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var m=a.appearanceStreamContent[g];if(h+="/"+g+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var N=m[o];typeof N=="function"&&(N=N.call(i,a)),h+="/"+o+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=m)=="function"&&(N=N.call(i,a)),h+="/"+o+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&EC(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},v3=ln.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Ft(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Uo(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Dp=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Uo(r(e))+")"},Ei=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ei.prototype.toString=function(){return this.objId+" 0 R"},Ei.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ei.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:v3(i,this.objId,this.scope)}):i instanceof Ei?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var y3=function(){Ei.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Sr(y3,Ei);var x3=function(){Ei.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Uo(n(e))+")"}},set:function(n){e=n}})};Sr(x3,Ei);var bi=function e(){Ei.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!mn(t,3)},set:function(w){w?this.F=gn(t,3):this.F=vn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof jf)return;s="FieldObject"+e.FieldNum++}var w=function(x){return x};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Uo(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/R0:d},set:function(w){d=w}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(w){p=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof jf||this instanceof Fo))return Dp(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Fn?g:Dp(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof Fn?w:w.substr(0,1)==="("?ya(w.substr(1,w.length-2)):ya(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fn?ya(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Fn?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Fn?m:Dp(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof Fn?w:w.substr(0,1)==="("?ya(w.substr(1,w.length-2)):ya(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fn?ya(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Fn?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(w){w=!!w,j=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(w){N=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,1)},set:function(w){w?this.Ff=gn(this.Ff,1):this.Ff=vn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,2)},set:function(w){w?this.Ff=gn(this.Ff,2):this.Ff=vn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,3)},set:function(w){w?this.Ff=gn(this.Ff,3):this.Ff=vn(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');L=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(L){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:L=2;break;case"center":case 1:L=1;break;case"left":case 0:default:L=0}}})};Sr(bi,Ei);var Ha=function(){bi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return v3(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,d=[];l=o.exec(s);)d.push(l[a]);return d}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,18)},set:function(n){n?this.Ff=gn(this.Ff,18):this.Ff=vn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=gn(this.Ff,19):this.Ff=vn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,20)},set:function(n){n?(this.Ff=gn(this.Ff,20),t.sort()):this.Ff=vn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,22)},set:function(n){n?this.Ff=gn(this.Ff,22):this.Ff=vn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,23)},set:function(n){n?this.Ff=gn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,27)},set:function(n){n?this.Ff=gn(this.Ff,27):this.Ff=vn(this.Ff,27)}}),this.hasAppearanceStream=!1};Sr(Ha,bi);var Wa=function(){Ha.call(this),this.fontName="helvetica",this.combo=!1};Sr(Wa,Ha);var Ga=function(){Wa.call(this),this.combo=!0};Sr(Ga,Wa);var Md=function(){Ga.call(this),this.edit=!0};Sr(Md,Ga);var Fn=function(){bi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,15)},set:function(n){n?this.Ff=gn(this.Ff,15):this.Ff=vn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,16)},set:function(n){n?this.Ff=gn(this.Ff,16):this.Ff=vn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,17)},set:function(n){n?this.Ff=gn(this.Ff,17):this.Ff=vn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,26)},set:function(n){n?this.Ff=gn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Uo(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ft(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Sr(Fn,bi);var Dd=function(){Fn.call(this),this.pushButton=!0};Sr(Dd,Fn);var Ya=function(){Fn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Sr(Ya,Fn);var jf=function(){var e,t;bi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Uo(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Ft(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$e.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Sr(jf,bi),Ya.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Ya.prototype.createOption=function(e){var t=new jf;return t.Parent=this,t.optionName=e,this.Kids.push(t),TC.call(this.scope,t),t};var Od=function(){Fn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$e.CheckBox.createAppearanceStream()};Sr(Od,Fn);var Fo=function(){bi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,13)},set:function(t){t?this.Ff=gn(this.Ff,13):this.Ff=vn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,21)},set:function(t){t?this.Ff=gn(this.Ff,21):this.Ff=vn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,23)},set:function(t){t?this.Ff=gn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,24)},set:function(t){t?this.Ff=gn(this.Ff,24):this.Ff=vn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,25)},set:function(t){t?this.Ff=gn(this.Ff,25):this.Ff=vn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,26)},set:function(t){t?this.Ff=gn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Sr(Fo,bi);var Bd=function(){Fo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,14)},set:function(e){e?this.Ff=gn(this.Ff,14):this.Ff=vn(this.Ff,14)}}),this.password=!0};Sr(Bd,Fo);var $e={CheckBox:{createAppearanceStream:function(){return{N:{On:$e.CheckBox.YesNormal},D:{On:$e.CheckBox.YesPushDown,Off:$e.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Pi(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=s1(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+ot($e.internal.getWidth(e))+" "+ot($e.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ot(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Pi(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=$e.internal.getHeight(e),o=$e.internal.getWidth(e),a=s1(e,e.caption);return i.push("1 g"),i.push("0 0 "+ot(o)+" "+ot(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ot(o-1)+" "+ot(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+ot(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Pi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ot($e.internal.getWidth(e))+" "+ot($e.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:$e.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=$e.RadioButton.Circle.YesNormal,t.D[e]=$e.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Pi(e);t.scope=e.scope;var n=[],r=$e.internal.getWidth(e)<=$e.internal.getHeight(e)?$e.internal.getWidth(e)/4:$e.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=$e.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ks($e.internal.getWidth(e)/2)+" "+ks($e.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Pi(e);t.scope=e.scope;var n=[],r=$e.internal.getWidth(e)<=$e.internal.getHeight(e)?$e.internal.getWidth(e)/4:$e.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*$e.internal.Bezier_C).toFixed(5)),o=Number((r*$e.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ks($e.internal.getWidth(e)/2)+" "+ks($e.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ks($e.internal.getWidth(e)/2)+" "+ks($e.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Pi(e);t.scope=e.scope;var n=[],r=$e.internal.getWidth(e)<=$e.internal.getHeight(e)?$e.internal.getWidth(e)/4:$e.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*$e.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ks($e.internal.getWidth(e)/2)+" "+ks($e.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:$e.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=$e.RadioButton.Cross.YesNormal,t.D[e]=$e.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Pi(e);t.scope=e.scope;var n=[],r=$e.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+ot($e.internal.getWidth(e)-2)+" "+ot($e.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ot(r.x1.x)+" "+ot(r.x1.y)+" m"),n.push(ot(r.x2.x)+" "+ot(r.x2.y)+" l"),n.push(ot(r.x4.x)+" "+ot(r.x4.y)+" m"),n.push(ot(r.x3.x)+" "+ot(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Pi(e);t.scope=e.scope;var n=$e.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+ot($e.internal.getWidth(e))+" "+ot($e.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ot($e.internal.getWidth(e)-2)+" "+ot($e.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ot(n.x1.x)+" "+ot(n.x1.y)+" m"),r.push(ot(n.x2.x)+" "+ot(n.x2.y)+" l"),r.push(ot(n.x4.x)+" "+ot(n.x4.y)+" m"),r.push(ot(n.x3.x)+" "+ot(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Pi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ot($e.internal.getWidth(e))+" "+ot($e.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};$e.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=$e.internal.getWidth(e),n=$e.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},$e.internal.getWidth=function(e){var t=0;return Ft(e)==="object"&&(t=O5(e.Rect[2])),t},$e.internal.getHeight=function(e){var t=0;return Ft(e)==="object"&&(t=O5(e.Rect[3])),t};var TC=ln.addField=function(e){if(FC(this,e),!(e instanceof bi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ln.AcroFormChoiceField=Ha,ln.AcroFormListBox=Wa,ln.AcroFormComboBox=Ga,ln.AcroFormEditBox=Md,ln.AcroFormButton=Fn,ln.AcroFormPushButton=Dd,ln.AcroFormRadioButton=Ya,ln.AcroFormCheckBox=Od,ln.AcroFormTextField=Fo,ln.AcroFormPasswordField=Bd,ln.AcroFormAppearance=$e,ln.AcroForm={ChoiceField:Ha,ListBox:Wa,ComboBox:Ga,EditBox:Md,Button:Fn,PushButton:Dd,RadioButton:Ya,CheckBox:Od,TextField:Fo,PasswordField:Bd,Appearance:$e},Xe.AcroForm={ChoiceField:Ha,ListBox:Wa,ComboBox:Ga,EditBox:Md,Button:Fn,PushButton:Dd,RadioButton:Ya,CheckBox:Od,TextField:Fo,PasswordField:Bd,Appearance:$e};function w3(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(F,k){var W,z,se,Q,ae,H=t;if((k=k||t)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(G(F))for(ae in n)for(se=n[ae],W=0;W<se.length;W+=1){for(Q=!0,z=0;z<se[W].length;z+=1)if(se[W][z]!==void 0&&se[W][z]!==F[z]){Q=!1;break}if(Q===!0){H=ae;break}}else for(ae in n)for(se=n[ae],W=0;W<se.length;W+=1){for(Q=!0,z=0;z<se[W].length;z+=1)if(se[W][z]!==void 0&&se[W][z]!==F.charCodeAt(z)){Q=!1;break}if(Q===!0){H=ae;break}}return H===t&&k!==t&&(H=k),H},i=function F(k){for(var W=this.internal.write,z=this.internal.putStream,se=(0,this.internal.getFilters)();se.indexOf("FlateEncode")!==-1;)se.splice(se.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:k.width}),Q.push({key:"Height",value:k.height}),k.colorSpace===L.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===L.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var ae="",H=0,te=k.transparency.length;H<te;H++)ae+=k.transparency[H]+" "+k.transparency[H]+" ";Q.push({key:"Mask",value:"["+ae+"]"})}k.sMask!==void 0&&Q.push({key:"SMask",value:k.objectId+1+" 0 R"});var ie=k.filter!==void 0?["/"+k.filter]:void 0;if(z({data:k.data,additionalKeyValues:Q,alreadyAppliedFilters:ie,objectId:k.objectId}),W("endobj"),"sMask"in k&&k.sMask!==void 0){var me="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,A={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:me,data:k.sMask};"filter"in k&&(A.filter=k.filter),F.call(this,A)}if(k.colorSpace===L.INDEXED){var B=this.internal.newObject();z({data:M(new Uint8Array(k.palette)),objectId:B}),W("endobj")}},s=function(){var F=this.internal.collections.addImage_images;for(var k in F)i.call(this,F[k])},o=function(){var F,k=this.internal.collections.addImage_images,W=this.internal.write;for(var z in k)W("/I"+(F=k[z]).index,F.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var F=this.internal.collections.addImage_images;return a.call(this),F},d=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(F){return typeof e["process"+F.toUpperCase()]=="function"},h=function(F){return Ft(F)==="object"&&F.nodeType===1},g=function(F,k){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var W=""+F.getAttribute("src");if(W.indexOf("data:image/")===0)return bu(unescape(W).split("base64,").pop());var z=e.loadFile(W,!0);if(z!==void 0)return z}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var se;switch(k){case"PNG":se="image/png";break;case"WEBP":se="image/webp";break;case"JPEG":case"JPG":default:se="image/jpeg"}return bu(F.toDataURL(se,1).split("base64,").pop())}},m=function(F){var k=this.internal.collections.addImage_images;if(k){for(var W in k)if(F===k[W].alias)return k[W]}},N=function(F,k,W){return F||k||(F=-96,k=-96),F<0&&(F=-1*W.width*72/F/this.internal.scaleFactor),k<0&&(k=-1*W.height*72/k/this.internal.scaleFactor),F===0&&(F=k*W.width/W.height),k===0&&(k=F*W.height/W.width),[F,k]},j=function(F,k,W,z,se,Q){var ae=N.call(this,W,z,se),H=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,ie=l.call(this);if(W=ae[0],z=ae[1],ie[se.index]=se,Q){Q*=Math.PI/180;var me=Math.cos(Q),A=Math.sin(Q),B=function(J){return J.toFixed(4)},V=[B(me),B(A),B(-1*A),B(me),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,H(F),te(k+z),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([H(W),"0","0",H(z),"0","0","cm"].join(" "))):this.internal.write([H(W),"0","0",H(z),H(F),te(k+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+se.index+" Do"),this.internal.write("Q")},L=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(F){var k,W,z=0;if(typeof F=="string")for(W=F.length,k=0;k<W;k++)z=(z<<5)-z+F.charCodeAt(k),z|=0;else if(G(F))for(W=F.byteLength/2,k=0;k<W;k++)z=(z<<5)-z+F[k],z|=0;return z},b=e.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var k=!0;return F.length===0&&(k=!1),F.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(k=!1),k},T=e.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var k=F.indexOf(",");return k<0?null:F.substring(0,k).trim().endsWith("base64")?F.substring(k+1):null},q=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(F){return q()&&F instanceof ArrayBuffer};var G=e.__addimage__.isArrayBufferView=function(F){return q()&&typeof Uint32Array<"u"&&(F instanceof Int8Array||F instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array)},R=e.__addimage__.binaryStringToUint8Array=function(F){for(var k=F.length,W=new Uint8Array(k),z=0;z<k;z++)W[z]=F.charCodeAt(z);return W},M=e.__addimage__.arrayBufferToBinaryString=function(F){for(var k="",W=G(F)?F:new Uint8Array(F),z=0;z<W.length;z+=8192)k+=String.fromCharCode.apply(null,W.subarray(z,z+8192));return k};e.addImage=function(){var F,k,W,z,se,Q,ae,H,te;if(typeof arguments[1]=="number"?(k=t,W=arguments[1],z=arguments[2],se=arguments[3],Q=arguments[4],ae=arguments[5],H=arguments[6],te=arguments[7]):(k=arguments[1],W=arguments[2],z=arguments[3],se=arguments[4],Q=arguments[5],ae=arguments[6],H=arguments[7],te=arguments[8]),Ft(F=arguments[0])==="object"&&!h(F)&&"imageData"in F){var ie=F;F=ie.imageData,k=ie.format||k||t,W=ie.x||W||0,z=ie.y||z||0,se=ie.w||ie.width||se,Q=ie.h||ie.height||Q,ae=ie.alias||ae,H=ie.compression||H,te=ie.rotation||ie.angle||te}var me=this.internal.getFilters();if(H===void 0&&me.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(W)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var A=$.call(this,F,k,ae,H);return j.call(this,W,z,se,Q,A,te),this};var $=function(F,k,W,z){var se,Q,ae;if(typeof F=="string"&&r(F)===t){F=unescape(F);var H=re(F,!1);(H!==""||(H=e.loadFile(F,!0))!==void 0)&&(F=H)}if(h(F)&&(F=g(F,k)),k=r(F,k),!p(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((ae=W)==null||ae.length===0)&&(W=function(te){return typeof te=="string"||G(te)?x(te):G(te.data)?x(te.data):null}(F)),(se=m.call(this,W))||(q()&&(F instanceof Uint8Array||k==="RGBA"||(Q=F,F=R(F))),se=this["process"+k.toUpperCase()](F,d.call(this),W,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:w.NONE}(z),Q)),!se)throw new Error("An unknown error occurred whilst processing the image.");return se},re=e.__addimage__.convertBase64ToBinaryString=function(F,k){k=typeof k!="boolean"||k;var W,z="";if(typeof F=="string"){var se;W=(se=T(F))!==null&&se!==void 0?se:F;try{z=bu(W)}catch(Q){if(k)throw b(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};e.getImageProperties=function(F){var k,W,z="";if(h(F)&&(F=g(F)),typeof F=="string"&&r(F)===t&&((z=re(F,!1))===""&&(z=e.loadFile(F)||""),F=z),W=r(F),!p(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(!q()||F instanceof Uint8Array||(F=R(F)),!(k=this["process"+W.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=W,k}})(Xe.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Xe.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,p=!1,h=0;h<d.length&&!p;h++)switch((r=d[h]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){r=d[g];var m=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(j.objId),x=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(w(r.contents))+")",s+=" /Popup "+L.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(w(x))+") >>",j.content=s;var b=j.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+b,r.open&&(s+=" /Open true"),s+=" >>",L.content=s,this.internal.write(j.objId,"0 R",L.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var T=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(N(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var G=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+G+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:d(r),w:l(n+i),h:d(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var p=this.splitTextToSize(n,a).length;o=Math.ceil(d*p)}else a=l,o=d;return this.text(n,r,i,s),i+=.2*d,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-d,a,o,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Xe.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(j){return t[j.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},a=e.__arabicParser__.isArabicEndLetter=function(j){return o(j)&&s(j)&&t[j.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(j){return o(j)&&i.indexOf(j.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return o(j)&&s(j)&&t[j.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(j){return o(j)&&s(j)&&t[j.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(j){return o(j)&&s(j)&&t[j.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(j){return o(j)&&s(j)&&t[j.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(j){var L=0,w=n,x="",b=0;for(L=0;L<j.length;L+=1)w[j.charCodeAt(L)]!==void 0?(b++,typeof(w=w[j.charCodeAt(L)])=="number"&&(x+=String.fromCharCode(w),w=n,b=0),L===j.length-1&&(w=n,x+=j.charAt(L-(b-1)),L-=b-1,b=0)):(w=n,x+=j.charAt(L-b),L-=b,b=0);return x};e.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&r[j.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(j,L,w){return o(j)?s(j)===!1?-1:!d(j)||!o(L)&&!o(w)||!o(w)&&a(L)||a(j)&&!o(L)||a(j)&&l(L)||a(j)&&a(L)?0:p(j)&&o(L)&&!a(L)&&o(w)&&d(w)?3:a(j)||!o(w)?1:2:-1},m=function(j){var L=0,w=0,x=0,b="",T="",q="",G=(j=j||"").split("\\s+"),R=[];for(L=0;L<G.length;L+=1){for(R.push(""),w=0;w<G[L].length;w+=1)b=G[L][w],T=G[L][w-1],q=G[L][w+1],o(b)?(x=g(b,T,q),R[L]+=x!==-1?String.fromCharCode(t[b.charCodeAt(0)][x]):b):R[L]+=b;R[L]=h(R[L])}return R.join(" ")},N=e.__arabicParser__.processArabic=e.processArabic=function(){var j,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(L)){var x=0;for(w=[],x=0;x<L.length;x+=1)Array.isArray(L[x])?w.push([m(L[x][0]),L[x][1],L[x][2]]):w.push([m(L[x])]);j=w}else j=m(L);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};e.events.push(["preProcessText",N])}(Xe.API),Xe.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Xe.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(j){l=j}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(j){d=j}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(j){p=j}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(j){h=j}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(j){g=j}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(j){m=j}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(j){N=j}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,d){r.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,m=0,N=0,j=0,L=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=d.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,T){return b.concat(L.splitTextToSize(T,w))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)m<(j=this.getStringUnitWidth(l[x],{font:h})*p)&&(m=j);return m!==0&&(N=l.length),{w:m/=g,h:Math.max((N*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===l.lineNumber?(l.x=(d.x||0)+(d.width||0),l.y=d.y||0):d.y+d.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=d.y+d.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-p,l.y+p,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+p,{align:"center",baseline:"top",maxWidth:l.width-p-p}):this.text(l.text,l.x+p,l.y+p,{align:"left",baseline:"top",maxWidth:l.width-p-p})),this.internal.__cell__.lastCell=l,this};e.table=function(l,d,p,h,g){if(r.call(this),!p)throw new Error("No data for PDF table.");var m,N,j,L,w=[],x=[],b=[],T={},q={},G=[],R=[],M=(g=g||{}).autoSize||!1,$=g.printHeaders!==!1,re=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,F=g.margins||Object.assign({width:this.getPageWidth()},t),k=typeof g.padding=="number"?g.padding:3,W=g.headerBackgroundColor||"#c8c8c8",z=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=re,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=z,this.setFontSize(re),h==null)x=w=Object.keys(p[0]),b=w.map(function(){return"left"});else if(Array.isArray(h)&&Ft(h[0])==="object")for(w=h.map(function(ie){return ie.name}),x=h.map(function(ie){return ie.prompt||ie.name||""}),b=h.map(function(ie){return ie.align||"left"}),m=0;m<h.length;m+=1)q[h[m].name]=h[m].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(x=w=h,b=w.map(function(){return"left"}));if(M||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<w.length;m+=1){for(T[L=w[m]]=p.map(function(ie){return ie[L]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(x[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=T[L],this.setFont(void 0,"normal"),j=0;j<N.length;j+=1)G.push(this.getTextDimensions(N[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[L]=Math.max.apply(null,G)+k+k,G=[]}if($){var se={};for(m=0;m<w.length;m+=1)se[w[m]]={},se[w[m]].text=x[m],se[w[m]].align=b[m];var Q=a.call(this,se,q);R=w.map(function(ie){return new s(l,d,q[ie],Q,se[ie].text,void 0,se[ie].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var ae=h.reduce(function(ie,me){return ie[me.name]=me.align,ie},{});for(m=0;m<p.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:p[m]},this);var H=a.call(this,p[m],q);for(j=0;j<w.length;j+=1){var te=p[m][w[j]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:j,data:te},this),o.call(this,new s(l,d,q[w[j]],H,te,m+2,ae[w[j]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=d,this};var a=function(l,d){var p=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var N=l[m];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[m]-p-p)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/g+p+p},this).reduce(function(m,N){return Math.max(m,N)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){p=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,g.push(p)),p.lineNumber=l;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(N)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(Xe.API);var b3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},S3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],o1=w3(S3),N3=[100,200,300,400,500,600,700,800,900],IC=w3(N3);function a1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return b3[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof o1[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function B5(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var RC={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},z5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function V5(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function MC(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},RC,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=a1(t[a])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+V5(s)+"' and default family '"+r+"'.");if(o=function(l,d){if(d[l])return d[l];var p=o1[l],h=p<=o1.normal?-1:1,g=B5(d,S3,p,h);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,o),o=function(l,d){if(d[l])return d[l];for(var p=b3[l],h=0;h<p.length;++h)if(d[p[h]])return d[p[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,d){if(d[l])return d[l];if(l===400&&d[500])return d[500];if(l===500&&d[400])return d[400];var p=IC[l],h=B5(d,N3,p,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+V5(s)+"'.");return o}function U5(e){return e.trimLeft()}function DC(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function OC(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var gd,q5,$5,Op=["times"];(function(e){var t,n,r,i,s,o,a,l,d,p=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new l,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new o,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new o,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,d=new p}]);var h=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=A;Object.defineProperty(this,"pdf",{get:function(){return B}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(ye){V=!!ye}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(ye){J=!!ye}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ye){isNaN(ye)||(Z=ye)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(ye){isNaN(ye)||(ce=ye)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ye){var K;typeof ye=="number"?K=[ye,ye,ye,ye]:((K=new Array(4))[0]=ye[0],K[1]=ye.length>=2?ye[1]:K[0],K[2]=ye.length>=3?ye[2]:K[0],K[3]=ye.length>=4?ye[3]:K[1]),d.margin=K}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ye){he=ye}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(ye){pe=ye}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(ye){Ce=ye}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ye){ye instanceof p&&(d=ye)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ye){d.path=ye}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(ye){Ae=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var K;K=g(ye),this.ctx.fillStyle=K.style,this.ctx.isFillTransparent=K.a===0,this.ctx.fillOpacity=K.a,this.pdf.setFillColor(K.r,K.g,K.b,{a:K.a}),this.pdf.setTextColor(K.r,K.g,K.b,{a:K.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var K=g(ye);this.ctx.strokeStyle=K.style,this.ctx.isStrokeTransparent=K.a===0,this.ctx.strokeOpacity=K.a,K.a===0?this.pdf.setDrawColor(255,255,255):(K.a,this.pdf.setDrawColor(K.r,K.g,K.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var Te=null;function Ee(ye,K){if(Te===null){var Je=function(Ue){var ge=[];return Object.keys(Ue).forEach(function(be){Ue[be].forEach(function(ke){var Ie=null;switch(ke){case"bold":Ie={family:be,weight:"bold"};break;case"italic":Ie={family:be,style:"italic"};break;case"bolditalic":Ie={family:be,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:be}}Ie!==null&&(Ie.ref={name:be,style:ke},ge.push(Ie))})}),ge}(ye.getFontList());Te=function(Ue){for(var ge={},be=0;be<Ue.length;++be){var ke=a1(Ue[be]),Ie=ke.family,We=ke.stretch,nt=ke.style,it=ke.weight;ge[Ie]=ge[Ie]||{},ge[Ie][We]=ge[Ie][We]||{},ge[Ie][We][nt]=ge[Ie][We][nt]||{},ge[Ie][We][nt][it]=ke}return ge}(Je.concat(K))}return Te}var Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(ye){Te=null,Ge=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var K;if(this.ctx.font=ye,(K=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Je=K[1];K[2];var Ue=K[3],ge=K[4];K[5];var be=K[6],ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ge)[2];ge=Math.floor(ke==="px"?parseFloat(ge)*this.pdf.internal.scaleFactor:ke==="em"?parseFloat(ge)*this.pdf.getFontSize():parseFloat(ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ge);var Ie=function(Qe){var ht,Me,Lt=[],vt=Qe.trim();if(vt==="")return Op;if(vt in z5)return[z5[vt]];for(;vt!=="";){switch(Me=null,ht=(vt=U5(vt)).charAt(0)){case'"':case"'":Me=DC(vt.substring(1),ht);break;default:Me=OC(vt)}if(Me===null||(Lt.push(Me[0]),(vt=U5(Me[1]))!==""&&vt.charAt(0)!==","))return Op;vt=vt.replace(/^,/,"")}return Lt}(be);if(this.fontFaces){var We=MC(Ee(this.pdf,this.fontFaces),Ie.map(function(Qe){return{family:Qe,stretch:"normal",weight:Ue,style:Je}}));this.pdf.setFont(We.ref.name,We.ref.style)}else{var nt="";(Ue==="bold"||parseInt(Ue,10)>=700||Je==="bold")&&(nt="bold"),Je==="italic"&&(nt+="italic"),nt.length===0&&(nt="normal");for(var it="",ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<Ie.length;gt++){if(this.pdf.internal.getFont(Ie[gt],nt,{noFallback:!0,disableWarning:!0})!==void 0){it=Ie[gt];break}if(nt==="bolditalic"&&this.pdf.internal.getFont(Ie[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=Ie[gt],nt="bold";else if(this.pdf.internal.getFont(Ie[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=Ie[gt],nt="normal";break}}if(it===""){for(var Pt=0;Pt<Ie.length;Pt++)if(ft[Ie[Pt]]){it=ft[Ie[Pt]];break}}it=it===""?"Times":it,this.pdf.setFont(it,nt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};h.prototype.setLineDash=function(A){this.lineDash=A},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){T.call(this,"fill",!1)},h.prototype.stroke=function(){T.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(A,B){if(isNaN(A)||isNaN(B))throw zt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new o(A,B));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(A,B)},h.prototype.closePath=function(){var A=new o(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Ft(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){A=new o(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(A.x,A.y)},h.prototype.lineTo=function(A,B){if(isNaN(A)||isNaN(B))throw zt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new o(A,B));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},h.prototype.quadraticCurveTo=function(A,B,V,J){if(isNaN(V)||isNaN(J)||isNaN(A)||isNaN(B))throw zt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new o(V,J)),ce=this.ctx.transform.applyToPoint(new o(A,B));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},h.prototype.bezierCurveTo=function(A,B,V,J,Z,ce){if(isNaN(Z)||isNaN(ce)||isNaN(A)||isNaN(B)||isNaN(V)||isNaN(J))throw zt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(Z,ce)),pe=this.ctx.transform.applyToPoint(new o(A,B)),Ce=this.ctx.transform.applyToPoint(new o(V,J));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Ce.x,y2:Ce.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},h.prototype.arc=function(A,B,V,J,Z,ce){if(isNaN(A)||isNaN(B)||isNaN(V)||isNaN(J)||isNaN(Z))throw zt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(A,B));A=he.x,B=he.y;var pe=this.ctx.transform.applyToPoint(new o(0,V)),Ce=this.ctx.transform.applyToPoint(new o(0,0));V=Math.sqrt(Math.pow(pe.x-Ce.x,2)+Math.pow(pe.y-Ce.y,2))}Math.abs(Z-J)>=2*Math.PI&&(J=0,Z=2*Math.PI),this.path.push({type:"arc",x:A,y:B,radius:V,startAngle:J,endAngle:Z,counterclockwise:ce})},h.prototype.arcTo=function(A,B,V,J,Z){throw new Error("arcTo not implemented.")},h.prototype.rect=function(A,B,V,J){if(isNaN(A)||isNaN(B)||isNaN(V)||isNaN(J))throw zt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,B),this.lineTo(A+V,B),this.lineTo(A+V,B+J),this.lineTo(A,B+J),this.lineTo(A,B),this.lineTo(A+V,B),this.lineTo(A,B)},h.prototype.fillRect=function(A,B,V,J){if(isNaN(A)||isNaN(B)||isNaN(V)||isNaN(J))throw zt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,B,V,J),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},h.prototype.strokeRect=function(A,B,V,J){if(isNaN(A)||isNaN(B)||isNaN(V)||isNaN(J))throw zt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(A,B,V,J),this.stroke())},h.prototype.clearRect=function(A,B,V,J){if(isNaN(A)||isNaN(B)||isNaN(V)||isNaN(J))throw zt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,B,V,J))},h.prototype.save=function(A){A=typeof A!="boolean"||A;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},h.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(B),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(A){var B,V,J,Z;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))B=0,V=0,J=0,Z=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(ce!==null)B=parseInt(ce[1]),V=parseInt(ce[2]),J=parseInt(ce[3]),Z=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)B=parseInt(ce[1]),V=parseInt(ce[2]),J=parseInt(ce[3]),Z=parseFloat(ce[4]);else{if(Z=1,typeof A=="string"&&A.charAt(0)!=="#"){var he=new p3(A);A=he.ok?he.toHex():"#000000"}A.length===4?(B=A.substring(1,2),B+=B,V=A.substring(2,3),V+=V,J=A.substring(3,4),J+=J):(B=A.substring(1,3),V=A.substring(3,5),J=A.substring(5,7)),B=parseInt(B,16),V=parseInt(V,16),J=parseInt(J,16)}}return{r:B,g:V,b:J,a:Z,style:A}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(A,B,V,J){if(isNaN(B)||isNaN(V)||typeof A!="string")throw zt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!m.call(this)){var Z=H(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;k.call(this,{text:A,x:B,y:V,scale:ce,angle:Z,align:this.textAlign,maxWidth:J})}},h.prototype.strokeText=function(A,B,V,J){if(isNaN(B)||isNaN(V)||typeof A!="string")throw zt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){J=isNaN(J)?void 0:J;var Z=H(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;k.call(this,{text:A,x:B,y:V,scale:ce,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:J})}},h.prototype.measureText=function(A){if(typeof A!="string")throw zt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,V=this.pdf.internal.scaleFactor,J=B.internal.getFontSize(),Z=B.getStringUnitWidth(A)*J/B.internal.scaleFactor,ce=function(he){var pe=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new ce({width:Z*=Math.round(96*V/72*1e4)/1e4})},h.prototype.scale=function(A,B){if(isNaN(A)||isNaN(B))throw zt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(A,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.rotate=function(A){if(isNaN(A))throw zt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new l(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},h.prototype.translate=function(A,B){if(isNaN(A)||isNaN(B))throw zt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,A,B);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.transform=function(A,B,V,J,Z,ce){if(isNaN(A)||isNaN(B)||isNaN(V)||isNaN(J)||isNaN(Z)||isNaN(ce))throw zt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(A,B,V,J,Z,ce);this.ctx.transform=this.ctx.transform.multiply(he)},h.prototype.setTransform=function(A,B,V,J,Z,ce){A=isNaN(A)?1:A,B=isNaN(B)?0:B,V=isNaN(V)?0:V,J=isNaN(J)?1:J,Z=isNaN(Z)?0:Z,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(A,B,V,J,Z,ce)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(A,B,V,J,Z,ce,he,pe,Ce){var Ae=this.pdf.getImageProperties(A),Te=1,Ee=1,Ge=1,ye=1;J!==void 0&&pe!==void 0&&(Ge=pe/J,ye=Ce/Z,Te=Ae.width/J*pe/J,Ee=Ae.height/Z*Ce/Z),ce===void 0&&(ce=B,he=V,B=0,V=0),J!==void 0&&pe===void 0&&(pe=J,Ce=Z),J===void 0&&pe===void 0&&(pe=Ae.width,Ce=Ae.height);for(var K,Je=this.ctx.transform.decompose(),Ue=H(Je.rotate.shx),ge=new l,be=(ge=(ge=(ge=ge.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new a(ce-B*Ge,he-V*ye,J*Te,Z*Ee)),ke=L.call(this,be),Ie=[],We=0;We<ke.length;We+=1)Ie.indexOf(ke[We])===-1&&Ie.push(ke[We]);if(b(Ie),this.autoPaging)for(var nt=Ie[0],it=Ie[Ie.length-1],ft=nt;ft<it+1;ft++){this.pdf.setPage(ft);var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=ft===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=ft===1?0:Qe+(ft-2)*ht;if(this.ctx.clip_path.length!==0){var Lt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(K,this.posX+this.margin[3],-Me+Pt+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Lt}var vt=JSON.parse(JSON.stringify(be));vt=x([vt],this.posX+this.margin[3],-Me+Pt+this.ctx.prevPageLastElemOffset)[0];var Ar=(ft>nt||ft<it)&&j.call(this);Ar&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,ht,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,Ue),Ar&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",be.x,be.y,be.w,be.h,null,null,Ue)};var L=function(A,B,V){var J=[];B=B||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":J.push(Math.floor((A.y+Z)/V)+1);break;case"arc":J.push(Math.floor((A.y+Z-A.radius)/V)+1),J.push(Math.floor((A.y+Z+A.radius)/V)+1);break;case"qct":var ce=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);J.push(Math.floor((ce.y+Z)/V)+1),J.push(Math.floor((ce.y+ce.h+Z)/V)+1);break;case"bct":var he=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);J.push(Math.floor((he.y+Z)/V)+1),J.push(Math.floor((he.y+he.h+Z)/V)+1);break;case"rect":J.push(Math.floor((A.y+Z)/V)+1),J.push(Math.floor((A.y+A.h+Z)/V)+1)}for(var pe=0;pe<J.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<J[pe];)w.call(this);return J},w=function(){var A=this.fillStyle,B=this.strokeStyle,V=this.font,J=this.lineCap,Z=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=B,this.font=V,this.lineCap=J,this.lineWidth=Z,this.lineJoin=ce},x=function(A,B,V){for(var J=0;J<A.length;J++)switch(A[J].type){case"bct":A[J].x2+=B,A[J].y2+=V;case"qct":A[J].x1+=B,A[J].y1+=V;case"mt":case"lt":case"arc":default:A[J].x+=B,A[J].y+=V}return A},b=function(A){return A.sort(function(B,V){return B-V})},T=function(A,B){for(var V,J,Z=this.fillStyle,ce=this.strokeStyle,he=this.lineCap,pe=this.lineWidth,Ce=Math.abs(pe*this.ctx.transform.scaleX),Ae=this.lineJoin,Te=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),Ge=[],ye=0;ye<Ee.length;ye++)if(Ee[ye].x!==void 0)for(var K=L.call(this,Ee[ye]),Je=0;Je<K.length;Je+=1)Ge.indexOf(K[Je])===-1&&Ge.push(K[Je]);for(var Ue=0;Ue<Ge.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<Ge[Ue];)w.call(this);if(b(Ge),this.autoPaging)for(var ge=Ge[0],be=Ge[Ge.length-1],ke=ge;ke<be+1;ke++){this.pdf.setPage(ke),this.fillStyle=Z,this.strokeStyle=ce,this.lineCap=he,this.lineWidth=Ce,this.lineJoin=Ae;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=ke===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=ke===1?0:nt+(ke-2)*it;if(this.ctx.clip_path.length!==0){var gt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(V,this.posX+this.margin[3],-ft+We+this.ctx.prevPageLastElemOffset),q.call(this,A,!0),this.path=gt}if(J=JSON.parse(JSON.stringify(Te)),this.path=x(J,this.posX+this.margin[3],-ft+We+this.ctx.prevPageLastElemOffset),B===!1||ke===0){var Pt=(ke>ge||ke<be)&&j.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,it,null).clip().discardPath()),q.call(this,A,B),Pt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Ce,q.call(this,A,B),this.lineWidth=pe;this.path=Te},q=function(A,B){if((A!=="stroke"||B||!N.call(this))&&(A==="stroke"||B||!m.call(this))){for(var V,J,Z=[],ce=this.path,he=0;he<ce.length;he++){var pe=ce[he];switch(pe.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:pe,deltas:[],abs:[]});break;case"lt":var Ce=Z.length;if(ce[he-1]&&!isNaN(ce[he-1].x)&&(V=[pe.x-ce[he-1].x,pe.y-ce[he-1].y],Ce>0)){for(;Ce>=0;Ce--)if(Z[Ce-1].close!==!0&&Z[Ce-1].begin!==!0){Z[Ce-1].deltas.push(V),Z[Ce-1].abs.push(pe);break}}break;case"bct":V=[pe.x1-ce[he-1].x,pe.y1-ce[he-1].y,pe.x2-ce[he-1].x,pe.y2-ce[he-1].y,pe.x-ce[he-1].x,pe.y-ce[he-1].y],Z[Z.length-1].deltas.push(V);break;case"qct":var Ae=ce[he-1].x+2/3*(pe.x1-ce[he-1].x),Te=ce[he-1].y+2/3*(pe.y1-ce[he-1].y),Ee=pe.x+2/3*(pe.x1-pe.x),Ge=pe.y+2/3*(pe.y1-pe.y),ye=pe.x,K=pe.y;V=[Ae-ce[he-1].x,Te-ce[he-1].y,Ee-ce[he-1].x,Ge-ce[he-1].y,ye-ce[he-1].x,K-ce[he-1].y],Z[Z.length-1].deltas.push(V);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(pe)}}J=B?null:A==="stroke"?"stroke":"fill";for(var Je=!1,Ue=0;Ue<Z.length;Ue++)if(Z[Ue].arc)for(var ge=Z[Ue].abs,be=0;be<ge.length;be++){var ke=ge[be];ke.type==="arc"?M.call(this,ke.x,ke.y,ke.radius,ke.startAngle,ke.endAngle,ke.counterclockwise,void 0,B,!Je):W.call(this,ke.x,ke.y),Je=!0}else if(Z[Ue].close===!0)this.pdf.internal.out("h"),Je=!1;else if(Z[Ue].begin!==!0){var Ie=Z[Ue].start.x,We=Z[Ue].start.y;z.call(this,Z[Ue].deltas,Ie,We),Je=!0}J&&$.call(this,J),B&&re.call(this)}},G=function(A){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-V;case"top":return A+B-V;case"hanging":return A+B-2*V;case"middle":return A+B/2-V;case"ideographic":return A;case"alphabetic":default:return A}},R=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(B,V){this.colorStops.push([B,V])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(A,B,V,J,Z,ce,he,pe,Ce){for(var Ae=Q.call(this,V,J,Z,ce),Te=0;Te<Ae.length;Te++){var Ee=Ae[Te];Te===0&&(Ce?F.call(this,Ee.x1+A,Ee.y1+B):W.call(this,Ee.x1+A,Ee.y1+B)),se.call(this,A,B,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}pe?re.call(this):$.call(this,he)},$=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},re=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(A,B){this.pdf.internal.out(n(A)+" "+r(B)+" m")},k=function(A){var B;switch(A.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var V=this.pdf.getTextDimensions(A.text),J=G.call(this,A.y),Z=R.call(this,J)-V.h,ce=this.ctx.transform.applyToPoint(new o(A.x,J)),he=this.ctx.transform.decompose(),pe=new l;pe=(pe=(pe=pe.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Ce,Ae,Te,Ee=this.ctx.transform.applyToRectangle(new a(A.x,J,V.w,V.h)),Ge=pe.applyToRectangle(new a(A.x,Z,V.w,V.h)),ye=L.call(this,Ge),K=[],Je=0;Je<ye.length;Je+=1)K.indexOf(ye[Je])===-1&&K.push(ye[Je]);if(b(K),this.autoPaging)for(var Ue=K[0],ge=K[K.length-1],be=Ue;be<ge+1;be++){this.pdf.setPage(be);var ke=be===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[2],nt=We-this.margin[0],it=this.pdf.internal.pageSize.width-this.margin[1],ft=it-this.margin[3],gt=be===1?0:Ie+(be-2)*nt;if(this.ctx.clip_path.length!==0){var Pt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Ce,this.posX+this.margin[3],-1*gt+ke),q.call(this,"fill",!0),this.path=Pt}var Qe=x([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-gt+ke+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*A.scale),Te=this.lineWidth,this.lineWidth=Te*A.scale);var ht=this.autoPaging!=="text";if(ht||Qe.y+Qe.h<=We){if(ht||Qe.y>=ke&&Qe.x<=it){var Me=ht?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||it-Qe.x)[0],Lt=x([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-gt+ke+this.ctx.prevPageLastElemOffset)[0],vt=ht&&(be>Ue||be<ge)&&j.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,nt,null).clip().discardPath()),this.pdf.text(Me,Lt.x,Lt.y,{angle:A.angle,align:B,renderingMode:A.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else Qe.y<We&&(this.ctx.prevPageLastElemOffset+=We-Qe.y);A.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=Te)}else A.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*A.scale),Te=this.lineWidth,this.lineWidth=Te*A.scale),this.pdf.text(A.text,ce.x+this.posX,ce.y+this.posY,{angle:A.angle,align:B,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=Te)},W=function(A,B,V,J){V=V||0,J=J||0,this.pdf.internal.out(n(A+V)+" "+r(B+J)+" l")},z=function(A,B,V){return this.pdf.lines(A,B,V,null,null)},se=function(A,B,V,J,Z,ce,he,pe){this.pdf.internal.out([t(i(V+A)),t(s(J+B)),t(i(Z+A)),t(s(ce+B)),t(i(he+A)),t(s(pe+B)),"c"].join(" "))},Q=function(A,B,V,J){for(var Z=2*Math.PI,ce=Math.PI/2;B>V;)B-=Z;var he=Math.abs(V-B);he<Z&&J&&(he=Z-he);for(var pe=[],Ce=J?-1:1,Ae=B;he>1e-5;){var Te=Ae+Ce*Math.min(he,ce);pe.push(ae.call(this,A,Ae,Te)),he-=Math.abs(Te-Ae),Ae=Te}return pe},ae=function(A,B,V){var J=(V-B)/2,Z=A*Math.cos(J),ce=A*Math.sin(J),he=Z,pe=-ce,Ce=he*he+pe*pe,Ae=Ce+he*Z+pe*ce,Te=4/3*(Math.sqrt(2*Ce*Ae)-Ae)/(he*ce-pe*Z),Ee=he-Te*pe,Ge=pe+Te*he,ye=Ee,K=-Ge,Je=J+B,Ue=Math.cos(Je),ge=Math.sin(Je);return{x1:A*Math.cos(B),y1:A*Math.sin(B),x2:Ee*Ue-Ge*ge,y2:Ee*ge+Ge*Ue,x3:ye*Ue-K*ge,y3:ye*ge+K*Ue,x4:A*Math.cos(V),y4:A*Math.sin(V)}},H=function(A){return 180*A/Math.PI},te=function(A,B,V,J,Z,ce){var he=A+.5*(V-A),pe=B+.5*(J-B),Ce=Z+.5*(V-Z),Ae=ce+.5*(J-ce),Te=Math.min(A,Z,he,Ce),Ee=Math.max(A,Z,he,Ce),Ge=Math.min(B,ce,pe,Ae),ye=Math.max(B,ce,pe,Ae);return new a(Te,Ge,Ee-Te,ye-Ge)},ie=function(A,B,V,J,Z,ce,he,pe){var Ce,Ae,Te,Ee,Ge,ye,K,Je,Ue,ge,be,ke,Ie,We,nt=V-A,it=J-B,ft=Z-V,gt=ce-J,Pt=he-Z,Qe=pe-ce;for(Ae=0;Ae<41;Ae++)Ue=(K=(Te=A+(Ce=Ae/40)*nt)+Ce*((Ge=V+Ce*ft)-Te))+Ce*(Ge+Ce*(Z+Ce*Pt-Ge)-K),ge=(Je=(Ee=B+Ce*it)+Ce*((ye=J+Ce*gt)-Ee))+Ce*(ye+Ce*(ce+Ce*Qe-ye)-Je),Ae==0?(be=Ue,ke=ge,Ie=Ue,We=ge):(be=Math.min(be,Ue),ke=Math.min(ke,ge),Ie=Math.max(Ie,Ue),We=Math.max(We,ge));return new a(Math.round(be),Math.round(ke),Math.round(Ie-be),Math.round(We-ke))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,B,V=(A=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:B}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Xe.API),function(e){var t=function(s){var o,a,l,d,p,h,g,m,N,j;for(a=[],l=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>l;l+=4)(p=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(p=((p=((p=((p=(p-(j=p%85))/85)-(N=p%85))/85)-(m=p%85))/85)-(g=p%85))/85)%85,a.push(h+33,g+33,m+33,N+33,j+33)):a.push(122);return function(L,w){for(var x=w;x>0;x--)L.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,d,p,h=String,g="length",m=255,N="charCodeAt",j="slice",L="replace";for(s[j](-2),s=s[j](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),l=[],d=0,p=(s+=o="uuuuu"[j](s[g]%5||5))[g];p>d;d+=5)a=52200625*(s[N](d)-33)+614125*(s[N](d+1)-33)+7225*(s[N](d+2)-33)+85*(s[N](d+3)-33)+(s[N](d+4)-33),l.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(w,x){for(var b=x;b>0;b--)w.pop()}(l,o[g]),h.fromCharCode.apply(h,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=t1(o)).reduce(function(l,d){return l+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,o){var a=0,l=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:d.reverse().join(" ")}}}(Xe.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,d,p){var h=new XMLHttpRequest,g=0,m=function(N){var j=N.length,L=[],w=String.fromCharCode;for(g=0;g<j;g+=1)L.push(w(255&N.charCodeAt(g)));return L.join("")};if(h.open("GET",l,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?p(m(this.responseText)):p(void 0)}),h.send(null),d&&h.status===200)return m(h.responseText)}(i,s,o)}catch{}return a}(t,n,r)},e.loadImageFile=e.loadFile}(Xe.API),function(e){function t(){return(et.html2canvas?Promise.resolve(et.html2canvas):Vd(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(et.DOMPurify?Promise.resolve(et.DOMPurify):Vd(()=>import("./purify.es-31816194.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Ft(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var d in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[d]=a.style[d];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),l);return d=(d=d.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(d,p){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)p!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(l(g,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var m=d[g],N=m.src.find(function(j){return j.format==="truetype"});N&&l.addFont(N.url,m.ref.name,m.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,d){return Math.floor(l*d/72*96)}return this.then(function(){(o=o||Xe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,d){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,d){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(d,p){return l.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,d),h}).then(d,p).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=l.call(d,o,a);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Xe.getPageSize=function(o,a,l){if(Ft(o)==="object"){var d=o;o=d.orientation,a=d.unit||a,l=d.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var p,h=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+a}var m,N=0,j=0;if(g.hasOwnProperty(h))N=g[h][1]/p,j=g[h][0]/p;else try{N=l[1],j=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",j>N&&(m=j,j=N,N=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",N>j&&(m=j,j=N,N=m)}return{width:j,height:N,unit:a,k:p,orientation:o}},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(a1):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(Xe.API),Xe.API.addJS=function(e){return $5=e,this.internal.events.subscribe("postPutResources",function(){gd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),q5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gd!==void 0&&q5!==void 0&&this.internal.out("/Names <</JavaScript "+gd+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(s=0;s<d;s++){var h=n.internal.newObject();p.push(h);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<p.length;s++)n.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Xe.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,a){var l,d=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(h){for(var g,m=256*h.charCodeAt(4)+h.charCodeAt(5),N=h.length,j={width:0,height:0,numcomponents:1},L=4;L<N;L+=2){if(L+=m,t.indexOf(h.charCodeAt(L+1))!==-1){g=256*h.charCodeAt(L+5)+h.charCodeAt(L+6),j={width:256*h.charCodeAt(L+7)+h.charCodeAt(L+8),height:g,numcomponents:h.charCodeAt(L+9)};break}m=256*h.charCodeAt(L+2)+h.charCodeAt(L+3)}return j}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}p={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:d,index:r,alias:i}}return p}}(Xe.API);var xa,vd,H5,W5,G5,BC=function(){var e,t,n;function r(s){var o,a,l,d,p,h,g,m,N,j,L,w,x,b;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),N=(function(){var T,q;for(q=[],T=0;T<4;++T)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*p/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,o-=4),s=(h!=null?h.data:void 0)||this.imgData,w=0;0<=o?w<o:w>o;0<=o?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((j=l-this.transparency.indexed.length)>0)for(x=0;0<=j?x<j:x>j;0<=j?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(L=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,L.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,L.slice(g+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(h,g,m,N){var j,L,w,x,b,T,q,G,R,M,$,re,F,k,W,z,se,Q,ae,H,te,ie=Math.ceil((d.width-h)/m),me=Math.ceil((d.height-g)/N),A=d.width==ie&&d.height==me;for(k=o*ie,re=A?a:new Uint8Array(k*me),T=s.length,F=0,L=0;F<me&&l<T;){switch(s[l++]){case 0:for(x=se=0;se<k;x=se+=1)re[L++]=s[l++];break;case 1:for(x=Q=0;Q<k;x=Q+=1)j=s[l++],b=x<o?0:re[L-o],re[L++]=(j+b)%256;break;case 2:for(x=ae=0;ae<k;x=ae+=1)j=s[l++],w=(x-x%o)/o,W=F&&re[(F-1)*k+w*o+x%o],re[L++]=(W+j)%256;break;case 3:for(x=H=0;H<k;x=H+=1)j=s[l++],w=(x-x%o)/o,b=x<o?0:re[L-o],W=F&&re[(F-1)*k+w*o+x%o],re[L++]=(j+Math.floor((b+W)/2))%256;break;case 4:for(x=te=0;te<k;x=te+=1)j=s[l++],w=(x-x%o)/o,b=x<o?0:re[L-o],F===0?W=z=0:(W=re[(F-1)*k+w*o+x%o],z=w&&re[(F-1)*k+(w-1)*o+x%o]),q=b+W-z,G=Math.abs(q-b),M=Math.abs(q-W),$=Math.abs(q-z),R=G<=M&&G<=$?b:M<=$?W:z,re[L++]=(j+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!A){var B=((g+F*N)*d.width+h)*o,V=F*k;for(x=0;x<ie;x+=1){for(var J=0;J<o;J+=1)a[B++]=re[V++];B+=(m-1)*o}}F++}}return s=vC(s),d.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,d,p,h,g,m;for(a=this.palette,p=this.transparency.indexed||[],d=new Uint8Array((p.length||0)+a.length),l=0,s=0,o=h=0,g=a.length;h<g;o=h+=3)d[l++]=a[o],d[l++]=a[o+1],d[l++]=a[o+2],d[l++]=(m=p[s++])!=null?m:255;return d},r.prototype.copyToImageData=function(s,o){var a,l,d,p,h,g,m,N,j,L,w;if(l=this.colors,j=null,a=this.hasAlphaChannel,this.palette.length&&(j=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),N=(d=s.data||s).length,h=j||o,p=g=0,l===1)for(;p<N;)m=j?4*o[p/4]:g,L=h[m++],d[p++]=L,d[p++]=L,d[p++]=L,d[p++]=a?h[m++]:255,g=m;else for(;p<N;)m=j?4*o[p/4]:g,d[p++]=h[m++],d[p++]=h[m++],d[p++]=h[m++],d[p++]=a?h[m++]:255,g=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(et)==="[object Window]"){try{t=et.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,d,p,h,g,m;if(this.animation){for(m=[],a=p=0,h=(g=this.animation.frames).length;p<h;a=++p)o=g[a],l=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,d),o.imageData=l,m.push(o.image=e(l));return m}},r.prototype.renderFrame=function(s,o){var a,l,d;return a=(l=this.animation.frames)[o],d=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,d,p,h,g=this;return a=0,h=this.animation,d=h.numFrames,l=h.frames,p=h.numPlays,(o=function(){var m,N;if(m=a++%d,N=l[m],g.renderFrame(s,m),d>1&&a/d<p)return g.animation._timeout=setTimeout(o,N.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function zC(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var d=!0,p=[],h=0,g=null,m=0,N=null;for(this.width=n,this.height=r;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,N=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var j=e[t++];h=e[t++]|e[t++]<<8,g=e[t++],!(1&j)&&(g=null),m=j>>2&7,t++;break;case 254:for(;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var L=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,T=e[t++],q=T>>6&1,G=1<<(7&T)+1,R=a,M=l,$=!1;T>>7&&($=!0,R=t,M=G,t+=3*G);var re=t;for(t++;;){var F;if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}p.push({x:L,y:w,width:x,height:b,has_local_palette:$,palette_offset:R,palette_size:M,data_offset:re,data_length:t-re,transparent_index:g,interlaced:!!q,delay:h,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return N},this.frameInfo=function(k){if(k<0||k>=p.length)throw new Error("Frame index out of range.");return p[k]},this.decodeAndBlitFrameBGRA=function(k,W){var z=this.frameInfo(k),se=z.width*z.height,Q=new Uint8Array(se);Y5(e,z.data_offset,Q,se);var ae=z.palette_offset,H=z.transparent_index;H===null&&(H=256);var te=z.width,ie=n-te,me=te,A=4*(z.y*n+z.x),B=4*((z.y+z.height)*n+z.x),V=A,J=4*ie;z.interlaced===!0&&(J+=4*n*7);for(var Z=8,ce=0,he=Q.length;ce<he;++ce){var pe=Q[ce];if(me===0&&(me=te,(V+=J)>=B&&(J=4*ie+4*n*(Z-1),V=A+(te+ie)*(Z<<1),Z>>=1)),pe===H)V+=4;else{var Ce=e[ae+3*pe],Ae=e[ae+3*pe+1],Te=e[ae+3*pe+2];W[V++]=Te,W[V++]=Ae,W[V++]=Ce,W[V++]=255}--me}},this.decodeAndBlitFrameRGBA=function(k,W){var z=this.frameInfo(k),se=z.width*z.height,Q=new Uint8Array(se);Y5(e,z.data_offset,Q,se);var ae=z.palette_offset,H=z.transparent_index;H===null&&(H=256);var te=z.width,ie=n-te,me=te,A=4*(z.y*n+z.x),B=4*((z.y+z.height)*n+z.x),V=A,J=4*ie;z.interlaced===!0&&(J+=4*n*7);for(var Z=8,ce=0,he=Q.length;ce<he;++ce){var pe=Q[ce];if(me===0&&(me=te,(V+=J)>=B&&(J=4*ie+4*n*(Z-1),V=A+(te+ie)*(Z<<1),Z>>=1)),pe===H)V+=4;else{var Ce=e[ae+3*pe],Ae=e[ae+3*pe+1],Te=e[ae+3*pe+2];W[V++]=Ce,W[V++]=Ae,W[V++]=Te,W[V++]=255}--me}}}function Y5(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,d=(1<<l)-1,p=0,h=0,g=0,m=e[t++],N=new Int32Array(4096),j=null;;){for(;p<16&&m!==0;)h|=e[t++]<<p,p+=8,m===1?m=e[t++]:--m;if(p<l)break;var L=h&d;if(h>>=l,p-=l,L!==s){if(L===o)break;for(var w=L<a?L:j,x=0,b=w;b>s;)b=N[b]>>8,++x;var T=b;if(g+x+(w!==L?1:0)>r)return void zt.log("Warning, gif stream longer than expected.");n[g++]=T;var q=g+=x;for(w!==L&&(n[g++]=T),b=w;x--;)b=N[b],n[--q]=255&b,b>>=8;j!==null&&a<4096&&(N[a++]=j<<8|T,a>=d+1&&l<12&&(++l,d=d<<1|1)),j=L}else a=o+1,d=(1<<(l=i+1))-1,j=null}return g!==r&&zt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Bp(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),d=new Array(64),p=new Array(64),h=new Array(65535),g=new Array(65535),m=new Array(64),N=new Array(64),j=[],L=0,w=7,x=new Array(64),b=new Array(64),T=new Array(64),q=new Array(256),G=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(A,B){for(var V=0,J=0,Z=new Array,ce=1;ce<=16;ce++){for(var he=1;he<=A[ce];he++)Z[B[J]]=[],Z[B[J]][0]=V,Z[B[J]][1]=ce,J++,V++;V*=2}return Z}function ae(A){for(var B=A[0],V=A[1]-1;V>=0;)B&1<<V&&(L|=1<<w),V--,--w<0&&(L==255?(H(255),H(0)):H(L),w=7,L=0)}function H(A){j.push(A)}function te(A){H(A>>8&255),H(255&A)}function ie(A,B,V,J,Z){for(var ce,he=Z[0],pe=Z[240],Ce=function(ge,be){var ke,Ie,We,nt,it,ft,gt,Pt,Qe,ht,Me=0;for(Qe=0;Qe<8;++Qe){ke=ge[Me],Ie=ge[Me+1],We=ge[Me+2],nt=ge[Me+3],it=ge[Me+4],ft=ge[Me+5],gt=ge[Me+6];var Lt=ke+(Pt=ge[Me+7]),vt=ke-Pt,Ar=Ie+gt,xt=Ie-gt,Wt=We+ft,zr=We-ft,wt=nt+it,Oi=nt-it,Vt=Lt+wt,Lr=Lt-wt,Vr=Ar+Wt,Jt=Ar-Wt;ge[Me]=Vt+Vr,ge[Me+4]=Vt-Vr;var tt=.707106781*(Jt+Lr);ge[Me+2]=Lr+tt,ge[Me+6]=Lr-tt;var jt=.382683433*((Vt=Oi+zr)-(Jt=xt+vt)),Bi=.5411961*Vt+jt,qe=1.306562965*Jt+jt,ct=.707106781*(Vr=zr+xt),_e=vt+ct,Fe=vt-ct;ge[Me+5]=Fe+Bi,ge[Me+3]=Fe-Bi,ge[Me+1]=_e+qe,ge[Me+7]=_e-qe,Me+=8}for(Me=0,Qe=0;Qe<8;++Qe){ke=ge[Me],Ie=ge[Me+8],We=ge[Me+16],nt=ge[Me+24],it=ge[Me+32],ft=ge[Me+40],gt=ge[Me+48];var at=ke+(Pt=ge[Me+56]),dt=ke-Pt,He=Ie+gt,bt=Ie-gt,It=We+ft,Rt=We-ft,lr=nt+it,Cn=nt-it,Dt=at+lr,At=at-lr,Nn=He+It,ur=He-It;ge[Me]=Dt+Nn,ge[Me+32]=Dt-Nn;var Qt=.707106781*(ur+At);ge[Me+16]=At+Qt,ge[Me+48]=At-Qt;var zn=.382683433*((Dt=Cn+Rt)-(ur=bt+dt)),cr=.5411961*Dt+zn,qo=1.306562965*ur+zn,$o=.707106781*(Nn=Rt+bt),Ho=dt+$o,Wo=dt-$o;ge[Me+40]=Wo+cr,ge[Me+24]=Wo-cr,ge[Me+8]=Ho+qo,ge[Me+56]=Ho-qo,Me++}for(Qe=0;Qe<64;++Qe)ht=ge[Qe]*be[Qe],m[Qe]=ht>0?ht+.5|0:ht-.5|0;return m}(A,B),Ae=0;Ae<64;++Ae)N[R[Ae]]=Ce[Ae];var Te=N[0]-V;V=N[0],Te==0?ae(J[0]):(ae(J[g[ce=32767+Te]]),ae(h[ce]));for(var Ee=63;Ee>0&&N[Ee]==0;)Ee--;if(Ee==0)return ae(he),V;for(var Ge,ye=1;ye<=Ee;){for(var K=ye;N[ye]==0&&ye<=Ee;)++ye;var Je=ye-K;if(Je>=16){Ge=Je>>4;for(var Ue=1;Ue<=Ge;++Ue)ae(pe);Je&=15}ce=32767+N[ye],ae(Z[(Je<<4)+g[ce]]),ae(h[ce]),ye++}return Ee!=63&&ae(he),V}function me(A){A=Math.min(Math.max(A,1),100),s!=A&&(function(B){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var Z=o((V[J]*B+50)/100);Z=Math.min(Math.max(Z,1),255),a[R[J]]=Z}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var pe=o((ce[he]*B+50)/100);pe=Math.min(Math.max(pe,1),255),l[R[he]]=pe}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,Te=0;Te<8;Te++)for(var Ee=0;Ee<8;Ee++)d[Ae]=1/(a[R[Ae]]*Ce[Te]*Ce[Ee]*8),p[Ae]=1/(l[R[Ae]]*Ce[Te]*Ce[Ee]*8),Ae++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),s=A)}this.encode=function(A,B){B&&me(B),j=new Array,L=0,w=7,te(65496),te(65504),te(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),te(1),te(1),H(0),H(0),function(){te(65499),te(132),H(0);for(var Ie=0;Ie<64;Ie++)H(a[Ie]);H(1);for(var We=0;We<64;We++)H(l[We])}(),function(Ie,We){te(65472),te(17),H(8),te(We),te(Ie),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(A.width,A.height),function(){te(65476),te(418),H(0);for(var Ie=0;Ie<16;Ie++)H(M[Ie+1]);for(var We=0;We<=11;We++)H($[We]);H(16);for(var nt=0;nt<16;nt++)H(re[nt+1]);for(var it=0;it<=161;it++)H(F[it]);H(1);for(var ft=0;ft<16;ft++)H(k[ft+1]);for(var gt=0;gt<=11;gt++)H(W[gt]);H(17);for(var Pt=0;Pt<16;Pt++)H(z[Pt+1]);for(var Qe=0;Qe<=161;Qe++)H(se[Qe])}(),te(65498),te(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var V=0,J=0,Z=0;L=0,w=7,this.encode.displayName="_encode_";for(var ce,he,pe,Ce,Ae,Te,Ee,Ge,ye,K=A.data,Je=A.width,Ue=A.height,ge=4*Je,be=0;be<Ue;){for(ce=0;ce<ge;){for(Ae=ge*be+ce,Ee=-1,Ge=0,ye=0;ye<64;ye++)Te=Ae+(Ge=ye>>3)*ge+(Ee=4*(7&ye)),be+Ge>=Ue&&(Te-=ge*(be+1+Ge-Ue)),ce+Ee>=ge&&(Te-=ce+Ee-ge+4),he=K[Te++],pe=K[Te++],Ce=K[Te++],x[ye]=(G[he]+G[pe+256>>0]+G[Ce+512>>0]>>16)-128,b[ye]=(G[he+768>>0]+G[pe+1024>>0]+G[Ce+1280>>0]>>16)-128,T[ye]=(G[he+1280>>0]+G[pe+1536>>0]+G[Ce+1792>>0]>>16)-128;V=ie(x,d,V,t,r),J=ie(b,p,J,n,i),Z=ie(T,p,Z,n,i),ce+=32}be+=8}if(w>=0){var ke=[];ke[1]=w+1,ke[0]=(1<<w+1)-1,ae(ke)}return te(65497),new Uint8Array(j)},e=e||50,function(){for(var A=String.fromCharCode,B=0;B<256;B++)q[B]=A(B)}(),t=Q(M,$),n=Q(k,W),r=Q(re,F),i=Q(z,se),function(){for(var A=1,B=2,V=1;V<=15;V++){for(var J=A;J<B;J++)g[32767+J]=V,h[32767+J]=[],h[32767+J][1]=V,h[32767+J][0]=J;for(var Z=-(B-1);Z<=-A;Z++)g[32767+Z]=V,h[32767+Z]=[],h[32767+Z][1]=V,h[32767+Z][0]=B-1+Z;A<<=1,B<<=1}}(),function(){for(var A=0;A<256;A++)G[A]=19595*A,G[A+256>>0]=38470*A,G[A+512>>0]=7471*A+32768,G[A+768>>0]=-11059*A,G[A+1024>>0]=-21709*A,G[A+1280>>0]=32768*A+8421375,G[A+1536>>0]=-27439*A,G[A+1792>>0]=-5329*A}(),me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ci(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function K5(e){function t(M){if(!M)throw Error("assert :P")}function n(M,$,re){for(var F=0;4>F;F++)if(M[$+F]!=re.charCodeAt(F))return!0;return!1}function r(M,$,re,F,k){for(var W=0;W<k;W++)M[$+W]=re[F+W]}function i(M,$,re,F){for(var k=0;k<F;k++)M[$+k]=re}function s(M){return new Int32Array(M)}function o(M,$){for(var re=[],F=0;F<M;F++)re.push(new $);return re}function a(M,$){var re=[];return function F(k,W,z){for(var se=z[W],Q=0;Q<se&&(k.push(z.length>W+1?[]:new $),!(z.length<W+1));Q++)F(k[Q],W+1,z)}(re,0,M),re}var l=function(){var M=this;function $(u,f){for(var y=1<<f-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function re(u,f,y,S,C){t(!(S%y));do u[f+(S-=y)]=C;while(0<S)}function F(u,f,y,S,C){if(t(2328>=C),512>=C)var _=s(512);else if((_=s(C))==null)return 0;return function(E,I,D,U,ee,de){var fe,le,Ne=I,ve=1<<D,ne=s(16),oe=s(16);for(t(ee!=0),t(U!=null),t(E!=null),t(0<D),le=0;le<ee;++le){if(15<U[le])return 0;++ne[U[le]]}if(ne[0]==ee)return 0;for(oe[1]=0,fe=1;15>fe;++fe){if(ne[fe]>1<<fe)return 0;oe[fe+1]=oe[fe]+ne[fe]}for(le=0;le<ee;++le)fe=U[le],0<U[le]&&(de[oe[fe]++]=le);if(oe[15]==1)return(U=new k).g=0,U.value=de[0],re(E,Ne,1,ve,U),ve;var we,je=-1,Se=ve-1,Be=0,Re=1,Ke=1,De=1<<D;for(le=0,fe=1,ee=2;fe<=D;++fe,ee<<=1){if(Re+=Ke<<=1,0>(Ke-=ne[fe]))return 0;for(;0<ne[fe];--ne[fe])(U=new k).g=fe,U.value=de[le++],re(E,Ne+Be,ee,De,U),Be=$(Be,fe)}for(fe=D+1,ee=2;15>=fe;++fe,ee<<=1){if(Re+=Ke<<=1,0>(Ke-=ne[fe]))return 0;for(;0<ne[fe];--ne[fe]){if(U=new k,(Be&Se)!=je){for(Ne+=De,we=1<<(je=fe)-D;15>je&&!(0>=(we-=ne[je]));)++je,we<<=1;ve+=De=1<<(we=je-D),E[I+(je=Be&Se)].g=we+D,E[I+je].value=Ne-I-je}U.g=fe-D,U.value=de[le++],re(E,Ne+(Be>>D),ee,De,U),Be=$(Be,fe)}}return Re!=2*oe[15]-1?0:ve}(u,f,y,S,C,_)}function k(){this.value=this.g=0}function W(){this.value=this.g=0}function z(){this.G=o(5,k),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(In,W)}function se(u,f,y,S){t(u!=null),t(f!=null),t(2147483648>S),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=y,u.Jd=f,u.Yc=y+S,u.Zc=4<=S?y+S-4+1:y,ce(u)}function Q(u,f){for(var y=0;0<f--;)y|=pe(u,128)<<f;return y}function ae(u,f){var y=Q(u,f);return he(u)?-y:y}function H(u,f,y,S){var C,_=0;for(t(u!=null),t(f!=null),t(4294967288>S),u.Sb=S,u.Ra=0,u.u=0,u.h=0,4<S&&(S=4),C=0;C<S;++C)_+=f[y+C]<<8*C;u.Ra=_,u.bb=S,u.oa=f,u.pa=y}function te(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<aa-8>>>0,++u.bb,u.u-=8;V(u)&&(u.h=1,u.u=0)}function ie(u,f){if(t(0<=f),!u.h&&f<=oa){var y=B(u)&sa[f];return u.u+=f,te(u),y}return u.h=1,u.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(u){return u.Ra>>>(u.u&aa-1)>>>0}function V(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>aa}function J(u,f){u.u=f,u.h=V(u)}function Z(u){u.u>=Pl&&(t(u.u>=Pl),te(u))}function ce(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function he(u){return Q(u,1)}function pe(u,f){var y=u.Ca;0>u.b&&ce(u);var S=u.b,C=y*f>>>8,_=(u.I>>>S>C)+0;for(_?(y-=C,u.I-=C+1<<S>>>0):y=C+1,S=y,C=0;256<=S;)C+=8,S>>=8;return S=7^C+fr[S],u.b-=S,u.Ca=(y<<S)-1,_}function Ce(u,f,y){u[f+0]=y>>24&255,u[f+1]=y>>16&255,u[f+2]=y>>8&255,u[f+3]=y>>0&255}function Ae(u,f){return u[f+0]<<0|u[f+1]<<8}function Te(u,f){return Ae(u,f)|u[f+2]<<16}function Ee(u,f){return Ae(u,f)|Ae(u,f+2)<<16}function Ge(u,f){var y=1<<f;return t(u!=null),t(0<f),u.X=s(y),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function ye(u,f){t(u!=null),t(f!=null),t(u.Xa==f.Xa),r(f.X,0,u.X,0,1<<f.Xa)}function K(){this.X=[],this.Xa=this.Mb=0}function Je(u,f,y,S){t(y!=null),t(S!=null);var C=y[0],_=S[0];return C==0&&(C=(u*_+f/2)/f),_==0&&(_=(f*C+u/2)/u),0>=C||0>=_?0:(y[0]=C,S[0]=_,1)}function Ue(u,f){return u+(1<<f)-1>>>f}function ge(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function be(u,f){M[f]=function(y,S,C,_,E,I,D){var U;for(U=0;U<E;++U){var ee=M[u](I[D+U-1],C,_+U);I[D+U]=ge(y[S+U],ee)}}}function ke(){this.ud=this.hd=this.jd=0}function Ie(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function We(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function nt(u,f){return We(u+(u-f+.5>>1))}function it(u,f,y){return Math.abs(f-y)-Math.abs(u-y)}function ft(u,f,y,S,C,_,E){for(S=_[E-1],y=0;y<C;++y)_[E+y]=S=ge(u[f+y],S)}function gt(u,f,y,S,C){var _;for(_=0;_<y;++_){var E=u[f+_],I=E>>8&255,D=16711935&(D=(D=16711935&E)+((I<<16)+I));S[C+_]=(4278255360&E)+D>>>0}}function Pt(u,f){f.jd=u>>0&255,f.hd=u>>8&255,f.ud=u>>16&255}function Qe(u,f,y,S,C,_){var E;for(E=0;E<S;++E){var I=f[y+E],D=I>>>8,U=I,ee=255&(ee=(ee=I>>>16)+((u.jd<<24>>24)*(D<<24>>24)>>>5));U=255&(U=(U=U+((u.hd<<24>>24)*(D<<24>>24)>>>5))+((u.ud<<24>>24)*(ee<<24>>24)>>>5)),C[_+E]=(4278255360&I)+(ee<<16)+U}}function ht(u,f,y,S,C){M[f]=function(_,E,I,D,U,ee,de,fe,le){for(D=de;D<fe;++D)for(de=0;de<le;++de)U[ee++]=C(I[S(_[E++])])},M[u]=function(_,E,I,D,U,ee,de){var fe=8>>_.b,le=_.Ea,Ne=_.K[0],ve=_.w;if(8>fe)for(_=(1<<_.b)-1,ve=(1<<fe)-1;E<I;++E){var ne,oe=0;for(ne=0;ne<le;++ne)ne&_||(oe=S(D[U++])),ee[de++]=C(Ne[oe&ve]),oe>>=fe}else M["VP8LMapColor"+y](D,U,Ne,ve,ee,de,E,I,le)}}function Me(u,f,y,S,C){for(y=f+y;f<y;){var _=u[f++];S[C++]=_>>16&255,S[C++]=_>>8&255,S[C++]=_>>0&255}}function Lt(u,f,y,S,C){for(y=f+y;f<y;){var _=u[f++];S[C++]=_>>16&255,S[C++]=_>>8&255,S[C++]=_>>0&255,S[C++]=_>>24&255}}function vt(u,f,y,S,C){for(y=f+y;f<y;){var _=(E=u[f++])>>16&240|E>>12&15,E=E>>0&240|E>>28&15;S[C++]=_,S[C++]=E}}function Ar(u,f,y,S,C){for(y=f+y;f<y;){var _=(E=u[f++])>>16&248|E>>13&7,E=E>>5&224|E>>3&31;S[C++]=_,S[C++]=E}}function xt(u,f,y,S,C){for(y=f+y;f<y;){var _=u[f++];S[C++]=_>>0&255,S[C++]=_>>8&255,S[C++]=_>>16&255}}function Wt(u,f,y,S,C,_){if(_==0)for(y=f+y;f<y;)Ce(S,((_=u[f++])[0]>>24|_[1]>>8&65280|_[2]<<8&16711680|_[3]<<24)>>>0),C+=32;else r(S,C,u,f,y)}function zr(u,f){M[f][0]=M[u+"0"],M[f][1]=M[u+"1"],M[f][2]=M[u+"2"],M[f][3]=M[u+"3"],M[f][4]=M[u+"4"],M[f][5]=M[u+"5"],M[f][6]=M[u+"6"],M[f][7]=M[u+"7"],M[f][8]=M[u+"8"],M[f][9]=M[u+"9"],M[f][10]=M[u+"10"],M[f][11]=M[u+"11"],M[f][12]=M[u+"12"],M[f][13]=M[u+"13"],M[f][14]=M[u+"0"],M[f][15]=M[u+"0"]}function wt(u){return u==kh||u==_h||u==Fc||u==Eh}function Oi(){this.eb=[],this.size=this.A=this.fb=0}function Vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Lr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Oi,this.f.kb=new Vt,this.sd=null}function Vr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function tt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function jt(u,f){var y=u.T,S=f.ba.f.RGBA,C=S.eb,_=S.fb+u.ka*S.A,E=Gr[f.ba.S],I=u.y,D=u.O,U=u.f,ee=u.N,de=u.ea,fe=u.W,le=f.cc,Ne=f.dc,ve=f.Mc,ne=f.Nc,oe=u.ka,we=u.ka+u.T,je=u.U,Se=je+1>>1;for(oe==0?E(I,D,null,null,U,ee,de,fe,U,ee,de,fe,C,_,null,null,je):(E(f.ec,f.fc,I,D,le,Ne,ve,ne,U,ee,de,fe,C,_-S.A,C,_,je),++y);oe+2<we;oe+=2)le=U,Ne=ee,ve=de,ne=fe,ee+=u.Rc,fe+=u.Rc,_+=2*S.A,E(I,(D+=2*u.fa)-u.fa,I,D,le,Ne,ve,ne,U,ee,de,fe,C,_-S.A,C,_,je);return D+=u.fa,u.j+we<u.o?(r(f.ec,f.fc,I,D,je),r(f.cc,f.dc,U,ee,Se),r(f.Mc,f.Nc,de,fe,Se),y--):1&we||E(I,D,null,null,U,ee,de,fe,U,ee,de,fe,C,_+S.A,null,null,je),y}function Bi(u,f,y){var S=u.F,C=[u.J];if(S!=null){var _=u.U,E=f.ba.S,I=E==Ec||E==Fc;f=f.ba.f.RGBA;var D=[0],U=u.ka;D[0]=u.T,u.Kb&&(U==0?--D[0]:(--U,C[0]-=u.width),u.j+u.ka+u.T==u.o&&(D[0]=u.o-u.j-U));var ee=f.eb;U=f.fb+U*f.A,u=qt(S,C[0],u.width,_,D,ee,U+(I?0:3),f.A),t(y==D),u&&wt(E)&&Hr(ee,U,I,_,D,f.A)}return 0}function qe(u){var f=u.ma,y=f.ba.S,S=11>y,C=y==kc||y==_c||y==Ec||y==Ph||y==12||wt(y);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Ll(f.Oa,u,C?11:12))return 0;if(C&&wt(y)&&Le(),u.da)alert("todo:use_scaling");else{if(S){if(f.Ib=tt,u.Kb){if(y=u.U+1>>1,f.memory=s(u.U+2*y),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+y,f.Ib=jt,Le()}}else alert("todo:EmitYUV");C&&(f.Jb=Bi,S&&ue())}if(S&&!G0){for(u=0;256>u;++u)c4[u]=89858*(u-128)+Ic>>Tc,h4[u]=-22014*(u-128)+Ic,f4[u]=-45773*(u-128),d4[u]=113618*(u-128)+Ic>>Tc;for(u=Rl;u<Ih;++u)f=76283*(u-16)+Ic>>Tc,p4[u-Rl]=Cr(f,255),m4[u-Rl]=Cr(f+8>>4,15);G0=1}return 1}function ct(u){var f=u.ma,y=u.U,S=u.T;return t(!(1&u.ka)),0>=y||0>=S?0:(y=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,y),f.Dc+=y,1)}function _e(u){u.ma.memory=null}function Fe(u,f,y,S){return ie(u,8)!=47?0:(f[0]=ie(u,14)+1,y[0]=ie(u,14)+1,S[0]=ie(u,1),ie(u,3)!=0?0:!u.h)}function at(u,f){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+ie(f,y)+1}function dt(u,f){return 120<f?f-120:1<=(y=((y=J3[f-1])>>4)*u+(8-(15&y)))?y:1;var y}function He(u,f,y){var S=B(y),C=u[f+=255&S].g-8;return 0<C&&(J(y,y.u+8),S=B(y),f+=u[f].value,f+=S&(1<<C)-1),J(y,y.u+u[f].g),u[f].value}function bt(u,f,y){return y.g+=u.g,y.value+=u.value<<f>>>0,t(8>=y.g),u.g}function It(u,f,y){var S=u.xc;return t((f=S==0?0:u.vc[u.md*(y>>S)+(f>>S)])<u.Wb),u.Ya[f]}function Rt(u,f,y,S){var C=u.ab,_=u.c*f,E=u.C;f=E+f;var I=y,D=S;for(S=u.Ta,y=u.Ua;0<C--;){var U=u.gc[C],ee=E,de=f,fe=I,le=D,Ne=(D=S,I=y,U.Ea);switch(t(ee<de),t(de<=U.nc),U.hc){case 2:Sc(fe,le,(de-ee)*Ne,D,I);break;case 0:var ve=ee,ne=de,oe=D,we=I,je=(De=U).Ea;ve==0&&(Lh(fe,le,null,null,1,oe,we),ft(fe,le+1,0,0,je-1,oe,we+1),le+=je,we+=je,++ve);for(var Se=1<<De.b,Be=Se-1,Re=Ue(je,De.b),Ke=De.K,De=De.w+(ve>>De.b)*Re;ve<ne;){var Ct=Ke,_t=De,St=1;for(kl(fe,le,oe,we-je,1,oe,we);St<je;){var mt=(St&~Be)+Se;mt>je&&(mt=je),(0,gs[Ct[_t++]>>8&15])(fe,le+ +St,oe,we+St-je,mt-St,oe,we+St),St=mt}le+=je,we+=je,++ve&Be||(De+=Re)}de!=U.nc&&r(D,I-Ne,D,I+(de-ee-1)*Ne,Ne);break;case 1:for(Ne=fe,ne=le,je=(fe=U.Ea)-(we=fe&~(oe=(le=1<<U.b)-1)),ve=Ue(fe,U.b),Se=U.K,U=U.w+(ee>>U.b)*ve;ee<de;){for(Be=Se,Re=U,Ke=new ke,De=ne+we,Ct=ne+fe;ne<De;)Pt(Be[Re++],Ke),co(Ke,Ne,ne,le,D,I),ne+=le,I+=le;ne<Ct&&(Pt(Be[Re++],Ke),co(Ke,Ne,ne,je,D,I),ne+=je,I+=je),++ee&oe||(U+=ve)}break;case 3:if(fe==D&&le==I&&0<U.b){for(ne=D,fe=Ne=I+(de-ee)*Ne-(we=(de-ee)*Ue(U.Ea,U.b)),le=D,oe=I,ve=[],we=(je=we)-1;0<=we;--we)ve[we]=le[oe+we];for(we=je-1;0<=we;--we)ne[fe+we]=ve[we];Ur(U,ee,de,D,Ne,D,I)}else Ur(U,ee,de,fe,le,D,I)}I=S,D=y}D!=y&&r(S,y,I,D,_)}function lr(u,f){var y=u.V,S=u.Ba+u.c*u.C,C=f-u.C;if(t(f<=u.l.o),t(16>=C),0<C){var _=u.l,E=u.Ta,I=u.Ua,D=_.width;if(Rt(u,C,y,S),C=I=[I],t((y=u.C)<(S=f)),t(_.v<_.va),S>_.o&&(S=_.o),y<_.j){var U=_.j-y;y=_.j,C[0]+=U*D}if(y>=S?y=0:(C[0]+=4*_.v,_.ka=y-_.j,_.U=_.va-_.v,_.T=S-y,y=1),y){if(I=I[0],11>(y=u.ca).S){var ee=y.f.RGBA,de=(S=y.S,C=_.U,_=_.T,U=ee.eb,ee.A),fe=_;for(ee=ee.fb+u.Ma*ee.A;0<fe--;){var le=E,Ne=I,ve=C,ne=U,oe=ee;switch(S){case Pc:hr(le,Ne,ve,ne,oe);break;case kc:Zn(le,Ne,ve,ne,oe);break;case kh:Zn(le,Ne,ve,ne,oe),Hr(ne,oe,0,ve,1,0);break;case D0:qi(le,Ne,ve,ne,oe);break;case _c:Wt(le,Ne,ve,ne,oe,1);break;case _h:Wt(le,Ne,ve,ne,oe,1),Hr(ne,oe,0,ve,1,0);break;case Ec:Wt(le,Ne,ve,ne,oe,0);break;case Fc:Wt(le,Ne,ve,ne,oe,0),Hr(ne,oe,1,ve,1,0);break;case Ph:vs(le,Ne,ve,ne,oe);break;case Eh:vs(le,Ne,ve,ne,oe),Ut(ne,oe,ve,1,0);break;case O0:Ui(le,Ne,ve,ne,oe);break;default:t(0)}I+=D,ee+=de}u.Ma+=_}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=y.height)}}u.C=f,t(u.C<=u.i)}function Cn(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var y=u.Ya[f].G,S=u.Ya[f].H;if(0<y[1][S[1]+0].g||0<y[2][S[2]+0].g||0<y[3][S[3]+0].g)return 0}return 1}function Dt(u,f,y,S,C,_){if(u.Z!=0){var E=u.qd,I=u.rd;for(t(bs[u.Z]!=null);f<y;++f)bs[u.Z](E,I,S,C,S,C,_),E=S,I=C,C+=_;u.qd=E,u.rd=I}}function At(u,f){var y=u.l.ma,S=y.Z==0||y.Z==1?u.l.j:u.C;if(S=u.C<S?S:u.C,t(f<=u.l.o),f>S){var C=u.l.width,_=y.ca,E=y.tb+C*S,I=u.V,D=u.Ba+u.c*S,U=u.gc;t(u.ab==1),t(U[0].hc==3),Nc(U[0],S,f,I,D,_,E),Dt(y,S,f,_,E,C)}u.C=u.Ma=f}function Nn(u,f,y,S,C,_,E){var I=u.$/S,D=u.$%S,U=u.m,ee=u.s,de=y+u.$,fe=de;C=y+S*C;var le=y+S*_,Ne=280+ee.ua,ve=u.Pb?I:16777216,ne=0<ee.ua?ee.Wa:null,oe=ee.wc,we=de<le?It(ee,D,I):null;t(u.C<_),t(le<=C);var je=!1;e:for(;;){for(;je||de<le;){var Se=0;if(I>=ve){var Be=de-y;t((ve=u).Pb),ve.wd=ve.m,ve.xd=Be,0<ve.s.ua&&ye(ve.s.Wa,ve.s.vb),ve=I+Q3}if(D&oe||(we=It(ee,D,I)),t(we!=null),we.Qb&&(f[de]=we.qb,je=!0),!je)if(Z(U),we.jc){Se=U,Be=f;var Re=de,Ke=we.pd[B(Se)&In-1];t(we.jc),256>Ke.g?(J(Se,Se.u+Ke.g),Be[Re]=Ke.value,Se=0):(J(Se,Se.u+Ke.g-256),t(256<=Ke.value),Se=Ke.value),Se==0&&(je=!0)}else Se=He(we.G[0],we.H[0],U);if(U.h)break;if(je||256>Se){if(!je)if(we.nd)f[de]=(we.qb|Se<<8)>>>0;else{if(Z(U),je=He(we.G[1],we.H[1],U),Z(U),Be=He(we.G[2],we.H[2],U),Re=He(we.G[3],we.H[3],U),U.h)break;f[de]=(Re<<24|je<<16|Se<<8|Be)>>>0}if(je=!1,++de,++D>=S&&(D=0,++I,E!=null&&I<=_&&!(I%16)&&E(u,I),ne!=null))for(;fe<de;)Se=f[fe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se}else if(280>Se){if(Se=at(Se-256,U),Be=He(we.G[4],we.H[4],U),Z(U),Be=dt(S,Be=at(Be,U)),U.h)break;if(de-y<Be||C-de<Se)break e;for(Re=0;Re<Se;++Re)f[de+Re]=f[de+Re-Be];for(de+=Se,D+=Se;D>=S;)D-=S,++I,E!=null&&I<=_&&!(I%16)&&E(u,I);if(t(de<=C),D&oe&&(we=It(ee,D,I)),ne!=null)for(;fe<de;)Se=f[fe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se}else{if(!(Se<Ne))break e;for(je=Se-280,t(ne!=null);fe<de;)Se=f[fe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se;Se=de,t(!(je>>>(Be=ne).Xa)),f[Se]=Be.X[je],je=!0}je||t(U.h==V(U))}if(u.Pb&&U.h&&de<C)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ye(u.s.vb,u.s.Wa);else{if(U.h)break e;E!=null&&E(u,I>_?_:I),u.a=0,u.$=de-y}return 1}return u.a=3,0}function ur(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,t(u!=null)}function Qt(){var u=new Ah;return u==null?null:(u.a=0,u.xb=V0,zr("Predictor","VP8LPredictors"),zr("Predictor","VP8LPredictors_C"),zr("PredictorAdd","VP8LPredictorsAdd"),zr("PredictorAdd","VP8LPredictorsAdd_C"),Sc=gt,co=Qe,hr=Me,Zn=Lt,vs=vt,Ui=Ar,qi=xt,M.VP8LMapColor32b=la,M.VP8LMapColor8b=jc,u)}function zn(u,f,y,S,C){var _=1,E=[u],I=[f],D=S.m,U=S.s,ee=null,de=0;e:for(;;){if(y)for(;_&&ie(D,1);){var fe=E,le=I,Ne=S,ve=1,ne=Ne.m,oe=Ne.gc[Ne.ab],we=ie(ne,2);if(Ne.Oc&1<<we)_=0;else{switch(Ne.Oc|=1<<we,oe.hc=we,oe.Ea=fe[0],oe.nc=le[0],oe.K=[null],++Ne.ab,t(4>=Ne.ab),we){case 0:case 1:oe.b=ie(ne,3)+2,ve=zn(Ue(oe.Ea,oe.b),Ue(oe.nc,oe.b),0,Ne,oe.K),oe.K=oe.K[0];break;case 3:var je,Se=ie(ne,8)+1,Be=16<Se?0:4<Se?1:2<Se?2:3;if(fe[0]=Ue(oe.Ea,Be),oe.b=Be,je=ve=zn(Se,1,0,Ne,oe.K)){var Re,Ke=Se,De=oe,Ct=1<<(8>>De.b),_t=s(Ct);if(_t==null)je=0;else{var St=De.K[0],mt=De.w;for(_t[0]=De.K[0][0],Re=1;Re<1*Ke;++Re)_t[Re]=ge(St[mt+Re],_t[Re-1]);for(;Re<4*Ct;++Re)_t[Re]=0;De.K[0]=null,De.K[0]=_t,je=1}}ve=je;break;case 2:break;default:t(0)}_=ve}}if(E=E[0],I=I[0],_&&ie(D,1)&&!(_=1<=(de=ie(D,4))&&11>=de)){S.a=3;break e}var Ot;if(Ot=_)t:{var Mt,ut,xn,pr=S,wn=E,mr=I,Et=de,kr=y,_r=pr.m,kn=pr.s,Rn=[null],tr=1,Yr=0,Li=X3[Et];n:for(;;){if(kr&&ie(_r,1)){var _n=ie(_r,3)+2,Gi=Ue(wn,_n),go=Ue(mr,_n),ha=Gi*go;if(!zn(Gi,go,0,pr,Rn))break n;for(Rn=Rn[0],kn.xc=_n,Mt=0;Mt<ha;++Mt){var Ss=Rn[Mt]>>8&65535;Rn[Mt]=Ss,Ss>=tr&&(tr=Ss+1)}}if(_r.h)break n;for(ut=0;5>ut;++ut){var an=B0[ut];!ut&&0<Et&&(an+=1<<Et),Yr<an&&(Yr=an)}var Rh=o(tr*Li,k),J0=tr,X0=o(J0,z);if(X0==null)var Mc=null;else t(65536>=J0),Mc=X0;var Ml=s(Yr);if(Mc==null||Ml==null||Rh==null){pr.a=1;break n}var Dc=Rh;for(Mt=xn=0;Mt<tr;++Mt){var ai=Mc[Mt],pa=ai.G,ma=ai.H,Q0=0,Oc=1,Z0=0;for(ut=0;5>ut;++ut){an=B0[ut],pa[ut]=Dc,ma[ut]=xn,!ut&&0<Et&&(an+=1<<Et);i:{var Bc,Mh=an,zc=pr,Dl=Ml,y4=Dc,x4=xn,Dh=0,Ns=zc.m,w4=ie(Ns,1);if(i(Dl,0,0,Mh),w4){var b4=ie(Ns,1)+1,S4=ie(Ns,1),eg=ie(Ns,S4==0?1:8);Dl[eg]=1,b4==2&&(Dl[eg=ie(Ns,8)]=1);var Vc=1}else{var tg=s(19),ng=ie(Ns,4)+4;if(19<ng){zc.a=3;var Uc=0;break i}for(Bc=0;Bc<ng;++Bc)tg[K3[Bc]]=ie(Ns,3);var Oh=void 0,Ol=void 0,rg=zc,N4=tg,qc=Mh,ig=Dl,Bh=0,js=rg.m,sg=8,og=o(128,k);r:for(;F(og,0,7,N4,19);){if(ie(js,1)){var j4=2+2*ie(js,3);if((Oh=2+ie(js,j4))>qc)break r}else Oh=qc;for(Ol=0;Ol<qc&&Oh--;){Z(js);var ag=og[0+(127&B(js))];J(js,js.u+ag.g);var ga=ag.value;if(16>ga)ig[Ol++]=ga,ga!=0&&(sg=ga);else{var A4=ga==16,lg=ga-16,L4=G3[lg],ug=ie(js,W3[lg])+L4;if(Ol+ug>qc)break r;for(var C4=A4?sg:0;0<ug--;)ig[Ol++]=C4}}Bh=1;break r}Bh||(rg.a=3),Vc=Bh}(Vc=Vc&&!Ns.h)&&(Dh=F(y4,x4,8,Dl,Mh)),Vc&&Dh!=0?Uc=Dh:(zc.a=3,Uc=0)}if(Uc==0)break n;if(Oc&&Y3[ut]==1&&(Oc=Dc[xn].g==0),Q0+=Dc[xn].g,xn+=Uc,3>=ut){var Bl,zh=Ml[0];for(Bl=1;Bl<an;++Bl)Ml[Bl]>zh&&(zh=Ml[Bl]);Z0+=zh}}if(ai.nd=Oc,ai.Qb=0,Oc&&(ai.qb=(pa[3][ma[3]+0].value<<24|pa[1][ma[1]+0].value<<16|pa[2][ma[2]+0].value)>>>0,Q0==0&&256>pa[0][ma[0]+0].value&&(ai.Qb=1,ai.qb+=pa[0][ma[0]+0].value<<8)),ai.jc=!ai.Qb&&6>Z0,ai.jc){var $c,Yi=ai;for($c=0;$c<In;++$c){var As=$c,Ls=Yi.pd[As],Hc=Yi.G[0][Yi.H[0]+As];256<=Hc.value?(Ls.g=Hc.g+256,Ls.value=Hc.value):(Ls.g=0,Ls.value=0,As>>=bt(Hc,8,Ls),As>>=bt(Yi.G[1][Yi.H[1]+As],16,Ls),As>>=bt(Yi.G[2][Yi.H[2]+As],0,Ls),bt(Yi.G[3][Yi.H[3]+As],24,Ls))}}}kn.vc=Rn,kn.Wb=tr,kn.Ya=Mc,kn.yc=Rh,Ot=1;break t}Ot=0}if(!(_=Ot)){S.a=3;break e}if(0<de){if(U.ua=1<<de,!Ge(U.Wa,de)){S.a=1,_=0;break e}}else U.ua=0;var Vh=S,cg=E,P4=I,Uh=Vh.s,qh=Uh.xc;if(Vh.c=cg,Vh.i=P4,Uh.md=Ue(cg,qh),Uh.wc=qh==0?-1:(1<<qh)-1,y){S.xb=s4;break e}if((ee=s(E*I))==null){S.a=1,_=0;break e}_=(_=Nn(S,ee,0,E,I,I,null))&&!D.h;break e}return _?(C!=null?C[0]=ee:(t(ee==null),t(y)),S.$=0,y||ur(U)):ur(U),_}function cr(u,f){var y=u.c*u.i,S=y+f+16*f;return t(u.c<=f),u.V=s(S),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+f,1)}function qo(u,f){var y=u.C,S=f-y,C=u.V,_=u.Ba+u.c*y;for(t(f<=u.l.o);0<S;){var E=16<S?16:S,I=u.l.ma,D=u.l.width,U=D*E,ee=I.ca,de=I.tb+D*y,fe=u.Ta,le=u.Ua;Rt(u,E,C,_),hn(fe,le,ee,de,U),Dt(I,y,y+E,ee,de,D),S-=E,C+=E*u.c,y+=E}t(y==f),u.C=u.Ma=f}function $o(){this.ub=this.yd=this.td=this.Rb=0}function Ho(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Wo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function nc(){this.Yb=function(){var u=[];return function f(y,S,C){for(var _=C[S],E=0;E<_&&(y.push(C.length>S+1?[]:0),!(C.length<S+1));E++)f(y[E],S+1,C)}(u,0,[3,11]),u}()}function nh(){this.jb=s(3),this.Wc=a([4,8],nc),this.Xc=a([4,17],nc)}function rh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Go(){this.ld=this.La=this.dd=this.tc=0}function rc(){this.Na=this.la=0}function ih(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function sh(){this.uc=this.M=this.Nb=0,this.wa=Array(new Go),this.Y=0,this.ya=Array(new cl),this.aa=0,this.l=new Yo}function ic(){this.y=s(16),this.f=s(8),this.ea=s(8)}function oh(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new $o,this.Kc=new Ho,this.ed=new rh,this.Qa=new Wo,this.Ic=this.$c=this.Aa=0,this.D=new sh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,ih),this.Pa=new nh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ic),this.Hd=0,this.rb=Array(new rc),this.sb=0,this.wa=Array(new Go),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cl),this.L=this.aa=0,this.gd=a([4,2],Go),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ah(){var u=new oh;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Il||(Il=ac)),u}function dn(u,f,y){return u.a==0&&(u.a=f,u.sc=y,u.cb=0),0}function sc(u,f,y){return 3<=y&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function oc(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return dn(u,2,"null VP8Io passed to VP8GetHeaders()");var y=f.data,S=f.w,C=f.ha;if(4>C)return dn(u,7,"Truncated header.");var _=y[S+0]|y[S+1]<<8|y[S+2]<<16,E=u.Od;if(E.Rb=!(1&_),E.td=_>>1&7,E.yd=_>>4&1,E.ub=_>>5,3<E.td)return dn(u,3,"Incorrect keyframe parameters.");if(!E.yd)return dn(u,4,"Frame not displayable.");S+=3,C-=3;var I=u.Kc;if(E.Rb){if(7>C)return dn(u,7,"cannot parse picture header");if(!sc(y,S,C))return dn(u,3,"Bad code word");I.c=16383&(y[S+4]<<8|y[S+3]),I.Td=y[S+4]>>6,I.i=16383&(y[S+6]<<8|y[S+5]),I.Ud=y[S+6]>>6,S+=7,C-=7,u.za=I.c+15>>4,u.Ub=I.i+15>>4,f.width=I.c,f.height=I.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((_=u.Pa).jb,0,255,_.jb.length),t((_=u.Qa)!=null),_.Cb=0,_.Bb=0,_.Fb=1,i(_.Zb,0,0,_.Zb.length),i(_.Lb,0,0,_.Lb)}if(E.ub>C)return dn(u,7,"bad partition length");se(_=u.m,y,S,E.ub),S+=E.ub,C-=E.ub,E.Rb&&(I.Ld=he(_),I.Kd=he(_)),I=u.Qa;var D,U=u.Pa;if(t(_!=null),t(I!=null),I.Cb=he(_),I.Cb){if(I.Bb=he(_),he(_)){for(I.Fb=he(_),D=0;4>D;++D)I.Zb[D]=he(_)?ae(_,7):0;for(D=0;4>D;++D)I.Lb[D]=he(_)?ae(_,6):0}if(I.Bb)for(D=0;3>D;++D)U.jb[D]=he(_)?Q(_,8):255}else I.Bb=0;if(_.Ka)return dn(u,3,"cannot parse segment header");if((I=u.ed).zd=he(_),I.Tb=Q(_,6),I.wb=Q(_,3),I.Pc=he(_),I.Pc&&he(_)){for(U=0;4>U;++U)he(_)&&(I.vd[U]=ae(_,6));for(U=0;4>U;++U)he(_)&&(I.od[U]=ae(_,6))}if(u.L=I.Tb==0?0:I.zd?1:2,_.Ka)return dn(u,3,"cannot parse filter header");var ee=C;if(C=D=S,S=D+ee,I=ee,u.Xb=(1<<Q(u.m,2))-1,ee<3*(U=u.Xb))y=7;else{for(D+=3*U,I-=3*U,ee=0;ee<U;++ee){var de=y[C+0]|y[C+1]<<8|y[C+2]<<16;de>I&&(de=I),se(u.Jc[+ee],y,D,de),D+=de,I-=de,C+=3}se(u.Jc[+U],y,D,I),y=D<S?0:5}if(y!=0)return dn(u,y,"cannot parse partitions");for(y=Q(D=u.m,7),C=he(D)?ae(D,4):0,S=he(D)?ae(D,4):0,I=he(D)?ae(D,4):0,U=he(D)?ae(D,4):0,D=he(D)?ae(D,4):0,ee=u.Qa,de=0;4>de;++de){if(ee.Cb){var fe=ee.Zb[de];ee.Fb||(fe+=y)}else{if(0<de){u.pb[de]=u.pb[0];continue}fe=y}var le=u.pb[de];le.Sc[0]=Fh[Cr(fe+C,127)],le.Sc[1]=Th[Cr(fe+0,127)],le.Eb[0]=2*Fh[Cr(fe+S,127)],le.Eb[1]=101581*Th[Cr(fe+I,127)]>>16,8>le.Eb[1]&&(le.Eb[1]=8),le.Qc[0]=Fh[Cr(fe+U,117)],le.Qc[1]=Th[Cr(fe+D,127)],le.lc=fe+D}if(!E.Rb)return dn(u,4,"Not a key frame.");for(he(_),E=u.Pa,y=0;4>y;++y){for(C=0;8>C;++C)for(S=0;3>S;++S)for(I=0;11>I;++I)U=pe(_,r4[y][C][S][I])?Q(_,8):t4[y][C][S][I],E.Wc[y][C].Yb[S][I]=U;for(C=0;17>C;++C)E.Xc[y][C]=E.Wc[y][i4[C]]}return u.kc=he(_),u.kc&&(u.Bd=Q(_,8)),u.cb=1}function ac(u,f,y,S,C,_,E){var I=f[C].Yb[y];for(y=0;16>C;++C){if(!pe(u,I[y+0]))return C;for(;!pe(u,I[y+1]);)if(I=f[++C].Yb[0],y=0,C==16)return 16;var D=f[C+1].Yb;if(pe(u,I[y+2])){var U=u,ee=0;if(pe(U,(fe=I)[(de=y)+3]))if(pe(U,fe[de+6])){for(I=0,de=2*(ee=pe(U,fe[de+8]))+(fe=pe(U,fe[de+9+ee])),ee=0,fe=Z3[de];fe[I];++I)ee+=ee+pe(U,fe[I]);ee+=3+(8<<de)}else pe(U,fe[de+7])?(ee=7+2*pe(U,165),ee+=pe(U,145)):ee=5+pe(U,159);else ee=pe(U,fe[de+4])?3+pe(U,fe[de+5]):2;I=D[2]}else ee=1,I=D[1];D=E+e4[C],0>(U=u).b&&ce(U);var de,fe=U.b,le=(de=U.Ca>>1)-(U.I>>fe)>>31;--U.b,U.Ca+=le,U.Ca|=1,U.I-=(de+1&le)<<fe,_[D]=((ee^le)-le)*S[(0<C)+0]}return 16}function dl(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function lh(u,f){if(u==null)return 0;if(f==null)return dn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!oc(u,f))return 0;if(t(u.cb),f.ac==null||f.ac(f)){f.ob&&(u.L=0);var y=Rc[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=f.v-y>>4,u.zb=f.j-y>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=f.o+15+y>>4,u.Hb=f.va+15+y>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var S=u.ed;for(y=0;4>y;++y){var C;if(u.Qa.Cb){var _=u.Qa.Lb[y];u.Qa.Fb||(_+=S.Tb)}else _=S.Tb;for(C=0;1>=C;++C){var E=u.gd[y][C],I=_;if(S.Pc&&(I+=S.vd[0],C&&(I+=S.od[0])),0<(I=0>I?0:63<I?63:I)){var D=I;0<S.wb&&(D=4<S.wb?D>>2:D>>1)>9-S.wb&&(D=9-S.wb),1>D&&(D=1),E.dd=D,E.tc=2*I+D,E.ld=40<=I?2:15<=I?1:0}else E.tc=0;E.La=C}}}y=0}else dn(u,6,"Frame setup failed"),y=u.a;if(y=y==0){if(y){u.$c=0,0<u.Aa||(u.Ic=v4);e:{y=u.Ic,S=4*(D=u.za);var U=32*D,ee=D+1,de=0<u.L?D*(0<u.Aa?2:1):0,fe=(u.Aa==2?2:1)*D;if((E=S+832+(C=3*(16*y+Rc[u.L])/2*U)+(_=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=E)y=0;else{if(E>u.Vb){if(u.Vb=0,u.Ec=s(E),u.Fc=0,u.Ec==null){y=dn(u,1,"no memory during frame initialization.");break e}u.Vb=E}E=u.Ec,I=u.Fc,u.Ac=E,u.Bc=I,I+=S,u.Gd=o(U,ic),u.Hd=0,u.rb=o(ee+1,rc),u.sb=1,u.wa=de?o(de,Go):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=D),t(!0),u.oc=E,u.pc=I,I+=832,u.ya=o(fe,cl),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=D),u.R=16*D,u.B=8*D,D=(U=Rc[u.L])*u.R,U=U/2*u.B,u.sa=E,u.ta=I+D,u.qa=u.sa,u.ra=u.ta+16*y*u.R+U,u.Ha=u.qa,u.Ia=u.ra+8*y*u.B+U,u.$c=0,I+=C,u.mb=_?E:null,u.nb=_?I:null,t(I+_<=u.Fc+u.Vb),dl(u),i(u.Ac,u.Bc,0,S),y=1}}if(y){if(f.ka=0,f.y=u.sa,f.O=u.ta,f.f=u.qa,f.N=u.ra,f.ea=u.Ha,f.Vd=u.Ia,f.fa=u.R,f.Rc=u.B,f.F=null,f.J=0,!Lc){for(y=-255;255>=y;++y)jn[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)Hi[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Tl[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)fa[255+y]=0>y?0:255<y?255:y;Lc=1}ua=dh,$i=uh,_l=uc,er=ch,qr=cc,fn=lc,ca=vl,Ac=lo,El=jh,fo=yl,ho=Nh,ys=ea,po=xl,da=xc,mo=yc,xs=ji,Fl=Vi,$r=Sh,oi[0]=Ni,oi[1]=fh,oi[2]=gh,oi[3]=vh,oi[4]=hc,oi[5]=Qo,oi[6]=pc,oi[7]=pl,oi[8]=xh,oi[9]=yh,ws[0]=dc,ws[1]=ph,ws[2]=zi,ws[3]=Jo,ws[4]=Vn,ws[5]=mh,ws[6]=fc,Wi[0]=hs,Wi[1]=hh,Wi[2]=wh,Wi[3]=ml,Wi[4]=ao,Wi[5]=bh,Wi[6]=gl,y=1}else y=0}y&&(y=function(le,Ne){for(le.M=0;le.M<le.Va;++le.M){var ve,ne=le.Jc[le.M&le.Xb],oe=le.m,we=le;for(ve=0;ve<we.za;++ve){var je=oe,Se=we,Be=Se.Ac,Re=Se.Bc+4*ve,Ke=Se.zc,De=Se.ya[Se.aa+ve];if(Se.Qa.Bb?De.$b=pe(je,Se.Pa.jb[0])?2+pe(je,Se.Pa.jb[2]):pe(je,Se.Pa.jb[1]):De.$b=0,Se.kc&&(De.Ad=pe(je,Se.Bd)),De.Za=!pe(je,145)+0,De.Za){var Ct=De.Ob,_t=0;for(Se=0;4>Se;++Se){var St,mt=Ke[0+Se];for(St=0;4>St;++St){mt=n4[Be[Re+St]][mt];for(var Ot=z0[pe(je,mt[0])];0<Ot;)Ot=z0[2*Ot+pe(je,mt[Ot])];mt=-Ot,Be[Re+St]=mt}r(Ct,_t,Be,Re,4),_t+=4,Ke[0+Se]=mt}}else mt=pe(je,156)?pe(je,128)?1:3:pe(je,163)?2:0,De.Ob[0]=mt,i(Be,Re,mt,4),i(Ke,0,mt,4);De.Dd=pe(je,142)?pe(je,114)?pe(je,183)?1:3:2:0}if(we.m.Ka)return dn(le,7,"Premature end-of-partition0 encountered.");for(;le.ja<le.za;++le.ja){if(we=ne,je=(oe=le).rb[oe.sb-1],Be=oe.rb[oe.sb+oe.ja],ve=oe.ya[oe.aa+oe.ja],Re=oe.kc?ve.Ad:0)je.la=Be.la=0,ve.Za||(je.Na=Be.Na=0),ve.Hc=0,ve.Gc=0,ve.ia=0;else{var Mt,ut;if(je=Be,Be=we,Re=oe.Pa.Xc,Ke=oe.ya[oe.aa+oe.ja],De=oe.pb[Ke.$b],Se=Ke.ad,Ct=0,_t=oe.rb[oe.sb-1],mt=St=0,i(Se,Ct,0,384),Ke.Za)var xn=0,pr=Re[3];else{Ot=s(16);var wn=je.Na+_t.Na;if(wn=Il(Be,Re[1],wn,De.Eb,0,Ot,0),je.Na=_t.Na=(0<wn)+0,1<wn)ua(Ot,0,Se,Ct);else{var mr=Ot[0]+3>>3;for(Ot=0;256>Ot;Ot+=16)Se[Ct+Ot]=mr}xn=1,pr=Re[0]}var Et=15&je.la,kr=15&_t.la;for(Ot=0;4>Ot;++Ot){var _r=1&kr;for(mr=ut=0;4>mr;++mr)Et=Et>>1|(_r=(wn=Il(Be,pr,wn=_r+(1&Et),De.Sc,xn,Se,Ct))>xn)<<7,ut=ut<<2|(3<wn?3:1<wn?2:Se[Ct+0]!=0),Ct+=16;Et>>=4,kr=kr>>1|_r<<7,St=(St<<8|ut)>>>0}for(pr=Et,xn=kr>>4,Mt=0;4>Mt;Mt+=2){for(ut=0,Et=je.la>>4+Mt,kr=_t.la>>4+Mt,Ot=0;2>Ot;++Ot){for(_r=1&kr,mr=0;2>mr;++mr)wn=_r+(1&Et),Et=Et>>1|(_r=0<(wn=Il(Be,Re[2],wn,De.Qc,0,Se,Ct)))<<3,ut=ut<<2|(3<wn?3:1<wn?2:Se[Ct+0]!=0),Ct+=16;Et>>=2,kr=kr>>1|_r<<5}mt|=ut<<4*Mt,pr|=Et<<4<<Mt,xn|=(240&kr)<<Mt}je.la=pr,_t.la=xn,Ke.Hc=St,Ke.Gc=mt,Ke.ia=43690&mt?0:De.ia,Re=!(St|mt)}if(0<oe.L&&(oe.wa[oe.Y+oe.ja]=oe.gd[ve.$b][ve.Za],oe.wa[oe.Y+oe.ja].La|=!Re),we.Ka)return dn(le,7,"Premature end-of-file encountered.")}if(dl(le),oe=Ne,we=1,ve=(ne=le).D,je=0<ne.L&&ne.M>=ne.zb&&ne.M<=ne.Va,ne.Aa==0)e:{if(ve.M=ne.M,ve.uc=je,Al(ne,ve),we=1,ve=(ut=ne.D).Nb,je=(mt=Rc[ne.L])*ne.R,Be=mt/2*ne.B,Ot=16*ve*ne.R,mr=8*ve*ne.B,Re=ne.sa,Ke=ne.ta-je+Ot,De=ne.qa,Se=ne.ra-Be+mr,Ct=ne.Ha,_t=ne.Ia-Be+mr,kr=(Et=ut.M)==0,St=Et>=ne.Va-1,ne.Aa==2&&Al(ne,ut),ut.uc)for(_r=(wn=ne).D.M,t(wn.D.uc),ut=wn.yb;ut<wn.Hb;++ut){xn=ut,pr=_r;var kn=(Rn=(an=wn).D).Nb;Mt=an.R;var Rn=Rn.wa[Rn.Y+xn],tr=an.sa,Yr=an.ta+16*kn*Mt+16*xn,Li=Rn.dd,_n=Rn.tc;if(_n!=0)if(t(3<=_n),an.L==1)0<xn&&xs(tr,Yr,Mt,_n+4),Rn.La&&$r(tr,Yr,Mt,_n),0<pr&&mo(tr,Yr,Mt,_n+4),Rn.La&&Fl(tr,Yr,Mt,_n);else{var Gi=an.B,go=an.qa,ha=an.ra+8*kn*Gi+8*xn,Ss=an.Ha,an=an.Ia+8*kn*Gi+8*xn;kn=Rn.ld,0<xn&&(Ac(tr,Yr,Mt,_n+4,Li,kn),fo(go,ha,Ss,an,Gi,_n+4,Li,kn)),Rn.La&&(ys(tr,Yr,Mt,_n,Li,kn),da(go,ha,Ss,an,Gi,_n,Li,kn)),0<pr&&(ca(tr,Yr,Mt,_n+4,Li,kn),El(go,ha,Ss,an,Gi,_n+4,Li,kn)),Rn.La&&(ho(tr,Yr,Mt,_n,Li,kn),po(go,ha,Ss,an,Gi,_n,Li,kn))}}if(ne.ia&&alert("todo:DitherRow"),oe.put!=null){if(ut=16*Et,Et=16*(Et+1),kr?(oe.y=ne.sa,oe.O=ne.ta+Ot,oe.f=ne.qa,oe.N=ne.ra+mr,oe.ea=ne.Ha,oe.W=ne.Ia+mr):(ut-=mt,oe.y=Re,oe.O=Ke,oe.f=De,oe.N=Se,oe.ea=Ct,oe.W=_t),St||(Et-=mt),Et>oe.o&&(Et=oe.o),oe.F=null,oe.J=null,ne.Fa!=null&&0<ne.Fa.length&&ut<Et&&(oe.J=Nl(ne,oe,ut,Et-ut),oe.F=ne.mb,oe.F==null&&oe.F.length==0)){we=dn(ne,3,"Could not decode alpha data.");break e}ut<oe.j&&(mt=oe.j-ut,ut=oe.j,t(!(1&mt)),oe.O+=ne.R*mt,oe.N+=ne.B*(mt>>1),oe.W+=ne.B*(mt>>1),oe.F!=null&&(oe.J+=oe.width*mt)),ut<Et&&(oe.O+=oe.v,oe.N+=oe.v>>1,oe.W+=oe.v>>1,oe.F!=null&&(oe.J+=oe.v),oe.ka=ut-oe.j,oe.U=oe.va-oe.v,oe.T=Et-ut,we=oe.put(oe))}ve+1!=ne.Ic||St||(r(ne.sa,ne.ta-je,Re,Ke+16*ne.R,je),r(ne.qa,ne.ra-Be,De,Se+8*ne.B,Be),r(ne.Ha,ne.Ia-Be,Ct,_t+8*ne.B,Be))}if(!we)return dn(le,6,"Output aborted.")}return 1}(u,f)),f.bc!=null&&f.bc(f),y&=1}return y?(u.cb=0,y):0}function ri(u,f,y,S,C){C=u[f+y+32*S]+(C>>3),u[f+y+32*S]=-256&C?0>C?0:255:C}function Ko(u,f,y,S,C,_){ri(u,f,0,y,S+C),ri(u,f,1,y,S+_),ri(u,f,2,y,S-_),ri(u,f,3,y,S-C)}function dr(u){return(20091*u>>16)+u}function fl(u,f,y,S){var C,_=0,E=s(16);for(C=0;4>C;++C){var I=u[f+0]+u[f+8],D=u[f+0]-u[f+8],U=(35468*u[f+4]>>16)-dr(u[f+12]),ee=dr(u[f+4])+(35468*u[f+12]>>16);E[_+0]=I+ee,E[_+1]=D+U,E[_+2]=D-U,E[_+3]=I-ee,_+=4,f++}for(C=_=0;4>C;++C)I=(u=E[_+0]+4)+E[_+8],D=u-E[_+8],U=(35468*E[_+4]>>16)-dr(E[_+12]),ri(y,S,0,0,I+(ee=dr(E[_+4])+(35468*E[_+12]>>16))),ri(y,S,1,0,D+U),ri(y,S,2,0,D-U),ri(y,S,3,0,I-ee),_++,S+=32}function lc(u,f,y,S){var C=u[f+0]+4,_=35468*u[f+4]>>16,E=dr(u[f+4]),I=35468*u[f+1]>>16;Ko(y,S,0,C+E,u=dr(u[f+1]),I),Ko(y,S,1,C+_,u,I),Ko(y,S,2,C-_,u,I),Ko(y,S,3,C-E,u,I)}function uh(u,f,y,S,C){fl(u,f,y,S),C&&fl(u,f+16,y,S+4)}function uc(u,f,y,S){$i(u,f+0,y,S,1),$i(u,f+32,y,S+128,1)}function ch(u,f,y,S){var C;for(u=u[f+0]+4,C=0;4>C;++C)for(f=0;4>f;++f)ri(y,S,f,C,u)}function cc(u,f,y,S){u[f+0]&&er(u,f+0,y,S),u[f+16]&&er(u,f+16,y,S+4),u[f+32]&&er(u,f+32,y,S+128),u[f+48]&&er(u,f+48,y,S+128+4)}function dh(u,f,y,S){var C,_=s(16);for(C=0;4>C;++C){var E=u[f+0+C]+u[f+12+C],I=u[f+4+C]+u[f+8+C],D=u[f+4+C]-u[f+8+C],U=u[f+0+C]-u[f+12+C];_[0+C]=E+I,_[8+C]=E-I,_[4+C]=U+D,_[12+C]=U-D}for(C=0;4>C;++C)E=(u=_[0+4*C]+3)+_[3+4*C],I=_[1+4*C]+_[2+4*C],D=_[1+4*C]-_[2+4*C],U=u-_[3+4*C],y[S+0]=E+I>>3,y[S+16]=U+D>>3,y[S+32]=E-I>>3,y[S+48]=U-D>>3,S+=64}function hl(u,f,y){var S,C=f-32,_=Pr,E=255-u[C-1];for(S=0;S<y;++S){var I,D=_,U=E+u[f-1];for(I=0;I<y;++I)u[f+I]=D[U+u[C+I]];f+=32}}function fh(u,f){hl(u,f,4)}function hh(u,f){hl(u,f,8)}function ph(u,f){hl(u,f,16)}function zi(u,f){var y;for(y=0;16>y;++y)r(u,f+32*y,u,f-32,16)}function Jo(u,f){var y;for(y=16;0<y;--y)i(u,f,u[f-1],16),f+=32}function Xo(u,f,y){var S;for(S=0;16>S;++S)i(f,y+32*S,u,16)}function dc(u,f){var y,S=16;for(y=0;16>y;++y)S+=u[f-1+32*y]+u[f+y-32];Xo(S>>5,u,f)}function Vn(u,f){var y,S=8;for(y=0;16>y;++y)S+=u[f-1+32*y];Xo(S>>4,u,f)}function mh(u,f){var y,S=8;for(y=0;16>y;++y)S+=u[f+y-32];Xo(S>>4,u,f)}function fc(u,f){Xo(128,u,f)}function rt(u,f,y){return u+2*f+y+2>>2}function gh(u,f){var y,S=f-32;for(S=new Uint8Array([rt(u[S-1],u[S+0],u[S+1]),rt(u[S+0],u[S+1],u[S+2]),rt(u[S+1],u[S+2],u[S+3]),rt(u[S+2],u[S+3],u[S+4])]),y=0;4>y;++y)r(u,f+32*y,S,0,S.length)}function vh(u,f){var y=u[f-1],S=u[f-1+32],C=u[f-1+64],_=u[f-1+96];Ce(u,f+0,16843009*rt(u[f-1-32],y,S)),Ce(u,f+32,16843009*rt(y,S,C)),Ce(u,f+64,16843009*rt(S,C,_)),Ce(u,f+96,16843009*rt(C,_,_))}function Ni(u,f){var y,S=4;for(y=0;4>y;++y)S+=u[f+y-32]+u[f-1+32*y];for(S>>=3,y=0;4>y;++y)i(u,f+32*y,S,4)}function hc(u,f){var y=u[f-1+0],S=u[f-1+32],C=u[f-1+64],_=u[f-1-32],E=u[f+0-32],I=u[f+1-32],D=u[f+2-32],U=u[f+3-32];u[f+0+96]=rt(S,C,u[f-1+96]),u[f+1+96]=u[f+0+64]=rt(y,S,C),u[f+2+96]=u[f+1+64]=u[f+0+32]=rt(_,y,S),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=rt(E,_,y),u[f+3+64]=u[f+2+32]=u[f+1+0]=rt(I,E,_),u[f+3+32]=u[f+2+0]=rt(D,I,E),u[f+3+0]=rt(U,D,I)}function pc(u,f){var y=u[f+1-32],S=u[f+2-32],C=u[f+3-32],_=u[f+4-32],E=u[f+5-32],I=u[f+6-32],D=u[f+7-32];u[f+0+0]=rt(u[f+0-32],y,S),u[f+1+0]=u[f+0+32]=rt(y,S,C),u[f+2+0]=u[f+1+32]=u[f+0+64]=rt(S,C,_),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=rt(C,_,E),u[f+3+32]=u[f+2+64]=u[f+1+96]=rt(_,E,I),u[f+3+64]=u[f+2+96]=rt(E,I,D),u[f+3+96]=rt(I,D,D)}function Qo(u,f){var y=u[f-1+0],S=u[f-1+32],C=u[f-1+64],_=u[f-1-32],E=u[f+0-32],I=u[f+1-32],D=u[f+2-32],U=u[f+3-32];u[f+0+0]=u[f+1+64]=_+E+1>>1,u[f+1+0]=u[f+2+64]=E+I+1>>1,u[f+2+0]=u[f+3+64]=I+D+1>>1,u[f+3+0]=D+U+1>>1,u[f+0+96]=rt(C,S,y),u[f+0+64]=rt(S,y,_),u[f+0+32]=u[f+1+96]=rt(y,_,E),u[f+1+32]=u[f+2+96]=rt(_,E,I),u[f+2+32]=u[f+3+96]=rt(E,I,D),u[f+3+32]=rt(I,D,U)}function pl(u,f){var y=u[f+0-32],S=u[f+1-32],C=u[f+2-32],_=u[f+3-32],E=u[f+4-32],I=u[f+5-32],D=u[f+6-32],U=u[f+7-32];u[f+0+0]=y+S+1>>1,u[f+1+0]=u[f+0+64]=S+C+1>>1,u[f+2+0]=u[f+1+64]=C+_+1>>1,u[f+3+0]=u[f+2+64]=_+E+1>>1,u[f+0+32]=rt(y,S,C),u[f+1+32]=u[f+0+96]=rt(S,C,_),u[f+2+32]=u[f+1+96]=rt(C,_,E),u[f+3+32]=u[f+2+96]=rt(_,E,I),u[f+3+64]=rt(E,I,D),u[f+3+96]=rt(I,D,U)}function yh(u,f){var y=u[f-1+0],S=u[f-1+32],C=u[f-1+64],_=u[f-1+96];u[f+0+0]=y+S+1>>1,u[f+2+0]=u[f+0+32]=S+C+1>>1,u[f+2+32]=u[f+0+64]=C+_+1>>1,u[f+1+0]=rt(y,S,C),u[f+3+0]=u[f+1+32]=rt(S,C,_),u[f+3+32]=u[f+1+64]=rt(C,_,_),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=_}function xh(u,f){var y=u[f-1+0],S=u[f-1+32],C=u[f-1+64],_=u[f-1+96],E=u[f-1-32],I=u[f+0-32],D=u[f+1-32],U=u[f+2-32];u[f+0+0]=u[f+2+32]=y+E+1>>1,u[f+0+32]=u[f+2+64]=S+y+1>>1,u[f+0+64]=u[f+2+96]=C+S+1>>1,u[f+0+96]=_+C+1>>1,u[f+3+0]=rt(I,D,U),u[f+2+0]=rt(E,I,D),u[f+1+0]=u[f+3+32]=rt(y,E,I),u[f+1+32]=u[f+3+64]=rt(S,y,E),u[f+1+64]=u[f+3+96]=rt(C,S,y),u[f+1+96]=rt(_,C,S)}function wh(u,f){var y;for(y=0;8>y;++y)r(u,f+32*y,u,f-32,8)}function ml(u,f){var y;for(y=0;8>y;++y)i(u,f,u[f-1],8),f+=32}function oo(u,f,y){var S;for(S=0;8>S;++S)i(f,y+32*S,u,8)}function hs(u,f){var y,S=8;for(y=0;8>y;++y)S+=u[f+y-32]+u[f-1+32*y];oo(S>>4,u,f)}function bh(u,f){var y,S=4;for(y=0;8>y;++y)S+=u[f+y-32];oo(S>>3,u,f)}function ao(u,f){var y,S=4;for(y=0;8>y;++y)S+=u[f-1+32*y];oo(S>>3,u,f)}function gl(u,f){oo(128,u,f)}function Zo(u,f,y){var S=u[f-y],C=u[f+0],_=3*(C-S)+Ch[1020+u[f-2*y]-u[f+y]],E=Cc[112+(_+4>>3)];u[f-y]=Pr[255+S+Cc[112+(_+3>>3)]],u[f+0]=Pr[255+C-E]}function mc(u,f,y,S){var C=u[f+0],_=u[f+y];return Wr[255+u[f-2*y]-u[f-y]]>S||Wr[255+_-C]>S}function gc(u,f,y,S){return 4*Wr[255+u[f-y]-u[f+0]]+Wr[255+u[f-2*y]-u[f+y]]<=S}function vc(u,f,y,S,C){var _=u[f-3*y],E=u[f-2*y],I=u[f-y],D=u[f+0],U=u[f+y],ee=u[f+2*y],de=u[f+3*y];return 4*Wr[255+I-D]+Wr[255+E-U]>S?0:Wr[255+u[f-4*y]-_]<=C&&Wr[255+_-E]<=C&&Wr[255+E-I]<=C&&Wr[255+de-ee]<=C&&Wr[255+ee-U]<=C&&Wr[255+U-D]<=C}function yc(u,f,y,S){var C=2*S+1;for(S=0;16>S;++S)gc(u,f+S,y,C)&&Zo(u,f+S,y)}function ji(u,f,y,S){var C=2*S+1;for(S=0;16>S;++S)gc(u,f+S*y,1,C)&&Zo(u,f+S*y,1)}function Vi(u,f,y,S){var C;for(C=3;0<C;--C)yc(u,f+=4*y,y,S)}function Sh(u,f,y,S){var C;for(C=3;0<C;--C)ji(u,f+=4,y,S)}function ps(u,f,y,S,C,_,E,I){for(_=2*_+1;0<C--;){if(vc(u,f,y,_,E))if(mc(u,f,y,I))Zo(u,f,y);else{var D=u,U=f,ee=y,de=D[U-2*ee],fe=D[U-ee],le=D[U+0],Ne=D[U+ee],ve=D[U+2*ee],ne=27*(we=Ch[1020+3*(le-fe)+Ch[1020+de-Ne]])+63>>7,oe=18*we+63>>7,we=9*we+63>>7;D[U-3*ee]=Pr[255+D[U-3*ee]+we],D[U-2*ee]=Pr[255+de+oe],D[U-ee]=Pr[255+fe+ne],D[U+0]=Pr[255+le-ne],D[U+ee]=Pr[255+Ne-oe],D[U+2*ee]=Pr[255+ve-we]}f+=S}}function ii(u,f,y,S,C,_,E,I){for(_=2*_+1;0<C--;){if(vc(u,f,y,_,E))if(mc(u,f,y,I))Zo(u,f,y);else{var D=u,U=f,ee=y,de=D[U-ee],fe=D[U+0],le=D[U+ee],Ne=Cc[112+((ve=3*(fe-de))+4>>3)],ve=Cc[112+(ve+3>>3)],ne=Ne+1>>1;D[U-2*ee]=Pr[255+D[U-2*ee]+ne],D[U-ee]=Pr[255+de+ve],D[U+0]=Pr[255+fe-Ne],D[U+ee]=Pr[255+le-ne]}f+=S}}function vl(u,f,y,S,C,_){ps(u,f,y,1,16,S,C,_)}function lo(u,f,y,S,C,_){ps(u,f,1,y,16,S,C,_)}function Nh(u,f,y,S,C,_){var E;for(E=3;0<E;--E)ii(u,f+=4*y,y,1,16,S,C,_)}function ea(u,f,y,S,C,_){var E;for(E=3;0<E;--E)ii(u,f+=4,1,y,16,S,C,_)}function jh(u,f,y,S,C,_,E,I){ps(u,f,C,1,8,_,E,I),ps(y,S,C,1,8,_,E,I)}function yl(u,f,y,S,C,_,E,I){ps(u,f,1,C,8,_,E,I),ps(y,S,1,C,8,_,E,I)}function xl(u,f,y,S,C,_,E,I){ii(u,f+4*C,C,1,8,_,E,I),ii(y,S+4*C,C,1,8,_,E,I)}function xc(u,f,y,S,C,_,E,I){ii(u,f+4,1,C,8,_,E,I),ii(y,S+4,1,C,8,_,E,I)}function ta(){this.ba=new Lr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wc(){this.ua=0,this.Wa=new K,this.vb=new K,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new k}function Ah(){this.xb=this.a=0,this.l=new Yo,this.ca=new Lr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wc,this.ab=0,this.gc=o(4,bl),this.Oc=0}function na(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Yo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function uo(u,f,y,S,C,_,E){for(u=u==null?0:u[f+0],f=0;f<E;++f)C[_+f]=u+y[S+f]&255,u=C[_+f]}function Sl(u,f,y,S,C,_,E){var I;if(u==null)uo(null,null,y,S,C,_,E);else for(I=0;I<E;++I)C[_+I]=u[f+I]+y[S+I]&255}function ms(u,f,y,S,C,_,E){if(u==null)uo(null,null,y,S,C,_,E);else{var I,D=u[f+0],U=D,ee=D;for(I=0;I<E;++I)U=ee+(D=u[f+I])-U,ee=y[S+I]+(-256&U?0>U?0:255:U)&255,U=D,C[_+I]=ee}}function Nl(u,f,y,S){var C=f.width,_=f.o;if(t(u!=null&&f!=null),0>y||0>=S||y+S>_)return null;if(!u.Cc){if(u.ga==null){var E;if(u.ga=new na,(E=u.ga==null)||(E=f.width*f.o,t(u.Gb.length==0),u.Gb=s(E),u.Uc=0,u.Gb==null?E=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,E=1),E=!E),!E){E=u.ga;var I=u.Fa,D=u.P,U=u.qc,ee=u.mb,de=u.nb,fe=D+1,le=U-1,Ne=E.l;if(t(I!=null&&ee!=null&&f!=null),bs[0]=null,bs[1]=uo,bs[2]=Sl,bs[3]=ms,E.ca=ee,E.tb=de,E.c=f.width,E.i=f.height,t(0<E.c&&0<E.i),1>=U)f=0;else if(E.$a=I[D+0]>>0&3,E.Z=I[D+0]>>2&3,E.Lc=I[D+0]>>4&3,D=I[D+0]>>6&3,0>E.$a||1<E.$a||4<=E.Z||1<E.Lc||D)f=0;else if(Ne.put=ct,Ne.ac=qe,Ne.bc=_e,Ne.ma=E,Ne.width=f.width,Ne.height=f.height,Ne.Da=f.Da,Ne.v=f.v,Ne.va=f.va,Ne.j=f.j,Ne.o=f.o,E.$a)e:{t(E.$a==1),f=Qt();t:for(;;){if(f==null){f=0;break e}if(t(E!=null),E.mc=f,f.c=E.c,f.i=E.i,f.l=E.l,f.l.ma=E,f.l.width=E.c,f.l.height=E.i,f.a=0,H(f.m,I,fe,le),!zn(E.c,E.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&Cn(f.s)?(E.ic=1,I=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(I),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(E.ic=0,f=cr(f,E.c)),!f))break t;f=1;break e}E.mc=null,f=0}else f=le>=E.c*E.i;E=!f}if(E)return null;u.ga.Lc!=1?u.Ga=0:S=_-y}t(u.ga!=null),t(y+S<=_);e:{if(f=(I=u.ga).c,_=I.l.o,I.$a==0){if(fe=u.rc,le=u.Vc,Ne=u.Fa,D=u.P+1+y*f,U=u.mb,ee=u.nb+y*f,t(D<=u.P+u.qc),I.Z!=0)for(t(bs[I.Z]!=null),E=0;E<S;++E)bs[I.Z](fe,le,Ne,D,U,ee,f),fe=U,le=ee,ee+=f,D+=f;else for(E=0;E<S;++E)r(U,ee,Ne,D,f),fe=U,le=ee,ee+=f,D+=f;u.rc=fe,u.Vc=le}else{if(t(I.mc!=null),f=y+S,t((E=I.mc)!=null),t(f<=E.i),E.C>=f)f=1;else if(I.ic||ue(),I.ic){I=E.V,fe=E.Ba,le=E.c;var ve=E.i,ne=(Ne=1,D=E.$/le,U=E.$%le,ee=E.m,de=E.s,E.$),oe=le*ve,we=le*f,je=de.wc,Se=ne<we?It(de,U,D):null;t(ne<=oe),t(f<=ve),t(Cn(de));t:for(;;){for(;!ee.h&&ne<we;){if(U&je||(Se=It(de,U,D)),t(Se!=null),Z(ee),256>(ve=He(Se.G[0],Se.H[0],ee)))I[fe+ne]=ve,++ne,++U>=le&&(U=0,++D<=f&&!(D%16)&&At(E,D));else{if(!(280>ve)){Ne=0;break t}ve=at(ve-256,ee);var Be,Re=He(Se.G[4],Se.H[4],ee);if(Z(ee),!(ne>=(Re=dt(le,Re=at(Re,ee)))&&oe-ne>=ve)){Ne=0;break t}for(Be=0;Be<ve;++Be)I[fe+ne+Be]=I[fe+ne+Be-Re];for(ne+=ve,U+=ve;U>=le;)U-=le,++D<=f&&!(D%16)&&At(E,D);ne<we&&U&je&&(Se=It(de,U,D))}t(ee.h==V(ee))}At(E,D>f?f:D);break t}!Ne||ee.h&&ne<oe?(Ne=0,E.a=ee.h?5:3):E.$=ne,f=Ne}else f=Nn(E,E.V,E.Ba,E.c,E.i,f,qo);if(!f){S=0;break e}}y+S>=_&&(u.Cc=1),S=1}if(!S)return null;if(u.Cc&&((S=u.ga)!=null&&(S.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*C}function v(u,f,y,S,C,_){for(;0<C--;){var E,I=u,D=f+(y?1:0),U=u,ee=f+(y?0:3);for(E=0;E<S;++E){var de=U[ee+4*E];de!=255&&(de*=32897,I[D+4*E+0]=I[D+4*E+0]*de>>23,I[D+4*E+1]=I[D+4*E+1]*de>>23,I[D+4*E+2]=I[D+4*E+2]*de>>23)}f+=_}}function P(u,f,y,S,C){for(;0<S--;){var _;for(_=0;_<y;++_){var E=u[f+2*_+0],I=15&(U=u[f+2*_+1]),D=4369*I,U=(240&U|U>>4)*D>>16;u[f+2*_+0]=(240&E|E>>4)*D>>16&240|(15&E|E<<4)*D>>16>>4&15,u[f+2*_+1]=240&U|I}f+=C}}function Y(u,f,y,S,C,_,E,I){var D,U,ee=255;for(U=0;U<C;++U){for(D=0;D<S;++D){var de=u[f+D];_[E+4*D]=de,ee&=de}f+=y,E+=I}return ee!=255}function X(u,f,y,S,C){var _;for(_=0;_<C;++_)y[S+_]=u[f+_]>>8}function ue(){Hr=v,Ut=P,qt=Y,hn=X}function xe(u,f,y){M[u]=function(S,C,_,E,I,D,U,ee,de,fe,le,Ne,ve,ne,oe,we,je){var Se,Be=je-1>>1,Re=I[D+0]|U[ee+0]<<16,Ke=de[fe+0]|le[Ne+0]<<16;t(S!=null);var De=3*Re+Ke+131074>>2;for(f(S[C+0],255&De,De>>16,ve,ne),_!=null&&(De=3*Ke+Re+131074>>2,f(_[E+0],255&De,De>>16,oe,we)),Se=1;Se<=Be;++Se){var Ct=I[D+Se]|U[ee+Se]<<16,_t=de[fe+Se]|le[Ne+Se]<<16,St=Re+Ct+Ke+_t+524296,mt=St+2*(Ct+Ke)>>3;De=mt+Re>>1,Re=(St=St+2*(Re+_t)>>3)+Ct>>1,f(S[C+2*Se-1],255&De,De>>16,ve,ne+(2*Se-1)*y),f(S[C+2*Se-0],255&Re,Re>>16,ve,ne+(2*Se-0)*y),_!=null&&(De=St+Ke>>1,Re=mt+_t>>1,f(_[E+2*Se-1],255&De,De>>16,oe,we+(2*Se-1)*y),f(_[E+2*Se+0],255&Re,Re>>16,oe,we+(2*Se+0)*y)),Re=Ct,Ke=_t}1&je||(De=3*Re+Ke+131074>>2,f(S[C+je-1],255&De,De>>16,ve,ne+(je-1)*y),_!=null&&(De=3*Ke+Re+131074>>2,f(_[E+je-1],255&De,De>>16,oe,we+(je-1)*y)))}}function Le(){Gr[Pc]=o4,Gr[kc]=U0,Gr[D0]=a4,Gr[_c]=q0,Gr[Ec]=$0,Gr[Ph]=H0,Gr[O0]=l4,Gr[kh]=U0,Gr[_h]=q0,Gr[Fc]=$0,Gr[Eh]=H0}function Oe(u){return u&~u4?0>u?0:255:u>>W0}function Ye(u,f){return Oe((19077*u>>8)+(26149*f>>8)-14234)}function lt(u,f,y){return Oe((19077*u>>8)-(6419*f>>8)-(13320*y>>8)+8708)}function st(u,f){return Oe((19077*u>>8)+(33050*f>>8)-17685)}function yt(u,f,y,S,C){S[C+0]=Ye(u,y),S[C+1]=lt(u,f,y),S[C+2]=st(u,f)}function Zt(u,f,y,S,C){S[C+0]=st(u,f),S[C+1]=lt(u,f,y),S[C+2]=Ye(u,y)}function on(u,f,y,S,C){var _=lt(u,f,y);f=_<<3&224|st(u,f)>>3,S[C+0]=248&Ye(u,y)|_>>5,S[C+1]=f}function yn(u,f,y,S,C){var _=240&st(u,f)|15;S[C+0]=240&Ye(u,y)|lt(u,f,y)>>4,S[C+1]=_}function Un(u,f,y,S,C){S[C+0]=255,yt(u,f,y,S,C+1)}function Pn(u,f,y,S,C){Zt(u,f,y,S,C),S[C+3]=255}function si(u,f,y,S,C){yt(u,f,y,S,C),S[C+3]=255}function Cr(u,f){return 0>u?0:u>f?f:u}function Ai(u,f,y){M[u]=function(S,C,_,E,I,D,U,ee,de){for(var fe=ee+(-2&de)*y;ee!=fe;)f(S[C+0],_[E+0],I[D+0],U,ee),f(S[C+1],_[E+0],I[D+0],U,ee+y),C+=2,++E,++D,ee+=2*y;1&de&&f(S[C+0],_[E+0],I[D+0],U,ee)}}function bc(u,f,y){return y==0?u==0?f==0?6:5:f==0?4:0:y}function jl(u,f,y,S,C){switch(u>>>30){case 3:$i(f,y,S,C,0);break;case 2:fn(f,y,S,C);break;case 1:er(f,y,S,C)}}function Al(u,f){var y,S,C=f.M,_=f.Nb,E=u.oc,I=u.pc+40,D=u.oc,U=u.pc+584,ee=u.oc,de=u.pc+600;for(y=0;16>y;++y)E[I+32*y-1]=129;for(y=0;8>y;++y)D[U+32*y-1]=129,ee[de+32*y-1]=129;for(0<C?E[I-1-32]=D[U-1-32]=ee[de-1-32]=129:(i(E,I-32-1,127,21),i(D,U-32-1,127,9),i(ee,de-32-1,127,9)),S=0;S<u.za;++S){var fe=f.ya[f.aa+S];if(0<S){for(y=-1;16>y;++y)r(E,I+32*y-4,E,I+32*y+12,4);for(y=-1;8>y;++y)r(D,U+32*y-4,D,U+32*y+4,4),r(ee,de+32*y-4,ee,de+32*y+4,4)}var le=u.Gd,Ne=u.Hd+S,ve=fe.ad,ne=fe.Hc;if(0<C&&(r(E,I-32,le[Ne].y,0,16),r(D,U-32,le[Ne].f,0,8),r(ee,de-32,le[Ne].ea,0,8)),fe.Za){var oe=E,we=I-32+16;for(0<C&&(S>=u.za-1?i(oe,we,le[Ne].y[15],4):r(oe,we,le[Ne+1].y,0,4)),y=0;4>y;y++)oe[we+128+y]=oe[we+256+y]=oe[we+384+y]=oe[we+0+y];for(y=0;16>y;++y,ne<<=2)oe=E,we=I+Y0[y],oi[fe.Ob[y]](oe,we),jl(ne,ve,16*+y,oe,we)}else if(oe=bc(S,C,fe.Ob[0]),ws[oe](E,I),ne!=0)for(y=0;16>y;++y,ne<<=2)jl(ne,ve,16*+y,E,I+Y0[y]);for(y=fe.Gc,oe=bc(S,C,fe.Dd),Wi[oe](D,U),Wi[oe](ee,de),ne=ve,oe=D,we=U,255&(fe=y>>0)&&(170&fe?_l(ne,256,oe,we):qr(ne,256,oe,we)),fe=ee,ne=de,255&(y>>=8)&&(170&y?_l(ve,320,fe,ne):qr(ve,320,fe,ne)),C<u.Ub-1&&(r(le[Ne].y,0,E,I+480,16),r(le[Ne].f,0,D,U+224,8),r(le[Ne].ea,0,ee,de+224,8)),y=8*_*u.B,le=u.sa,Ne=u.ta+16*S+16*_*u.R,ve=u.qa,fe=u.ra+8*S+y,ne=u.Ha,oe=u.Ia+8*S+y,y=0;16>y;++y)r(le,Ne+y*u.R,E,I+32*y,16);for(y=0;8>y;++y)r(ve,fe+y*u.B,D,U+32*y,8),r(ne,oe+y*u.B,ee,de+32*y,8)}}function ra(u,f,y,S,C,_,E,I,D){var U=[0],ee=[0],de=0,fe=D!=null?D.kd:0,le=D??new wl;if(u==null||12>y)return 7;le.data=u,le.w=f,le.ha=y,f=[f],y=[y],le.gb=[le.gb];e:{var Ne=f,ve=y,ne=le.gb;if(t(u!=null),t(ve!=null),t(ne!=null),ne[0]=0,12<=ve[0]&&!n(u,Ne[0],"RIFF")){if(n(u,Ne[0]+8,"WEBP")){ne=3;break e}var oe=Ee(u,Ne[0]+4);if(12>oe||4294967286<oe){ne=3;break e}if(fe&&oe>ve[0]-8){ne=7;break e}ne[0]=oe,Ne[0]+=12,ve[0]-=12}ne=0}if(ne!=0)return ne;for(oe=0<le.gb[0],y=y[0];;){e:{var we=u;ve=f,ne=y;var je=U,Se=ee,Be=Ne=[0];if((De=de=[de])[0]=0,8>ne[0])ne=7;else{if(!n(we,ve[0],"VP8X")){if(Ee(we,ve[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var Re=Ee(we,ve[0]+8),Ke=1+Te(we,ve[0]+12);if(2147483648<=Ke*(we=1+Te(we,ve[0]+15))){ne=3;break e}Be!=null&&(Be[0]=Re),je!=null&&(je[0]=Ke),Se!=null&&(Se[0]=we),ve[0]+=18,ne[0]-=18,De[0]=1}ne=0}}if(de=de[0],Ne=Ne[0],ne!=0)return ne;if(ve=!!(2&Ne),!oe&&de)return 3;if(_!=null&&(_[0]=!!(16&Ne)),E!=null&&(E[0]=ve),I!=null&&(I[0]=0),E=U[0],Ne=ee[0],de&&ve&&D==null){ne=0;break}if(4>y){ne=7;break}if(oe&&de||!oe&&!de&&!n(u,f[0],"ALPH")){y=[y],le.na=[le.na],le.P=[le.P],le.Sa=[le.Sa];e:{Re=u,ne=f,oe=y;var De=le.gb;je=le.na,Se=le.P,Be=le.Sa,Ke=22,t(Re!=null),t(oe!=null),we=ne[0];var Ct=oe[0];for(t(je!=null),t(Be!=null),je[0]=null,Se[0]=null,Be[0]=0;;){if(ne[0]=we,oe[0]=Ct,8>Ct){ne=7;break e}var _t=Ee(Re,we+4);if(4294967286<_t){ne=3;break e}var St=8+_t+1&-2;if(Ke+=St,0<De&&Ke>De){ne=3;break e}if(!n(Re,we,"VP8 ")||!n(Re,we,"VP8L")){ne=0;break e}if(Ct[0]<St){ne=7;break e}n(Re,we,"ALPH")||(je[0]=Re,Se[0]=we+8,Be[0]=_t),we+=St,Ct-=St}}if(y=y[0],le.na=le.na[0],le.P=le.P[0],le.Sa=le.Sa[0],ne!=0)break}y=[y],le.Ja=[le.Ja],le.xa=[le.xa];e:if(De=u,ne=f,oe=y,je=le.gb[0],Se=le.Ja,Be=le.xa,Re=ne[0],we=!n(De,Re,"VP8 "),Ke=!n(De,Re,"VP8L"),t(De!=null),t(oe!=null),t(Se!=null),t(Be!=null),8>oe[0])ne=7;else{if(we||Ke){if(De=Ee(De,Re+4),12<=je&&De>je-12){ne=3;break e}if(fe&&De>oe[0]-8){ne=7;break e}Se[0]=De,ne[0]+=8,oe[0]-=8,Be[0]=Ke}else Be[0]=5<=oe[0]&&De[Re+0]==47&&!(De[Re+4]>>5),Se[0]=oe[0];ne=0}if(y=y[0],le.Ja=le.Ja[0],le.xa=le.xa[0],f=f[0],ne!=0)break;if(4294967286<le.Ja)return 3;if(I==null||ve||(I[0]=le.xa?2:1),E=[E],Ne=[Ne],le.xa){if(5>y){ne=7;break}I=E,fe=Ne,ve=_,u==null||5>y?u=0:5<=y&&u[f+0]==47&&!(u[f+4]>>5)?(oe=[0],De=[0],je=[0],H(Se=new A,u,f,y),Fe(Se,oe,De,je)?(I!=null&&(I[0]=oe[0]),fe!=null&&(fe[0]=De[0]),ve!=null&&(ve[0]=je[0]),u=1):u=0):u=0}else{if(10>y){ne=7;break}I=Ne,u==null||10>y||!sc(u,f+3,y-3)?u=0:(fe=u[f+0]|u[f+1]<<8|u[f+2]<<16,ve=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=le.Ja||!ve||!u?u=0:(E&&(E[0]=ve),I&&(I[0]=u),u=1))}if(!u||(E=E[0],Ne=Ne[0],de&&(U[0]!=E||ee[0]!=Ne)))return 3;D!=null&&(D[0]=le,D.offset=f-D.w,t(4294967286>f-D.w),t(D.offset==D.ha-y));break}return ne==0||ne==7&&de&&D==null?(_!=null&&(_[0]|=le.na!=null&&0<le.na.length),S!=null&&(S[0]=E),C!=null&&(C[0]=Ne),0):ne}function Ll(u,f,y){var S=f.width,C=f.height,_=0,E=0,I=S,D=C;if(f.Da=u!=null&&0<u.Da,f.Da&&(I=u.cd,D=u.bd,_=u.v,E=u.j,11>y||(_&=-2,E&=-2),0>_||0>E||0>=I||0>=D||_+I>S||E+D>C))return 0;if(f.v=_,f.j=E,f.va=_+I,f.o=E+D,f.U=I,f.T=D,f.da=u!=null&&0<u.da,f.da){if(!Je(I,D,y=[u.ib],_=[u.hb]))return 0;f.ib=y[0],f.hb=_[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*S/4&&f.hb<3*C/4,f.Kb=0),1}function Cl(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function ia(u,f,y,S){if(S==null||0>=u||0>=f)return 2;if(y!=null){if(y.Da){var C=y.cd,_=y.bd,E=-2&y.v,I=-2&y.j;if(0>E||0>I||0>=C||0>=_||E+C>u||I+_>f)return 2;u=C,f=_}if(y.da){if(!Je(u,f,C=[y.ib],_=[y.hb]))return 2;u=C[0],f=_[0]}}S.width=u,S.height=f;e:{var D=S.width,U=S.height;if(u=S.S,0>=D||0>=U||!(u>=Pc&&13>u))u=2;else{if(0>=S.Rd&&S.sd==null){E=_=C=f=0;var ee=(I=D*K0[u])*U;if(11>u||(_=(U+1)/2*(f=(D+1)/2),u==12&&(E=(C=D)*U)),(U=s(ee+2*_+E))==null){u=1;break e}S.sd=U,11>u?((D=S.f.RGBA).eb=U,D.fb=0,D.A=I,D.size=ee):((D=S.f.kb).y=U,D.O=0,D.fa=I,D.Fd=ee,D.f=U,D.N=0+ee,D.Ab=f,D.Cd=_,D.ea=U,D.W=0+ee+_,D.Db=f,D.Ed=_,u==12&&(D.F=U,D.J=0+ee+2*_),D.Tc=E,D.lb=C)}if(f=1,C=S.S,_=S.width,E=S.height,C>=Pc&&13>C)if(11>C)u=S.f.RGBA,f&=(I=Math.abs(u.A))*(E-1)+_<=u.size,f&=I>=_*K0[C],f&=u.eb!=null;else{u=S.f.kb,I=(_+1)/2,ee=(E+1)/2,D=Math.abs(u.fa),U=Math.abs(u.Ab);var de=Math.abs(u.Db),fe=Math.abs(u.lb),le=fe*(E-1)+_;f&=D*(E-1)+_<=u.Fd,f&=U*(ee-1)+I<=u.Cd,f=(f&=de*(ee-1)+I<=u.Ed)&D>=_&U>=I&de>=I,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,C==12&&(f&=fe>=_,f&=le<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||y!=null&&y.fd&&(u=Cl(S)),u}var In=64,sa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],oa=24,aa=32,Pl=8,fr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];be("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(u){return u},M.Predictor2=function(u,f,y){return f[y+0]},M.Predictor3=function(u,f,y){return f[y+1]},M.Predictor4=function(u,f,y){return f[y-1]},M.Predictor5=function(u,f,y){return Ie(Ie(u,f[y+1]),f[y+0])},M.Predictor6=function(u,f,y){return Ie(u,f[y-1])},M.Predictor7=function(u,f,y){return Ie(u,f[y+0])},M.Predictor8=function(u,f,y){return Ie(f[y-1],f[y+0])},M.Predictor9=function(u,f,y){return Ie(f[y+0],f[y+1])},M.Predictor10=function(u,f,y){return Ie(Ie(u,f[y-1]),Ie(f[y+0],f[y+1]))},M.Predictor11=function(u,f,y){var S=f[y+0];return 0>=it(S>>24&255,u>>24&255,(f=f[y-1])>>24&255)+it(S>>16&255,u>>16&255,f>>16&255)+it(S>>8&255,u>>8&255,f>>8&255)+it(255&S,255&u,255&f)?S:u},M.Predictor12=function(u,f,y){var S=f[y+0];return(We((u>>24&255)+(S>>24&255)-((f=f[y-1])>>24&255))<<24|We((u>>16&255)+(S>>16&255)-(f>>16&255))<<16|We((u>>8&255)+(S>>8&255)-(f>>8&255))<<8|We((255&u)+(255&S)-(255&f)))>>>0},M.Predictor13=function(u,f,y){var S=f[y-1];return(nt((u=Ie(u,f[y+0]))>>24&255,S>>24&255)<<24|nt(u>>16&255,S>>16&255)<<16|nt(u>>8&255,S>>8&255)<<8|nt(u>>0&255,S>>0&255))>>>0};var Lh=M.PredictorAdd0;M.PredictorAdd1=ft,be("Predictor2","PredictorAdd2"),be("Predictor3","PredictorAdd3"),be("Predictor4","PredictorAdd4"),be("Predictor5","PredictorAdd5"),be("Predictor6","PredictorAdd6"),be("Predictor7","PredictorAdd7"),be("Predictor8","PredictorAdd8"),be("Predictor9","PredictorAdd9"),be("Predictor10","PredictorAdd10"),be("Predictor11","PredictorAdd11"),be("Predictor12","PredictorAdd12"),be("Predictor13","PredictorAdd13");var kl=M.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Sc,Ur=M.ColorIndexInverseTransform,la=M.MapARGB,Nc=M.VP8LColorIndexInverseTransformAlpha,jc=M.MapAlpha,gs=M.VP8LPredictorsAdd=[];gs.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var co,hr,Zn,vs,Ui,qi,ua,$i,fn,_l,er,qr,ca,Ac,El,fo,ho,ys,po,da,mo,xs,Fl,$r,Hr,Ut,qt,hn,jn=s(511),Hi=s(2041),Tl=s(225),fa=s(767),Lc=0,Ch=Hi,Cc=Tl,Pr=fa,Wr=jn,Pc=0,kc=1,D0=2,_c=3,Ec=4,Ph=5,O0=6,kh=7,_h=8,Fc=9,Eh=10,W3=[2,3,7],G3=[3,3,11],B0=[280,256,256,256,40],Y3=[0,1,1,1,0],K3=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],J3=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],X3=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Q3=8,Fh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Th=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Il=null,Z3=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],e4=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],z0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],t4=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],n4=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],r4=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],i4=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ws=[],oi=[],Wi=[],s4=1,V0=2,bs=[],Gr=[];xe("UpsampleRgbLinePair",yt,3),xe("UpsampleBgrLinePair",Zt,3),xe("UpsampleRgbaLinePair",si,4),xe("UpsampleBgraLinePair",Pn,4),xe("UpsampleArgbLinePair",Un,4),xe("UpsampleRgba4444LinePair",yn,2),xe("UpsampleRgb565LinePair",on,2);var o4=M.UpsampleRgbLinePair,a4=M.UpsampleBgrLinePair,U0=M.UpsampleRgbaLinePair,q0=M.UpsampleBgraLinePair,$0=M.UpsampleArgbLinePair,H0=M.UpsampleRgba4444LinePair,l4=M.UpsampleRgb565LinePair,Tc=16,Ic=1<<Tc-1,Rl=-227,Ih=482,W0=6,u4=(256<<W0)-1,G0=0,c4=s(256),d4=s(256),f4=s(256),h4=s(256),p4=s(Ih-Rl),m4=s(Ih-Rl);Ai("YuvToRgbRow",yt,3),Ai("YuvToBgrRow",Zt,3),Ai("YuvToRgbaRow",si,4),Ai("YuvToBgraRow",Pn,4),Ai("YuvToArgbRow",Un,4),Ai("YuvToRgba4444Row",yn,2),Ai("YuvToRgb565Row",on,2);var Y0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Rc=[0,2,8],g4=[8,7,6,4,4,2,2,2,1,1,1,1],v4=1;this.WebPDecodeRGBA=function(u,f,y,S,C){var _=kc,E=new ta,I=new Lr;E.ba=I,I.S=_,I.width=[I.width],I.height=[I.height];var D=I.width,U=I.height,ee=new Vr;if(ee==null||u==null)var de=2;else t(ee!=null),de=ra(u,f,y,ee.width,ee.height,ee.Pd,ee.Qd,ee.format,null);if(de!=0?D=0:(D!=null&&(D[0]=ee.width[0]),U!=null&&(U[0]=ee.height[0]),D=1),D){I.width=I.width[0],I.height=I.height[0],S!=null&&(S[0]=I.width),C!=null&&(C[0]=I.height);e:{if(S=new Yo,(C=new wl).data=u,C.w=f,C.ha=y,C.kd=1,f=[0],t(C!=null),((u=ra(C.data,C.w,C.ha,null,null,null,f,null,C))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(t(E!=null),S.data=C.data,S.w=C.w+C.offset,S.ha=C.ha-C.offset,S.put=ct,S.ac=qe,S.bc=_e,S.ma=E,C.xa){if((u=Qt())==null){E=1;break e}if(function(fe,le){var Ne=[0],ve=[0],ne=[0];t:for(;;){if(fe==null)return 0;if(le==null)return fe.a=2,0;if(fe.l=le,fe.a=0,H(fe.m,le.data,le.w,le.ha),!Fe(fe.m,Ne,ve,ne)){fe.a=3;break t}if(fe.xb=V0,le.width=Ne[0],le.height=ve[0],!zn(Ne[0],ve[0],1,fe,null))break t;return 1}return t(fe.a!=0),0}(u,S)){if(S=(f=ia(S.width,S.height,E.Oa,E.ba))==0){t:{S=u;n:for(;;){if(S==null){S=0;break t}if(t(S.s.yc!=null),t(S.s.Ya!=null),t(0<S.s.Wb),t((y=S.l)!=null),t((C=y.ma)!=null),S.xb!=0){if(S.ca=C.ba,S.tb=C.tb,t(S.ca!=null),!Ll(C.Oa,y,_c)){S.a=2;break n}if(!cr(S,y.width)||y.da)break n;if((y.da||wt(S.ca.S))&&ue(),11>S.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),S.ca.f.kb.F!=null&&ue()),S.Pb&&0<S.s.ua&&S.s.vb.X==null&&!Ge(S.s.vb,S.s.Wa.Xa)){S.a=1;break n}S.xb=0}if(!Nn(S,S.V,S.Ba,S.c,S.i,y.o,lr))break n;C.Dc=S.Ma,S=1;break t}t(S.a!=0),S=0}S=!S}S&&(f=u.a)}else f=u.a}else{if((u=new ah)==null){E=1;break e}if(u.Fa=C.na,u.P=C.P,u.qc=C.Sa,oc(u,S)){if((f=ia(S.width,S.height,E.Oa,E.ba))==0){if(u.Aa=0,y=E.Oa,t((C=u)!=null),y!=null){if(0<(D=0>(D=y.Md)?0:100<D?255:255*D/100)){for(U=ee=0;4>U;++U)12>(de=C.pb[U]).lc&&(de.ia=D*g4[0>de.lc?0:de.lc]>>3),ee|=de.ia;ee&&(alert("todo:VP8InitRandom"),C.ia=1)}C.Ga=y.Id,100<C.Ga?C.Ga=100:0>C.Ga&&(C.Ga=0)}lh(u,S)||(f=u.a)}}else f=u.a}f==0&&E.Oa!=null&&E.Oa.fd&&(f=Cl(E.ba))}E=f}_=E!=0?null:11>_?I.f.RGBA.eb:I.f.kb.y}else _=null;return _};var K0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(M,$){for(var re="",F=0;F<4;F++)re+=String.fromCharCode(M[$++]);return re}function p(M,$){return(M[$+0]<<0|M[$+1]<<8|M[$+2]<<16)>>>0}function h(M,$){return(M[$+0]<<0|M[$+1]<<8|M[$+2]<<16|M[$+3]<<24)>>>0}new l;var g=[0],m=[0],N=[],j=new l,L=e,w=function(M,$){var re={},F=0,k=!1,W=0,z=0;if(re.frames=[],!function(B,V,J,Z){for(var ce=0;ce<Z;ce++)if(B[V+ce]!=J.charCodeAt(ce))return!0;return!1}(M,$,"RIFF",4)){for(h(M,$+=4),$+=8;$<M.length;){var se=d(M,$),Q=h(M,$+=4);$+=4;var ae=Q+(1&Q);switch(se){case"VP8 ":case"VP8L":re.frames[F]===void 0&&(re.frames[F]={}),(ie=re.frames[F]).src_off=k?z:$-8,ie.src_size=W+Q+8,F++,k&&(k=!1,W=0,z=0);break;case"VP8X":(ie=re.header={}).feature_flags=M[$];var H=$+4;ie.canvas_width=1+p(M,H),H+=3,ie.canvas_height=1+p(M,H),H+=3;break;case"ALPH":k=!0,W=ae+8,z=$-8;break;case"ANIM":(ie=re.header).bgcolor=h(M,$),H=$+4,ie.loop_count=(me=M)[(A=H)+0]<<0|me[A+1]<<8,H+=2;break;case"ANMF":var te,ie;(ie=re.frames[F]={}).offset_x=2*p(M,$),$+=3,ie.offset_y=2*p(M,$),$+=3,ie.width=1+p(M,$),$+=3,ie.height=1+p(M,$),$+=3,ie.duration=p(M,$),$+=3,te=M[$++],ie.dispose=1&te,ie.blend=te>>1&1}se!="ANMF"&&($+=ae)}var me,A;return re}}(L,0);w.response=L,w.rgbaoutput=!0,w.dataurl=!1;var x=w.header?w.header:null,b=w.frames?w.frames:null;if(x){x.loop_counter=x.loop_count,g=[x.canvas_height],m=[x.canvas_width];for(var T=0;T<b.length&&b[T].blend!=0;T++);}var q=b[0],G=j.WebPDecodeRGBA(L,q.src_off,q.src_size,m,g);q.rgba=G,q.imgwidth=m[0],q.imgheight=g[0];for(var R=0;R<m[0]*g[0]*4;R++)N[R]=G[R];return this.width=m,this.height=g,this.data=N,this}(function(e){var t=function(){return typeof t1=="function"},n=function(g,m,N,j){var L=4,w=o;switch(j){case e.image_compression.FAST:L=1,w=s;break;case e.image_compression.MEDIUM:L=6,w=a;break;case e.image_compression.SLOW:L=9,w=l}g=r(g,m,N,w);var x=t1(g,{level:L});return e.__addimage__.arrayBufferToBinaryString(x)},r=function(g,m,N,j){for(var L,w,x,b=g.length/m,T=new Uint8Array(g.length+b),q=p(),G=0;G<b;G+=1){if(x=G*m,L=g.subarray(x,x+m),j)T.set(j(L,N,w),x+G);else{for(var R,M=q.length,$=[];R<M;R+=1)$[R]=q[R](L,N,w);var re=h($.concat());T.set($[re],x+G)}w=L}return T},i=function(g){var m=Array.apply([],g);return m.unshift(0),m},s=function(g,m){var N,j=[],L=g.length;j[0]=1;for(var w=0;w<L;w+=1)N=g[w-m]||0,j[w+1]=g[w]-N+256&255;return j},o=function(g,m,N){var j,L=[],w=g.length;L[0]=2;for(var x=0;x<w;x+=1)j=N&&N[x]||0,L[x+1]=g[x]-j+256&255;return L},a=function(g,m,N){var j,L,w=[],x=g.length;w[0]=3;for(var b=0;b<x;b+=1)j=g[b-m]||0,L=N&&N[b]||0,w[b+1]=g[b]+256-(j+L>>>1)&255;return w},l=function(g,m,N){var j,L,w,x,b=[],T=g.length;b[0]=4;for(var q=0;q<T;q+=1)j=g[q-m]||0,L=N&&N[q]||0,w=N&&N[q-m]||0,x=d(j,L,w),b[q+1]=g[q]-x+256&255;return b},d=function(g,m,N){if(g===m&&m===N)return g;var j=Math.abs(m-N),L=Math.abs(g-N),w=Math.abs(g+m-N-N);return j<=L&&j<=w?g:L<=w?m:N},p=function(){return[i,s,o,a,l]},h=function(g){var m=g.map(function(N){return N.reduce(function(j,L){return j+Math.abs(L)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(g,m,N,j){var L,w,x,b,T,q,G,R,M,$,re,F,k,W,z,se=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(x=new BC(g)).imgData,w=x.bits,L=x.colorSpace,T=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){M=(R=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,re=new Uint8Array(M*x.colors),$=new Uint8Array(M);var ae,H=x.pixelBitlength-x.bits;for(W=0,z=0;W<M;W++){for(k=R[W],ae=0;ae<H;)re[z++]=k>>>ae&255,ae+=x.bits;$[W]=k>>>ae&255}}if(x.bits===16){M=(R=new Uint32Array(x.decodePixels().buffer)).length,re=new Uint8Array(M*(32/x.pixelBitlength)*x.colors),$=new Uint8Array(M*(32/x.pixelBitlength)),F=x.colors>1,W=0,z=0;for(var te=0;W<M;)k=R[W++],re[z++]=k>>>0&255,F&&(re[z++]=k>>>16&255,k=R[W++],re[z++]=k>>>0&255),$[te++]=k>>>16&255;w=8}j!==e.image_compression.NONE&&t()?(g=n(re,x.width*x.colors,x.colors,j),G=n($,x.width,1,j)):(g=re,G=$,se=void 0)}if(x.colorType===3&&(L=this.color_spaces.INDEXED,q=x.palette,x.transparency.indexed)){var ie=x.transparency.indexed,me=0;for(W=0,M=ie.length;W<M;++W)me+=ie[W];if((me/=255)===M-1&&ie.indexOf(0)!==-1)b=[ie.indexOf(0)];else if(me!==M){for(R=x.decodePixels(),$=new Uint8Array(R.length),W=0,M=R.length;W<M;W++)$[W]=ie[R[W]];G=n($,x.width,1)}}var A=function(B){var V;switch(B){case e.image_compression.FAST:V=11;break;case e.image_compression.MEDIUM:V=13;break;case e.image_compression.SLOW:V=14;break;default:V=12}return V}(j);return se===this.decode.FLATE_DECODE&&(Q="/Predictor "+A+" "),Q+="/Colors "+T+" /BitsPerComponent "+w+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(G&&this.__addimage__.isArrayBuffer(G)||this.__addimage__.isArrayBufferView(G))&&(G=this.__addimage__.arrayBufferToBinaryString(G)),{alias:N,data:g,index:m,filter:se,decodeParameters:Q,transparency:b,palette:q,sMask:G,predictor:A,width:x.width,height:x.height,bitsPerComponent:w,colorSpace:L}}}})(Xe.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new zC(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var d={data:l,width:o,height:a},p=new Bp(100).encode(d,100);return e.processJPEG.call(this,p,n,r,i)},e.processGIF87A=e.processGIF89A}(Xe.API),ci.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ci.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){zt.log("bit decode error:"+n)}},ci.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},ci.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,d=this.palette[a];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[l],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ci.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},ci.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,d=s>>15?255:0,p=r*this.width*4+4*i;this.data[p]=l,this.data[p+1]=a,this.data[p+2]=o,this.data[p+3]=d}this.pos+=e}},ci.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,d=(o>>11)/t*255|0,p=i*this.width*4+4*s;this.data[p]=d,this.data[p+1]=l,this.data[p+2]=a,this.data[p+3]=255}this.pos+=e}},ci.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ci.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},ci.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new ci(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},d=new Bp(100).encode(l,100);return e.processJPEG.call(this,d,n,r,i)}}(Xe.API),K5.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new K5(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},d=new Bp(100).encode(l,100);return e.processJPEG.call(this,d,n,r,i)}}(Xe.API),Xe.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,d=0;d<i;d+=4){var p=r[d],h=r[d+1],g=r[d+2],m=r[d+3];s[a++]=p,s[a++]=h,s[a++]=g,o[l++]=m}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:N,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Xe.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},xa=Xe.API,vd=xa.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,p=d.fof?d.fof:1,h=t.doKerning!==!1,g=0,m=e.length,N=0,j=a[0]||l,L=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?L.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=h&&Ft(d[r])==="object"&&!isNaN(parseInt(d[r][N],10))?d[r][N]/p:0,L.push((a[r]||j)/l+g)),N=r;return L},H5=xa.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return xa.processArabic&&(e=xa.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:vd.apply(this,arguments).reduce(function(s,o){return s+o},0)},W5=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},G5=function(e,t,n){n||(n={});var r,i,s,o,a,l,d,p=[],h=[p],g=n.textIndent||0,m=0,N=0,j=e.split(" "),L=vd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?j[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),x=[];j.map(function(T){(T=T.split(/\s*\n/)).length>1?x=x.concat(T.map(function(q,G){return(G&&q.length?`
`:"")+q})):x.push(T[0])}),j=x,l=H5.apply(this,[w,n])}for(s=0,o=j.length;s<o;s++){var b=0;if(r=j[s],l&&r[0]==`
`&&(r=r.substr(1),b=1),g+m+(N=(i=vd.apply(this,[r,n])).reduce(function(T,q){return T+q},0))>t||b){if(N>t){for(a=W5.apply(this,[r,i,t-(g+m),t]),p.push(a.shift()),p=[a.pop()];a.length;)h.push([a.shift()]);N=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(T,q){return T+q},0)}else p=[r];h.push(p),g=N+l,m=L}else p.push(r),g+=m+N,m=L}return d=l?function(T,q){return(q?w:"")+T.join(" ")}:function(T){return T.join(" ")},h.map(d)},xa.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var h=this.internal.getFont(p.fontName,p.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,d=[];for(a=0,l=r.length;a<l;a++)d=d.concat(G5.apply(this,[r[a],o,s]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=e.__fontmetrics__.compress=function(h){var g,m,N,j,L=["{"];for(var w in h){if(g=h[w],isNaN(parseInt(w,10))?m="'"+w+"'":(w=parseInt(w,10),m=(m=s(w).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof g=="number")g<0?(N=s(g).slice(3),j="-"):(N=s(g).slice(2),j=""),N=j+N.slice(0,-1)+r[N.slice(-1)];else{if(Ft(g)!=="object")throw new Error("Don't know what to do with value type "+Ft(g)+".");N=o(g)}L.push(m+N)}return L.push("}"),L.join("")},a=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,N,j,L={},w=1,x=L,b=[],T="",q="",G=h.length-1,R=1;R<G;R+=1)(j=h[R])=="'"?g?(N=g.join(""),g=void 0):g=[]:g?g.push(j):j=="{"?(b.push([x,N]),x={},N=void 0):j=="}"?((m=b.pop())[0][m[1]]=x,N=void 0,x=m[0]):j=="-"?w=-1:N===void 0?n.hasOwnProperty(j)?(T+=n[j],N=parseInt(T,16)*w,w=1,T=""):T+=j:n.hasOwnProperty(j)?(q+=n[j],x[N]=parseInt(q,16)*w,w=1,N=void 0,q=""):q+=j;return L},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},p={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var g=h.font,m=p.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var N=d.Unicode[g.postScriptName];N&&(g.metadata.Unicode.encoding=N,g.encoding=N.codePages[0])}])}(Xe.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(bu(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Xe),function(e){function t(){return(et.canvg?Promise.resolve(et.canvg):Vd(()=>import("./index.es-90995f34.js"),["assets/index.es-90995f34.js","assets/supabaseClient-76c3910e.js","assets/preload-helper-8235fac6.js","assets/creations-822d4935.js"])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Xe.API.addSvgAsImage=function(n,r,i,s,o,a,l,d){if(isNaN(r)||isNaN(i))throw zt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw zt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=o;var h=p.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,p.width,p.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(N){return N.fromString(h,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(g)}).then(function(){m.addImage(p.toDataURL("image/jpeg",1),r,i,s,o,l,d)})}}(),Xe.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Xe.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],d=0,p=0,h=0;function g(N,j){var L,w=!1;for(L=0;L<N.length;L+=1)N[L]===j&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=a.length;for(h=0;h<m;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(Ft(e)==="object"){for(i in e)if(s=e[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")l.push(String(s[d]-1));else if(s[d].length>1){for(p=0;p<s[d].length;p+=1)typeof s[d][p]!="number"&&(r=!1);r===!0&&l.push([s[d][0]-1,s[d][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,j=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?j.push("/"+N+" /"+n[N].value):j.push("/"+N+" "+n[N].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Xe.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],h=0,g=s.length;h<g;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return p.join("");a=a.toString(16),p.push(d[4-a.length],a)}return p.join("")},r=function(s){var o,a,l,d,p,h,g;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,g=(a=Object.keys(s).sort(function(m,N){return m-N})).length;h<g;h++)o=a[h],l.length>=100&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+d+">"));return l.length&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,d=o.newObject,p=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",N=0;N<g.length;N++)m+=String.fromCharCode(g[N]);var j=d();p({data:m,addLength1:!0,objectId:j}),l("endobj");var L=d();p({data:r(a.metadata.toUnicode),addLength1:!0,objectId:L}),l("endobj");var w=d();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ba(a.fontName)),l("/FontFile2 "+j+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var x=d();l("<<"),l("/Type /Font"),l("/BaseFont /"+ba(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+e.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=d(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+L+" 0 R"),l("/BaseFont /"+ba(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,d=o.newObject,p=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,g="",m=0;m<h.length;m++)g+=String.fromCharCode(h[m]);var N=d();p({data:g,addLength1:!0,objectId:N}),l("endobj");var j=d();p({data:r(a.metadata.toUnicode),addLength1:!0,objectId:j}),l("endobj");var L=d();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+N+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+ba(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=d();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+ba(a.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,d=s.y,p=s.options||{},h=s.mutex||{},g=h.pdfEscape,m=h.activeFontKey,N=h.fonts,j=m,L="",w=0,x="",b=N[j].encoding;if(N[j].encoding!=="Identity-H")return{text:a,x:l,y:d,options:p,mutex:h};for(x=a,j=m,Array.isArray(a)&&(x=a[0]),w=0;w<x.length;w+=1)N[j].metadata.hasOwnProperty("cmap")&&(o=N[j].metadata.cmap.unicode.codeMap[x[w].charCodeAt(0)]),o||x[w].charCodeAt(0)<256&&N[j].metadata.hasOwnProperty("Unicode")?L+=x[w]:L+="";var T="";return parseInt(j.slice(1))<14||b==="WinAnsiEncoding"?T=g(L,j).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(T=n(L,N[j])),h.isHex=!0,{text:T,x:l,y:d,options:p,mutex:h}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?a.push([i(Object.assign({},l,{text:o[d][0]})).text,o[d][1],o[d][2]]):a.push(i(Object.assign({},l,{text:o[d]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Xe),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Xe.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,a,l,d,p,h=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,b=0;this.__bidiEngine__={};var T=function(F){var k=F.charCodeAt(),W=k>>8,z=j[W];return z!==void 0?h[256*z+(255&k)]:W===252||W===253?"AL":w.test(W)?"L":W===8?"R":"N"},q=function(F){for(var k,W=0;W<F.length;W++){if((k=T(F.charAt(W)))==="L")return!1;if(k==="R")return!0}return!1},G=function(F,k,W,z){var se,Q,ae,H,te=k[z];switch(te){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(te="AN");break;case"AL":x=!0,te="R";break;case"WS":te="N";break;case"CS":z<1||z+1>=k.length||(se=W[z-1])!=="EN"&&se!=="AN"||(Q=k[z+1])!=="EN"&&Q!=="AN"?te="N":x&&(Q="AN"),te=Q===se?Q:"N";break;case"ES":te=(se=z>0?W[z-1]:"B")==="EN"&&z+1<k.length&&k[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&W[z-1]==="EN"){te="EN";break}if(x){te="N";break}for(ae=z+1,H=k.length;ae<H&&k[ae]==="ET";)ae++;te=ae<H&&k[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(H=k.length,ae=z+1;ae<H&&k[ae]==="NSM";)ae++;if(ae<H){var ie=F[z],me=ie>=1425&&ie<=2303||ie===64286;if(se=k[ae],me&&(se==="R"||se==="AL")){te="R";break}}}te=z<1||(se=k[z-1])==="B"?"N":W[z-1];break;case"B":x=!1,i=!0,te=b;break;case"S":s=!0,te="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":te="N"}return te},R=function(F,k,W){var z=F.split("");return W&&M(z,W,{hiLevel:b}),z.reverse(),k&&k.reverse(),z.join("")},M=function(F,k,W){var z,se,Q,ae,H,te=-1,ie=F.length,me=0,A=[],B=b?m:g,V=[];for(x=!1,i=!1,s=!1,se=0;se<ie;se++)V[se]=T(F[se]);for(Q=0;Q<ie;Q++){if(H=me,A[Q]=G(F,V,A,Q),z=240&(me=B[H][N[A[Q]]]),me&=15,k[Q]=ae=B[me][5],z>0)if(z===16){for(se=te;se<Q;se++)k[se]=1;te=-1}else te=-1;if(B[me][6])te===-1&&(te=Q);else if(te>-1){for(se=te;se<Q;se++)k[se]=ae;te=-1}V[Q]==="B"&&(k[Q]=0),W.hiLevel|=ae}s&&function(J,Z,ce){for(var he=0;he<ce;he++)if(J[he]==="S"){Z[he]=b;for(var pe=he-1;pe>=0&&J[pe]==="WS";pe--)Z[pe]=b}}(V,k,ie)},$=function(F,k,W,z,se){if(!(se.hiLevel<F)){if(F===1&&b===1&&!i)return k.reverse(),void(W&&W.reverse());for(var Q,ae,H,te,ie=k.length,me=0;me<ie;){if(z[me]>=F){for(H=me+1;H<ie&&z[H]>=F;)H++;for(te=me,ae=H-1;te<ae;te++,ae--)Q=k[te],k[te]=k[ae],k[ae]=Q,W&&(Q=W[te],W[te]=W[ae],W[ae]=Q);me=H}me++}}},re=function(F,k,W){var z=F.split(""),se={hiLevel:b};return W||(W=[]),M(z,W,se),function(Q,ae,H){if(H.hiLevel!==0&&p)for(var te,ie=0;ie<Q.length;ie++)ae[ie]===1&&(te=L.indexOf(Q[ie]))>=0&&(Q[ie]=L[te+1])}(z,W,se),$(2,z,k,W,se),$(1,z,k,W,se),z.join("")};return this.__bidiEngine__.doBidiReorder=function(F,k,W){if(function(se,Q){if(Q)for(var ae=0;ae<se.length;ae++)Q[ae]=ae;a===void 0&&(a=q(se)),d===void 0&&(d=q(se))}(F,k),o||!l||d)if(o&&l&&a^d)b=a?1:0,F=R(F,k,W);else if(!o&&l&&d)b=a?1:0,F=re(F,k,W),F=R(F,k);else if(!o||a||l||d){if(o&&!l&&a^d)F=R(F,k),a?(b=0,F=re(F,k,W)):(b=1,F=re(F,k,W),F=R(F,k));else if(o&&a&&!l&&d)b=1,F=re(F,k,W),F=R(F,k);else if(!o&&!l&&a^d){var z=p;a?(b=1,F=re(F,k,W),b=0,p=!1,F=re(F,k,W),p=z):(b=0,F=re(F,k,W),F=R(F,k),b=1,p=!1,F=re(F,k,W),p=z,F=R(F,k))}}else b=0,F=re(F,k,W);else b=a?1:0,F=re(F,k,W);return F},this.__bidiEngine__.setOptions=function(F){F&&(o=F.isInputVisual,l=F.isOutputVisual,a=F.isInputRtl,d=F.isOutputRtl,p=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Xe),Xe.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new eo(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new tP(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new VC(this.contents),this.head=new qC(this),this.name=new YC(this),this.cmap=new j3(this),this.toUnicode={},this.hhea=new $C(this),this.maxp=new KC(this),this.hmtx=new JC(this),this.post=new WC(this),this.os2=new HC(this),this.loca=new eP(this),this.glyf=new XC(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,d;for(d=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Si,eo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),VC=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,a,l,d,p,h,g,m,N,j;for(j in m=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(m)/l),o=Math.floor(h/l),p=16*m-h,(i=new eo).writeInt(this.scalarType),i.writeShort(m),i.writeShort(h),i.writeShort(o),i.writeShort(p),s=16*m,d=i.pos+s,a=null,N=[],n)for(g=n[j],i.writeString(j),i.writeInt(e(g)),i.writeInt(d),i.writeInt(g.length),N=N.concat(g),j==="head"&&(a=d),d+=g.length;d%4;)N.push(0),d++;return i.write(N),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=A3.call(n);n.length%4;)n.push(0);for(s=new eo(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),UC={}.hasOwnProperty,Di=function(e,t){for(var n in t)UC.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Si=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var qC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Di(t,Si),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new eo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),J5=function(){function e(t,n){var r,i,s,o,a,l,d,p,h,g,m,N,j,L,w,x,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(m=t.readUInt16(),g=m/2,t.pos+=6,s=function(){var T,q;for(q=[],l=T=0;0<=g?T<g:T>g;l=0<=g?++T:--T)q.push(t.readUInt16());return q}(),t.pos+=2,j=function(){var T,q;for(q=[],l=T=0;0<=g?T<g:T>g;l=0<=g?++T:--T)q.push(t.readUInt16());return q}(),d=function(){var T,q;for(q=[],l=T=0;0<=g?T<g:T>g;l=0<=g?++T:--T)q.push(t.readUInt16());return q}(),p=function(){var T,q;for(q=[],l=T=0;0<=g?T<g:T>g;l=0<=g?++T:--T)q.push(t.readUInt16());return q}(),i=(this.length-t.pos+this.offset)/2,a=function(){var T,q;for(q=[],l=T=0;0<=i?T<i:T>i;l=0<=i?++T:--T)q.push(t.readUInt16());return q}(),l=w=0,b=s.length;w<b;l=++w)for(L=s[l],r=x=N=j[l];N<=L?x<=L:x>=L;r=N<=L?++x:--x)p[l]===0?o=r+d[l]:(o=a[p[l]/2+(r-N)-(g-l)]||0)!==0&&(o+=d[l]),this.codeMap[r]=65535&o}t.pos=h}return e.encode=function(t,n){var r,i,s,o,a,l,d,p,h,g,m,N,j,L,w,x,b,T,q,G,R,M,$,re,F,k,W,z,se,Q,ae,H,te,ie,me,A,B,V,J,Z,ce,he,pe,Ce,Ae,Te;switch(z=new eo,o=Object.keys(t).sort(function(Ee,Ge){return Ee-Ge}),n){case"macroman":for(j=0,L=function(){var Ee=[];for(N=0;N<256;++N)Ee.push(0);return Ee}(),x={0:0},s={},se=0,te=o.length;se<te;se++)x[pe=t[i=o[se]]]==null&&(x[pe]=++j),s[i]={old:t[i],new:x[t[i]]},L[i]=x[t[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(L),{charMap:s,subtable:z.data,maxGlyphID:j+1};case"unicode":for(k=[],h=[],b=0,x={},r={},w=d=null,Q=0,ie=o.length;Q<ie;Q++)x[q=t[i=o[Q]]]==null&&(x[q]=++b),r[i]={old:q,new:x[q]},a=x[q]-i,w!=null&&a===d||(w&&h.push(w),k.push(i),d=a),w=i;for(w&&h.push(w),h.push(65535),k.push(65535),re=2*($=k.length),M=2*Math.pow(Math.log($)/Math.LN2,2),g=Math.log(M/2)/Math.LN2,R=2*$-M,l=[],G=[],m=[],N=ae=0,me=k.length;ae<me;N=++ae){if(F=k[N],p=h[N],F===65535){l.push(0),G.push(0);break}if(F-(W=r[F].new)>=32768)for(l.push(0),G.push(2*(m.length+$-N)),i=H=F;F<=p?H<=p:H>=p;i=F<=p?++H:--H)m.push(r[i].new);else l.push(W-F),G.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*$+2*m.length),z.writeUInt16(0),z.writeUInt16(re),z.writeUInt16(M),z.writeUInt16(g),z.writeUInt16(R),ce=0,A=h.length;ce<A;ce++)i=h[ce],z.writeUInt16(i);for(z.writeUInt16(0),he=0,B=k.length;he<B;he++)i=k[he],z.writeUInt16(i);for(Ce=0,V=l.length;Ce<V;Ce++)a=l[Ce],z.writeUInt16(a);for(Ae=0,J=G.length;Ae<J;Ae++)T=G[Ae],z.writeUInt16(T);for(Te=0,Z=m.length;Te<Z;Te++)j=m[Te],z.writeUInt16(j);return{charMap:r,subtable:z.data,maxGlyphID:b+1}}},e}(),j3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Di(t,Si),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new J5(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=J5.encode(n,r),(s=new eo).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),$C=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Di(t,Si),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),HC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Di(t,Si),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),WC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Di(t,Si),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,d;for(d=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)d.push(n.readUInt32());return d}).call(this)}},t}(),GC=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},YC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Di(t,Si),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,o,a,l,d,p,h,g,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(d={},o=h=0,g=i.length;h<g;o=++h)s=i[o],n.pos=s.offset,p=n.readString(s.length),a=new GC(p,s),d[m=s.nameID]==null&&(d[m]=[]),d[s.nameID].push(a);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),KC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Di(t,Si),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),JC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Di(t,Si),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,o,a,l,d;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,h;for(h=[],r=p=0;0<=s?p<s:p>s;r=0<=s?++p:--p)h.push(n.readInt16());return h}(),this.widths=(function(){var p,h,g,m;for(m=[],p=0,h=(g=this.metrics).length;p<h;p++)o=g[p],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],d=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)d.push(this.widths.push(i));return d},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),A3=[].slice,XC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Di(t,Si),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,o,a,l,d,p,h,g;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new eo(r.read(s))).readShort(),p=l.readShort(),g=l.readShort(),d=l.readShort(),h=l.readShort(),this.cache[n]=a===-1?new ZC(l,p,g,d,h):new QC(l,a,p,g,d,h),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,o,a,l,d;for(a=[],o=[],l=0,d=r.length;l<d;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},t}(),QC=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),ZC=function(){function e(t,n,r,i,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new eo(A3.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),eP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Di(t,Si),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],d=this.offsets[a+1]-l;d>0&&(s+=d)}for(var p=new Array(4*i.length),h=0;h<i.length;++h)p[4*h+3]=255&i[h],p[4*h+2]=(65280&i[h])>>8,p[4*h+1]=(16711680&i[h])>>16,p[4*h]=(4278190080&i[h])>>24;return p},t}(),tP=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,a,l,d,p,h,g,m,N,j,L,w;for(i in r=j3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},w=r.charMap)m[(l=w[i]).old]=l.new;for(N in g=r.maxGlyphID,o)N in m||(m[N]=g++);return p=function(x){var b,T;for(b in T={},x)T[x[b]]=b;return T}(m),h=Object.keys(p).sort(function(x,b){return x-b}),j=function(){var x,b,T;for(T=[],x=0,b=h.length;x<b;x++)a=h[x],T.push(p[a]);return T}(),s=this.font.glyf.encode(o,j,m),d=this.font.loca.encode(s.offsets,j),L={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},e}();Xe.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,d;for(d=[],a=0,l=n.length;a<l;a++)r=n[a],d.push(t.convert(r));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();async function nP(e){return new Promise((t,n)=>{const r=new window.Image;r.crossOrigin="Anonymous",r.onload=function(){const i=document.createElement("canvas");i.width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0);const o=i.toDataURL("image/png");t({width:r.width,height:r.height,dataUrl:o})},r.onerror=n,r.src=e})}function rP(e){return String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").toLowerCase()}async function M0(e,t="coloriages"){const n=new Xe({orientation:"portrait",unit:"px",format:"a4"}),r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),s=40,o=r-2*s,a=i-2*s,l=await Promise.all(e.map(async p=>{try{const h=p.image_url||p;return await nP(h)}catch(h){return console.warn("Erreur chargement image pour le PDF :",p,h),null}}));let d=!0;for(let p=0;p<l.length;p++){if(!l[p])continue;d||n.addPage(),d=!1;const{dataUrl:h,width:g,height:m}=l[p],N=g/m;let j=o,L=o/N;L>a&&(L=a,j=a*N);const w=(r-j)/2,x=(i-L)/2;n.addImage(h,"PNG",w,x,j,L)}n.save(`${rP(t)}.pdf`)}function iP(e){const[t,n]=O.useState([]),[r,i]=O.useState(!1),[s,o]=O.useState(null);return O.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{i(!0);try{const{data:d,error:p}=await Fr.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});p?(console.error("Erreur récupération créations:",p),o(p.message),n([])):(n(d||[]),o(null))}catch(d){console.error("Erreur critique récupération créations:",d),o(d.message),n([])}finally{i(!1)}})()},[e]),{creations:t,loading:r,error:s,refreshCreations:async()=>{if(e){i(!0);try{const{data:l,error:d}=await Fr.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});d?o(d.message):(n(l||[]),o(null))}catch(l){o(l.message)}finally{i(!1)}}}}}const sP=({onClose:e,onSelect:t})=>{const{user:n}=F0(),{creations:r,loading:i,refreshCreations:s}=iP(n==null?void 0:n.id),o=async h=>{if(window.confirm("Supprimer cette création ?"))try{const{error:m}=await k4(h);if(m){alert("Erreur lors de la suppression !");return}s()}catch(m){console.error("Erreur lors de la suppression:",m),alert("Erreur lors de la suppression !")}},a=h=>{const g=new Date(h);return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(g)},l=h=>{switch(h){case"story":return"📚";case"rhyme":return"🎵";case"audio":return"📖";case"coloring":return"🎨";case"crewai_animation":return"🎬";case"animation":return"🎬";default:return"📄"}},d=h=>{switch(h){case"story":return"Bande dessinée";case"rhyme":return"Comptine";case"audio":return"Histoire";case"coloring":return"Coloriage";case"crewai_animation":return"Dessin animé";case"animation":return"Dessin animé";default:return"Création"}},p=h=>{var M;const g=h.content||((M=h.data)==null?void 0:M.content)||"";if(!g||typeof g!="string"){console.error("❌ Contenu invalide ou manquant pour le PDF.");return}const m=new Xe({orientation:"p",unit:"mm",format:"a4"}),N=40,j=210,L=297,w=12,x=Math.floor((L-N*2)/w),b=13;let T=h.title,q=g;g.startsWith("**")&&g.includes("**",2)&&(T=g.split("**")[1].trim(),q=g.replace(`**${T}**`,"").trim());const G=$=>new Promise(re=>{const F=new Image;F.crossOrigin="anonymous",F.src=$,F.onload=()=>re(F)});(async()=>{try{const $="/assets/fond_etoiles.png";let re=null;try{re=await G($)}catch{console.log("⚠️ Image de fond non disponible, PDF sans fond")}const F=m.splitTextToSize(q,150);let k=0;for(let W=0;k<F.length;W++){W>0&&m.addPage(),re&&m.addImage(re,"PNG",0,0,j,L,void 0,"FAST"),W===0&&(m.setFont("courier","bold"),m.setFontSize(22),m.setTextColor(110,50,230),m.text(T,j/2,N-20,{align:"center"})),m.setFont("courier","bold"),m.setFontSize(b),m.setTextColor(25,25,112);for(let z=0;z<x&&k<F.length;z++,k++){const se=N+z*w;m.text(F[k],j/2,se,{align:"center"})}m.setFontSize(11),m.setTextColor(106,90,205),m.text(`Page ${W+1}`,j-15,290,{align:"right"})}}catch($){console.error("❌ Erreur lors de la génération du PDF:",$),m.setFontSize(22),m.setTextColor(110,50,230),m.setFont("courier","bold"),m.text(T,j/2,N-20,{align:"center"}),m.setFontSize(b),m.setTextColor(25,25,112),m.setFont("courier","bold");const re=m.splitTextToSize(q,150);for(let F=0;F<re.length;F++){const k=N+F*w;m.text(re[F],j/2,k,{align:"center"})}}})().then(()=>{const $=T.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");m.save(`${$}.pdf`)})};return c.jsxs(Ve.div,{className:"history-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},onClick:h=>h.stopPropagation(),children:[c.jsxs("div",{className:"history-header",children:[c.jsx("h2",{children:"Historique de vos créations"}),c.jsx("button",{className:"close-button",onClick:e,children:"×"})]}),c.jsx("div",{className:"history-content",children:n?r.length===0&&!i?c.jsxs("div",{className:"empty-history",children:[c.jsx("p",{children:"Vous n'avez pas encore de créations"}),c.jsx("p",{className:"empty-subtext",children:"Vos créations apparaîtront ici une fois générées"})]}):c.jsx("div",{className:"creations-list",children:r.map(h=>{var j,L,w,x,b,T,q,G,R,M,$,re,F,k,W;const g=!!(h.audio_path||(j=h.data)!=null&&j.audio_path),m=!!(h.content||(L=h.data)!=null&&L.content),N=["creation-item",g?"has-audio":"",m?"has-text":""].filter(Boolean).join(" ");return c.jsxs(Ve.div,{className:N,onClick:()=>t({...h,action:h.type==="coloring"?"showColoring":"showStory"}),whileHover:{scale:1.01},transition:{duration:.2},children:[c.jsx("div",{className:"creation-icon",children:l(h.type)}),"                  ",c.jsxs("div",{className:"creation-details",children:[c.jsx("h3",{children:h.title}),c.jsxs("div",{className:"creation-meta",children:[c.jsx("span",{className:"creation-type",children:d(h.type)}),c.jsx("span",{className:"creation-date",children:a(h.created_at)})]}),"                  ",(h.audio_path||((w=h.data)==null?void 0:w.audio_path))&&c.jsx("audio",{controls:!0,className:"creation-audio",src:`${Dn}/${h.audio_path||((x=h.data)==null?void 0:x.audio_path)}`}),c.jsxs("div",{className:"creation-actions",children:[h.type==="rhyme"&&(h.audio_path||((b=h.data)==null?void 0:b.audio_path))&&c.jsx("button",{className:"btn-pdf",onClick:async z=>{var se,Q;z.stopPropagation();try{const ae=`${Dn}/${h.audio_path||((se=h.data)==null?void 0:se.audio_path)}`,te=await(await fetch(ae)).blob(),ie=URL.createObjectURL(te);let me=h.title||"Comptine";const A=h.content||((Q=h.data)==null?void 0:Q.content)||"";A&&A.startsWith("**")&&A.includes("**",2)&&(me=A.split("**")[1].trim());const B=me.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),V=document.createElement("a");V.href=ie,V.download=`${B}.mp3`,V.style.display="none",document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(ie)}catch(ae){console.error("Erreur lors du téléchargement de la comptine:",ae),alert("Erreur lors du téléchargement. Veuillez réessayer.")}},children:"🎵 Télécharger la comptine"}),h.type==="audio"&&(h.content||((T=h.data)==null?void 0:T.content))&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn-pdf",onClick:z=>{z.stopPropagation(),p(h)},children:"📄 Télécharger le PDF"}),(h.audio_path||((q=h.data)==null?void 0:q.audio_path))&&(h.audio_generated||((G=h.data)==null?void 0:G.audio_generated))&&c.jsx("button",{className:"btn-audio",onClick:async z=>{var se,Q;z.stopPropagation();try{const ae=`${Dn}/${h.audio_path||((se=h.data)==null?void 0:se.audio_path)}`,te=await(await fetch(ae)).blob(),ie=URL.createObjectURL(te);let me=h.title||"Histoire";const A=h.content||((Q=h.data)==null?void 0:Q.content)||"";A&&A.startsWith("**")&&A.includes("**",2)&&(me=A.split("**")[1].trim());const B=me.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),V=document.createElement("a");V.href=ie,V.download=`${B}.mp3`,V.style.display="none",document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(ie)}catch(ae){console.error("Erreur lors du téléchargement audio:",ae),alert("Erreur lors du téléchargement. Veuillez réessayer.")}},children:"🎵 Télécharger l'audio"})]}),(h.audio_path||((R=h.data)==null?void 0:R.audio_path))&&(h.audio_generated||((M=h.data)==null?void 0:M.audio_generated))&&h.type!=="rhyme"&&h.type!=="audio"&&c.jsx("a",{className:"btn-audio",href:`${Dn}/${h.audio_path||(($=h.data)==null?void 0:$.audio_path)}`,download:!0,onClick:z=>z.stopPropagation(),children:"🔊 Télécharger l'audio"}),h.type==="coloring"&&(h.images||((re=h.data)==null?void 0:re.images))&&(((F=h.images)==null?void 0:F.length)>0||((W=(k=h.data)==null?void 0:k.images)==null?void 0:W.length)>0)&&c.jsx("button",{className:"btn-pdf",onClick:z=>{var ae;z.stopPropagation();const se=h.title||(h.theme?`coloriages_${h.theme}`:"coloriages"),Q=h.images||((ae=h.data)==null?void 0:ae.images)||[];M0(Q,se)},children:"📄 Télécharger le coloriage"}),c.jsx("button",{className:"btn-delete",onClick:z=>{z.stopPropagation(),o(h.id)},children:"🗑️ Supprimer"})]})]})]},h.id)})}):c.jsx("div",{className:"empty-history",children:c.jsx("p",{children:"Connexion en cours..."})})})]})};const oP=({title:e,content:t,onClose:n,children:r})=>{const[i,s]=O.useState(!1),o=O.useRef(null),a=()=>{var d;document.fullscreenElement?(document.exitFullscreen(),s(!1)):((d=o.current)==null||d.requestFullscreen(),s(!0))},l=d=>{d.target.classList.contains("story-popup-overlay")&&n()};return c.jsx("div",{className:"story-popup-overlay",onClick:l,children:c.jsxs("div",{className:"story-popup-content",ref:o,children:[c.jsx("div",{className:"story-background"}),c.jsx("button",{className:"story-close-btn",onClick:n,children:"×"}),c.jsx("button",{className:"story-fullscreen-btn",onClick:a,children:i?"✖ Quitter le plein écran":"⛶ Plein écran"}),c.jsxs("div",{className:"story-scroll",children:[e&&c.jsx("h2",{className:"story-title",children:e}),t&&typeof t=="string"?c.jsx("div",{className:"story-text",children:t}):r]})]})})};const aP=({selectedTheme:e,setSelectedTheme:t,customColoringTheme:n,setCustomColoringTheme:r,uploadedPhoto:i,setUploadedPhoto:s,withColoredModel:o,setWithColoredModel:a})=>{const[l,d]=O.useState(!1),[p,h]=O.useState(!1),[g,m]=O.useState(null),N=[{value:"upload_photo",label:"Ma Photo",icon:"📸",description:"Transformez votre photo en coloriage !",special:!0},{value:"custom",label:"Coloriage personnalisé",icon:"✏️",description:"Créez votre propre thème de coloriage"},{value:"animals",label:"Animaux",icon:"🐾",description:"Chats, chiens, lions, éléphants..."},{value:"dinosaurs",label:"Dinosaures",icon:"🦕",description:"T-Rex, Triceratops, volcans..."},{value:"dragons",label:"Dragons",icon:"🐉",description:"Dragons mignons, chevaliers..."},{value:"farm",label:"Ferme",icon:"🐄",description:"Vache, cochon, poule, tracteur..."},{value:"fairies",label:"Fées & Licornes",icon:"🧚",description:"Fées, licornes, châteaux magiques..."},{value:"princess",label:"Princesses",icon:"👸",description:"Princesses, robes, diadèmes..."},{value:"mermaids",label:"Sirènes",icon:"🧜‍♀️",description:"Sirènes, coquillages, palais sous-marin..."},{value:"pirates",label:"Pirates",icon:"🏴‍☠️",description:"Bateaux pirates, trésors, perroquets..."},{value:"superheroes",label:"Super-héros",icon:"🦸",description:"Héros masqués, super-pouvoirs..."},{value:"space",label:"Espace",icon:"🚀",description:"Fusées, planètes, astronautes..."},{value:"robots",label:"Robots",icon:"🤖",description:"Robots futuristes, androïdes..."},{value:"vehicles",label:"Véhicules",icon:"🚗",description:"Voitures, avions, trains, bateaux..."},{value:"nature",label:"Nature",icon:"🌺",description:"Fleurs, arbres, papillons, paysages..."},{value:"ocean",label:"Océan",icon:"🐠",description:"Poissons, dauphins, coraux, tortues..."},{value:"seasons",label:"Saisons",icon:"🍂",description:"Automne, hiver, printemps, été..."},{value:"sports",label:"Sports",icon:"⚽",description:"Football, basketball, natation..."},{value:"fruits",label:"Fruits & Légumes",icon:"🍎",description:"Fruits rigolos, légumes souriants..."}],j=b=>{e===b?(t(""),d(!1),h(!1)):(t(b),d(b==="custom"),h(b==="upload_photo"))},L=b=>{const T=b.target.files[0];if(T){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(T.type)){alert("Format de fichier non supporté. Utilisez JPG, PNG, GIF ou WebP.");return}if(T.size>5*1024*1024){alert("La photo est trop grande. Taille maximale : 5 MB");return}const G=new FileReader;G.onloadend=()=>{m(G.result)},G.readAsDataURL(T),s(T)}},w=b=>{a(o===b?null:b)},x=()=>{s(null),m(null);const b=document.getElementById("photo-upload-input");b&&(b.value="")};return c.jsxs("div",{className:"coloring-selector",children:[c.jsx("h3",{children:"2. Choisissez un thème pour vos coloriages"}),c.jsx("div",{className:"theme-grid",children:N.map((b,T)=>c.jsxs("div",{className:"theme-slot",children:[c.jsxs(Ve.div,{className:`theme-option ${b.special?"photo-upload-option":""} ${b.value==="custom"?"custom-coloring":""} ${e===b.value?"selected":""}`,onClick:()=>j(b.value),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"theme-icon",children:b.icon}),c.jsxs("div",{className:"theme-info",children:[c.jsx("h4",{children:b.label}),c.jsx("p",{children:b.description})]})]}),b.special&&p&&e==="upload_photo"&&c.jsxs(Ve.div,{className:"photo-upload-container inline-upload",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[c.jsxs("div",{className:"upload-section",children:[c.jsx("p",{className:"upload-hint",children:"Formats acceptés : JPG, PNG, GIF, WebP (max 5 MB)"}),c.jsx("input",{type:"file",id:"photo-upload-input",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:L,style:{display:"none"}}),g?c.jsx("div",{className:"photo-preview-container",children:c.jsx("img",{src:g,alt:"Aperçu",className:"photo-preview"})}):c.jsxs("label",{htmlFor:"photo-upload-input",className:"upload-button",children:[c.jsx("span",{className:"upload-icon",children:"📁"}),c.jsx("span",{children:"Choisir une photo"})]})]}),g&&c.jsx(Ve.div,{className:"remove-photo-section",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:c.jsx("button",{onClick:x,className:"remove-photo-button",children:"🗑️ Supprimer la photo"})})]}),b.value==="custom"&&l&&e==="custom"&&c.jsx(Ve.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("input",{type:"text",placeholder:"Décrivez votre thème de coloriage personnalisé...",value:n,onChange:q=>r(q.target.value),className:"custom-input"})})]},b.value))}),c.jsxs("div",{className:"model-choice-section",children:[c.jsx("h3",{children:"3. Voulez-vous un modèle ?"}),c.jsxs("div",{className:"model-buttons",children:[c.jsxs(Ve.button,{className:`model-btn ${o===!0?"active":""}`,onClick:()=>w(!0),whileHover:{y:-3},whileTap:{scale:.98},children:[c.jsx("span",{className:"model-icon",children:"🎨"}),c.jsx("span",{className:"model-label",children:"Avec modèle"}),c.jsx("span",{className:"model-desc",children:"Inclut un exemple coloré en coin"})]}),c.jsxs(Ve.button,{className:`model-btn ${o===!1?"active":""}`,onClick:()=>w(!1),whileHover:{y:-3},whileTap:{scale:.98},children:[c.jsx("span",{className:"model-icon",children:"✏️"}),c.jsx("span",{className:"model-label",children:"Sans modèle"}),c.jsx("span",{className:"model-desc",children:"Coloriage pur, liberté créative"})]})]})]})]})};const lP=({imageUrl:e,onClose:t,onSave:n})=>{const r=O.useRef(null),[i,s]=O.useState(null),[o,a]=O.useState("#FF6B6B"),[l,d]=O.useState("bucket"),[p,h]=O.useState(!1),[g,m]=O.useState(null),[N,j]=O.useState(null),L=["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8B739","#52C41A","#FF85C0","#A8DADC","#E07A5F","#81C784","#FFB6C1","#20B2AA","#DDA15E","#BC6C25","#FFDAB9","#E6E6FA"];O.useEffect(()=>{const k=r.current;if(!k)return;const W=k.getContext("2d",{willReadFrequently:!0});s(W);const z=new Image;z.crossOrigin="anonymous",z.onload=()=>{const se=window.innerWidth*.9,Q=window.innerHeight*.7;let ae=z.width,H=z.height;ae>se&&(H=se/ae*H,ae=se),H>Q&&(ae=Q/H*ae,H=Q),k.width=ae,k.height=H,W.drawImage(z,0,0,ae,H),m(W.getImageData(0,0,ae,H));const te=W.createImageData(ae,H);j(te),h(!0)},z.onerror=()=>{console.error("Erreur de chargement de l'image")},z.src=e},[e]);const w=(k,W,z)=>{if(!i||!g)return;const se=r.current,Q=i.getImageData(0,0,se.width,se.height),ae=Q.data,H=b(ae,k,W,se.width),te=q(z);if(G(H,te))return;const ie=[[k,W]],me=new Set;for(;ie.length>0;){const[A,B]=ie.pop(),V=`${A},${B}`;if(me.has(V)||A<0||A>=se.width||B<0||B>=se.height)continue;const J=b(ae,A,B,se.width);R(J)||G(J,H)&&(me.add(V),T(ae,A,B,se.width,te),ie.push([A+1,B]),ie.push([A-1,B]),ie.push([A,B+1]),ie.push([A,B-1]))}i.putImageData(Q,0,0)},x=(k,W)=>{if(!i||!g)return;const z=r.current,se=i.getImageData(0,0,z.width,z.height),Q=se.data,ae=g.data,H=b(Q,k,W,z.width);if(M(H))return;const te=[[k,W]],ie=new Set;for(;te.length>0;){const[me,A]=te.pop(),B=`${me},${A}`;if(ie.has(B)||me<0||me>=z.width||A<0||A>=z.height)continue;const V=b(Q,me,A,z.width);if(R(V)||!G(V,H))continue;ie.add(B);const J=(A*z.width+me)*4;Q[J]=ae[J],Q[J+1]=ae[J+1],Q[J+2]=ae[J+2],Q[J+3]=ae[J+3],te.push([me+1,A]),te.push([me-1,A]),te.push([me,A+1]),te.push([me,A-1])}i.putImageData(se,0,0)},b=(k,W,z,se)=>{const Q=(z*se+W)*4;return{r:k[Q],g:k[Q+1],b:k[Q+2],a:k[Q+3]}},T=(k,W,z,se,Q)=>{const ae=(z*se+W)*4;k[ae]=Q.r,k[ae+1]=Q.g,k[ae+2]=Q.b,k[ae+3]=255},q=k=>{const W=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(k);return W?{r:parseInt(W[1],16),g:parseInt(W[2],16),b:parseInt(W[3],16),a:255}:{r:0,g:0,b:0,a:255}},G=(k,W,z=10)=>Math.abs(k.r-W.r)<=z&&Math.abs(k.g-W.g)<=z&&Math.abs(k.b-W.b)<=z,R=(k,W=50)=>k.r<W&&k.g<W&&k.b<W,M=(k,W=240)=>k.r>W&&k.g>W&&k.b>W||k.a<10,$=k=>{if(!p)return;const W=r.current,z=W.getBoundingClientRect(),se=Math.floor((k.clientX-z.left)*(W.width/z.width)),Q=Math.floor((k.clientY-z.top)*(W.height/z.height));l==="bucket"?w(se,Q,o):l==="eraser"&&x(se,Q)},re=()=>{r.current.toBlob(W=>{const z=URL.createObjectURL(W),se=document.createElement("a");se.href=z,se.download=`coloriage_colorie_${Date.now()}.png`,se.click(),URL.revokeObjectURL(z)})},F=()=>{!i||!g||i.putImageData(g,0,0)};return c.jsx("div",{className:"coloring-canvas-overlay",children:c.jsxs("div",{className:"coloring-canvas-container",children:[c.jsxs("div",{className:"coloring-toolbar-top",children:[c.jsx("h2",{className:"coloring-canvas-title",children:"🎨 Coloriez votre dessin"}),c.jsxs("div",{className:"coloring-toolbar-actions",children:[c.jsx("button",{className:"coloring-btn coloring-reset-btn",onClick:F,title:"Réinitialiser",children:"🔄 Réinitialiser"}),c.jsx("button",{className:"coloring-btn coloring-save-btn",onClick:re,title:"Télécharger",children:"💾 Télécharger"}),c.jsx("button",{className:"coloring-btn coloring-close-btn-top",onClick:t,title:"Fermer",children:"✕"})]})]}),c.jsxs("div",{className:"coloring-canvas-wrapper",children:[c.jsx("canvas",{ref:r,onClick:$,className:"coloring-canvas"}),!p&&c.jsxs("div",{className:"coloring-loading",children:[c.jsx("div",{className:"coloring-spinner"}),c.jsx("p",{children:"Chargement du coloriage..."})]})]}),c.jsxs("div",{className:"coloring-toolbar-bottom",children:[c.jsxs("div",{className:"coloring-tools",children:[c.jsx("button",{className:`coloring-tool-btn ${l==="bucket"?"active":""}`,onClick:()=>d("bucket"),title:"Seau de peinture",children:"🪣"}),c.jsx("button",{className:`coloring-tool-btn ${l==="eraser"?"active":""}`,onClick:()=>d("eraser"),title:"Gomme",children:"🧹"})]}),c.jsx("div",{className:"coloring-palette",children:L.map((k,W)=>c.jsx("button",{className:`coloring-color-btn ${o===k&&l==="bucket"?"active":""}`,style:{backgroundColor:k},onClick:()=>{a(k),d("bucket")},title:k},W))})]})]})})},uP=({coloringResult:e,onClose:t,selectedTheme:n})=>{const[r,i]=O.useState(!1),[s,o]=O.useState(!1),a=O.useRef(null),l=()=>{var N;document.fullscreenElement?(document.exitFullscreen(),i(!1)):((N=a.current)==null||N.requestFullscreen(),i(!0))},d=N=>{N.target.classList.contains("coloring-popup-overlay")&&t()},p=()=>{if(e!=null&&e.images){const N=e.title||(n?`coloriages_${n}`:"coloriages");M0(e.images,N)}};if(!e||!e.images||e.images.length===0)return null;const h=e.images[0],g=h.image_url||h,m=()=>{o(!0)};return c.jsx(c.Fragment,{children:s?c.jsx(lP,{imageUrl:g,onClose:()=>o(!1)}):c.jsx("div",{className:"coloring-popup-overlay",onClick:d,children:c.jsxs("div",{className:"coloring-popup-content",ref:a,children:[c.jsx("div",{className:"coloring-background"}),c.jsx("button",{className:"coloring-close-btn",onClick:t,children:"×"}),c.jsx("button",{className:"coloring-fullscreen-btn",onClick:l,children:r?"✖ Quitter le plein écran":"⛶ Plein écran"}),c.jsxs("div",{className:"coloring-container",children:[c.jsx("h2",{className:"coloring-title",children:"🎨 Votre coloriage"}),c.jsx("div",{className:"coloring-image-wrapper",children:c.jsx("img",{src:g,alt:"Coloriage",className:"coloring-popup-image"})}),c.jsxs("div",{className:"coloring-popup-actions",children:[c.jsx("button",{className:"coloring-open-btn",onClick:m,children:"🎨 Colorier maintenant"}),c.jsx("button",{className:"coloring-download-btn",onClick:p,children:"📄 Télécharger le coloriage"})]})]})]})})})},cP=async(e,t,n)=>{try{if(console.log("🔍 Vérification permission temporaire pour:",{contentType:e,userId:t,userEmail:n}),n==="fredagathe77@gmail.com")return console.log("👑 Admin détecté - accès gratuit"),{hasPermission:!0,reason:"admin_access",userRole:"admin",isAdmin:!0};const{data:r,error:i}=await Fr.from("profiles").select("role").eq("id",t).single();if(i&&console.error("❌ Erreur récupération profil:",i),console.log("👤 Profil utilisateur:",r),(r==null?void 0:r.role)==="admin")return{hasPermission:!0,reason:"admin_access",userRole:"admin",isAdmin:!0};const{data:s,error:o}=await Fr.from("generation_permissions").select("*").eq("user_id",t).eq("content_type",e).eq("is_active",!0).single();return s?{hasPermission:!0,reason:"payment_validated",userRole:"user",isAdmin:!1}:(console.log("💳 Paiement requis pour utilisateur normal"),{hasPermission:!1,reason:"payment_required",userRole:"user",isAdmin:!1})}catch(r){return console.error("Erreur vérification permission:",r),{hasPermission:!1,reason:"error",error:r,isAdmin:!1}}},L3=e=>({comptine:{amount:299,name:"Comptine Musicale",currency:"EUR",display:"2,99€"},histoire:{amount:399,name:"Histoire Audio",currency:"EUR",display:"3,99€"},coloriage:{amount:199,name:"Coloriage Personnalisé",currency:"EUR",display:"1,99€"},bd:{amount:499,name:"Bande Dessinée",currency:"EUR",display:"4,99€"},animation:{amount:499,name:"Animation IA personnalisée",currency:"EUR",display:"4,99€"},coloring:{amount:199,name:"Coloriage personnalisé",currency:"EUR",display:"1,99€"},comic:{amount:299,name:"Bande dessinée IA",currency:"EUR",display:"2,99€"},story:{amount:399,name:"Histoire audio",currency:"EUR",display:"3,99€"},rhyme:{amount:249,name:"Comptine musicale",currency:"EUR",display:"2,49€"}})[e]||{amount:299,name:"Contenu Créatif",currency:"EUR",display:"2,99€"},dP=async(e,t)=>{try{if(t==="fredagathe77@gmail.com")return!0;const{data:n,error:r}=await Fr.from("profiles").select("role").eq("id",e).single();return r?(console.error("Erreur vérification admin:",r),!1):(n==null?void 0:n.role)==="admin"}catch(n){return console.error("Erreur isUserAdmin:",n),!1}};var C3="clover",fP=function(t){return t===3?"v3":t},P3="https://js.stripe.com",hP="".concat(P3,"/").concat(C3,"/stripe.js"),pP=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,mP=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,X5="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",gP=function(t){return pP.test(t)||mP.test(t)},vP=function(){for(var t=document.querySelectorAll('script[src^="'.concat(P3,'"]')),n=0;n<t.length;n++){var r=t[n];if(gP(r.src))return r}return null},Q5=function(t){var n=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(hP).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},yP=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.0.0",startTime:n})},Zl=null,yd=null,xd=null,xP=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},wP=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},bP=function(t){return Zl!==null?Zl:(Zl=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(X5),window.Stripe){n(window.Stripe);return}try{var i=vP();if(i&&t)console.warn(X5);else if(!i)i=Q5(t);else if(i&&xd!==null&&yd!==null){var s;i.removeEventListener("load",xd),i.removeEventListener("error",yd),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=Q5(t)}xd=wP(n,r),yd=xP(r),i.addEventListener("load",xd),i.addEventListener("error",yd)}catch(o){r(o);return}}),Zl.catch(function(n){return Zl=null,Promise.reject(n)}))},SP=function(t,n,r){if(t===null)return null;var i=n[0],s=i.match(/^pk_test/),o=fP(t.version),a=C3;s&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.0.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,n);return yP(l,r),l},eu,k3=!1,_3=function(){return eu||(eu=bP(null).catch(function(t){return eu=null,Promise.reject(t)}),eu)};Promise.resolve().then(function(){return _3()}).catch(function(e){k3||console.warn(e)});var NP=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];k3=!0;var i=Date.now();return _3().then(function(s){return SP(s,n,i)})},E3={exports:{}},jP="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AP=jP,LP=AP;function F3(){}function T3(){}T3.resetWarningCache=F3;var CP=function(){function e(r,i,s,o,a,l){if(l!==LP){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:T3,resetWarningCache:F3};return n.PropTypes=n,n};E3.exports=CP();var PP=E3.exports;const Bt=ov(PP);function Z5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z5(Object(n),!0).forEach(function(r){I3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zd=function(t){return typeof t}:zd=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function I3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kP(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _P(e,t){if(e==null)return{};var n=kP(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function R3(e,t){return EP(e)||FP(e,t)||TP(e,t)||IP()}function EP(e){if(Array.isArray(e))return e}function FP(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function TP(e,t){if(e){if(typeof e=="string")return tv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tv(e,t)}}function tv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nr=function(t,n,r){var i=!!r,s=kt.useRef(r);kt.useEffect(function(){s.current=r},[r]),kt.useEffect(function(){if(!i||!t)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return t.on(n,o),function(){t.off(n,o)}},[i,n,t,s])},l1=function(t){var n=kt.useRef(t);return kt.useEffect(function(){n.current=t},[t]),n.current},il=function(t){return t!==null&&zd(t)==="object"},RP=function(t){return il(t)&&typeof t.then=="function"},MP=function(t){return il(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},nv="[object Object]",DP=function e(t,n){if(!il(t)||!il(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(t)===nv,o=Object.prototype.toString.call(n)===nv;if(s!==o)return!1;if(!s&&!r)return t===n;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(var d={},p=0;p<a.length;p+=1)d[a[p]]=!0;for(var h=0;h<l.length;h+=1)d[l[h]]=!0;var g=Object.keys(d);if(g.length!==a.length)return!1;var m=t,N=n,j=function(w){return e(m[w],N[w])};return g.every(j)},M3=function(t,n,r){return il(t)?Object.keys(t).reduce(function(i,s){var o=!il(n)||!DP(t[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?ev(ev({},i||{}),{},I3({},s,t[s])):i},null):null},D3="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",rv=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D3;if(t===null||MP(t))return t;throw new Error(n)},OP=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D3;if(RP(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return rv(i,n)})};var r=rv(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},BP=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.0.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.0.0",url:"https://stripe.com/docs/stripe-js/react"}))},th=kt.createContext(null);th.displayName="ElementsContext";var O3=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},B3=function(t){var n=t.stripe,r=t.options,i=t.children,s=kt.useMemo(function(){return OP(n)},[n]),o=kt.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=R3(o,2),l=a[0],d=a[1];kt.useEffect(function(){var g=!0,m=function(j){d(function(L){return L.stripe?L:{stripe:j,elements:j.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(N){N&&g&&m(N)}):s.tag==="sync"&&!l.stripe&&m(s.stripe),function(){g=!1}},[s,l,r]);var p=l1(n);kt.useEffect(function(){p!==null&&p!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[p,n]);var h=l1(r);return kt.useEffect(function(){if(l.elements){var g=M3(r,h,["clientSecret","fonts"]);g&&l.elements.update(g)}},[r,h,l.elements]),kt.useEffect(function(){BP(l.stripe)},[l.stripe]),kt.createElement(th.Provider,{value:l},i)};B3.propTypes={stripe:Bt.any,options:Bt.object};var zP=function(t){var n=kt.useContext(th);return O3(n,t)},VP=function(){var t=zP("calls useElements()"),n=t.elements;return n};Bt.func.isRequired;var z3=kt.createContext(null);z3.displayName="CheckoutContext";Bt.any,Bt.shape({clientSecret:Bt.oneOfType([Bt.string,Bt.instanceOf(Promise)]).isRequired,elementsOptions:Bt.object}).isRequired;var u1=function(t){var n=kt.useContext(z3),r=kt.useContext(th);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return O3(r,t)},UP=["mode"],qP=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Nr=function(t,n){var r="".concat(qP(t),"Element"),i=function(l){var d=l.id,p=l.className,h=l.options,g=h===void 0?{}:h,m=l.onBlur,N=l.onFocus,j=l.onReady,L=l.onChange,w=l.onEscape,x=l.onClick,b=l.onLoadError,T=l.onLoaderStart,q=l.onNetworksChange,G=l.onConfirm,R=l.onCancel,M=l.onShippingAddressChange,$=l.onShippingRateChange,re=l.onSavedPaymentMethodRemove,F=l.onSavedPaymentMethodUpdate,k=u1("mounts <".concat(r,">")),W="elements"in k?k.elements:null,z="checkoutState"in k?k.checkoutState:null,se=(z==null?void 0:z.type)==="success"||(z==null?void 0:z.type)==="loading"?z.sdk:null,Q=kt.useState(null),ae=R3(Q,2),H=ae[0],te=ae[1],ie=kt.useRef(null),me=kt.useRef(null);nr(H,"blur",m),nr(H,"focus",N),nr(H,"escape",w),nr(H,"click",x),nr(H,"loaderror",b),nr(H,"loaderstart",T),nr(H,"networkschange",q),nr(H,"confirm",G),nr(H,"cancel",R),nr(H,"shippingaddresschange",M),nr(H,"shippingratechange",$),nr(H,"savedpaymentmethodremove",re),nr(H,"savedpaymentmethodupdate",F),nr(H,"change",L);var A;j&&(t==="expressCheckout"?A=j:A=function(){j(H)}),nr(H,"ready",A),kt.useLayoutEffect(function(){if(ie.current===null&&me.current!==null&&(W||se)){var V=null;if(se)switch(t){case"payment":V=se.createPaymentElement(g);break;case"address":if("mode"in g){var J=g.mode,Z=_P(g,UP);if(J==="shipping")V=se.createShippingAddressElement(Z);else if(J==="billing")V=se.createBillingAddressElement(Z);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":V=se.createExpressCheckoutElement(g);break;case"currencySelector":V=se.createCurrencySelectorElement();break;case"taxId":V=se.createTaxIdElement(g);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else W&&(V=W.create(t,g));ie.current=V,te(V),V&&V.mount(me.current)}},[W,se,g]);var B=l1(g);return kt.useEffect(function(){if(ie.current){var V=M3(g,B,["paymentRequest"]);V&&"update"in ie.current&&ie.current.update(V)}},[g,B]),kt.useLayoutEffect(function(){return function(){if(ie.current&&typeof ie.current.destroy=="function")try{ie.current.destroy(),ie.current=null}catch{}}},[]),kt.createElement("div",{id:d,className:p,ref:me})},s=function(l){u1("mounts <".concat(r,">"));var d=l.id,p=l.className;return kt.createElement("div",{id:d,className:p})},o=n?s:i;return o.propTypes={id:Bt.string,className:Bt.string,onChange:Bt.func,onBlur:Bt.func,onFocus:Bt.func,onReady:Bt.func,onEscape:Bt.func,onClick:Bt.func,onLoadError:Bt.func,onLoaderStart:Bt.func,onNetworksChange:Bt.func,onConfirm:Bt.func,onCancel:Bt.func,onShippingAddressChange:Bt.func,onShippingRateChange:Bt.func,onSavedPaymentMethodRemove:Bt.func,onSavedPaymentMethodUpdate:Bt.func,options:Bt.object},o.displayName=r,o.__elementType=t,o},jr=typeof window>"u",$P=kt.createContext(null);$P.displayName="EmbeddedCheckoutProviderContext";var HP=function(){var t=u1("calls useStripe()"),n=t.stripe;return n};Nr("auBankAccount",jr);var iv=Nr("card",jr);Nr("cardNumber",jr);Nr("cardExpiry",jr);Nr("cardCvc",jr);Nr("iban",jr);Nr("payment",jr);Nr("expressCheckout",jr);Nr("paymentRequestButton",jr);Nr("linkAuthentication",jr);Nr("address",jr);Nr("shippingAddress",jr);Nr("paymentMethodMessaging",jr);Nr("taxId",jr);const WP=NP("pk_test_51234567890abcdef..."),GP=({contentType:e,userId:t,userEmail:n,onSuccess:r,onCancel:i,priceInfo:s})=>{const o=HP(),a=VP(),[l,d]=O.useState(!1),[p,h]=O.useState(null),[g,m]=O.useState("");O.useEffect(()=>{(async()=>{try{console.log("🔄 Création Payment Intent pour:",{contentType:e,amount:s.amount,userId:t});const w=`pi_test_${Date.now()}_secret_${Math.random().toString(36).substring(7)}`;m(w)}catch(w){console.error("❌ Erreur création Payment Intent:",w),h("Erreur lors de l'initialisation du paiement")}})()},[e,s.amount,t]);const N=async L=>{if(L.preventDefault(),!o||!a){h("Stripe n'est pas encore chargé. Veuillez patienter.");return}const w=a.getElement(iv);if(!w){h("Élément de carte non trouvé");return}d(!0),h(null);try{console.log("🔄 Traitement paiement Stripe pour:",{contentType:e,userId:t,userEmail:n,amount:s.amount}),console.log("💳 Validation des informations de carte...");const{error:x}=await o.createPaymentMethod({type:"card",card:w});if(x)throw new Error(x.message);if(await new Promise(T=>setTimeout(T,3e3)),Math.random()>.05){const T={id:`pi_${Date.now()}_${Math.random().toString(36).substring(7)}`,status:"succeeded",amount:s.amount,currency:"eur"};console.log("✅ Paiement Stripe réussi:",T),r({success:!0,contentType:e,amount:s.amount/100,paymentIntentId:T.id,stripePayment:!0})}else throw new Error("Votre paiement a été refusé. Veuillez vérifier vos informations de carte.")}catch(x){console.error("❌ Erreur paiement Stripe:",x),h(x.message||"Erreur lors du paiement. Veuillez réessayer.")}finally{d(!1)}},j={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased"},invalid:{color:"#9e2146"}}};return c.jsxs("form",{onSubmit:N,className:"payment-form",children:[c.jsxs("div",{className:"payment-summary",children:[c.jsx("h3",{children:"Récapitulatif de votre commande"}),c.jsxs("div",{className:"order-item",children:[c.jsx("span",{className:"item-name",children:s.name}),c.jsx("span",{className:"item-price",children:s.display})]}),c.jsxs("div",{className:"order-total",children:[c.jsx("span",{className:"total-label",children:"Total à payer :"}),c.jsx("span",{className:"total-amount",children:s.display})]})]}),c.jsxs("div",{className:"payment-method",children:[c.jsx("h3",{children:"Informations de paiement"}),c.jsx("div",{className:"card-element-container",children:c.jsx(iv,{options:j,className:"card-element"})})]}),p&&c.jsxs("div",{className:"payment-error",children:[c.jsx("span",{className:"error-icon",children:"⚠️"}),p]}),c.jsxs("div",{className:"payment-actions",children:[c.jsx("button",{type:"button",onClick:i,className:"cancel-button",disabled:l,children:"Annuler"}),c.jsx("button",{type:"submit",className:"pay-button",disabled:!o||l,children:l?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"loading-spinner"}),"Traitement en cours..."]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"lock-icon",children:"🔒"}),"Payer ",s.display]})})]}),c.jsxs("div",{className:"payment-security",children:[c.jsxs("div",{className:"security-info",children:[c.jsx("span",{className:"security-icon",children:"🔒"}),c.jsx("small",{children:"Paiement sécurisé par Stripe"})]}),c.jsxs("div",{className:"accepted-cards",children:[c.jsx("span",{children:"💳 Visa"}),c.jsx("span",{children:"💳 Mastercard"}),c.jsx("span",{children:"💳 American Express"})]})]})]})},YP=({contentType:e,userId:t,userEmail:n,onSuccess:r,onCancel:i})=>{const s=L3(e);return c.jsx("div",{className:"payment-modal-overlay",children:c.jsxs(Ve.div,{className:"payment-modal stripe-payment-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},children:[c.jsxs("div",{className:"payment-header",children:[c.jsx("h2",{children:"💳 Paiement sécurisé"}),c.jsx("button",{className:"close-button",onClick:i,"aria-label":"Fermer",children:"✕"})]}),c.jsx(B3,{stripe:WP,children:c.jsx(GP,{contentType:e,userId:t,userEmail:n,onSuccess:r,onCancel:i,priceInfo:s})})]})})};const KP=({onLegalClick:e})=>c.jsx("footer",{className:"app-footer",children:c.jsxs("div",{className:"footer-content",children:[c.jsxs("div",{className:"footer-links",children:[c.jsx("button",{className:"footer-link",onClick:()=>e("mentions"),children:"Mentions légales"}),c.jsx("span",{className:"separator",children:"•"}),c.jsx("button",{className:"footer-link",onClick:()=>e("privacy"),children:"Confidentialité"}),c.jsx("span",{className:"separator",children:"•"}),c.jsx("button",{className:"footer-link",onClick:()=>e("cookies"),children:"Cookies"}),c.jsx("span",{className:"separator",children:"•"}),c.jsx("button",{className:"footer-link",onClick:()=>e("terms"),children:"CGU"}),c.jsx("span",{className:"separator",children:"•"}),c.jsx("button",{className:"footer-link",onClick:()=>e("contact"),children:"Contact"})]}),c.jsx("div",{className:"footer-info",children:c.jsxs("p",{children:["© ",new Date().getFullYear()," HERBBIE"]})})]})});const JP=({onClose:e,initialSection:t="mentions"})=>{const[n,r]=O.useState(t),[i,s]=O.useState({firstName:"",lastName:"",email:"",subject:"",message:""}),[o,a]=O.useState(!1),[l,d]=O.useState(""),p=[{id:"mentions",title:"Mentions Légales",icon:"📄"},{id:"privacy",title:"Confidentialité",icon:"🔒"},{id:"cookies",title:"Cookies",icon:"🍪"},{id:"terms",title:"Conditions d'utilisation",icon:"📜"},{id:"contact",title:"Contact",icon:"📧"}],h=()=>{switch(n){case"mentions":return g();case"privacy":return m();case"cookies":return N();case"terms":return j();case"contact":return x();default:return g()}},g=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:"📄 Mentions Légales"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Hébergement"}),c.jsxs("div",{className:"info-block",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Hébergeur :"})," Railway"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Adresse :"})," Railway, 1 Sentry Way, San Francisco, CA 94103, États-Unis"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Site web :"})," ",c.jsx("a",{href:"https://railway.app",target:"_blank",rel:"noopener noreferrer",children:"railway.app"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Propriété intellectuelle"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"L'ensemble du contenu de ce site (textes, images, vidéos, éléments graphiques, logos, icônes, sons, logiciels) est la propriété exclusive de HERBBIE ou de ses partenaires, sauf mention contraire."}),c.jsx("p",{children:"Toute reproduction, distribution, modification ou exploitation commerciale, même partielle, sans autorisation préalable écrite de HERBBIE est strictement interdite et constituerait une contrefaçon sanctionnée par les articles L.335-2 et suivants du Code de la propriété intellectuelle."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Responsabilité"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'efforce d'assurer l'exactitude et la mise à jour des informations diffusées sur ce site, dont elle se réserve le droit de corriger, à tout moment et sans préavis, le contenu."}),c.jsx("p",{children:"Toutefois, HERBBIE ne peut garantir l'exactitude, la précision ou l'exhaustivité des informations mises à disposition sur ce site. En conséquence, HERBBIE décline toute responsabilité :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Pour toute imprécision, inexactitude ou omission portant sur des informations disponibles sur le site"}),c.jsx("li",{children:"Pour tous dommages résultant d'une intrusion frauduleuse d'un tiers ayant entraîné une modification des informations mises à disposition sur le site"}),c.jsx("li",{children:"Et plus généralement pour tous dommages, directs ou indirects, quelles qu'en soient les causes, origines, natures ou conséquences, provoqués à raison de l'accès de quiconque au site ou de l'impossibilité d'y accéder"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Données personnelles"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Conformément à la loi n°78-17 du 6 janvier 1978 relative à l'informatique, aux fichiers et aux libertés, vous disposez d'un droit d'accès, de rectification et de suppression des données vous concernant."}),c.jsxs("p",{children:["Pour exercer ce droit, vous pouvez nous contacter par email à l'adresse : ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Le site HERBBIE utilise des cookies pour améliorer votre expérience utilisateur et réaliser des statistiques de visite."}),c.jsx("p",{children:"Conformément à la réglementation, vous pouvez refuser le dépôt de cookies en configurant votre navigateur."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Éditeur du site"}),c.jsxs("div",{className:"info-block personal-data",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Dénomination sociale :"})," ",c.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Forme juridique :"})," ",c.jsx("span",{className:"protect-personal-info",children:"Auto-entreprise (en cours d'immatriculation)"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Adresse du siège social :"})," ",c.jsx("span",{className:"address-protected personal-data",children:"10 bis rue Félix Arnaudin, 40100 Dax"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Numéro SIRET :"})," ",c.jsx("span",{className:"protect-personal-info",children:"En cours d'attribution"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Directeur de la publication :"})," ",c.jsx("span",{className:"name-protected personal-data",children:"Adrien Gaulin"})]})]})]})]}),m=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:"🔒 Politique de Confidentialité"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Collecte des données personnelles"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Lors de votre utilisation du service HERBBIE, nous pouvons collecter les informations suivantes :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Données de compte :"})," adresse email, nom d'utilisateur (si inscription)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Données d'utilisation :"})," historique des créations, préférences, statistiques d'usage"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Données techniques :"})," adresse IP, type de navigateur, système d'exploitation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contenu généré :"})," les créations réalisées via notre service (histoires, coloriages, etc.)"]})]}),c.jsx("p",{children:"La collecte de ces données est nécessaire pour :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fournir nos services de génération de contenu créatif"}),c.jsx("li",{children:"Améliorer la qualité de nos services"}),c.jsx("li",{children:"Assurer la sécurité de la plateforme"}),c.jsx("li",{children:"Respecter nos obligations légales"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Utilisation des données"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les données collectées sont utilisées pour :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fournir le service :"})," génération de contenu personnalisé, sauvegarde des créations"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Amélioration :"})," analyse des usages pour optimiser l'expérience utilisateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Communication :"})," envoi d'informations relatives au service, support client"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Sécurité :"})," détection et prévention des fraudes et activités malveillantes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Obligations légales :"})," conservation des données requises par la loi"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Partage des données"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'engage à ne pas vendre, louer ou commercialiser vos données personnelles."}),c.jsx("p",{children:"Les données peuvent être partagées uniquement dans les cas suivants :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fournisseurs de services :"})," hébergeurs, prestataires techniques (sous contrat de confidentialité)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Obligations légales :"})," sur demande des autorités compétentes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Protection des droits :"})," en cas de litige ou contentieux"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Conservation des données"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les données sont conservées pendant la durée nécessaire aux finalités pour lesquelles elles ont été collectées :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Données de compte :"})," tant que le compte est actif + 3 ans après inactivation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Données d'utilisation :"})," 2 ans à compter de la collecte"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contenu généré :"})," tant que le compte est actif"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Données de facturation :"})," 10 ans (obligation légale)"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Sécurité des données"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE met en œuvre des mesures techniques et organisationnelles appropriées pour protéger vos données personnelles contre :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"L'accès non autorisé"}),c.jsx("li",{children:"L'utilisation illégitime"}),c.jsx("li",{children:"La perte ou destruction accidentelle"}),c.jsx("li",{children:"Toute forme de traitement illicite"})]}),c.jsx("p",{children:"Ces mesures incluent le chiffrement des données, des contrôles d'accès stricts et des audits réguliers de sécurité."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Vos droits"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Conformément au RGPD, vous disposez des droits suivants :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Droit d'accès :"})," demander l'accès à vos données personnelles"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit de rectification :"})," demander la correction de données inexactes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit à l'effacement :"})," demander la suppression de vos données"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit à la limitation :"})," demander la limitation du traitement"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit à la portabilité :"})," demander la récupération de vos données"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit d'opposition :"})," vous opposer au traitement de vos données"]})]}),c.jsxs("p",{children:["Pour exercer ces droits, contactez-nous à : ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Cookies et technologies similaires"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE utilise des cookies et technologies similaires pour :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Assurer le fonctionnement technique du site"}),c.jsx("li",{children:"Mémoriser vos préférences"}),c.jsx("li",{children:"Réaliser des statistiques d'utilisation"}),c.jsx("li",{children:"Améliorer la sécurité"})]}),c.jsx("p",{children:"Vous pouvez gérer vos préférences cookies via les paramètres de votre navigateur."})]})]})]}),N=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:"🍪 Politique des Cookies"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Qu'est-ce qu'un cookie ?"}),c.jsx("div",{className:"info-block",children:c.jsx("p",{children:"Un cookie est un petit fichier texte déposé sur votre terminal (ordinateur, tablette, smartphone) lors de la visite d'un site internet. Il permet de stocker des informations relatives à votre navigation et d'améliorer votre expérience utilisateur."})})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Cookies utilisés par HERBBIE"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Cookies essentiels (obligatoires) :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Session :"})," Maintien de votre connexion et sécurité"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Authentification :"})," Mémorisation de votre identité"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Sécurité :"})," Protection contre les attaques CSRF"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Préférences :"})," Mémorisation de vos choix (langue, paramètres)"]})]}),c.jsx("h4",{children:"Cookies de fonctionnalité :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Historique :"})," Sauvegarde de vos créations récentes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Paramètres :"})," Conservation de vos préférences utilisateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Interface :"})," Adaptation de l'affichage selon vos préférences"]})]}),c.jsx("h4",{children:"Cookies analytiques :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Statistiques :"})," Mesure de l'audience et analyse des usages"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Performance :"})," Analyse des temps de chargement"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Amélioration :"})," Collecte d'informations pour optimiser le service"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Gestion des cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Vous avez plusieurs options pour gérer les cookies :"}),c.jsx("h4",{children:"Via votre navigateur :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Chrome :"})," Paramètres → Confidentialité et sécurité → Cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Firefox :"})," Préférences → Vie privée et sécurité → Cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Safari :"})," Préférences → Confidentialité → Gérer les cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Edge :"})," Paramètres → Cookies et autorisations de site"]})]}),c.jsx("h4",{children:"Via notre site :"}),c.jsx("p",{children:"Vous pouvez refuser ou accepter les cookies non essentiels en modifiant vos préférences dans les paramètres de votre compte HERBBIE."}),c.jsx("h4",{children:"Durée de conservation :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Supprimés à la fermeture du navigateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies persistants :"})," Jusqu'à 13 mois maximum"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Finalités des cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Fonctionnement du service :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Maintien de la session utilisateur"}),c.jsx("li",{children:"Sécurisation des transactions"}),c.jsx("li",{children:"Mémorisation des préférences"}),c.jsx("li",{children:"Optimisation des performances"})]}),c.jsx("h4",{children:"Amélioration de l'expérience :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Personnalisation du contenu"}),c.jsx("li",{children:"Sauvegarde des créations en cours"}),c.jsx("li",{children:"Adaptation de l'interface utilisateur"})]}),c.jsx("h4",{children:"Analyse et statistiques :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Mesure de l'audience"}),c.jsx("li",{children:"Analyse des parcours utilisateur"}),c.jsx("li",{children:"Détection des problèmes techniques"}),c.jsx("li",{children:"Amélioration continue du service"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Cookies tiers"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE peut faire appel à des services tiers qui déposent leurs propres cookies :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Services d'analyse :"})," Google Analytics, Matomo (statistiques)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Réseaux sociaux :"})," Boutons de partage (si implémentés)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Services de paiement :"})," Stripe, PayPal (si applicable)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Services d'IA :"})," OpenAI, Stability AI (pour la génération de contenu)"]})]}),c.jsx("p",{children:"Ces tiers sont responsables de leurs propres cookies et de leur politique de confidentialité."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Consentement"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"En continuant à utiliser le site HERBBIE, vous consentez à l'utilisation des cookies conformément à la présente politique."}),c.jsx("p",{children:"Vous pouvez retirer votre consentement à tout moment en modifiant vos paramètres de cookies ou en nous contactant."}),c.jsx("p",{children:"Note : La désactivation de certains cookies peut affecter le bon fonctionnement du service."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Mise à jour"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Cette politique des cookies peut être mise à jour régulièrement pour refléter les évolutions de nos services ou de la réglementation."}),c.jsx("p",{children:"La date de dernière modification est indiquée en bas de cette page."}),c.jsx("p",{children:"En cas de modification substantielle, nous vous en informerons via une notification sur le site."})]})]})]}),j=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:"📜 Conditions d'utilisation"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Objet du service"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE est une plateforme de génération de contenu créatif destinée aux enfants, utilisant l'intelligence artificielle pour créer :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Des histoires personnalisées et éducatives"}),c.jsx("li",{children:"Des coloriages et activités créatives"}),c.jsx("li",{children:"Du contenu pédagogique adapté à chaque âge"}),c.jsx("li",{children:"Des expériences d'apprentissage ludiques"})]}),c.jsx("p",{children:"Le service est conçu pour stimuler l'imagination et la créativité des enfants de manière sécurisée et éducative."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Conditions d'accès"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Âge minimum :"}),c.jsx("p",{children:"Le service HERBBIE est accessible aux enfants de tous âges. Pour les enfants de moins de 13 ans, l'utilisation doit se faire sous la supervision d'un adulte responsable."}),c.jsx("h4",{children:"Inscription :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Les utilisateurs peuvent créer un compte gratuit"}),c.jsx("li",{children:"L'inscription nécessite une adresse email valide"}),c.jsx("li",{children:"Les mots de passe doivent être sécurisés"}),c.jsx("li",{children:"Une seule inscription par personne est autorisée"})]}),c.jsx("h4",{children:"Utilisation acceptable :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Respect des autres utilisateurs"}),c.jsx("li",{children:"Utilisation dans un cadre éducatif et ludique"}),c.jsx("li",{children:"Interdiction de générer du contenu inapproprié"}),c.jsx("li",{children:"Respect des droits d'auteur et propriété intellectuelle"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Services et fonctionnalités"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Services gratuits :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Accès à un nombre limité de génération par jour"}),c.jsx("li",{children:"Fonctionnalités de base de création de contenu"}),c.jsx("li",{children:"Sauvegarde des créations pendant 30 jours"}),c.jsx("li",{children:"Support communautaire"})]}),c.jsx("h4",{children:"Services premium (optionnels) :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Générations illimitées"}),c.jsx("li",{children:"Sauvegarde permanente des créations"}),c.jsx("li",{children:"Fonctionnalités avancées"}),c.jsx("li",{children:"Support prioritaire"}),c.jsx("li",{children:"Contenu personnalisé avancé"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Règles de conduite"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Interdictions :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Générer du contenu violent, haineux ou inapproprié"}),c.jsx("li",{children:"Utiliser le service pour harceler ou intimider"}),c.jsx("li",{children:"Tenter de contourner les limitations techniques"}),c.jsx("li",{children:"Partager des informations personnelles d'autrui"}),c.jsx("li",{children:"Utiliser le service à des fins commerciales sans autorisation"}),c.jsx("li",{children:"Copier ou reproduire le contenu généré par d'autres utilisateurs"})]}),c.jsx("h4",{children:"Obligations des utilisateurs :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fournir des informations exactes lors de l'inscription"}),c.jsx("li",{children:"Respecter les droits d'auteur et la propriété intellectuelle"}),c.jsx("li",{children:"Signaler tout contenu inapproprié"}),c.jsx("li",{children:"Maintenir la confidentialité de leurs identifiants"}),c.jsx("li",{children:"Utiliser le service de manière responsable"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Propriété intellectuelle"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Contenu généré :"}),c.jsx("p",{children:"Le contenu créé via HERBBIE appartient à l'utilisateur qui l'a généré. L'utilisateur peut :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Télécharger et utiliser ses créations à des fins personnelles"}),c.jsx("li",{children:"Partager ses créations dans un cadre familial ou éducatif"}),c.jsx("li",{children:"Modifier ses propres créations"})]}),c.jsx("h4",{children:"Plateforme HERBBIE :"}),c.jsx("p",{children:"Tous les éléments de la plateforme (interface, algorithmes, design, etc.) restent la propriété exclusive de HERBBIE."}),c.jsx("h4",{children:"Contenu tiers :"}),c.jsx("p",{children:"Certains éléments peuvent être soumis à des licences tierces (polices, images, sons). L'utilisation doit respecter ces licences."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Limitation de responsabilité"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'efforce de fournir un service de qualité, mais ne peut garantir :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"La disponibilité permanente du service (maintenance, pannes)"}),c.jsx("li",{children:"L'absence totale de bugs ou erreurs"}),c.jsx("li",{children:"L'adéquation du contenu généré à tous les besoins"}),c.jsx("li",{children:"La sécurité absolue contre les cyberattaques"})]}),c.jsx("p",{children:"En aucun cas HERBBIE ne pourra être tenu responsable :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Des dommages indirects ou consécutifs à l'utilisation du service"}),c.jsx("li",{children:"De la perte de données ou de créations"}),c.jsx("li",{children:"Des interruptions de service non planifiées"}),c.jsx("li",{children:"Des actes de tiers (piratage, virus, etc.)"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Résiliation"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Par l'utilisateur :"}),c.jsx("p",{children:"L'utilisateur peut résilier son compte à tout moment via les paramètres de son profil."}),c.jsx("h4",{children:"Par HERBBIE :"}),c.jsx("p",{children:"HERBBIE peut suspendre ou résilier un compte en cas de :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Violation grave des conditions d'utilisation"}),c.jsx("li",{children:"Utilisation abusive du service"}),c.jsx("li",{children:"Non-paiement des services premium"}),c.jsx("li",{children:"Inactivité prolongée (plus de 2 ans)"})]}),c.jsx("h4",{children:"Conséquences de la résiliation :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Accès immédiat au service suspendu"}),c.jsx("li",{children:"Conservation des données pendant 30 jours"}),c.jsx("li",{children:"Suppression définitive après ce délai"}),c.jsx("li",{children:"Possibilité de réactivation sous conditions"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"8. Modification des conditions"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE se réserve le droit de modifier ces conditions d'utilisation à tout moment."}),c.jsx("p",{children:"Les modifications seront notifiées aux utilisateurs par email ou notification sur le site."}),c.jsx("p",{children:"La poursuite de l'utilisation du service après notification vaut acceptation des nouvelles conditions."}),c.jsx("p",{children:"En cas de désaccord avec les modifications, l'utilisateur peut résilier son compte."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"9. Droit applicable"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Ces conditions d'utilisation sont régies par le droit français."}),c.jsx("p",{children:"Tout litige relatif à l'interprétation ou l'exécution de ces conditions sera soumis aux tribunaux compétents du ressort de Paris."}),c.jsx("p",{children:"En cas de traduction de ces conditions, seule la version française fait foi."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"10. Contact"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Pour toute question relative à ces conditions d'utilisation :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Email :"})," ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Objet :"}),' "Question CGU"']}),c.jsxs("li",{children:[c.jsx("strong",{children:"Délai de réponse :"})," 48-72 heures"]})]})]})]})]}),L=(b,T)=>{s(q=>({...q,[b]:T}))},w=async b=>{b.preventDefault(),a(!0),d("");try{const T=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:i.firstName,lastName:i.lastName,email:i.email,subject:i.subject,message:i.message})});if(!T.ok){const G=await T.json();throw new Error(G.detail||"Erreur lors de l'envoi du message")}const q=await T.json();d("✅ Votre message a été envoyé avec succès ! Nous vous répondrons dans les plus brefs délais."),s({firstName:"",lastName:"",email:"",subject:"",message:""})}catch(T){console.error("Erreur lors de l'envoi du message:",T),d(`❌ Erreur lors de l'envoi : ${T.message}`)}finally{a(!1)}},x=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:"📧 Contact"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"📝 Formulaire de contact"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Vous pouvez nous contacter directement en remplissant le formulaire ci-dessous :"}),c.jsxs("form",{className:"contact-form",onSubmit:w,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-firstName",children:"Prénom *"}),c.jsx("input",{type:"text",id:"contact-firstName",value:i.firstName,onChange:b=>L("firstName",b.target.value),required:!0,placeholder:"Votre prénom"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-lastName",children:"Nom *"}),c.jsx("input",{type:"text",id:"contact-lastName",value:i.lastName,onChange:b=>L("lastName",b.target.value),required:!0,placeholder:"Votre nom de famille"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-email",children:"Email *"}),c.jsx("input",{type:"email",id:"contact-email",value:i.email,onChange:b=>L("email",b.target.value),required:!0,placeholder:"votre.email@exemple.com"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-subject",children:"Sujet *"}),c.jsxs("select",{id:"contact-subject",value:i.subject,onChange:b=>L("subject",b.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Choisissez un sujet"}),c.jsx("option",{value:"Support technique",children:"🔧 Support technique"}),c.jsx("option",{value:"Question générale",children:"💬 Question générale"}),c.jsx("option",{value:"Partenariat",children:"🤝 Partenariat"}),c.jsx("option",{value:"Signaler un bug",children:"🐛 Signaler un bug"}),c.jsx("option",{value:"Suggestion",children:"💡 Suggestion"}),c.jsx("option",{value:"Autre",children:"📋 Autre"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-message",children:"Message *"}),c.jsx("textarea",{id:"contact-message",value:i.message,onChange:b=>L("message",b.target.value),required:!0,placeholder:"Décrivez votre demande en détail...",rows:"5"})]}),l&&c.jsx("div",{className:`submit-message ${l.includes("✅")?"success":"error"}`,children:l}),c.jsx("button",{type:"submit",className:"contact-submit-btn",disabled:o,children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner"}),"Envoi en cours..."]}):c.jsx(c.Fragment,{children:"📧 Envoyer l'email"})})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Informations de contact"}),c.jsxs("div",{className:"info-block personal-data",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"📧 Email :"})," ",c.jsx("a",{href:"mailto:contact@herbbie.com",className:"email-protected",children:c.jsx("span",{className:"personal-data",children:"contact@herbbie.com"})})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"🏢 Nom de l'entreprise :"})," ",c.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]})]})]})]});return c.jsx(Ve.div,{className:"legal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:e,children:c.jsxs(Ve.div,{className:"legal-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:b=>b.stopPropagation(),children:[c.jsxs("div",{className:"legal-header",children:[c.jsx("h1",{children:"⚖️ Informations Légales"}),c.jsx("button",{className:"close-button",onClick:e,children:"✕"})]}),c.jsxs("div",{className:"legal-body",children:[c.jsx("nav",{className:"legal-nav",children:p.map(b=>c.jsxs("button",{className:`nav-item ${n===b.id?"active":""}`,onClick:()=>r(b.id),children:[c.jsx("span",{className:"nav-icon",children:b.icon}),c.jsx("span",{className:"nav-title",children:b.title})]},b.id))}),c.jsx("div",{className:"legal-main",children:c.jsx(mi,{mode:"wait",children:c.jsx(Ve.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:h()},n)})})]})]})})},tu=(e,t,n="")=>{const r={comptine:{animaux:["Les Amis de la Forêt","La Danse des Animaux","Mes Amis les Animaux","Le Grand Bal des Animaux"],nature:["Les Fleurs Magiques","L'Aventure dans les Bois","Les Secrets du Jardin","La Fête de la Nature"],transport:["Le Train des Copains","L'Aventure en Voiture","Le Voyage Fantastique","En Route pour l'Aventure"],couleurs:["L'Arc-en-Ciel Magique","Le Monde des Couleurs","La Danse des Couleurs","Mon Joli Tableau"],famille:["Ma Famille d'Amour","Tous Ensemble","Les Câlins de Famille","Mon Coeur de Famille"],default:["Ma Jolie Comptine","Chanson du Bonheur","Ma Petite Mélodie","Comptine Rigolote"]},histoire:{aventure:["La Grande Aventure","Voyage Extraordinaire","Mission Secrète","L'Aventure Fantastique"],animaux:["Les Amis de la Forêt","L'Histoire des Petits Animaux","Mes Copains Animaux","La Famille Animaux"],magie:["Le Monde Magique","L'Aventure Enchantée","Le Secret Magique","La Fée et ses Amis"],amitié:["Les Meilleurs Amis","Une Belle Amitié","Copains pour la Vie","L'Amitié Magique"],espace:["Voyage dans les Étoiles","L'Aventure Spatiale","Les Amis de l'Espace","Mission sur la Lune"],default:["Mon Belle Histoire","Conte Merveilleux","Histoire Fantastique","Récit d'Aventure"]},coloriage:{animaux:["Mes Amis Animaux","Zoo Rigolo","Famille Animaux","Copains de la Forêt"],licorne:["Licorne Magique","Princesse Licorne","Pays des Licornes","Licorne Arc-en-Ciel"],dinosaures:["Dino Rigolo","Mes Amis Dinosaures","Parc des Dinosaures","T-Rex et ses Copains"],nature:["Jardin Fleuri","Forêt Enchantée","Promenade Nature","Fleurs et Papillons"],espace:["Voyage Spatial","Planètes Rigolotes","Astronaute en Mission","Étoiles et Fusées"],véhicules:["Mes Voitures","Garage Rigolo","Course Automobile","Train et Avions"],default:["Mon Coloriage","Dessin Rigolo","Art Créatif","Belle Image"]},animation:{aventure:["Mon Dessin Animé","Animation Magique","Film d'Aventure","Cinéma Fantastique"],animaux:["Mes Amis Animés","Zoo en Mouvement","Aventures Animales","Cirque des Animaux"],magie:["Monde Enchanté","Magie en Mouvement","Film de Fée","Animation Magique"],espace:["Voyage Animé","Aventure Spatiale","Film de l'Espace","Mission Animation"],nature:["Forêt Animée","Jardin en Mouvement","Nature Vivante","Fleurs Dansantes"],default:["Mon Film IA","Dessin Animé IA","Animation Créative","Film Personnalisé"]}},i=r[e]||r.histoire,s=i[t]||i.default||i.aventure,o=Math.floor(Math.random()*s.length);return s[o]};function XP(e,t=600){const n=e.split(new RegExp("(?<=[.?!])\\s+")),r=[];let i="";for(const s of n)(i+s).length>t?(r.push(i.trim()),i=s+" "):i+=s+" ";return i.trim()&&r.push(i.trim()),r}function QP(){const[e,t]=O.useState("animation"),[n,r]=O.useState(null),[i,s]=O.useState(""),[o,a]=O.useState(!0),[l,d]=O.useState(""),[p,h]=O.useState(""),[g,m]=O.useState(null),[N,j]=O.useState(""),[L,w]=O.useState(null),[x,b]=O.useState(""),[T,q]=O.useState(!1),[G,R]=O.useState(null);O.useState(!1);const[M,$]=O.useState(!1),[re,F]=O.useState(!1),[k,W]=O.useState(null),[z,se]=O.useState(""),[Q,ae]=O.useState(null),[H,te]=O.useState(null),[ie,me]=O.useState(null),[A,B]=O.useState(null),[V,J]=O.useState(null),[Z,ce]=O.useState(null),[he,pe]=O.useState(""),[Ce,Ae]=O.useState(null),[Te,Ee]=O.useState(!1),[Ge,ye]=O.useState("demo"),[K,Je]=O.useState(!1),[Ue,ge]=O.useState(null);O.useState("user");const[be,ke]=O.useState(!1),[Ie,We]=O.useState("Générer"),[nt,it]=O.useState(!1),[ft,gt]=O.useState("mentions"),Pt=qe=>new Promise(ct=>setTimeout(ct,qe)),Qe=async(qe,{intervalMs:ct=5e3,maxAttempts:_e=240}={})=>{let Fe=0;for(;Fe<_e;){try{const at=await fetch(`${gi}/status/${qe}`);if(at.ok){const dt=await at.json();if((dt==null?void 0:dt.type)==="result"){const He=dt.data;if((He==null?void 0:He.status)==="completed"){if(He!=null&&He.clips&&He.clips.length>0)return He;console.warn('⚠️ Animation "completed" mais pas de clips, continuer le polling...')}if((He==null?void 0:He.status)==="failed")throw console.error("❌ Génération échouée:",He==null?void 0:He.error_message),new Error((He==null?void 0:He.error_message)||"Génération échouée")}}else console.warn(`⚠️ Erreur HTTP ${at.status} lors du polling`)}catch(at){console.warn("🔄 Erreur polling (tentative continue):",(at==null?void 0:at.message)||at)}Fe+=1,await Pt(ct)}throw console.error("❌ Timeout de génération de l'animation après",_e,"tentatives"),new Error("Timeout de génération de l'animation")},[ht,Me]=O.useState(null),{user:Lt,loading:vt}=F0(),[Ar,xt]=O.useState(!1);O.useMemo(()=>e==="audio"&&(G!=null&&G.content)?XP(G.content):[],[G,e]);const[Wt,zr]=O.useState(0);O.useEffect(()=>{window.location.hash==="#historique"&&xt(!0);const qe=()=>{xt(window.location.hash==="#historique")};return window.addEventListener("hashchange",qe),()=>window.removeEventListener("hashchange",qe)},[]),O.useEffect(()=>{(async()=>{if(Lt){const ct=await dP(Lt.id,Lt.email);ke(ct),wt(ct)}else ke(!1),wt(!1)})()},[Lt,e]),O.useEffect(()=>{r(null),s(""),a(!0),d(""),h(""),m(null),j(""),w(null),W(null),se(""),ae(null),me(null),B(null),J(null),ce(null),pe(""),R(null),te(null),Ae(null),Me(null)},[e]);const wt=qe=>{if(qe)We("Générer Gratuitement");else{const ct=L3(e);We(`Acheter pour ${ct.display}`)}},Oi=async()=>{if(!Lt){alert("Vous devez être connecté pour générer du contenu");return}if(be){Vt();return}if((await cP(e,Lt.id,Lt.email)).hasPermission)Vt();else{ge(e),Je(!0);return}},Vt=async()=>{var qe,ct;if(q(!0),R(null),!vt)try{let _e=null;if(e==="rhyme"){const dt={theme:n==="custom"?i:n,custom_request:x,language:"fr"},He=await fetch(`${Dn}/generate_rhyme/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(dt)});if(!He.ok)throw new Error(`Erreur HTTP : ${He.status}`);_e=await He.json()}else if(e==="audio"){const dt={story_type:g==="custom"?N:g,voice:L,custom_request:x},He=await fetch(`${Dn}/generate_audio_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(dt)});if(!He.ok)throw new Error(`Erreur HTTP : ${He.status}`);_e=await He.json()}else if(e==="coloring")if(Q){const dt=new FormData;dt.append("file",Q);const He=await fetch(`${Dn}/upload_photo_for_coloring/`,{method:"POST",body:dt});if(!He.ok)throw new Error(`Erreur upload : ${He.status}`);const It={photo_path:(await He.json()).file_path,with_colored_model:ie},Rt=await fetch(`${Dn}/convert_photo_to_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(It)});if(!Rt.ok)throw new Error(`Erreur conversion : ${Rt.status}`);const lr=await Rt.json();te(lr),_e=lr}else{const dt={theme:k,with_colored_model:ie},He=await fetch(`${Dn}/generate_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(dt)});if(!He.ok)throw new Error(`Erreur HTTP : ${He.status}`);const bt=await He.json();te(bt),_e=bt}else if(e==="animation"){let dt;if(A&&A!=="custom"?dt={magie:"Une histoire magique avec des créatures fantastiques dans un monde enchanté",aventure:"Une grande aventure pleine de découvertes et de rebondissements",animaux:"Une histoire mettant en scène des animaux adorables et leurs aventures",espace:"Un voyage extraordinaire à travers les étoiles et les planètes",nature:"Une exploration merveilleuse de la nature et de ses secrets",amitié:"Une belle histoire d'amitié et de solidarité",famille:"Une histoire touchante sur les liens familiaux"}[A]||`Une belle histoire sur le thème ${A}`:dt=he,!dt||dt.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractères");const It={theme:{magie:"magic",aventure:"adventure",animaux:"animals",espace:"space",nature:"nature",amitié:"friendship",famille:"friendship"}[A]||A||"adventure",duration:Number(V),custom_prompt:dt||void 0},Rt=Ge==="demo"?`${gi}/generate-quick?theme=${encodeURIComponent(k)}&duration=${V}`:`${gi}/generate`,lr=Ge==="demo"?{method:"POST",headers:{Accept:"application/json"}}:{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"},body:JSON.stringify(It)},Cn=await fetch(Rt,lr);if(!Cn.ok){const Qt=await Cn.text();throw console.error("Erreur API Animation:",Cn.status,Qt),new Error(`Erreur HTTP ${Cn.status}: ${Qt}`)}const Dt=await Cn.json();let At=Dt;const Nn=Dt==null?void 0:Dt.task_id,ur=(Dt==null?void 0:Dt.status)==="completed"&&((Dt==null?void 0:Dt.final_video_url)||(((qe=Dt==null?void 0:Dt.clips)==null?void 0:qe.length)||0)>0);Nn&&!ur&&(At=await Qe(Nn)),(At==null?void 0:At.status)==="completed"&&(At!=null&&At.clips)&&At.clips.length>0?(Ae(At),Ee(!0),_e=At):console.warn("⚠️ Animation non complétée ou sans clips, viewer non ouvert. Status:",At==null?void 0:At.status,"Clips:",(ct=At==null?void 0:At.clips)==null?void 0:ct.length)}if(R(_e),zr(0),e==="rhyme"&&_e.task_id&&o){Bi(_e.task_id);return}let Fe;e==="rhyme"?_e.title&&!_e.title.includes("générée")?Fe=_e.title+(_e.has_music?" 🎵":""):Fe=tu("comptine",n==="custom"?"default":n)+(_e.has_music?" 🎵":""):e==="audio"?_e.title&&!_e.title.includes("générée")?Fe=_e.title:Fe=tu("histoire",g==="custom"?"default":g):e==="coloring"?Fe=(_e==null?void 0:_e.title)||tu("coloriage",k):e==="animation"&&(Fe=(_e==null?void 0:_e.title)||tu("animation",A||"aventure")),Me(Fe);let at;e==="coloring"?at={id:Date.now().toString(),type:e,title:Fe,createdAt:new Date().toISOString(),content:_e?`${_e.total_images} coloriage(s) généré(s)`:"Coloriage généré",theme:k,images:(_e==null?void 0:_e.images)||[],metadata:(_e==null?void 0:_e.metadata)||{}}:e==="animation"?at={id:Date.now().toString(),type:e,title:Fe,createdAt:new Date().toISOString(),content:_e?`Animation de ${_e.actual_duration}s avec ${_e.total_scenes} scènes`:"Animation générée",theme:A,clips:(_e==null?void 0:_e.clips)||[],animation_data:_e||{}}:at={id:Date.now().toString(),type:e,title:Fe,createdAt:new Date().toISOString(),content:(_e==null?void 0:_e.content)||_e||"Contenu généré...",audio_path:(_e==null?void 0:_e.audio_path)||null};try{await dg({type:e,title:Fe,data:at})}catch(dt){console.error("Erreur lors de l'enregistrement dans l'historique:",dt)}}catch(_e){console.error("❌ Erreur de génération :",_e),alert(`❌ Erreur lors de la génération : ${_e.message}

💡 Conseil : Vérifiez que les clés API sont configurées dans le fichier .env du serveur.`)}finally{q(!1)}},Lr=qe=>{var ct,_e,Fe,at,dt;qe.action==="showStory"?(R({title:qe.title,content:qe.content||((ct=qe.data)==null?void 0:ct.content)||"",type:qe.type}),$(!0)):qe.action==="showColoring"?(te({success:!0,theme:qe.theme||((_e=qe.data)==null?void 0:_e.theme)||"coloriage",images:qe.images||((Fe=qe.data)==null?void 0:Fe.images)||[],total_images:(qe.images||((at=qe.data)==null?void 0:at.images)||[]).length,metadata:qe.metadata||((dt=qe.data)==null?void 0:dt.metadata)||{}}),F(!0)):(xt(!1),window.location.hash="")},Vr=()=>{xt(!1),window.location.hash=""},Jt=()=>{if(e==="rhyme"){if(!n||n==="custom"&&!i.trim())return!1}else if(e==="audio"){if(!g||g==="custom"&&!N.trim())return!1}else if(e==="coloring"){if(!k&&!Q||k==="custom"&&!z.trim()||ie===null)return!1}else if(e==="animation"&&(!A&&!he.trim()||A==="custom"&&!he.trim()||A==="custom"&&he.trim().length<10))return!1;return!0},tt={hidden:{opacity:0,height:0,marginBottom:0},visible:{opacity:1,height:"auto",marginBottom:"1rem"},exit:{opacity:0,height:0,marginBottom:0}},jt=async(qe,ct)=>{if(!ct||typeof ct!="string"){console.error("❌ Contenu invalide ou manquant pour le PDF.");return}const _e=new jsPDF({orientation:"p",unit:"mm",format:"a4"}),Fe=40,at=210,dt=297,He=12,bt=Math.floor((dt-Fe*2)/He),It=13;let Rt=qe;ct.startsWith("**")&&ct.includes("**",2)&&(Rt=ct.split("**")[1].trim(),ct=ct.replace(`**${Rt}**`,"").trim());const Dt=await(Qt=>new Promise(zn=>{const cr=new Image;cr.crossOrigin="anonymous",cr.src=Qt,cr.onload=()=>zn(cr)}))("/assets/fond_etoiles.png"),At=_e.splitTextToSize(ct,150);let Nn=0;for(let Qt=0;Nn<At.length;Qt++){Qt>0&&_e.addPage(),_e.addImage(Dt,"PNG",0,0,at,dt,void 0,"FAST"),Qt===0&&(_e.setFont("courier","bold"),_e.setFontSize(22),_e.setTextColor(110,50,230),_e.text(Rt,at/2,Fe-20,{align:"center"})),_e.setFont("courier","bold"),_e.setFontSize(It),_e.setTextColor(25,25,112);for(let zn=0;zn<bt&&Nn<At.length;zn++,Nn++){const cr=Fe+zn*He;_e.text(At[Nn],at/2,cr,{align:"center"})}_e.setFontSize(11),_e.setTextColor(106,90,205),_e.text(`Page ${Qt+1}`,at-15,290,{align:"right"})}const ur=Rt.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");_e.save(`${ur}.pdf`)},Bi=async(qe,ct=40,_e=5e3)=>{let Fe=0;const at=async()=>{try{const He=await(await fetch(`${Dn}/check_task_status/${qe}`)).json();if(He.status==="completed"&&He.songs&&He.songs.length>0)return R(bt=>{const It={...bt,songs:He.songs,has_music:!0,service:"suno"},Rt=bt.title||tu("comptine",n==="custom"?"default":n)+" 🎵";Me(Rt);const lr={id:Date.now().toString(),type:"rhyme",title:Rt,createdAt:new Date().toISOString(),content:bt.content||bt.rhyme||"Comptine générée",songs:He.songs};return dg({type:"rhyme",title:Rt,data:lr}).catch(Cn=>{console.error("Erreur lors de l'enregistrement dans l'historique:",Cn)}),It}),q(!1),!0;if(He.status==="failed")return console.error("❌ La génération musicale Suno a échoué:",He.error),R(bt=>({...bt,music_error:He.error,has_music:!1})),q(!1),!0;if(He.status!=="processing"){if(Fe>=ct-1)return console.warn("⚠️ Timeout atteint pour la génération musicale Suno"),q(!1),alert("⚠️ La génération de musique prend plus de temps que prévu. Veuillez vérifier votre historique dans quelques minutes."),!0}return Fe++,setTimeout(at,_e),!1}catch(dt){return console.error("❌ Erreur lors du polling Suno:",dt),Fe++,Fe<ct&&setTimeout(at,_e),!1}};await at()};return c.jsxs("div",{className:"app-container",children:[c.jsx($8,{isLoggedIn:!!Lt,onOpenHistory:()=>xt(!0)}),c.jsx("main",{className:"main-content",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs(Ve.div,{className:"creation-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["          ",c.jsx(Y8,{contentType:e,setContentType:t}),"          ",c.jsx(mi,{mode:"wait",children:e==="rhyme"?c.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{width:"100%"},children:c.jsx(J8,{selectedRhyme:n,setSelectedRhyme:r,customRhyme:i,setCustomRhyme:s})},"rhyme-selector"):e==="audio"?c.jsx(Ve.div,{variants:tt,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(Z8,{selectedAudioStory:g,setSelectedAudioStory:m,customAudioStory:N,setCustomAudioStory:j,selectedVoice:L,setSelectedVoice:w})},"audio-story-selector"):e==="coloring"?c.jsxs(Ve.div,{variants:tt,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:["                ",c.jsx(aP,{selectedTheme:k,setSelectedTheme:W,customColoringTheme:z,setCustomColoringTheme:se,uploadedPhoto:Q,setUploadedPhoto:ae,withColoredModel:ie,setWithColoredModel:me})]},"coloring-selector"):e==="animation"?c.jsx(Ve.div,{variants:tt,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},children:c.jsx(tC,{selectedTheme:A,setSelectedTheme:B,selectedDuration:V,setSelectedDuration:J,selectedStyle:Z,setSelectedStyle:ce,customStory:he,setCustomStory:pe,generationMode:Ge,setGenerationMode:ye})},"animation-selector"):null}),"          ",c.jsx(rC,{customRequest:x,setCustomRequest:b,stepNumber:e==="coloring"?4:3}),c.jsx(iC,{onGenerate:Oi,isGenerating:T,isDisabled:!Jt(),contentType:e,buttonText:Ie})]}),c.jsx("div",{className:"preview-column",children:c.jsx(Ve.div,{className:"preview-panel",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:c.jsx("div",{className:"preview-container",children:c.jsx("div",{className:`preview ${G?"":"empty"}`,children:c.jsx(mi,{mode:"wait",children:T?c.jsxs(Ve.div,{className:"generating-animation",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[c.jsxs("div",{className:"loading-dots",children:[c.jsx("div",{className:"dot"}),c.jsx("div",{className:"dot"}),c.jsx("div",{className:"dot"})]}),"      ",c.jsxs("p",{children:["        ",e==="rhyme"?"🎵 Votre comptine est en cours de création...":e==="audio"?"Création de l'histoire en cours...":e==="coloring"?"Création de vos coloriages en cours...":e==="animation"?"Création de votre dessin animé en cours...":"Génération en cours..."]})]},"generating"):H&&e==="coloring"?c.jsxs(Ve.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[c.jsx("button",{onClick:()=>F(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:"🎨 Ouvrir le coloriage"}),"      ",c.jsx("button",{onClick:()=>{if(H!=null&&H.images){const qe=ht||(k?`coloriages_${k}`:"coloriages");M0(H.images,qe)}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:"📄 Télécharger le coloriage"})]},"coloring-result"):G&&e==="rhyme"&&G.songs&&G.songs.length>0?c.jsx(Ve.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsx("div",{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"0.8rem",padding:"1rem",overflowY:"auto"},children:G.songs&&G.songs.length>0&&c.jsxs(c.Fragment,{children:[G.songs.map((qe,ct)=>c.jsxs("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",padding:"22px",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"14px"},children:[c.jsx("span",{style:{fontSize:"24px"},children:"🎵"}),c.jsx("h4",{style:{margin:0,fontSize:"15px",color:"#333",fontWeight:"600"},children:"Votre comptine est prête !"})]}),c.jsx("audio",{controls:!0,preload:"none",controlsList:"nodownload",style:{width:"100%",height:"60px",outline:"none"},src:qe.audio_url,children:"Votre navigateur ne supporte pas l'élément audio."})]},qe.id||ct)),c.jsx("button",{onClick:async()=>{if(G.songs&&G.songs.length>0){const qe=G.songs[0];try{const _e=await(await fetch(qe.audio_url)).blob(),Fe=window.URL.createObjectURL(_e),at=document.createElement("a");at.href=Fe,at.download=`${ht||"Comptine"}.mp3`,document.body.appendChild(at),at.click(),document.body.removeChild(at),window.URL.revokeObjectURL(Fe)}catch{window.open(qe.audio_url,"_blank")}}},style:{padding:"0.8rem 2rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"600",fontSize:"14px",marginTop:"0.8rem",boxShadow:"0 4px 12px rgba(107, 78, 255, 0.3)",transition:"all 0.3s ease"},onMouseOver:qe=>qe.target.style.transform="translateY(-2px)",onMouseOut:qe=>qe.target.style.transform="translateY(0)",children:"📥 Télécharger"})]})})},"rhyme-result"):c.jsxs(Ve.div,{className:"preview-placeholder",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:["  ",!(G!=null&&G.content)&&!H&&c.jsxs("div",{className:"empty-preview",children:["    ",c.jsx("p",{children:e==="rhyme"?"Votre comptine apparaîtra ici":e==="audio"?"Votre histoire apparaîtra ici":e==="coloring"?"Votre coloriage apparaîtra ici":"Votre dessin animé apparaîtra ici"})]}),e!=="rhyme"&&(G==null?void 0:G.audio_path)&&c.jsx("div",{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:c.jsx("audio",{controls:!0,style:{width:"100%",maxWidth:"360px"},src:`${Dn}/${G.audio_path}`,download:G.audio_path.split("/").pop()})}),e==="audio"&&(G==null?void 0:G.content)&&c.jsxs("div",{style:{height:"300px",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[c.jsx("button",{onClick:()=>$(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:"📖 Ouvrir l’histoire"}),c.jsx("button",{onClick:()=>jt(G.title,G.content),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:"📄 Télécharger l'histoire"})]})]},"placeholder")})})})})})]})}),c.jsx(mi,{children:Ar&&c.jsx(Ve.div,{className:"history-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:Vr,children:c.jsx(sP,{onClose:Vr,onSelect:Lr})})}),M&&c.jsx(oP,{title:G.title,content:G.content,onClose:()=>$(!1)}),"    ",re&&c.jsx(uP,{coloringResult:H,selectedTheme:k,onClose:()=>F(!1)}),Te&&c.jsx(nC,{animationResult:Ce,onClose:()=>Ee(!1)}),K&&c.jsx(YP,{contentType:Ue,userId:Lt==null?void 0:Lt.id,userEmail:Lt==null?void 0:Lt.email,onSuccess:qe=>{Je(!1),setTimeout(()=>{Vt()},500)},onCancel:()=>{Je(!1)}}),c.jsx(KP,{onLegalClick:qe=>{it(!0),gt(qe)}}),c.jsx(mi,{children:nt&&c.jsx(JP,{onClose:()=>it(!1),initialSection:ft})})]})}const sv=["fredagathe77@gmail.com","admin@herbbie.com"],nu="herbbie_admin_session",yo={initAuthListener(e){const t=()=>{const r=this.getStoredSession();r&&r.user?e({user:r.user,isAdmin:r.isAdmin,session:r}):e(null)};t();const n=r=>{r.key===nu&&t()};return window.addEventListener("storage",n),{unsubscribe:()=>{window.removeEventListener("storage",n)}}},async signIn(e,t){try{if(!sv.includes(e))throw new Error("Accès refusé. Seuls les administrateurs peuvent accéder à ce panneau.");const n={id:"admin-"+Date.now(),email:e,user_metadata:{full_name:e==="fredagathe77@gmail.com"?"Admin Principal":"Administrateur"}},r={user:n,access_token:"admin-token-"+Date.now(),token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:n,isAdmin:!0,session:r}),{user:n,session:r,isAdmin:!0}}catch(n){throw console.error("Erreur de connexion:",n),n}},async signOut(){try{localStorage.removeItem(nu)}catch(e){throw console.error("Erreur de déconnexion:",e),e}},async getCurrentUser(){try{const e=this.getStoredSession();return e&&e.user?{user:e.user,isAdmin:e.isAdmin}:null}catch(e){return console.error("Erreur lors de la récupération de l'utilisateur:",e),null}},async checkUserIsAdmin(e){try{return!e||!e.email?!1:sv.includes(e.email)}catch(t){return console.error("Erreur lors de la vérification du rôle admin:",t),!1}},async authenticateWithToken(e){try{if(!e||!e.includes("admin"))return console.warn("Token invalide"),!1;const t={id:"admin-auto-"+Date.now(),email:"admin@herbbie.com",user_metadata:{full_name:"Administrateur Auto"}},n={user:t,access_token:e,token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:t,isAdmin:!0,session:n}),{user:t,isAdmin:!0,session:n}}catch(t){return console.error("Erreur authentification automatique:",t),!1}},async getCurrentSession(){try{return this.getStoredSession()}catch(e){return console.error("Erreur lors de la récupération de la session:",e),null}},storeSession(e){try{localStorage.setItem(nu,JSON.stringify(e))}catch(t){console.error("Erreur lors du stockage de la session:",t)}},getStoredSession(){try{const e=localStorage.getItem(nu);if(e){const t=JSON.parse(e);if(t.session&&t.session.expires_at>Date.now())return t;localStorage.removeItem(nu)}}catch(e){console.error("Erreur lors de la récupération de la session:",e)}return null}},V3=O.createContext(),U3=()=>{const e=O.useContext(V3);if(!e)throw new Error("useAuth doit être utilisé dans un AuthProvider");return e},ZP=({children:e})=>{const[t,n]=O.useState(null),[r,i]=O.useState(!1),[s,o]=O.useState(!0),[a,l]=O.useState(null);O.useEffect(()=>{let g;return(async()=>{try{const N=await yo.getCurrentSession();if(N!=null&&N.user){const j=await yo.checkUserIsAdmin(N.user);n(N.user),i(j),l(N)}}catch(N){console.error("Erreur lors de l'initialisation de l'authentification:",N)}finally{o(!1)}g=yo.initAuthListener(async N=>{N?(n(N.user),i(N.isAdmin),l(N.session)):(n(null),i(!1),l(null)),o(!1)})})(),()=>{g&&g.unsubscribe()}},[]);const h={user:t,isAdmin:r,loading:s,session:a,signIn:async(g,m)=>{o(!0);try{const N=await yo.signIn(g,m);return N&&(n(N.user),i(N.isAdmin),l(N.session)),N}catch(N){throw N}finally{o(!1)}},signOut:async()=>{o(!0);try{await yo.signOut(),n(null),i(!1),l(null)}catch(g){throw console.error("Erreur lors de la déconnexion:",g),g}finally{o(!1)}},authenticateWithToken:yo.authenticateWithToken.bind(yo),isAuthenticated:!!t&&r};return c.jsx(V3.Provider,{value:h,children:e})};const ek=()=>{const[e,t]=O.useState(""),[n,r]=O.useState(""),[i,s]=O.useState(""),[o,a]=O.useState(!1),{signIn:l}=U3(),d=async p=>{p.preventDefault(),s(""),a(!0);try{await l(e,n)}catch(h){s(h.message||"Erreur de connexion")}finally{a(!1)}};return c.jsx("div",{className:"login-container",children:c.jsxs(Ve.div,{className:"login-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"login-header",children:[c.jsx("div",{className:"login-logo",children:c.jsxs("div",{className:"login-logo-text",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("span",{children:"Administration"})]})}),c.jsx("h2",{children:"Connexion Administrateur"}),c.jsx("p",{children:"Accès réservé aux administrateurs HERBBIE"})]}),c.jsxs("form",{className:"login-form",onSubmit:d,children:[i&&c.jsxs(Ve.div,{className:"login-error",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:[c.jsx("span",{children:"⚠️"})," ",i]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"email",children:"Email administrateur"}),c.jsx("input",{type:"email",id:"email",value:e,onChange:p=>t(p.target.value),placeholder:"admin@herbbie.com",required:!0,disabled:o,autoComplete:"email"})]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"password",children:"Mot de passe"}),c.jsx("input",{type:"password",id:"password",value:n,onChange:p=>r(p.target.value),placeholder:"••••••••",required:!0,disabled:o,autoComplete:"current-password"})]}),c.jsx("button",{type:"submit",className:"login-button",disabled:o||!e||!n,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"login-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),c.jsx("div",{className:"login-footer",children:c.jsx("p",{children:"🔒 Accès sécurisé - Seuls les administrateurs peuvent se connecter"})})]})})},q3="admin_features_config",Af={animation:{enabled:!0,name:"Dessin animé",icon:"🎬",description:"Génération de dessins animés personnalisés avec IA"},comic:{enabled:!0,name:"Bande dessinée",icon:"💬",description:"Création de bandes dessinées avec bulles de dialogue"},coloring:{enabled:!0,name:"Coloriage",icon:"🎨",description:"Pages de coloriage à imprimer pour les enfants"},audio:{enabled:!0,name:"Histoire",icon:"📖",description:"Histoires audio avec narration automatique"},rhyme:{enabled:!0,name:"Comptine",icon:"🎵",description:"Comptines musicales avec paroles et mélodies"}},$3=()=>{try{const e=localStorage.getItem(q3);if(e){const t=JSON.parse(e);return{...Af,...t}}}catch(e){console.warn("Erreur lors du chargement des fonctionnalités depuis le localStorage:",e)}return Af},H3=e=>{try{return localStorage.setItem(q3,JSON.stringify(e)),!0}catch(t){return console.error("Erreur lors de la sauvegarde des fonctionnalités:",t),!1}},tk=async()=>{try{const e=$3();return console.log("📋 Fonctionnalités chargées:",e),e}catch(e){return console.error("Erreur lors du chargement des fonctionnalités:",e),Af}},nk=async(e,t)=>{try{const n=$3();if(!n[e])return console.error(`Fonctionnalité ${e} non trouvée`),null;const r={...n,[e]:{...n[e],enabled:t,updated_at:new Date().toISOString()}};return H3(r)?(console.log(`✅ Fonctionnalité ${e} mise à jour: ${t?"activée":"désactivée"}`),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:r})),r):(console.error("Erreur lors de la sauvegarde"),null)}catch(n){return console.error("Erreur lors de la mise à jour de la fonctionnalité:",n),null}},rk=async()=>{try{const e={...Af};return Object.keys(e).forEach(t=>{e[t].updated_at=new Date().toISOString()}),H3(e)?(console.log("🔄 Toutes les fonctionnalités ont été réinitialisées"),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:e})),e):(console.error("Erreur lors de la réinitialisation"),null)}catch(e){return console.error("Erreur lors de la réinitialisation des fonctionnalités:",e),null}};const ik=()=>{const[e,t]=O.useState({}),[n,r]=O.useState(!0),[i,s]=O.useState(null);O.useEffect(()=>{o()},[]);const o=async()=>{try{r(!0);const g=await tk();t(g)}catch(g){console.error("Erreur lors du chargement des fonctionnalités:",g),d("Erreur lors du chargement des fonctionnalités","error")}finally{r(!1)}},a=async g=>{var m,N;try{const j=((m=e[g])==null?void 0:m.enabled)||!1,L=await nk(g,!j);if(L){t(L),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:L}));const w=j?"désactivée":"activée";d(`Fonctionnalité ${(N=e[g])==null?void 0:N.name} ${w}`,"success")}else d("Erreur lors de la mise à jour","error")}catch(j){console.error("Erreur lors de la mise à jour:",j),d("Erreur lors de la mise à jour","error")}},l=async()=>{try{const g=await rk();g?(t(g),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:g})),d("Toutes les fonctionnalités ont été réinitialisées","success")):d("Erreur lors de la réinitialisation","error")}catch(g){console.error("Erreur lors de la réinitialisation:",g),d("Erreur lors de la réinitialisation","error")}},d=(g,m="info")=>{s({message:g,type:m}),setTimeout(()=>s(null),3e3)},p=()=>Object.values(e).filter(g=>g.enabled).length,h=()=>Object.keys(e).length;return n?c.jsxs("div",{className:"admin-loading",children:[c.jsx("div",{className:"admin-loading-spinner"}),c.jsx("span",{children:"Chargement des fonctionnalités..."})]}):c.jsxs("div",{className:"feature-manager-container",children:[i&&c.jsx(Ve.div,{className:`admin-notification ${i.type} show`,initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},children:i.message}),c.jsxs("div",{className:"feature-manager-header",children:[c.jsxs("div",{className:"feature-manager-stats",children:[c.jsxs("div",{className:"feature-stat",children:[c.jsx("span",{className:"feature-stat-number",children:p()}),c.jsx("span",{className:"feature-stat-label",children:"Activées"})]}),c.jsxs("div",{className:"feature-stat",children:[c.jsx("span",{className:"feature-stat-number",children:h()}),c.jsx("span",{className:"feature-stat-label",children:"Total"})]}),c.jsxs("div",{className:"feature-stat",children:[c.jsxs("span",{className:"feature-stat-number",children:[Math.round(p()/h()*100),"%"]}),c.jsx("span",{className:"feature-stat-label",children:"Taux d'activation"})]})]}),c.jsx("div",{className:"feature-manager-actions",children:c.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:l,children:"🔄 Réinitialiser"})})]}),c.jsx("div",{className:"feature-manager-grid",children:Object.entries(e).map(([g,m])=>c.jsxs(Ve.div,{className:"feature-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[c.jsxs("div",{className:"feature-card-header",children:[c.jsxs("div",{className:"feature-info",children:[c.jsx("span",{className:"feature-icon",children:sk(g)}),c.jsxs("div",{className:"feature-details",children:[c.jsx("h3",{className:"feature-name",children:m.name}),c.jsx("span",{className:`feature-status ${m.enabled?"enabled":"disabled"}`,children:m.enabled?"Activée":"Désactivée"})]})]}),c.jsxs("label",{className:"feature-toggle",children:[c.jsx("input",{type:"checkbox",checked:m.enabled,onChange:()=>a(g)}),c.jsx("span",{className:"toggle-slider"})]})]}),c.jsx("div",{className:"feature-card-body",children:c.jsx("p",{className:"feature-description",children:ok(g)})})]},g))}),c.jsx("div",{className:"feature-manager-info",children:c.jsxs("div",{className:"admin-card",children:[c.jsx("div",{className:"admin-card-header",children:c.jsx("h3",{children:"📋 Informations"})}),c.jsxs("div",{className:"admin-card-body",children:[c.jsx("p",{children:"Les fonctionnalités activées sont visibles pour tous les utilisateurs de HERBBIE. Les modifications sont appliquées immédiatement."}),c.jsxs("ul",{className:"feature-info-list",children:[c.jsxs("li",{children:["🎬 ",c.jsx("strong",{children:"Dessin animé"})," : Génération de vidéos animées"]}),c.jsxs("li",{children:["💬 ",c.jsx("strong",{children:"Bande dessinée"})," : Création de BD avec bulles"]}),c.jsxs("li",{children:["🎨 ",c.jsx("strong",{children:"Coloriage"})," : Pages de coloriage à imprimer"]}),c.jsxs("li",{children:["📖 ",c.jsx("strong",{children:"Histoire"})," : Contes audio avec narration"]}),c.jsxs("li",{children:["🎵 ",c.jsx("strong",{children:"Comptine"})," : Chansons avec musique générée"]})]})]})]})})]})},sk=e=>({animation:"🎬",comic:"💬",coloring:"🎨",audio:"📖",rhyme:"🎵"})[e]||"📋",ok=e=>({animation:"Génération de dessins animés personnalisés avec IA",comic:"Création de bandes dessinées avec bulles de dialogue",coloring:"Pages de coloriage à imprimer pour les enfants",audio:"Histoires audio avec narration automatique",rhyme:"Comptines musicales avec paroles et mélodies"})[e]||"Fonctionnalité de création de contenu",ak=()=>{const{user:e,isAdmin:t,loading:n,signOut:r}=U3(),[i]=bN(),s=s0(),o=i.get("auth"),[a,l]=kt.useState(!1);return O.useEffect(()=>{o==="auto"?(l(!0),window.history.replaceState({},"","/admin")):!o&&!a&&localStorage.removeItem("herbbie_admin_session")},[o]),O.useEffect(()=>{const p=()=>{l(!1),localStorage.removeItem("herbbie_admin_session")};return window.addEventListener("beforeunload",p),()=>{window.removeEventListener("beforeunload",p)}},[]),n&&!a?c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:c.jsx("div",{children:"Chargement..."})}):a||e&&t?c.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"40px 20px"},children:c.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[c.jsx("h1",{style:{color:"white",textAlign:"center",marginBottom:"40px",fontSize:"2.5em"},children:"⚙️ Gestion des Fonctionnalités Herbbie"}),c.jsx(ik,{}),c.jsxs("div",{style:{marginTop:"40px",textAlign:"center",display:"flex",gap:"15px",justifyContent:"center",flexWrap:"wrap"},children:[c.jsx("a",{href:"/",onClick:p=>{p.preventDefault(),localStorage.removeItem("herbbie_admin_session"),window.location.href="/"},style:{color:"white",textDecoration:"none",padding:"12px 30px",background:"rgba(255,255,255,0.2)",borderRadius:"25px",display:"inline-block",transition:"all 0.3s ease",cursor:"pointer"},children:"← Retour à Herbbie"}),c.jsx("button",{onClick:async()=>{await r(),localStorage.removeItem("herbbie_admin_session"),s("/admin")},style:{color:"white",border:"none",padding:"12px 30px",background:"rgba(255,0,0,0.3)",borderRadius:"25px",cursor:"pointer",fontSize:"16px",fontWeight:"500",transition:"all 0.3s ease"},children:"🚪 Déconnexion"})]})]})}):c.jsx(ek,{})},lk=()=>c.jsx(ZP,{children:c.jsx(ak,{})});zp.createRoot(document.getElementById("root")).render(c.jsx(kt.StrictMode,{children:c.jsx(gN,{children:c.jsxs(H6,{children:[c.jsx(Im,{path:"/",element:c.jsx(QP,{})}),c.jsx(Im,{path:"/admin",element:c.jsx(lk,{})})]})})}));export{Ft as _};
