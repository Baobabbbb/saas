(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ji=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function D_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Cw={exports:{}},Rf={},Pw={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju=Symbol.for("react.element"),M_=Symbol.for("react.portal"),B_=Symbol.for("react.fragment"),U_=Symbol.for("react.strict_mode"),z_=Symbol.for("react.profiler"),$_=Symbol.for("react.provider"),q_=Symbol.for("react.context"),V_=Symbol.for("react.forward_ref"),H_=Symbol.for("react.suspense"),W_=Symbol.for("react.memo"),G_=Symbol.for("react.lazy"),i2=Symbol.iterator;function K_(e){return e===null||typeof e!="object"?null:(e=i2&&e[i2]||e["@@iterator"],typeof e=="function"?e:null)}var Ew={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lw=Object.assign,Tw={};function ec(e,t,n){this.props=e,this.context=t,this.refs=Tw,this.updater=n||Ew}ec.prototype.isReactComponent={};ec.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ec.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Iw(){}Iw.prototype=ec.prototype;function Og(e,t,n){this.props=e,this.context=t,this.refs=Tw,this.updater=n||Ew}var Dg=Og.prototype=new Iw;Dg.constructor=Og;Lw(Dg,ec.prototype);Dg.isPureReactComponent=!0;var s2=Array.isArray,Rw=Object.prototype.hasOwnProperty,Mg={current:null},Fw={key:!0,ref:!0,__self:!0,__source:!0};function Ow(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Rw.call(t,r)&&!Fw.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ju,type:e,key:s,ref:o,props:i,_owner:Mg.current}}function J_(e,t){return{$$typeof:Ju,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ju}function Y_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var o2=/\/+/g;function Jp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Y_(""+e.key):t.toString(36)}function kh(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ju:case M_:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Jp(o,0):r,s2(i)?(n="",e!=null&&(n=e.replace(o2,"$&/")+"/"),kh(i,t,n,"",function(u){return u})):i!=null&&(Bg(i)&&(i=J_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(o2,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",s2(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Jp(s,a);o+=kh(s,t,n,l,i)}else if(l=K_(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Jp(s,a++),o+=kh(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Gd(e,t,n){if(e==null)return e;var r=[],i=0;return kh(e,r,"","",function(s){return t.call(n,s,i++)}),r}function X_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wr={current:null},Nh={transition:null},Q_={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:Nh,ReactCurrentOwner:Mg};function Dw(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:Gd,forEach:function(e,t,n){Gd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gd(e,function(){t++}),t},toArray:function(e){return Gd(e,function(t){return t})||[]},only:function(e){if(!Bg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xt.Component=ec;xt.Fragment=B_;xt.Profiler=z_;xt.PureComponent=Og;xt.StrictMode=U_;xt.Suspense=H_;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q_;xt.act=Dw;xt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Lw({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Mg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Rw.call(t,l)&&!Fw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ju,type:e.type,key:i,ref:s,props:r,_owner:o}};xt.createContext=function(e){return e={$$typeof:q_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$_,_context:e},e.Consumer=e};xt.createElement=Ow;xt.createFactory=function(e){var t=Ow.bind(null,e);return t.type=e,t};xt.createRef=function(){return{current:null}};xt.forwardRef=function(e){return{$$typeof:V_,render:e}};xt.isValidElement=Bg;xt.lazy=function(e){return{$$typeof:G_,_payload:{_status:-1,_result:e},_init:X_}};xt.memo=function(e,t){return{$$typeof:W_,type:e,compare:t===void 0?null:t}};xt.startTransition=function(e){var t=Nh.transition;Nh.transition={};try{e()}finally{Nh.transition=t}};xt.unstable_act=Dw;xt.useCallback=function(e,t){return wr.current.useCallback(e,t)};xt.useContext=function(e){return wr.current.useContext(e)};xt.useDebugValue=function(){};xt.useDeferredValue=function(e){return wr.current.useDeferredValue(e)};xt.useEffect=function(e,t){return wr.current.useEffect(e,t)};xt.useId=function(){return wr.current.useId()};xt.useImperativeHandle=function(e,t,n){return wr.current.useImperativeHandle(e,t,n)};xt.useInsertionEffect=function(e,t){return wr.current.useInsertionEffect(e,t)};xt.useLayoutEffect=function(e,t){return wr.current.useLayoutEffect(e,t)};xt.useMemo=function(e,t){return wr.current.useMemo(e,t)};xt.useReducer=function(e,t,n){return wr.current.useReducer(e,t,n)};xt.useRef=function(e){return wr.current.useRef(e)};xt.useState=function(e){return wr.current.useState(e)};xt.useSyncExternalStore=function(e,t,n){return wr.current.useSyncExternalStore(e,t,n)};xt.useTransition=function(){return wr.current.useTransition()};xt.version="18.3.1";Pw.exports=xt;var I=Pw.exports;const Mt=Fg(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_=I,ej=Symbol.for("react.element"),tj=Symbol.for("react.fragment"),nj=Object.prototype.hasOwnProperty,rj=Z_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ij={key:!0,ref:!0,__self:!0,__source:!0};function Mw(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)nj.call(t,r)&&!ij.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ej,type:e,key:s,ref:o,props:i,_owner:rj.current}}Rf.Fragment=tj;Rf.jsx=Mw;Rf.jsxs=Mw;Cw.exports=Rf;var c=Cw.exports,e0={},Bw={exports:{}},ii={},Uw={exports:{}},zw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,re){var Y=W.length;W.push(re);e:for(;0<Y;){var me=Y-1>>>1,N=W[me];if(0<i(N,re))W[me]=re,W[Y]=N,Y=me;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var re=W[0],Y=W.pop();if(Y!==re){W[0]=Y;e:for(var me=0,N=W.length,U=N>>>1;me<U;){var z=2*(me+1)-1,G=W[z],Z=z+1,se=W[Z];if(0>i(G,Y))Z<N&&0>i(se,G)?(W[me]=se,W[Z]=Y,me=Z):(W[me]=G,W[z]=Y,me=z);else if(Z<N&&0>i(se,Y))W[me]=se,W[Z]=Y,me=Z;else break e}}return re}function i(W,re){var Y=W.sortIndex-re.sortIndex;return Y!==0?Y:W.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,g=3,m=!1,b=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var re=n(u);re!==null;){if(re.callback===null)r(u);else if(re.startTime<=W)r(u),re.sortIndex=re.expirationTime,t(l,re);else break;re=n(u)}}function E(W){if(S=!1,_(W),!b)if(n(l)!==null)b=!0,ce(D);else{var re=n(u);re!==null&&le(E,re.startTime-W)}}function D(W,re){b=!1,S&&(S=!1,y(R),R=-1),m=!0;var Y=g;try{for(_(re),f=n(l);f!==null&&(!(f.expirationTime>re)||W&&!F());){var me=f.callback;if(typeof me=="function"){f.callback=null,g=f.priorityLevel;var N=me(f.expirationTime<=re);re=e.unstable_now(),typeof N=="function"?f.callback=N:f===n(l)&&r(l),_(re)}else r(l);f=n(l)}if(f!==null)var U=!0;else{var z=n(u);z!==null&&le(E,z.startTime-re),U=!1}return U}finally{f=null,g=Y,m=!1}}var q=!1,M=null,R=-1,Q=5,X=-1;function F(){return!(e.unstable_now()-X<Q)}function P(){if(M!==null){var W=e.unstable_now();X=W;var re=!0;try{re=M(!0,W)}finally{re?J():(q=!1,M=null)}}else q=!1}var J;if(typeof x=="function")J=function(){x(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ae=V.port2;V.port1.onmessage=P,J=function(){ae.postMessage(null)}}else J=function(){k(P,0)};function ce(W){M=W,q||(q=!0,J())}function le(W,re){R=k(function(){W(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,ce(D))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(W){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var Y=g;g=re;try{return W()}finally{g=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=g;g=W;try{return re()}finally{g=Y}},e.unstable_scheduleCallback=function(W,re,Y){var me=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?me+Y:me):Y=me,W){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=Y+N,W={id:h++,callback:re,priorityLevel:W,startTime:Y,expirationTime:N,sortIndex:-1},Y>me?(W.sortIndex=Y,t(u,W),n(l)===null&&W===n(u)&&(S?(y(R),R=-1):S=!0,le(E,Y-me))):(W.sortIndex=N,t(l,W),b||m||(b=!0,ce(D))),W},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(W){var re=g;return function(){var Y=g;g=re;try{return W.apply(this,arguments)}finally{g=Y}}}})(zw);Uw.exports=zw;var sj=Uw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oj=I,ni=sj;function Le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $w=new Set,ju={};function ka(e,t){$l(e,t),$l(e+"Capture",t)}function $l(e,t){for(ju[e]=t,e=0;e<t.length;e++)$w.add(t[e])}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t0=Object.prototype.hasOwnProperty,aj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a2={},l2={};function lj(e){return t0.call(l2,e)?!0:t0.call(a2,e)?!1:aj.test(e)?l2[e]=!0:(a2[e]=!0,!1)}function cj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uj(e,t,n,r){if(t===null||typeof t>"u"||cj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jn[e]=new xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jn[t]=new xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jn[e]=new xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jn[e]=new xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jn[e]=new xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jn[e]=new xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jn[e]=new xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jn[e]=new xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jn[e]=new xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ug=/[\-:]([a-z])/g;function zg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ug,zg);Jn[t]=new xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ug,zg);Jn[t]=new xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ug,zg);Jn[t]=new xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jn[e]=new xr(e,1,!1,e.toLowerCase(),null,!1,!1)});Jn.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jn[e]=new xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function $g(e,t,n,r){var i=Jn.hasOwnProperty(t)?Jn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uj(t,n,i,r)&&(n=null),r||i===null?lj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ws=oj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kd=Symbol.for("react.element"),fl=Symbol.for("react.portal"),pl=Symbol.for("react.fragment"),qg=Symbol.for("react.strict_mode"),n0=Symbol.for("react.profiler"),qw=Symbol.for("react.provider"),Vw=Symbol.for("react.context"),Vg=Symbol.for("react.forward_ref"),r0=Symbol.for("react.suspense"),i0=Symbol.for("react.suspense_list"),Hg=Symbol.for("react.memo"),go=Symbol.for("react.lazy"),Hw=Symbol.for("react.offscreen"),c2=Symbol.iterator;function Mc(e){return e===null||typeof e!="object"?null:(e=c2&&e[c2]||e["@@iterator"],typeof e=="function"?e:null)}var an=Object.assign,Yp;function eu(e){if(Yp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yp=t&&t[1]||""}return`
`+Yp+e}var Xp=!1;function Qp(e,t){if(!e||Xp)return"";Xp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?eu(e):""}function dj(e){switch(e.tag){case 5:return eu(e.type);case 16:return eu("Lazy");case 13:return eu("Suspense");case 19:return eu("SuspenseList");case 0:case 2:case 15:return e=Qp(e.type,!1),e;case 11:return e=Qp(e.type.render,!1),e;case 1:return e=Qp(e.type,!0),e;default:return""}}function s0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pl:return"Fragment";case fl:return"Portal";case n0:return"Profiler";case qg:return"StrictMode";case r0:return"Suspense";case i0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vw:return(e.displayName||"Context")+".Consumer";case qw:return(e._context.displayName||"Context")+".Provider";case Vg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hg:return t=e.displayName||null,t!==null?t:s0(e.type)||"Memo";case go:t=e._payload,e=e._init;try{return s0(e(t))}catch{}}return null}function hj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s0(t);case 8:return t===qg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function To(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ww(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fj(e){var t=Ww(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jd(e){e._valueTracker||(e._valueTracker=fj(e))}function Gw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ww(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Jh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function o0(e,t){var n=t.checked;return an({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function u2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=To(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kw(e,t){t=t.checked,t!=null&&$g(e,"checked",t,!1)}function a0(e,t){Kw(e,t);var n=To(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?l0(e,t.type,n):t.hasOwnProperty("defaultValue")&&l0(e,t.type,To(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function d2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function l0(e,t,n){(t!=="number"||Jh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var tu=Array.isArray;function Tl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+To(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function c0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Le(91));return an({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function h2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Le(92));if(tu(n)){if(1<n.length)throw Error(Le(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:To(n)}}function Jw(e,t){var n=To(t.value),r=To(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function f2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function u0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yd,Xw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yd=Yd||document.createElement("div"),Yd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ku(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pj=["Webkit","ms","Moz","O"];Object.keys(lu).forEach(function(e){pj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lu[t]=lu[e]})});function Qw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lu.hasOwnProperty(e)&&lu[e]?(""+t).trim():t+"px"}function Zw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var mj=an({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d0(e,t){if(t){if(mj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Le(62))}}function h0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f0=null;function Wg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var p0=null,Il=null,Rl=null;function p2(e){if(e=Qu(e)){if(typeof p0!="function")throw Error(Le(280));var t=e.stateNode;t&&(t=Bf(t),p0(e.stateNode,e.type,t))}}function ex(e){Il?Rl?Rl.push(e):Rl=[e]:Il=e}function tx(){if(Il){var e=Il,t=Rl;if(Rl=Il=null,p2(e),t)for(e=0;e<t.length;e++)p2(t[e])}}function nx(e,t){return e(t)}function rx(){}var Zp=!1;function ix(e,t,n){if(Zp)return e(t,n);Zp=!0;try{return nx(e,t,n)}finally{Zp=!1,(Il!==null||Rl!==null)&&(rx(),tx())}}function Nu(e,t){var n=e.stateNode;if(n===null)return null;var r=Bf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Le(231,t,typeof n));return n}var m0=!1;if(Us)try{var Bc={};Object.defineProperty(Bc,"passive",{get:function(){m0=!0}}),window.addEventListener("test",Bc,Bc),window.removeEventListener("test",Bc,Bc)}catch{m0=!1}function gj(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var cu=!1,Yh=null,Xh=!1,g0=null,vj={onError:function(e){cu=!0,Yh=e}};function yj(e,t,n,r,i,s,o,a,l){cu=!1,Yh=null,gj.apply(vj,arguments)}function wj(e,t,n,r,i,s,o,a,l){if(yj.apply(this,arguments),cu){if(cu){var u=Yh;cu=!1,Yh=null}else throw Error(Le(198));Xh||(Xh=!0,g0=u)}}function Na(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m2(e){if(Na(e)!==e)throw Error(Le(188))}function xj(e){var t=e.alternate;if(!t){if(t=Na(e),t===null)throw Error(Le(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return m2(i),e;if(s===r)return m2(i),t;s=s.sibling}throw Error(Le(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Le(189))}}if(n.alternate!==r)throw Error(Le(190))}if(n.tag!==3)throw Error(Le(188));return n.stateNode.current===n?e:t}function ox(e){return e=xj(e),e!==null?ax(e):null}function ax(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ax(e);if(t!==null)return t;e=e.sibling}return null}var lx=ni.unstable_scheduleCallback,g2=ni.unstable_cancelCallback,bj=ni.unstable_shouldYield,Sj=ni.unstable_requestPaint,wn=ni.unstable_now,_j=ni.unstable_getCurrentPriorityLevel,Gg=ni.unstable_ImmediatePriority,cx=ni.unstable_UserBlockingPriority,Qh=ni.unstable_NormalPriority,jj=ni.unstable_LowPriority,ux=ni.unstable_IdlePriority,Ff=null,as=null;function kj(e){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(Ff,e,void 0,(e.current.flags&128)===128)}catch{}}var qi=Math.clz32?Math.clz32:Cj,Nj=Math.log,Aj=Math.LN2;function Cj(e){return e>>>=0,e===0?32:31-(Nj(e)/Aj|0)|0}var Xd=64,Qd=4194304;function nu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=nu(a):(s&=o,s!==0&&(r=nu(s)))}else o=n&~i,o!==0?r=nu(o):s!==0&&(r=nu(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qi(t),i=1<<n,r|=e[n],t&=~i;return r}function Pj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ej(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-qi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Pj(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function v0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dx(){var e=Xd;return Xd<<=1,!(Xd&4194240)&&(Xd=64),e}function em(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qi(t),e[t]=n}function Lj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-qi(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Kg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ot=0;function hx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fx,Jg,px,mx,gx,y0=!1,Zd=[],jo=null,ko=null,No=null,Au=new Map,Cu=new Map,yo=[],Tj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v2(e,t){switch(e){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":Au.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(t.pointerId)}}function Uc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Qu(t),t!==null&&Jg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ij(e,t,n,r,i){switch(t){case"focusin":return jo=Uc(jo,e,t,n,r,i),!0;case"dragenter":return ko=Uc(ko,e,t,n,r,i),!0;case"mouseover":return No=Uc(No,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Au.set(s,Uc(Au.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cu.set(s,Uc(Cu.get(s)||null,e,t,n,r,i)),!0}return!1}function vx(e){var t=ha(e.target);if(t!==null){var n=Na(t);if(n!==null){if(t=n.tag,t===13){if(t=sx(n),t!==null){e.blockedOn=t,gx(e.priority,function(){px(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ah(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=w0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);f0=r,n.target.dispatchEvent(r),f0=null}else return t=Qu(n),t!==null&&Jg(t),e.blockedOn=n,!1;t.shift()}return!0}function y2(e,t,n){Ah(e)&&n.delete(t)}function Rj(){y0=!1,jo!==null&&Ah(jo)&&(jo=null),ko!==null&&Ah(ko)&&(ko=null),No!==null&&Ah(No)&&(No=null),Au.forEach(y2),Cu.forEach(y2)}function zc(e,t){e.blockedOn===t&&(e.blockedOn=null,y0||(y0=!0,ni.unstable_scheduleCallback(ni.unstable_NormalPriority,Rj)))}function Pu(e){function t(i){return zc(i,e)}if(0<Zd.length){zc(Zd[0],e);for(var n=1;n<Zd.length;n++){var r=Zd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jo!==null&&zc(jo,e),ko!==null&&zc(ko,e),No!==null&&zc(No,e),Au.forEach(t),Cu.forEach(t),n=0;n<yo.length;n++)r=yo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<yo.length&&(n=yo[0],n.blockedOn===null);)vx(n),n.blockedOn===null&&yo.shift()}var Fl=Ws.ReactCurrentBatchConfig,ef=!0;function Fj(e,t,n,r){var i=Ot,s=Fl.transition;Fl.transition=null;try{Ot=1,Yg(e,t,n,r)}finally{Ot=i,Fl.transition=s}}function Oj(e,t,n,r){var i=Ot,s=Fl.transition;Fl.transition=null;try{Ot=4,Yg(e,t,n,r)}finally{Ot=i,Fl.transition=s}}function Yg(e,t,n,r){if(ef){var i=w0(e,t,n,r);if(i===null)um(e,t,r,tf,n),v2(e,r);else if(Ij(i,e,t,n,r))r.stopPropagation();else if(v2(e,r),t&4&&-1<Tj.indexOf(e)){for(;i!==null;){var s=Qu(i);if(s!==null&&fx(s),s=w0(e,t,n,r),s===null&&um(e,t,r,tf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else um(e,t,r,null,n)}}var tf=null;function w0(e,t,n,r){if(tf=null,e=Wg(r),e=ha(e),e!==null)if(t=Na(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tf=e,null}function yx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_j()){case Gg:return 1;case cx:return 4;case Qh:case jj:return 16;case ux:return 536870912;default:return 16}default:return 16}}var bo=null,Xg=null,Ch=null;function wx(){if(Ch)return Ch;var e,t=Xg,n=t.length,r,i="value"in bo?bo.value:bo.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ch=i.slice(e,1<r?1-r:void 0)}function Ph(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function eh(){return!0}function w2(){return!1}function si(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?eh:w2,this.isPropagationStopped=w2,this}return an(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eh)},persist:function(){},isPersistent:eh}),t}var tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qg=si(tc),Xu=an({},tc,{view:0,detail:0}),Dj=si(Xu),tm,nm,$c,Of=an({},Xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$c&&($c&&e.type==="mousemove"?(tm=e.screenX-$c.screenX,nm=e.screenY-$c.screenY):nm=tm=0,$c=e),tm)},movementY:function(e){return"movementY"in e?e.movementY:nm}}),x2=si(Of),Mj=an({},Of,{dataTransfer:0}),Bj=si(Mj),Uj=an({},Xu,{relatedTarget:0}),rm=si(Uj),zj=an({},tc,{animationName:0,elapsedTime:0,pseudoElement:0}),$j=si(zj),qj=an({},tc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vj=si(qj),Hj=an({},tc,{data:0}),b2=si(Hj),Wj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kj[e])?!!t[e]:!1}function Zg(){return Jj}var Yj=an({},Xu,{key:function(e){if(e.key){var t=Wj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ph(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zg,charCode:function(e){return e.type==="keypress"?Ph(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ph(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xj=si(Yj),Qj=an({},Of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S2=si(Qj),Zj=an({},Xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zg}),ek=si(Zj),tk=an({},tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),nk=si(tk),rk=an({},Of,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ik=si(rk),sk=[9,13,27,32],e1=Us&&"CompositionEvent"in window,uu=null;Us&&"documentMode"in document&&(uu=document.documentMode);var ok=Us&&"TextEvent"in window&&!uu,xx=Us&&(!e1||uu&&8<uu&&11>=uu),_2=String.fromCharCode(32),j2=!1;function bx(e,t){switch(e){case"keyup":return sk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ml=!1;function ak(e,t){switch(e){case"compositionend":return Sx(t);case"keypress":return t.which!==32?null:(j2=!0,_2);case"textInput":return e=t.data,e===_2&&j2?null:e;default:return null}}function lk(e,t){if(ml)return e==="compositionend"||!e1&&bx(e,t)?(e=wx(),Ch=Xg=bo=null,ml=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xx&&t.locale!=="ko"?null:t.data;default:return null}}var ck={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ck[e.type]:t==="textarea"}function _x(e,t,n,r){ex(r),t=nf(t,"onChange"),0<t.length&&(n=new Qg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var du=null,Eu=null;function uk(e){Rx(e,0)}function Df(e){var t=yl(e);if(Gw(t))return e}function dk(e,t){if(e==="change")return t}var jx=!1;if(Us){var im;if(Us){var sm="oninput"in document;if(!sm){var N2=document.createElement("div");N2.setAttribute("oninput","return;"),sm=typeof N2.oninput=="function"}im=sm}else im=!1;jx=im&&(!document.documentMode||9<document.documentMode)}function A2(){du&&(du.detachEvent("onpropertychange",kx),Eu=du=null)}function kx(e){if(e.propertyName==="value"&&Df(Eu)){var t=[];_x(t,Eu,e,Wg(e)),ix(uk,t)}}function hk(e,t,n){e==="focusin"?(A2(),du=t,Eu=n,du.attachEvent("onpropertychange",kx)):e==="focusout"&&A2()}function fk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Df(Eu)}function pk(e,t){if(e==="click")return Df(t)}function mk(e,t){if(e==="input"||e==="change")return Df(t)}function gk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hi=typeof Object.is=="function"?Object.is:gk;function Lu(e,t){if(Hi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!t0.call(t,i)||!Hi(e[i],t[i]))return!1}return!0}function C2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function P2(e,t){var n=C2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=C2(n)}}function Nx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ax(){for(var e=window,t=Jh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jh(e.document)}return t}function t1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vk(e){var t=Ax(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nx(n.ownerDocument.documentElement,n)){if(r!==null&&t1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=P2(n,s);var o=P2(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yk=Us&&"documentMode"in document&&11>=document.documentMode,gl=null,x0=null,hu=null,b0=!1;function E2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;b0||gl==null||gl!==Jh(r)||(r=gl,"selectionStart"in r&&t1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hu&&Lu(hu,r)||(hu=r,r=nf(x0,"onSelect"),0<r.length&&(t=new Qg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gl)))}function th(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vl={animationend:th("Animation","AnimationEnd"),animationiteration:th("Animation","AnimationIteration"),animationstart:th("Animation","AnimationStart"),transitionend:th("Transition","TransitionEnd")},om={},Cx={};Us&&(Cx=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function Mf(e){if(om[e])return om[e];if(!vl[e])return e;var t=vl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cx)return om[e]=t[n];return e}var Px=Mf("animationend"),Ex=Mf("animationiteration"),Lx=Mf("animationstart"),Tx=Mf("transitionend"),Ix=new Map,L2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mo(e,t){Ix.set(e,t),ka(t,[e])}for(var am=0;am<L2.length;am++){var lm=L2[am],wk=lm.toLowerCase(),xk=lm[0].toUpperCase()+lm.slice(1);Mo(wk,"on"+xk)}Mo(Px,"onAnimationEnd");Mo(Ex,"onAnimationIteration");Mo(Lx,"onAnimationStart");Mo("dblclick","onDoubleClick");Mo("focusin","onFocus");Mo("focusout","onBlur");Mo(Tx,"onTransitionEnd");$l("onMouseEnter",["mouseout","mouseover"]);$l("onMouseLeave",["mouseout","mouseover"]);$l("onPointerEnter",["pointerout","pointerover"]);$l("onPointerLeave",["pointerout","pointerover"]);ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function T2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wj(r,t,void 0,e),e.currentTarget=null}function Rx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;T2(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;T2(i,a,u),s=l}}}if(Xh)throw e=g0,Xh=!1,g0=null,e}function Kt(e,t){var n=t[N0];n===void 0&&(n=t[N0]=new Set);var r=e+"__bubble";n.has(r)||(Fx(t,e,2,!1),n.add(r))}function cm(e,t,n){var r=0;t&&(r|=4),Fx(n,e,r,t)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Tu(e){if(!e[nh]){e[nh]=!0,$w.forEach(function(n){n!=="selectionchange"&&(bk.has(n)||cm(n,!1,e),cm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nh]||(t[nh]=!0,cm("selectionchange",!1,t))}}function Fx(e,t,n,r){switch(yx(t)){case 1:var i=Fj;break;case 4:i=Oj;break;default:i=Yg}n=i.bind(null,t,n,e),i=void 0,!m0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function um(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ha(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ix(function(){var u=s,h=Wg(n),f=[];e:{var g=Ix.get(e);if(g!==void 0){var m=Qg,b=e;switch(e){case"keypress":if(Ph(n)===0)break e;case"keydown":case"keyup":m=Xj;break;case"focusin":b="focus",m=rm;break;case"focusout":b="blur",m=rm;break;case"beforeblur":case"afterblur":m=rm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=x2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Bj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ek;break;case Px:case Ex:case Lx:m=$j;break;case Tx:m=nk;break;case"scroll":m=Dj;break;case"wheel":m=ik;break;case"copy":case"cut":case"paste":m=Vj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=S2}var S=(t&4)!==0,k=!S&&e==="scroll",y=S?g!==null?g+"Capture":null:g;S=[];for(var x=u,_;x!==null;){_=x;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,y!==null&&(E=Nu(x,y),E!=null&&S.push(Iu(x,E,_)))),k)break;x=x.return}0<S.length&&(g=new m(g,b,null,n,h),f.push({event:g,listeners:S}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==f0&&(b=n.relatedTarget||n.fromElement)&&(ha(b)||b[zs]))break e;if((m||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?ha(b):null,b!==null&&(k=Na(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(S=x2,E="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(S=S2,E="onPointerLeave",y="onPointerEnter",x="pointer"),k=m==null?g:yl(m),_=b==null?g:yl(b),g=new S(E,x+"leave",m,n,h),g.target=k,g.relatedTarget=_,E=null,ha(h)===u&&(S=new S(y,x+"enter",b,n,h),S.target=_,S.relatedTarget=k,E=S),k=E,m&&b)t:{for(S=m,y=b,x=0,_=S;_;_=el(_))x++;for(_=0,E=y;E;E=el(E))_++;for(;0<x-_;)S=el(S),x--;for(;0<_-x;)y=el(y),_--;for(;x--;){if(S===y||y!==null&&S===y.alternate)break t;S=el(S),y=el(y)}S=null}else S=null;m!==null&&I2(f,g,m,S,!1),b!==null&&k!==null&&I2(f,k,b,S,!0)}}e:{if(g=u?yl(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var D=dk;else if(k2(g))if(jx)D=mk;else{D=fk;var q=hk}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(D=pk);if(D&&(D=D(e,u))){_x(f,D,n,h);break e}q&&q(e,g,u),e==="focusout"&&(q=g._wrapperState)&&q.controlled&&g.type==="number"&&l0(g,"number",g.value)}switch(q=u?yl(u):window,e){case"focusin":(k2(q)||q.contentEditable==="true")&&(gl=q,x0=u,hu=null);break;case"focusout":hu=x0=gl=null;break;case"mousedown":b0=!0;break;case"contextmenu":case"mouseup":case"dragend":b0=!1,E2(f,n,h);break;case"selectionchange":if(yk)break;case"keydown":case"keyup":E2(f,n,h)}var M;if(e1)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ml?bx(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(xx&&n.locale!=="ko"&&(ml||R!=="onCompositionStart"?R==="onCompositionEnd"&&ml&&(M=wx()):(bo=h,Xg="value"in bo?bo.value:bo.textContent,ml=!0)),q=nf(u,R),0<q.length&&(R=new b2(R,e,null,n,h),f.push({event:R,listeners:q}),M?R.data=M:(M=Sx(n),M!==null&&(R.data=M)))),(M=ok?ak(e,n):lk(e,n))&&(u=nf(u,"onBeforeInput"),0<u.length&&(h=new b2("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=M))}Rx(f,t)})}function Iu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nf(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nu(e,n),s!=null&&r.unshift(Iu(e,s,i)),s=Nu(e,t),s!=null&&r.push(Iu(e,s,i))),e=e.return}return r}function el(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function I2(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Nu(n,s),l!=null&&o.unshift(Iu(n,l,a))):i||(l=Nu(n,s),l!=null&&o.push(Iu(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Sk=/\r\n?/g,_k=/\u0000|\uFFFD/g;function R2(e){return(typeof e=="string"?e:""+e).replace(Sk,`
`).replace(_k,"")}function rh(e,t,n){if(t=R2(t),R2(e)!==t&&n)throw Error(Le(425))}function rf(){}var S0=null,_0=null;function j0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var k0=typeof setTimeout=="function"?setTimeout:void 0,jk=typeof clearTimeout=="function"?clearTimeout:void 0,F2=typeof Promise=="function"?Promise:void 0,kk=typeof queueMicrotask=="function"?queueMicrotask:typeof F2<"u"?function(e){return F2.resolve(null).then(e).catch(Nk)}:k0;function Nk(e){setTimeout(function(){throw e})}function dm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Pu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pu(t)}function Ao(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function O2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var nc=Math.random().toString(36).slice(2),ss="__reactFiber$"+nc,Ru="__reactProps$"+nc,zs="__reactContainer$"+nc,N0="__reactEvents$"+nc,Ak="__reactListeners$"+nc,Ck="__reactHandles$"+nc;function ha(e){var t=e[ss];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zs]||n[ss]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=O2(e);e!==null;){if(n=e[ss])return n;e=O2(e)}return t}e=n,n=e.parentNode}return null}function Qu(e){return e=e[ss]||e[zs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Le(33))}function Bf(e){return e[Ru]||null}var A0=[],wl=-1;function Bo(e){return{current:e}}function Yt(e){0>wl||(e.current=A0[wl],A0[wl]=null,wl--)}function Wt(e,t){wl++,A0[wl]=e.current,e.current=t}var Io={},dr=Bo(Io),Ir=Bo(!1),xa=Io;function ql(e,t){var n=e.type.contextTypes;if(!n)return Io;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(e){return e=e.childContextTypes,e!=null}function sf(){Yt(Ir),Yt(dr)}function D2(e,t,n){if(dr.current!==Io)throw Error(Le(168));Wt(dr,t),Wt(Ir,n)}function Ox(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Le(108,hj(e)||"Unknown",i));return an({},n,r)}function of(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Io,xa=dr.current,Wt(dr,e),Wt(Ir,Ir.current),!0}function M2(e,t,n){var r=e.stateNode;if(!r)throw Error(Le(169));n?(e=Ox(e,t,xa),r.__reactInternalMemoizedMergedChildContext=e,Yt(Ir),Yt(dr),Wt(dr,e)):Yt(Ir),Wt(Ir,n)}var Is=null,Uf=!1,hm=!1;function Dx(e){Is===null?Is=[e]:Is.push(e)}function Pk(e){Uf=!0,Dx(e)}function Uo(){if(!hm&&Is!==null){hm=!0;var e=0,t=Ot;try{var n=Is;for(Ot=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Is=null,Uf=!1}catch(i){throw Is!==null&&(Is=Is.slice(e+1)),lx(Gg,Uo),i}finally{Ot=t,hm=!1}}return null}var xl=[],bl=0,af=null,lf=0,wi=[],xi=0,ba=null,Rs=1,Fs="";function ia(e,t){xl[bl++]=lf,xl[bl++]=af,af=e,lf=t}function Mx(e,t,n){wi[xi++]=Rs,wi[xi++]=Fs,wi[xi++]=ba,ba=e;var r=Rs;e=Fs;var i=32-qi(r)-1;r&=~(1<<i),n+=1;var s=32-qi(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rs=1<<32-qi(t)+i|n<<i|r,Fs=s+e}else Rs=1<<s|n<<i|r,Fs=e}function n1(e){e.return!==null&&(ia(e,1),Mx(e,1,0))}function r1(e){for(;e===af;)af=xl[--bl],xl[bl]=null,lf=xl[--bl],xl[bl]=null;for(;e===ba;)ba=wi[--xi],wi[xi]=null,Fs=wi[--xi],wi[xi]=null,Rs=wi[--xi],wi[xi]=null}var ei=null,Qr=null,en=!1,$i=null;function Bx(e,t){var n=bi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function B2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ei=e,Qr=Ao(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ei=e,Qr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ba!==null?{id:Rs,overflow:Fs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ei=e,Qr=null,!0):!1;default:return!1}}function C0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function P0(e){if(en){var t=Qr;if(t){var n=t;if(!B2(e,t)){if(C0(e))throw Error(Le(418));t=Ao(n.nextSibling);var r=ei;t&&B2(e,t)?Bx(r,n):(e.flags=e.flags&-4097|2,en=!1,ei=e)}}else{if(C0(e))throw Error(Le(418));e.flags=e.flags&-4097|2,en=!1,ei=e}}}function U2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ei=e}function ih(e){if(e!==ei)return!1;if(!en)return U2(e),en=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!j0(e.type,e.memoizedProps)),t&&(t=Qr)){if(C0(e))throw Ux(),Error(Le(418));for(;t;)Bx(e,t),t=Ao(t.nextSibling)}if(U2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qr=Ao(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qr=null}}else Qr=ei?Ao(e.stateNode.nextSibling):null;return!0}function Ux(){for(var e=Qr;e;)e=Ao(e.nextSibling)}function Vl(){Qr=ei=null,en=!1}function i1(e){$i===null?$i=[e]:$i.push(e)}var Ek=Ws.ReactCurrentBatchConfig;function qc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Le(309));var r=n.stateNode}if(!r)throw Error(Le(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Le(284));if(!n._owner)throw Error(Le(290,e))}return e}function sh(e,t){throw e=Object.prototype.toString.call(t),Error(Le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function z2(e){var t=e._init;return t(e._payload)}function zx(e){function t(y,x){if(e){var _=y.deletions;_===null?(y.deletions=[x],y.flags|=16):_.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Lo(y,x),y.index=0,y.sibling=null,y}function s(y,x,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<x?(y.flags|=2,x):_):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,x,_,E){return x===null||x.tag!==6?(x=wm(_,y.mode,E),x.return=y,x):(x=i(x,_),x.return=y,x)}function l(y,x,_,E){var D=_.type;return D===pl?h(y,x,_.props.children,E,_.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===go&&z2(D)===x.type)?(E=i(x,_.props),E.ref=qc(y,x,_),E.return=y,E):(E=Oh(_.type,_.key,_.props,null,y.mode,E),E.ref=qc(y,x,_),E.return=y,E)}function u(y,x,_,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=xm(_,y.mode,E),x.return=y,x):(x=i(x,_.children||[]),x.return=y,x)}function h(y,x,_,E,D){return x===null||x.tag!==7?(x=va(_,y.mode,E,D),x.return=y,x):(x=i(x,_),x.return=y,x)}function f(y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=wm(""+x,y.mode,_),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Kd:return _=Oh(x.type,x.key,x.props,null,y.mode,_),_.ref=qc(y,null,x),_.return=y,_;case fl:return x=xm(x,y.mode,_),x.return=y,x;case go:var E=x._init;return f(y,E(x._payload),_)}if(tu(x)||Mc(x))return x=va(x,y.mode,_,null),x.return=y,x;sh(y,x)}return null}function g(y,x,_,E){var D=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return D!==null?null:a(y,x,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Kd:return _.key===D?l(y,x,_,E):null;case fl:return _.key===D?u(y,x,_,E):null;case go:return D=_._init,g(y,x,D(_._payload),E)}if(tu(_)||Mc(_))return D!==null?null:h(y,x,_,E,null);sh(y,_)}return null}function m(y,x,_,E,D){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(_)||null,a(x,y,""+E,D);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Kd:return y=y.get(E.key===null?_:E.key)||null,l(x,y,E,D);case fl:return y=y.get(E.key===null?_:E.key)||null,u(x,y,E,D);case go:var q=E._init;return m(y,x,_,q(E._payload),D)}if(tu(E)||Mc(E))return y=y.get(_)||null,h(x,y,E,D,null);sh(x,E)}return null}function b(y,x,_,E){for(var D=null,q=null,M=x,R=x=0,Q=null;M!==null&&R<_.length;R++){M.index>R?(Q=M,M=null):Q=M.sibling;var X=g(y,M,_[R],E);if(X===null){M===null&&(M=Q);break}e&&M&&X.alternate===null&&t(y,M),x=s(X,x,R),q===null?D=X:q.sibling=X,q=X,M=Q}if(R===_.length)return n(y,M),en&&ia(y,R),D;if(M===null){for(;R<_.length;R++)M=f(y,_[R],E),M!==null&&(x=s(M,x,R),q===null?D=M:q.sibling=M,q=M);return en&&ia(y,R),D}for(M=r(y,M);R<_.length;R++)Q=m(M,y,R,_[R],E),Q!==null&&(e&&Q.alternate!==null&&M.delete(Q.key===null?R:Q.key),x=s(Q,x,R),q===null?D=Q:q.sibling=Q,q=Q);return e&&M.forEach(function(F){return t(y,F)}),en&&ia(y,R),D}function S(y,x,_,E){var D=Mc(_);if(typeof D!="function")throw Error(Le(150));if(_=D.call(_),_==null)throw Error(Le(151));for(var q=D=null,M=x,R=x=0,Q=null,X=_.next();M!==null&&!X.done;R++,X=_.next()){M.index>R?(Q=M,M=null):Q=M.sibling;var F=g(y,M,X.value,E);if(F===null){M===null&&(M=Q);break}e&&M&&F.alternate===null&&t(y,M),x=s(F,x,R),q===null?D=F:q.sibling=F,q=F,M=Q}if(X.done)return n(y,M),en&&ia(y,R),D;if(M===null){for(;!X.done;R++,X=_.next())X=f(y,X.value,E),X!==null&&(x=s(X,x,R),q===null?D=X:q.sibling=X,q=X);return en&&ia(y,R),D}for(M=r(y,M);!X.done;R++,X=_.next())X=m(M,y,R,X.value,E),X!==null&&(e&&X.alternate!==null&&M.delete(X.key===null?R:X.key),x=s(X,x,R),q===null?D=X:q.sibling=X,q=X);return e&&M.forEach(function(P){return t(y,P)}),en&&ia(y,R),D}function k(y,x,_,E){if(typeof _=="object"&&_!==null&&_.type===pl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Kd:e:{for(var D=_.key,q=x;q!==null;){if(q.key===D){if(D=_.type,D===pl){if(q.tag===7){n(y,q.sibling),x=i(q,_.props.children),x.return=y,y=x;break e}}else if(q.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===go&&z2(D)===q.type){n(y,q.sibling),x=i(q,_.props),x.ref=qc(y,q,_),x.return=y,y=x;break e}n(y,q);break}else t(y,q);q=q.sibling}_.type===pl?(x=va(_.props.children,y.mode,E,_.key),x.return=y,y=x):(E=Oh(_.type,_.key,_.props,null,y.mode,E),E.ref=qc(y,x,_),E.return=y,y=E)}return o(y);case fl:e:{for(q=_.key;x!==null;){if(x.key===q)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(y,x.sibling),x=i(x,_.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=xm(_,y.mode,E),x.return=y,y=x}return o(y);case go:return q=_._init,k(y,x,q(_._payload),E)}if(tu(_))return b(y,x,_,E);if(Mc(_))return S(y,x,_,E);sh(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,_),x.return=y,y=x):(n(y,x),x=wm(_,y.mode,E),x.return=y,y=x),o(y)):n(y,x)}return k}var Hl=zx(!0),$x=zx(!1),cf=Bo(null),uf=null,Sl=null,s1=null;function o1(){s1=Sl=uf=null}function a1(e){var t=cf.current;Yt(cf),e._currentValue=t}function E0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ol(e,t){uf=e,s1=Sl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tr=!0),e.firstContext=null)}function ki(e){var t=e._currentValue;if(s1!==e)if(e={context:e,memoizedValue:t,next:null},Sl===null){if(uf===null)throw Error(Le(308));Sl=e,uf.dependencies={lanes:0,firstContext:e}}else Sl=Sl.next=e;return t}var fa=null;function l1(e){fa===null?fa=[e]:fa.push(e)}function qx(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,l1(t)):(n.next=i.next,i.next=n),t.interleaved=n,$s(e,r)}function $s(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vo=!1;function c1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Co(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ct&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,$s(e,n)}return i=r.interleaved,i===null?(t.next=t,l1(r)):(t.next=i.next,i.next=t),r.interleaved=t,$s(e,n)}function Eh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kg(e,n)}}function $2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function df(e,t,n,r){var i=e.updateQueue;vo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=u=l=null,a=s;do{var g=a.lane,m=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,S=a;switch(g=t,m=n,S.tag){case 1:if(b=S.payload,typeof b=="function"){f=b.call(m,f,g);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,g=typeof b=="function"?b.call(m,f,g):b,g==null)break e;f=an({},f,g);break e;case 2:vo=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else m={eventTime:m,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=f):h=h.next=m,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);_a|=o,e.lanes=o,e.memoizedState=f}}function q2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Le(191,i));i.call(r)}}}var Zu={},ls=Bo(Zu),Fu=Bo(Zu),Ou=Bo(Zu);function pa(e){if(e===Zu)throw Error(Le(174));return e}function u1(e,t){switch(Wt(Ou,t),Wt(Fu,e),Wt(ls,Zu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:u0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=u0(t,e)}Yt(ls),Wt(ls,t)}function Wl(){Yt(ls),Yt(Fu),Yt(Ou)}function Hx(e){pa(Ou.current);var t=pa(ls.current),n=u0(t,e.type);t!==n&&(Wt(Fu,e),Wt(ls,n))}function d1(e){Fu.current===e&&(Yt(ls),Yt(Fu))}var nn=Bo(0);function hf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fm=[];function h1(){for(var e=0;e<fm.length;e++)fm[e]._workInProgressVersionPrimary=null;fm.length=0}var Lh=Ws.ReactCurrentDispatcher,pm=Ws.ReactCurrentBatchConfig,Sa=0,sn=null,In=null,Bn=null,ff=!1,fu=!1,Du=0,Lk=0;function er(){throw Error(Le(321))}function f1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hi(e[n],t[n]))return!1;return!0}function p1(e,t,n,r,i,s){if(Sa=s,sn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lh.current=e===null||e.memoizedState===null?Fk:Ok,e=n(r,i),fu){s=0;do{if(fu=!1,Du=0,25<=s)throw Error(Le(301));s+=1,Bn=In=null,t.updateQueue=null,Lh.current=Dk,e=n(r,i)}while(fu)}if(Lh.current=pf,t=In!==null&&In.next!==null,Sa=0,Bn=In=sn=null,ff=!1,t)throw Error(Le(300));return e}function m1(){var e=Du!==0;return Du=0,e}function is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?sn.memoizedState=Bn=e:Bn=Bn.next=e,Bn}function Ni(){if(In===null){var e=sn.alternate;e=e!==null?e.memoizedState:null}else e=In.next;var t=Bn===null?sn.memoizedState:Bn.next;if(t!==null)Bn=t,In=e;else{if(e===null)throw Error(Le(310));In=e,e={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Bn===null?sn.memoizedState=Bn=e:Bn=Bn.next=e}return Bn}function Mu(e,t){return typeof t=="function"?t(e):t}function mm(e){var t=Ni(),n=t.queue;if(n===null)throw Error(Le(311));n.lastRenderedReducer=e;var r=In,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Sa&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,sn.lanes|=h,_a|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Hi(r,t.memoizedState)||(Tr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,sn.lanes|=s,_a|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gm(e){var t=Ni(),n=t.queue;if(n===null)throw Error(Le(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Hi(s,t.memoizedState)||(Tr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Wx(){}function Gx(e,t){var n=sn,r=Ni(),i=t(),s=!Hi(r.memoizedState,i);if(s&&(r.memoizedState=i,Tr=!0),r=r.queue,g1(Yx.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Bn!==null&&Bn.memoizedState.tag&1){if(n.flags|=2048,Bu(9,Jx.bind(null,n,r,i,t),void 0,null),zn===null)throw Error(Le(349));Sa&30||Kx(n,t,i)}return i}function Kx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jx(e,t,n,r){t.value=n,t.getSnapshot=r,Xx(t)&&Qx(e)}function Yx(e,t,n){return n(function(){Xx(t)&&Qx(e)})}function Xx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hi(e,n)}catch{return!0}}function Qx(e){var t=$s(e,1);t!==null&&Vi(t,e,1,-1)}function V2(e){var t=is();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:e},t.queue=e,e=e.dispatch=Rk.bind(null,sn,e),[t.memoizedState,e]}function Bu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zx(){return Ni().memoizedState}function Th(e,t,n,r){var i=is();sn.flags|=e,i.memoizedState=Bu(1|t,n,void 0,r===void 0?null:r)}function zf(e,t,n,r){var i=Ni();r=r===void 0?null:r;var s=void 0;if(In!==null){var o=In.memoizedState;if(s=o.destroy,r!==null&&f1(r,o.deps)){i.memoizedState=Bu(t,n,s,r);return}}sn.flags|=e,i.memoizedState=Bu(1|t,n,s,r)}function H2(e,t){return Th(8390656,8,e,t)}function g1(e,t){return zf(2048,8,e,t)}function eb(e,t){return zf(4,2,e,t)}function tb(e,t){return zf(4,4,e,t)}function nb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rb(e,t,n){return n=n!=null?n.concat([e]):null,zf(4,4,nb.bind(null,t,e),n)}function v1(){}function ib(e,t){var n=Ni();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&f1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sb(e,t){var n=Ni();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&f1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ob(e,t,n){return Sa&21?(Hi(n,t)||(n=dx(),sn.lanes|=n,_a|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tr=!0),e.memoizedState=n)}function Tk(e,t){var n=Ot;Ot=n!==0&&4>n?n:4,e(!0);var r=pm.transition;pm.transition={};try{e(!1),t()}finally{Ot=n,pm.transition=r}}function ab(){return Ni().memoizedState}function Ik(e,t,n){var r=Eo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lb(e))cb(t,n);else if(n=qx(e,t,n,r),n!==null){var i=yr();Vi(n,e,r,i),ub(n,t,r)}}function Rk(e,t,n){var r=Eo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lb(e))cb(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Hi(a,o)){var l=t.interleaved;l===null?(i.next=i,l1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=qx(e,t,i,r),n!==null&&(i=yr(),Vi(n,e,r,i),ub(n,t,r))}}function lb(e){var t=e.alternate;return e===sn||t!==null&&t===sn}function cb(e,t){fu=ff=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ub(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kg(e,n)}}var pf={readContext:ki,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},Fk={readContext:ki,useCallback:function(e,t){return is().memoizedState=[e,t===void 0?null:t],e},useContext:ki,useEffect:H2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Th(4194308,4,nb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Th(4194308,4,e,t)},useInsertionEffect:function(e,t){return Th(4,2,e,t)},useMemo:function(e,t){var n=is();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=is();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ik.bind(null,sn,e),[r.memoizedState,e]},useRef:function(e){var t=is();return e={current:e},t.memoizedState=e},useState:V2,useDebugValue:v1,useDeferredValue:function(e){return is().memoizedState=e},useTransition:function(){var e=V2(!1),t=e[0];return e=Tk.bind(null,e[1]),is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sn,i=is();if(en){if(n===void 0)throw Error(Le(407));n=n()}else{if(n=t(),zn===null)throw Error(Le(349));Sa&30||Kx(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,H2(Yx.bind(null,r,s,e),[e]),r.flags|=2048,Bu(9,Jx.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=is(),t=zn.identifierPrefix;if(en){var n=Fs,r=Rs;n=(r&~(1<<32-qi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Du++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Lk++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ok={readContext:ki,useCallback:ib,useContext:ki,useEffect:g1,useImperativeHandle:rb,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:sb,useReducer:mm,useRef:Zx,useState:function(){return mm(Mu)},useDebugValue:v1,useDeferredValue:function(e){var t=Ni();return ob(t,In.memoizedState,e)},useTransition:function(){var e=mm(Mu)[0],t=Ni().memoizedState;return[e,t]},useMutableSource:Wx,useSyncExternalStore:Gx,useId:ab,unstable_isNewReconciler:!1},Dk={readContext:ki,useCallback:ib,useContext:ki,useEffect:g1,useImperativeHandle:rb,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:sb,useReducer:gm,useRef:Zx,useState:function(){return gm(Mu)},useDebugValue:v1,useDeferredValue:function(e){var t=Ni();return In===null?t.memoizedState=e:ob(t,In.memoizedState,e)},useTransition:function(){var e=gm(Mu)[0],t=Ni().memoizedState;return[e,t]},useMutableSource:Wx,useSyncExternalStore:Gx,useId:ab,unstable_isNewReconciler:!1};function Mi(e,t){if(e&&e.defaultProps){t=an({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function L0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:an({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $f={isMounted:function(e){return(e=e._reactInternals)?Na(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yr(),i=Eo(e),s=Os(r,i);s.payload=t,n!=null&&(s.callback=n),t=Co(e,s,i),t!==null&&(Vi(t,e,i,r),Eh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yr(),i=Eo(e),s=Os(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Co(e,s,i),t!==null&&(Vi(t,e,i,r),Eh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yr(),r=Eo(e),i=Os(n,r);i.tag=2,t!=null&&(i.callback=t),t=Co(e,i,r),t!==null&&(Vi(t,e,r,n),Eh(t,e,r))}};function W2(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Lu(n,r)||!Lu(i,s):!0}function db(e,t,n){var r=!1,i=Io,s=t.contextType;return typeof s=="object"&&s!==null?s=ki(s):(i=Rr(t)?xa:dr.current,r=t.contextTypes,s=(r=r!=null)?ql(e,i):Io),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$f,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function G2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$f.enqueueReplaceState(t,t.state,null)}function T0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},c1(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ki(s):(s=Rr(t)?xa:dr.current,i.context=ql(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(L0(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&$f.enqueueReplaceState(i,i.state,null),df(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Gl(e,t){try{var n="",r=t;do n+=dj(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function vm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function I0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Mk=typeof WeakMap=="function"?WeakMap:Map;function hb(e,t,n){n=Os(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gf||(gf=!0,q0=r),I0(e,t)},n}function fb(e,t,n){n=Os(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){I0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){I0(e,t),typeof r!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function K2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Mk;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Qk.bind(null,e,t,n),t.then(e,e))}function J2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Y2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Os(-1,1),t.tag=2,Co(n,t,1))),n.lanes|=1),e)}var Bk=Ws.ReactCurrentOwner,Tr=!1;function vr(e,t,n,r){t.child=e===null?$x(t,null,n,r):Hl(t,e.child,n,r)}function X2(e,t,n,r,i){n=n.render;var s=t.ref;return Ol(t,i),r=p1(e,t,n,r,s,i),n=m1(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i)):(en&&n&&n1(t),t.flags|=1,vr(e,t,r,i),t.child)}function Q2(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!k1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,pb(e,t,s,r,i)):(e=Oh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Lu,n(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,e=Lo(s,r),e.ref=t.ref,e.return=t,t.child=e}function pb(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Lu(s,r)&&e.ref===t.ref)if(Tr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Tr=!0);else return t.lanes=e.lanes,qs(e,t,i)}return R0(e,t,n,r,i)}function mb(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(jl,Xr),Xr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wt(jl,Xr),Xr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Wt(jl,Xr),Xr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Wt(jl,Xr),Xr|=r;return vr(e,t,i,n),t.child}function gb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function R0(e,t,n,r,i){var s=Rr(n)?xa:dr.current;return s=ql(t,s),Ol(t,i),n=p1(e,t,n,r,s,i),r=m1(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i)):(en&&r&&n1(t),t.flags|=1,vr(e,t,n,i),t.child)}function Z2(e,t,n,r,i){if(Rr(n)){var s=!0;of(t)}else s=!1;if(Ol(t,i),t.stateNode===null)Ih(e,t),db(t,n,r),T0(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ki(u):(u=Rr(n)?xa:dr.current,u=ql(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&G2(t,o,r,u),vo=!1;var g=t.memoizedState;o.state=g,df(t,r,o,i),l=t.memoizedState,a!==r||g!==l||Ir.current||vo?(typeof h=="function"&&(L0(t,n,h,r),l=t.memoizedState),(a=vo||W2(t,n,a,r,g,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Vx(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Mi(t.type,a),o.props=u,f=t.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ki(l):(l=Rr(n)?xa:dr.current,l=ql(t,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==l)&&G2(t,o,r,l),vo=!1,g=t.memoizedState,o.state=g,df(t,r,o,i);var b=t.memoizedState;a!==f||g!==b||Ir.current||vo?(typeof m=="function"&&(L0(t,n,m,r),b=t.memoizedState),(u=vo||W2(t,n,u,r,g,b,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return F0(e,t,n,r,s,i)}function F0(e,t,n,r,i,s){gb(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&M2(t,n,!1),qs(e,t,s);r=t.stateNode,Bk.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Hl(t,e.child,null,s),t.child=Hl(t,null,a,s)):vr(e,t,a,s),t.memoizedState=r.state,i&&M2(t,n,!0),t.child}function vb(e){var t=e.stateNode;t.pendingContext?D2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&D2(e,t.context,!1),u1(e,t.containerInfo)}function ey(e,t,n,r,i){return Vl(),i1(i),t.flags|=256,vr(e,t,n,r),t.child}var O0={dehydrated:null,treeContext:null,retryLane:0};function D0(e){return{baseLanes:e,cachePool:null,transitions:null}}function yb(e,t,n){var r=t.pendingProps,i=nn.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Wt(nn,i&1),e===null)return P0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hf(o,r,0,null),e=va(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=D0(n),t.memoizedState=O0,e):y1(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Uk(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Lo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Lo(a,s):(s=va(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?D0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=O0,r}return s=e.child,e=s.sibling,r=Lo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function y1(e,t){return t=Hf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oh(e,t,n,r){return r!==null&&i1(r),Hl(t,e.child,null,n),e=y1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uk(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=vm(Error(Le(422))),oh(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Hf({mode:"visible",children:r.children},i,0,null),s=va(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Hl(t,e.child,null,o),t.child.memoizedState=D0(o),t.memoizedState=O0,s);if(!(t.mode&1))return oh(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Le(419)),r=vm(s,r,void 0),oh(e,t,o,r)}if(a=(o&e.childLanes)!==0,Tr||a){if(r=zn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,$s(e,i),Vi(r,e,i,-1))}return j1(),r=vm(Error(Le(421))),oh(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Zk.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Qr=Ao(i.nextSibling),ei=t,en=!0,$i=null,e!==null&&(wi[xi++]=Rs,wi[xi++]=Fs,wi[xi++]=ba,Rs=e.id,Fs=e.overflow,ba=t),t=y1(t,r.children),t.flags|=4096,t)}function ty(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),E0(e.return,t,n)}function ym(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function wb(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(vr(e,t,r.children,n),r=nn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ty(e,n,t);else if(e.tag===19)ty(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Wt(nn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&hf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ym(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ym(t,!0,n,null,s);break;case"together":ym(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ih(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_a|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Le(153));if(t.child!==null){for(e=t.child,n=Lo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Lo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zk(e,t,n){switch(t.tag){case 3:vb(t),Vl();break;case 5:Hx(t);break;case 1:Rr(t.type)&&of(t);break;case 4:u1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Wt(cf,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Wt(nn,nn.current&1),t.flags|=128,null):n&t.child.childLanes?yb(e,t,n):(Wt(nn,nn.current&1),e=qs(e,t,n),e!==null?e.sibling:null);Wt(nn,nn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wb(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(nn,nn.current),r)break;return null;case 22:case 23:return t.lanes=0,mb(e,t,n)}return qs(e,t,n)}var xb,M0,bb,Sb;xb=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};M0=function(){};bb=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,pa(ls.current);var s=null;switch(n){case"input":i=o0(e,i),r=o0(e,r),s=[];break;case"select":i=an({},i,{value:void 0}),r=an({},r,{value:void 0}),s=[];break;case"textarea":i=c0(e,i),r=c0(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=rf)}d0(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ju.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ju.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Kt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Sb=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vc(e,t){if(!en)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $k(e,t,n){var r=t.pendingProps;switch(r1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(t),null;case 1:return Rr(t.type)&&sf(),tr(t),null;case 3:return r=t.stateNode,Wl(),Yt(Ir),Yt(dr),h1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ih(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$i!==null&&(W0($i),$i=null))),M0(e,t),tr(t),null;case 5:d1(t);var i=pa(Ou.current);if(n=t.type,e!==null&&t.stateNode!=null)bb(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Le(166));return tr(t),null}if(e=pa(ls.current),ih(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ss]=t,r[Ru]=s,e=(t.mode&1)!==0,n){case"dialog":Kt("cancel",r),Kt("close",r);break;case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(i=0;i<ru.length;i++)Kt(ru[i],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"details":Kt("toggle",r);break;case"input":u2(r,s),Kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",r);break;case"textarea":h2(r,s),Kt("invalid",r)}d0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&rh(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&rh(r.textContent,a,e),i=["children",""+a]):ju.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kt("scroll",r)}switch(n){case"input":Jd(r),d2(r,s,!0);break;case"textarea":Jd(r),f2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rf)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ss]=t,e[Ru]=r,xb(e,t,!1,!1),t.stateNode=e;e:{switch(o=h0(n,r),n){case"dialog":Kt("cancel",e),Kt("close",e),i=r;break;case"iframe":case"object":case"embed":Kt("load",e),i=r;break;case"video":case"audio":for(i=0;i<ru.length;i++)Kt(ru[i],e);i=r;break;case"source":Kt("error",e),i=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),i=r;break;case"details":Kt("toggle",e),i=r;break;case"input":u2(e,r),i=o0(e,r),Kt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=an({},r,{value:void 0}),Kt("invalid",e);break;case"textarea":h2(e,r),i=c0(e,r),Kt("invalid",e);break;default:i=r}d0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Zw(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xw(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ku(e,l):typeof l=="number"&&ku(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ju.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Kt("scroll",e):l!=null&&$g(e,s,l,o))}switch(n){case"input":Jd(e),d2(e,r,!1);break;case"textarea":Jd(e),f2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+To(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Tl(e,!!r.multiple,s,!1):r.defaultValue!=null&&Tl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=rf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tr(t),null;case 6:if(e&&t.stateNode!=null)Sb(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Le(166));if(n=pa(Ou.current),pa(ls.current),ih(t)){if(r=t.stateNode,n=t.memoizedProps,r[ss]=t,(s=r.nodeValue!==n)&&(e=ei,e!==null))switch(e.tag){case 3:rh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rh(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ss]=t,t.stateNode=r}return tr(t),null;case 13:if(Yt(nn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(en&&Qr!==null&&t.mode&1&&!(t.flags&128))Ux(),Vl(),t.flags|=98560,s=!1;else if(s=ih(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Le(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[ss]=t}else Vl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tr(t),s=!1}else $i!==null&&(W0($i),$i=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||nn.current&1?Rn===0&&(Rn=3):j1())),t.updateQueue!==null&&(t.flags|=4),tr(t),null);case 4:return Wl(),M0(e,t),e===null&&Tu(t.stateNode.containerInfo),tr(t),null;case 10:return a1(t.type._context),tr(t),null;case 17:return Rr(t.type)&&sf(),tr(t),null;case 19:if(Yt(nn),s=t.memoizedState,s===null)return tr(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Vc(s,!1);else{if(Rn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hf(e),o!==null){for(t.flags|=128,Vc(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Wt(nn,nn.current&1|2),t.child}e=e.sibling}s.tail!==null&&wn()>Kl&&(t.flags|=128,r=!0,Vc(s,!1),t.lanes=4194304)}else{if(!r)if(e=hf(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!en)return tr(t),null}else 2*wn()-s.renderingStartTime>Kl&&n!==1073741824&&(t.flags|=128,r=!0,Vc(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=wn(),t.sibling=null,n=nn.current,Wt(nn,r?n&1|2:n&1),t):(tr(t),null);case 22:case 23:return _1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xr&1073741824&&(tr(t),t.subtreeFlags&6&&(t.flags|=8192)):tr(t),null;case 24:return null;case 25:return null}throw Error(Le(156,t.tag))}function qk(e,t){switch(r1(t),t.tag){case 1:return Rr(t.type)&&sf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wl(),Yt(Ir),Yt(dr),h1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return d1(t),null;case 13:if(Yt(nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Le(340));Vl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yt(nn),null;case 4:return Wl(),null;case 10:return a1(t.type._context),null;case 22:case 23:return _1(),null;case 24:return null;default:return null}}var ah=!1,lr=!1,Vk=typeof WeakSet=="function"?WeakSet:Set,We=null;function _l(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pn(e,t,r)}else n.current=null}function B0(e,t,n){try{n()}catch(r){pn(e,t,r)}}var ny=!1;function Hk(e,t){if(S0=ef,e=Ax(),t1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=e,g=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)g=f,f=m;for(;;){if(f===e)break t;if(g===n&&++u===i&&(a=o),g===s&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_0={focusedElem:e,selectionRange:n},ef=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){t=We;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var S=b.memoizedProps,k=b.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?S:Mi(t.type,S),k);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(E){pn(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}return b=ny,ny=!1,b}function pu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&B0(t,n,s)}i=i.next}while(i!==r)}}function qf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function U0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _b(e){var t=e.alternate;t!==null&&(e.alternate=null,_b(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ss],delete t[Ru],delete t[N0],delete t[Ak],delete t[Ck])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jb(e){return e.tag===5||e.tag===3||e.tag===4}function ry(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function z0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=rf));else if(r!==4&&(e=e.child,e!==null))for(z0(e,t,n),e=e.sibling;e!==null;)z0(e,t,n),e=e.sibling}function $0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($0(e,t,n),e=e.sibling;e!==null;)$0(e,t,n),e=e.sibling}var Wn=null,Ui=!1;function co(e,t,n){for(n=n.child;n!==null;)kb(e,t,n),n=n.sibling}function kb(e,t,n){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(Ff,n)}catch{}switch(n.tag){case 5:lr||_l(n,t);case 6:var r=Wn,i=Ui;Wn=null,co(e,t,n),Wn=r,Ui=i,Wn!==null&&(Ui?(e=Wn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wn.removeChild(n.stateNode));break;case 18:Wn!==null&&(Ui?(e=Wn,n=n.stateNode,e.nodeType===8?dm(e.parentNode,n):e.nodeType===1&&dm(e,n),Pu(e)):dm(Wn,n.stateNode));break;case 4:r=Wn,i=Ui,Wn=n.stateNode.containerInfo,Ui=!0,co(e,t,n),Wn=r,Ui=i;break;case 0:case 11:case 14:case 15:if(!lr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&B0(n,t,o),i=i.next}while(i!==r)}co(e,t,n);break;case 1:if(!lr&&(_l(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pn(n,t,a)}co(e,t,n);break;case 21:co(e,t,n);break;case 22:n.mode&1?(lr=(r=lr)||n.memoizedState!==null,co(e,t,n),lr=r):co(e,t,n);break;default:co(e,t,n)}}function iy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Vk),t.forEach(function(r){var i=eN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ii(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Wn=a.stateNode,Ui=!1;break e;case 3:Wn=a.stateNode.containerInfo,Ui=!0;break e;case 4:Wn=a.stateNode.containerInfo,Ui=!0;break e}a=a.return}if(Wn===null)throw Error(Le(160));kb(s,o,i),Wn=null,Ui=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nb(t,e),t=t.sibling}function Nb(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ii(t,e),ns(e),r&4){try{pu(3,e,e.return),qf(3,e)}catch(S){pn(e,e.return,S)}try{pu(5,e,e.return)}catch(S){pn(e,e.return,S)}}break;case 1:Ii(t,e),ns(e),r&512&&n!==null&&_l(n,n.return);break;case 5:if(Ii(t,e),ns(e),r&512&&n!==null&&_l(n,n.return),e.flags&32){var i=e.stateNode;try{ku(i,"")}catch(S){pn(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Kw(i,s),h0(a,o);var u=h0(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?Zw(i,f):h==="dangerouslySetInnerHTML"?Xw(i,f):h==="children"?ku(i,f):$g(i,h,f,u)}switch(a){case"input":a0(i,s);break;case"textarea":Jw(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Tl(i,!!s.multiple,m,!1):g!==!!s.multiple&&(s.defaultValue!=null?Tl(i,!!s.multiple,s.defaultValue,!0):Tl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ru]=s}catch(S){pn(e,e.return,S)}}break;case 6:if(Ii(t,e),ns(e),r&4){if(e.stateNode===null)throw Error(Le(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(S){pn(e,e.return,S)}}break;case 3:if(Ii(t,e),ns(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pu(t.containerInfo)}catch(S){pn(e,e.return,S)}break;case 4:Ii(t,e),ns(e);break;case 13:Ii(t,e),ns(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(b1=wn())),r&4&&iy(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(lr=(u=lr)||h,Ii(t,e),lr=u):Ii(t,e),ns(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(We=e,h=e.child;h!==null;){for(f=We=h;We!==null;){switch(g=We,m=g.child,g.tag){case 0:case 11:case 14:case 15:pu(4,g,g.return);break;case 1:_l(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(S){pn(r,n,S)}}break;case 5:_l(g,g.return);break;case 22:if(g.memoizedState!==null){oy(f);continue}}m!==null?(m.return=g,We=m):oy(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Qw("display",o))}catch(S){pn(e,e.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(S){pn(e,e.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ii(t,e),ns(e),r&4&&iy(e);break;case 21:break;default:Ii(t,e),ns(e)}}function ns(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jb(n)){var r=n;break e}n=n.return}throw Error(Le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ku(i,""),r.flags&=-33);var s=ry(e);$0(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ry(e);z0(e,a,o);break;default:throw Error(Le(161))}}catch(l){pn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wk(e,t,n){We=e,Ab(e)}function Ab(e,t,n){for(var r=(e.mode&1)!==0;We!==null;){var i=We,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ah;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||lr;a=ah;var u=lr;if(ah=o,(lr=l)&&!u)for(We=i;We!==null;)o=We,l=o.child,o.tag===22&&o.memoizedState!==null?ay(i):l!==null?(l.return=o,We=l):ay(i);for(;s!==null;)We=s,Ab(s),s=s.sibling;We=i,ah=a,lr=u}sy(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,We=s):sy(e)}}function sy(e){for(;We!==null;){var t=We;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lr||qf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!lr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Mi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&q2(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}q2(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Pu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}lr||t.flags&512&&U0(t)}catch(g){pn(t,t.return,g)}}if(t===e){We=null;break}if(n=t.sibling,n!==null){n.return=t.return,We=n;break}We=t.return}}function oy(e){for(;We!==null;){var t=We;if(t===e){We=null;break}var n=t.sibling;if(n!==null){n.return=t.return,We=n;break}We=t.return}}function ay(e){for(;We!==null;){var t=We;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qf(4,t)}catch(l){pn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){pn(t,i,l)}}var s=t.return;try{U0(t)}catch(l){pn(t,s,l)}break;case 5:var o=t.return;try{U0(t)}catch(l){pn(t,o,l)}}}catch(l){pn(t,t.return,l)}if(t===e){We=null;break}var a=t.sibling;if(a!==null){a.return=t.return,We=a;break}We=t.return}}var Gk=Math.ceil,mf=Ws.ReactCurrentDispatcher,w1=Ws.ReactCurrentOwner,_i=Ws.ReactCurrentBatchConfig,Ct=0,zn=null,Cn=null,Kn=0,Xr=0,jl=Bo(0),Rn=0,Uu=null,_a=0,Vf=0,x1=0,mu=null,Er=null,b1=0,Kl=1/0,Es=null,gf=!1,q0=null,Po=null,lh=!1,So=null,vf=0,gu=0,V0=null,Rh=-1,Fh=0;function yr(){return Ct&6?wn():Rh!==-1?Rh:Rh=wn()}function Eo(e){return e.mode&1?Ct&2&&Kn!==0?Kn&-Kn:Ek.transition!==null?(Fh===0&&(Fh=dx()),Fh):(e=Ot,e!==0||(e=window.event,e=e===void 0?16:yx(e.type)),e):1}function Vi(e,t,n,r){if(50<gu)throw gu=0,V0=null,Error(Le(185));Yu(e,n,r),(!(Ct&2)||e!==zn)&&(e===zn&&(!(Ct&2)&&(Vf|=n),Rn===4&&wo(e,Kn)),Fr(e,r),n===1&&Ct===0&&!(t.mode&1)&&(Kl=wn()+500,Uf&&Uo()))}function Fr(e,t){var n=e.callbackNode;Ej(e,t);var r=Zh(e,e===zn?Kn:0);if(r===0)n!==null&&g2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&g2(n),t===1)e.tag===0?Pk(ly.bind(null,e)):Dx(ly.bind(null,e)),kk(function(){!(Ct&6)&&Uo()}),n=null;else{switch(hx(r)){case 1:n=Gg;break;case 4:n=cx;break;case 16:n=Qh;break;case 536870912:n=ux;break;default:n=Qh}n=Fb(n,Cb.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cb(e,t){if(Rh=-1,Fh=0,Ct&6)throw Error(Le(327));var n=e.callbackNode;if(Dl()&&e.callbackNode!==n)return null;var r=Zh(e,e===zn?Kn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yf(e,r);else{t=r;var i=Ct;Ct|=2;var s=Eb();(zn!==e||Kn!==t)&&(Es=null,Kl=wn()+500,ga(e,t));do try{Yk();break}catch(a){Pb(e,a)}while(1);o1(),mf.current=s,Ct=i,Cn!==null?t=0:(zn=null,Kn=0,t=Rn)}if(t!==0){if(t===2&&(i=v0(e),i!==0&&(r=i,t=H0(e,i))),t===1)throw n=Uu,ga(e,0),wo(e,r),Fr(e,wn()),n;if(t===6)wo(e,r);else{if(i=e.current.alternate,!(r&30)&&!Kk(i)&&(t=yf(e,r),t===2&&(s=v0(e),s!==0&&(r=s,t=H0(e,s))),t===1))throw n=Uu,ga(e,0),wo(e,r),Fr(e,wn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Le(345));case 2:sa(e,Er,Es);break;case 3:if(wo(e,r),(r&130023424)===r&&(t=b1+500-wn(),10<t)){if(Zh(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){yr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=k0(sa.bind(null,e,Er,Es),t);break}sa(e,Er,Es);break;case 4:if(wo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-qi(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=wn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gk(r/1960))-r,10<r){e.timeoutHandle=k0(sa.bind(null,e,Er,Es),r);break}sa(e,Er,Es);break;case 5:sa(e,Er,Es);break;default:throw Error(Le(329))}}}return Fr(e,wn()),e.callbackNode===n?Cb.bind(null,e):null}function H0(e,t){var n=mu;return e.current.memoizedState.isDehydrated&&(ga(e,t).flags|=256),e=yf(e,t),e!==2&&(t=Er,Er=n,t!==null&&W0(t)),e}function W0(e){Er===null?Er=e:Er.push.apply(Er,e)}function Kk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hi(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wo(e,t){for(t&=~x1,t&=~Vf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qi(t),r=1<<n;e[n]=-1,t&=~r}}function ly(e){if(Ct&6)throw Error(Le(327));Dl();var t=Zh(e,0);if(!(t&1))return Fr(e,wn()),null;var n=yf(e,t);if(e.tag!==0&&n===2){var r=v0(e);r!==0&&(t=r,n=H0(e,r))}if(n===1)throw n=Uu,ga(e,0),wo(e,t),Fr(e,wn()),n;if(n===6)throw Error(Le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sa(e,Er,Es),Fr(e,wn()),null}function S1(e,t){var n=Ct;Ct|=1;try{return e(t)}finally{Ct=n,Ct===0&&(Kl=wn()+500,Uf&&Uo())}}function ja(e){So!==null&&So.tag===0&&!(Ct&6)&&Dl();var t=Ct;Ct|=1;var n=_i.transition,r=Ot;try{if(_i.transition=null,Ot=1,e)return e()}finally{Ot=r,_i.transition=n,Ct=t,!(Ct&6)&&Uo()}}function _1(){Xr=jl.current,Yt(jl)}function ga(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jk(n)),Cn!==null)for(n=Cn.return;n!==null;){var r=n;switch(r1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sf();break;case 3:Wl(),Yt(Ir),Yt(dr),h1();break;case 5:d1(r);break;case 4:Wl();break;case 13:Yt(nn);break;case 19:Yt(nn);break;case 10:a1(r.type._context);break;case 22:case 23:_1()}n=n.return}if(zn=e,Cn=e=Lo(e.current,null),Kn=Xr=t,Rn=0,Uu=null,x1=Vf=_a=0,Er=mu=null,fa!==null){for(t=0;t<fa.length;t++)if(n=fa[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}fa=null}return e}function Pb(e,t){do{var n=Cn;try{if(o1(),Lh.current=pf,ff){for(var r=sn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ff=!1}if(Sa=0,Bn=In=sn=null,fu=!1,Du=0,w1.current=null,n===null||n.return===null){Rn=1,Uu=t,Cn=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Kn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=J2(o);if(m!==null){m.flags&=-257,Y2(m,o,a,s,t),m.mode&1&&K2(s,u,t),t=m,l=u;var b=t.updateQueue;if(b===null){var S=new Set;S.add(l),t.updateQueue=S}else b.add(l);break e}else{if(!(t&1)){K2(s,u,t),j1();break e}l=Error(Le(426))}}else if(en&&a.mode&1){var k=J2(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Y2(k,o,a,s,t),i1(Gl(l,a));break e}}s=l=Gl(l,a),Rn!==4&&(Rn=2),mu===null?mu=[s]:mu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=hb(s,l,t);$2(s,y);break e;case 1:a=l;var x=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Po===null||!Po.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=fb(s,a,t);$2(s,E);break e}}s=s.return}while(s!==null)}Tb(n)}catch(D){t=D,Cn===n&&n!==null&&(Cn=n=n.return);continue}break}while(1)}function Eb(){var e=mf.current;return mf.current=pf,e===null?pf:e}function j1(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),zn===null||!(_a&268435455)&&!(Vf&268435455)||wo(zn,Kn)}function yf(e,t){var n=Ct;Ct|=2;var r=Eb();(zn!==e||Kn!==t)&&(Es=null,ga(e,t));do try{Jk();break}catch(i){Pb(e,i)}while(1);if(o1(),Ct=n,mf.current=r,Cn!==null)throw Error(Le(261));return zn=null,Kn=0,Rn}function Jk(){for(;Cn!==null;)Lb(Cn)}function Yk(){for(;Cn!==null&&!bj();)Lb(Cn)}function Lb(e){var t=Rb(e.alternate,e,Xr);e.memoizedProps=e.pendingProps,t===null?Tb(e):Cn=t,w1.current=null}function Tb(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qk(n,t),n!==null){n.flags&=32767,Cn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rn=6,Cn=null;return}}else if(n=$k(n,t,Xr),n!==null){Cn=n;return}if(t=t.sibling,t!==null){Cn=t;return}Cn=t=e}while(t!==null);Rn===0&&(Rn=5)}function sa(e,t,n){var r=Ot,i=_i.transition;try{_i.transition=null,Ot=1,Xk(e,t,n,r)}finally{_i.transition=i,Ot=r}return null}function Xk(e,t,n,r){do Dl();while(So!==null);if(Ct&6)throw Error(Le(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Le(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Lj(e,s),e===zn&&(Cn=zn=null,Kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lh||(lh=!0,Fb(Qh,function(){return Dl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=_i.transition,_i.transition=null;var o=Ot;Ot=1;var a=Ct;Ct|=4,w1.current=null,Hk(e,n),Nb(n,e),vk(_0),ef=!!S0,_0=S0=null,e.current=n,Wk(n),Sj(),Ct=a,Ot=o,_i.transition=s}else e.current=n;if(lh&&(lh=!1,So=e,vf=i),s=e.pendingLanes,s===0&&(Po=null),kj(n.stateNode),Fr(e,wn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gf)throw gf=!1,e=q0,q0=null,e;return vf&1&&e.tag!==0&&Dl(),s=e.pendingLanes,s&1?e===V0?gu++:(gu=0,V0=e):gu=0,Uo(),null}function Dl(){if(So!==null){var e=hx(vf),t=_i.transition,n=Ot;try{if(_i.transition=null,Ot=16>e?16:e,So===null)var r=!1;else{if(e=So,So=null,vf=0,Ct&6)throw Error(Le(331));var i=Ct;for(Ct|=4,We=e.current;We!==null;){var s=We,o=s.child;if(We.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(We=u;We!==null;){var h=We;switch(h.tag){case 0:case 11:case 15:pu(8,h,s)}var f=h.child;if(f!==null)f.return=h,We=f;else for(;We!==null;){h=We;var g=h.sibling,m=h.return;if(_b(h),h===u){We=null;break}if(g!==null){g.return=m,We=g;break}We=m}}}var b=s.alternate;if(b!==null){var S=b.child;if(S!==null){b.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}We=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,We=o;else e:for(;We!==null;){if(s=We,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,We=y;break e}We=s.return}}var x=e.current;for(We=x;We!==null;){o=We;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,We=_;else e:for(o=x;We!==null;){if(a=We,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qf(9,a)}}catch(D){pn(a,a.return,D)}if(a===o){We=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,We=E;break e}We=a.return}}if(Ct=i,Uo(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(Ff,e)}catch{}r=!0}return r}finally{Ot=n,_i.transition=t}}return!1}function cy(e,t,n){t=Gl(n,t),t=hb(e,t,1),e=Co(e,t,1),t=yr(),e!==null&&(Yu(e,1,t),Fr(e,t))}function pn(e,t,n){if(e.tag===3)cy(e,e,n);else for(;t!==null;){if(t.tag===3){cy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Po===null||!Po.has(r))){e=Gl(n,e),e=fb(t,e,1),t=Co(t,e,1),e=yr(),t!==null&&(Yu(t,1,e),Fr(t,e));break}}t=t.return}}function Qk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yr(),e.pingedLanes|=e.suspendedLanes&n,zn===e&&(Kn&n)===n&&(Rn===4||Rn===3&&(Kn&130023424)===Kn&&500>wn()-b1?ga(e,0):x1|=n),Fr(e,t)}function Ib(e,t){t===0&&(e.mode&1?(t=Qd,Qd<<=1,!(Qd&130023424)&&(Qd=4194304)):t=1);var n=yr();e=$s(e,t),e!==null&&(Yu(e,t,n),Fr(e,n))}function Zk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ib(e,n)}function eN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Le(314))}r!==null&&r.delete(t),Ib(e,n)}var Rb;Rb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ir.current)Tr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Tr=!1,zk(e,t,n);Tr=!!(e.flags&131072)}else Tr=!1,en&&t.flags&1048576&&Mx(t,lf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ih(e,t),e=t.pendingProps;var i=ql(t,dr.current);Ol(t,n),i=p1(null,t,r,e,i,n);var s=m1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(r)?(s=!0,of(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,c1(t),i.updater=$f,t.stateNode=i,i._reactInternals=t,T0(t,r,e,n),t=F0(null,t,r,!0,s,n)):(t.tag=0,en&&s&&n1(t),vr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ih(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=nN(r),e=Mi(r,e),i){case 0:t=R0(null,t,r,e,n);break e;case 1:t=Z2(null,t,r,e,n);break e;case 11:t=X2(null,t,r,e,n);break e;case 14:t=Q2(null,t,r,Mi(r.type,e),n);break e}throw Error(Le(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mi(r,i),R0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mi(r,i),Z2(e,t,r,i,n);case 3:e:{if(vb(t),e===null)throw Error(Le(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Vx(e,t),df(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Gl(Error(Le(423)),t),t=ey(e,t,r,n,i);break e}else if(r!==i){i=Gl(Error(Le(424)),t),t=ey(e,t,r,n,i);break e}else for(Qr=Ao(t.stateNode.containerInfo.firstChild),ei=t,en=!0,$i=null,n=$x(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vl(),r===i){t=qs(e,t,n);break e}vr(e,t,r,n)}t=t.child}return t;case 5:return Hx(t),e===null&&P0(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,j0(r,i)?o=null:s!==null&&j0(r,s)&&(t.flags|=32),gb(e,t),vr(e,t,o,n),t.child;case 6:return e===null&&P0(t),null;case 13:return yb(e,t,n);case 4:return u1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hl(t,null,r,n):vr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mi(r,i),X2(e,t,r,i,n);case 7:return vr(e,t,t.pendingProps,n),t.child;case 8:return vr(e,t,t.pendingProps.children,n),t.child;case 12:return vr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Wt(cf,r._currentValue),r._currentValue=o,s!==null)if(Hi(s.value,o)){if(s.children===i.children&&!Ir.current){t=qs(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Os(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),E0(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Le(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),E0(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ol(t,n),i=ki(i),r=r(i),t.flags|=1,vr(e,t,r,n),t.child;case 14:return r=t.type,i=Mi(r,t.pendingProps),i=Mi(r.type,i),Q2(e,t,r,i,n);case 15:return pb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mi(r,i),Ih(e,t),t.tag=1,Rr(r)?(e=!0,of(t)):e=!1,Ol(t,n),db(t,r,i),T0(t,r,i,n),F0(null,t,r,!0,e,n);case 19:return wb(e,t,n);case 22:return mb(e,t,n)}throw Error(Le(156,t.tag))};function Fb(e,t){return lx(e,t)}function tN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(e,t,n,r){return new tN(e,t,n,r)}function k1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nN(e){if(typeof e=="function")return k1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vg)return 11;if(e===Hg)return 14}return 2}function Lo(e,t){var n=e.alternate;return n===null?(n=bi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oh(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")k1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case pl:return va(n.children,i,s,t);case qg:o=8,i|=8;break;case n0:return e=bi(12,n,t,i|2),e.elementType=n0,e.lanes=s,e;case r0:return e=bi(13,n,t,i),e.elementType=r0,e.lanes=s,e;case i0:return e=bi(19,n,t,i),e.elementType=i0,e.lanes=s,e;case Hw:return Hf(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qw:o=10;break e;case Vw:o=9;break e;case Vg:o=11;break e;case Hg:o=14;break e;case go:o=16,r=null;break e}throw Error(Le(130,e==null?e:typeof e,""))}return t=bi(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function va(e,t,n,r){return e=bi(7,e,r,t),e.lanes=n,e}function Hf(e,t,n,r){return e=bi(22,e,r,t),e.elementType=Hw,e.lanes=n,e.stateNode={isHidden:!1},e}function wm(e,t,n){return e=bi(6,e,null,t),e.lanes=n,e}function xm(e,t,n){return t=bi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rN(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=em(0),this.expirationTimes=em(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=em(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function N1(e,t,n,r,i,s,o,a,l){return e=new rN(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=bi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},c1(s),e}function iN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ob(e){if(!e)return Io;e=e._reactInternals;e:{if(Na(e)!==e||e.tag!==1)throw Error(Le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Le(171))}if(e.tag===1){var n=e.type;if(Rr(n))return Ox(e,n,t)}return t}function Db(e,t,n,r,i,s,o,a,l){return e=N1(n,r,!0,e,i,s,o,a,l),e.context=Ob(null),n=e.current,r=yr(),i=Eo(n),s=Os(r,i),s.callback=t??null,Co(n,s,i),e.current.lanes=i,Yu(e,i,r),Fr(e,r),e}function Wf(e,t,n,r){var i=t.current,s=yr(),o=Eo(i);return n=Ob(n),t.context===null?t.context=n:t.pendingContext=n,t=Os(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Co(i,t,o),e!==null&&(Vi(e,i,o,s),Eh(e,i,o)),o}function wf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function A1(e,t){uy(e,t),(e=e.alternate)&&uy(e,t)}function sN(){return null}var Mb=typeof reportError=="function"?reportError:function(e){console.error(e)};function C1(e){this._internalRoot=e}Gf.prototype.render=C1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Le(409));Wf(e,t,null,null)};Gf.prototype.unmount=C1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ja(function(){Wf(null,e,null,null)}),t[zs]=null}};function Gf(e){this._internalRoot=e}Gf.prototype.unstable_scheduleHydration=function(e){if(e){var t=mx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yo.length&&t!==0&&t<yo[n].priority;n++);yo.splice(n,0,e),n===0&&vx(e)}};function P1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dy(){}function oN(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=wf(o);s.call(u)}}var o=Db(t,r,e,0,null,!1,!1,"",dy);return e._reactRootContainer=o,e[zs]=o.current,Tu(e.nodeType===8?e.parentNode:e),ja(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=wf(l);a.call(u)}}var l=N1(e,0,!1,null,null,!1,!1,"",dy);return e._reactRootContainer=l,e[zs]=l.current,Tu(e.nodeType===8?e.parentNode:e),ja(function(){Wf(t,l,n,r)}),l}function Jf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=wf(o);a.call(l)}}Wf(t,o,e,i)}else o=oN(n,t,e,i,r);return wf(o)}fx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=nu(t.pendingLanes);n!==0&&(Kg(t,n|1),Fr(t,wn()),!(Ct&6)&&(Kl=wn()+500,Uo()))}break;case 13:ja(function(){var r=$s(e,1);if(r!==null){var i=yr();Vi(r,e,1,i)}}),A1(e,1)}};Jg=function(e){if(e.tag===13){var t=$s(e,134217728);if(t!==null){var n=yr();Vi(t,e,134217728,n)}A1(e,134217728)}};px=function(e){if(e.tag===13){var t=Eo(e),n=$s(e,t);if(n!==null){var r=yr();Vi(n,e,t,r)}A1(e,t)}};mx=function(){return Ot};gx=function(e,t){var n=Ot;try{return Ot=e,t()}finally{Ot=n}};p0=function(e,t,n){switch(t){case"input":if(a0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Bf(r);if(!i)throw Error(Le(90));Gw(r),a0(r,i)}}}break;case"textarea":Jw(e,n);break;case"select":t=n.value,t!=null&&Tl(e,!!n.multiple,t,!1)}};nx=S1;rx=ja;var aN={usingClientEntryPoint:!1,Events:[Qu,yl,Bf,ex,tx,S1]},Hc={findFiberByHostInstance:ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lN={bundleType:Hc.bundleType,version:Hc.version,rendererPackageName:Hc.rendererPackageName,rendererConfig:Hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ox(e),e===null?null:e.stateNode},findFiberByHostInstance:Hc.findFiberByHostInstance||sN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Ff=ch.inject(lN),as=ch}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aN;ii.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P1(t))throw Error(Le(200));return iN(e,t,null,n)};ii.createRoot=function(e,t){if(!P1(e))throw Error(Le(299));var n=!1,r="",i=Mb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=N1(e,1,!1,null,null,n,!1,r,i),e[zs]=t.current,Tu(e.nodeType===8?e.parentNode:e),new C1(t)};ii.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Le(188)):(e=Object.keys(e).join(","),Error(Le(268,e)));return e=ox(t),e=e===null?null:e.stateNode,e};ii.flushSync=function(e){return ja(e)};ii.hydrate=function(e,t,n){if(!Kf(t))throw Error(Le(200));return Jf(null,e,t,!0,n)};ii.hydrateRoot=function(e,t,n){if(!P1(e))throw Error(Le(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Mb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Db(t,null,e,1,n??null,i,!1,s,o),e[zs]=t.current,Tu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gf(t)};ii.render=function(e,t,n){if(!Kf(t))throw Error(Le(200));return Jf(null,e,t,!1,n)};ii.unmountComponentAtNode=function(e){if(!Kf(e))throw Error(Le(40));return e._reactRootContainer?(ja(function(){Jf(null,null,e,!1,function(){e._reactRootContainer=null,e[zs]=null})}),!0):!1};ii.unstable_batchedUpdates=S1;ii.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Kf(n))throw Error(Le(200));if(e==null||e._reactInternals===void 0)throw Error(Le(38));return Jf(e,t,n,!1,r)};ii.version="18.3.1-next-f1338f8080-20240426";function Bb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bb)}catch(e){console.error(e)}}Bb(),Bw.exports=ii;var Ub=Bw.exports;const zb=Fg(Ub);var hy=Ub;e0.createRoot=hy.createRoot,e0.hydrateRoot=hy.hydrateRoot;const cN="modulepreload",uN=function(e){return"/"+e},fy={},hs=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=uN(s),s in fy)return;fy[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":cN,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var py="popstate";function dN(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return G0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zu(i)}return fN(t,n,null,e)}function on(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hN(){return Math.random().toString(36).substring(2,10)}function my(e,t){return{usr:e.state,key:e.key,idx:t}}function G0(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?rc(t):t,state:n,key:t&&t.key||r||hN()}}function zu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function rc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function fN(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let k=h(),y=k==null?null:k-u;u=k,l&&l({action:a,location:S.location,delta:y})}function g(k,y){a="PUSH";let x=G0(S.location,k,y);n&&n(x,k),u=h()+1;let _=my(x,u),E=S.createHref(x);try{o.pushState(_,"",E)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(E)}s&&l&&l({action:a,location:S.location,delta:1})}function m(k,y){a="REPLACE";let x=G0(S.location,k,y);n&&n(x,k),u=h();let _=my(x,u),E=S.createHref(x);o.replaceState(_,"",E),s&&l&&l({action:a,location:S.location,delta:0})}function b(k){return pN(k)}let S={get action(){return a},get location(){return e(i,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(py,f),l=k,()=>{i.removeEventListener(py,f),l=null}},createHref(k){return t(i,k)},createURL:b,encodeLocation(k){let y=b(k);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:m,go(k){return o.go(k)}};return S}function pN(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),on(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:zu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $b(e,t,n="/"){return mN(e,t,n,!1)}function mN(e,t,n,r){let i=typeof t=="string"?rc(t):t,s=Vs(i.pathname||"/",n);if(s==null)return null;let o=qb(e);gN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=AN(s);a=kN(o[l],u,r)}return a}function qb(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&l)return;on(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let f=Ds([r,h.relativePath]),g=n.concat(h);o.children&&o.children.length>0&&(on(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),qb(o.children,t,g,f,l)),!(o.path==null&&!o.index)&&t.push({path:f,score:_N(f,o.index),routesMeta:g})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of Vb(o.path))s(o,a,!0,u)}),t}function Vb(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Vb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function gN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var vN=/^:[\w-]+$/,yN=3,wN=2,xN=1,bN=10,SN=-2,gy=e=>e==="*";function _N(e,t){let n=e.split("/"),r=n.length;return n.some(gy)&&(r+=SN),t&&(r+=wN),n.filter(i=>!gy(i)).reduce((i,s)=>i+(vN.test(s)?yN:s===""?xN:bN),r)}function jN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function kN(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?t:t.slice(s.length)||"/",f=xf({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),g=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=xf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ds([s,f.pathname]),pathnameBase:LN(Ds([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=Ds([s,f.pathnameBase]))}return o}function xf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=NN(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:f},g)=>{if(h==="*"){let b=a[g]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const m=a[g];return f&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function NN(e,t=!1,n=!0){Wi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function AN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Vs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function CN(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?rc(e):e;return{pathname:n?n.startsWith("/")?n:PN(n,t):t,search:TN(r),hash:IN(i)}}function PN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bm(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Hb(e){let t=EN(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Wb(e,t,n,r=!1){let i;typeof e=="string"?i=rc(e):(i={...e},on(!i.pathname||!i.pathname.includes("?"),bm("?","pathname","search",i)),on(!i.pathname||!i.pathname.includes("#"),bm("#","pathname","hash",i)),on(!i.search||!i.search.includes("#"),bm("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}a=f>=0?t[f]:"/"}let l=CN(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var Ds=e=>e.join("/").replace(/\/\/+/g,"/"),LN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),TN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,IN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function RN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Gb=["POST","PUT","PATCH","DELETE"];new Set(Gb);var FN=["GET",...Gb];new Set(FN);var ic=I.createContext(null);ic.displayName="DataRouter";var Yf=I.createContext(null);Yf.displayName="DataRouterState";I.createContext(!1);var Kb=I.createContext({isTransitioning:!1});Kb.displayName="ViewTransition";var ON=I.createContext(new Map);ON.displayName="Fetchers";var DN=I.createContext(null);DN.displayName="Await";var fs=I.createContext(null);fs.displayName="Navigation";var ed=I.createContext(null);ed.displayName="Location";var Gs=I.createContext({outlet:null,matches:[],isDataRoute:!1});Gs.displayName="Route";var E1=I.createContext(null);E1.displayName="RouteError";function MN(e,{relative:t}={}){on(td(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(fs),{hash:i,pathname:s,search:o}=nd(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Ds([n,s])),r.createHref({pathname:a,search:o,hash:i})}function td(){return I.useContext(ed)!=null}function zo(){return on(td(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(ed).location}var Jb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yb(e){I.useContext(fs).static||I.useLayoutEffect(e)}function L1(){let{isDataRoute:e}=I.useContext(Gs);return e?XN():BN()}function BN(){on(td(),"useNavigate() may be used only in the context of a <Router> component.");let e=I.useContext(ic),{basename:t,navigator:n}=I.useContext(fs),{matches:r}=I.useContext(Gs),{pathname:i}=zo(),s=JSON.stringify(Hb(r)),o=I.useRef(!1);return Yb(()=>{o.current=!0}),I.useCallback((l,u={})=>{if(Wi(o.current,Jb),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=Wb(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ds([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,s,i,e])}I.createContext(null);function nd(e,{relative:t}={}){let{matches:n}=I.useContext(Gs),{pathname:r}=zo(),i=JSON.stringify(Hb(n));return I.useMemo(()=>Wb(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function UN(e,t){return Xb(e,t)}function Xb(e,t,n,r,i){var x;on(td(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=I.useContext(fs),{matches:o}=I.useContext(Gs),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let _=f&&f.path||"";Qb(u,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let g=zo(),m;if(t){let _=typeof t=="string"?rc(t):t;on(h==="/"||((x=_.pathname)==null?void 0:x.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=g;let b=m.pathname||"/",S=b;if(h!=="/"){let _=h.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let k=$b(e,{pathname:S});Wi(f||k!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Wi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=HN(k&&k.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Ds([h,s.encodeLocation?s.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:Ds([h,s.encodeLocation?s.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),o,n,r,i);return t&&y?I.createElement(ed.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},y):y}function zN(){let e=YN(),t=RN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),n?I.createElement("pre",{style:i},n):null,o)}var $N=I.createElement(zN,null),qN=class extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?I.createElement(Gs.Provider,{value:this.props.routeContext},I.createElement(E1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VN({routeContext:e,match:t,children:n}){let r=I.useContext(ic);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(Gs.Provider,{value:e},n)}function HN(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let u=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);on(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:g}=n,m=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,h,f)=>{let g,m=!1,b=null,S=null;n&&(g=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||$N,a&&(l<0&&f===0?(Qb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,S=null):l===f&&(m=!0,S=h.route.hydrateFallbackElement||null)));let k=t.concat(s.slice(0,f+1)),y=()=>{let x;return g?x=b:m?x=S:h.route.Component?x=I.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=u,I.createElement(VN,{match:h,routeContext:{outlet:u,matches:k,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?I.createElement(qN,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:y(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):y()},null)}function T1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WN(e){let t=I.useContext(ic);return on(t,T1(e)),t}function GN(e){let t=I.useContext(Yf);return on(t,T1(e)),t}function KN(e){let t=I.useContext(Gs);return on(t,T1(e)),t}function I1(e){let t=KN(e),n=t.matches[t.matches.length-1];return on(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function JN(){return I1("useRouteId")}function YN(){var r;let e=I.useContext(E1),t=GN("useRouteError"),n=I1("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function XN(){let{router:e}=WN("useNavigate"),t=I1("useNavigate"),n=I.useRef(!1);return Yb(()=>{n.current=!0}),I.useCallback(async(i,s={})=>{Wi(n.current,Jb),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var vy={};function Qb(e,t,n){!t&&!vy[e]&&(vy[e]=!0,Wi(!1,n))}I.memo(QN);function QN({routes:e,future:t,state:n,unstable_onError:r}){return Xb(e,void 0,n,r,t)}function Dh(e){on(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZN({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){on(!td(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=I.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=rc(n));let{pathname:l="/",search:u="",hash:h="",state:f=null,key:g="default"}=n,m=I.useMemo(()=>{let b=Vs(l,o);return b==null?null:{location:{pathname:b,search:u,hash:h,state:f,key:g},navigationType:r}},[o,l,u,h,f,g,r]);return Wi(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:I.createElement(fs.Provider,{value:a},I.createElement(ed.Provider,{children:t,value:m}))}function e6({children:e,location:t}){return UN(K0(e),t)}function K0(e,t=[]){let n=[];return I.Children.forEach(e,(r,i)=>{if(!I.isValidElement(r))return;let s=[...t,i];if(r.type===I.Fragment){n.push.apply(n,K0(r.props.children,s));return}on(r.type===Dh,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),on(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=K0(r.props.children,s)),n.push(o)}),n}var Mh="get",Bh="application/x-www-form-urlencoded";function Xf(e){return e!=null&&typeof e.tagName=="string"}function t6(e){return Xf(e)&&e.tagName.toLowerCase()==="button"}function n6(e){return Xf(e)&&e.tagName.toLowerCase()==="form"}function r6(e){return Xf(e)&&e.tagName.toLowerCase()==="input"}function i6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s6(e,t){return e.button===0&&(!t||t==="_self")&&!i6(e)}function J0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function o6(e,t){let n=J0(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var uh=null;function a6(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var l6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(e){return e!=null&&!l6.has(e)?(Wi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bh}"`),null):e}function c6(e,t){let n,r,i,s,o;if(n6(e)){let a=e.getAttribute("action");r=a?Vs(a,t):null,n=e.getAttribute("method")||Mh,i=Sm(e.getAttribute("enctype"))||Bh,s=new FormData(e)}else if(t6(e)||r6(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Vs(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Mh,i=Sm(e.getAttribute("formenctype"))||Sm(a.getAttribute("enctype"))||Bh,s=new FormData(a,e),!a6()){let{name:u,type:h,value:f}=e;if(h==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,f)}}else{if(Xf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mh,r=null,i=Bh,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function R1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function u6(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Vs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function d6(e,t){if(e.id in t)return t[e.id];try{let n=await hs(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h6(e){return e!=null&&typeof e.page=="string"}function f6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function p6(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await d6(s,n);return o.links?o.links():[]}return[]}));return y6(r.flat(1).filter(f6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function yy(e,t,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var h;return n[u].pathname!==l.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{var f;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function m6(e,t,{includeHydrateFallback:n}={}){return g6(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function g6(e){return[...new Set(e)]}function v6(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function y6(e,t){let n=new Set,r=new Set(t);return e.reduce((i,s)=>{if(t&&!h6(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(v6(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function Zb(){let e=I.useContext(ic);return R1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function w6(){let e=I.useContext(Yf);return R1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var F1=I.createContext(void 0);F1.displayName="FrameworkContext";function e3(){let e=I.useContext(F1);return R1(e,"You must render this element inside a <HydratedRouter> element"),e}function x6(e,t){let n=I.useContext(F1),[r,i]=I.useState(!1),[s,o]=I.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=t,g=I.useRef(null);I.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=y=>{y.forEach(x=>{o(x.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return g.current&&k.observe(g.current),()=>{k.disconnect()}}},[e]),I.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let m=()=>{i(!0)},b=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:Wc(a,m),onBlur:Wc(l,b),onMouseEnter:Wc(u,m),onMouseLeave:Wc(h,b),onTouchStart:Wc(f,m)}]:[!1,g,{}]}function Wc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function b6({page:e,...t}){let{router:n}=Zb(),r=I.useMemo(()=>$b(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?I.createElement(_6,{page:e,matches:r,...t}):null}function S6(e){let{manifest:t,routeModules:n}=e3(),[r,i]=I.useState([]);return I.useEffect(()=>{let s=!1;return p6(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function _6({page:e,matches:t,...n}){let r=zo(),{manifest:i,routeModules:s}=e3(),{basename:o}=Zb(),{loaderData:a,matches:l}=w6(),u=I.useMemo(()=>yy(e,t,l,i,r,"data"),[e,t,l,i,r]),h=I.useMemo(()=>yy(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=I.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,S=!1;if(t.forEach(y=>{var _;let x=i.routes[y.route.id];!x||!x.hasLoader||(!u.some(E=>E.route.id===y.route.id)&&y.route.id in a&&((_=s[y.route.id])!=null&&_.shouldRevalidate)||x.hasClientLoader?S=!0:b.add(y.route.id))}),b.size===0)return[];let k=u6(e,o,"data");return S&&b.size>0&&k.searchParams.set("_routes",t.filter(y=>b.has(y.route.id)).map(y=>y.route.id).join(",")),[k.pathname+k.search]},[o,a,r,i,u,t,e,s]),g=I.useMemo(()=>m6(h,i),[h,i]),m=S6(h);return I.createElement(I.Fragment,null,f.map(b=>I.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),g.map(b=>I.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),m.map(({key:b,link:S})=>I.createElement("link",{key:b,nonce:n.nonce,...S})))}function j6(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var t3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t3&&(window.__reactRouterVersion="7.9.3")}catch{}function k6({basename:e,children:t,window:n}){let r=I.useRef();r.current==null&&(r.current=dN({window:n,v5Compat:!0}));let i=r.current,[s,o]=I.useState({action:i.action,location:i.location}),a=I.useCallback(l=>{I.startTransition(()=>o(l))},[o]);return I.useLayoutEffect(()=>i.listen(a),[i,a]),I.createElement(ZN,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var n3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r3=I.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:f,...g},m){let{basename:b}=I.useContext(fs),S=typeof u=="string"&&n3.test(u),k,y=!1;if(typeof u=="string"&&S&&(k=u,t3))try{let Q=new URL(window.location.href),X=u.startsWith("//")?new URL(Q.protocol+u):new URL(u),F=Vs(X.pathname,b);X.origin===Q.origin&&F!=null?u=F+X.search+X.hash:y=!0}catch{Wi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=MN(u,{relative:i}),[_,E,D]=x6(r,g),q=P6(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:f});function M(Q){t&&t(Q),Q.defaultPrevented||q(Q)}let R=I.createElement("a",{...g,...D,href:k||x,onClick:y||s?t:M,ref:j6(m,E),target:l,"data-discover":!S&&n==="render"?"true":void 0});return _&&!S?I.createElement(I.Fragment,null,R,I.createElement(b6,{page:x})):R});r3.displayName="Link";var N6=I.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},h){let f=nd(o,{relative:u.relative}),g=zo(),m=I.useContext(Yf),{navigator:b,basename:S}=I.useContext(fs),k=m!=null&&F6(f)&&a===!0,y=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,x=g.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(x=x.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase()),_&&S&&(_=Vs(_,S)||_);const E=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let D=x===y||!i&&x.startsWith(y)&&x.charAt(E)==="/",q=_!=null&&(_===y||!i&&_.startsWith(y)&&_.charAt(y.length)==="/"),M={isActive:D,isPending:q,isTransitioning:k},R=D?t:void 0,Q;typeof r=="function"?Q=r(M):Q=[r,D?"active":null,q?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let X=typeof s=="function"?s(M):s;return I.createElement(r3,{...u,"aria-current":R,className:Q,ref:h,style:X,to:o,viewTransition:a},typeof l=="function"?l(M):l)});N6.displayName="NavLink";var A6=I.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Mh,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:f,...g},m)=>{let b=I6(),S=R6(a,{relative:u}),k=o.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&n3.test(a),x=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let E=_.nativeEvent.submitter,D=(E==null?void 0:E.getAttribute("formmethod"))||o;b(E||_.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:f})};return I.createElement("form",{ref:m,method:k,action:S,onSubmit:r?l:x,...g,"data-discover":!y&&e==="render"?"true":void 0})});A6.displayName="Form";function C6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i3(e){let t=I.useContext(ic);return on(t,C6(e)),t}function P6(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=L1(),l=zo(),u=nd(e,{relative:s});return I.useCallback(h=>{if(s6(h,t)){h.preventDefault();let f=n!==void 0?n:zu(l)===zu(u);a(e,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,t,e,i,s,o])}function E6(e){Wi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=I.useRef(J0(e)),n=I.useRef(!1),r=zo(),i=I.useMemo(()=>o6(r.search,n.current?null:t.current),[r.search]),s=L1(),o=I.useCallback((a,l)=>{const u=J0(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}var L6=0,T6=()=>`__${String(++L6)}__`;function I6(){let{router:e}=i3("useSubmit"),{basename:t}=I.useContext(fs),n=JN();return I.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=c6(r,t);if(i.navigate===!1){let h=i.fetcherKey||T6();await e.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function R6(e,{relative:t}={}){let{basename:n}=I.useContext(fs),r=I.useContext(Gs);on(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...nd(e||".",{relative:t})},o=zo();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ds([n,s.pathname])),zu(s)}function F6(e,{relative:t}={}){let n=I.useContext(Kb);on(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=i3("useViewTransitionState"),i=nd(e,{relative:t});if(!n.isTransitioning)return!1;let s=Vs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Vs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xf(i.pathname,o)!=null||xf(i.pathname,s)!=null}const O1=I.createContext({});function D1(e){const t=I.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qf=I.createContext(null),M1=I.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class O6 extends I.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function D6({children:e,isPresent:t}){const n=I.useId(),r=I.useRef(null),i=I.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=I.useContext(M1);return I.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),c.jsx(O6,{isPresent:t,childRef:r,sizeRef:i,children:I.cloneElement(e,{ref:r})})}const M6=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=D1(B6),l=I.useId(),u=I.useCallback(f=>{a.set(f,!0);for(const g of a.values())if(!g)return;r&&r()},[a,r]),h=I.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:u,register:f=>(a.set(f,!1),()=>a.delete(f))}),s?[Math.random(),u]:[n,u]);return I.useMemo(()=>{a.forEach((f,g)=>a.set(g,!1))},[n]),I.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(D6,{isPresent:n,children:e})),c.jsx(Qf.Provider,{value:h,children:e})};function B6(){return new Map}function s3(e=!0){const t=I.useContext(Qf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=I.useId();I.useEffect(()=>{e&&i(s)},[e]);const o=I.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const dh=e=>e.key||"";function wy(e){const t=[];return I.Children.forEach(e,n=>{I.isValidElement(n)&&t.push(n)}),t}const B1=typeof window<"u",o3=B1?I.useLayoutEffect:I.useEffect,Si=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=s3(o),u=I.useMemo(()=>wy(e),[e]),h=o&&!a?[]:u.map(dh),f=I.useRef(!0),g=I.useRef(u),m=D1(()=>new Map),[b,S]=I.useState(u),[k,y]=I.useState(u);o3(()=>{f.current=!1,g.current=u;for(let E=0;E<k.length;E++){const D=dh(k[E]);h.includes(D)?m.delete(D):m.get(D)!==!0&&m.set(D,!1)}},[k,h.length,h.join("-")]);const x=[];if(u!==b){let E=[...u];for(let D=0;D<k.length;D++){const q=k[D],M=dh(q);h.includes(M)||(E.splice(D,0,q),x.push(q))}s==="wait"&&x.length&&(E=x),y(wy(E)),S(u);return}const{forceRender:_}=I.useContext(O1);return c.jsx(c.Fragment,{children:k.map(E=>{const D=dh(E),q=o&&!a?!1:u===k||h.includes(D),M=()=>{if(m.has(D))m.set(D,!0);else return;let R=!0;m.forEach(Q=>{Q||(R=!1)}),R&&(_==null||_(),y(g.current),o&&(l==null||l()),r&&r())};return c.jsx(M6,{isPresent:q,initial:!f.current||n?void 0:!1,custom:q?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:q?void 0:M,children:E},D)})})},ti=e=>e;let a3=ti;function U1(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ms=e=>e*1e3,Bs=e=>e/1e3,U6={skipAnimations:!1,useManualTiming:!1};function z6(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,h=!1,f=!1)=>{const m=f&&r?t:n;return h&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const hh=["read","resolveKeyframes","update","preRender","render","postRender"],$6=40;function l3(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=hh.reduce((y,x)=>(y[x]=z6(s),y),{}),{read:a,resolveKeyframes:l,update:u,preRender:h,render:f,postRender:g}=o,m=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,$6),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),h.process(i),f.process(i),g.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},b=()=>{n=!0,r=!0,i.isProcessing||e(m)};return{schedule:hh.reduce((y,x)=>{const _=o[x];return y[x]=(E,D=!1,q=!1)=>(n||b(),_.schedule(E,D,q)),y},{}),cancel:y=>{for(let x=0;x<hh.length;x++)o[hh[x]].cancel(y)},state:i,steps:o}}const{schedule:Xt,cancel:Ro,state:Gn,steps:_m}=l3(typeof requestAnimationFrame<"u"?requestAnimationFrame:ti,!0),c3=I.createContext({strict:!1}),xy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yl={};for(const e in xy)Yl[e]={isEnabled:t=>xy[e].some(n=>!!t[n])};function q6(e){for(const t in e)Yl[t]={...Yl[t],...e[t]}}const V6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||V6.has(e)}let u3=e=>!bf(e);function H6(e){e&&(u3=t=>t.startsWith("on")?!bf(t):e(t))}try{H6(require("@emotion/is-prop-valid").default)}catch{}function W6(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(u3(i)||n===!0&&bf(i)||!t&&!bf(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function G6(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Zf=I.createContext({});function $u(e){return typeof e=="string"||Array.isArray(e)}function ep(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const z1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$1=["initial",...z1];function tp(e){return ep(e.animate)||$1.some(t=>$u(e[t]))}function d3(e){return!!(tp(e)||e.variants)}function K6(e,t){if(tp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||$u(n)?n:void 0,animate:$u(r)?r:void 0}}return e.inherit!==!1?t:{}}function J6(e){const{initial:t,animate:n}=K6(e,I.useContext(Zf));return I.useMemo(()=>({initial:t,animate:n}),[by(t),by(n)])}function by(e){return Array.isArray(e)?e.join(" "):e}const Y6=Symbol.for("motionComponentSymbol");function kl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function X6(e,t,n){return I.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):kl(n)&&(n.current=r))},[t])}const q1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Q6="framerAppearId",h3="data-"+q1(Q6),{schedule:V1,cancel:gR}=l3(queueMicrotask,!1),f3=I.createContext({});function Z6(e,t,n,r,i){var s,o;const{visualElement:a}=I.useContext(Zf),l=I.useContext(c3),u=I.useContext(Qf),h=I.useContext(M1).reducedMotion,f=I.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=f.current,m=I.useContext(f3);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&eA(f.current,n,i,m);const b=I.useRef(!1);I.useInsertionEffect(()=>{g&&b.current&&g.update(n,u)});const S=n[h3],k=I.useRef(!!S&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,S))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,S)));return o3(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),V1.render(g.render),k.current&&g.animationState&&g.animationState.animateChanges())}),I.useEffect(()=>{g&&(!k.current&&g.animationState&&g.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,S)}),k.current=!1))}),g}function eA(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:p3(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&kl(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function p3(e){if(e)return e.options.allowProjection!==!1?e.projection:p3(e.parent)}function tA({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,o;e&&q6(e);function a(u,h){let f;const g={...I.useContext(M1),...u,layoutId:nA(u)},{isStatic:m}=g,b=J6(u),S=r(u,m);if(!m&&B1){rA();const k=iA(g);f=k.MeasureLayout,b.visualElement=Z6(i,S,g,t,k.ProjectionNode)}return c.jsxs(Zf.Provider,{value:b,children:[f&&b.visualElement?c.jsx(f,{visualElement:b.visualElement,...g}):null,n(i,u,X6(S,b.visualElement,h),S,m,b.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=I.forwardRef(a);return l[Y6]=i,l}function nA({layoutId:e}){const t=I.useContext(O1).id;return t&&e!==void 0?t+"-"+e:e}function rA(e,t){I.useContext(c3).strict}function iA(e){const{drag:t,layout:n}=Yl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const sA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function H1(e){return typeof e!="string"||e.includes("-")?!1:!!(sA.indexOf(e)>-1||/[A-Z]/u.test(e))}function Sy(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function W1(e,t,n,r){if(typeof t=="function"){const[i,s]=Sy(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=Sy(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const Y0=e=>Array.isArray(e),oA=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),aA=e=>Y0(e)?e[e.length-1]||0:e,ur=e=>!!(e&&e.getVelocity);function Uh(e){const t=ur(e)?e.get():e;return oA(t)?t.toValue():t}function lA({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const o={latestValues:cA(r,i,s,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const m3=e=>(t,n)=>{const r=I.useContext(Zf),i=I.useContext(Qf),s=()=>lA(e,t,r,i);return n?s():D1(s)};function cA(e,t,n,r){const i={},s=r(e,{});for(const g in s)i[g]=Uh(s[g]);let{initial:o,animate:a}=e;const l=tp(e),u=d3(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!ep(f)){const g=Array.isArray(f)?f:[f];for(let m=0;m<g.length;m++){const b=W1(e,g[m]);if(b){const{transitionEnd:S,transition:k,...y}=b;for(const x in y){let _=y[x];if(Array.isArray(_)){const E=h?_.length-1:0;_=_[E]}_!==null&&(i[x]=_)}for(const x in S)i[x]=S[x]}}}return i}const sc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Aa=new Set(sc),g3=e=>t=>typeof t=="string"&&t.startsWith(e),v3=g3("--"),uA=g3("var(--"),G1=e=>uA(e)?dA.test(e.split("/*")[0].trim()):!1,dA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,y3=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Hs=(e,t,n)=>n>t?t:n<e?e:n,oc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qu={...oc,transform:e=>Hs(0,1,e)},fh={...oc,default:1},rd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),po=rd("deg"),cs=rd("%"),ot=rd("px"),hA=rd("vh"),fA=rd("vw"),_y={...cs,parse:e=>cs.parse(e)/100,transform:e=>cs.transform(e*100)},pA={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,radius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,top:ot,right:ot,bottom:ot,left:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,backgroundPositionX:ot,backgroundPositionY:ot},mA={rotate:po,rotateX:po,rotateY:po,rotateZ:po,scale:fh,scaleX:fh,scaleY:fh,scaleZ:fh,skew:po,skewX:po,skewY:po,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:qu,originX:_y,originY:_y,originZ:ot},jy={...oc,transform:Math.round},K1={...pA,...mA,zIndex:jy,size:ot,fillOpacity:qu,strokeOpacity:qu,numOctaves:jy},gA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vA=sc.length;function yA(e,t,n){let r="",i=!0;for(let s=0;s<vA;s++){const o=sc[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=y3(a,K1[o]);if(!l){i=!1;const h=gA[o]||o;r+=`${h}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function J1(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(Aa.has(l)){o=!0;continue}else if(v3(l)){i[l]=u;continue}else{const h=y3(u,K1[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(t.transform||(o||n?r.transform=yA(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${u} ${h}`}}const wA={offset:"stroke-dashoffset",array:"stroke-dasharray"},xA={offset:"strokeDashoffset",array:"strokeDasharray"};function bA(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?wA:xA;e[s.offset]=ot.transform(-r);const o=ot.transform(t),a=ot.transform(n);e[s.array]=`${o} ${a}`}function ky(e,t,n){return typeof e=="string"?e:ot.transform(t+n*e)}function SA(e,t,n){const r=ky(t,e.x,e.width),i=ky(n,e.y,e.height);return`${r} ${i}`}function Y1(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},h,f){if(J1(e,u,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:m,dimensions:b}=e;g.transform&&(b&&(m.transform=g.transform),delete g.transform),b&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=SA(b,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&bA(g,o,a,l,!1)}const X1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),w3=()=>({...X1(),attrs:{}}),Q1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function x3(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const b3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function S3(e,t,n,r){x3(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(b3.has(i)?i:q1(i),t.attrs[i])}const Sf={};function _A(e){Object.assign(Sf,e)}function _3(e,{layout:t,layoutId:n}){return Aa.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Sf[e]||e==="opacity")}function Z1(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(ur(i[o])||t.style&&ur(t.style[o])||_3(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function j3(e,t,n){const r=Z1(e,t,n);for(const i in e)if(ur(e[i])||ur(t[i])){const s=sc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function jA(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Ny=["x","y","width","height","cx","cy","r"],kA={useVisualState:m3({scrapeMotionValuesFromProps:j3,createRenderState:w3,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in i)if(Aa.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<Ny.length;a++){const l=Ny[a];e[l]!==t[l]&&(o=!0)}o&&Xt.read(()=>{jA(n,r),Xt.render(()=>{Y1(r,i,Q1(n.tagName),e.transformTemplate),S3(n,r)})})}})},NA={useVisualState:m3({scrapeMotionValuesFromProps:Z1,createRenderState:X1})};function k3(e,t,n){for(const r in t)!ur(t[r])&&!_3(r,n)&&(e[r]=t[r])}function AA({transformTemplate:e},t){return I.useMemo(()=>{const n=X1();return J1(n,t,e),Object.assign({},n.vars,n.style)},[t])}function CA(e,t){const n=e.style||{},r={};return k3(r,n,e),Object.assign(r,AA(e,t)),r}function PA(e,t){const n={},r=CA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function EA(e,t,n,r){const i=I.useMemo(()=>{const s=w3();return Y1(s,t,Q1(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};k3(s,e.style,e),i.style={...s,...i.style}}return i}function LA(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(H1(n)?EA:PA)(r,s,o,n),u=W6(r,typeof n=="string",e),h=n!==I.Fragment?{...u,...l,ref:i}:{},{children:f}=r,g=I.useMemo(()=>ur(f)?f.get():f,[f]);return I.createElement(n,{...h,children:g})}}function TA(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...H1(r)?kA:NA,preloadedFeatures:e,useRender:LA(i),createVisualElement:t,Component:r};return tA(o)}}function N3(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function np(e,t,n){const r=e.getProps();return W1(r,t,n!==void 0?n:r.custom,e)}const IA=U1(()=>window.ScrollTimeline!==void 0);class RA{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(IA()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class FA extends RA{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function ev(e,t){return e?e[t]||e.default||e:void 0}const X0=2e4;function A3(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<X0;)t+=n,r=e.next(t);return t>=X0?1/0:t}function tv(e){return typeof e=="function"}function Ay(e,t){e.timeline=t,e.onfinish=null}const nv=e=>Array.isArray(e)&&typeof e[0]=="number",OA={linearEasing:void 0};function DA(e,t){const n=U1(e);return()=>{var r;return(r=OA[t])!==null&&r!==void 0?r:n()}}const _f=DA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),C3=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(Jl(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function P3(e){return!!(typeof e=="function"&&_f()||!e||typeof e=="string"&&(e in Q0||_f())||nv(e)||Array.isArray(e)&&e.every(P3))}const iu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Q0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:iu([0,.65,.55,1]),circOut:iu([.55,0,1,.45]),backIn:iu([.31,.01,.66,-.59]),backOut:iu([.33,1.53,.69,.99])};function E3(e,t){if(e)return typeof e=="function"&&_f()?C3(e,t):nv(e)?iu(e):Array.isArray(e)?e.map(n=>E3(n,t)||Q0.easeOut):Q0[e]}const Di={x:!1,y:!1};function L3(){return Di.x||Di.y}function MA(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;t&&(i=t.current);const s=(r=n==null?void 0:n[e])!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function T3(e,t){const n=MA(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Cy(e){return t=>{t.pointerType==="touch"||L3()||e(t)}}function BA(e,t,n={}){const[r,i,s]=T3(e,n),o=Cy(a=>{const{target:l}=a,u=t(a);if(typeof u!="function"||!l)return;const h=Cy(f=>{u(f),l.removeEventListener("pointerleave",h)});l.addEventListener("pointerleave",h,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const I3=(e,t)=>t?e===t?!0:I3(e,t.parentElement):!1,rv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,UA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zA(e){return UA.has(e.tagName)||e.tabIndex!==-1}const su=new WeakSet;function Py(e){return t=>{t.key==="Enter"&&e(t)}}function jm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $A=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Py(()=>{if(su.has(n))return;jm(n,"down");const i=Py(()=>{jm(n,"up")}),s=()=>jm(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Ey(e){return rv(e)&&!L3()}function qA(e,t,n={}){const[r,i,s]=T3(e,n),o=a=>{const l=a.currentTarget;if(!Ey(a)||su.has(l))return;su.add(l);const u=t(a),h=(m,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),!(!Ey(m)||!su.has(l))&&(su.delete(l),typeof u=="function"&&u(m,{success:b}))},f=m=>{h(m,n.useGlobalTarget||I3(l,m.target))},g=m=>{h(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",g,i)};return r.forEach(a=>{!zA(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>$A(u,i),i)}),s}function VA(e){return e==="x"||e==="y"?Di[e]?null:(Di[e]=!0,()=>{Di[e]=!1}):Di.x||Di.y?null:(Di.x=Di.y=!0,()=>{Di.x=Di.y=!1})}const R3=new Set(["width","height","top","left","right","bottom",...sc]);let zh;function HA(){zh=void 0}const us={now:()=>(zh===void 0&&us.set(Gn.isProcessing||U6.useManualTiming?Gn.timestamp:performance.now()),zh),set:e=>{zh=e,queueMicrotask(HA)}};function iv(e,t){e.indexOf(t)===-1&&e.push(t)}function sv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ov{constructor(){this.subscriptions=[]}add(t){return iv(this.subscriptions,t),()=>sv(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function F3(e,t){return t?e*(1e3/t):0}const Ly=30,WA=e=>!isNaN(parseFloat(e));class GA{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=us.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=us.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=WA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ov);const r=this.events[t].add(n);return t==="change"?()=>{r(),Xt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=us.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Ly)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ly);return F3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vu(e,t){return new GA(e,t)}function KA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Vu(n))}function JA(e,t){const n=np(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=aA(s[o]);KA(e,o,a)}}function YA(e){return!!(ur(e)&&e.add)}function Z0(e,t){const n=e.getValue("willChange");if(YA(n))return n.add(t)}function O3(e){return e.props[h3]}const D3=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,XA=1e-7,QA=12;function ZA(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=D3(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>XA&&++a<QA);return o}function id(e,t,n,r){if(e===t&&n===r)return ti;const i=s=>ZA(s,0,1,e,n);return s=>s===0||s===1?s:D3(i(s),t,r)}const M3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,B3=e=>t=>1-e(1-t),U3=id(.33,1.53,.69,.99),av=B3(U3),z3=M3(av),$3=e=>(e*=2)<1?.5*av(e):.5*(2-Math.pow(2,-10*(e-1))),lv=e=>1-Math.sin(Math.acos(e)),q3=B3(lv),V3=M3(lv),H3=e=>/^0[^.\s]+$/u.test(e);function eC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||H3(e):!0}const vu=e=>Math.round(e*1e5)/1e5,cv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tC(e){return e==null}const nC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uv=(e,t)=>n=>!!(typeof n=="string"&&nC.test(n)&&n.startsWith(e)||t&&!tC(n)&&Object.prototype.hasOwnProperty.call(n,t)),W3=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(cv);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},rC=e=>Hs(0,255,e),km={...oc,transform:e=>Math.round(rC(e))},ma={test:uv("rgb","red"),parse:W3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+km.transform(e)+", "+km.transform(t)+", "+km.transform(n)+", "+vu(qu.transform(r))+")"};function iC(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const eg={test:uv("#"),parse:iC,transform:ma.transform},Nl={test:uv("hsl","hue"),parse:W3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+cs.transform(vu(t))+", "+cs.transform(vu(n))+", "+vu(qu.transform(r))+")"},ar={test:e=>ma.test(e)||eg.test(e)||Nl.test(e),parse:e=>ma.test(e)?ma.parse(e):Nl.test(e)?Nl.parse(e):eg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ma.transform(e):Nl.transform(e)},sC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oC(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(cv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(sC))===null||n===void 0?void 0:n.length)||0)>0}const G3="number",K3="color",aC="var",lC="var(",Ty="${}",cC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(cC,l=>(ar.test(l)?(r.color.push(s),i.push(K3),n.push(ar.parse(l))):l.startsWith(lC)?(r.var.push(s),i.push(aC),n.push(l)):(r.number.push(s),i.push(G3),n.push(parseFloat(l))),++s,Ty)).split(Ty);return{values:n,split:a,indexes:r,types:i}}function J3(e){return Hu(e).values}function Y3(e){const{split:t,types:n}=Hu(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===G3?s+=vu(i[o]):a===K3?s+=ar.transform(i[o]):s+=i[o]}return s}}const uC=e=>typeof e=="number"?0:e;function dC(e){const t=J3(e);return Y3(e)(t.map(uC))}const Fo={test:oC,parse:J3,createTransformer:Y3,getAnimatableNone:dC},hC=new Set(["brightness","contrast","saturate","opacity"]);function fC(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(cv)||[];if(!r)return e;const i=n.replace(r,"");let s=hC.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const pC=/\b([a-z-]*)\(.*?\)/gu,tg={...Fo,getAnimatableNone:e=>{const t=e.match(pC);return t?t.map(fC).join(" "):e}},mC={...K1,color:ar,backgroundColor:ar,outlineColor:ar,fill:ar,stroke:ar,borderColor:ar,borderTopColor:ar,borderRightColor:ar,borderBottomColor:ar,borderLeftColor:ar,filter:tg,WebkitFilter:tg},dv=e=>mC[e];function X3(e,t){let n=dv(e);return n!==tg&&(n=Fo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const gC=new Set(["auto","none","0"]);function vC(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!gC.has(s)&&Hu(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=X3(n,i)}const Iy=e=>e===oc||e===ot,Ry=(e,t)=>parseFloat(e.split(", ")[t]),Fy=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Ry(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?Ry(s[1],e):0}},yC=new Set(["x","y","z"]),wC=sc.filter(e=>!yC.has(e));function xC(e){const t=[];return wC.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Xl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Fy(4,13),y:Fy(5,14)};Xl.translateX=Xl.x;Xl.translateY=Xl.y;const ya=new Set;let ng=!1,rg=!1;function Q3(){if(rg){const e=Array.from(ya).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=xC(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rg=!1,ng=!1,ya.forEach(e=>e.complete()),ya.clear()}function Z3(){ya.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(rg=!0)})}function bC(){Z3(),Q3()}class hv{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ya.add(this),ng||(ng=!0,Xt.read(Z3),Xt.resolveKeyframes(Q3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ya.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ya.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const eS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),SC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _C(e){const t=SC.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function tS(e,t,n=1){const[r,i]=_C(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return eS(o)?parseFloat(o):o}return G1(i)?tS(i,t,n+1):i}const nS=e=>t=>t.test(e),jC={test:e=>e==="auto",parse:e=>e},rS=[oc,ot,cs,po,fA,hA,jC],Oy=e=>rS.find(nS(e));class iS extends hv{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),G1(u))){const h=tS(u,n.current);h!==void 0&&(t[l]=h),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!R3.has(r)||t.length!==2)return;const[i,s]=t,o=Oy(i),a=Oy(s);if(o!==a)if(Iy(o)&&Iy(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)eC(t[i])&&r.push(i);r.length&&vC(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Xl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const Dy=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Fo.test(e)||e==="0")&&!e.startsWith("url("));function kC(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function NC(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=Dy(i,t),a=Dy(s,t);return!o||!a?!1:kC(e)||(n==="spring"||tv(n))&&r}const AC=e=>e!==null;function rp(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(AC),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const CC=40;class sS{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=us.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>CC?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&bC(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=us.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!NC(t,r,i,s))if(o)this.options.duration=0;else{l&&l(rp(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,n);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const rn=(e,t,n)=>e+(t-e)*n;function Nm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function PC({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Nm(l,a,e+1/3),s=Nm(l,a,e),o=Nm(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function jf(e,t){return n=>n>0?t:e}const Am=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},EC=[eg,ma,Nl],LC=e=>EC.find(t=>t.test(e));function My(e){const t=LC(e);if(!t)return!1;let n=t.parse(e);return t===Nl&&(n=PC(n)),n}const By=(e,t)=>{const n=My(e),r=My(t);if(!n||!r)return jf(e,t);const i={...n};return s=>(i.red=Am(n.red,r.red,s),i.green=Am(n.green,r.green,s),i.blue=Am(n.blue,r.blue,s),i.alpha=rn(n.alpha,r.alpha,s),ma.transform(i))},TC=(e,t)=>n=>t(e(n)),sd=(...e)=>e.reduce(TC),ig=new Set(["none","hidden"]);function IC(e,t){return ig.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function RC(e,t){return n=>rn(e,t,n)}function fv(e){return typeof e=="number"?RC:typeof e=="string"?G1(e)?jf:ar.test(e)?By:DC:Array.isArray(e)?oS:typeof e=="object"?ar.test(e)?By:FC:jf}function oS(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>fv(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function FC(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=fv(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function OC(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const DC=(e,t)=>{const n=Fo.createTransformer(t),r=Hu(e),i=Hu(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ig.has(e)&&!i.values.length||ig.has(t)&&!r.values.length?IC(e,t):sd(oS(OC(r,i),i.values),n):jf(e,t)};function aS(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?rn(e,t,n):fv(e)(e,t)}const MC=5;function lS(e,t,n){const r=Math.max(t-MC,0);return F3(n-e(r),t-r)}const fn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cm=.001;function BC({duration:e=fn.duration,bounce:t=fn.bounce,velocity:n=fn.velocity,mass:r=fn.mass}){let i,s,o=1-t;o=Hs(fn.minDamping,fn.maxDamping,o),e=Hs(fn.minDuration,fn.maxDuration,Bs(e)),o<1?(i=u=>{const h=u*o,f=h*e,g=h-n,m=sg(u,o),b=Math.exp(-f);return Cm-g/m*b},s=u=>{const f=u*o*e,g=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,b=Math.exp(-f),S=sg(Math.pow(u,2),o);return(-i(u)+Cm>0?-1:1)*((g-m)*b)/S}):(i=u=>{const h=Math.exp(-u*e),f=(u-n)*e+1;return-Cm+h*f},s=u=>{const h=Math.exp(-u*e),f=(n-u)*(e*e);return h*f});const a=5/e,l=zC(i,s,a);if(e=Ms(e),isNaN(l))return{stiffness:fn.stiffness,damping:fn.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const UC=12;function zC(e,t,n){let r=n;for(let i=1;i<UC;i++)r=r-e(r)/t(r);return r}function sg(e,t){return e*Math.sqrt(1-t*t)}const $C=["duration","bounce"],qC=["stiffness","damping","mass"];function Uy(e,t){return t.some(n=>e[n]!==void 0)}function VC(e){let t={velocity:fn.velocity,stiffness:fn.stiffness,damping:fn.damping,mass:fn.mass,isResolvedFromDuration:!1,...e};if(!Uy(e,qC)&&Uy(e,$C))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Hs(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:fn.mass,stiffness:i,damping:s}}else{const n=BC(e);t={...t,...n,mass:fn.mass},t.isResolvedFromDuration=!0}return t}function cS(e=fn.visualDuration,t=fn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:h,duration:f,velocity:g,isResolvedFromDuration:m}=VC({...n,velocity:-Bs(n.velocity||0)}),b=g||0,S=u/(2*Math.sqrt(l*h)),k=o-s,y=Bs(Math.sqrt(l/h)),x=Math.abs(k)<5;r||(r=x?fn.restSpeed.granular:fn.restSpeed.default),i||(i=x?fn.restDelta.granular:fn.restDelta.default);let _;if(S<1){const D=sg(y,S);_=q=>{const M=Math.exp(-S*y*q);return o-M*((b+S*y*k)/D*Math.sin(D*q)+k*Math.cos(D*q))}}else if(S===1)_=D=>o-Math.exp(-y*D)*(k+(b+y*k)*D);else{const D=y*Math.sqrt(S*S-1);_=q=>{const M=Math.exp(-S*y*q),R=Math.min(D*q,300);return o-M*((b+S*y*k)*Math.sinh(R)+D*k*Math.cosh(R))/D}}const E={calculatedDuration:m&&f||null,next:D=>{const q=_(D);if(m)a.done=D>=f;else{let M=0;S<1&&(M=D===0?Ms(b):lS(_,D,q));const R=Math.abs(M)<=r,Q=Math.abs(o-q)<=i;a.done=R&&Q}return a.value=a.done?o:q,a},toString:()=>{const D=Math.min(A3(E),X0),q=C3(M=>E.next(D*M).value,D,30);return D+"ms "+q}};return E}function zy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const f=e[0],g={done:!1,value:f},m=R=>a!==void 0&&R<a||l!==void 0&&R>l,b=R=>a===void 0?l:l===void 0||Math.abs(a-R)<Math.abs(l-R)?a:l;let S=n*t;const k=f+S,y=o===void 0?k:o(k);y!==k&&(S=y-f);const x=R=>-S*Math.exp(-R/r),_=R=>y+x(R),E=R=>{const Q=x(R),X=_(R);g.done=Math.abs(Q)<=u,g.value=g.done?y:X};let D,q;const M=R=>{m(g.value)&&(D=R,q=cS({keyframes:[g.value,b(g.value)],velocity:lS(_,R,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return M(0),{calculatedDuration:null,next:R=>{let Q=!1;return!q&&D===void 0&&(Q=!0,E(R),M(R)),D!==void 0&&R>=D?q.next(R-D):(!Q&&E(R),g)}}}const HC=id(.42,0,1,1),WC=id(0,0,.58,1),uS=id(.42,0,.58,1),GC=e=>Array.isArray(e)&&typeof e[0]!="number",KC={linear:ti,easeIn:HC,easeInOut:uS,easeOut:WC,circIn:lv,circInOut:V3,circOut:q3,backIn:av,backInOut:z3,backOut:U3,anticipate:$3},$y=e=>{if(nv(e)){a3(e.length===4);const[t,n,r,i]=e;return id(t,n,r,i)}else if(typeof e=="string")return KC[e];return e};function JC(e,t,n){const r=[],i=n||aS,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ti:t;a=sd(l,a)}r.push(a)}return r}function YC(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(a3(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=JC(t,r,i),l=a.length,u=h=>{if(o&&h<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(h<e[f+1]);f++);const g=Jl(e[f],e[f+1],h);return a[f](g)};return n?h=>u(Hs(e[0],e[s-1],h)):u}function XC(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Jl(0,t,r);e.push(rn(n,1,i))}}function QC(e){const t=[0];return XC(t,e.length-1),t}function ZC(e,t){return e.map(n=>n*t)}function eP(e,t){return e.map(()=>t||uS).splice(0,e.length-1)}function kf({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=GC(r)?r.map($y):$y(r),s={done:!1,value:t[0]},o=ZC(n&&n.length===t.length?n:QC(t),e),a=YC(o,t,{ease:Array.isArray(i)?i:eP(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const tP=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Xt.update(t,!0),stop:()=>Ro(t),now:()=>Gn.isProcessing?Gn.timestamp:us.now()}},nP={decay:zy,inertia:zy,tween:kf,keyframes:kf,spring:cS},rP=e=>e/100;class pv extends sS{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||hv,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=tv(n)?n:nP[n]||kf;let l,u;a!==kf&&typeof t[0]!="number"&&(l=sd(rP,aS(t[0],t[1])),t=[0,100]);const h=a({...this.options,keyframes:t});s==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=A3(h));const{calculatedDuration:f}=h,g=f+i,m=g*(r+1)-i;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:g,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:h,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:g,repeat:m,repeatType:b,repeatDelay:S,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-g*(this.speed>=0?1:-1),x=this.speed>=0?y<0:y>h;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let _=this.currentTime,E=s;if(m){const R=Math.min(this.currentTime,h)/f;let Q=Math.floor(R),X=R%1;!X&&R>=1&&(X=1),X===1&&Q--,Q=Math.min(Q,m+1),!!(Q%2)&&(b==="reverse"?(X=1-X,S&&(X-=S/f)):b==="mirror"&&(E=o)),_=Hs(0,1,X)*f}const D=x?{done:!1,value:l[0]}:E.next(_);a&&(D.value=a(D.value));let{done:q}=D;!x&&u!==null&&(q=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return M&&i!==void 0&&(D.value=rp(l,this.options,i)),k&&k(D.value),M&&this.finish(),D}get duration(){const{resolved:t}=this;return t?Bs(t.calculatedDuration):0}get time(){return Bs(this.currentTime)}set time(t){t=Ms(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Bs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=tP,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const iP=new Set(["opacity","clipPath","filter","transform"]);function sP(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const h=E3(a,i);return Array.isArray(h)&&(u.easing=h),e.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const oP=U1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Nf=10,aP=2e4;function lP(e){return tv(e.type)||e.type==="spring"||!P3(e.ease)}function cP(e,t){const n=new pv({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<aP;)r=n.sample(s),i.push(r.value),s+=Nf;return{times:void 0,keyframes:i,duration:s-Nf,ease:"linear"}}const dS={anticipate:$3,backInOut:z3,circInOut:V3};function uP(e){return e in dS}class qy extends sS{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new iS(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&_f()&&uP(s)&&(s=dS[s]),lP(this.options)){const{onComplete:f,onUpdate:g,motionValue:m,element:b,...S}=this.options,k=cP(t,S);t=k.keyframes,t.length===1&&(t[1]=t[0]),r=k.duration,i=k.times,s=k.ease,o="keyframes"}const h=sP(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:s});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(Ay(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;a.set(rp(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Bs(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Bs(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ms(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ti;const{animation:r}=n;Ay(r,t)}return ti}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:f,element:g,...m}=this.options,b=new pv({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),S=Ms(this.time);u.setWithVelocity(b.sample(S-Nf).value,b.sample(S).value,Nf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return oP()&&r&&iP.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const dP={type:"spring",stiffness:500,damping:25,restSpeed:10},hP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),fP={type:"keyframes",duration:.8},pP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mP=(e,{keyframes:t})=>t.length>2?fP:Aa.has(e)?e.startsWith("scale")?hP(t[1]):dP:pP;function gP({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const mv=(e,t,n,r={},i,s)=>o=>{const a=ev(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ms(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};gP(a)||(h={...h,...mP(e,h)}),h.duration&&(h.duration=Ms(h.duration)),h.repeatDelay&&(h.repeatDelay=Ms(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!s&&t.get()!==void 0){const g=rp(h.keyframes,a);if(g!==void 0)return Xt.update(()=>{h.onUpdate(g),h.onComplete()}),new FA([])}return!s&&qy.supports(h)?new qy(h):new pv(h)};function vP({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function hS(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in l){const g=e.getValue(f,(s=e.latestValues[f])!==null&&s!==void 0?s:null),m=l[f];if(m===void 0||h&&vP(h,f))continue;const b={delay:n,...ev(o||{},f)};let S=!1;if(window.MotionHandoffAnimation){const y=O3(e);if(y){const x=window.MotionHandoffAnimation(y,f,Xt);x!==null&&(b.startTime=x,S=!0)}}Z0(e,f),g.start(mv(f,g,m,e.shouldReduceMotion&&R3.has(f)?{type:!1}:b,e,S));const k=g.animation;k&&u.push(k)}return a&&Promise.all(u).then(()=>{Xt.update(()=>{a&&JA(e,a)})}),u}function og(e,t,n={}){var r;const i=np(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(hS(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:g}=s;return yP(e,t,h+u,f,g,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,h]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function yP(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(wP).forEach((u,h)=>{u.notify("AnimationStart",t),o.push(og(u,t,{...s,delay:n+l(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function wP(e,t){return e.sortNodePosition(t)}function xP(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>og(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=og(e,t,n);else{const i=typeof t=="function"?np(e,t,n.custom):t;r=Promise.all(hS(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const bP=$1.length;function fS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?fS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<bP;n++){const r=$1[n],i=e.props[r];($u(i)||i===!1)&&(t[r]=i)}return t}const SP=[...z1].reverse(),_P=z1.length;function jP(e){return t=>Promise.all(t.map(({animation:n,options:r})=>xP(e,n,r)))}function kP(e){let t=jP(e),n=Vy(),r=!0;const i=l=>(u,h)=>{var f;const g=np(e,h,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(g){const{transition:m,transitionEnd:b,...S}=g;u={...u,...S,...b}}return u};function s(l){t=l(e)}function o(l){const{props:u}=e,h=fS(e.parent)||{},f=[],g=new Set;let m={},b=1/0;for(let k=0;k<_P;k++){const y=SP[k],x=n[y],_=u[y]!==void 0?u[y]:h[y],E=$u(_),D=y===l?x.isActive:null;D===!1&&(b=k);let q=_===h[y]&&_!==u[y]&&E;if(q&&r&&e.manuallyAnimateOnMount&&(q=!1),x.protectedKeys={...m},!x.isActive&&D===null||!_&&!x.prevProp||ep(_)||typeof _=="boolean")continue;const M=NP(x.prevProp,_);let R=M||y===l&&x.isActive&&!q&&E||k>b&&E,Q=!1;const X=Array.isArray(_)?_:[_];let F=X.reduce(i(y),{});D===!1&&(F={});const{prevResolvedValues:P={}}=x,J={...P,...F},V=le=>{R=!0,g.has(le)&&(Q=!0,g.delete(le)),x.needsAnimating[le]=!0;const W=e.getValue(le);W&&(W.liveStyle=!1)};for(const le in J){const W=F[le],re=P[le];if(m.hasOwnProperty(le))continue;let Y=!1;Y0(W)&&Y0(re)?Y=!N3(W,re):Y=W!==re,Y?W!=null?V(le):g.add(le):W!==void 0&&g.has(le)?V(le):x.protectedKeys[le]=!0}x.prevProp=_,x.prevResolvedValues=F,x.isActive&&(m={...m,...F}),r&&e.blockInitialAnimation&&(R=!1),R&&(!(q&&M)||Q)&&f.push(...X.map(le=>({animation:le,options:{type:y}})))}if(g.size){const k={};g.forEach(y=>{const x=e.getBaseTarget(y),_=e.getValue(y);_&&(_.liveStyle=!0),k[y]=x??null}),f.push({animation:k})}let S=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(f):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(g=>{var m;return(m=g.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const f=o(l);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Vy(),r=!0}}}function NP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!N3(t,e):!1}function ea(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vy(){return{animate:ea(!0),whileInView:ea(),whileHover:ea(),whileTap:ea(),whileDrag:ea(),whileFocus:ea(),exit:ea()}}class $o{constructor(t){this.isMounted=!1,this.node=t}update(){}}class AP extends $o{constructor(t){super(t),t.animationState||(t.animationState=kP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ep(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let CP=0;class PP extends $o{constructor(){super(...arguments),this.id=CP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const EP={animation:{Feature:AP},exit:{Feature:PP}};function Wu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function od(e){return{point:{x:e.pageX,y:e.pageY}}}const LP=e=>t=>rv(t)&&e(t,od(t));function yu(e,t,n,r){return Wu(e,t,LP(n),r)}const Hy=(e,t)=>Math.abs(e-t);function TP(e,t){const n=Hy(e.x,t.x),r=Hy(e.y,t.y);return Math.sqrt(n**2+r**2)}class pS{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Em(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=TP(f.offset,{x:0,y:0})>=3;if(!g&&!m)return;const{point:b}=f,{timestamp:S}=Gn;this.history.push({...b,timestamp:S});const{onStart:k,onMove:y}=this.handlers;g||(k&&k(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Pm(g,this.transformPagePoint),Xt.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:m,onSessionEnd:b,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Em(f.type==="pointercancel"?this.lastMoveEventInfo:Pm(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,k),b&&b(f,k)},!rv(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=od(t),a=Pm(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Gn;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,Em(a,this.history)),this.removeListeners=sd(yu(this.contextWindow,"pointermove",this.handlePointerMove),yu(this.contextWindow,"pointerup",this.handlePointerUp),yu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ro(this.updatePoint)}}function Pm(e,t){return t?{point:t(e.point)}:e}function Wy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Em({point:e},t){return{point:e,delta:Wy(e,mS(t)),offset:Wy(e,IP(t)),velocity:RP(t,.1)}}function IP(e){return e[0]}function mS(e){return e[e.length-1]}function RP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=mS(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ms(t)));)n--;if(!r)return{x:0,y:0};const s=Bs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const gS=1e-4,FP=1-gS,OP=1+gS,vS=.01,DP=0-vS,MP=0+vS;function ri(e){return e.max-e.min}function BP(e,t,n){return Math.abs(e-t)<=n}function Gy(e,t,n,r=.5){e.origin=r,e.originPoint=rn(t.min,t.max,e.origin),e.scale=ri(n)/ri(t),e.translate=rn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=FP&&e.scale<=OP||isNaN(e.scale))&&(e.scale=1),(e.translate>=DP&&e.translate<=MP||isNaN(e.translate))&&(e.translate=0)}function wu(e,t,n,r){Gy(e.x,t.x,n.x,r?r.originX:void 0),Gy(e.y,t.y,n.y,r?r.originY:void 0)}function Ky(e,t,n){e.min=n.min+t.min,e.max=e.min+ri(t)}function UP(e,t,n){Ky(e.x,t.x,n.x),Ky(e.y,t.y,n.y)}function Jy(e,t,n){e.min=t.min-n.min,e.max=e.min+ri(t)}function xu(e,t,n){Jy(e.x,t.x,n.x),Jy(e.y,t.y,n.y)}function zP(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?rn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?rn(n,e,r.max):Math.min(e,n)),e}function Yy(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function $P(e,{top:t,left:n,bottom:r,right:i}){return{x:Yy(e.x,n,i),y:Yy(e.y,t,r)}}function Xy(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function qP(e,t){return{x:Xy(e.x,t.x),y:Xy(e.y,t.y)}}function VP(e,t){let n=.5;const r=ri(e),i=ri(t);return i>r?n=Jl(t.min,t.max-r,e.min):r>i&&(n=Jl(e.min,e.max-i,t.min)),Hs(0,1,n)}function HP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ag=.35;function WP(e=ag){return e===!1?e=0:e===!0&&(e=ag),{x:Qy(e,"left","right"),y:Qy(e,"top","bottom")}}function Qy(e,t,n){return{min:Zy(e,t),max:Zy(e,n)}}function Zy(e,t){return typeof e=="number"?e:e[t]||0}const e5=()=>({translate:0,scale:1,origin:0,originPoint:0}),Al=()=>({x:e5(),y:e5()}),t5=()=>({min:0,max:0}),yn=()=>({x:t5(),y:t5()});function yi(e){return[e("x"),e("y")]}function yS({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function GP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function KP(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Lm(e){return e===void 0||e===1}function lg({scale:e,scaleX:t,scaleY:n}){return!Lm(e)||!Lm(t)||!Lm(n)}function oa(e){return lg(e)||wS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function wS(e){return n5(e.x)||n5(e.y)}function n5(e){return e&&e!=="0%"}function Af(e,t,n){const r=e-n,i=t*r;return n+i}function r5(e,t,n,r,i){return i!==void 0&&(e=Af(e,i,r)),Af(e,n,r)+t}function cg(e,t=0,n=1,r,i){e.min=r5(e.min,t,n,r,i),e.max=r5(e.max,t,n,r,i)}function xS(e,{x:t,y:n}){cg(e.x,t.translate,t.scale,t.originPoint),cg(e.y,n.translate,n.scale,n.originPoint)}const i5=.999999999999,s5=1.0000000000001;function JP(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Pl(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,xS(e,o)),r&&oa(s.latestValues)&&Pl(e,s.latestValues))}t.x<s5&&t.x>i5&&(t.x=1),t.y<s5&&t.y>i5&&(t.y=1)}function Cl(e,t){e.min=e.min+t,e.max=e.max+t}function o5(e,t,n,r,i=.5){const s=rn(e.min,e.max,i);cg(e,t,n,s,r)}function Pl(e,t){o5(e.x,t.x,t.scaleX,t.scale,t.originX),o5(e.y,t.y,t.scaleY,t.scale,t.originY)}function bS(e,t){return yS(KP(e.getBoundingClientRect(),t))}function YP(e,t,n){const r=bS(e,n),{scroll:i}=t;return i&&(Cl(r.x,i.offset.x),Cl(r.y,i.offset.y)),r}const SS=({current:e})=>e?e.ownerDocument.defaultView:null,XP=new WeakMap;class QP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(od(h).point)},s=(h,f)=>{const{drag:g,dragPropagation:m,onDragStart:b}=this.getProps();if(g&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=VA(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yi(k=>{let y=this.getAxisMotionValue(k).get()||0;if(cs.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const _=x.layout.layoutBox[k];_&&(y=ri(_)*(parseFloat(y)/100))}}this.originPoint[k]=y}),b&&Xt.postRender(()=>b(h,f)),Z0(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:g,dragDirectionLock:m,onDirectionLock:b,onDrag:S}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:k}=f;if(m&&this.currentDirection===null){this.currentDirection=ZP(k),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,k),this.updateAxis("y",f.point,k),this.visualElement.render(),S&&S(h,f)},a=(h,f)=>this.stop(h,f),l=()=>yi(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new pS(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:SS(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Xt.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!ph(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=zP(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&kl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=$P(i.layoutBox,n):this.constraints=!1,this.elastic=WP(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&yi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=HP(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!kl(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=YP(r,i.root,this.visualElement.getTransformPagePoint());let o=qP(i.layout.layoutBox,s);if(n){const a=n(GP(o));this.hasMutatedConstraints=!!a,a&&(o=yS(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=yi(h=>{if(!ph(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,b={type:"inertia",velocity:r?t[h]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,b)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Z0(this.visualElement,t),r.start(mv(t,r,0,n,this.visualElement,!1))}stopAnimation(){yi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){yi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){yi(n=>{const{drag:r}=this.getProps();if(!ph(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-rn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!kl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};yi(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=VP({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yi(o=>{if(!ph(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(rn(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;XP.set(this.visualElement,this);const t=this.visualElement.current,n=yu(t,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();kl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Xt.read(r);const o=Wu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(yi(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ag,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ph(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ZP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class eE extends $o{constructor(t){super(t),this.removeGroupControls=ti,this.removeListeners=ti,this.controls=new QP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ti}unmount(){this.removeGroupControls(),this.removeListeners()}}const a5=e=>(t,n)=>{e&&Xt.postRender(()=>e(t,n))};class tE extends $o{constructor(){super(...arguments),this.removePointerDownListener=ti}onPointerDown(t){this.session=new pS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:a5(t),onStart:a5(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Xt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=yu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $h={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function l5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ot.test(e))e=parseFloat(e);else return e;const n=l5(e,t.target.x),r=l5(e,t.target.y);return`${n}% ${r}%`}},nE={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Fo.parse(e);if(i.length>5)return r;const s=Fo.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=rn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class rE extends I.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;_A(iE),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),$h.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Xt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),V1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _S(e){const[t,n]=s3(),r=I.useContext(O1);return c.jsx(rE,{...e,layoutGroup:r,switchLayoutGroup:I.useContext(f3),isPresent:t,safeToRemove:n})}const iE={borderRadius:{...Gc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gc,borderTopRightRadius:Gc,borderBottomLeftRadius:Gc,borderBottomRightRadius:Gc,boxShadow:nE};function sE(e,t,n){const r=ur(e)?e:Vu(e);return r.start(mv("",r,t,n)),r.animation}function oE(e){return e instanceof SVGElement&&e.tagName!=="svg"}const aE=(e,t)=>e.depth-t.depth;class lE{constructor(){this.children=[],this.isDirty=!1}add(t){iv(this.children,t),this.isDirty=!0}remove(t){sv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(aE),this.isDirty=!1,this.children.forEach(t)}}function cE(e,t){const n=us.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Ro(r),e(s-t))};return Xt.read(r,!0),()=>Ro(r)}const jS=["TopLeft","TopRight","BottomLeft","BottomRight"],uE=jS.length,c5=e=>typeof e=="string"?parseFloat(e):e,u5=e=>typeof e=="number"||ot.test(e);function dE(e,t,n,r,i,s){i?(e.opacity=rn(0,n.opacity!==void 0?n.opacity:1,hE(r)),e.opacityExit=rn(t.opacity!==void 0?t.opacity:1,0,fE(r))):s&&(e.opacity=rn(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<uE;o++){const a=`border${jS[o]}Radius`;let l=d5(t,a),u=d5(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||u5(l)===u5(u)?(e[a]=Math.max(rn(c5(l),c5(u),r),0),(cs.test(u)||cs.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=rn(t.rotate||0,n.rotate||0,r))}function d5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hE=kS(0,.5,q3),fE=kS(.5,.95,ti);function kS(e,t,n){return r=>r<e?0:r>t?1:n(Jl(e,t,r))}function h5(e,t){e.min=t.min,e.max=t.max}function vi(e,t){h5(e.x,t.x),h5(e.y,t.y)}function f5(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function p5(e,t,n,r,i){return e-=t,e=Af(e,1/n,r),i!==void 0&&(e=Af(e,1/i,r)),e}function pE(e,t=0,n=1,r=.5,i,s=e,o=e){if(cs.test(t)&&(t=parseFloat(t),t=rn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=rn(s.min,s.max,r);e===s&&(a-=t),e.min=p5(e.min,t,n,a,i),e.max=p5(e.max,t,n,a,i)}function m5(e,t,[n,r,i],s,o){pE(e,t[n],t[r],t[i],t.scale,s,o)}const mE=["x","scaleX","originX"],gE=["y","scaleY","originY"];function g5(e,t,n,r){m5(e.x,t,mE,n?n.x:void 0,r?r.x:void 0),m5(e.y,t,gE,n?n.y:void 0,r?r.y:void 0)}function v5(e){return e.translate===0&&e.scale===1}function NS(e){return v5(e.x)&&v5(e.y)}function y5(e,t){return e.min===t.min&&e.max===t.max}function vE(e,t){return y5(e.x,t.x)&&y5(e.y,t.y)}function w5(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function AS(e,t){return w5(e.x,t.x)&&w5(e.y,t.y)}function x5(e){return ri(e.x)/ri(e.y)}function b5(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class yE{constructor(){this.members=[]}add(t){iv(this.members,t),t.scheduleRender()}remove(t){if(sv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wE(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:g,skewX:m,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),g&&(r+=`rotateY(${g}deg) `),m&&(r+=`skewX(${m}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const aa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ou=typeof window<"u"&&window.MotionDebug!==void 0,Tm=["","X","Y","Z"],xE={visibility:"hidden"},S5=1e3;let bE=0;function Im(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function CS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=O3(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Xt,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&CS(r)}function PS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=bE++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ou&&(aa.totalNodes=aa.resolvedTargetDeltas=aa.recalculatedProjection=0),this.nodes.forEach(jE),this.nodes.forEach(PE),this.nodes.forEach(EE),this.nodes.forEach(kE),ou&&window.MotionDebug.record(aa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new lE)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ov),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oE(o),this.instance=o;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=cE(g,250),$h.hasAnimatedSinceResize&&($h.hasAnimatedSinceResize=!1,this.nodes.forEach(j5))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeTargetChanged:m,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||FE,{onLayoutAnimationStart:k,onLayoutAnimationComplete:y}=h.getProps(),x=!this.targetLayout||!AS(this.targetLayout,b)||m,_=!g&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||g&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const E={...ev(S,"layout"),onPlay:k,onComplete:y};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else g||j5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ro(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LE),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_5);return}this.isUpdating||this.nodes.forEach(AE),this.isUpdating=!1,this.nodes.forEach(CE),this.nodes.forEach(SE),this.nodes.forEach(_E),this.clearAllSnapshots();const a=us.now();Gn.delta=Hs(0,1e3/60,a-Gn.timestamp),Gn.timestamp=a,Gn.isProcessing=!0,_m.update.process(Gn),_m.preRender.process(Gn),_m.render.process(Gn),Gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,V1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NE),this.sharedNodes.forEach(TE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!NS(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||oa(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),OE(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return yn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(DE))){const{scroll:h}=this.root;h&&(Cl(l.x,h.offset.x),Cl(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=yn();if(vi(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:g}=h;h!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&vi(l,o),Cl(l.x,f.offset.x),Cl(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=yn();vi(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Pl(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),oa(h.latestValues)&&Pl(l,h.latestValues)}return oa(this.latestValues)&&Pl(l,this.latestValues),l}removeTransform(o){const a=yn();vi(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!oa(u.latestValues))continue;lg(u.latestValues)&&u.updateSnapshot();const h=yn(),f=u.measurePageBox();vi(h,f),g5(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return oa(this.latestValues)&&g5(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!(!this.layout||!(f||g))){if(this.resolvedRelativeTargetAt=Gn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),xu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=yn(),this.targetWithTransforms=yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vi(this.target,this.layout.layoutBox),xS(this.target,this.targetDelta)):vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),xu(this.relativeTargetOrigin,this.target,m.target),vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ou&&aa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||lg(this.parent.latestValues)||wS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Gn.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;vi(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,m=this.treeScale.y;JP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=yn());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(f5(this.prevProjectionDelta.x,this.projectionDelta.x),f5(this.prevProjectionDelta.y,this.projectionDelta.y)),wu(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==m||!b5(this.projectionDelta.x,this.prevProjectionDelta.x)||!b5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),ou&&aa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Al(),this.projectionDelta=Al(),this.projectionDeltaWithTransform=Al()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},f=Al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=yn(),m=l?l.source:void 0,b=this.layout?this.layout.source:void 0,S=m!==b,k=this.getStack(),y=!k||k.members.length<=1,x=!!(S&&!y&&this.options.crossfade===!0&&!this.path.some(RE));this.animationProgress=0;let _;this.mixTargetDelta=E=>{const D=E/1e3;k5(f.x,o.x,D),k5(f.y,o.y,D),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xu(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IE(this.relativeTarget,this.relativeTargetOrigin,g,D),_&&vE(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=yn()),vi(_,this.relativeTarget)),S&&(this.animationValues=h,dE(h,u,this.latestValues,D,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ro(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xt.update(()=>{$h.hasAnimatedSinceResize=!0,this.currentAnimation=sE(0,S5,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(S5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&ES(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||yn();const f=ri(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const g=ri(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}vi(a,l),Pl(a,h),wu(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new yE),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Im("z",o,u,this.animationValues);for(let h=0;h<Tm.length;h++)Im(`rotate${Tm[h]}`,o,u,this.animationValues),Im(`skew${Tm[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xE;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Uh(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Uh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!oa(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const g=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=wE(this.projectionDeltaWithTransform,this.treeScale,g),h&&(u.transform=h(g,u.transform));const{x:m,y:b}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${b.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in Sf){if(g[S]===void 0)continue;const{correct:k,applyTo:y}=Sf[S],x=u.transform==="none"?g[S]:k(g[S],f);if(y){const _=y.length;for(let E=0;E<_;E++)u[y[E]]=x}else u[S]=x}return this.options.layoutId&&(u.pointerEvents=f===this?Uh(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(_5),this.root.sharedNodes.clear()}}}function SE(e){e.updateLayout()}function _E(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?yi(f=>{const g=o?n.measuredBox[f]:n.layoutBox[f],m=ri(g);g.min=r[f].min,g.max=g.min+m}):ES(s,n.layoutBox,r)&&yi(f=>{const g=o?n.measuredBox[f]:n.layoutBox[f],m=ri(r[f]);g.max=g.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=Al();wu(a,r,n.layoutBox);const l=Al();o?wu(l,e.applyTransform(i,!0),n.measuredBox):wu(l,r,n.layoutBox);const u=!NS(a);let h=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:m}=f;if(g&&m){const b=yn();xu(b,n.layoutBox,g.layoutBox);const S=yn();xu(S,r,m.layoutBox),AS(b,S)||(h=!0),f.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=b,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function jE(e){ou&&aa.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function kE(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function NE(e){e.clearSnapshot()}function _5(e){e.clearMeasurements()}function AE(e){e.isLayoutDirty=!1}function CE(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function j5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function PE(e){e.resolveTargetDelta()}function EE(e){e.calcProjection()}function LE(e){e.resetSkewAndRotation()}function TE(e){e.removeLeadSnapshot()}function k5(e,t,n){e.translate=rn(t.translate,0,n),e.scale=rn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function N5(e,t,n,r){e.min=rn(t.min,n.min,r),e.max=rn(t.max,n.max,r)}function IE(e,t,n,r){N5(e.x,t.x,n.x,r),N5(e.y,t.y,n.y,r)}function RE(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const FE={duration:.45,ease:[.4,0,.1,1]},A5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),C5=A5("applewebkit/")&&!A5("chrome/")?Math.round:ti;function P5(e){e.min=C5(e.min),e.max=C5(e.max)}function OE(e){P5(e.x),P5(e.y)}function ES(e,t,n){return e==="position"||e==="preserve-aspect"&&!BP(x5(t),x5(n),.2)}function DE(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const ME=PS({attachResizeListener:(e,t)=>Wu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rm={current:void 0},LS=PS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Rm.current){const e=new ME({});e.mount(window),e.setOptions({layoutScroll:!0}),Rm.current=e}return Rm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),BE={pan:{Feature:tE},drag:{Feature:eE,ProjectionNode:LS,MeasureLayout:_S}};function E5(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Xt.postRender(()=>s(t,od(t)))}class UE extends $o{mount(){const{current:t}=this.node;t&&(this.unmount=BA(t,n=>(E5(this.node,n,"Start"),r=>E5(this.node,r,"End"))))}unmount(){}}class zE extends $o{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sd(Wu(this.node.current,"focus",()=>this.onFocus()),Wu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function L5(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Xt.postRender(()=>s(t,od(t)))}class $E extends $o{mount(){const{current:t}=this.node;t&&(this.unmount=qA(t,n=>(L5(this.node,n,"Start"),(r,{success:i})=>L5(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ug=new WeakMap,Fm=new WeakMap,qE=e=>{const t=ug.get(e.target);t&&t(e)},VE=e=>{e.forEach(qE)};function HE({root:e,...t}){const n=e||document;Fm.has(n)||Fm.set(n,{});const r=Fm.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(VE,{root:e,...t})),r[i]}function WE(e,t,n){const r=HE(t);return ug.set(e,n),r.observe(e),()=>{ug.delete(e),r.unobserve(e)}}const GE={some:0,all:1};class KE extends $o{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:GE[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),g=u?h:f;g&&g(l)};return WE(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(JE(t,n))&&this.startObserver()}unmount(){}}function JE({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const YE={inView:{Feature:KE},tap:{Feature:$E},focus:{Feature:zE},hover:{Feature:UE}},XE={layout:{ProjectionNode:LS,MeasureLayout:_S}},dg={current:null},TS={current:!1};function QE(){if(TS.current=!0,!!B1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>dg.current=e.matches;e.addListener(t),t()}else dg.current=!1}const ZE=[...rS,ar,Fo],eL=e=>ZE.find(nS(e)),T5=new WeakMap;function tL(e,t,n){for(const r in t){const i=t[r],s=n[r];if(ur(i))e.addValue(r,i);else if(ur(s))e.addValue(r,Vu(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Vu(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const I5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nL{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=us.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Xt.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:h}=o;this.onUpdate=h,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=tp(n),this.isVariantNode=d3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in g){const b=g[m];l[m]!==void 0&&ur(b)&&b.set(l[m],!1)}}mount(t){this.current=t,T5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),TS.current||QE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){T5.delete(this.current),this.projection&&this.projection.unmount(),Ro(this.notifyUpdate),Ro(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Aa.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Xt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Yl){const n=Yl[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<I5.length;r++){const i=I5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=tL(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Vu(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(eS(i)||H3(i))?i=parseFloat(i):!eL(i)&&Fo.test(n)&&(i=X3(t,n)),this.setBaseTarget(t,ur(i)?i.get():i)),ur(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=W1(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ur(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ov),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class IS extends nL{constructor(){super(...arguments),this.KeyframeResolver=iS}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ur(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rL(e){return window.getComputedStyle(e)}class iL extends IS{constructor(){super(...arguments),this.type="html",this.renderInstance=x3}readValueFromInstance(t,n){if(Aa.has(n)){const r=dv(n);return r&&r.default||0}else{const r=rL(t),i=(v3(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return bS(t,n)}build(t,n,r){J1(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Z1(t,n,r)}}class sL extends IS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Aa.has(n)){const r=dv(n);return r&&r.default||0}return n=b3.has(n)?n:q1(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return j3(t,n,r)}build(t,n,r){Y1(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){S3(t,n,r,i)}mount(t){this.isSVGTag=Q1(t.tagName),super.mount(t)}}const oL=(e,t)=>H1(e)?new sL(t):new iL(t,{allowProjection:e!==I.Fragment}),aL=TA({...EP,...YE,...BE,...XE},oL),Re=G6(aL);const lL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hs(()=>Promise.resolve().then(()=>ac),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class gv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class cL extends gv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class R5 extends gv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class F5 extends gv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hg||(hg={}));var uL=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class dL{constructor(t,{headers:n={},customFetch:r,region:i=hg.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=lL(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return uL(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let h;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(a["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(a["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:h}).catch(S=>{throw new cL(S)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new R5(f);if(!f.ok)throw new F5(f);let m=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return m==="application/json"?b=yield f.json():m==="application/octet-stream"?b=yield f.blob():m==="text/event-stream"?b=f:m==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof F5||i instanceof R5?i.context:void 0}}})}}var Lr={},vv={},ip={},ad={},sp={},op={},hL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ql=hL();const fL=Ql.fetch,RS=Ql.fetch.bind(Ql),FS=Ql.Headers,pL=Ql.Request,mL=Ql.Response,ac=Object.freeze(Object.defineProperty({__proto__:null,Headers:FS,Request:pL,Response:mL,default:RS,fetch:fL},Symbol.toStringTag,{value:"Module"})),gL=D_(ac);var ap={};Object.defineProperty(ap,"__esModule",{value:!0});let vL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ap.default=vL;var OS=ji&&ji.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(op,"__esModule",{value:!0});const yL=OS(gL),wL=OS(ap);let xL=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=yL.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let u=null,h=null,f=null,g=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=y:h=JSON.parse(y))}const S=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");S&&k&&k.length>1&&(f=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,g=406,m="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const S=await s.text();try{u=JSON.parse(S),Array.isArray(u)&&s.status===404&&(h=[],u=null,g=200,m="OK")}catch{s.status===404&&S===""?(g=204,m="No Content"):u={message:S}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,g=200,m="OK"),u&&this.shouldThrowOnError)throw new wL.default(u)}return{error:u,data:h,count:f,status:g,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};op.default=xL;var bL=ji&&ji.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sp,"__esModule",{value:!0});const SL=bL(op);let _L=class extends SL.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};sp.default=_L;var jL=ji&&ji.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ad,"__esModule",{value:!0});const kL=jL(sp);let NL=class extends kL.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ad.default=NL;var AL=ji&&ji.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ip,"__esModule",{value:!0});const Kc=AL(ad);let CL=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Kc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Kc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(l.length>0){const u=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new Kc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Kc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Kc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ip.default=CL;var lp={},cp={};Object.defineProperty(cp,"__esModule",{value:!0});cp.version=void 0;cp.version="0.0.0-automated";Object.defineProperty(lp,"__esModule",{value:!0});lp.DEFAULT_HEADERS=void 0;const PL=cp;lp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${PL.version}`};var DS=ji&&ji.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vv,"__esModule",{value:!0});const EL=DS(ip),LL=DS(ad),TL=lp;let IL=class MS{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},TL.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new EL.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new MS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{a.searchParams.append(h,f)})):(o="POST",l=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new LL.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};vv.default=IL;var lc=ji&&ji.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.PostgrestError=Lr.PostgrestBuilder=Lr.PostgrestTransformBuilder=Lr.PostgrestFilterBuilder=Lr.PostgrestQueryBuilder=Lr.PostgrestClient=void 0;const BS=lc(vv);Lr.PostgrestClient=BS.default;const US=lc(ip);Lr.PostgrestQueryBuilder=US.default;const zS=lc(ad);Lr.PostgrestFilterBuilder=zS.default;const $S=lc(sp);Lr.PostgrestTransformBuilder=$S.default;const qS=lc(op);Lr.PostgrestBuilder=qS.default;const VS=lc(ap);Lr.PostgrestError=VS.default;var RL=Lr.default={PostgrestClient:BS.default,PostgrestQueryBuilder:US.default,PostgrestFilterBuilder:zS.default,PostgrestTransformBuilder:$S.default,PostgrestBuilder:qS.default,PostgrestError:VS.default};const{PostgrestClient:FL,PostgrestQueryBuilder:_R,PostgrestFilterBuilder:jR,PostgrestTransformBuilder:kR,PostgrestBuilder:NR,PostgrestError:AR}=RL;function OL(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const DL=OL(),ML="2.11.15",BL=`realtime-js/${ML}`,UL="1.0.0",HS=1e4,zL=1e3;var bu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bu||(bu={}));var or;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(or||(or={}));var zi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zi||(zi={}));var fg;(function(e){e.websocket="websocket"})(fg||(fg={}));var ua;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ua||(ua={}));class $L{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class WS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ht||(Ht={}));const O5=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=qL(o,e,t,i),s),{})},qL=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?GS(s,o):pg(o)},GS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return GL(t,n)}switch(e){case Ht.bool:return VL(t);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return HL(t);case Ht.json:case Ht.jsonb:return WL(t);case Ht.timestamp:return KL(t);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return pg(t);default:return pg(t)}},pg=e=>e,VL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},HL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},WL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},GL=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>GS(t,a))}return e},KL=e=>typeof e=="string"?e.replace(" ","T"):e,KS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Om{constructor(t,n,r={},i=HS){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var D5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(D5||(D5={}));class Su{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Su.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Su.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Su.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,h)=>{o[u]||(l[u]=h)}),this.map(o,(u,h)=>{const f=s[u];if(f){const g=h.map(k=>k.presence_ref),m=f.map(k=>k.presence_ref),b=h.filter(k=>m.indexOf(k.presence_ref)<0),S=f.filter(k=>g.indexOf(k.presence_ref)<0);b.length>0&&(a[u]=b),S.length>0&&(l[u]=S)}else a[u]=h}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const h=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),h.length>0){const f=t[a].map(m=>m.presence_ref),g=h.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...g)}r(a,h,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const h=l.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var M5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(M5||(M5={}));var B5;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(B5||(B5={}));var Ls;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ls||(Ls={}));class yv{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Om(this,zi.join,this.params,this.timeout),this.rejoinTimer=new WS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=or.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Su(this),this.broadcastEndpointURL=KS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==or.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(h=>t==null?void 0:t(Ls.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Ls.CLOSED));const l={},u={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var f;if(this.socket.setAuth(),h===void 0){t==null||t(Ls.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,m=(f=g==null?void 0:g.length)!==null&&f!==void 0?f:0,b=[];for(let S=0;S<m;S++){const k=g[S],{filter:{event:y,schema:x,table:_,filter:E}}=k,D=h&&h[S];if(D&&D.event===y&&D.schema===x&&D.table===_&&D.filter===E)b.push(Object.assign(Object.assign({},k),{id:D.id}));else{this.unsubscribe(),this.state=or.errored,t==null||t(Ls.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Ls.SUBSCRIBED);return}}).receive("error",h=>{this.state=or.errored,t==null||t(Ls.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ls.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=or.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Om(this,zi.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Om(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:h}=zi;if(r&&[a,l,u,h].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var b,S,k;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((k=(S=m.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(m=>m.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var b,S,k,y,x,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const E=m.id,D=(b=m.filter)===null||b===void 0?void 0:b.event;return E&&((S=n.ids)===null||S===void 0?void 0:S.includes(E))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const E=(x=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return E==="*"||E===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:S,table:k,commit_timestamp:y,type:x,errors:_}=b;g=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:y,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(b))}m.callback(g,r)})}_isClosed(){return this.state===or.closed}_isJoined(){return this.state===or.joined}_isJoining(){return this.state===or.joining}_isLeaving(){return this.state===or.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&yv.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zi.close,{},t)}_onError(t){this._on(zi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=or.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=O5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=O5(t.columns,t.old_record)),n}}const U5=()=>{},JL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class YL{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=HS,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=U5,this.ref=0,this.logger=U5,this.conn=null,this.sendBuffer=[],this.serializer=new $L,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>hs(()=>Promise.resolve().then(()=>ac),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${fg.websocket}`,this.httpEndpoint=KS(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new WS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=DL),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:UL}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case bu.connecting:return ua.Connecting;case bu.open:return ua.Open;case bu.closing:return ua.Closing;default:return ua.Closed}}isConnected(){return this.connectionState()===ua.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new yv(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:BL};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(zi.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(zL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(zi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([JL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class wv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Mn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class XL extends wv{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mg extends wv{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var QL=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const JS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hs(()=>Promise.resolve().then(()=>ac),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ZL=()=>QL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hs(()=>Promise.resolve().then(()=>ac),void 0)).Response:Response}),gg=e=>{if(Array.isArray(e))return e.map(n=>gg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=gg(r)}),t},e8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ca=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Dm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t8=(e,t,n)=>Ca(void 0,void 0,void 0,function*(){const r=yield ZL();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new XL(Dm(i),s,o))}).catch(i=>{t(new mg(Dm(i),i))}):t(new mg(Dm(e),e))}),n8=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(e8(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function ld(e,t,n,r,i,s){return Ca(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,n8(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>t8(l,a,r))})})}function Cf(e,t,n,r){return Ca(this,void 0,void 0,function*(){return ld(e,"GET",t,n,r)})}function Ts(e,t,n,r,i){return Ca(this,void 0,void 0,function*(){return ld(e,"POST",t,r,i,n)})}function vg(e,t,n,r,i){return Ca(this,void 0,void 0,function*(){return ld(e,"PUT",t,r,i,n)})}function r8(e,t,n,r){return Ca(this,void 0,void 0,function*(){return ld(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function YS(e,t,n,r,i){return Ca(this,void 0,void 0,function*(){return ld(e,"DELETE",t,r,i,n)})}var Pr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const i8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},z5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class s8{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=JS(i)}uploadOrUpdate(t,n,r,i){return Pr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},z5),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),h=this._getFinalPath(u),f=yield(t=="PUT"?vg:Ts)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(Mn(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Pr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:z5.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const f=yield vg(this.fetch,a.toString(),l,{headers:h});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(Mn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Pr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Ts(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new wv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Pr(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Mn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Pr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Mn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Pr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Ts(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Mn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Pr(this,void 0,void 0,function*(){try{const i=yield Ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Mn(i))return{data:null,error:i};throw i}})}download(t,n){return Pr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Cf(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Mn(a))return{data:null,error:a};throw a}})}info(t){return Pr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Cf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gg(r),error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}})}exists(t){return Pr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield r8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Mn(r)&&r instanceof mg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Pr(this,void 0,void 0,function*(){try{return{data:yield YS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Mn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Pr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},i8),n),{prefix:t||""});return{data:yield Ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Mn(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const o8="2.10.4",a8={"X-Client-Info":`storage-js/${o8}`};var tl=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class l8{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},a8),n),this.fetch=JS(r)}listBuckets(){return tl(this,void 0,void 0,function*(){try{return{data:yield Cf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Mn(t))return{data:null,error:t};throw t}})}getBucket(t){return tl(this,void 0,void 0,function*(){try{return{data:yield Cf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Mn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return tl(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return tl(this,void 0,void 0,function*(){try{return{data:yield vg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return tl(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Mn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return tl(this,void 0,void 0,function*(){try{return{data:yield YS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Mn(n))return{data:null,error:n};throw n}})}}class c8 extends l8{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new s8(this.url,this.headers,t,this.fetch)}}const u8="2.53.0";let au="";typeof Deno<"u"?au="deno":typeof document<"u"?au="web":typeof navigator<"u"&&navigator.product==="ReactNative"?au="react-native":au="node";const d8={"X-Client-Info":`supabase-js-${au}/${u8}`},h8={headers:d8},f8={schema:"public"},p8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},m8={};var g8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const v8=e=>{let t;return e?t=e:typeof fetch>"u"?t=RS:t=fetch,(...n)=>t(...n)},y8=()=>typeof Headers>"u"?FS:Headers,w8=(e,t,n)=>{const r=v8(n),i=y8();return(s,o)=>g8(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var x8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function b8(e){return e.endsWith("/")?e:e+"/"}function S8(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:h,global:f}=t,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>x8(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const XS="2.71.1",cl=30*1e3,yg=3,Mm=yg*cl,_8="http://localhost:9999",j8="supabase.auth.token",k8={"X-Client-Info":`gotrue-js/${XS}`},wg="X-Supabase-Api-Version",QS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},N8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A8=10*60*1e3;class xv extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function pt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class C8 extends xv{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function P8(e){return pt(e)&&e.name==="AuthApiError"}class ZS extends xv{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qo extends xv{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class mo extends qo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function E8(e){return pt(e)&&e.name==="AuthSessionMissingError"}class mh extends qo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gh extends qo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vh extends qo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function L8(e){return pt(e)&&e.name==="AuthImplicitGrantRedirectError"}class $5 extends qo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xg extends qo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Bm(e){return pt(e)&&e.name==="AuthRetryableFetchError"}class q5 extends qo{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class bg extends qo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),V5=` 	
\r=`.split(""),T8=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<V5.length;t+=1)e[V5[t].charCodeAt(0)]=-2;for(let t=0;t<Pf.length;t+=1)e[Pf[t].charCodeAt(0)]=t;return e})();function H5(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Pf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Pf[r]),t.queuedBits-=6}}function e4(e,t,n){const r=T8[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function W5(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{F8(o,r,n)};for(let o=0;o<e.length;o+=1)e4(e.charCodeAt(o),i,s);return t.join("")}function I8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function R8(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}I8(r,t)}}function F8(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function O8(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)e4(e.charCodeAt(i),n,r);return new Uint8Array(t)}function D8(e){const t=[];return R8(e,n=>t.push(n)),new Uint8Array(t)}function M8(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>H5(i,n,r)),H5(null,n,r),t.join("")}function B8(e){return Math.round(Date.now()/1e3)+e}function U8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Oi=()=>typeof window<"u"&&typeof document<"u",ta={tested:!1,writable:!1},t4=()=>{if(!Oi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ta.tested)return ta.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ta.tested=!0,ta.writable=!0}catch{ta.tested=!0,ta.writable=!1}return ta.writable};function z8(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const n4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hs(()=>Promise.resolve().then(()=>ac),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},$8=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ul=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},na=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},uo=async(e,t)=>{await e.removeItem(t)};class up{constructor(){this.promise=new up.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}up.promiseConstructor=Promise;function Um(e){const t=e.split(".");if(t.length!==3)throw new bg("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!N8.test(t[r]))throw new bg("JWT not in base64url format");return{header:JSON.parse(W5(t[0])),payload:JSON.parse(W5(t[1])),signature:O8(t[2]),raw:{header:t[0],payload:t[1]}}}async function q8(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function V8(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function H8(e){return("0"+e.toString(16)).substr(-2)}function W8(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,H8).join("")}async function G8(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function K8(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await G8(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nl(e,t,n=!1){const r=W8();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ul(e,`${t}-code-verifier`,i);const s=await K8(r);return[s,r===s?"plain":"s256"]}const J8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Y8(e){const t=e.headers.get(wg);if(!t||!t.match(J8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function X8(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Q8(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Z8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rl(e){if(!Z8.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G5(e){return JSON.parse(JSON.stringify(e))}var eT=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const la=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tT=[502,503,504];async function K5(e){var t;if(!$8(e))throw new xg(la(e),0);if(tT.includes(e.status))throw new xg(la(e),e.status);let n;try{n=await e.json()}catch(s){throw new ZS(la(s),s)}let r;const i=Y8(e);if(i&&i.getTime()>=QS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new q5(la(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new mo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new q5(la(n),e.status,n.weak_password.reasons);throw new C8(la(n),e.status||500,r)}const nT=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function wt(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[wg]||(s[wg]=QS["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await rT(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function rT(e,t,n,r,i,s){const o=nT(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new xg(la(l),0)}if(a.ok||await K5(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await K5(l)}}function Ps(e){var t;let n=null;aT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=B8(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function J5(e){const t=Ps(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iT(e){return{data:e,error:null}}function sT(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=eT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function oT(e){return e}function aT(e){return e.access_token&&e.refresh_token&&e.expires_in}const $m=["global","local","others"];var lT=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class cT{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=n4(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=$m[0]){if($m.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$m.join(", ")}`);try{return await wt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await wt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xo})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=lT(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await wt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:sT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await wt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xo})}catch(n){if(pt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},h=await wt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:oT});if(h.error)throw h.error;const f=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);u[`${k}Page`]=S}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(pt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){rl(t);try{return await wt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xo})}catch(n){if(pt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){rl(t);try{return await wt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xo})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){rl(t);try{return await wt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xo})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){rl(t.userId);try{const{data:n,error:r}=await wt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){rl(t.userId),rl(t.id);try{return{data:await wt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}}}function Y5(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function uT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const il={debug:!!(globalThis&&t4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class r4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dT extends r4{}async function hT(e,t,n){il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),il.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{il.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw il.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(il.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}uT();const fT={url:_8,storageKey:j8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:k8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function X5(e,t,n){return await n()}const sl={};class Gu{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gu.nextInstanceID,Gu.nextInstanceID+=1,this.instanceID>0&&Oi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},fT),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new cT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=n4(i.fetch),this.lock=i.lock||X5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Oi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=hT:this.lock=X5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:t4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Y5(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Y5(this.memoryStorage)),Oi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=sl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){sl[this.storageKey]=Object.assign(Object.assign({},sl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=sl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){sl[this.storageKey]=Object.assign(Object.assign({},sl[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${XS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=z8(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Oi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),L8(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pt(n)?{error:n}:{error:new ZS("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ps}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(pt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:h,password:f,options:g}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await nl(this.storage,this.storageKey)),s=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:b},xform:Ps})}else if("phone"in t){const{phone:h,password:f,options:g}=t;s=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Ps})}else throw new gh("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(pt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:J5})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:J5})}else throw new gh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new mh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(pt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,l,u,h,f,g,m;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:k,wallet:y,statement:x,options:_}=t;let E;if(Oi())if(typeof y=="object")E=y;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))E=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}const D=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const q=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),x?{statement:x}:null));let M;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")M=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)M=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)b=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),S=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${D.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(h=_==null?void 0:_.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const q=await E.signMessage(new TextEncoder().encode(b),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=q}}try{const{data:k,error:y}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:M8(S)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ps});if(y)throw y;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new mh}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:y})}catch(k){if(pt(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await na(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ps});if(await uo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new mh}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(pt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ps}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new mh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(pt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await nl(this.storage,this.storageKey));const{error:f}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:h}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new gh("You must provide either an email or phone number.")}catch(a){if(pt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await wt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ps});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(pt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await nl(this.storage,this.storageKey)),await wt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:iT})}catch(s){if(pt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new mo;const{error:i}=await wt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(pt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await wt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await wt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new gh("You must provide either an email or phone number and a type")}catch(n){if(pt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await na(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Mm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await na(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=zm()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,h)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,h))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xo}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mo}:await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:xo})})}catch(n){if(pt(n))return E8(n)&&(await this._removeSession(),await uo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new mo;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await nl(this.storage,this.storageKey));const{data:u,error:h}=await wt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:xo});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new mo;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Um(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(pt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new mo;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(pt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Oi())throw new vh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $5("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new vh("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(a);let g=h+f;l&&(g=parseInt(l));const m=g-h;m*1e3<=cl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const b=g-f;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,h);const{data:S,error:k}=await this._getUser(s);if(k)throw k;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:g,refresh_token:o,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(pt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await na(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(P8(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await uo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=U8(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await nl(this.storage,this.storageKey,!0));try{return await wt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(pt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,h;const{data:f,error:g}=s;if(g)throw g;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await wt(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Oi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(pt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await wt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await V8(async i=>(i>0&&await q8(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await wt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ps})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Bm(s)&&Date.now()+o-r<cl})}catch(r){if(this._debug(n,"error",r),pt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Oi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await na(this.storage,this.storageKey);if(i&&this.userStorage){let o=await na(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ul(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:zm()}else if(i&&!i.user&&!i.user){const o=await na(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await uo(this.storage,this.storageKey+"-user"),await ul(this.storage,this.storageKey,i)):i.user=zm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Mm;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Mm}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Bm(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new mo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new up;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new mo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),pt(s)){const o={session:null,error:s};return Bm(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ul(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=G5(i);await ul(this.storage,this.storageKey,s)}else{const i=G5(n);await ul(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await uo(this.storage,this.storageKey),await uo(this.storage,this.storageKey+"-code-verifier"),await uo(this.storage,this.storageKey+"-user"),this.userStorage&&await uo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Oi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),cl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/cl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${cl}ms, refresh threshold is ${yg} ticks`),i<=yg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof r4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Oi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await nl(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await wt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await wt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await wt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(pt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await wt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(pt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Um(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+A8>i)return r;const{data:s,error:o}=await wt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:b}=await this.getSession();if(b||!m.session)return{data:null,error:b};r=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Um(r);n!=null&&n.allowExpired||X8(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const h=Q8(i.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,D8(`${a}.${l}`)))throw new bg("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}}}Gu.nextInstanceID=0;const pT=Gu;class mT extends pT{constructor(t){super(t)}}var gT=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class vT{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=b8(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:f8,realtime:m8,auth:Object.assign(Object.assign({},p8),{storageKey:u}),global:h8},f=S8(r??{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=w8(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new FL(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new c8(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new dL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return gT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mT({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new YL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yT=(e,t,n)=>new vT(e,t,n);function wT(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}wT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xT={}.VITE_SUPABASE_URL||"https://xfbmdeuzuyixpmouhqcv.supabase.co",bT={}.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhmYm1kZXV6dXlpeHBtb3VocWN2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkzMzE3ODQsImV4cCI6MjA2NDkwNzc4NH0.XzFIT3BwW9dKRrmFFbSAufCpC1SZuUI-VU2Uer5VoTw",mt=yT(xT,bT,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"herbbie-auth",flowType:"pkce",onAuthStateChange:(e,t)=>{e==="SIGNED_OUT"&&Object.keys(localStorage).forEach(r=>{(r.startsWith("sb-")||r.startsWith("supabase.")||r.startsWith("herbbie-auth"))&&localStorage.removeItem(r)})}},global:{headers:{"x-client-info":"herbbie-web"},fetch:(e,t={})=>fetch(e,t).catch(n=>{if(n.message.includes("Failed to fetch")||n.message.includes("ERR_NAME_NOT_RESOLVED"))return Promise.resolve(new Response(JSON.stringify({error:"Network error"}),{status:503,headers:{"Content-Type":"application/json"}}));throw n})}});function Ft(e){"@babel/helpers - typeof";return Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(e)}var cr=Uint8Array,Zr=Uint16Array,bv=Int32Array,dp=new cr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hp=new cr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Sg=new cr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),i4=function(e,t){for(var n=new Zr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new bv(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},s4=i4(dp,2),o4=s4.b,_g=s4.r;o4[28]=258,_g[258]=28;var a4=i4(hp,0),ST=a4.b,Q5=a4.r,jg=new Zr(32768);for(var Jt=0;Jt<32768;++Jt){var ho=(Jt&43690)>>1|(Jt&21845)<<1;ho=(ho&52428)>>2|(ho&13107)<<2,ho=(ho&61680)>>4|(ho&3855)<<4,jg[Jt]=((ho&65280)>>8|(ho&255)<<8)>>1}var ds=function(e,t,n){for(var r=e.length,i=0,s=new Zr(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Zr(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Zr(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],h=t-e[i],f=o[e[i]-1]++<<h,g=f|(1<<h)-1;f<=g;++f)a[jg[f]>>l]=u}else for(a=new Zr(r),i=0;i<r;++i)e[i]&&(a[i]=jg[o[e[i]-1]++]>>15-e[i]);return a},Oo=new cr(288);for(var Jt=0;Jt<144;++Jt)Oo[Jt]=8;for(var Jt=144;Jt<256;++Jt)Oo[Jt]=9;for(var Jt=256;Jt<280;++Jt)Oo[Jt]=7;for(var Jt=280;Jt<288;++Jt)Oo[Jt]=8;var Ku=new cr(32);for(var Jt=0;Jt<32;++Jt)Ku[Jt]=5;var _T=ds(Oo,9,0),jT=ds(Oo,9,1),kT=ds(Ku,5,0),NT=ds(Ku,5,1),qm=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ri=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Vm=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Sv=function(e){return(e+7)/8|0},l4=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new cr(e.subarray(t,n))},AT=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Bi=function(e,t,n){var r=new Error(t||AT[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Bi),!n)throw r;return r},CT=function(e,t,n,r){var i=e.length,s=r?r.length:0;if(!i||t.f&&!t.l)return n||new cr(0);var o=!n,a=o||t.i!=2,l=t.i;o&&(n=new cr(i*3));var u=function(we){var Te=n.length;if(we>Te){var Pe=new cr(Math.max(Te*2,we));Pe.set(n),n=Pe}},h=t.f||0,f=t.p||0,g=t.b||0,m=t.l,b=t.d,S=t.m,k=t.n,y=i*8;do{if(!m){h=Ri(e,f,1);var x=Ri(e,f+1,3);if(f+=3,x)if(x==1)m=jT,b=NT,S=9,k=5;else if(x==2){var q=Ri(e,f,31)+257,M=Ri(e,f+10,15)+4,R=q+Ri(e,f+5,31)+1;f+=14;for(var Q=new cr(R),X=new cr(19),F=0;F<M;++F)X[Sg[F]]=Ri(e,f+F*3,7);f+=M*3;for(var P=qm(X),J=(1<<P)-1,V=ds(X,P,1),F=0;F<R;){var ae=V[Ri(e,f,J)];f+=ae&15;var _=ae>>4;if(_<16)Q[F++]=_;else{var ce=0,le=0;for(_==16?(le=3+Ri(e,f,3),f+=2,ce=Q[F-1]):_==17?(le=3+Ri(e,f,7),f+=3):_==18&&(le=11+Ri(e,f,127),f+=7);le--;)Q[F++]=ce}}var W=Q.subarray(0,q),re=Q.subarray(q);S=qm(W),k=qm(re),m=ds(W,S,1),b=ds(re,k,1)}else Bi(1);else{var _=Sv(f)+4,E=e[_-4]|e[_-3]<<8,D=_+E;if(D>i){l&&Bi(0);break}a&&u(g+E),n.set(e.subarray(_,D),g),t.b=g+=E,t.p=f=D*8,t.f=h;continue}if(f>y){l&&Bi(0);break}}a&&u(g+131072);for(var Y=(1<<S)-1,me=(1<<k)-1,N=f;;N=f){var ce=m[Vm(e,f)&Y],U=ce>>4;if(f+=ce&15,f>y){l&&Bi(0);break}if(ce||Bi(2),U<256)n[g++]=U;else if(U==256){N=f,m=null;break}else{var z=U-254;if(U>264){var F=U-257,G=dp[F];z=Ri(e,f,(1<<G)-1)+o4[F],f+=G}var Z=b[Vm(e,f)&me],se=Z>>4;Z||Bi(3),f+=Z&15;var re=ST[se];if(se>3){var G=hp[se];re+=Vm(e,f)&(1<<G)-1,f+=G}if(f>y){l&&Bi(0);break}a&&u(g+131072);var he=g+z;if(g<re){var de=s-re,xe=Math.min(re,he);for(de+g<0&&Bi(3);g<xe;++g)n[g]=r[de+g]}for(;g<he;++g)n[g]=n[g-re]}}t.l=m,t.p=N,t.b=g,t.f=h,m&&(h=1,t.m=S,t.d=b,t.n=k)}while(!h);return g!=n.length&&o?l4(n,0,g):n.subarray(0,g)},Cs=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Jc=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Hm=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:u4,l:0};if(i==1){var o=new cr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(D,q){return D.f-q.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,h=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=i-1;)a=n[n[u].f<n[f].f?u++:f++],l=n[u!=h&&n[u].f<n[f].f?u++:f++],n[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new Zr(g+1),b=kg(n[h-1],m,0);if(b>t){var r=0,S=0,k=b-t,y=1<<k;for(s.sort(function(q,M){return m[M.s]-m[q.s]||q.f-M.f});r<i;++r){var x=s[r].s;if(m[x]>t)S+=y-(1<<b-m[x]),m[x]=t;else break}for(S>>=k;S>0;){var _=s[r].s;m[_]<t?S-=1<<t-m[_]++-1:++r}for(;r>=0&&S;--r){var E=s[r].s;m[E]==t&&(--m[E],++S)}b=t}return{t:new cr(m),l:b}},kg=function(e,t,n){return e.s==-1?Math.max(kg(e.l,t,n+1),kg(e.r,t,n+1)):t[e.s]=n},Z5=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Zr(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},Yc=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},c4=function(e,t,n){var r=n.length,i=Sv(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},ew=function(e,t,n,r,i,s,o,a,l,u,h){Cs(t,h++,n),++i[256];for(var f=Hm(i,15),g=f.t,m=f.l,b=Hm(s,15),S=b.t,k=b.l,y=Z5(g),x=y.c,_=y.n,E=Z5(S),D=E.c,q=E.n,M=new Zr(19),R=0;R<x.length;++R)++M[x[R]&31];for(var R=0;R<D.length;++R)++M[D[R]&31];for(var Q=Hm(M,7),X=Q.t,F=Q.l,P=19;P>4&&!X[Sg[P-1]];--P);var J=u+5<<3,V=Yc(i,Oo)+Yc(s,Ku)+o,ae=Yc(i,g)+Yc(s,S)+o+14+3*P+Yc(M,X)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&J<=V&&J<=ae)return c4(t,h,e.subarray(l,l+u));var ce,le,W,re;if(Cs(t,h,1+(ae<V)),h+=2,ae<V){ce=ds(g,m,0),le=g,W=ds(S,k,0),re=S;var Y=ds(X,F,0);Cs(t,h,_-257),Cs(t,h+5,q-1),Cs(t,h+10,P-4),h+=14;for(var R=0;R<P;++R)Cs(t,h+3*R,X[Sg[R]]);h+=3*P;for(var me=[x,D],N=0;N<2;++N)for(var U=me[N],R=0;R<U.length;++R){var z=U[R]&31;Cs(t,h,Y[z]),h+=X[z],z>15&&(Cs(t,h,U[R]>>5&127),h+=U[R]>>12)}}else ce=_T,le=Oo,W=kT,re=Ku;for(var R=0;R<a;++R){var G=r[R];if(G>255){var z=G>>18&31;Jc(t,h,ce[z+257]),h+=le[z+257],z>7&&(Cs(t,h,G>>23&31),h+=dp[z]);var Z=G&31;Jc(t,h,W[Z]),h+=re[Z],Z>3&&(Jc(t,h,G>>5&8191),h+=hp[Z])}else Jc(t,h,ce[G]),h+=le[G]}return Jc(t,h,ce[256]),h+le[256]},PT=new bv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),u4=new cr(0),ET=function(e,t,n,r,i,s){var o=s.z||e.length,a=new cr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,h=(s.r||0)&7;if(t){h&&(l[0]=s.r>>3);for(var f=PT[t-1],g=f>>13,m=f&8191,b=(1<<n)-1,S=s.p||new Zr(32768),k=s.h||new Zr(b+1),y=Math.ceil(n/3),x=2*y,_=function(et){return(e[et]^e[et+1]<<y^e[et+2]<<x)&b},E=new bv(25e3),D=new Zr(288),q=new Zr(32),M=0,R=0,Q=s.i||0,X=0,F=s.w||0,P=0;Q+2<o;++Q){var J=_(Q),V=Q&32767,ae=k[J];if(S[V]=ae,k[J]=V,F<=Q){var ce=o-Q;if((M>7e3||X>24576)&&(ce>423||!u)){h=ew(e,l,0,E,D,q,R,X,P,Q-P,h),X=M=R=0,P=Q;for(var le=0;le<286;++le)D[le]=0;for(var le=0;le<30;++le)q[le]=0}var W=2,re=0,Y=m,me=V-ae&32767;if(ce>2&&J==_(Q-me))for(var N=Math.min(g,ce)-1,U=Math.min(32767,Q),z=Math.min(258,ce);me<=U&&--Y&&V!=ae;){if(e[Q+W]==e[Q+W-me]){for(var G=0;G<z&&e[Q+G]==e[Q+G-me];++G);if(G>W){if(W=G,re=me,G>N)break;for(var Z=Math.min(me,G-2),se=0,le=0;le<Z;++le){var he=Q-me+le&32767,de=S[he],xe=he-de&32767;xe>se&&(se=xe,ae=he)}}}V=ae,ae=S[V],me+=V-ae&32767}if(re){E[X++]=268435456|_g[W]<<18|Q5[re];var we=_g[W]&31,Te=Q5[re]&31;R+=dp[we]+hp[Te],++D[257+we],++q[Te],F=Q+W,++M}else E[X++]=e[Q],++D[e[Q]]}}for(Q=Math.max(Q,F);Q<o;++Q)E[X++]=e[Q],++D[e[Q]];h=ew(e,l,u,E,D,q,R,X,P,Q-P,h),u||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=k,s.p=S,s.i=Q,s.w=F)}else{for(var Q=s.w||0;Q<o+u;Q+=65535){var Pe=Q+65535;Pe>=o&&(l[h/8|0]=u,Pe=o),h=c4(l,h+1,e.subarray(Q,Pe))}s.i=o}return l4(a,0,r+Sv(h)+i)},d4=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},LT=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new cr(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return ET(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},h4=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},TT=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=d4();i.p(t.dictionary),h4(e,2,i.d())}},IT=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Bi(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Bi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Ng(e,t){t||(t={});var n=d4();n.p(e);var r=LT(e,t,t.dictionary?6:2,4);return TT(r,t),h4(r,r.length-4,n.d()),r}function RT(e,t){return CT(e.subarray(IT(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var FT=typeof TextDecoder<"u"&&new TextDecoder,OT=0;try{FT.decode(u4,{stream:!0}),OT=1}catch{}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Wm(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var $t={log:Wm,warn:function(e){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):Wm.call(null,arguments))},error:function(e){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):Wm(e))}};function Gm(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){ca(r.response,t,n)},r.onerror=function(){$t.error("could not download file")},r.send()}function tw(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function yh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var _u,Ag,ca=lt.saveAs||((typeof window>"u"?"undefined":Ft(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=lt.URL||lt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?tw(i.href)?Gm(e,t,n):yh(i,i.target="_blank"):yh(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){yh(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(tw(e))Gm(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){yh(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Ft(s)!=="object"&&($t.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Gm(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(lt.HTMLElement)||lt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Ft(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},a.readAsDataURL(e)}else{var l=lt.URL||lt.webkitURL,u=l.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f4(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Km(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=nr(n,r,i,s,t[0],7,-680876936),s=nr(s,n,r,i,t[1],12,-389564586),i=nr(i,s,n,r,t[2],17,606105819),r=nr(r,i,s,n,t[3],22,-1044525330),n=nr(n,r,i,s,t[4],7,-176418897),s=nr(s,n,r,i,t[5],12,1200080426),i=nr(i,s,n,r,t[6],17,-1473231341),r=nr(r,i,s,n,t[7],22,-45705983),n=nr(n,r,i,s,t[8],7,1770035416),s=nr(s,n,r,i,t[9],12,-1958414417),i=nr(i,s,n,r,t[10],17,-42063),r=nr(r,i,s,n,t[11],22,-1990404162),n=nr(n,r,i,s,t[12],7,1804603682),s=nr(s,n,r,i,t[13],12,-40341101),i=nr(i,s,n,r,t[14],17,-1502002290),n=rr(n,r=nr(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=rr(s,n,r,i,t[6],9,-1069501632),i=rr(i,s,n,r,t[11],14,643717713),r=rr(r,i,s,n,t[0],20,-373897302),n=rr(n,r,i,s,t[5],5,-701558691),s=rr(s,n,r,i,t[10],9,38016083),i=rr(i,s,n,r,t[15],14,-660478335),r=rr(r,i,s,n,t[4],20,-405537848),n=rr(n,r,i,s,t[9],5,568446438),s=rr(s,n,r,i,t[14],9,-1019803690),i=rr(i,s,n,r,t[3],14,-187363961),r=rr(r,i,s,n,t[8],20,1163531501),n=rr(n,r,i,s,t[13],5,-1444681467),s=rr(s,n,r,i,t[2],9,-51403784),i=rr(i,s,n,r,t[7],14,1735328473),n=ir(n,r=rr(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=ir(s,n,r,i,t[8],11,-2022574463),i=ir(i,s,n,r,t[11],16,1839030562),r=ir(r,i,s,n,t[14],23,-35309556),n=ir(n,r,i,s,t[1],4,-1530992060),s=ir(s,n,r,i,t[4],11,1272893353),i=ir(i,s,n,r,t[7],16,-155497632),r=ir(r,i,s,n,t[10],23,-1094730640),n=ir(n,r,i,s,t[13],4,681279174),s=ir(s,n,r,i,t[0],11,-358537222),i=ir(i,s,n,r,t[3],16,-722521979),r=ir(r,i,s,n,t[6],23,76029189),n=ir(n,r,i,s,t[9],4,-640364487),s=ir(s,n,r,i,t[12],11,-421815835),i=ir(i,s,n,r,t[15],16,530742520),n=sr(n,r=ir(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=sr(s,n,r,i,t[7],10,1126891415),i=sr(i,s,n,r,t[14],15,-1416354905),r=sr(r,i,s,n,t[5],21,-57434055),n=sr(n,r,i,s,t[12],6,1700485571),s=sr(s,n,r,i,t[3],10,-1894986606),i=sr(i,s,n,r,t[10],15,-1051523),r=sr(r,i,s,n,t[1],21,-2054922799),n=sr(n,r,i,s,t[8],6,1873313359),s=sr(s,n,r,i,t[15],10,-30611744),i=sr(i,s,n,r,t[6],15,-1560198380),r=sr(r,i,s,n,t[13],21,1309151649),n=sr(n,r,i,s,t[4],6,-145523070),s=sr(s,n,r,i,t[11],10,-1120210379),i=sr(i,s,n,r,t[2],15,718787259),r=sr(r,i,s,n,t[9],21,-343485551),e[0]=_o(n,e[0]),e[1]=_o(r,e[1]),e[2]=_o(i,e[2]),e[3]=_o(s,e[3])}function fp(e,t,n,r,i,s){return t=_o(_o(t,e),_o(r,s)),_o(t<<i|t>>>32-i,n)}function nr(e,t,n,r,i,s,o){return fp(t&n|~t&r,e,t,i,s,o)}function rr(e,t,n,r,i,s,o){return fp(t&r|n&~r,e,t,i,s,o)}function ir(e,t,n,r,i,s,o){return fp(t^n^r,e,t,i,s,o)}function sr(e,t,n,r,i,s,o){return fp(n^(t|~r),e,t,i,s,o)}function p4(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Km(r,DT(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Km(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Km(r,i),r}function DT(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}_u=lt.atob.bind(lt),Ag=lt.btoa.bind(lt);var nw="0123456789abcdef".split("");function MT(e){for(var t="",n=0;n<4;n++)t+=nw[e>>8*n+4&15]+nw[e>>8*n&15];return t}function BT(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Cg(e){return p4(e).map(BT).join("")}var UT=function(e){for(var t=0;t<e.length;t++)e[t]=MT(e[t]);return e.join("")}(p4("hello"))!="5d41402abc4b2a76b9719d911017c592";function _o(e,t){if(UT){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Pg(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var h=a[l];u=(u+h+o.charCodeAt(l))%256,a[l]=a[u],a[u]=h}n=e,r=a}else a=r;var f=t.length,g=0,m=0,b="";for(l=0;l<f;l++)m=(m+(h=a[g=(g+1)%256]))%256,a[g]=a[m],a[m]=h,o=a[(a[g]+a[m])%256],b+=String.fromCharCode(t.charCodeAt(l)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var rw={print:4,modify:8,copy:16,"annot-forms":32};function dl(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(rw.perm!==void 0)throw new Error("Invalid permission: "+a);i+=rw[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Cg(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Pg(this.encryptionKey,this.padding)}function hl(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function iw(e){if(Ft(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(a){lt.console&&$t.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ef(e){if(!(this instanceof Ef))return new Ef(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function m4(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function da(e,t,n,r,i){if(!(this instanceof da))return new da(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,m4.call(this,r,i)}function El(e,t,n,r,i){if(!(this instanceof El))return new El(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,m4.call(this,r,i)}function it(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",h=null;Ft(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=iw;var b="1.3",S=m.__private__.getPdfVersion=function(){return b};m.__private__.setPdfVersion=function(v){b=v};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return k};var y=m.__private__.getPageFormat=function(v){return k[v]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},_=x.COMPAT;function E(){this.saveGraphicsState(),K(new nt(Ie,0,0,-Ie,0,Xs()*Ie).toString()+" cm"),this.setFontSize(this.getFontSize()/Ie),u="n",_=x.ADVANCED}function D(){this.restoreGraphicsState(),u="S",_=x.COMPAT}var q=m.__private__.combineFontStyleAndFontWeight=function(v,C){if(v=="bold"&&C=="normal"||v=="bold"&&C==400||v=="normal"&&C=="italic"||v=="bold"&&C=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(v=C==400||C==="normal"?v==="italic"?"italic":"normal":C!=700&&C!=="bold"||v!=="normal"?(C==700?"bold":C)+""+v:"bold"),v};m.advancedAPI=function(v){var C=_===x.COMPAT;return C&&E.call(this),typeof v!="function"||(v(this),C&&D.call(this)),this},m.compatAPI=function(v){var C=_===x.ADVANCED;return C&&D.call(this),typeof v!="function"||(v(this),C&&E.call(this)),this},m.isAdvancedAPI=function(){return _===x.ADVANCED};var M,R=function(v){if(_!==x.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=m.roundToPrecision=m.__private__.roundToPrecision=function(v,C){var H=t||C;if(isNaN(v)||isNaN(H))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(H).replace(/0+$/,"")};M=m.hpf=m.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(v,16)};var X=m.f2=m.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return Q(v,2)},F=m.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return Q(v,3)},P=m.scale=m.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return _===x.COMPAT?v*Ie:_===x.ADVANCED?v:void 0},J=function(v){return _===x.COMPAT?Xs()-v:_===x.ADVANCED?v:void 0},V=function(v){return P(J(v))};m.__private__.setPrecision=m.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var ae,ce="00000000000000000000000000000000",le=m.__private__.getFileId=function(){return ce},W=m.__private__.setFileId=function(v){return ce=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Qn=new dl(h.userPermissions,h.userPassword,h.ownerPassword,ce)),ce};m.setFileId=function(v){return W(v),this},m.getFileId=function(){return le()};var re=m.__private__.convertDateToPDFDate=function(v){var C=v.getTimezoneOffset(),H=C<0?"+":"-",ee=Math.floor(Math.abs(C/60)),ue=Math.abs(C%60),ye=[H,z(ee),"'",z(ue),"'"].join("");return["D:",v.getFullYear(),z(v.getMonth()+1),z(v.getDate()),z(v.getHours()),z(v.getMinutes()),z(v.getSeconds()),ye].join("")},Y=m.__private__.convertPDFDateToDate=function(v){var C=parseInt(v.substr(2,4),10),H=parseInt(v.substr(6,2),10)-1,ee=parseInt(v.substr(8,2),10),ue=parseInt(v.substr(10,2),10),ye=parseInt(v.substr(12,2),10),Ae=parseInt(v.substr(14,2),10);return new Date(C,H,ee,ue,ye,Ae,0)},me=m.__private__.setCreationDate=function(v){var C;if(v===void 0&&(v=new Date),v instanceof Date)C=re(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=v}return ae=C},N=m.__private__.getCreationDate=function(v){var C=ae;return v==="jsDate"&&(C=Y(ae)),C};m.setCreationDate=function(v){return me(v),this},m.getCreationDate=function(v){return N(v)};var U,z=m.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},G=m.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},Z=0,se=[],he=[],de=0,xe=[],we=[],Te=!1,Pe=he,et=function(){Z=0,de=0,he=[],se=[],xe=[],Ai=ln(),zr=ln()};m.__private__.setCustomOutputDestination=function(v){Te=!0,Pe=v};var ve=function(v){Te||(Pe=v)};m.__private__.resetCustomOutputDestination=function(){Te=!1,Pe=he};var K=m.__private__.out=function(v){return v=v.toString(),de+=v.length+1,Pe.push(v),Pe},Ye=m.__private__.write=function(v){return K(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Ge=m.__private__.getArrayBuffer=function(v){for(var C=v.length,H=new ArrayBuffer(C),ee=new Uint8Array(H);C--;)ee[C]=v.charCodeAt(C);return H},Ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ce};var Fe=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(v){return Fe=_===x.ADVANCED?v/Ie:v,this};var Oe,De=m.__private__.getFontSize=m.getFontSize=function(){return _===x.COMPAT?Fe:Fe*Ie},He=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(v){return He=v,this},m.__private__.getR2L=m.getR2L=function(){return He};var st,Ee=m.__private__.setZoomMode=function(v){var C=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Oe=v;else if(isNaN(v)){if(C.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Oe=v}else Oe=parseInt(v,10)};m.__private__.getZoomMode=function(){return Oe};var ze,Qe=m.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');st=v};m.__private__.getPageMode=function(){return st};var St=m.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');ze=v};m.__private__.getLayoutMode=function(){return ze},m.__private__.setDisplayMode=m.setDisplayMode=function(v,C,H){return Ee(v),St(C),Qe(H),this};var at={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(v){if(Object.keys(at).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return at[v]},m.__private__.getDocumentProperties=function(){return at},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(v){for(var C in at)at.hasOwnProperty(C)&&v[C]&&(at[C]=v[C]);return this},m.__private__.setDocumentProperty=function(v,C){if(Object.keys(at).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return at[v]=C};var gt,Ie,Pn,_t,br,Tt={},Bt={},Br=[],jt={},ms={},Qt={},Sr={},oi=null,Zt=0,tt=[],Nt=new iw(m),Ji=e.hotfixes||[],En={},Ur={},ai=[],nt=function v(C,H,ee,ue,ye,Ae){if(!(this instanceof v))return new v(C,H,ee,ue,ye,Ae);isNaN(C)&&(C=1),isNaN(H)&&(H=0),isNaN(ee)&&(ee=0),isNaN(ue)&&(ue=1),isNaN(ye)&&(ye=0),isNaN(Ae)&&(Ae=0),this._matrix=[C,H,ee,ue,ye,Ae]};Object.defineProperty(nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(v)},nt.prototype.multiply=function(v){var C=v.sx*this.sx+v.shy*this.shx,H=v.sx*this.shy+v.shy*this.sy,ee=v.shx*this.sx+v.sy*this.shx,ue=v.shx*this.shy+v.sy*this.sy,ye=v.tx*this.sx+v.ty*this.shx+this.tx,Ae=v.tx*this.shy+v.ty*this.sy+this.ty;return new nt(C,H,ee,ue,ye,Ae)},nt.prototype.decompose=function(){var v=this.sx,C=this.shy,H=this.shx,ee=this.sy,ue=this.tx,ye=this.ty,Ae=Math.sqrt(v*v+C*C),qe=(v/=Ae)*H+(C/=Ae)*ee;H-=v*qe,ee-=C*qe;var Ze=Math.sqrt(H*H+ee*ee);return qe/=Ze,v*(ee/=Ze)<C*(H/=Ze)&&(v=-v,C=-C,qe=-qe,Ae=-Ae),{scale:new nt(Ae,0,0,Ze,0,0),translate:new nt(1,0,0,1,ue,ye),rotate:new nt(v,C,-C,v,0,0),skew:new nt(1,0,qe,1,0,0)}},nt.prototype.toString=function(v){return this.join(" ")},nt.prototype.inversed=function(){var v=this.sx,C=this.shy,H=this.shx,ee=this.sy,ue=this.tx,ye=this.ty,Ae=1/(v*ee-C*H),qe=ee*Ae,Ze=-C*Ae,ht=-H*Ae,ut=v*Ae;return new nt(qe,Ze,ht,ut,-qe*ue-ht*ye,-Ze*ue-ut*ye)},nt.prototype.applyToPoint=function(v){var C=v.x*this.sx+v.y*this.shx+this.tx,H=v.x*this.shy+v.y*this.sy+this.ty;return new Ma(C,H)},nt.prototype.applyToRectangle=function(v){var C=this.applyToPoint(v),H=this.applyToPoint(new Ma(v.x+v.w,v.y+v.h));return new yc(C.x,C.y,H.x-C.x,H.y-C.y)},nt.prototype.clone=function(){var v=this.sx,C=this.shy,H=this.shx,ee=this.sy,ue=this.tx,ye=this.ty;return new nt(v,C,H,ee,ue,ye)},m.Matrix=nt;var _r=m.matrixMult=function(v,C){return C.multiply(v)},li=new nt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=li;var Yn=function(v,C){if(!ms[v]){var H=(C instanceof da?"Sh":"P")+(Object.keys(jt).length+1).toString(10);C.id=H,ms[v]=H,jt[H]=C,Nt.publish("addPattern",C)}};m.ShadingPattern=da,m.TilingPattern=El,m.addShadingPattern=function(v,C){return R("addShadingPattern()"),Yn(v,C),this},m.beginTilingPattern=function(v){R("beginTilingPattern()"),bd(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},m.endTilingPattern=function(v,C){R("endTilingPattern()"),C.stream=we[U].join(`
`),Yn(v,C),Nt.publish("endTilingPattern",C),ai.pop().restore()};var mn=m.__private__.newObject=function(){var v=ln();return $n(v,!0),v},ln=m.__private__.newObjectDeferred=function(){return Z++,se[Z]=function(){return de},Z},$n=function(v,C){return C=typeof C=="boolean"&&C,se[v]=de,C&&K(v+" 0 obj"),v},yt=m.__private__.newAdditionalObject=function(){var v={objId:ln(),content:""};return xe.push(v),v},Ai=ln(),zr=ln(),qn=m.__private__.decodeColorString=function(v){var C=v.split(" ");if(C.length!==2||C[1]!=="g"&&C[1]!=="G")C.length===5&&(C[4]==="k"||C[4]==="K")&&(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var H=parseFloat(C[0]);C=[H,H,H,"r"]}for(var ee="#",ue=0;ue<3;ue++)ee+=("0"+Math.floor(255*parseFloat(C[ue])).toString(16)).slice(-2);return ee},Xn=m.__private__.encodeColorString=function(v){var C;typeof v=="string"&&(v={ch1:v});var H=v.ch1,ee=v.ch2,ue=v.ch3,ye=v.ch4,Ae=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof H=="string"&&H.charAt(0)!=="#"){var qe=new f4(H);if(qe.ok)H=qe.toHex();else if(!/^\d*\.?\d*$/.test(H))throw new Error('Invalid color "'+H+'" passed to jsPDF.encodeColorString.')}if(typeof H=="string"&&/^#[0-9A-Fa-f]{3}$/.test(H)&&(H="#"+H[1]+H[1]+H[2]+H[2]+H[3]+H[3]),typeof H=="string"&&/^#[0-9A-Fa-f]{6}$/.test(H)){var Ze=parseInt(H.substr(1),16);H=Ze>>16&255,ee=Ze>>8&255,ue=255&Ze}if(ee===void 0||ye===void 0&&H===ee&&ee===ue)if(typeof H=="string")C=H+" "+Ae[0];else switch(v.precision){case 2:C=X(H/255)+" "+Ae[0];break;case 3:default:C=F(H/255)+" "+Ae[0]}else if(ye===void 0||Ft(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return C=["1.","1.","1.",Ae[1]].join(" ");if(typeof H=="string")C=[H,ee,ue,Ae[1]].join(" ");else switch(v.precision){case 2:C=[X(H/255),X(ee/255),X(ue/255),Ae[1]].join(" ");break;default:case 3:C=[F(H/255),F(ee/255),F(ue/255),Ae[1]].join(" ")}}else if(typeof H=="string")C=[H,ee,ue,ye,Ae[2]].join(" ");else switch(v.precision){case 2:C=[X(H),X(ee),X(ue),X(ye),Ae[2]].join(" ");break;case 3:default:C=[F(H),F(ee),F(ue),F(ye),Ae[2]].join(" ")}return C},$r=m.__private__.getFilters=function(){return o},qr=m.__private__.putStream=function(v){var C=(v=v||{}).data||"",H=v.filters||$r(),ee=v.alreadyAppliedFilters||[],ue=v.addLength1||!1,ye=C.length,Ae=v.objectId,qe=function(Zn){return Zn};if(h!==null&&Ae===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(qe=Qn.encryptor(Ae,0));var Ze={};H===!0&&(H=["FlateEncode"]);var ht=v.additionalKeyValues||[],ut=(Ze=it.API.processDataByFilters!==void 0?it.API.processDataByFilters(C,H):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(Ze.data.length!==0&&(ht.push({key:"Length",value:Ze.data.length}),ue===!0&&ht.push({key:"Length1",value:ye})),ut.length!=0)if(ut.split("/").length-1==1)ht.push({key:"Filter",value:ut});else{ht.push({key:"Filter",value:"["+ut+"]"});for(var kt=0;kt<ht.length;kt+=1)if(ht[kt].key==="DecodeParms"){for(var tn=[],un=0;un<Ze.reverseChain.split("/").length-1;un+=1)tn.push("null");tn.push(ht[kt].value),ht[kt].value="["+tn.join(" ")+"]"}}K("<<");for(var jn=0;jn<ht.length;jn++)K("/"+ht[jn].key+" "+ht[jn].value);K(">>"),Ze.data.length!==0&&(K("stream"),K(qe(Ze.data)),K("endstream"))},ci=m.__private__.putPage=function(v){var C=v.number,H=v.data,ee=v.objId,ue=v.contentsObjId;$n(ee,!0),K("<</Type /Page"),K("/Parent "+v.rootDictionaryObjId+" 0 R"),K("/Resources "+v.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(M(v.mediaBox.bottomLeftX))+" "+parseFloat(M(v.mediaBox.bottomLeftY))+" "+M(v.mediaBox.topRightX)+" "+M(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&K("/CropBox ["+M(v.cropBox.bottomLeftX)+" "+M(v.cropBox.bottomLeftY)+" "+M(v.cropBox.topRightX)+" "+M(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&K("/BleedBox ["+M(v.bleedBox.bottomLeftX)+" "+M(v.bleedBox.bottomLeftY)+" "+M(v.bleedBox.topRightX)+" "+M(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&K("/TrimBox ["+M(v.trimBox.bottomLeftX)+" "+M(v.trimBox.bottomLeftY)+" "+M(v.trimBox.topRightX)+" "+M(v.trimBox.topRightY)+"]"),v.artBox!==null&&K("/ArtBox ["+M(v.artBox.bottomLeftX)+" "+M(v.artBox.bottomLeftY)+" "+M(v.artBox.topRightX)+" "+M(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&K("/UserUnit "+v.userUnit),Nt.publish("putPage",{objId:ee,pageContext:tt[C],pageNumber:C,page:H}),K("/Contents "+ue+" 0 R"),K(">>"),K("endobj");var ye=H.join(`
`);return _===x.ADVANCED&&(ye+=`
Q`),$n(ue,!0),qr({data:ye,filters:$r(),objectId:ue}),K("endobj"),ee},gs=m.__private__.putPages=function(){var v,C,H=[];for(v=1;v<=Zt;v++)tt[v].objId=ln(),tt[v].contentsObjId=ln();for(v=1;v<=Zt;v++)H.push(ci({number:v,data:we[v],objId:tt[v].objId,contentsObjId:tt[v].contentsObjId,mediaBox:tt[v].mediaBox,cropBox:tt[v].cropBox,bleedBox:tt[v].bleedBox,trimBox:tt[v].trimBox,artBox:tt[v].artBox,userUnit:tt[v].userUnit,rootDictionaryObjId:Ai,resourceDictionaryObjId:zr}));$n(Ai,!0),K("<</Type /Pages");var ee="/Kids [";for(C=0;C<Zt;C++)ee+=H[C]+" 0 R ";K(ee+"]"),K("/Count "+Zt),K(">>"),K("endobj"),Nt.publish("postPutPages")},vs=function(v){Nt.publish("putFont",{font:v,out:K,newObject:mn,putStream:qr}),v.isAlreadyPutted!==!0&&(v.objectNumber=mn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+hl(v.postScriptName)),K("/Subtype /Type1"),typeof v.encoding=="string"&&K("/Encoding /"+v.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},Yi=function(){for(var v in Tt)Tt.hasOwnProperty(v)&&(f===!1||f===!0&&g.hasOwnProperty(v))&&vs(Tt[v])},Ks=function(v){v.objectNumber=mn();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[M(v.x),M(v.y),M(v.x+v.width),M(v.y+v.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var H=v.pages[1].join(`
`);qr({data:H,additionalKeyValues:C,objectId:v.objectNumber}),K("endobj")},Xi=function(){for(var v in En)En.hasOwnProperty(v)&&Ks(En[v])},Ea=function(v,C){var H,ee=[],ue=1/(C-1);for(H=0;H<1;H+=ue)ee.push(H);if(ee.push(1),v[0].offset!=0){var ye={offset:0,color:v[0].color};v.unshift(ye)}if(v[v.length-1].offset!=1){var Ae={offset:1,color:v[v.length-1].color};v.push(Ae)}for(var qe="",Ze=0,ht=0;ht<ee.length;ht++){for(H=ee[ht];H>v[Ze+1].offset;)Ze++;var ut=v[Ze].offset,kt=(H-ut)/(v[Ze+1].offset-ut),tn=v[Ze].color,un=v[Ze+1].color;qe+=G(Math.round((1-kt)*tn[0]+kt*un[0]).toString(16))+G(Math.round((1-kt)*tn[1]+kt*un[1]).toString(16))+G(Math.round((1-kt)*tn[2]+kt*un[2]).toString(16))}return qe.trim()},La=function(v,C){C||(C=21);var H=mn(),ee=Ea(v.colors,C),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+C+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qr({data:ee,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:H}),K("endobj"),v.objectNumber=mn(),K("<< /ShadingType "+v.type),K("/ColorSpace /DeviceRGB");var ye="/Coords ["+M(parseFloat(v.coords[0]))+" "+M(parseFloat(v.coords[1]))+" ";v.type===2?ye+=M(parseFloat(v.coords[2]))+" "+M(parseFloat(v.coords[3])):ye+=M(parseFloat(v.coords[2]))+" "+M(parseFloat(v.coords[3]))+" "+M(parseFloat(v.coords[4]))+" "+M(parseFloat(v.coords[5])),K(ye+="]"),v.matrix&&K("/Matrix ["+v.matrix.toString()+"]"),K("/Function "+H+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},cc=function(v,C){var H=ln(),ee=mn();C.push({resourcesOid:H,objectOid:ee}),v.objectNumber=ee;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+v.boundingBox.map(M).join(" ")+"]"}),ue.push({key:"XStep",value:M(v.xStep)}),ue.push({key:"YStep",value:M(v.yStep)}),ue.push({key:"Resources",value:H+" 0 R"}),v.matrix&&ue.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),qr({data:v.stream,additionalKeyValues:ue,objectId:v.objectNumber}),K("endobj")},Vr=function(v){var C;for(C in jt)jt.hasOwnProperty(C)&&(jt[C]instanceof da?La(jt[C]):jt[C]instanceof El&&cc(jt[C],v))},Ta=function(v){for(var C in v.objectNumber=mn(),K("<<"),v)switch(C){case"opacity":K("/ca "+X(v[C]));break;case"stroke-opacity":K("/CA "+X(v[C]))}K(">>"),K("endobj")},uc=function(){var v;for(v in Qt)Qt.hasOwnProperty(v)&&Ta(Qt[v])},Be=function(){for(var v in K("/XObject <<"),En)En.hasOwnProperty(v)&&En[v].objectNumber>=0&&K("/"+v+" "+En[v].objectNumber+" 0 R");Nt.publish("putXobjectDict"),K(">>")},je=function(){Qn.oid=mn(),K("<<"),K("/Filter /Standard"),K("/V "+Qn.v),K("/R "+Qn.r),K("/U <"+Qn.toHexString(Qn.U)+">"),K("/O <"+Qn.toHexString(Qn.O)+">"),K("/P "+Qn.P),K(">>"),K("endobj")},Xe=function(){for(var v in K("/Font <<"),Tt)Tt.hasOwnProperty(v)&&(f===!1||f===!0&&g.hasOwnProperty(v))&&K("/"+v+" "+Tt[v].objectNumber+" 0 R");K(">>")},vt=function(){if(Object.keys(jt).length>0){for(var v in K("/Shading <<"),jt)jt.hasOwnProperty(v)&&jt[v]instanceof da&&jt[v].objectNumber>=0&&K("/"+v+" "+jt[v].objectNumber+" 0 R");Nt.publish("putShadingPatternDict"),K(">>")}},$e=function(v){if(Object.keys(jt).length>0){for(var C in K("/Pattern <<"),jt)jt.hasOwnProperty(C)&&jt[C]instanceof m.TilingPattern&&jt[C].objectNumber>=0&&jt[C].objectNumber<v&&K("/"+C+" "+jt[C].objectNumber+" 0 R");Nt.publish("putTilingPatternDict"),K(">>")}},Je=function(){if(Object.keys(Qt).length>0){var v;for(v in K("/ExtGState <<"),Qt)Qt.hasOwnProperty(v)&&Qt[v].objectNumber>=0&&K("/"+v+" "+Qt[v].objectNumber+" 0 R");Nt.publish("putGStateDict"),K(">>")}},Ne=function(v){$n(v.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Xe(),vt(),$e(v.objectOid),Je(),Be(),K(">>"),K("endobj")},Pt=function(){var v=[];Yi(),uc(),Xi(),Vr(v),Nt.publish("putResources"),v.forEach(Ne),Ne({resourcesOid:zr,objectOid:Number.MAX_SAFE_INTEGER}),Nt.publish("postPutResources")},cn=function(){Nt.publish("putAdditionalObjects");for(var v=0;v<xe.length;v++){var C=xe[v];$n(C.objId,!0),K(C.content),K("endobj")}Nt.publish("postPutAdditionalObjects")},_n=function(v){Bt[v.fontName]=Bt[v.fontName]||{},Bt[v.fontName][v.fontStyle]=v.id},Hr=function(v,C,H,ee,ue){var ye={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:v,fontName:C,fontStyle:H,encoding:ee,isStandardFont:ue||!1,metadata:{}};return Nt.publish("addFont",{font:ye,instance:this}),Tt[ye.id]=ye,_n(ye),ye.id},Wr=function(v){for(var C=0,H=Ce.length;C<H;C++){var ee=Hr.call(this,v[C][0],v[C][1],v[C][2],Ce[C][3],!0);f===!1&&(g[ee]=!0);var ue=v[C][0].split("-");_n({id:ee,fontName:ue[0],fontStyle:ue[1]||""})}Nt.publish("addFonts",{fonts:Tt,dictionary:Bt})},Lt=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(ee){var C=ee.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var H="Error in function "+C.split(`
`)[0].split("<")[0]+": "+ee.message;if(!lt.console)throw new Error(H);lt.console.error(H,ee),lt.alert&&alert(H)}},v.foo.bar=v,v.foo},Ln=function(v,C){var H,ee,ue,ye,Ae,qe,Ze,ht,ut;if(ue=(C=C||{}).sourceEncoding||"Unicode",Ae=C.outputEncoding,(C.autoencode||Ae)&&Tt[gt].metadata&&Tt[gt].metadata[ue]&&Tt[gt].metadata[ue].encoding&&(ye=Tt[gt].metadata[ue].encoding,!Ae&&Tt[gt].encoding&&(Ae=Tt[gt].encoding),!Ae&&ye.codePages&&(Ae=ye.codePages[0]),typeof Ae=="string"&&(Ae=ye[Ae]),Ae)){for(Ze=!1,qe=[],H=0,ee=v.length;H<ee;H++)(ht=Ae[v.charCodeAt(H)])?qe.push(String.fromCharCode(ht)):qe.push(v[H]),qe[H].charCodeAt(0)>>8&&(Ze=!0);v=qe.join("")}for(H=v.length;Ze===void 0&&H!==0;)v.charCodeAt(H-1)>>8&&(Ze=!0),H--;if(!Ze)return v;for(qe=C.noBOM?[]:[254,255],H=0,ee=v.length;H<ee;H++){if((ut=(ht=v.charCodeAt(H))>>8)>>8)throw new Error("Character at position "+H+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(ut),qe.push(ht-(ut<<8))}return String.fromCharCode.apply(void 0,qe)},Gt=m.__private__.pdfEscape=m.pdfEscape=function(v,C){return Ln(v,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jr=m.__private__.beginPage=function(v){we[++Zt]=[],tt[Zt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},ud(Zt),ve(we[U])},Ci=function(v,C){var H,ee,ue;switch(n=C||n,typeof v=="string"&&(H=y(v.toLowerCase()),Array.isArray(H)&&(ee=H[0],ue=H[1])),Array.isArray(v)&&(ee=v[0]*Ie,ue=v[1]*Ie),isNaN(ee)&&(ee=i[0],ue=i[1]),(ee>14400||ue>14400)&&($t.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),ue=Math.min(14400,ue)),i=[ee,ue],n.substr(0,1)){case"l":ue>ee&&(i=[ue,ee]);break;case"p":ee>ue&&(i=[ue,ee])}jr(i),gd(pc),K(Pi),gc!==0&&K(gc+" J"),vc!==0&&K(vc+" j"),Nt.publish("addPage",{pageNumber:Zt})},ys=function(v){v>0&&v<=Zt&&(we.splice(v,1),tt.splice(v,1),Zt--,U>Zt&&(U=Zt),this.setPage(U))},ud=function(v){v>0&&v<=Zt&&(U=v)},mp=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return we.length-1},dd=function(v,C,H){var ee,ue=void 0;return H=H||{},v=v!==void 0?v:Tt[gt].fontName,C=C!==void 0?C:Tt[gt].fontStyle,ee=v.toLowerCase(),Bt[ee]!==void 0&&Bt[ee][C]!==void 0?ue=Bt[ee][C]:Bt[v]!==void 0&&Bt[v][C]!==void 0?ue=Bt[v][C]:H.disableWarning===!1&&$t.warn("Unable to look up font label for font '"+v+"', '"+C+"'. Refer to getFontList() for available fonts."),ue||H.noFallback||(ue=Bt.times[C])==null&&(ue=Bt.times.normal),ue},gp=m.__private__.putInfo=function(){var v=mn(),C=function(ee){return ee};for(var H in h!==null&&(C=Qn.encryptor(v,0)),K("<<"),K("/Producer ("+Gt(C("jsPDF "+it.version))+")"),at)at.hasOwnProperty(H)&&at[H]&&K("/"+H.substr(0,1).toUpperCase()+H.substr(1)+" ("+Gt(C(at[H]))+")");K("/CreationDate ("+Gt(C(ae))+")"),K(">>"),K("endobj")},dc=m.__private__.putCatalog=function(v){var C=(v=v||{}).rootDictionaryObjId||Ai;switch(mn(),K("<<"),K("/Type /Catalog"),K("/Pages "+C+" 0 R"),Oe||(Oe="fullwidth"),Oe){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var H=""+Oe;H.substr(H.length-1)==="%"&&(Oe=parseInt(Oe)/100),typeof Oe=="number"&&K("/OpenAction [3 0 R /XYZ null null "+X(Oe)+"]")}switch(ze||(ze="continuous"),ze){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}st&&K("/PageMode /"+st),Nt.publish("putCatalog"),K(">>"),K("endobj")},vp=m.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(Z+1)),K("/Root "+Z+" 0 R"),K("/Info "+(Z-1)+" 0 R"),h!==null&&K("/Encrypt "+Qn.oid+" 0 R"),K("/ID [ <"+ce+"> <"+ce+"> ]"),K(">>")},yp=m.__private__.putHeader=function(){K("%PDF-"+b),K("%")},wp=m.__private__.putXRef=function(){var v="0000000000";K("xref"),K("0 "+(Z+1)),K("0000000000 65535 f ");for(var C=1;C<=Z;C++)typeof se[C]=="function"?K((v+se[C]()).slice(-10)+" 00000 n "):se[C]!==void 0?K((v+se[C]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},ws=m.__private__.buildDocument=function(){et(),ve(he),Nt.publish("buildDocument"),yp(),gs(),cn(),Pt(),h!==null&&je(),gp(),dc();var v=de;return wp(),vp(),K("startxref"),K(""+v),K("%%EOF"),ve(we[U]),he.join(`
`)},Ia=m.__private__.getBlob=function(v){return new Blob([Ge(v)],{type:"application/pdf"})},Ra=m.output=m.__private__.output=Lt(function(v,C){switch(typeof(C=C||{})=="string"?C={filename:C}:C.filename=C.filename||"generated.pdf",v){case void 0:return ws();case"save":m.save(C.filename);break;case"arraybuffer":return Ge(ws());case"blob":return Ia(ws());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(Ia(ws()))||void 0;$t.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var H="",ee=ws();try{H=Ag(ee)}catch{H=Ag(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+C.filename+";base64,"+H;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(ue=C.pdfObjectUrl,ye="");var Ae='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",qe=lt.open();return qe!==null&&qe.document.write(Ae),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',ht=lt.open();if(ht!==null){ht.document.write(Ze);var ut=this;ht.document.documentElement.querySelector("#pdfViewer").onload=function(){ht.document.title=C.filename,ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ut.output("bloburl"))}}return ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',tn=lt.open();if(tn!==null&&(tn.document.write(kt),tn.document.title=C.filename),tn||typeof safari>"u")return tn;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",C);default:return null}}),hd=function(v){return Array.isArray(Ji)===!0&&Ji.indexOf(v)>-1};switch(r){case"pt":Ie=1;break;case"mm":Ie=72/25.4;break;case"cm":Ie=72/2.54;break;case"in":Ie=72;break;case"px":Ie=hd("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ie=12;break;case"ex":Ie=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ie=r}var Qn=null;me(),W();var xp=function(v){return h!==null?Qn.encryptor(v,0):function(C){return C}},fd=m.__private__.getPageInfo=m.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tt[v].objId,pageNumber:v,pageContext:tt[v]}},ct=m.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in tt)if(tt[C].objId===v)break;return fd(C)},bp=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:tt[U].objId,pageNumber:U,pageContext:tt[U]}};m.addPage=function(){return Ci.apply(this,arguments),this},m.setPage=function(){return ud.apply(this,arguments),ve.call(this,we[U]),this},m.insertPage=function(v){return this.addPage(),this.movePage(U,v),this},m.movePage=function(v,C){var H,ee;if(v>C){H=we[v],ee=tt[v];for(var ue=v;ue>C;ue--)we[ue]=we[ue-1],tt[ue]=tt[ue-1];we[C]=H,tt[C]=ee,this.setPage(C)}else if(v<C){H=we[v],ee=tt[v];for(var ye=v;ye<C;ye++)we[ye]=we[ye+1],tt[ye]=tt[ye+1];we[C]=H,tt[C]=ee,this.setPage(C)}return this},m.deletePage=function(){return ys.apply(this,arguments),this},m.__private__.text=m.text=function(v,C,H,ee,ue){var ye,Ae,qe,Ze,ht,ut,kt,tn,un,jn=(ee=ee||{}).scope||this;if(typeof v=="number"&&typeof C=="number"&&(typeof H=="string"||Array.isArray(H))){var Zn=H;H=C,C=v,v=Zn}if(arguments[3]instanceof nt?(R("The transform parameter of text() with a Matrix value"),un=ue):(qe=arguments[4],Ze=arguments[5],Ft(kt=arguments[3])==="object"&&kt!==null||(typeof qe=="string"&&(Ze=qe,qe=null),typeof kt=="string"&&(Ze=kt,kt=null),typeof kt=="number"&&(qe=kt,kt=null),ee={flags:kt,angle:qe,align:Ze})),isNaN(C)||isNaN(H)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return jn;var Fn="",Ei=!1,Gr=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:Ho,es=jn.internal.scaleFactor;function Sd(qt){return qt=qt.split("	").join(Array(ee.TabLen||9).join(" ")),Gt(qt,kt)}function Sc(qt){for(var Vt,vn=qt.concat(),Tn=[],js=vn.length;js--;)typeof(Vt=vn.shift())=="string"?Tn.push(Vt):Array.isArray(qt)&&(Vt.length===1||Vt[1]===void 0&&Vt[2]===void 0)?Tn.push(Vt[0]):Tn.push([Vt[0],Vt[1],Vt[2]]);return Tn}function _c(qt,Vt){var vn;if(typeof qt=="string")vn=Vt(qt)[0];else if(Array.isArray(qt)){for(var Tn,js,Lc=qt.concat(),Ja=[],Ad=Lc.length;Ad--;)typeof(Tn=Lc.shift())=="string"?Ja.push(Vt(Tn)[0]):Array.isArray(Tn)&&typeof Tn[0]=="string"&&(js=Vt(Tn[0],Tn[1],Tn[2]),Ja.push([js[0],js[1],js[2]]));vn=Ja}return vn}var Ua=!1,jc=!0;if(typeof v=="string")Ua=!0;else if(Array.isArray(v)){var kc=v.concat();Ae=[];for(var za,Vn=kc.length;Vn--;)(typeof(za=kc.shift())!="string"||Array.isArray(za)&&typeof za[0]!="string")&&(jc=!1);Ua=jc}if(Ua===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var $a=Fe/jn.internal.scaleFactor,qa=$a*(Gr-1);switch(ee.baseline){case"bottom":H-=qa;break;case"top":H+=$a-qa;break;case"hanging":H+=$a-2*qa;break;case"middle":H+=$a/2-qa}if((ut=ee.maxWidth||0)>0&&(typeof v=="string"?v=jn.splitTextToSize(v,ut):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(qt,Vt){return qt.concat(jn.splitTextToSize(Vt,ut))},[]))),ye={text:v,x:C,y:H,options:ee,mutex:{pdfEscape:Gt,activeFontKey:gt,fonts:Tt,activeFontSize:Fe}},Nt.publish("preProcessText",ye),v=ye.text,qe=(ee=ye.options).angle,!(un instanceof nt)&&qe&&typeof qe=="number"){qe*=Math.PI/180,ee.rotationDirection===0&&(qe=-qe),_===x.ADVANCED&&(qe=-qe);var Va=Math.cos(qe),Nc=Math.sin(qe);un=new nt(Va,Nc,-Nc,Va,0,0)}else qe&&qe instanceof nt&&(un=qe);_!==x.ADVANCED||un||(un=li),(ht=ee.charSpace||Da)!==void 0&&(Fn+=M(P(ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tn=ee.horizontalScale)!==void 0&&(Fn+=M(100*tn)+` Tz
`),ee.lang;var kr=-1,Lp=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,Ac=jn.internal.getCurrentPageInfo().pageContext;switch(Lp){case 0:case!1:case"fill":kr=0;break;case 1:case!0:case"stroke":kr=1;break;case 2:case"fillThenStroke":kr=2;break;case 3:case"invisible":kr=3;break;case 4:case"fillAndAddForClipping":kr=4;break;case 5:case"strokeAndAddPathForClipping":kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":kr=6;break;case 7:case"addToPathForClipping":kr=7}var _d=Ac.usedRenderingMode!==void 0?Ac.usedRenderingMode:-1;kr!==-1?Fn+=kr+` Tr
`:_d!==-1&&(Fn+=`0 Tr
`),kr!==-1&&(Ac.usedRenderingMode=kr),Ze=ee.align||"left";var ui,Ha=Fe*Gr,jd=jn.internal.pageSize.getWidth(),kd=Tt[gt];ht=ee.charSpace||Da,ut=ee.maxWidth||0,kt=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var Qs=[],Ko=function(qt){return jn.getStringUnitWidth(qt,{font:kd,charSpace:ht,fontSize:Fe,doKerning:!1})*Fe/es};if(Object.prototype.toString.call(v)==="[object Array]"){var Nr;Ae=Sc(v),Ze!=="left"&&(ui=Ae.map(Ko));var hr,Zs=0;if(Ze==="right"){C-=ui[0],v=[],Vn=Ae.length;for(var bs=0;bs<Vn;bs++)bs===0?(hr=Zi(C),Nr=xs(H)):(hr=P(Zs-ui[bs]),Nr=-Ha),v.push([Ae[bs],hr,Nr]),Zs=ui[bs]}else if(Ze==="center"){C-=ui[0]/2,v=[],Vn=Ae.length;for(var Ss=0;Ss<Vn;Ss++)Ss===0?(hr=Zi(C),Nr=xs(H)):(hr=P((Zs-ui[Ss])/2),Nr=-Ha),v.push([Ae[Ss],hr,Nr]),Zs=ui[Ss]}else if(Ze==="left"){v=[],Vn=Ae.length;for(var Wa=0;Wa<Vn;Wa++)v.push(Ae[Wa])}else if(Ze==="justify"&&kd.encoding==="Identity-H"){v=[],Vn=Ae.length,ut=ut!==0?ut:jd;for(var _s=0,gn=0;gn<Vn;gn++)if(Nr=gn===0?xs(H):-Ha,hr=gn===0?Zi(C):_s,gn<Vn-1){var Cc=P((ut-ui[gn])/(Ae[gn].split(" ").length-1)),fr=Ae[gn].split(" ");v.push([fr[0]+" ",hr,Nr]),_s=0;for(var di=1;di<fr.length;di++){var Ga=(Ko(fr[di-1]+" "+fr[di])-Ko(fr[di]))*es+Cc;di==fr.length-1?v.push([fr[di],Ga,0]):v.push([fr[di]+" ",Ga,0]),_s-=Ga}}else v.push([Ae[gn],hr,Nr]);v.push(["",_s,0])}else{if(Ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Vn=Ae.length,ut=ut!==0?ut:jd,gn=0;gn<Vn;gn++)Nr=gn===0?xs(H):-Ha,hr=gn===0?Zi(C):0,gn<Vn-1?Qs.push(M(P((ut-ui[gn])/(Ae[gn].split(" ").length-1)))):Qs.push(0),v.push([Ae[gn],hr,Nr])}}var Nd=typeof ee.R2L=="boolean"?ee.R2L:He;Nd===!0&&(v=_c(v,function(qt,Vt,vn){return[qt.split("").reverse().join(""),Vt,vn]})),ye={text:v,x:C,y:H,options:ee,mutex:{pdfEscape:Gt,activeFontKey:gt,fonts:Tt,activeFontSize:Fe}},Nt.publish("postProcessText",ye),v=ye.text,Ei=ye.mutex.isHex||!1;var Pc=Tt[gt].encoding;Pc!=="WinAnsiEncoding"&&Pc!=="StandardEncoding"||(v=_c(v,function(qt,Vt,vn){return[Sd(qt),Vt,vn]})),Ae=Sc(v),v=[];for(var Jo,Yo,eo,Xo=0,Ka=1,Qo=Array.isArray(Ae[0])?Ka:Xo,to="",Ec=function(qt,Vt,vn){var Tn="";return vn instanceof nt?(vn=typeof ee.angle=="number"?_r(vn,new nt(1,0,0,1,qt,Vt)):_r(new nt(1,0,0,1,qt,Vt),vn),_===x.ADVANCED&&(vn=_r(new nt(1,0,0,-1,0,0),vn)),Tn=vn.join(" ")+` Tm
`):Tn=M(qt)+" "+M(Vt)+` Td
`,Tn},hi=0;hi<Ae.length;hi++){switch(to="",Qo){case Ka:eo=(Ei?"<":"(")+Ae[hi][0]+(Ei?">":")"),Jo=parseFloat(Ae[hi][1]),Yo=parseFloat(Ae[hi][2]);break;case Xo:eo=(Ei?"<":"(")+Ae[hi]+(Ei?">":")"),Jo=Zi(C),Yo=xs(H)}Qs!==void 0&&Qs[hi]!==void 0&&(to=Qs[hi]+` Tw
`),hi===0?v.push(to+Ec(Jo,Yo,un)+eo):Qo===Xo?v.push(to+eo):Qo===Ka&&v.push(to+Ec(Jo,Yo,un)+eo)}v=Qo===Xo?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var fi=`BT
/`;return fi+=gt+" "+Fe+` Tf
`,fi+=M(Fe*Gr)+` TL
`,fi+=Wo+`
`,fi+=Fn,fi+=v,K(fi+="ET"),g[gt]=!0,jn};var Sp=m.__private__.clip=m.clip=function(v){return K(v==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Sp("evenodd")},m.__private__.discardPath=m.discardPath=function(){return K("n"),this};var Qi=m.__private__.isValidStyle=function(v){var C=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(C=!0),C};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(v){return Qi(v)&&(u=v),this};var pd=m.__private__.getStyle=m.getStyle=function(v){var C=u;switch(v){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=v}return C},md=m.close=function(){return K("h"),this};m.stroke=function(){return K("S"),this},m.fill=function(v){return Fa("f",v),this},m.fillEvenOdd=function(v){return Fa("f*",v),this},m.fillStroke=function(v){return Fa("B",v),this},m.fillStrokeEvenOdd=function(v){return Fa("B*",v),this};var Fa=function(v,C){Ft(C)==="object"?jp(C,v):K(v)},hc=function(v){v===null||_===x.ADVANCED&&v===void 0||(v=pd(v),K(v))};function _p(v,C,H,ee,ue){var ye=new El(C||this.boundingBox,H||this.xStep,ee||this.yStep,this.gState,ue||this.matrix);ye.stream=this.stream;var Ae=v+"$$"+this.cloneIndex+++"$$";return Yn(Ae,ye),ye}var jp=function(v,C){var H=ms[v.key],ee=jt[H];if(ee instanceof da)K("q"),K(kp(C)),ee.gState&&m.setGState(ee.gState),K(v.matrix.toString()+" cm"),K("/"+H+" sh"),K("Q");else if(ee instanceof El){var ue=new nt(1,0,0,-1,0,Xs());v.matrix&&(ue=ue.multiply(v.matrix||li),H=_p.call(ee,v.key,v.boundingBox,v.xStep,v.yStep,ue).id),K("q"),K("/Pattern cs"),K("/"+H+" scn"),ee.gState&&m.setGState(ee.gState),K(C),K("Q")}},kp=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},fc=m.moveTo=function(v,C){return K(M(P(v))+" "+M(V(C))+" m"),this},Vo=m.lineTo=function(v,C){return K(M(P(v))+" "+M(V(C))+" l"),this},Js=m.curveTo=function(v,C,H,ee,ue,ye){return K([M(P(v)),M(V(C)),M(P(H)),M(V(ee)),M(P(ue)),M(V(ye)),"c"].join(" ")),this};m.__private__.line=m.line=function(v,C,H,ee,ue){if(isNaN(v)||isNaN(C)||isNaN(H)||isNaN(ee)||!Qi(ue))throw new Error("Invalid arguments passed to jsPDF.line");return _===x.COMPAT?this.lines([[H-v,ee-C]],v,C,[1,1],ue||"S"):this.lines([[H-v,ee-C]],v,C,[1,1]).stroke()},m.__private__.lines=m.lines=function(v,C,H,ee,ue,ye){var Ae,qe,Ze,ht,ut,kt,tn,un,jn,Zn,Fn,Ei;if(typeof v=="number"&&(Ei=H,H=C,C=v,v=Ei),ee=ee||[1,1],ye=ye||!1,isNaN(C)||isNaN(H)||!Array.isArray(v)||!Array.isArray(ee)||!Qi(ue)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(fc(C,H),Ae=ee[0],qe=ee[1],ht=v.length,Zn=C,Fn=H,Ze=0;Ze<ht;Ze++)(ut=v[Ze]).length===2?(Zn=ut[0]*Ae+Zn,Fn=ut[1]*qe+Fn,Vo(Zn,Fn)):(kt=ut[0]*Ae+Zn,tn=ut[1]*qe+Fn,un=ut[2]*Ae+Zn,jn=ut[3]*qe+Fn,Zn=ut[4]*Ae+Zn,Fn=ut[5]*qe+Fn,Js(kt,tn,un,jn,Zn,Fn));return ye&&md(),hc(ue),this},m.path=function(v){for(var C=0;C<v.length;C++){var H=v[C],ee=H.c;switch(H.op){case"m":fc(ee[0],ee[1]);break;case"l":Vo(ee[0],ee[1]);break;case"c":Js.apply(this,ee);break;case"h":md()}}return this},m.__private__.rect=m.rect=function(v,C,H,ee,ue){if(isNaN(v)||isNaN(C)||isNaN(H)||isNaN(ee)||!Qi(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return _===x.COMPAT&&(ee=-ee),K([M(P(v)),M(V(C)),M(P(H)),M(P(ee)),"re"].join(" ")),hc(ue),this},m.__private__.triangle=m.triangle=function(v,C,H,ee,ue,ye,Ae){if(isNaN(v)||isNaN(C)||isNaN(H)||isNaN(ee)||isNaN(ue)||isNaN(ye)||!Qi(Ae))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[H-v,ee-C],[ue-H,ye-ee],[v-ue,C-ye]],v,C,[1,1],Ae,!0),this},m.__private__.roundedRect=m.roundedRect=function(v,C,H,ee,ue,ye,Ae){if(isNaN(v)||isNaN(C)||isNaN(H)||isNaN(ee)||isNaN(ue)||isNaN(ye)||!Qi(Ae))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*H),ye=Math.min(ye,.5*ee),this.lines([[H-2*ue,0],[ue*qe,0,ue,ye-ye*qe,ue,ye],[0,ee-2*ye],[0,ye*qe,-ue*qe,ye,-ue,ye],[2*ue-H,0],[-ue*qe,0,-ue,-ye*qe,-ue,-ye],[0,2*ye-ee],[0,-ye*qe,ue*qe,-ye,ue,-ye]],v+ue,C,[1,1],Ae,!0),this},m.__private__.ellipse=m.ellipse=function(v,C,H,ee,ue){if(isNaN(v)||isNaN(C)||isNaN(H)||isNaN(ee)||!Qi(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*H,Ae=4/3*(Math.SQRT2-1)*ee;return fc(v+H,C),Js(v+H,C-Ae,v+ye,C-ee,v,C-ee),Js(v-ye,C-ee,v-H,C-Ae,v-H,C),Js(v-H,C+Ae,v-ye,C+ee,v,C+ee),Js(v+ye,C+ee,v+H,C+Ae,v+H,C),hc(ue),this},m.__private__.circle=m.circle=function(v,C,H,ee){if(isNaN(v)||isNaN(C)||isNaN(H)||!Qi(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,C,H,H,ee)},m.setFont=function(v,C,H){return H&&(C=q(C,H)),gt=dd(v,C,{disableWarning:!1}),this};var Np=m.__private__.getFont=m.getFont=function(){return Tt[dd.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var v,C,H={};for(v in Bt)if(Bt.hasOwnProperty(v))for(C in H[v]=[],Bt[v])Bt[v].hasOwnProperty(C)&&H[v].push(C);return H},m.addFont=function(v,C,H,ee,ue){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(H=q(H,ee)),ue=ue||"Identity-H",Hr.call(this,v,C,H,ue)};var Ho,pc=e.lineWidth||.200025,Oa=m.__private__.getLineWidth=m.getLineWidth=function(){return pc},gd=m.__private__.setLineWidth=m.setLineWidth=function(v){return pc=v,K(M(P(v))+" w"),this};m.__private__.setLineDash=it.API.setLineDash=it.API.setLineDashPattern=function(v,C){if(v=v||[],C=C||0,isNaN(C)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(H){return M(P(H))}).join(" "),C=M(P(C)),K("["+v+"] "+C+" d"),this};var vd=m.__private__.getLineHeight=m.getLineHeight=function(){return Fe*Ho};m.__private__.getLineHeight=m.getLineHeight=function(){return Fe*Ho};var yd=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Ho=v),this},wd=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ho};yd(e.lineHeight);var Zi=m.__private__.getHorizontalCoordinate=function(v){return P(v)},xs=m.__private__.getVerticalCoordinate=function(v){return _===x.ADVANCED?v:tt[U].mediaBox.topRightY-tt[U].mediaBox.bottomLeftY-P(v)},Ap=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(v){return M(Zi(v))},Ys=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(v){return M(xs(v))},Pi=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return qn(Pi)},m.__private__.setStrokeColor=m.setDrawColor=function(v,C,H,ee){return Pi=Xn({ch1:v,ch2:C,ch3:H,ch4:ee,pdfColorType:"draw",precision:2}),K(Pi),this};var mc=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return qn(mc)},m.__private__.setFillColor=m.setFillColor=function(v,C,H,ee){return mc=Xn({ch1:v,ch2:C,ch3:H,ch4:ee,pdfColorType:"fill",precision:2}),K(mc),this};var Wo=e.textColor||"0 g",Cp=m.__private__.getTextColor=m.getTextColor=function(){return qn(Wo)};m.__private__.setTextColor=m.setTextColor=function(v,C,H,ee){return Wo=Xn({ch1:v,ch2:C,ch3:H,ch4:ee,pdfColorType:"text",precision:3}),this};var Da=e.charSpace,Pp=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Da||0)};m.__private__.setCharSpace=m.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Da=v,this};var gc=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(v){var C=m.CapJoinStyles[v];if(C===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gc=C,K(C+" J"),this};var vc=0;m.__private__.setLineJoin=m.setLineJoin=function(v){var C=m.CapJoinStyles[v];if(C===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vc=C,K(C+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(M(P(v))+" M"),this},m.GState=Ef,m.setGState=function(v){(v=typeof v=="string"?Qt[Sr[v]]:xd(null,v)).equals(oi)||(K("/"+v.id+" gs"),oi=v)};var xd=function(v,C){if(!v||!Sr[v]){var H=!1;for(var ee in Qt)if(Qt.hasOwnProperty(ee)&&Qt[ee].equals(C)){H=!0;break}if(H)C=Qt[ee];else{var ue="GS"+(Object.keys(Qt).length+1).toString(10);Qt[ue]=C,C.id=ue}return v&&(Sr[v]=C.id),Nt.publish("addGState",C),C}};m.addGState=function(v,C){return xd(v,C),this},m.saveGraphicsState=function(){return K("q"),Br.push({key:gt,size:Fe,color:Wo}),this},m.restoreGraphicsState=function(){K("Q");var v=Br.pop();return gt=v.key,Fe=v.size,Wo=v.color,oi=null,this},m.setCurrentTransformationMatrix=function(v){return K(v.toString()+" cm"),this},m.comment=function(v){return K("#"+v),this};var Ma=function(v,C){var H=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return H},set:function(ye){isNaN(ye)||(H=parseFloat(ye))}});var ee=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(ye){isNaN(ye)||(ee=parseFloat(ye))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(ye){ue=ye.toString()}}),this},yc=function(v,C,H,ee){Ma.call(this,v,C),this.type="rect";var ue=H||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Ae){isNaN(Ae)||(ue=parseFloat(Ae))}});var ye=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(Ae){isNaN(Ae)||(ye=parseFloat(Ae))}}),this},wc=function(){this.page=Zt,this.currentPage=U,this.pages=we.slice(0),this.pagesContext=tt.slice(0),this.x=Pn,this.y=_t,this.matrix=br,this.width=Go(U),this.height=Xs(U),this.outputDestination=Pe,this.id="",this.objectNumber=-1};wc.prototype.restore=function(){Zt=this.page,U=this.currentPage,tt=this.pagesContext,we=this.pages,Pn=this.x,_t=this.y,br=this.matrix,xc(U,this.width),bc(U,this.height),Pe=this.outputDestination};var bd=function(v,C,H,ee,ue){ai.push(new wc),Zt=U=0,we=[],Pn=v,_t=C,br=ue,jr([H,ee])},Ep=function(v){if(Ur[v])ai.pop().restore();else{var C=new wc,H="Xo"+(Object.keys(En).length+1).toString(10);C.id=H,Ur[v]=H,En[H]=C,Nt.publish("addFormObject",C),ai.pop().restore()}};for(var Ba in m.beginFormObject=function(v,C,H,ee,ue){return bd(v,C,H,ee,ue),this},m.endFormObject=function(v){return Ep(v),this},m.doFormObject=function(v,C){var H=En[Ur[v]];return K("q"),K(C.toString()+" cm"),K("/"+H.id+" Do"),K("Q"),this},m.getFormObject=function(v){var C=En[Ur[v]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},m.save=function(v,C){return v=v||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,C.returnPromise===!1?(ca(Ia(ws()),v),typeof ca.unload=="function"&&lt.setTimeout&&setTimeout(ca.unload,911),this):new Promise(function(H,ee){try{var ue=ca(Ia(ws()),v);typeof ca.unload=="function"&&lt.setTimeout&&setTimeout(ca.unload,911),H(ue)}catch(ye){ee(ye.message)}})},it.API)it.API.hasOwnProperty(Ba)&&(Ba==="events"&&it.API.events.length?function(v,C){var H,ee,ue;for(ue=C.length-1;ue!==-1;ue--)H=C[ue][0],ee=C[ue][1],v.subscribe.apply(v,[H].concat(typeof ee=="function"?[ee]:ee))}(Nt,it.API.events):m[Ba]=it.API[Ba]);var Go=m.getPageWidth=function(v){return(tt[v=v||U].mediaBox.topRightX-tt[v].mediaBox.bottomLeftX)/Ie},xc=m.setPageWidth=function(v,C){tt[v].mediaBox.topRightX=C*Ie+tt[v].mediaBox.bottomLeftX},Xs=m.getPageHeight=function(v){return(tt[v=v||U].mediaBox.topRightY-tt[v].mediaBox.bottomLeftY)/Ie},bc=m.setPageHeight=function(v,C){tt[v].mediaBox.topRightY=C*Ie+tt[v].mediaBox.bottomLeftY};return m.internal={pdfEscape:Gt,getStyle:pd,getFont:Np,getFontSize:De,getCharSpace:Pp,getTextColor:Cp,getLineHeight:vd,getLineHeightFactor:wd,getLineWidth:Oa,write:Ye,getHorizontalCoordinate:Zi,getVerticalCoordinate:xs,getCoordinateString:Ap,getVerticalCoordinateString:Ys,collections:{},newObject:mn,newAdditionalObject:yt,newObjectDeferred:ln,newObjectDeferredBegin:$n,getFilters:$r,putStream:qr,events:Nt,scaleFactor:Ie,pageSize:{getWidth:function(){return Go(U)},setWidth:function(v){xc(U,v)},getHeight:function(){return Xs(U)},setHeight:function(v){bc(U,v)}},encryptionOptions:h,encryption:Qn,getEncryptor:xp,output:Ra,getNumberOfPages:mp,pages:we,out:K,f2:X,f3:F,getPageInfo:fd,getPageInfoByObjId:ct,getCurrentPageInfo:bp,getPDFVersion:S,Point:Ma,Rectangle:yc,Matrix:nt,hasHotfix:hd},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Go(U)},set:function(v){xc(U,v)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Xs(U)},set:function(v){bc(U,v)},enumerable:!0,configurable:!0}),Wr.call(m,Ce),gt="F1",Ci(i,n),Nt.publish("initialized"),m}dl.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},dl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},dl.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},dl.prototype.processOwnerPassword=function(e,t){return Pg(Cg(t).substr(0,5),e)},dl.prototype.encryptor=function(e,t){var n=Cg(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Pg(n,r)}},Ef.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Ft(e)!==Ft(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},it.API={events:[]},it.version="3.0.1";var hn=it.API,_v=1,Pa=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ol=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dt=function(e){return e.toFixed(2)},fo=function(e){return e.toFixed(5)};hn.__acroform__={};var Or=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},sw=function(e){return e*_v},rs=function(e){var t=new v4,n=Ke.internal.getHeight(e)||0,r=Ke.internal.getWidth(e)||0;return t.BBox=[0,0,Number(dt(r)),Number(dt(n))],t},zT=hn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},$T=hn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},qT=hn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},xn=hn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qT(e,t-1)},bn=hn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zT(e,t-1)},Sn=hn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $T(e,t-1)},VT=hn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(dt(l.lowerLeft_X)),Number(dt(l.lowerLeft_Y)),Number(dt(l.upperRight_X)),Number(dt(l.upperRight_Y))]},HT=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Eg(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+dt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=rs(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},Eg=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(F){return F.split(`
`)}):i.map(function(F){return[F]});var s=n,o=Ke.internal.getHeight(e)||0;o=o<0?-o:o;var a=Ke.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(F,P,J){if(F+1<i.length){var V=P+" "+i[F+1][0];return wh(V,e,J).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var u,h,f=wh("3",e,s).height,g=e.multiline?o-s:(o-f)/2,m=g+=2,b=0,S=0,k=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+wh(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var y="",x=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var E=!1;if(i[_].length!==1&&k!==i[_].length-1){if((f+2)*(x+2)+2>o)continue e;y+=i[_][k],E=!0,S=_,_--}else{y=(y+=i[_][k]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var D=parseInt(_),q=l(D,y,s),M=_>=i.length-1;if(q&&!M){y+=" ",k=0;continue}if(q||M){if(M)S=D;else if(e.multiline&&(f+2)*(x+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(x+2)+2>o)continue e;S=D}}for(var R="",Q=b;Q<=S;Q++){var X=i[Q];if(e.multiline){if(Q===S){R+=X[k]+" ",k=(k+1)%X.length;continue}if(Q===b){R+=X[X.length-1]+" ";continue}}R+=X[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,h=wh(R,e,s).width,e.textAlign){case"right":u=a-h-2;break;case"center":u=(a-h)/2;break;case"left":default:u=2}t+=dt(u)+" "+dt(m)+` Td
`,t+="("+Pa(R)+`) Tj
`,t+=-dt(u)+` 0 Td
`,m=-(s+2),h=0,b=E?S:S+1,x++,y=""}break}return r.text=t,r.fontSize=s,r},wh=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},WT={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},GT=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},KT=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Ft(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},JT=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Gi.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(WT)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_v=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new y4,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&GT(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=VT(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ke.createDefaultAppearanceStream(a),Ft(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=HT(a);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var f="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var m=a.appearanceStreamContent[g];if(f+="/"+g+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var b=m[o];typeof b=="function"&&(b=b.call(i,a)),f+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=m)=="function"&&(b=b.call(i,a)),f+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&KT(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},g4=hn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Ft(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Pa(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Jm=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Pa(r(e))+")"},os=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};os.prototype.toString=function(){return this.objId+" 0 R"},os.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},os.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:g4(i,this.objId,this.scope)}):i instanceof os?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var v4=function(){os.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Or(v4,os);var y4=function(){os.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Pa(n(e))+")"}},set:function(n){e=n}})};Or(y4,os);var Gi=function e(){os.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xn(t,3)},set:function(y){y?this.F=bn(t,3):this.F=Sn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Lf)return;s="FieldObject"+e.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Pa(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/_v:u},set:function(y){u=y}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(y){h=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Lf||this instanceof wa))return Jm(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Un?g:Jm(g,this.objId,this.scope)},set:function(y){y=y.toString(),g=this instanceof Un?y:y.substr(0,1)==="("?ol(y.substr(1,y.length-2)):ol(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Un?ol(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof Un?"/"+y:y}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Un?m:Jm(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof Un?y:y.substr(0,1)==="("?ol(y.substr(1,y.length-2)):ol(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Un?ol(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Un?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(y){y=!!y,S=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(y){b=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,1)},set:function(y){y?this.Ff=bn(this.Ff,1):this.Ff=Sn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,2)},set:function(y){y?this.Ff=bn(this.Ff,2):this.Ff=Sn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,3)},set:function(y){y?this.Ff=bn(this.Ff,3):this.Ff=Sn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');k=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(k){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Or(Gi,os);var Ml=function(){Gi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return g4(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,18)},set:function(n){n?this.Ff=bn(this.Ff,18):this.Ff=Sn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=bn(this.Ff,19):this.Ff=Sn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,20)},set:function(n){n?(this.Ff=bn(this.Ff,20),t.sort()):this.Ff=Sn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,22)},set:function(n){n?this.Ff=bn(this.Ff,22):this.Ff=Sn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,23)},set:function(n){n?this.Ff=bn(this.Ff,23):this.Ff=Sn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,27)},set:function(n){n?this.Ff=bn(this.Ff,27):this.Ff=Sn(this.Ff,27)}}),this.hasAppearanceStream=!1};Or(Ml,Gi);var Bl=function(){Ml.call(this),this.fontName="helvetica",this.combo=!1};Or(Bl,Ml);var Ul=function(){Bl.call(this),this.combo=!0};Or(Ul,Bl);var qh=function(){Ul.call(this),this.edit=!0};Or(qh,Ul);var Un=function(){Gi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,15)},set:function(n){n?this.Ff=bn(this.Ff,15):this.Ff=Sn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,16)},set:function(n){n?this.Ff=bn(this.Ff,16):this.Ff=Sn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,17)},set:function(n){n?this.Ff=bn(this.Ff,17):this.Ff=Sn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,26)},set:function(n){n?this.Ff=bn(this.Ff,26):this.Ff=Sn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Pa(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ft(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Or(Un,Gi);var Vh=function(){Un.call(this),this.pushButton=!0};Or(Vh,Un);var zl=function(){Un.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Or(zl,Un);var Lf=function(){var e,t;Gi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Pa(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Ft(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ke.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Or(Lf,Gi),zl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},zl.prototype.createOption=function(e){var t=new Lf;return t.Parent=this,t.optionName=e,this.Kids.push(t),YT.call(this.scope,t),t};var Hh=function(){Un.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ke.CheckBox.createAppearanceStream()};Or(Hh,Un);var wa=function(){Gi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,13)},set:function(t){t?this.Ff=bn(this.Ff,13):this.Ff=Sn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,21)},set:function(t){t?this.Ff=bn(this.Ff,21):this.Ff=Sn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,23)},set:function(t){t?this.Ff=bn(this.Ff,23):this.Ff=Sn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,24)},set:function(t){t?this.Ff=bn(this.Ff,24):this.Ff=Sn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,25)},set:function(t){t?this.Ff=bn(this.Ff,25):this.Ff=Sn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,26)},set:function(t){t?this.Ff=bn(this.Ff,26):this.Ff=Sn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Or(wa,Gi);var Wh=function(){wa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,14)},set:function(e){e?this.Ff=bn(this.Ff,14):this.Ff=Sn(this.Ff,14)}}),this.password=!0};Or(Wh,wa);var Ke={CheckBox:{createAppearanceStream:function(){return{N:{On:Ke.CheckBox.YesNormal},D:{On:Ke.CheckBox.YesPushDown,Off:Ke.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=Eg(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+dt(Ke.internal.getWidth(e))+" "+dt(Ke.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+dt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=rs(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Ke.internal.getHeight(e),o=Ke.internal.getWidth(e),a=Eg(e,e.caption);return i.push("1 g"),i.push("0 0 "+dt(o)+" "+dt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+dt(o-1)+" "+dt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+dt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+dt(Ke.internal.getWidth(e))+" "+dt(Ke.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ke.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ke.RadioButton.Circle.YesNormal,t.D[e]=Ke.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=Ke.internal.getWidth(e)<=Ke.internal.getHeight(e)?Ke.internal.getWidth(e)/4:Ke.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Ke.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+fo(Ke.internal.getWidth(e)/2)+" "+fo(Ke.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=Ke.internal.getWidth(e)<=Ke.internal.getHeight(e)?Ke.internal.getWidth(e)/4:Ke.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ke.internal.Bezier_C).toFixed(5)),o=Number((r*Ke.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+fo(Ke.internal.getWidth(e)/2)+" "+fo(Ke.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+fo(Ke.internal.getWidth(e)/2)+" "+fo(Ke.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=Ke.internal.getWidth(e)<=Ke.internal.getHeight(e)?Ke.internal.getWidth(e)/4:Ke.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ke.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+fo(Ke.internal.getWidth(e)/2)+" "+fo(Ke.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ke.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ke.RadioButton.Cross.YesNormal,t.D[e]=Ke.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=Ke.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+dt(Ke.internal.getWidth(e)-2)+" "+dt(Ke.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(dt(r.x1.x)+" "+dt(r.x1.y)+" m"),n.push(dt(r.x2.x)+" "+dt(r.x2.y)+" l"),n.push(dt(r.x4.x)+" "+dt(r.x4.y)+" m"),n.push(dt(r.x3.x)+" "+dt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=Ke.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+dt(Ke.internal.getWidth(e))+" "+dt(Ke.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+dt(Ke.internal.getWidth(e)-2)+" "+dt(Ke.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(dt(n.x1.x)+" "+dt(n.x1.y)+" m"),r.push(dt(n.x2.x)+" "+dt(n.x2.y)+" l"),r.push(dt(n.x4.x)+" "+dt(n.x4.y)+" m"),r.push(dt(n.x3.x)+" "+dt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+dt(Ke.internal.getWidth(e))+" "+dt(Ke.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ke.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ke.internal.getWidth(e),n=Ke.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ke.internal.getWidth=function(e){var t=0;return Ft(e)==="object"&&(t=sw(e.Rect[2])),t},Ke.internal.getHeight=function(e){var t=0;return Ft(e)==="object"&&(t=sw(e.Rect[3])),t};var YT=hn.addField=function(e){if(JT(this,e),!(e instanceof Gi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};hn.AcroFormChoiceField=Ml,hn.AcroFormListBox=Bl,hn.AcroFormComboBox=Ul,hn.AcroFormEditBox=qh,hn.AcroFormButton=Un,hn.AcroFormPushButton=Vh,hn.AcroFormRadioButton=zl,hn.AcroFormCheckBox=Hh,hn.AcroFormTextField=wa,hn.AcroFormPasswordField=Wh,hn.AcroFormAppearance=Ke,hn.AcroForm={ChoiceField:Ml,ListBox:Bl,ComboBox:Ul,EditBox:qh,Button:Un,PushButton:Vh,RadioButton:zl,CheckBox:Hh,TextField:wa,PasswordField:Wh,Appearance:Ke},it.AcroForm={ChoiceField:Ml,ListBox:Bl,ComboBox:Ul,EditBox:qh,Button:Un,PushButton:Vh,RadioButton:zl,CheckBox:Hh,TextField:wa,PasswordField:Wh,Appearance:Ke};function w4(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(F,P){var J,V,ae,ce,le,W=t;if((P=P||t)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(q(F))for(le in n)for(ae=n[le],J=0;J<ae.length;J+=1){for(ce=!0,V=0;V<ae[J].length;V+=1)if(ae[J][V]!==void 0&&ae[J][V]!==F[V]){ce=!1;break}if(ce===!0){W=le;break}}else for(le in n)for(ae=n[le],J=0;J<ae.length;J+=1){for(ce=!0,V=0;V<ae[J].length;V+=1)if(ae[J][V]!==void 0&&ae[J][V]!==F.charCodeAt(V)){ce=!1;break}if(ce===!0){W=le;break}}return W===t&&P!==t&&(W=P),W},i=function F(P){for(var J=this.internal.write,V=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:P.width}),ce.push({key:"Height",value:P.height}),P.colorSpace===k.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===k.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var le="",W=0,re=P.transparency.length;W<re;W++)le+=P.transparency[W]+" "+P.transparency[W]+" ";ce.push({key:"Mask",value:"["+le+"]"})}P.sMask!==void 0&&ce.push({key:"SMask",value:P.objectId+1+" 0 R"});var Y=P.filter!==void 0?["/"+P.filter]:void 0;if(V({data:P.data,additionalKeyValues:ce,alreadyAppliedFilters:Y,objectId:P.objectId}),J("endobj"),"sMask"in P&&P.sMask!==void 0){var me="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,N={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:me,data:P.sMask};"filter"in P&&(N.filter=P.filter),F.call(this,N)}if(P.colorSpace===k.INDEXED){var U=this.internal.newObject();V({data:R(new Uint8Array(P.palette)),objectId:U}),J("endobj")}},s=function(){var F=this.internal.collections.addImage_images;for(var P in F)i.call(this,F[P])},o=function(){var F,P=this.internal.collections.addImage_images,J=this.internal.write;for(var V in P)J("/I"+(F=P[V]).index,F.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var F=this.internal.collections.addImage_images;return a.call(this),F},u=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(F){return typeof e["process"+F.toUpperCase()]=="function"},f=function(F){return Ft(F)==="object"&&F.nodeType===1},g=function(F,P){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var J=""+F.getAttribute("src");if(J.indexOf("data:image/")===0)return _u(unescape(J).split("base64,").pop());var V=e.loadFile(J,!0);if(V!==void 0)return V}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var ae;switch(P){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;case"JPEG":case"JPG":default:ae="image/jpeg"}return _u(F.toDataURL(ae,1).split("base64,").pop())}},m=function(F){var P=this.internal.collections.addImage_images;if(P){for(var J in P)if(F===P[J].alias)return P[J]}},b=function(F,P,J){return F||P||(F=-96,P=-96),F<0&&(F=-1*J.width*72/F/this.internal.scaleFactor),P<0&&(P=-1*J.height*72/P/this.internal.scaleFactor),F===0&&(F=P*J.width/J.height),P===0&&(P=F*J.height/J.width),[F,P]},S=function(F,P,J,V,ae,ce){var le=b.call(this,J,V,ae),W=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,Y=l.call(this);if(J=le[0],V=le[1],Y[ae.index]=ae,ce){ce*=Math.PI/180;var me=Math.cos(ce),N=Math.sin(ce),U=function(G){return G.toFixed(4)},z=[U(me),U(N),U(-1*N),U(me),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,W(F),re(P+V),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([W(J),"0","0",W(V),"0","0","cm"].join(" "))):this.internal.write([W(J),"0","0",W(V),W(F),re(P+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(F){var P,J,V=0;if(typeof F=="string")for(J=F.length,P=0;P<J;P++)V=(V<<5)-V+F.charCodeAt(P),V|=0;else if(q(F))for(J=F.byteLength/2,P=0;P<J;P++)V=(V<<5)-V+F[P],V|=0;return V},_=e.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var P=!0;return F.length===0&&(P=!1),F.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(P=!1),P},E=e.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var P=F.indexOf(",");return P<0?null:F.substring(0,P).trim().endsWith("base64")?F.substring(P+1):null},D=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(F){return D()&&F instanceof ArrayBuffer};var q=e.__addimage__.isArrayBufferView=function(F){return D()&&typeof Uint32Array<"u"&&(F instanceof Int8Array||F instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array)},M=e.__addimage__.binaryStringToUint8Array=function(F){for(var P=F.length,J=new Uint8Array(P),V=0;V<P;V++)J[V]=F.charCodeAt(V);return J},R=e.__addimage__.arrayBufferToBinaryString=function(F){for(var P="",J=q(F)?F:new Uint8Array(F),V=0;V<J.length;V+=8192)P+=String.fromCharCode.apply(null,J.subarray(V,V+8192));return P};e.addImage=function(){var F,P,J,V,ae,ce,le,W,re;if(typeof arguments[1]=="number"?(P=t,J=arguments[1],V=arguments[2],ae=arguments[3],ce=arguments[4],le=arguments[5],W=arguments[6],re=arguments[7]):(P=arguments[1],J=arguments[2],V=arguments[3],ae=arguments[4],ce=arguments[5],le=arguments[6],W=arguments[7],re=arguments[8]),Ft(F=arguments[0])==="object"&&!f(F)&&"imageData"in F){var Y=F;F=Y.imageData,P=Y.format||P||t,J=Y.x||J||0,V=Y.y||V||0,ae=Y.w||Y.width||ae,ce=Y.h||Y.height||ce,le=Y.alias||le,W=Y.compression||W,re=Y.rotation||Y.angle||re}var me=this.internal.getFilters();if(W===void 0&&me.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(J)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var N=Q.call(this,F,P,le,W);return S.call(this,J,V,ae,ce,N,re),this};var Q=function(F,P,J,V){var ae,ce,le;if(typeof F=="string"&&r(F)===t){F=unescape(F);var W=X(F,!1);(W!==""||(W=e.loadFile(F,!0))!==void 0)&&(F=W)}if(f(F)&&(F=g(F,P)),P=r(F,P),!h(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((le=J)==null||le.length===0)&&(J=function(re){return typeof re=="string"||q(re)?x(re):q(re.data)?x(re.data):null}(F)),(ae=m.call(this,J))||(D()&&(F instanceof Uint8Array||P==="RGBA"||(ce=F,F=M(F))),ae=this["process"+P.toUpperCase()](F,u.call(this),J,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in e.image_compression?re:y.NONE}(V),ce)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},X=e.__addimage__.convertBase64ToBinaryString=function(F,P){P=typeof P!="boolean"||P;var J,V="";if(typeof F=="string"){var ae;J=(ae=E(F))!==null&&ae!==void 0?ae:F;try{V=_u(J)}catch(ce){if(P)throw _(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(F){var P,J,V="";if(f(F)&&(F=g(F)),typeof F=="string"&&r(F)===t&&((V=X(F,!1))===""&&(V=e.loadFile(F)||""),F=V),J=r(F),!h(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(!D()||F instanceof Uint8Array||(F=M(F)),!(P=this["process"+J.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=J,P}})(it.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};it.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,h=!1,f=0;f<u.length&&!h;f++)switch((r=u[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var m=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(S.objId),x=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(y(r.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(y(x))+") >>",S.content=s;var _=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(S.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var E=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var D=this.annotations._nameMap[r.options.name];r.options.pageNumber=D.page,r.options.top=D.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var q=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+q+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var h=this.splitTextToSize(n,a).length;o=Math.ceil(u*h)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(it.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(S){return t[S.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},a=e.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&i.indexOf(S.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(S){var k=0,y=n,x="",_=0;for(k=0;k<S.length;k+=1)y[S.charCodeAt(k)]!==void 0?(_++,typeof(y=y[S.charCodeAt(k)])=="number"&&(x+=String.fromCharCode(y),y=n,_=0),k===S.length-1&&(y=n,x+=S.charAt(k-(_-1)),k-=_-1,_=0)):(y=n,x+=S.charAt(k-_),k-=_,_=0);return x};e.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(S,k,y){return o(S)?s(S)===!1?-1:!u(S)||!o(k)&&!o(y)||!o(y)&&a(k)||a(S)&&!o(k)||a(S)&&l(k)||a(S)&&a(k)?0:h(S)&&o(k)&&!a(k)&&o(y)&&u(y)?3:a(S)||!o(y)?1:2:-1},m=function(S){var k=0,y=0,x=0,_="",E="",D="",q=(S=S||"").split("\\s+"),M=[];for(k=0;k<q.length;k+=1){for(M.push(""),y=0;y<q[k].length;y+=1)_=q[k][y],E=q[k][y-1],D=q[k][y+1],o(_)?(x=g(_,E,D),M[k]+=x!==-1?String.fromCharCode(t[_.charCodeAt(0)][x]):_):M[k]+=_;M[k]=f(M[k])}return M.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var S,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(k)){var x=0;for(y=[],x=0;x<k.length;x+=1)Array.isArray(k[x])?y.push([m(k[x][0]),k[x][1],k[x][2]]):y.push([m(k[x])]);S=y}else S=m(k);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};e.events.push(["preProcessText",b])}(it.API),it.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(it.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(S){l=S}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(S){b=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){r.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,m=0,b=0,S=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,E){return _.concat(k.splitTextToSize(E,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)m<(S=this.getStringUnitWidth(l[x],{font:f})*h)&&(m=S);return m!==0&&(b=l.length),{w:m/=g,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,h,f,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var m,b,S,k,y=[],x=[],_=[],E={},D={},q=[],M=[],R=(g=g||{}).autoSize||!1,Q=g.printHeaders!==!1,X=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,F=g.margins||Object.assign({width:this.getPageWidth()},t),P=typeof g.padding=="number"?g.padding:3,J=g.headerBackgroundColor||"#c8c8c8",V=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=V,this.setFontSize(X),f==null)x=y=Object.keys(h[0]),_=y.map(function(){return"left"});else if(Array.isArray(f)&&Ft(f[0])==="object")for(y=f.map(function(Y){return Y.name}),x=f.map(function(Y){return Y.prompt||Y.name||""}),_=f.map(function(Y){return Y.align||"left"}),m=0;m<f.length;m+=1)D[f[m].name]=f[m].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=y=f,_=y.map(function(){return"left"}));if(R||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<y.length;m+=1){for(E[k=y[m]]=h.map(function(Y){return Y[k]}),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(x[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=E[k],this.setFont(void 0,"normal"),S=0;S<b.length;S+=1)q.push(this.getTextDimensions(b[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[k]=Math.max.apply(null,q)+P+P,q=[]}if(Q){var ae={};for(m=0;m<y.length;m+=1)ae[y[m]]={},ae[y[m]].text=x[m],ae[y[m]].align=_[m];var ce=a.call(this,ae,D);M=y.map(function(Y){return new s(l,u,D[Y],ce,ae[Y].text,void 0,ae[Y].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var le=f.reduce(function(Y,me){return Y[me.name]=me.align,Y},{});for(m=0;m<h.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:h[m]},this);var W=a.call(this,h[m],D);for(S=0;S<y.length;S+=1){var re=h[m][y[S]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:S,data:re},this),o.call(this,new s(l,u,D[y[S]],W,re,m+2,le[y[S]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var b=l[m];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/g+h+h},this).reduce(function(m,b){return Math.max(m,b)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(it.API);var x4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},b4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Lg=w4(b4),S4=[100,200,300,400,500,600,700,800,900],XT=w4(S4);function Tg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return x4[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof Lg[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function ow(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var QT={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},aw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function lw(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ZT(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},QT,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=Tg(t[a])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+lw(s)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var h=Lg[l],f=h<=Lg.normal?-1:1,g=ow(u,b4,h,f);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,o),o=function(l,u){if(u[l])return u[l];for(var h=x4[l],f=0;f<h.length;++f)if(u[h[f]])return u[h[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var h=XT[l],f=ow(u,S4,h,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+lw(s)+"'.");return o}function cw(e){return e.trimLeft()}function e7(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function t7(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var xh,uw,dw,Ym=["times"];(function(e){var t,n,r,i,s,o,a,l,u,h=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new l,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new o,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new o,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new h}]);var f=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=N;Object.defineProperty(this,"pdf",{get:function(){return U}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(ve){z=!!ve}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(ve){G=!!ve}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ve){isNaN(ve)||(Z=ve)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(ve){isNaN(ve)||(se=ve)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ve){var K;typeof ve=="number"?K=[ve,ve,ve,ve]:((K=new Array(4))[0]=ve[0],K[1]=ve.length>=2?ve[1]:K[0],K[2]=ve.length>=3?ve[2]:K[0],K[3]=ve.length>=4?ve[3]:K[1]),u.margin=K}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ve){he=ve}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ve){de=ve}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(ve){xe=ve}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ve){ve instanceof h&&(u=ve)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ve){u.path=ve}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(ve){we=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var K;K=g(ve),this.ctx.fillStyle=K.style,this.ctx.isFillTransparent=K.a===0,this.ctx.fillOpacity=K.a,this.pdf.setFillColor(K.r,K.g,K.b,{a:K.a}),this.pdf.setTextColor(K.r,K.g,K.b,{a:K.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var K=g(ve);this.ctx.strokeStyle=K.style,this.ctx.isStrokeTransparent=K.a===0,this.ctx.strokeOpacity=K.a,K.a===0?this.pdf.setDrawColor(255,255,255):(K.a,this.pdf.setDrawColor(K.r,K.g,K.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Te=null;function Pe(ve,K){if(Te===null){var Ye=function(Ge){var Ce=[];return Object.keys(Ge).forEach(function(Fe){Ge[Fe].forEach(function(Oe){var De=null;switch(Oe){case"bold":De={family:Fe,weight:"bold"};break;case"italic":De={family:Fe,style:"italic"};break;case"bolditalic":De={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":De={family:Fe}}De!==null&&(De.ref={name:Fe,style:Oe},Ce.push(De))})}),Ce}(ve.getFontList());Te=function(Ge){for(var Ce={},Fe=0;Fe<Ge.length;++Fe){var Oe=Tg(Ge[Fe]),De=Oe.family,He=Oe.stretch,st=Oe.style,Ee=Oe.weight;Ce[De]=Ce[De]||{},Ce[De][He]=Ce[De][He]||{},Ce[De][He][st]=Ce[De][He][st]||{},Ce[De][He][st][Ee]=Oe}return Ce}(Ye.concat(K))}return Te}var et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(ve){Te=null,et=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var K;if(this.ctx.font=ve,(K=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var Ye=K[1];K[2];var Ge=K[3],Ce=K[4];K[5];var Fe=K[6],Oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ce)[2];Ce=Math.floor(Oe==="px"?parseFloat(Ce)*this.pdf.internal.scaleFactor:Oe==="em"?parseFloat(Ce)*this.pdf.getFontSize():parseFloat(Ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ce);var De=function(at){var gt,Ie,Pn=[],_t=at.trim();if(_t==="")return Ym;if(_t in aw)return[aw[_t]];for(;_t!=="";){switch(Ie=null,gt=(_t=cw(_t)).charAt(0)){case'"':case"'":Ie=e7(_t.substring(1),gt);break;default:Ie=t7(_t)}if(Ie===null||(Pn.push(Ie[0]),(_t=cw(Ie[1]))!==""&&_t.charAt(0)!==","))return Ym;_t=_t.replace(/^,/,"")}return Pn}(Fe);if(this.fontFaces){var He=ZT(Pe(this.pdf,this.fontFaces),De.map(function(at){return{family:at,stretch:"normal",weight:Ge,style:Ye}}));this.pdf.setFont(He.ref.name,He.ref.style)}else{var st="";(Ge==="bold"||parseInt(Ge,10)>=700||Ye==="bold")&&(st="bold"),Ye==="italic"&&(st+="italic"),st.length===0&&(st="normal");for(var Ee="",ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qe=0;Qe<De.length;Qe++){if(this.pdf.internal.getFont(De[Qe],st,{noFallback:!0,disableWarning:!0})!==void 0){Ee=De[Qe];break}if(st==="bolditalic"&&this.pdf.internal.getFont(De[Qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ee=De[Qe],st="bold";else if(this.pdf.internal.getFont(De[Qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ee=De[Qe],st="normal";break}}if(Ee===""){for(var St=0;St<De.length;St++)if(ze[De[St]]){Ee=ze[De[St]];break}}Ee=Ee===""?"Times":Ee,this.pdf.setFont(Ee,st)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};f.prototype.setLineDash=function(N){this.lineDash=N},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){E.call(this,"fill",!1)},f.prototype.stroke=function(){E.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(N,U){if(isNaN(N)||isNaN(U))throw $t.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new o(N,U));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(N,U)},f.prototype.closePath=function(){var N=new o(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Ft(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){N=new o(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(N.x,N.y)},f.prototype.lineTo=function(N,U){if(isNaN(N)||isNaN(U))throw $t.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new o(N,U));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},f.prototype.quadraticCurveTo=function(N,U,z,G){if(isNaN(z)||isNaN(G)||isNaN(N)||isNaN(U))throw $t.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new o(z,G)),se=this.ctx.transform.applyToPoint(new o(N,U));this.path.push({type:"qct",x1:se.x,y1:se.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},f.prototype.bezierCurveTo=function(N,U,z,G,Z,se){if(isNaN(Z)||isNaN(se)||isNaN(N)||isNaN(U)||isNaN(z)||isNaN(G))throw $t.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(Z,se)),de=this.ctx.transform.applyToPoint(new o(N,U)),xe=this.ctx.transform.applyToPoint(new o(z,G));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:xe.x,y2:xe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},f.prototype.arc=function(N,U,z,G,Z,se){if(isNaN(N)||isNaN(U)||isNaN(z)||isNaN(G)||isNaN(Z))throw $t.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(N,U));N=he.x,U=he.y;var de=this.ctx.transform.applyToPoint(new o(0,z)),xe=this.ctx.transform.applyToPoint(new o(0,0));z=Math.sqrt(Math.pow(de.x-xe.x,2)+Math.pow(de.y-xe.y,2))}Math.abs(Z-G)>=2*Math.PI&&(G=0,Z=2*Math.PI),this.path.push({type:"arc",x:N,y:U,radius:z,startAngle:G,endAngle:Z,counterclockwise:se})},f.prototype.arcTo=function(N,U,z,G,Z){throw new Error("arcTo not implemented.")},f.prototype.rect=function(N,U,z,G){if(isNaN(N)||isNaN(U)||isNaN(z)||isNaN(G))throw $t.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,U),this.lineTo(N+z,U),this.lineTo(N+z,U+G),this.lineTo(N,U+G),this.lineTo(N,U),this.lineTo(N+z,U),this.lineTo(N,U)},f.prototype.fillRect=function(N,U,z,G){if(isNaN(N)||isNaN(U)||isNaN(z)||isNaN(G))throw $t.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,U,z,G),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},f.prototype.strokeRect=function(N,U,z,G){if(isNaN(N)||isNaN(U)||isNaN(z)||isNaN(G))throw $t.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(N,U,z,G),this.stroke())},f.prototype.clearRect=function(N,U,z,G){if(isNaN(N)||isNaN(U)||isNaN(z)||isNaN(G))throw $t.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,U,z,G))},f.prototype.save=function(N){N=typeof N!="boolean"||N;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},f.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(U),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(N){var U,z,G,Z;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))U=0,z=0,G=0,Z=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(se!==null)U=parseInt(se[1]),z=parseInt(se[2]),G=parseInt(se[3]),Z=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)U=parseInt(se[1]),z=parseInt(se[2]),G=parseInt(se[3]),Z=parseFloat(se[4]);else{if(Z=1,typeof N=="string"&&N.charAt(0)!=="#"){var he=new f4(N);N=he.ok?he.toHex():"#000000"}N.length===4?(U=N.substring(1,2),U+=U,z=N.substring(2,3),z+=z,G=N.substring(3,4),G+=G):(U=N.substring(1,3),z=N.substring(3,5),G=N.substring(5,7)),U=parseInt(U,16),z=parseInt(z,16),G=parseInt(G,16)}}return{r:U,g:z,b:G,a:Z,style:N}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(N,U,z,G){if(isNaN(U)||isNaN(z)||typeof N!="string")throw $t.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!m.call(this)){var Z=W(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;P.call(this,{text:N,x:U,y:z,scale:se,angle:Z,align:this.textAlign,maxWidth:G})}},f.prototype.strokeText=function(N,U,z,G){if(isNaN(U)||isNaN(z)||typeof N!="string")throw $t.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){G=isNaN(G)?void 0:G;var Z=W(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;P.call(this,{text:N,x:U,y:z,scale:se,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:G})}},f.prototype.measureText=function(N){if(typeof N!="string")throw $t.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,z=this.pdf.internal.scaleFactor,G=U.internal.getFontSize(),Z=U.getStringUnitWidth(N)*G/U.internal.scaleFactor,se=function(he){var de=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new se({width:Z*=Math.round(96*z/72*1e4)/1e4})},f.prototype.scale=function(N,U){if(isNaN(N)||isNaN(U))throw $t.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(N,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.rotate=function(N){if(isNaN(N))throw $t.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new l(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.translate=function(N,U){if(isNaN(N)||isNaN(U))throw $t.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,N,U);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.transform=function(N,U,z,G,Z,se){if(isNaN(N)||isNaN(U)||isNaN(z)||isNaN(G)||isNaN(Z)||isNaN(se))throw $t.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(N,U,z,G,Z,se);this.ctx.transform=this.ctx.transform.multiply(he)},f.prototype.setTransform=function(N,U,z,G,Z,se){N=isNaN(N)?1:N,U=isNaN(U)?0:U,z=isNaN(z)?0:z,G=isNaN(G)?1:G,Z=isNaN(Z)?0:Z,se=isNaN(se)?0:se,this.ctx.transform=new l(N,U,z,G,Z,se)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(N,U,z,G,Z,se,he,de,xe){var we=this.pdf.getImageProperties(N),Te=1,Pe=1,et=1,ve=1;G!==void 0&&de!==void 0&&(et=de/G,ve=xe/Z,Te=we.width/G*de/G,Pe=we.height/Z*xe/Z),se===void 0&&(se=U,he=z,U=0,z=0),G!==void 0&&de===void 0&&(de=G,xe=Z),G===void 0&&de===void 0&&(de=we.width,xe=we.height);for(var K,Ye=this.ctx.transform.decompose(),Ge=W(Ye.rotate.shx),Ce=new l,Fe=(Ce=(Ce=(Ce=Ce.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new a(se-U*et,he-z*ve,G*Te,Z*Pe)),Oe=k.call(this,Fe),De=[],He=0;He<Oe.length;He+=1)De.indexOf(Oe[He])===-1&&De.push(Oe[He]);if(_(De),this.autoPaging)for(var st=De[0],Ee=De[De.length-1],ze=st;ze<Ee+1;ze++){this.pdf.setPage(ze);var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=ze===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=ze===1?0:at+(ze-2)*gt;if(this.ctx.clip_path.length!==0){var Pn=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(K,this.posX+this.margin[3],-Ie+St+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Pn}var _t=JSON.parse(JSON.stringify(Fe));_t=x([_t],this.posX+this.margin[3],-Ie+St+this.ctx.prevPageLastElemOffset)[0];var br=(ze>st||ze<Ee)&&S.call(this);br&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,gt,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,Ge),br&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Ge)};var k=function(N,U,z){var G=[];U=U||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":G.push(Math.floor((N.y+Z)/z)+1);break;case"arc":G.push(Math.floor((N.y+Z-N.radius)/z)+1),G.push(Math.floor((N.y+Z+N.radius)/z)+1);break;case"qct":var se=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);G.push(Math.floor((se.y+Z)/z)+1),G.push(Math.floor((se.y+se.h+Z)/z)+1);break;case"bct":var he=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);G.push(Math.floor((he.y+Z)/z)+1),G.push(Math.floor((he.y+he.h+Z)/z)+1);break;case"rect":G.push(Math.floor((N.y+Z)/z)+1),G.push(Math.floor((N.y+N.h+Z)/z)+1)}for(var de=0;de<G.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<G[de];)y.call(this);return G},y=function(){var N=this.fillStyle,U=this.strokeStyle,z=this.font,G=this.lineCap,Z=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=U,this.font=z,this.lineCap=G,this.lineWidth=Z,this.lineJoin=se},x=function(N,U,z){for(var G=0;G<N.length;G++)switch(N[G].type){case"bct":N[G].x2+=U,N[G].y2+=z;case"qct":N[G].x1+=U,N[G].y1+=z;case"mt":case"lt":case"arc":default:N[G].x+=U,N[G].y+=z}return N},_=function(N){return N.sort(function(U,z){return U-z})},E=function(N,U){for(var z,G,Z=this.fillStyle,se=this.strokeStyle,he=this.lineCap,de=this.lineWidth,xe=Math.abs(de*this.ctx.transform.scaleX),we=this.lineJoin,Te=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),et=[],ve=0;ve<Pe.length;ve++)if(Pe[ve].x!==void 0)for(var K=k.call(this,Pe[ve]),Ye=0;Ye<K.length;Ye+=1)et.indexOf(K[Ye])===-1&&et.push(K[Ye]);for(var Ge=0;Ge<et.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<et[Ge];)y.call(this);if(_(et),this.autoPaging)for(var Ce=et[0],Fe=et[et.length-1],Oe=Ce;Oe<Fe+1;Oe++){this.pdf.setPage(Oe),this.fillStyle=Z,this.strokeStyle=se,this.lineCap=he,this.lineWidth=xe,this.lineJoin=we;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Oe===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Oe===1?0:st+(Oe-2)*Ee;if(this.ctx.clip_path.length!==0){var Qe=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(z,this.posX+this.margin[3],-ze+He+this.ctx.prevPageLastElemOffset),D.call(this,N,!0),this.path=Qe}if(G=JSON.parse(JSON.stringify(Te)),this.path=x(G,this.posX+this.margin[3],-ze+He+this.ctx.prevPageLastElemOffset),U===!1||Oe===0){var St=(Oe>Ce||Oe<Fe)&&S.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,Ee,null).clip().discardPath()),D.call(this,N,U),St&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=xe,D.call(this,N,U),this.lineWidth=de;this.path=Te},D=function(N,U){if((N!=="stroke"||U||!b.call(this))&&(N==="stroke"||U||!m.call(this))){for(var z,G,Z=[],se=this.path,he=0;he<se.length;he++){var de=se[he];switch(de.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:de,deltas:[],abs:[]});break;case"lt":var xe=Z.length;if(se[he-1]&&!isNaN(se[he-1].x)&&(z=[de.x-se[he-1].x,de.y-se[he-1].y],xe>0)){for(;xe>=0;xe--)if(Z[xe-1].close!==!0&&Z[xe-1].begin!==!0){Z[xe-1].deltas.push(z),Z[xe-1].abs.push(de);break}}break;case"bct":z=[de.x1-se[he-1].x,de.y1-se[he-1].y,de.x2-se[he-1].x,de.y2-se[he-1].y,de.x-se[he-1].x,de.y-se[he-1].y],Z[Z.length-1].deltas.push(z);break;case"qct":var we=se[he-1].x+2/3*(de.x1-se[he-1].x),Te=se[he-1].y+2/3*(de.y1-se[he-1].y),Pe=de.x+2/3*(de.x1-de.x),et=de.y+2/3*(de.y1-de.y),ve=de.x,K=de.y;z=[we-se[he-1].x,Te-se[he-1].y,Pe-se[he-1].x,et-se[he-1].y,ve-se[he-1].x,K-se[he-1].y],Z[Z.length-1].deltas.push(z);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(de)}}G=U?null:N==="stroke"?"stroke":"fill";for(var Ye=!1,Ge=0;Ge<Z.length;Ge++)if(Z[Ge].arc)for(var Ce=Z[Ge].abs,Fe=0;Fe<Ce.length;Fe++){var Oe=Ce[Fe];Oe.type==="arc"?R.call(this,Oe.x,Oe.y,Oe.radius,Oe.startAngle,Oe.endAngle,Oe.counterclockwise,void 0,U,!Ye):J.call(this,Oe.x,Oe.y),Ye=!0}else if(Z[Ge].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(Z[Ge].begin!==!0){var De=Z[Ge].start.x,He=Z[Ge].start.y;V.call(this,Z[Ge].deltas,De,He),Ye=!0}G&&Q.call(this,G),U&&X.call(this)}},q=function(N){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-z;case"top":return N+U-z;case"hanging":return N+U-2*z;case"middle":return N+U/2-z;case"ideographic":return N;case"alphabetic":default:return N}},M=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(U,z){this.colorStops.push([U,z])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(N,U,z,G,Z,se,he,de,xe){for(var we=ce.call(this,z,G,Z,se),Te=0;Te<we.length;Te++){var Pe=we[Te];Te===0&&(xe?F.call(this,Pe.x1+N,Pe.y1+U):J.call(this,Pe.x1+N,Pe.y1+U)),ae.call(this,N,U,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}de?X.call(this):Q.call(this,he)},Q=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(N,U){this.pdf.internal.out(n(N)+" "+r(U)+" m")},P=function(N){var U;switch(N.align){case"right":case"end":U="right";break;case"center":U="center";break;case"left":case"start":default:U="left"}var z=this.pdf.getTextDimensions(N.text),G=q.call(this,N.y),Z=M.call(this,G)-z.h,se=this.ctx.transform.applyToPoint(new o(N.x,G)),he=this.ctx.transform.decompose(),de=new l;de=(de=(de=de.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var xe,we,Te,Pe=this.ctx.transform.applyToRectangle(new a(N.x,G,z.w,z.h)),et=de.applyToRectangle(new a(N.x,Z,z.w,z.h)),ve=k.call(this,et),K=[],Ye=0;Ye<ve.length;Ye+=1)K.indexOf(ve[Ye])===-1&&K.push(ve[Ye]);if(_(K),this.autoPaging)for(var Ge=K[0],Ce=K[K.length-1],Fe=Ge;Fe<Ce+1;Fe++){this.pdf.setPage(Fe);var Oe=Fe===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],st=He-this.margin[0],Ee=this.pdf.internal.pageSize.width-this.margin[1],ze=Ee-this.margin[3],Qe=Fe===1?0:De+(Fe-2)*st;if(this.ctx.clip_path.length!==0){var St=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(xe,this.posX+this.margin[3],-1*Qe+Oe),D.call(this,"fill",!0),this.path=St}var at=x([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-Qe+Oe+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*N.scale),Te=this.lineWidth,this.lineWidth=Te*N.scale);var gt=this.autoPaging!=="text";if(gt||at.y+at.h<=He){if(gt||at.y>=Oe&&at.x<=Ee){var Ie=gt?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Ee-at.x)[0],Pn=x([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-Qe+Oe+this.ctx.prevPageLastElemOffset)[0],_t=gt&&(Fe>Ge||Fe<Ce)&&S.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,st,null).clip().discardPath()),this.pdf.text(Ie,Pn.x,Pn.y,{angle:N.angle,align:U,renderingMode:N.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else at.y<He&&(this.ctx.prevPageLastElemOffset+=He-at.y);N.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=Te)}else N.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*N.scale),Te=this.lineWidth,this.lineWidth=Te*N.scale),this.pdf.text(N.text,se.x+this.posX,se.y+this.posY,{angle:N.angle,align:U,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=Te)},J=function(N,U,z,G){z=z||0,G=G||0,this.pdf.internal.out(n(N+z)+" "+r(U+G)+" l")},V=function(N,U,z){return this.pdf.lines(N,U,z,null,null)},ae=function(N,U,z,G,Z,se,he,de){this.pdf.internal.out([t(i(z+N)),t(s(G+U)),t(i(Z+N)),t(s(se+U)),t(i(he+N)),t(s(de+U)),"c"].join(" "))},ce=function(N,U,z,G){for(var Z=2*Math.PI,se=Math.PI/2;U>z;)U-=Z;var he=Math.abs(z-U);he<Z&&G&&(he=Z-he);for(var de=[],xe=G?-1:1,we=U;he>1e-5;){var Te=we+xe*Math.min(he,se);de.push(le.call(this,N,we,Te)),he-=Math.abs(Te-we),we=Te}return de},le=function(N,U,z){var G=(z-U)/2,Z=N*Math.cos(G),se=N*Math.sin(G),he=Z,de=-se,xe=he*he+de*de,we=xe+he*Z+de*se,Te=4/3*(Math.sqrt(2*xe*we)-we)/(he*se-de*Z),Pe=he-Te*de,et=de+Te*he,ve=Pe,K=-et,Ye=G+U,Ge=Math.cos(Ye),Ce=Math.sin(Ye);return{x1:N*Math.cos(U),y1:N*Math.sin(U),x2:Pe*Ge-et*Ce,y2:Pe*Ce+et*Ge,x3:ve*Ge-K*Ce,y3:ve*Ce+K*Ge,x4:N*Math.cos(z),y4:N*Math.sin(z)}},W=function(N){return 180*N/Math.PI},re=function(N,U,z,G,Z,se){var he=N+.5*(z-N),de=U+.5*(G-U),xe=Z+.5*(z-Z),we=se+.5*(G-se),Te=Math.min(N,Z,he,xe),Pe=Math.max(N,Z,he,xe),et=Math.min(U,se,de,we),ve=Math.max(U,se,de,we);return new a(Te,et,Pe-Te,ve-et)},Y=function(N,U,z,G,Z,se,he,de){var xe,we,Te,Pe,et,ve,K,Ye,Ge,Ce,Fe,Oe,De,He,st=z-N,Ee=G-U,ze=Z-z,Qe=se-G,St=he-Z,at=de-se;for(we=0;we<41;we++)Ge=(K=(Te=N+(xe=we/40)*st)+xe*((et=z+xe*ze)-Te))+xe*(et+xe*(Z+xe*St-et)-K),Ce=(Ye=(Pe=U+xe*Ee)+xe*((ve=G+xe*Qe)-Pe))+xe*(ve+xe*(se+xe*at-ve)-Ye),we==0?(Fe=Ge,Oe=Ce,De=Ge,He=Ce):(Fe=Math.min(Fe,Ge),Oe=Math.min(Oe,Ce),De=Math.max(De,Ge),He=Math.max(He,Ce));return new a(Math.round(Fe),Math.round(Oe),Math.round(De-Fe),Math.round(He-Oe))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,U,z=(N=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:U}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(it.API),function(e){var t=function(s){var o,a,l,u,h,f,g,m,b,S;for(a=[],l=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(h=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(h=((h=((h=((h=(h-(S=h%85))/85)-(b=h%85))/85)-(m=h%85))/85)-(g=h%85))/85)%85,a.push(f+33,g+33,m+33,b+33,S+33)):a.push(122);return function(k,y){for(var x=y;x>0;x--)k.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,u,h,f=String,g="length",m=255,b="charCodeAt",S="slice",k="replace";for(s[S](-2),s=s[S](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),l=[],u=0,h=(s+=o="uuuuu"[S](s[g]%5||5))[g];h>u;u+=5)a=52200625*(s[b](u)-33)+614125*(s[b](u+1)-33)+7225*(s[b](u+2)-33)+85*(s[b](u+3)-33)+(s[b](u+4)-33),l.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(y,x){for(var _=x;_>0;_--)y.pop()}(l,o[g]),f.fromCharCode.apply(f,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=Ng(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,o){var a=0,l=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(it.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,h){var f=new XMLHttpRequest,g=0,m=function(b){var S=b.length,k=[],y=String.fromCharCode;for(g=0;g<S;g+=1)k.push(y(255&b.charCodeAt(g)));return k.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?h(m(this.responseText)):h(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)}(i,s,o)}catch{}return a}(t,n,r)},e.loadImageFile=e.loadFile}(it.API),function(e){function t(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):hs(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):hs(()=>import("./purify.es-31816194.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Ft(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var u in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[u]=a.style[u];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(u,h){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||f.appendChild(l(g,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var g=0;g<u.length;++g){var m=u[g],b=m.src.find(function(S){return S.format==="truetype"});b&&l.addFont(b.url,m.ref.name,m.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||it.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,u){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,u){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(u,h){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,h).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=l.call(u,o,a);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,it.getPageSize=function(o,a,l){if(Ft(o)==="object"){var u=o;o=u.orientation,a=u.unit||a,l=u.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var h,f=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}var m,b=0,S=0;if(g.hasOwnProperty(f))b=g[f][1]/h,S=g[f][0]/h;else try{b=l[1],S=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",S>b&&(m=S,S=b,b=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>S&&(m=S,S=b,b=m)}return{width:S,height:b,unit:a,k:h,orientation:o}},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(Tg):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(it.API),it.API.addJS=function(e){return dw=e,this.internal.events.subscribe("postPutResources",function(){xh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),uw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+dw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){xh!==void 0&&uw!==void 0&&this.internal.out("/Names <</JavaScript "+xh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(s=0;s<u;s++){var f=n.internal.newObject();h.push(f);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<h.length;s++)n.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(it.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var g,m=256*f.charCodeAt(4)+f.charCodeAt(5),b=f.length,S={width:0,height:0,numcomponents:1},k=4;k<b;k+=2){if(k+=m,t.indexOf(f.charCodeAt(k+1))!==-1){g=256*f.charCodeAt(k+5)+f.charCodeAt(k+6),S={width:256*f.charCodeAt(k+7)+f.charCodeAt(k+8),height:g,numcomponents:f.charCodeAt(k+9)};break}m=256*f.charCodeAt(k+2)+f.charCodeAt(k+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return h}}(it.API);var al,bh,hw,fw,pw,n7=function(){var e,t,n;function r(s){var o,a,l,u,h,f,g,m,b,S,k,y,x,_;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),b=(function(){var E,D;for(D=[],E=0;E<4;++E)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*h/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,o-=4),s=(f!=null?f.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((S=l-this.transparency.indexed.length)>0)for(x=0;0<=S?x<S:x>S;0<=S?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(k=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,k.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,k.slice(g+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(f,g,m,b){var S,k,y,x,_,E,D,q,M,R,Q,X,F,P,J,V,ae,ce,le,W,re,Y=Math.ceil((u.width-f)/m),me=Math.ceil((u.height-g)/b),N=u.width==Y&&u.height==me;for(P=o*Y,X=N?a:new Uint8Array(P*me),E=s.length,F=0,k=0;F<me&&l<E;){switch(s[l++]){case 0:for(x=ae=0;ae<P;x=ae+=1)X[k++]=s[l++];break;case 1:for(x=ce=0;ce<P;x=ce+=1)S=s[l++],_=x<o?0:X[k-o],X[k++]=(S+_)%256;break;case 2:for(x=le=0;le<P;x=le+=1)S=s[l++],y=(x-x%o)/o,J=F&&X[(F-1)*P+y*o+x%o],X[k++]=(J+S)%256;break;case 3:for(x=W=0;W<P;x=W+=1)S=s[l++],y=(x-x%o)/o,_=x<o?0:X[k-o],J=F&&X[(F-1)*P+y*o+x%o],X[k++]=(S+Math.floor((_+J)/2))%256;break;case 4:for(x=re=0;re<P;x=re+=1)S=s[l++],y=(x-x%o)/o,_=x<o?0:X[k-o],F===0?J=V=0:(J=X[(F-1)*P+y*o+x%o],V=y&&X[(F-1)*P+(y-1)*o+x%o]),D=_+J-V,q=Math.abs(D-_),R=Math.abs(D-J),Q=Math.abs(D-V),M=q<=R&&q<=Q?_:R<=Q?J:V,X[k++]=(S+M)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!N){var U=((g+F*b)*u.width+f)*o,z=F*P;for(x=0;x<Y;x+=1){for(var G=0;G<o;G+=1)a[U++]=X[z++];U+=(m-1)*o}}F++}}return s=RT(s),u.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,u,h,f,g,m;for(a=this.palette,h=this.transparency.indexed||[],u=new Uint8Array((h.length||0)+a.length),l=0,s=0,o=f=0,g=a.length;f<g;o=f+=3)u[l++]=a[o],u[l++]=a[o+1],u[l++]=a[o+2],u[l++]=(m=h[s++])!=null?m:255;return u},r.prototype.copyToImageData=function(s,o){var a,l,u,h,f,g,m,b,S,k,y;if(l=this.colors,S=null,a=this.hasAlphaChannel,this.palette.length&&(S=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,a=!0),b=(u=s.data||s).length,f=S||o,h=g=0,l===1)for(;h<b;)m=S?4*o[h/4]:g,k=f[m++],u[h++]=k,u[h++]=k,u[h++]=k,u[h++]=a?f[m++]:255,g=m;else for(;h<b;)m=S?4*o[h/4]:g,u[h++]=f[m++],u[h++]=f[m++],u[h++]=f[m++],u[h++]=a?f[m++]:255,g=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(lt)==="[object Window]"){try{t=lt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,u,h,f,g,m;if(this.animation){for(m=[],a=h=0,f=(g=this.animation.frames).length;h<f;a=++h)o=g[a],l=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,m.push(o.image=e(l));return m}},r.prototype.renderFrame=function(s,o){var a,l,u;return a=(l=this.animation.frames)[o],u=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,u,h,f,g=this;return a=0,f=this.animation,u=f.numFrames,l=f.frames,h=f.numPlays,(o=function(){var m,b;if(m=a++%u,b=l[m],g.renderFrame(s,m),u>1&&a/u<h)return g.animation._timeout=setTimeout(o,b.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function r7(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var u=!0,h=[],f=0,g=null,m=0,b=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var S=e[t++];f=e[t++]|e[t++]<<8,g=e[t++],!(1&S)&&(g=null),m=S>>2&7,t++;break;case 254:for(;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var k=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,E=e[t++],D=E>>6&1,q=1<<(7&E)+1,M=a,R=l,Q=!1;E>>7&&(Q=!0,M=t,R=q,t+=3*q);var X=t;for(t++;;){var F;if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}h.push({x:k,y,width:x,height:_,has_local_palette:Q,palette_offset:M,palette_size:R,data_offset:X,data_length:t-X,transparent_index:g,interlaced:!!D,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(P){if(P<0||P>=h.length)throw new Error("Frame index out of range.");return h[P]},this.decodeAndBlitFrameBGRA=function(P,J){var V=this.frameInfo(P),ae=V.width*V.height,ce=new Uint8Array(ae);mw(e,V.data_offset,ce,ae);var le=V.palette_offset,W=V.transparent_index;W===null&&(W=256);var re=V.width,Y=n-re,me=re,N=4*(V.y*n+V.x),U=4*((V.y+V.height)*n+V.x),z=N,G=4*Y;V.interlaced===!0&&(G+=4*n*7);for(var Z=8,se=0,he=ce.length;se<he;++se){var de=ce[se];if(me===0&&(me=re,(z+=G)>=U&&(G=4*Y+4*n*(Z-1),z=N+(re+Y)*(Z<<1),Z>>=1)),de===W)z+=4;else{var xe=e[le+3*de],we=e[le+3*de+1],Te=e[le+3*de+2];J[z++]=Te,J[z++]=we,J[z++]=xe,J[z++]=255}--me}},this.decodeAndBlitFrameRGBA=function(P,J){var V=this.frameInfo(P),ae=V.width*V.height,ce=new Uint8Array(ae);mw(e,V.data_offset,ce,ae);var le=V.palette_offset,W=V.transparent_index;W===null&&(W=256);var re=V.width,Y=n-re,me=re,N=4*(V.y*n+V.x),U=4*((V.y+V.height)*n+V.x),z=N,G=4*Y;V.interlaced===!0&&(G+=4*n*7);for(var Z=8,se=0,he=ce.length;se<he;++se){var de=ce[se];if(me===0&&(me=re,(z+=G)>=U&&(G=4*Y+4*n*(Z-1),z=N+(re+Y)*(Z<<1),Z>>=1)),de===W)z+=4;else{var xe=e[le+3*de],we=e[le+3*de+1],Te=e[le+3*de+2];J[z++]=xe,J[z++]=we,J[z++]=Te,J[z++]=255}--me}}}function mw(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,h=0,f=0,g=0,m=e[t++],b=new Int32Array(4096),S=null;;){for(;h<16&&m!==0;)f|=e[t++]<<h,h+=8,m===1?m=e[t++]:--m;if(h<l)break;var k=f&u;if(f>>=l,h-=l,k!==s){if(k===o)break;for(var y=k<a?k:S,x=0,_=y;_>s;)_=b[_]>>8,++x;var E=_;if(g+x+(y!==k?1:0)>r)return void $t.log("Warning, gif stream longer than expected.");n[g++]=E;var D=g+=x;for(y!==k&&(n[g++]=E),_=y;x--;)_=b[_],n[--D]=255&_,_>>=8;S!==null&&a<4096&&(b[a++]=S<<8|E,a>=u+1&&l<12&&(++l,u=u<<1|1)),S=k}else a=o+1,u=(1<<(l=i+1))-1,S=null}return g!==r&&$t.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Xm(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),h=new Array(64),f=new Array(65535),g=new Array(65535),m=new Array(64),b=new Array(64),S=[],k=0,y=7,x=new Array(64),_=new Array(64),E=new Array(64),D=new Array(256),q=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(N,U){for(var z=0,G=0,Z=new Array,se=1;se<=16;se++){for(var he=1;he<=N[se];he++)Z[U[G]]=[],Z[U[G]][0]=z,Z[U[G]][1]=se,G++,z++;z*=2}return Z}function le(N){for(var U=N[0],z=N[1]-1;z>=0;)U&1<<z&&(k|=1<<y),z--,--y<0&&(k==255?(W(255),W(0)):W(k),y=7,k=0)}function W(N){S.push(N)}function re(N){W(N>>8&255),W(255&N)}function Y(N,U,z,G,Z){for(var se,he=Z[0],de=Z[240],xe=function(Ce,Fe){var Oe,De,He,st,Ee,ze,Qe,St,at,gt,Ie=0;for(at=0;at<8;++at){Oe=Ce[Ie],De=Ce[Ie+1],He=Ce[Ie+2],st=Ce[Ie+3],Ee=Ce[Ie+4],ze=Ce[Ie+5],Qe=Ce[Ie+6];var Pn=Oe+(St=Ce[Ie+7]),_t=Oe-St,br=De+Qe,Tt=De-Qe,Bt=He+ze,Br=He-ze,jt=st+Ee,ms=st-Ee,Qt=Pn+jt,Sr=Pn-jt,oi=br+Bt,Zt=br-Bt;Ce[Ie]=Qt+oi,Ce[Ie+4]=Qt-oi;var tt=.707106781*(Zt+Sr);Ce[Ie+2]=Sr+tt,Ce[Ie+6]=Sr-tt;var Nt=.382683433*((Qt=ms+Br)-(Zt=Tt+_t)),Ji=.5411961*Qt+Nt,En=1.306562965*Zt+Nt,Ur=.707106781*(oi=Br+Tt),ai=_t+Ur,nt=_t-Ur;Ce[Ie+5]=nt+Ji,Ce[Ie+3]=nt-Ji,Ce[Ie+1]=ai+En,Ce[Ie+7]=ai-En,Ie+=8}for(Ie=0,at=0;at<8;++at){Oe=Ce[Ie],De=Ce[Ie+8],He=Ce[Ie+16],st=Ce[Ie+24],Ee=Ce[Ie+32],ze=Ce[Ie+40],Qe=Ce[Ie+48];var _r=Oe+(St=Ce[Ie+56]),li=Oe-St,Yn=De+Qe,mn=De-Qe,ln=He+ze,$n=He-ze,yt=st+Ee,Ai=st-Ee,zr=_r+yt,qn=_r-yt,Xn=Yn+ln,$r=Yn-ln;Ce[Ie]=zr+Xn,Ce[Ie+32]=zr-Xn;var qr=.707106781*($r+qn);Ce[Ie+16]=qn+qr,Ce[Ie+48]=qn-qr;var ci=.382683433*((zr=Ai+$n)-($r=mn+li)),gs=.5411961*zr+ci,vs=1.306562965*$r+ci,Yi=.707106781*(Xn=$n+mn),Ks=li+Yi,Xi=li-Yi;Ce[Ie+40]=Xi+gs,Ce[Ie+24]=Xi-gs,Ce[Ie+8]=Ks+vs,Ce[Ie+56]=Ks-vs,Ie++}for(at=0;at<64;++at)gt=Ce[at]*Fe[at],m[at]=gt>0?gt+.5|0:gt-.5|0;return m}(N,U),we=0;we<64;++we)b[M[we]]=xe[we];var Te=b[0]-z;z=b[0],Te==0?le(G[0]):(le(G[g[se=32767+Te]]),le(f[se]));for(var Pe=63;Pe>0&&b[Pe]==0;)Pe--;if(Pe==0)return le(he),z;for(var et,ve=1;ve<=Pe;){for(var K=ve;b[ve]==0&&ve<=Pe;)++ve;var Ye=ve-K;if(Ye>=16){et=Ye>>4;for(var Ge=1;Ge<=et;++Ge)le(de);Ye&=15}se=32767+b[ve],le(Z[(Ye<<4)+g[se]]),le(f[se]),ve++}return Pe!=63&&le(he),z}function me(N){N=Math.min(Math.max(N,1),100),s!=N&&(function(U){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var Z=o((z[G]*U+50)/100);Z=Math.min(Math.max(Z,1),255),a[M[G]]=Z}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var de=o((se[he]*U+50)/100);de=Math.min(Math.max(de,1),255),l[M[he]]=de}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,Te=0;Te<8;Te++)for(var Pe=0;Pe<8;Pe++)u[we]=1/(a[M[we]]*xe[Te]*xe[Pe]*8),h[we]=1/(l[M[we]]*xe[Te]*xe[Pe]*8),we++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),s=N)}this.encode=function(N,U){U&&me(U),S=new Array,k=0,y=7,re(65496),re(65504),re(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),re(1),re(1),W(0),W(0),function(){re(65499),re(132),W(0);for(var De=0;De<64;De++)W(a[De]);W(1);for(var He=0;He<64;He++)W(l[He])}(),function(De,He){re(65472),re(17),W(8),re(He),re(De),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(N.width,N.height),function(){re(65476),re(418),W(0);for(var De=0;De<16;De++)W(R[De+1]);for(var He=0;He<=11;He++)W(Q[He]);W(16);for(var st=0;st<16;st++)W(X[st+1]);for(var Ee=0;Ee<=161;Ee++)W(F[Ee]);W(1);for(var ze=0;ze<16;ze++)W(P[ze+1]);for(var Qe=0;Qe<=11;Qe++)W(J[Qe]);W(17);for(var St=0;St<16;St++)W(V[St+1]);for(var at=0;at<=161;at++)W(ae[at])}(),re(65498),re(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var z=0,G=0,Z=0;k=0,y=7,this.encode.displayName="_encode_";for(var se,he,de,xe,we,Te,Pe,et,ve,K=N.data,Ye=N.width,Ge=N.height,Ce=4*Ye,Fe=0;Fe<Ge;){for(se=0;se<Ce;){for(we=Ce*Fe+se,Pe=-1,et=0,ve=0;ve<64;ve++)Te=we+(et=ve>>3)*Ce+(Pe=4*(7&ve)),Fe+et>=Ge&&(Te-=Ce*(Fe+1+et-Ge)),se+Pe>=Ce&&(Te-=se+Pe-Ce+4),he=K[Te++],de=K[Te++],xe=K[Te++],x[ve]=(q[he]+q[de+256>>0]+q[xe+512>>0]>>16)-128,_[ve]=(q[he+768>>0]+q[de+1024>>0]+q[xe+1280>>0]>>16)-128,E[ve]=(q[he+1280>>0]+q[de+1536>>0]+q[xe+1792>>0]>>16)-128;z=Y(x,u,z,t,r),G=Y(_,h,G,n,i),Z=Y(E,h,Z,n,i),se+=32}Fe+=8}if(y>=0){var Oe=[];Oe[1]=y+1,Oe[0]=(1<<y+1)-1,le(Oe)}return re(65497),new Uint8Array(S)},e=e||50,function(){for(var N=String.fromCharCode,U=0;U<256;U++)D[U]=N(U)}(),t=ce(R,Q),n=ce(P,J),r=ce(X,F),i=ce(V,ae),function(){for(var N=1,U=2,z=1;z<=15;z++){for(var G=N;G<U;G++)g[32767+G]=z,f[32767+G]=[],f[32767+G][1]=z,f[32767+G][0]=G;for(var Z=-(U-1);Z<=-N;Z++)g[32767+Z]=z,f[32767+Z]=[],f[32767+Z][1]=z,f[32767+Z][0]=U-1+Z;N<<=1,U<<=1}}(),function(){for(var N=0;N<256;N++)q[N]=19595*N,q[N+256>>0]=38470*N,q[N+512>>0]=7471*N+32768,q[N+768>>0]=-11059*N,q[N+1024>>0]=-21709*N,q[N+1280>>0]=32768*N+8421375,q[N+1536>>0]=-27439*N,q[N+1792>>0]=-5329*N}(),me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function gw(e){function t(R){if(!R)throw Error("assert :P")}function n(R,Q,X){for(var F=0;4>F;F++)if(R[Q+F]!=X.charCodeAt(F))return!0;return!1}function r(R,Q,X,F,P){for(var J=0;J<P;J++)R[Q+J]=X[F+J]}function i(R,Q,X,F){for(var P=0;P<F;P++)R[Q+P]=X}function s(R){return new Int32Array(R)}function o(R,Q){for(var X=[],F=0;F<R;F++)X.push(new Q);return X}function a(R,Q){var X=[];return function F(P,J,V){for(var ae=V[J],ce=0;ce<ae&&(P.push(V.length>J+1?[]:new Q),!(V.length<J+1));ce++)F(P[ce],J+1,V)}(X,0,R),X}var l=function(){var R=this;function Q(d,p){for(var w=1<<p-1>>>0;d&w;)w>>>=1;return w?(d&w-1)+w:d}function X(d,p,w,j,A){t(!(j%w));do d[p+(j-=w)]=A;while(0<j)}function F(d,p,w,j,A){if(t(2328>=A),512>=A)var L=s(512);else if((L=s(A))==null)return 0;return function(T,O,B,$,te,fe){var pe,oe,_e=O,ge=1<<B,ne=s(16),ie=s(16);for(t(te!=0),t($!=null),t(T!=null),t(0<B),oe=0;oe<te;++oe){if(15<$[oe])return 0;++ne[$[oe]]}if(ne[0]==te)return 0;for(ie[1]=0,pe=1;15>pe;++pe){if(ne[pe]>1<<pe)return 0;ie[pe+1]=ie[pe]+ne[pe]}for(oe=0;oe<te;++oe)pe=$[oe],0<$[oe]&&(fe[ie[pe]++]=oe);if(ie[15]==1)return($=new P).g=0,$.value=fe[0],X(T,_e,1,ge,$),ge;var be,ke=-1,Se=ge-1,Ve=0,Me=1,rt=1,Ue=1<<B;for(oe=0,pe=1,te=2;pe<=B;++pe,te<<=1){if(Me+=rt<<=1,0>(rt-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe])($=new P).g=pe,$.value=fe[oe++],X(T,_e+Ve,te,Ue,$),Ve=Q(Ve,pe)}for(pe=B+1,te=2;15>=pe;++pe,te<<=1){if(Me+=rt<<=1,0>(rt-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe]){if($=new P,(Ve&Se)!=ke){for(_e+=Ue,be=1<<(ke=pe)-B;15>ke&&!(0>=(be-=ne[ke]));)++ke,be<<=1;ge+=Ue=1<<(be=ke-B),T[O+(ke=Ve&Se)].g=be+B,T[O+ke].value=_e-O-ke}$.g=pe-B,$.value=fe[oe++],X(T,_e+(Ve>>B),te,Ue,$),Ve=Q(Ve,pe)}}return Me!=2*ie[15]-1?0:ge}(d,p,w,j,A,L)}function P(){this.value=this.g=0}function J(){this.value=this.g=0}function V(){this.G=o(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Vn,J)}function ae(d,p,w,j){t(d!=null),t(p!=null),t(2147483648>j),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=p,d.pa=w,d.Jd=p,d.Yc=w+j,d.Zc=4<=j?w+j-4+1:w,se(d)}function ce(d,p){for(var w=0;0<p--;)w|=de(d,128)<<p;return w}function le(d,p){var w=ce(d,p);return he(d)?-w:w}function W(d,p,w,j){var A,L=0;for(t(d!=null),t(p!=null),t(4294967288>j),d.Sb=j,d.Ra=0,d.u=0,d.h=0,4<j&&(j=4),A=0;A<j;++A)L+=p[w+A]<<8*A;d.Ra=L,d.bb=j,d.oa=p,d.pa=w}function re(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Va-8>>>0,++d.bb,d.u-=8;z(d)&&(d.h=1,d.u=0)}function Y(d,p){if(t(0<=p),!d.h&&p<=qa){var w=U(d)&$a[p];return d.u+=p,re(d),w}return d.h=1,d.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(d){return d.Ra>>>(d.u&Va-1)>>>0}function z(d){return t(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Va}function G(d,p){d.u=p,d.h=z(d)}function Z(d){d.u>=Nc&&(t(d.u>=Nc),re(d))}function se(d){t(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(t(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function he(d){return ce(d,1)}function de(d,p){var w=d.Ca;0>d.b&&se(d);var j=d.b,A=w*p>>>8,L=(d.I>>>j>A)+0;for(L?(w-=A,d.I-=A+1<<j>>>0):w=A+1,j=w,A=0;256<=j;)A+=8,j>>=8;return j=7^A+kr[j],d.b-=j,d.Ca=(w<<j)-1,L}function xe(d,p,w){d[p+0]=w>>24&255,d[p+1]=w>>16&255,d[p+2]=w>>8&255,d[p+3]=w>>0&255}function we(d,p){return d[p+0]<<0|d[p+1]<<8}function Te(d,p){return we(d,p)|d[p+2]<<16}function Pe(d,p){return we(d,p)|we(d,p+2)<<16}function et(d,p){var w=1<<p;return t(d!=null),t(0<p),d.X=s(w),d.X==null?0:(d.Mb=32-p,d.Xa=p,1)}function ve(d,p){t(d!=null),t(p!=null),t(d.Xa==p.Xa),r(p.X,0,d.X,0,1<<p.Xa)}function K(){this.X=[],this.Xa=this.Mb=0}function Ye(d,p,w,j){t(w!=null),t(j!=null);var A=w[0],L=j[0];return A==0&&(A=(d*L+p/2)/p),L==0&&(L=(p*A+d/2)/d),0>=A||0>=L?0:(w[0]=A,j[0]=L,1)}function Ge(d,p){return d+(1<<p)-1>>>p}function Ce(d,p){return((4278255360&d)+(4278255360&p)>>>0&4278255360)+((16711935&d)+(16711935&p)>>>0&16711935)>>>0}function Fe(d,p){R[p]=function(w,j,A,L,T,O,B){var $;for($=0;$<T;++$){var te=R[d](O[B+$-1],A,L+$);O[B+$]=Ce(w[j+$],te)}}}function Oe(){this.ud=this.hd=this.jd=0}function De(d,p){return((4278124286&(d^p))>>>1)+(d&p)>>>0}function He(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function st(d,p){return He(d+(d-p+.5>>1))}function Ee(d,p,w){return Math.abs(p-w)-Math.abs(d-w)}function ze(d,p,w,j,A,L,T){for(j=L[T-1],w=0;w<A;++w)L[T+w]=j=Ce(d[p+w],j)}function Qe(d,p,w,j,A){var L;for(L=0;L<w;++L){var T=d[p+L],O=T>>8&255,B=16711935&(B=(B=16711935&T)+((O<<16)+O));j[A+L]=(4278255360&T)+B>>>0}}function St(d,p){p.jd=d>>0&255,p.hd=d>>8&255,p.ud=d>>16&255}function at(d,p,w,j,A,L){var T;for(T=0;T<j;++T){var O=p[w+T],B=O>>>8,$=O,te=255&(te=(te=O>>>16)+((d.jd<<24>>24)*(B<<24>>24)>>>5));$=255&($=($=$+((d.hd<<24>>24)*(B<<24>>24)>>>5))+((d.ud<<24>>24)*(te<<24>>24)>>>5)),A[L+T]=(4278255360&O)+(te<<16)+$}}function gt(d,p,w,j,A){R[p]=function(L,T,O,B,$,te,fe,pe,oe){for(B=fe;B<pe;++B)for(fe=0;fe<oe;++fe)$[te++]=A(O[j(L[T++])])},R[d]=function(L,T,O,B,$,te,fe){var pe=8>>L.b,oe=L.Ea,_e=L.K[0],ge=L.w;if(8>pe)for(L=(1<<L.b)-1,ge=(1<<pe)-1;T<O;++T){var ne,ie=0;for(ne=0;ne<oe;++ne)ne&L||(ie=j(B[$++])),te[fe++]=A(_e[ie&ge]),ie>>=pe}else R["VP8LMapColor"+w](B,$,_e,ge,te,fe,T,O,oe)}}function Ie(d,p,w,j,A){for(w=p+w;p<w;){var L=d[p++];j[A++]=L>>16&255,j[A++]=L>>8&255,j[A++]=L>>0&255}}function Pn(d,p,w,j,A){for(w=p+w;p<w;){var L=d[p++];j[A++]=L>>16&255,j[A++]=L>>8&255,j[A++]=L>>0&255,j[A++]=L>>24&255}}function _t(d,p,w,j,A){for(w=p+w;p<w;){var L=(T=d[p++])>>16&240|T>>12&15,T=T>>0&240|T>>28&15;j[A++]=L,j[A++]=T}}function br(d,p,w,j,A){for(w=p+w;p<w;){var L=(T=d[p++])>>16&248|T>>13&7,T=T>>5&224|T>>3&31;j[A++]=L,j[A++]=T}}function Tt(d,p,w,j,A){for(w=p+w;p<w;){var L=d[p++];j[A++]=L>>0&255,j[A++]=L>>8&255,j[A++]=L>>16&255}}function Bt(d,p,w,j,A,L){if(L==0)for(w=p+w;p<w;)xe(j,((L=d[p++])[0]>>24|L[1]>>8&65280|L[2]<<8&16711680|L[3]<<24)>>>0),A+=32;else r(j,A,d,p,w)}function Br(d,p){R[p][0]=R[d+"0"],R[p][1]=R[d+"1"],R[p][2]=R[d+"2"],R[p][3]=R[d+"3"],R[p][4]=R[d+"4"],R[p][5]=R[d+"5"],R[p][6]=R[d+"6"],R[p][7]=R[d+"7"],R[p][8]=R[d+"8"],R[p][9]=R[d+"9"],R[p][10]=R[d+"10"],R[p][11]=R[d+"11"],R[p][12]=R[d+"12"],R[p][13]=R[d+"13"],R[p][14]=R[d+"0"],R[p][15]=R[d+"0"]}function jt(d){return d==Rp||d==Fp||d==Id||d==Op}function ms(){this.eb=[],this.size=this.A=this.fb=0}function Qt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ms,this.f.kb=new Qt,this.sd=null}function oi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function tt(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Nt(d,p){var w=d.T,j=p.ba.f.RGBA,A=j.eb,L=j.fb+d.ka*j.A,T=mi[p.ba.S],O=d.y,B=d.O,$=d.f,te=d.N,fe=d.ea,pe=d.W,oe=p.cc,_e=p.dc,ge=p.Mc,ne=p.Nc,ie=d.ka,be=d.ka+d.T,ke=d.U,Se=ke+1>>1;for(ie==0?T(O,B,null,null,$,te,fe,pe,$,te,fe,pe,A,L,null,null,ke):(T(p.ec,p.fc,O,B,oe,_e,ge,ne,$,te,fe,pe,A,L-j.A,A,L,ke),++w);ie+2<be;ie+=2)oe=$,_e=te,ge=fe,ne=pe,te+=d.Rc,pe+=d.Rc,L+=2*j.A,T(O,(B+=2*d.fa)-d.fa,O,B,oe,_e,ge,ne,$,te,fe,pe,A,L-j.A,A,L,ke);return B+=d.fa,d.j+be<d.o?(r(p.ec,p.fc,O,B,ke),r(p.cc,p.dc,$,te,Se),r(p.Mc,p.Nc,fe,pe,Se),w--):1&be||T(O,B,null,null,$,te,fe,pe,$,te,fe,pe,A,L+j.A,null,null,ke),w}function Ji(d,p,w){var j=d.F,A=[d.J];if(j!=null){var L=d.U,T=p.ba.S,O=T==Td||T==Id;p=p.ba.f.RGBA;var B=[0],$=d.ka;B[0]=d.T,d.Kb&&($==0?--B[0]:(--$,A[0]-=d.width),d.j+d.ka+d.T==d.o&&(B[0]=d.o-d.j-$));var te=p.eb;$=p.fb+$*p.A,d=Vt(j,A[0],d.width,L,B,te,$+(O?0:3),p.A),t(w==B),d&&jt(T)&&fi(te,$,O,L,B,p.A)}return 0}function En(d){var p=d.ma,w=p.ba.S,j=11>w,A=w==Ed||w==Ld||w==Td||w==Ip||w==12||jt(w);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!jc(p.Oa,d,A?11:12))return 0;if(A&&jt(w)&&Ae(),d.da)alert("todo:use_scaling");else{if(j){if(p.Ib=tt,d.Kb){if(w=d.U+1>>1,p.memory=s(d.U+2*w),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+d.U,p.Mc=p.cc,p.Nc=p.dc+w,p.Ib=Nt,Ae()}}else alert("todo:EmitYUV");A&&(p.Jb=Ji,j&&ue())}if(j&&!Uv){for(d=0;256>d;++d)y_[d]=89858*(d-128)+Fd>>Rd,b_[d]=-22014*(d-128)+Fd,x_[d]=-45773*(d-128),w_[d]=113618*(d-128)+Fd>>Rd;for(d=Ic;d<Bp;++d)p=76283*(d-16)+Fd>>Rd,S_[d-Ic]=Gr(p,255),__[d-Ic]=Gr(p+8>>4,15);Uv=1}return 1}function Ur(d){var p=d.ma,w=d.U,j=d.T;return t(!(1&d.ka)),0>=w||0>=j?0:(w=p.Ib(d,p),p.Jb!=null&&p.Jb(d,p,w),p.Dc+=w,1)}function ai(d){d.ma.memory=null}function nt(d,p,w,j){return Y(d,8)!=47?0:(p[0]=Y(d,14)+1,w[0]=Y(d,14)+1,j[0]=Y(d,1),Y(d,3)!=0?0:!d.h)}function _r(d,p){if(4>d)return d+1;var w=d-2>>1;return(2+(1&d)<<w)+Y(p,w)+1}function li(d,p){return 120<p?p-120:1<=(w=((w=i_[p-1])>>4)*d+(8-(15&w)))?w:1;var w}function Yn(d,p,w){var j=U(w),A=d[p+=255&j].g-8;return 0<A&&(G(w,w.u+8),j=U(w),p+=d[p].value,p+=j&(1<<A)-1),G(w,w.u+d[p].g),d[p].value}function mn(d,p,w){return w.g+=d.g,w.value+=d.value<<p>>>0,t(8>=w.g),d.g}function ln(d,p,w){var j=d.xc;return t((p=j==0?0:d.vc[d.md*(w>>j)+(p>>j)])<d.Wb),d.Ya[p]}function $n(d,p,w,j){var A=d.ab,L=d.c*p,T=d.C;p=T+p;var O=w,B=j;for(j=d.Ta,w=d.Ua;0<A--;){var $=d.gc[A],te=T,fe=p,pe=O,oe=B,_e=(B=j,O=w,$.Ea);switch(t(te<fe),t(fe<=$.nc),$.hc){case 2:_d(pe,oe,(fe-te)*_e,B,O);break;case 0:var ge=te,ne=fe,ie=B,be=O,ke=(Ue=$).Ea;ge==0&&(Lp(pe,oe,null,null,1,ie,be),ze(pe,oe+1,0,0,ke-1,ie,be+1),oe+=ke,be+=ke,++ge);for(var Se=1<<Ue.b,Ve=Se-1,Me=Ge(ke,Ue.b),rt=Ue.K,Ue=Ue.w+(ge>>Ue.b)*Me;ge<ne;){var Et=rt,It=Ue,At=1;for(Ac(pe,oe,ie,be-ke,1,ie,be);At<ke;){var bt=(At&~Ve)+Se;bt>ke&&(bt=ke),(0,Qs[Et[It++]>>8&15])(pe,oe+ +At,ie,be+At-ke,bt-At,ie,be+At),At=bt}oe+=ke,be+=ke,++ge&Ve||(Ue+=Me)}fe!=$.nc&&r(B,O-_e,B,O+(fe-te-1)*_e,_e);break;case 1:for(_e=pe,ne=oe,ke=(pe=$.Ea)-(be=pe&~(ie=(oe=1<<$.b)-1)),ge=Ge(pe,$.b),Se=$.K,$=$.w+(te>>$.b)*ge;te<fe;){for(Ve=Se,Me=$,rt=new Oe,Ue=ne+be,Et=ne+pe;ne<Ue;)St(Ve[Me++],rt),Ko(rt,_e,ne,oe,B,O),ne+=oe,O+=oe;ne<Et&&(St(Ve[Me++],rt),Ko(rt,_e,ne,ke,B,O),ne+=ke,O+=ke),++te&ie||($+=ge)}break;case 3:if(pe==B&&oe==O&&0<$.b){for(ne=B,pe=_e=O+(fe-te)*_e-(be=(fe-te)*Ge($.Ea,$.b)),oe=B,ie=O,ge=[],be=(ke=be)-1;0<=be;--be)ge[be]=oe[ie+be];for(be=ke-1;0<=be;--be)ne[pe+be]=ge[be];ui($,te,fe,B,_e,B,O)}else ui($,te,fe,pe,oe,B,O)}O=j,B=w}B!=w&&r(j,w,O,B,L)}function yt(d,p){var w=d.V,j=d.Ba+d.c*d.C,A=p-d.C;if(t(p<=d.l.o),t(16>=A),0<A){var L=d.l,T=d.Ta,O=d.Ua,B=L.width;if($n(d,A,w,j),A=O=[O],t((w=d.C)<(j=p)),t(L.v<L.va),j>L.o&&(j=L.o),w<L.j){var $=L.j-w;w=L.j,A[0]+=$*B}if(w>=j?w=0:(A[0]+=4*L.v,L.ka=w-L.j,L.U=L.va-L.v,L.T=j-w,w=1),w){if(O=O[0],11>(w=d.ca).S){var te=w.f.RGBA,fe=(j=w.S,A=L.U,L=L.T,$=te.eb,te.A),pe=L;for(te=te.fb+d.Ma*te.A;0<pe--;){var oe=T,_e=O,ge=A,ne=$,ie=te;switch(j){case Pd:Nr(oe,_e,ge,ne,ie);break;case Ed:hr(oe,_e,ge,ne,ie);break;case Rp:hr(oe,_e,ge,ne,ie),fi(ne,ie,0,ge,1,0);break;case Ev:Ss(oe,_e,ge,ne,ie);break;case Ld:Bt(oe,_e,ge,ne,ie,1);break;case Fp:Bt(oe,_e,ge,ne,ie,1),fi(ne,ie,0,ge,1,0);break;case Td:Bt(oe,_e,ge,ne,ie,0);break;case Id:Bt(oe,_e,ge,ne,ie,0),fi(ne,ie,1,ge,1,0);break;case Ip:Zs(oe,_e,ge,ne,ie);break;case Op:Zs(oe,_e,ge,ne,ie),qt(ne,ie,ge,1,0);break;case Lv:bs(oe,_e,ge,ne,ie);break;default:t(0)}O+=B,te+=fe}d.Ma+=L}else alert("todo:EmitRescaledRowsYUVA");t(d.Ma<=w.height)}}d.C=p,t(d.C<=d.i)}function Ai(d){var p;if(0<d.ua)return 0;for(p=0;p<d.Wb;++p){var w=d.Ya[p].G,j=d.Ya[p].H;if(0<w[1][j[1]+0].g||0<w[2][j[2]+0].g||0<w[3][j[3]+0].g)return 0}return 1}function zr(d,p,w,j,A,L){if(d.Z!=0){var T=d.qd,O=d.rd;for(t(ro[d.Z]!=null);p<w;++p)ro[d.Z](T,O,j,A,j,A,L),T=j,O=A,A+=L;d.qd=T,d.rd=O}}function qn(d,p){var w=d.l.ma,j=w.Z==0||w.Z==1?d.l.j:d.C;if(j=d.C<j?j:d.C,t(p<=d.l.o),p>j){var A=d.l.width,L=w.ca,T=w.tb+A*j,O=d.V,B=d.Ba+d.c*j,$=d.gc;t(d.ab==1),t($[0].hc==3),jd($[0],j,p,O,B,L,T),zr(w,j,p,L,T,A)}d.C=d.Ma=p}function Xn(d,p,w,j,A,L,T){var O=d.$/j,B=d.$%j,$=d.m,te=d.s,fe=w+d.$,pe=fe;A=w+j*A;var oe=w+j*L,_e=280+te.ua,ge=d.Pb?O:16777216,ne=0<te.ua?te.Wa:null,ie=te.wc,be=fe<oe?ln(te,B,O):null;t(d.C<L),t(oe<=A);var ke=!1;e:for(;;){for(;ke||fe<oe;){var Se=0;if(O>=ge){var Ve=fe-w;t((ge=d).Pb),ge.wd=ge.m,ge.xd=Ve,0<ge.s.ua&&ve(ge.s.Wa,ge.s.vb),ge=O+o_}if(B&ie||(be=ln(te,B,O)),t(be!=null),be.Qb&&(p[fe]=be.qb,ke=!0),!ke)if(Z($),be.jc){Se=$,Ve=p;var Me=fe,rt=be.pd[U(Se)&Vn-1];t(be.jc),256>rt.g?(G(Se,Se.u+rt.g),Ve[Me]=rt.value,Se=0):(G(Se,Se.u+rt.g-256),t(256<=rt.value),Se=rt.value),Se==0&&(ke=!0)}else Se=Yn(be.G[0],be.H[0],$);if($.h)break;if(ke||256>Se){if(!ke)if(be.nd)p[fe]=(be.qb|Se<<8)>>>0;else{if(Z($),ke=Yn(be.G[1],be.H[1],$),Z($),Ve=Yn(be.G[2],be.H[2],$),Me=Yn(be.G[3],be.H[3],$),$.h)break;p[fe]=(Me<<24|ke<<16|Se<<8|Ve)>>>0}if(ke=!1,++fe,++B>=j&&(B=0,++O,T!=null&&O<=L&&!(O%16)&&T(d,O),ne!=null))for(;pe<fe;)Se=p[pe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se}else if(280>Se){if(Se=_r(Se-256,$),Ve=Yn(be.G[4],be.H[4],$),Z($),Ve=li(j,Ve=_r(Ve,$)),$.h)break;if(fe-w<Ve||A-fe<Se)break e;for(Me=0;Me<Se;++Me)p[fe+Me]=p[fe+Me-Ve];for(fe+=Se,B+=Se;B>=j;)B-=j,++O,T!=null&&O<=L&&!(O%16)&&T(d,O);if(t(fe<=A),B&ie&&(be=ln(te,B,O)),ne!=null)for(;pe<fe;)Se=p[pe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se}else{if(!(Se<_e))break e;for(ke=Se-280,t(ne!=null);pe<fe;)Se=p[pe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se;Se=fe,t(!(ke>>>(Ve=ne).Xa)),p[Se]=Ve.X[ke],ke=!0}ke||t($.h==z($))}if(d.Pb&&$.h&&fe<A)t(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&ve(d.s.vb,d.s.Wa);else{if($.h)break e;T!=null&&T(d,O>L?L:O),d.a=0,d.$=fe-w}return 1}return d.a=3,0}function $r(d){t(d!=null),d.vc=null,d.yc=null,d.Ya=null;var p=d.Wa;p!=null&&(p.X=null),d.vb=null,t(d!=null)}function qr(){var d=new Ep;return d==null?null:(d.a=0,d.xb=Rv,Br("Predictor","VP8LPredictors"),Br("Predictor","VP8LPredictors_C"),Br("PredictorAdd","VP8LPredictorsAdd"),Br("PredictorAdd","VP8LPredictorsAdd_C"),_d=Qe,Ko=at,Nr=Ie,hr=Pn,Zs=_t,bs=br,Ss=Tt,R.VP8LMapColor32b=Ha,R.VP8LMapColor8b=kd,d)}function ci(d,p,w,j,A){var L=1,T=[d],O=[p],B=j.m,$=j.s,te=null,fe=0;e:for(;;){if(w)for(;L&&Y(B,1);){var pe=T,oe=O,_e=j,ge=1,ne=_e.m,ie=_e.gc[_e.ab],be=Y(ne,2);if(_e.Oc&1<<be)L=0;else{switch(_e.Oc|=1<<be,ie.hc=be,ie.Ea=pe[0],ie.nc=oe[0],ie.K=[null],++_e.ab,t(4>=_e.ab),be){case 0:case 1:ie.b=Y(ne,3)+2,ge=ci(Ge(ie.Ea,ie.b),Ge(ie.nc,ie.b),0,_e,ie.K),ie.K=ie.K[0];break;case 3:var ke,Se=Y(ne,8)+1,Ve=16<Se?0:4<Se?1:2<Se?2:3;if(pe[0]=Ge(ie.Ea,Ve),ie.b=Ve,ke=ge=ci(Se,1,0,_e,ie.K)){var Me,rt=Se,Ue=ie,Et=1<<(8>>Ue.b),It=s(Et);if(It==null)ke=0;else{var At=Ue.K[0],bt=Ue.w;for(It[0]=Ue.K[0][0],Me=1;Me<1*rt;++Me)It[Me]=Ce(At[bt+Me],It[Me-1]);for(;Me<4*Et;++Me)It[Me]=0;Ue.K[0]=null,Ue.K[0]=It,ke=1}}ge=ke;break;case 2:break;default:t(0)}L=ge}}if(T=T[0],O=O[0],L&&Y(B,1)&&!(L=1<=(fe=Y(B,4))&&11>=fe)){j.a=3;break e}var Ut;if(Ut=L)t:{var Dt,ft,kn,Ar=j,Nn=T,Cr=O,Rt=fe,Jr=w,Yr=Ar.m,On=Ar.s,Hn=[null],pr=1,gi=0,ts=s_[Rt];n:for(;;){if(Jr&&Y(Yr,1)){var Dn=Y(Yr,3)+2,Ns=Ge(Nn,Dn),Zo=Ge(Cr,Dn),Ya=Ns*Zo;if(!ci(Ns,Zo,0,Ar,Hn))break n;for(Hn=Hn[0],On.xc=Dn,Dt=0;Dt<Ya;++Dt){var io=Hn[Dt]>>8&65535;Hn[Dt]=io,io>=pr&&(pr=io+1)}}if(Yr.h)break n;for(ft=0;5>ft;++ft){var dn=Tv[ft];!ft&&0<Rt&&(dn+=1<<Rt),gi<dn&&(gi=dn)}var Up=o(pr*ts,P),qv=pr,Vv=o(qv,V);if(Vv==null)var Dd=null;else t(65536>=qv),Dd=Vv;var Rc=s(gi);if(Dd==null||Rc==null||Up==null){Ar.a=1;break n}var Md=Up;for(Dt=kn=0;Dt<pr;++Dt){var Ti=Dd[Dt],Xa=Ti.G,Qa=Ti.H,Hv=0,Bd=1,Wv=0;for(ft=0;5>ft;++ft){dn=Tv[ft],Xa[ft]=Md,Qa[ft]=kn,!ft&&0<Rt&&(dn+=1<<Rt);i:{var Ud,zp=dn,zd=Ar,Fc=Rc,N_=Md,A_=kn,$p=0,so=zd.m,C_=Y(so,1);if(i(Fc,0,0,zp),C_){var P_=Y(so,1)+1,E_=Y(so,1),Gv=Y(so,E_==0?1:8);Fc[Gv]=1,P_==2&&(Fc[Gv=Y(so,8)]=1);var $d=1}else{var Kv=s(19),Jv=Y(so,4)+4;if(19<Jv){zd.a=3;var qd=0;break i}for(Ud=0;Ud<Jv;++Ud)Kv[r_[Ud]]=Y(so,3);var qp=void 0,Oc=void 0,Yv=zd,L_=Kv,Vd=zp,Xv=Fc,Vp=0,oo=Yv.m,Qv=8,Zv=o(128,P);r:for(;F(Zv,0,7,L_,19);){if(Y(oo,1)){var T_=2+2*Y(oo,3);if((qp=2+Y(oo,T_))>Vd)break r}else qp=Vd;for(Oc=0;Oc<Vd&&qp--;){Z(oo);var e2=Zv[0+(127&U(oo))];G(oo,oo.u+e2.g);var Za=e2.value;if(16>Za)Xv[Oc++]=Za,Za!=0&&(Qv=Za);else{var I_=Za==16,t2=Za-16,R_=t_[t2],n2=Y(oo,e_[t2])+R_;if(Oc+n2>Vd)break r;for(var F_=I_?Qv:0;0<n2--;)Xv[Oc++]=F_}}Vp=1;break r}Vp||(Yv.a=3),$d=Vp}($d=$d&&!so.h)&&($p=F(N_,A_,8,Fc,zp)),$d&&$p!=0?qd=$p:(zd.a=3,qd=0)}if(qd==0)break n;if(Bd&&n_[ft]==1&&(Bd=Md[kn].g==0),Hv+=Md[kn].g,kn+=qd,3>=ft){var Dc,Hp=Rc[0];for(Dc=1;Dc<dn;++Dc)Rc[Dc]>Hp&&(Hp=Rc[Dc]);Wv+=Hp}}if(Ti.nd=Bd,Ti.Qb=0,Bd&&(Ti.qb=(Xa[3][Qa[3]+0].value<<24|Xa[1][Qa[1]+0].value<<16|Xa[2][Qa[2]+0].value)>>>0,Hv==0&&256>Xa[0][Qa[0]+0].value&&(Ti.Qb=1,Ti.qb+=Xa[0][Qa[0]+0].value<<8)),Ti.jc=!Ti.Qb&&6>Wv,Ti.jc){var Hd,As=Ti;for(Hd=0;Hd<Vn;++Hd){var ao=Hd,lo=As.pd[ao],Wd=As.G[0][As.H[0]+ao];256<=Wd.value?(lo.g=Wd.g+256,lo.value=Wd.value):(lo.g=0,lo.value=0,ao>>=mn(Wd,8,lo),ao>>=mn(As.G[1][As.H[1]+ao],16,lo),ao>>=mn(As.G[2][As.H[2]+ao],0,lo),mn(As.G[3][As.H[3]+ao],24,lo))}}}On.vc=Hn,On.Wb=pr,On.Ya=Dd,On.yc=Up,Ut=1;break t}Ut=0}if(!(L=Ut)){j.a=3;break e}if(0<fe){if($.ua=1<<fe,!et($.Wa,fe)){j.a=1,L=0;break e}}else $.ua=0;var Wp=j,r2=T,O_=O,Gp=Wp.s,Kp=Gp.xc;if(Wp.c=r2,Wp.i=O_,Gp.md=Ge(r2,Kp),Gp.wc=Kp==0?-1:(1<<Kp)-1,w){j.xb=f_;break e}if((te=s(T*O))==null){j.a=1,L=0;break e}L=(L=Xn(j,te,0,T,O,O,null))&&!B.h;break e}return L?(A!=null?A[0]=te:(t(te==null),t(w)),j.$=0,w||$r($)):$r($),L}function gs(d,p){var w=d.c*d.i,j=w+p+16*p;return t(d.c<=p),d.V=s(j),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+w+p,1)}function vs(d,p){var w=d.C,j=p-w,A=d.V,L=d.Ba+d.c*w;for(t(p<=d.l.o);0<j;){var T=16<j?16:j,O=d.l.ma,B=d.l.width,$=B*T,te=O.ca,fe=O.tb+B*w,pe=d.Ta,oe=d.Ua;$n(d,T,A,L),vn(pe,oe,te,fe,$),zr(O,w,w+T,te,fe,B),j-=T,A+=T*d.c,w+=T}t(w==p),d.C=d.Ma=p}function Yi(){this.ub=this.yd=this.td=this.Rb=0}function Ks(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xi(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ea(){this.Yb=function(){var d=[];return function p(w,j,A){for(var L=A[j],T=0;T<L&&(w.push(A.length>j+1?[]:0),!(A.length<j+1));T++)p(w[T],j+1,A)}(d,0,[3,11]),d}()}function La(){this.jb=s(3),this.Wc=a([4,8],Ea),this.Xc=a([4,17],Ea)}function cc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Vr(){this.ld=this.La=this.dd=this.tc=0}function Ta(){this.Na=this.la=0}function uc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Be(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function je(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vr),this.Y=0,this.ya=Array(new Be),this.aa=0,this.l=new $e}function Xe(){this.y=s(16),this.f=s(8),this.ea=s(8)}function vt(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new Yi,this.Kc=new Ks,this.ed=new cc,this.Qa=new Xi,this.Ic=this.$c=this.Aa=0,this.D=new je,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,uc),this.Pa=new La,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Xe),this.Hd=0,this.rb=Array(new Ta),this.sb=0,this.wa=Array(new Vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Be),this.L=this.aa=0,this.gd=a([4,2],Vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $e(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Je(){var d=new vt;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Tc||(Tc=_n)),d}function Ne(d,p,w){return d.a==0&&(d.a=p,d.sc=w,d.cb=0),0}function Pt(d,p,w){return 3<=w&&d[p+0]==157&&d[p+1]==1&&d[p+2]==42}function cn(d,p){if(d==null)return 0;if(d.a=0,d.sc="OK",p==null)return Ne(d,2,"null VP8Io passed to VP8GetHeaders()");var w=p.data,j=p.w,A=p.ha;if(4>A)return Ne(d,7,"Truncated header.");var L=w[j+0]|w[j+1]<<8|w[j+2]<<16,T=d.Od;if(T.Rb=!(1&L),T.td=L>>1&7,T.yd=L>>4&1,T.ub=L>>5,3<T.td)return Ne(d,3,"Incorrect keyframe parameters.");if(!T.yd)return Ne(d,4,"Frame not displayable.");j+=3,A-=3;var O=d.Kc;if(T.Rb){if(7>A)return Ne(d,7,"cannot parse picture header");if(!Pt(w,j,A))return Ne(d,3,"Bad code word");O.c=16383&(w[j+4]<<8|w[j+3]),O.Td=w[j+4]>>6,O.i=16383&(w[j+6]<<8|w[j+5]),O.Ud=w[j+6]>>6,j+=7,A-=7,d.za=O.c+15>>4,d.Ub=O.i+15>>4,p.width=O.c,p.height=O.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((L=d.Pa).jb,0,255,L.jb.length),t((L=d.Qa)!=null),L.Cb=0,L.Bb=0,L.Fb=1,i(L.Zb,0,0,L.Zb.length),i(L.Lb,0,0,L.Lb)}if(T.ub>A)return Ne(d,7,"bad partition length");ae(L=d.m,w,j,T.ub),j+=T.ub,A-=T.ub,T.Rb&&(O.Ld=he(L),O.Kd=he(L)),O=d.Qa;var B,$=d.Pa;if(t(L!=null),t(O!=null),O.Cb=he(L),O.Cb){if(O.Bb=he(L),he(L)){for(O.Fb=he(L),B=0;4>B;++B)O.Zb[B]=he(L)?le(L,7):0;for(B=0;4>B;++B)O.Lb[B]=he(L)?le(L,6):0}if(O.Bb)for(B=0;3>B;++B)$.jb[B]=he(L)?ce(L,8):255}else O.Bb=0;if(L.Ka)return Ne(d,3,"cannot parse segment header");if((O=d.ed).zd=he(L),O.Tb=ce(L,6),O.wb=ce(L,3),O.Pc=he(L),O.Pc&&he(L)){for($=0;4>$;++$)he(L)&&(O.vd[$]=le(L,6));for($=0;4>$;++$)he(L)&&(O.od[$]=le(L,6))}if(d.L=O.Tb==0?0:O.zd?1:2,L.Ka)return Ne(d,3,"cannot parse filter header");var te=A;if(A=B=j,j=B+te,O=te,d.Xb=(1<<ce(d.m,2))-1,te<3*($=d.Xb))w=7;else{for(B+=3*$,O-=3*$,te=0;te<$;++te){var fe=w[A+0]|w[A+1]<<8|w[A+2]<<16;fe>O&&(fe=O),ae(d.Jc[+te],w,B,fe),B+=fe,O-=fe,A+=3}ae(d.Jc[+$],w,B,O),w=B<j?0:5}if(w!=0)return Ne(d,w,"cannot parse partitions");for(w=ce(B=d.m,7),A=he(B)?le(B,4):0,j=he(B)?le(B,4):0,O=he(B)?le(B,4):0,$=he(B)?le(B,4):0,B=he(B)?le(B,4):0,te=d.Qa,fe=0;4>fe;++fe){if(te.Cb){var pe=te.Zb[fe];te.Fb||(pe+=w)}else{if(0<fe){d.pb[fe]=d.pb[0];continue}pe=w}var oe=d.pb[fe];oe.Sc[0]=Dp[Gr(pe+A,127)],oe.Sc[1]=Mp[Gr(pe+0,127)],oe.Eb[0]=2*Dp[Gr(pe+j,127)],oe.Eb[1]=101581*Mp[Gr(pe+O,127)]>>16,8>oe.Eb[1]&&(oe.Eb[1]=8),oe.Qc[0]=Dp[Gr(pe+$,117)],oe.Qc[1]=Mp[Gr(pe+B,127)],oe.lc=pe+B}if(!T.Rb)return Ne(d,4,"Not a key frame.");for(he(L),T=d.Pa,w=0;4>w;++w){for(A=0;8>A;++A)for(j=0;3>j;++j)for(O=0;11>O;++O)$=de(L,d_[w][A][j][O])?ce(L,8):c_[w][A][j][O],T.Wc[w][A].Yb[j][O]=$;for(A=0;17>A;++A)T.Xc[w][A]=T.Wc[w][h_[A]]}return d.kc=he(L),d.kc&&(d.Bd=ce(L,8)),d.cb=1}function _n(d,p,w,j,A,L,T){var O=p[A].Yb[w];for(w=0;16>A;++A){if(!de(d,O[w+0]))return A;for(;!de(d,O[w+1]);)if(O=p[++A].Yb[0],w=0,A==16)return 16;var B=p[A+1].Yb;if(de(d,O[w+2])){var $=d,te=0;if(de($,(pe=O)[(fe=w)+3]))if(de($,pe[fe+6])){for(O=0,fe=2*(te=de($,pe[fe+8]))+(pe=de($,pe[fe+9+te])),te=0,pe=a_[fe];pe[O];++O)te+=te+de($,pe[O]);te+=3+(8<<fe)}else de($,pe[fe+7])?(te=7+2*de($,165),te+=de($,145)):te=5+de($,159);else te=de($,pe[fe+4])?3+de($,pe[fe+5]):2;O=B[2]}else te=1,O=B[1];B=T+l_[A],0>($=d).b&&se($);var fe,pe=$.b,oe=(fe=$.Ca>>1)-($.I>>pe)>>31;--$.b,$.Ca+=oe,$.Ca|=1,$.I-=(fe+1&oe)<<pe,L[B]=((te^oe)-oe)*j[(0<A)+0]}return 16}function Hr(d){var p=d.rb[d.sb-1];p.la=0,p.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function Wr(d,p){if(d==null)return 0;if(p==null)return Ne(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!cn(d,p))return 0;if(t(d.cb),p.ac==null||p.ac(p)){p.ob&&(d.L=0);var w=Od[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=p.v-w>>4,d.zb=p.j-w>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=p.o+15+w>>4,d.Hb=p.va+15+w>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var j=d.ed;for(w=0;4>w;++w){var A;if(d.Qa.Cb){var L=d.Qa.Lb[w];d.Qa.Fb||(L+=j.Tb)}else L=j.Tb;for(A=0;1>=A;++A){var T=d.gd[w][A],O=L;if(j.Pc&&(O+=j.vd[0],A&&(O+=j.od[0])),0<(O=0>O?0:63<O?63:O)){var B=O;0<j.wb&&(B=4<j.wb?B>>2:B>>1)>9-j.wb&&(B=9-j.wb),1>B&&(B=1),T.dd=B,T.tc=2*O+B,T.ld=40<=O?2:15<=O?1:0}else T.tc=0;T.La=A}}}w=0}else Ne(d,6,"Frame setup failed"),w=d.a;if(w=w==0){if(w){d.$c=0,0<d.Aa||(d.Ic=k_);e:{w=d.Ic,j=4*(B=d.za);var $=32*B,te=B+1,fe=0<d.L?B*(0<d.Aa?2:1):0,pe=(d.Aa==2?2:1)*B;if((T=j+832+(A=3*(16*w+Od[d.L])/2*$)+(L=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=T)w=0;else{if(T>d.Vb){if(d.Vb=0,d.Ec=s(T),d.Fc=0,d.Ec==null){w=Ne(d,1,"no memory during frame initialization.");break e}d.Vb=T}T=d.Ec,O=d.Fc,d.Ac=T,d.Bc=O,O+=j,d.Gd=o($,Xe),d.Hd=0,d.rb=o(te+1,Ta),d.sb=1,d.wa=fe?o(fe,Vr):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=B),t(!0),d.oc=T,d.pc=O,O+=832,d.ya=o(pe,Be),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=B),d.R=16*B,d.B=8*B,B=($=Od[d.L])*d.R,$=$/2*d.B,d.sa=T,d.ta=O+B,d.qa=d.sa,d.ra=d.ta+16*w*d.R+$,d.Ha=d.qa,d.Ia=d.ra+8*w*d.B+$,d.$c=0,O+=A,d.mb=L?T:null,d.nb=L?O:null,t(O+L<=d.Fc+d.Vb),Hr(d),i(d.Ac,d.Bc,0,j),w=1}}if(w){if(p.ka=0,p.y=d.sa,p.O=d.ta,p.f=d.qa,p.N=d.ra,p.ea=d.Ha,p.Vd=d.Ia,p.fa=d.R,p.Rc=d.B,p.F=null,p.J=0,!Ad){for(w=-255;255>=w;++w)Tn[255+w]=0>w?-w:w;for(w=-1020;1020>=w;++w)js[1020+w]=-128>w?-128:127<w?127:w;for(w=-112;112>=w;++w)Lc[112+w]=-16>w?-16:15<w?15:w;for(w=-255;510>=w;++w)Ja[255+w]=0>w?0:255<w?255:w;Ad=1}Wa=gp,_s=ys,Cc=ud,fr=mp,di=dd,gn=Ci,Ga=mc,Nd=Wo,Pc=Pp,Jo=gc,Yo=Cp,eo=Da,Xo=vc,Ka=xd,Qo=wd,to=Zi,Ec=xs,hi=Ap,Li[0]=Qi,Li[1]=vp,Li[2]=bp,Li[3]=Sp,Li[4]=pd,Li[5]=Fa,Li[6]=md,Li[7]=hc,Li[8]=jp,Li[9]=_p,no[0]=hd,no[1]=wp,no[2]=ws,no[3]=Ia,no[4]=Qn,no[5]=xp,no[6]=fd,ks[0]=Js,ks[1]=yp,ks[2]=kp,ks[3]=fc,ks[4]=Ho,ks[5]=Np,ks[6]=pc,w=1}else w=0}w&&(w=function(oe,_e){for(oe.M=0;oe.M<oe.Va;++oe.M){var ge,ne=oe.Jc[oe.M&oe.Xb],ie=oe.m,be=oe;for(ge=0;ge<be.za;++ge){var ke=ie,Se=be,Ve=Se.Ac,Me=Se.Bc+4*ge,rt=Se.zc,Ue=Se.ya[Se.aa+ge];if(Se.Qa.Bb?Ue.$b=de(ke,Se.Pa.jb[0])?2+de(ke,Se.Pa.jb[2]):de(ke,Se.Pa.jb[1]):Ue.$b=0,Se.kc&&(Ue.Ad=de(ke,Se.Bd)),Ue.Za=!de(ke,145)+0,Ue.Za){var Et=Ue.Ob,It=0;for(Se=0;4>Se;++Se){var At,bt=rt[0+Se];for(At=0;4>At;++At){bt=u_[Ve[Me+At]][bt];for(var Ut=Iv[de(ke,bt[0])];0<Ut;)Ut=Iv[2*Ut+de(ke,bt[Ut])];bt=-Ut,Ve[Me+At]=bt}r(Et,It,Ve,Me,4),It+=4,rt[0+Se]=bt}}else bt=de(ke,156)?de(ke,128)?1:3:de(ke,163)?2:0,Ue.Ob[0]=bt,i(Ve,Me,bt,4),i(rt,0,bt,4);Ue.Dd=de(ke,142)?de(ke,114)?de(ke,183)?1:3:2:0}if(be.m.Ka)return Ne(oe,7,"Premature end-of-partition0 encountered.");for(;oe.ja<oe.za;++oe.ja){if(be=ne,ke=(ie=oe).rb[ie.sb-1],Ve=ie.rb[ie.sb+ie.ja],ge=ie.ya[ie.aa+ie.ja],Me=ie.kc?ge.Ad:0)ke.la=Ve.la=0,ge.Za||(ke.Na=Ve.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var Dt,ft;if(ke=Ve,Ve=be,Me=ie.Pa.Xc,rt=ie.ya[ie.aa+ie.ja],Ue=ie.pb[rt.$b],Se=rt.ad,Et=0,It=ie.rb[ie.sb-1],bt=At=0,i(Se,Et,0,384),rt.Za)var kn=0,Ar=Me[3];else{Ut=s(16);var Nn=ke.Na+It.Na;if(Nn=Tc(Ve,Me[1],Nn,Ue.Eb,0,Ut,0),ke.Na=It.Na=(0<Nn)+0,1<Nn)Wa(Ut,0,Se,Et);else{var Cr=Ut[0]+3>>3;for(Ut=0;256>Ut;Ut+=16)Se[Et+Ut]=Cr}kn=1,Ar=Me[0]}var Rt=15&ke.la,Jr=15&It.la;for(Ut=0;4>Ut;++Ut){var Yr=1&Jr;for(Cr=ft=0;4>Cr;++Cr)Rt=Rt>>1|(Yr=(Nn=Tc(Ve,Ar,Nn=Yr+(1&Rt),Ue.Sc,kn,Se,Et))>kn)<<7,ft=ft<<2|(3<Nn?3:1<Nn?2:Se[Et+0]!=0),Et+=16;Rt>>=4,Jr=Jr>>1|Yr<<7,At=(At<<8|ft)>>>0}for(Ar=Rt,kn=Jr>>4,Dt=0;4>Dt;Dt+=2){for(ft=0,Rt=ke.la>>4+Dt,Jr=It.la>>4+Dt,Ut=0;2>Ut;++Ut){for(Yr=1&Jr,Cr=0;2>Cr;++Cr)Nn=Yr+(1&Rt),Rt=Rt>>1|(Yr=0<(Nn=Tc(Ve,Me[2],Nn,Ue.Qc,0,Se,Et)))<<3,ft=ft<<2|(3<Nn?3:1<Nn?2:Se[Et+0]!=0),Et+=16;Rt>>=2,Jr=Jr>>1|Yr<<5}bt|=ft<<4*Dt,Ar|=Rt<<4<<Dt,kn|=(240&Jr)<<Dt}ke.la=Ar,It.la=kn,rt.Hc=At,rt.Gc=bt,rt.ia=43690&bt?0:Ue.ia,Me=!(At|bt)}if(0<ie.L&&(ie.wa[ie.Y+ie.ja]=ie.gd[ge.$b][ge.Za],ie.wa[ie.Y+ie.ja].La|=!Me),be.Ka)return Ne(oe,7,"Premature end-of-file encountered.")}if(Hr(oe),ie=_e,be=1,ge=(ne=oe).D,ke=0<ne.L&&ne.M>=ne.zb&&ne.M<=ne.Va,ne.Aa==0)e:{if(ge.M=ne.M,ge.uc=ke,_c(ne,ge),be=1,ge=(ft=ne.D).Nb,ke=(bt=Od[ne.L])*ne.R,Ve=bt/2*ne.B,Ut=16*ge*ne.R,Cr=8*ge*ne.B,Me=ne.sa,rt=ne.ta-ke+Ut,Ue=ne.qa,Se=ne.ra-Ve+Cr,Et=ne.Ha,It=ne.Ia-Ve+Cr,Jr=(Rt=ft.M)==0,At=Rt>=ne.Va-1,ne.Aa==2&&_c(ne,ft),ft.uc)for(Yr=(Nn=ne).D.M,t(Nn.D.uc),ft=Nn.yb;ft<Nn.Hb;++ft){kn=ft,Ar=Yr;var On=(Hn=(dn=Nn).D).Nb;Dt=dn.R;var Hn=Hn.wa[Hn.Y+kn],pr=dn.sa,gi=dn.ta+16*On*Dt+16*kn,ts=Hn.dd,Dn=Hn.tc;if(Dn!=0)if(t(3<=Dn),dn.L==1)0<kn&&to(pr,gi,Dt,Dn+4),Hn.La&&hi(pr,gi,Dt,Dn),0<Ar&&Qo(pr,gi,Dt,Dn+4),Hn.La&&Ec(pr,gi,Dt,Dn);else{var Ns=dn.B,Zo=dn.qa,Ya=dn.ra+8*On*Ns+8*kn,io=dn.Ha,dn=dn.Ia+8*On*Ns+8*kn;On=Hn.ld,0<kn&&(Nd(pr,gi,Dt,Dn+4,ts,On),Jo(Zo,Ya,io,dn,Ns,Dn+4,ts,On)),Hn.La&&(eo(pr,gi,Dt,Dn,ts,On),Ka(Zo,Ya,io,dn,Ns,Dn,ts,On)),0<Ar&&(Ga(pr,gi,Dt,Dn+4,ts,On),Pc(Zo,Ya,io,dn,Ns,Dn+4,ts,On)),Hn.La&&(Yo(pr,gi,Dt,Dn,ts,On),Xo(Zo,Ya,io,dn,Ns,Dn,ts,On))}}if(ne.ia&&alert("todo:DitherRow"),ie.put!=null){if(ft=16*Rt,Rt=16*(Rt+1),Jr?(ie.y=ne.sa,ie.O=ne.ta+Ut,ie.f=ne.qa,ie.N=ne.ra+Cr,ie.ea=ne.Ha,ie.W=ne.Ia+Cr):(ft-=bt,ie.y=Me,ie.O=rt,ie.f=Ue,ie.N=Se,ie.ea=Et,ie.W=It),At||(Rt-=bt),Rt>ie.o&&(Rt=ie.o),ie.F=null,ie.J=null,ne.Fa!=null&&0<ne.Fa.length&&ft<Rt&&(ie.J=bc(ne,ie,ft,Rt-ft),ie.F=ne.mb,ie.F==null&&ie.F.length==0)){be=Ne(ne,3,"Could not decode alpha data.");break e}ft<ie.j&&(bt=ie.j-ft,ft=ie.j,t(!(1&bt)),ie.O+=ne.R*bt,ie.N+=ne.B*(bt>>1),ie.W+=ne.B*(bt>>1),ie.F!=null&&(ie.J+=ie.width*bt)),ft<Rt&&(ie.O+=ie.v,ie.N+=ie.v>>1,ie.W+=ie.v>>1,ie.F!=null&&(ie.J+=ie.v),ie.ka=ft-ie.j,ie.U=ie.va-ie.v,ie.T=Rt-ft,be=ie.put(ie))}ge+1!=ne.Ic||At||(r(ne.sa,ne.ta-ke,Me,rt+16*ne.R,ke),r(ne.qa,ne.ra-Ve,Ue,Se+8*ne.B,Ve),r(ne.Ha,ne.Ia-Ve,Et,It+8*ne.B,Ve))}if(!be)return Ne(oe,6,"Output aborted.")}return 1}(d,p)),p.bc!=null&&p.bc(p),w&=1}return w?(d.cb=0,w):0}function Lt(d,p,w,j,A){A=d[p+w+32*j]+(A>>3),d[p+w+32*j]=-256&A?0>A?0:255:A}function Ln(d,p,w,j,A,L){Lt(d,p,0,w,j+A),Lt(d,p,1,w,j+L),Lt(d,p,2,w,j-L),Lt(d,p,3,w,j-A)}function Gt(d){return(20091*d>>16)+d}function jr(d,p,w,j){var A,L=0,T=s(16);for(A=0;4>A;++A){var O=d[p+0]+d[p+8],B=d[p+0]-d[p+8],$=(35468*d[p+4]>>16)-Gt(d[p+12]),te=Gt(d[p+4])+(35468*d[p+12]>>16);T[L+0]=O+te,T[L+1]=B+$,T[L+2]=B-$,T[L+3]=O-te,L+=4,p++}for(A=L=0;4>A;++A)O=(d=T[L+0]+4)+T[L+8],B=d-T[L+8],$=(35468*T[L+4]>>16)-Gt(T[L+12]),Lt(w,j,0,0,O+(te=Gt(T[L+4])+(35468*T[L+12]>>16))),Lt(w,j,1,0,B+$),Lt(w,j,2,0,B-$),Lt(w,j,3,0,O-te),L++,j+=32}function Ci(d,p,w,j){var A=d[p+0]+4,L=35468*d[p+4]>>16,T=Gt(d[p+4]),O=35468*d[p+1]>>16;Ln(w,j,0,A+T,d=Gt(d[p+1]),O),Ln(w,j,1,A+L,d,O),Ln(w,j,2,A-L,d,O),Ln(w,j,3,A-T,d,O)}function ys(d,p,w,j,A){jr(d,p,w,j),A&&jr(d,p+16,w,j+4)}function ud(d,p,w,j){_s(d,p+0,w,j,1),_s(d,p+32,w,j+128,1)}function mp(d,p,w,j){var A;for(d=d[p+0]+4,A=0;4>A;++A)for(p=0;4>p;++p)Lt(w,j,p,A,d)}function dd(d,p,w,j){d[p+0]&&fr(d,p+0,w,j),d[p+16]&&fr(d,p+16,w,j+4),d[p+32]&&fr(d,p+32,w,j+128),d[p+48]&&fr(d,p+48,w,j+128+4)}function gp(d,p,w,j){var A,L=s(16);for(A=0;4>A;++A){var T=d[p+0+A]+d[p+12+A],O=d[p+4+A]+d[p+8+A],B=d[p+4+A]-d[p+8+A],$=d[p+0+A]-d[p+12+A];L[0+A]=T+O,L[8+A]=T-O,L[4+A]=$+B,L[12+A]=$-B}for(A=0;4>A;++A)T=(d=L[0+4*A]+3)+L[3+4*A],O=L[1+4*A]+L[2+4*A],B=L[1+4*A]-L[2+4*A],$=d-L[3+4*A],w[j+0]=T+O>>3,w[j+16]=$+B>>3,w[j+32]=T-O>>3,w[j+48]=$-B>>3,j+=64}function dc(d,p,w){var j,A=p-32,L=Kr,T=255-d[A-1];for(j=0;j<w;++j){var O,B=L,$=T+d[p-1];for(O=0;O<w;++O)d[p+O]=B[$+d[A+O]];p+=32}}function vp(d,p){dc(d,p,4)}function yp(d,p){dc(d,p,8)}function wp(d,p){dc(d,p,16)}function ws(d,p){var w;for(w=0;16>w;++w)r(d,p+32*w,d,p-32,16)}function Ia(d,p){var w;for(w=16;0<w;--w)i(d,p,d[p-1],16),p+=32}function Ra(d,p,w){var j;for(j=0;16>j;++j)i(p,w+32*j,d,16)}function hd(d,p){var w,j=16;for(w=0;16>w;++w)j+=d[p-1+32*w]+d[p+w-32];Ra(j>>5,d,p)}function Qn(d,p){var w,j=8;for(w=0;16>w;++w)j+=d[p-1+32*w];Ra(j>>4,d,p)}function xp(d,p){var w,j=8;for(w=0;16>w;++w)j+=d[p+w-32];Ra(j>>4,d,p)}function fd(d,p){Ra(128,d,p)}function ct(d,p,w){return d+2*p+w+2>>2}function bp(d,p){var w,j=p-32;for(j=new Uint8Array([ct(d[j-1],d[j+0],d[j+1]),ct(d[j+0],d[j+1],d[j+2]),ct(d[j+1],d[j+2],d[j+3]),ct(d[j+2],d[j+3],d[j+4])]),w=0;4>w;++w)r(d,p+32*w,j,0,j.length)}function Sp(d,p){var w=d[p-1],j=d[p-1+32],A=d[p-1+64],L=d[p-1+96];xe(d,p+0,16843009*ct(d[p-1-32],w,j)),xe(d,p+32,16843009*ct(w,j,A)),xe(d,p+64,16843009*ct(j,A,L)),xe(d,p+96,16843009*ct(A,L,L))}function Qi(d,p){var w,j=4;for(w=0;4>w;++w)j+=d[p+w-32]+d[p-1+32*w];for(j>>=3,w=0;4>w;++w)i(d,p+32*w,j,4)}function pd(d,p){var w=d[p-1+0],j=d[p-1+32],A=d[p-1+64],L=d[p-1-32],T=d[p+0-32],O=d[p+1-32],B=d[p+2-32],$=d[p+3-32];d[p+0+96]=ct(j,A,d[p-1+96]),d[p+1+96]=d[p+0+64]=ct(w,j,A),d[p+2+96]=d[p+1+64]=d[p+0+32]=ct(L,w,j),d[p+3+96]=d[p+2+64]=d[p+1+32]=d[p+0+0]=ct(T,L,w),d[p+3+64]=d[p+2+32]=d[p+1+0]=ct(O,T,L),d[p+3+32]=d[p+2+0]=ct(B,O,T),d[p+3+0]=ct($,B,O)}function md(d,p){var w=d[p+1-32],j=d[p+2-32],A=d[p+3-32],L=d[p+4-32],T=d[p+5-32],O=d[p+6-32],B=d[p+7-32];d[p+0+0]=ct(d[p+0-32],w,j),d[p+1+0]=d[p+0+32]=ct(w,j,A),d[p+2+0]=d[p+1+32]=d[p+0+64]=ct(j,A,L),d[p+3+0]=d[p+2+32]=d[p+1+64]=d[p+0+96]=ct(A,L,T),d[p+3+32]=d[p+2+64]=d[p+1+96]=ct(L,T,O),d[p+3+64]=d[p+2+96]=ct(T,O,B),d[p+3+96]=ct(O,B,B)}function Fa(d,p){var w=d[p-1+0],j=d[p-1+32],A=d[p-1+64],L=d[p-1-32],T=d[p+0-32],O=d[p+1-32],B=d[p+2-32],$=d[p+3-32];d[p+0+0]=d[p+1+64]=L+T+1>>1,d[p+1+0]=d[p+2+64]=T+O+1>>1,d[p+2+0]=d[p+3+64]=O+B+1>>1,d[p+3+0]=B+$+1>>1,d[p+0+96]=ct(A,j,w),d[p+0+64]=ct(j,w,L),d[p+0+32]=d[p+1+96]=ct(w,L,T),d[p+1+32]=d[p+2+96]=ct(L,T,O),d[p+2+32]=d[p+3+96]=ct(T,O,B),d[p+3+32]=ct(O,B,$)}function hc(d,p){var w=d[p+0-32],j=d[p+1-32],A=d[p+2-32],L=d[p+3-32],T=d[p+4-32],O=d[p+5-32],B=d[p+6-32],$=d[p+7-32];d[p+0+0]=w+j+1>>1,d[p+1+0]=d[p+0+64]=j+A+1>>1,d[p+2+0]=d[p+1+64]=A+L+1>>1,d[p+3+0]=d[p+2+64]=L+T+1>>1,d[p+0+32]=ct(w,j,A),d[p+1+32]=d[p+0+96]=ct(j,A,L),d[p+2+32]=d[p+1+96]=ct(A,L,T),d[p+3+32]=d[p+2+96]=ct(L,T,O),d[p+3+64]=ct(T,O,B),d[p+3+96]=ct(O,B,$)}function _p(d,p){var w=d[p-1+0],j=d[p-1+32],A=d[p-1+64],L=d[p-1+96];d[p+0+0]=w+j+1>>1,d[p+2+0]=d[p+0+32]=j+A+1>>1,d[p+2+32]=d[p+0+64]=A+L+1>>1,d[p+1+0]=ct(w,j,A),d[p+3+0]=d[p+1+32]=ct(j,A,L),d[p+3+32]=d[p+1+64]=ct(A,L,L),d[p+3+64]=d[p+2+64]=d[p+0+96]=d[p+1+96]=d[p+2+96]=d[p+3+96]=L}function jp(d,p){var w=d[p-1+0],j=d[p-1+32],A=d[p-1+64],L=d[p-1+96],T=d[p-1-32],O=d[p+0-32],B=d[p+1-32],$=d[p+2-32];d[p+0+0]=d[p+2+32]=w+T+1>>1,d[p+0+32]=d[p+2+64]=j+w+1>>1,d[p+0+64]=d[p+2+96]=A+j+1>>1,d[p+0+96]=L+A+1>>1,d[p+3+0]=ct(O,B,$),d[p+2+0]=ct(T,O,B),d[p+1+0]=d[p+3+32]=ct(w,T,O),d[p+1+32]=d[p+3+64]=ct(j,w,T),d[p+1+64]=d[p+3+96]=ct(A,j,w),d[p+1+96]=ct(L,A,j)}function kp(d,p){var w;for(w=0;8>w;++w)r(d,p+32*w,d,p-32,8)}function fc(d,p){var w;for(w=0;8>w;++w)i(d,p,d[p-1],8),p+=32}function Vo(d,p,w){var j;for(j=0;8>j;++j)i(p,w+32*j,d,8)}function Js(d,p){var w,j=8;for(w=0;8>w;++w)j+=d[p+w-32]+d[p-1+32*w];Vo(j>>4,d,p)}function Np(d,p){var w,j=4;for(w=0;8>w;++w)j+=d[p+w-32];Vo(j>>3,d,p)}function Ho(d,p){var w,j=4;for(w=0;8>w;++w)j+=d[p-1+32*w];Vo(j>>3,d,p)}function pc(d,p){Vo(128,d,p)}function Oa(d,p,w){var j=d[p-w],A=d[p+0],L=3*(A-j)+Tp[1020+d[p-2*w]-d[p+w]],T=Cd[112+(L+4>>3)];d[p-w]=Kr[255+j+Cd[112+(L+3>>3)]],d[p+0]=Kr[255+A-T]}function gd(d,p,w,j){var A=d[p+0],L=d[p+w];return pi[255+d[p-2*w]-d[p-w]]>j||pi[255+L-A]>j}function vd(d,p,w,j){return 4*pi[255+d[p-w]-d[p+0]]+pi[255+d[p-2*w]-d[p+w]]<=j}function yd(d,p,w,j,A){var L=d[p-3*w],T=d[p-2*w],O=d[p-w],B=d[p+0],$=d[p+w],te=d[p+2*w],fe=d[p+3*w];return 4*pi[255+O-B]+pi[255+T-$]>j?0:pi[255+d[p-4*w]-L]<=A&&pi[255+L-T]<=A&&pi[255+T-O]<=A&&pi[255+fe-te]<=A&&pi[255+te-$]<=A&&pi[255+$-B]<=A}function wd(d,p,w,j){var A=2*j+1;for(j=0;16>j;++j)vd(d,p+j,w,A)&&Oa(d,p+j,w)}function Zi(d,p,w,j){var A=2*j+1;for(j=0;16>j;++j)vd(d,p+j*w,1,A)&&Oa(d,p+j*w,1)}function xs(d,p,w,j){var A;for(A=3;0<A;--A)wd(d,p+=4*w,w,j)}function Ap(d,p,w,j){var A;for(A=3;0<A;--A)Zi(d,p+=4,w,j)}function Ys(d,p,w,j,A,L,T,O){for(L=2*L+1;0<A--;){if(yd(d,p,w,L,T))if(gd(d,p,w,O))Oa(d,p,w);else{var B=d,$=p,te=w,fe=B[$-2*te],pe=B[$-te],oe=B[$+0],_e=B[$+te],ge=B[$+2*te],ne=27*(be=Tp[1020+3*(oe-pe)+Tp[1020+fe-_e]])+63>>7,ie=18*be+63>>7,be=9*be+63>>7;B[$-3*te]=Kr[255+B[$-3*te]+be],B[$-2*te]=Kr[255+fe+ie],B[$-te]=Kr[255+pe+ne],B[$+0]=Kr[255+oe-ne],B[$+te]=Kr[255+_e-ie],B[$+2*te]=Kr[255+ge-be]}p+=j}}function Pi(d,p,w,j,A,L,T,O){for(L=2*L+1;0<A--;){if(yd(d,p,w,L,T))if(gd(d,p,w,O))Oa(d,p,w);else{var B=d,$=p,te=w,fe=B[$-te],pe=B[$+0],oe=B[$+te],_e=Cd[112+((ge=3*(pe-fe))+4>>3)],ge=Cd[112+(ge+3>>3)],ne=_e+1>>1;B[$-2*te]=Kr[255+B[$-2*te]+ne],B[$-te]=Kr[255+fe+ge],B[$+0]=Kr[255+pe-_e],B[$+te]=Kr[255+oe-ne]}p+=j}}function mc(d,p,w,j,A,L){Ys(d,p,w,1,16,j,A,L)}function Wo(d,p,w,j,A,L){Ys(d,p,1,w,16,j,A,L)}function Cp(d,p,w,j,A,L){var T;for(T=3;0<T;--T)Pi(d,p+=4*w,w,1,16,j,A,L)}function Da(d,p,w,j,A,L){var T;for(T=3;0<T;--T)Pi(d,p+=4,1,w,16,j,A,L)}function Pp(d,p,w,j,A,L,T,O){Ys(d,p,A,1,8,L,T,O),Ys(w,j,A,1,8,L,T,O)}function gc(d,p,w,j,A,L,T,O){Ys(d,p,1,A,8,L,T,O),Ys(w,j,1,A,8,L,T,O)}function vc(d,p,w,j,A,L,T,O){Pi(d,p+4*A,A,1,8,L,T,O),Pi(w,j+4*A,A,1,8,L,T,O)}function xd(d,p,w,j,A,L,T,O){Pi(d,p+4,1,A,8,L,T,O),Pi(w,j+4,1,A,8,L,T,O)}function Ma(){this.ba=new Sr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function wc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bd(){this.ua=0,this.Wa=new K,this.vb=new K,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new P}function Ep(){this.xb=this.a=0,this.l=new $e,this.ca=new Sr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bd,this.ab=0,this.gc=o(4,wc),this.Oc=0}function Ba(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $e,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Go(d,p,w,j,A,L,T){for(d=d==null?0:d[p+0],p=0;p<T;++p)A[L+p]=d+w[j+p]&255,d=A[L+p]}function xc(d,p,w,j,A,L,T){var O;if(d==null)Go(null,null,w,j,A,L,T);else for(O=0;O<T;++O)A[L+O]=d[p+O]+w[j+O]&255}function Xs(d,p,w,j,A,L,T){if(d==null)Go(null,null,w,j,A,L,T);else{var O,B=d[p+0],$=B,te=B;for(O=0;O<T;++O)$=te+(B=d[p+O])-$,te=w[j+O]+(-256&$?0>$?0:255:$)&255,$=B,A[L+O]=te}}function bc(d,p,w,j){var A=p.width,L=p.o;if(t(d!=null&&p!=null),0>w||0>=j||w+j>L)return null;if(!d.Cc){if(d.ga==null){var T;if(d.ga=new Ba,(T=d.ga==null)||(T=p.width*p.o,t(d.Gb.length==0),d.Gb=s(T),d.Uc=0,d.Gb==null?T=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,T=1),T=!T),!T){T=d.ga;var O=d.Fa,B=d.P,$=d.qc,te=d.mb,fe=d.nb,pe=B+1,oe=$-1,_e=T.l;if(t(O!=null&&te!=null&&p!=null),ro[0]=null,ro[1]=Go,ro[2]=xc,ro[3]=Xs,T.ca=te,T.tb=fe,T.c=p.width,T.i=p.height,t(0<T.c&&0<T.i),1>=$)p=0;else if(T.$a=O[B+0]>>0&3,T.Z=O[B+0]>>2&3,T.Lc=O[B+0]>>4&3,B=O[B+0]>>6&3,0>T.$a||1<T.$a||4<=T.Z||1<T.Lc||B)p=0;else if(_e.put=Ur,_e.ac=En,_e.bc=ai,_e.ma=T,_e.width=p.width,_e.height=p.height,_e.Da=p.Da,_e.v=p.v,_e.va=p.va,_e.j=p.j,_e.o=p.o,T.$a)e:{t(T.$a==1),p=qr();t:for(;;){if(p==null){p=0;break e}if(t(T!=null),T.mc=p,p.c=T.c,p.i=T.i,p.l=T.l,p.l.ma=T,p.l.width=T.c,p.l.height=T.i,p.a=0,W(p.m,O,pe,oe),!ci(T.c,T.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&Ai(p.s)?(T.ic=1,O=p.c*p.i,p.Ta=null,p.Ua=0,p.V=s(O),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(T.ic=0,p=gs(p,T.c)),!p))break t;p=1;break e}T.mc=null,p=0}else p=oe>=T.c*T.i;T=!p}if(T)return null;d.ga.Lc!=1?d.Ga=0:j=L-w}t(d.ga!=null),t(w+j<=L);e:{if(p=(O=d.ga).c,L=O.l.o,O.$a==0){if(pe=d.rc,oe=d.Vc,_e=d.Fa,B=d.P+1+w*p,$=d.mb,te=d.nb+w*p,t(B<=d.P+d.qc),O.Z!=0)for(t(ro[O.Z]!=null),T=0;T<j;++T)ro[O.Z](pe,oe,_e,B,$,te,p),pe=$,oe=te,te+=p,B+=p;else for(T=0;T<j;++T)r($,te,_e,B,p),pe=$,oe=te,te+=p,B+=p;d.rc=pe,d.Vc=oe}else{if(t(O.mc!=null),p=w+j,t((T=O.mc)!=null),t(p<=T.i),T.C>=p)p=1;else if(O.ic||ue(),O.ic){O=T.V,pe=T.Ba,oe=T.c;var ge=T.i,ne=(_e=1,B=T.$/oe,$=T.$%oe,te=T.m,fe=T.s,T.$),ie=oe*ge,be=oe*p,ke=fe.wc,Se=ne<be?ln(fe,$,B):null;t(ne<=ie),t(p<=ge),t(Ai(fe));t:for(;;){for(;!te.h&&ne<be;){if($&ke||(Se=ln(fe,$,B)),t(Se!=null),Z(te),256>(ge=Yn(Se.G[0],Se.H[0],te)))O[pe+ne]=ge,++ne,++$>=oe&&($=0,++B<=p&&!(B%16)&&qn(T,B));else{if(!(280>ge)){_e=0;break t}ge=_r(ge-256,te);var Ve,Me=Yn(Se.G[4],Se.H[4],te);if(Z(te),!(ne>=(Me=li(oe,Me=_r(Me,te)))&&ie-ne>=ge)){_e=0;break t}for(Ve=0;Ve<ge;++Ve)O[pe+ne+Ve]=O[pe+ne+Ve-Me];for(ne+=ge,$+=ge;$>=oe;)$-=oe,++B<=p&&!(B%16)&&qn(T,B);ne<be&&$&ke&&(Se=ln(fe,$,B))}t(te.h==z(te))}qn(T,B>p?p:B);break t}!_e||te.h&&ne<ie?(_e=0,T.a=te.h?5:3):T.$=ne,p=_e}else p=Xn(T,T.V,T.Ba,T.c,T.i,p,vs);if(!p){j=0;break e}}w+j>=L&&(d.Cc=1),j=1}if(!j)return null;if(d.Cc&&((j=d.ga)!=null&&(j.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+w*A}function v(d,p,w,j,A,L){for(;0<A--;){var T,O=d,B=p+(w?1:0),$=d,te=p+(w?0:3);for(T=0;T<j;++T){var fe=$[te+4*T];fe!=255&&(fe*=32897,O[B+4*T+0]=O[B+4*T+0]*fe>>23,O[B+4*T+1]=O[B+4*T+1]*fe>>23,O[B+4*T+2]=O[B+4*T+2]*fe>>23)}p+=L}}function C(d,p,w,j,A){for(;0<j--;){var L;for(L=0;L<w;++L){var T=d[p+2*L+0],O=15&($=d[p+2*L+1]),B=4369*O,$=(240&$|$>>4)*B>>16;d[p+2*L+0]=(240&T|T>>4)*B>>16&240|(15&T|T<<4)*B>>16>>4&15,d[p+2*L+1]=240&$|O}p+=A}}function H(d,p,w,j,A,L,T,O){var B,$,te=255;for($=0;$<A;++$){for(B=0;B<j;++B){var fe=d[p+B];L[T+4*B]=fe,te&=fe}p+=w,T+=O}return te!=255}function ee(d,p,w,j,A){var L;for(L=0;L<A;++L)w[j+L]=d[p+L]>>8}function ue(){fi=v,qt=C,Vt=H,vn=ee}function ye(d,p,w){R[d]=function(j,A,L,T,O,B,$,te,fe,pe,oe,_e,ge,ne,ie,be,ke){var Se,Ve=ke-1>>1,Me=O[B+0]|$[te+0]<<16,rt=fe[pe+0]|oe[_e+0]<<16;t(j!=null);var Ue=3*Me+rt+131074>>2;for(p(j[A+0],255&Ue,Ue>>16,ge,ne),L!=null&&(Ue=3*rt+Me+131074>>2,p(L[T+0],255&Ue,Ue>>16,ie,be)),Se=1;Se<=Ve;++Se){var Et=O[B+Se]|$[te+Se]<<16,It=fe[pe+Se]|oe[_e+Se]<<16,At=Me+Et+rt+It+524296,bt=At+2*(Et+rt)>>3;Ue=bt+Me>>1,Me=(At=At+2*(Me+It)>>3)+Et>>1,p(j[A+2*Se-1],255&Ue,Ue>>16,ge,ne+(2*Se-1)*w),p(j[A+2*Se-0],255&Me,Me>>16,ge,ne+(2*Se-0)*w),L!=null&&(Ue=At+rt>>1,Me=bt+It>>1,p(L[T+2*Se-1],255&Ue,Ue>>16,ie,be+(2*Se-1)*w),p(L[T+2*Se+0],255&Me,Me>>16,ie,be+(2*Se+0)*w)),Me=Et,rt=It}1&ke||(Ue=3*Me+rt+131074>>2,p(j[A+ke-1],255&Ue,Ue>>16,ge,ne+(ke-1)*w),L!=null&&(Ue=3*rt+Me+131074>>2,p(L[T+ke-1],255&Ue,Ue>>16,ie,be+(ke-1)*w)))}}function Ae(){mi[Pd]=p_,mi[Ed]=Fv,mi[Ev]=m_,mi[Ld]=Ov,mi[Td]=Dv,mi[Ip]=Mv,mi[Lv]=g_,mi[Rp]=Fv,mi[Fp]=Ov,mi[Id]=Dv,mi[Op]=Mv}function qe(d){return d&~v_?0>d?0:255:d>>Bv}function Ze(d,p){return qe((19077*d>>8)+(26149*p>>8)-14234)}function ht(d,p,w){return qe((19077*d>>8)-(6419*p>>8)-(13320*w>>8)+8708)}function ut(d,p){return qe((19077*d>>8)+(33050*p>>8)-17685)}function kt(d,p,w,j,A){j[A+0]=Ze(d,w),j[A+1]=ht(d,p,w),j[A+2]=ut(d,p)}function tn(d,p,w,j,A){j[A+0]=ut(d,p),j[A+1]=ht(d,p,w),j[A+2]=Ze(d,w)}function un(d,p,w,j,A){var L=ht(d,p,w);p=L<<3&224|ut(d,p)>>3,j[A+0]=248&Ze(d,w)|L>>5,j[A+1]=p}function jn(d,p,w,j,A){var L=240&ut(d,p)|15;j[A+0]=240&Ze(d,w)|ht(d,p,w)>>4,j[A+1]=L}function Zn(d,p,w,j,A){j[A+0]=255,kt(d,p,w,j,A+1)}function Fn(d,p,w,j,A){tn(d,p,w,j,A),j[A+3]=255}function Ei(d,p,w,j,A){kt(d,p,w,j,A),j[A+3]=255}function Gr(d,p){return 0>d?0:d>p?p:d}function es(d,p,w){R[d]=function(j,A,L,T,O,B,$,te,fe){for(var pe=te+(-2&fe)*w;te!=pe;)p(j[A+0],L[T+0],O[B+0],$,te),p(j[A+1],L[T+0],O[B+0],$,te+w),A+=2,++T,++B,te+=2*w;1&fe&&p(j[A+0],L[T+0],O[B+0],$,te)}}function Sd(d,p,w){return w==0?d==0?p==0?6:5:p==0?4:0:w}function Sc(d,p,w,j,A){switch(d>>>30){case 3:_s(p,w,j,A,0);break;case 2:gn(p,w,j,A);break;case 1:fr(p,w,j,A)}}function _c(d,p){var w,j,A=p.M,L=p.Nb,T=d.oc,O=d.pc+40,B=d.oc,$=d.pc+584,te=d.oc,fe=d.pc+600;for(w=0;16>w;++w)T[O+32*w-1]=129;for(w=0;8>w;++w)B[$+32*w-1]=129,te[fe+32*w-1]=129;for(0<A?T[O-1-32]=B[$-1-32]=te[fe-1-32]=129:(i(T,O-32-1,127,21),i(B,$-32-1,127,9),i(te,fe-32-1,127,9)),j=0;j<d.za;++j){var pe=p.ya[p.aa+j];if(0<j){for(w=-1;16>w;++w)r(T,O+32*w-4,T,O+32*w+12,4);for(w=-1;8>w;++w)r(B,$+32*w-4,B,$+32*w+4,4),r(te,fe+32*w-4,te,fe+32*w+4,4)}var oe=d.Gd,_e=d.Hd+j,ge=pe.ad,ne=pe.Hc;if(0<A&&(r(T,O-32,oe[_e].y,0,16),r(B,$-32,oe[_e].f,0,8),r(te,fe-32,oe[_e].ea,0,8)),pe.Za){var ie=T,be=O-32+16;for(0<A&&(j>=d.za-1?i(ie,be,oe[_e].y[15],4):r(ie,be,oe[_e+1].y,0,4)),w=0;4>w;w++)ie[be+128+w]=ie[be+256+w]=ie[be+384+w]=ie[be+0+w];for(w=0;16>w;++w,ne<<=2)ie=T,be=O+zv[w],Li[pe.Ob[w]](ie,be),Sc(ne,ge,16*+w,ie,be)}else if(ie=Sd(j,A,pe.Ob[0]),no[ie](T,O),ne!=0)for(w=0;16>w;++w,ne<<=2)Sc(ne,ge,16*+w,T,O+zv[w]);for(w=pe.Gc,ie=Sd(j,A,pe.Dd),ks[ie](B,$),ks[ie](te,fe),ne=ge,ie=B,be=$,255&(pe=w>>0)&&(170&pe?Cc(ne,256,ie,be):di(ne,256,ie,be)),pe=te,ne=fe,255&(w>>=8)&&(170&w?Cc(ge,320,pe,ne):di(ge,320,pe,ne)),A<d.Ub-1&&(r(oe[_e].y,0,T,O+480,16),r(oe[_e].f,0,B,$+224,8),r(oe[_e].ea,0,te,fe+224,8)),w=8*L*d.B,oe=d.sa,_e=d.ta+16*j+16*L*d.R,ge=d.qa,pe=d.ra+8*j+w,ne=d.Ha,ie=d.Ia+8*j+w,w=0;16>w;++w)r(oe,_e+w*d.R,T,O+32*w,16);for(w=0;8>w;++w)r(ge,pe+w*d.B,B,$+32*w,8),r(ne,ie+w*d.B,te,fe+32*w,8)}}function Ua(d,p,w,j,A,L,T,O,B){var $=[0],te=[0],fe=0,pe=B!=null?B.kd:0,oe=B??new yc;if(d==null||12>w)return 7;oe.data=d,oe.w=p,oe.ha=w,p=[p],w=[w],oe.gb=[oe.gb];e:{var _e=p,ge=w,ne=oe.gb;if(t(d!=null),t(ge!=null),t(ne!=null),ne[0]=0,12<=ge[0]&&!n(d,_e[0],"RIFF")){if(n(d,_e[0]+8,"WEBP")){ne=3;break e}var ie=Pe(d,_e[0]+4);if(12>ie||4294967286<ie){ne=3;break e}if(pe&&ie>ge[0]-8){ne=7;break e}ne[0]=ie,_e[0]+=12,ge[0]-=12}ne=0}if(ne!=0)return ne;for(ie=0<oe.gb[0],w=w[0];;){e:{var be=d;ge=p,ne=w;var ke=$,Se=te,Ve=_e=[0];if((Ue=fe=[fe])[0]=0,8>ne[0])ne=7;else{if(!n(be,ge[0],"VP8X")){if(Pe(be,ge[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var Me=Pe(be,ge[0]+8),rt=1+Te(be,ge[0]+12);if(2147483648<=rt*(be=1+Te(be,ge[0]+15))){ne=3;break e}Ve!=null&&(Ve[0]=Me),ke!=null&&(ke[0]=rt),Se!=null&&(Se[0]=be),ge[0]+=18,ne[0]-=18,Ue[0]=1}ne=0}}if(fe=fe[0],_e=_e[0],ne!=0)return ne;if(ge=!!(2&_e),!ie&&fe)return 3;if(L!=null&&(L[0]=!!(16&_e)),T!=null&&(T[0]=ge),O!=null&&(O[0]=0),T=$[0],_e=te[0],fe&&ge&&B==null){ne=0;break}if(4>w){ne=7;break}if(ie&&fe||!ie&&!fe&&!n(d,p[0],"ALPH")){w=[w],oe.na=[oe.na],oe.P=[oe.P],oe.Sa=[oe.Sa];e:{Me=d,ne=p,ie=w;var Ue=oe.gb;ke=oe.na,Se=oe.P,Ve=oe.Sa,rt=22,t(Me!=null),t(ie!=null),be=ne[0];var Et=ie[0];for(t(ke!=null),t(Ve!=null),ke[0]=null,Se[0]=null,Ve[0]=0;;){if(ne[0]=be,ie[0]=Et,8>Et){ne=7;break e}var It=Pe(Me,be+4);if(4294967286<It){ne=3;break e}var At=8+It+1&-2;if(rt+=At,0<Ue&&rt>Ue){ne=3;break e}if(!n(Me,be,"VP8 ")||!n(Me,be,"VP8L")){ne=0;break e}if(Et[0]<At){ne=7;break e}n(Me,be,"ALPH")||(ke[0]=Me,Se[0]=be+8,Ve[0]=It),be+=At,Et-=At}}if(w=w[0],oe.na=oe.na[0],oe.P=oe.P[0],oe.Sa=oe.Sa[0],ne!=0)break}w=[w],oe.Ja=[oe.Ja],oe.xa=[oe.xa];e:if(Ue=d,ne=p,ie=w,ke=oe.gb[0],Se=oe.Ja,Ve=oe.xa,Me=ne[0],be=!n(Ue,Me,"VP8 "),rt=!n(Ue,Me,"VP8L"),t(Ue!=null),t(ie!=null),t(Se!=null),t(Ve!=null),8>ie[0])ne=7;else{if(be||rt){if(Ue=Pe(Ue,Me+4),12<=ke&&Ue>ke-12){ne=3;break e}if(pe&&Ue>ie[0]-8){ne=7;break e}Se[0]=Ue,ne[0]+=8,ie[0]-=8,Ve[0]=rt}else Ve[0]=5<=ie[0]&&Ue[Me+0]==47&&!(Ue[Me+4]>>5),Se[0]=ie[0];ne=0}if(w=w[0],oe.Ja=oe.Ja[0],oe.xa=oe.xa[0],p=p[0],ne!=0)break;if(4294967286<oe.Ja)return 3;if(O==null||ge||(O[0]=oe.xa?2:1),T=[T],_e=[_e],oe.xa){if(5>w){ne=7;break}O=T,pe=_e,ge=L,d==null||5>w?d=0:5<=w&&d[p+0]==47&&!(d[p+4]>>5)?(ie=[0],Ue=[0],ke=[0],W(Se=new N,d,p,w),nt(Se,ie,Ue,ke)?(O!=null&&(O[0]=ie[0]),pe!=null&&(pe[0]=Ue[0]),ge!=null&&(ge[0]=ke[0]),d=1):d=0):d=0}else{if(10>w){ne=7;break}O=_e,d==null||10>w||!Pt(d,p+3,w-3)?d=0:(pe=d[p+0]|d[p+1]<<8|d[p+2]<<16,ge=16383&(d[p+7]<<8|d[p+6]),d=16383&(d[p+9]<<8|d[p+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=oe.Ja||!ge||!d?d=0:(T&&(T[0]=ge),O&&(O[0]=d),d=1))}if(!d||(T=T[0],_e=_e[0],fe&&($[0]!=T||te[0]!=_e)))return 3;B!=null&&(B[0]=oe,B.offset=p-B.w,t(4294967286>p-B.w),t(B.offset==B.ha-w));break}return ne==0||ne==7&&fe&&B==null?(L!=null&&(L[0]|=oe.na!=null&&0<oe.na.length),j!=null&&(j[0]=T),A!=null&&(A[0]=_e),0):ne}function jc(d,p,w){var j=p.width,A=p.height,L=0,T=0,O=j,B=A;if(p.Da=d!=null&&0<d.Da,p.Da&&(O=d.cd,B=d.bd,L=d.v,T=d.j,11>w||(L&=-2,T&=-2),0>L||0>T||0>=O||0>=B||L+O>j||T+B>A))return 0;if(p.v=L,p.j=T,p.va=L+O,p.o=T+B,p.U=O,p.T=B,p.da=d!=null&&0<d.da,p.da){if(!Ye(O,B,w=[d.ib],L=[d.hb]))return 0;p.ib=w[0],p.hb=L[0]}return p.ob=d!=null&&d.ob,p.Kb=d==null||!d.Sd,p.da&&(p.ob=p.ib<3*j/4&&p.hb<3*A/4,p.Kb=0),1}function kc(d){if(d==null)return 2;if(11>d.S){var p=d.f.RGBA;p.fb+=(d.height-1)*p.A,p.A=-p.A}else p=d.f.kb,d=d.height,p.O+=(d-1)*p.fa,p.fa=-p.fa,p.N+=(d-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(d-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(d-1)*p.lb,p.lb=-p.lb);return 0}function za(d,p,w,j){if(j==null||0>=d||0>=p)return 2;if(w!=null){if(w.Da){var A=w.cd,L=w.bd,T=-2&w.v,O=-2&w.j;if(0>T||0>O||0>=A||0>=L||T+A>d||O+L>p)return 2;d=A,p=L}if(w.da){if(!Ye(d,p,A=[w.ib],L=[w.hb]))return 2;d=A[0],p=L[0]}}j.width=d,j.height=p;e:{var B=j.width,$=j.height;if(d=j.S,0>=B||0>=$||!(d>=Pd&&13>d))d=2;else{if(0>=j.Rd&&j.sd==null){T=L=A=p=0;var te=(O=B*$v[d])*$;if(11>d||(L=($+1)/2*(p=(B+1)/2),d==12&&(T=(A=B)*$)),($=s(te+2*L+T))==null){d=1;break e}j.sd=$,11>d?((B=j.f.RGBA).eb=$,B.fb=0,B.A=O,B.size=te):((B=j.f.kb).y=$,B.O=0,B.fa=O,B.Fd=te,B.f=$,B.N=0+te,B.Ab=p,B.Cd=L,B.ea=$,B.W=0+te+L,B.Db=p,B.Ed=L,d==12&&(B.F=$,B.J=0+te+2*L),B.Tc=T,B.lb=A)}if(p=1,A=j.S,L=j.width,T=j.height,A>=Pd&&13>A)if(11>A)d=j.f.RGBA,p&=(O=Math.abs(d.A))*(T-1)+L<=d.size,p&=O>=L*$v[A],p&=d.eb!=null;else{d=j.f.kb,O=(L+1)/2,te=(T+1)/2,B=Math.abs(d.fa),$=Math.abs(d.Ab);var fe=Math.abs(d.Db),pe=Math.abs(d.lb),oe=pe*(T-1)+L;p&=B*(T-1)+L<=d.Fd,p&=$*(te-1)+O<=d.Cd,p=(p&=fe*(te-1)+O<=d.Ed)&B>=L&$>=O&fe>=O,p&=d.y!=null,p&=d.f!=null,p&=d.ea!=null,A==12&&(p&=pe>=L,p&=oe<=d.Tc,p&=d.F!=null)}else p=0;d=p?0:2}}return d!=0||w!=null&&w.fd&&(d=kc(j)),d}var Vn=64,$a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qa=24,Va=32,Nc=8,kr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(d){return d},R.Predictor2=function(d,p,w){return p[w+0]},R.Predictor3=function(d,p,w){return p[w+1]},R.Predictor4=function(d,p,w){return p[w-1]},R.Predictor5=function(d,p,w){return De(De(d,p[w+1]),p[w+0])},R.Predictor6=function(d,p,w){return De(d,p[w-1])},R.Predictor7=function(d,p,w){return De(d,p[w+0])},R.Predictor8=function(d,p,w){return De(p[w-1],p[w+0])},R.Predictor9=function(d,p,w){return De(p[w+0],p[w+1])},R.Predictor10=function(d,p,w){return De(De(d,p[w-1]),De(p[w+0],p[w+1]))},R.Predictor11=function(d,p,w){var j=p[w+0];return 0>=Ee(j>>24&255,d>>24&255,(p=p[w-1])>>24&255)+Ee(j>>16&255,d>>16&255,p>>16&255)+Ee(j>>8&255,d>>8&255,p>>8&255)+Ee(255&j,255&d,255&p)?j:d},R.Predictor12=function(d,p,w){var j=p[w+0];return(He((d>>24&255)+(j>>24&255)-((p=p[w-1])>>24&255))<<24|He((d>>16&255)+(j>>16&255)-(p>>16&255))<<16|He((d>>8&255)+(j>>8&255)-(p>>8&255))<<8|He((255&d)+(255&j)-(255&p)))>>>0},R.Predictor13=function(d,p,w){var j=p[w-1];return(st((d=De(d,p[w+0]))>>24&255,j>>24&255)<<24|st(d>>16&255,j>>16&255)<<16|st(d>>8&255,j>>8&255)<<8|st(d>>0&255,j>>0&255))>>>0};var Lp=R.PredictorAdd0;R.PredictorAdd1=ze,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var Ac=R.PredictorAdd2;gt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var _d,ui=R.ColorIndexInverseTransform,Ha=R.MapARGB,jd=R.VP8LColorIndexInverseTransformAlpha,kd=R.MapAlpha,Qs=R.VP8LPredictorsAdd=[];Qs.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Ko,Nr,hr,Zs,bs,Ss,Wa,_s,gn,Cc,fr,di,Ga,Nd,Pc,Jo,Yo,eo,Xo,Ka,Qo,to,Ec,hi,fi,qt,Vt,vn,Tn=s(511),js=s(2041),Lc=s(225),Ja=s(767),Ad=0,Tp=js,Cd=Lc,Kr=Ja,pi=Tn,Pd=0,Ed=1,Ev=2,Ld=3,Td=4,Ip=5,Lv=6,Rp=7,Fp=8,Id=9,Op=10,e_=[2,3,7],t_=[3,3,11],Tv=[280,256,256,256,40],n_=[0,1,1,1,0],r_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],i_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],s_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],o_=8,Dp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Mp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Tc=null,a_=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],l_=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Iv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],c_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],u_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],d_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],h_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],no=[],Li=[],ks=[],f_=1,Rv=2,ro=[],mi=[];ye("UpsampleRgbLinePair",kt,3),ye("UpsampleBgrLinePair",tn,3),ye("UpsampleRgbaLinePair",Ei,4),ye("UpsampleBgraLinePair",Fn,4),ye("UpsampleArgbLinePair",Zn,4),ye("UpsampleRgba4444LinePair",jn,2),ye("UpsampleRgb565LinePair",un,2);var p_=R.UpsampleRgbLinePair,m_=R.UpsampleBgrLinePair,Fv=R.UpsampleRgbaLinePair,Ov=R.UpsampleBgraLinePair,Dv=R.UpsampleArgbLinePair,Mv=R.UpsampleRgba4444LinePair,g_=R.UpsampleRgb565LinePair,Rd=16,Fd=1<<Rd-1,Ic=-227,Bp=482,Bv=6,v_=(256<<Bv)-1,Uv=0,y_=s(256),w_=s(256),x_=s(256),b_=s(256),S_=s(Bp-Ic),__=s(Bp-Ic);es("YuvToRgbRow",kt,3),es("YuvToBgrRow",tn,3),es("YuvToRgbaRow",Ei,4),es("YuvToBgraRow",Fn,4),es("YuvToArgbRow",Zn,4),es("YuvToRgba4444Row",jn,2),es("YuvToRgb565Row",un,2);var zv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Od=[0,2,8],j_=[8,7,6,4,4,2,2,2,1,1,1,1],k_=1;this.WebPDecodeRGBA=function(d,p,w,j,A){var L=Ed,T=new Ma,O=new Sr;T.ba=O,O.S=L,O.width=[O.width],O.height=[O.height];var B=O.width,$=O.height,te=new oi;if(te==null||d==null)var fe=2;else t(te!=null),fe=Ua(d,p,w,te.width,te.height,te.Pd,te.Qd,te.format,null);if(fe!=0?B=0:(B!=null&&(B[0]=te.width[0]),$!=null&&($[0]=te.height[0]),B=1),B){O.width=O.width[0],O.height=O.height[0],j!=null&&(j[0]=O.width),A!=null&&(A[0]=O.height);e:{if(j=new $e,(A=new yc).data=d,A.w=p,A.ha=w,A.kd=1,p=[0],t(A!=null),((d=Ua(A.data,A.w,A.ha,null,null,null,p,null,A))==0||d==7)&&p[0]&&(d=4),(p=d)==0){if(t(T!=null),j.data=A.data,j.w=A.w+A.offset,j.ha=A.ha-A.offset,j.put=Ur,j.ac=En,j.bc=ai,j.ma=T,A.xa){if((d=qr())==null){T=1;break e}if(function(pe,oe){var _e=[0],ge=[0],ne=[0];t:for(;;){if(pe==null)return 0;if(oe==null)return pe.a=2,0;if(pe.l=oe,pe.a=0,W(pe.m,oe.data,oe.w,oe.ha),!nt(pe.m,_e,ge,ne)){pe.a=3;break t}if(pe.xb=Rv,oe.width=_e[0],oe.height=ge[0],!ci(_e[0],ge[0],1,pe,null))break t;return 1}return t(pe.a!=0),0}(d,j)){if(j=(p=za(j.width,j.height,T.Oa,T.ba))==0){t:{j=d;n:for(;;){if(j==null){j=0;break t}if(t(j.s.yc!=null),t(j.s.Ya!=null),t(0<j.s.Wb),t((w=j.l)!=null),t((A=w.ma)!=null),j.xb!=0){if(j.ca=A.ba,j.tb=A.tb,t(j.ca!=null),!jc(A.Oa,w,Ld)){j.a=2;break n}if(!gs(j,w.width)||w.da)break n;if((w.da||jt(j.ca.S))&&ue(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ue()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!et(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Xn(j,j.V,j.Ba,j.c,j.i,w.o,yt))break n;A.Dc=j.Ma,j=1;break t}t(j.a!=0),j=0}j=!j}j&&(p=d.a)}else p=d.a}else{if((d=new Je)==null){T=1;break e}if(d.Fa=A.na,d.P=A.P,d.qc=A.Sa,cn(d,j)){if((p=za(j.width,j.height,T.Oa,T.ba))==0){if(d.Aa=0,w=T.Oa,t((A=d)!=null),w!=null){if(0<(B=0>(B=w.Md)?0:100<B?255:255*B/100)){for($=te=0;4>$;++$)12>(fe=A.pb[$]).lc&&(fe.ia=B*j_[0>fe.lc?0:fe.lc]>>3),te|=fe.ia;te&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=w.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}Wr(d,j)||(p=d.a)}}else p=d.a}p==0&&T.Oa!=null&&T.Oa.fd&&(p=kc(T.ba))}T=p}L=T!=0?null:11>L?O.f.RGBA.eb:O.f.kb.y}else L=null;return L};var $v=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(R,Q){for(var X="",F=0;F<4;F++)X+=String.fromCharCode(R[Q++]);return X}function h(R,Q){return(R[Q+0]<<0|R[Q+1]<<8|R[Q+2]<<16)>>>0}function f(R,Q){return(R[Q+0]<<0|R[Q+1]<<8|R[Q+2]<<16|R[Q+3]<<24)>>>0}new l;var g=[0],m=[0],b=[],S=new l,k=e,y=function(R,Q){var X={},F=0,P=!1,J=0,V=0;if(X.frames=[],!function(U,z,G,Z){for(var se=0;se<Z;se++)if(U[z+se]!=G.charCodeAt(se))return!0;return!1}(R,Q,"RIFF",4)){for(f(R,Q+=4),Q+=8;Q<R.length;){var ae=u(R,Q),ce=f(R,Q+=4);Q+=4;var le=ce+(1&ce);switch(ae){case"VP8 ":case"VP8L":X.frames[F]===void 0&&(X.frames[F]={}),(Y=X.frames[F]).src_off=P?V:Q-8,Y.src_size=J+ce+8,F++,P&&(P=!1,J=0,V=0);break;case"VP8X":(Y=X.header={}).feature_flags=R[Q];var W=Q+4;Y.canvas_width=1+h(R,W),W+=3,Y.canvas_height=1+h(R,W),W+=3;break;case"ALPH":P=!0,J=le+8,V=Q-8;break;case"ANIM":(Y=X.header).bgcolor=f(R,Q),W=Q+4,Y.loop_count=(me=R)[(N=W)+0]<<0|me[N+1]<<8,W+=2;break;case"ANMF":var re,Y;(Y=X.frames[F]={}).offset_x=2*h(R,Q),Q+=3,Y.offset_y=2*h(R,Q),Q+=3,Y.width=1+h(R,Q),Q+=3,Y.height=1+h(R,Q),Q+=3,Y.duration=h(R,Q),Q+=3,re=R[Q++],Y.dispose=1&re,Y.blend=re>>1&1}ae!="ANMF"&&(Q+=le)}var me,N;return X}}(k,0);y.response=k,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,_=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,g=[x.canvas_height],m=[x.canvas_width];for(var E=0;E<_.length&&_[E].blend!=0;E++);}var D=_[0],q=S.WebPDecodeRGBA(k,D.src_off,D.src_size,m,g);D.rgba=q,D.imgwidth=m[0],D.imgheight=g[0];for(var M=0;M<m[0]*g[0]*4;M++)b[M]=q[M];return this.width=m,this.height=g,this.data=b,this}(function(e){var t=function(){return typeof Ng=="function"},n=function(g,m,b,S){var k=4,y=o;switch(S){case e.image_compression.FAST:k=1,y=s;break;case e.image_compression.MEDIUM:k=6,y=a;break;case e.image_compression.SLOW:k=9,y=l}g=r(g,m,b,y);var x=Ng(g,{level:k});return e.__addimage__.arrayBufferToBinaryString(x)},r=function(g,m,b,S){for(var k,y,x,_=g.length/m,E=new Uint8Array(g.length+_),D=h(),q=0;q<_;q+=1){if(x=q*m,k=g.subarray(x,x+m),S)E.set(S(k,b,y),x+q);else{for(var M,R=D.length,Q=[];M<R;M+=1)Q[M]=D[M](k,b,y);var X=f(Q.concat());E.set(Q[X],x+q)}y=k}return E},i=function(g){var m=Array.apply([],g);return m.unshift(0),m},s=function(g,m){var b,S=[],k=g.length;S[0]=1;for(var y=0;y<k;y+=1)b=g[y-m]||0,S[y+1]=g[y]-b+256&255;return S},o=function(g,m,b){var S,k=[],y=g.length;k[0]=2;for(var x=0;x<y;x+=1)S=b&&b[x]||0,k[x+1]=g[x]-S+256&255;return k},a=function(g,m,b){var S,k,y=[],x=g.length;y[0]=3;for(var _=0;_<x;_+=1)S=g[_-m]||0,k=b&&b[_]||0,y[_+1]=g[_]+256-(S+k>>>1)&255;return y},l=function(g,m,b){var S,k,y,x,_=[],E=g.length;_[0]=4;for(var D=0;D<E;D+=1)S=g[D-m]||0,k=b&&b[D]||0,y=b&&b[D-m]||0,x=u(S,k,y),_[D+1]=g[D]-x+256&255;return _},u=function(g,m,b){if(g===m&&m===b)return g;var S=Math.abs(m-b),k=Math.abs(g-b),y=Math.abs(g+m-b-b);return S<=k&&S<=y?g:k<=y?m:b},h=function(){return[i,s,o,a,l]},f=function(g){var m=g.map(function(b){return b.reduce(function(S,k){return S+Math.abs(k)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(g,m,b,S){var k,y,x,_,E,D,q,M,R,Q,X,F,P,J,V,ae=this.decode.FLATE_DECODE,ce="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(x=new n7(g)).imgData,y=x.bits,k=x.colorSpace,E=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){R=(M=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,X=new Uint8Array(R*x.colors),Q=new Uint8Array(R);var le,W=x.pixelBitlength-x.bits;for(J=0,V=0;J<R;J++){for(P=M[J],le=0;le<W;)X[V++]=P>>>le&255,le+=x.bits;Q[J]=P>>>le&255}}if(x.bits===16){R=(M=new Uint32Array(x.decodePixels().buffer)).length,X=new Uint8Array(R*(32/x.pixelBitlength)*x.colors),Q=new Uint8Array(R*(32/x.pixelBitlength)),F=x.colors>1,J=0,V=0;for(var re=0;J<R;)P=M[J++],X[V++]=P>>>0&255,F&&(X[V++]=P>>>16&255,P=M[J++],X[V++]=P>>>0&255),Q[re++]=P>>>16&255;y=8}S!==e.image_compression.NONE&&t()?(g=n(X,x.width*x.colors,x.colors,S),q=n(Q,x.width,1,S)):(g=X,q=Q,ae=void 0)}if(x.colorType===3&&(k=this.color_spaces.INDEXED,D=x.palette,x.transparency.indexed)){var Y=x.transparency.indexed,me=0;for(J=0,R=Y.length;J<R;++J)me+=Y[J];if((me/=255)===R-1&&Y.indexOf(0)!==-1)_=[Y.indexOf(0)];else if(me!==R){for(M=x.decodePixels(),Q=new Uint8Array(M.length),J=0,R=M.length;J<R;J++)Q[J]=Y[M[J]];q=n(Q,x.width,1)}}var N=function(U){var z;switch(U){case e.image_compression.FAST:z=11;break;case e.image_compression.MEDIUM:z=13;break;case e.image_compression.SLOW:z=14;break;default:z=12}return z}(S);return ae===this.decode.FLATE_DECODE&&(ce="/Predictor "+N+" "),ce+="/Colors "+E+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(q&&this.__addimage__.isArrayBuffer(q)||this.__addimage__.isArrayBufferView(q))&&(q=this.__addimage__.arrayBufferToBinaryString(q)),{alias:b,data:g,index:m,filter:ae,decodeParameters:ce,transparency:_,palette:D,sMask:q,predictor:N,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:k}}}})(it.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new r7(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},h=new Xm(100).encode(u,100);return e.processJPEG.call(this,h,n,r,i)},e.processGIF87A=e.processGIF89A}(it.API),Fi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){$t.log("bit decode error:"+n)}},Fi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Fi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Fi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Fi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,u=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=u}this.pos+=e}},Fi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/t*255|0,h=i*this.width*4+4*s;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=e}},Fi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Fi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Fi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new Fi(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new Xm(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)}}(it.API),gw.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new gw(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new Xm(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)}}(it.API),it.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var h=r[u],f=r[u+1],g=r[u+2],m=r[u+3];s[a++]=h,s[a++]=f,s[a++]=g,o[l++]=m}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},it.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},al=it.API,bh=al.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,f=t.doKerning!==!1,g=0,m=e.length,b=0,S=a[0]||l,k=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=f&&Ft(u[r])==="object"&&!isNaN(parseInt(u[r][b],10))?u[r][b]/h:0,k.push((a[r]||S)/l+g)),b=r;return k},hw=al.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return al.processArabic&&(e=al.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:bh.apply(this,arguments).reduce(function(s,o){return s+o},0)},fw=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},pw=function(e,t,n){n||(n={});var r,i,s,o,a,l,u,h=[],f=[h],g=n.textIndent||0,m=0,b=0,S=e.split(" "),k=bh.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),x=[];S.map(function(E){(E=E.split(/\s*\n/)).length>1?x=x.concat(E.map(function(D,q){return(q&&D.length?`
`:"")+D})):x.push(E[0])}),S=x,l=hw.apply(this,[y,n])}for(s=0,o=S.length;s<o;s++){var _=0;if(r=S[s],l&&r[0]==`
`&&(r=r.substr(1),_=1),g+m+(b=(i=bh.apply(this,[r,n])).reduce(function(E,D){return E+D},0))>t||_){if(b>t){for(a=fw.apply(this,[r,i,t-(g+m),t]),h.push(a.shift()),h=[a.pop()];a.length;)f.push([a.shift()]);b=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(E,D){return E+D},0)}else h=[r];f.push(h),g=b+l,m=k}else h.push(r),g+=m+b,m=k}return u=l?function(E,D){return(D?y:"")+E.join(" ")}:function(E){return E.join(" ")},f.map(u)},al.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(pw.apply(this,[r[a],o,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var g,m,b,S,k=["{"];for(var y in f){if(g=f[y],isNaN(parseInt(y,10))?m="'"+y+"'":(y=parseInt(y,10),m=(m=s(y).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof g=="number")g<0?(b=s(g).slice(3),S="-"):(b=s(g).slice(2),S=""),b=S+b.slice(0,-1)+r[b.slice(-1)];else{if(Ft(g)!=="object")throw new Error("Don't know what to do with value type "+Ft(g)+".");b=o(g)}k.push(m+b)}return k.push("}"),k.join("")},a=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,b,S,k={},y=1,x=k,_=[],E="",D="",q=f.length-1,M=1;M<q;M+=1)(S=f[M])=="'"?g?(b=g.join(""),g=void 0):g=[]:g?g.push(S):S=="{"?(_.push([x,b]),x={},b=void 0):S=="}"?((m=_.pop())[0][m[1]]=x,b=void 0,x=m[0]):S=="-"?y=-1:b===void 0?n.hasOwnProperty(S)?(E+=n[S],b=parseInt(E,16)*y,y=1,E=""):E+=S:n.hasOwnProperty(S)?(D+=n[S],x[b]=parseInt(D,16)*y,y=1,b=void 0,D=""):D+=S;return k},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var g=f.font,m=h.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var b=u.Unicode[g.postScriptName];b&&(g.metadata.Unicode.encoding=b,g.encoding=b.codePages[0])}])}(it.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(_u(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(it),function(e){function t(){return(lt.canvg?Promise.resolve(lt.canvg):hs(()=>import("./index.es-bcf002a3.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}it.API.addSvgAsImage=function(n,r,i,s,o,a,l,u){if(isNaN(r)||isNaN(i))throw $t.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw $t.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=o;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(b){return b.fromString(f,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(g)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),r,i,s,o,l,u)})}}(),it.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},it.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,h=0,f=0;function g(b,S){var k,y=!1;for(k=0;k<b.length;k+=1)b[k]===S&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=a.length;for(f=0;f<m;f+=1)n[a[f]].value=n[a[f]].defaultValue,n[a[f]].explicitSet=!1}if(Ft(e)==="object"){for(i in e)if(s=e[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(h=0;h<s[u].length;h+=1)typeof s[u][h]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,S=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?S.push("/"+b+" /"+n[b].value):S.push("/"+b+" "+n[b].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(it.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],f=0,g=s.length;f<g;++f){if(a=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(u[4-a.length],a)}return h.join("")},r=function(s){var o,a,l,u,h,f,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,g=(a=Object.keys(s).sort(function(m,b){return m-b})).length;f<g;f++)o=a[f],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,h=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",b=0;b<g.length;b++)m+=String.fromCharCode(g[b]);var S=u();h({data:m,addLength1:!0,objectId:S}),l("endobj");var k=u();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+hl(a.fontName)),l("/FontFile2 "+S+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var x=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+hl(a.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+hl(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,h=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,g="",m=0;m<f.length;m++)g+=String.fromCharCode(f[m]);var b=u();h({data:g,addLength1:!0,objectId:b}),l("endobj");var S=u();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var k=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+hl(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+hl(a.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,h=s.options||{},f=s.mutex||{},g=f.pdfEscape,m=f.activeFontKey,b=f.fonts,S=m,k="",y=0,x="",_=b[S].encoding;if(b[S].encoding!=="Identity-H")return{text:a,x:l,y:u,options:h,mutex:f};for(x=a,S=m,Array.isArray(a)&&(x=a[0]),y=0;y<x.length;y+=1)b[S].metadata.hasOwnProperty("cmap")&&(o=b[S].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),o||x[y].charCodeAt(0)<256&&b[S].metadata.hasOwnProperty("Unicode")?k+=x[y]:k+="";var E="";return parseInt(S.slice(1))<14||_==="WinAnsiEncoding"?E=g(k,S).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(E=n(k,b[S])),f.isHex=!0,{text:E,x:l,y:u,options:h,mutex:f}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(it),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(it.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,h,f=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,_=0;this.__bidiEngine__={};var E=function(F){var P=F.charCodeAt(),J=P>>8,V=S[J];return V!==void 0?f[256*V+(255&P)]:J===252||J===253?"AL":y.test(J)?"L":J===8?"R":"N"},D=function(F){for(var P,J=0;J<F.length;J++){if((P=E(F.charAt(J)))==="L")return!1;if(P==="R")return!0}return!1},q=function(F,P,J,V){var ae,ce,le,W,re=P[V];switch(re){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(re="AN");break;case"AL":x=!0,re="R";break;case"WS":re="N";break;case"CS":V<1||V+1>=P.length||(ae=J[V-1])!=="EN"&&ae!=="AN"||(ce=P[V+1])!=="EN"&&ce!=="AN"?re="N":x&&(ce="AN"),re=ce===ae?ce:"N";break;case"ES":re=(ae=V>0?J[V-1]:"B")==="EN"&&V+1<P.length&&P[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&J[V-1]==="EN"){re="EN";break}if(x){re="N";break}for(le=V+1,W=P.length;le<W&&P[le]==="ET";)le++;re=le<W&&P[le]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(W=P.length,le=V+1;le<W&&P[le]==="NSM";)le++;if(le<W){var Y=F[V],me=Y>=1425&&Y<=2303||Y===64286;if(ae=P[le],me&&(ae==="R"||ae==="AL")){re="R";break}}}re=V<1||(ae=P[V-1])==="B"?"N":J[V-1];break;case"B":x=!1,i=!0,re=_;break;case"S":s=!0,re="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":re="N"}return re},M=function(F,P,J){var V=F.split("");return J&&R(V,J,{hiLevel:_}),V.reverse(),P&&P.reverse(),V.join("")},R=function(F,P,J){var V,ae,ce,le,W,re=-1,Y=F.length,me=0,N=[],U=_?m:g,z=[];for(x=!1,i=!1,s=!1,ae=0;ae<Y;ae++)z[ae]=E(F[ae]);for(ce=0;ce<Y;ce++){if(W=me,N[ce]=q(F,z,N,ce),V=240&(me=U[W][b[N[ce]]]),me&=15,P[ce]=le=U[me][5],V>0)if(V===16){for(ae=re;ae<ce;ae++)P[ae]=1;re=-1}else re=-1;if(U[me][6])re===-1&&(re=ce);else if(re>-1){for(ae=re;ae<ce;ae++)P[ae]=le;re=-1}z[ce]==="B"&&(P[ce]=0),J.hiLevel|=le}s&&function(G,Z,se){for(var he=0;he<se;he++)if(G[he]==="S"){Z[he]=_;for(var de=he-1;de>=0&&G[de]==="WS";de--)Z[de]=_}}(z,P,Y)},Q=function(F,P,J,V,ae){if(!(ae.hiLevel<F)){if(F===1&&_===1&&!i)return P.reverse(),void(J&&J.reverse());for(var ce,le,W,re,Y=P.length,me=0;me<Y;){if(V[me]>=F){for(W=me+1;W<Y&&V[W]>=F;)W++;for(re=me,le=W-1;re<le;re++,le--)ce=P[re],P[re]=P[le],P[le]=ce,J&&(ce=J[re],J[re]=J[le],J[le]=ce);me=W}me++}}},X=function(F,P,J){var V=F.split(""),ae={hiLevel:_};return J||(J=[]),R(V,J,ae),function(ce,le,W){if(W.hiLevel!==0&&h)for(var re,Y=0;Y<ce.length;Y++)le[Y]===1&&(re=k.indexOf(ce[Y]))>=0&&(ce[Y]=k[re+1])}(V,J,ae),Q(2,V,P,J,ae),Q(1,V,P,J,ae),V.join("")};return this.__bidiEngine__.doBidiReorder=function(F,P,J){if(function(ae,ce){if(ce)for(var le=0;le<ae.length;le++)ce[le]=le;a===void 0&&(a=D(ae)),u===void 0&&(u=D(ae))}(F,P),o||!l||u)if(o&&l&&a^u)_=a?1:0,F=M(F,P,J);else if(!o&&l&&u)_=a?1:0,F=X(F,P,J),F=M(F,P);else if(!o||a||l||u){if(o&&!l&&a^u)F=M(F,P),a?(_=0,F=X(F,P,J)):(_=1,F=X(F,P,J),F=M(F,P));else if(o&&a&&!l&&u)_=1,F=X(F,P,J),F=M(F,P);else if(!o&&!l&&a^u){var V=h;a?(_=1,F=X(F,P,J),_=0,h=!1,F=X(F,P,J),h=V):(_=0,F=X(F,P,J),F=M(F,P),_=1,h=!1,F=X(F,P,J),h=V,F=M(F,P))}}else _=0,F=X(F,P,J);else _=a?1:0,F=X(F,P,J);return F},this.__bidiEngine__.setOptions=function(F){F&&(o=F.isInputVisual,l=F.isOutputVisual,a=F.isInputRtl,u=F.isOutputRtl,h=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(it),it.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Do(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new y7(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new i7(this.contents),this.head=new o7(this),this.name=new d7(this),this.cmap=new _4(this),this.toUnicode={},this.hhea=new a7(this),this.maxp=new h7(this),this.hmtx=new f7(this),this.post=new c7(this),this.os2=new l7(this),this.loca=new v7(this),this.glyf=new p7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Ki,Do=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),i7=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,a,l,u,h,f,g,m,b,S;for(S in m=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(m)/l),o=Math.floor(f/l),h=16*m-f,(i=new Do).writeInt(this.scalarType),i.writeShort(m),i.writeShort(f),i.writeShort(o),i.writeShort(h),s=16*m,u=i.pos+s,a=null,b=[],n)for(g=n[S],i.writeString(S),i.writeInt(e(g)),i.writeInt(u),i.writeInt(g.length),b=b.concat(g),S==="head"&&(a=u),u+=g.length;u%4;)b.push(0),u++;return i.write(b),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=j4.call(n);n.length%4;)n.push(0);for(s=new Do(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),s7={}.hasOwnProperty,ps=function(e,t){for(var n in t)s7.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Ki=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var o7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ki),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Do).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),vw=function(){function e(t,n){var r,i,s,o,a,l,u,h,f,g,m,b,S,k,y,x,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(m=t.readUInt16(),g=m/2,t.pos+=6,s=function(){var E,D;for(D=[],l=E=0;0<=g?E<g:E>g;l=0<=g?++E:--E)D.push(t.readUInt16());return D}(),t.pos+=2,S=function(){var E,D;for(D=[],l=E=0;0<=g?E<g:E>g;l=0<=g?++E:--E)D.push(t.readUInt16());return D}(),u=function(){var E,D;for(D=[],l=E=0;0<=g?E<g:E>g;l=0<=g?++E:--E)D.push(t.readUInt16());return D}(),h=function(){var E,D;for(D=[],l=E=0;0<=g?E<g:E>g;l=0<=g?++E:--E)D.push(t.readUInt16());return D}(),i=(this.length-t.pos+this.offset)/2,a=function(){var E,D;for(D=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)D.push(t.readUInt16());return D}(),l=y=0,_=s.length;y<_;l=++y)for(k=s[l],r=x=b=S[l];b<=k?x<=k:x>=k;r=b<=k?++x:--x)h[l]===0?o=r+u[l]:(o=a[h[l]/2+(r-b)-(g-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}t.pos=f}return e.encode=function(t,n){var r,i,s,o,a,l,u,h,f,g,m,b,S,k,y,x,_,E,D,q,M,R,Q,X,F,P,J,V,ae,ce,le,W,re,Y,me,N,U,z,G,Z,se,he,de,xe,we,Te;switch(V=new Do,o=Object.keys(t).sort(function(Pe,et){return Pe-et}),n){case"macroman":for(S=0,k=function(){var Pe=[];for(b=0;b<256;++b)Pe.push(0);return Pe}(),x={0:0},s={},ae=0,re=o.length;ae<re;ae++)x[de=t[i=o[ae]]]==null&&(x[de]=++S),s[i]={old:t[i],new:x[t[i]]},k[i]=x[t[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(k),{charMap:s,subtable:V.data,maxGlyphID:S+1};case"unicode":for(P=[],f=[],_=0,x={},r={},y=u=null,ce=0,Y=o.length;ce<Y;ce++)x[D=t[i=o[ce]]]==null&&(x[D]=++_),r[i]={old:D,new:x[D]},a=x[D]-i,y!=null&&a===u||(y&&f.push(y),P.push(i),u=a),y=i;for(y&&f.push(y),f.push(65535),P.push(65535),X=2*(Q=P.length),R=2*Math.pow(Math.log(Q)/Math.LN2,2),g=Math.log(R/2)/Math.LN2,M=2*Q-R,l=[],q=[],m=[],b=le=0,me=P.length;le<me;b=++le){if(F=P[b],h=f[b],F===65535){l.push(0),q.push(0);break}if(F-(J=r[F].new)>=32768)for(l.push(0),q.push(2*(m.length+Q-b)),i=W=F;F<=h?W<=h:W>=h;i=F<=h?++W:--W)m.push(r[i].new);else l.push(J-F),q.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*Q+2*m.length),V.writeUInt16(0),V.writeUInt16(X),V.writeUInt16(R),V.writeUInt16(g),V.writeUInt16(M),se=0,N=f.length;se<N;se++)i=f[se],V.writeUInt16(i);for(V.writeUInt16(0),he=0,U=P.length;he<U;he++)i=P[he],V.writeUInt16(i);for(xe=0,z=l.length;xe<z;xe++)a=l[xe],V.writeUInt16(a);for(we=0,G=q.length;we<G;we++)E=q[we],V.writeUInt16(E);for(Te=0,Z=m.length;Te<Z;Te++)S=m[Te],V.writeUInt16(S);return{charMap:r,subtable:V.data,maxGlyphID:_+1}}},e}(),_4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ki),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new vw(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=vw.encode(n,r),(s=new Do).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),a7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ki),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),l7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ki),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),c7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ki),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,u;for(u=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)u.push(n.readUInt32());return u}).call(this)}},t}(),u7=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},d7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ki),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,o,a,l,u,h,f,g,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=f=0,g=i.length;f<g;o=++f)s=i[o],n.pos=s.offset,h=n.readString(s.length),a=new u7(h,s),u[m=s.nameID]==null&&(u[m]=[]),u[s.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),h7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ki),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),f7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ki),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,o,a,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],r=h=0;0<=s?h<s:h>s;r=0<=s?++h:--h)f.push(n.readInt16());return f}(),this.widths=(function(){var h,f,g,m;for(m=[],h=0,f=(g=this.metrics).length;h<f;h++)o=g[h],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],u=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)u.push(this.widths.push(i));return u},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),j4=[].slice,p7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ki),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,o,a,l,u,h,f,g;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Do(r.read(s))).readShort(),h=l.readShort(),g=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[n]=a===-1?new g7(l,h,g,u,f):new m7(l,a,h,g,u,f),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,o,a,l,u;for(a=[],o=[],l=0,u=r.length;l<u;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},t}(),m7=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),g7=function(){function e(t,n,r,i,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Do(j4.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),v7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ki),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],u=this.offsets[a+1]-l;u>0&&(s+=u)}for(var h=new Array(4*i.length),f=0;f<i.length;++f)h[4*f+3]=255&i[f],h[4*f+2]=(65280&i[f])>>8,h[4*f+1]=(16711680&i[f])>>16,h[4*f]=(4278190080&i[f])>>24;return h},t}(),y7=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,a,l,u,h,f,g,m,b,S,k,y;for(i in r=_4.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},y=r.charMap)m[(l=y[i]).old]=l.new;for(b in g=r.maxGlyphID,o)b in m||(m[b]=g++);return h=function(x){var _,E;for(_ in E={},x)E[x[_]]=_;return E}(m),f=Object.keys(h).sort(function(x,_){return x-_}),S=function(){var x,_,E;for(E=[],x=0,_=f.length;x<_;x++)a=f[x],E.push(h[a]);return E}(),s=this.font.glyf.encode(o,S,m),u=this.font.loca.encode(s.offsets,S),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},e}();it.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(t.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();async function w7(e,t){try{const n={id:e,prenom:t.firstName,nom:t.lastName},{data:r,error:i}=await mt.from("profiles").upsert(n,{onConflict:"id",returning:"representation"}).select().single();if(i)throw new Error(`Erreur mise  jour profil: ${i.message}`);return r}catch(n){throw n}}async function x7(e){var t,n,r,i;try{const{data:s,error:o}=await mt.from("profiles").select("prenom, nom").eq("id",e.id).single(),a={id:e.id,email:e.email,prenom:(s==null?void 0:s.prenom)||((t=e.user_metadata)==null?void 0:t.firstName)||((n=e.user_metadata)==null?void 0:n.prenom)||null,nom:(s==null?void 0:s.nom)||((r=e.user_metadata)==null?void 0:r.lastName)||((i=e.user_metadata)==null?void 0:i.nom)||null,last_login:new Date().toISOString()},{data:l,error:u}=await mt.from("profiles").upsert(a,{onConflict:"id",returning:"representation"}).select().single();if(u)throw new Error(`Erreur sync profil: ${u.message}`);return l}catch(s){throw s}}function jv(){const[e,t]=I.useState(null),[n,r]=I.useState(!0);return I.useEffect(()=>{const i=async()=>{try{const{data:{session:o}}=await mt.auth.getSession();if(!(o!=null&&o.user)){t(null),r(!1);return}try{await x7(o.user)}catch{}const a=o.user.email.split("@")[0],l={id:o.user.id,email:o.user.email,firstName:a,lastName:"",name:a},{data:u,error:h}=await mt.from("profiles").select("*").eq("id",o.user.id).single();if(u){const f={...l,firstName:u.prenom||l.firstName,lastName:u.nom||"",name:`${u.prenom||l.firstName} ${u.nom||""}`.trim(),profile:u};t(f)}else t(l)}catch{t(null)}finally{r(!1)}};i();const{data:{subscription:s}}=mt.auth.onAuthStateChange(async(o,a)=>{o==="SIGNED_IN"?i():o==="SIGNED_OUT"&&(t(null),r(!1))});return()=>s==null?void 0:s.unsubscribe()},[]),{user:e,loading:n}}function yw(e){return e.includes("security purposes")&&e.includes("request this")||e.includes("only request this after")?"Pour des raisons de scurit, vous ne pouvez faire cette demande que toutes les 60 secondes.":e.includes("Invalid email")?"Adresse email invalide.":e.includes("User not found")?"Aucun compte trouv avec cette adresse email.":e.includes("Too many requests")?"Trop de tentatives. Veuillez ressayer dans quelques minutes.":e}async function b7({email:e}){try{const{error:t}=await mt.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return t?{error:{message:yw(t.message)}}:{data:{message:"Email de rinitialisation envoy avec succs"}}}catch(t){return{error:{message:"Erreur lors de l'envoi de l'email de rinitialisation: "+yw(t.message)}}}}const Gh=(e,t=null)=>{if(!e||!e.trim())return;const n=t?`email_history_${t}`:"email_history_guest",r=localStorage.getItem(n);let i=[];if(r)try{i=JSON.parse(r)}catch{}const s=[e,...i.filter(o=>o!==e)].slice(0,5);localStorage.setItem(n,JSON.stringify(s))},S7=e=>{const[t,n]=I.useState([]),[r,i]=I.useState(!1),[s,o]=I.useState([]);return I.useEffect(()=>{const h=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",f=localStorage.getItem(h);if(f)try{const g=JSON.parse(f);n(g)}catch{}},[e]),{showSuggestions:r,filteredEmails:s,saveEmail:h=>{if(!h||!h.trim())return;const f=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",g=[h,...t.filter(m=>m!==h)].slice(0,5);n(g),localStorage.setItem(f,JSON.stringify(g))},removeEmail:h=>{const f=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",g=t.filter(m=>m!==h);n(g),localStorage.setItem(f,JSON.stringify(g)),o(m=>m.filter(b=>b!==h))},filterEmails:h=>{if(!h||h.length<1){o([]),i(!1);return}const f=t.filter(g=>g.toLowerCase().startsWith(h.toLowerCase()));o(f),i(f.length>0)},hideSuggestions:()=>i(!1)}},Ll=({value:e,onChange:t,placeholder:n,required:r,disabled:i,user:s,onEmailSubmit:o})=>{const{showSuggestions:a,filteredEmails:l,saveEmail:u,removeEmail:h,filterEmails:f,hideSuggestions:g}=S7(s),[m,b]=I.useState(e||""),[S,k]=I.useState(-1),y=I.useRef(null),x=I.useRef(null);I.useEffect(()=>{b(e||"")},[e]),I.useEffect(()=>{const q=M=>{x.current&&!x.current.contains(M.target)&&(g(),k(-1))};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[g]);const _=q=>{const M=q.target.value;b(M),t(q),f(M),k(-1)},E=q=>{var M;b(q),t({target:{value:q}}),g(),k(-1),(M=y.current)==null||M.focus()},D=q=>{if(!a||l.length===0){q.key==="Enter"&&o&&(u(m),o());return}switch(q.key){case"ArrowDown":q.preventDefault(),k(M=>M<l.length-1?M+1:M);break;case"ArrowUp":q.preventDefault(),k(M=>M>0?M-1:-1);break;case"Enter":q.preventDefault(),S>=0&&S<l.length?E(l[S]):o&&(u(m),o());break;case"Escape":g(),k(-1);break}};return c.jsxs("div",{className:"email-input-container",ref:x,children:[c.jsx("input",{ref:y,type:"email",value:m,onChange:_,onKeyDown:D,placeholder:n,required:r,disabled:i,autoComplete:"off"}),a&&l.length>0&&c.jsx("div",{className:"email-suggestions google-style",children:l.map((q,M)=>c.jsxs("div",{className:`email-suggestion-item ${M===S?"selected":""}`,onMouseEnter:()=>k(M),children:[c.jsx("div",{className:"email-suggestion-content",onClick:()=>E(q),children:q}),c.jsx("button",{type:"button",className:"email-suggestion-remove",onClick:R=>{R.stopPropagation(),h(q)},onMouseEnter:R=>R.stopPropagation(),title:"Supprimer cet email",children:""})]},M))})]})},_7=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,onOpenSubscription:s})=>{var Fe,Oe,De,He,st;const[o,a]=I.useState(!1),[l,u]=I.useState(!1),[h,f]=I.useState(!1),[g,m]=I.useState(!1),[b,S]=I.useState(""),[k,y]=I.useState(""),[x,_]=I.useState(""),[E,D]=I.useState(""),[q,M]=I.useState(""),[R,Q]=I.useState(!1),{user:X,loading:F}=jv(),P=!!X&&!F,J=I.useRef(null),[V,ae]=I.useState(""),[ce,le]=I.useState(""),[W,re]=I.useState("");I.useState(!1),I.useState("");const[Y,me]=I.useState(!1),[N,U]=I.useState(!1),[z,G]=I.useState(""),[Z,se]=I.useState(!1),[he,de]=I.useState(!1),[xe,we]=I.useState(!1),[Te,Pe]=I.useState(!1);I.useEffect(()=>{(async()=>{if(!X||!X.id){de(!1);return}try{const{data:ze,error:Qe}=await mt.from("profiles").select("role").eq("id",X.id).single();if(Qe){de(!1);return}const St=(ze==null?void 0:ze.role)==="admin"||(ze==null?void 0:ze.role)==="super_admin";de(St)}catch{de(!1)}})()},[X]);const et=()=>he,ve=async Ee=>{Ee.preventDefault(),M(""),Q(!0);try{const{data:ze,error:Qe}=await mt.auth.signInWithPassword({email:b.trim(),password:k.trim()});if(Qe){M(Qe.message==="Invalid login credentials"?"Email ou mot de passe incorrect":Qe.message);return}ze!=null&&ze.user&&(Gh(b.trim()),u(!1),a(!1),S(""),y(""),t&&t(ze.user))}catch{M("Erreur de connexion. Vrifiez vos identifiants.")}finally{Q(!1)}},K=async Ee=>{Ee.preventDefault(),M(""),Q(!0);try{const{data:ze,error:Qe}=await mt.auth.signUp({email:b.trim(),password:k.trim(),options:{data:{firstName:x.trim(),lastName:E.trim(),name:`${x.trim()} ${E.trim()}`}}});if(Qe){M(Qe.message==="User already registered"?"Un compte existe dj avec cet email":Qe.message);return}ze!=null&&ze.user&&(Gh(b.trim()),ze.session?(f(!1),a(!1),S(""),y(""),_(""),D(""),r&&r(ze.user)):M("Un email de confirmation a t envoy. Vrifiez votre bote mail."))}catch{M("Erreur d'inscription. Ressayez plus tard.")}finally{Q(!1)}},Ye=async()=>{try{const{error:Ee}=await mt.auth.signOut();if(Ee){M("Erreur lors de la dconnexion");return}a(!1),m(!1),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userFirstName"),localStorage.removeItem("userLastName"),localStorage.removeItem("friday_supabase_user"),n&&n(),window.location.reload()}catch{M("Erreur lors de la dconnexion")}},Ge=async Ee=>{Ee.preventDefault(),M(""),se(!0),M(""),Gh(z.trim());try{const{data:ze,error:Qe}=await b7({email:z.trim()});if(Qe){se(!1),M(Qe.message||"Erreur lors de l'envoi de l'email");return}}catch{se(!1),M("Erreur lors de l'envoi de l'email de rinitialisation")}},Ce=async()=>{if(!(!X||!X.id))try{const{data:Ee,error:ze}=await mt.from("profiles").select("*").eq("id",X.id).single();!ze&&Ee&&(re(Ee.email||X.email||""),ae(Ee.prenom||""),le(Ee.nom||""))}catch{}};return I.useEffect(()=>{var Ee,ze;X&&(re(X.email||""),ae(X.firstName||((Ee=X.user_metadata)==null?void 0:Ee.firstName)||""),le(X.lastName||((ze=X.user_metadata)==null?void 0:ze.lastName)||""))},[X]),I.useEffect(()=>{const Ee=ze=>{J.current&&!J.current.contains(ze.target)&&(a(!1),u(!1),f(!1),m(!1),U(!1),M(""))};return document.addEventListener("mousedown",Ee),()=>{document.removeEventListener("mousedown",Ee)}},[]),F?c.jsx("div",{className:"user-account",ref:J,children:c.jsx("div",{className:"user-avatar",children:c.jsx("span",{children:""})})}):c.jsx("div",{className:"user-account",ref:J,children:P?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-avatar",onClick:()=>a(!o),children:c.jsx("span",{className:"user-initial",children:((Oe=(Fe=X==null?void 0:X.firstName)==null?void 0:Fe.charAt(0))==null?void 0:Oe.toUpperCase())||((He=(De=X==null?void 0:X.email)==null?void 0:De.charAt(0))==null?void 0:He.toUpperCase())||""})}),c.jsx(Si,{children:o&&c.jsxs(Re.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[c.jsxs("div",{className:"user-info",children:[c.jsx("div",{className:"user-name",children:(X==null?void 0:X.firstName)||(X==null?void 0:X.name)||((st=X==null?void 0:X.email)==null?void 0:st.split("@")[0])}),c.jsx("div",{className:"user-email",children:X==null?void 0:X.email})]}),c.jsxs("div",{className:"dropdown-actions",children:[et()&&c.jsx("button",{onClick:()=>{window.open("/ilmysv6iepwepoa4tj2k?auth=auto","_blank")},children:" Administration"}),c.jsx("button",{onClick:()=>{a(!1),m(!0)},children:"Mon profil"}),c.jsx("button",{onClick:()=>{a(!1),i&&i()},children:"Mon historique"}),c.jsx("button",{onClick:()=>{a(!1),s&&s()},children:"Mon abonnement"}),c.jsx("button",{onClick:Ye,className:"logout-button",children:"Se dconnecter"})]})]})}),c.jsx(Si,{children:g&&c.jsx(Re.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>m(!1),children:c.jsxs(Re.div,{className:"auth-form profile-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Ee=>Ee.stopPropagation(),children:[c.jsx("h3",{children:"Mon profil"}),c.jsxs("form",{onSubmit:async Ee=>{Ee.preventDefault(),M("");try{await w7(X.id,{firstName:V.trim(),lastName:ce.trim()}),await Ce(),me(!0),setTimeout(()=>me(!1),3e3)}catch(ze){console.error("Erreur mise  jour profil:",ze),M("Erreur lors de la mise  jour du profil")}},children:[c.jsx(Ll,{value:W,onChange:Ee=>re(Ee.target.value),placeholder:"Email",disabled:!0,user:X,onEmailSubmit:()=>{}}),c.jsx("input",{type:"text",placeholder:"Prnom",value:V,onChange:Ee=>ae(Ee.target.value)}),c.jsx("input",{type:"text",placeholder:"Nom",value:ce,onChange:Ee=>le(Ee.target.value)}),q&&c.jsx("div",{className:"error-message",children:q}),Y&&c.jsx("div",{className:"success-message",children:"Profil mis  jour avec succs !"}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>m(!1),children:"Fermer"}),c.jsx("button",{type:"submit",children:"Mettre  jour"})]})]})]})})})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-avatar",onClick:()=>a(!o),children:c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),c.jsx("path",{d:"M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),c.jsx(Si,{children:o&&c.jsx(Re.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:c.jsxs("div",{className:"dropdown-actions",children:[c.jsx("button",{onClick:()=>{a(!1),u(!0),M("")},children:"Se connecter"}),c.jsx("button",{onClick:()=>{a(!1),f(!0),M("")},children:"Crer un compte"})]})})}),c.jsxs(Si,{children:[l&&c.jsx(Re.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>u(!1),children:c.jsxs(Re.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Ee=>Ee.stopPropagation(),children:[c.jsx("h3",{children:"Connexion"}),c.jsxs("form",{onSubmit:ve,children:[c.jsx(Ll,{value:b,onChange:Ee=>S(Ee.target.value),placeholder:"Email",required:!0,disabled:R,user:null,onEmailSubmit:()=>{}}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:xe?"text":"password",placeholder:"Mot de passe",value:k,onChange:Ee=>y(Ee.target.value),required:!0,disabled:R,className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>we(!xe),disabled:R,"aria-label":xe?"Masquer le mot de passe":"Afficher le mot de passe",children:xe?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),q&&c.jsx("div",{className:"error-message",children:q}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{u(!1),f(!0),M("")},disabled:R,children:"Crer un compte"}),c.jsx("button",{type:"submit",disabled:R,children:R?"Connexion...":"Se connecter"})]}),c.jsx("button",{type:"button",className:"forgot-password-link",onClick:()=>{u(!1),U(!0),M("")},disabled:R,children:"Mot de passe oubli ?"})]})]})}),h&&c.jsx(Re.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>f(!1),children:c.jsxs(Re.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Ee=>Ee.stopPropagation(),children:[c.jsx("h3",{children:"Crer un compte"}),c.jsxs("form",{onSubmit:K,children:[c.jsx("input",{type:"text",placeholder:"Prnom",value:x,onChange:Ee=>_(Ee.target.value),required:!0,disabled:R}),c.jsx("input",{type:"text",placeholder:"Nom",value:E,onChange:Ee=>D(Ee.target.value),required:!0,disabled:R}),c.jsx(Ll,{value:b,onChange:Ee=>S(Ee.target.value),placeholder:"Email",required:!0,disabled:R,user:null,onEmailSubmit:()=>{}}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:Te?"text":"password",placeholder:"Mot de passe (min 6 caractres)",value:k,onChange:Ee=>y(Ee.target.value),required:!0,minLength:6,disabled:R,className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>Pe(!Te),disabled:R,"aria-label":Te?"Masquer le mot de passe":"Afficher le mot de passe",children:Te?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),q&&c.jsx("div",{className:"error-message",children:q}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{f(!1),u(!0),M("")},disabled:R,children:"Dj un compte ?"}),c.jsx("button",{type:"submit",disabled:R,children:R?"Cration...":"Crer le compte"})]})]})]})}),N&&c.jsx(Re.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>U(!1),children:c.jsxs(Re.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Ee=>Ee.stopPropagation(),children:[c.jsx("h3",{children:"Rinitialiser le mot de passe"}),Z?c.jsxs("div",{className:"success-message",children:[c.jsxs("p",{children:["Un email de rinitialisation a t envoy  ",z]}),c.jsx("button",{onClick:()=>{U(!1),u(!0),se(!1),G("")},children:"Retour  la connexion"})]}):c.jsxs("form",{onSubmit:Ge,children:[c.jsx(Ll,{value:z,onChange:Ee=>G(Ee.target.value),placeholder:"Votre email",required:!0,user:null,onEmailSubmit:()=>{}}),q&&c.jsx("div",{className:"error-message",children:q}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{U(!1),u(!0),M("")},children:"Retour  la connexion"}),c.jsx("button",{type:"submit",children:"Envoyer le lien"})]})]})]})})]})]})})},j7=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,userId:s,onOpenSubscription:o})=>c.jsxs("header",{className:"header",children:[c.jsxs("div",{className:"header-content",children:[c.jsx(Re.div,{className:"logo",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:c.jsx("h1",{children:"HERBBIE"})}),c.jsx(Re.h2,{className:"tagline",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:"Offrez  vos enfants des crations ludiques et imaginatives personnalises !"}),c.jsx(Re.p,{className:"animation-coming-soon",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:"La cration de dessins anims sera bientt disponible."})]}),c.jsx("div",{className:"user-account-container",children:c.jsx(_7,{isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,onOpenSubscription:o})})]});const k7="/api/features";let Tf=null,kv=0;const N7=3e3,A7={animation:{enabled:!0,name:"Dessin anim",icon:"",description:"Gnration de dessins anims personnaliss avec IA"},comic:{enabled:!0,name:"Bande dessine",icon:"",description:"Cration de bandes dessines avec bulles de dialogue"},coloring:{enabled:!0,name:"Coloriage",icon:"",description:"Pages de coloriage  imprimer pour les enfants"},histoire:{enabled:!0,name:"Histoire",icon:"",description:"Histoires avec possibilit d'ajouter une narration audio"},rhyme:{enabled:!0,name:"Comptine",icon:"",description:"Comptines musicales avec paroles et mlodies"}},C7=e=>JSON.parse(JSON.stringify(e||{})),k4=(e={})=>{const n={...C7(e)};if(n.audio){const s=n.audio;n.histoire?n.histoire={enabled:n.histoire.enabled??s.enabled??!0,name:n.histoire.name||s.name||"Histoire",icon:n.histoire.icon||s.icon||"",description:n.histoire.description||s.description||"Histoires avec possibilit d'ajouter une narration audio",updated_at:n.histoire.updated_at||s.updated_at}:n.histoire=s,delete n.audio}n.histoire&&(n.histoire={enabled:n.histoire.enabled??!0,name:n.histoire.name||"Histoire",icon:n.histoire.icon||"",description:n.histoire.description||"Histoires avec possibilit d'ajouter une narration audio",updated_at:n.histoire.updated_at});const r=["animation","comic","coloring","histoire","rhyme"],i={};return r.forEach(s=>{n[s]&&(i[s]=n[s])}),Object.keys(n).forEach(s=>{i[s]||(i[s]=n[s])}),i},N4=async()=>{try{const e=await fetch(k7,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json(),n=k4(t);return Tf=n,kv=Date.now(),n}else throw console.error("Erreur API lors du chargement des fonctionnalits:",e.status),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors du chargement depuis l'API:",e),e}},P7=async()=>{try{const e=Date.now();return Tf&&e-kv<N7?Tf:await N4()}catch(e){return console.error("Erreur lors de la rcupration des fonctionnalits:",e),k4(A7)}},E7=async()=>{try{const e=await P7();return Object.entries(e).filter(([t,n])=>n.enabled).reduce((t,[n,r])=>(t[n]=r,t),{})}catch(e){return console.warn("Erreur lors de la rcupration des fonctionnalits actives:",e),{}}},L7=()=>{Tf=null,kv=0},T7=e=>{let t=null;const n=async()=>{try{L7();const i=await N4();JSON.stringify(i)!==JSON.stringify(t)&&e&&typeof e=="function"&&(t=i,e(i))}catch(i){console.error("Erreur lors de la vrification des changements:",i)}},r=setInterval(n,5e3);return n(),()=>{clearInterval(r)}},I7=({contentType:e,setContentType:t})=>{const[n,r]=I.useState({}),[i,s]=I.useState(!0),o=I.useRef(null);I.useEffect(()=>(a(),T7(async f=>{var S,k;const g=Object.entries(f).filter(([y,x])=>x.enabled).reduce((y,[x,_])=>(y[x]=_,y),{});r(g);const m=!!((S=f.animation)!=null&&S.enabled),b=!!g[e];if(m){if(o.current===!1&&e!=="animation")t("animation");else if(!b){const y=Object.keys(g).find(x=>g[x].enabled);y&&t(y==="audio"?"histoire":y)}}else if(e==="animation"||!b){const x=(k=f.comic)!=null&&k.enabled?"comic":Object.keys(g).find(_=>g[_].enabled);if(x){const _=x==="audio"?"histoire":x;e!==_&&t(_)}}o.current=m})),[e,t]);const a=async()=>{var h,f;try{s(!0);const g=await E7();e==="audio"&&t("histoire"),r(g);const m=!!((h=g.animation)!=null&&h.enabled),b=!!g[e];if(m)o.current===!1&&e!=="animation"&&t("animation");else if(e==="animation"||!b){const k=(f=g.comic)!=null&&f.enabled?"comic":Object.keys(g).find(y=>g[y].enabled);if(k){const y=k==="audio"?"histoire":k;e!==y&&t(y)}}if(o.current=m,Object.keys(g).length>0&&!b){const[S]=Object.keys(g);S&&t(S==="audio"?"histoire":S)}}catch(g){console.error("Erreur lors du chargement des fonctionnalits:",g)}finally{s(!1)}},l=h=>{t(h)},u=Object.keys(n).length>0;return i?c.jsxs("div",{className:"content-type-selector",children:[c.jsx("h3",{children:"1. Choisissez le type de contenu"}),c.jsx("div",{className:"loading-message",children:c.jsx("p",{children:"Chargement des fonctionnalits..."})})]}):c.jsxs("div",{className:"content-type-selector",children:[c.jsx("h3",{children:"1. Choisissez le type de contenu"}),u?c.jsxs("div",{className:"content-type-options",children:[n.animation&&c.jsxs(Re.div,{className:`content-type-option animation-full-width ${e==="animation"?"selected":""}`,onClick:()=>l("animation"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Dessin anim"}),c.jsx("p",{children:"Crez un vritable dessin anim fluide et cohrent avec l'IA"})]})]}),n.comic&&c.jsxs(Re.div,{className:`content-type-option ${e==="comic"?"selected":""}`,onClick:()=>l("comic"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Bande dessine"}),c.jsx("p",{children:"Crez une vraie BD avec histoire cohrente et bulles de dialogue"})]})]}),n.coloring&&c.jsxs(Re.div,{className:`content-type-option ${e==="coloring"?"selected":""}`,onClick:()=>l("coloring"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Coloriage"}),c.jsx("p",{children:"Crez des dessins  colorier personnaliss en noir et blanc"})]})]}),(n.histoire||n.audio)&&c.jsxs(Re.div,{className:`content-type-option ${e==="histoire"?"selected":""}`,onClick:()=>l("histoire"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Histoire"}),c.jsx("p",{children:"Crez une histoire avec possibilit d'ajouter une narration audio"})]})]}),n.rhyme&&c.jsxs(Re.div,{className:`content-type-option ${e==="rhyme"?"selected":""}`,onClick:()=>l("rhyme"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Comptine"}),c.jsx("p",{children:"Crez une comptine musicale avec paroles et mlodie"})]})]})]}):c.jsx("div",{className:"no-features-message",children:c.jsx("p",{children:"Aucune fonctionnalit n'est actuellement disponible."})})]})};const R7=[{id:"lullaby",title:"Berceuse douce",description:"Mlodie apaisante pour s'endormir",emoji:"",musicStyle:"gentle lullaby"},{id:"animal",title:"Comptine animalire",description:"Animaux et leurs sons en musique",emoji:"",musicStyle:"playful with animal sounds"},{id:"counting",title:"Comptine  compter",description:"Apprendre les chiffres en chanson",emoji:"",musicStyle:"upbeat educational"},{id:"colors",title:"Comptine des couleurs",description:"Dcouvrir les couleurs en musique",emoji:"",musicStyle:"cheerful and colorful"},{id:"alphabet",title:"Comptine de l'alphabet",description:"Apprendre les lettres en chantant",emoji:"",musicStyle:"educational and catchy"},{id:"family",title:"Comptine familiale",description:"Chanson sur la famille et l'amour",emoji:"",musicStyle:"warm and loving"},{id:"nature",title:"Comptine de la nature",description:"Explorer plantes, arbres et fleurs",emoji:"",musicStyle:"peaceful and natural"},{id:"seasonal",title:"Comptine saisonnire",description:"Clbrer saisons et merveilles",emoji:"",musicStyle:"festive and warm"},{id:"movement",title:"Comptine de mouvement",description:"Bouger, sauter et danser",emoji:"",musicStyle:"energetic dance rhythm"},{id:"emotions",title:"Comptine des motions",description:"Comprendre et exprimer sentiments",emoji:"",musicStyle:"expressive and gentle"},{id:"shapes",title:"Comptine des formes",description:"Apprendre les formes gomtriques",emoji:"",musicStyle:"playful educational"}],F7=({selectedRhyme:e,setSelectedRhyme:t,customRhyme:n,setCustomRhyme:r})=>{const i=s=>{t(e===s?"":s)};return c.jsxs("div",{className:"musical-rhyme-selector",children:[c.jsx("h3",{children:"2. Choisissez un type de comptine"}),c.jsxs("div",{className:"rhyme-grid",children:[c.jsxs("div",{className:"rhyme-slot",children:[c.jsxs(Re.div,{className:`rhyme-card custom-rhyme ${e==="custom"?"selected":""}`,onClick:()=>i("custom"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"rhyme-emoji",children:""}),c.jsx("h4",{children:"Personnalis"}),c.jsx("p",{children:"Comptine avec prnom ou thme perso"})]}),e==="custom"&&c.jsx(Re.div,{className:"custom-rhyme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{id:"customRhyme",value:n,onChange:s=>r(s.target.value),placeholder:"Dcrivez votre type de comptine personnalise...",className:"custom-textarea"})})]}),R7.map(s=>c.jsx("div",{className:"rhyme-slot",children:c.jsxs(Re.div,{className:`rhyme-card ${e===s.id?"selected":""}`,onClick:()=>i(s.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"rhyme-emoji",children:s.emoji}),c.jsx("h4",{children:s.title}),c.jsx("p",{children:s.description})]})},s.id))]})]})};const O7=[{id:"magic",title:"Monde magique",description:"Fes, sorciers, cratures enchantes",emoji:""},{id:"dinosaurs",title:"Temps des dinosaures",description:"Dinosaures gentils, voyages dans le temps",emoji:""},{id:"space",title:"Voyage spatial",description:"Plantes, fuses, aliens sympathiques",emoji:""},{id:"adventure",title:"Aventure fantastique",description:"Rebondissements, magie, dcouvertes",emoji:""},{id:"animals",title:"Amis animaux",description:"Animaux qui parlent, aventures sauvages",emoji:""},{id:"underwater",title:"Monde sous-marin",description:"Ocans, cratures marines, trsors",emoji:""},{id:"forest",title:"Fort enchante",description:"Fort mystrieuse, surprises magiques",emoji:""},{id:"funny",title:"Histoire drle",description:"Contes amusants, rires garantis",emoji:""},{id:"mystery",title:"Petit mystre",description:"nigmes pour enfants, investigations",emoji:""},{id:"friendship",title:"Belle amiti",description:"Histoire sur l'amiti, entraide",emoji:""},{id:"learning",title:"Conte ducatif",description:"Leons importantes, apprentissage",emoji:""},{id:"bedtime",title:"Histoire du soir",description:"Contes apaisants, sommeil doux",emoji:""},{id:"robots",title:"Robots amis",description:"Robots gentils, inventions magiques",emoji:""},{id:"pirates",title:"Pirates courageux",description:"Bateaux pirates, trsors cachs",emoji:""}],D7=[{id:"female",name:"Voix fminine"},{id:"male",name:"Voix masculine"}],M7=({selectedAudioStory:e,setSelectedAudioStory:t,customAudioStory:n,setCustomAudioStory:r,selectedVoice:i,setSelectedVoice:s})=>{const[o,a]=I.useState(!1),l=m=>{e===m?(t(""),a(!1)):(t(m),m!=="custom"&&a(!1))},u=()=>{e==="custom"?(t(""),a(!1)):(t("custom"),a(!0))},h=[{id:"custom",title:"Personnalis",description:"Crez votre propre type d'histoire unique",emoji:"",isCustom:!0},...O7],f=m=>{r(m.target.value)},g=m=>{s(i===m?null:m)};return c.jsxs("div",{className:"audio-story-selector",children:[c.jsx("h3",{children:"2. Choisissez un type d'histoire"}),c.jsx("div",{className:"audio-story-grid",children:h.map(m=>c.jsxs("div",{className:"audio-story-slot",children:[c.jsxs(Re.div,{className:`audio-story-card ${m.isCustom?"custom-audio-story":""} ${e===m.id?"selected":""}`,onClick:()=>m.isCustom?u():l(m.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"audio-story-emoji",children:m.emoji}),c.jsx("h4",{children:m.title}),c.jsx("p",{children:m.description})]}),m.isCustom&&o&&e==="custom"&&c.jsx(Re.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx(Re.textarea,{id:"customAudioStory",value:n,onChange:f,placeholder:"Ex: Un conte qui se droule dans un monde sous-marin avec des cratures magiques...",className:"custom-input",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})})]},m.id))}),c.jsxs("div",{className:"voice-selector-section",children:[c.jsx("h3",{children:"3. Choisissez une narration (optionnel)"}),c.jsx("div",{className:"voice-options",children:D7.map(m=>c.jsxs(Re.div,{className:`voice-option ${i===m.id?"selected":""}`,onClick:()=>g(m.id),whileHover:{scale:1.03},whileTap:{scale:.98},children:[c.jsx("div",{className:"voice-icon",children:m.id==="female"?"":""}),c.jsx("div",{className:"voice-details",children:c.jsx("h4",{children:m.name})})]},m.id))})]})]})};const B7=[{id:"space",title:"Aventure spatiale",description:"Une exploration de l'espace et des plantes lointaines",emoji:""},{id:"ocean",title:"Sous l'ocan",description:"Une aventure sous-marine avec des cratures fantastiques",emoji:""},{id:"dinosaur",title:"Monde des dinosaures",description:"Un voyage dans le temps  l'poque des dinosaures",emoji:""},{id:"fairy",title:"Conte de fes",description:"Une histoire magique avec des fes et des cratures enchantes",emoji:""},{id:"superhero",title:"Super-hros",description:"Une aventure o votre enfant devient un super-hros",emoji:""},{id:"jungle",title:"Aventure dans la jungle",description:"Une exploration de la jungle et ses animaux sauvages",emoji:""}],U7=({selectedStory:e,setSelectedStory:t,customStory:n,setCustomStory:r})=>{const[i,s]=I.useState(!1),o=u=>{t(u),u!=="custom"&&s(!1)},a=()=>{t("custom"),s(!0)},l=u=>{r(u.target.value)};return c.jsxs("div",{className:"story-selector",children:[c.jsx("h3",{children:"4. Choisissez un type d'histoire"}),c.jsxs("div",{className:"story-grid",children:[c.jsxs(Re.div,{className:`story-card custom-story ${e==="custom"?"selected":""}`,onClick:a,whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"story-emoji",children:""}),c.jsx("h4",{children:"Personnalis"}),c.jsx("p",{children:"Crez votre propre type d'histoire unique"})]}),B7.map(u=>c.jsxs(Re.div,{className:`story-card ${e===u.id?"selected":""}`,onClick:()=>o(u.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"story-emoji",children:u.emoji}),c.jsx("h4",{children:u.title}),c.jsx("p",{children:u.description})]},u.id))]}),i&&c.jsxs(Re.div,{className:"custom-story-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[c.jsx("label",{htmlFor:"customStory",children:"Dcrivez votre type d'histoire"}),c.jsx(Re.textarea,{id:"customStory",value:n,onChange:l,placeholder:"Ex: Une aventure dans un monde de bonbons o les arbres sont en chocolat...",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})]})},An={}.VITE_API_BASE_URL||"",Sh={}.VITE_ANIMATION_API_BASE_URL||"https://da-production-6222.up.railway.app";const z7=({selectedTheme:e,setSelectedTheme:t,selectedDuration:n,setSelectedDuration:r,selectedStyle:i,setSelectedStyle:s,customStory:o,setCustomStory:a,characterImage:l,setCharacterImage:u})=>{const[h,f]=I.useState([]),[g,m]=I.useState([]);I.useEffect(()=>{f([{id:"custom",name:"Personnalis",description:"crivez votre propre histoire",emoji:""},{id:"space",name:"Espace",description:"Voyages spatiaux",emoji:""},{id:"ocean",name:"Sous-marin",description:"Exploration sous-marine",emoji:""},{id:"nature",name:"Nature",description:"Monde naturel",emoji:""},{id:"adventure",name:"Aventure",description:"Voyages et explorations",emoji:""},{id:"animals",name:"Animaux",description:"Histoires d'animaux mignons",emoji:""},{id:"magic",name:"Magie",description:"Monde magique et sortilges",emoji:""},{id:"friendship",name:"Amiti",description:"Histoires d'amiti",emoji:""},{id:"circus",name:"Cirque",description:"Spectacle de cirque magique",emoji:""}]),m([{value:30,label:"30 secondes"},{value:60,label:"1 minute"},{value:120,label:"2 minutes"},{value:180,label:"3 minutes"},{value:240,label:"4 minutes"},{value:300,label:"5 minutes"}])},[]);const b=[{id:"3d",name:"3D",description:"Animation 3D moderne",emoji:""},{id:"realistic",name:"Raliste",description:"Style cinmatographique",emoji:""},{id:"cartoon",name:"Cartoon",description:"Style dessin anim color",emoji:""},{id:"anime",name:"Anime",description:"Style manga japonais",emoji:"",useImage:!0,imagePath:"/assets/japan-flag.png"}],S=x=>{t(e===x?null:x)},k=x=>{r(n===x?null:x)},y=x=>{s(i===x?null:x)};return c.jsxs("div",{className:"animation-selector",children:[c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"2. Choisissez un thme pour votre dessin anim"}),c.jsx("div",{className:"themes-grid",children:h.map(x=>c.jsxs("div",{children:[c.jsxs(Re.div,{className:`theme-card ${e===x.id?"selected":""} ${x.id==="custom"?"custom-animation":""}`,onClick:()=>S(x.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx("div",{className:"theme-emoji",children:x.emoji}),c.jsxs("div",{className:"theme-content",children:[c.jsx("h5",{children:x.name}),c.jsx("p",{children:x.description})]})]}),x.id==="custom"&&e==="custom"&&c.jsx(Re.div,{className:"custom-theme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{className:"custom-story-textarea",value:o,onChange:_=>a(_.target.value),placeholder:"Il tait une fois... Racontez votre histoire ici. Plus elle est dtaille, plus l'animation sera riche et personnalise !",rows:4})})]},x.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"2. Choisissez la dure de l'animation"}),c.jsx("div",{className:"duration-options",children:g.map(x=>c.jsx(Re.div,{className:`duration-option ${n===x.value?"selected":""}`,onClick:()=>k(x.value),whileHover:{scale:1.02},whileTap:{scale:.98},children:c.jsx("div",{className:"duration-label",children:x.label})},x.value))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"3. Choisissez un style visuel"}),c.jsx("div",{className:"style-options",children:b.map(x=>c.jsxs(Re.div,{className:`style-option ${i===x.id?"selected":""}`,onClick:()=>y(x.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"style-emoji",children:[x.useImage?c.jsx("img",{src:x.imagePath,alt:x.name,className:"style-flag-image",onError:_=>{_.target.style.display="none",_.target.nextSibling.style.display="block"}}):null,c.jsx("span",{style:{display:x.useImage?"none":"block"},children:x.emoji})]}),c.jsxs("div",{className:"style-content",children:[c.jsx("h5",{children:x.name}),c.jsx("p",{children:x.description})]})]},x.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"4. Personnage principal (optionnel)"}),c.jsx("p",{className:"section-description",children:"Uploadez une photo pour crer un personnage personnalis dans votre dessin anim"}),c.jsx("div",{className:"character-upload-container",children:l?c.jsxs("div",{className:"character-preview",children:[c.jsx("img",{src:l,alt:"Personnage",className:"character-image"}),c.jsx(Re.button,{className:"remove-character-btn",onClick:()=>u(null),whileHover:{scale:1.1},whileTap:{scale:.9},children:" Supprimer"})]}):c.jsxs(Re.label,{className:"character-upload-zone",whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx("input",{type:"file",accept:"image/*",onChange:x=>{const _=x.target.files[0];if(_){const E=new FileReader;E.onloadend=()=>{u(E.result)},E.readAsDataURL(_)}},style:{display:"none"}}),c.jsx("div",{className:"upload-icon",children:""}),c.jsxs("div",{className:"upload-text",children:[c.jsx("strong",{children:"Cliquez pour uploader une photo"}),c.jsx("span",{children:"ou glissez-dposez une image ici"})]})]})})]})]})};const $7=({animationResult:e,onClose:t})=>{var R,Q,X,F;const[n,r]=I.useState("video"),[i,s]=I.useState(null);if(!e)return null;const{status:o,clips:a=[],video_urls:l=[],scenes:u=[],generation_time:h,total_duration:f,successful_clips:g=0,fallback_clips:m=0,pipeline_type:b,scenes_count:S=0,video_count:k=0}=e,y=a.length>0?a:l.map((P,J)=>({clip_url:P,status:"success",prompt:`Scne ${J+1}`,duration:8})),x=y.some(P=>P.status==="success")||o==="completed"&&(e.final_video_url||((R=e.result)==null?void 0:R.final_video_url)),_=u||e.scenes_details||[],E=y.length||S||k,D=P=>{if(!P||isNaN(P))return"---";const J=Math.floor(P/60),V=P%60;return J>0?`${J}m ${V}s`:`${V}s`},q=P=>{switch(P){case"success":return"#4CAF50";case"fallback":return"#FF9800";case"error":return"#F44336";default:return"#9E9E9E"}},M=P=>{switch(P){case"success":return"";case"fallback":return"";case"error":return"";default:return""}};return c.jsx(Re.div,{className:"animation-viewer-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(Re.div,{className:"animation-viewer",initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},onClick:P=>P.stopPropagation(),transition:{type:"spring",damping:20,stiffness:300},children:[c.jsxs("div",{className:"viewer-header",children:[c.jsx("h2",{children:" Votre dessin anim IA"}),o&&c.jsxs("div",{className:"status-badge",style:{backgroundColor:q(o)},children:[M(o)," ",o==="generating_idea"?"Cration de l'ide...":o==="creating_scenes"?"Cration des scnes...":o==="generating_clips"?"Gnration vido...":o==="completed"?"Termin !":o==="failed"?"chou":o]}),c.jsx("button",{className:"close-button",onClick:t,children:""})]}),c.jsxs("div",{className:"animation-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:["Dure: ",D(f||e.duration)]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[E," scnes"]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[g||E," russies"]})]}),m>0&&c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[m," fallback"]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:["Gnr en ",h?Math.round(h)+"s":"En cours..."]})]})]}),c.jsxs("div",{className:"viewer-tabs",children:[c.jsx("button",{className:`tab ${n==="video"?"active":""}`,onClick:()=>r("video"),children:" Vido"}),c.jsx("button",{className:`tab ${n==="scenes"?"active":""}`,onClick:()=>r("scenes"),children:" Scnes"}),c.jsx("button",{className:`tab ${n==="details"?"active":""}`,onClick:()=>r("details"),children:" Dtails"})]}),c.jsx("div",{className:"viewer-content",children:c.jsxs(Si,{mode:"wait",children:[n==="video"&&c.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"video-tab",children:x?c.jsx("div",{className:"video-player",children:e.final_video_url||(Q=e.result)!=null&&Q.final_video_url?c.jsxs("div",{className:"final-animation",children:[c.jsx("div",{className:"video-icon",children:""}),c.jsxs("h3",{children:[" ",e.title||"Votre dessin anim est prt !"]}),c.jsxs("p",{children:["Animation complte de ",D(f||e.duration)," avec ",g||E," scnes."]}),c.jsx("div",{className:"main-video-container",children:c.jsx("video",{src:e.final_video_url||((X=e.result)==null?void 0:X.final_video_url),className:"final-animation-video",controls:!0,autoPlay:!0,loop:!0,muted:!0,preload:"metadata",style:{width:"100%",maxWidth:"600px",height:"auto",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.2)",margin:"1rem 0"},onLoadedData:()=>{},onError:P=>{P.target.style.display="none"}})}),c.jsx("div",{className:"video-controls",children:c.jsx("button",{className:"play-btn",onClick:()=>{var P;return window.open(e.final_video_url||((P=e.result)==null?void 0:P.final_video_url),"_blank")},style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"},children:" Ouvrir en plein cran"})})]}):c.jsxs("div",{className:"animation-gallery",children:[c.jsx("div",{className:"video-icon",children:""}),c.jsx("h3",{children:" Votre dessin anim est prt !"}),c.jsxs("p",{children:["Animation de ",D(f)," gnre avec succs.",g>0&&` ${g} scnes cres avec l'IA.`]}),c.jsxs("div",{className:"scenes-gallery",children:[c.jsx("h4",{children:" Votre dessin anim en images :"}),c.jsx("div",{className:"gallery-grid",children:y.map((P,J)=>{let V=null,ae=!1;return P.video_url&&P.type==="real_video"?(V=/^https?:\/\//i.test(P.video_url)?P.video_url:`${Sh}${P.video_url}`,ae=!0):P.demo_image_url?V=/^https?:\/\//i.test(P.demo_image_url)?P.demo_image_url:`${Sh}${P.demo_image_url}`:P.image_url?V=/^https?:\/\//i.test(P.image_url)?P.image_url:`${Sh}${P.image_url}`:P.video_url&&(V=/^https?:\/\//i.test(P.video_url)?P.video_url:`${Sh}${P.video_url}`),c.jsxs("div",{className:"scene-media-card",children:[ae?c.jsx("video",{src:V,className:"scene-video",controls:!0,loop:!0,muted:!0,preload:"metadata",onLoadedData:()=>{},onError:ce=>{ce.target.style.display="none",ce.target.nextSibling.style.display="flex"}}):c.jsx("img",{src:V,alt:`Scne ${P.scene_number}`,className:"scene-image",onLoad:()=>{},onError:ce=>{ce.target.style.display="none",ce.target.nextSibling.style.display="flex"}}),c.jsxs("div",{className:"scene-placeholder",style:{display:"none"},children:[c.jsx("span",{children:""}),c.jsxs("p",{children:["Scne ",P.scene_number]}),c.jsx("small",{children:P.type||"En cours..."})]}),c.jsxs("div",{className:"scene-info",children:[c.jsxs("span",{children:["Scne ",P.scene_number]}),c.jsx("span",{children:D(P.duration)}),P.type==="real_video"&&c.jsx("span",{className:"clip-type real",children:" Vido"}),P.type==="demo"&&c.jsx("span",{className:"clip-type demo",children:" Dmo"}),P.status==="success"&&c.jsx("span",{className:"clip-status success",children:""}),P.status==="fallback"&&c.jsx("span",{className:"clip-status fallback",children:""})]})]},J)})}),c.jsx("div",{className:"gallery-summary",children:c.jsxs("p",{children:[c.jsx("strong",{children:" Votre animation complte :"}),E," scnes illustres reprsentant votre histoire. Chaque image correspond  un moment cl de votre rcit gnr par l'IA."]})})]}),y.filter(P=>P.status==="success").length>0&&c.jsxs("div",{className:"video-clips-list",children:[c.jsx("h4",{children:" Toutes les scnes gnres :"}),y.filter(P=>P.status==="success").map((P,J)=>c.jsxs("div",{className:"clip-item",children:[c.jsxs("span",{children:[" Scne ",P.scene_number]}),c.jsx("span",{children:D(P.duration)}),P.type==="image"&&c.jsx("span",{className:"clip-type",children:" Image"})]},J))]}),c.jsxs("div",{className:"video-actions",children:[c.jsx("button",{className:"download-btn",children:" Tlcharger"}),c.jsx("button",{className:"share-btn",children:" Partager"})]})]})}):c.jsxs("div",{className:"no-video",children:[c.jsx("div",{className:"no-video-icon",children:o==="completed"?"":""}),c.jsx("h3",{children:o==="completed"?"Animation termine !":"Gnration en cours..."}),c.jsx("p",{children:o==="completed"?"Votre animation a t gnre avec succs ! Thme: "+(e.theme||"N/A"):"La gnration vido peut prendre quelques minutes. Certaines scnes utilisent des modes de fallback."}),o==="completed"&&(e.final_video_url||((F=e.result)==null?void 0:F.final_video_url))&&c.jsx("div",{className:"video-controls",children:c.jsx("button",{className:"play-btn",onClick:()=>{var P;return window.open(e.final_video_url||((P=e.result)==null?void 0:P.final_video_url),"_blank")},children:" Voir l'animation"})})]})},"video"),n==="scenes"&&c.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"scenes-tab",children:c.jsx("div",{className:"scenes-list",children:_.map((P,J)=>{const V=y.find(ae=>ae.scene_number===P.scene_number);return c.jsxs(Re.div,{className:`scene-card ${i===J?"selected":""}`,onClick:()=>s(i===J?null:J),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"scene-header",children:[c.jsxs("span",{className:"scene-number",children:["Scne ",P.scene_number]}),c.jsxs("div",{className:"scene-status",children:[c.jsx("span",{className:"status-icon",style:{color:q((V==null?void 0:V.status)||"pending")},children:M((V==null?void 0:V.status)||"pending")}),c.jsx("span",{className:"status-text",children:(V==null?void 0:V.status)||"pending"})]})]}),c.jsx("h4",{children:P.description}),c.jsxs("p",{children:[c.jsx("strong",{children:"Action:"})," ",P.action]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Dcor:"})," ",P.setting]}),c.jsxs("div",{className:"scene-duration",children:["Dure: ",D(P.duration)]}),i===J&&V&&c.jsx(Re.div,{className:"scene-details",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:V.video_url&&c.jsx("div",{className:"clip-preview",children:c.jsxs("span",{children:[" Fichier: ",V.video_url]})})})]},P.scene_number)})})},"scenes"),n==="details"&&c.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"details-tab",children:c.jsxs("div",{className:"technical-details",children:[c.jsx("h4",{children:" Dtails techniques"}),c.jsxs("div",{className:"detail-grid",children:[c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Pipeline:"}),c.jsx("span",{children:b||"custom_animation_ai"})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Statut:"}),c.jsx("span",{className:`status ${o}`,children:o})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Temps de gnration:"}),c.jsxs("span",{children:[Math.round(h),"s"]})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Scnes totales:"}),c.jsx("span",{children:E})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Scnes russies:"}),c.jsx("span",{children:g})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Dure totale:"}),c.jsx("span",{children:D(f)})]})]}),e.note&&c.jsxs("div",{className:"generation-note",children:[c.jsx("h5",{children:" Note de gnration"}),c.jsx("p",{children:e.note})]})]})},"details")]})})]})})};const q7=({customRequest:e,setCustomRequest:t})=>c.jsxs("div",{className:"custom-request",children:[c.jsx("h3",{children:"Demandes spcifiques (optionnel)"}),c.jsx("div",{className:"request-form",children:c.jsxs("div",{className:"input-group",children:[c.jsx("label",{htmlFor:"customRequest",children:"Avez-vous des demandes particulires ?"}),c.jsx(Re.textarea,{id:"customRequest",value:e,onChange:n=>t(n.target.value),placeholder:"Ex: En anglais, avec un chien bleu, inclure un message sur l'amiti...",rows:3,whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})})]});const V7=({onGenerate:e,isGenerating:t,isDisabled:n,contentType:r,buttonText:i})=>{const s=()=>t?r==="rhyme"?"Cration de la comptine en cours...":r==="coloring"?"Cration du coloriage en cours...":r==="comic"?"Cration de la BD en cours...":r==="animation"?"Cration du dessin anim en cours...":"Cration du contenu en cours...":i||(r==="rhyme"?"Crer ma comptine":r==="coloring"?"Crer mon coloriage":r==="comic"?"Crer ma bande dessine":r==="animation"?"Crer mon dessin anim":r==="audio"?"Crer mon histoire":"Crer mon contenu");return c.jsxs("div",{className:"generate-button-container",children:[c.jsxs(Re.button,{className:"generate-button",onClick:e,disabled:n||t,whileHover:!n&&!t?{scale:1.03}:{},whileTap:!n&&!t?{scale:.98}:{},initial:{opacity:.9},animate:{opacity:n?.6:1,y:[0,t?-5:0,0]},transition:{duration:t?.5:.2,repeat:t?1/0:0},children:[t&&c.jsxs("div",{className:"button-loading-dots",children:[c.jsx("div",{className:"button-dot"}),c.jsx("div",{className:"button-dot"}),c.jsx("div",{className:"button-dot"})]}),c.jsx("span",{children:s()})]}),n&&!t&&c.jsx("p",{className:"generate-button-hint",children:r==="story"?"Veuillez remplir tous les champs requis pour crer votre BD":r==="rhyme"?"Veuillez slectionner un type de comptine pour continuer":r==="coloring"?"Veuillez slectionner un thme de coloriage pour continuer":r==="comic"?"Veuillez slectionner un thme, un style et un nombre de pages pour votre BD":r==="animation"?"Veuillez slectionner un thme et configurer votre animation":"Veuillez slectionner un type d'histoire (et une voix) pour continuer"})]})};async function H7(){var e;try{const{data:{session:t},error:n}=await mt.auth.getSession();if((e=t==null?void 0:t.user)!=null&&e.id)return t.user.id;const r=localStorage.getItem("friday_user_cache");if(r){const i=JSON.parse(r);if(i.id)return i.id}return null}catch(t){return console.error("Erreur rcupration ID utilisateur:",t),null}}async function ww({type:e,title:t,data:n}){const r=await H7();if(!r)throw new Error("Utilisateur non connect");try{const i={user_id:r,type:e,title:t,data:{...n,created_via:"friday_web",timestamp:new Date().toISOString()}},{data:s,error:o}=await mt.from("creations").insert([i]).select().single();if(o)throw console.error("Erreur Supabase lors de la cration:",o),new Error(`Erreur base de donnes: ${o.message}`);return s}catch(i){throw console.error("Erreur lors de la sauvegarde:",i),i}}async function W7(e){try{const{error:t}=await mt.from("creations").delete().eq("id",e);if(t)throw console.error("Erreur Supabase lors de la suppression:",t),new Error(`Erreur base de donnes: ${t.message}`);return!0}catch(t){throw console.error("Erreur lors de la suppression:",t),t}}async function G7(e){return new Promise((t,n)=>{const r=new window.Image;r.crossOrigin="Anonymous",r.onload=function(){const i=document.createElement("canvas");i.width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0);const o=i.toDataURL("image/png");t({width:r.width,height:r.height,dataUrl:o})},r.onerror=n,r.src=e})}function K7(e,t=""){return(!e||e.trim()==="")&&(e={coloriage:"coloriage",comic:"bande_dessinee",comptine:"comptine",histoire:"histoire",animation:"animation"}[t]||"creation"),String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").toLowerCase()}async function Nv(e,t="coloriages"){const n=new it({orientation:"portrait",unit:"px",format:"a4"}),r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),s=40,o=r-2*s,a=i-2*s,l=await Promise.all(e.map(async h=>{try{const f=h.image_url||h;return await G7(f)}catch(f){return console.warn("Erreur chargement image pour le PDF :",h,f),null}}));let u=!0;for(let h=0;h<l.length;h++){if(!l[h])continue;u||n.addPage(),u=!1;const{dataUrl:f,width:g,height:m}=l[h],b=g/m;let S=o,k=o/b;k>a&&(k=a,S=a*b);const y=(r-S)/2,x=(i-k)/2;n.addImage(f,"PNG",y,x,S,k)}n.save(`${K7(t)}.pdf`)}function J7(e){const[t,n]=I.useState([]),[r,i]=I.useState(!1),[s,o]=I.useState(null);return I.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{i(!0);try{const{data:u,error:h}=await mt.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});h?(console.error("Erreur rcupration crations:",h),o(h.message),n([])):(n(u||[]),o(null))}catch(u){console.error("Erreur critique rcupration crations:",u),o(u.message),n([])}finally{i(!1)}})()},[e]),{creations:t,loading:r,error:s,refreshCreations:async()=>{if(e){i(!0);try{const{data:l,error:u}=await mt.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});u?o(u.message):(n(l||[]),o(null))}catch(l){o(l.message)}finally{i(!1)}}}}}const Y7=({onClose:e,onSelect:t})=>{const{user:n}=jv(),{creations:r,loading:i,refreshCreations:s}=J7(n==null?void 0:n.id),o=async f=>{if(window.confirm("Supprimer cette cration ?"))try{const{error:m}=await W7(f);if(m){alert("Erreur lors de la suppression !");return}s()}catch(m){console.error("Erreur lors de la suppression:",m),alert("Erreur lors de la suppression !")}},a=f=>{const g=new Date(f);return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(g)},l=f=>{switch(f){case"story":return"";case"rhyme":return"";case"audio":return"";case"coloring":return"";case"crewai_animation":return"";case"animation":return"";default:return""}},u=f=>{switch(f){case"story":return"Bande dessine";case"rhyme":return"Comptine";case"audio":return"Histoire";case"coloring":return"Coloriage";case"crewai_animation":return"Dessin anim";case"animation":return"Dessin anim";default:return"Cration"}},h=f=>{var R;const g=f.content||((R=f.data)==null?void 0:R.content)||"";if(!g||typeof g!="string"){console.error(" Contenu invalide ou manquant pour le PDF.");return}const m=new it({orientation:"p",unit:"mm",format:"a4"}),b=40,S=210,k=297,y=12,x=Math.floor((k-b*2)/y),_=13;let E=f.title,D=g;g.startsWith("**")&&g.includes("**",2)&&(E=g.split("**")[1].trim(),D=g.replace(`**${E}**`,"").trim());const q=Q=>new Promise(X=>{const F=new Image;F.crossOrigin="anonymous",F.src=Q,F.onload=()=>X(F)});(async()=>{try{const Q="/assets/fond.png?v=1";let X=null;try{X=await q(Q)}catch{console.log(" Image de fond non disponible, PDF sans fond")}const F=m.splitTextToSize(D,150);let P=0;for(let J=0;P<F.length;J++){J>0&&m.addPage(),X&&m.addImage(X,"PNG",0,0,S,k,void 0,"FAST"),J===0&&(m.setFont("courier","bold"),m.setFontSize(22),m.setTextColor(110,50,230),m.text(E,S/2,b-20,{align:"center"})),m.setFont("courier","bold"),m.setFontSize(_),m.setTextColor(25,25,112);for(let V=0;V<x&&P<F.length;V++,P++){const ae=b+V*y;m.text(F[P],S/2,ae,{align:"center"})}m.setFontSize(11),m.setTextColor(106,90,205),m.text(`Page ${J+1}`,S-15,290,{align:"right"})}}catch(Q){console.error(" Erreur lors de la gnration du PDF:",Q),m.setFontSize(22),m.setTextColor(110,50,230),m.setFont("courier","bold"),m.text(E,S/2,b-20,{align:"center"}),m.setFontSize(_),m.setTextColor(25,25,112),m.setFont("courier","bold");const X=m.splitTextToSize(D,150);for(let F=0;F<X.length;F++){const P=b+F*y;m.text(X[F],S/2,P,{align:"center"})}}})().then(()=>{const Q=E.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),X=m.output("blob"),F=URL.createObjectURL(X),P=document.createElement("a");P.href=F,P.download=`${Q}.pdf`,P.style.display="none",document.body.appendChild(P),P.click(),document.body.removeChild(P),setTimeout(()=>{URL.revokeObjectURL(F)},100)})};return c.jsxs(Re.div,{className:"history-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},onClick:f=>f.stopPropagation(),children:[c.jsxs("div",{className:"history-header",children:[c.jsx("h2",{children:"Historique de vos crations"}),c.jsx("button",{className:"close-button",onClick:e,children:""})]}),c.jsx("div",{className:"history-content",children:n?r.length===0&&!i?c.jsxs("div",{className:"empty-history",children:[c.jsx("p",{children:"Vous n'avez pas encore de crations"}),c.jsx("p",{className:"empty-subtext",children:"Vos crations apparatront ici une fois gnres"})]}):c.jsx("div",{className:"creations-list",children:r.map(f=>{var S,k,y,x,_,E,D,q,M,R,Q,X,F,P,J;const g=!!(f.audio_path||(S=f.data)!=null&&S.audio_path),m=!!(f.content||(k=f.data)!=null&&k.content),b=["creation-item",g?"has-audio":"",m?"has-text":""].filter(Boolean).join(" ");return c.jsxs(Re.div,{className:b,onClick:()=>t({...f,action:f.type==="coloring"?"showColoring":"showStory"}),whileHover:{scale:1.01},transition:{duration:.2},children:[c.jsx("div",{className:"creation-icon",children:l(f.type)}),"                  ",c.jsxs("div",{className:"creation-details",children:[c.jsx("h3",{children:f.title}),c.jsxs("div",{className:"creation-meta",children:[c.jsx("span",{className:"creation-type",children:u(f.type)}),c.jsx("span",{className:"creation-date",children:a(f.created_at)})]}),"                  ",(f.audio_path||((y=f.data)==null?void 0:y.audio_path))&&c.jsx("audio",{controls:!0,className:"creation-audio",src:`${An}/${f.audio_path||((x=f.data)==null?void 0:x.audio_path)}`}),c.jsxs("div",{className:"creation-actions",children:[f.type==="rhyme"&&(f.audio_path||((_=f.data)==null?void 0:_.audio_path))&&c.jsx("button",{className:"btn-pdf",onClick:async V=>{var ae,ce;V.stopPropagation();try{const le=`${An}/${f.audio_path||((ae=f.data)==null?void 0:ae.audio_path)}`,re=await(await fetch(le)).blob(),Y=URL.createObjectURL(re);let me=f.title||"Comptine";const N=f.content||((ce=f.data)==null?void 0:ce.content)||"";N&&N.startsWith("**")&&N.includes("**",2)&&(me=N.split("**")[1].trim());const U=me.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),z=document.createElement("a");z.href=Y,z.download=`${U}.mp3`,z.style.display="none",document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(Y)}catch(le){console.error("Erreur lors du tlchargement de la comptine:",le),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger la comptine"}),f.type==="audio"&&(f.content||((E=f.data)==null?void 0:E.content))&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn-pdf",onClick:V=>{V.stopPropagation(),h(f)},children:" Tlcharger le PDF"}),(f.audio_path||((D=f.data)==null?void 0:D.audio_path))&&(f.audio_generated||((q=f.data)==null?void 0:q.audio_generated))&&c.jsx("button",{className:"btn-audio",onClick:async V=>{var ae,ce;V.stopPropagation();try{const le=`${An}/${f.audio_path||((ae=f.data)==null?void 0:ae.audio_path)}`,re=await(await fetch(le)).blob(),Y=URL.createObjectURL(re);let me=f.title||"Histoire";const N=f.content||((ce=f.data)==null?void 0:ce.content)||"";N&&N.startsWith("**")&&N.includes("**",2)&&(me=N.split("**")[1].trim());const U=me.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),z=document.createElement("a");z.href=Y,z.download=`${U}.mp3`,z.style.display="none",document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(Y)}catch(le){console.error("Erreur lors du tlchargement audio:",le),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger l'audio"})]}),(f.audio_path||((M=f.data)==null?void 0:M.audio_path))&&(f.audio_generated||((R=f.data)==null?void 0:R.audio_generated))&&f.type!=="rhyme"&&f.type!=="audio"&&c.jsx("a",{className:"btn-audio",href:`${An}/${f.audio_path||((Q=f.data)==null?void 0:Q.audio_path)}`,download:!0,onClick:V=>V.stopPropagation(),children:" Tlcharger l'audio"}),f.type==="coloring"&&(f.images||((X=f.data)==null?void 0:X.images))&&(((F=f.images)==null?void 0:F.length)>0||((J=(P=f.data)==null?void 0:P.images)==null?void 0:J.length)>0)&&c.jsx("button",{className:"btn-pdf",onClick:V=>{var le;V.stopPropagation();const ae=f.title||(f.theme?`coloriages_${f.theme}`:"coloriages"),ce=f.images||((le=f.data)==null?void 0:le.images)||[];Nv(ce,ae)},children:" Tlcharger le coloriage"}),c.jsx("button",{className:"btn-delete",onClick:V=>{V.stopPropagation(),o(f.id)},children:" Supprimer"})]})]})]},f.id)})}):c.jsx("div",{className:"empty-history",children:c.jsx("p",{children:"Connexion en cours..."})})})]})};const X7=({title:e,content:t,onClose:n,children:r})=>{const[i,s]=I.useState(!1),o=I.useRef(null),a=()=>{var u;document.fullscreenElement?(document.exitFullscreen(),s(!1)):((u=o.current)==null||u.requestFullscreen(),s(!0))},l=u=>{u.target.classList.contains("story-popup-overlay")&&n()};return c.jsx("div",{className:"story-popup-overlay",onClick:l,children:c.jsxs("div",{className:"story-popup-content",ref:o,children:[c.jsx("div",{className:"story-background"}),c.jsx("button",{className:"story-close-btn",onClick:n,children:""}),c.jsx("button",{className:"story-fullscreen-btn",onClick:a,children:i?" Quitter le plein cran":" Plein cran"}),c.jsxs("div",{className:"story-scroll",children:[e&&c.jsx("h2",{className:"story-title",children:e}),t&&typeof t=="string"?c.jsx("div",{className:"story-text",children:t}):r]})]})})};const Q7=({selectedTheme:e,setSelectedTheme:t,customColoringTheme:n,setCustomColoringTheme:r,uploadedPhoto:i,setUploadedPhoto:s,withColoredModel:o,setWithColoredModel:a})=>{const[l,u]=I.useState(!1),[h,f]=I.useState(!1),[g,m]=I.useState(null),b=[{value:"upload_photo",label:"Ma Photo",icon:"",description:"Transformez votre photo en coloriage !",special:!0},{value:"custom",label:"Personnalis",icon:"",description:"Crez votre propre thme de coloriage"},{value:"animals",label:"Animaux",icon:"",description:"Chats, chiens, lions, lphants..."},{value:"dinosaurs",label:"Dinosaures",icon:"",description:"T-Rex, Triceratops, volcans..."},{value:"dragons",label:"Dragons",icon:"",description:"Dragons mignons, chevaliers..."},{value:"farm",label:"Ferme",icon:"",description:"Vache, cochon, poule, tracteur..."},{value:"fairies",label:"Fes & Licornes",icon:"",description:"Fes, licornes, chteaux magiques..."},{value:"princess",label:"Princesses",icon:"",description:"Princesses, robes, diadmes..."},{value:"mermaids",label:"Sirnes",icon:"",description:"Sirnes, coquillages, palais sous-marin..."},{value:"pirates",label:"Pirates",icon:"",description:"Bateaux pirates, trsors, perroquets..."},{value:"superheroes",label:"Super-hros",icon:"",description:"Hros masqus, super-pouvoirs..."},{value:"space",label:"Espace",icon:"",description:"Fuses, plantes, astronautes..."},{value:"robots",label:"Robots",icon:"",description:"Robots futuristes, androdes..."},{value:"vehicles",label:"Vhicules",icon:"",description:"Voitures, avions, trains, bateaux..."},{value:"nature",label:"Nature",icon:"",description:"Fleurs, arbres, papillons, paysages..."},{value:"ocean",label:"Ocan",icon:"",description:"Poissons, dauphins, coraux, tortues..."},{value:"seasons",label:"Saisons",icon:"",description:"Automne, hiver, printemps, t..."},{value:"sports",label:"Sports",icon:"",description:"Football, basketball, natation..."},{value:"fruits",label:"Fruits & Lgumes",icon:"",description:"Fruits rigolos, lgumes souriants..."},{value:"professions",label:"Mtiers",icon:"",description:"Mdecins, pompiers, cuisiniers..."},{value:"emotions",label:"motions",icon:"",description:"Visages joyeux, tristes, surpris..."}],S=_=>{e===_?(t(""),u(!1),f(!1)):(t(_),u(_==="custom"),f(_==="upload_photo"))},k=_=>{const E=_.target.files[0];if(E){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(E.type)){alert("Format de fichier non support. Utilisez JPG, PNG, GIF ou WebP.");return}if(E.size>5*1024*1024){alert("La photo est trop grande. Taille maximale : 5 MB");return}const q=new FileReader;q.onloadend=()=>{m(q.result)},q.readAsDataURL(E),s(E)}},y=_=>{a(o===_?null:_)},x=()=>{s(null),m(null);const _=document.getElementById("photo-upload-input");_&&(_.value="")};return c.jsxs("div",{className:"coloring-selector",children:[c.jsx("h3",{children:"2. Choisissez un thme pour vos coloriages"}),c.jsx("div",{className:"theme-grid",children:b.map((_,E)=>c.jsxs("div",{className:"theme-slot",children:[c.jsxs(Re.div,{className:`theme-option ${_.special?"photo-upload-option":""} ${_.value==="custom"?"custom-coloring":""} ${e===_.value?"selected":""}`,onClick:()=>S(_.value),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"theme-icon",children:_.icon}),c.jsxs("div",{className:"theme-info",children:[c.jsx("h4",{children:_.label}),c.jsx("p",{children:_.description})]})]}),_.special&&h&&e==="upload_photo"&&c.jsxs(Re.div,{className:"photo-upload-container inline-upload",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[c.jsxs("div",{className:"upload-section",children:[c.jsx("p",{className:"upload-hint",children:"Formats accepts : JPG, PNG, GIF, WebP (max 5 MB)"}),c.jsx("input",{type:"file",id:"photo-upload-input",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:k,style:{display:"none"}}),g?c.jsx("div",{className:"photo-preview-container",children:c.jsx("img",{src:g,alt:"Aperu",className:"photo-preview"})}):c.jsxs("label",{htmlFor:"photo-upload-input",className:"upload-button",children:[c.jsx("span",{className:"upload-icon",children:""}),c.jsx("span",{children:"Choisir une photo"})]})]}),g&&c.jsx(Re.div,{className:"remove-photo-section",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:c.jsx("button",{onClick:x,className:"remove-photo-button",children:" Supprimer la photo"})})]}),_.value==="custom"&&l&&e==="custom"&&c.jsx(Re.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("input",{type:"text",placeholder:"Dcrivez votre thme de coloriage personnalis...",value:n,onChange:D=>r(D.target.value),className:"custom-input"})})]},_.value))}),c.jsxs("div",{className:"model-choice-section",children:[c.jsx("h3",{children:"3. Voulez-vous un modle ?"}),c.jsxs("div",{className:"model-buttons",children:[c.jsxs(Re.button,{className:`model-btn ${o===!0?"active":""}`,onClick:()=>y(!0),whileHover:{y:-3},whileTap:{scale:.98},children:[c.jsx("span",{className:"model-icon",children:""}),c.jsx("span",{className:"model-label",children:"Avec modle"}),c.jsx("span",{className:"model-desc",children:"Inclut un exemple color en coin"})]}),c.jsxs(Re.button,{className:`model-btn ${o===!1?"active":""}`,onClick:()=>y(!1),whileHover:{y:-3},whileTap:{scale:.98},children:[c.jsx("span",{className:"model-icon",children:""}),c.jsx("span",{className:"model-label",children:"Sans modle"}),c.jsx("span",{className:"model-desc",children:"Coloriage pur, libert crative"})]})]})]})]})};const A4=({imageUrl:e,theme:t,onClose:n,onSave:r})=>{const i=I.useRef(null),[s,o]=I.useState(null),[a,l]=I.useState("#FF6B6B"),[u,h]=I.useState("bucket"),[f,g]=I.useState(!1),[m,b]=I.useState(1),[S,k]=I.useState(!1),[y,x]=I.useState(null),[_,E]=I.useState(null),D=["#FF6B6B","#FF4757","#FF6348","#FFA07A","#FF85C0","#FFB6C1","#FF1493","#DC143C","#F8B739","#FFA500","#FFD700","#F7DC6F","#FFDAB9","#FFE4B5","#F4A460","#FDB813","#52C41A","#98D8C8","#81C784","#00C853","#20B2AA","#3CB371","#90EE90","#7FFF00","#4ECDC4","#45B7D1","#85C1E9","#A8DADC","#00BFFF","#1E90FF","#4169E1","#6495ED","#BB8FCE","#9B59B6","#8B008B","#DA70D6","#E6E6FA","#DDA0DD","#BA55D3","#9370DB","#DDA15E","#BC6C25","#D2691E","#CD853F","#8B4513","#A0522D","#F5DEB3","#FAEBD7","#95A5A6","#7F8C8D","#BDC3C7","#ECF0F1","#D3D3D3","#C0C0C0","#A9A9A9","#808080","#E07A5F","#FF6B9D","#00D9FF","#FFEB3B","#FF5722","#8BC34A","#00BCD4","#E91E63"];I.useEffect(()=>{const Y=i.current;if(!Y)return;const me=Y.getContext("2d",{willReadFrequently:!0});o(me);const N=new Image;N.crossOrigin="anonymous",N.onload=()=>{const U=window.innerWidth*.9,z=window.innerHeight*.7;let G=N.width,Z=N.height;G>U&&(Z=U/G*Z,G=U),Z>z&&(G=z/Z*G,Z=z),Y.width=G,Y.height=Z,me.drawImage(N,0,0,G,Z),x(me.getImageData(0,0,G,Z));const se=me.createImageData(G,Z);E(se),k(!0)},N.onerror=()=>{console.error("Erreur de chargement de l'image")},N.src=e},[e]);const q=(Y,me,N)=>{if(!s||!y)return;const U=i.current,z=s.getImageData(0,0,U.width,U.height),G=z.data,Z=R(G,Y,me,U.width),se=X(N);if(F(Z,se))return;const he=[[Y,me]],de=new Set;for(;he.length>0;){const[xe,we]=he.pop(),Te=`${xe},${we}`;if(de.has(Te)||xe<0||xe>=U.width||we<0||we>=U.height)continue;const Pe=R(G,xe,we,U.width);P(Pe)||F(Pe,Z)&&(de.add(Te),Q(G,xe,we,U.width,se),he.push([xe+1,we]),he.push([xe-1,we]),he.push([xe,we+1]),he.push([xe,we-1]))}s.putImageData(z,0,0)},M=(Y,me)=>{if(!s||!y)return;const N=i.current,U=s.getImageData(0,0,N.width,N.height),z=U.data,G=y.data,Z=R(z,Y,me,N.width);if(J(Z))return;const se=[[Y,me]],he=new Set;for(;se.length>0;){const[de,xe]=se.pop(),we=`${de},${xe}`;if(he.has(we)||de<0||de>=N.width||xe<0||xe>=N.height)continue;const Te=R(z,de,xe,N.width);if(P(Te)||!F(Te,Z))continue;he.add(we);const Pe=(xe*N.width+de)*4;z[Pe]=G[Pe],z[Pe+1]=G[Pe+1],z[Pe+2]=G[Pe+2],z[Pe+3]=G[Pe+3],se.push([de+1,xe]),se.push([de-1,xe]),se.push([de,xe+1]),se.push([de,xe-1])}s.putImageData(U,0,0)},R=(Y,me,N,U)=>{const z=(N*U+me)*4;return{r:Y[z],g:Y[z+1],b:Y[z+2],a:Y[z+3]}},Q=(Y,me,N,U,z)=>{const G=(N*U+me)*4;Y[G]=z.r,Y[G+1]=z.g,Y[G+2]=z.b,Y[G+3]=255},X=Y=>{const me=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Y);return me?{r:parseInt(me[1],16),g:parseInt(me[2],16),b:parseInt(me[3],16),a:255}:{r:0,g:0,b:0,a:255}},F=(Y,me,N=10)=>Math.abs(Y.r-me.r)<=N&&Math.abs(Y.g-me.g)<=N&&Math.abs(Y.b-me.b)<=N,P=(Y,me=50)=>Y.r<me&&Y.g<me&&Y.b<me,J=(Y,me=240)=>Y.r>me&&Y.g>me&&Y.b>me||Y.a<10,V=Y=>{if(!S)return;const me=i.current,N=me.getBoundingClientRect(),U=Math.floor((Y.clientX-N.left)*(me.width/N.width)),z=Math.floor((Y.clientY-N.top)*(me.height/N.height));u==="bucket"?q(U,z,a):u==="eraser"&&M(U,z)},ae=()=>{i.current.toBlob(me=>{const N=URL.createObjectURL(me),U=document.createElement("a");U.href=N;const G=(t||"coloriage").replace(/[^a-z0-9]/gi,"_").toLowerCase();U.download=`coloriages_${G}_colorie.png`,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(N)})},ce=Y=>{Y.target.classList.contains("coloring-canvas-overlay")&&n()},le=()=>{!s||!y||s.putImageData(y,0,0)},W=()=>{b(Y=>Math.min(Y+.5,3)),g(!0)},re=()=>{m>1&&(b(Y=>Math.max(Y-.5,1)),m-.5<=1&&g(!1))};return c.jsx("div",{className:"coloring-canvas-overlay",onClick:ce,children:c.jsxs("div",{className:"coloring-canvas-container",children:[c.jsxs("div",{className:"coloring-toolbar-top",children:[c.jsx("h2",{className:"coloring-canvas-title",children:" Coloriez votre dessin"}),c.jsxs("div",{className:"coloring-zoom-controls",children:[c.jsx("button",{className:"coloring-zoom-btn",onClick:re,disabled:m<=1,title:"Zoom arrire",children:""}),c.jsxs("span",{style:{color:"white",fontWeight:"bold",minWidth:"60px",textAlign:"center"},children:[Math.round(m*100),"%"]}),c.jsx("button",{className:"coloring-zoom-btn",onClick:W,disabled:m>=3,title:"Zoom avant",children:"+"})]}),c.jsxs("div",{className:"coloring-toolbar-actions",children:[c.jsx("button",{className:"coloring-btn coloring-reset-btn",onClick:le,title:"Rinitialiser",children:" Rinitialiser"}),c.jsx("button",{className:"coloring-btn coloring-save-btn",onClick:ae,title:"Tlcharger",children:" Tlcharger"}),c.jsx("button",{className:"coloring-btn coloring-close-btn-top",onClick:n,title:"Fermer",children:""})]})]}),c.jsxs("div",{className:"coloring-canvas-wrapper",children:[c.jsx("canvas",{ref:i,onClick:V,className:`coloring-canvas ${f?"zoomed":""}`,style:{transform:`scale(${m})`}}),!S&&c.jsxs("div",{className:"coloring-loading",children:[c.jsx("div",{className:"coloring-spinner"}),c.jsx("p",{children:"Chargement du coloriage..."})]})]}),c.jsxs("div",{className:"coloring-toolbar-bottom",children:[c.jsxs("div",{className:"coloring-tools",children:[c.jsx("button",{className:`coloring-tool-btn ${u==="bucket"?"active":""}`,onClick:()=>h("bucket"),title:"Seau de peinture",children:""}),c.jsx("button",{className:`coloring-tool-btn ${u==="eraser"?"active":""}`,onClick:()=>h("eraser"),title:"Gomme",children:""})]}),c.jsx("div",{className:"coloring-palette",children:D.map((Y,me)=>c.jsx("button",{className:`coloring-color-btn ${a===Y&&u==="bucket"?"active":""}`,style:{backgroundColor:Y},onClick:()=>{l(Y),h("bucket")},title:Y},me))})]})]})})},Z7=({coloringResult:e,onClose:t,selectedTheme:n})=>{const[r,i]=I.useState(!1),[s,o]=I.useState(!1),a=I.useRef(null),l=()=>{var b;document.fullscreenElement?(document.exitFullscreen(),i(!1)):((b=a.current)==null||b.requestFullscreen(),i(!0))},u=b=>{b.target.classList.contains("coloring-popup-overlay")&&t()},h=()=>{if(e!=null&&e.images&&e.images.length>0){const b=e.title||(n?`coloriages_${n}`:"coloriages");Nv(e.images,b)}else console.warn("Aucune image disponible pour le tlchargement PDF")};if(!e||!e.images||e.images.length===0)return null;const f=e.images[0],g=f.image_url||f,m=()=>{o(!0)};return c.jsx(c.Fragment,{children:s?c.jsx(A4,{imageUrl:g,onClose:()=>o(!1)}):c.jsx("div",{className:"coloring-popup-overlay",onClick:u,children:c.jsxs("div",{className:"coloring-popup-content",ref:a,children:[c.jsx("div",{className:"coloring-background"}),c.jsx("button",{className:"coloring-close-btn",onClick:t,children:""}),c.jsx("button",{className:"coloring-fullscreen-btn",onClick:l,children:r?" Quitter le plein cran":" Plein cran"}),c.jsxs("div",{className:"coloring-container",children:[c.jsx("h2",{className:"coloring-title",children:" Votre coloriage"}),c.jsx("div",{className:"coloring-image-wrapper",children:c.jsx("img",{src:g,alt:"Coloriage",className:"coloring-popup-image"})}),c.jsxs("div",{className:"coloring-popup-actions",children:[c.jsx("button",{className:"coloring-open-btn",onClick:m,children:" Colorier maintenant"}),c.jsx("button",{className:"coloring-download-btn",onClick:h,children:" Tlcharger le coloriage"})]})]})]})})})};const eI=({selectedTheme:e,setSelectedTheme:t,selectedStyle:n,setSelectedStyle:r,numPages:i,setNumPages:s,customStory:o,setCustomStory:a,characterPhoto:l,setCharacterPhoto:u,onCharacterPhotoUpload:h})=>{const[f,g]=I.useState(!1),m=[{id:"custom",name:"Personnalis",icon:"",description:"Votre propre histoire"},{id:"espace",name:"Espace",icon:"",description:"Aventures spatiales"},{id:"pirates",name:"Pirates",icon:"",description:"Trsors et mers"},{id:"princesses",name:"Princesses",icon:"",description:"Chteaux magiques"},{id:"dinosaures",name:"Dinosaures",icon:"",description:"Monde prhistorique"},{id:"animaux",name:"Animaux",icon:"",description:"Animaux mignons"},{id:"superheros",name:"Super-hros",icon:"",description:"Pouvoirs incroyables"},{id:"foret",name:"Fort Magique",icon:"",description:"Fort enchante"},{id:"ecole",name:"cole",icon:"",description:"Aventures scolaires"}],b=[{id:"3d",name:"3D",icon:"",description:"Effets 3D modernes"},{id:"cartoon",name:"Cartoon",icon:"",description:"Color et enfantin"},{id:"manga",name:"Manga",icon:"",description:"Style japonais"},{id:"comics",name:"Comics Marvel",icon:"",description:"Style amricain"},{id:"realistic",name:"Raliste",icon:"",description:"Dtaill et raliste"},{id:"watercolor",name:"Aquarelle",icon:"",description:"Doux et artistique"}],S=[1,2,3,4,5],k=async y=>{const x=y.target.files[0];if(x){g(!0);try{await h(x)}catch(_){console.error("Erreur upload:",_),alert("Erreur lors de l'upload de la photo")}finally{g(!1)}}};return c.jsxs("div",{className:"comics-selector",children:[c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"2. Choisissez un thme pour votre bande dessine"}),c.jsx("div",{className:"theme-grid",children:m.map(y=>c.jsxs("div",{className:"theme-slot",children:[c.jsxs(Re.div,{className:`theme-card ${e===y.id?"selected":""} ${y.id==="custom"?"custom-theme":""}`,onClick:()=>t(e===y.id?null:y.id),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[c.jsx("div",{className:"theme-icon",children:y.icon}),c.jsx("div",{className:"theme-name",children:y.name}),c.jsx("div",{className:"theme-description",children:y.description})]}),y.id==="custom"&&e==="custom"&&c.jsx(Re.div,{className:"custom-theme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{className:"custom-input",placeholder:"Dcrivez votre histoire personnalise... (ex: Une petite fille qui dcouvre un monde magique dans son jardin)",value:o,onChange:x=>a(x.target.value),rows:3})})]},y.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"3. Choisissez un style de dessin"}),c.jsx("div",{className:"style-grid",children:b.map(y=>c.jsxs(Re.div,{className:`style-card ${n===y.id?"selected":""}`,onClick:()=>r(n===y.id?null:y.id),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[c.jsx("div",{className:"style-icon",children:y.icon}),c.jsx("div",{className:"style-name",children:y.name}),c.jsx("div",{className:"style-description",children:y.description})]},y.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"4. Nombre de pages"}),c.jsx("div",{className:"pages-selector",children:S.map(y=>c.jsxs(Re.button,{className:`page-btn ${i===y?"selected":""}`,onClick:()=>s(i===y?null:y),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[y," ",y===1?"page":"pages",c.jsxs("span",{className:"cases-info",children:["(",y*4," cases)"]})]},y))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"5. Personnage principal (optionnel)"}),c.jsxs("div",{className:"character-upload-section",children:[c.jsx("p",{className:"character-description",children:"Uploadez une photo pour crer un personnage ressemblant ! L'IA analysera la photo et crera un personnage de BD similaire."}),c.jsxs("div",{className:"upload-area",children:[c.jsx("input",{type:"file",id:"character-photo-upload",accept:"image/*",onChange:k,className:"file-input",disabled:f}),!l&&c.jsx("label",{htmlFor:"character-photo-upload",className:"upload-label",children:f?c.jsxs("div",{className:"uploading-state",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{children:"Upload en cours..."})]}):c.jsxs("div",{className:"upload-prompt",children:[c.jsx("span",{className:"upload-icon",children:""}),c.jsxs("div",{className:"upload-text",children:[c.jsx("strong",{children:"Cliquez pour uploader une photo"}),c.jsx("span",{children:"ou glissez-dposez une image ici"})]})]})})]}),l&&c.jsxs("div",{className:"photo-preview",children:[c.jsx("img",{src:l.url,alt:"Personnage upload"}),c.jsxs("div",{className:"photo-actions",children:[c.jsx("button",{className:"change-photo-btn",onClick:()=>document.getElementById("character-photo-upload").click(),children:" Changer"}),c.jsx("button",{className:"remove-photo-btn",onClick:()=>u(null),children:" Retirer"})]})]})]})]})]})};const tI=({comic:e,onClose:t,baseUrl:n})=>{const[r,i]=I.useState(0),[s,o]=I.useState(!1);if(!e||!e.pages||e.pages.length===0)return null;const a=e.pages[r],l=e.pages.length,u=()=>{r<l-1&&i(r+1)},h=()=>{r>0&&i(r-1)},f=()=>{const b=`${n}${a.image_url}`,S=document.createElement("a");S.href=b;const k=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();S.download=`${k}_page_${r+1}.png`,document.body.appendChild(S),S.click(),document.body.removeChild(S)},g=()=>{e.pages.forEach((b,S)=>{setTimeout(()=>{const k=`${n}${b.image_url}`,y=document.createElement("a");y.href=k;const x=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();y.download=`${x}_page_${S+1}.png`,document.body.appendChild(y),y.click(),document.body.removeChild(y)},S*500)})},m=()=>{o(!s)};return c.jsx(Si,{children:c.jsx(Re.div,{className:"comics-popup-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(Re.div,{className:`comics-popup-container ${s?"fullscreen":""}`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:b=>b.stopPropagation(),children:[c.jsxs("div",{className:"comics-popup-header",children:[c.jsxs("div",{className:"comic-title-section",children:[c.jsx("h2",{className:"comic-title",children:e.title}),c.jsx("p",{className:"comic-synopsis",children:e.synopsis}),c.jsxs("div",{className:"comic-meta",children:[c.jsxs("span",{className:"meta-item",children:[c.jsx("span",{className:"meta-icon",children:""}),e.art_style]}),c.jsxs("span",{className:"meta-item",children:[c.jsx("span",{className:"meta-icon",children:""}),l," ",l===1?"planche":"planches"]}),c.jsxs("span",{className:"meta-item",children:[c.jsx("span",{className:"meta-icon",children:""}),l*4," cases"]})]})]}),c.jsx("button",{className:"close-btn",onClick:t,children:""})]}),c.jsxs("div",{className:"comics-viewer",children:[c.jsx(Si,{mode:"wait",children:c.jsxs(Re.div,{className:"page-display",initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},children:[c.jsx("img",{src:`${n}${a.image_url}`,alt:`Planche ${r+1}`,className:"page-image",onClick:m}),c.jsxs("div",{className:"page-info",children:["Planche ",r+1," / ",l]})]},r)}),l>1&&c.jsxs("div",{className:"page-navigation",children:[c.jsx("button",{className:"nav-btn prev-btn",onClick:h,disabled:r===0,children:" Prcdent"}),c.jsx("div",{className:"page-dots",children:e.pages.map((b,S)=>c.jsx("button",{className:`page-dot ${S===r?"active":""}`,onClick:()=>i(S),"aria-label":`Aller  la planche ${S+1}`},S))}),c.jsx("button",{className:"nav-btn next-btn",onClick:u,disabled:r===l-1,children:"Suivant "})]})]}),c.jsxs("div",{className:"comics-actions",children:[c.jsxs("button",{className:"action-btn secondary-btn",onClick:m,children:[c.jsx("span",{className:"btn-icon",children:s?"":""}),s?"Rduire":"Plein cran"]}),c.jsxs("button",{className:"action-btn primary-btn",onClick:f,children:[c.jsx("span",{className:"btn-icon",children:""}),"Tlcharger cette planche"]}),l>1&&c.jsxs("button",{className:"action-btn primary-btn",onClick:g,children:[c.jsx("span",{className:"btn-icon",children:""}),"Tlcharger toutes les planches"]})]}),l>1&&c.jsxs("div",{className:"thumbnails-section",children:[c.jsx("h4",{children:"Toutes les planches"}),c.jsx("div",{className:"thumbnails-grid",children:e.pages.map((b,S)=>c.jsxs(Re.div,{className:`thumbnail ${S===r?"active":""}`,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(S),children:[c.jsx("img",{src:`${n}${b.image_url}`,alt:`Miniature planche ${S+1}`}),c.jsxs("div",{className:"thumbnail-label",children:["Planche ",S+1]})]},S))})]})]})})})};async function Av(e={}){let t={};e instanceof Headers?t=Object.fromEntries(e.entries()):t={...e};const{data:{session:n}}=await mt.auth.getSession();return n!=null&&n.access_token&&(t.Authorization=t.Authorization||`Bearer ${n.access_token}`),t}async function gr(e,t={}){const{skipAuth:n=!1,headers:r,...i}=t;let s=r||{};return n||(s=await Av(s)),fetch(e,{...i,headers:s})}const nI=async(e,t,n,r={})=>{try{const{data:i,error:s}=await mt.from("profiles").select("role").eq("id",t).single();if((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="free")return{hasPermission:!0,reason:(i==null?void 0:i.role)==="admin"?"admin_access":"free_access",userRole:i==null?void 0:i.role,isAdmin:(i==null?void 0:i.role)==="admin"};const{data:o,error:a}=await mt.functions.invoke("check-permission",{body:{contentType:e,userId:t,userEmail:n,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice}});return a?(console.error("Erreur check-permission:",a),{hasPermission:!1,reason:"error",error:a,isAdmin:!1}):{...o,isAdmin:!1}}catch(i){return{hasPermission:!1,reason:"error",error:i,isAdmin:!1}}},rI=async(e,t,n,r={})=>{try{const s=cd(e==="audio"?"histoire":e,r),{data:o,error:a}=await mt.functions.invoke("create-payment",{body:{contentType:e,userId:t,userEmail:n,amount:s.amount,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice}});if(a)throw a;return o}catch(i){throw i}},cd=(e,t={})=>{const n={comptine:{amount:70,name:"Comptine Musicale",currency:"EUR",display:"0,70"},histoire:{amount:50,name:"Histoire",currency:"EUR",display:"0,50"},audio:{amount:50,name:"Histoire",currency:"EUR",display:"0,50"},coloriage:{amount:70,name:"Coloriage Personnalis",currency:"EUR",display:"0,70"},coloring:{amount:70,name:"Coloriage personnalis",currency:"EUR",display:"0,70"},bd:{amount:70,name:"Page de Bande Dessine",currency:"EUR",display:"0,70"},comic:{amount:70,name:"Page de Bande Dessine",currency:"EUR",display:"0,70"},story:{amount:50,name:"Histoire",currency:"EUR",display:"0,50"},rhyme:{amount:70,name:"Comptine musicale",currency:"EUR",display:"0,70"},animation:{amount:599,name:"Animation IA 30s",currency:"EUR",display:"5,99"}};if(e==="histoire"||e==="story"||e==="audio")return{amount:50,name:"Histoire",currency:"EUR",display:"0,50"};if(e==="animation"&&t.duration){const r={30:{amount:599,name:"Animation IA 30s",display:"5,99"},60:{amount:999,name:"Animation IA 1min",display:"9,99"},120:{amount:1899,name:"Animation IA 2min",display:"18,99"},180:{amount:2799,name:"Animation IA 3min",display:"27,99"},240:{amount:3699,name:"Animation IA 4min",display:"36,99"},300:{amount:4699,name:"Animation IA 5min",display:"46,99"}},i=t.duration;if(r[i])return{...n[e],...r[i],currency:"EUR"}}if((e==="bd"||e==="comic")&&t.pages){const i=n[e].amount*t.pages,s=(i/100).toFixed(2).replace(".",",")+"";return{...n[e],amount:i,name:`${t.pages} page${t.pages>1?"s":""} de Bande Dessine`,display:s}}return n[e]||{amount:149,name:"Contenu Cratif",currency:"EUR",display:"1,49"}},C4=async(e,t)=>{try{if(t==="fredagathe77@gmail.com")return!0;const{data:n,error:r}=await mt.from("profiles").select("role").eq("id",e).single();return r?!1:(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="free"}catch{return!1}},iI=async e=>{try{const{data:t,error:n}=await mt.from("profiles").select("role").eq("id",e).single();return(t==null?void 0:t.role)||"user"}catch{return"user"}},sI=async(e,t,n,r)=>{try{const{data:i,error:s}=await mt.from("generation_permissions").upsert({user_id:e,content_type:t,stripe_payment_intent_id:n,amount:r,status:"completed",created_at:new Date().toISOString()});if(s)throw s;return i}catch(i){throw i}},P4=async()=>{try{const{data:e,error:t}=await mt.functions.invoke("manage-subscription",{body:{action:"get_plans"}});if(t)throw t;return e.plans||[]}catch(e){return console.error("Erreur rcupration plans:",e),[]}},E4=async e=>{try{const{data:t,error:n}=await mt.functions.invoke("manage-subscription",{body:{action:"get_subscription",userId:e}});if(n)throw n;return t.subscription}catch(t){return console.error("Erreur rcupration abonnement:",t),null}},L4=async(e,t,n,r)=>{try{const{data:i,error:s}=await mt.functions.invoke("manage-subscription",{body:{action:"create_subscription",planId:e,userId:t,paymentMethodId:n,userEmail:r}});if(s)throw s;return i}catch(i){throw console.error("Erreur cration abonnement:",i),i}},T4=async e=>{try{const{data:t,error:n}=await mt.functions.invoke("manage-subscription",{body:{action:"cancel_subscription",userId:e}});if(n)throw n;return t}catch(t){throw console.error("Erreur annulation abonnement:",t),t}},I4=async e=>{try{const{data:t,error:n}=await mt.functions.invoke("manage-subscription",{body:{action:"confirm_subscription",stripeSubscriptionId:e}});if(n)throw n;return t}catch(t){throw console.error("Erreur confirmation abonnement:",t),t}},oI=async(e,t,n,r={})=>{try{if(!e||!t||n===void 0||n===null||n<=0)return{success:!0,type:"no_deduction",message:"Aucun token  dduire",silent:!0};const i={userId:e,contentType:t,tokensUsed:Number(n),selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice,transactionId:r.transactionId||`txn_${Date.now()}`},{data:s,error:o}=await mt.functions.invoke("deduct-tokens",{body:i});return o?{success:!1,error:o.message||"Erreur dduction tokens",silent:!0}:s}catch(i){return{success:!1,error:i.message||"Erreur dduction tokens",silent:!0}}},aI=async e=>{try{const{data:t,error:n}=await mt.from("user_tokens").select("*").eq("user_id",e).is("used_at",null).or("expires_at.is.null,expires_at.gte."+new Date().toISOString()).order("created_at",{ascending:!1});if(n)throw n;return{totalTokens:t.reduce((i,s)=>i+s.tokens_amount,0),tokens:t}}catch(t){return console.error("Erreur rcupration tokens:",t),{totalTokens:0,tokens:[]}}},lI=(e,t={},n=null)=>{let r=4;if(e==="histoire"||e==="story"||e==="audio")r=4;else if(e==="coloriage")r=16;else if(e==="bd"||e==="comic")r=16,t.pages&&t.pages>0&&(r=r*t.pages);else if(e==="comptine"||e==="rhyme")r=15;else if(e==="animation"){const o=.14*(t.duration||30);r=Math.ceil(o*100)}return r},cI=async(e,t=50)=>{try{const{data:n,error:r}=await mt.from("user_tokens").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return n||[]}catch(n){return console.error("Erreur rcupration historique tokens:",n),[]}},uI=Object.freeze(Object.defineProperty({__proto__:null,calculateTokenCost:lI,cancelSubscription:T4,checkPaymentPermission:nI,confirmSubscription:I4,createPaymentSession:rI,createSubscription:L4,deductTokens:oI,getContentPrice:cd,getSubscriptionPlans:P4,getTokenHistory:cI,getUserRole:iI,getUserSubscription:E4,getUserTokens:aI,grantPermission:sI,hasFreeAccess:C4},Symbol.toStringTag,{value:"Module"}));var R4="clover",dI=function(t){return t===3?"v3":t},F4="https://js.stripe.com",hI="".concat(F4,"/").concat(R4,"/stripe.js"),fI=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,pI=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,xw="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",mI=function(t){return fI.test(t)||pI.test(t)},gI=function(){for(var t=document.querySelectorAll('script[src^="'.concat(F4,'"]')),n=0;n<t.length;n++){var r=t[n];if(mI(r.src))return r}return null},bw=function(t){var n=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(hI).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},vI=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.0.0",startTime:n})},Xc=null,_h=null,jh=null,yI=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},wI=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},xI=function(t){return Xc!==null?Xc:(Xc=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(xw),window.Stripe){n(window.Stripe);return}try{var i=gI();if(i&&t)console.warn(xw);else if(!i)i=bw(t);else if(i&&jh!==null&&_h!==null){var s;i.removeEventListener("load",jh),i.removeEventListener("error",_h),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=bw(t)}jh=wI(n,r),_h=yI(r),i.addEventListener("load",jh),i.addEventListener("error",_h)}catch(o){r(o);return}}),Xc.catch(function(n){return Xc=null,Promise.reject(n)}))},bI=function(t,n,r){if(t===null)return null;var i=n[0],s=i.match(/^pk_test/),o=dI(t.version),a=R4;s&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.0.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,n);return vI(l,r),l},Qc,O4=!1,D4=function(){return Qc||(Qc=xI(null).catch(function(t){return Qc=null,Promise.reject(t)}),Qc)};Promise.resolve().then(function(){return D4()}).catch(function(e){O4||console.warn(e)});var M4=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];O4=!0;var i=Date.now();return D4().then(function(s){return bI(s,n,i)})},B4={exports:{}},SI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_I=SI,jI=_I;function U4(){}function z4(){}z4.resetWarningCache=U4;var kI=function(){function e(r,i,s,o,a,l){if(l!==jI){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:z4,resetWarningCache:U4};return n.PropTypes=n,n};B4.exports=kI();var NI=B4.exports;const zt=Fg(NI);function Sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _w(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(n),!0).forEach(function(r){$4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kh=function(t){return typeof t}:Kh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function $4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AI(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function CI(e,t){if(e==null)return{};var n=AI(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function q4(e,t){return PI(e)||EI(e,t)||LI(e,t)||TI()}function PI(e){if(Array.isArray(e))return e}function EI(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function LI(e,t){if(e){if(typeof e=="string")return jw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jw(e,t)}}function jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mr=function(t,n,r){var i=!!r,s=Mt.useRef(r);Mt.useEffect(function(){s.current=r},[r]),Mt.useEffect(function(){if(!i||!t)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return t.on(n,o),function(){t.off(n,o)}},[i,n,t,s])},Ig=function(t){var n=Mt.useRef(t);return Mt.useEffect(function(){n.current=t},[t]),n.current},Zl=function(t){return t!==null&&Kh(t)==="object"},II=function(t){return Zl(t)&&typeof t.then=="function"},RI=function(t){return Zl(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},kw="[object Object]",FI=function e(t,n){if(!Zl(t)||!Zl(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(t)===kw,o=Object.prototype.toString.call(n)===kw;if(s!==o)return!1;if(!s&&!r)return t===n;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},h=0;h<a.length;h+=1)u[a[h]]=!0;for(var f=0;f<l.length;f+=1)u[l[f]]=!0;var g=Object.keys(u);if(g.length!==a.length)return!1;var m=t,b=n,S=function(y){return e(m[y],b[y])};return g.every(S)},V4=function(t,n,r){return Zl(t)?Object.keys(t).reduce(function(i,s){var o=!Zl(n)||!FI(t[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?_w(_w({},i||{}),{},$4({},s,t[s])):i},null):null},H4="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Nw=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H4;if(t===null||RI(t))return t;throw new Error(n)},OI=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H4;if(II(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return Nw(i,n)})};var r=Nw(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},DI=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.0.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.0.0",url:"https://stripe.com/docs/stripe-js/react"}))},pp=Mt.createContext(null);pp.displayName="ElementsContext";var W4=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},Cv=function(t){var n=t.stripe,r=t.options,i=t.children,s=Mt.useMemo(function(){return OI(n)},[n]),o=Mt.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=q4(o,2),l=a[0],u=a[1];Mt.useEffect(function(){var g=!0,m=function(S){u(function(k){return k.stripe?k:{stripe:S,elements:S.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(b){b&&g&&m(b)}):s.tag==="sync"&&!l.stripe&&m(s.stripe),function(){g=!1}},[s,l,r]);var h=Ig(n);Mt.useEffect(function(){h!==null&&h!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,n]);var f=Ig(r);return Mt.useEffect(function(){if(l.elements){var g=V4(r,f,["clientSecret","fonts"]);g&&l.elements.update(g)}},[r,f,l.elements]),Mt.useEffect(function(){DI(l.stripe)},[l.stripe]),Mt.createElement(pp.Provider,{value:l},i)};Cv.propTypes={stripe:zt.any,options:zt.object};var MI=function(t){var n=Mt.useContext(pp);return W4(n,t)},G4=function(){var t=MI("calls useElements()"),n=t.elements;return n};zt.func.isRequired;var K4=Mt.createContext(null);K4.displayName="CheckoutContext";zt.any,zt.shape({clientSecret:zt.oneOfType([zt.string,zt.instanceOf(Promise)]).isRequired,elementsOptions:zt.object}).isRequired;var Rg=function(t){var n=Mt.useContext(K4),r=Mt.useContext(pp);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return W4(r,t)},BI=["mode"],UI=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Dr=function(t,n){var r="".concat(UI(t),"Element"),i=function(l){var u=l.id,h=l.className,f=l.options,g=f===void 0?{}:f,m=l.onBlur,b=l.onFocus,S=l.onReady,k=l.onChange,y=l.onEscape,x=l.onClick,_=l.onLoadError,E=l.onLoaderStart,D=l.onNetworksChange,q=l.onConfirm,M=l.onCancel,R=l.onShippingAddressChange,Q=l.onShippingRateChange,X=l.onSavedPaymentMethodRemove,F=l.onSavedPaymentMethodUpdate,P=Rg("mounts <".concat(r,">")),J="elements"in P?P.elements:null,V="checkoutState"in P?P.checkoutState:null,ae=(V==null?void 0:V.type)==="success"||(V==null?void 0:V.type)==="loading"?V.sdk:null,ce=Mt.useState(null),le=q4(ce,2),W=le[0],re=le[1],Y=Mt.useRef(null),me=Mt.useRef(null);mr(W,"blur",m),mr(W,"focus",b),mr(W,"escape",y),mr(W,"click",x),mr(W,"loaderror",_),mr(W,"loaderstart",E),mr(W,"networkschange",D),mr(W,"confirm",q),mr(W,"cancel",M),mr(W,"shippingaddresschange",R),mr(W,"shippingratechange",Q),mr(W,"savedpaymentmethodremove",X),mr(W,"savedpaymentmethodupdate",F),mr(W,"change",k);var N;S&&(t==="expressCheckout"?N=S:N=function(){S(W)}),mr(W,"ready",N),Mt.useLayoutEffect(function(){if(Y.current===null&&me.current!==null&&(J||ae)){var z=null;if(ae)switch(t){case"payment":z=ae.createPaymentElement(g);break;case"address":if("mode"in g){var G=g.mode,Z=CI(g,BI);if(G==="shipping")z=ae.createShippingAddressElement(Z);else if(G==="billing")z=ae.createBillingAddressElement(Z);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":z=ae.createExpressCheckoutElement(g);break;case"currencySelector":z=ae.createCurrencySelectorElement();break;case"taxId":z=ae.createTaxIdElement(g);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else J&&(z=J.create(t,g));Y.current=z,re(z),z&&z.mount(me.current)}},[J,ae,g]);var U=Ig(g);return Mt.useEffect(function(){if(Y.current){var z=V4(g,U,["paymentRequest"]);z&&"update"in Y.current&&Y.current.update(z)}},[g,U]),Mt.useLayoutEffect(function(){return function(){if(Y.current&&typeof Y.current.destroy=="function")try{Y.current.destroy(),Y.current=null}catch{}}},[]),Mt.createElement("div",{id:u,className:h,ref:me})},s=function(l){Rg("mounts <".concat(r,">"));var u=l.id,h=l.className;return Mt.createElement("div",{id:u,className:h})},o=n?s:i;return o.propTypes={id:zt.string,className:zt.string,onChange:zt.func,onBlur:zt.func,onFocus:zt.func,onReady:zt.func,onEscape:zt.func,onClick:zt.func,onLoadError:zt.func,onLoaderStart:zt.func,onNetworksChange:zt.func,onConfirm:zt.func,onCancel:zt.func,onShippingAddressChange:zt.func,onShippingRateChange:zt.func,onSavedPaymentMethodRemove:zt.func,onSavedPaymentMethodUpdate:zt.func,options:zt.object},o.displayName=r,o.__elementType=t,o},Mr=typeof window>"u",zI=Mt.createContext(null);zI.displayName="EmbeddedCheckoutProviderContext";var J4=function(){var t=Rg("calls useStripe()"),n=t.stripe;return n};Dr("auBankAccount",Mr);Dr("card",Mr);var If=Dr("cardNumber",Mr),Y4=Dr("cardExpiry",Mr),X4=Dr("cardCvc",Mr);Dr("iban",Mr);Dr("payment",Mr);Dr("expressCheckout",Mr);Dr("paymentRequestButton",Mr);Dr("linkAuthentication",Mr);Dr("address",Mr);Dr("shippingAddress",Mr);Dr("paymentMethodMessaging",Mr);Dr("taxId",Mr);const $I="pk_live_51S9nbM2KIKbs2fxdAx3GkjvMFW540T4gDimo0fz30ZYXcXwJd4tYv6xdF0MD0yyYxmf3MwckzJoCuniCFHjYlXYg00ZrKRqzqt",qI=M4($I,{betas:[],locale:"fr"}),Qm={style:{base:{color:"#333",fontFamily:'"Baloo 2", sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#b8b5d1"}},invalid:{color:"#d32f2f",iconColor:"#d32f2f"},complete:{color:"#6B4EFF",iconColor:"#6B4EFF"}}},VI=({onClose:e,onSuccess:t,contentType:n,options:r})=>{const i=J4(),s=G4(),[o,a]=I.useState(!1),[l,u]=I.useState(""),[h,f]=I.useState(""),g=n==="audio"?"histoire":n,m=cd(g,r),b=async x=>{if(x.preventDefault(),!i||!s){u("Stripe n'est pas encore charg. Veuillez ressayer.");return}if(!h.trim()){u("Veuillez entrer le nom du titulaire de la carte");return}const _=s.getElement(If);if(!_){u("Impossible de charger le formulaire de paiement.");return}a(!0),u("");try{const{data:{user:E}}=await mt.auth.getUser();if(!E)throw new Error("Vous devez tre connect pour effectuer un paiement");const{data:D,error:q}=await mt.functions.invoke("create-payment",{body:{amount:m.amount,currency:m.currency,contentType:g,description:m.name,userId:E.id,userEmail:E.email}});if(q){console.error("Erreur Edge Function:",q);try{const Q=JSON.parse(q.message);if(Q&&Q.error)throw new Error(Q.error)}catch{}throw new Error(q.message||"Erreur lors de la cration du paiement")}if(D&&D.error)throw console.error("Erreur logique create-payment:",D),new Error(D.error);if(!D||!D.clientSecret)throw console.error("Rponse create-payment invalide:",D),new Error("Impossible de crer le paiement (rponse invalide)");const{error:M,paymentIntent:R}=await i.confirmCardPayment(D.clientSecret,{payment_method:{card:_,billing_details:{name:h,email:E.email}}});if(M)throw new Error(M.message||"Le paiement a chou");if(R&&R.status==="succeeded")t();else throw new Error("Le paiement n'a pas t confirm")}catch(E){console.error("Erreur de paiement:",E),u(E.message||"Une erreur est survenue lors du paiement")}finally{a(!1)}},S={width:"100%",padding:"12px 14px",fontSize:"15px",border:"1px solid #e0e0e0",borderRadius:"8px",fontFamily:'"Baloo 2", sans-serif',boxSizing:"border-box",outline:"none",transition:"border-color 0.2s ease",backgroundColor:"white"},k={display:"block",marginBottom:"5px",fontSize:"13px",fontWeight:"500",color:"#666",fontFamily:'"Baloo 2", sans-serif'},y={padding:"12px 14px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"white",transition:"border-color 0.2s ease"};return c.jsxs("form",{onSubmit:b,children:[c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:k,children:"Nom du titulaire"}),c.jsx("input",{type:"text",value:h,onChange:x=>f(x.target.value),placeholder:"Jean Dupont",required:!0,style:S,onFocus:x=>{x.target.style.borderColor="#6B4EFF"},onBlur:x=>{x.target.style.borderColor="#e0e0e0"}})]}),c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:k,children:"Numro de carte"}),c.jsx("div",{style:y,className:"stripe-card-element",children:c.jsx(If,{options:Qm})})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:k,children:"Date d'expiration"}),c.jsx("div",{style:y,className:"stripe-card-element",children:c.jsx(Y4,{options:Qm})})]}),c.jsxs("div",{children:[c.jsx("label",{style:k,children:"CVC"}),c.jsx("div",{style:y,className:"stripe-card-element",children:c.jsx(X4,{options:Qm})})]})]}),l&&c.jsx("div",{style:{padding:"12px",backgroundColor:"#fff5f5",color:"#e53e3e",borderRadius:"6px",marginBottom:"14px",fontSize:"14px",border:"1px solid #feb2b2",fontFamily:'"Baloo 2", sans-serif'},children:l}),c.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"0"},children:[c.jsx("button",{type:"button",onClick:e,disabled:o,style:{flex:1,padding:"12px 20px",fontSize:"15px",fontWeight:"500",borderRadius:"8px",border:"1px solid #d0d0d0",backgroundColor:"white",color:"#666",cursor:o?"not-allowed":"pointer",opacity:o?.5:1,fontFamily:'"Baloo 2", sans-serif',transition:"background-color 0.2s ease"},onMouseEnter:x=>{o||(x.target.style.backgroundColor="#f9f9f9")},onMouseLeave:x=>{x.target.style.backgroundColor="white"},children:"Annuler"}),c.jsx("button",{type:"submit",disabled:!i||o,style:{flex:1,padding:"12px 20px",fontSize:"15px",fontWeight:"500",borderRadius:"8px",border:"none",backgroundColor:"#6B4EFF",color:"white",cursor:!i||o?"not-allowed":"pointer",opacity:!i||o?.6:1,fontFamily:'"Baloo 2", sans-serif',transition:"background-color 0.2s ease"},onMouseEnter:x=>{i&&!o&&(x.target.style.backgroundColor="#5a3eef")},onMouseLeave:x=>{x.target.style.backgroundColor="#6B4EFF"},children:o?"Traitement...":`Payer ${m.display}`})]})]})},HI=({isOpen:e,onClose:t,onSuccess:n,contentType:r,options:i={}})=>{if(!e)return null;const o=cd(r==="audio"?"histoire":r,i),a=u=>{u.target===u.currentTarget&&t()},l=c.jsx("div",{onClick:a,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999999,padding:"20px",fontFamily:'"Baloo 2", sans-serif'},children:c.jsx("div",{onClick:u=>u.stopPropagation(),style:{backgroundColor:"white",borderRadius:"16px",maxWidth:"500px",width:"100%",boxShadow:"0 25px 50px rgba(107, 78, 255, 0.25), 0 10px 20px rgba(0, 0, 0, 0.1)",position:"relative",maxHeight:"90vh",overflowY:"auto",isolation:"isolate",border:"3px solid #6B4EFF"},children:c.jsxs("div",{style:{padding:"32px"},children:[c.jsx("button",{onClick:t,style:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"28px",cursor:"pointer",color:"#999",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",lineHeight:"1",zIndex:10},"aria-label":"Fermer",children:""}),c.jsx("h2",{style:{margin:"0 0 12px 0",fontSize:"24px",fontWeight:"600",color:"#333",fontFamily:'"Baloo 2", sans-serif',textAlign:"center"},children:"Paiement scuris"}),c.jsxs("div",{style:{margin:"0 0 20px 0",padding:"12px 16px",backgroundColor:"#f8f7ff",borderRadius:"12px",border:"2px solid #6B4EFF",textAlign:"center",fontFamily:'"Baloo 2", sans-serif'},children:[c.jsx("div",{style:{fontSize:"14px",color:"#666",marginBottom:"2px"},children:o.name}),c.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#6B4EFF"},children:o.display})]}),c.jsx(Cv,{stripe:qI,children:c.jsx(VI,{onClose:t,onSuccess:n,contentType:r,options:i})}),c.jsx("div",{style:{marginTop:"12px",textAlign:"right",fontSize:"11px",color:"#999",fontFamily:'"Baloo 2", sans-serif'},children:" Paiement scuris par Stripe"})]})})});return zb.createPortal(l,document.body)};const WI=107>0?M4("pk_live_51S9nbM2KIKbs2fxdAx3GkjvMFW540T4gDimo0fz30ZYXcXwJd4tYv6xdF0MD0yyYxmf3MwckzJoCuniCFHjYlXYg00ZrKRqzqt",{betas:[],locale:"fr"}):Promise.resolve(null),GI=({onSelectPlan:e,currentSubscription:t})=>{const[n,r]=I.useState([]),[i,s]=I.useState(!0);I.useEffect(()=>{o()},[]);const o=async()=>{try{const u=await P4();r(u)}catch(u){console.error("Erreur chargement plans:",u)}finally{s(!1)}},a=u=>{const h={histoire:29,coloring:69,comic:69,rhyme:69,animation30:599,animation60:999,animation120:1899,animation180:2799,animation240:3699,animation300:4699},f={histoire:4,coloring:16,comic:16,rhyme:15,animation30:420,animation60:840,animation120:1680,animation180:2520,animation240:3360,animation300:4200},m={Dcouverte:{price:499,totalTokens:250},Famille:{price:999,totalTokens:500},Cratif:{price:1999,totalTokens:1e3},Institut:{price:4999,totalTokens:2500}}[u];if(!m)return{};const b={histoire:Math.floor(m.totalTokens/f.histoire),coloring:Math.floor(m.totalTokens/f.coloring),comic:Math.floor(m.totalTokens/f.comic),rhyme:Math.floor(m.totalTokens/f.rhyme),animation30:Math.floor(m.totalTokens/f.animation30),animation60:Math.floor(m.totalTokens/f.animation60),animation120:Math.floor(m.totalTokens/f.animation120),animation180:Math.floor(m.totalTokens/f.animation180),animation240:Math.floor(m.totalTokens/f.animation240),animation300:Math.floor(m.totalTokens/f.animation300)},S=b.histoire*h.histoire+b.coloring*h.coloring+b.comic*h.comic+b.rhyme*h.rhyme+b.animation30*h.animation30+b.animation60*h.animation60+b.animation120*h.animation120+b.animation180*h.animation180+b.animation240*h.animation240+b.animation300*h.animation300,k=Math.round((S-m.price)/S*100),y=[`${m.totalTokens} tokens par mois pour crer librement`],x={Dcouverte:["40 histoires + 5 coloriages","30 histoires + 3 coloriages + 5 comptines"],Famille:["80 histoires + 10 coloriages","1 animation 30s + 20 histoires"],Cratif:["150 histoires + 20 coloriages","2 animations 30s + 40 histoires"],Institut:["300 histoires + 50 coloriages","5 animations 30s + 100 histoires","1 animation 2min + 150 histoires"]};return x[u]&&x[u].forEach(E=>{y.push(` ${E}`)}),{Dcouverte:{features:y,ideal:"Parfait pour dcouvrir Herbbie",economy:`conomisez ${k}%`},Famille:{features:y,ideal:"Pour les familles actives",economy:`conomisez ${k}%`},Cratif:{features:y,ideal:"Pour les crateurs intensifs",economy:`conomisez ${k}%`},Institut:{features:y,ideal:"Pour les coles et institutions",economy:`conomisez ${k}%`}}[u]||{}};if(i)return c.jsx("div",{className:"subscription-modal-loading",children:c.jsx("div",{className:"subscription-modal-spinner"})});const l=!!t;return c.jsx("div",{className:`subscription-plans-grid ${l?"has-active-subscription":""}`,children:n.map(u=>{var g,m;const h=a(u.name),f=((g=t==null?void 0:t.subscription_plans)==null?void 0:g.name)===u.name;return c.jsxs("div",{className:`subscription-plan-card ${f?"active":""} ${l?"compact":""}`,children:[c.jsx("div",{className:"plan-name",children:u.name}),c.jsxs("div",{className:"plan-price",children:[(u.price_monthly/100).toFixed(2).replace(".",","),""]}),c.jsx("div",{className:"plan-price-period",children:"par mois"}),c.jsx("ul",{className:"plan-features",children:(m=h.features)==null?void 0:m.map((b,S)=>c.jsx("li",{children:b},S))}),c.jsx("div",{className:"plan-ideal",children:h.ideal}),!f&&c.jsx("button",{onClick:()=>e(u),className:"plan-button primary",children:"Choisir ce plan"}),f&&c.jsx("button",{className:"plan-button secondary",disabled:!0,children:"Plan actif"})]},u.id)})})},Zm={style:{base:{color:"#333",fontFamily:'"Baloo 2", sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#b8b5d1"}},invalid:{color:"#d32f2f",iconColor:"#d32f2f"},complete:{color:"#6B4EFF",iconColor:"#6B4EFF"}}},KI=({selectedPlan:e,onSuccess:t,onCancel:n,userId:r,userEmail:i})=>{console.log(" SubscriptionForm NOUVEAU DESIGN charg - 3 champs spars");const s=J4(),o=G4(),[a,l]=I.useState(!1),[u,h]=I.useState(""),[f,g]=I.useState(null),m=async y=>{if(y.preventDefault(),!s||!o){g("Stripe n'est pas encore charg. Veuillez ressayer.");return}if(!u.trim()){g("Veuillez entrer le nom du titulaire de la carte");return}const x=o.getElement(If);if(!x){g("Impossible de charger le formulaire de paiement.");return}l(!0),g(null);try{const{error:_,paymentMethod:E}=await s.createPaymentMethod({type:"card",card:x,billing_details:{name:u.trim(),email:i}});if(_){g(_.message);return}const D=await L4(e.id,r,E.id,i);if(D.success){if(D.clientSecret){const{error:q}=await s.confirmCardPayment(D.clientSecret);if(q){g(q.message);return}try{await I4(D.stripeSubscription.id)}catch(M){console.error("Erreur confirmation abonnement:",M)}}t()}else g(D.error||"Erreur lors de la cration de l'abonnement")}catch(_){console.error("Erreur abonnement:",_),g("Erreur lors de la cration de l'abonnement")}finally{l(!1)}},b={width:"100%",padding:"12px 14px",fontSize:"15px",border:"1px solid #e0e0e0",borderRadius:"8px",fontFamily:'"Baloo 2", sans-serif',boxSizing:"border-box",outline:"none",transition:"border-color 0.2s ease",backgroundColor:"white"},S={display:"block",marginBottom:"5px",fontSize:"13px",fontWeight:"500",color:"#666",fontFamily:'"Baloo 2", sans-serif'},k={padding:"12px 14px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"white",transition:"border-color 0.2s ease"};return c.jsxs("form",{onSubmit:m,children:[c.jsxs("div",{style:{margin:"0 0 20px 0",padding:"12px 16px",backgroundColor:"#f8f7ff",borderRadius:"12px",border:"2px solid #6B4EFF",textAlign:"center",fontFamily:'"Baloo 2", sans-serif'},children:[c.jsxs("div",{style:{fontSize:"14px",color:"#666",marginBottom:"2px"},children:["S'abonner  ",e.name]}),c.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#6B4EFF"},children:[(e.price_monthly/100).toFixed(2).replace(".",","),"/mois"]}),c.jsx("div",{style:{fontSize:"12px",color:"#888",marginTop:"4px"},children:"Factur mensuellement  Annulable  tout moment"})]}),c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:S,children:"Nom du titulaire de la carte"}),c.jsx("input",{type:"text",value:u,onChange:y=>h(y.target.value),placeholder:"Jean Dupont",required:!0,style:b,onFocus:y=>{y.target.style.borderColor="#6B4EFF"},onBlur:y=>{y.target.style.borderColor="#e0e0e0"}})]}),c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:S,children:"Numro de carte"}),c.jsx("div",{style:k,className:"stripe-card-element",children:c.jsx(If,{options:Zm})})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:S,children:"Date d'expiration"}),c.jsx("div",{style:k,className:"stripe-card-element",children:c.jsx(Y4,{options:Zm})})]}),c.jsxs("div",{children:[c.jsx("label",{style:S,children:"CVC"}),c.jsx("div",{style:k,className:"stripe-card-element",children:c.jsx(X4,{options:Zm})})]})]}),f&&c.jsx("div",{style:{padding:"12px",backgroundColor:"#fff5f5",color:"#e53e3e",borderRadius:"6px",marginBottom:"14px",fontSize:"14px",border:"1px solid #feb2b2",fontFamily:'"Baloo 2", sans-serif'},children:f}),c.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"0"},children:[c.jsx("button",{type:"button",onClick:n,disabled:a,style:{flex:1,padding:"12px 20px",fontSize:"15px",fontWeight:"500",borderRadius:"8px",border:"1px solid #d0d0d0",backgroundColor:"white",color:"#666",cursor:a?"not-allowed":"pointer",opacity:a?.5:1,fontFamily:'"Baloo 2", sans-serif',transition:"background-color 0.2s ease"},onMouseEnter:y=>{a||(y.target.style.backgroundColor="#f9f9f9")},onMouseLeave:y=>{y.target.style.backgroundColor="white"},children:"Annuler"}),c.jsx("button",{type:"submit",disabled:!s||a,style:{flex:1,padding:"12px 20px",fontSize:"15px",fontWeight:"500",borderRadius:"8px",border:"none",backgroundColor:"#6B4EFF",color:"white",cursor:!s||a?"not-allowed":"pointer",opacity:!s||a?.6:1,fontFamily:'"Baloo 2", sans-serif',transition:"background-color 0.2s ease"},onMouseEnter:y=>{s&&!a&&(y.target.style.backgroundColor="#5a3eef")},onMouseLeave:y=>{y.target.style.backgroundColor="#6B4EFF"},children:a?"Traitement...":`S'abonner pour ${(e.price_monthly/100).toFixed(2).replace(".",",")}/mois`})]}),c.jsx("div",{style:{marginTop:"12px",marginBottom:"20px",textAlign:"center",fontSize:"11px",color:"#999",fontFamily:'"Baloo 2", sans-serif'},children:" Vos informations de paiement sont scurises et cryptes. Vous pouvez annuler votre abonnement  tout moment."})]})},JI=({subscription:e,onCancel:t,onClose:n})=>{const[r,i]=I.useState(!1),s=async()=>{if(confirm("tes-vous sr de vouloir annuler votre abonnement ? Il restera actif jusqu' la fin de la priode en cours.")){i(!0);try{await T4(e.user_id),alert("Votre abonnement a t annul. Il restera actif jusqu' la fin de la priode en cours."),t()}catch(a){console.error("Erreur annulation:",a),alert("Erreur lors de l'annulation de l'abonnement")}finally{i(!1)}}},o=a=>new Date(a).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",fontFamily:'"Baloo 2", sans-serif'},children:[c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("h3",{style:{fontSize:"24px",fontWeight:"700",color:"#1a1a1a",marginBottom:"8px"},children:"Gestion de l'abonnement"}),c.jsxs("div",{style:{backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"12px",padding:"12px"},children:[c.jsxs("div",{style:{color:"#166534",fontWeight:"500",fontSize:"15px"},children:["Plan ",e.subscription_plans.name," actif"]}),c.jsxs("div",{style:{color:"#16a34a",fontSize:"13px",marginTop:"6px"},children:["Prochaine facturation: ",o(e.current_period_end)]})]})]}),c.jsxs("div",{style:{backgroundColor:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"12px",padding:"12px"},children:[c.jsxs("div",{style:{color:"#1e40af",fontWeight:"500",fontSize:"15px"},children:["Tokens disponibles: ",e.tokens_remaining]}),c.jsxs("div",{style:{color:"#2563eb",fontSize:"13px",marginTop:"6px"},children:["Tokens utiliss ce mois: ",e.tokens_used_this_month||0]})]}),c.jsxs("div",{style:{backgroundColor:"#f9fafb",borderRadius:"12px",padding:"12px"},children:[c.jsx("h4",{style:{fontWeight:"500",color:"#1a1a1a",marginBottom:"10px",fontSize:"15px"},children:"Dtails de l'abonnement"}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",fontSize:"13px",color:"#6b7280"},children:[c.jsxs("div",{children:["Prix: ",(e.subscription_plans.price_monthly/100).toFixed(2).replace(".",","),"/mois"]}),c.jsxs("div",{children:["Dbut de priode: ",o(e.current_period_start)]}),c.jsxs("div",{children:["Fin de priode: ",o(e.current_period_end)]}),c.jsxs("div",{children:["Status: ",e.status==="active"?"Actif":e.status]})]})]}),c.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"0px"},children:[c.jsx("button",{onClick:n,style:{flex:1,backgroundColor:"#e5e7eb",color:"#1f2937",padding:"10px 14px",borderRadius:"8px",fontWeight:"500",border:"none",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s"},onMouseEnter:a=>a.target.style.backgroundColor="#d1d5db",onMouseLeave:a=>a.target.style.backgroundColor="#e5e7eb",children:"Fermer"}),c.jsx("button",{onClick:s,disabled:r||e.cancel_at_period_end,style:{flex:1,backgroundColor:e.cancel_at_period_end?"#9ca3af":"#dc2626",color:"white",padding:"10px 14px",borderRadius:"8px",fontWeight:"500",border:"none",cursor:r||e.cancel_at_period_end?"not-allowed":"pointer",fontSize:"14px",opacity:r||e.cancel_at_period_end?.5:1,transition:"background-color 0.2s"},onMouseEnter:a=>{!r&&!e.cancel_at_period_end&&(a.target.style.backgroundColor="#b91c1c")},onMouseLeave:a=>{!r&&!e.cancel_at_period_end&&(a.target.style.backgroundColor="#dc2626")},children:r?"Annulation...":"Annuler l'abonnement"})]}),e.cancel_at_period_end&&c.jsx("div",{style:{backgroundColor:"#fff7ed",border:"1px solid #fed7aa",borderRadius:"12px",padding:"10px",marginTop:"0px",marginBottom:"14px"},children:c.jsxs("div",{style:{color:"#9a3412",fontSize:"13px"},children:[" Votre abonnement sera annul le ",o(e.current_period_end)]})})]})},YI=({isOpen:e,onClose:t,userId:n,userEmail:r})=>{const[i,s]=I.useState("plans"),[o,a]=I.useState(null),[l,u]=I.useState(null),[h,f]=I.useState(!0);I.useEffect(()=>{e&&n&&g()},[e,n]);const g=async()=>{try{const D=await E4(n);u(D)}catch(D){console.error("Erreur chargement abonnement:",D)}finally{f(!1)}},m=D=>{a(D),s("payment")},b=()=>{s("plans"),a(null),g(),alert(" Flicitations ! Votre abonnement a t activ avec succs.")},S=()=>{s("plans"),a(null)},k=()=>{s("plans"),a(null),t()};if(!e)return null;const y=D=>{D.target===D.currentTarget&&k()},x=i==="payment",_=i==="management",E=c.jsx("div",{className:"subscription-modal-overlay",onClick:y,children:c.jsxs(Re.div,{className:`subscription-modal-content ${x?"subscription-modal-payment":""} ${_?"subscription-modal-management":""}`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:D=>D.stopPropagation(),children:[c.jsxs("div",{className:"subscription-modal-header",children:[c.jsx("h2",{children:l?"Mon abonnement":"Choisir un abonnement"}),c.jsx("button",{onClick:k,className:"subscription-modal-close","aria-label":"Fermer",children:""})]}),h?c.jsx("div",{className:"subscription-modal-loading",children:c.jsx("div",{className:"subscription-modal-spinner"})}):c.jsxs(c.Fragment,{children:[i==="plans"&&c.jsx(GI,{onSelectPlan:m,currentSubscription:l}),i==="payment"&&o&&c.jsx(Cv,{stripe:WI,children:c.jsx(KI,{selectedPlan:o,onSuccess:b,onCancel:S,userId:n,userEmail:r})}),i==="management"&&l&&c.jsx(JI,{subscription:l,onCancel:g,onClose:k}),l&&i==="plans"&&c.jsx("div",{style:{marginTop:"1.2rem",paddingTop:"1rem",borderTop:"1px solid rgba(107, 78, 255, 0.12)",textAlign:"center"},children:c.jsx("button",{onClick:()=>s("management"),className:"plan-button primary",style:{maxWidth:"300px",margin:"0.5rem auto 0.75rem auto"},children:"Grer mon abonnement"})})]})]})});return zb.createPortal(E,document.body)};const XI=({onLegalClick:e})=>c.jsx("footer",{className:"app-footer",children:c.jsxs("div",{className:"footer-content",children:[c.jsx("div",{className:"ai-notice",children:c.jsx("p",{children:"Les crations sont gnres par IA et peuvent contenir des erreurs."})}),c.jsxs("div",{className:"footer-links",children:[c.jsx("button",{className:"footer-link",onClick:()=>e("mentions"),children:"Mentions lgales"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("privacy"),children:"Confidentialit"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("cookies"),children:"Cookies"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("terms"),children:"CGU"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("contact"),children:"Contact"})]}),c.jsx("div",{className:"footer-info",children:c.jsxs("p",{children:[" ",new Date().getFullYear()," HERBBIE"]})})]})});const QI=({onClose:e,initialSection:t="mentions"})=>{const[n,r]=I.useState(t),[i,s]=I.useState({firstName:"",lastName:"",email:"",subject:"",message:""}),[o,a]=I.useState(!1),[l,u]=I.useState(""),h=[{id:"mentions",title:"Mentions Lgales",icon:""},{id:"privacy",title:"Confidentialit",icon:""},{id:"cookies",title:"Cookies",icon:""},{id:"terms",title:"Conditions d'utilisation",icon:""},{id:"contact",title:"Contact",icon:""}],f=()=>{switch(n){case"mentions":return g();case"privacy":return m();case"cookies":return b();case"terms":return S();case"contact":return x();default:return g()}},g=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Mentions Lgales"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Hbergement"}),c.jsxs("div",{className:"info-block",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Hbergeur :"})," Railway"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Adresse :"})," Railway, 1 Sentry Way, San Francisco, CA 94103, tats-Unis"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Site web :"})," ",c.jsx("a",{href:"https://railway.app",target:"_blank",rel:"noopener noreferrer",children:"railway.app"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Proprit intellectuelle"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"L'ensemble du contenu de ce site (textes, images, vidos, lments graphiques, logos, icnes, sons, logiciels) est la proprit exclusive de HERBBIE ou de ses partenaires, sauf mention contraire."}),c.jsx("p",{children:"Toute reproduction, distribution, modification ou exploitation commerciale, mme partielle, sans autorisation pralable crite de HERBBIE est strictement interdite et constituerait une contrefaon sanctionne par les articles L.335-2 et suivants du Code de la proprit intellectuelle."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Responsabilit"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'efforce d'assurer l'exactitude et la mise  jour des informations diffuses sur ce site, dont elle se rserve le droit de corriger,  tout moment et sans pravis, le contenu."}),c.jsx("p",{children:"Toutefois, HERBBIE ne peut garantir l'exactitude, la prcision ou l'exhaustivit des informations mises  disposition sur ce site. En consquence, HERBBIE dcline toute responsabilit :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Pour toute imprcision, inexactitude ou omission portant sur des informations disponibles sur le site"}),c.jsx("li",{children:"Pour tous dommages rsultant d'une intrusion frauduleuse d'un tiers ayant entran une modification des informations mises  disposition sur le site"}),c.jsx("li",{children:"Et plus gnralement pour tous dommages, directs ou indirects, quelles qu'en soient les causes, origines, natures ou consquences, provoqus  raison de l'accs de quiconque au site ou de l'impossibilit d'y accder"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Donnes personnelles"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Conformment  la loi n78-17 du 6 janvier 1978 relative  l'informatique, aux fichiers et aux liberts, vous disposez d'un droit d'accs, de rectification et de suppression des donnes vous concernant."}),c.jsxs("p",{children:["Pour exercer ce droit, vous pouvez nous contacter par email  l'adresse : ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Le site HERBBIE utilise des cookies pour amliorer votre exprience utilisateur et raliser des statistiques de visite."}),c.jsx("p",{children:"Conformment  la rglementation, vous pouvez refuser le dpt de cookies en configurant votre navigateur."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"diteur du site"}),c.jsxs("div",{className:"info-block personal-data",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Dnomination sociale :"})," ",c.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Forme juridique :"})," ",c.jsx("span",{className:"protect-personal-info",children:"Auto-entreprise (en cours d'immatriculation)"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Adresse du sige social :"})," ",c.jsx("span",{className:"address-protected personal-data",children:"10 bis rue Flix Arnaudin, 40100 Dax"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Numro SIRET :"})," ",c.jsx("span",{className:"protect-personal-info",children:"En cours d'attribution"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Directeur de la publication :"})," ",c.jsx("span",{className:"name-protected personal-data",children:"Adrien Gaulin"})]})]})]})]}),m=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Politique de Confidentialit"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Collecte des donnes personnelles"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Lors de votre utilisation du service HERBBIE, nous pouvons collecter les informations suivantes :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de compte :"})," adresse email, nom d'utilisateur (si inscription)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes d'utilisation :"})," historique des crations, prfrences, statistiques d'usage"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes techniques :"})," adresse IP, type de navigateur, systme d'exploitation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contenu gnr :"})," les crations ralises via notre service (histoires, coloriages, etc.)"]})]}),c.jsx("p",{children:"La collecte de ces donnes est ncessaire pour :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fournir nos services de gnration de contenu cratif"}),c.jsx("li",{children:"Amliorer la qualit de nos services"}),c.jsx("li",{children:"Assurer la scurit de la plateforme"}),c.jsx("li",{children:"Respecter nos obligations lgales"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Utilisation des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les donnes collectes sont utilises pour :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fournir le service :"})," gnration de contenu personnalis, sauvegarde des crations"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Amlioration :"})," analyse des usages pour optimiser l'exprience utilisateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Communication :"})," envoi d'informations relatives au service, support client"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," dtection et prvention des fraudes et activits malveillantes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Obligations lgales :"})," conservation des donnes requises par la loi"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Partage des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'engage  ne pas vendre, louer ou commercialiser vos donnes personnelles."}),c.jsx("p",{children:"Les donnes peuvent tre partages uniquement dans les cas suivants :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fournisseurs de services :"})," hbergeurs, prestataires techniques (sous contrat de confidentialit)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Obligations lgales :"})," sur demande des autorits comptentes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Protection des droits :"})," en cas de litige ou contentieux"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Conservation des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les donnes sont conserves pendant la dure ncessaire aux finalits pour lesquelles elles ont t collectes :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de compte :"})," tant que le compte est actif + 3 ans aprs inactivation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes d'utilisation :"})," 2 ans  compter de la collecte"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contenu gnr :"})," tant que le compte est actif"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de facturation :"})," 10 ans (obligation lgale)"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Scurit des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE met en uvre des mesures techniques et organisationnelles appropries pour protger vos donnes personnelles contre :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"L'accs non autoris"}),c.jsx("li",{children:"L'utilisation illgitime"}),c.jsx("li",{children:"La perte ou destruction accidentelle"}),c.jsx("li",{children:"Toute forme de traitement illicite"})]}),c.jsx("p",{children:"Ces mesures incluent le chiffrement des donnes, des contrles d'accs stricts et des audits rguliers de scurit."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Vos droits"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Conformment au RGPD, vous disposez des droits suivants :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Droit d'accs :"})," demander l'accs  vos donnes personnelles"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit de rectification :"})," demander la correction de donnes inexactes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  l'effacement :"})," demander la suppression de vos donnes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  la limitation :"})," demander la limitation du traitement"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  la portabilit :"})," demander la rcupration de vos donnes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit d'opposition :"})," vous opposer au traitement de vos donnes"]})]}),c.jsxs("p",{children:["Pour exercer ces droits, contactez-nous  : ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Cookies et technologies similaires"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE utilise uniquement des cookies strictement essentiels au fonctionnement du service :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Maintien de votre connexion et scurit"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Mmorisation de votre identit"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de scurit :"})," Protection contre les menaces"]})]}),c.jsx("h4",{children:"Stockage et scurit des cookies :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Emplacement :"})," Stocks localement dans le navigateur (localStorage)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Dure de vie :"})," Sessions temporaires (supprims  la dconnexion)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," Chiffrs et protgs contre les attaques CSRF"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Serveur :"})," Gestion automatique par Supabase avec scurit renforce"]})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Note :"})," Aucun cookie de fonctionnalit, analytique, de personnalisation ou publicitaire n'est utilis."]}),c.jsx("p",{children:"Les cookies essentiels sont automatiquement grs et exempts de consentement selon le RGPD."})]})]})]}),b=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Politique des Cookies"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Qu'est-ce qu'un cookie ?"}),c.jsx("div",{className:"info-block",children:c.jsx("p",{children:"Un cookie est un petit fichier texte dpos sur votre terminal (ordinateur, tablette, smartphone) lors de la visite d'un site internet. Il permet de stocker des informations relatives  votre navigation et d'amliorer votre exprience utilisateur."})})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Cookies utiliss par HERBBIE"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:c.jsx("strong",{children:"Conformment  la rglementation RGPD, HERBBIE utilise uniquement des cookies strictement essentiels ncessaires au fonctionnement du service."})}),c.jsx("h4",{children:"Cookies essentiels (obligatoires) :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Maintien de votre connexion et scurit pendant votre visite"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Mmorisation de votre identit pour viter de vous reconnecter"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de scurit :"})," Protection contre les attaques CSRF et autres menaces"]})]}),c.jsxs("div",{className:"alert alert-info",children:[c.jsx("strong",{children:"Note :"})," Aucun cookie de fonctionnalit, analytique, de personnalisation ou publicitaire n'est utilis sur ce site."]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Gestion des cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les cookies essentiels utiliss par HERBBIE sont automatiquement grs et ne ncessitent pas d'action de votre part."}),c.jsx("h4",{children:"Via votre navigateur :"}),c.jsx("p",{children:"Si vous souhaitez supprimer les cookies essentiels (ce qui peut affecter le fonctionnement du site) :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Chrome :"})," Paramtres  Confidentialit et scurit  Cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Firefox :"})," Prfrences  Vie prive et scurit  Cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Safari :"})," Prfrences  Confidentialit  Grer les cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Edge :"})," Paramtres  Cookies et autorisations de site"]})]}),c.jsx("h4",{children:"Dure de conservation :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Supprims automatiquement  la fermeture du navigateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Conservs pendant votre session active (maximum 24h)"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Finalits des cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE utilise uniquement des cookies essentiels pour :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fonctionnement du service :"})," Maintien de la session utilisateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," Scurisation des transactions et protection contre les menaces"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Prfrences essentielles :"})," Mmorisation des paramtres de base (langue)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Performance :"})," Optimisation du fonctionnement du site"]})]}),c.jsxs("div",{className:"alert alert-info",children:[c.jsx("strong",{children:"Note :"})," Aucun cookie n'est utilis pour l'analyse d'audience, le suivi utilisateur ou la personnalisation avance."]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Cookies tiers"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE n'utilise pas de cookies tiers pour l'analyse, le suivi ou la publicit."}),c.jsx("p",{children:"Les services externes utiliss (comme les APIs d'IA) ne dposent pas de cookies sur votre navigateur."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Consentement"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:c.jsx("strong",{children:"Conformment  la rglementation RGPD, les cookies essentiels utiliss par HERBBIE ne ncessitent pas de consentement explicite car ils sont strictement ncessaires au fonctionnement du service."})}),c.jsx("p",{children:"Ces cookies sont automatiquement activs pour garantir la scurit et le bon fonctionnement du site."}),c.jsx("p",{children:"Note : La dsactivation de ces cookies essentiels peut gravement affecter le fonctionnement du service."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Mise  jour"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Cette politique des cookies peut tre mise  jour rgulirement pour reflter les volutions de nos services ou de la rglementation."}),c.jsx("p",{children:"La date de dernire modification est indique en bas de cette page."}),c.jsx("p",{children:"En cas de modification substantielle, nous vous en informerons via une notification sur le site."})]})]})]}),S=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Conditions d'utilisation"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Objet du service"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE est une plateforme de gnration de contenu cratif destine aux enfants, utilisant l'intelligence artificielle pour crer :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Des histoires personnalises et ducatives"}),c.jsx("li",{children:"Des coloriages et activits cratives"}),c.jsx("li",{children:"Du contenu pdagogique adapt  chaque ge"}),c.jsx("li",{children:"Des expriences d'apprentissage ludiques"})]}),c.jsx("p",{children:"Le service est conu pour stimuler l'imagination et la crativit des enfants de manire scurise et ducative."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Conditions d'accs"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"ge minimum :"}),c.jsx("p",{children:"Le service HERBBIE est accessible aux enfants de tous ges. Pour les enfants de moins de 13 ans, l'utilisation doit se faire sous la supervision d'un adulte responsable."}),c.jsx("h4",{children:"Inscription :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Les utilisateurs peuvent crer un compte gratuit"}),c.jsx("li",{children:"L'inscription ncessite une adresse email valide"}),c.jsx("li",{children:"Les mots de passe doivent tre scuriss"}),c.jsx("li",{children:"Une seule inscription par personne est autorise"})]}),c.jsx("h4",{children:"Utilisation acceptable :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Respect des autres utilisateurs"}),c.jsx("li",{children:"Utilisation dans un cadre ducatif et ludique"}),c.jsx("li",{children:"Interdiction de gnrer du contenu inappropri"}),c.jsx("li",{children:"Respect des droits d'auteur et proprit intellectuelle"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Services et fonctionnalits"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Services gratuits :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Accs  un nombre limit de gnration par jour"}),c.jsx("li",{children:"Fonctionnalits de base de cration de contenu"}),c.jsx("li",{children:"Sauvegarde des crations pendant 30 jours"}),c.jsx("li",{children:"Support communautaire"})]}),c.jsx("h4",{children:"Services premium (optionnels) :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Gnrations illimites"}),c.jsx("li",{children:"Sauvegarde permanente des crations"}),c.jsx("li",{children:"Fonctionnalits avances"}),c.jsx("li",{children:"Support prioritaire"}),c.jsx("li",{children:"Contenu personnalis avanc"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Rgles de conduite"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Interdictions :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Gnrer du contenu violent, haineux ou inappropri"}),c.jsx("li",{children:"Utiliser le service pour harceler ou intimider"}),c.jsx("li",{children:"Tenter de contourner les limitations techniques"}),c.jsx("li",{children:"Partager des informations personnelles d'autrui"}),c.jsx("li",{children:"Utiliser le service  des fins commerciales sans autorisation"}),c.jsx("li",{children:"Copier ou reproduire le contenu gnr par d'autres utilisateurs"})]}),c.jsx("h4",{children:"Obligations des utilisateurs :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fournir des informations exactes lors de l'inscription"}),c.jsx("li",{children:"Respecter les droits d'auteur et la proprit intellectuelle"}),c.jsx("li",{children:"Signaler tout contenu inappropri"}),c.jsx("li",{children:"Maintenir la confidentialit de leurs identifiants"}),c.jsx("li",{children:"Utiliser le service de manire responsable"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Proprit intellectuelle"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Contenu gnr :"}),c.jsx("p",{children:"Le contenu cr via HERBBIE appartient  l'utilisateur qui l'a gnr. L'utilisateur peut :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Tlcharger et utiliser ses crations  des fins personnelles"}),c.jsx("li",{children:"Partager ses crations dans un cadre familial ou ducatif"}),c.jsx("li",{children:"Modifier ses propres crations"})]}),c.jsx("h4",{children:"Plateforme HERBBIE :"}),c.jsx("p",{children:"Tous les lments de la plateforme (interface, algorithmes, design, etc.) restent la proprit exclusive de HERBBIE."}),c.jsx("h4",{children:"Contenu tiers :"}),c.jsx("p",{children:"Certains lments peuvent tre soumis  des licences tierces (polices, images, sons). L'utilisation doit respecter ces licences."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Limitation de responsabilit"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'efforce de fournir un service de qualit, mais ne peut garantir :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"La disponibilit permanente du service (maintenance, pannes)"}),c.jsx("li",{children:"L'absence totale de bugs ou erreurs"}),c.jsx("li",{children:"L'adquation du contenu gnr  tous les besoins"}),c.jsx("li",{children:"La scurit absolue contre les cyberattaques"})]}),c.jsx("p",{children:"En aucun cas HERBBIE ne pourra tre tenu responsable :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Des dommages indirects ou conscutifs  l'utilisation du service"}),c.jsx("li",{children:"De la perte de donnes ou de crations"}),c.jsx("li",{children:"Des interruptions de service non planifies"}),c.jsx("li",{children:"Des actes de tiers (piratage, virus, etc.)"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Rsiliation"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Par l'utilisateur :"}),c.jsx("p",{children:"L'utilisateur peut rsilier son compte  tout moment via les paramtres de son profil."}),c.jsx("h4",{children:"Par HERBBIE :"}),c.jsx("p",{children:"HERBBIE peut suspendre ou rsilier un compte en cas de :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Violation grave des conditions d'utilisation"}),c.jsx("li",{children:"Utilisation abusive du service"}),c.jsx("li",{children:"Non-paiement des services premium"}),c.jsx("li",{children:"Inactivit prolonge (plus de 2 ans)"})]}),c.jsx("h4",{children:"Consquences de la rsiliation :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Accs immdiat au service suspendu"}),c.jsx("li",{children:"Conservation des donnes pendant 30 jours"}),c.jsx("li",{children:"Suppression dfinitive aprs ce dlai"}),c.jsx("li",{children:"Possibilit de ractivation sous conditions"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"8. Modification des conditions"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE se rserve le droit de modifier ces conditions d'utilisation  tout moment."}),c.jsx("p",{children:"Les modifications seront notifies aux utilisateurs par email ou notification sur le site."}),c.jsx("p",{children:"La poursuite de l'utilisation du service aprs notification vaut acceptation des nouvelles conditions."}),c.jsx("p",{children:"En cas de dsaccord avec les modifications, l'utilisateur peut rsilier son compte."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"9. Droit applicable"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Ces conditions d'utilisation sont rgies par le droit franais."}),c.jsx("p",{children:"Tout litige relatif  l'interprtation ou l'excution de ces conditions sera soumis aux tribunaux comptents du ressort de Paris."}),c.jsx("p",{children:"En cas de traduction de ces conditions, seule la version franaise fait foi."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"10. Contact"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Pour toute question relative  ces conditions d'utilisation :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Email :"})," ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Objet :"}),' "Question CGU"']}),c.jsxs("li",{children:[c.jsx("strong",{children:"Dlai de rponse :"})," 48-72 heures"]})]})]})]})]}),k=(_,E)=>{s(D=>({...D,[_]:E}))},y=async _=>{_.preventDefault(),a(!0),u("");try{const E=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:i.firstName,lastName:i.lastName,email:i.email,subject:i.subject,message:i.message})});if(!E.ok){const q=await E.json();throw new Error(q.detail||"Erreur lors de l'envoi du message")}const D=await E.json();u(" Votre message a t envoy avec succs ! Nous vous rpondrons dans les plus brefs dlais."),s({firstName:"",lastName:"",email:"",subject:"",message:""})}catch(E){u(` Erreur lors de l'envoi : ${E.message}`)}finally{a(!1)}},x=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Contact"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:" Formulaire de contact"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Vous pouvez nous contacter directement en remplissant le formulaire ci-dessous :"}),c.jsxs("form",{className:"contact-form",onSubmit:y,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-firstName",children:"Prnom *"}),c.jsx("input",{type:"text",id:"contact-firstName",value:i.firstName,onChange:_=>k("firstName",_.target.value),required:!0,placeholder:"Votre prnom"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-lastName",children:"Nom *"}),c.jsx("input",{type:"text",id:"contact-lastName",value:i.lastName,onChange:_=>k("lastName",_.target.value),required:!0,placeholder:"Votre nom de famille"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-email",children:"Email *"}),c.jsx(Ll,{value:i.email,onChange:_=>k("email",_.target.value),placeholder:"votre.email@exemple.com",required:!0,user:null,onEmailSubmit:()=>{}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-subject",children:"Sujet *"}),c.jsxs("select",{id:"contact-subject",value:i.subject,onChange:_=>k("subject",_.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Choisissez un sujet"}),c.jsx("option",{value:"Support technique",children:" Support technique"}),c.jsx("option",{value:"Question gnrale",children:" Question gnrale"}),c.jsx("option",{value:"Partenariat",children:" Partenariat"}),c.jsx("option",{value:"Signaler un bug",children:" Signaler un bug"}),c.jsx("option",{value:"Suggestion",children:" Suggestion"}),c.jsx("option",{value:"Autre",children:" Autre"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-message",children:"Message *"}),c.jsx("textarea",{id:"contact-message",value:i.message,onChange:_=>k("message",_.target.value),required:!0,placeholder:"Dcrivez votre demande en dtail...",rows:"5"})]}),l&&c.jsx("div",{className:`submit-message ${l.includes("")?"success":"error"}`,children:l}),c.jsx("button",{type:"submit",className:"contact-submit-btn",disabled:o,children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner"}),"Envoi en cours..."]}):c.jsx(c.Fragment,{children:" Envoyer l'email"})})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Informations de contact"}),c.jsxs("div",{className:"info-block personal-data",children:[c.jsxs("p",{children:[c.jsx("strong",{children:" Email :"})," ",c.jsx("a",{href:"mailto:contact@herbbie.com",className:"email-protected",children:c.jsx("span",{className:"personal-data",children:"contact@herbbie.com"})})]}),c.jsxs("p",{children:[c.jsx("strong",{children:" Nom de l'entreprise :"})," ",c.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]})]})]})]});return c.jsx(Re.div,{className:"legal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:e,children:c.jsxs(Re.div,{className:"legal-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:_=>_.stopPropagation(),children:[c.jsxs("div",{className:"legal-header",children:[c.jsx("h1",{children:" Informations Lgales"}),c.jsx("button",{className:"close-button",onClick:e,children:""})]}),c.jsxs("div",{className:"legal-body",children:[c.jsx("nav",{className:"legal-nav",children:h.map(_=>c.jsxs("button",{className:`nav-item ${n===_.id?"active":""}`,onClick:()=>r(_.id),children:[c.jsx("span",{className:"nav-icon",children:_.icon}),c.jsx("span",{className:"nav-title",children:_.title})]},_.id))}),c.jsx("div",{className:"legal-main",children:c.jsx(Si,{mode:"wait",children:c.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:f()},n)})})]})]})})};const ZI=()=>{const[e,t]=I.useState([]);return I.useEffect(()=>{const n=r=>{const i=Math.random()*1799.5+.5;setTimeout(()=>{const s={id:Date.now()+r,index:r,duration:Math.random()*2+1};t(o=>[...o,s]),setTimeout(()=>{t(o=>o.filter(a=>a.id!==s.id))},s.duration*1e3),n(r)},i*1e3)};for(let r=0;r<10;r++)setTimeout(()=>n(r),Math.random()*5e3);return()=>{t([])}},[]),c.jsx("section",{className:"shooting-stars-container",children:e.map(n=>c.jsx("span",{className:`shooting-star star-${n.index+1}`,style:{animationDuration:`${n.duration}s`}},n.id))})},ll=(e,t,n="")=>{const r={comptine:{animaux:["Les Amis de la Fort","La Danse des Animaux","Mes Amis les Animaux","Le Grand Bal des Animaux"],nature:["Les Fleurs Magiques","L'Aventure dans les Bois","Les Secrets du Jardin","La Fte de la Nature"],transport:["Le Train des Copains","L'Aventure en Voiture","Le Voyage Fantastique","En Route pour l'Aventure"],couleurs:["L'Arc-en-Ciel Magique","Le Monde des Couleurs","La Danse des Couleurs","Mon Joli Tableau"],famille:["Ma Famille d'Amour","Tous Ensemble","Les Clins de Famille","Mon Coeur de Famille"],default:["Ma Jolie Comptine","Chanson du Bonheur","Ma Petite Mlodie","Comptine Rigolote"]},histoire:{aventure:["La Grande Aventure","Voyage Extraordinaire","Mission Secrte","L'Aventure Fantastique"],animaux:["Les Amis de la Fort","L'Histoire des Petits Animaux","Mes Copains Animaux","La Famille Animaux"],magie:["Le Monde Magique","L'Aventure Enchante","Le Secret Magique","La Fe et ses Amis"],amiti:["Les Meilleurs Amis","Une Belle Amiti","Copains pour la Vie","L'Amiti Magique"],espace:["Voyage dans les toiles","L'Aventure Spatiale","Les Amis de l'Espace","Mission sur la Lune"],default:["Mon Belle Histoire","Conte Merveilleux","Histoire Fantastique","Rcit d'Aventure"]},coloriage:{animaux:["Mes Amis Animaux","Zoo Rigolo","Famille Animaux","Copains de la Fort"],licorne:["Licorne Magique","Princesse Licorne","Pays des Licornes","Licorne Arc-en-Ciel"],dinosaures:["Dino Rigolo","Mes Amis Dinosaures","Parc des Dinosaures","T-Rex et ses Copains"],nature:["Jardin Fleuri","Fort Enchante","Promenade Nature","Fleurs et Papillons"],espace:["Voyage Spatial","Plantes Rigolotes","Astronaute en Mission","toiles et Fuses"],vhicules:["Mes Voitures","Garage Rigolo","Course Automobile","Train et Avions"],default:["Mon Coloriage","Dessin Rigolo","Art Cratif","Belle Image"]},animation:{aventure:["Mon Dessin Anim","Animation Magique","Film d'Aventure","Cinma Fantastique"],animaux:["Mes Amis Anims","Zoo en Mouvement","Aventures Animales","Cirque des Animaux"],magie:["Monde Enchant","Magie en Mouvement","Film de Fe","Animation Magique"],espace:["Voyage Anim","Aventure Spatiale","Film de l'Espace","Mission Animation"],nature:["Fort Anime","Jardin en Mouvement","Nature Vivante","Fleurs Dansantes"],default:["Mon Film IA","Dessin Anim IA","Animation Crative","Film Personnalis"]}},i=r[e]||r.histoire,s=i[t]||i.default||i.aventure,o=Math.floor(Math.random()*s.length);return s[o]};function eR(e,t=600){const n=e.split(new RegExp("(?<=[.?!])\\s+")),r=[];let i="";for(const s of n)(i+s).length>t?(r.push(i.trim()),i=s+" "):i+=s+" ";return i.trim()&&r.push(i.trim()),r}function tR(){const[e,t]=I.useState("animation"),n=Be=>{t(Be==="audio"?"histoire":Be)},[r,i]=I.useState(null),[s,o]=I.useState(""),[a,l]=I.useState(!0),[u,h]=I.useState(""),[f,g]=I.useState(""),[m,b]=I.useState(null),[S,k]=I.useState(""),[y,x]=I.useState(null),[_,E]=I.useState(""),[D,q]=I.useState(!1),[M,R]=I.useState(null);I.useState(!1);const[Q,X]=I.useState(!1),[F,P]=I.useState(!1),[J,V]=I.useState(!1),[ae,ce]=I.useState(!1),[le,W]=I.useState(null),[re,Y]=I.useState(""),[me,N]=I.useState(null),[U,z]=I.useState(null),[G,Z]=I.useState(null),[se,he]=I.useState(null),[de,xe]=I.useState(null),[we,Te]=I.useState(null),[Pe,et]=I.useState(""),[ve,K]=I.useState(null),[Ye,Ge]=I.useState(null),[Ce,Fe]=I.useState(!1);I.useEffect(()=>{e==="comic"&&(xe(null),Te(null))},[e]);const[Oe,De]=I.useState(null),[He,st]=I.useState(30),[Ee,ze]=I.useState(null),[Qe,St]=I.useState(""),[at,gt]=I.useState(null),[Ie,Pn]=I.useState(null),[_t,br]=I.useState(null),[Tt,Bt]=I.useState(!1),[Br,jt]=I.useState(!1),[ms,Qt]=I.useState(null),[Sr,oi]=I.useState(!1);I.useState("user"),I.useState(!1);const[Zt,tt]=I.useState("Gnrer"),[Nt,Ji]=I.useState(!1),[En,Ur]=I.useState(!1),[ai,nt]=I.useState("mentions"),_r=Be=>new Promise(je=>setTimeout(je,Be)),li=async(Be,{intervalMs:je=5e3,maxAttempts:Xe=240}={})=>{let vt=0;for(;vt<Xe;){try{const $e=await gr(`${An}/status/${Be}`);if($e.ok){const Je=await $e.json();if((Je==null?void 0:Je.type)==="result"){const Ne=Je.data;if((Ne==null?void 0:Ne.status)==="completed"&&Ne!=null&&Ne.clips&&Ne.clips.length>0)return Ne;if((Ne==null?void 0:Ne.status)==="failed")throw new Error((Ne==null?void 0:Ne.error_message)||"Gnration choue")}}}catch{}vt+=1,await _r(je)}throw new Error("Timeout de gnration de l'animation")},Yn=async(Be,{intervalMs:je=5e3,maxAttempts:Xe=180}={})=>{let vt=0;for(;vt<Xe;){try{const $e=await gr(`${An}/status_comic/${Be}`);if($e.ok){const Je=await $e.json();if((Je==null?void 0:Je.type)==="result"){const Ne=Je.data;if(((Ne==null?void 0:Ne.status)==="completed"||(Ne==null?void 0:Ne.status)==="success")&&Ne!=null&&Ne.pages&&Ne.pages.length>0)return Ne;if((Ne==null?void 0:Ne.status)==="failed")throw new Error((Ne==null?void 0:Ne.error)||"Gnration choue")}}}catch{}vt+=1,await _r(je)}throw new Error("Timeout de gnration de la BD")},mn=async Be=>{try{const je=new FormData;je.append("file",Be);const Xe=await gr(`${An}/upload_character_photo/`,{method:"POST",body:je});if(!Xe.ok)throw new Error(`Erreur upload : ${Xe.status}`);const vt=await Xe.json();return K(vt),vt}catch(je){throw je}},[ln,$n]=I.useState(null),{user:yt,loading:Ai}=jv(),[zr,qn]=I.useState(!1),[Xn,$r]=I.useState(!1);I.useMemo(()=>(e==="histoire"||e==="audio")&&(M!=null&&M.content)?eR(M.content):[],[M,e]);const[qr,ci]=I.useState(0);I.useEffect(()=>{window.location.hash==="#historique"&&qn(!0);const Be=()=>{qn(window.location.hash==="#historique")};return window.addEventListener("hashchange",Be),()=>{window.removeEventListener("hashchange",Be)}},[]),I.useEffect(()=>{(async()=>{if(yt){const je=await C4(yt.id,yt.email);$r(je),Yi(je)}else $r(!1),Yi(!1)})()},[yt,e]),I.useEffect(()=>{i(null),o(""),l(!0),h(""),g(""),b(null),k(""),x(null),W(null),Y(""),N(null),Z(null),he(null),xe(null),Te(null),et(""),K(null),Ge(null),De(null),st(30),ze(null),St(""),Pn(null),R(null),z(null),br(null),$n(null)},[e]);const gs=async Be=>{ce(!1),setTimeout(()=>{ce(!0),q(!1)},5e4)};I.useEffect(()=>{e==="animation"&&!Oe&&De(null)},[e,Oe]);const vs=Oe||"space",Yi=async Be=>{if(Be)tt("Gnrer Gratuitement");else{if(yt)try{const $e={};e==="animation"?$e.selectedDuration=He:e==="comic"||e==="bd"?$e.numPages=we||1:(e==="histoire"||e==="story"||e==="audio")&&($e.selectedVoice=y);const{data:Je}=await mt.functions.invoke("check-permission",{body:{contentType:e,userId:yt.id,userEmail:yt.email,...$e}});if(Je!=null&&Je.hasPermission&&(Je==null?void 0:Je.reason)==="subscription_active"){tt(e==="rhyme"||e==="comptine"?"Crer ma comptine":e==="coloring"||e==="coloriage"?"Crer mon coloriage":e==="comic"||e==="bd"?"Crer ma bande dessine":e==="animation"?"Crer mon dessin anim":e==="histoire"||e==="story"||e==="audio"?"Crer mon histoire":"Crer mon contenu");return}}catch($e){console.error("Erreur vrification abonnement pour bouton:",$e)}let je={};e==="animation"?je.duration=He:e==="comic"||e==="bd"?je.pages=we||1:(e==="histoire"||e==="story"||e==="audio")&&(je.voice=y);const vt=cd(e==="audio"?"histoire":e,je);tt(`Acheter pour ${vt.display}`)}};I.useEffect(()=>{Yi(Xn)},[y,He,we,e,Xn,yt]);const Ks=async()=>{if(!yt){alert("Vous devez tre connect pour gnrer du contenu");return}if(Xn){Xi();return}try{const Be={};e==="animation"?Be.selectedDuration=He:e==="comic"||e==="bd"?Be.numPages=we||1:(e==="histoire"||e==="story"||e==="audio")&&(Be.selectedVoice=y);const{data:je,error:Xe}=await mt.functions.invoke("check-permission",{body:{contentType:e,userId:yt.id,userEmail:yt.email,...Be}});if(Xe){console.error("Erreur vrification permission:",Xe),alert("Erreur lors de la vrification des permissions. Veuillez ressayer.");return}if(je.hasPermission)Xi();else{Qt(e),jt(!0);return}}catch(Be){console.error("Erreur lors de l'appel  check-permission:",Be),alert("Erreur de vrification des permissions. Veuillez ressayer.");return}},Xi=async()=>{var Be;if(q(!0),R(null),!Ai)try{let je=null;if(e==="rhyme"){const $e={theme:r==="custom"?s:r,custom_request:_,language:"fr"},Je=await gr(`${An}/generate_rhyme/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($e)});if(!Je.ok)throw new Error(`Erreur HTTP : ${Je.status}`);je=await Je.json()}else if(e==="histoire"||e==="audio"){const $e={story_type:m==="custom"?S:m,voice:y,custom_request:_,user_id:yt==null?void 0:yt.id},Je=await gr(`${An}/generate_audio_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($e)});if(!Je.ok)throw new Error(`Erreur HTTP : ${Je.status}`);je=await Je.json()}else if(e==="histoire"){let $e;if(Ie&&Ie!=="custom"?$e={space:"Une aventure spatiale extraordinaire o un enfant explore les plantes lointaines et rencontre des aliens amicaux.",ocean:"Une exploration sous-marine magique avec des cratures marines colores et des trsors cachs au fond de l'ocan.",dinosaur:"Un voyage dans le temps  l'poque des dinosaures o un enfant devient ami avec un dinosaure gentil et dcouvre un monde prhistorique.",fairy:"Un conte de fes enchanteur avec des fes bienveillantes, des chteaux magiques et des aventures pleines de poussire de fe.",superhero:"Une histoire de super-hros o un enfant dcouvre ses pouvoirs extraordinaires et sauve la ville avec courage et bont.",jungle:"Une aventure dans la jungle tropicale remplie d'animaux exotiques, de plantes mystrieuses et de dcouvertes passionnantes."}[Ie]||`Une belle histoire sur le thme ${Ie}`:$e=Qe,!$e||$e.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractres");const Je={story_type:Ie==="custom"?"custom":Ie,content:$e,custom_request:_},Ne=await gr(`${An}/generate_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Je)});if(!Ne.ok)throw new Error(`Erreur HTTP : ${Ne.status}`);je=await Ne.json()}else if(e==="coloring")if(me){const $e=new FormData;$e.append("file",me);const Je=await gr(`${An}/upload_photo_for_coloring/`,{method:"POST",body:$e});if(!Je.ok)throw new Error(`Erreur upload : ${Je.status}`);const Pt={photo_path:(await Je.json()).file_path,with_colored_model:G},cn=await gr(`${An}/convert_photo_to_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Pt)});if(!cn.ok)throw new Error(`Erreur conversion : ${cn.status}`);const _n=await cn.json();z(_n),je=_n}else{const $e={theme:le,with_colored_model:G,user_id:yt==null?void 0:yt.id};le==="custom"&&re.trim()&&($e.custom_prompt=re.trim());const Je=await gr(`${An}/generate_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($e)});if(!Je.ok)throw new Error(`Erreur HTTP : ${Je.status}`);const Ne=await Je.json();z(Ne),je=Ne}else if(e==="comic"){const $e={theme:se==="custom"?Pe:se,art_style:de||"cartoon",num_pages:we||1,user_id:yt==null?void 0:yt.id};se==="custom"&&Pe.trim()&&($e.custom_prompt=Pe.trim()),ve&&ve.file_path&&($e.character_photo_path=ve.file_path);const Je=await gr(`${An}/generate_comic/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($e)});if(!Je.ok)throw new Error(`Erreur HTTP : ${Je.status}`);const Ne=await Je.json();let Pt=Ne;const cn=Ne==null?void 0:Ne.task_id,_n=(Ne==null?void 0:Ne.status)==="success"&&(Ne==null?void 0:Ne.pages)&&Ne.pages.length>0;cn&&!_n&&(Pt=await Yn(cn)),Pt!=null&&Pt.pages&&Pt.pages.length>0&&(Ge(Pt),je=Pt)}else if(e==="animation"){let $e;const Je=Oe||"space";if(Je&&Je!=="custom"?$e={magie:"Une histoire magique avec des cratures fantastiques dans un monde enchant",aventure:"Une grande aventure pleine de dcouvertes et de rebondissements",animaux:"Une histoire mettant en scne des animaux adorables et leurs aventures",espace:"Un voyage extraordinaire  travers les toiles et les plantes",nature:"Une exploration merveilleuse de la nature et de ses secrets",amiti:"Une belle histoire d'amiti et de solidarit",famille:"Une histoire touchante sur les liens familiaux"}[Je]||`Une belle histoire sur le thme ${Je}`:$e=Qe,!$e||$e.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractres");const Pt={magie:"magic",aventure:"adventure",animaux:"animals",espace:"space",nature:"nature",amiti:"friendship",famille:"friendship"}[Je]||Je||"adventure",cn=He||30,_n=`${An}/generate-quick?theme=${encodeURIComponent(Pt)}&duration=${cn}&style=${Ee||"cartoon"}&custom_prompt=${encodeURIComponent($e||"")}`,Wr=await gr(_n,{method:"GET",headers:{Accept:"application/json"}});if(!Wr.ok){const Ci=await Wr.text();throw new Error(`Erreur HTTP ${Wr.status}: ${Ci}`)}const Lt=await Wr.json();let Ln=Lt;const Gt=Lt==null?void 0:Lt.task_id,jr=(Lt==null?void 0:Lt.status)==="completed"&&((Lt==null?void 0:Lt.final_video_url)||(((Be=Lt==null?void 0:Lt.clips)==null?void 0:Be.length)||0)>0);Gt&&!jr&&(Ln=await li(Gt)),(Ln==null?void 0:Ln.status)==="completed"&&(Ln!=null&&Ln.clips)&&Ln.clips.length>0&&(br(Ln),Bt(!0),je=Ln)}if(R(je),ci(0),e==="rhyme"&&je.task_id){uc(je.task_id);return}let Xe;e==="rhyme"?je.title&&!je.title.includes("gnre")?Xe=je.title+(je.has_music?" ":""):Xe=ll("comptine",r==="custom"?"default":r)+(je.has_music?" ":""):e==="histoire"||e==="audio"?je.title&&!je.title.includes("gnre")?Xe=je.title:Xe=ll("histoire",m==="custom"?"default":m):e==="coloring"?Xe=(je==null?void 0:je.title)||ll("coloriage",le):e==="comic"?Xe=(Ye==null?void 0:Ye.title)||"Ma Bande Dessine ":e==="animation"?Xe=(je==null?void 0:je.title)||ll("animation",vs||"aventure"):e==="histoire"&&(Xe=(je==null?void 0:je.title)||ll("histoire",Ie==="custom"?"default":Ie)),$n(Xe);let vt;e==="coloring"?vt={id:Date.now().toString(),type:e,title:Xe,createdAt:new Date().toISOString(),content:je?`${je.total_images} coloriage(s) gnr(s)`:"Coloriage gnr",theme:le,images:(je==null?void 0:je.images)||[],metadata:(je==null?void 0:je.metadata)||{}}:e==="comic"?vt={id:Date.now().toString(),type:e,title:Xe,createdAt:new Date().toISOString(),content:Ye?`BD de ${Ye.total_pages} planche(s) - ${Ye.total_pages*4} cases`:"Bande dessine gnre",theme:se,pages:(Ye==null?void 0:Ye.pages)||[],comic_data:Ye||{}}:e==="animation"?vt={id:Date.now().toString(),type:e,title:Xe,createdAt:new Date().toISOString(),content:je?`Animation de ${je.actual_duration}s avec ${je.total_scenes} scnes`:"Animation gnre",theme:vs,clips:(je==null?void 0:je.clips)||[],animation_data:je||{}}:e==="histoire"?vt={id:Date.now().toString(),type:e,title:Xe,createdAt:new Date().toISOString(),content:(je==null?void 0:je.content)||je||"Histoire gnre...",story_type:Ie==="custom"?"custom":Ie}:vt={id:Date.now().toString(),type:e,title:Xe,createdAt:new Date().toISOString(),content:(je==null?void 0:je.content)||je||"Contenu gnr...",audio_path:(je==null?void 0:je.audio_path)||null};try{await ww({type:e,title:Xe,data:vt})}catch{}if(!Xn&&!Sr&&je)try{const{calculateTokenCost:$e,deductTokens:Je}=await hs(()=>Promise.resolve().then(()=>uI),void 0);let Ne={};e==="animation"?Ne.duration=He:(e==="comic"||e==="bd")&&(Ne.pages=we||1),(e==="audio"||e==="histoire"&&y)&&(Ne.voice=y);const Pt=e==="audio"?"histoire":e,cn=$e(Pt,Ne);if(!cn||cn<=0||typeof cn!="number")return;const _n=await Je(yt.id,Pt,cn,{...Ne,transactionId:`gen_${Date.now()}_${Pt}`})}catch{}Sr&&oi(!1),q(!1)}catch(je){alert(` Erreur lors de la gnration : ${je.message}

 Conseil : Vrifiez que les cls API sont configures dans le fichier .env du serveur.`),q(!1)}},Ea=Be=>{var je,Xe,vt,$e,Je;Be.action==="showStory"?(R({title:Be.title,content:Be.content||((je=Be.data)==null?void 0:je.content)||"",type:Be.type}),X(!0)):Be.action==="showColoring"?(z({success:!0,theme:Be.theme||((Xe=Be.data)==null?void 0:Xe.theme)||"coloriage",images:Be.images||((vt=Be.data)==null?void 0:vt.images)||[],total_images:(Be.images||(($e=Be.data)==null?void 0:$e.images)||[]).length,metadata:Be.metadata||((Je=Be.data)==null?void 0:Je.metadata)||{}}),P(!0)):(qn(!1),window.location.hash="")},La=()=>{qn(!1),window.location.hash=""},cc=()=>{if(e==="rhyme"){if(!r||r==="custom"&&!s.trim())return!1}else if(e==="histoire"||e==="audio"){if(!m||m==="custom"&&!S.trim())return!1}else if(e==="coloring"){if(!le&&!me||le==="custom"&&!re.trim()||G===null)return!1}else if(e==="comic"){if(!se||!de||!we||se==="custom"&&!Pe.trim())return!1}else if(e==="animation"){if(!Oe&&!Qe.trim()||Oe==="custom"&&!Qe.trim()||Oe==="custom"&&Qe.trim().length<10)return!1}else if(e==="histoire"&&(!Ie||Ie==="custom"&&!Qe.trim()||Ie==="custom"&&Qe.trim().length<10))return!1;return!0},Vr={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.25,ease:"easeInOut"}},exit:{opacity:0,transition:{duration:.2,ease:"easeInOut"}}},Ta=async(Be,je)=>{if(!(!je||typeof je!="string"))try{const Xe=new it({orientation:"p",unit:"mm",format:"a4"}),vt=50,$e=210,Je=297,Ne=6,Pt=Math.floor((Je-vt-30)/Ne),cn=Gt=>new Promise((jr,Ci)=>{const ys=new Image;ys.crossOrigin="anonymous",ys.onload=()=>jr(ys),ys.onerror=()=>Ci(new Error("Impossible de charger l'image de fond")),ys.src=Gt});let _n=null;try{_n=await cn("/assets/fond.png?v=1")}catch{}let Hr=Be;je.startsWith("**")&&je.includes("**",2)&&(Hr=je.split("**")[1].trim(),je=je.replace(`**${Hr}**`,"").trim());const Wr=Xe.splitTextToSize(je,150);let Lt=0;for(let Gt=0;Lt<Wr.length;Gt++){if(Gt>0&&Xe.addPage(),_n)try{Xe.addImage(_n,"PNG",0,0,$e,Je,void 0,"FAST")}catch{}Gt===0&&(Xe.setFont("courier","bold"),Xe.setFontSize(18),Xe.setTextColor(110,50,230),Xe.text(Hr,$e/2,vt-20,{align:"center"})),Xe.setFont("courier","bold"),Xe.setFontSize(10),Xe.setTextColor(25,25,112);for(let jr=0;jr<Pt&&Lt<Wr.length;jr++,Lt++){const Ci=vt+jr*Ne;Xe.text(Wr[Lt],$e/2,Ci,{align:"center"})}Xe.setFontSize(8),Xe.setTextColor(106,90,205),Xe.text(`Page ${Gt+1}`,$e-15,Je-10,{align:"right"})}const Ln=Hr.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");Xe.save(`${Ln}.pdf`)}catch{alert("Erreur lors de la gnration du PDF. Veuillez ressayer.")}},uc=async(Be,je=40,Xe=5e3)=>{let vt=0;const $e=async()=>{try{const Ne=await(await gr(`${An}/check_task_status/${Be}`)).json();if(Ne.status==="completed")return R(Pt=>{const cn={...Pt,audio_path:Ne.audio_path,suno_url:Ne.suno_url,title:Ne.title||Pt.title,has_music:!0,service:"suno"},_n=Ne.title||Pt.title||ll("comptine",r==="custom"?"default":r)+" ";$n(_n);const Hr={id:Date.now().toString(),type:"rhyme",title:_n,createdAt:new Date().toISOString(),content:Pt.content||Pt.rhyme||"Comptine gnre",audio_path:Ne.audio_path,suno_url:Ne.suno_url};return ww({type:"rhyme",title:_n,data:Hr}).catch(Wr=>{}),cn}),Ne.suno_url?(gs(Ne.suno_url),!0):(q(!1),!0);if(Ne.status==="failed")return R(Pt=>({...Pt,music_error:Ne.error,has_music:!1})),q(!1),!0;if(Ne.status!=="processing"){if(vt>=je-1)return q(!1),alert(" La gnration de musique prend plus de temps que prvu. Veuillez vrifier votre historique dans quelques minutes."),!0}return vt++,setTimeout($e,Xe),!1}catch{return vt++,vt<je&&setTimeout($e,Xe),!1}};await $e()};return c.jsxs("div",{className:"app-container",children:[c.jsx(j7,{isLoggedIn:!!yt,onOpenHistory:()=>qn(!0),userId:yt==null?void 0:yt.id,onOpenSubscription:()=>Ji(!0)}),c.jsx(ZI,{}),c.jsx("main",{className:"main-content",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs(Re.div,{className:"creation-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["          ",c.jsx(I7,{contentType:e,setContentType:n}),"          ",c.jsx(Si,{mode:"wait",children:e==="rhyme"?c.jsx(Re.div,{variants:Vr,initial:"hidden",animate:"visible",exit:"exit",style:{width:"100%"},children:c.jsx(F7,{selectedRhyme:r,setSelectedRhyme:i,customRhyme:s,setCustomRhyme:o})},"rhyme-selector"):e==="histoire"||e==="audio"?c.jsx(Re.div,{variants:Vr,initial:"hidden",animate:"visible",exit:"exit",children:c.jsx(M7,{selectedAudioStory:m,setSelectedAudioStory:b,customAudioStory:S,setCustomAudioStory:k,selectedVoice:y,setSelectedVoice:x})},"audio-story-selector"):e==="coloring"?c.jsxs(Re.div,{variants:Vr,initial:"hidden",animate:"visible",exit:"exit",children:["                ",c.jsx(Q7,{selectedTheme:le,setSelectedTheme:W,customColoringTheme:re,setCustomColoringTheme:Y,uploadedPhoto:me,setUploadedPhoto:N,withColoredModel:G,setWithColoredModel:Z})]},"coloring-selector"):e==="comic"?c.jsx(Re.div,{variants:Vr,initial:"hidden",animate:"visible",exit:"exit",children:c.jsx(eI,{selectedTheme:se,setSelectedTheme:he,selectedStyle:de,setSelectedStyle:xe,numPages:we,setNumPages:Te,customStory:Pe,setCustomStory:et,characterPhoto:ve,setCharacterPhoto:K,onCharacterPhotoUpload:mn})},"comics-selector"):e==="animation"?c.jsx(Re.div,{variants:Vr,initial:"hidden",animate:"visible",exit:"exit",children:c.jsx(z7,{selectedTheme:Oe,setSelectedTheme:De,selectedDuration:He,setSelectedDuration:st,selectedStyle:Ee,setSelectedStyle:ze,customStory:Qe,setCustomStory:St,characterImage:at,setCharacterImage:gt})},"animation-selector"):e==="histoire"?c.jsx(Re.div,{variants:Vr,initial:"hidden",animate:"visible",exit:"exit",children:c.jsx(U7,{selectedStory:Ie,setSelectedStory:Pn,customStory:Qe,setCustomStory:St})},"story-selector"):null}),"          ",c.jsx(q7,{customRequest:_,setCustomRequest:E,stepNumber:e==="coloring"?4:3}),c.jsx(V7,{onGenerate:Ks,isGenerating:D,isDisabled:!cc(),contentType:e,buttonText:Zt})]}),c.jsx("div",{className:"preview-column",children:c.jsx(Re.div,{className:"preview-panel",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:c.jsx("div",{className:"preview-container",children:c.jsx("div",{className:`preview ${M?"":"empty"}`,children:c.jsx(Si,{mode:"wait",children:D?c.jsxs(Re.div,{className:"generating-animation",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[c.jsxs("div",{className:"loading-dots",children:[c.jsx("div",{className:"dot"}),c.jsx("div",{className:"dot"}),c.jsx("div",{className:"dot"})]}),"      ",c.jsxs("p",{children:["        ",e==="rhyme"?"Votre comptine est en cours de cration...":e==="histoire"||e==="audio"?"Cration de l'histoire en cours...":e==="histoire"?"Cration de votre histoire en cours...":e==="coloring"?"Votre coloriage est en cours de cration...":e==="comic"?"Cration de votre bande dessine en cours...":e==="animation"?"Cration de votre dessin anim en cours...":"Gnration en cours..."]})]},"generating"):U&&e==="coloring"?c.jsxs(Re.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[c.jsx("button",{onClick:()=>P(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Ouvrir le coloriage"}),c.jsx("button",{onClick:()=>V(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Colorier maintenant"}),c.jsx("button",{onClick:()=>{if(U!=null&&U.images){const Be=`coloriages_${U.theme||le||"generes"}`;Nv(U.images,Be)}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger le coloriage"})]},"coloring-result"):Ye&&e==="comic"?c.jsxs(Re.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem",padding:"1rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem"},children:[c.jsx("h3",{style:{color:"var(--primary)",marginBottom:"0.5rem"},children:Ye.title||"Votre Bande Dessine"}),c.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[Ye.total_pages," ",Ye.total_pages===1?"planche":"planches","  ",Ye.total_pages*4," cases"]})]}),c.jsx("button",{onClick:()=>Fe(!0),style:{padding:"0.8rem 2rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"700",fontSize:"1rem",boxShadow:"0 4px 12px rgba(245, 240, 255, 0.3)",transition:"all 0.2s ease"},onMouseOver:Be=>Be.target.style.transform="translateY(-2px)",onMouseOut:Be=>Be.target.style.transform="translateY(0)",children:" Lire la bande dessine"})]},"comics-result"):M&&e==="rhyme"&&M.suno_url&&ae?c.jsx(Re.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsxs("div",{style:{height:"300px",maxWidth:"500px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"0.8rem",padding:"0.5rem",overflowY:"auto"},children:[M.suno_url&&ae&&c.jsx(c.Fragment,{children:c.jsxs("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",maxWidth:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",overflow:"hidden"},children:[c.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",padding:"9px 50px 0px"},children:c.jsx("h4",{style:{margin:0,fontSize:"15px",color:"#333",fontWeight:"600"},children:"Votre comptine est prte !"})}),c.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",outline:"none"},src:M.suno_url,children:"Votre navigateur ne supporte pas l'lment audio."})]})}),M.suno_url&&ae&&c.jsx(c.Fragment,{children:c.jsx("button",{onClick:async()=>{if(M.suno_url&&ae)try{const Be=await fetch(M.suno_url);if(!Be.ok)throw new Error(`Erreur HTTP: ${Be.status}`);const je=await Be.blob();if(je.size===0)throw new Error("Fichier audio indisponible");const Xe=window.URL.createObjectURL(je),vt=(ln||M.title||"comptine").replace(/[^a-z0-9]/gi,"_").toLowerCase(),$e=document.createElement("a");$e.href=Xe,$e.download=`${vt}.mp3`,$e.style.display="none",document.body.appendChild($e),$e.click(),document.body.removeChild($e),setTimeout(()=>window.URL.revokeObjectURL(Xe),100)}catch(Be){alert(`Erreur lors du tlchargement: ${Be.message}`)}},disabled:!ae,style:{padding:"0.8rem 2rem",backgroundColor:ae?"#6B4EFF":"#ccc",color:ae?"#fff":"#666",border:"none",borderRadius:"10px",cursor:ae?"pointer":"not-allowed",fontWeight:"600",fontSize:"14px",marginTop:"0.8rem",boxShadow:ae?"0 4px 12px rgba(245, 240, 255, 0.3)":"none",transition:"all 0.3s ease"},onMouseOver:Be=>ae&&(Be.target.style.transform="translateY(-2px)"),onMouseOut:Be=>ae&&(Be.target.style.transform="translateY(0)"),children:ae?" Tlcharger":" Prparation du tlchargement..."})})]})},"rhyme-result"):M&&(e==="histoire"||e==="audio")?c.jsx(Re.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsxs("div",{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem",padding:"1rem",overflowY:"auto"},children:[M.audio_path&&c.jsx("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",padding:"22px",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:c.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",height:"40px",outline:"none"},src:`${An}/audio/${M.audio_path.split("/").pop()}`,children:"Votre navigateur ne supporte pas l'lment audio."})}),c.jsxs("div",{style:{display:"flex",gap:"1rem",width:"100%",justifyContent:"center",flexWrap:"wrap"},children:[c.jsx("button",{onClick:()=>X(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Ouvrir l'histoire"}),c.jsx("button",{onClick:()=>Ta(M.title,M.content),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger l'histoire"}),M.audio_path&&c.jsx("button",{onClick:async()=>{try{const Be=M.audio_path.split("/").pop(),je=`${An}/audio/${Be}?download=true`,Xe=(M.title||"Histoire").replace(/[^a-z0-9]/gi,"_").toLowerCase(),vt=await fetch(je);if(!vt.ok)throw new Error(`Erreur HTTP: ${vt.status}`);const $e=await vt.blob(),Je=window.URL.createObjectURL($e),Ne=document.createElement("a");Ne.href=Je,Ne.download=`${Xe}.mp3`,document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),setTimeout(()=>{window.URL.revokeObjectURL(Je)},100)}catch{try{const je=M.audio_path.split("/").pop(),Xe=`${An}/audio/${je}?download=true`;window.open(Xe,"_blank")}catch{alert("Erreur lors du tlchargement. Veuillez ressayer.")}}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger l'audio"})]})]})},"audio-story-result"):c.jsxs(Re.div,{className:"preview-placeholder",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:["  ",!(M!=null&&M.content)&&!U&&c.jsxs("div",{className:"empty-preview",children:["    ",c.jsx("p",{children:e==="rhyme"?"Votre comptine apparatra ici":e==="histoire"||e==="audio"||e==="histoire"?"Votre histoire apparatra ici":e==="coloring"?"Votre coloriage apparatra ici":e==="comic"?"Votre bande dessine apparatra ici":e==="animation"?"Votre dessin anim apparatra ici":"Votre contenu apparatra ici"})]})]},"placeholder")})})})})})]})}),c.jsx(Si,{children:zr&&c.jsx(Re.div,{className:"history-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:La,children:c.jsx(Y7,{onClose:La,onSelect:Ea})})}),Q&&c.jsx(X7,{title:M.title,content:M.content,onClose:()=>X(!1)}),"    ",F&&c.jsx(Z7,{coloringResult:U,selectedTheme:le,onClose:()=>P(!1)}),J&&c.jsx(A4,{imageUrl:(()=>{var je;const Be=(je=U==null?void 0:U.images)==null?void 0:je[0];return Be?Be.image_url||Be:void 0})(),theme:(U==null?void 0:U.theme)||le,onClose:()=>V(!1)}),Ce&&c.jsx(tI,{comic:Ye,onClose:()=>Fe(!1),baseUrl:An}),Tt&&c.jsx($7,{animationResult:_t,onClose:()=>Bt(!1)}),Br&&c.jsx(HI,{isOpen:Br,contentType:ms,options:{duration:He,pages:we,voice:y},onSuccess:Be=>{jt(!1),oi(!0),setTimeout(()=>{Xi()},500)},onClose:()=>{jt(!1)}}),Nt&&c.jsx(YI,{isOpen:Nt,onClose:()=>Ji(!1),userId:yt==null?void 0:yt.id,userEmail:yt==null?void 0:yt.email}),c.jsx(XI,{onLegalClick:Be=>{Ur(!0),nt(Be)}}),c.jsx(Si,{children:En&&c.jsx(QI,{onClose:()=>Ur(!1),initialSection:ai})})]})}const Aw=["fredagathe77@gmail.com","admin@herbbie.com"],Zc="herbbie_admin_session",ra={initAuthListener(e){const t=()=>{const r=this.getStoredSession();r&&r.user?e({user:r.user,isAdmin:r.isAdmin,session:r}):e(null)};t();const n=r=>{r.key===Zc&&t()};return window.addEventListener("storage",n),{unsubscribe:()=>{window.removeEventListener("storage",n)}}},async signIn(e,t){try{if(!Aw.includes(e))throw new Error("Accs refus. Seuls les administrateurs peuvent accder  ce panneau.");const n={id:"admin-"+Date.now(),email:e,user_metadata:{full_name:e==="fredagathe77@gmail.com"?"Admin Principal":"Administrateur"}},r={user:n,access_token:"admin-token-"+Date.now(),token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:n,isAdmin:!0,session:r}),{user:n,session:r,isAdmin:!0}}catch(n){throw console.error("Erreur de connexion:",n),n}},async signOut(){try{localStorage.removeItem(Zc)}catch(e){throw console.error("Erreur de dconnexion:",e),e}},async getCurrentUser(){try{const e=this.getStoredSession();return e&&e.user?{user:e.user,isAdmin:e.isAdmin}:null}catch(e){return console.error("Erreur lors de la rcupration de l'utilisateur:",e),null}},async checkUserIsAdmin(e){try{return!e||!e.email?!1:Aw.includes(e.email)}catch(t){return console.error("Erreur lors de la vrification du rle admin:",t),!1}},async authenticateWithToken(e){try{if(!e||!e.includes("admin"))return console.warn("Token invalide"),!1;const t={id:"admin-auto-"+Date.now(),email:"admin@herbbie.com",user_metadata:{full_name:"Administrateur Auto"}},n={user:t,access_token:e,token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:t,isAdmin:!0,session:n}),{user:t,isAdmin:!0,session:n}}catch(t){return console.error("Erreur authentification automatique:",t),!1}},async getCurrentSession(){try{return this.getStoredSession()}catch(e){return console.error("Erreur lors de la rcupration de la session:",e),null}},storeSession(e){try{localStorage.setItem(Zc,JSON.stringify(e))}catch(t){console.error("Erreur lors du stockage de la session:",t)}},getStoredSession(){try{const e=localStorage.getItem(Zc);if(e){const t=JSON.parse(e);if(t.session&&t.session.expires_at>Date.now())return t;localStorage.removeItem(Zc)}}catch(e){console.error("Erreur lors de la rcupration de la session:",e)}return null}},Q4=I.createContext(),Z4=()=>{const e=I.useContext(Q4);if(!e)throw new Error("useAuth doit tre utilis dans un AuthProvider");return e},nR=({children:e})=>{const[t,n]=I.useState(null),[r,i]=I.useState(!1),[s,o]=I.useState(!0),[a,l]=I.useState(null);I.useEffect(()=>{let g;return(async()=>{try{const b=await ra.getCurrentSession();if(b!=null&&b.user){const S=await ra.checkUserIsAdmin(b.user);n(b.user),i(S),l(b)}}catch(b){console.error("Erreur lors de l'initialisation de l'authentification:",b)}finally{o(!1)}g=ra.initAuthListener(async b=>{b?(n(b.user),i(b.isAdmin),l(b.session)):(n(null),i(!1),l(null)),o(!1)})})(),()=>{g&&g.unsubscribe()}},[]);const f={user:t,isAdmin:r,loading:s,session:a,signIn:async(g,m)=>{o(!0);try{const b=await ra.signIn(g,m);return b&&(n(b.user),i(b.isAdmin),l(b.session)),b}catch(b){throw b}finally{o(!1)}},signOut:async()=>{o(!0);try{await ra.signOut(),n(null),i(!1),l(null)}catch(g){throw console.error("Erreur lors de la dconnexion:",g),g}finally{o(!1)}},authenticateWithToken:ra.authenticateWithToken.bind(ra),isAuthenticated:!!t&&r};return c.jsx(Q4.Provider,{value:f,children:e})};const rR=()=>{const[e,t]=I.useState(""),[n,r]=I.useState(""),[i,s]=I.useState(""),[o,a]=I.useState(!1),[l,u]=I.useState(!1),{signIn:h}=Z4(),f=async g=>{g.preventDefault(),s(""),a(!0);try{await h(e,n),Gh(e.trim())}catch(m){s(m.message||"Erreur de connexion")}finally{a(!1)}};return c.jsx("div",{className:"login-container",children:c.jsxs(Re.div,{className:"login-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"login-header",children:[c.jsx("div",{className:"login-logo",children:c.jsxs("div",{className:"login-logo-text",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("span",{children:"Administration"})]})}),c.jsx("h2",{children:"Connexion Administrateur"}),c.jsx("p",{children:"Accs rserv aux administrateurs HERBBIE"})]}),c.jsxs("form",{className:"login-form",onSubmit:f,children:[i&&c.jsxs(Re.div,{className:"login-error",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:[c.jsx("span",{children:""})," ",i]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"email",children:"Email administrateur"}),c.jsx(Ll,{value:e,onChange:g=>t(g.target.value),placeholder:"admin@herbbie.com",required:!0,disabled:o,user:null,onEmailSubmit:()=>{}})]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"password",children:"Mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:l?"text":"password",id:"password",value:n,onChange:g=>r(g.target.value),placeholder:"",required:!0,disabled:o,autoComplete:"current-password",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>u(!l),disabled:o,"aria-label":l?"Masquer le mot de passe":"Afficher le mot de passe",children:l?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),c.jsx("button",{type:"submit",className:"login-button",disabled:o||!e||!n,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"login-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),c.jsx("div",{className:"login-footer",children:c.jsx("p",{children:" Accs scuris - Seuls les administrateurs peuvent se connecter"})})]})})},Pv="/api/features",iR=async()=>{try{const e=await gr(Pv,{method:"GET",headers:{"Content-Type":"application/json"},skipAuth:!1});if(e.ok)return await e.json();throw console.error("Erreur lors de la rcupration des fonctionnalits:",e.statusText),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors de la rcupration des fonctionnalits:",e),e}},sR=async(e,t)=>{try{const n=await Av({"Content-Type":"application/json"}),r=await gr(`${Pv}/${e}`,{method:"PUT",headers:n,body:JSON.stringify({enabled:t})});if(r.ok)return(await r.json()).features;{const i=await r.text();throw console.error("Erreur lors de la mise  jour:",r.status,i),new Error(`Erreur API: ${r.status} - ${i}`)}}catch(n){throw console.error("Erreur lors de la mise  jour de la fonctionnalit:",n),n}},oR=async()=>{try{const e=await Av({"Content-Type":"application/json"}),t=await gr(`${Pv}/reset`,{method:"POST",headers:e});if(t.ok)return(await t.json()).features;{const n=await t.text();throw console.error("Erreur lors de la rinitialisation:",t.status,n),new Error(`Erreur API: ${t.status} - ${n}`)}}catch(e){throw console.error("Erreur lors de la rinitialisation:",e),e}},aR=async()=>{try{return await iR()}catch(e){throw e}},lR=async(e,t)=>{try{const n=await sR(e,t);return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:n})),n}catch(n){throw n}},cR=async()=>{try{const e=await oR();return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:e})),e}catch(e){throw console.error("Erreur lors de la rinitialisation des fonctionnalits:",e),e}};const uR=()=>{const[e,t]=I.useState({}),[n,r]=I.useState(!0),[i,s]=I.useState(null);I.useEffect(()=>{o()},[]);const o=async()=>{try{r(!0);const g=await aR();t(g)}catch(g){console.error("Erreur lors du chargement des fonctionnalits:",g),u("Erreur lors du chargement des fonctionnalits","error")}finally{r(!1)}},a=async g=>{var m,b;try{const S=((m=e[g])==null?void 0:m.enabled)||!1,k=await lR(g,!S);if(k){t(k),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:k}));const y=S?"dsactive":"active";u(`Fonctionnalit ${(b=e[g])==null?void 0:b.name} ${y}`,"success")}else u("Erreur lors de la mise  jour","error")}catch(S){console.error("Erreur lors de la mise  jour:",S),u("Erreur lors de la mise  jour","error")}},l=async()=>{try{const g=await cR();g?(t(g),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:g})),u("Toutes les fonctionnalits ont t rinitialises","success")):u("Erreur lors de la rinitialisation","error")}catch(g){console.error("Erreur lors de la rinitialisation:",g),u("Erreur lors de la rinitialisation","error")}},u=(g,m="info")=>{s({message:g,type:m}),setTimeout(()=>s(null),3e3)},h=()=>Object.values(e).filter(g=>g.enabled).length,f=()=>Object.keys(e).length;return n?c.jsxs("div",{className:"admin-loading",children:[c.jsx("div",{className:"admin-loading-spinner"}),c.jsx("span",{children:"Chargement des fonctionnalits..."})]}):c.jsxs("div",{className:"feature-manager-container",children:[i&&c.jsx(Re.div,{className:`admin-notification ${i.type} show`,initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},children:i.message}),c.jsxs("div",{className:"feature-manager-header",children:[c.jsxs("div",{className:"feature-manager-stats",children:[c.jsxs("div",{className:"feature-stat",children:[c.jsx("span",{className:"feature-stat-number",children:h()}),c.jsx("span",{className:"feature-stat-label",children:"Actives"})]}),c.jsxs("div",{className:"feature-stat",children:[c.jsx("span",{className:"feature-stat-number",children:f()}),c.jsx("span",{className:"feature-stat-label",children:"Total"})]}),c.jsxs("div",{className:"feature-stat",children:[c.jsxs("span",{className:"feature-stat-number",children:[Math.round(h()/f()*100),"%"]}),c.jsx("span",{className:"feature-stat-label",children:"Taux d'activation"})]})]}),c.jsx("div",{className:"feature-manager-actions",children:c.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:l,children:" Rinitialiser"})})]}),c.jsx("div",{className:"feature-manager-grid",children:Object.entries(e).map(([g,m])=>c.jsxs(Re.div,{className:"feature-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[c.jsxs("div",{className:"feature-card-header",children:[c.jsxs("div",{className:"feature-info",children:[c.jsx("span",{className:"feature-icon",children:dR(g)}),c.jsxs("div",{className:"feature-details",children:[c.jsx("h3",{className:"feature-name",children:m.name}),c.jsx("span",{className:`feature-status ${m.enabled?"enabled":"disabled"}`,children:m.enabled?"Active":"Dsactive"})]})]}),c.jsxs("label",{className:"feature-toggle",children:[c.jsx("input",{type:"checkbox",checked:m.enabled,onChange:()=>a(g)}),c.jsx("span",{className:"toggle-slider"})]})]}),c.jsx("div",{className:"feature-card-body",children:c.jsx("p",{className:"feature-description",children:hR(g)})})]},g))}),c.jsx("div",{className:"feature-manager-info",children:c.jsxs("div",{className:"admin-card",children:[c.jsx("div",{className:"admin-card-header",children:c.jsx("h3",{children:" Informations"})}),c.jsxs("div",{className:"admin-card-body",children:[c.jsx("p",{children:"Les fonctionnalits actives sont visibles pour tous les utilisateurs de HERBBIE. Les modifications sont appliques immdiatement."}),c.jsxs("ul",{className:"feature-info-list",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Dessin anim"})," : Gnration de vidos animes"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Bande dessine"})," : Cration de BD avec bulles"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Coloriage"})," : Pages de coloriage  imprimer"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Histoire"})," : Contes audio avec narration"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Comptine"})," : Chansons avec musique gnre"]})]})]})]})})]})},dR=e=>({animation:"",comic:"",coloring:"",audio:"",rhyme:""})[e]||"",hR=e=>({animation:"Gnration de dessins anims personnaliss avec IA",comic:"Cration de bandes dessines avec bulles de dialogue",coloring:"Pages de coloriage  imprimer pour les enfants",audio:"Histoires audio avec narration automatique",rhyme:"Comptines musicales avec paroles et mlodies"})[e]||"Fonctionnalit de cration de contenu",fR=()=>{const{user:e,isAdmin:t,loading:n,signOut:r}=Z4(),[i]=E6(),s=L1(),o=i.get("auth"),[a,l]=Mt.useState(!1);return I.useEffect(()=>{o==="auto"?(l(!0),window.history.replaceState({},"","/ilmysv6iepwepoa4tj2k")):!o&&!a&&localStorage.removeItem("herbbie_admin_session")},[o]),I.useEffect(()=>{const h=document.title;return document.title="HERBBIE - Administration",()=>{document.title=h}},[]),I.useEffect(()=>{const h=()=>{l(!1),localStorage.removeItem("herbbie_admin_session"),document.title="HERBBIE"};return window.addEventListener("beforeunload",h),()=>{window.removeEventListener("beforeunload",h)}},[]),n&&!a?c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:c.jsx("div",{children:"Chargement..."})}):a||e&&t?c.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"40px 20px"},children:c.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[c.jsx("h1",{style:{color:"white",textAlign:"center",marginBottom:"40px",fontSize:"2.5em"},children:" Gestion des Fonctionnalits Herbbie"}),c.jsx(uR,{}),c.jsxs("div",{style:{marginTop:"40px",textAlign:"center",display:"flex",gap:"15px",justifyContent:"center",flexWrap:"wrap"},children:[c.jsx("a",{href:"/",onClick:h=>{h.preventDefault(),localStorage.removeItem("herbbie_admin_session"),window.location.href="/"},style:{color:"white",textDecoration:"none",padding:"12px 30px",background:"rgba(255,255,255,0.2)",borderRadius:"25px",display:"inline-block",transition:"all 0.3s ease",cursor:"pointer"},children:" Retour  Herbbie"}),c.jsx("button",{onClick:async()=>{await r(),localStorage.removeItem("herbbie_admin_session"),s("/ilmysv6iepwepoa4tj2k")},style:{color:"white",border:"none",padding:"12px 30px",background:"rgba(255,0,0,0.3)",borderRadius:"25px",cursor:"pointer",fontSize:"16px",fontWeight:"500",transition:"all 0.3s ease"},children:" Dconnexion"})]})]})}):c.jsx(rR,{})},pR=()=>c.jsx(nR,{children:c.jsx(fR,{})});const mR=()=>{const[e,t]=I.useState(""),[n,r]=I.useState(""),[i,s]=I.useState(""),[o,a]=I.useState(!1),[l,u]=I.useState(!1),[h,f]=I.useState(!1),[g,m]=I.useState(!1),[b,S]=I.useState(!1),[k,y]=I.useState(!1);I.useEffect(()=>{const _=document.createElement("meta");return _.name="robots",_.content="noindex, nofollow",document.head.appendChild(_),()=>{const E=document.querySelector('meta[name="robots"]');E&&E.content==="noindex, nofollow"&&E.remove()}},[]),I.useEffect(()=>{let _,E;return(async()=>{await new Promise(R=>setTimeout(R,500));const{data:{session:q}}=await mt.auth.getSession();if(q){f(!0);return}_=setTimeout(async()=>{const{data:{session:R}}=await mt.auth.getSession();R||m(!0)},15e3);const{data:{subscription:M}}=mt.auth.onAuthStateChange(async(R,Q)=>{(R==="PASSWORD_RECOVERY"||R==="SIGNED_IN"||R==="INITIAL_SESSION")&&Q&&(f(!0),m(!1),_&&clearTimeout(_))});E=M})(),()=>{_&&clearTimeout(_),E&&E.unsubscribe()}},[]);const x=async _=>{if(_.preventDefault(),s(""),u(!0),e.length<6){s("Le mot de passe doit contenir au moins 6 caractres"),u(!1);return}if(e!==n){s("Les mots de passe ne correspondent pas"),u(!1);return}try{const{error:E}=await mt.auth.updateUser({password:e});E?s(E.message):(a(!0),setTimeout(()=>{window.location.href="/"},3e3))}catch{s("Une erreur est survenue lors de la mise  jour du mot de passe")}u(!1)};return o?c.jsx("div",{className:"reset-password-page",children:c.jsx(Re.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:c.jsxs("div",{className:"success-message",children:[c.jsx("div",{className:"success-icon",children:""}),c.jsx("h2",{children:"Mot de passe mis  jour !"}),c.jsx("p",{children:"Votre mot de passe a t chang avec succs."}),c.jsx("p",{children:"Vous serez redirig vers la page d'accueil dans quelques secondes..."})]})})}):g?c.jsx("div",{className:"reset-password-page",children:c.jsxs(Re.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Erreur de lien"})]}),c.jsxs("div",{className:"error-message",children:[c.jsx("div",{className:"error-icon",children:""}),c.jsx("h3",{children:"Lien de rinitialisation invalide"}),c.jsx("p",{children:"Ce lien de rinitialisation de mot de passe n'est pas valide ou a expir."}),c.jsx("p",{children:"Veuillez demander un nouveau lien de rinitialisation."})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})}):h?c.jsx("div",{className:"reset-password-page",children:c.jsxs(Re.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Rinitialiser votre mot de passe"})]}),c.jsxs("form",{onSubmit:x,className:"reset-password-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"newPassword",children:"Nouveau mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:b?"text":"password",id:"newPassword",value:e,onChange:_=>t(_.target.value),placeholder:"Entrez votre nouveau mot de passe",required:!0,minLength:"6",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>S(!b),"aria-label":b?"Masquer le mot de passe":"Afficher le mot de passe",children:b?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:k?"text":"password",id:"confirmPassword",value:n,onChange:_=>r(_.target.value),placeholder:"Confirmez votre nouveau mot de passe",required:!0,minLength:"6",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>y(!k),"aria-label":k?"Masquer le mot de passe":"Afficher le mot de passe",children:k?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),i&&c.jsx("div",{className:"error-message",children:i}),c.jsx("button",{type:"submit",className:"reset-button",disabled:l,children:l?"Mise  jour...":"Mettre  jour le mot de passe"})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})}):c.jsx("div",{className:"reset-password-page",children:c.jsxs(Re.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Rinitialiser votre mot de passe"})]}),c.jsxs("div",{className:"waiting-message",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Vrification de votre lien de rinitialisation..."}),c.jsx("p",{className:"waiting-subtitle",children:"Si cette page ne se met pas  jour automatiquement, assurez-vous d'avoir cliqu sur le lien complet dans votre email."})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})})};e0.createRoot(document.getElementById("root")).render(c.jsx(Mt.StrictMode,{children:c.jsx(k6,{children:c.jsxs(e6,{children:[c.jsx(Dh,{path:"/",element:c.jsx(tR,{})}),c.jsx(Dh,{path:"/ilmysv6iepwepoa4tj2k",element:c.jsx(pR,{})}),c.jsx(Dh,{path:"/reset-password",element:c.jsx(mR,{})})]})})}));export{Ft as _,ji as c,Fg as g};
