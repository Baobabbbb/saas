(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ji=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function B_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Pw={exports:{}},If={},Ew={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu=Symbol.for("react.element"),U_=Symbol.for("react.portal"),z_=Symbol.for("react.fragment"),$_=Symbol.for("react.strict_mode"),q_=Symbol.for("react.profiler"),V_=Symbol.for("react.provider"),H_=Symbol.for("react.context"),W_=Symbol.for("react.forward_ref"),G_=Symbol.for("react.suspense"),K_=Symbol.for("react.memo"),J_=Symbol.for("react.lazy"),s2=Symbol.iterator;function Y_(e){return e===null||typeof e!="object"?null:(e=s2&&e[s2]||e["@@iterator"],typeof e=="function"?e:null)}var Lw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tw=Object.assign,Fw={};function rc(e,t,n){this.props=e,this.context=t,this.refs=Fw,this.updater=n||Lw}rc.prototype.isReactComponent={};rc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rw(){}Rw.prototype=rc.prototype;function Mg(e,t,n){this.props=e,this.context=t,this.refs=Fw,this.updater=n||Lw}var Bg=Mg.prototype=new Rw;Bg.constructor=Mg;Tw(Bg,rc.prototype);Bg.isPureReactComponent=!0;var o2=Array.isArray,Iw=Object.prototype.hasOwnProperty,Ug={current:null},Ow={key:!0,ref:!0,__self:!0,__source:!0};function Dw(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Iw.call(t,r)&&!Ow.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qu,type:e,key:s,ref:o,props:i,_owner:Ug.current}}function X_(e,t){return{$$typeof:Qu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qu}function Q_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var a2=/\/+/g;function Yp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Q_(""+e.key):t.toString(36)}function Nh(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Qu:case U_:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Yp(o,0):r,o2(i)?(n="",e!=null&&(n=e.replace(a2,"$&/")+"/"),Nh(i,t,n,"",function(u){return u})):i!=null&&(zg(i)&&(i=X_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(a2,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",o2(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Yp(s,a);o+=Nh(s,t,n,l,i)}else if(l=Y_(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Yp(s,a++),o+=Nh(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Kd(e,t,n){if(e==null)return e;var r=[],i=0;return Nh(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Z_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Sr={current:null},Ch={transition:null},ej={ReactCurrentDispatcher:Sr,ReactCurrentBatchConfig:Ch,ReactCurrentOwner:Ug};function Mw(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:Kd,forEach:function(e,t,n){Kd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Kd(e,function(){t++}),t},toArray:function(e){return Kd(e,function(t){return t})||[]},only:function(e){if(!zg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=rc;jt.Fragment=z_;jt.Profiler=q_;jt.PureComponent=Mg;jt.StrictMode=$_;jt.Suspense=G_;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ej;jt.act=Mw;jt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tw({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ug.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Iw.call(t,l)&&!Ow.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Qu,type:e.type,key:i,ref:s,props:r,_owner:o}};jt.createContext=function(e){return e={$$typeof:H_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:V_,_context:e},e.Consumer=e};jt.createElement=Dw;jt.createFactory=function(e){var t=Dw.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:W_,render:e}};jt.isValidElement=zg;jt.lazy=function(e){return{$$typeof:J_,_payload:{_status:-1,_result:e},_init:Z_}};jt.memo=function(e,t){return{$$typeof:K_,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=Ch.transition;Ch.transition={};try{e()}finally{Ch.transition=t}};jt.unstable_act=Mw;jt.useCallback=function(e,t){return Sr.current.useCallback(e,t)};jt.useContext=function(e){return Sr.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return Sr.current.useDeferredValue(e)};jt.useEffect=function(e,t){return Sr.current.useEffect(e,t)};jt.useId=function(){return Sr.current.useId()};jt.useImperativeHandle=function(e,t,n){return Sr.current.useImperativeHandle(e,t,n)};jt.useInsertionEffect=function(e,t){return Sr.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return Sr.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return Sr.current.useMemo(e,t)};jt.useReducer=function(e,t,n){return Sr.current.useReducer(e,t,n)};jt.useRef=function(e){return Sr.current.useRef(e)};jt.useState=function(e){return Sr.current.useState(e)};jt.useSyncExternalStore=function(e,t,n){return Sr.current.useSyncExternalStore(e,t,n)};jt.useTransition=function(){return Sr.current.useTransition()};jt.version="18.3.1";Ew.exports=jt;var F=Ew.exports;const Ut=Dg(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tj=F,nj=Symbol.for("react.element"),rj=Symbol.for("react.fragment"),ij=Object.prototype.hasOwnProperty,sj=tj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oj={key:!0,ref:!0,__self:!0,__source:!0};function Bw(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ij.call(t,r)&&!oj.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:nj,type:e,key:s,ref:o,props:i,_owner:sj.current}}If.Fragment=rj;If.jsx=Bw;If.jsxs=Bw;Pw.exports=If;var c=Pw.exports,n0={},Uw={exports:{}},ri={},zw={exports:{}},$w={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,te){var Q=W.length;W.push(te);e:for(;0<Q;){var me=Q-1>>>1,N=W[me];if(0<i(N,te))W[me]=te,W[Q]=N,Q=me;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var te=W[0],Q=W.pop();if(Q!==te){W[0]=Q;e:for(var me=0,N=W.length,z=N>>>1;me<z;){var $=2*(me+1)-1,G=W[$],Z=$+1,oe=W[Z];if(0>i(G,Q))Z<N&&0>i(oe,G)?(W[me]=oe,W[Z]=Q,me=Z):(W[me]=G,W[$]=Q,me=$);else if(Z<N&&0>i(oe,Q))W[me]=oe,W[Z]=Q,me=Z;else break e}}return te}function i(W,te){var Q=W.sortIndex-te.sortIndex;return Q!==0?Q:W.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,m=3,g=!1,b=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=W)r(u),te.sortIndex=te.expirationTime,t(l,te);else break;te=n(u)}}function E(W){if(_=!1,S(W),!b)if(n(l)!==null)b=!0,le(I);else{var te=n(u);te!==null&&ae(E,te.startTime-W)}}function I(W,te){b=!1,_&&(_=!1,y(O),O=-1),g=!0;var Q=m;try{for(S(te),f=n(l);f!==null&&(!(f.expirationTime>te)||W&&!R());){var me=f.callback;if(typeof me=="function"){f.callback=null,m=f.priorityLevel;var N=me(f.expirationTime<=te);te=e.unstable_now(),typeof N=="function"?f.callback=N:f===n(l)&&r(l),S(te)}else r(l);f=n(l)}if(f!==null)var z=!0;else{var $=n(u);$!==null&&ae(E,$.startTime-te),z=!1}return z}finally{f=null,m=Q,g=!1}}var B=!1,U=null,O=-1,K=5,Y=-1;function R(){return!(e.unstable_now()-Y<K)}function P(){if(U!==null){var W=e.unstable_now();Y=W;var te=!0;try{te=U(!0,W)}finally{te?J():(B=!1,U=null)}}else B=!1}var J;if(typeof x=="function")J=function(){x(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ce=V.port2;V.port1.onmessage=P,J=function(){ce.postMessage(null)}}else J=function(){k(P,0)};function le(W){U=W,B||(B=!0,J())}function ae(W,te){O=k(function(){W(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,le(I))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(W){switch(m){case 1:case 2:case 3:var te=3;break;default:te=m}var Q=m;m=te;try{return W()}finally{m=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Q=m;m=W;try{return te()}finally{m=Q}},e.unstable_scheduleCallback=function(W,te,Q){var me=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?me+Q:me):Q=me,W){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=Q+N,W={id:h++,callback:te,priorityLevel:W,startTime:Q,expirationTime:N,sortIndex:-1},Q>me?(W.sortIndex=Q,t(u,W),n(l)===null&&W===n(u)&&(_?(y(O),O=-1):_=!0,ae(E,Q-me))):(W.sortIndex=N,t(l,W),b||g||(b=!0,le(I))),W},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(W){var te=m;return function(){var Q=m;m=te;try{return W.apply(this,arguments)}finally{m=Q}}}})($w);zw.exports=$w;var aj=zw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lj=F,ti=aj;function Le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qw=new Set,Cu={};function Pa(e,t){Hl(e,t),Hl(e+"Capture",t)}function Hl(e,t){for(Cu[e]=t,e=0;e<t.length;e++)qw.add(t[e])}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r0=Object.prototype.hasOwnProperty,cj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l2={},c2={};function uj(e){return r0.call(c2,e)?!0:r0.call(l2,e)?!1:cj.test(e)?c2[e]=!0:(l2[e]=!0,!1)}function dj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hj(e,t,n,r){if(t===null||typeof t>"u"||dj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _r(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qn[e]=new _r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qn[t]=new _r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qn[e]=new _r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qn[e]=new _r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qn[e]=new _r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qn[e]=new _r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qn[e]=new _r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qn[e]=new _r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qn[e]=new _r(e,5,!1,e.toLowerCase(),null,!1,!1)});var $g=/[\-:]([a-z])/g;function qg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($g,qg);Qn[t]=new _r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($g,qg);Qn[t]=new _r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($g,qg);Qn[t]=new _r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qn[e]=new _r(e,1,!1,e.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new _r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qn[e]=new _r(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vg(e,t,n,r){var i=Qn.hasOwnProperty(t)?Qn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hj(t,n,i,r)&&(n=null),r||i===null?uj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vs=lj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jd=Symbol.for("react.element"),gl=Symbol.for("react.portal"),vl=Symbol.for("react.fragment"),Hg=Symbol.for("react.strict_mode"),i0=Symbol.for("react.profiler"),Vw=Symbol.for("react.provider"),Hw=Symbol.for("react.context"),Wg=Symbol.for("react.forward_ref"),s0=Symbol.for("react.suspense"),o0=Symbol.for("react.suspense_list"),Gg=Symbol.for("react.memo"),yo=Symbol.for("react.lazy"),Ww=Symbol.for("react.offscreen"),u2=Symbol.iterator;function zc(e){return e===null||typeof e!="object"?null:(e=u2&&e[u2]||e["@@iterator"],typeof e=="function"?e:null)}var un=Object.assign,Xp;function ru(e){if(Xp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xp=t&&t[1]||""}return`
`+Xp+e}var Qp=!1;function Zp(e,t){if(!e||Qp)return"";Qp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ru(e):""}function fj(e){switch(e.tag){case 5:return ru(e.type);case 16:return ru("Lazy");case 13:return ru("Suspense");case 19:return ru("SuspenseList");case 0:case 2:case 15:return e=Zp(e.type,!1),e;case 11:return e=Zp(e.type.render,!1),e;case 1:return e=Zp(e.type,!0),e;default:return""}}function a0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vl:return"Fragment";case gl:return"Portal";case i0:return"Profiler";case Hg:return"StrictMode";case s0:return"Suspense";case o0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hw:return(e.displayName||"Context")+".Consumer";case Vw:return(e._context.displayName||"Context")+".Provider";case Wg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gg:return t=e.displayName||null,t!==null?t:a0(e.type)||"Memo";case yo:t=e._payload,e=e._init;try{return a0(e(t))}catch{}}return null}function pj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return a0(t);case 8:return t===Hg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ro(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mj(e){var t=Gw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yd(e){e._valueTracker||(e._valueTracker=mj(e))}function Kw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Gw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Yh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function l0(e,t){var n=t.checked;return un({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function d2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ro(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jw(e,t){t=t.checked,t!=null&&Vg(e,"checked",t,!1)}function c0(e,t){Jw(e,t);var n=Ro(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?u0(e,t.type,n):t.hasOwnProperty("defaultValue")&&u0(e,t.type,Ro(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function h2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function u0(e,t,n){(t!=="number"||Yh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var iu=Array.isArray;function Il(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ro(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function d0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Le(91));return un({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function f2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Le(92));if(iu(n)){if(1<n.length)throw Error(Le(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ro(n)}}function Yw(e,t){var n=Ro(t.value),r=Ro(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function p2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function h0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xd,Qw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xd=Xd||document.createElement("div"),Xd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Au(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gj=["Webkit","ms","Moz","O"];Object.keys(du).forEach(function(e){gj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),du[t]=du[e]})});function Zw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||du.hasOwnProperty(e)&&du[e]?(""+t).trim():t+"px"}function ex(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var vj=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function f0(e,t){if(t){if(vj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Le(62))}}function p0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m0=null;function Kg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var g0=null,Ol=null,Dl=null;function m2(e){if(e=td(e)){if(typeof g0!="function")throw Error(Le(280));var t=e.stateNode;t&&(t=Uf(t),g0(e.stateNode,e.type,t))}}function tx(e){Ol?Dl?Dl.push(e):Dl=[e]:Ol=e}function nx(){if(Ol){var e=Ol,t=Dl;if(Dl=Ol=null,m2(e),t)for(e=0;e<t.length;e++)m2(t[e])}}function rx(e,t){return e(t)}function ix(){}var em=!1;function sx(e,t,n){if(em)return e(t,n);em=!0;try{return rx(e,t,n)}finally{em=!1,(Ol!==null||Dl!==null)&&(ix(),nx())}}function Pu(e,t){var n=e.stateNode;if(n===null)return null;var r=Uf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Le(231,t,typeof n));return n}var v0=!1;if(Ms)try{var $c={};Object.defineProperty($c,"passive",{get:function(){v0=!0}}),window.addEventListener("test",$c,$c),window.removeEventListener("test",$c,$c)}catch{v0=!1}function yj(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var hu=!1,Xh=null,Qh=!1,y0=null,wj={onError:function(e){hu=!0,Xh=e}};function xj(e,t,n,r,i,s,o,a,l){hu=!1,Xh=null,yj.apply(wj,arguments)}function bj(e,t,n,r,i,s,o,a,l){if(xj.apply(this,arguments),hu){if(hu){var u=Xh;hu=!1,Xh=null}else throw Error(Le(198));Qh||(Qh=!0,y0=u)}}function Ea(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ox(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g2(e){if(Ea(e)!==e)throw Error(Le(188))}function Sj(e){var t=e.alternate;if(!t){if(t=Ea(e),t===null)throw Error(Le(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return g2(i),e;if(s===r)return g2(i),t;s=s.sibling}throw Error(Le(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Le(189))}}if(n.alternate!==r)throw Error(Le(190))}if(n.tag!==3)throw Error(Le(188));return n.stateNode.current===n?e:t}function ax(e){return e=Sj(e),e!==null?lx(e):null}function lx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lx(e);if(t!==null)return t;e=e.sibling}return null}var cx=ti.unstable_scheduleCallback,v2=ti.unstable_cancelCallback,_j=ti.unstable_shouldYield,jj=ti.unstable_requestPaint,Sn=ti.unstable_now,kj=ti.unstable_getCurrentPriorityLevel,Jg=ti.unstable_ImmediatePriority,ux=ti.unstable_UserBlockingPriority,Zh=ti.unstable_NormalPriority,Nj=ti.unstable_LowPriority,dx=ti.unstable_IdlePriority,Of=null,as=null;function Cj(e){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(Of,e,void 0,(e.current.flags&128)===128)}catch{}}var Vi=Math.clz32?Math.clz32:Ej,Aj=Math.log,Pj=Math.LN2;function Ej(e){return e>>>=0,e===0?32:31-(Aj(e)/Pj|0)|0}var Qd=64,Zd=4194304;function su(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ef(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=su(a):(s&=o,s!==0&&(r=su(s)))}else o=n&~i,o!==0?r=su(o):s!==0&&(r=su(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vi(t),i=1<<n,r|=e[n],t&=~i;return r}function Lj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Vi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Lj(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function w0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hx(){var e=Qd;return Qd<<=1,!(Qd&4194240)&&(Qd=64),e}function tm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vi(t),e[t]=n}function Fj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Vi(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Yg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Mt=0;function fx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var px,Xg,mx,gx,vx,x0=!1,eh=[],No=null,Co=null,Ao=null,Eu=new Map,Lu=new Map,xo=[],Rj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y2(e,t){switch(e){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":Ao=null;break;case"pointerover":case"pointerout":Eu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(t.pointerId)}}function qc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=td(t),t!==null&&Xg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ij(e,t,n,r,i){switch(t){case"focusin":return No=qc(No,e,t,n,r,i),!0;case"dragenter":return Co=qc(Co,e,t,n,r,i),!0;case"mouseover":return Ao=qc(Ao,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Eu.set(s,qc(Eu.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lu.set(s,qc(Lu.get(s)||null,e,t,n,r,i)),!0}return!1}function yx(e){var t=ga(e.target);if(t!==null){var n=Ea(t);if(n!==null){if(t=n.tag,t===13){if(t=ox(n),t!==null){e.blockedOn=t,vx(e.priority,function(){mx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ah(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=b0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);m0=r,n.target.dispatchEvent(r),m0=null}else return t=td(n),t!==null&&Xg(t),e.blockedOn=n,!1;t.shift()}return!0}function w2(e,t,n){Ah(e)&&n.delete(t)}function Oj(){x0=!1,No!==null&&Ah(No)&&(No=null),Co!==null&&Ah(Co)&&(Co=null),Ao!==null&&Ah(Ao)&&(Ao=null),Eu.forEach(w2),Lu.forEach(w2)}function Vc(e,t){e.blockedOn===t&&(e.blockedOn=null,x0||(x0=!0,ti.unstable_scheduleCallback(ti.unstable_NormalPriority,Oj)))}function Tu(e){function t(i){return Vc(i,e)}if(0<eh.length){Vc(eh[0],e);for(var n=1;n<eh.length;n++){var r=eh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(No!==null&&Vc(No,e),Co!==null&&Vc(Co,e),Ao!==null&&Vc(Ao,e),Eu.forEach(t),Lu.forEach(t),n=0;n<xo.length;n++)r=xo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<xo.length&&(n=xo[0],n.blockedOn===null);)yx(n),n.blockedOn===null&&xo.shift()}var Ml=Vs.ReactCurrentBatchConfig,tf=!0;function Dj(e,t,n,r){var i=Mt,s=Ml.transition;Ml.transition=null;try{Mt=1,Qg(e,t,n,r)}finally{Mt=i,Ml.transition=s}}function Mj(e,t,n,r){var i=Mt,s=Ml.transition;Ml.transition=null;try{Mt=4,Qg(e,t,n,r)}finally{Mt=i,Ml.transition=s}}function Qg(e,t,n,r){if(tf){var i=b0(e,t,n,r);if(i===null)dm(e,t,r,nf,n),y2(e,r);else if(Ij(i,e,t,n,r))r.stopPropagation();else if(y2(e,r),t&4&&-1<Rj.indexOf(e)){for(;i!==null;){var s=td(i);if(s!==null&&px(s),s=b0(e,t,n,r),s===null&&dm(e,t,r,nf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else dm(e,t,r,null,n)}}var nf=null;function b0(e,t,n,r){if(nf=null,e=Kg(r),e=ga(e),e!==null)if(t=Ea(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ox(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nf=e,null}function wx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kj()){case Jg:return 1;case ux:return 4;case Zh:case Nj:return 16;case dx:return 536870912;default:return 16}default:return 16}}var _o=null,Zg=null,Ph=null;function xx(){if(Ph)return Ph;var e,t=Zg,n=t.length,r,i="value"in _o?_o.value:_o.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ph=i.slice(e,1<r?1-r:void 0)}function Eh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function th(){return!0}function x2(){return!1}function ii(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?th:x2,this.isPropagationStopped=x2,this}return un(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=th)},persist:function(){},isPersistent:th}),t}var ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e1=ii(ic),ed=un({},ic,{view:0,detail:0}),Bj=ii(ed),nm,rm,Hc,Df=un({},ed,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hc&&(Hc&&e.type==="mousemove"?(nm=e.screenX-Hc.screenX,rm=e.screenY-Hc.screenY):rm=nm=0,Hc=e),nm)},movementY:function(e){return"movementY"in e?e.movementY:rm}}),b2=ii(Df),Uj=un({},Df,{dataTransfer:0}),zj=ii(Uj),$j=un({},ed,{relatedTarget:0}),im=ii($j),qj=un({},ic,{animationName:0,elapsedTime:0,pseudoElement:0}),Vj=ii(qj),Hj=un({},ic,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wj=ii(Hj),Gj=un({},ic,{data:0}),S2=ii(Gj),Kj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yj[e])?!!t[e]:!1}function t1(){return Xj}var Qj=un({},ed,{key:function(e){if(e.key){var t=Kj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Eh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t1,charCode:function(e){return e.type==="keypress"?Eh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zj=ii(Qj),ek=un({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_2=ii(ek),tk=un({},ed,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t1}),nk=ii(tk),rk=un({},ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),ik=ii(rk),sk=un({},Df,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ok=ii(sk),ak=[9,13,27,32],n1=Ms&&"CompositionEvent"in window,fu=null;Ms&&"documentMode"in document&&(fu=document.documentMode);var lk=Ms&&"TextEvent"in window&&!fu,bx=Ms&&(!n1||fu&&8<fu&&11>=fu),j2=String.fromCharCode(32),k2=!1;function Sx(e,t){switch(e){case"keyup":return ak.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _x(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yl=!1;function ck(e,t){switch(e){case"compositionend":return _x(t);case"keypress":return t.which!==32?null:(k2=!0,j2);case"textInput":return e=t.data,e===j2&&k2?null:e;default:return null}}function uk(e,t){if(yl)return e==="compositionend"||!n1&&Sx(e,t)?(e=xx(),Ph=Zg=_o=null,yl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bx&&t.locale!=="ko"?null:t.data;default:return null}}var dk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dk[e.type]:t==="textarea"}function jx(e,t,n,r){tx(r),t=rf(t,"onChange"),0<t.length&&(n=new e1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pu=null,Fu=null;function hk(e){Ix(e,0)}function Mf(e){var t=bl(e);if(Kw(t))return e}function fk(e,t){if(e==="change")return t}var kx=!1;if(Ms){var sm;if(Ms){var om="oninput"in document;if(!om){var C2=document.createElement("div");C2.setAttribute("oninput","return;"),om=typeof C2.oninput=="function"}sm=om}else sm=!1;kx=sm&&(!document.documentMode||9<document.documentMode)}function A2(){pu&&(pu.detachEvent("onpropertychange",Nx),Fu=pu=null)}function Nx(e){if(e.propertyName==="value"&&Mf(Fu)){var t=[];jx(t,Fu,e,Kg(e)),sx(hk,t)}}function pk(e,t,n){e==="focusin"?(A2(),pu=t,Fu=n,pu.attachEvent("onpropertychange",Nx)):e==="focusout"&&A2()}function mk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mf(Fu)}function gk(e,t){if(e==="click")return Mf(t)}function vk(e,t){if(e==="input"||e==="change")return Mf(t)}function yk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wi=typeof Object.is=="function"?Object.is:yk;function Ru(e,t){if(Wi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!r0.call(t,i)||!Wi(e[i],t[i]))return!1}return!0}function P2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E2(e,t){var n=P2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P2(n)}}function Cx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ax(){for(var e=window,t=Yh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yh(e.document)}return t}function r1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wk(e){var t=Ax(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cx(n.ownerDocument.documentElement,n)){if(r!==null&&r1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=E2(n,s);var o=E2(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xk=Ms&&"documentMode"in document&&11>=document.documentMode,wl=null,S0=null,mu=null,_0=!1;function L2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_0||wl==null||wl!==Yh(r)||(r=wl,"selectionStart"in r&&r1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mu&&Ru(mu,r)||(mu=r,r=rf(S0,"onSelect"),0<r.length&&(t=new e1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wl)))}function nh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xl={animationend:nh("Animation","AnimationEnd"),animationiteration:nh("Animation","AnimationIteration"),animationstart:nh("Animation","AnimationStart"),transitionend:nh("Transition","TransitionEnd")},am={},Px={};Ms&&(Px=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function Bf(e){if(am[e])return am[e];if(!xl[e])return e;var t=xl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Px)return am[e]=t[n];return e}var Ex=Bf("animationend"),Lx=Bf("animationiteration"),Tx=Bf("animationstart"),Fx=Bf("transitionend"),Rx=new Map,T2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uo(e,t){Rx.set(e,t),Pa(t,[e])}for(var lm=0;lm<T2.length;lm++){var cm=T2[lm],bk=cm.toLowerCase(),Sk=cm[0].toUpperCase()+cm.slice(1);Uo(bk,"on"+Sk)}Uo(Ex,"onAnimationEnd");Uo(Lx,"onAnimationIteration");Uo(Tx,"onAnimationStart");Uo("dblclick","onDoubleClick");Uo("focusin","onFocus");Uo("focusout","onBlur");Uo(Fx,"onTransitionEnd");Hl("onMouseEnter",["mouseout","mouseover"]);Hl("onMouseLeave",["mouseout","mouseover"]);Hl("onPointerEnter",["pointerout","pointerover"]);Hl("onPointerLeave",["pointerout","pointerover"]);Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_k=new Set("cancel close invalid load scroll toggle".split(" ").concat(ou));function F2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bj(r,t,void 0,e),e.currentTarget=null}function Ix(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;F2(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;F2(i,a,u),s=l}}}if(Qh)throw e=y0,Qh=!1,y0=null,e}function Qt(e,t){var n=t[A0];n===void 0&&(n=t[A0]=new Set);var r=e+"__bubble";n.has(r)||(Ox(t,e,2,!1),n.add(r))}function um(e,t,n){var r=0;t&&(r|=4),Ox(n,e,r,t)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Iu(e){if(!e[rh]){e[rh]=!0,qw.forEach(function(n){n!=="selectionchange"&&(_k.has(n)||um(n,!1,e),um(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rh]||(t[rh]=!0,um("selectionchange",!1,t))}}function Ox(e,t,n,r){switch(wx(t)){case 1:var i=Dj;break;case 4:i=Mj;break;default:i=Qg}n=i.bind(null,t,n,e),i=void 0,!v0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function dm(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ga(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}sx(function(){var u=s,h=Kg(n),f=[];e:{var m=Rx.get(e);if(m!==void 0){var g=e1,b=e;switch(e){case"keypress":if(Eh(n)===0)break e;case"keydown":case"keyup":g=Zj;break;case"focusin":b="focus",g=im;break;case"focusout":b="blur",g=im;break;case"beforeblur":case"afterblur":g=im;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=b2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=zj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=nk;break;case Ex:case Lx:case Tx:g=Vj;break;case Fx:g=ik;break;case"scroll":g=Bj;break;case"wheel":g=ok;break;case"copy":case"cut":case"paste":g=Wj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_2}var _=(t&4)!==0,k=!_&&e==="scroll",y=_?m!==null?m+"Capture":null:m;_=[];for(var x=u,S;x!==null;){S=x;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,y!==null&&(E=Pu(x,y),E!=null&&_.push(Ou(x,E,S)))),k)break;x=x.return}0<_.length&&(m=new g(m,b,null,n,h),f.push({event:m,listeners:_}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==m0&&(b=n.relatedTarget||n.fromElement)&&(ga(b)||b[Bs]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=u,b=b?ga(b):null,b!==null&&(k=Ea(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(_=b2,E="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(_=_2,E="onPointerLeave",y="onPointerEnter",x="pointer"),k=g==null?m:bl(g),S=b==null?m:bl(b),m=new _(E,x+"leave",g,n,h),m.target=k,m.relatedTarget=S,E=null,ga(h)===u&&(_=new _(y,x+"enter",b,n,h),_.target=S,_.relatedTarget=k,E=_),k=E,g&&b)t:{for(_=g,y=b,x=0,S=_;S;S=rl(S))x++;for(S=0,E=y;E;E=rl(E))S++;for(;0<x-S;)_=rl(_),x--;for(;0<S-x;)y=rl(y),S--;for(;x--;){if(_===y||y!==null&&_===y.alternate)break t;_=rl(_),y=rl(y)}_=null}else _=null;g!==null&&R2(f,m,g,_,!1),b!==null&&k!==null&&R2(f,k,b,_,!0)}}e:{if(m=u?bl(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var I=fk;else if(N2(m))if(kx)I=vk;else{I=mk;var B=pk}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(I=gk);if(I&&(I=I(e,u))){jx(f,I,n,h);break e}B&&B(e,m,u),e==="focusout"&&(B=m._wrapperState)&&B.controlled&&m.type==="number"&&u0(m,"number",m.value)}switch(B=u?bl(u):window,e){case"focusin":(N2(B)||B.contentEditable==="true")&&(wl=B,S0=u,mu=null);break;case"focusout":mu=S0=wl=null;break;case"mousedown":_0=!0;break;case"contextmenu":case"mouseup":case"dragend":_0=!1,L2(f,n,h);break;case"selectionchange":if(xk)break;case"keydown":case"keyup":L2(f,n,h)}var U;if(n1)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else yl?Sx(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(bx&&n.locale!=="ko"&&(yl||O!=="onCompositionStart"?O==="onCompositionEnd"&&yl&&(U=xx()):(_o=h,Zg="value"in _o?_o.value:_o.textContent,yl=!0)),B=rf(u,O),0<B.length&&(O=new S2(O,e,null,n,h),f.push({event:O,listeners:B}),U?O.data=U:(U=_x(n),U!==null&&(O.data=U)))),(U=lk?ck(e,n):uk(e,n))&&(u=rf(u,"onBeforeInput"),0<u.length&&(h=new S2("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=U))}Ix(f,t)})}function Ou(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rf(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pu(e,n),s!=null&&r.unshift(Ou(e,s,i)),s=Pu(e,t),s!=null&&r.push(Ou(e,s,i))),e=e.return}return r}function rl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function R2(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Pu(n,s),l!=null&&o.unshift(Ou(n,l,a))):i||(l=Pu(n,s),l!=null&&o.push(Ou(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jk=/\r\n?/g,kk=/\u0000|\uFFFD/g;function I2(e){return(typeof e=="string"?e:""+e).replace(jk,`
`).replace(kk,"")}function ih(e,t,n){if(t=I2(t),I2(e)!==t&&n)throw Error(Le(425))}function sf(){}var j0=null,k0=null;function N0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var C0=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,O2=typeof Promise=="function"?Promise:void 0,Ck=typeof queueMicrotask=="function"?queueMicrotask:typeof O2<"u"?function(e){return O2.resolve(null).then(e).catch(Ak)}:C0;function Ak(e){setTimeout(function(){throw e})}function hm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Tu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tu(t)}function Po(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function D2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var sc=Math.random().toString(36).slice(2),ss="__reactFiber$"+sc,Du="__reactProps$"+sc,Bs="__reactContainer$"+sc,A0="__reactEvents$"+sc,Pk="__reactListeners$"+sc,Ek="__reactHandles$"+sc;function ga(e){var t=e[ss];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bs]||n[ss]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=D2(e);e!==null;){if(n=e[ss])return n;e=D2(e)}return t}e=n,n=e.parentNode}return null}function td(e){return e=e[ss]||e[Bs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Le(33))}function Uf(e){return e[Du]||null}var P0=[],Sl=-1;function zo(e){return{current:e}}function en(e){0>Sl||(e.current=P0[Sl],P0[Sl]=null,Sl--)}function Yt(e,t){Sl++,P0[Sl]=e.current,e.current=t}var Io={},pr=zo(Io),Fr=zo(!1),ja=Io;function Wl(e,t){var n=e.type.contextTypes;if(!n)return Io;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(e){return e=e.childContextTypes,e!=null}function of(){en(Fr),en(pr)}function M2(e,t,n){if(pr.current!==Io)throw Error(Le(168));Yt(pr,t),Yt(Fr,n)}function Dx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Le(108,pj(e)||"Unknown",i));return un({},n,r)}function af(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Io,ja=pr.current,Yt(pr,e),Yt(Fr,Fr.current),!0}function B2(e,t,n){var r=e.stateNode;if(!r)throw Error(Le(169));n?(e=Dx(e,t,ja),r.__reactInternalMemoizedMergedChildContext=e,en(Fr),en(pr),Yt(pr,e)):en(Fr),Yt(Fr,n)}var Ls=null,zf=!1,fm=!1;function Mx(e){Ls===null?Ls=[e]:Ls.push(e)}function Lk(e){zf=!0,Mx(e)}function $o(){if(!fm&&Ls!==null){fm=!0;var e=0,t=Mt;try{var n=Ls;for(Mt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ls=null,zf=!1}catch(i){throw Ls!==null&&(Ls=Ls.slice(e+1)),cx(Jg,$o),i}finally{Mt=t,fm=!1}}return null}var _l=[],jl=0,lf=null,cf=0,wi=[],xi=0,ka=null,Ts=1,Fs="";function la(e,t){_l[jl++]=cf,_l[jl++]=lf,lf=e,cf=t}function Bx(e,t,n){wi[xi++]=Ts,wi[xi++]=Fs,wi[xi++]=ka,ka=e;var r=Ts;e=Fs;var i=32-Vi(r)-1;r&=~(1<<i),n+=1;var s=32-Vi(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ts=1<<32-Vi(t)+i|n<<i|r,Fs=s+e}else Ts=1<<s|n<<i|r,Fs=e}function i1(e){e.return!==null&&(la(e,1),Bx(e,1,0))}function s1(e){for(;e===lf;)lf=_l[--jl],_l[jl]=null,cf=_l[--jl],_l[jl]=null;for(;e===ka;)ka=wi[--xi],wi[xi]=null,Fs=wi[--xi],wi[xi]=null,Ts=wi[--xi],wi[xi]=null}var Zr=null,Xr=null,nn=!1,qi=null;function Ux(e,t){var n=bi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function U2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zr=e,Xr=Po(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zr=e,Xr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ka!==null?{id:Ts,overflow:Fs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Zr=e,Xr=null,!0):!1;default:return!1}}function E0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function L0(e){if(nn){var t=Xr;if(t){var n=t;if(!U2(e,t)){if(E0(e))throw Error(Le(418));t=Po(n.nextSibling);var r=Zr;t&&U2(e,t)?Ux(r,n):(e.flags=e.flags&-4097|2,nn=!1,Zr=e)}}else{if(E0(e))throw Error(Le(418));e.flags=e.flags&-4097|2,nn=!1,Zr=e}}}function z2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zr=e}function sh(e){if(e!==Zr)return!1;if(!nn)return z2(e),nn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!N0(e.type,e.memoizedProps)),t&&(t=Xr)){if(E0(e))throw zx(),Error(Le(418));for(;t;)Ux(e,t),t=Po(t.nextSibling)}if(z2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xr=Po(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xr=null}}else Xr=Zr?Po(e.stateNode.nextSibling):null;return!0}function zx(){for(var e=Xr;e;)e=Po(e.nextSibling)}function Gl(){Xr=Zr=null,nn=!1}function o1(e){qi===null?qi=[e]:qi.push(e)}var Tk=Vs.ReactCurrentBatchConfig;function Wc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Le(309));var r=n.stateNode}if(!r)throw Error(Le(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Le(284));if(!n._owner)throw Error(Le(290,e))}return e}function oh(e,t){throw e=Object.prototype.toString.call(t),Error(Le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $2(e){var t=e._init;return t(e._payload)}function $x(e){function t(y,x){if(e){var S=y.deletions;S===null?(y.deletions=[x],y.flags|=16):S.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Fo(y,x),y.index=0,y.sibling=null,y}function s(y,x,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<x?(y.flags|=2,x):S):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,x,S,E){return x===null||x.tag!==6?(x=xm(S,y.mode,E),x.return=y,x):(x=i(x,S),x.return=y,x)}function l(y,x,S,E){var I=S.type;return I===vl?h(y,x,S.props.children,E,S.key):x!==null&&(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===yo&&$2(I)===x.type)?(E=i(x,S.props),E.ref=Wc(y,x,S),E.return=y,E):(E=Dh(S.type,S.key,S.props,null,y.mode,E),E.ref=Wc(y,x,S),E.return=y,E)}function u(y,x,S,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=bm(S,y.mode,E),x.return=y,x):(x=i(x,S.children||[]),x.return=y,x)}function h(y,x,S,E,I){return x===null||x.tag!==7?(x=ba(S,y.mode,E,I),x.return=y,x):(x=i(x,S),x.return=y,x)}function f(y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=xm(""+x,y.mode,S),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Jd:return S=Dh(x.type,x.key,x.props,null,y.mode,S),S.ref=Wc(y,null,x),S.return=y,S;case gl:return x=bm(x,y.mode,S),x.return=y,x;case yo:var E=x._init;return f(y,E(x._payload),S)}if(iu(x)||zc(x))return x=ba(x,y.mode,S,null),x.return=y,x;oh(y,x)}return null}function m(y,x,S,E){var I=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return I!==null?null:a(y,x,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Jd:return S.key===I?l(y,x,S,E):null;case gl:return S.key===I?u(y,x,S,E):null;case yo:return I=S._init,m(y,x,I(S._payload),E)}if(iu(S)||zc(S))return I!==null?null:h(y,x,S,E,null);oh(y,S)}return null}function g(y,x,S,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(S)||null,a(x,y,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Jd:return y=y.get(E.key===null?S:E.key)||null,l(x,y,E,I);case gl:return y=y.get(E.key===null?S:E.key)||null,u(x,y,E,I);case yo:var B=E._init;return g(y,x,S,B(E._payload),I)}if(iu(E)||zc(E))return y=y.get(S)||null,h(x,y,E,I,null);oh(x,E)}return null}function b(y,x,S,E){for(var I=null,B=null,U=x,O=x=0,K=null;U!==null&&O<S.length;O++){U.index>O?(K=U,U=null):K=U.sibling;var Y=m(y,U,S[O],E);if(Y===null){U===null&&(U=K);break}e&&U&&Y.alternate===null&&t(y,U),x=s(Y,x,O),B===null?I=Y:B.sibling=Y,B=Y,U=K}if(O===S.length)return n(y,U),nn&&la(y,O),I;if(U===null){for(;O<S.length;O++)U=f(y,S[O],E),U!==null&&(x=s(U,x,O),B===null?I=U:B.sibling=U,B=U);return nn&&la(y,O),I}for(U=r(y,U);O<S.length;O++)K=g(U,y,O,S[O],E),K!==null&&(e&&K.alternate!==null&&U.delete(K.key===null?O:K.key),x=s(K,x,O),B===null?I=K:B.sibling=K,B=K);return e&&U.forEach(function(R){return t(y,R)}),nn&&la(y,O),I}function _(y,x,S,E){var I=zc(S);if(typeof I!="function")throw Error(Le(150));if(S=I.call(S),S==null)throw Error(Le(151));for(var B=I=null,U=x,O=x=0,K=null,Y=S.next();U!==null&&!Y.done;O++,Y=S.next()){U.index>O?(K=U,U=null):K=U.sibling;var R=m(y,U,Y.value,E);if(R===null){U===null&&(U=K);break}e&&U&&R.alternate===null&&t(y,U),x=s(R,x,O),B===null?I=R:B.sibling=R,B=R,U=K}if(Y.done)return n(y,U),nn&&la(y,O),I;if(U===null){for(;!Y.done;O++,Y=S.next())Y=f(y,Y.value,E),Y!==null&&(x=s(Y,x,O),B===null?I=Y:B.sibling=Y,B=Y);return nn&&la(y,O),I}for(U=r(y,U);!Y.done;O++,Y=S.next())Y=g(U,y,O,Y.value,E),Y!==null&&(e&&Y.alternate!==null&&U.delete(Y.key===null?O:Y.key),x=s(Y,x,O),B===null?I=Y:B.sibling=Y,B=Y);return e&&U.forEach(function(P){return t(y,P)}),nn&&la(y,O),I}function k(y,x,S,E){if(typeof S=="object"&&S!==null&&S.type===vl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Jd:e:{for(var I=S.key,B=x;B!==null;){if(B.key===I){if(I=S.type,I===vl){if(B.tag===7){n(y,B.sibling),x=i(B,S.props.children),x.return=y,y=x;break e}}else if(B.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===yo&&$2(I)===B.type){n(y,B.sibling),x=i(B,S.props),x.ref=Wc(y,B,S),x.return=y,y=x;break e}n(y,B);break}else t(y,B);B=B.sibling}S.type===vl?(x=ba(S.props.children,y.mode,E,S.key),x.return=y,y=x):(E=Dh(S.type,S.key,S.props,null,y.mode,E),E.ref=Wc(y,x,S),E.return=y,y=E)}return o(y);case gl:e:{for(B=S.key;x!==null;){if(x.key===B)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(y,x.sibling),x=i(x,S.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=bm(S,y.mode,E),x.return=y,y=x}return o(y);case yo:return B=S._init,k(y,x,B(S._payload),E)}if(iu(S))return b(y,x,S,E);if(zc(S))return _(y,x,S,E);oh(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,S),x.return=y,y=x):(n(y,x),x=xm(S,y.mode,E),x.return=y,y=x),o(y)):n(y,x)}return k}var Kl=$x(!0),qx=$x(!1),uf=zo(null),df=null,kl=null,a1=null;function l1(){a1=kl=df=null}function c1(e){var t=uf.current;en(uf),e._currentValue=t}function T0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bl(e,t){df=e,a1=kl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tr=!0),e.firstContext=null)}function ki(e){var t=e._currentValue;if(a1!==e)if(e={context:e,memoizedValue:t,next:null},kl===null){if(df===null)throw Error(Le(308));kl=e,df.dependencies={lanes:0,firstContext:e}}else kl=kl.next=e;return t}var va=null;function u1(e){va===null?va=[e]:va.push(e)}function Vx(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,u1(t)):(n.next=i.next,i.next=n),t.interleaved=n,Us(e,r)}function Us(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wo=!1;function d1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Eo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Us(e,n)}return i=r.interleaved,i===null?(t.next=t,u1(r)):(t.next=i.next,i.next=t),r.interleaved=t,Us(e,n)}function Lh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yg(e,n)}}function q2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hf(e,t,n,r){var i=e.updateQueue;wo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=u=l=null,a=s;do{var m=a.lane,g=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,_=a;switch(m=t,g=n,_.tag){case 1:if(b=_.payload,typeof b=="function"){f=b.call(g,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,m=typeof b=="function"?b.call(g,f,m):b,m==null)break e;f=un({},f,m);break e;case 2:wo=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=g,l=f):h=h.next=g,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ca|=o,e.lanes=o,e.memoizedState=f}}function V2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Le(191,i));i.call(r)}}}var nd={},ls=zo(nd),Mu=zo(nd),Bu=zo(nd);function ya(e){if(e===nd)throw Error(Le(174));return e}function h1(e,t){switch(Yt(Bu,t),Yt(Mu,e),Yt(ls,nd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:h0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=h0(t,e)}en(ls),Yt(ls,t)}function Jl(){en(ls),en(Mu),en(Bu)}function Wx(e){ya(Bu.current);var t=ya(ls.current),n=h0(t,e.type);t!==n&&(Yt(Mu,e),Yt(ls,n))}function f1(e){Mu.current===e&&(en(ls),en(Mu))}var on=zo(0);function ff(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pm=[];function p1(){for(var e=0;e<pm.length;e++)pm[e]._workInProgressVersionPrimary=null;pm.length=0}var Th=Vs.ReactCurrentDispatcher,mm=Vs.ReactCurrentBatchConfig,Na=0,ln=null,Fn=null,zn=null,pf=!1,gu=!1,Uu=0,Fk=0;function nr(){throw Error(Le(321))}function m1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wi(e[n],t[n]))return!1;return!0}function g1(e,t,n,r,i,s){if(Na=s,ln=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Th.current=e===null||e.memoizedState===null?Dk:Mk,e=n(r,i),gu){s=0;do{if(gu=!1,Uu=0,25<=s)throw Error(Le(301));s+=1,zn=Fn=null,t.updateQueue=null,Th.current=Bk,e=n(r,i)}while(gu)}if(Th.current=mf,t=Fn!==null&&Fn.next!==null,Na=0,zn=Fn=ln=null,pf=!1,t)throw Error(Le(300));return e}function v1(){var e=Uu!==0;return Uu=0,e}function is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?ln.memoizedState=zn=e:zn=zn.next=e,zn}function Ni(){if(Fn===null){var e=ln.alternate;e=e!==null?e.memoizedState:null}else e=Fn.next;var t=zn===null?ln.memoizedState:zn.next;if(t!==null)zn=t,Fn=e;else{if(e===null)throw Error(Le(310));Fn=e,e={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},zn===null?ln.memoizedState=zn=e:zn=zn.next=e}return zn}function zu(e,t){return typeof t=="function"?t(e):t}function gm(e){var t=Ni(),n=t.queue;if(n===null)throw Error(Le(311));n.lastRenderedReducer=e;var r=Fn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Na&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ln.lanes|=h,Ca|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Wi(r,t.memoizedState)||(Tr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ln.lanes|=s,Ca|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vm(e){var t=Ni(),n=t.queue;if(n===null)throw Error(Le(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Wi(s,t.memoizedState)||(Tr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Gx(){}function Kx(e,t){var n=ln,r=Ni(),i=t(),s=!Wi(r.memoizedState,i);if(s&&(r.memoizedState=i,Tr=!0),r=r.queue,y1(Xx.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||zn!==null&&zn.memoizedState.tag&1){if(n.flags|=2048,$u(9,Yx.bind(null,n,r,i,t),void 0,null),qn===null)throw Error(Le(349));Na&30||Jx(n,t,i)}return i}function Jx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ln.updateQueue,t===null?(t={lastEffect:null,stores:null},ln.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yx(e,t,n,r){t.value=n,t.getSnapshot=r,Qx(t)&&Zx(e)}function Xx(e,t,n){return n(function(){Qx(t)&&Zx(e)})}function Qx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wi(e,n)}catch{return!0}}function Zx(e){var t=Us(e,1);t!==null&&Hi(t,e,1,-1)}function H2(e){var t=is();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zu,lastRenderedState:e},t.queue=e,e=e.dispatch=Ok.bind(null,ln,e),[t.memoizedState,e]}function $u(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ln.updateQueue,t===null?(t={lastEffect:null,stores:null},ln.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function eb(){return Ni().memoizedState}function Fh(e,t,n,r){var i=is();ln.flags|=e,i.memoizedState=$u(1|t,n,void 0,r===void 0?null:r)}function $f(e,t,n,r){var i=Ni();r=r===void 0?null:r;var s=void 0;if(Fn!==null){var o=Fn.memoizedState;if(s=o.destroy,r!==null&&m1(r,o.deps)){i.memoizedState=$u(t,n,s,r);return}}ln.flags|=e,i.memoizedState=$u(1|t,n,s,r)}function W2(e,t){return Fh(8390656,8,e,t)}function y1(e,t){return $f(2048,8,e,t)}function tb(e,t){return $f(4,2,e,t)}function nb(e,t){return $f(4,4,e,t)}function rb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ib(e,t,n){return n=n!=null?n.concat([e]):null,$f(4,4,rb.bind(null,t,e),n)}function w1(){}function sb(e,t){var n=Ni();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&m1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ob(e,t){var n=Ni();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&m1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ab(e,t,n){return Na&21?(Wi(n,t)||(n=hx(),ln.lanes|=n,Ca|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tr=!0),e.memoizedState=n)}function Rk(e,t){var n=Mt;Mt=n!==0&&4>n?n:4,e(!0);var r=mm.transition;mm.transition={};try{e(!1),t()}finally{Mt=n,mm.transition=r}}function lb(){return Ni().memoizedState}function Ik(e,t,n){var r=To(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cb(e))ub(t,n);else if(n=Vx(e,t,n,r),n!==null){var i=br();Hi(n,e,r,i),db(n,t,r)}}function Ok(e,t,n){var r=To(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cb(e))ub(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Wi(a,o)){var l=t.interleaved;l===null?(i.next=i,u1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Vx(e,t,i,r),n!==null&&(i=br(),Hi(n,e,r,i),db(n,t,r))}}function cb(e){var t=e.alternate;return e===ln||t!==null&&t===ln}function ub(e,t){gu=pf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function db(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yg(e,n)}}var mf={readContext:ki,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},Dk={readContext:ki,useCallback:function(e,t){return is().memoizedState=[e,t===void 0?null:t],e},useContext:ki,useEffect:W2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fh(4194308,4,rb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fh(4,2,e,t)},useMemo:function(e,t){var n=is();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=is();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ik.bind(null,ln,e),[r.memoizedState,e]},useRef:function(e){var t=is();return e={current:e},t.memoizedState=e},useState:H2,useDebugValue:w1,useDeferredValue:function(e){return is().memoizedState=e},useTransition:function(){var e=H2(!1),t=e[0];return e=Rk.bind(null,e[1]),is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ln,i=is();if(nn){if(n===void 0)throw Error(Le(407));n=n()}else{if(n=t(),qn===null)throw Error(Le(349));Na&30||Jx(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,W2(Xx.bind(null,r,s,e),[e]),r.flags|=2048,$u(9,Yx.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=is(),t=qn.identifierPrefix;if(nn){var n=Fs,r=Ts;n=(r&~(1<<32-Vi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Uu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fk++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mk={readContext:ki,useCallback:sb,useContext:ki,useEffect:y1,useImperativeHandle:ib,useInsertionEffect:tb,useLayoutEffect:nb,useMemo:ob,useReducer:gm,useRef:eb,useState:function(){return gm(zu)},useDebugValue:w1,useDeferredValue:function(e){var t=Ni();return ab(t,Fn.memoizedState,e)},useTransition:function(){var e=gm(zu)[0],t=Ni().memoizedState;return[e,t]},useMutableSource:Gx,useSyncExternalStore:Kx,useId:lb,unstable_isNewReconciler:!1},Bk={readContext:ki,useCallback:sb,useContext:ki,useEffect:y1,useImperativeHandle:ib,useInsertionEffect:tb,useLayoutEffect:nb,useMemo:ob,useReducer:vm,useRef:eb,useState:function(){return vm(zu)},useDebugValue:w1,useDeferredValue:function(e){var t=Ni();return Fn===null?t.memoizedState=e:ab(t,Fn.memoizedState,e)},useTransition:function(){var e=vm(zu)[0],t=Ni().memoizedState;return[e,t]},useMutableSource:Gx,useSyncExternalStore:Kx,useId:lb,unstable_isNewReconciler:!1};function Bi(e,t){if(e&&e.defaultProps){t=un({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function F0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:un({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qf={isMounted:function(e){return(e=e._reactInternals)?Ea(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=br(),i=To(e),s=Rs(r,i);s.payload=t,n!=null&&(s.callback=n),t=Eo(e,s,i),t!==null&&(Hi(t,e,i,r),Lh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=br(),i=To(e),s=Rs(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Eo(e,s,i),t!==null&&(Hi(t,e,i,r),Lh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=br(),r=To(e),i=Rs(n,r);i.tag=2,t!=null&&(i.callback=t),t=Eo(e,i,r),t!==null&&(Hi(t,e,r,n),Lh(t,e,r))}};function G2(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ru(n,r)||!Ru(i,s):!0}function hb(e,t,n){var r=!1,i=Io,s=t.contextType;return typeof s=="object"&&s!==null?s=ki(s):(i=Rr(t)?ja:pr.current,r=t.contextTypes,s=(r=r!=null)?Wl(e,i):Io),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function K2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qf.enqueueReplaceState(t,t.state,null)}function R0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},d1(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ki(s):(s=Rr(t)?ja:pr.current,i.context=Wl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(F0(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qf.enqueueReplaceState(i,i.state,null),hf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Yl(e,t){try{var n="",r=t;do n+=fj(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ym(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function I0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Uk=typeof WeakMap=="function"?WeakMap:Map;function fb(e,t,n){n=Rs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vf||(vf=!0,H0=r),I0(e,t)},n}function pb(e,t,n){n=Rs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){I0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){I0(e,t),typeof r!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function J2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Uk;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=eN.bind(null,e,t,n),t.then(e,e))}function Y2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function X2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rs(-1,1),t.tag=2,Eo(n,t,1))),n.lanes|=1),e)}var zk=Vs.ReactCurrentOwner,Tr=!1;function xr(e,t,n,r){t.child=e===null?qx(t,null,n,r):Kl(t,e.child,n,r)}function Q2(e,t,n,r,i){n=n.render;var s=t.ref;return Bl(t,i),r=g1(e,t,n,r,s,i),n=v1(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i)):(nn&&n&&i1(t),t.flags|=1,xr(e,t,r,i),t.child)}function Z2(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!C1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,mb(e,t,s,r,i)):(e=Dh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ru,n(o,r)&&e.ref===t.ref)return zs(e,t,i)}return t.flags|=1,e=Fo(s,r),e.ref=t.ref,e.return=t,t.child=e}function mb(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ru(s,r)&&e.ref===t.ref)if(Tr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Tr=!0);else return t.lanes=e.lanes,zs(e,t,i)}return O0(e,t,n,r,i)}function gb(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(Cl,Yr),Yr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yt(Cl,Yr),Yr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Yt(Cl,Yr),Yr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Yt(Cl,Yr),Yr|=r;return xr(e,t,i,n),t.child}function vb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function O0(e,t,n,r,i){var s=Rr(n)?ja:pr.current;return s=Wl(t,s),Bl(t,i),n=g1(e,t,n,r,s,i),r=v1(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i)):(nn&&r&&i1(t),t.flags|=1,xr(e,t,n,i),t.child)}function ey(e,t,n,r,i){if(Rr(n)){var s=!0;af(t)}else s=!1;if(Bl(t,i),t.stateNode===null)Rh(e,t),hb(t,n,r),R0(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ki(u):(u=Rr(n)?ja:pr.current,u=Wl(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&K2(t,o,r,u),wo=!1;var m=t.memoizedState;o.state=m,hf(t,r,o,i),l=t.memoizedState,a!==r||m!==l||Fr.current||wo?(typeof h=="function"&&(F0(t,n,h,r),l=t.memoizedState),(a=wo||G2(t,n,a,r,m,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Hx(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Bi(t.type,a),o.props=u,f=t.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ki(l):(l=Rr(n)?ja:pr.current,l=Wl(t,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&K2(t,o,r,l),wo=!1,m=t.memoizedState,o.state=m,hf(t,r,o,i);var b=t.memoizedState;a!==f||m!==b||Fr.current||wo?(typeof g=="function"&&(F0(t,n,g,r),b=t.memoizedState),(u=wo||G2(t,n,u,r,m,b,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return D0(e,t,n,r,s,i)}function D0(e,t,n,r,i,s){vb(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&B2(t,n,!1),zs(e,t,s);r=t.stateNode,zk.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Kl(t,e.child,null,s),t.child=Kl(t,null,a,s)):xr(e,t,a,s),t.memoizedState=r.state,i&&B2(t,n,!0),t.child}function yb(e){var t=e.stateNode;t.pendingContext?M2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&M2(e,t.context,!1),h1(e,t.containerInfo)}function ty(e,t,n,r,i){return Gl(),o1(i),t.flags|=256,xr(e,t,n,r),t.child}var M0={dehydrated:null,treeContext:null,retryLane:0};function B0(e){return{baseLanes:e,cachePool:null,transitions:null}}function wb(e,t,n){var r=t.pendingProps,i=on.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Yt(on,i&1),e===null)return L0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wf(o,r,0,null),e=ba(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=B0(n),t.memoizedState=M0,e):x1(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $k(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Fo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Fo(a,s):(s=ba(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?B0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=M0,r}return s=e.child,e=s.sibling,r=Fo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function x1(e,t){return t=Wf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ah(e,t,n,r){return r!==null&&o1(r),Kl(t,e.child,null,n),e=x1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $k(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=ym(Error(Le(422))),ah(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Wf({mode:"visible",children:r.children},i,0,null),s=ba(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Kl(t,e.child,null,o),t.child.memoizedState=B0(o),t.memoizedState=M0,s);if(!(t.mode&1))return ah(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Le(419)),r=ym(s,r,void 0),ah(e,t,o,r)}if(a=(o&e.childLanes)!==0,Tr||a){if(r=qn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Us(e,i),Hi(r,e,i,-1))}return N1(),r=ym(Error(Le(421))),ah(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=tN.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Xr=Po(i.nextSibling),Zr=t,nn=!0,qi=null,e!==null&&(wi[xi++]=Ts,wi[xi++]=Fs,wi[xi++]=ka,Ts=e.id,Fs=e.overflow,ka=t),t=x1(t,r.children),t.flags|=4096,t)}function ny(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),T0(e.return,t,n)}function wm(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xb(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xr(e,t,r.children,n),r=on.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ny(e,n,t);else if(e.tag===19)ny(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Yt(on,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ff(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),wm(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ff(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}wm(t,!0,n,null,s);break;case"together":wm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ca|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Le(153));if(t.child!==null){for(e=t.child,n=Fo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qk(e,t,n){switch(t.tag){case 3:yb(t),Gl();break;case 5:Wx(t);break;case 1:Rr(t.type)&&af(t);break;case 4:h1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Yt(uf,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Yt(on,on.current&1),t.flags|=128,null):n&t.child.childLanes?wb(e,t,n):(Yt(on,on.current&1),e=zs(e,t,n),e!==null?e.sibling:null);Yt(on,on.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xb(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yt(on,on.current),r)break;return null;case 22:case 23:return t.lanes=0,gb(e,t,n)}return zs(e,t,n)}var bb,U0,Sb,_b;bb=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};U0=function(){};Sb=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ya(ls.current);var s=null;switch(n){case"input":i=l0(e,i),r=l0(e,r),s=[];break;case"select":i=un({},i,{value:void 0}),r=un({},r,{value:void 0}),s=[];break;case"textarea":i=d0(e,i),r=d0(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sf)}f0(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Qt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};_b=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gc(e,t){if(!nn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vk(e,t,n){var r=t.pendingProps;switch(s1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(t),null;case 1:return Rr(t.type)&&of(),rr(t),null;case 3:return r=t.stateNode,Jl(),en(Fr),en(pr),p1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(sh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qi!==null&&(K0(qi),qi=null))),U0(e,t),rr(t),null;case 5:f1(t);var i=ya(Bu.current);if(n=t.type,e!==null&&t.stateNode!=null)Sb(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Le(166));return rr(t),null}if(e=ya(ls.current),sh(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ss]=t,r[Du]=s,e=(t.mode&1)!==0,n){case"dialog":Qt("cancel",r),Qt("close",r);break;case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(i=0;i<ou.length;i++)Qt(ou[i],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"details":Qt("toggle",r);break;case"input":d2(r,s),Qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qt("invalid",r);break;case"textarea":f2(r,s),Qt("invalid",r)}f0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ih(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ih(r.textContent,a,e),i=["children",""+a]):Cu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Qt("scroll",r)}switch(n){case"input":Yd(r),h2(r,s,!0);break;case"textarea":Yd(r),p2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sf)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ss]=t,e[Du]=r,bb(e,t,!1,!1),t.stateNode=e;e:{switch(o=p0(n,r),n){case"dialog":Qt("cancel",e),Qt("close",e),i=r;break;case"iframe":case"object":case"embed":Qt("load",e),i=r;break;case"video":case"audio":for(i=0;i<ou.length;i++)Qt(ou[i],e);i=r;break;case"source":Qt("error",e),i=r;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),i=r;break;case"details":Qt("toggle",e),i=r;break;case"input":d2(e,r),i=l0(e,r),Qt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=un({},r,{value:void 0}),Qt("invalid",e);break;case"textarea":f2(e,r),i=d0(e,r),Qt("invalid",e);break;default:i=r}f0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ex(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Qw(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Au(e,l):typeof l=="number"&&Au(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Qt("scroll",e):l!=null&&Vg(e,s,l,o))}switch(n){case"input":Yd(e),h2(e,r,!1);break;case"textarea":Yd(e),p2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ro(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Il(e,!!r.multiple,s,!1):r.defaultValue!=null&&Il(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=sf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rr(t),null;case 6:if(e&&t.stateNode!=null)_b(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Le(166));if(n=ya(Bu.current),ya(ls.current),sh(t)){if(r=t.stateNode,n=t.memoizedProps,r[ss]=t,(s=r.nodeValue!==n)&&(e=Zr,e!==null))switch(e.tag){case 3:ih(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ih(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ss]=t,t.stateNode=r}return rr(t),null;case 13:if(en(on),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nn&&Xr!==null&&t.mode&1&&!(t.flags&128))zx(),Gl(),t.flags|=98560,s=!1;else if(s=sh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Le(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[ss]=t}else Gl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rr(t),s=!1}else qi!==null&&(K0(qi),qi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||on.current&1?Rn===0&&(Rn=3):N1())),t.updateQueue!==null&&(t.flags|=4),rr(t),null);case 4:return Jl(),U0(e,t),e===null&&Iu(t.stateNode.containerInfo),rr(t),null;case 10:return c1(t.type._context),rr(t),null;case 17:return Rr(t.type)&&of(),rr(t),null;case 19:if(en(on),s=t.memoizedState,s===null)return rr(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Gc(s,!1);else{if(Rn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ff(e),o!==null){for(t.flags|=128,Gc(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Yt(on,on.current&1|2),t.child}e=e.sibling}s.tail!==null&&Sn()>Xl&&(t.flags|=128,r=!0,Gc(s,!1),t.lanes=4194304)}else{if(!r)if(e=ff(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nn)return rr(t),null}else 2*Sn()-s.renderingStartTime>Xl&&n!==1073741824&&(t.flags|=128,r=!0,Gc(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Sn(),t.sibling=null,n=on.current,Yt(on,r?n&1|2:n&1),t):(rr(t),null);case 22:case 23:return k1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Yr&1073741824&&(rr(t),t.subtreeFlags&6&&(t.flags|=8192)):rr(t),null;case 24:return null;case 25:return null}throw Error(Le(156,t.tag))}function Hk(e,t){switch(s1(t),t.tag){case 1:return Rr(t.type)&&of(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jl(),en(Fr),en(pr),p1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return f1(t),null;case 13:if(en(on),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Le(340));Gl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return en(on),null;case 4:return Jl(),null;case 10:return c1(t.type._context),null;case 22:case 23:return k1(),null;case 24:return null;default:return null}}var lh=!1,dr=!1,Wk=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Nl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gn(e,t,r)}else n.current=null}function z0(e,t,n){try{n()}catch(r){gn(e,t,r)}}var ry=!1;function Gk(e,t){if(j0=tf,e=Ax(),r1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===n&&++u===i&&(a=o),m===s&&++h===r&&(l=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(k0={focusedElem:e,selectionRange:n},tf=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){t=Ge;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,k=b.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?_:Bi(t.type,_),k);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(E){gn(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}return b=ry,ry=!1,b}function vu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&z0(t,n,s)}i=i.next}while(i!==r)}}function Vf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jb(e){var t=e.alternate;t!==null&&(e.alternate=null,jb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ss],delete t[Du],delete t[A0],delete t[Pk],delete t[Ek])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kb(e){return e.tag===5||e.tag===3||e.tag===4}function iy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function q0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sf));else if(r!==4&&(e=e.child,e!==null))for(q0(e,t,n),e=e.sibling;e!==null;)q0(e,t,n),e=e.sibling}function V0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(V0(e,t,n),e=e.sibling;e!==null;)V0(e,t,n),e=e.sibling}var Kn=null,zi=!1;function ho(e,t,n){for(n=n.child;n!==null;)Nb(e,t,n),n=n.sibling}function Nb(e,t,n){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(Of,n)}catch{}switch(n.tag){case 5:dr||Nl(n,t);case 6:var r=Kn,i=zi;Kn=null,ho(e,t,n),Kn=r,zi=i,Kn!==null&&(zi?(e=Kn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Kn.removeChild(n.stateNode));break;case 18:Kn!==null&&(zi?(e=Kn,n=n.stateNode,e.nodeType===8?hm(e.parentNode,n):e.nodeType===1&&hm(e,n),Tu(e)):hm(Kn,n.stateNode));break;case 4:r=Kn,i=zi,Kn=n.stateNode.containerInfo,zi=!0,ho(e,t,n),Kn=r,zi=i;break;case 0:case 11:case 14:case 15:if(!dr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&z0(n,t,o),i=i.next}while(i!==r)}ho(e,t,n);break;case 1:if(!dr&&(Nl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gn(n,t,a)}ho(e,t,n);break;case 21:ho(e,t,n);break;case 22:n.mode&1?(dr=(r=dr)||n.memoizedState!==null,ho(e,t,n),dr=r):ho(e,t,n);break;default:ho(e,t,n)}}function sy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wk),t.forEach(function(r){var i=nN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ri(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Kn=a.stateNode,zi=!1;break e;case 3:Kn=a.stateNode.containerInfo,zi=!0;break e;case 4:Kn=a.stateNode.containerInfo,zi=!0;break e}a=a.return}if(Kn===null)throw Error(Le(160));Nb(s,o,i),Kn=null,zi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){gn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cb(t,e),t=t.sibling}function Cb(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ri(t,e),ns(e),r&4){try{vu(3,e,e.return),Vf(3,e)}catch(_){gn(e,e.return,_)}try{vu(5,e,e.return)}catch(_){gn(e,e.return,_)}}break;case 1:Ri(t,e),ns(e),r&512&&n!==null&&Nl(n,n.return);break;case 5:if(Ri(t,e),ns(e),r&512&&n!==null&&Nl(n,n.return),e.flags&32){var i=e.stateNode;try{Au(i,"")}catch(_){gn(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Jw(i,s),p0(a,o);var u=p0(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?ex(i,f):h==="dangerouslySetInnerHTML"?Qw(i,f):h==="children"?Au(i,f):Vg(i,h,f,u)}switch(a){case"input":c0(i,s);break;case"textarea":Yw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Il(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?Il(i,!!s.multiple,s.defaultValue,!0):Il(i,!!s.multiple,s.multiple?[]:"",!1))}i[Du]=s}catch(_){gn(e,e.return,_)}}break;case 6:if(Ri(t,e),ns(e),r&4){if(e.stateNode===null)throw Error(Le(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){gn(e,e.return,_)}}break;case 3:if(Ri(t,e),ns(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tu(t.containerInfo)}catch(_){gn(e,e.return,_)}break;case 4:Ri(t,e),ns(e);break;case 13:Ri(t,e),ns(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_1=Sn())),r&4&&sy(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(dr=(u=dr)||h,Ri(t,e),dr=u):Ri(t,e),ns(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Ge=e,h=e.child;h!==null;){for(f=Ge=h;Ge!==null;){switch(m=Ge,g=m.child,m.tag){case 0:case 11:case 14:case 15:vu(4,m,m.return);break;case 1:Nl(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(_){gn(r,n,_)}}break;case 5:Nl(m,m.return);break;case 22:if(m.memoizedState!==null){ay(f);continue}}g!==null?(g.return=m,Ge=g):ay(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Zw("display",o))}catch(_){gn(e,e.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){gn(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ri(t,e),ns(e),r&4&&sy(e);break;case 21:break;default:Ri(t,e),ns(e)}}function ns(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kb(n)){var r=n;break e}n=n.return}throw Error(Le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Au(i,""),r.flags&=-33);var s=iy(e);V0(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=iy(e);q0(e,a,o);break;default:throw Error(Le(161))}}catch(l){gn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kk(e,t,n){Ge=e,Ab(e)}function Ab(e,t,n){for(var r=(e.mode&1)!==0;Ge!==null;){var i=Ge,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||lh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||dr;a=lh;var u=dr;if(lh=o,(dr=l)&&!u)for(Ge=i;Ge!==null;)o=Ge,l=o.child,o.tag===22&&o.memoizedState!==null?ly(i):l!==null?(l.return=o,Ge=l):ly(i);for(;s!==null;)Ge=s,Ab(s),s=s.sibling;Ge=i,lh=a,dr=u}oy(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ge=s):oy(e)}}function oy(e){for(;Ge!==null;){var t=Ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dr||Vf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Bi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&V2(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}V2(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Tu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}dr||t.flags&512&&$0(t)}catch(m){gn(t,t.return,m)}}if(t===e){Ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ge=n;break}Ge=t.return}}function ay(e){for(;Ge!==null;){var t=Ge;if(t===e){Ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ge=n;break}Ge=t.return}}function ly(e){for(;Ge!==null;){var t=Ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vf(4,t)}catch(l){gn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){gn(t,i,l)}}var s=t.return;try{$0(t)}catch(l){gn(t,s,l)}break;case 5:var o=t.return;try{$0(t)}catch(l){gn(t,o,l)}}}catch(l){gn(t,t.return,l)}if(t===e){Ge=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ge=a;break}Ge=t.return}}var Jk=Math.ceil,gf=Vs.ReactCurrentDispatcher,b1=Vs.ReactCurrentOwner,_i=Vs.ReactCurrentBatchConfig,Et=0,qn=null,En=null,Xn=0,Yr=0,Cl=zo(0),Rn=0,qu=null,Ca=0,Hf=0,S1=0,yu=null,Er=null,_1=0,Xl=1/0,As=null,vf=!1,H0=null,Lo=null,ch=!1,jo=null,yf=0,wu=0,W0=null,Ih=-1,Oh=0;function br(){return Et&6?Sn():Ih!==-1?Ih:Ih=Sn()}function To(e){return e.mode&1?Et&2&&Xn!==0?Xn&-Xn:Tk.transition!==null?(Oh===0&&(Oh=hx()),Oh):(e=Mt,e!==0||(e=window.event,e=e===void 0?16:wx(e.type)),e):1}function Hi(e,t,n,r){if(50<wu)throw wu=0,W0=null,Error(Le(185));Zu(e,n,r),(!(Et&2)||e!==qn)&&(e===qn&&(!(Et&2)&&(Hf|=n),Rn===4&&bo(e,Xn)),Ir(e,r),n===1&&Et===0&&!(t.mode&1)&&(Xl=Sn()+500,zf&&$o()))}function Ir(e,t){var n=e.callbackNode;Tj(e,t);var r=ef(e,e===qn?Xn:0);if(r===0)n!==null&&v2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&v2(n),t===1)e.tag===0?Lk(cy.bind(null,e)):Mx(cy.bind(null,e)),Ck(function(){!(Et&6)&&$o()}),n=null;else{switch(fx(r)){case 1:n=Jg;break;case 4:n=ux;break;case 16:n=Zh;break;case 536870912:n=dx;break;default:n=Zh}n=Ob(n,Pb.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Pb(e,t){if(Ih=-1,Oh=0,Et&6)throw Error(Le(327));var n=e.callbackNode;if(Ul()&&e.callbackNode!==n)return null;var r=ef(e,e===qn?Xn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=wf(e,r);else{t=r;var i=Et;Et|=2;var s=Lb();(qn!==e||Xn!==t)&&(As=null,Xl=Sn()+500,xa(e,t));do try{Qk();break}catch(a){Eb(e,a)}while(1);l1(),gf.current=s,Et=i,En!==null?t=0:(qn=null,Xn=0,t=Rn)}if(t!==0){if(t===2&&(i=w0(e),i!==0&&(r=i,t=G0(e,i))),t===1)throw n=qu,xa(e,0),bo(e,r),Ir(e,Sn()),n;if(t===6)bo(e,r);else{if(i=e.current.alternate,!(r&30)&&!Yk(i)&&(t=wf(e,r),t===2&&(s=w0(e),s!==0&&(r=s,t=G0(e,s))),t===1))throw n=qu,xa(e,0),bo(e,r),Ir(e,Sn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Le(345));case 2:ca(e,Er,As);break;case 3:if(bo(e,r),(r&130023424)===r&&(t=_1+500-Sn(),10<t)){if(ef(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){br(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=C0(ca.bind(null,e,Er,As),t);break}ca(e,Er,As);break;case 4:if(bo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Vi(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jk(r/1960))-r,10<r){e.timeoutHandle=C0(ca.bind(null,e,Er,As),r);break}ca(e,Er,As);break;case 5:ca(e,Er,As);break;default:throw Error(Le(329))}}}return Ir(e,Sn()),e.callbackNode===n?Pb.bind(null,e):null}function G0(e,t){var n=yu;return e.current.memoizedState.isDehydrated&&(xa(e,t).flags|=256),e=wf(e,t),e!==2&&(t=Er,Er=n,t!==null&&K0(t)),e}function K0(e){Er===null?Er=e:Er.push.apply(Er,e)}function Yk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wi(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bo(e,t){for(t&=~S1,t&=~Hf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vi(t),r=1<<n;e[n]=-1,t&=~r}}function cy(e){if(Et&6)throw Error(Le(327));Ul();var t=ef(e,0);if(!(t&1))return Ir(e,Sn()),null;var n=wf(e,t);if(e.tag!==0&&n===2){var r=w0(e);r!==0&&(t=r,n=G0(e,r))}if(n===1)throw n=qu,xa(e,0),bo(e,t),Ir(e,Sn()),n;if(n===6)throw Error(Le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ca(e,Er,As),Ir(e,Sn()),null}function j1(e,t){var n=Et;Et|=1;try{return e(t)}finally{Et=n,Et===0&&(Xl=Sn()+500,zf&&$o())}}function Aa(e){jo!==null&&jo.tag===0&&!(Et&6)&&Ul();var t=Et;Et|=1;var n=_i.transition,r=Mt;try{if(_i.transition=null,Mt=1,e)return e()}finally{Mt=r,_i.transition=n,Et=t,!(Et&6)&&$o()}}function k1(){Yr=Cl.current,en(Cl)}function xa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Nk(n)),En!==null)for(n=En.return;n!==null;){var r=n;switch(s1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&of();break;case 3:Jl(),en(Fr),en(pr),p1();break;case 5:f1(r);break;case 4:Jl();break;case 13:en(on);break;case 19:en(on);break;case 10:c1(r.type._context);break;case 22:case 23:k1()}n=n.return}if(qn=e,En=e=Fo(e.current,null),Xn=Yr=t,Rn=0,qu=null,S1=Hf=Ca=0,Er=yu=null,va!==null){for(t=0;t<va.length;t++)if(n=va[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}va=null}return e}function Eb(e,t){do{var n=En;try{if(l1(),Th.current=mf,pf){for(var r=ln.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pf=!1}if(Na=0,zn=Fn=ln=null,gu=!1,Uu=0,b1.current=null,n===null||n.return===null){Rn=1,qu=t,En=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Xn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Y2(o);if(g!==null){g.flags&=-257,X2(g,o,a,s,t),g.mode&1&&J2(s,u,t),t=g,l=u;var b=t.updateQueue;if(b===null){var _=new Set;_.add(l),t.updateQueue=_}else b.add(l);break e}else{if(!(t&1)){J2(s,u,t),N1();break e}l=Error(Le(426))}}else if(nn&&a.mode&1){var k=Y2(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),X2(k,o,a,s,t),o1(Yl(l,a));break e}}s=l=Yl(l,a),Rn!==4&&(Rn=2),yu===null?yu=[s]:yu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=fb(s,l,t);q2(s,y);break e;case 1:a=l;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Lo===null||!Lo.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=pb(s,a,t);q2(s,E);break e}}s=s.return}while(s!==null)}Fb(n)}catch(I){t=I,En===n&&n!==null&&(En=n=n.return);continue}break}while(1)}function Lb(){var e=gf.current;return gf.current=mf,e===null?mf:e}function N1(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),qn===null||!(Ca&268435455)&&!(Hf&268435455)||bo(qn,Xn)}function wf(e,t){var n=Et;Et|=2;var r=Lb();(qn!==e||Xn!==t)&&(As=null,xa(e,t));do try{Xk();break}catch(i){Eb(e,i)}while(1);if(l1(),Et=n,gf.current=r,En!==null)throw Error(Le(261));return qn=null,Xn=0,Rn}function Xk(){for(;En!==null;)Tb(En)}function Qk(){for(;En!==null&&!_j();)Tb(En)}function Tb(e){var t=Ib(e.alternate,e,Yr);e.memoizedProps=e.pendingProps,t===null?Fb(e):En=t,b1.current=null}function Fb(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Hk(n,t),n!==null){n.flags&=32767,En=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rn=6,En=null;return}}else if(n=Vk(n,t,Yr),n!==null){En=n;return}if(t=t.sibling,t!==null){En=t;return}En=t=e}while(t!==null);Rn===0&&(Rn=5)}function ca(e,t,n){var r=Mt,i=_i.transition;try{_i.transition=null,Mt=1,Zk(e,t,n,r)}finally{_i.transition=i,Mt=r}return null}function Zk(e,t,n,r){do Ul();while(jo!==null);if(Et&6)throw Error(Le(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Le(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Fj(e,s),e===qn&&(En=qn=null,Xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ch||(ch=!0,Ob(Zh,function(){return Ul(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=_i.transition,_i.transition=null;var o=Mt;Mt=1;var a=Et;Et|=4,b1.current=null,Gk(e,n),Cb(n,e),wk(k0),tf=!!j0,k0=j0=null,e.current=n,Kk(n),jj(),Et=a,Mt=o,_i.transition=s}else e.current=n;if(ch&&(ch=!1,jo=e,yf=i),s=e.pendingLanes,s===0&&(Lo=null),Cj(n.stateNode),Ir(e,Sn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vf)throw vf=!1,e=H0,H0=null,e;return yf&1&&e.tag!==0&&Ul(),s=e.pendingLanes,s&1?e===W0?wu++:(wu=0,W0=e):wu=0,$o(),null}function Ul(){if(jo!==null){var e=fx(yf),t=_i.transition,n=Mt;try{if(_i.transition=null,Mt=16>e?16:e,jo===null)var r=!1;else{if(e=jo,jo=null,yf=0,Et&6)throw Error(Le(331));var i=Et;for(Et|=4,Ge=e.current;Ge!==null;){var s=Ge,o=s.child;if(Ge.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ge=u;Ge!==null;){var h=Ge;switch(h.tag){case 0:case 11:case 15:vu(8,h,s)}var f=h.child;if(f!==null)f.return=h,Ge=f;else for(;Ge!==null;){h=Ge;var m=h.sibling,g=h.return;if(jb(h),h===u){Ge=null;break}if(m!==null){m.return=g,Ge=m;break}Ge=g}}}var b=s.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var k=_.sibling;_.sibling=null,_=k}while(_!==null)}}Ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ge=o;else e:for(;Ge!==null;){if(s=Ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Ge=y;break e}Ge=s.return}}var x=e.current;for(Ge=x;Ge!==null;){o=Ge;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Ge=S;else e:for(o=x;Ge!==null;){if(a=Ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vf(9,a)}}catch(I){gn(a,a.return,I)}if(a===o){Ge=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ge=E;break e}Ge=a.return}}if(Et=i,$o(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(Of,e)}catch{}r=!0}return r}finally{Mt=n,_i.transition=t}}return!1}function uy(e,t,n){t=Yl(n,t),t=fb(e,t,1),e=Eo(e,t,1),t=br(),e!==null&&(Zu(e,1,t),Ir(e,t))}function gn(e,t,n){if(e.tag===3)uy(e,e,n);else for(;t!==null;){if(t.tag===3){uy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lo===null||!Lo.has(r))){e=Yl(n,e),e=pb(t,e,1),t=Eo(t,e,1),e=br(),t!==null&&(Zu(t,1,e),Ir(t,e));break}}t=t.return}}function eN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=br(),e.pingedLanes|=e.suspendedLanes&n,qn===e&&(Xn&n)===n&&(Rn===4||Rn===3&&(Xn&130023424)===Xn&&500>Sn()-_1?xa(e,0):S1|=n),Ir(e,t)}function Rb(e,t){t===0&&(e.mode&1?(t=Zd,Zd<<=1,!(Zd&130023424)&&(Zd=4194304)):t=1);var n=br();e=Us(e,t),e!==null&&(Zu(e,t,n),Ir(e,n))}function tN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rb(e,n)}function nN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Le(314))}r!==null&&r.delete(t),Rb(e,n)}var Ib;Ib=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fr.current)Tr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Tr=!1,qk(e,t,n);Tr=!!(e.flags&131072)}else Tr=!1,nn&&t.flags&1048576&&Bx(t,cf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Rh(e,t),e=t.pendingProps;var i=Wl(t,pr.current);Bl(t,n),i=g1(null,t,r,e,i,n);var s=v1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(r)?(s=!0,af(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,d1(t),i.updater=qf,t.stateNode=i,i._reactInternals=t,R0(t,r,e,n),t=D0(null,t,r,!0,s,n)):(t.tag=0,nn&&s&&i1(t),xr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Rh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=iN(r),e=Bi(r,e),i){case 0:t=O0(null,t,r,e,n);break e;case 1:t=ey(null,t,r,e,n);break e;case 11:t=Q2(null,t,r,e,n);break e;case 14:t=Z2(null,t,r,Bi(r.type,e),n);break e}throw Error(Le(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bi(r,i),O0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bi(r,i),ey(e,t,r,i,n);case 3:e:{if(yb(t),e===null)throw Error(Le(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Hx(e,t),hf(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Yl(Error(Le(423)),t),t=ty(e,t,r,n,i);break e}else if(r!==i){i=Yl(Error(Le(424)),t),t=ty(e,t,r,n,i);break e}else for(Xr=Po(t.stateNode.containerInfo.firstChild),Zr=t,nn=!0,qi=null,n=qx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gl(),r===i){t=zs(e,t,n);break e}xr(e,t,r,n)}t=t.child}return t;case 5:return Wx(t),e===null&&L0(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,N0(r,i)?o=null:s!==null&&N0(r,s)&&(t.flags|=32),vb(e,t),xr(e,t,o,n),t.child;case 6:return e===null&&L0(t),null;case 13:return wb(e,t,n);case 4:return h1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Kl(t,null,r,n):xr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bi(r,i),Q2(e,t,r,i,n);case 7:return xr(e,t,t.pendingProps,n),t.child;case 8:return xr(e,t,t.pendingProps.children,n),t.child;case 12:return xr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Yt(uf,r._currentValue),r._currentValue=o,s!==null)if(Wi(s.value,o)){if(s.children===i.children&&!Fr.current){t=zs(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Rs(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),T0(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Le(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),T0(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Bl(t,n),i=ki(i),r=r(i),t.flags|=1,xr(e,t,r,n),t.child;case 14:return r=t.type,i=Bi(r,t.pendingProps),i=Bi(r.type,i),Z2(e,t,r,i,n);case 15:return mb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bi(r,i),Rh(e,t),t.tag=1,Rr(r)?(e=!0,af(t)):e=!1,Bl(t,n),hb(t,r,i),R0(t,r,i,n),D0(null,t,r,!0,e,n);case 19:return xb(e,t,n);case 22:return gb(e,t,n)}throw Error(Le(156,t.tag))};function Ob(e,t){return cx(e,t)}function rN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(e,t,n,r){return new rN(e,t,n,r)}function C1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iN(e){if(typeof e=="function")return C1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wg)return 11;if(e===Gg)return 14}return 2}function Fo(e,t){var n=e.alternate;return n===null?(n=bi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dh(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")C1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case vl:return ba(n.children,i,s,t);case Hg:o=8,i|=8;break;case i0:return e=bi(12,n,t,i|2),e.elementType=i0,e.lanes=s,e;case s0:return e=bi(13,n,t,i),e.elementType=s0,e.lanes=s,e;case o0:return e=bi(19,n,t,i),e.elementType=o0,e.lanes=s,e;case Ww:return Wf(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vw:o=10;break e;case Hw:o=9;break e;case Wg:o=11;break e;case Gg:o=14;break e;case yo:o=16,r=null;break e}throw Error(Le(130,e==null?e:typeof e,""))}return t=bi(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ba(e,t,n,r){return e=bi(7,e,r,t),e.lanes=n,e}function Wf(e,t,n,r){return e=bi(22,e,r,t),e.elementType=Ww,e.lanes=n,e.stateNode={isHidden:!1},e}function xm(e,t,n){return e=bi(6,e,null,t),e.lanes=n,e}function bm(e,t,n){return t=bi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sN(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tm(0),this.expirationTimes=tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function A1(e,t,n,r,i,s,o,a,l){return e=new sN(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=bi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},d1(s),e}function oN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Db(e){if(!e)return Io;e=e._reactInternals;e:{if(Ea(e)!==e||e.tag!==1)throw Error(Le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Le(171))}if(e.tag===1){var n=e.type;if(Rr(n))return Dx(e,n,t)}return t}function Mb(e,t,n,r,i,s,o,a,l){return e=A1(n,r,!0,e,i,s,o,a,l),e.context=Db(null),n=e.current,r=br(),i=To(n),s=Rs(r,i),s.callback=t??null,Eo(n,s,i),e.current.lanes=i,Zu(e,i,r),Ir(e,r),e}function Gf(e,t,n,r){var i=t.current,s=br(),o=To(i);return n=Db(n),t.context===null?t.context=n:t.pendingContext=n,t=Rs(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Eo(i,t,o),e!==null&&(Hi(e,i,o,s),Lh(e,i,o)),o}function xf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function P1(e,t){dy(e,t),(e=e.alternate)&&dy(e,t)}function aN(){return null}var Bb=typeof reportError=="function"?reportError:function(e){console.error(e)};function E1(e){this._internalRoot=e}Kf.prototype.render=E1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Le(409));Gf(e,t,null,null)};Kf.prototype.unmount=E1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Aa(function(){Gf(null,e,null,null)}),t[Bs]=null}};function Kf(e){this._internalRoot=e}Kf.prototype.unstable_scheduleHydration=function(e){if(e){var t=gx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xo.length&&t!==0&&t<xo[n].priority;n++);xo.splice(n,0,e),n===0&&yx(e)}};function L1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hy(){}function lN(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=xf(o);s.call(u)}}var o=Mb(t,r,e,0,null,!1,!1,"",hy);return e._reactRootContainer=o,e[Bs]=o.current,Iu(e.nodeType===8?e.parentNode:e),Aa(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=xf(l);a.call(u)}}var l=A1(e,0,!1,null,null,!1,!1,"",hy);return e._reactRootContainer=l,e[Bs]=l.current,Iu(e.nodeType===8?e.parentNode:e),Aa(function(){Gf(t,l,n,r)}),l}function Yf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=xf(o);a.call(l)}}Gf(t,o,e,i)}else o=lN(n,t,e,i,r);return xf(o)}px=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=su(t.pendingLanes);n!==0&&(Yg(t,n|1),Ir(t,Sn()),!(Et&6)&&(Xl=Sn()+500,$o()))}break;case 13:Aa(function(){var r=Us(e,1);if(r!==null){var i=br();Hi(r,e,1,i)}}),P1(e,1)}};Xg=function(e){if(e.tag===13){var t=Us(e,134217728);if(t!==null){var n=br();Hi(t,e,134217728,n)}P1(e,134217728)}};mx=function(e){if(e.tag===13){var t=To(e),n=Us(e,t);if(n!==null){var r=br();Hi(n,e,t,r)}P1(e,t)}};gx=function(){return Mt};vx=function(e,t){var n=Mt;try{return Mt=e,t()}finally{Mt=n}};g0=function(e,t,n){switch(t){case"input":if(c0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Uf(r);if(!i)throw Error(Le(90));Kw(r),c0(r,i)}}}break;case"textarea":Yw(e,n);break;case"select":t=n.value,t!=null&&Il(e,!!n.multiple,t,!1)}};rx=j1;ix=Aa;var cN={usingClientEntryPoint:!1,Events:[td,bl,Uf,tx,nx,j1]},Kc={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uN={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ax(e),e===null?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||aN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{Of=uh.inject(uN),as=uh}catch{}}ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cN;ri.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L1(t))throw Error(Le(200));return oN(e,t,null,n)};ri.createRoot=function(e,t){if(!L1(e))throw Error(Le(299));var n=!1,r="",i=Bb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=A1(e,1,!1,null,null,n,!1,r,i),e[Bs]=t.current,Iu(e.nodeType===8?e.parentNode:e),new E1(t)};ri.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Le(188)):(e=Object.keys(e).join(","),Error(Le(268,e)));return e=ax(t),e=e===null?null:e.stateNode,e};ri.flushSync=function(e){return Aa(e)};ri.hydrate=function(e,t,n){if(!Jf(t))throw Error(Le(200));return Yf(null,e,t,!0,n)};ri.hydrateRoot=function(e,t,n){if(!L1(e))throw Error(Le(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Bb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Mb(t,null,e,1,n??null,i,!1,s,o),e[Bs]=t.current,Iu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kf(t)};ri.render=function(e,t,n){if(!Jf(t))throw Error(Le(200));return Yf(null,e,t,!1,n)};ri.unmountComponentAtNode=function(e){if(!Jf(e))throw Error(Le(40));return e._reactRootContainer?(Aa(function(){Yf(null,null,e,!1,function(){e._reactRootContainer=null,e[Bs]=null})}),!0):!1};ri.unstable_batchedUpdates=j1;ri.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jf(n))throw Error(Le(200));if(e==null||e._reactInternals===void 0)throw Error(Le(38));return Yf(e,t,n,!1,r)};ri.version="18.3.1-next-f1338f8080-20240426";function Ub(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ub)}catch(e){console.error(e)}}Ub(),Uw.exports=ri;var zb=Uw.exports;const $b=Dg(zb);var fy=zb;n0.createRoot=fy.createRoot,n0.hydrateRoot=fy.hydrateRoot;const dN="modulepreload",hN=function(e){return"/"+e},py={},hs=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=hN(s),s in py)return;py[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":dN,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var my="popstate";function fN(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return J0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vu(i)}return mN(t,n,null,e)}function cn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pN(){return Math.random().toString(36).substring(2,10)}function gy(e,t){return{usr:e.state,key:e.key,idx:t}}function J0(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?oc(t):t,state:n,key:t&&t.key||r||pN()}}function Vu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function oc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function mN(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let k=h(),y=k==null?null:k-u;u=k,l&&l({action:a,location:_.location,delta:y})}function m(k,y){a="PUSH";let x=J0(_.location,k,y);n&&n(x,k),u=h()+1;let S=gy(x,u),E=_.createHref(x);try{o.pushState(S,"",E)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(E)}s&&l&&l({action:a,location:_.location,delta:1})}function g(k,y){a="REPLACE";let x=J0(_.location,k,y);n&&n(x,k),u=h();let S=gy(x,u),E=_.createHref(x);o.replaceState(S,"",E),s&&l&&l({action:a,location:_.location,delta:0})}function b(k){return gN(k)}let _={get action(){return a},get location(){return e(i,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(my,f),l=k,()=>{i.removeEventListener(my,f),l=null}},createHref(k){return t(i,k)},createURL:b,encodeLocation(k){let y=b(k);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:g,go(k){return o.go(k)}};return _}function gN(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),cn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Vu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function qb(e,t,n="/"){return vN(e,t,n,!1)}function vN(e,t,n,r){let i=typeof t=="string"?oc(t):t,s=$s(i.pathname||"/",n);if(s==null)return null;let o=Vb(e);yN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=PN(s);a=CN(o[l],u,r)}return a}function Vb(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&l)return;cn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let f=Is([r,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(cn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Vb(o.children,t,m,f,l)),!(o.path==null&&!o.index)&&t.push({path:f,score:kN(f,o.index),routesMeta:m})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of Hb(o.path))s(o,a,!0,u)}),t}function Hb(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Hb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function yN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:NN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var wN=/^:[\w-]+$/,xN=3,bN=2,SN=1,_N=10,jN=-2,vy=e=>e==="*";function kN(e,t){let n=e.split("/"),r=n.length;return n.some(vy)&&(r+=jN),t&&(r+=bN),n.filter(i=>!vy(i)).reduce((i,s)=>i+(wN.test(s)?xN:s===""?SN:_N),r)}function NN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function CN(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?t:t.slice(s.length)||"/",f=bf({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),m=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=bf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Is([s,f.pathname]),pathnameBase:FN(Is([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Is([s,f.pathnameBase]))}return o}function bf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=AN(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:f},m)=>{if(h==="*"){let b=a[m]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=a[m];return f&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function AN(e,t=!1,n=!0){Gi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function PN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $s(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function EN(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?oc(e):e;return{pathname:n?n.startsWith("/")?n:LN(n,t):t,search:RN(r),hash:IN(i)}}function LN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sm(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Wb(e){let t=TN(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Gb(e,t,n,r=!1){let i;typeof e=="string"?i=oc(e):(i={...e},cn(!i.pathname||!i.pathname.includes("?"),Sm("?","pathname","search",i)),cn(!i.pathname||!i.pathname.includes("#"),Sm("#","pathname","hash",i)),cn(!i.search||!i.search.includes("#"),Sm("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?t[f]:"/"}let l=EN(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var Is=e=>e.join("/").replace(/\/\/+/g,"/"),FN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,IN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ON(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Kb=["POST","PUT","PATCH","DELETE"];new Set(Kb);var DN=["GET",...Kb];new Set(DN);var ac=F.createContext(null);ac.displayName="DataRouter";var Xf=F.createContext(null);Xf.displayName="DataRouterState";F.createContext(!1);var Jb=F.createContext({isTransitioning:!1});Jb.displayName="ViewTransition";var MN=F.createContext(new Map);MN.displayName="Fetchers";var BN=F.createContext(null);BN.displayName="Await";var fs=F.createContext(null);fs.displayName="Navigation";var rd=F.createContext(null);rd.displayName="Location";var Hs=F.createContext({outlet:null,matches:[],isDataRoute:!1});Hs.displayName="Route";var T1=F.createContext(null);T1.displayName="RouteError";function UN(e,{relative:t}={}){cn(id(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext(fs),{hash:i,pathname:s,search:o}=sd(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Is([n,s])),r.createHref({pathname:a,search:o,hash:i})}function id(){return F.useContext(rd)!=null}function qo(){return cn(id(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(rd).location}var Yb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xb(e){F.useContext(fs).static||F.useLayoutEffect(e)}function F1(){let{isDataRoute:e}=F.useContext(Hs);return e?ZN():zN()}function zN(){cn(id(),"useNavigate() may be used only in the context of a <Router> component.");let e=F.useContext(ac),{basename:t,navigator:n}=F.useContext(fs),{matches:r}=F.useContext(Hs),{pathname:i}=qo(),s=JSON.stringify(Wb(r)),o=F.useRef(!1);return Xb(()=>{o.current=!0}),F.useCallback((l,u={})=>{if(Gi(o.current,Yb),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=Gb(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Is([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,s,i,e])}F.createContext(null);function sd(e,{relative:t}={}){let{matches:n}=F.useContext(Hs),{pathname:r}=qo(),i=JSON.stringify(Wb(n));return F.useMemo(()=>Gb(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function $N(e,t){return Qb(e,t)}function Qb(e,t,n,r,i){var x;cn(id(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=F.useContext(fs),{matches:o}=F.useContext(Hs),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let S=f&&f.path||"";Zb(u,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let m=qo(),g;if(t){let S=typeof t=="string"?oc(t):t;cn(h==="/"||((x=S.pathname)==null?void 0:x.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=m;let b=g.pathname||"/",_=b;if(h!=="/"){let S=h.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(S.length).join("/")}let k=qb(e,{pathname:_});Gi(f||k!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Gi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=GN(k&&k.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Is([h,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:Is([h,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,n,r,i);return t&&y?F.createElement(rd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},y):y}function qN(){let e=QN(),t=ON(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:s},"ErrorBoundary")," or"," ",F.createElement("code",{style:s},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:i},n):null,o)}var VN=F.createElement(qN,null),HN=class extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?F.createElement(Hs.Provider,{value:this.props.routeContext},F.createElement(T1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WN({routeContext:e,match:t,children:n}){let r=F.useContext(ac);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(Hs.Provider,{value:e},n)}function GN(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let u=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);cn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:m}=n,g=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,h,f)=>{let m,g=!1,b=null,_=null;n&&(m=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||VN,a&&(l<0&&f===0?(Zb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,_=null):l===f&&(g=!0,_=h.route.hydrateFallbackElement||null)));let k=t.concat(s.slice(0,f+1)),y=()=>{let x;return m?x=b:g?x=_:h.route.Component?x=F.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=u,F.createElement(WN,{match:h,routeContext:{outlet:u,matches:k,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?F.createElement(HN,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:y(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):y()},null)}function R1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KN(e){let t=F.useContext(ac);return cn(t,R1(e)),t}function JN(e){let t=F.useContext(Xf);return cn(t,R1(e)),t}function YN(e){let t=F.useContext(Hs);return cn(t,R1(e)),t}function I1(e){let t=YN(e),n=t.matches[t.matches.length-1];return cn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function XN(){return I1("useRouteId")}function QN(){var r;let e=F.useContext(T1),t=JN("useRouteError"),n=I1("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function ZN(){let{router:e}=KN("useNavigate"),t=I1("useNavigate"),n=F.useRef(!1);return Xb(()=>{n.current=!0}),F.useCallback(async(i,s={})=>{Gi(n.current,Yb),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var yy={};function Zb(e,t,n){!t&&!yy[e]&&(yy[e]=!0,Gi(!1,n))}F.memo(e6);function e6({routes:e,future:t,state:n,unstable_onError:r}){return Qb(e,void 0,n,r,t)}function Mh(e){cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t6({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){cn(!id(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=F.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=oc(n));let{pathname:l="/",search:u="",hash:h="",state:f=null,key:m="default"}=n,g=F.useMemo(()=>{let b=$s(l,o);return b==null?null:{location:{pathname:b,search:u,hash:h,state:f,key:m},navigationType:r}},[o,l,u,h,f,m,r]);return Gi(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:F.createElement(fs.Provider,{value:a},F.createElement(rd.Provider,{children:t,value:g}))}function n6({children:e,location:t}){return $N(Y0(e),t)}function Y0(e,t=[]){let n=[];return F.Children.forEach(e,(r,i)=>{if(!F.isValidElement(r))return;let s=[...t,i];if(r.type===F.Fragment){n.push.apply(n,Y0(r.props.children,s));return}cn(r.type===Mh,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Y0(r.props.children,s)),n.push(o)}),n}var Bh="get",Uh="application/x-www-form-urlencoded";function Qf(e){return e!=null&&typeof e.tagName=="string"}function r6(e){return Qf(e)&&e.tagName.toLowerCase()==="button"}function i6(e){return Qf(e)&&e.tagName.toLowerCase()==="form"}function s6(e){return Qf(e)&&e.tagName.toLowerCase()==="input"}function o6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function a6(e,t){return e.button===0&&(!t||t==="_self")&&!o6(e)}function X0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function l6(e,t){let n=X0(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var dh=null;function c6(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var u6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(e){return e!=null&&!u6.has(e)?(Gi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):e}function d6(e,t){let n,r,i,s,o;if(i6(e)){let a=e.getAttribute("action");r=a?$s(a,t):null,n=e.getAttribute("method")||Bh,i=_m(e.getAttribute("enctype"))||Uh,s=new FormData(e)}else if(r6(e)||s6(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?$s(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Bh,i=_m(e.getAttribute("formenctype"))||_m(a.getAttribute("enctype"))||Uh,s=new FormData(a,e),!c6()){let{name:u,type:h,value:f}=e;if(h==="image"){let m=u?`${u}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else u&&s.append(u,f)}}else{if(Qf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bh,r=null,i=Uh,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function O1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function h6(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&$s(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function f6(e,t){if(e.id in t)return t[e.id];try{let n=await hs(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p6(e){return e!=null&&typeof e.page=="string"}function m6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function g6(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await f6(s,n);return o.links?o.links():[]}return[]}));return x6(r.flat(1).filter(m6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function wy(e,t,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var h;return n[u].pathname!==l.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{var f;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function v6(e,t,{includeHydrateFallback:n}={}){return y6(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function y6(e){return[...new Set(e)]}function w6(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function x6(e,t){let n=new Set,r=new Set(t);return e.reduce((i,s)=>{if(t&&!p6(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(w6(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function e3(){let e=F.useContext(ac);return O1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function b6(){let e=F.useContext(Xf);return O1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var D1=F.createContext(void 0);D1.displayName="FrameworkContext";function t3(){let e=F.useContext(D1);return O1(e,"You must render this element inside a <HydratedRouter> element"),e}function S6(e,t){let n=F.useContext(D1),[r,i]=F.useState(!1),[s,o]=F.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=t,m=F.useRef(null);F.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=y=>{y.forEach(x=>{o(x.isIntersecting)})},k=new IntersectionObserver(_,{threshold:.5});return m.current&&k.observe(m.current),()=>{k.disconnect()}}},[e]),F.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let g=()=>{i(!0)},b=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,m,{}]:[s,m,{onFocus:Jc(a,g),onBlur:Jc(l,b),onMouseEnter:Jc(u,g),onMouseLeave:Jc(h,b),onTouchStart:Jc(f,g)}]:[!1,m,{}]}function Jc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function _6({page:e,...t}){let{router:n}=e3(),r=F.useMemo(()=>qb(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?F.createElement(k6,{page:e,matches:r,...t}):null}function j6(e){let{manifest:t,routeModules:n}=t3(),[r,i]=F.useState([]);return F.useEffect(()=>{let s=!1;return g6(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function k6({page:e,matches:t,...n}){let r=qo(),{manifest:i,routeModules:s}=t3(),{basename:o}=e3(),{loaderData:a,matches:l}=b6(),u=F.useMemo(()=>wy(e,t,l,i,r,"data"),[e,t,l,i,r]),h=F.useMemo(()=>wy(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=F.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,_=!1;if(t.forEach(y=>{var S;let x=i.routes[y.route.id];!x||!x.hasLoader||(!u.some(E=>E.route.id===y.route.id)&&y.route.id in a&&((S=s[y.route.id])!=null&&S.shouldRevalidate)||x.hasClientLoader?_=!0:b.add(y.route.id))}),b.size===0)return[];let k=h6(e,o,"data");return _&&b.size>0&&k.searchParams.set("_routes",t.filter(y=>b.has(y.route.id)).map(y=>y.route.id).join(",")),[k.pathname+k.search]},[o,a,r,i,u,t,e,s]),m=F.useMemo(()=>v6(h,i),[h,i]),g=j6(h);return F.createElement(F.Fragment,null,f.map(b=>F.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),m.map(b=>F.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),g.map(({key:b,link:_})=>F.createElement("link",{key:b,nonce:n.nonce,..._})))}function N6(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var n3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n3&&(window.__reactRouterVersion="7.9.3")}catch{}function C6({basename:e,children:t,window:n}){let r=F.useRef();r.current==null&&(r.current=fN({window:n,v5Compat:!0}));let i=r.current,[s,o]=F.useState({action:i.action,location:i.location}),a=F.useCallback(l=>{F.startTransition(()=>o(l))},[o]);return F.useLayoutEffect(()=>i.listen(a),[i,a]),F.createElement(t6,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var r3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i3=F.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:f,...m},g){let{basename:b}=F.useContext(fs),_=typeof u=="string"&&r3.test(u),k,y=!1;if(typeof u=="string"&&_&&(k=u,n3))try{let K=new URL(window.location.href),Y=u.startsWith("//")?new URL(K.protocol+u):new URL(u),R=$s(Y.pathname,b);Y.origin===K.origin&&R!=null?u=R+Y.search+Y.hash:y=!0}catch{Gi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=UN(u,{relative:i}),[S,E,I]=S6(r,m),B=L6(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:f});function U(K){t&&t(K),K.defaultPrevented||B(K)}let O=F.createElement("a",{...m,...I,href:k||x,onClick:y||s?t:U,ref:N6(g,E),target:l,"data-discover":!_&&n==="render"?"true":void 0});return S&&!_?F.createElement(F.Fragment,null,O,F.createElement(_6,{page:x})):O});i3.displayName="Link";var A6=F.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},h){let f=sd(o,{relative:u.relative}),m=qo(),g=F.useContext(Xf),{navigator:b,basename:_}=F.useContext(fs),k=g!=null&&D6(f)&&a===!0,y=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,x=m.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(x=x.toLowerCase(),S=S?S.toLowerCase():null,y=y.toLowerCase()),S&&_&&(S=$s(S,_)||S);const E=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let I=x===y||!i&&x.startsWith(y)&&x.charAt(E)==="/",B=S!=null&&(S===y||!i&&S.startsWith(y)&&S.charAt(y.length)==="/"),U={isActive:I,isPending:B,isTransitioning:k},O=I?t:void 0,K;typeof r=="function"?K=r(U):K=[r,I?"active":null,B?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Y=typeof s=="function"?s(U):s;return F.createElement(i3,{...u,"aria-current":O,className:K,ref:h,style:Y,to:o,viewTransition:a},typeof l=="function"?l(U):l)});A6.displayName="NavLink";var P6=F.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Bh,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:f,...m},g)=>{let b=I6(),_=O6(a,{relative:u}),k=o.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&r3.test(a),x=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let E=S.nativeEvent.submitter,I=(E==null?void 0:E.getAttribute("formmethod"))||o;b(E||S.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:f})};return F.createElement("form",{ref:g,method:k,action:_,onSubmit:r?l:x,...m,"data-discover":!y&&e==="render"?"true":void 0})});P6.displayName="Form";function E6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s3(e){let t=F.useContext(ac);return cn(t,E6(e)),t}function L6(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=F1(),l=qo(),u=sd(e,{relative:s});return F.useCallback(h=>{if(a6(h,t)){h.preventDefault();let f=n!==void 0?n:Vu(l)===Vu(u);a(e,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,t,e,i,s,o])}function T6(e){Gi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=F.useRef(X0(e)),n=F.useRef(!1),r=qo(),i=F.useMemo(()=>l6(r.search,n.current?null:t.current),[r.search]),s=F1(),o=F.useCallback((a,l)=>{const u=X0(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}var F6=0,R6=()=>`__${String(++F6)}__`;function I6(){let{router:e}=s3("useSubmit"),{basename:t}=F.useContext(fs),n=XN();return F.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=d6(r,t);if(i.navigate===!1){let h=i.fetcherKey||R6();await e.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function O6(e,{relative:t}={}){let{basename:n}=F.useContext(fs),r=F.useContext(Hs);cn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...sd(e||".",{relative:t})},o=qo();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Is([n,s.pathname])),Vu(s)}function D6(e,{relative:t}={}){let n=F.useContext(Jb);cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=s3("useViewTransitionState"),i=sd(e,{relative:t});if(!n.isTransitioning)return!1;let s=$s(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=$s(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bf(i.pathname,o)!=null||bf(i.pathname,s)!=null}const M1=F.createContext({});function B1(e){const t=F.useRef(null);return t.current===null&&(t.current=e()),t.current}const Zf=F.createContext(null),U1=F.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class M6 extends F.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function B6({children:e,isPresent:t}){const n=F.useId(),r=F.useRef(null),i=F.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=F.useContext(U1);return F.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),c.jsx(M6,{isPresent:t,childRef:r,sizeRef:i,children:F.cloneElement(e,{ref:r})})}const U6=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=B1(z6),l=F.useId(),u=F.useCallback(f=>{a.set(f,!0);for(const m of a.values())if(!m)return;r&&r()},[a,r]),h=F.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:u,register:f=>(a.set(f,!1),()=>a.delete(f))}),s?[Math.random(),u]:[n,u]);return F.useMemo(()=>{a.forEach((f,m)=>a.set(m,!1))},[n]),F.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(B6,{isPresent:n,children:e})),c.jsx(Zf.Provider,{value:h,children:e})};function z6(){return new Map}function o3(e=!0){const t=F.useContext(Zf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=F.useId();F.useEffect(()=>{e&&i(s)},[e]);const o=F.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const hh=e=>e.key||"";function xy(e){const t=[];return F.Children.forEach(e,n=>{F.isValidElement(n)&&t.push(n)}),t}const z1=typeof window<"u",a3=z1?F.useLayoutEffect:F.useEffect,Si=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=o3(o),u=F.useMemo(()=>xy(e),[e]),h=o&&!a?[]:u.map(hh),f=F.useRef(!0),m=F.useRef(u),g=B1(()=>new Map),[b,_]=F.useState(u),[k,y]=F.useState(u);a3(()=>{f.current=!1,m.current=u;for(let E=0;E<k.length;E++){const I=hh(k[E]);h.includes(I)?g.delete(I):g.get(I)!==!0&&g.set(I,!1)}},[k,h.length,h.join("-")]);const x=[];if(u!==b){let E=[...u];for(let I=0;I<k.length;I++){const B=k[I],U=hh(B);h.includes(U)||(E.splice(I,0,B),x.push(B))}s==="wait"&&x.length&&(E=x),y(xy(E)),_(u);return}const{forceRender:S}=F.useContext(M1);return c.jsx(c.Fragment,{children:k.map(E=>{const I=hh(E),B=o&&!a?!1:u===k||h.includes(I),U=()=>{if(g.has(I))g.set(I,!0);else return;let O=!0;g.forEach(K=>{K||(O=!1)}),O&&(S==null||S(),y(m.current),o&&(l==null||l()),r&&r())};return c.jsx(U6,{isPresent:B,initial:!f.current||n?void 0:!1,custom:B?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:B?void 0:U,children:E},I)})})},ei=e=>e;let l3=ei;function $1(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ql=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Os=e=>e*1e3,Ds=e=>e/1e3,$6={skipAnimations:!1,useManualTiming:!1};function q6(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,h=!1,f=!1)=>{const g=f&&r?t:n;return h&&s.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const fh=["read","resolveKeyframes","update","preRender","render","postRender"],V6=40;function c3(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=fh.reduce((y,x)=>(y[x]=q6(s),y),{}),{read:a,resolveKeyframes:l,update:u,preRender:h,render:f,postRender:m}=o,g=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,V6),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),h.process(i),f.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(g))},b=()=>{n=!0,r=!0,i.isProcessing||e(g)};return{schedule:fh.reduce((y,x)=>{const S=o[x];return y[x]=(E,I=!1,B=!1)=>(n||b(),S.schedule(E,I,B)),y},{}),cancel:y=>{for(let x=0;x<fh.length;x++)o[fh[x]].cancel(y)},state:i,steps:o}}const{schedule:tn,cancel:Oo,state:Yn,steps:jm}=c3(typeof requestAnimationFrame<"u"?requestAnimationFrame:ei,!0),u3=F.createContext({strict:!1}),by={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zl={};for(const e in by)Zl[e]={isEnabled:t=>by[e].some(n=>!!t[n])};function H6(e){for(const t in e)Zl[t]={...Zl[t],...e[t]}}const W6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||W6.has(e)}let d3=e=>!Sf(e);function G6(e){e&&(d3=t=>t.startsWith("on")?!Sf(t):e(t))}try{G6(require("@emotion/is-prop-valid").default)}catch{}function K6(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(d3(i)||n===!0&&Sf(i)||!t&&!Sf(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function J6(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const ep=F.createContext({});function Hu(e){return typeof e=="string"||Array.isArray(e)}function tp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const q1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],V1=["initial",...q1];function np(e){return tp(e.animate)||V1.some(t=>Hu(e[t]))}function h3(e){return!!(np(e)||e.variants)}function Y6(e,t){if(np(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Hu(n)?n:void 0,animate:Hu(r)?r:void 0}}return e.inherit!==!1?t:{}}function X6(e){const{initial:t,animate:n}=Y6(e,F.useContext(ep));return F.useMemo(()=>({initial:t,animate:n}),[Sy(t),Sy(n)])}function Sy(e){return Array.isArray(e)?e.join(" "):e}const Q6=Symbol.for("motionComponentSymbol");function Al(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Z6(e,t,n){return F.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Al(n)&&(n.current=r))},[t])}const H1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eC="framerAppearId",f3="data-"+H1(eC),{schedule:W1,cancel:SR}=c3(queueMicrotask,!1),p3=F.createContext({});function tC(e,t,n,r,i){var s,o;const{visualElement:a}=F.useContext(ep),l=F.useContext(u3),u=F.useContext(Zf),h=F.useContext(U1).reducedMotion,f=F.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,g=F.useContext(p3);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&nC(f.current,n,i,g);const b=F.useRef(!1);F.useInsertionEffect(()=>{m&&b.current&&m.update(n,u)});const _=n[f3],k=F.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return a3(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),W1.render(m.render),k.current&&m.animationState&&m.animationState.animateChanges())}),F.useEffect(()=>{m&&(!k.current&&m.animationState&&m.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,_)}),k.current=!1))}),m}function nC(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:m3(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Al(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function m3(e){if(e)return e.options.allowProjection!==!1?e.projection:m3(e.parent)}function rC({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,o;e&&H6(e);function a(u,h){let f;const m={...F.useContext(U1),...u,layoutId:iC(u)},{isStatic:g}=m,b=X6(u),_=r(u,g);if(!g&&z1){sC();const k=oC(m);f=k.MeasureLayout,b.visualElement=tC(i,_,m,t,k.ProjectionNode)}return c.jsxs(ep.Provider,{value:b,children:[f&&b.visualElement?c.jsx(f,{visualElement:b.visualElement,...m}):null,n(i,u,Z6(_,b.visualElement,h),_,g,b.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=F.forwardRef(a);return l[Q6]=i,l}function iC({layoutId:e}){const t=F.useContext(M1).id;return t&&e!==void 0?t+"-"+e:e}function sC(e,t){F.useContext(u3).strict}function oC(e){const{drag:t,layout:n}=Zl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const aC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G1(e){return typeof e!="string"||e.includes("-")?!1:!!(aC.indexOf(e)>-1||/[A-Z]/u.test(e))}function _y(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function K1(e,t,n,r){if(typeof t=="function"){const[i,s]=_y(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=_y(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const Q0=e=>Array.isArray(e),lC=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),cC=e=>Q0(e)?e[e.length-1]||0:e,fr=e=>!!(e&&e.getVelocity);function zh(e){const t=fr(e)?e.get():e;return lC(t)?t.toValue():t}function uC({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const o={latestValues:dC(r,i,s,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const g3=e=>(t,n)=>{const r=F.useContext(ep),i=F.useContext(Zf),s=()=>uC(e,t,r,i);return n?s():B1(s)};function dC(e,t,n,r){const i={},s=r(e,{});for(const m in s)i[m]=zh(s[m]);let{initial:o,animate:a}=e;const l=np(e),u=h3(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!tp(f)){const m=Array.isArray(f)?f:[f];for(let g=0;g<m.length;g++){const b=K1(e,m[g]);if(b){const{transitionEnd:_,transition:k,...y}=b;for(const x in y){let S=y[x];if(Array.isArray(S)){const E=h?S.length-1:0;S=S[E]}S!==null&&(i[x]=S)}for(const x in _)i[x]=_[x]}}}return i}const lc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],La=new Set(lc),v3=e=>t=>typeof t=="string"&&t.startsWith(e),y3=v3("--"),hC=v3("var(--"),J1=e=>hC(e)?fC.test(e.split("/*")[0].trim()):!1,fC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,w3=(e,t)=>t&&typeof e=="number"?t.transform(e):e,qs=(e,t,n)=>n>t?t:n<e?e:n,cc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Wu={...cc,transform:e=>qs(0,1,e)},ph={...cc,default:1},od=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),go=od("deg"),cs=od("%"),ot=od("px"),pC=od("vh"),mC=od("vw"),jy={...cs,parse:e=>cs.parse(e)/100,transform:e=>cs.transform(e*100)},gC={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,radius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,top:ot,right:ot,bottom:ot,left:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,backgroundPositionX:ot,backgroundPositionY:ot},vC={rotate:go,rotateX:go,rotateY:go,rotateZ:go,scale:ph,scaleX:ph,scaleY:ph,scaleZ:ph,skew:go,skewX:go,skewY:go,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:Wu,originX:jy,originY:jy,originZ:ot},ky={...cc,transform:Math.round},Y1={...gC,...vC,zIndex:ky,size:ot,fillOpacity:Wu,strokeOpacity:Wu,numOctaves:ky},yC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wC=lc.length;function xC(e,t,n){let r="",i=!0;for(let s=0;s<wC;s++){const o=lc[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=w3(a,Y1[o]);if(!l){i=!1;const h=yC[o]||o;r+=`${h}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function X1(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(La.has(l)){o=!0;continue}else if(y3(l)){i[l]=u;continue}else{const h=w3(u,Y1[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(t.transform||(o||n?r.transform=xC(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${u} ${h}`}}const bC={offset:"stroke-dashoffset",array:"stroke-dasharray"},SC={offset:"strokeDashoffset",array:"strokeDasharray"};function _C(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?bC:SC;e[s.offset]=ot.transform(-r);const o=ot.transform(t),a=ot.transform(n);e[s.array]=`${o} ${a}`}function Ny(e,t,n){return typeof e=="string"?e:ot.transform(t+n*e)}function jC(e,t,n){const r=Ny(t,e.x,e.width),i=Ny(n,e.y,e.height);return`${r} ${i}`}function Q1(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},h,f){if(X1(e,u,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g,dimensions:b}=e;m.transform&&(b&&(g.transform=m.transform),delete m.transform),b&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=jC(b,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&_C(m,o,a,l,!1)}const Z1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),x3=()=>({...Z1(),attrs:{}}),ev=e=>typeof e=="string"&&e.toLowerCase()==="svg";function b3(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const S3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _3(e,t,n,r){b3(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(S3.has(i)?i:H1(i),t.attrs[i])}const _f={};function kC(e){Object.assign(_f,e)}function j3(e,{layout:t,layoutId:n}){return La.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!_f[e]||e==="opacity")}function tv(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(fr(i[o])||t.style&&fr(t.style[o])||j3(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function k3(e,t,n){const r=tv(e,t,n);for(const i in e)if(fr(e[i])||fr(t[i])){const s=lc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function NC(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Cy=["x","y","width","height","cx","cy","r"],CC={useVisualState:g3({scrapeMotionValuesFromProps:k3,createRenderState:x3,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in i)if(La.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<Cy.length;a++){const l=Cy[a];e[l]!==t[l]&&(o=!0)}o&&tn.read(()=>{NC(n,r),tn.render(()=>{Q1(r,i,ev(n.tagName),e.transformTemplate),_3(n,r)})})}})},AC={useVisualState:g3({scrapeMotionValuesFromProps:tv,createRenderState:Z1})};function N3(e,t,n){for(const r in t)!fr(t[r])&&!j3(r,n)&&(e[r]=t[r])}function PC({transformTemplate:e},t){return F.useMemo(()=>{const n=Z1();return X1(n,t,e),Object.assign({},n.vars,n.style)},[t])}function EC(e,t){const n=e.style||{},r={};return N3(r,n,e),Object.assign(r,PC(e,t)),r}function LC(e,t){const n={},r=EC(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function TC(e,t,n,r){const i=F.useMemo(()=>{const s=x3();return Q1(s,t,ev(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};N3(s,e.style,e),i.style={...s,...i.style}}return i}function FC(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(G1(n)?TC:LC)(r,s,o,n),u=K6(r,typeof n=="string",e),h=n!==F.Fragment?{...u,...l,ref:i}:{},{children:f}=r,m=F.useMemo(()=>fr(f)?f.get():f,[f]);return F.createElement(n,{...h,children:m})}}function RC(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...G1(r)?CC:AC,preloadedFeatures:e,useRender:FC(i),createVisualElement:t,Component:r};return rC(o)}}function C3(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function rp(e,t,n){const r=e.getProps();return K1(r,t,n!==void 0?n:r.custom,e)}const IC=$1(()=>window.ScrollTimeline!==void 0);class OC{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(IC()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class DC extends OC{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function nv(e,t){return e?e[t]||e.default||e:void 0}const Z0=2e4;function A3(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Z0;)t+=n,r=e.next(t);return t>=Z0?1/0:t}function rv(e){return typeof e=="function"}function Ay(e,t){e.timeline=t,e.onfinish=null}const iv=e=>Array.isArray(e)&&typeof e[0]=="number",MC={linearEasing:void 0};function BC(e,t){const n=$1(e);return()=>{var r;return(r=MC[t])!==null&&r!==void 0?r:n()}}const jf=BC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),P3=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(Ql(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function E3(e){return!!(typeof e=="function"&&jf()||!e||typeof e=="string"&&(e in eg||jf())||iv(e)||Array.isArray(e)&&e.every(E3))}const au=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,eg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function L3(e,t){if(e)return typeof e=="function"&&jf()?P3(e,t):iv(e)?au(e):Array.isArray(e)?e.map(n=>L3(n,t)||eg.easeOut):eg[e]}const Mi={x:!1,y:!1};function T3(){return Mi.x||Mi.y}function UC(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;t&&(i=t.current);const s=(r=n==null?void 0:n[e])!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function F3(e,t){const n=UC(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Py(e){return t=>{t.pointerType==="touch"||T3()||e(t)}}function zC(e,t,n={}){const[r,i,s]=F3(e,n),o=Py(a=>{const{target:l}=a,u=t(a);if(typeof u!="function"||!l)return;const h=Py(f=>{u(f),l.removeEventListener("pointerleave",h)});l.addEventListener("pointerleave",h,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const R3=(e,t)=>t?e===t?!0:R3(e,t.parentElement):!1,sv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,$C=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qC(e){return $C.has(e.tagName)||e.tabIndex!==-1}const lu=new WeakSet;function Ey(e){return t=>{t.key==="Enter"&&e(t)}}function km(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const VC=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Ey(()=>{if(lu.has(n))return;km(n,"down");const i=Ey(()=>{km(n,"up")}),s=()=>km(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Ly(e){return sv(e)&&!T3()}function HC(e,t,n={}){const[r,i,s]=F3(e,n),o=a=>{const l=a.currentTarget;if(!Ly(a)||lu.has(l))return;lu.add(l);const u=t(a),h=(g,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!Ly(g)||!lu.has(l))&&(lu.delete(l),typeof u=="function"&&u(g,{success:b}))},f=g=>{h(g,n.useGlobalTarget||R3(l,g.target))},m=g=>{h(g,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",m,i)};return r.forEach(a=>{!qC(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>VC(u,i),i)}),s}function WC(e){return e==="x"||e==="y"?Mi[e]?null:(Mi[e]=!0,()=>{Mi[e]=!1}):Mi.x||Mi.y?null:(Mi.x=Mi.y=!0,()=>{Mi.x=Mi.y=!1})}const I3=new Set(["width","height","top","left","right","bottom",...lc]);let $h;function GC(){$h=void 0}const us={now:()=>($h===void 0&&us.set(Yn.isProcessing||$6.useManualTiming?Yn.timestamp:performance.now()),$h),set:e=>{$h=e,queueMicrotask(GC)}};function ov(e,t){e.indexOf(t)===-1&&e.push(t)}function av(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class lv{constructor(){this.subscriptions=[]}add(t){return ov(this.subscriptions,t),()=>av(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function O3(e,t){return t?e*(1e3/t):0}const Ty=30,KC=e=>!isNaN(parseFloat(e));class JC{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=us.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=us.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=KC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new lv);const r=this.events[t].add(n);return t==="change"?()=>{r(),tn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=us.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Ty)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ty);return O3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gu(e,t){return new JC(e,t)}function YC(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Gu(n))}function XC(e,t){const n=rp(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=cC(s[o]);YC(e,o,a)}}function QC(e){return!!(fr(e)&&e.add)}function tg(e,t){const n=e.getValue("willChange");if(QC(n))return n.add(t)}function D3(e){return e.props[f3]}const M3=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ZC=1e-7,eA=12;function tA(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=M3(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>ZC&&++a<eA);return o}function ad(e,t,n,r){if(e===t&&n===r)return ei;const i=s=>tA(s,0,1,e,n);return s=>s===0||s===1?s:M3(i(s),t,r)}const B3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,U3=e=>t=>1-e(1-t),z3=ad(.33,1.53,.69,.99),cv=U3(z3),$3=B3(cv),q3=e=>(e*=2)<1?.5*cv(e):.5*(2-Math.pow(2,-10*(e-1))),uv=e=>1-Math.sin(Math.acos(e)),V3=U3(uv),H3=B3(uv),W3=e=>/^0[^.\s]+$/u.test(e);function nA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||W3(e):!0}const xu=e=>Math.round(e*1e5)/1e5,dv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rA(e){return e==null}const iA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hv=(e,t)=>n=>!!(typeof n=="string"&&iA.test(n)&&n.startsWith(e)||t&&!rA(n)&&Object.prototype.hasOwnProperty.call(n,t)),G3=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(dv);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},sA=e=>qs(0,255,e),Nm={...cc,transform:e=>Math.round(sA(e))},wa={test:hv("rgb","red"),parse:G3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Nm.transform(e)+", "+Nm.transform(t)+", "+Nm.transform(n)+", "+xu(Wu.transform(r))+")"};function oA(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ng={test:hv("#"),parse:oA,transform:wa.transform},Pl={test:hv("hsl","hue"),parse:G3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+cs.transform(xu(t))+", "+cs.transform(xu(n))+", "+xu(Wu.transform(r))+")"},ur={test:e=>wa.test(e)||ng.test(e)||Pl.test(e),parse:e=>wa.test(e)?wa.parse(e):Pl.test(e)?Pl.parse(e):ng.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?wa.transform(e):Pl.transform(e)},aA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lA(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(dv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(aA))===null||n===void 0?void 0:n.length)||0)>0}const K3="number",J3="color",cA="var",uA="var(",Fy="${}",dA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ku(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(dA,l=>(ur.test(l)?(r.color.push(s),i.push(J3),n.push(ur.parse(l))):l.startsWith(uA)?(r.var.push(s),i.push(cA),n.push(l)):(r.number.push(s),i.push(K3),n.push(parseFloat(l))),++s,Fy)).split(Fy);return{values:n,split:a,indexes:r,types:i}}function Y3(e){return Ku(e).values}function X3(e){const{split:t,types:n}=Ku(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===K3?s+=xu(i[o]):a===J3?s+=ur.transform(i[o]):s+=i[o]}return s}}const hA=e=>typeof e=="number"?0:e;function fA(e){const t=Y3(e);return X3(e)(t.map(hA))}const Do={test:lA,parse:Y3,createTransformer:X3,getAnimatableNone:fA},pA=new Set(["brightness","contrast","saturate","opacity"]);function mA(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(dv)||[];if(!r)return e;const i=n.replace(r,"");let s=pA.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const gA=/\b([a-z-]*)\(.*?\)/gu,rg={...Do,getAnimatableNone:e=>{const t=e.match(gA);return t?t.map(mA).join(" "):e}},vA={...Y1,color:ur,backgroundColor:ur,outlineColor:ur,fill:ur,stroke:ur,borderColor:ur,borderTopColor:ur,borderRightColor:ur,borderBottomColor:ur,borderLeftColor:ur,filter:rg,WebkitFilter:rg},fv=e=>vA[e];function Q3(e,t){let n=fv(e);return n!==rg&&(n=Do),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const yA=new Set(["auto","none","0"]);function wA(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!yA.has(s)&&Ku(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=Q3(n,i)}const Ry=e=>e===cc||e===ot,Iy=(e,t)=>parseFloat(e.split(", ")[t]),Oy=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Iy(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?Iy(s[1],e):0}},xA=new Set(["x","y","z"]),bA=lc.filter(e=>!xA.has(e));function SA(e){const t=[];return bA.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ec={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Oy(4,13),y:Oy(5,14)};ec.translateX=ec.x;ec.translateY=ec.y;const Sa=new Set;let ig=!1,sg=!1;function Z3(){if(sg){const e=Array.from(Sa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=SA(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sg=!1,ig=!1,Sa.forEach(e=>e.complete()),Sa.clear()}function eS(){Sa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(sg=!0)})}function _A(){eS(),Z3()}class pv{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Sa.add(this),ig||(ig=!0,tn.read(eS),tn.resolveKeyframes(Z3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Sa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Sa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),jA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kA(e){const t=jA.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function nS(e,t,n=1){const[r,i]=kA(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return tS(o)?parseFloat(o):o}return J1(i)?nS(i,t,n+1):i}const rS=e=>t=>t.test(e),NA={test:e=>e==="auto",parse:e=>e},iS=[cc,ot,cs,go,mC,pC,NA],Dy=e=>iS.find(rS(e));class sS extends pv{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),J1(u))){const h=nS(u,n.current);h!==void 0&&(t[l]=h),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!I3.has(r)||t.length!==2)return;const[i,s]=t,o=Dy(i),a=Dy(s);if(o!==a)if(Ry(o)&&Ry(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)nA(t[i])&&r.push(i);r.length&&wA(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ec[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ec[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const My=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Do.test(e)||e==="0")&&!e.startsWith("url("));function CA(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function AA(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=My(i,t),a=My(s,t);return!o||!a?!1:CA(e)||(n==="spring"||rv(n))&&r}const PA=e=>e!==null;function ip(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(PA),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const EA=40;class oS{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=us.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>EA?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_A(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=us.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!AA(t,r,i,s))if(o)this.options.duration=0;else{l&&l(ip(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,n);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const an=(e,t,n)=>e+(t-e)*n;function Cm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function LA({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Cm(l,a,e+1/3),s=Cm(l,a,e),o=Cm(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function kf(e,t){return n=>n>0?t:e}const Am=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},TA=[ng,wa,Pl],FA=e=>TA.find(t=>t.test(e));function By(e){const t=FA(e);if(!t)return!1;let n=t.parse(e);return t===Pl&&(n=LA(n)),n}const Uy=(e,t)=>{const n=By(e),r=By(t);if(!n||!r)return kf(e,t);const i={...n};return s=>(i.red=Am(n.red,r.red,s),i.green=Am(n.green,r.green,s),i.blue=Am(n.blue,r.blue,s),i.alpha=an(n.alpha,r.alpha,s),wa.transform(i))},RA=(e,t)=>n=>t(e(n)),ld=(...e)=>e.reduce(RA),og=new Set(["none","hidden"]);function IA(e,t){return og.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function OA(e,t){return n=>an(e,t,n)}function mv(e){return typeof e=="number"?OA:typeof e=="string"?J1(e)?kf:ur.test(e)?Uy:BA:Array.isArray(e)?aS:typeof e=="object"?ur.test(e)?Uy:DA:kf}function aS(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>mv(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function DA(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=mv(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function MA(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const BA=(e,t)=>{const n=Do.createTransformer(t),r=Ku(e),i=Ku(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?og.has(e)&&!i.values.length||og.has(t)&&!r.values.length?IA(e,t):ld(aS(MA(r,i),i.values),n):kf(e,t)};function lS(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?an(e,t,n):mv(e)(e,t)}const UA=5;function cS(e,t,n){const r=Math.max(t-UA,0);return O3(n-e(r),t-r)}const mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pm=.001;function zA({duration:e=mn.duration,bounce:t=mn.bounce,velocity:n=mn.velocity,mass:r=mn.mass}){let i,s,o=1-t;o=qs(mn.minDamping,mn.maxDamping,o),e=qs(mn.minDuration,mn.maxDuration,Ds(e)),o<1?(i=u=>{const h=u*o,f=h*e,m=h-n,g=ag(u,o),b=Math.exp(-f);return Pm-m/g*b},s=u=>{const f=u*o*e,m=f*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,b=Math.exp(-f),_=ag(Math.pow(u,2),o);return(-i(u)+Pm>0?-1:1)*((m-g)*b)/_}):(i=u=>{const h=Math.exp(-u*e),f=(u-n)*e+1;return-Pm+h*f},s=u=>{const h=Math.exp(-u*e),f=(n-u)*(e*e);return h*f});const a=5/e,l=qA(i,s,a);if(e=Os(e),isNaN(l))return{stiffness:mn.stiffness,damping:mn.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const $A=12;function qA(e,t,n){let r=n;for(let i=1;i<$A;i++)r=r-e(r)/t(r);return r}function ag(e,t){return e*Math.sqrt(1-t*t)}const VA=["duration","bounce"],HA=["stiffness","damping","mass"];function zy(e,t){return t.some(n=>e[n]!==void 0)}function WA(e){let t={velocity:mn.velocity,stiffness:mn.stiffness,damping:mn.damping,mass:mn.mass,isResolvedFromDuration:!1,...e};if(!zy(e,HA)&&zy(e,VA))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*qs(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:mn.mass,stiffness:i,damping:s}}else{const n=zA(e);t={...t,...n,mass:mn.mass},t.isResolvedFromDuration=!0}return t}function uS(e=mn.visualDuration,t=mn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:h,duration:f,velocity:m,isResolvedFromDuration:g}=WA({...n,velocity:-Ds(n.velocity||0)}),b=m||0,_=u/(2*Math.sqrt(l*h)),k=o-s,y=Ds(Math.sqrt(l/h)),x=Math.abs(k)<5;r||(r=x?mn.restSpeed.granular:mn.restSpeed.default),i||(i=x?mn.restDelta.granular:mn.restDelta.default);let S;if(_<1){const I=ag(y,_);S=B=>{const U=Math.exp(-_*y*B);return o-U*((b+_*y*k)/I*Math.sin(I*B)+k*Math.cos(I*B))}}else if(_===1)S=I=>o-Math.exp(-y*I)*(k+(b+y*k)*I);else{const I=y*Math.sqrt(_*_-1);S=B=>{const U=Math.exp(-_*y*B),O=Math.min(I*B,300);return o-U*((b+_*y*k)*Math.sinh(O)+I*k*Math.cosh(O))/I}}const E={calculatedDuration:g&&f||null,next:I=>{const B=S(I);if(g)a.done=I>=f;else{let U=0;_<1&&(U=I===0?Os(b):cS(S,I,B));const O=Math.abs(U)<=r,K=Math.abs(o-B)<=i;a.done=O&&K}return a.value=a.done?o:B,a},toString:()=>{const I=Math.min(A3(E),Z0),B=P3(U=>E.next(I*U).value,I,30);return I+"ms "+B}};return E}function $y({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const f=e[0],m={done:!1,value:f},g=O=>a!==void 0&&O<a||l!==void 0&&O>l,b=O=>a===void 0?l:l===void 0||Math.abs(a-O)<Math.abs(l-O)?a:l;let _=n*t;const k=f+_,y=o===void 0?k:o(k);y!==k&&(_=y-f);const x=O=>-_*Math.exp(-O/r),S=O=>y+x(O),E=O=>{const K=x(O),Y=S(O);m.done=Math.abs(K)<=u,m.value=m.done?y:Y};let I,B;const U=O=>{g(m.value)&&(I=O,B=uS({keyframes:[m.value,b(m.value)],velocity:cS(S,O,m.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return U(0),{calculatedDuration:null,next:O=>{let K=!1;return!B&&I===void 0&&(K=!0,E(O),U(O)),I!==void 0&&O>=I?B.next(O-I):(!K&&E(O),m)}}}const GA=ad(.42,0,1,1),KA=ad(0,0,.58,1),dS=ad(.42,0,.58,1),JA=e=>Array.isArray(e)&&typeof e[0]!="number",YA={linear:ei,easeIn:GA,easeInOut:dS,easeOut:KA,circIn:uv,circInOut:H3,circOut:V3,backIn:cv,backInOut:$3,backOut:z3,anticipate:q3},qy=e=>{if(iv(e)){l3(e.length===4);const[t,n,r,i]=e;return ad(t,n,r,i)}else if(typeof e=="string")return YA[e];return e};function XA(e,t,n){const r=[],i=n||lS,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ei:t;a=ld(l,a)}r.push(a)}return r}function QA(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(l3(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=XA(t,r,i),l=a.length,u=h=>{if(o&&h<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(h<e[f+1]);f++);const m=Ql(e[f],e[f+1],h);return a[f](m)};return n?h=>u(qs(e[0],e[s-1],h)):u}function ZA(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Ql(0,t,r);e.push(an(n,1,i))}}function eP(e){const t=[0];return ZA(t,e.length-1),t}function tP(e,t){return e.map(n=>n*t)}function nP(e,t){return e.map(()=>t||dS).splice(0,e.length-1)}function Nf({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=JA(r)?r.map(qy):qy(r),s={done:!1,value:t[0]},o=tP(n&&n.length===t.length?n:eP(t),e),a=QA(o,t,{ease:Array.isArray(i)?i:nP(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const rP=e=>{const t=({timestamp:n})=>e(n);return{start:()=>tn.update(t,!0),stop:()=>Oo(t),now:()=>Yn.isProcessing?Yn.timestamp:us.now()}},iP={decay:$y,inertia:$y,tween:Nf,keyframes:Nf,spring:uS},sP=e=>e/100;class gv extends oS{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||pv,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=rv(n)?n:iP[n]||Nf;let l,u;a!==Nf&&typeof t[0]!="number"&&(l=ld(sP,lS(t[0],t[1])),t=[0,100]);const h=a({...this.options,keyframes:t});s==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=A3(h));const{calculatedDuration:f}=h,m=f+i,g=m*(r+1)-i;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:m,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:O}=this.options;return{done:!0,value:O[O.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:h,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:m,repeat:g,repeatType:b,repeatDelay:_,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-m*(this.speed>=0?1:-1),x=this.speed>=0?y<0:y>h;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let S=this.currentTime,E=s;if(g){const O=Math.min(this.currentTime,h)/f;let K=Math.floor(O),Y=O%1;!Y&&O>=1&&(Y=1),Y===1&&K--,K=Math.min(K,g+1),!!(K%2)&&(b==="reverse"?(Y=1-Y,_&&(Y-=_/f)):b==="mirror"&&(E=o)),S=qs(0,1,Y)*f}const I=x?{done:!1,value:l[0]}:E.next(S);a&&(I.value=a(I.value));let{done:B}=I;!x&&u!==null&&(B=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return U&&i!==void 0&&(I.value=ip(l,this.options,i)),k&&k(I.value),U&&this.finish(),I}get duration(){const{resolved:t}=this;return t?Ds(t.calculatedDuration):0}get time(){return Ds(this.currentTime)}set time(t){t=Os(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=rP,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const oP=new Set(["opacity","clipPath","filter","transform"]);function aP(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const h=L3(a,i);return Array.isArray(h)&&(u.easing=h),e.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const lP=$1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Cf=10,cP=2e4;function uP(e){return rv(e.type)||e.type==="spring"||!E3(e.ease)}function dP(e,t){const n=new gv({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<cP;)r=n.sample(s),i.push(r.value),s+=Cf;return{times:void 0,keyframes:i,duration:s-Cf,ease:"linear"}}const hS={anticipate:q3,backInOut:$3,circInOut:H3};function hP(e){return e in hS}class Vy extends oS{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new sS(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&jf()&&hP(s)&&(s=hS[s]),uP(this.options)){const{onComplete:f,onUpdate:m,motionValue:g,element:b,..._}=this.options,k=dP(t,_);t=k.keyframes,t.length===1&&(t[1]=t[0]),r=k.duration,i=k.times,s=k.ease,o="keyframes"}const h=aP(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:s});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(Ay(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;a.set(ip(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ds(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ds(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Os(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ei;const{animation:r}=n;Ay(r,t)}return ei}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:f,element:m,...g}=this.options,b=new gv({...g,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),_=Os(this.time);u.setWithVelocity(b.sample(_-Cf).value,b.sample(_).value,Cf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return lP()&&r&&oP.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const fP={type:"spring",stiffness:500,damping:25,restSpeed:10},pP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),mP={type:"keyframes",duration:.8},gP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vP=(e,{keyframes:t})=>t.length>2?mP:La.has(e)?e.startsWith("scale")?pP(t[1]):fP:gP;function yP({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const vv=(e,t,n,r={},i,s)=>o=>{const a=nv(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Os(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:m=>{t.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};yP(a)||(h={...h,...vP(e,h)}),h.duration&&(h.duration=Os(h.duration)),h.repeatDelay&&(h.repeatDelay=Os(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!s&&t.get()!==void 0){const m=ip(h.keyframes,a);if(m!==void 0)return tn.update(()=>{h.onUpdate(m),h.onComplete()}),new DC([])}return!s&&Vy.supports(h)?new Vy(h):new gv(h)};function wP({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function fS(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in l){const m=e.getValue(f,(s=e.latestValues[f])!==null&&s!==void 0?s:null),g=l[f];if(g===void 0||h&&wP(h,f))continue;const b={delay:n,...nv(o||{},f)};let _=!1;if(window.MotionHandoffAnimation){const y=D3(e);if(y){const x=window.MotionHandoffAnimation(y,f,tn);x!==null&&(b.startTime=x,_=!0)}}tg(e,f),m.start(vv(f,m,g,e.shouldReduceMotion&&I3.has(f)?{type:!1}:b,e,_));const k=m.animation;k&&u.push(k)}return a&&Promise.all(u).then(()=>{tn.update(()=>{a&&XC(e,a)})}),u}function lg(e,t,n={}){var r;const i=rp(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(fS(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=s;return xP(e,t,h+u,f,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,h]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function xP(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(bP).forEach((u,h)=>{u.notify("AnimationStart",t),o.push(lg(u,t,{...s,delay:n+l(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function bP(e,t){return e.sortNodePosition(t)}function SP(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>lg(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=lg(e,t,n);else{const i=typeof t=="function"?rp(e,t,n.custom):t;r=Promise.all(fS(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const _P=V1.length;function pS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?pS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<_P;n++){const r=V1[n],i=e.props[r];(Hu(i)||i===!1)&&(t[r]=i)}return t}const jP=[...q1].reverse(),kP=q1.length;function NP(e){return t=>Promise.all(t.map(({animation:n,options:r})=>SP(e,n,r)))}function CP(e){let t=NP(e),n=Hy(),r=!0;const i=l=>(u,h)=>{var f;const m=rp(e,h,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(m){const{transition:g,transitionEnd:b,..._}=m;u={...u,..._,...b}}return u};function s(l){t=l(e)}function o(l){const{props:u}=e,h=pS(e.parent)||{},f=[],m=new Set;let g={},b=1/0;for(let k=0;k<kP;k++){const y=jP[k],x=n[y],S=u[y]!==void 0?u[y]:h[y],E=Hu(S),I=y===l?x.isActive:null;I===!1&&(b=k);let B=S===h[y]&&S!==u[y]&&E;if(B&&r&&e.manuallyAnimateOnMount&&(B=!1),x.protectedKeys={...g},!x.isActive&&I===null||!S&&!x.prevProp||tp(S)||typeof S=="boolean")continue;const U=AP(x.prevProp,S);let O=U||y===l&&x.isActive&&!B&&E||k>b&&E,K=!1;const Y=Array.isArray(S)?S:[S];let R=Y.reduce(i(y),{});I===!1&&(R={});const{prevResolvedValues:P={}}=x,J={...P,...R},V=ae=>{O=!0,m.has(ae)&&(K=!0,m.delete(ae)),x.needsAnimating[ae]=!0;const W=e.getValue(ae);W&&(W.liveStyle=!1)};for(const ae in J){const W=R[ae],te=P[ae];if(g.hasOwnProperty(ae))continue;let Q=!1;Q0(W)&&Q0(te)?Q=!C3(W,te):Q=W!==te,Q?W!=null?V(ae):m.add(ae):W!==void 0&&m.has(ae)?V(ae):x.protectedKeys[ae]=!0}x.prevProp=S,x.prevResolvedValues=R,x.isActive&&(g={...g,...R}),r&&e.blockInitialAnimation&&(O=!1),O&&(!(B&&U)||K)&&f.push(...Y.map(ae=>({animation:ae,options:{type:y}})))}if(m.size){const k={};m.forEach(y=>{const x=e.getBaseTarget(y),S=e.getValue(y);S&&(S.liveStyle=!0),k[y]=x??null}),f.push({animation:k})}let _=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(f):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const f=o(l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Hy(),r=!0}}}function AP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!C3(t,e):!1}function ia(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hy(){return{animate:ia(!0),whileInView:ia(),whileHover:ia(),whileTap:ia(),whileDrag:ia(),whileFocus:ia(),exit:ia()}}class Vo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class PP extends Vo{constructor(t){super(t),t.animationState||(t.animationState=CP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();tp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let EP=0;class LP extends Vo{constructor(){super(...arguments),this.id=EP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const TP={animation:{Feature:PP},exit:{Feature:LP}};function Ju(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function cd(e){return{point:{x:e.pageX,y:e.pageY}}}const FP=e=>t=>sv(t)&&e(t,cd(t));function bu(e,t,n,r){return Ju(e,t,FP(n),r)}const Wy=(e,t)=>Math.abs(e-t);function RP(e,t){const n=Wy(e.x,t.x),r=Wy(e.y,t.y);return Math.sqrt(n**2+r**2)}class mS{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Lm(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=RP(f.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:b}=f,{timestamp:_}=Yn;this.history.push({...b,timestamp:_});const{onStart:k,onMove:y}=this.handlers;m||(k&&k(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Em(m,this.transformPagePoint),tn.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Lm(f.type==="pointercancel"?this.lastMoveEventInfo:Em(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,k),b&&b(f,k)},!sv(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=cd(t),a=Em(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Yn;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,Lm(a,this.history)),this.removeListeners=ld(bu(this.contextWindow,"pointermove",this.handlePointerMove),bu(this.contextWindow,"pointerup",this.handlePointerUp),bu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Oo(this.updatePoint)}}function Em(e,t){return t?{point:t(e.point)}:e}function Gy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Lm({point:e},t){return{point:e,delta:Gy(e,gS(t)),offset:Gy(e,IP(t)),velocity:OP(t,.1)}}function IP(e){return e[0]}function gS(e){return e[e.length-1]}function OP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=gS(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Os(t)));)n--;if(!r)return{x:0,y:0};const s=Ds(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const vS=1e-4,DP=1-vS,MP=1+vS,yS=.01,BP=0-yS,UP=0+yS;function ni(e){return e.max-e.min}function zP(e,t,n){return Math.abs(e-t)<=n}function Ky(e,t,n,r=.5){e.origin=r,e.originPoint=an(t.min,t.max,e.origin),e.scale=ni(n)/ni(t),e.translate=an(n.min,n.max,e.origin)-e.originPoint,(e.scale>=DP&&e.scale<=MP||isNaN(e.scale))&&(e.scale=1),(e.translate>=BP&&e.translate<=UP||isNaN(e.translate))&&(e.translate=0)}function Su(e,t,n,r){Ky(e.x,t.x,n.x,r?r.originX:void 0),Ky(e.y,t.y,n.y,r?r.originY:void 0)}function Jy(e,t,n){e.min=n.min+t.min,e.max=e.min+ni(t)}function $P(e,t,n){Jy(e.x,t.x,n.x),Jy(e.y,t.y,n.y)}function Yy(e,t,n){e.min=t.min-n.min,e.max=e.min+ni(t)}function _u(e,t,n){Yy(e.x,t.x,n.x),Yy(e.y,t.y,n.y)}function qP(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?an(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?an(n,e,r.max):Math.min(e,n)),e}function Xy(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function VP(e,{top:t,left:n,bottom:r,right:i}){return{x:Xy(e.x,n,i),y:Xy(e.y,t,r)}}function Qy(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function HP(e,t){return{x:Qy(e.x,t.x),y:Qy(e.y,t.y)}}function WP(e,t){let n=.5;const r=ni(e),i=ni(t);return i>r?n=Ql(t.min,t.max-r,e.min):r>i&&(n=Ql(e.min,e.max-i,t.min)),qs(0,1,n)}function GP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const cg=.35;function KP(e=cg){return e===!1?e=0:e===!0&&(e=cg),{x:Zy(e,"left","right"),y:Zy(e,"top","bottom")}}function Zy(e,t,n){return{min:e5(e,t),max:e5(e,n)}}function e5(e,t){return typeof e=="number"?e:e[t]||0}const t5=()=>({translate:0,scale:1,origin:0,originPoint:0}),El=()=>({x:t5(),y:t5()}),n5=()=>({min:0,max:0}),bn=()=>({x:n5(),y:n5()});function yi(e){return[e("x"),e("y")]}function wS({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function JP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function YP(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Tm(e){return e===void 0||e===1}function ug({scale:e,scaleX:t,scaleY:n}){return!Tm(e)||!Tm(t)||!Tm(n)}function ua(e){return ug(e)||xS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function xS(e){return r5(e.x)||r5(e.y)}function r5(e){return e&&e!=="0%"}function Af(e,t,n){const r=e-n,i=t*r;return n+i}function i5(e,t,n,r,i){return i!==void 0&&(e=Af(e,i,r)),Af(e,n,r)+t}function dg(e,t=0,n=1,r,i){e.min=i5(e.min,t,n,r,i),e.max=i5(e.max,t,n,r,i)}function bS(e,{x:t,y:n}){dg(e.x,t.translate,t.scale,t.originPoint),dg(e.y,n.translate,n.scale,n.originPoint)}const s5=.999999999999,o5=1.0000000000001;function XP(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Tl(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,bS(e,o)),r&&ua(s.latestValues)&&Tl(e,s.latestValues))}t.x<o5&&t.x>s5&&(t.x=1),t.y<o5&&t.y>s5&&(t.y=1)}function Ll(e,t){e.min=e.min+t,e.max=e.max+t}function a5(e,t,n,r,i=.5){const s=an(e.min,e.max,i);dg(e,t,n,s,r)}function Tl(e,t){a5(e.x,t.x,t.scaleX,t.scale,t.originX),a5(e.y,t.y,t.scaleY,t.scale,t.originY)}function SS(e,t){return wS(YP(e.getBoundingClientRect(),t))}function QP(e,t,n){const r=SS(e,n),{scroll:i}=t;return i&&(Ll(r.x,i.offset.x),Ll(r.y,i.offset.y)),r}const _S=({current:e})=>e?e.ownerDocument.defaultView:null,ZP=new WeakMap;class eE{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cd(h).point)},s=(h,f)=>{const{drag:m,dragPropagation:g,onDragStart:b}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WC(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yi(k=>{let y=this.getAxisMotionValue(k).get()||0;if(cs.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const S=x.layout.layoutBox[k];S&&(y=ni(S)*(parseFloat(y)/100))}}this.originPoint[k]=y}),b&&tn.postRender(()=>b(h,f)),tg(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:b,onDrag:_}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:k}=f;if(g&&this.currentDirection===null){this.currentDirection=tE(k),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,k),this.updateAxis("y",f.point,k),this.visualElement.render(),_&&_(h,f)},a=(h,f)=>this.stop(h,f),l=()=>yi(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new mS(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:_S(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&tn.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!mh(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=qP(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Al(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=VP(i.layoutBox,n):this.constraints=!1,this.elastic=KP(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&yi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=GP(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Al(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=QP(r,i.root,this.visualElement.getTransformPagePoint());let o=HP(i.layout.layoutBox,s);if(n){const a=n(JP(o));this.hasMutatedConstraints=!!a,a&&(o=wS(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=yi(h=>{if(!mh(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,b={type:"inertia",velocity:r?t[h]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,b)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return tg(this.visualElement,t),r.start(vv(t,r,0,n,this.visualElement,!1))}stopAnimation(){yi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){yi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){yi(n=>{const{drag:r}=this.getProps();if(!mh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-an(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Al(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};yi(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=WP({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yi(o=>{if(!mh(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(an(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;ZP.set(this.visualElement,this);const t=this.visualElement.current,n=bu(t,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Al(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),tn.read(r);const o=Ju(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(yi(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=cg,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function mh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function tE(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class nE extends Vo{constructor(t){super(t),this.removeGroupControls=ei,this.removeListeners=ei,this.controls=new eE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const l5=e=>(t,n)=>{e&&tn.postRender(()=>e(t,n))};class rE extends Vo{constructor(){super(...arguments),this.removePointerDownListener=ei}onPointerDown(t){this.session=new mS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_S(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:l5(t),onStart:l5(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&tn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=bu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function c5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ot.test(e))e=parseFloat(e);else return e;const n=c5(e,t.target.x),r=c5(e,t.target.y);return`${n}% ${r}%`}},iE={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Do.parse(e);if(i.length>5)return r;const s=Do.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=an(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class sE extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;kC(oE),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),qh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||tn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),W1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jS(e){const[t,n]=o3(),r=F.useContext(M1);return c.jsx(sE,{...e,layoutGroup:r,switchLayoutGroup:F.useContext(p3),isPresent:t,safeToRemove:n})}const oE={borderRadius:{...Yc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yc,borderTopRightRadius:Yc,borderBottomLeftRadius:Yc,borderBottomRightRadius:Yc,boxShadow:iE};function aE(e,t,n){const r=fr(e)?e:Gu(e);return r.start(vv("",r,t,n)),r.animation}function lE(e){return e instanceof SVGElement&&e.tagName!=="svg"}const cE=(e,t)=>e.depth-t.depth;class uE{constructor(){this.children=[],this.isDirty=!1}add(t){ov(this.children,t),this.isDirty=!0}remove(t){av(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cE),this.isDirty=!1,this.children.forEach(t)}}function dE(e,t){const n=us.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Oo(r),e(s-t))};return tn.read(r,!0),()=>Oo(r)}const kS=["TopLeft","TopRight","BottomLeft","BottomRight"],hE=kS.length,u5=e=>typeof e=="string"?parseFloat(e):e,d5=e=>typeof e=="number"||ot.test(e);function fE(e,t,n,r,i,s){i?(e.opacity=an(0,n.opacity!==void 0?n.opacity:1,pE(r)),e.opacityExit=an(t.opacity!==void 0?t.opacity:1,0,mE(r))):s&&(e.opacity=an(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<hE;o++){const a=`border${kS[o]}Radius`;let l=h5(t,a),u=h5(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||d5(l)===d5(u)?(e[a]=Math.max(an(u5(l),u5(u),r),0),(cs.test(u)||cs.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=an(t.rotate||0,n.rotate||0,r))}function h5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const pE=NS(0,.5,V3),mE=NS(.5,.95,ei);function NS(e,t,n){return r=>r<e?0:r>t?1:n(Ql(e,t,r))}function f5(e,t){e.min=t.min,e.max=t.max}function vi(e,t){f5(e.x,t.x),f5(e.y,t.y)}function p5(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function m5(e,t,n,r,i){return e-=t,e=Af(e,1/n,r),i!==void 0&&(e=Af(e,1/i,r)),e}function gE(e,t=0,n=1,r=.5,i,s=e,o=e){if(cs.test(t)&&(t=parseFloat(t),t=an(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=an(s.min,s.max,r);e===s&&(a-=t),e.min=m5(e.min,t,n,a,i),e.max=m5(e.max,t,n,a,i)}function g5(e,t,[n,r,i],s,o){gE(e,t[n],t[r],t[i],t.scale,s,o)}const vE=["x","scaleX","originX"],yE=["y","scaleY","originY"];function v5(e,t,n,r){g5(e.x,t,vE,n?n.x:void 0,r?r.x:void 0),g5(e.y,t,yE,n?n.y:void 0,r?r.y:void 0)}function y5(e){return e.translate===0&&e.scale===1}function CS(e){return y5(e.x)&&y5(e.y)}function w5(e,t){return e.min===t.min&&e.max===t.max}function wE(e,t){return w5(e.x,t.x)&&w5(e.y,t.y)}function x5(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function AS(e,t){return x5(e.x,t.x)&&x5(e.y,t.y)}function b5(e){return ni(e.x)/ni(e.y)}function S5(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class xE{constructor(){this.members=[]}add(t){ov(this.members,t),t.scheduleRender()}remove(t){if(av(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bE(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:m,skewX:g,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const da={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},cu=typeof window<"u"&&window.MotionDebug!==void 0,Fm=["","X","Y","Z"],SE={visibility:"hidden"},_5=1e3;let _E=0;function Rm(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function PS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=D3(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",tn,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&PS(r)}function ES({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=_E++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cu&&(da.totalNodes=da.resolvedTargetDeltas=da.recalculatedProjection=0),this.nodes.forEach(NE),this.nodes.forEach(LE),this.nodes.forEach(TE),this.nodes.forEach(CE),cu&&window.MotionDebug.record(da)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new uE)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new lv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=lE(o),this.instance=o;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=dE(m,250),qh.hasAnimatedSinceResize&&(qh.hasAnimatedSinceResize=!1,this.nodes.forEach(k5))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||DE,{onLayoutAnimationStart:k,onLayoutAnimationComplete:y}=h.getProps(),x=!this.targetLayout||!AS(this.targetLayout,b)||g,S=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,S);const E={...nv(_,"layout"),onPlay:k,onComplete:y};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else m||k5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Oo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FE),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(j5);return}this.isUpdating||this.nodes.forEach(PE),this.isUpdating=!1,this.nodes.forEach(EE),this.nodes.forEach(jE),this.nodes.forEach(kE),this.clearAllSnapshots();const a=us.now();Yn.delta=qs(0,1e3/60,a-Yn.timestamp),Yn.timestamp=a,Yn.isProcessing=!0,jm.update.process(Yn),jm.preRender.process(Yn),jm.render.process(Yn),Yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,W1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AE),this.sharedNodes.forEach(RE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!CS(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||ua(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),ME(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return bn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(BE))){const{scroll:h}=this.root;h&&(Ll(l.x,h.offset.x),Ll(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=bn();if(vi(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&vi(l,o),Ll(l.x,f.offset.x),Ll(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=bn();vi(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Tl(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ua(h.latestValues)&&Tl(l,h.latestValues)}return ua(this.latestValues)&&Tl(l,this.latestValues),l}removeTransform(o){const a=bn();vi(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ua(u.latestValues))continue;ug(u.latestValues)&&u.updateSnapshot();const h=bn(),f=u.measurePageBox();vi(h,f),v5(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return ua(this.latestValues)&&v5(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Yn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),_u(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=bn(),this.targetWithTransforms=bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$P(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vi(this.target,this.layout.layoutBox),bS(this.target,this.targetDelta)):vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),_u(this.relativeTargetOrigin,this.target,g.target),vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cu&&da.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ug(this.parent.latestValues)||xS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Yn.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;vi(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;XP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=bn());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p5(this.prevProjectionDelta.x,this.projectionDelta.x),p5(this.prevProjectionDelta.y,this.projectionDelta.y)),Su(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!S5(this.projectionDelta.x,this.prevProjectionDelta.x)||!S5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),cu&&da.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=El(),this.projectionDelta=El(),this.projectionDeltaWithTransform=El()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},f=El();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=bn(),g=l?l.source:void 0,b=this.layout?this.layout.source:void 0,_=g!==b,k=this.getStack(),y=!k||k.members.length<=1,x=!!(_&&!y&&this.options.crossfade===!0&&!this.path.some(OE));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const I=E/1e3;N5(f.x,o.x,I),N5(f.y,o.y,I),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_u(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IE(this.relativeTarget,this.relativeTargetOrigin,m,I),S&&wE(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=bn()),vi(S,this.relativeTarget)),_&&(this.animationValues=h,fE(h,u,this.latestValues,I,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Oo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tn.update(()=>{qh.hasAnimatedSinceResize=!0,this.currentAnimation=aE(0,_5,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&LS(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||bn();const f=ni(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const m=ni(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}vi(a,l),Tl(a,h),Su(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new xE),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Rm("z",o,u,this.animationValues);for(let h=0;h<Fm.length;h++)Rm(`rotate${Fm[h]}`,o,u,this.animationValues),Rm(`skew${Fm[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return SE;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=zh(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=zh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ua(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=bE(this.projectionDeltaWithTransform,this.treeScale,m),h&&(u.transform=h(m,u.transform));const{x:g,y:b}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in _f){if(m[_]===void 0)continue;const{correct:k,applyTo:y}=_f[_],x=u.transform==="none"?m[_]:k(m[_],f);if(y){const S=y.length;for(let E=0;E<S;E++)u[y[E]]=x}else u[_]=x}return this.options.layoutId&&(u.pointerEvents=f===this?zh(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(j5),this.root.sharedNodes.clear()}}}function jE(e){e.updateLayout()}function kE(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?yi(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],g=ni(m);m.min=r[f].min,m.max=m.min+g}):LS(s,n.layoutBox,r)&&yi(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],g=ni(r[f]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const a=El();Su(a,r,n.layoutBox);const l=El();o?Su(l,e.applyTransform(i,!0),n.measuredBox):Su(l,r,n.layoutBox);const u=!CS(a);let h=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const b=bn();_u(b,n.layoutBox,m.layoutBox);const _=bn();_u(_,r,g.layoutBox),AS(b,_)||(h=!0),f.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=b,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function NE(e){cu&&da.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function CE(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function AE(e){e.clearSnapshot()}function j5(e){e.clearMeasurements()}function PE(e){e.isLayoutDirty=!1}function EE(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function k5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function LE(e){e.resolveTargetDelta()}function TE(e){e.calcProjection()}function FE(e){e.resetSkewAndRotation()}function RE(e){e.removeLeadSnapshot()}function N5(e,t,n){e.translate=an(t.translate,0,n),e.scale=an(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function C5(e,t,n,r){e.min=an(t.min,n.min,r),e.max=an(t.max,n.max,r)}function IE(e,t,n,r){C5(e.x,t.x,n.x,r),C5(e.y,t.y,n.y,r)}function OE(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const DE={duration:.45,ease:[.4,0,.1,1]},A5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),P5=A5("applewebkit/")&&!A5("chrome/")?Math.round:ei;function E5(e){e.min=P5(e.min),e.max=P5(e.max)}function ME(e){E5(e.x),E5(e.y)}function LS(e,t,n){return e==="position"||e==="preserve-aspect"&&!zP(b5(t),b5(n),.2)}function BE(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const UE=ES({attachResizeListener:(e,t)=>Ju(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Im={current:void 0},TS=ES({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Im.current){const e=new UE({});e.mount(window),e.setOptions({layoutScroll:!0}),Im.current=e}return Im.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),zE={pan:{Feature:rE},drag:{Feature:nE,ProjectionNode:TS,MeasureLayout:jS}};function L5(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&tn.postRender(()=>s(t,cd(t)))}class $E extends Vo{mount(){const{current:t}=this.node;t&&(this.unmount=zC(t,n=>(L5(this.node,n,"Start"),r=>L5(this.node,r,"End"))))}unmount(){}}class qE extends Vo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ld(Ju(this.node.current,"focus",()=>this.onFocus()),Ju(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function T5(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&tn.postRender(()=>s(t,cd(t)))}class VE extends Vo{mount(){const{current:t}=this.node;t&&(this.unmount=HC(t,n=>(T5(this.node,n,"Start"),(r,{success:i})=>T5(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hg=new WeakMap,Om=new WeakMap,HE=e=>{const t=hg.get(e.target);t&&t(e)},WE=e=>{e.forEach(HE)};function GE({root:e,...t}){const n=e||document;Om.has(n)||Om.set(n,{});const r=Om.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(WE,{root:e,...t})),r[i]}function KE(e,t,n){const r=GE(t);return hg.set(e,n),r.observe(e),()=>{hg.delete(e),r.unobserve(e)}}const JE={some:0,all:1};class YE extends Vo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:JE[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=u?h:f;m&&m(l)};return KE(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(XE(t,n))&&this.startObserver()}unmount(){}}function XE({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const QE={inView:{Feature:YE},tap:{Feature:VE},focus:{Feature:qE},hover:{Feature:$E}},ZE={layout:{ProjectionNode:TS,MeasureLayout:jS}},fg={current:null},FS={current:!1};function eL(){if(FS.current=!0,!!z1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>fg.current=e.matches;e.addListener(t),t()}else fg.current=!1}const tL=[...iS,ur,Do],nL=e=>tL.find(rS(e)),F5=new WeakMap;function rL(e,t,n){for(const r in t){const i=t[r],s=n[r];if(fr(i))e.addValue(r,i);else if(fr(s))e.addValue(r,Gu(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Gu(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const R5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class iL{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=us.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,tn.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:h}=o;this.onUpdate=h,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=np(n),this.isVariantNode=h3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const b=m[g];l[g]!==void 0&&fr(b)&&b.set(l[g],!1)}}mount(t){this.current=t,F5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),FS.current||eL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){F5.delete(this.current),this.projection&&this.projection.unmount(),Oo(this.notifyUpdate),Oo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=La.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&tn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Zl){const n=Zl[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<R5.length;r++){const i=R5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=rL(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Gu(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(tS(i)||W3(i))?i=parseFloat(i):!nL(i)&&Do.test(n)&&(i=Q3(t,n)),this.setBaseTarget(t,fr(i)?i.get():i)),fr(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=K1(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!fr(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new lv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class RS extends iL{constructor(){super(...arguments),this.KeyframeResolver=sS}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;fr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function sL(e){return window.getComputedStyle(e)}class oL extends RS{constructor(){super(...arguments),this.type="html",this.renderInstance=b3}readValueFromInstance(t,n){if(La.has(n)){const r=fv(n);return r&&r.default||0}else{const r=sL(t),i=(y3(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return SS(t,n)}build(t,n,r){X1(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return tv(t,n,r)}}class aL extends RS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(La.has(n)){const r=fv(n);return r&&r.default||0}return n=S3.has(n)?n:H1(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return k3(t,n,r)}build(t,n,r){Q1(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){_3(t,n,r,i)}mount(t){this.isSVGTag=ev(t.tagName),super.mount(t)}}const lL=(e,t)=>G1(e)?new aL(t):new oL(t,{allowProjection:e!==F.Fragment}),cL=RC({...TP,...QE,...zE,...ZE},lL),Re=J6(cL);const uL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hs(()=>Promise.resolve().then(()=>uc),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class yv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class dL extends yv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class I5 extends yv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class O5 extends yv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pg||(pg={}));var hL=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class fL{constructor(t,{headers:n={},customFetch:r,region:i=pg.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=uL(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return hL(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let h;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(a["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(a["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:h}).catch(_=>{throw new dL(_)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new I5(f);if(!f.ok)throw new O5(f);let g=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return g==="application/json"?b=yield f.json():g==="application/octet-stream"?b=yield f.blob():g==="text/event-stream"?b=f:g==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof O5||i instanceof I5?i.context:void 0}}})}}var Lr={},wv={},sp={},ud={},op={},ap={},pL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tc=pL();const mL=tc.fetch,IS=tc.fetch.bind(tc),OS=tc.Headers,gL=tc.Request,vL=tc.Response,uc=Object.freeze(Object.defineProperty({__proto__:null,Headers:OS,Request:gL,Response:vL,default:IS,fetch:mL},Symbol.toStringTag,{value:"Module"})),yL=B_(uc);var lp={};Object.defineProperty(lp,"__esModule",{value:!0});let wL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};lp.default=wL;var DS=ji&&ji.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ap,"__esModule",{value:!0});const xL=DS(yL),bL=DS(lp);let SL=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=xL.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let u=null,h=null,f=null,m=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=y:h=JSON.parse(y))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&k&&k.length>1&&(f=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const _=await s.text();try{u=JSON.parse(_),Array.isArray(u)&&s.status===404&&(h=[],u=null,m=200,g="OK")}catch{s.status===404&&_===""?(m=204,g="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,m=200,g="OK"),u&&this.shouldThrowOnError)throw new bL.default(u)}return{error:u,data:h,count:f,status:m,statusText:g}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};ap.default=SL;var _L=ji&&ji.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(op,"__esModule",{value:!0});const jL=_L(ap);let kL=class extends jL.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};op.default=kL;var NL=ji&&ji.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ud,"__esModule",{value:!0});const CL=NL(op);let AL=class extends CL.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ud.default=AL;var PL=ji&&ji.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sp,"__esModule",{value:!0});const Xc=PL(ud);let EL=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Xc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Xc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(l.length>0){const u=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Xc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Xc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};sp.default=EL;var cp={},up={};Object.defineProperty(up,"__esModule",{value:!0});up.version=void 0;up.version="0.0.0-automated";Object.defineProperty(cp,"__esModule",{value:!0});cp.DEFAULT_HEADERS=void 0;const LL=up;cp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${LL.version}`};var MS=ji&&ji.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wv,"__esModule",{value:!0});const TL=MS(sp),FL=MS(ud),RL=cp;let IL=class BS{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},RL.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new TL.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new BS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{a.searchParams.append(h,f)})):(o="POST",l=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new FL.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};wv.default=IL;var dc=ji&&ji.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.PostgrestError=Lr.PostgrestBuilder=Lr.PostgrestTransformBuilder=Lr.PostgrestFilterBuilder=Lr.PostgrestQueryBuilder=Lr.PostgrestClient=void 0;const US=dc(wv);Lr.PostgrestClient=US.default;const zS=dc(sp);Lr.PostgrestQueryBuilder=zS.default;const $S=dc(ud);Lr.PostgrestFilterBuilder=$S.default;const qS=dc(op);Lr.PostgrestTransformBuilder=qS.default;const VS=dc(ap);Lr.PostgrestBuilder=VS.default;const HS=dc(lp);Lr.PostgrestError=HS.default;var OL=Lr.default={PostgrestClient:US.default,PostgrestQueryBuilder:zS.default,PostgrestFilterBuilder:$S.default,PostgrestTransformBuilder:qS.default,PostgrestBuilder:VS.default,PostgrestError:HS.default};const{PostgrestClient:DL,PostgrestQueryBuilder:PR,PostgrestFilterBuilder:ER,PostgrestTransformBuilder:LR,PostgrestBuilder:TR,PostgrestError:FR}=OL;function ML(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const BL=ML(),UL="2.11.15",zL=`realtime-js/${UL}`,$L="1.0.0",WS=1e4,qL=1e3;var ju;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ju||(ju={}));var lr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(lr||(lr={}));var $i;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($i||($i={}));var mg;(function(e){e.websocket="websocket"})(mg||(mg={}));var pa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(pa||(pa={}));class VL{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class GS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Jt||(Jt={}));const D5=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=HL(o,e,t,i),s),{})},HL=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?KS(s,o):gg(o)},KS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return JL(t,n)}switch(e){case Jt.bool:return WL(t);case Jt.float4:case Jt.float8:case Jt.int2:case Jt.int4:case Jt.int8:case Jt.numeric:case Jt.oid:return GL(t);case Jt.json:case Jt.jsonb:return KL(t);case Jt.timestamp:return YL(t);case Jt.abstime:case Jt.date:case Jt.daterange:case Jt.int4range:case Jt.int8range:case Jt.money:case Jt.reltime:case Jt.text:case Jt.time:case Jt.timestamptz:case Jt.timetz:case Jt.tsrange:case Jt.tstzrange:return gg(t);default:return gg(t)}},gg=e=>e,WL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},GL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},KL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},JL=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>KS(t,a))}return e},YL=e=>typeof e=="string"?e.replace(" ","T"):e,JS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Dm{constructor(t,n,r={},i=WS){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var M5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(M5||(M5={}));class ku{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ku.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=ku.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ku.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,h)=>{o[u]||(l[u]=h)}),this.map(o,(u,h)=>{const f=s[u];if(f){const m=h.map(k=>k.presence_ref),g=f.map(k=>k.presence_ref),b=h.filter(k=>g.indexOf(k.presence_ref)<0),_=f.filter(k=>m.indexOf(k.presence_ref)<0);b.length>0&&(a[u]=b),_.length>0&&(l[u]=_)}else a[u]=h}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const h=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),h.length>0){const f=t[a].map(g=>g.presence_ref),m=h.filter(g=>f.indexOf(g.presence_ref)<0);t[a].unshift(...m)}r(a,h,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const h=l.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var B5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(B5||(B5={}));var U5;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(U5||(U5={}));var Ps;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ps||(Ps={}));class xv{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=lr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Dm(this,$i.join,this.params,this.timeout),this.rejoinTimer=new GS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this._on($i.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new ku(this),this.broadcastEndpointURL=JS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==lr.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(h=>t==null?void 0:t(Ps.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Ps.CLOSED));const l={},u={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var f;if(this.socket.setAuth(),h===void 0){t==null||t(Ps.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,b=[];for(let _=0;_<g;_++){const k=m[_],{filter:{event:y,schema:x,table:S,filter:E}}=k,I=h&&h[_];if(I&&I.event===y&&I.schema===x&&I.table===S&&I.filter===E)b.push(Object.assign(Object.assign({},k),{id:I.id}));else{this.unsubscribe(),this.state=lr.errored,t==null||t(Ps.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Ps.SUBSCRIBED);return}}).receive("error",h=>{this.state=lr.errored,t==null||t(Ps.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ps.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($i.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Dm(this,$i.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Dm(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:h}=$i;if(r&&[a,l,u,h].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var b,_,k;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((k=(_=g.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(g=>g.callback(m,r)):(s=this.bindings[o])===null||s===void 0||s.filter(g=>{var b,_,k,y,x,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const E=g.id,I=(b=g.filter)===null||b===void 0?void 0:b.event;return E&&((_=n.ids)===null||_===void 0?void 0:_.includes(E))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const E=(x=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return E==="*"||E===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:_,table:k,commit_timestamp:y,type:x,errors:S}=b;m=Object.assign(Object.assign({},{schema:_,table:k,commit_timestamp:y,eventType:x,new:{},old:{},errors:S}),this._getPayloadRecords(b))}g.callback(m,r)})}_isClosed(){return this.state===lr.closed}_isJoined(){return this.state===lr.joined}_isJoining(){return this.state===lr.joining}_isLeaving(){return this.state===lr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&xv.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($i.close,{},t)}_onError(t){this._on($i.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=D5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=D5(t.columns,t.old_record)),n}}const z5=()=>{},XL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QL{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=WS,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=z5,this.ref=0,this.logger=z5,this.conn=null,this.sendBuffer=[],this.serializer=new VL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>hs(()=>Promise.resolve().then(()=>uc),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${mg.websocket}`,this.httpEndpoint=JS(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new GS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=BL),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$L}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ju.connecting:return pa.Connecting;case ju.open:return pa.Open;case ju.closing:return pa.Closing;default:return pa.Closed}}isConnected(){return this.connectionState()===pa.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new xv(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:zL};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push($i.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(qL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger($i.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([XL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class bv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Un(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ZL extends bv{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vg extends bv{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var e8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const YS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hs(()=>Promise.resolve().then(()=>uc),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},t8=()=>e8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hs(()=>Promise.resolve().then(()=>uc),void 0)).Response:Response}),yg=e=>{if(Array.isArray(e))return e.map(n=>yg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=yg(r)}),t},n8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ta=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Mm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),r8=(e,t,n)=>Ta(void 0,void 0,void 0,function*(){const r=yield t8();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new ZL(Mm(i),s,o))}).catch(i=>{t(new vg(Mm(i),i))}):t(new vg(Mm(e),e))}),i8=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(n8(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function dd(e,t,n,r,i,s){return Ta(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,i8(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>r8(l,a,r))})})}function Pf(e,t,n,r){return Ta(this,void 0,void 0,function*(){return dd(e,"GET",t,n,r)})}function Es(e,t,n,r,i){return Ta(this,void 0,void 0,function*(){return dd(e,"POST",t,r,i,n)})}function wg(e,t,n,r,i){return Ta(this,void 0,void 0,function*(){return dd(e,"PUT",t,r,i,n)})}function s8(e,t,n,r){return Ta(this,void 0,void 0,function*(){return dd(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function XS(e,t,n,r,i){return Ta(this,void 0,void 0,function*(){return dd(e,"DELETE",t,r,i,n)})}var Pr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const o8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class a8{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=YS(i)}uploadOrUpdate(t,n,r,i){return Pr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},$5),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),h=this._getFinalPath(u),f=yield(t=="PUT"?wg:Es)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(Un(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Pr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:$5.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const f=yield wg(this.fetch,a.toString(),l,{headers:h});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(Un(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Pr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Es(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new bv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(Un(r))return{data:null,error:r};throw r}})}update(t,n,r){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Pr(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Un(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Pr(this,void 0,void 0,function*(){try{return{data:{path:(yield Es(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Un(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Pr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Es(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Un(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Pr(this,void 0,void 0,function*(){try{const i=yield Es(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Un(i))return{data:null,error:i};throw i}})}download(t,n){return Pr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Pf(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Un(a))return{data:null,error:a};throw a}})}info(t){return Pr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Pf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:yg(r),error:null}}catch(r){if(Un(r))return{data:null,error:r};throw r}})}exists(t){return Pr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield s8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Un(r)&&r instanceof vg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Pr(this,void 0,void 0,function*(){try{return{data:yield XS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Un(n))return{data:null,error:n};throw n}})}list(t,n,r){return Pr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},o8),n),{prefix:t||""});return{data:yield Es(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Un(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const l8="2.10.4",c8={"X-Client-Info":`storage-js/${l8}`};var il=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class u8{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},c8),n),this.fetch=YS(r)}listBuckets(){return il(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Un(t))return{data:null,error:t};throw t}})}getBucket(t){return il(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Un(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return il(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Un(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return il(this,void 0,void 0,function*(){try{return{data:yield wg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Un(r))return{data:null,error:r};throw r}})}emptyBucket(t){return il(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Un(n))return{data:null,error:n};throw n}})}deleteBucket(t){return il(this,void 0,void 0,function*(){try{return{data:yield XS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Un(n))return{data:null,error:n};throw n}})}}class d8 extends u8{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new a8(this.url,this.headers,t,this.fetch)}}const h8="2.53.0";let uu="";typeof Deno<"u"?uu="deno":typeof document<"u"?uu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?uu="react-native":uu="node";const f8={"X-Client-Info":`supabase-js-${uu}/${h8}`},p8={headers:f8},m8={schema:"public"},g8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v8={};var y8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const w8=e=>{let t;return e?t=e:typeof fetch>"u"?t=IS:t=fetch,(...n)=>t(...n)},x8=()=>typeof Headers>"u"?OS:Headers,b8=(e,t,n)=>{const r=w8(n),i=x8();return(s,o)=>y8(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var S8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function _8(e){return e.endsWith("/")?e:e+"/"}function j8(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:h,global:f}=t,m={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>S8(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const QS="2.71.1",hl=30*1e3,xg=3,Bm=xg*hl,k8="http://localhost:9999",N8="supabase.auth.token",C8={"X-Client-Info":`gotrue-js/${QS}`},bg="X-Supabase-Api-Version",ZS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},A8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,P8=10*60*1e3;class Sv extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function xt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class E8 extends Sv{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function L8(e){return xt(e)&&e.name==="AuthApiError"}class e4 extends Sv{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ho extends Sv{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class vo extends Ho{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function T8(e){return xt(e)&&e.name==="AuthSessionMissingError"}class gh extends Ho{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vh extends Ho{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yh extends Ho{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function F8(e){return xt(e)&&e.name==="AuthImplicitGrantRedirectError"}class q5 extends Ho{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sg extends Ho{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Um(e){return xt(e)&&e.name==="AuthRetryableFetchError"}class V5 extends Ho{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class _g extends Ho{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),H5=` 	
\r=`.split(""),R8=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<H5.length;t+=1)e[H5[t].charCodeAt(0)]=-2;for(let t=0;t<Ef.length;t+=1)e[Ef[t].charCodeAt(0)]=t;return e})();function W5(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ef[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ef[r]),t.queuedBits-=6}}function t4(e,t,n){const r=R8[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function G5(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{D8(o,r,n)};for(let o=0;o<e.length;o+=1)t4(e.charCodeAt(o),i,s);return t.join("")}function I8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function O8(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}I8(r,t)}}function D8(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function M8(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)t4(e.charCodeAt(i),n,r);return new Uint8Array(t)}function B8(e){const t=[];return O8(e,n=>t.push(n)),new Uint8Array(t)}function U8(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>W5(i,n,r)),W5(null,n,r),t.join("")}function z8(e){return Math.round(Date.now()/1e3)+e}function $8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Di=()=>typeof window<"u"&&typeof document<"u",sa={tested:!1,writable:!1},n4=()=>{if(!Di())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sa.tested)return sa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sa.tested=!0,sa.writable=!0}catch{sa.tested=!0,sa.writable=!1}return sa.writable};function q8(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const r4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hs(()=>Promise.resolve().then(()=>uc),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},V8=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},oa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fo=async(e,t)=>{await e.removeItem(t)};class dp{constructor(){this.promise=new dp.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}dp.promiseConstructor=Promise;function zm(e){const t=e.split(".");if(t.length!==3)throw new _g("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!A8.test(t[r]))throw new _g("JWT not in base64url format");return{header:JSON.parse(G5(t[0])),payload:JSON.parse(G5(t[1])),signature:M8(t[2]),raw:{header:t[0],payload:t[1]}}}async function H8(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function W8(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function G8(e){return("0"+e.toString(16)).substr(-2)}function K8(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,G8).join("")}async function J8(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Y8(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await J8(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sl(e,t,n=!1){const r=K8();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await fl(e,`${t}-code-verifier`,i);const s=await Y8(r);return[s,r===s?"plain":"s256"]}const X8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q8(e){const t=e.headers.get(bg);if(!t||!t.match(X8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Z8(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function eT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ol(e){if(!tT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $m(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function K5(e){return JSON.parse(JSON.stringify(e))}var nT=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ha=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rT=[502,503,504];async function J5(e){var t;if(!V8(e))throw new Sg(ha(e),0);if(rT.includes(e.status))throw new Sg(ha(e),e.status);let n;try{n=await e.json()}catch(s){throw new e4(ha(s),s)}let r;const i=Q8(e);if(i&&i.getTime()>=ZS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new V5(ha(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new vo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new V5(ha(n),e.status,n.weak_password.reasons);throw new E8(ha(n),e.status||500,r)}const iT=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function _t(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[bg]||(s[bg]=ZS["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await sT(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function sT(e,t,n,r,i,s){const o=iT(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Sg(ha(l),0)}if(a.ok||await J5(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await J5(l)}}function Cs(e){var t;let n=null;cT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=z8(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Y5(e){const t=Cs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function So(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oT(e){return{data:e,error:null}}function aT(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=nT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function lT(e){return e}function cT(e){return e.access_token&&e.refresh_token&&e.expires_in}const qm=["global","local","others"];var uT=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class dT{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=r4(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=qm[0]){if(qm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qm.join(", ")}`);try{return await _t(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await _t(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:So})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=uT(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await _t(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:aT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(xt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await _t(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:So})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},h=await _t(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:lT});if(h.error)throw h.error;const f=await h.json(),m=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);u[`${k}Page`]=_}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(xt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ol(t);try{return await _t(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:So})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ol(t);try{return await _t(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:So})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ol(t);try{return await _t(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:So})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ol(t.userId);try{const{data:n,error:r}=await _t(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(xt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ol(t.userId),ol(t.id);try{return{data:await _t(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}}}function X5(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function hT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const al={debug:!!(globalThis&&n4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class i4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class fT extends i4{}async function pT(e,t,n){al.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),al.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){al.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{al.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw al.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new fT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(al.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}hT();const mT={url:k8,storageKey:N8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Q5(e,t,n){return await n()}const ll={};class Yu{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yu.nextInstanceID,Yu.nextInstanceID+=1,this.instanceID>0&&Di()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},mT),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new dT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=r4(i.fetch),this.lock=i.lock||Q5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Di()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=pT:this.lock=Q5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:n4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=X5(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=X5(this.memoryStorage)),Di()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ll[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ll[this.storageKey]=Object.assign(Object.assign({},ll[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ll[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ll[this.storageKey]=Object.assign(Object.assign({},ll[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${QS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=q8(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Di()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),F8(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xt(n)?{error:n}:{error:new e4("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Cs}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(xt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:h,password:f,options:m}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await sl(this.storage,this.storageKey)),s=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:b},xform:Cs})}else if("phone"in t){const{phone:h,password:f,options:m}=t;s=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Cs})}else throw new vh("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(xt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Y5})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Y5})}else throw new vh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(xt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,l,u,h,f,m,g;let b,_;if("message"in t)b=t.message,_=t.signature;else{const{chain:k,wallet:y,statement:x,options:S}=t;let E;if(Di())if(typeof y=="object")E=y;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))E=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}const I=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const B=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),x?{statement:x}:null));let U;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")U=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)U=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)b=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),_=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${I.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(h=S==null?void 0:S.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const B=await E.signMessage(new TextEncoder().encode(b),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=B}}try{const{data:k,error:y}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:U8(_)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Cs});if(y)throw y;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new gh}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:y})}catch(k){if(xt(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await oa(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Cs});if(await fo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new gh}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(xt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Cs}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new gh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(xt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await sl(this.storage,this.storageKey));const{error:f}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:h}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new vh("You must provide either an email or phone number.")}catch(a){if(xt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await _t(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Cs});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(xt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await sl(this.storage,this.storageKey)),await _t(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:oT})}catch(s){if(xt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new vo;const{error:i}=await _t(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(xt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await _t(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await _t(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new vh("You must provide either an email or phone number and a type")}catch(n){if(xt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await oa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Bm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await oa(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=$m()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,h)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,h))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:So}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vo}:await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:So})})}catch(n){if(xt(n))return T8(n)&&(await this._removeSession(),await fo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new vo;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await sl(this.storage,this.storageKey));const{data:u,error:h}=await _t(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:So});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vo;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=zm(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(xt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new vo;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(xt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Di())throw new yh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new q5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new q5("No code detected.");const{data:x,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new yh("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(a);let m=h+f;l&&(m=parseInt(l));const g=m-h;g*1e3<=hl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const b=m-f;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,h);const{data:_,error:k}=await this._getUser(s);if(k)throw k;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(xt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await oa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(L8(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await fo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=$8(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await sl(this.storage,this.storageKey,!0));try{return await _t(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(xt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,h;const{data:f,error:m}=s;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await _t(this.fetch,"GET",g,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Di()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(xt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await _t(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(xt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await W8(async i=>(i>0&&await H8(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await _t(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cs})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Um(s)&&Date.now()+o-r<hl})}catch(r){if(this._debug(n,"error",r),xt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Di()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await oa(this.storage,this.storageKey);if(i&&this.userStorage){let o=await oa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await fl(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:$m()}else if(i&&!i.user&&!i.user){const o=await oa(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await fo(this.storage,this.storageKey+"-user"),await fl(this.storage,this.storageKey,i)):i.user=$m()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bm;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Bm}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Um(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new vo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new dp;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new vo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),xt(s)){const o={session:null,error:s};return Um(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await fl(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=K5(i);await fl(this.storage,this.storageKey,s)}else{const i=K5(n);await fl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await fo(this.storage,this.storageKey),await fo(this.storage,this.storageKey+"-code-verifier"),await fo(this.storage,this.storageKey+"-user"),this.userStorage&&await fo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Di()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),hl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/hl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${hl}ms, refresh threshold is ${xg} ticks`),i<=xg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof i4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Di()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await sl(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await _t(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await _t(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(xt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await _t(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(xt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await _t(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=zm(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+P8>i)return r;const{data:s,error:o}=await _t(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:g,error:b}=await this.getSession();if(b||!g.session)return{data:null,error:b};r=g.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=zm(r);n!=null&&n.allowExpired||Z8(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:s,header:i,signature:o},error:null}}const h=eT(i.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,B8(`${a}.${l}`)))throw new _g("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}}}Yu.nextInstanceID=0;const gT=Yu;class vT extends gT{constructor(t){super(t)}}var yT=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class wT{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=_8(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:m8,realtime:v8,auth:Object.assign(Object.assign({},g8),{storageKey:u}),global:p8},f=j8(r??{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=b8(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new DL(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new d8(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new fL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return yT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vT({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new QL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xT=(e,t,n)=>new wT(e,t,n);function bT(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}bT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ST={}.VITE_SUPABASE_URL||"https://xfbmdeuzuyixpmouhqcv.supabase.co",_T={}.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhmYm1kZXV6dXlpeHBtb3VocWN2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkzMzE3ODQsImV4cCI6MjA2NDkwNzc4NH0.XzFIT3BwW9dKRrmFFbSAufCpC1SZuUI-VU2Uer5VoTw",vt=xT(ST,_T,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"herbbie-auth",flowType:"pkce",onAuthStateChange:(e,t)=>{e==="SIGNED_OUT"&&Object.keys(localStorage).forEach(r=>{(r.startsWith("sb-")||r.startsWith("supabase.")||r.startsWith("herbbie-auth"))&&localStorage.removeItem(r)})}},global:{headers:{"x-client-info":"herbbie-web"},fetch:(e,t={})=>fetch(e,t).catch(n=>{if(n.message.includes("Failed to fetch")||n.message.includes("ERR_NAME_NOT_RESOLVED"))return Promise.resolve(new Response(JSON.stringify({error:"Network error"}),{status:503,headers:{"Content-Type":"application/json"}}));throw n})}});function Dt(e){"@babel/helpers - typeof";return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(e)}var hr=Uint8Array,Qr=Uint16Array,_v=Int32Array,hp=new hr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fp=new hr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jg=new hr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s4=function(e,t){for(var n=new Qr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new _v(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},o4=s4(hp,2),a4=o4.b,kg=o4.r;a4[28]=258,kg[258]=28;var l4=s4(fp,0),jT=l4.b,Z5=l4.r,Ng=new Qr(32768);for(var Zt=0;Zt<32768;++Zt){var po=(Zt&43690)>>1|(Zt&21845)<<1;po=(po&52428)>>2|(po&13107)<<2,po=(po&61680)>>4|(po&3855)<<4,Ng[Zt]=((po&65280)>>8|(po&255)<<8)>>1}var ds=function(e,t,n){for(var r=e.length,i=0,s=new Qr(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Qr(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Qr(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],h=t-e[i],f=o[e[i]-1]++<<h,m=f|(1<<h)-1;f<=m;++f)a[Ng[f]>>l]=u}else for(a=new Qr(r),i=0;i<r;++i)e[i]&&(a[i]=Ng[o[e[i]-1]++]>>15-e[i]);return a},Mo=new hr(288);for(var Zt=0;Zt<144;++Zt)Mo[Zt]=8;for(var Zt=144;Zt<256;++Zt)Mo[Zt]=9;for(var Zt=256;Zt<280;++Zt)Mo[Zt]=7;for(var Zt=280;Zt<288;++Zt)Mo[Zt]=8;var Xu=new hr(32);for(var Zt=0;Zt<32;++Zt)Xu[Zt]=5;var kT=ds(Mo,9,0),NT=ds(Mo,9,1),CT=ds(Xu,5,0),AT=ds(Xu,5,1),Vm=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ii=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Hm=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},jv=function(e){return(e+7)/8|0},c4=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new hr(e.subarray(t,n))},PT=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ui=function(e,t,n){var r=new Error(t||PT[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Ui),!n)throw r;return r},ET=function(e,t,n,r){var i=e.length,s=r?r.length:0;if(!i||t.f&&!t.l)return n||new hr(0);var o=!n,a=o||t.i!=2,l=t.i;o&&(n=new hr(i*3));var u=function(_e){var Fe=n.length;if(_e>Fe){var Pe=new hr(Math.max(Fe*2,_e));Pe.set(n),n=Pe}},h=t.f||0,f=t.p||0,m=t.b||0,g=t.l,b=t.d,_=t.m,k=t.n,y=i*8;do{if(!g){h=Ii(e,f,1);var x=Ii(e,f+1,3);if(f+=3,x)if(x==1)g=NT,b=AT,_=9,k=5;else if(x==2){var B=Ii(e,f,31)+257,U=Ii(e,f+10,15)+4,O=B+Ii(e,f+5,31)+1;f+=14;for(var K=new hr(O),Y=new hr(19),R=0;R<U;++R)Y[jg[R]]=Ii(e,f+R*3,7);f+=U*3;for(var P=Vm(Y),J=(1<<P)-1,V=ds(Y,P,1),R=0;R<O;){var ce=V[Ii(e,f,J)];f+=ce&15;var S=ce>>4;if(S<16)K[R++]=S;else{var le=0,ae=0;for(S==16?(ae=3+Ii(e,f,3),f+=2,le=K[R-1]):S==17?(ae=3+Ii(e,f,7),f+=3):S==18&&(ae=11+Ii(e,f,127),f+=7);ae--;)K[R++]=le}}var W=K.subarray(0,B),te=K.subarray(B);_=Vm(W),k=Vm(te),g=ds(W,_,1),b=ds(te,k,1)}else Ui(1);else{var S=jv(f)+4,E=e[S-4]|e[S-3]<<8,I=S+E;if(I>i){l&&Ui(0);break}a&&u(m+E),n.set(e.subarray(S,I),m),t.b=m+=E,t.p=f=I*8,t.f=h;continue}if(f>y){l&&Ui(0);break}}a&&u(m+131072);for(var Q=(1<<_)-1,me=(1<<k)-1,N=f;;N=f){var le=g[Hm(e,f)&Q],z=le>>4;if(f+=le&15,f>y){l&&Ui(0);break}if(le||Ui(2),z<256)n[m++]=z;else if(z==256){N=f,g=null;break}else{var $=z-254;if(z>264){var R=z-257,G=hp[R];$=Ii(e,f,(1<<G)-1)+a4[R],f+=G}var Z=b[Hm(e,f)&me],oe=Z>>4;Z||Ui(3),f+=Z&15;var te=jT[oe];if(oe>3){var G=fp[oe];te+=Hm(e,f)&(1<<G)-1,f+=G}if(f>y){l&&Ui(0);break}a&&u(m+131072);var he=m+$;if(m<te){var ue=s-te,xe=Math.min(te,he);for(ue+m<0&&Ui(3);m<xe;++m)n[m]=r[ue+m]}for(;m<he;++m)n[m]=n[m-te]}}t.l=g,t.p=N,t.b=m,t.f=h,g&&(h=1,t.m=_,t.d=b,t.n=k)}while(!h);return m!=n.length&&o?c4(n,0,m):n.subarray(0,m)},Ns=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Qc=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Wm=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:d4,l:0};if(i==1){var o=new hr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(I,B){return I.f-B.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,h=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=i-1;)a=n[n[u].f<n[f].f?u++:f++],l=n[u!=h&&n[u].f<n[f].f?u++:f++],n[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var g=new Qr(m+1),b=Cg(n[h-1],g,0);if(b>t){var r=0,_=0,k=b-t,y=1<<k;for(s.sort(function(B,U){return g[U.s]-g[B.s]||B.f-U.f});r<i;++r){var x=s[r].s;if(g[x]>t)_+=y-(1<<b-g[x]),g[x]=t;else break}for(_>>=k;_>0;){var S=s[r].s;g[S]<t?_-=1<<t-g[S]++-1:++r}for(;r>=0&&_;--r){var E=s[r].s;g[E]==t&&(--g[E],++_)}b=t}return{t:new hr(g),l:b}},Cg=function(e,t,n){return e.s==-1?Math.max(Cg(e.l,t,n+1),Cg(e.r,t,n+1)):t[e.s]=n},ew=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Qr(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},Zc=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},u4=function(e,t,n){var r=n.length,i=jv(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},tw=function(e,t,n,r,i,s,o,a,l,u,h){Ns(t,h++,n),++i[256];for(var f=Wm(i,15),m=f.t,g=f.l,b=Wm(s,15),_=b.t,k=b.l,y=ew(m),x=y.c,S=y.n,E=ew(_),I=E.c,B=E.n,U=new Qr(19),O=0;O<x.length;++O)++U[x[O]&31];for(var O=0;O<I.length;++O)++U[I[O]&31];for(var K=Wm(U,7),Y=K.t,R=K.l,P=19;P>4&&!Y[jg[P-1]];--P);var J=u+5<<3,V=Zc(i,Mo)+Zc(s,Xu)+o,ce=Zc(i,m)+Zc(s,_)+o+14+3*P+Zc(U,Y)+2*U[16]+3*U[17]+7*U[18];if(l>=0&&J<=V&&J<=ce)return u4(t,h,e.subarray(l,l+u));var le,ae,W,te;if(Ns(t,h,1+(ce<V)),h+=2,ce<V){le=ds(m,g,0),ae=m,W=ds(_,k,0),te=_;var Q=ds(Y,R,0);Ns(t,h,S-257),Ns(t,h+5,B-1),Ns(t,h+10,P-4),h+=14;for(var O=0;O<P;++O)Ns(t,h+3*O,Y[jg[O]]);h+=3*P;for(var me=[x,I],N=0;N<2;++N)for(var z=me[N],O=0;O<z.length;++O){var $=z[O]&31;Ns(t,h,Q[$]),h+=Y[$],$>15&&(Ns(t,h,z[O]>>5&127),h+=z[O]>>12)}}else le=kT,ae=Mo,W=CT,te=Xu;for(var O=0;O<a;++O){var G=r[O];if(G>255){var $=G>>18&31;Qc(t,h,le[$+257]),h+=ae[$+257],$>7&&(Ns(t,h,G>>23&31),h+=hp[$]);var Z=G&31;Qc(t,h,W[Z]),h+=te[Z],Z>3&&(Qc(t,h,G>>5&8191),h+=fp[Z])}else Qc(t,h,le[G]),h+=ae[G]}return Qc(t,h,le[256]),h+ae[256]},LT=new _v([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),d4=new hr(0),TT=function(e,t,n,r,i,s){var o=s.z||e.length,a=new hr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,h=(s.r||0)&7;if(t){h&&(l[0]=s.r>>3);for(var f=LT[t-1],m=f>>13,g=f&8191,b=(1<<n)-1,_=s.p||new Qr(32768),k=s.h||new Qr(b+1),y=Math.ceil(n/3),x=2*y,S=function(Qe){return(e[Qe]^e[Qe+1]<<y^e[Qe+2]<<x)&b},E=new _v(25e3),I=new Qr(288),B=new Qr(32),U=0,O=0,K=s.i||0,Y=0,R=s.w||0,P=0;K+2<o;++K){var J=S(K),V=K&32767,ce=k[J];if(_[V]=ce,k[J]=V,R<=K){var le=o-K;if((U>7e3||Y>24576)&&(le>423||!u)){h=tw(e,l,0,E,I,B,O,Y,P,K-P,h),Y=U=O=0,P=K;for(var ae=0;ae<286;++ae)I[ae]=0;for(var ae=0;ae<30;++ae)B[ae]=0}var W=2,te=0,Q=g,me=V-ce&32767;if(le>2&&J==S(K-me))for(var N=Math.min(m,le)-1,z=Math.min(32767,K),$=Math.min(258,le);me<=z&&--Q&&V!=ce;){if(e[K+W]==e[K+W-me]){for(var G=0;G<$&&e[K+G]==e[K+G-me];++G);if(G>W){if(W=G,te=me,G>N)break;for(var Z=Math.min(me,G-2),oe=0,ae=0;ae<Z;++ae){var he=K-me+ae&32767,ue=_[he],xe=he-ue&32767;xe>oe&&(oe=xe,ce=he)}}}V=ce,ce=_[V],me+=V-ce&32767}if(te){E[Y++]=268435456|kg[W]<<18|Z5[te];var _e=kg[W]&31,Fe=Z5[te]&31;O+=hp[_e]+fp[Fe],++I[257+_e],++B[Fe],R=K+W,++U}else E[Y++]=e[K],++I[e[K]]}}for(K=Math.max(K,R);K<o;++K)E[Y++]=e[K],++I[e[K]];h=tw(e,l,u,E,I,B,O,Y,P,K-P,h),u||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=k,s.p=_,s.i=K,s.w=R)}else{for(var K=s.w||0;K<o+u;K+=65535){var Pe=K+65535;Pe>=o&&(l[h/8|0]=u,Pe=o),h=u4(l,h+1,e.subarray(K,Pe))}s.i=o}return c4(a,0,r+jv(h)+i)},h4=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},FT=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new hr(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return TT(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},f4=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},RT=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=h4();i.p(t.dictionary),f4(e,2,i.d())}},IT=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ui(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Ui(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Ag(e,t){t||(t={});var n=h4();n.p(e);var r=FT(e,t,t.dictionary?6:2,4);return RT(r,t),f4(r,r.length-4,n.d()),r}function OT(e,t){return ET(e.subarray(IT(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var DT=typeof TextDecoder<"u"&&new TextDecoder,MT=0;try{DT.decode(d4,{stream:!0}),MT=1}catch{}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Gm(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var Ht={log:Gm,warn:function(e){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):Gm.call(null,arguments))},error:function(e){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):Gm(e))}};function Km(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){fa(r.response,t,n)},r.onerror=function(){Ht.error("could not download file")},r.send()}function nw(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function wh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Nu,Pg,fa=lt.saveAs||((typeof window>"u"?"undefined":Dt(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=lt.URL||lt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?nw(i.href)?Km(e,t,n):wh(i,i.target="_blank"):wh(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){wh(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(nw(e))Km(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){wh(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Dt(s)!=="object"&&(Ht.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Km(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(lt.HTMLElement)||lt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Dt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},a.readAsDataURL(e)}else{var l=lt.URL||lt.webkitURL,u=l.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function p4(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Jm(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=ir(n,r,i,s,t[0],7,-680876936),s=ir(s,n,r,i,t[1],12,-389564586),i=ir(i,s,n,r,t[2],17,606105819),r=ir(r,i,s,n,t[3],22,-1044525330),n=ir(n,r,i,s,t[4],7,-176418897),s=ir(s,n,r,i,t[5],12,1200080426),i=ir(i,s,n,r,t[6],17,-1473231341),r=ir(r,i,s,n,t[7],22,-45705983),n=ir(n,r,i,s,t[8],7,1770035416),s=ir(s,n,r,i,t[9],12,-1958414417),i=ir(i,s,n,r,t[10],17,-42063),r=ir(r,i,s,n,t[11],22,-1990404162),n=ir(n,r,i,s,t[12],7,1804603682),s=ir(s,n,r,i,t[13],12,-40341101),i=ir(i,s,n,r,t[14],17,-1502002290),n=sr(n,r=ir(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=sr(s,n,r,i,t[6],9,-1069501632),i=sr(i,s,n,r,t[11],14,643717713),r=sr(r,i,s,n,t[0],20,-373897302),n=sr(n,r,i,s,t[5],5,-701558691),s=sr(s,n,r,i,t[10],9,38016083),i=sr(i,s,n,r,t[15],14,-660478335),r=sr(r,i,s,n,t[4],20,-405537848),n=sr(n,r,i,s,t[9],5,568446438),s=sr(s,n,r,i,t[14],9,-1019803690),i=sr(i,s,n,r,t[3],14,-187363961),r=sr(r,i,s,n,t[8],20,1163531501),n=sr(n,r,i,s,t[13],5,-1444681467),s=sr(s,n,r,i,t[2],9,-51403784),i=sr(i,s,n,r,t[7],14,1735328473),n=or(n,r=sr(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=or(s,n,r,i,t[8],11,-2022574463),i=or(i,s,n,r,t[11],16,1839030562),r=or(r,i,s,n,t[14],23,-35309556),n=or(n,r,i,s,t[1],4,-1530992060),s=or(s,n,r,i,t[4],11,1272893353),i=or(i,s,n,r,t[7],16,-155497632),r=or(r,i,s,n,t[10],23,-1094730640),n=or(n,r,i,s,t[13],4,681279174),s=or(s,n,r,i,t[0],11,-358537222),i=or(i,s,n,r,t[3],16,-722521979),r=or(r,i,s,n,t[6],23,76029189),n=or(n,r,i,s,t[9],4,-640364487),s=or(s,n,r,i,t[12],11,-421815835),i=or(i,s,n,r,t[15],16,530742520),n=ar(n,r=or(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=ar(s,n,r,i,t[7],10,1126891415),i=ar(i,s,n,r,t[14],15,-1416354905),r=ar(r,i,s,n,t[5],21,-57434055),n=ar(n,r,i,s,t[12],6,1700485571),s=ar(s,n,r,i,t[3],10,-1894986606),i=ar(i,s,n,r,t[10],15,-1051523),r=ar(r,i,s,n,t[1],21,-2054922799),n=ar(n,r,i,s,t[8],6,1873313359),s=ar(s,n,r,i,t[15],10,-30611744),i=ar(i,s,n,r,t[6],15,-1560198380),r=ar(r,i,s,n,t[13],21,1309151649),n=ar(n,r,i,s,t[4],6,-145523070),s=ar(s,n,r,i,t[11],10,-1120210379),i=ar(i,s,n,r,t[2],15,718787259),r=ar(r,i,s,n,t[9],21,-343485551),e[0]=ko(n,e[0]),e[1]=ko(r,e[1]),e[2]=ko(i,e[2]),e[3]=ko(s,e[3])}function pp(e,t,n,r,i,s){return t=ko(ko(t,e),ko(r,s)),ko(t<<i|t>>>32-i,n)}function ir(e,t,n,r,i,s,o){return pp(t&n|~t&r,e,t,i,s,o)}function sr(e,t,n,r,i,s,o){return pp(t&r|n&~r,e,t,i,s,o)}function or(e,t,n,r,i,s,o){return pp(t^n^r,e,t,i,s,o)}function ar(e,t,n,r,i,s,o){return pp(n^(t|~r),e,t,i,s,o)}function m4(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Jm(r,BT(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Jm(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Jm(r,i),r}function BT(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Nu=lt.atob.bind(lt),Pg=lt.btoa.bind(lt);var rw="0123456789abcdef".split("");function UT(e){for(var t="",n=0;n<4;n++)t+=rw[e>>8*n+4&15]+rw[e>>8*n&15];return t}function zT(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Eg(e){return m4(e).map(zT).join("")}var $T=function(e){for(var t=0;t<e.length;t++)e[t]=UT(e[t]);return e.join("")}(m4("hello"))!="5d41402abc4b2a76b9719d911017c592";function ko(e,t){if($T){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Lg(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var h=a[l];u=(u+h+o.charCodeAt(l))%256,a[l]=a[u],a[u]=h}n=e,r=a}else a=r;var f=t.length,m=0,g=0,b="";for(l=0;l<f;l++)g=(g+(h=a[m=(m+1)%256]))%256,a[m]=a[g],a[g]=h,o=a[(a[m]+a[g])%256],b+=String.fromCharCode(t.charCodeAt(l)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var iw={print:4,modify:8,copy:16,"annot-forms":32};function pl(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(iw.perm!==void 0)throw new Error("Invalid permission: "+a);i+=iw[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Eg(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Lg(this.encryptionKey,this.padding)}function ml(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function sw(e){if(Dt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(a){lt.console&&Ht.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Lf(e){if(!(this instanceof Lf))return new Lf(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function g4(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ma(e,t,n,r,i){if(!(this instanceof ma))return new ma(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,g4.call(this,r,i)}function Fl(e,t,n,r,i){if(!(this instanceof Fl))return new Fl(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,g4.call(this,r,i)}function nt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",h=null;Dt(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,m={},g={internal:{},__private__:{}};g.__private__.PubSub=sw;var b="1.3",_=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(v){b=v};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return k};var y=g.__private__.getPageFormat=function(v){return k[v]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},S=x.COMPAT;function E(){this.saveGraphicsState(),X(new et(Ue,0,0,-Ue,0,Zs()*Ue).toString()+" cm"),this.setFontSize(this.getFontSize()/Ue),u="n",S=x.ADVANCED}function I(){this.restoreGraphicsState(),u="S",S=x.COMPAT}var B=g.__private__.combineFontStyleAndFontWeight=function(v,A){if(v=="bold"&&A=="normal"||v=="bold"&&A==400||v=="normal"&&A=="italic"||v=="bold"&&A=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return A&&(v=A==400||A==="normal"?v==="italic"?"italic":"normal":A!=700&&A!=="bold"||v!=="normal"?(A==700?"bold":A)+""+v:"bold"),v};g.advancedAPI=function(v){var A=S===x.COMPAT;return A&&E.call(this),typeof v!="function"||(v(this),A&&I.call(this)),this},g.compatAPI=function(v){var A=S===x.ADVANCED;return A&&I.call(this),typeof v!="function"||(v(this),A&&E.call(this)),this},g.isAdvancedAPI=function(){return S===x.ADVANCED};var U,O=function(v){if(S!==x.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=g.roundToPrecision=g.__private__.roundToPrecision=function(v,A){var H=t||A;if(isNaN(v)||isNaN(H))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(H).replace(/0+$/,"")};U=g.hpf=g.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return K(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return K(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return K(v,16)};var Y=g.f2=g.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return K(v,2)},R=g.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return K(v,3)},P=g.scale=g.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return S===x.COMPAT?v*Ue:S===x.ADVANCED?v:void 0},J=function(v){return S===x.COMPAT?Zs()-v:S===x.ADVANCED?v:void 0},V=function(v){return P(J(v))};g.__private__.setPrecision=g.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var ce,le="00000000000000000000000000000000",ae=g.__private__.getFileId=function(){return le},W=g.__private__.setFileId=function(v){return le=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(er=new pl(h.userPermissions,h.userPassword,h.ownerPassword,le)),le};g.setFileId=function(v){return W(v),this},g.getFileId=function(){return ae()};var te=g.__private__.convertDateToPDFDate=function(v){var A=v.getTimezoneOffset(),H=A<0?"+":"-",ee=Math.floor(Math.abs(A/60)),de=Math.abs(A%60),ye=[H,$(ee),"'",$(de),"'"].join("");return["D:",v.getFullYear(),$(v.getMonth()+1),$(v.getDate()),$(v.getHours()),$(v.getMinutes()),$(v.getSeconds()),ye].join("")},Q=g.__private__.convertPDFDateToDate=function(v){var A=parseInt(v.substr(2,4),10),H=parseInt(v.substr(6,2),10)-1,ee=parseInt(v.substr(8,2),10),de=parseInt(v.substr(10,2),10),ye=parseInt(v.substr(12,2),10),Ae=parseInt(v.substr(14,2),10);return new Date(A,H,ee,de,ye,Ae,0)},me=g.__private__.setCreationDate=function(v){var A;if(v===void 0&&(v=new Date),v instanceof Date)A=te(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");A=v}return ce=A},N=g.__private__.getCreationDate=function(v){var A=ce;return v==="jsDate"&&(A=Q(ce)),A};g.setCreationDate=function(v){return me(v),this},g.getCreationDate=function(v){return N(v)};var z,$=g.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},G=g.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},Z=0,oe=[],he=[],ue=0,xe=[],_e=[],Fe=!1,Pe=he,Qe=function(){Z=0,ue=0,he=[],oe=[],xe=[],$r=dn(),dt=dn()};g.__private__.setCustomOutputDestination=function(v){Fe=!0,Pe=v};var ve=function(v){Fe||(Pe=v)};g.__private__.resetCustomOutputDestination=function(){Fe=!1,Pe=he};var X=g.__private__.out=function(v){return v=v.toString(),ue+=v.length+1,Pe.push(v),Pe},st=g.__private__.write=function(v){return X(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},We=g.__private__.getArrayBuffer=function(v){for(var A=v.length,H=new ArrayBuffer(A),ee=new Uint8Array(H);A--;)ee[A]=v.charCodeAt(A);return H},Ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ne};var Ie=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(v){return Ie=S===x.ADVANCED?v/Ue:v,this};var Me,Oe=g.__private__.getFontSize=g.getFontSize=function(){return S===x.COMPAT?Ie:Ie*Ue},He=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(v){return He=v,this},g.__private__.getR2L=g.getR2L=function(){return He};var rt,Ce=g.__private__.setZoomMode=function(v){var A=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Me=v;else if(isNaN(v)){if(A.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Me=v}else Me=parseInt(v,10)};g.__private__.getZoomMode=function(){return Me};var ze,at=g.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');rt=v};g.__private__.getPageMode=function(){return rt};var Ct=g.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');ze=v};g.__private__.getLayoutMode=function(){return ze},g.__private__.setDisplayMode=g.setDisplayMode=function(v,A,H){return Ce(v),Ct(A),at(H),this};var Je={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(v){if(Object.keys(Je).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Je[v]},g.__private__.getDocumentProperties=function(){return Je},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(v){for(var A in Je)Je.hasOwnProperty(A)&&v[A]&&(Je[A]=v[A]);return this},g.__private__.setDocumentProperty=function(v,A){if(Object.keys(Je).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Je[v]=A};var bt,Ue,In,ct,jr,Rt={},zt={},si=[],At={},Yi={},$t={},Br={},oi=null,Xt=0,ut=[],Lt=new sw(g),Vn=e.hotfixes||[],Nn={},Ur={},ai=[],et=function v(A,H,ee,de,ye,Ae){if(!(this instanceof v))return new v(A,H,ee,de,ye,Ae);isNaN(A)&&(A=1),isNaN(H)&&(H=0),isNaN(ee)&&(ee=0),isNaN(de)&&(de=1),isNaN(ye)&&(ye=0),isNaN(Ae)&&(Ae=0),this._matrix=[A,H,ee,de,ye,Ae]};Object.defineProperty(et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(et.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(et.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(et.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(et.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(et.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(et.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),et.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(v)},et.prototype.multiply=function(v){var A=v.sx*this.sx+v.shy*this.shx,H=v.sx*this.shy+v.shy*this.sy,ee=v.shx*this.sx+v.sy*this.shx,de=v.shx*this.shy+v.sy*this.sy,ye=v.tx*this.sx+v.ty*this.shx+this.tx,Ae=v.tx*this.shy+v.ty*this.sy+this.ty;return new et(A,H,ee,de,ye,Ae)},et.prototype.decompose=function(){var v=this.sx,A=this.shy,H=this.shx,ee=this.sy,de=this.tx,ye=this.ty,Ae=Math.sqrt(v*v+A*A),qe=(v/=Ae)*H+(A/=Ae)*ee;H-=v*qe,ee-=A*qe;var Ze=Math.sqrt(H*H+ee*ee);return qe/=Ze,v*(ee/=Ze)<A*(H/=Ze)&&(v=-v,A=-A,qe=-qe,Ae=-Ae),{scale:new et(Ae,0,0,Ze,0,0),translate:new et(1,0,0,1,de,ye),rotate:new et(v,A,-A,v,0,0),skew:new et(1,0,qe,1,0,0)}},et.prototype.toString=function(v){return this.join(" ")},et.prototype.inversed=function(){var v=this.sx,A=this.shy,H=this.shx,ee=this.sy,de=this.tx,ye=this.ty,Ae=1/(v*ee-A*H),qe=ee*Ae,Ze=-A*Ae,gt=-H*Ae,pt=v*Ae;return new et(qe,Ze,gt,pt,-qe*de-gt*ye,-Ze*de-pt*ye)},et.prototype.applyToPoint=function(v){var A=v.x*this.sx+v.y*this.shx+this.tx,H=v.x*this.shy+v.y*this.sy+this.ty;return new za(A,H)},et.prototype.applyToRectangle=function(v){var A=this.applyToPoint(v),H=this.applyToPoint(new za(v.x+v.w,v.y+v.h));return new bc(A.x,A.y,H.x-A.x,H.y-A.y)},et.prototype.clone=function(){var v=this.sx,A=this.shy,H=this.shx,ee=this.sy,de=this.tx,ye=this.ty;return new et(v,A,H,ee,de,ye)},g.Matrix=et;var zr=g.matrixMult=function(v,A){return A.multiply(v)},li=new et(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=li;var Hn=function(v,A){if(!Yi[v]){var H=(A instanceof ma?"Sh":"P")+(Object.keys(At).length+1).toString(10);A.id=H,Yi[v]=H,At[H]=A,Lt.publish("addPattern",A)}};g.ShadingPattern=ma,g.TilingPattern=Fl,g.addShadingPattern=function(v,A){return O("addShadingPattern()"),Hn(v,A),this},g.beginTilingPattern=function(v){O("beginTilingPattern()"),Sd(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},g.endTilingPattern=function(v,A){O("endTilingPattern()"),A.stream=_e[z].join(`
`),Hn(v,A),Lt.publish("endTilingPattern",A),ai.pop().restore()};var vn=g.__private__.newObject=function(){var v=dn();return mr(v,!0),v},dn=g.__private__.newObjectDeferred=function(){return Z++,oe[Z]=function(){return ue},Z},mr=function(v,A){return A=typeof A=="boolean"&&A,oe[v]=ue,A&&X(v+" 0 obj"),v},Ws=g.__private__.newAdditionalObject=function(){var v={objId:dn(),content:""};return xe.push(v),v},$r=dn(),dt=dn(),qr=g.__private__.decodeColorString=function(v){var A=v.split(" ");if(A.length!==2||A[1]!=="g"&&A[1]!=="G")A.length===5&&(A[4]==="k"||A[4]==="K")&&(A=[(1-A[0])*(1-A[3]),(1-A[1])*(1-A[3]),(1-A[2])*(1-A[3]),"r"]);else{var H=parseFloat(A[0]);A=[H,H,H,"r"]}for(var ee="#",de=0;de<3;de++)ee+=("0"+Math.floor(255*parseFloat(A[de])).toString(16)).slice(-2);return ee},Vr=g.__private__.encodeColorString=function(v){var A;typeof v=="string"&&(v={ch1:v});var H=v.ch1,ee=v.ch2,de=v.ch3,ye=v.ch4,Ae=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof H=="string"&&H.charAt(0)!=="#"){var qe=new p4(H);if(qe.ok)H=qe.toHex();else if(!/^\d*\.?\d*$/.test(H))throw new Error('Invalid color "'+H+'" passed to jsPDF.encodeColorString.')}if(typeof H=="string"&&/^#[0-9A-Fa-f]{3}$/.test(H)&&(H="#"+H[1]+H[1]+H[2]+H[2]+H[3]+H[3]),typeof H=="string"&&/^#[0-9A-Fa-f]{6}$/.test(H)){var Ze=parseInt(H.substr(1),16);H=Ze>>16&255,ee=Ze>>8&255,de=255&Ze}if(ee===void 0||ye===void 0&&H===ee&&ee===de)if(typeof H=="string")A=H+" "+Ae[0];else switch(v.precision){case 2:A=Y(H/255)+" "+Ae[0];break;case 3:default:A=R(H/255)+" "+Ae[0]}else if(ye===void 0||Dt(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return A=["1.","1.","1.",Ae[1]].join(" ");if(typeof H=="string")A=[H,ee,de,Ae[1]].join(" ");else switch(v.precision){case 2:A=[Y(H/255),Y(ee/255),Y(de/255),Ae[1]].join(" ");break;default:case 3:A=[R(H/255),R(ee/255),R(de/255),Ae[1]].join(" ")}}else if(typeof H=="string")A=[H,ee,de,ye,Ae[2]].join(" ");else switch(v.precision){case 2:A=[Y(H),Y(ee),Y(de),Y(ye),Ae[2]].join(" ");break;case 3:default:A=[R(H),R(ee),R(de),R(ye),Ae[2]].join(" ")}return A},Zn=g.__private__.getFilters=function(){return o},On=g.__private__.putStream=function(v){var A=(v=v||{}).data||"",H=v.filters||Zn(),ee=v.alreadyAppliedFilters||[],de=v.addLength1||!1,ye=A.length,Ae=v.objectId,qe=function(tr){return tr};if(h!==null&&Ae===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(qe=er.encryptor(Ae,0));var Ze={};H===!0&&(H=["FlateEncode"]);var gt=v.additionalKeyValues||[],pt=(Ze=nt.API.processDataByFilters!==void 0?nt.API.processDataByFilters(A,H):{data:A,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(Ze.data.length!==0&&(gt.push({key:"Length",value:Ze.data.length}),de===!0&&gt.push({key:"Length1",value:ye})),pt.length!=0)if(pt.split("/").length-1==1)gt.push({key:"Filter",value:pt});else{gt.push({key:"Filter",value:"["+pt+"]"});for(var Nt=0;Nt<gt.length;Nt+=1)if(gt[Nt].key==="DecodeParms"){for(var sn=[],hn=0;hn<Ze.reverseChain.split("/").length-1;hn+=1)sn.push("null");sn.push(gt[Nt].value),gt[Nt].value="["+sn.join(" ")+"]"}}X("<<");for(var Cn=0;Cn<gt.length;Cn++)X("/"+gt[Cn].key+" "+gt[Cn].value);X(">>"),Ze.data.length!==0&&(X("stream"),X(qe(Ze.data)),X("endstream"))},Hr=g.__private__.putPage=function(v){var A=v.number,H=v.data,ee=v.objId,de=v.contentsObjId;mr(ee,!0),X("<</Type /Page"),X("/Parent "+v.rootDictionaryObjId+" 0 R"),X("/Resources "+v.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(U(v.mediaBox.bottomLeftX))+" "+parseFloat(U(v.mediaBox.bottomLeftY))+" "+U(v.mediaBox.topRightX)+" "+U(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&X("/CropBox ["+U(v.cropBox.bottomLeftX)+" "+U(v.cropBox.bottomLeftY)+" "+U(v.cropBox.topRightX)+" "+U(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&X("/BleedBox ["+U(v.bleedBox.bottomLeftX)+" "+U(v.bleedBox.bottomLeftY)+" "+U(v.bleedBox.topRightX)+" "+U(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&X("/TrimBox ["+U(v.trimBox.bottomLeftX)+" "+U(v.trimBox.bottomLeftY)+" "+U(v.trimBox.topRightX)+" "+U(v.trimBox.topRightY)+"]"),v.artBox!==null&&X("/ArtBox ["+U(v.artBox.bottomLeftX)+" "+U(v.artBox.bottomLeftY)+" "+U(v.artBox.topRightX)+" "+U(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&X("/UserUnit "+v.userUnit),Lt.publish("putPage",{objId:ee,pageContext:ut[A],pageNumber:A,page:H}),X("/Contents "+de+" 0 R"),X(">>"),X("endobj");var ye=H.join(`
`);return S===x.ADVANCED&&(ye+=`
Q`),mr(de,!0),On({data:ye,filters:Zn(),objectId:de}),X("endobj"),ee},Gs=g.__private__.putPages=function(){var v,A,H=[];for(v=1;v<=Xt;v++)ut[v].objId=dn(),ut[v].contentsObjId=dn();for(v=1;v<=Xt;v++)H.push(Hr({number:v,data:_e[v],objId:ut[v].objId,contentsObjId:ut[v].contentsObjId,mediaBox:ut[v].mediaBox,cropBox:ut[v].cropBox,bleedBox:ut[v].bleedBox,trimBox:ut[v].trimBox,artBox:ut[v].artBox,userUnit:ut[v].userUnit,rootDictionaryObjId:$r,resourceDictionaryObjId:dt}));mr($r,!0),X("<</Type /Pages");var ee="/Kids [";for(A=0;A<Xt;A++)ee+=H[A]+" 0 R ";X(ee+"]"),X("/Count "+Xt),X(">>"),X("endobj"),Lt.publish("postPutPages")},Ks=function(v){Lt.publish("putFont",{font:v,out:X,newObject:vn,putStream:On}),v.isAlreadyPutted!==!0&&(v.objectNumber=vn(),X("<<"),X("/Type /Font"),X("/BaseFont /"+ml(v.postScriptName)),X("/Subtype /Type1"),typeof v.encoding=="string"&&X("/Encoding /"+v.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Js=function(){for(var v in Rt)Rt.hasOwnProperty(v)&&(f===!1||f===!0&&m.hasOwnProperty(v))&&Ks(Rt[v])},ms=function(v){v.objectNumber=vn();var A=[];A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Form"}),A.push({key:"BBox",value:"["+[U(v.x),U(v.y),U(v.x+v.width),U(v.y+v.height)].join(" ")+"]"}),A.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var H=v.pages[1].join(`
`);On({data:H,additionalKeyValues:A,objectId:v.objectNumber}),X("endobj")},Ci=function(){for(var v in Nn)Nn.hasOwnProperty(v)&&ms(Nn[v])},Ra=function(v,A){var H,ee=[],de=1/(A-1);for(H=0;H<1;H+=de)ee.push(H);if(ee.push(1),v[0].offset!=0){var ye={offset:0,color:v[0].color};v.unshift(ye)}if(v[v.length-1].offset!=1){var Ae={offset:1,color:v[v.length-1].color};v.push(Ae)}for(var qe="",Ze=0,gt=0;gt<ee.length;gt++){for(H=ee[gt];H>v[Ze+1].offset;)Ze++;var pt=v[Ze].offset,Nt=(H-pt)/(v[Ze+1].offset-pt),sn=v[Ze].color,hn=v[Ze+1].color;qe+=G(Math.round((1-Nt)*sn[0]+Nt*hn[0]).toString(16))+G(Math.round((1-Nt)*sn[1]+Nt*hn[1]).toString(16))+G(Math.round((1-Nt)*sn[2]+Nt*hn[2]).toString(16))}return qe.trim()},Ys=function(v,A){A||(A=21);var H=vn(),ee=Ra(v.colors,A),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+A+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),On({data:ee,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:H}),X("endobj"),v.objectNumber=vn(),X("<< /ShadingType "+v.type),X("/ColorSpace /DeviceRGB");var ye="/Coords ["+U(parseFloat(v.coords[0]))+" "+U(parseFloat(v.coords[1]))+" ";v.type===2?ye+=U(parseFloat(v.coords[2]))+" "+U(parseFloat(v.coords[3])):ye+=U(parseFloat(v.coords[2]))+" "+U(parseFloat(v.coords[3]))+" "+U(parseFloat(v.coords[4]))+" "+U(parseFloat(v.coords[5])),X(ye+="]"),v.matrix&&X("/Matrix ["+v.matrix.toString()+"]"),X("/Function "+H+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},hc=function(v,A){var H=dn(),ee=vn();A.push({resourcesOid:H,objectOid:ee}),v.objectNumber=ee;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+v.boundingBox.map(U).join(" ")+"]"}),de.push({key:"XStep",value:U(v.xStep)}),de.push({key:"YStep",value:U(v.yStep)}),de.push({key:"Resources",value:H+" 0 R"}),v.matrix&&de.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),On({data:v.stream,additionalKeyValues:de,objectId:v.objectNumber}),X("endobj")},gs=function(v){var A;for(A in At)At.hasOwnProperty(A)&&(At[A]instanceof ma?Ys(At[A]):At[A]instanceof Fl&&hc(At[A],v))},Ia=function(v){for(var A in v.objectNumber=vn(),X("<<"),v)switch(A){case"opacity":X("/ca "+Y(v[A]));break;case"stroke-opacity":X("/CA "+Y(v[A]))}X(">>"),X("endobj")},Xi=function(){var v;for(v in $t)$t.hasOwnProperty(v)&&Ia($t[v])},Wo=function(){for(var v in X("/XObject <<"),Nn)Nn.hasOwnProperty(v)&&Nn[v].objectNumber>=0&&X("/"+v+" "+Nn[v].objectNumber+" 0 R");Lt.publish("putXobjectDict"),X(">>")},fc=function(){er.oid=vn(),X("<<"),X("/Filter /Standard"),X("/V "+er.v),X("/R "+er.r),X("/U <"+er.toHexString(er.U)+">"),X("/O <"+er.toHexString(er.O)+">"),X("/P "+er.P),X(">>"),X("endobj")},Te=function(){for(var v in X("/Font <<"),Rt)Rt.hasOwnProperty(v)&&(f===!1||f===!0&&m.hasOwnProperty(v))&&X("/"+v+" "+Rt[v].objectNumber+" 0 R");X(">>")},Ye=function(){if(Object.keys(At).length>0){for(var v in X("/Shading <<"),At)At.hasOwnProperty(v)&&At[v]instanceof ma&&At[v].objectNumber>=0&&X("/"+v+" "+At[v].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),X(">>")}},it=function(v){if(Object.keys(At).length>0){for(var A in X("/Pattern <<"),At)At.hasOwnProperty(A)&&At[A]instanceof g.TilingPattern&&At[A].objectNumber>=0&&At[A].objectNumber<v&&X("/"+A+" "+At[A].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),X(">>")}},ke=function(){if(Object.keys($t).length>0){var v;for(v in X("/ExtGState <<"),$t)$t.hasOwnProperty(v)&&$t[v].objectNumber>=0&&X("/"+v+" "+$t[v].objectNumber+" 0 R");Lt.publish("putGStateDict"),X(">>")}},$e=function(v){mr(v.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Te(),Ye(),it(v.objectOid),ke(),Wo(),X(">>"),X("endobj")},St=function(){var v=[];Js(),Xi(),Ci(),gs(v),Lt.publish("putResources"),v.forEach($e),$e({resourcesOid:dt,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources")},Ee=function(){Lt.publish("putAdditionalObjects");for(var v=0;v<xe.length;v++){var A=xe[v];mr(A.objId,!0),X(A.content),X("endobj")}Lt.publish("postPutAdditionalObjects")},Xe=function(v){zt[v.fontName]=zt[v.fontName]||{},zt[v.fontName][v.fontStyle]=v.id},ht=function(v,A,H,ee,de){var ye={id:"F"+(Object.keys(Rt).length+1).toString(10),postScriptName:v,fontName:A,fontStyle:H,encoding:ee,isStandardFont:de||!1,metadata:{}};return Lt.publish("addFont",{font:ye,instance:this}),Rt[ye.id]=ye,Xe(ye),ye.id},yt=function(v){for(var A=0,H=Ne.length;A<H;A++){var ee=ht.call(this,v[A][0],v[A][1],v[A][2],Ne[A][3],!0);f===!1&&(m[ee]=!0);var de=v[A][0].split("-");Xe({id:ee,fontName:de[0],fontStyle:de[1]||""})}Lt.publish("addFonts",{fonts:Rt,dictionary:zt})},Tt=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(ee){var A=ee.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var H="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ee.message;if(!lt.console)throw new Error(H);lt.console.error(H,ee),lt.alert&&alert(H)}},v.foo.bar=v,v.foo},Ln=function(v,A){var H,ee,de,ye,Ae,qe,Ze,gt,pt;if(de=(A=A||{}).sourceEncoding||"Unicode",Ae=A.outputEncoding,(A.autoencode||Ae)&&Rt[bt].metadata&&Rt[bt].metadata[de]&&Rt[bt].metadata[de].encoding&&(ye=Rt[bt].metadata[de].encoding,!Ae&&Rt[bt].encoding&&(Ae=Rt[bt].encoding),!Ae&&ye.codePages&&(Ae=ye.codePages[0]),typeof Ae=="string"&&(Ae=ye[Ae]),Ae)){for(Ze=!1,qe=[],H=0,ee=v.length;H<ee;H++)(gt=Ae[v.charCodeAt(H)])?qe.push(String.fromCharCode(gt)):qe.push(v[H]),qe[H].charCodeAt(0)>>8&&(Ze=!0);v=qe.join("")}for(H=v.length;Ze===void 0&&H!==0;)v.charCodeAt(H-1)>>8&&(Ze=!0),H--;if(!Ze)return v;for(qe=A.noBOM?[]:[254,255],H=0,ee=v.length;H<ee;H++){if((pt=(gt=v.charCodeAt(H))>>8)>>8)throw new Error("Character at position "+H+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(pt),qe.push(gt-(pt<<8))}return String.fromCharCode.apply(void 0,qe)},rn=g.__private__.pdfEscape=g.pdfEscape=function(v,A){return Ln(v,A).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ci=g.__private__.beginPage=function(v){_e[++Xt]=[],ut[Xt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},Ai(Xt),ve(_e[z])},Wt=function(v,A){var H,ee,de;switch(n=A||n,typeof v=="string"&&(H=y(v.toLowerCase()),Array.isArray(H)&&(ee=H[0],de=H[1])),Array.isArray(v)&&(ee=v[0]*Ue,de=v[1]*Ue),isNaN(ee)&&(ee=i[0],de=i[1]),(ee>14400||de>14400)&&(Ht.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),de=Math.min(14400,de)),i=[ee,de],n.substr(0,1)){case"l":de>ee&&(i=[de,ee]);break;case"p":ee>de&&(i=[de,ee])}ci(i),vd(vc),X(Ei),wc!==0&&X(wc+" J"),xc!==0&&X(xc+" j"),Lt.publish("addPage",{pageNumber:Xt})},yn=function(v){v>0&&v<=Xt&&(_e.splice(v,1),ut.splice(v,1),Xt--,z>Xt&&(z=Xt),this.setPage(z))},Ai=function(v){v>0&&v<=Xt&&(z=v)},Pi=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return _e.length-1},Go=function(v,A,H){var ee,de=void 0;return H=H||{},v=v!==void 0?v:Rt[bt].fontName,A=A!==void 0?A:Rt[bt].fontStyle,ee=v.toLowerCase(),zt[ee]!==void 0&&zt[ee][A]!==void 0?de=zt[ee][A]:zt[v]!==void 0&&zt[v][A]!==void 0?de=zt[v][A]:H.disableWarning===!1&&Ht.warn("Unable to look up font label for font '"+v+"', '"+A+"'. Refer to getFontList() for available fonts."),de||H.noFallback||(de=zt.times[A])==null&&(de=zt.times.normal),de},vp=g.__private__.putInfo=function(){var v=vn(),A=function(ee){return ee};for(var H in h!==null&&(A=er.encryptor(v,0)),X("<<"),X("/Producer ("+rn(A("jsPDF "+nt.version))+")"),Je)Je.hasOwnProperty(H)&&Je[H]&&X("/"+H.substr(0,1).toUpperCase()+H.substr(1)+" ("+rn(A(Je[H]))+")");X("/CreationDate ("+rn(A(ce))+")"),X(">>"),X("endobj")},pc=g.__private__.putCatalog=function(v){var A=(v=v||{}).rootDictionaryObjId||$r;switch(vn(),X("<<"),X("/Type /Catalog"),X("/Pages "+A+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var H=""+Me;H.substr(H.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&X("/OpenAction [3 0 R /XYZ null null "+Y(Me)+"]")}switch(ze||(ze="continuous"),ze){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}rt&&X("/PageMode /"+rt),Lt.publish("putCatalog"),X(">>"),X("endobj")},yp=g.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(Z+1)),X("/Root "+Z+" 0 R"),X("/Info "+(Z-1)+" 0 R"),h!==null&&X("/Encrypt "+er.oid+" 0 R"),X("/ID [ <"+le+"> <"+le+"> ]"),X(">>")},wp=g.__private__.putHeader=function(){X("%PDF-"+b),X("%")},xp=g.__private__.putXRef=function(){var v="0000000000";X("xref"),X("0 "+(Z+1)),X("0000000000 65535 f ");for(var A=1;A<=Z;A++)typeof oe[A]=="function"?X((v+oe[A]()).slice(-10)+" 00000 n "):oe[A]!==void 0?X((v+oe[A]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},vs=g.__private__.buildDocument=function(){Qe(),ve(he),Lt.publish("buildDocument"),wp(),Gs(),Ee(),St(),h!==null&&fc(),vp(),pc();var v=ue;return xp(),yp(),X("startxref"),X(""+v),X("%%EOF"),ve(_e[z]),he.join(`
`)},Oa=g.__private__.getBlob=function(v){return new Blob([We(v)],{type:"application/pdf"})},Da=g.output=g.__private__.output=Tt(function(v,A){switch(typeof(A=A||{})=="string"?A={filename:A}:A.filename=A.filename||"generated.pdf",v){case void 0:return vs();case"save":g.save(A.filename);break;case"arraybuffer":return We(vs());case"blob":return Oa(vs());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(Oa(vs()))||void 0;Ht.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var H="",ee=vs();try{H=Pg(ee)}catch{H=Pg(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+A.filename+";base64,"+H;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';A.pdfObjectUrl&&(de=A.pdfObjectUrl,ye="");var Ae='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(A)+");<\/script></body></html>",qe=lt.open();return qe!==null&&qe.document.write(Ae),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(A.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+A.filename+'" width="500px" height="400px" /></body></html>',gt=lt.open();if(gt!==null){gt.document.write(Ze);var pt=this;gt.document.documentElement.querySelector("#pdfViewer").onload=function(){gt.document.title=A.filename,gt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pt.output("bloburl"))}}return gt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",A)+'"></iframe></body></html>',sn=lt.open();if(sn!==null&&(sn.document.write(Nt),sn.document.title=A.filename),sn||typeof safari>"u")return sn;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",A);default:return null}}),fd=function(v){return Array.isArray(Vn)===!0&&Vn.indexOf(v)>-1};switch(r){case"pt":Ue=1;break;case"mm":Ue=72/25.4;break;case"cm":Ue=72/2.54;break;case"in":Ue=72;break;case"px":Ue=fd("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ue=12;break;case"ex":Ue=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ue=r}var er=null;me(),W();var bp=function(v){return h!==null?er.encryptor(v,0):function(A){return A}},pd=g.__private__.getPageInfo=g.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ut[v].objId,pageNumber:v,pageContext:ut[v]}},ft=g.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var A in ut)if(ut[A].objId===v)break;return pd(A)},Sp=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ut[z].objId,pageNumber:z,pageContext:ut[z]}};g.addPage=function(){return Wt.apply(this,arguments),this},g.setPage=function(){return Ai.apply(this,arguments),ve.call(this,_e[z]),this},g.insertPage=function(v){return this.addPage(),this.movePage(z,v),this},g.movePage=function(v,A){var H,ee;if(v>A){H=_e[v],ee=ut[v];for(var de=v;de>A;de--)_e[de]=_e[de-1],ut[de]=ut[de-1];_e[A]=H,ut[A]=ee,this.setPage(A)}else if(v<A){H=_e[v],ee=ut[v];for(var ye=v;ye<A;ye++)_e[ye]=_e[ye+1],ut[ye]=ut[ye+1];_e[A]=H,ut[A]=ee,this.setPage(A)}return this},g.deletePage=function(){return yn.apply(this,arguments),this},g.__private__.text=g.text=function(v,A,H,ee,de){var ye,Ae,qe,Ze,gt,pt,Nt,sn,hn,Cn=(ee=ee||{}).scope||this;if(typeof v=="number"&&typeof A=="number"&&(typeof H=="string"||Array.isArray(H))){var tr=H;H=A,A=v,v=tr}if(arguments[3]instanceof et?(O("The transform parameter of text() with a Matrix value"),hn=de):(qe=arguments[4],Ze=arguments[5],Dt(Nt=arguments[3])==="object"&&Nt!==null||(typeof qe=="string"&&(Ze=qe,qe=null),typeof Nt=="string"&&(Ze=Nt,Nt=null),typeof Nt=="number"&&(qe=Nt,Nt=null),ee={flags:Nt,angle:qe,align:Ze})),isNaN(A)||isNaN(H)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Cn;var Dn="",Li=!1,Wr=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:Jo,es=Cn.internal.scaleFactor;function _d(Gt){return Gt=Gt.split("	").join(Array(ee.TabLen||9).join(" ")),rn(Gt,Nt)}function kc(Gt){for(var Kt,xn=Gt.concat(),Tn=[],Ss=xn.length;Ss--;)typeof(Kt=xn.shift())=="string"?Tn.push(Kt):Array.isArray(Gt)&&(Kt.length===1||Kt[1]===void 0&&Kt[2]===void 0)?Tn.push(Kt[0]):Tn.push([Kt[0],Kt[1],Kt[2]]);return Tn}function Nc(Gt,Kt){var xn;if(typeof Gt=="string")xn=Kt(Gt)[0];else if(Array.isArray(Gt)){for(var Tn,Ss,Rc=Gt.concat(),Qa=[],Ad=Rc.length;Ad--;)typeof(Tn=Rc.shift())=="string"?Qa.push(Kt(Tn)[0]):Array.isArray(Tn)&&typeof Tn[0]=="string"&&(Ss=Kt(Tn[0],Tn[1],Tn[2]),Qa.push([Ss[0],Ss[1],Ss[2]]));xn=Qa}return xn}var qa=!1,Cc=!0;if(typeof v=="string")qa=!0;else if(Array.isArray(v)){var Ac=v.concat();Ae=[];for(var Va,Wn=Ac.length;Wn--;)(typeof(Va=Ac.shift())!="string"||Array.isArray(Va)&&typeof Va[0]!="string")&&(Cc=!1);qa=Cc}if(qa===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Ha=Ie/Cn.internal.scaleFactor,Wa=Ha*(Wr-1);switch(ee.baseline){case"bottom":H-=Wa;break;case"top":H+=Ha-Wa;break;case"hanging":H+=Ha-2*Wa;break;case"middle":H+=Ha/2-Wa}if((pt=ee.maxWidth||0)>0&&(typeof v=="string"?v=Cn.splitTextToSize(v,pt):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(Gt,Kt){return Gt.concat(Cn.splitTextToSize(Kt,pt))},[]))),ye={text:v,x:A,y:H,options:ee,mutex:{pdfEscape:rn,activeFontKey:bt,fonts:Rt,activeFontSize:Ie}},Lt.publish("preProcessText",ye),v=ye.text,qe=(ee=ye.options).angle,!(hn instanceof et)&&qe&&typeof qe=="number"){qe*=Math.PI/180,ee.rotationDirection===0&&(qe=-qe),S===x.ADVANCED&&(qe=-qe);var Ga=Math.cos(qe),Pc=Math.sin(qe);hn=new et(Ga,Pc,-Pc,Ga,0,0)}else qe&&qe instanceof et&&(hn=qe);S!==x.ADVANCED||hn||(hn=li),(gt=ee.charSpace||Ua)!==void 0&&(Dn+=U(P(gt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(sn=ee.horizontalScale)!==void 0&&(Dn+=U(100*sn)+` Tz
`),ee.lang;var kr=-1,Tp=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,Ec=Cn.internal.getCurrentPageInfo().pageContext;switch(Tp){case 0:case!1:case"fill":kr=0;break;case 1:case!0:case"stroke":kr=1;break;case 2:case"fillThenStroke":kr=2;break;case 3:case"invisible":kr=3;break;case 4:case"fillAndAddForClipping":kr=4;break;case 5:case"strokeAndAddPathForClipping":kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":kr=6;break;case 7:case"addToPathForClipping":kr=7}var jd=Ec.usedRenderingMode!==void 0?Ec.usedRenderingMode:-1;kr!==-1?Dn+=kr+` Tr
`:jd!==-1&&(Dn+=`0 Tr
`),kr!==-1&&(Ec.usedRenderingMode=kr),Ze=ee.align||"left";var ui,Ka=Ie*Wr,kd=Cn.internal.pageSize.getWidth(),Nd=Rt[bt];gt=ee.charSpace||Ua,pt=ee.maxWidth||0,Nt=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var eo=[],Qo=function(Gt){return Cn.getStringUnitWidth(Gt,{font:Nd,charSpace:gt,fontSize:Ie,doKerning:!1})*Ie/es};if(Object.prototype.toString.call(v)==="[object Array]"){var Nr;Ae=kc(v),Ze!=="left"&&(ui=Ae.map(Qo));var gr,to=0;if(Ze==="right"){A-=ui[0],v=[],Wn=Ae.length;for(var ws=0;ws<Wn;ws++)ws===0?(gr=Zi(A),Nr=ys(H)):(gr=P(to-ui[ws]),Nr=-Ka),v.push([Ae[ws],gr,Nr]),to=ui[ws]}else if(Ze==="center"){A-=ui[0]/2,v=[],Wn=Ae.length;for(var xs=0;xs<Wn;xs++)xs===0?(gr=Zi(A),Nr=ys(H)):(gr=P((to-ui[xs])/2),Nr=-Ka),v.push([Ae[xs],gr,Nr]),to=ui[xs]}else if(Ze==="left"){v=[],Wn=Ae.length;for(var Ja=0;Ja<Wn;Ja++)v.push(Ae[Ja])}else if(Ze==="justify"&&Nd.encoding==="Identity-H"){v=[],Wn=Ae.length,pt=pt!==0?pt:kd;for(var bs=0,wn=0;wn<Wn;wn++)if(Nr=wn===0?ys(H):-Ka,gr=wn===0?Zi(A):bs,wn<Wn-1){var Lc=P((pt-ui[wn])/(Ae[wn].split(" ").length-1)),vr=Ae[wn].split(" ");v.push([vr[0]+" ",gr,Nr]),bs=0;for(var di=1;di<vr.length;di++){var Ya=(Qo(vr[di-1]+" "+vr[di])-Qo(vr[di]))*es+Lc;di==vr.length-1?v.push([vr[di],Ya,0]):v.push([vr[di]+" ",Ya,0]),bs-=Ya}}else v.push([Ae[wn],gr,Nr]);v.push(["",bs,0])}else{if(Ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Wn=Ae.length,pt=pt!==0?pt:kd,wn=0;wn<Wn;wn++)Nr=wn===0?ys(H):-Ka,gr=wn===0?Zi(A):0,wn<Wn-1?eo.push(U(P((pt-ui[wn])/(Ae[wn].split(" ").length-1)))):eo.push(0),v.push([Ae[wn],gr,Nr])}}var Cd=typeof ee.R2L=="boolean"?ee.R2L:He;Cd===!0&&(v=Nc(v,function(Gt,Kt,xn){return[Gt.split("").reverse().join(""),Kt,xn]})),ye={text:v,x:A,y:H,options:ee,mutex:{pdfEscape:rn,activeFontKey:bt,fonts:Rt,activeFontSize:Ie}},Lt.publish("postProcessText",ye),v=ye.text,Li=ye.mutex.isHex||!1;var Tc=Rt[bt].encoding;Tc!=="WinAnsiEncoding"&&Tc!=="StandardEncoding"||(v=Nc(v,function(Gt,Kt,xn){return[_d(Gt),Kt,xn]})),Ae=kc(v),v=[];for(var Zo,ea,no,ta=0,Xa=1,na=Array.isArray(Ae[0])?Xa:ta,ro="",Fc=function(Gt,Kt,xn){var Tn="";return xn instanceof et?(xn=typeof ee.angle=="number"?zr(xn,new et(1,0,0,1,Gt,Kt)):zr(new et(1,0,0,1,Gt,Kt),xn),S===x.ADVANCED&&(xn=zr(new et(1,0,0,-1,0,0),xn)),Tn=xn.join(" ")+` Tm
`):Tn=U(Gt)+" "+U(Kt)+` Td
`,Tn},hi=0;hi<Ae.length;hi++){switch(ro="",na){case Xa:no=(Li?"<":"(")+Ae[hi][0]+(Li?">":")"),Zo=parseFloat(Ae[hi][1]),ea=parseFloat(Ae[hi][2]);break;case ta:no=(Li?"<":"(")+Ae[hi]+(Li?">":")"),Zo=Zi(A),ea=ys(H)}eo!==void 0&&eo[hi]!==void 0&&(ro=eo[hi]+` Tw
`),hi===0?v.push(ro+Fc(Zo,ea,hn)+no):na===ta?v.push(ro+no):na===Xa&&v.push(ro+Fc(Zo,ea,hn)+no)}v=na===ta?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var fi=`BT
/`;return fi+=bt+" "+Ie+` Tf
`,fi+=U(Ie*Wr)+` TL
`,fi+=Yo+`
`,fi+=Dn,fi+=v,X(fi+="ET"),m[bt]=!0,Cn};var _p=g.__private__.clip=g.clip=function(v){return X(v==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return _p("evenodd")},g.__private__.discardPath=g.discardPath=function(){return X("n"),this};var Qi=g.__private__.isValidStyle=function(v){var A=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(A=!0),A};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(v){return Qi(v)&&(u=v),this};var md=g.__private__.getStyle=g.getStyle=function(v){var A=u;switch(v){case"D":case"S":A="S";break;case"F":A="f";break;case"FD":case"DF":A="B";break;case"f":case"f*":case"B":case"B*":A=v}return A},gd=g.close=function(){return X("h"),this};g.stroke=function(){return X("S"),this},g.fill=function(v){return Ma("f",v),this},g.fillEvenOdd=function(v){return Ma("f*",v),this},g.fillStroke=function(v){return Ma("B",v),this},g.fillStrokeEvenOdd=function(v){return Ma("B*",v),this};var Ma=function(v,A){Dt(A)==="object"?kp(A,v):X(v)},mc=function(v){v===null||S===x.ADVANCED&&v===void 0||(v=md(v),X(v))};function jp(v,A,H,ee,de){var ye=new Fl(A||this.boundingBox,H||this.xStep,ee||this.yStep,this.gState,de||this.matrix);ye.stream=this.stream;var Ae=v+"$$"+this.cloneIndex+++"$$";return Hn(Ae,ye),ye}var kp=function(v,A){var H=Yi[v.key],ee=At[H];if(ee instanceof ma)X("q"),X(Np(A)),ee.gState&&g.setGState(ee.gState),X(v.matrix.toString()+" cm"),X("/"+H+" sh"),X("Q");else if(ee instanceof Fl){var de=new et(1,0,0,-1,0,Zs());v.matrix&&(de=de.multiply(v.matrix||li),H=jp.call(ee,v.key,v.boundingBox,v.xStep,v.yStep,de).id),X("q"),X("/Pattern cs"),X("/"+H+" scn"),ee.gState&&g.setGState(ee.gState),X(A),X("Q")}},Np=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},gc=g.moveTo=function(v,A){return X(U(P(v))+" "+U(V(A))+" m"),this},Ko=g.lineTo=function(v,A){return X(U(P(v))+" "+U(V(A))+" l"),this},Xs=g.curveTo=function(v,A,H,ee,de,ye){return X([U(P(v)),U(V(A)),U(P(H)),U(V(ee)),U(P(de)),U(V(ye)),"c"].join(" ")),this};g.__private__.line=g.line=function(v,A,H,ee,de){if(isNaN(v)||isNaN(A)||isNaN(H)||isNaN(ee)||!Qi(de))throw new Error("Invalid arguments passed to jsPDF.line");return S===x.COMPAT?this.lines([[H-v,ee-A]],v,A,[1,1],de||"S"):this.lines([[H-v,ee-A]],v,A,[1,1]).stroke()},g.__private__.lines=g.lines=function(v,A,H,ee,de,ye){var Ae,qe,Ze,gt,pt,Nt,sn,hn,Cn,tr,Dn,Li;if(typeof v=="number"&&(Li=H,H=A,A=v,v=Li),ee=ee||[1,1],ye=ye||!1,isNaN(A)||isNaN(H)||!Array.isArray(v)||!Array.isArray(ee)||!Qi(de)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gc(A,H),Ae=ee[0],qe=ee[1],gt=v.length,tr=A,Dn=H,Ze=0;Ze<gt;Ze++)(pt=v[Ze]).length===2?(tr=pt[0]*Ae+tr,Dn=pt[1]*qe+Dn,Ko(tr,Dn)):(Nt=pt[0]*Ae+tr,sn=pt[1]*qe+Dn,hn=pt[2]*Ae+tr,Cn=pt[3]*qe+Dn,tr=pt[4]*Ae+tr,Dn=pt[5]*qe+Dn,Xs(Nt,sn,hn,Cn,tr,Dn));return ye&&gd(),mc(de),this},g.path=function(v){for(var A=0;A<v.length;A++){var H=v[A],ee=H.c;switch(H.op){case"m":gc(ee[0],ee[1]);break;case"l":Ko(ee[0],ee[1]);break;case"c":Xs.apply(this,ee);break;case"h":gd()}}return this},g.__private__.rect=g.rect=function(v,A,H,ee,de){if(isNaN(v)||isNaN(A)||isNaN(H)||isNaN(ee)||!Qi(de))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x.COMPAT&&(ee=-ee),X([U(P(v)),U(V(A)),U(P(H)),U(P(ee)),"re"].join(" ")),mc(de),this},g.__private__.triangle=g.triangle=function(v,A,H,ee,de,ye,Ae){if(isNaN(v)||isNaN(A)||isNaN(H)||isNaN(ee)||isNaN(de)||isNaN(ye)||!Qi(Ae))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[H-v,ee-A],[de-H,ye-ee],[v-de,A-ye]],v,A,[1,1],Ae,!0),this},g.__private__.roundedRect=g.roundedRect=function(v,A,H,ee,de,ye,Ae){if(isNaN(v)||isNaN(A)||isNaN(H)||isNaN(ee)||isNaN(de)||isNaN(ye)||!Qi(Ae))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*H),ye=Math.min(ye,.5*ee),this.lines([[H-2*de,0],[de*qe,0,de,ye-ye*qe,de,ye],[0,ee-2*ye],[0,ye*qe,-de*qe,ye,-de,ye],[2*de-H,0],[-de*qe,0,-de,-ye*qe,-de,-ye],[0,2*ye-ee],[0,-ye*qe,de*qe,-ye,de,-ye]],v+de,A,[1,1],Ae,!0),this},g.__private__.ellipse=g.ellipse=function(v,A,H,ee,de){if(isNaN(v)||isNaN(A)||isNaN(H)||isNaN(ee)||!Qi(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*H,Ae=4/3*(Math.SQRT2-1)*ee;return gc(v+H,A),Xs(v+H,A-Ae,v+ye,A-ee,v,A-ee),Xs(v-ye,A-ee,v-H,A-Ae,v-H,A),Xs(v-H,A+Ae,v-ye,A+ee,v,A+ee),Xs(v+ye,A+ee,v+H,A+Ae,v+H,A),mc(de),this},g.__private__.circle=g.circle=function(v,A,H,ee){if(isNaN(v)||isNaN(A)||isNaN(H)||!Qi(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,A,H,H,ee)},g.setFont=function(v,A,H){return H&&(A=B(A,H)),bt=Go(v,A,{disableWarning:!1}),this};var Cp=g.__private__.getFont=g.getFont=function(){return Rt[Go.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var v,A,H={};for(v in zt)if(zt.hasOwnProperty(v))for(A in H[v]=[],zt[v])zt[v].hasOwnProperty(A)&&H[v].push(A);return H},g.addFont=function(v,A,H,ee,de){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(H=B(H,ee)),de=de||"Identity-H",ht.call(this,v,A,H,de)};var Jo,vc=e.lineWidth||.200025,Ba=g.__private__.getLineWidth=g.getLineWidth=function(){return vc},vd=g.__private__.setLineWidth=g.setLineWidth=function(v){return vc=v,X(U(P(v))+" w"),this};g.__private__.setLineDash=nt.API.setLineDash=nt.API.setLineDashPattern=function(v,A){if(v=v||[],A=A||0,isNaN(A)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(H){return U(P(H))}).join(" "),A=U(P(A)),X("["+v+"] "+A+" d"),this};var yd=g.__private__.getLineHeight=g.getLineHeight=function(){return Ie*Jo};g.__private__.getLineHeight=g.getLineHeight=function(){return Ie*Jo};var wd=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Jo=v),this},xd=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Jo};wd(e.lineHeight);var Zi=g.__private__.getHorizontalCoordinate=function(v){return P(v)},ys=g.__private__.getVerticalCoordinate=function(v){return S===x.ADVANCED?v:ut[z].mediaBox.topRightY-ut[z].mediaBox.bottomLeftY-P(v)},Ap=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(v){return U(Zi(v))},Qs=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(v){return U(ys(v))},Ei=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return qr(Ei)},g.__private__.setStrokeColor=g.setDrawColor=function(v,A,H,ee){return Ei=Vr({ch1:v,ch2:A,ch3:H,ch4:ee,pdfColorType:"draw",precision:2}),X(Ei),this};var yc=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return qr(yc)},g.__private__.setFillColor=g.setFillColor=function(v,A,H,ee){return yc=Vr({ch1:v,ch2:A,ch3:H,ch4:ee,pdfColorType:"fill",precision:2}),X(yc),this};var Yo=e.textColor||"0 g",Pp=g.__private__.getTextColor=g.getTextColor=function(){return qr(Yo)};g.__private__.setTextColor=g.setTextColor=function(v,A,H,ee){return Yo=Vr({ch1:v,ch2:A,ch3:H,ch4:ee,pdfColorType:"text",precision:3}),this};var Ua=e.charSpace,Ep=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Ua||0)};g.__private__.setCharSpace=g.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ua=v,this};var wc=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(v){var A=g.CapJoinStyles[v];if(A===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wc=A,X(A+" J"),this};var xc=0;g.__private__.setLineJoin=g.setLineJoin=function(v){var A=g.CapJoinStyles[v];if(A===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xc=A,X(A+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(U(P(v))+" M"),this},g.GState=Lf,g.setGState=function(v){(v=typeof v=="string"?$t[Br[v]]:bd(null,v)).equals(oi)||(X("/"+v.id+" gs"),oi=v)};var bd=function(v,A){if(!v||!Br[v]){var H=!1;for(var ee in $t)if($t.hasOwnProperty(ee)&&$t[ee].equals(A)){H=!0;break}if(H)A=$t[ee];else{var de="GS"+(Object.keys($t).length+1).toString(10);$t[de]=A,A.id=de}return v&&(Br[v]=A.id),Lt.publish("addGState",A),A}};g.addGState=function(v,A){return bd(v,A),this},g.saveGraphicsState=function(){return X("q"),si.push({key:bt,size:Ie,color:Yo}),this},g.restoreGraphicsState=function(){X("Q");var v=si.pop();return bt=v.key,Ie=v.size,Yo=v.color,oi=null,this},g.setCurrentTransformationMatrix=function(v){return X(v.toString()+" cm"),this},g.comment=function(v){return X("#"+v),this};var za=function(v,A){var H=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return H},set:function(ye){isNaN(ye)||(H=parseFloat(ye))}});var ee=A||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(ye){isNaN(ye)||(ee=parseFloat(ye))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(ye){de=ye.toString()}}),this},bc=function(v,A,H,ee){za.call(this,v,A),this.type="rect";var de=H||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(Ae){isNaN(Ae)||(de=parseFloat(Ae))}});var ye=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(Ae){isNaN(Ae)||(ye=parseFloat(Ae))}}),this},Sc=function(){this.page=Xt,this.currentPage=z,this.pages=_e.slice(0),this.pagesContext=ut.slice(0),this.x=In,this.y=ct,this.matrix=jr,this.width=Xo(z),this.height=Zs(z),this.outputDestination=Pe,this.id="",this.objectNumber=-1};Sc.prototype.restore=function(){Xt=this.page,z=this.currentPage,ut=this.pagesContext,_e=this.pages,In=this.x,ct=this.y,jr=this.matrix,_c(z,this.width),jc(z,this.height),Pe=this.outputDestination};var Sd=function(v,A,H,ee,de){ai.push(new Sc),Xt=z=0,_e=[],In=v,ct=A,jr=de,ci([H,ee])},Lp=function(v){if(Ur[v])ai.pop().restore();else{var A=new Sc,H="Xo"+(Object.keys(Nn).length+1).toString(10);A.id=H,Ur[v]=H,Nn[H]=A,Lt.publish("addFormObject",A),ai.pop().restore()}};for(var $a in g.beginFormObject=function(v,A,H,ee,de){return Sd(v,A,H,ee,de),this},g.endFormObject=function(v){return Lp(v),this},g.doFormObject=function(v,A){var H=Nn[Ur[v]];return X("q"),X(A.toString()+" cm"),X("/"+H.id+" Do"),X("Q"),this},g.getFormObject=function(v){var A=Nn[Ur[v]];return{x:A.x,y:A.y,width:A.width,height:A.height,matrix:A.matrix}},g.save=function(v,A){return v=v||"generated.pdf",(A=A||{}).returnPromise=A.returnPromise||!1,A.returnPromise===!1?(fa(Oa(vs()),v),typeof fa.unload=="function"&&lt.setTimeout&&setTimeout(fa.unload,911),this):new Promise(function(H,ee){try{var de=fa(Oa(vs()),v);typeof fa.unload=="function"&&lt.setTimeout&&setTimeout(fa.unload,911),H(de)}catch(ye){ee(ye.message)}})},nt.API)nt.API.hasOwnProperty($a)&&($a==="events"&&nt.API.events.length?function(v,A){var H,ee,de;for(de=A.length-1;de!==-1;de--)H=A[de][0],ee=A[de][1],v.subscribe.apply(v,[H].concat(typeof ee=="function"?[ee]:ee))}(Lt,nt.API.events):g[$a]=nt.API[$a]);var Xo=g.getPageWidth=function(v){return(ut[v=v||z].mediaBox.topRightX-ut[v].mediaBox.bottomLeftX)/Ue},_c=g.setPageWidth=function(v,A){ut[v].mediaBox.topRightX=A*Ue+ut[v].mediaBox.bottomLeftX},Zs=g.getPageHeight=function(v){return(ut[v=v||z].mediaBox.topRightY-ut[v].mediaBox.bottomLeftY)/Ue},jc=g.setPageHeight=function(v,A){ut[v].mediaBox.topRightY=A*Ue+ut[v].mediaBox.bottomLeftY};return g.internal={pdfEscape:rn,getStyle:md,getFont:Cp,getFontSize:Oe,getCharSpace:Ep,getTextColor:Pp,getLineHeight:yd,getLineHeightFactor:xd,getLineWidth:Ba,write:st,getHorizontalCoordinate:Zi,getVerticalCoordinate:ys,getCoordinateString:Ap,getVerticalCoordinateString:Qs,collections:{},newObject:vn,newAdditionalObject:Ws,newObjectDeferred:dn,newObjectDeferredBegin:mr,getFilters:Zn,putStream:On,events:Lt,scaleFactor:Ue,pageSize:{getWidth:function(){return Xo(z)},setWidth:function(v){_c(z,v)},getHeight:function(){return Zs(z)},setHeight:function(v){jc(z,v)}},encryptionOptions:h,encryption:er,getEncryptor:bp,output:Da,getNumberOfPages:Pi,pages:_e,out:X,f2:Y,f3:R,getPageInfo:pd,getPageInfoByObjId:ft,getCurrentPageInfo:Sp,getPDFVersion:_,Point:za,Rectangle:bc,Matrix:et,hasHotfix:fd},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Xo(z)},set:function(v){_c(z,v)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Zs(z)},set:function(v){jc(z,v)},enumerable:!0,configurable:!0}),yt.call(g,Ne),bt="F1",Wt(i,n),Lt.publish("initialized"),g}pl.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},pl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pl.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},pl.prototype.processOwnerPassword=function(e,t){return Lg(Eg(t).substr(0,5),e)},pl.prototype.encryptor=function(e,t){var n=Eg(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Lg(n,r)}},Lf.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Dt(e)!==Dt(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},nt.API={events:[]},nt.version="3.0.1";var pn=nt.API,kv=1,Fa=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cl=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mt=function(e){return e.toFixed(2)},mo=function(e){return e.toFixed(5)};pn.__acroform__={};var Or=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},ow=function(e){return e*kv},rs=function(e){var t=new y4,n=Ke.internal.getHeight(e)||0,r=Ke.internal.getWidth(e)||0;return t.BBox=[0,0,Number(mt(r)),Number(mt(n))],t},qT=pn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},VT=pn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},HT=pn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},_n=pn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return HT(e,t-1)},jn=pn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return qT(e,t-1)},kn=pn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return VT(e,t-1)},WT=pn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(mt(l.lowerLeft_X)),Number(mt(l.lowerLeft_Y)),Number(mt(l.upperRight_X)),Number(mt(l.upperRight_Y))]},GT=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Tg(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+mt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=rs(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},Tg=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(R){return R.split(`
`)}):i.map(function(R){return[R]});var s=n,o=Ke.internal.getHeight(e)||0;o=o<0?-o:o;var a=Ke.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(R,P,J){if(R+1<i.length){var V=P+" "+i[R+1][0];return xh(V,e,J).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var u,h,f=xh("3",e,s).height,m=e.multiline?o-s:(o-f)/2,g=m+=2,b=0,_=0,k=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+xh(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var y="",x=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var E=!1;if(i[S].length!==1&&k!==i[S].length-1){if((f+2)*(x+2)+2>o)continue e;y+=i[S][k],E=!0,_=S,S--}else{y=(y+=i[S][k]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var I=parseInt(S),B=l(I,y,s),U=S>=i.length-1;if(B&&!U){y+=" ",k=0;continue}if(B||U){if(U)_=I;else if(e.multiline&&(f+2)*(x+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(x+2)+2>o)continue e;_=I}}for(var O="",K=b;K<=_;K++){var Y=i[K];if(e.multiline){if(K===_){O+=Y[k]+" ",k=(k+1)%Y.length;continue}if(K===b){O+=Y[Y.length-1]+" ";continue}}O+=Y[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,h=xh(O,e,s).width,e.textAlign){case"right":u=a-h-2;break;case"center":u=(a-h)/2;break;case"left":default:u=2}t+=mt(u)+" "+mt(g)+` Td
`,t+="("+Fa(O)+`) Tj
`,t+=-mt(u)+` 0 Td
`,g=-(s+2),h=0,b=E?_:_+1,x++,y=""}break}return r.text=t,r.fontSize=s,r},xh=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},KT={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},JT=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},YT=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Dt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},XT=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ki.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(KT)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");kv=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new w4,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&JT(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=WT(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ke.createDefaultAppearanceStream(a),Dt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=GT(a);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var f="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var g=a.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var b=g[o];typeof b=="function"&&(b=b.call(i,a)),f+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(i,a)),f+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&YT(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},v4=pn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Dt(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Fa(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ym=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Fa(r(e))+")"},os=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};os.prototype.toString=function(){return this.objId+" 0 R"},os.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},os.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:v4(i,this.objId,this.scope)}):i instanceof os?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var y4=function(){os.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Or(y4,os);var w4=function(){os.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Fa(n(e))+")"}},set:function(n){e=n}})};Or(w4,os);var Ki=function e(){os.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_n(t,3)},set:function(y){y?this.F=jn(t,3):this.F=kn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Tf)return;s="FieldObject"+e.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Fa(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/kv:u},set:function(y){u=y}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(y){h=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Tf||this instanceof _a))return Ym(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof $n?m:Ym(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof $n?y:y.substr(0,1)==="("?cl(y.substr(1,y.length-2)):cl(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $n?cl(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof $n?"/"+y:y}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof $n?g:Ym(g,this.objId,this.scope)},set:function(y){y=y.toString(),g=this instanceof $n?y:y.substr(0,1)==="("?cl(y.substr(1,y.length-2)):cl(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $n?cl(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof $n?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(y){y=!!y,_=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(y){b=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,1)},set:function(y){y?this.Ff=jn(this.Ff,1):this.Ff=kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,2)},set:function(y){y?this.Ff=jn(this.Ff,2):this.Ff=kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,3)},set:function(y){y?this.Ff=jn(this.Ff,3):this.Ff=kn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');k=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(k){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Or(Ki,os);var zl=function(){Ki.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return v4(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,18)},set:function(n){n?this.Ff=jn(this.Ff,18):this.Ff=kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=jn(this.Ff,19):this.Ff=kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,20)},set:function(n){n?(this.Ff=jn(this.Ff,20),t.sort()):this.Ff=kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,22)},set:function(n){n?this.Ff=jn(this.Ff,22):this.Ff=kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,23)},set:function(n){n?this.Ff=jn(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,27)},set:function(n){n?this.Ff=jn(this.Ff,27):this.Ff=kn(this.Ff,27)}}),this.hasAppearanceStream=!1};Or(zl,Ki);var $l=function(){zl.call(this),this.fontName="helvetica",this.combo=!1};Or($l,zl);var ql=function(){$l.call(this),this.combo=!0};Or(ql,$l);var Vh=function(){ql.call(this),this.edit=!0};Or(Vh,ql);var $n=function(){Ki.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,15)},set:function(n){n?this.Ff=jn(this.Ff,15):this.Ff=kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,16)},set:function(n){n?this.Ff=jn(this.Ff,16):this.Ff=kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,17)},set:function(n){n?this.Ff=jn(this.Ff,17):this.Ff=kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,26)},set:function(n){n?this.Ff=jn(this.Ff,26):this.Ff=kn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Fa(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Dt(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Or($n,Ki);var Hh=function(){$n.call(this),this.pushButton=!0};Or(Hh,$n);var Vl=function(){$n.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Or(Vl,$n);var Tf=function(){var e,t;Ki.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Fa(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Dt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ke.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Or(Tf,Ki),Vl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Vl.prototype.createOption=function(e){var t=new Tf;return t.Parent=this,t.optionName=e,this.Kids.push(t),QT.call(this.scope,t),t};var Wh=function(){$n.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ke.CheckBox.createAppearanceStream()};Or(Wh,$n);var _a=function(){Ki.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,13)},set:function(t){t?this.Ff=jn(this.Ff,13):this.Ff=kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,21)},set:function(t){t?this.Ff=jn(this.Ff,21):this.Ff=kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,23)},set:function(t){t?this.Ff=jn(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,24)},set:function(t){t?this.Ff=jn(this.Ff,24):this.Ff=kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,25)},set:function(t){t?this.Ff=jn(this.Ff,25):this.Ff=kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,26)},set:function(t){t?this.Ff=jn(this.Ff,26):this.Ff=kn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Or(_a,Ki);var Gh=function(){_a.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,14)},set:function(e){e?this.Ff=jn(this.Ff,14):this.Ff=kn(this.Ff,14)}}),this.password=!0};Or(Gh,_a);var Ke={CheckBox:{createAppearanceStream:function(){return{N:{On:Ke.CheckBox.YesNormal},D:{On:Ke.CheckBox.YesPushDown,Off:Ke.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=Tg(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+mt(Ke.internal.getWidth(e))+" "+mt(Ke.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+mt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=rs(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Ke.internal.getHeight(e),o=Ke.internal.getWidth(e),a=Tg(e,e.caption);return i.push("1 g"),i.push("0 0 "+mt(o)+" "+mt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+mt(o-1)+" "+mt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+mt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+mt(Ke.internal.getWidth(e))+" "+mt(Ke.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ke.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ke.RadioButton.Circle.YesNormal,t.D[e]=Ke.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=Ke.internal.getWidth(e)<=Ke.internal.getHeight(e)?Ke.internal.getWidth(e)/4:Ke.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Ke.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+mo(Ke.internal.getWidth(e)/2)+" "+mo(Ke.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=Ke.internal.getWidth(e)<=Ke.internal.getHeight(e)?Ke.internal.getWidth(e)/4:Ke.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ke.internal.Bezier_C).toFixed(5)),o=Number((r*Ke.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+mo(Ke.internal.getWidth(e)/2)+" "+mo(Ke.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+mo(Ke.internal.getWidth(e)/2)+" "+mo(Ke.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=Ke.internal.getWidth(e)<=Ke.internal.getHeight(e)?Ke.internal.getWidth(e)/4:Ke.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ke.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+mo(Ke.internal.getWidth(e)/2)+" "+mo(Ke.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ke.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ke.RadioButton.Cross.YesNormal,t.D[e]=Ke.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=rs(e);t.scope=e.scope;var n=[],r=Ke.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+mt(Ke.internal.getWidth(e)-2)+" "+mt(Ke.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(mt(r.x1.x)+" "+mt(r.x1.y)+" m"),n.push(mt(r.x2.x)+" "+mt(r.x2.y)+" l"),n.push(mt(r.x4.x)+" "+mt(r.x4.y)+" m"),n.push(mt(r.x3.x)+" "+mt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=Ke.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+mt(Ke.internal.getWidth(e))+" "+mt(Ke.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+mt(Ke.internal.getWidth(e)-2)+" "+mt(Ke.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(mt(n.x1.x)+" "+mt(n.x1.y)+" m"),r.push(mt(n.x2.x)+" "+mt(n.x2.y)+" l"),r.push(mt(n.x4.x)+" "+mt(n.x4.y)+" m"),r.push(mt(n.x3.x)+" "+mt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=rs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+mt(Ke.internal.getWidth(e))+" "+mt(Ke.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ke.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ke.internal.getWidth(e),n=Ke.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ke.internal.getWidth=function(e){var t=0;return Dt(e)==="object"&&(t=ow(e.Rect[2])),t},Ke.internal.getHeight=function(e){var t=0;return Dt(e)==="object"&&(t=ow(e.Rect[3])),t};var QT=pn.addField=function(e){if(XT(this,e),!(e instanceof Ki))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};pn.AcroFormChoiceField=zl,pn.AcroFormListBox=$l,pn.AcroFormComboBox=ql,pn.AcroFormEditBox=Vh,pn.AcroFormButton=$n,pn.AcroFormPushButton=Hh,pn.AcroFormRadioButton=Vl,pn.AcroFormCheckBox=Wh,pn.AcroFormTextField=_a,pn.AcroFormPasswordField=Gh,pn.AcroFormAppearance=Ke,pn.AcroForm={ChoiceField:zl,ListBox:$l,ComboBox:ql,EditBox:Vh,Button:$n,PushButton:Hh,RadioButton:Vl,CheckBox:Wh,TextField:_a,PasswordField:Gh,Appearance:Ke},nt.AcroForm={ChoiceField:zl,ListBox:$l,ComboBox:ql,EditBox:Vh,Button:$n,PushButton:Hh,RadioButton:Vl,CheckBox:Wh,TextField:_a,PasswordField:Gh,Appearance:Ke};function x4(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(R,P){var J,V,ce,le,ae,W=t;if((P=P||t)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(B(R))for(ae in n)for(ce=n[ae],J=0;J<ce.length;J+=1){for(le=!0,V=0;V<ce[J].length;V+=1)if(ce[J][V]!==void 0&&ce[J][V]!==R[V]){le=!1;break}if(le===!0){W=ae;break}}else for(ae in n)for(ce=n[ae],J=0;J<ce.length;J+=1){for(le=!0,V=0;V<ce[J].length;V+=1)if(ce[J][V]!==void 0&&ce[J][V]!==R.charCodeAt(V)){le=!1;break}if(le===!0){W=ae;break}}return W===t&&P!==t&&(W=P),W},i=function R(P){for(var J=this.internal.write,V=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:P.width}),le.push({key:"Height",value:P.height}),P.colorSpace===k.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===k.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var ae="",W=0,te=P.transparency.length;W<te;W++)ae+=P.transparency[W]+" "+P.transparency[W]+" ";le.push({key:"Mask",value:"["+ae+"]"})}P.sMask!==void 0&&le.push({key:"SMask",value:P.objectId+1+" 0 R"});var Q=P.filter!==void 0?["/"+P.filter]:void 0;if(V({data:P.data,additionalKeyValues:le,alreadyAppliedFilters:Q,objectId:P.objectId}),J("endobj"),"sMask"in P&&P.sMask!==void 0){var me="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,N={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:me,data:P.sMask};"filter"in P&&(N.filter=P.filter),R.call(this,N)}if(P.colorSpace===k.INDEXED){var z=this.internal.newObject();V({data:O(new Uint8Array(P.palette)),objectId:z}),J("endobj")}},s=function(){var R=this.internal.collections.addImage_images;for(var P in R)i.call(this,R[P])},o=function(){var R,P=this.internal.collections.addImage_images,J=this.internal.write;for(var V in P)J("/I"+(R=P[V]).index,R.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var R=this.internal.collections.addImage_images;return a.call(this),R},u=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(R){return typeof e["process"+R.toUpperCase()]=="function"},f=function(R){return Dt(R)==="object"&&R.nodeType===1},m=function(R,P){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var J=""+R.getAttribute("src");if(J.indexOf("data:image/")===0)return Nu(unescape(J).split("base64,").pop());var V=e.loadFile(J,!0);if(V!==void 0)return V}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var ce;switch(P){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return Nu(R.toDataURL(ce,1).split("base64,").pop())}},g=function(R){var P=this.internal.collections.addImage_images;if(P){for(var J in P)if(R===P[J].alias)return P[J]}},b=function(R,P,J){return R||P||(R=-96,P=-96),R<0&&(R=-1*J.width*72/R/this.internal.scaleFactor),P<0&&(P=-1*J.height*72/P/this.internal.scaleFactor),R===0&&(R=P*J.width/J.height),P===0&&(P=R*J.height/J.width),[R,P]},_=function(R,P,J,V,ce,le){var ae=b.call(this,J,V,ce),W=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,Q=l.call(this);if(J=ae[0],V=ae[1],Q[ce.index]=ce,le){le*=Math.PI/180;var me=Math.cos(le),N=Math.sin(le),z=function(G){return G.toFixed(4)},$=[z(me),z(N),z(-1*N),z(me),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,W(R),te(P+V),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([W(J),"0","0",W(V),"0","0","cm"].join(" "))):this.internal.write([W(J),"0","0",W(V),W(R),te(P+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(R){var P,J,V=0;if(typeof R=="string")for(J=R.length,P=0;P<J;P++)V=(V<<5)-V+R.charCodeAt(P),V|=0;else if(B(R))for(J=R.byteLength/2,P=0;P<J;P++)V=(V<<5)-V+R[P],V|=0;return V},S=e.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var P=!0;return R.length===0&&(P=!1),R.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(P=!1),P},E=e.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var P=R.indexOf(",");return P<0?null:R.substring(0,P).trim().endsWith("base64")?R.substring(P+1):null},I=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(R){return I()&&R instanceof ArrayBuffer};var B=e.__addimage__.isArrayBufferView=function(R){return I()&&typeof Uint32Array<"u"&&(R instanceof Int8Array||R instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array)},U=e.__addimage__.binaryStringToUint8Array=function(R){for(var P=R.length,J=new Uint8Array(P),V=0;V<P;V++)J[V]=R.charCodeAt(V);return J},O=e.__addimage__.arrayBufferToBinaryString=function(R){for(var P="",J=B(R)?R:new Uint8Array(R),V=0;V<J.length;V+=8192)P+=String.fromCharCode.apply(null,J.subarray(V,V+8192));return P};e.addImage=function(){var R,P,J,V,ce,le,ae,W,te;if(typeof arguments[1]=="number"?(P=t,J=arguments[1],V=arguments[2],ce=arguments[3],le=arguments[4],ae=arguments[5],W=arguments[6],te=arguments[7]):(P=arguments[1],J=arguments[2],V=arguments[3],ce=arguments[4],le=arguments[5],ae=arguments[6],W=arguments[7],te=arguments[8]),Dt(R=arguments[0])==="object"&&!f(R)&&"imageData"in R){var Q=R;R=Q.imageData,P=Q.format||P||t,J=Q.x||J||0,V=Q.y||V||0,ce=Q.w||Q.width||ce,le=Q.h||Q.height||le,ae=Q.alias||ae,W=Q.compression||W,te=Q.rotation||Q.angle||te}var me=this.internal.getFilters();if(W===void 0&&me.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(J)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var N=K.call(this,R,P,ae,W);return _.call(this,J,V,ce,le,N,te),this};var K=function(R,P,J,V){var ce,le,ae;if(typeof R=="string"&&r(R)===t){R=unescape(R);var W=Y(R,!1);(W!==""||(W=e.loadFile(R,!0))!==void 0)&&(R=W)}if(f(R)&&(R=m(R,P)),P=r(R,P),!h(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((ae=J)==null||ae.length===0)&&(J=function(te){return typeof te=="string"||B(te)?x(te):B(te.data)?x(te.data):null}(R)),(ce=g.call(this,J))||(I()&&(R instanceof Uint8Array||P==="RGBA"||(le=R,R=U(R))),ce=this["process"+P.toUpperCase()](R,u.call(this),J,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:y.NONE}(V),le)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},Y=e.__addimage__.convertBase64ToBinaryString=function(R,P){P=typeof P!="boolean"||P;var J,V="";if(typeof R=="string"){var ce;J=(ce=E(R))!==null&&ce!==void 0?ce:R;try{V=Nu(J)}catch(le){if(P)throw S(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(R){var P,J,V="";if(f(R)&&(R=m(R)),typeof R=="string"&&r(R)===t&&((V=Y(R,!1))===""&&(V=e.loadFile(R)||""),R=V),J=r(R),!h(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(!I()||R instanceof Uint8Array||(R=U(R)),!(P=this["process"+J.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=J,P}})(nt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};nt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,h=!1,f=0;f<u.length&&!h;f++)switch((r=u[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){r=u[m];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(_.objId),x=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(y(r.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+g(y(x))+") >>",_.content=s;var S=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(_.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var E=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var I=this.annotations._nameMap[r.options.name];r.options.pageNumber=I.page,r.options.top=I.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var B=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+B+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var h=this.splitTextToSize(n,a).length;o=Math.ceil(u*h)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(nt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(_){return t[_.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=e.__arabicParser__.isArabicEndLetter=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(_){return o(_)&&i.indexOf(_.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(_){var k=0,y=n,x="",S=0;for(k=0;k<_.length;k+=1)y[_.charCodeAt(k)]!==void 0?(S++,typeof(y=y[_.charCodeAt(k)])=="number"&&(x+=String.fromCharCode(y),y=n,S=0),k===_.length-1&&(y=n,x+=_.charAt(k-(S-1)),k-=S-1,S=0)):(y=n,x+=_.charAt(k-S),k-=S,S=0);return x};e.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(_,k,y){return o(_)?s(_)===!1?-1:!u(_)||!o(k)&&!o(y)||!o(y)&&a(k)||a(_)&&!o(k)||a(_)&&l(k)||a(_)&&a(k)?0:h(_)&&o(k)&&!a(k)&&o(y)&&u(y)?3:a(_)||!o(y)?1:2:-1},g=function(_){var k=0,y=0,x=0,S="",E="",I="",B=(_=_||"").split("\\s+"),U=[];for(k=0;k<B.length;k+=1){for(U.push(""),y=0;y<B[k].length;y+=1)S=B[k][y],E=B[k][y-1],I=B[k][y+1],o(S)?(x=m(S,E,I),U[k]+=x!==-1?String.fromCharCode(t[S.charCodeAt(0)][x]):S):U[k]+=S;U[k]=f(U[k])}return U.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var _,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(k)){var x=0;for(y=[],x=0;x<k.length;x+=1)Array.isArray(k[x])?y.push([g(k[x][0]),k[x][1],k[x][2]]):y.push([g(k[x])]);_=y}else _=g(k);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};e.events.push(["preProcessText",b])}(nt.API),nt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(nt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(_){b=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){r.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,g=0,b=0,_=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,E){return S.concat(k.splitTextToSize(E,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)g<(_=this.getStringUnitWidth(l[x],{font:f})*h)&&(g=_);return g!==0&&(b=l.length),{w:g/=m,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,g&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,h,f,m){if(r.call(this),!h)throw new Error("No data for PDF table.");var g,b,_,k,y=[],x=[],S=[],E={},I={},B=[],U=[],O=(m=m||{}).autoSize||!1,K=m.printHeaders!==!1,Y=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,R=m.margins||Object.assign({width:this.getPageWidth()},t),P=typeof m.padding=="number"?m.padding:3,J=m.headerBackgroundColor||"#c8c8c8",V=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=Y,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=V,this.setFontSize(Y),f==null)x=y=Object.keys(h[0]),S=y.map(function(){return"left"});else if(Array.isArray(f)&&Dt(f[0])==="object")for(y=f.map(function(Q){return Q.name}),x=f.map(function(Q){return Q.prompt||Q.name||""}),S=f.map(function(Q){return Q.align||"left"}),g=0;g<f.length;g+=1)I[f[g].name]=f[g].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=y=f,S=y.map(function(){return"left"}));if(O||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<y.length;g+=1){for(E[k=y[g]]=h.map(function(Q){return Q[k]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=E[k],this.setFont(void 0,"normal"),_=0;_<b.length;_+=1)B.push(this.getTextDimensions(b[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[k]=Math.max.apply(null,B)+P+P,B=[]}if(K){var ce={};for(g=0;g<y.length;g+=1)ce[y[g]]={},ce[y[g]].text=x[g],ce[y[g]].align=S[g];var le=a.call(this,ce,I);U=y.map(function(Q){return new s(l,u,I[Q],le,ce[Q].text,void 0,ce[Q].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var ae=f.reduce(function(Q,me){return Q[me.name]=me.align,Q},{});for(g=0;g<h.length;g+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:g,data:h[g]},this);var W=a.call(this,h[g],I);for(_=0;_<y.length;_+=1){var te=h[g][y[_]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:g,col:_,data:te},this),o.call(this,new s(l,u,I[y[_]],W,te,g+2,ae[y[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(g){var b=l[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/m+h+h},this).reduce(function(g,b){return Math.max(g,b)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,m.push(h)),h.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(b)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(nt.API);var b4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},S4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Fg=x4(S4),_4=[100,200,300,400,500,600,700,800,900],ZT=x4(_4);function Rg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return b4[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof Fg[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function aw(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var e7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cw(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function t7(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},e7,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=Rg(t[a])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+cw(s)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var h=Fg[l],f=h<=Fg.normal?-1:1,m=aw(u,S4,h,f);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(s.stretch,o),o=function(l,u){if(u[l])return u[l];for(var h=b4[l],f=0;f<h.length;++f)if(u[h[f]])return u[h[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var h=ZT[l],f=aw(u,_4,h,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+cw(s)+"'.");return o}function uw(e){return e.trimLeft()}function n7(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function r7(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var bh,dw,hw,Xm=["times"];(function(e){var t,n,r,i,s,o,a,l,u,h=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new l,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new o,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new o,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new h}]);var f=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=N;Object.defineProperty(this,"pdf",{get:function(){return z}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(ve){$=!!ve}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(ve){G=!!ve}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ve){isNaN(ve)||(Z=ve)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(ve){isNaN(ve)||(oe=ve)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ve){var X;typeof ve=="number"?X=[ve,ve,ve,ve]:((X=new Array(4))[0]=ve[0],X[1]=ve.length>=2?ve[1]:X[0],X[2]=ve.length>=3?ve[2]:X[0],X[3]=ve.length>=4?ve[3]:X[1]),u.margin=X}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ve){he=ve}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(ve){ue=ve}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(ve){xe=ve}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ve){ve instanceof h&&(u=ve)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ve){u.path=ve}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(ve){_e=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var X;X=m(ve),this.ctx.fillStyle=X.style,this.ctx.isFillTransparent=X.a===0,this.ctx.fillOpacity=X.a,this.pdf.setFillColor(X.r,X.g,X.b,{a:X.a}),this.pdf.setTextColor(X.r,X.g,X.b,{a:X.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var X=m(ve);this.ctx.strokeStyle=X.style,this.ctx.isStrokeTransparent=X.a===0,this.ctx.strokeOpacity=X.a,X.a===0?this.pdf.setDrawColor(255,255,255):(X.a,this.pdf.setDrawColor(X.r,X.g,X.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Fe=null;function Pe(ve,X){if(Fe===null){var st=function(We){var Ne=[];return Object.keys(We).forEach(function(Ie){We[Ie].forEach(function(Me){var Oe=null;switch(Me){case"bold":Oe={family:Ie,weight:"bold"};break;case"italic":Oe={family:Ie,style:"italic"};break;case"bolditalic":Oe={family:Ie,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:Ie}}Oe!==null&&(Oe.ref={name:Ie,style:Me},Ne.push(Oe))})}),Ne}(ve.getFontList());Fe=function(We){for(var Ne={},Ie=0;Ie<We.length;++Ie){var Me=Rg(We[Ie]),Oe=Me.family,He=Me.stretch,rt=Me.style,Ce=Me.weight;Ne[Oe]=Ne[Oe]||{},Ne[Oe][He]=Ne[Oe][He]||{},Ne[Oe][He][rt]=Ne[Oe][He][rt]||{},Ne[Oe][He][rt][Ce]=Me}return Ne}(st.concat(X))}return Fe}var Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(ve){Fe=null,Qe=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var X;if(this.ctx.font=ve,(X=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var st=X[1];X[2];var We=X[3],Ne=X[4];X[5];var Ie=X[6],Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(Me==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var Oe=function(Je){var bt,Ue,In=[],ct=Je.trim();if(ct==="")return Xm;if(ct in lw)return[lw[ct]];for(;ct!=="";){switch(Ue=null,bt=(ct=uw(ct)).charAt(0)){case'"':case"'":Ue=n7(ct.substring(1),bt);break;default:Ue=r7(ct)}if(Ue===null||(In.push(Ue[0]),(ct=uw(Ue[1]))!==""&&ct.charAt(0)!==","))return Xm;ct=ct.replace(/^,/,"")}return In}(Ie);if(this.fontFaces){var He=t7(Pe(this.pdf,this.fontFaces),Oe.map(function(Je){return{family:Je,stretch:"normal",weight:We,style:st}}));this.pdf.setFont(He.ref.name,He.ref.style)}else{var rt="";(We==="bold"||parseInt(We,10)>=700||st==="bold")&&(rt="bold"),st==="italic"&&(rt+="italic"),rt.length===0&&(rt="normal");for(var Ce="",ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<Oe.length;at++){if(this.pdf.internal.getFont(Oe[at],rt,{noFallback:!0,disableWarning:!0})!==void 0){Ce=Oe[at];break}if(rt==="bolditalic"&&this.pdf.internal.getFont(Oe[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ce=Oe[at],rt="bold";else if(this.pdf.internal.getFont(Oe[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ce=Oe[at],rt="normal";break}}if(Ce===""){for(var Ct=0;Ct<Oe.length;Ct++)if(ze[Oe[Ct]]){Ce=ze[Oe[Ct]];break}}Ce=Ce===""?"Times":Ce,this.pdf.setFont(Ce,rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};f.prototype.setLineDash=function(N){this.lineDash=N},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){E.call(this,"fill",!1)},f.prototype.stroke=function(){E.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(N,z){if(isNaN(N)||isNaN(z))throw Ht.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new o(N,z));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new o(N,z)},f.prototype.closePath=function(){var N=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Dt(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){N=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(N.x,N.y)},f.prototype.lineTo=function(N,z){if(isNaN(N)||isNaN(z))throw Ht.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new o(N,z));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new o($.x,$.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},f.prototype.quadraticCurveTo=function(N,z,$,G){if(isNaN($)||isNaN(G)||isNaN(N)||isNaN(z))throw Ht.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new o($,G)),oe=this.ctx.transform.applyToPoint(new o(N,z));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},f.prototype.bezierCurveTo=function(N,z,$,G,Z,oe){if(isNaN(Z)||isNaN(oe)||isNaN(N)||isNaN(z)||isNaN($)||isNaN(G))throw Ht.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(Z,oe)),ue=this.ctx.transform.applyToPoint(new o(N,z)),xe=this.ctx.transform.applyToPoint(new o($,G));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:xe.x,y2:xe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},f.prototype.arc=function(N,z,$,G,Z,oe){if(isNaN(N)||isNaN(z)||isNaN($)||isNaN(G)||isNaN(Z))throw Ht.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(N,z));N=he.x,z=he.y;var ue=this.ctx.transform.applyToPoint(new o(0,$)),xe=this.ctx.transform.applyToPoint(new o(0,0));$=Math.sqrt(Math.pow(ue.x-xe.x,2)+Math.pow(ue.y-xe.y,2))}Math.abs(Z-G)>=2*Math.PI&&(G=0,Z=2*Math.PI),this.path.push({type:"arc",x:N,y:z,radius:$,startAngle:G,endAngle:Z,counterclockwise:oe})},f.prototype.arcTo=function(N,z,$,G,Z){throw new Error("arcTo not implemented.")},f.prototype.rect=function(N,z,$,G){if(isNaN(N)||isNaN(z)||isNaN($)||isNaN(G))throw Ht.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,z),this.lineTo(N+$,z),this.lineTo(N+$,z+G),this.lineTo(N,z+G),this.lineTo(N,z),this.lineTo(N+$,z),this.lineTo(N,z)},f.prototype.fillRect=function(N,z,$,G){if(isNaN(N)||isNaN(z)||isNaN($)||isNaN(G))throw Ht.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,z,$,G),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},f.prototype.strokeRect=function(N,z,$,G){if(isNaN(N)||isNaN(z)||isNaN($)||isNaN(G))throw Ht.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(N,z,$,G),this.stroke())},f.prototype.clearRect=function(N,z,$,G){if(isNaN(N)||isNaN(z)||isNaN($)||isNaN(G))throw Ht.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,z,$,G))},f.prototype.save=function(N){N=typeof N!="boolean"||N;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},f.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(z),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(N){var z,$,G,Z;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))z=0,$=0,G=0,Z=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(oe!==null)z=parseInt(oe[1]),$=parseInt(oe[2]),G=parseInt(oe[3]),Z=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)z=parseInt(oe[1]),$=parseInt(oe[2]),G=parseInt(oe[3]),Z=parseFloat(oe[4]);else{if(Z=1,typeof N=="string"&&N.charAt(0)!=="#"){var he=new p4(N);N=he.ok?he.toHex():"#000000"}N.length===4?(z=N.substring(1,2),z+=z,$=N.substring(2,3),$+=$,G=N.substring(3,4),G+=G):(z=N.substring(1,3),$=N.substring(3,5),G=N.substring(5,7)),z=parseInt(z,16),$=parseInt($,16),G=parseInt(G,16)}}return{r:z,g:$,b:G,a:Z,style:N}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(N,z,$,G){if(isNaN(z)||isNaN($)||typeof N!="string")throw Ht.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!g.call(this)){var Z=W(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;P.call(this,{text:N,x:z,y:$,scale:oe,angle:Z,align:this.textAlign,maxWidth:G})}},f.prototype.strokeText=function(N,z,$,G){if(isNaN(z)||isNaN($)||typeof N!="string")throw Ht.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){G=isNaN(G)?void 0:G;var Z=W(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;P.call(this,{text:N,x:z,y:$,scale:oe,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:G})}},f.prototype.measureText=function(N){if(typeof N!="string")throw Ht.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,$=this.pdf.internal.scaleFactor,G=z.internal.getFontSize(),Z=z.getStringUnitWidth(N)*G/z.internal.scaleFactor,oe=function(he){var ue=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this};return new oe({width:Z*=Math.round(96*$/72*1e4)/1e4})},f.prototype.scale=function(N,z){if(isNaN(N)||isNaN(z))throw Ht.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new l(N,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply($)},f.prototype.rotate=function(N){if(isNaN(N))throw Ht.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.translate=function(N,z){if(isNaN(N)||isNaN(z))throw Ht.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new l(1,0,0,1,N,z);this.ctx.transform=this.ctx.transform.multiply($)},f.prototype.transform=function(N,z,$,G,Z,oe){if(isNaN(N)||isNaN(z)||isNaN($)||isNaN(G)||isNaN(Z)||isNaN(oe))throw Ht.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(N,z,$,G,Z,oe);this.ctx.transform=this.ctx.transform.multiply(he)},f.prototype.setTransform=function(N,z,$,G,Z,oe){N=isNaN(N)?1:N,z=isNaN(z)?0:z,$=isNaN($)?0:$,G=isNaN(G)?1:G,Z=isNaN(Z)?0:Z,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(N,z,$,G,Z,oe)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(N,z,$,G,Z,oe,he,ue,xe){var _e=this.pdf.getImageProperties(N),Fe=1,Pe=1,Qe=1,ve=1;G!==void 0&&ue!==void 0&&(Qe=ue/G,ve=xe/Z,Fe=_e.width/G*ue/G,Pe=_e.height/Z*xe/Z),oe===void 0&&(oe=z,he=$,z=0,$=0),G!==void 0&&ue===void 0&&(ue=G,xe=Z),G===void 0&&ue===void 0&&(ue=_e.width,xe=_e.height);for(var X,st=this.ctx.transform.decompose(),We=W(st.rotate.shx),Ne=new l,Ie=(Ne=(Ne=(Ne=Ne.multiply(st.translate)).multiply(st.skew)).multiply(st.scale)).applyToRectangle(new a(oe-z*Qe,he-$*ve,G*Fe,Z*Pe)),Me=k.call(this,Ie),Oe=[],He=0;He<Me.length;He+=1)Oe.indexOf(Me[He])===-1&&Oe.push(Me[He]);if(S(Oe),this.autoPaging)for(var rt=Oe[0],Ce=Oe[Oe.length-1],ze=rt;ze<Ce+1;ze++){this.pdf.setPage(ze);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=ze===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=ze===1?0:Je+(ze-2)*bt;if(this.ctx.clip_path.length!==0){var In=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(X,this.posX+this.margin[3],-Ue+Ct+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=In}var ct=JSON.parse(JSON.stringify(Ie));ct=x([ct],this.posX+this.margin[3],-Ue+Ct+this.ctx.prevPageLastElemOffset)[0];var jr=(ze>rt||ze<Ce)&&_.call(this);jr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,bt,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,We),jr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,We)};var k=function(N,z,$){var G=[];z=z||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":G.push(Math.floor((N.y+Z)/$)+1);break;case"arc":G.push(Math.floor((N.y+Z-N.radius)/$)+1),G.push(Math.floor((N.y+Z+N.radius)/$)+1);break;case"qct":var oe=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);G.push(Math.floor((oe.y+Z)/$)+1),G.push(Math.floor((oe.y+oe.h+Z)/$)+1);break;case"bct":var he=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);G.push(Math.floor((he.y+Z)/$)+1),G.push(Math.floor((he.y+he.h+Z)/$)+1);break;case"rect":G.push(Math.floor((N.y+Z)/$)+1),G.push(Math.floor((N.y+N.h+Z)/$)+1)}for(var ue=0;ue<G.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<G[ue];)y.call(this);return G},y=function(){var N=this.fillStyle,z=this.strokeStyle,$=this.font,G=this.lineCap,Z=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=z,this.font=$,this.lineCap=G,this.lineWidth=Z,this.lineJoin=oe},x=function(N,z,$){for(var G=0;G<N.length;G++)switch(N[G].type){case"bct":N[G].x2+=z,N[G].y2+=$;case"qct":N[G].x1+=z,N[G].y1+=$;case"mt":case"lt":case"arc":default:N[G].x+=z,N[G].y+=$}return N},S=function(N){return N.sort(function(z,$){return z-$})},E=function(N,z){for(var $,G,Z=this.fillStyle,oe=this.strokeStyle,he=this.lineCap,ue=this.lineWidth,xe=Math.abs(ue*this.ctx.transform.scaleX),_e=this.lineJoin,Fe=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),Qe=[],ve=0;ve<Pe.length;ve++)if(Pe[ve].x!==void 0)for(var X=k.call(this,Pe[ve]),st=0;st<X.length;st+=1)Qe.indexOf(X[st])===-1&&Qe.push(X[st]);for(var We=0;We<Qe.length;We++)for(;this.pdf.internal.getNumberOfPages()<Qe[We];)y.call(this);if(S(Qe),this.autoPaging)for(var Ne=Qe[0],Ie=Qe[Qe.length-1],Me=Ne;Me<Ie+1;Me++){this.pdf.setPage(Me),this.fillStyle=Z,this.strokeStyle=oe,this.lineCap=he,this.lineWidth=xe,this.lineJoin=_e;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Me===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Me===1?0:rt+(Me-2)*Ce;if(this.ctx.clip_path.length!==0){var at=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x($,this.posX+this.margin[3],-ze+He+this.ctx.prevPageLastElemOffset),I.call(this,N,!0),this.path=at}if(G=JSON.parse(JSON.stringify(Fe)),this.path=x(G,this.posX+this.margin[3],-ze+He+this.ctx.prevPageLastElemOffset),z===!1||Me===0){var Ct=(Me>Ne||Me<Ie)&&_.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,Ce,null).clip().discardPath()),I.call(this,N,z),Ct&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=xe,I.call(this,N,z),this.lineWidth=ue;this.path=Fe},I=function(N,z){if((N!=="stroke"||z||!b.call(this))&&(N==="stroke"||z||!g.call(this))){for(var $,G,Z=[],oe=this.path,he=0;he<oe.length;he++){var ue=oe[he];switch(ue.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:ue,deltas:[],abs:[]});break;case"lt":var xe=Z.length;if(oe[he-1]&&!isNaN(oe[he-1].x)&&($=[ue.x-oe[he-1].x,ue.y-oe[he-1].y],xe>0)){for(;xe>=0;xe--)if(Z[xe-1].close!==!0&&Z[xe-1].begin!==!0){Z[xe-1].deltas.push($),Z[xe-1].abs.push(ue);break}}break;case"bct":$=[ue.x1-oe[he-1].x,ue.y1-oe[he-1].y,ue.x2-oe[he-1].x,ue.y2-oe[he-1].y,ue.x-oe[he-1].x,ue.y-oe[he-1].y],Z[Z.length-1].deltas.push($);break;case"qct":var _e=oe[he-1].x+2/3*(ue.x1-oe[he-1].x),Fe=oe[he-1].y+2/3*(ue.y1-oe[he-1].y),Pe=ue.x+2/3*(ue.x1-ue.x),Qe=ue.y+2/3*(ue.y1-ue.y),ve=ue.x,X=ue.y;$=[_e-oe[he-1].x,Fe-oe[he-1].y,Pe-oe[he-1].x,Qe-oe[he-1].y,ve-oe[he-1].x,X-oe[he-1].y],Z[Z.length-1].deltas.push($);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(ue)}}G=z?null:N==="stroke"?"stroke":"fill";for(var st=!1,We=0;We<Z.length;We++)if(Z[We].arc)for(var Ne=Z[We].abs,Ie=0;Ie<Ne.length;Ie++){var Me=Ne[Ie];Me.type==="arc"?O.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,z,!st):J.call(this,Me.x,Me.y),st=!0}else if(Z[We].close===!0)this.pdf.internal.out("h"),st=!1;else if(Z[We].begin!==!0){var Oe=Z[We].start.x,He=Z[We].start.y;V.call(this,Z[We].deltas,Oe,He),st=!0}G&&K.call(this,G),z&&Y.call(this)}},B=function(N){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-$;case"top":return N+z-$;case"hanging":return N+z-2*$;case"middle":return N+z/2-$;case"ideographic":return N;case"alphabetic":default:return N}},U=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(z,$){this.colorStops.push([z,$])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(N,z,$,G,Z,oe,he,ue,xe){for(var _e=le.call(this,$,G,Z,oe),Fe=0;Fe<_e.length;Fe++){var Pe=_e[Fe];Fe===0&&(xe?R.call(this,Pe.x1+N,Pe.y1+z):J.call(this,Pe.x1+N,Pe.y1+z)),ce.call(this,N,z,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}ue?Y.call(this):K.call(this,he)},K=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Y=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(N,z){this.pdf.internal.out(n(N)+" "+r(z)+" m")},P=function(N){var z;switch(N.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var $=this.pdf.getTextDimensions(N.text),G=B.call(this,N.y),Z=U.call(this,G)-$.h,oe=this.ctx.transform.applyToPoint(new o(N.x,G)),he=this.ctx.transform.decompose(),ue=new l;ue=(ue=(ue=ue.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var xe,_e,Fe,Pe=this.ctx.transform.applyToRectangle(new a(N.x,G,$.w,$.h)),Qe=ue.applyToRectangle(new a(N.x,Z,$.w,$.h)),ve=k.call(this,Qe),X=[],st=0;st<ve.length;st+=1)X.indexOf(ve[st])===-1&&X.push(ve[st]);if(S(X),this.autoPaging)for(var We=X[0],Ne=X[X.length-1],Ie=We;Ie<Ne+1;Ie++){this.pdf.setPage(Ie);var Me=Ie===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],rt=He-this.margin[0],Ce=this.pdf.internal.pageSize.width-this.margin[1],ze=Ce-this.margin[3],at=Ie===1?0:Oe+(Ie-2)*rt;if(this.ctx.clip_path.length!==0){var Ct=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(xe,this.posX+this.margin[3],-1*at+Me),I.call(this,"fill",!0),this.path=Ct}var Je=x([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-at+Me+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*N.scale),Fe=this.lineWidth,this.lineWidth=Fe*N.scale);var bt=this.autoPaging!=="text";if(bt||Je.y+Je.h<=He){if(bt||Je.y>=Me&&Je.x<=Ce){var Ue=bt?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Ce-Je.x)[0],In=x([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-at+Me+this.ctx.prevPageLastElemOffset)[0],ct=bt&&(Ie>We||Ie<Ne)&&_.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,rt,null).clip().discardPath()),this.pdf.text(Ue,In.x,In.y,{angle:N.angle,align:z,renderingMode:N.renderingMode}),ct&&this.pdf.restoreGraphicsState()}}else Je.y<He&&(this.ctx.prevPageLastElemOffset+=He-Je.y);N.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Fe)}else N.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*N.scale),Fe=this.lineWidth,this.lineWidth=Fe*N.scale),this.pdf.text(N.text,oe.x+this.posX,oe.y+this.posY,{angle:N.angle,align:z,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Fe)},J=function(N,z,$,G){$=$||0,G=G||0,this.pdf.internal.out(n(N+$)+" "+r(z+G)+" l")},V=function(N,z,$){return this.pdf.lines(N,z,$,null,null)},ce=function(N,z,$,G,Z,oe,he,ue){this.pdf.internal.out([t(i($+N)),t(s(G+z)),t(i(Z+N)),t(s(oe+z)),t(i(he+N)),t(s(ue+z)),"c"].join(" "))},le=function(N,z,$,G){for(var Z=2*Math.PI,oe=Math.PI/2;z>$;)z-=Z;var he=Math.abs($-z);he<Z&&G&&(he=Z-he);for(var ue=[],xe=G?-1:1,_e=z;he>1e-5;){var Fe=_e+xe*Math.min(he,oe);ue.push(ae.call(this,N,_e,Fe)),he-=Math.abs(Fe-_e),_e=Fe}return ue},ae=function(N,z,$){var G=($-z)/2,Z=N*Math.cos(G),oe=N*Math.sin(G),he=Z,ue=-oe,xe=he*he+ue*ue,_e=xe+he*Z+ue*oe,Fe=4/3*(Math.sqrt(2*xe*_e)-_e)/(he*oe-ue*Z),Pe=he-Fe*ue,Qe=ue+Fe*he,ve=Pe,X=-Qe,st=G+z,We=Math.cos(st),Ne=Math.sin(st);return{x1:N*Math.cos(z),y1:N*Math.sin(z),x2:Pe*We-Qe*Ne,y2:Pe*Ne+Qe*We,x3:ve*We-X*Ne,y3:ve*Ne+X*We,x4:N*Math.cos($),y4:N*Math.sin($)}},W=function(N){return 180*N/Math.PI},te=function(N,z,$,G,Z,oe){var he=N+.5*($-N),ue=z+.5*(G-z),xe=Z+.5*($-Z),_e=oe+.5*(G-oe),Fe=Math.min(N,Z,he,xe),Pe=Math.max(N,Z,he,xe),Qe=Math.min(z,oe,ue,_e),ve=Math.max(z,oe,ue,_e);return new a(Fe,Qe,Pe-Fe,ve-Qe)},Q=function(N,z,$,G,Z,oe,he,ue){var xe,_e,Fe,Pe,Qe,ve,X,st,We,Ne,Ie,Me,Oe,He,rt=$-N,Ce=G-z,ze=Z-$,at=oe-G,Ct=he-Z,Je=ue-oe;for(_e=0;_e<41;_e++)We=(X=(Fe=N+(xe=_e/40)*rt)+xe*((Qe=$+xe*ze)-Fe))+xe*(Qe+xe*(Z+xe*Ct-Qe)-X),Ne=(st=(Pe=z+xe*Ce)+xe*((ve=G+xe*at)-Pe))+xe*(ve+xe*(oe+xe*Je-ve)-st),_e==0?(Ie=We,Me=Ne,Oe=We,He=Ne):(Ie=Math.min(Ie,We),Me=Math.min(Me,Ne),Oe=Math.max(Oe,We),He=Math.max(He,Ne));return new a(Math.round(Ie),Math.round(Me),Math.round(Oe-Ie),Math.round(He-Me))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,z,$=(N=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:z}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(nt.API),function(e){var t=function(s){var o,a,l,u,h,f,m,g,b,_;for(a=[],l=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(h=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(h=((h=((h=((h=(h-(_=h%85))/85)-(b=h%85))/85)-(g=h%85))/85)-(m=h%85))/85)%85,a.push(f+33,m+33,g+33,b+33,_+33)):a.push(122);return function(k,y){for(var x=y;x>0;x--)k.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,u,h,f=String,m="length",g=255,b="charCodeAt",_="slice",k="replace";for(s[_](-2),s=s[_](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),l=[],u=0,h=(s+=o="uuuuu"[_](s[m]%5||5))[m];h>u;u+=5)a=52200625*(s[b](u)-33)+614125*(s[b](u+1)-33)+7225*(s[b](u+2)-33)+85*(s[b](u+3)-33)+(s[b](u+4)-33),l.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(y,x){for(var S=x;S>0;S--)y.pop()}(l,o[m]),f.fromCharCode.apply(f,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=Ag(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,o){var a=0,l=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(nt.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,h){var f=new XMLHttpRequest,m=0,g=function(b){var _=b.length,k=[],y=String.fromCharCode;for(m=0;m<_;m+=1)k.push(y(255&b.charCodeAt(m)));return k.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?h(g(this.responseText)):h(void 0)}),f.send(null),u&&f.status===200)return g(f.responseText)}(i,s,o)}catch{}return a}(t,n,r)},e.loadImageFile=e.loadFile}(nt.API),function(e){function t(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):hs(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):hs(()=>import("./purify.es-31816194.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Dt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var u in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[u]=a.style[u];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(u,h){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)h!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(l(m,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var g=u[m],b=g.src.find(function(_){return _.format==="truetype"});b&&l.addFont(b.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,u){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,u){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(u,h){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,h).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=l.call(u,o,a);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,nt.getPageSize=function(o,a,l){if(Dt(o)==="object"){var u=o;o=u.orientation,a=u.unit||a,l=u.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var h,f=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}var g,b=0,_=0;if(m.hasOwnProperty(f))b=m[f][1]/h,_=m[f][0]/h;else try{b=l[1],_=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",_>b&&(g=_,_=b,b=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>_&&(g=_,_=b,b=g)}return{width:_,height:b,unit:a,k:h,orientation:o}},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(Rg):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(nt.API),nt.API.addJS=function(e){return hw=e,this.internal.events.subscribe("postPutResources",function(){bh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bh!==void 0&&dw!==void 0&&this.internal.out("/Names <</JavaScript "+bh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(s=0;s<u;s++){var f=n.internal.newObject();h.push(f);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<h.length;s++)n.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(nt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var m,g=256*f.charCodeAt(4)+f.charCodeAt(5),b=f.length,_={width:0,height:0,numcomponents:1},k=4;k<b;k+=2){if(k+=g,t.indexOf(f.charCodeAt(k+1))!==-1){m=256*f.charCodeAt(k+5)+f.charCodeAt(k+6),_={width:256*f.charCodeAt(k+7)+f.charCodeAt(k+8),height:m,numcomponents:f.charCodeAt(k+9)};break}g=256*f.charCodeAt(k+2)+f.charCodeAt(k+3)}return _}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return h}}(nt.API);var ul,Sh,fw,pw,mw,i7=function(){var e,t,n;function r(s){var o,a,l,u,h,f,m,g,b,_,k,y,x,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),b=(function(){var E,I;for(I=[],E=0;E<4;++E)I.push(String.fromCharCode(this.data[this.pos++]));return I}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*h/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,o-=4),s=(f!=null?f.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((_=l-this.transparency.indexed.length)>0)for(x=0;0<=_?x<_:x>_;0<=_?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(k=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,k.slice(0,m)),this.text[g]=String.fromCharCode.apply(String,k.slice(m+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(f,m,g,b){var _,k,y,x,S,E,I,B,U,O,K,Y,R,P,J,V,ce,le,ae,W,te,Q=Math.ceil((u.width-f)/g),me=Math.ceil((u.height-m)/b),N=u.width==Q&&u.height==me;for(P=o*Q,Y=N?a:new Uint8Array(P*me),E=s.length,R=0,k=0;R<me&&l<E;){switch(s[l++]){case 0:for(x=ce=0;ce<P;x=ce+=1)Y[k++]=s[l++];break;case 1:for(x=le=0;le<P;x=le+=1)_=s[l++],S=x<o?0:Y[k-o],Y[k++]=(_+S)%256;break;case 2:for(x=ae=0;ae<P;x=ae+=1)_=s[l++],y=(x-x%o)/o,J=R&&Y[(R-1)*P+y*o+x%o],Y[k++]=(J+_)%256;break;case 3:for(x=W=0;W<P;x=W+=1)_=s[l++],y=(x-x%o)/o,S=x<o?0:Y[k-o],J=R&&Y[(R-1)*P+y*o+x%o],Y[k++]=(_+Math.floor((S+J)/2))%256;break;case 4:for(x=te=0;te<P;x=te+=1)_=s[l++],y=(x-x%o)/o,S=x<o?0:Y[k-o],R===0?J=V=0:(J=Y[(R-1)*P+y*o+x%o],V=y&&Y[(R-1)*P+(y-1)*o+x%o]),I=S+J-V,B=Math.abs(I-S),O=Math.abs(I-J),K=Math.abs(I-V),U=B<=O&&B<=K?S:O<=K?J:V,Y[k++]=(_+U)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!N){var z=((m+R*b)*u.width+f)*o,$=R*P;for(x=0;x<Q;x+=1){for(var G=0;G<o;G+=1)a[z++]=Y[$++];z+=(g-1)*o}}R++}}return s=OT(s),u.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,u,h,f,m,g;for(a=this.palette,h=this.transparency.indexed||[],u=new Uint8Array((h.length||0)+a.length),l=0,s=0,o=f=0,m=a.length;f<m;o=f+=3)u[l++]=a[o],u[l++]=a[o+1],u[l++]=a[o+2],u[l++]=(g=h[s++])!=null?g:255;return u},r.prototype.copyToImageData=function(s,o){var a,l,u,h,f,m,g,b,_,k,y;if(l=this.colors,_=null,a=this.hasAlphaChannel,this.palette.length&&(_=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,a=!0),b=(u=s.data||s).length,f=_||o,h=m=0,l===1)for(;h<b;)g=_?4*o[h/4]:m,k=f[g++],u[h++]=k,u[h++]=k,u[h++]=k,u[h++]=a?f[g++]:255,m=g;else for(;h<b;)g=_?4*o[h/4]:m,u[h++]=f[g++],u[h++]=f[g++],u[h++]=f[g++],u[h++]=a?f[g++]:255,m=g},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(lt)==="[object Window]"){try{t=lt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,u,h,f,m,g;if(this.animation){for(g=[],a=h=0,f=(m=this.animation.frames).length;h<f;a=++h)o=m[a],l=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,g.push(o.image=e(l));return g}},r.prototype.renderFrame=function(s,o){var a,l,u;return a=(l=this.animation.frames)[o],u=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,u,h,f,m=this;return a=0,f=this.animation,u=f.numFrames,l=f.frames,h=f.numPlays,(o=function(){var g,b;if(g=a++%u,b=l[g],m.renderFrame(s,g),u>1&&a/u<h)return m.animation._timeout=setTimeout(o,b.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function s7(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var u=!0,h=[],f=0,m=null,g=0,b=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var _=e[t++];f=e[t++]|e[t++]<<8,m=e[t++],!(1&_)&&(m=null),g=_>>2&7,t++;break;case 254:for(;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var k=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,E=e[t++],I=E>>6&1,B=1<<(7&E)+1,U=a,O=l,K=!1;E>>7&&(K=!0,U=t,O=B,t+=3*B);var Y=t;for(t++;;){var R;if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}h.push({x:k,y,width:x,height:S,has_local_palette:K,palette_offset:U,palette_size:O,data_offset:Y,data_length:t-Y,transparent_index:m,interlaced:!!I,delay:f,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(P){if(P<0||P>=h.length)throw new Error("Frame index out of range.");return h[P]},this.decodeAndBlitFrameBGRA=function(P,J){var V=this.frameInfo(P),ce=V.width*V.height,le=new Uint8Array(ce);gw(e,V.data_offset,le,ce);var ae=V.palette_offset,W=V.transparent_index;W===null&&(W=256);var te=V.width,Q=n-te,me=te,N=4*(V.y*n+V.x),z=4*((V.y+V.height)*n+V.x),$=N,G=4*Q;V.interlaced===!0&&(G+=4*n*7);for(var Z=8,oe=0,he=le.length;oe<he;++oe){var ue=le[oe];if(me===0&&(me=te,($+=G)>=z&&(G=4*Q+4*n*(Z-1),$=N+(te+Q)*(Z<<1),Z>>=1)),ue===W)$+=4;else{var xe=e[ae+3*ue],_e=e[ae+3*ue+1],Fe=e[ae+3*ue+2];J[$++]=Fe,J[$++]=_e,J[$++]=xe,J[$++]=255}--me}},this.decodeAndBlitFrameRGBA=function(P,J){var V=this.frameInfo(P),ce=V.width*V.height,le=new Uint8Array(ce);gw(e,V.data_offset,le,ce);var ae=V.palette_offset,W=V.transparent_index;W===null&&(W=256);var te=V.width,Q=n-te,me=te,N=4*(V.y*n+V.x),z=4*((V.y+V.height)*n+V.x),$=N,G=4*Q;V.interlaced===!0&&(G+=4*n*7);for(var Z=8,oe=0,he=le.length;oe<he;++oe){var ue=le[oe];if(me===0&&(me=te,($+=G)>=z&&(G=4*Q+4*n*(Z-1),$=N+(te+Q)*(Z<<1),Z>>=1)),ue===W)$+=4;else{var xe=e[ae+3*ue],_e=e[ae+3*ue+1],Fe=e[ae+3*ue+2];J[$++]=xe,J[$++]=_e,J[$++]=Fe,J[$++]=255}--me}}}function gw(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,h=0,f=0,m=0,g=e[t++],b=new Int32Array(4096),_=null;;){for(;h<16&&g!==0;)f|=e[t++]<<h,h+=8,g===1?g=e[t++]:--g;if(h<l)break;var k=f&u;if(f>>=l,h-=l,k!==s){if(k===o)break;for(var y=k<a?k:_,x=0,S=y;S>s;)S=b[S]>>8,++x;var E=S;if(m+x+(y!==k?1:0)>r)return void Ht.log("Warning, gif stream longer than expected.");n[m++]=E;var I=m+=x;for(y!==k&&(n[m++]=E),S=y;x--;)S=b[S],n[--I]=255&S,S>>=8;_!==null&&a<4096&&(b[a++]=_<<8|E,a>=u+1&&l<12&&(++l,u=u<<1|1)),_=k}else a=o+1,u=(1<<(l=i+1))-1,_=null}return m!==r&&Ht.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qm(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),h=new Array(64),f=new Array(65535),m=new Array(65535),g=new Array(64),b=new Array(64),_=[],k=0,y=7,x=new Array(64),S=new Array(64),E=new Array(64),I=new Array(256),B=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(N,z){for(var $=0,G=0,Z=new Array,oe=1;oe<=16;oe++){for(var he=1;he<=N[oe];he++)Z[z[G]]=[],Z[z[G]][0]=$,Z[z[G]][1]=oe,G++,$++;$*=2}return Z}function ae(N){for(var z=N[0],$=N[1]-1;$>=0;)z&1<<$&&(k|=1<<y),$--,--y<0&&(k==255?(W(255),W(0)):W(k),y=7,k=0)}function W(N){_.push(N)}function te(N){W(N>>8&255),W(255&N)}function Q(N,z,$,G,Z){for(var oe,he=Z[0],ue=Z[240],xe=function(Ne,Ie){var Me,Oe,He,rt,Ce,ze,at,Ct,Je,bt,Ue=0;for(Je=0;Je<8;++Je){Me=Ne[Ue],Oe=Ne[Ue+1],He=Ne[Ue+2],rt=Ne[Ue+3],Ce=Ne[Ue+4],ze=Ne[Ue+5],at=Ne[Ue+6];var In=Me+(Ct=Ne[Ue+7]),ct=Me-Ct,jr=Oe+at,Rt=Oe-at,zt=He+ze,si=He-ze,At=rt+Ce,Yi=rt-Ce,$t=In+At,Br=In-At,oi=jr+zt,Xt=jr-zt;Ne[Ue]=$t+oi,Ne[Ue+4]=$t-oi;var ut=.707106781*(Xt+Br);Ne[Ue+2]=Br+ut,Ne[Ue+6]=Br-ut;var Lt=.382683433*(($t=Yi+si)-(Xt=Rt+ct)),Vn=.5411961*$t+Lt,Nn=1.306562965*Xt+Lt,Ur=.707106781*(oi=si+Rt),ai=ct+Ur,et=ct-Ur;Ne[Ue+5]=et+Vn,Ne[Ue+3]=et-Vn,Ne[Ue+1]=ai+Nn,Ne[Ue+7]=ai-Nn,Ue+=8}for(Ue=0,Je=0;Je<8;++Je){Me=Ne[Ue],Oe=Ne[Ue+8],He=Ne[Ue+16],rt=Ne[Ue+24],Ce=Ne[Ue+32],ze=Ne[Ue+40],at=Ne[Ue+48];var zr=Me+(Ct=Ne[Ue+56]),li=Me-Ct,Hn=Oe+at,vn=Oe-at,dn=He+ze,mr=He-ze,Ws=rt+Ce,$r=rt-Ce,dt=zr+Ws,qr=zr-Ws,Vr=Hn+dn,Zn=Hn-dn;Ne[Ue]=dt+Vr,Ne[Ue+32]=dt-Vr;var On=.707106781*(Zn+qr);Ne[Ue+16]=qr+On,Ne[Ue+48]=qr-On;var Hr=.382683433*((dt=$r+mr)-(Zn=vn+li)),Gs=.5411961*dt+Hr,Ks=1.306562965*Zn+Hr,Js=.707106781*(Vr=mr+vn),ms=li+Js,Ci=li-Js;Ne[Ue+40]=Ci+Gs,Ne[Ue+24]=Ci-Gs,Ne[Ue+8]=ms+Ks,Ne[Ue+56]=ms-Ks,Ue++}for(Je=0;Je<64;++Je)bt=Ne[Je]*Ie[Je],g[Je]=bt>0?bt+.5|0:bt-.5|0;return g}(N,z),_e=0;_e<64;++_e)b[U[_e]]=xe[_e];var Fe=b[0]-$;$=b[0],Fe==0?ae(G[0]):(ae(G[m[oe=32767+Fe]]),ae(f[oe]));for(var Pe=63;Pe>0&&b[Pe]==0;)Pe--;if(Pe==0)return ae(he),$;for(var Qe,ve=1;ve<=Pe;){for(var X=ve;b[ve]==0&&ve<=Pe;)++ve;var st=ve-X;if(st>=16){Qe=st>>4;for(var We=1;We<=Qe;++We)ae(ue);st&=15}oe=32767+b[ve],ae(Z[(st<<4)+m[oe]]),ae(f[oe]),ve++}return Pe!=63&&ae(he),$}function me(N){N=Math.min(Math.max(N,1),100),s!=N&&(function(z){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var Z=o(($[G]*z+50)/100);Z=Math.min(Math.max(Z,1),255),a[U[G]]=Z}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var ue=o((oe[he]*z+50)/100);ue=Math.min(Math.max(ue,1),255),l[U[he]]=ue}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,Fe=0;Fe<8;Fe++)for(var Pe=0;Pe<8;Pe++)u[_e]=1/(a[U[_e]]*xe[Fe]*xe[Pe]*8),h[_e]=1/(l[U[_e]]*xe[Fe]*xe[Pe]*8),_e++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),s=N)}this.encode=function(N,z){z&&me(z),_=new Array,k=0,y=7,te(65496),te(65504),te(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),te(1),te(1),W(0),W(0),function(){te(65499),te(132),W(0);for(var Oe=0;Oe<64;Oe++)W(a[Oe]);W(1);for(var He=0;He<64;He++)W(l[He])}(),function(Oe,He){te(65472),te(17),W(8),te(He),te(Oe),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(N.width,N.height),function(){te(65476),te(418),W(0);for(var Oe=0;Oe<16;Oe++)W(O[Oe+1]);for(var He=0;He<=11;He++)W(K[He]);W(16);for(var rt=0;rt<16;rt++)W(Y[rt+1]);for(var Ce=0;Ce<=161;Ce++)W(R[Ce]);W(1);for(var ze=0;ze<16;ze++)W(P[ze+1]);for(var at=0;at<=11;at++)W(J[at]);W(17);for(var Ct=0;Ct<16;Ct++)W(V[Ct+1]);for(var Je=0;Je<=161;Je++)W(ce[Je])}(),te(65498),te(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var $=0,G=0,Z=0;k=0,y=7,this.encode.displayName="_encode_";for(var oe,he,ue,xe,_e,Fe,Pe,Qe,ve,X=N.data,st=N.width,We=N.height,Ne=4*st,Ie=0;Ie<We;){for(oe=0;oe<Ne;){for(_e=Ne*Ie+oe,Pe=-1,Qe=0,ve=0;ve<64;ve++)Fe=_e+(Qe=ve>>3)*Ne+(Pe=4*(7&ve)),Ie+Qe>=We&&(Fe-=Ne*(Ie+1+Qe-We)),oe+Pe>=Ne&&(Fe-=oe+Pe-Ne+4),he=X[Fe++],ue=X[Fe++],xe=X[Fe++],x[ve]=(B[he]+B[ue+256>>0]+B[xe+512>>0]>>16)-128,S[ve]=(B[he+768>>0]+B[ue+1024>>0]+B[xe+1280>>0]>>16)-128,E[ve]=(B[he+1280>>0]+B[ue+1536>>0]+B[xe+1792>>0]>>16)-128;$=Q(x,u,$,t,r),G=Q(S,h,G,n,i),Z=Q(E,h,Z,n,i),oe+=32}Ie+=8}if(y>=0){var Me=[];Me[1]=y+1,Me[0]=(1<<y+1)-1,ae(Me)}return te(65497),new Uint8Array(_)},e=e||50,function(){for(var N=String.fromCharCode,z=0;z<256;z++)I[z]=N(z)}(),t=le(O,K),n=le(P,J),r=le(Y,R),i=le(V,ce),function(){for(var N=1,z=2,$=1;$<=15;$++){for(var G=N;G<z;G++)m[32767+G]=$,f[32767+G]=[],f[32767+G][1]=$,f[32767+G][0]=G;for(var Z=-(z-1);Z<=-N;Z++)m[32767+Z]=$,f[32767+Z]=[],f[32767+Z][1]=$,f[32767+Z][0]=z-1+Z;N<<=1,z<<=1}}(),function(){for(var N=0;N<256;N++)B[N]=19595*N,B[N+256>>0]=38470*N,B[N+512>>0]=7471*N+32768,B[N+768>>0]=-11059*N,B[N+1024>>0]=-21709*N,B[N+1280>>0]=32768*N+8421375,B[N+1536>>0]=-27439*N,B[N+1792>>0]=-5329*N}(),me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Oi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vw(e){function t(O){if(!O)throw Error("assert :P")}function n(O,K,Y){for(var R=0;4>R;R++)if(O[K+R]!=Y.charCodeAt(R))return!0;return!1}function r(O,K,Y,R,P){for(var J=0;J<P;J++)O[K+J]=Y[R+J]}function i(O,K,Y,R){for(var P=0;P<R;P++)O[K+P]=Y}function s(O){return new Int32Array(O)}function o(O,K){for(var Y=[],R=0;R<O;R++)Y.push(new K);return Y}function a(O,K){var Y=[];return function R(P,J,V){for(var ce=V[J],le=0;le<ce&&(P.push(V.length>J+1?[]:new K),!(V.length<J+1));le++)R(P[le],J+1,V)}(Y,0,O),Y}var l=function(){var O=this;function K(d,p){for(var w=1<<p-1>>>0;d&w;)w>>>=1;return w?(d&w-1)+w:d}function Y(d,p,w,j,C){t(!(j%w));do d[p+(j-=w)]=C;while(0<j)}function R(d,p,w,j,C){if(t(2328>=C),512>=C)var L=s(512);else if((L=s(C))==null)return 0;return function(T,D,M,q,ne,fe){var pe,se,Se=D,ge=1<<M,re=s(16),ie=s(16);for(t(ne!=0),t(q!=null),t(T!=null),t(0<M),se=0;se<ne;++se){if(15<q[se])return 0;++re[q[se]]}if(re[0]==ne)return 0;for(ie[1]=0,pe=1;15>pe;++pe){if(re[pe]>1<<pe)return 0;ie[pe+1]=ie[pe]+re[pe]}for(se=0;se<ne;++se)pe=q[se],0<q[se]&&(fe[ie[pe]++]=se);if(ie[15]==1)return(q=new P).g=0,q.value=fe[0],Y(T,Se,1,ge,q),ge;var we,je=-1,be=ge-1,Ve=0,De=1,tt=1,Be=1<<M;for(se=0,pe=1,ne=2;pe<=M;++pe,ne<<=1){if(De+=tt<<=1,0>(tt-=re[pe]))return 0;for(;0<re[pe];--re[pe])(q=new P).g=pe,q.value=fe[se++],Y(T,Se+Ve,ne,Be,q),Ve=K(Ve,pe)}for(pe=M+1,ne=2;15>=pe;++pe,ne<<=1){if(De+=tt<<=1,0>(tt-=re[pe]))return 0;for(;0<re[pe];--re[pe]){if(q=new P,(Ve&be)!=je){for(Se+=Be,we=1<<(je=pe)-M;15>je&&!(0>=(we-=re[je]));)++je,we<<=1;ge+=Be=1<<(we=je-M),T[D+(je=Ve&be)].g=we+M,T[D+je].value=Se-D-je}q.g=pe-M,q.value=fe[se++],Y(T,Se+(Ve>>M),ne,Be,q),Ve=K(Ve,pe)}}return De!=2*ie[15]-1?0:ge}(d,p,w,j,C,L)}function P(){this.value=this.g=0}function J(){this.value=this.g=0}function V(){this.G=o(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Wn,J)}function ce(d,p,w,j){t(d!=null),t(p!=null),t(2147483648>j),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=p,d.pa=w,d.Jd=p,d.Yc=w+j,d.Zc=4<=j?w+j-4+1:w,oe(d)}function le(d,p){for(var w=0;0<p--;)w|=ue(d,128)<<p;return w}function ae(d,p){var w=le(d,p);return he(d)?-w:w}function W(d,p,w,j){var C,L=0;for(t(d!=null),t(p!=null),t(4294967288>j),d.Sb=j,d.Ra=0,d.u=0,d.h=0,4<j&&(j=4),C=0;C<j;++C)L+=p[w+C]<<8*C;d.Ra=L,d.bb=j,d.oa=p,d.pa=w}function te(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Ga-8>>>0,++d.bb,d.u-=8;$(d)&&(d.h=1,d.u=0)}function Q(d,p){if(t(0<=p),!d.h&&p<=Wa){var w=z(d)&Ha[p];return d.u+=p,te(d),w}return d.h=1,d.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(d){return d.Ra>>>(d.u&Ga-1)>>>0}function $(d){return t(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Ga}function G(d,p){d.u=p,d.h=$(d)}function Z(d){d.u>=Pc&&(t(d.u>=Pc),te(d))}function oe(d){t(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(t(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function he(d){return le(d,1)}function ue(d,p){var w=d.Ca;0>d.b&&oe(d);var j=d.b,C=w*p>>>8,L=(d.I>>>j>C)+0;for(L?(w-=C,d.I-=C+1<<j>>>0):w=C+1,j=w,C=0;256<=j;)C+=8,j>>=8;return j=7^C+kr[j],d.b-=j,d.Ca=(w<<j)-1,L}function xe(d,p,w){d[p+0]=w>>24&255,d[p+1]=w>>16&255,d[p+2]=w>>8&255,d[p+3]=w>>0&255}function _e(d,p){return d[p+0]<<0|d[p+1]<<8}function Fe(d,p){return _e(d,p)|d[p+2]<<16}function Pe(d,p){return _e(d,p)|_e(d,p+2)<<16}function Qe(d,p){var w=1<<p;return t(d!=null),t(0<p),d.X=s(w),d.X==null?0:(d.Mb=32-p,d.Xa=p,1)}function ve(d,p){t(d!=null),t(p!=null),t(d.Xa==p.Xa),r(p.X,0,d.X,0,1<<p.Xa)}function X(){this.X=[],this.Xa=this.Mb=0}function st(d,p,w,j){t(w!=null),t(j!=null);var C=w[0],L=j[0];return C==0&&(C=(d*L+p/2)/p),L==0&&(L=(p*C+d/2)/d),0>=C||0>=L?0:(w[0]=C,j[0]=L,1)}function We(d,p){return d+(1<<p)-1>>>p}function Ne(d,p){return((4278255360&d)+(4278255360&p)>>>0&4278255360)+((16711935&d)+(16711935&p)>>>0&16711935)>>>0}function Ie(d,p){O[p]=function(w,j,C,L,T,D,M){var q;for(q=0;q<T;++q){var ne=O[d](D[M+q-1],C,L+q);D[M+q]=Ne(w[j+q],ne)}}}function Me(){this.ud=this.hd=this.jd=0}function Oe(d,p){return((4278124286&(d^p))>>>1)+(d&p)>>>0}function He(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function rt(d,p){return He(d+(d-p+.5>>1))}function Ce(d,p,w){return Math.abs(p-w)-Math.abs(d-w)}function ze(d,p,w,j,C,L,T){for(j=L[T-1],w=0;w<C;++w)L[T+w]=j=Ne(d[p+w],j)}function at(d,p,w,j,C){var L;for(L=0;L<w;++L){var T=d[p+L],D=T>>8&255,M=16711935&(M=(M=16711935&T)+((D<<16)+D));j[C+L]=(4278255360&T)+M>>>0}}function Ct(d,p){p.jd=d>>0&255,p.hd=d>>8&255,p.ud=d>>16&255}function Je(d,p,w,j,C,L){var T;for(T=0;T<j;++T){var D=p[w+T],M=D>>>8,q=D,ne=255&(ne=(ne=D>>>16)+((d.jd<<24>>24)*(M<<24>>24)>>>5));q=255&(q=(q=q+((d.hd<<24>>24)*(M<<24>>24)>>>5))+((d.ud<<24>>24)*(ne<<24>>24)>>>5)),C[L+T]=(4278255360&D)+(ne<<16)+q}}function bt(d,p,w,j,C){O[p]=function(L,T,D,M,q,ne,fe,pe,se){for(M=fe;M<pe;++M)for(fe=0;fe<se;++fe)q[ne++]=C(D[j(L[T++])])},O[d]=function(L,T,D,M,q,ne,fe){var pe=8>>L.b,se=L.Ea,Se=L.K[0],ge=L.w;if(8>pe)for(L=(1<<L.b)-1,ge=(1<<pe)-1;T<D;++T){var re,ie=0;for(re=0;re<se;++re)re&L||(ie=j(M[q++])),ne[fe++]=C(Se[ie&ge]),ie>>=pe}else O["VP8LMapColor"+w](M,q,Se,ge,ne,fe,T,D,se)}}function Ue(d,p,w,j,C){for(w=p+w;p<w;){var L=d[p++];j[C++]=L>>16&255,j[C++]=L>>8&255,j[C++]=L>>0&255}}function In(d,p,w,j,C){for(w=p+w;p<w;){var L=d[p++];j[C++]=L>>16&255,j[C++]=L>>8&255,j[C++]=L>>0&255,j[C++]=L>>24&255}}function ct(d,p,w,j,C){for(w=p+w;p<w;){var L=(T=d[p++])>>16&240|T>>12&15,T=T>>0&240|T>>28&15;j[C++]=L,j[C++]=T}}function jr(d,p,w,j,C){for(w=p+w;p<w;){var L=(T=d[p++])>>16&248|T>>13&7,T=T>>5&224|T>>3&31;j[C++]=L,j[C++]=T}}function Rt(d,p,w,j,C){for(w=p+w;p<w;){var L=d[p++];j[C++]=L>>0&255,j[C++]=L>>8&255,j[C++]=L>>16&255}}function zt(d,p,w,j,C,L){if(L==0)for(w=p+w;p<w;)xe(j,((L=d[p++])[0]>>24|L[1]>>8&65280|L[2]<<8&16711680|L[3]<<24)>>>0),C+=32;else r(j,C,d,p,w)}function si(d,p){O[p][0]=O[d+"0"],O[p][1]=O[d+"1"],O[p][2]=O[d+"2"],O[p][3]=O[d+"3"],O[p][4]=O[d+"4"],O[p][5]=O[d+"5"],O[p][6]=O[d+"6"],O[p][7]=O[d+"7"],O[p][8]=O[d+"8"],O[p][9]=O[d+"9"],O[p][10]=O[d+"10"],O[p][11]=O[d+"11"],O[p][12]=O[d+"12"],O[p][13]=O[d+"13"],O[p][14]=O[d+"0"],O[p][15]=O[d+"0"]}function At(d){return d==Ip||d==Op||d==Rd||d==Dp}function Yi(){this.eb=[],this.size=this.A=this.fb=0}function $t(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Br(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Yi,this.f.kb=new $t,this.sd=null}function oi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ut(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Lt(d,p){var w=d.T,j=p.ba.f.RGBA,C=j.eb,L=j.fb+d.ka*j.A,T=mi[p.ba.S],D=d.y,M=d.O,q=d.f,ne=d.N,fe=d.ea,pe=d.W,se=p.cc,Se=p.dc,ge=p.Mc,re=p.Nc,ie=d.ka,we=d.ka+d.T,je=d.U,be=je+1>>1;for(ie==0?T(D,M,null,null,q,ne,fe,pe,q,ne,fe,pe,C,L,null,null,je):(T(p.ec,p.fc,D,M,se,Se,ge,re,q,ne,fe,pe,C,L-j.A,C,L,je),++w);ie+2<we;ie+=2)se=q,Se=ne,ge=fe,re=pe,ne+=d.Rc,pe+=d.Rc,L+=2*j.A,T(D,(M+=2*d.fa)-d.fa,D,M,se,Se,ge,re,q,ne,fe,pe,C,L-j.A,C,L,je);return M+=d.fa,d.j+we<d.o?(r(p.ec,p.fc,D,M,je),r(p.cc,p.dc,q,ne,be),r(p.Mc,p.Nc,fe,pe,be),w--):1&we||T(D,M,null,null,q,ne,fe,pe,q,ne,fe,pe,C,L+j.A,null,null,je),w}function Vn(d,p,w){var j=d.F,C=[d.J];if(j!=null){var L=d.U,T=p.ba.S,D=T==Fd||T==Rd;p=p.ba.f.RGBA;var M=[0],q=d.ka;M[0]=d.T,d.Kb&&(q==0?--M[0]:(--q,C[0]-=d.width),d.j+d.ka+d.T==d.o&&(M[0]=d.o-d.j-q));var ne=p.eb;q=p.fb+q*p.A,d=Kt(j,C[0],d.width,L,M,ne,q+(D?0:3),p.A),t(w==M),d&&At(T)&&fi(ne,q,D,L,M,p.A)}return 0}function Nn(d){var p=d.ma,w=p.ba.S,j=11>w,C=w==Ld||w==Td||w==Fd||w==Rp||w==12||At(w);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!Cc(p.Oa,d,C?11:12))return 0;if(C&&At(w)&&Ae(),d.da)alert("todo:use_scaling");else{if(j){if(p.Ib=ut,d.Kb){if(w=d.U+1>>1,p.memory=s(d.U+2*w),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+d.U,p.Mc=p.cc,p.Nc=p.dc+w,p.Ib=Lt,Ae()}}else alert("todo:EmitYUV");C&&(p.Jb=Vn,j&&de())}if(j&&!zv){for(d=0;256>d;++d)x_[d]=89858*(d-128)+Od>>Id,__[d]=-22014*(d-128)+Od,S_[d]=-45773*(d-128),b_[d]=113618*(d-128)+Od>>Id;for(d=Oc;d<Up;++d)p=76283*(d-16)+Od>>Id,j_[d-Oc]=Wr(p,255),k_[d-Oc]=Wr(p+8>>4,15);zv=1}return 1}function Ur(d){var p=d.ma,w=d.U,j=d.T;return t(!(1&d.ka)),0>=w||0>=j?0:(w=p.Ib(d,p),p.Jb!=null&&p.Jb(d,p,w),p.Dc+=w,1)}function ai(d){d.ma.memory=null}function et(d,p,w,j){return Q(d,8)!=47?0:(p[0]=Q(d,14)+1,w[0]=Q(d,14)+1,j[0]=Q(d,1),Q(d,3)!=0?0:!d.h)}function zr(d,p){if(4>d)return d+1;var w=d-2>>1;return(2+(1&d)<<w)+Q(p,w)+1}function li(d,p){return 120<p?p-120:1<=(w=((w=o_[p-1])>>4)*d+(8-(15&w)))?w:1;var w}function Hn(d,p,w){var j=z(w),C=d[p+=255&j].g-8;return 0<C&&(G(w,w.u+8),j=z(w),p+=d[p].value,p+=j&(1<<C)-1),G(w,w.u+d[p].g),d[p].value}function vn(d,p,w){return w.g+=d.g,w.value+=d.value<<p>>>0,t(8>=w.g),d.g}function dn(d,p,w){var j=d.xc;return t((p=j==0?0:d.vc[d.md*(w>>j)+(p>>j)])<d.Wb),d.Ya[p]}function mr(d,p,w,j){var C=d.ab,L=d.c*p,T=d.C;p=T+p;var D=w,M=j;for(j=d.Ta,w=d.Ua;0<C--;){var q=d.gc[C],ne=T,fe=p,pe=D,se=M,Se=(M=j,D=w,q.Ea);switch(t(ne<fe),t(fe<=q.nc),q.hc){case 2:jd(pe,se,(fe-ne)*Se,M,D);break;case 0:var ge=ne,re=fe,ie=M,we=D,je=(Be=q).Ea;ge==0&&(Tp(pe,se,null,null,1,ie,we),ze(pe,se+1,0,0,je-1,ie,we+1),se+=je,we+=je,++ge);for(var be=1<<Be.b,Ve=be-1,De=We(je,Be.b),tt=Be.K,Be=Be.w+(ge>>Be.b)*De;ge<re;){var Ft=tt,It=Be,Pt=1;for(Ec(pe,se,ie,we-je,1,ie,we);Pt<je;){var kt=(Pt&~Ve)+be;kt>je&&(kt=je),(0,eo[Ft[It++]>>8&15])(pe,se+ +Pt,ie,we+Pt-je,kt-Pt,ie,we+Pt),Pt=kt}se+=je,we+=je,++ge&Ve||(Be+=De)}fe!=q.nc&&r(M,D-Se,M,D+(fe-ne-1)*Se,Se);break;case 1:for(Se=pe,re=se,je=(pe=q.Ea)-(we=pe&~(ie=(se=1<<q.b)-1)),ge=We(pe,q.b),be=q.K,q=q.w+(ne>>q.b)*ge;ne<fe;){for(Ve=be,De=q,tt=new Me,Be=re+we,Ft=re+pe;re<Be;)Ct(Ve[De++],tt),Qo(tt,Se,re,se,M,D),re+=se,D+=se;re<Ft&&(Ct(Ve[De++],tt),Qo(tt,Se,re,je,M,D),re+=je,D+=je),++ne&ie||(q+=ge)}break;case 3:if(pe==M&&se==D&&0<q.b){for(re=M,pe=Se=D+(fe-ne)*Se-(we=(fe-ne)*We(q.Ea,q.b)),se=M,ie=D,ge=[],we=(je=we)-1;0<=we;--we)ge[we]=se[ie+we];for(we=je-1;0<=we;--we)re[pe+we]=ge[we];ui(q,ne,fe,M,Se,M,D)}else ui(q,ne,fe,pe,se,M,D)}D=j,M=w}M!=w&&r(j,w,D,M,L)}function Ws(d,p){var w=d.V,j=d.Ba+d.c*d.C,C=p-d.C;if(t(p<=d.l.o),t(16>=C),0<C){var L=d.l,T=d.Ta,D=d.Ua,M=L.width;if(mr(d,C,w,j),C=D=[D],t((w=d.C)<(j=p)),t(L.v<L.va),j>L.o&&(j=L.o),w<L.j){var q=L.j-w;w=L.j,C[0]+=q*M}if(w>=j?w=0:(C[0]+=4*L.v,L.ka=w-L.j,L.U=L.va-L.v,L.T=j-w,w=1),w){if(D=D[0],11>(w=d.ca).S){var ne=w.f.RGBA,fe=(j=w.S,C=L.U,L=L.T,q=ne.eb,ne.A),pe=L;for(ne=ne.fb+d.Ma*ne.A;0<pe--;){var se=T,Se=D,ge=C,re=q,ie=ne;switch(j){case Ed:Nr(se,Se,ge,re,ie);break;case Ld:gr(se,Se,ge,re,ie);break;case Ip:gr(se,Se,ge,re,ie),fi(re,ie,0,ge,1,0);break;case Lv:xs(se,Se,ge,re,ie);break;case Td:zt(se,Se,ge,re,ie,1);break;case Op:zt(se,Se,ge,re,ie,1),fi(re,ie,0,ge,1,0);break;case Fd:zt(se,Se,ge,re,ie,0);break;case Rd:zt(se,Se,ge,re,ie,0),fi(re,ie,1,ge,1,0);break;case Rp:to(se,Se,ge,re,ie);break;case Dp:to(se,Se,ge,re,ie),Gt(re,ie,ge,1,0);break;case Tv:ws(se,Se,ge,re,ie);break;default:t(0)}D+=M,ne+=fe}d.Ma+=L}else alert("todo:EmitRescaledRowsYUVA");t(d.Ma<=w.height)}}d.C=p,t(d.C<=d.i)}function $r(d){var p;if(0<d.ua)return 0;for(p=0;p<d.Wb;++p){var w=d.Ya[p].G,j=d.Ya[p].H;if(0<w[1][j[1]+0].g||0<w[2][j[2]+0].g||0<w[3][j[3]+0].g)return 0}return 1}function dt(d,p,w,j,C,L){if(d.Z!=0){var T=d.qd,D=d.rd;for(t(so[d.Z]!=null);p<w;++p)so[d.Z](T,D,j,C,j,C,L),T=j,D=C,C+=L;d.qd=T,d.rd=D}}function qr(d,p){var w=d.l.ma,j=w.Z==0||w.Z==1?d.l.j:d.C;if(j=d.C<j?j:d.C,t(p<=d.l.o),p>j){var C=d.l.width,L=w.ca,T=w.tb+C*j,D=d.V,M=d.Ba+d.c*j,q=d.gc;t(d.ab==1),t(q[0].hc==3),kd(q[0],j,p,D,M,L,T),dt(w,j,p,L,T,C)}d.C=d.Ma=p}function Vr(d,p,w,j,C,L,T){var D=d.$/j,M=d.$%j,q=d.m,ne=d.s,fe=w+d.$,pe=fe;C=w+j*C;var se=w+j*L,Se=280+ne.ua,ge=d.Pb?D:16777216,re=0<ne.ua?ne.Wa:null,ie=ne.wc,we=fe<se?dn(ne,M,D):null;t(d.C<L),t(se<=C);var je=!1;e:for(;;){for(;je||fe<se;){var be=0;if(D>=ge){var Ve=fe-w;t((ge=d).Pb),ge.wd=ge.m,ge.xd=Ve,0<ge.s.ua&&ve(ge.s.Wa,ge.s.vb),ge=D+l_}if(M&ie||(we=dn(ne,M,D)),t(we!=null),we.Qb&&(p[fe]=we.qb,je=!0),!je)if(Z(q),we.jc){be=q,Ve=p;var De=fe,tt=we.pd[z(be)&Wn-1];t(we.jc),256>tt.g?(G(be,be.u+tt.g),Ve[De]=tt.value,be=0):(G(be,be.u+tt.g-256),t(256<=tt.value),be=tt.value),be==0&&(je=!0)}else be=Hn(we.G[0],we.H[0],q);if(q.h)break;if(je||256>be){if(!je)if(we.nd)p[fe]=(we.qb|be<<8)>>>0;else{if(Z(q),je=Hn(we.G[1],we.H[1],q),Z(q),Ve=Hn(we.G[2],we.H[2],q),De=Hn(we.G[3],we.H[3],q),q.h)break;p[fe]=(De<<24|je<<16|be<<8|Ve)>>>0}if(je=!1,++fe,++M>=j&&(M=0,++D,T!=null&&D<=L&&!(D%16)&&T(d,D),re!=null))for(;pe<fe;)be=p[pe++],re.X[(506832829*be&4294967295)>>>re.Mb]=be}else if(280>be){if(be=zr(be-256,q),Ve=Hn(we.G[4],we.H[4],q),Z(q),Ve=li(j,Ve=zr(Ve,q)),q.h)break;if(fe-w<Ve||C-fe<be)break e;for(De=0;De<be;++De)p[fe+De]=p[fe+De-Ve];for(fe+=be,M+=be;M>=j;)M-=j,++D,T!=null&&D<=L&&!(D%16)&&T(d,D);if(t(fe<=C),M&ie&&(we=dn(ne,M,D)),re!=null)for(;pe<fe;)be=p[pe++],re.X[(506832829*be&4294967295)>>>re.Mb]=be}else{if(!(be<Se))break e;for(je=be-280,t(re!=null);pe<fe;)be=p[pe++],re.X[(506832829*be&4294967295)>>>re.Mb]=be;be=fe,t(!(je>>>(Ve=re).Xa)),p[be]=Ve.X[je],je=!0}je||t(q.h==$(q))}if(d.Pb&&q.h&&fe<C)t(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&ve(d.s.vb,d.s.Wa);else{if(q.h)break e;T!=null&&T(d,D>L?L:D),d.a=0,d.$=fe-w}return 1}return d.a=3,0}function Zn(d){t(d!=null),d.vc=null,d.yc=null,d.Ya=null;var p=d.Wa;p!=null&&(p.X=null),d.vb=null,t(d!=null)}function On(){var d=new Lp;return d==null?null:(d.a=0,d.xb=Iv,si("Predictor","VP8LPredictors"),si("Predictor","VP8LPredictors_C"),si("PredictorAdd","VP8LPredictorsAdd"),si("PredictorAdd","VP8LPredictorsAdd_C"),jd=at,Qo=Je,Nr=Ue,gr=In,to=ct,ws=jr,xs=Rt,O.VP8LMapColor32b=Ka,O.VP8LMapColor8b=Nd,d)}function Hr(d,p,w,j,C){var L=1,T=[d],D=[p],M=j.m,q=j.s,ne=null,fe=0;e:for(;;){if(w)for(;L&&Q(M,1);){var pe=T,se=D,Se=j,ge=1,re=Se.m,ie=Se.gc[Se.ab],we=Q(re,2);if(Se.Oc&1<<we)L=0;else{switch(Se.Oc|=1<<we,ie.hc=we,ie.Ea=pe[0],ie.nc=se[0],ie.K=[null],++Se.ab,t(4>=Se.ab),we){case 0:case 1:ie.b=Q(re,3)+2,ge=Hr(We(ie.Ea,ie.b),We(ie.nc,ie.b),0,Se,ie.K),ie.K=ie.K[0];break;case 3:var je,be=Q(re,8)+1,Ve=16<be?0:4<be?1:2<be?2:3;if(pe[0]=We(ie.Ea,Ve),ie.b=Ve,je=ge=Hr(be,1,0,Se,ie.K)){var De,tt=be,Be=ie,Ft=1<<(8>>Be.b),It=s(Ft);if(It==null)je=0;else{var Pt=Be.K[0],kt=Be.w;for(It[0]=Be.K[0][0],De=1;De<1*tt;++De)It[De]=Ne(Pt[kt+De],It[De-1]);for(;De<4*Ft;++De)It[De]=0;Be.K[0]=null,Be.K[0]=It,je=1}}ge=je;break;case 2:break;default:t(0)}L=ge}}if(T=T[0],D=D[0],L&&Q(M,1)&&!(L=1<=(fe=Q(M,4))&&11>=fe)){j.a=3;break e}var qt;if(qt=L)t:{var Bt,wt,An,Cr=j,Pn=T,Ar=D,Ot=fe,Kr=w,Jr=Cr.m,Mn=Cr.s,Gn=[null],yr=1,gi=0,ts=a_[Ot];n:for(;;){if(Kr&&Q(Jr,1)){var Bn=Q(Jr,3)+2,js=We(Pn,Bn),ra=We(Ar,Bn),Za=js*ra;if(!Hr(js,ra,0,Cr,Gn))break n;for(Gn=Gn[0],Mn.xc=Bn,Bt=0;Bt<Za;++Bt){var oo=Gn[Bt]>>8&65535;Gn[Bt]=oo,oo>=yr&&(yr=oo+1)}}if(Jr.h)break n;for(wt=0;5>wt;++wt){var fn=Fv[wt];!wt&&0<Ot&&(fn+=1<<Ot),gi<fn&&(gi=fn)}var zp=o(yr*ts,P),Vv=yr,Hv=o(Vv,V);if(Hv==null)var Md=null;else t(65536>=Vv),Md=Hv;var Dc=s(gi);if(Md==null||Dc==null||zp==null){Cr.a=1;break n}var Bd=zp;for(Bt=An=0;Bt<yr;++Bt){var Fi=Md[Bt],el=Fi.G,tl=Fi.H,Wv=0,Ud=1,Gv=0;for(wt=0;5>wt;++wt){fn=Fv[wt],el[wt]=Bd,tl[wt]=An,!wt&&0<Ot&&(fn+=1<<Ot);i:{var zd,$p=fn,$d=Cr,Mc=Dc,A_=Bd,P_=An,qp=0,ao=$d.m,E_=Q(ao,1);if(i(Mc,0,0,$p),E_){var L_=Q(ao,1)+1,T_=Q(ao,1),Kv=Q(ao,T_==0?1:8);Mc[Kv]=1,L_==2&&(Mc[Kv=Q(ao,8)]=1);var qd=1}else{var Jv=s(19),Yv=Q(ao,4)+4;if(19<Yv){$d.a=3;var Vd=0;break i}for(zd=0;zd<Yv;++zd)Jv[s_[zd]]=Q(ao,3);var Vp=void 0,Bc=void 0,Xv=$d,F_=Jv,Hd=$p,Qv=Mc,Hp=0,lo=Xv.m,Zv=8,e2=o(128,P);r:for(;R(e2,0,7,F_,19);){if(Q(lo,1)){var R_=2+2*Q(lo,3);if((Vp=2+Q(lo,R_))>Hd)break r}else Vp=Hd;for(Bc=0;Bc<Hd&&Vp--;){Z(lo);var t2=e2[0+(127&z(lo))];G(lo,lo.u+t2.g);var nl=t2.value;if(16>nl)Qv[Bc++]=nl,nl!=0&&(Zv=nl);else{var I_=nl==16,n2=nl-16,O_=r_[n2],r2=Q(lo,n_[n2])+O_;if(Bc+r2>Hd)break r;for(var D_=I_?Zv:0;0<r2--;)Qv[Bc++]=D_}}Hp=1;break r}Hp||(Xv.a=3),qd=Hp}(qd=qd&&!ao.h)&&(qp=R(A_,P_,8,Mc,$p)),qd&&qp!=0?Vd=qp:($d.a=3,Vd=0)}if(Vd==0)break n;if(Ud&&i_[wt]==1&&(Ud=Bd[An].g==0),Wv+=Bd[An].g,An+=Vd,3>=wt){var Uc,Wp=Dc[0];for(Uc=1;Uc<fn;++Uc)Dc[Uc]>Wp&&(Wp=Dc[Uc]);Gv+=Wp}}if(Fi.nd=Ud,Fi.Qb=0,Ud&&(Fi.qb=(el[3][tl[3]+0].value<<24|el[1][tl[1]+0].value<<16|el[2][tl[2]+0].value)>>>0,Wv==0&&256>el[0][tl[0]+0].value&&(Fi.Qb=1,Fi.qb+=el[0][tl[0]+0].value<<8)),Fi.jc=!Fi.Qb&&6>Gv,Fi.jc){var Wd,ks=Fi;for(Wd=0;Wd<Wn;++Wd){var co=Wd,uo=ks.pd[co],Gd=ks.G[0][ks.H[0]+co];256<=Gd.value?(uo.g=Gd.g+256,uo.value=Gd.value):(uo.g=0,uo.value=0,co>>=vn(Gd,8,uo),co>>=vn(ks.G[1][ks.H[1]+co],16,uo),co>>=vn(ks.G[2][ks.H[2]+co],0,uo),vn(ks.G[3][ks.H[3]+co],24,uo))}}}Mn.vc=Gn,Mn.Wb=yr,Mn.Ya=Md,Mn.yc=zp,qt=1;break t}qt=0}if(!(L=qt)){j.a=3;break e}if(0<fe){if(q.ua=1<<fe,!Qe(q.Wa,fe)){j.a=1,L=0;break e}}else q.ua=0;var Gp=j,i2=T,M_=D,Kp=Gp.s,Jp=Kp.xc;if(Gp.c=i2,Gp.i=M_,Kp.md=We(i2,Jp),Kp.wc=Jp==0?-1:(1<<Jp)-1,w){j.xb=m_;break e}if((ne=s(T*D))==null){j.a=1,L=0;break e}L=(L=Vr(j,ne,0,T,D,D,null))&&!M.h;break e}return L?(C!=null?C[0]=ne:(t(ne==null),t(w)),j.$=0,w||Zn(q)):Zn(q),L}function Gs(d,p){var w=d.c*d.i,j=w+p+16*p;return t(d.c<=p),d.V=s(j),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+w+p,1)}function Ks(d,p){var w=d.C,j=p-w,C=d.V,L=d.Ba+d.c*w;for(t(p<=d.l.o);0<j;){var T=16<j?16:j,D=d.l.ma,M=d.l.width,q=M*T,ne=D.ca,fe=D.tb+M*w,pe=d.Ta,se=d.Ua;mr(d,T,C,L),xn(pe,se,ne,fe,q),dt(D,w,w+T,ne,fe,M),j-=T,C+=T*d.c,w+=T}t(w==p),d.C=d.Ma=p}function Js(){this.ub=this.yd=this.td=this.Rb=0}function ms(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ci(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ra(){this.Yb=function(){var d=[];return function p(w,j,C){for(var L=C[j],T=0;T<L&&(w.push(C.length>j+1?[]:0),!(C.length<j+1));T++)p(w[T],j+1,C)}(d,0,[3,11]),d}()}function Ys(){this.jb=s(3),this.Wc=a([4,8],Ra),this.Xc=a([4,17],Ra)}function hc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function gs(){this.ld=this.La=this.dd=this.tc=0}function Ia(){this.Na=this.la=0}function Xi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fc(){this.uc=this.M=this.Nb=0,this.wa=Array(new gs),this.Y=0,this.ya=Array(new Wo),this.aa=0,this.l=new it}function Te(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ye(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new Js,this.Kc=new ms,this.ed=new hc,this.Qa=new Ci,this.Ic=this.$c=this.Aa=0,this.D=new fc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,Xi),this.Pa=new Ys,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Te),this.Hd=0,this.rb=Array(new Ia),this.sb=0,this.wa=Array(new gs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wo),this.L=this.aa=0,this.gd=a([4,2],gs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function it(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ke(){var d=new Ye;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Ic||(Ic=Xe)),d}function $e(d,p,w){return d.a==0&&(d.a=p,d.sc=w,d.cb=0),0}function St(d,p,w){return 3<=w&&d[p+0]==157&&d[p+1]==1&&d[p+2]==42}function Ee(d,p){if(d==null)return 0;if(d.a=0,d.sc="OK",p==null)return $e(d,2,"null VP8Io passed to VP8GetHeaders()");var w=p.data,j=p.w,C=p.ha;if(4>C)return $e(d,7,"Truncated header.");var L=w[j+0]|w[j+1]<<8|w[j+2]<<16,T=d.Od;if(T.Rb=!(1&L),T.td=L>>1&7,T.yd=L>>4&1,T.ub=L>>5,3<T.td)return $e(d,3,"Incorrect keyframe parameters.");if(!T.yd)return $e(d,4,"Frame not displayable.");j+=3,C-=3;var D=d.Kc;if(T.Rb){if(7>C)return $e(d,7,"cannot parse picture header");if(!St(w,j,C))return $e(d,3,"Bad code word");D.c=16383&(w[j+4]<<8|w[j+3]),D.Td=w[j+4]>>6,D.i=16383&(w[j+6]<<8|w[j+5]),D.Ud=w[j+6]>>6,j+=7,C-=7,d.za=D.c+15>>4,d.Ub=D.i+15>>4,p.width=D.c,p.height=D.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((L=d.Pa).jb,0,255,L.jb.length),t((L=d.Qa)!=null),L.Cb=0,L.Bb=0,L.Fb=1,i(L.Zb,0,0,L.Zb.length),i(L.Lb,0,0,L.Lb)}if(T.ub>C)return $e(d,7,"bad partition length");ce(L=d.m,w,j,T.ub),j+=T.ub,C-=T.ub,T.Rb&&(D.Ld=he(L),D.Kd=he(L)),D=d.Qa;var M,q=d.Pa;if(t(L!=null),t(D!=null),D.Cb=he(L),D.Cb){if(D.Bb=he(L),he(L)){for(D.Fb=he(L),M=0;4>M;++M)D.Zb[M]=he(L)?ae(L,7):0;for(M=0;4>M;++M)D.Lb[M]=he(L)?ae(L,6):0}if(D.Bb)for(M=0;3>M;++M)q.jb[M]=he(L)?le(L,8):255}else D.Bb=0;if(L.Ka)return $e(d,3,"cannot parse segment header");if((D=d.ed).zd=he(L),D.Tb=le(L,6),D.wb=le(L,3),D.Pc=he(L),D.Pc&&he(L)){for(q=0;4>q;++q)he(L)&&(D.vd[q]=ae(L,6));for(q=0;4>q;++q)he(L)&&(D.od[q]=ae(L,6))}if(d.L=D.Tb==0?0:D.zd?1:2,L.Ka)return $e(d,3,"cannot parse filter header");var ne=C;if(C=M=j,j=M+ne,D=ne,d.Xb=(1<<le(d.m,2))-1,ne<3*(q=d.Xb))w=7;else{for(M+=3*q,D-=3*q,ne=0;ne<q;++ne){var fe=w[C+0]|w[C+1]<<8|w[C+2]<<16;fe>D&&(fe=D),ce(d.Jc[+ne],w,M,fe),M+=fe,D-=fe,C+=3}ce(d.Jc[+q],w,M,D),w=M<j?0:5}if(w!=0)return $e(d,w,"cannot parse partitions");for(w=le(M=d.m,7),C=he(M)?ae(M,4):0,j=he(M)?ae(M,4):0,D=he(M)?ae(M,4):0,q=he(M)?ae(M,4):0,M=he(M)?ae(M,4):0,ne=d.Qa,fe=0;4>fe;++fe){if(ne.Cb){var pe=ne.Zb[fe];ne.Fb||(pe+=w)}else{if(0<fe){d.pb[fe]=d.pb[0];continue}pe=w}var se=d.pb[fe];se.Sc[0]=Mp[Wr(pe+C,127)],se.Sc[1]=Bp[Wr(pe+0,127)],se.Eb[0]=2*Mp[Wr(pe+j,127)],se.Eb[1]=101581*Bp[Wr(pe+D,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=Mp[Wr(pe+q,117)],se.Qc[1]=Bp[Wr(pe+M,127)],se.lc=pe+M}if(!T.Rb)return $e(d,4,"Not a key frame.");for(he(L),T=d.Pa,w=0;4>w;++w){for(C=0;8>C;++C)for(j=0;3>j;++j)for(D=0;11>D;++D)q=ue(L,f_[w][C][j][D])?le(L,8):d_[w][C][j][D],T.Wc[w][C].Yb[j][D]=q;for(C=0;17>C;++C)T.Xc[w][C]=T.Wc[w][p_[C]]}return d.kc=he(L),d.kc&&(d.Bd=le(L,8)),d.cb=1}function Xe(d,p,w,j,C,L,T){var D=p[C].Yb[w];for(w=0;16>C;++C){if(!ue(d,D[w+0]))return C;for(;!ue(d,D[w+1]);)if(D=p[++C].Yb[0],w=0,C==16)return 16;var M=p[C+1].Yb;if(ue(d,D[w+2])){var q=d,ne=0;if(ue(q,(pe=D)[(fe=w)+3]))if(ue(q,pe[fe+6])){for(D=0,fe=2*(ne=ue(q,pe[fe+8]))+(pe=ue(q,pe[fe+9+ne])),ne=0,pe=c_[fe];pe[D];++D)ne+=ne+ue(q,pe[D]);ne+=3+(8<<fe)}else ue(q,pe[fe+7])?(ne=7+2*ue(q,165),ne+=ue(q,145)):ne=5+ue(q,159);else ne=ue(q,pe[fe+4])?3+ue(q,pe[fe+5]):2;D=M[2]}else ne=1,D=M[1];M=T+u_[C],0>(q=d).b&&oe(q);var fe,pe=q.b,se=(fe=q.Ca>>1)-(q.I>>pe)>>31;--q.b,q.Ca+=se,q.Ca|=1,q.I-=(fe+1&se)<<pe,L[M]=((ne^se)-se)*j[(0<C)+0]}return 16}function ht(d){var p=d.rb[d.sb-1];p.la=0,p.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function yt(d,p){if(d==null)return 0;if(p==null)return $e(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Ee(d,p))return 0;if(t(d.cb),p.ac==null||p.ac(p)){p.ob&&(d.L=0);var w=Dd[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=p.v-w>>4,d.zb=p.j-w>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=p.o+15+w>>4,d.Hb=p.va+15+w>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var j=d.ed;for(w=0;4>w;++w){var C;if(d.Qa.Cb){var L=d.Qa.Lb[w];d.Qa.Fb||(L+=j.Tb)}else L=j.Tb;for(C=0;1>=C;++C){var T=d.gd[w][C],D=L;if(j.Pc&&(D+=j.vd[0],C&&(D+=j.od[0])),0<(D=0>D?0:63<D?63:D)){var M=D;0<j.wb&&(M=4<j.wb?M>>2:M>>1)>9-j.wb&&(M=9-j.wb),1>M&&(M=1),T.dd=M,T.tc=2*D+M,T.ld=40<=D?2:15<=D?1:0}else T.tc=0;T.La=C}}}w=0}else $e(d,6,"Frame setup failed"),w=d.a;if(w=w==0){if(w){d.$c=0,0<d.Aa||(d.Ic=C_);e:{w=d.Ic,j=4*(M=d.za);var q=32*M,ne=M+1,fe=0<d.L?M*(0<d.Aa?2:1):0,pe=(d.Aa==2?2:1)*M;if((T=j+832+(C=3*(16*w+Dd[d.L])/2*q)+(L=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=T)w=0;else{if(T>d.Vb){if(d.Vb=0,d.Ec=s(T),d.Fc=0,d.Ec==null){w=$e(d,1,"no memory during frame initialization.");break e}d.Vb=T}T=d.Ec,D=d.Fc,d.Ac=T,d.Bc=D,D+=j,d.Gd=o(q,Te),d.Hd=0,d.rb=o(ne+1,Ia),d.sb=1,d.wa=fe?o(fe,gs):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=M),t(!0),d.oc=T,d.pc=D,D+=832,d.ya=o(pe,Wo),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=M),d.R=16*M,d.B=8*M,M=(q=Dd[d.L])*d.R,q=q/2*d.B,d.sa=T,d.ta=D+M,d.qa=d.sa,d.ra=d.ta+16*w*d.R+q,d.Ha=d.qa,d.Ia=d.ra+8*w*d.B+q,d.$c=0,D+=C,d.mb=L?T:null,d.nb=L?D:null,t(D+L<=d.Fc+d.Vb),ht(d),i(d.Ac,d.Bc,0,j),w=1}}if(w){if(p.ka=0,p.y=d.sa,p.O=d.ta,p.f=d.qa,p.N=d.ra,p.ea=d.Ha,p.Vd=d.Ia,p.fa=d.R,p.Rc=d.B,p.F=null,p.J=0,!Ad){for(w=-255;255>=w;++w)Tn[255+w]=0>w?-w:w;for(w=-1020;1020>=w;++w)Ss[1020+w]=-128>w?-128:127<w?127:w;for(w=-112;112>=w;++w)Rc[112+w]=-16>w?-16:15<w?15:w;for(w=-255;510>=w;++w)Qa[255+w]=0>w?0:255<w?255:w;Ad=1}Ja=vp,bs=yn,Lc=Ai,vr=Pi,di=Go,wn=Wt,Ya=yc,Cd=Yo,Tc=Ep,Zo=wc,ea=Pp,no=Ua,ta=xc,Xa=bd,na=xd,ro=Zi,Fc=ys,hi=Ap,Ti[0]=Qi,Ti[1]=yp,Ti[2]=Sp,Ti[3]=_p,Ti[4]=md,Ti[5]=Ma,Ti[6]=gd,Ti[7]=mc,Ti[8]=kp,Ti[9]=jp,io[0]=fd,io[1]=xp,io[2]=vs,io[3]=Oa,io[4]=er,io[5]=bp,io[6]=pd,_s[0]=Xs,_s[1]=wp,_s[2]=Np,_s[3]=gc,_s[4]=Jo,_s[5]=Cp,_s[6]=vc,w=1}else w=0}w&&(w=function(se,Se){for(se.M=0;se.M<se.Va;++se.M){var ge,re=se.Jc[se.M&se.Xb],ie=se.m,we=se;for(ge=0;ge<we.za;++ge){var je=ie,be=we,Ve=be.Ac,De=be.Bc+4*ge,tt=be.zc,Be=be.ya[be.aa+ge];if(be.Qa.Bb?Be.$b=ue(je,be.Pa.jb[0])?2+ue(je,be.Pa.jb[2]):ue(je,be.Pa.jb[1]):Be.$b=0,be.kc&&(Be.Ad=ue(je,be.Bd)),Be.Za=!ue(je,145)+0,Be.Za){var Ft=Be.Ob,It=0;for(be=0;4>be;++be){var Pt,kt=tt[0+be];for(Pt=0;4>Pt;++Pt){kt=h_[Ve[De+Pt]][kt];for(var qt=Rv[ue(je,kt[0])];0<qt;)qt=Rv[2*qt+ue(je,kt[qt])];kt=-qt,Ve[De+Pt]=kt}r(Ft,It,Ve,De,4),It+=4,tt[0+be]=kt}}else kt=ue(je,156)?ue(je,128)?1:3:ue(je,163)?2:0,Be.Ob[0]=kt,i(Ve,De,kt,4),i(tt,0,kt,4);Be.Dd=ue(je,142)?ue(je,114)?ue(je,183)?1:3:2:0}if(we.m.Ka)return $e(se,7,"Premature end-of-partition0 encountered.");for(;se.ja<se.za;++se.ja){if(we=re,je=(ie=se).rb[ie.sb-1],Ve=ie.rb[ie.sb+ie.ja],ge=ie.ya[ie.aa+ie.ja],De=ie.kc?ge.Ad:0)je.la=Ve.la=0,ge.Za||(je.Na=Ve.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var Bt,wt;if(je=Ve,Ve=we,De=ie.Pa.Xc,tt=ie.ya[ie.aa+ie.ja],Be=ie.pb[tt.$b],be=tt.ad,Ft=0,It=ie.rb[ie.sb-1],kt=Pt=0,i(be,Ft,0,384),tt.Za)var An=0,Cr=De[3];else{qt=s(16);var Pn=je.Na+It.Na;if(Pn=Ic(Ve,De[1],Pn,Be.Eb,0,qt,0),je.Na=It.Na=(0<Pn)+0,1<Pn)Ja(qt,0,be,Ft);else{var Ar=qt[0]+3>>3;for(qt=0;256>qt;qt+=16)be[Ft+qt]=Ar}An=1,Cr=De[0]}var Ot=15&je.la,Kr=15&It.la;for(qt=0;4>qt;++qt){var Jr=1&Kr;for(Ar=wt=0;4>Ar;++Ar)Ot=Ot>>1|(Jr=(Pn=Ic(Ve,Cr,Pn=Jr+(1&Ot),Be.Sc,An,be,Ft))>An)<<7,wt=wt<<2|(3<Pn?3:1<Pn?2:be[Ft+0]!=0),Ft+=16;Ot>>=4,Kr=Kr>>1|Jr<<7,Pt=(Pt<<8|wt)>>>0}for(Cr=Ot,An=Kr>>4,Bt=0;4>Bt;Bt+=2){for(wt=0,Ot=je.la>>4+Bt,Kr=It.la>>4+Bt,qt=0;2>qt;++qt){for(Jr=1&Kr,Ar=0;2>Ar;++Ar)Pn=Jr+(1&Ot),Ot=Ot>>1|(Jr=0<(Pn=Ic(Ve,De[2],Pn,Be.Qc,0,be,Ft)))<<3,wt=wt<<2|(3<Pn?3:1<Pn?2:be[Ft+0]!=0),Ft+=16;Ot>>=2,Kr=Kr>>1|Jr<<5}kt|=wt<<4*Bt,Cr|=Ot<<4<<Bt,An|=(240&Kr)<<Bt}je.la=Cr,It.la=An,tt.Hc=Pt,tt.Gc=kt,tt.ia=43690&kt?0:Be.ia,De=!(Pt|kt)}if(0<ie.L&&(ie.wa[ie.Y+ie.ja]=ie.gd[ge.$b][ge.Za],ie.wa[ie.Y+ie.ja].La|=!De),we.Ka)return $e(se,7,"Premature end-of-file encountered.")}if(ht(se),ie=Se,we=1,ge=(re=se).D,je=0<re.L&&re.M>=re.zb&&re.M<=re.Va,re.Aa==0)e:{if(ge.M=re.M,ge.uc=je,Nc(re,ge),we=1,ge=(wt=re.D).Nb,je=(kt=Dd[re.L])*re.R,Ve=kt/2*re.B,qt=16*ge*re.R,Ar=8*ge*re.B,De=re.sa,tt=re.ta-je+qt,Be=re.qa,be=re.ra-Ve+Ar,Ft=re.Ha,It=re.Ia-Ve+Ar,Kr=(Ot=wt.M)==0,Pt=Ot>=re.Va-1,re.Aa==2&&Nc(re,wt),wt.uc)for(Jr=(Pn=re).D.M,t(Pn.D.uc),wt=Pn.yb;wt<Pn.Hb;++wt){An=wt,Cr=Jr;var Mn=(Gn=(fn=Pn).D).Nb;Bt=fn.R;var Gn=Gn.wa[Gn.Y+An],yr=fn.sa,gi=fn.ta+16*Mn*Bt+16*An,ts=Gn.dd,Bn=Gn.tc;if(Bn!=0)if(t(3<=Bn),fn.L==1)0<An&&ro(yr,gi,Bt,Bn+4),Gn.La&&hi(yr,gi,Bt,Bn),0<Cr&&na(yr,gi,Bt,Bn+4),Gn.La&&Fc(yr,gi,Bt,Bn);else{var js=fn.B,ra=fn.qa,Za=fn.ra+8*Mn*js+8*An,oo=fn.Ha,fn=fn.Ia+8*Mn*js+8*An;Mn=Gn.ld,0<An&&(Cd(yr,gi,Bt,Bn+4,ts,Mn),Zo(ra,Za,oo,fn,js,Bn+4,ts,Mn)),Gn.La&&(no(yr,gi,Bt,Bn,ts,Mn),Xa(ra,Za,oo,fn,js,Bn,ts,Mn)),0<Cr&&(Ya(yr,gi,Bt,Bn+4,ts,Mn),Tc(ra,Za,oo,fn,js,Bn+4,ts,Mn)),Gn.La&&(ea(yr,gi,Bt,Bn,ts,Mn),ta(ra,Za,oo,fn,js,Bn,ts,Mn))}}if(re.ia&&alert("todo:DitherRow"),ie.put!=null){if(wt=16*Ot,Ot=16*(Ot+1),Kr?(ie.y=re.sa,ie.O=re.ta+qt,ie.f=re.qa,ie.N=re.ra+Ar,ie.ea=re.Ha,ie.W=re.Ia+Ar):(wt-=kt,ie.y=De,ie.O=tt,ie.f=Be,ie.N=be,ie.ea=Ft,ie.W=It),Pt||(Ot-=kt),Ot>ie.o&&(Ot=ie.o),ie.F=null,ie.J=null,re.Fa!=null&&0<re.Fa.length&&wt<Ot&&(ie.J=jc(re,ie,wt,Ot-wt),ie.F=re.mb,ie.F==null&&ie.F.length==0)){we=$e(re,3,"Could not decode alpha data.");break e}wt<ie.j&&(kt=ie.j-wt,wt=ie.j,t(!(1&kt)),ie.O+=re.R*kt,ie.N+=re.B*(kt>>1),ie.W+=re.B*(kt>>1),ie.F!=null&&(ie.J+=ie.width*kt)),wt<Ot&&(ie.O+=ie.v,ie.N+=ie.v>>1,ie.W+=ie.v>>1,ie.F!=null&&(ie.J+=ie.v),ie.ka=wt-ie.j,ie.U=ie.va-ie.v,ie.T=Ot-wt,we=ie.put(ie))}ge+1!=re.Ic||Pt||(r(re.sa,re.ta-je,De,tt+16*re.R,je),r(re.qa,re.ra-Ve,Be,be+8*re.B,Ve),r(re.Ha,re.Ia-Ve,Ft,It+8*re.B,Ve))}if(!we)return $e(se,6,"Output aborted.")}return 1}(d,p)),p.bc!=null&&p.bc(p),w&=1}return w?(d.cb=0,w):0}function Tt(d,p,w,j,C){C=d[p+w+32*j]+(C>>3),d[p+w+32*j]=-256&C?0>C?0:255:C}function Ln(d,p,w,j,C,L){Tt(d,p,0,w,j+C),Tt(d,p,1,w,j+L),Tt(d,p,2,w,j-L),Tt(d,p,3,w,j-C)}function rn(d){return(20091*d>>16)+d}function ci(d,p,w,j){var C,L=0,T=s(16);for(C=0;4>C;++C){var D=d[p+0]+d[p+8],M=d[p+0]-d[p+8],q=(35468*d[p+4]>>16)-rn(d[p+12]),ne=rn(d[p+4])+(35468*d[p+12]>>16);T[L+0]=D+ne,T[L+1]=M+q,T[L+2]=M-q,T[L+3]=D-ne,L+=4,p++}for(C=L=0;4>C;++C)D=(d=T[L+0]+4)+T[L+8],M=d-T[L+8],q=(35468*T[L+4]>>16)-rn(T[L+12]),Tt(w,j,0,0,D+(ne=rn(T[L+4])+(35468*T[L+12]>>16))),Tt(w,j,1,0,M+q),Tt(w,j,2,0,M-q),Tt(w,j,3,0,D-ne),L++,j+=32}function Wt(d,p,w,j){var C=d[p+0]+4,L=35468*d[p+4]>>16,T=rn(d[p+4]),D=35468*d[p+1]>>16;Ln(w,j,0,C+T,d=rn(d[p+1]),D),Ln(w,j,1,C+L,d,D),Ln(w,j,2,C-L,d,D),Ln(w,j,3,C-T,d,D)}function yn(d,p,w,j,C){ci(d,p,w,j),C&&ci(d,p+16,w,j+4)}function Ai(d,p,w,j){bs(d,p+0,w,j,1),bs(d,p+32,w,j+128,1)}function Pi(d,p,w,j){var C;for(d=d[p+0]+4,C=0;4>C;++C)for(p=0;4>p;++p)Tt(w,j,p,C,d)}function Go(d,p,w,j){d[p+0]&&vr(d,p+0,w,j),d[p+16]&&vr(d,p+16,w,j+4),d[p+32]&&vr(d,p+32,w,j+128),d[p+48]&&vr(d,p+48,w,j+128+4)}function vp(d,p,w,j){var C,L=s(16);for(C=0;4>C;++C){var T=d[p+0+C]+d[p+12+C],D=d[p+4+C]+d[p+8+C],M=d[p+4+C]-d[p+8+C],q=d[p+0+C]-d[p+12+C];L[0+C]=T+D,L[8+C]=T-D,L[4+C]=q+M,L[12+C]=q-M}for(C=0;4>C;++C)T=(d=L[0+4*C]+3)+L[3+4*C],D=L[1+4*C]+L[2+4*C],M=L[1+4*C]-L[2+4*C],q=d-L[3+4*C],w[j+0]=T+D>>3,w[j+16]=q+M>>3,w[j+32]=T-D>>3,w[j+48]=q-M>>3,j+=64}function pc(d,p,w){var j,C=p-32,L=Gr,T=255-d[C-1];for(j=0;j<w;++j){var D,M=L,q=T+d[p-1];for(D=0;D<w;++D)d[p+D]=M[q+d[C+D]];p+=32}}function yp(d,p){pc(d,p,4)}function wp(d,p){pc(d,p,8)}function xp(d,p){pc(d,p,16)}function vs(d,p){var w;for(w=0;16>w;++w)r(d,p+32*w,d,p-32,16)}function Oa(d,p){var w;for(w=16;0<w;--w)i(d,p,d[p-1],16),p+=32}function Da(d,p,w){var j;for(j=0;16>j;++j)i(p,w+32*j,d,16)}function fd(d,p){var w,j=16;for(w=0;16>w;++w)j+=d[p-1+32*w]+d[p+w-32];Da(j>>5,d,p)}function er(d,p){var w,j=8;for(w=0;16>w;++w)j+=d[p-1+32*w];Da(j>>4,d,p)}function bp(d,p){var w,j=8;for(w=0;16>w;++w)j+=d[p+w-32];Da(j>>4,d,p)}function pd(d,p){Da(128,d,p)}function ft(d,p,w){return d+2*p+w+2>>2}function Sp(d,p){var w,j=p-32;for(j=new Uint8Array([ft(d[j-1],d[j+0],d[j+1]),ft(d[j+0],d[j+1],d[j+2]),ft(d[j+1],d[j+2],d[j+3]),ft(d[j+2],d[j+3],d[j+4])]),w=0;4>w;++w)r(d,p+32*w,j,0,j.length)}function _p(d,p){var w=d[p-1],j=d[p-1+32],C=d[p-1+64],L=d[p-1+96];xe(d,p+0,16843009*ft(d[p-1-32],w,j)),xe(d,p+32,16843009*ft(w,j,C)),xe(d,p+64,16843009*ft(j,C,L)),xe(d,p+96,16843009*ft(C,L,L))}function Qi(d,p){var w,j=4;for(w=0;4>w;++w)j+=d[p+w-32]+d[p-1+32*w];for(j>>=3,w=0;4>w;++w)i(d,p+32*w,j,4)}function md(d,p){var w=d[p-1+0],j=d[p-1+32],C=d[p-1+64],L=d[p-1-32],T=d[p+0-32],D=d[p+1-32],M=d[p+2-32],q=d[p+3-32];d[p+0+96]=ft(j,C,d[p-1+96]),d[p+1+96]=d[p+0+64]=ft(w,j,C),d[p+2+96]=d[p+1+64]=d[p+0+32]=ft(L,w,j),d[p+3+96]=d[p+2+64]=d[p+1+32]=d[p+0+0]=ft(T,L,w),d[p+3+64]=d[p+2+32]=d[p+1+0]=ft(D,T,L),d[p+3+32]=d[p+2+0]=ft(M,D,T),d[p+3+0]=ft(q,M,D)}function gd(d,p){var w=d[p+1-32],j=d[p+2-32],C=d[p+3-32],L=d[p+4-32],T=d[p+5-32],D=d[p+6-32],M=d[p+7-32];d[p+0+0]=ft(d[p+0-32],w,j),d[p+1+0]=d[p+0+32]=ft(w,j,C),d[p+2+0]=d[p+1+32]=d[p+0+64]=ft(j,C,L),d[p+3+0]=d[p+2+32]=d[p+1+64]=d[p+0+96]=ft(C,L,T),d[p+3+32]=d[p+2+64]=d[p+1+96]=ft(L,T,D),d[p+3+64]=d[p+2+96]=ft(T,D,M),d[p+3+96]=ft(D,M,M)}function Ma(d,p){var w=d[p-1+0],j=d[p-1+32],C=d[p-1+64],L=d[p-1-32],T=d[p+0-32],D=d[p+1-32],M=d[p+2-32],q=d[p+3-32];d[p+0+0]=d[p+1+64]=L+T+1>>1,d[p+1+0]=d[p+2+64]=T+D+1>>1,d[p+2+0]=d[p+3+64]=D+M+1>>1,d[p+3+0]=M+q+1>>1,d[p+0+96]=ft(C,j,w),d[p+0+64]=ft(j,w,L),d[p+0+32]=d[p+1+96]=ft(w,L,T),d[p+1+32]=d[p+2+96]=ft(L,T,D),d[p+2+32]=d[p+3+96]=ft(T,D,M),d[p+3+32]=ft(D,M,q)}function mc(d,p){var w=d[p+0-32],j=d[p+1-32],C=d[p+2-32],L=d[p+3-32],T=d[p+4-32],D=d[p+5-32],M=d[p+6-32],q=d[p+7-32];d[p+0+0]=w+j+1>>1,d[p+1+0]=d[p+0+64]=j+C+1>>1,d[p+2+0]=d[p+1+64]=C+L+1>>1,d[p+3+0]=d[p+2+64]=L+T+1>>1,d[p+0+32]=ft(w,j,C),d[p+1+32]=d[p+0+96]=ft(j,C,L),d[p+2+32]=d[p+1+96]=ft(C,L,T),d[p+3+32]=d[p+2+96]=ft(L,T,D),d[p+3+64]=ft(T,D,M),d[p+3+96]=ft(D,M,q)}function jp(d,p){var w=d[p-1+0],j=d[p-1+32],C=d[p-1+64],L=d[p-1+96];d[p+0+0]=w+j+1>>1,d[p+2+0]=d[p+0+32]=j+C+1>>1,d[p+2+32]=d[p+0+64]=C+L+1>>1,d[p+1+0]=ft(w,j,C),d[p+3+0]=d[p+1+32]=ft(j,C,L),d[p+3+32]=d[p+1+64]=ft(C,L,L),d[p+3+64]=d[p+2+64]=d[p+0+96]=d[p+1+96]=d[p+2+96]=d[p+3+96]=L}function kp(d,p){var w=d[p-1+0],j=d[p-1+32],C=d[p-1+64],L=d[p-1+96],T=d[p-1-32],D=d[p+0-32],M=d[p+1-32],q=d[p+2-32];d[p+0+0]=d[p+2+32]=w+T+1>>1,d[p+0+32]=d[p+2+64]=j+w+1>>1,d[p+0+64]=d[p+2+96]=C+j+1>>1,d[p+0+96]=L+C+1>>1,d[p+3+0]=ft(D,M,q),d[p+2+0]=ft(T,D,M),d[p+1+0]=d[p+3+32]=ft(w,T,D),d[p+1+32]=d[p+3+64]=ft(j,w,T),d[p+1+64]=d[p+3+96]=ft(C,j,w),d[p+1+96]=ft(L,C,j)}function Np(d,p){var w;for(w=0;8>w;++w)r(d,p+32*w,d,p-32,8)}function gc(d,p){var w;for(w=0;8>w;++w)i(d,p,d[p-1],8),p+=32}function Ko(d,p,w){var j;for(j=0;8>j;++j)i(p,w+32*j,d,8)}function Xs(d,p){var w,j=8;for(w=0;8>w;++w)j+=d[p+w-32]+d[p-1+32*w];Ko(j>>4,d,p)}function Cp(d,p){var w,j=4;for(w=0;8>w;++w)j+=d[p+w-32];Ko(j>>3,d,p)}function Jo(d,p){var w,j=4;for(w=0;8>w;++w)j+=d[p-1+32*w];Ko(j>>3,d,p)}function vc(d,p){Ko(128,d,p)}function Ba(d,p,w){var j=d[p-w],C=d[p+0],L=3*(C-j)+Fp[1020+d[p-2*w]-d[p+w]],T=Pd[112+(L+4>>3)];d[p-w]=Gr[255+j+Pd[112+(L+3>>3)]],d[p+0]=Gr[255+C-T]}function vd(d,p,w,j){var C=d[p+0],L=d[p+w];return pi[255+d[p-2*w]-d[p-w]]>j||pi[255+L-C]>j}function yd(d,p,w,j){return 4*pi[255+d[p-w]-d[p+0]]+pi[255+d[p-2*w]-d[p+w]]<=j}function wd(d,p,w,j,C){var L=d[p-3*w],T=d[p-2*w],D=d[p-w],M=d[p+0],q=d[p+w],ne=d[p+2*w],fe=d[p+3*w];return 4*pi[255+D-M]+pi[255+T-q]>j?0:pi[255+d[p-4*w]-L]<=C&&pi[255+L-T]<=C&&pi[255+T-D]<=C&&pi[255+fe-ne]<=C&&pi[255+ne-q]<=C&&pi[255+q-M]<=C}function xd(d,p,w,j){var C=2*j+1;for(j=0;16>j;++j)yd(d,p+j,w,C)&&Ba(d,p+j,w)}function Zi(d,p,w,j){var C=2*j+1;for(j=0;16>j;++j)yd(d,p+j*w,1,C)&&Ba(d,p+j*w,1)}function ys(d,p,w,j){var C;for(C=3;0<C;--C)xd(d,p+=4*w,w,j)}function Ap(d,p,w,j){var C;for(C=3;0<C;--C)Zi(d,p+=4,w,j)}function Qs(d,p,w,j,C,L,T,D){for(L=2*L+1;0<C--;){if(wd(d,p,w,L,T))if(vd(d,p,w,D))Ba(d,p,w);else{var M=d,q=p,ne=w,fe=M[q-2*ne],pe=M[q-ne],se=M[q+0],Se=M[q+ne],ge=M[q+2*ne],re=27*(we=Fp[1020+3*(se-pe)+Fp[1020+fe-Se]])+63>>7,ie=18*we+63>>7,we=9*we+63>>7;M[q-3*ne]=Gr[255+M[q-3*ne]+we],M[q-2*ne]=Gr[255+fe+ie],M[q-ne]=Gr[255+pe+re],M[q+0]=Gr[255+se-re],M[q+ne]=Gr[255+Se-ie],M[q+2*ne]=Gr[255+ge-we]}p+=j}}function Ei(d,p,w,j,C,L,T,D){for(L=2*L+1;0<C--;){if(wd(d,p,w,L,T))if(vd(d,p,w,D))Ba(d,p,w);else{var M=d,q=p,ne=w,fe=M[q-ne],pe=M[q+0],se=M[q+ne],Se=Pd[112+((ge=3*(pe-fe))+4>>3)],ge=Pd[112+(ge+3>>3)],re=Se+1>>1;M[q-2*ne]=Gr[255+M[q-2*ne]+re],M[q-ne]=Gr[255+fe+ge],M[q+0]=Gr[255+pe-Se],M[q+ne]=Gr[255+se-re]}p+=j}}function yc(d,p,w,j,C,L){Qs(d,p,w,1,16,j,C,L)}function Yo(d,p,w,j,C,L){Qs(d,p,1,w,16,j,C,L)}function Pp(d,p,w,j,C,L){var T;for(T=3;0<T;--T)Ei(d,p+=4*w,w,1,16,j,C,L)}function Ua(d,p,w,j,C,L){var T;for(T=3;0<T;--T)Ei(d,p+=4,1,w,16,j,C,L)}function Ep(d,p,w,j,C,L,T,D){Qs(d,p,C,1,8,L,T,D),Qs(w,j,C,1,8,L,T,D)}function wc(d,p,w,j,C,L,T,D){Qs(d,p,1,C,8,L,T,D),Qs(w,j,1,C,8,L,T,D)}function xc(d,p,w,j,C,L,T,D){Ei(d,p+4*C,C,1,8,L,T,D),Ei(w,j+4*C,C,1,8,L,T,D)}function bd(d,p,w,j,C,L,T,D){Ei(d,p+4,1,C,8,L,T,D),Ei(w,j+4,1,C,8,L,T,D)}function za(){this.ba=new Br,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Sc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Sd(){this.ua=0,this.Wa=new X,this.vb=new X,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new P}function Lp(){this.xb=this.a=0,this.l=new it,this.ca=new Br,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Sd,this.ab=0,this.gc=o(4,Sc),this.Oc=0}function $a(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new it,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xo(d,p,w,j,C,L,T){for(d=d==null?0:d[p+0],p=0;p<T;++p)C[L+p]=d+w[j+p]&255,d=C[L+p]}function _c(d,p,w,j,C,L,T){var D;if(d==null)Xo(null,null,w,j,C,L,T);else for(D=0;D<T;++D)C[L+D]=d[p+D]+w[j+D]&255}function Zs(d,p,w,j,C,L,T){if(d==null)Xo(null,null,w,j,C,L,T);else{var D,M=d[p+0],q=M,ne=M;for(D=0;D<T;++D)q=ne+(M=d[p+D])-q,ne=w[j+D]+(-256&q?0>q?0:255:q)&255,q=M,C[L+D]=ne}}function jc(d,p,w,j){var C=p.width,L=p.o;if(t(d!=null&&p!=null),0>w||0>=j||w+j>L)return null;if(!d.Cc){if(d.ga==null){var T;if(d.ga=new $a,(T=d.ga==null)||(T=p.width*p.o,t(d.Gb.length==0),d.Gb=s(T),d.Uc=0,d.Gb==null?T=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,T=1),T=!T),!T){T=d.ga;var D=d.Fa,M=d.P,q=d.qc,ne=d.mb,fe=d.nb,pe=M+1,se=q-1,Se=T.l;if(t(D!=null&&ne!=null&&p!=null),so[0]=null,so[1]=Xo,so[2]=_c,so[3]=Zs,T.ca=ne,T.tb=fe,T.c=p.width,T.i=p.height,t(0<T.c&&0<T.i),1>=q)p=0;else if(T.$a=D[M+0]>>0&3,T.Z=D[M+0]>>2&3,T.Lc=D[M+0]>>4&3,M=D[M+0]>>6&3,0>T.$a||1<T.$a||4<=T.Z||1<T.Lc||M)p=0;else if(Se.put=Ur,Se.ac=Nn,Se.bc=ai,Se.ma=T,Se.width=p.width,Se.height=p.height,Se.Da=p.Da,Se.v=p.v,Se.va=p.va,Se.j=p.j,Se.o=p.o,T.$a)e:{t(T.$a==1),p=On();t:for(;;){if(p==null){p=0;break e}if(t(T!=null),T.mc=p,p.c=T.c,p.i=T.i,p.l=T.l,p.l.ma=T,p.l.width=T.c,p.l.height=T.i,p.a=0,W(p.m,D,pe,se),!Hr(T.c,T.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&$r(p.s)?(T.ic=1,D=p.c*p.i,p.Ta=null,p.Ua=0,p.V=s(D),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(T.ic=0,p=Gs(p,T.c)),!p))break t;p=1;break e}T.mc=null,p=0}else p=se>=T.c*T.i;T=!p}if(T)return null;d.ga.Lc!=1?d.Ga=0:j=L-w}t(d.ga!=null),t(w+j<=L);e:{if(p=(D=d.ga).c,L=D.l.o,D.$a==0){if(pe=d.rc,se=d.Vc,Se=d.Fa,M=d.P+1+w*p,q=d.mb,ne=d.nb+w*p,t(M<=d.P+d.qc),D.Z!=0)for(t(so[D.Z]!=null),T=0;T<j;++T)so[D.Z](pe,se,Se,M,q,ne,p),pe=q,se=ne,ne+=p,M+=p;else for(T=0;T<j;++T)r(q,ne,Se,M,p),pe=q,se=ne,ne+=p,M+=p;d.rc=pe,d.Vc=se}else{if(t(D.mc!=null),p=w+j,t((T=D.mc)!=null),t(p<=T.i),T.C>=p)p=1;else if(D.ic||de(),D.ic){D=T.V,pe=T.Ba,se=T.c;var ge=T.i,re=(Se=1,M=T.$/se,q=T.$%se,ne=T.m,fe=T.s,T.$),ie=se*ge,we=se*p,je=fe.wc,be=re<we?dn(fe,q,M):null;t(re<=ie),t(p<=ge),t($r(fe));t:for(;;){for(;!ne.h&&re<we;){if(q&je||(be=dn(fe,q,M)),t(be!=null),Z(ne),256>(ge=Hn(be.G[0],be.H[0],ne)))D[pe+re]=ge,++re,++q>=se&&(q=0,++M<=p&&!(M%16)&&qr(T,M));else{if(!(280>ge)){Se=0;break t}ge=zr(ge-256,ne);var Ve,De=Hn(be.G[4],be.H[4],ne);if(Z(ne),!(re>=(De=li(se,De=zr(De,ne)))&&ie-re>=ge)){Se=0;break t}for(Ve=0;Ve<ge;++Ve)D[pe+re+Ve]=D[pe+re+Ve-De];for(re+=ge,q+=ge;q>=se;)q-=se,++M<=p&&!(M%16)&&qr(T,M);re<we&&q&je&&(be=dn(fe,q,M))}t(ne.h==$(ne))}qr(T,M>p?p:M);break t}!Se||ne.h&&re<ie?(Se=0,T.a=ne.h?5:3):T.$=re,p=Se}else p=Vr(T,T.V,T.Ba,T.c,T.i,p,Ks);if(!p){j=0;break e}}w+j>=L&&(d.Cc=1),j=1}if(!j)return null;if(d.Cc&&((j=d.ga)!=null&&(j.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+w*C}function v(d,p,w,j,C,L){for(;0<C--;){var T,D=d,M=p+(w?1:0),q=d,ne=p+(w?0:3);for(T=0;T<j;++T){var fe=q[ne+4*T];fe!=255&&(fe*=32897,D[M+4*T+0]=D[M+4*T+0]*fe>>23,D[M+4*T+1]=D[M+4*T+1]*fe>>23,D[M+4*T+2]=D[M+4*T+2]*fe>>23)}p+=L}}function A(d,p,w,j,C){for(;0<j--;){var L;for(L=0;L<w;++L){var T=d[p+2*L+0],D=15&(q=d[p+2*L+1]),M=4369*D,q=(240&q|q>>4)*M>>16;d[p+2*L+0]=(240&T|T>>4)*M>>16&240|(15&T|T<<4)*M>>16>>4&15,d[p+2*L+1]=240&q|D}p+=C}}function H(d,p,w,j,C,L,T,D){var M,q,ne=255;for(q=0;q<C;++q){for(M=0;M<j;++M){var fe=d[p+M];L[T+4*M]=fe,ne&=fe}p+=w,T+=D}return ne!=255}function ee(d,p,w,j,C){var L;for(L=0;L<C;++L)w[j+L]=d[p+L]>>8}function de(){fi=v,Gt=A,Kt=H,xn=ee}function ye(d,p,w){O[d]=function(j,C,L,T,D,M,q,ne,fe,pe,se,Se,ge,re,ie,we,je){var be,Ve=je-1>>1,De=D[M+0]|q[ne+0]<<16,tt=fe[pe+0]|se[Se+0]<<16;t(j!=null);var Be=3*De+tt+131074>>2;for(p(j[C+0],255&Be,Be>>16,ge,re),L!=null&&(Be=3*tt+De+131074>>2,p(L[T+0],255&Be,Be>>16,ie,we)),be=1;be<=Ve;++be){var Ft=D[M+be]|q[ne+be]<<16,It=fe[pe+be]|se[Se+be]<<16,Pt=De+Ft+tt+It+524296,kt=Pt+2*(Ft+tt)>>3;Be=kt+De>>1,De=(Pt=Pt+2*(De+It)>>3)+Ft>>1,p(j[C+2*be-1],255&Be,Be>>16,ge,re+(2*be-1)*w),p(j[C+2*be-0],255&De,De>>16,ge,re+(2*be-0)*w),L!=null&&(Be=Pt+tt>>1,De=kt+It>>1,p(L[T+2*be-1],255&Be,Be>>16,ie,we+(2*be-1)*w),p(L[T+2*be+0],255&De,De>>16,ie,we+(2*be+0)*w)),De=Ft,tt=It}1&je||(Be=3*De+tt+131074>>2,p(j[C+je-1],255&Be,Be>>16,ge,re+(je-1)*w),L!=null&&(Be=3*tt+De+131074>>2,p(L[T+je-1],255&Be,Be>>16,ie,we+(je-1)*w)))}}function Ae(){mi[Ed]=g_,mi[Ld]=Ov,mi[Lv]=v_,mi[Td]=Dv,mi[Fd]=Mv,mi[Rp]=Bv,mi[Tv]=y_,mi[Ip]=Ov,mi[Op]=Dv,mi[Rd]=Mv,mi[Dp]=Bv}function qe(d){return d&~w_?0>d?0:255:d>>Uv}function Ze(d,p){return qe((19077*d>>8)+(26149*p>>8)-14234)}function gt(d,p,w){return qe((19077*d>>8)-(6419*p>>8)-(13320*w>>8)+8708)}function pt(d,p){return qe((19077*d>>8)+(33050*p>>8)-17685)}function Nt(d,p,w,j,C){j[C+0]=Ze(d,w),j[C+1]=gt(d,p,w),j[C+2]=pt(d,p)}function sn(d,p,w,j,C){j[C+0]=pt(d,p),j[C+1]=gt(d,p,w),j[C+2]=Ze(d,w)}function hn(d,p,w,j,C){var L=gt(d,p,w);p=L<<3&224|pt(d,p)>>3,j[C+0]=248&Ze(d,w)|L>>5,j[C+1]=p}function Cn(d,p,w,j,C){var L=240&pt(d,p)|15;j[C+0]=240&Ze(d,w)|gt(d,p,w)>>4,j[C+1]=L}function tr(d,p,w,j,C){j[C+0]=255,Nt(d,p,w,j,C+1)}function Dn(d,p,w,j,C){sn(d,p,w,j,C),j[C+3]=255}function Li(d,p,w,j,C){Nt(d,p,w,j,C),j[C+3]=255}function Wr(d,p){return 0>d?0:d>p?p:d}function es(d,p,w){O[d]=function(j,C,L,T,D,M,q,ne,fe){for(var pe=ne+(-2&fe)*w;ne!=pe;)p(j[C+0],L[T+0],D[M+0],q,ne),p(j[C+1],L[T+0],D[M+0],q,ne+w),C+=2,++T,++M,ne+=2*w;1&fe&&p(j[C+0],L[T+0],D[M+0],q,ne)}}function _d(d,p,w){return w==0?d==0?p==0?6:5:p==0?4:0:w}function kc(d,p,w,j,C){switch(d>>>30){case 3:bs(p,w,j,C,0);break;case 2:wn(p,w,j,C);break;case 1:vr(p,w,j,C)}}function Nc(d,p){var w,j,C=p.M,L=p.Nb,T=d.oc,D=d.pc+40,M=d.oc,q=d.pc+584,ne=d.oc,fe=d.pc+600;for(w=0;16>w;++w)T[D+32*w-1]=129;for(w=0;8>w;++w)M[q+32*w-1]=129,ne[fe+32*w-1]=129;for(0<C?T[D-1-32]=M[q-1-32]=ne[fe-1-32]=129:(i(T,D-32-1,127,21),i(M,q-32-1,127,9),i(ne,fe-32-1,127,9)),j=0;j<d.za;++j){var pe=p.ya[p.aa+j];if(0<j){for(w=-1;16>w;++w)r(T,D+32*w-4,T,D+32*w+12,4);for(w=-1;8>w;++w)r(M,q+32*w-4,M,q+32*w+4,4),r(ne,fe+32*w-4,ne,fe+32*w+4,4)}var se=d.Gd,Se=d.Hd+j,ge=pe.ad,re=pe.Hc;if(0<C&&(r(T,D-32,se[Se].y,0,16),r(M,q-32,se[Se].f,0,8),r(ne,fe-32,se[Se].ea,0,8)),pe.Za){var ie=T,we=D-32+16;for(0<C&&(j>=d.za-1?i(ie,we,se[Se].y[15],4):r(ie,we,se[Se+1].y,0,4)),w=0;4>w;w++)ie[we+128+w]=ie[we+256+w]=ie[we+384+w]=ie[we+0+w];for(w=0;16>w;++w,re<<=2)ie=T,we=D+$v[w],Ti[pe.Ob[w]](ie,we),kc(re,ge,16*+w,ie,we)}else if(ie=_d(j,C,pe.Ob[0]),io[ie](T,D),re!=0)for(w=0;16>w;++w,re<<=2)kc(re,ge,16*+w,T,D+$v[w]);for(w=pe.Gc,ie=_d(j,C,pe.Dd),_s[ie](M,q),_s[ie](ne,fe),re=ge,ie=M,we=q,255&(pe=w>>0)&&(170&pe?Lc(re,256,ie,we):di(re,256,ie,we)),pe=ne,re=fe,255&(w>>=8)&&(170&w?Lc(ge,320,pe,re):di(ge,320,pe,re)),C<d.Ub-1&&(r(se[Se].y,0,T,D+480,16),r(se[Se].f,0,M,q+224,8),r(se[Se].ea,0,ne,fe+224,8)),w=8*L*d.B,se=d.sa,Se=d.ta+16*j+16*L*d.R,ge=d.qa,pe=d.ra+8*j+w,re=d.Ha,ie=d.Ia+8*j+w,w=0;16>w;++w)r(se,Se+w*d.R,T,D+32*w,16);for(w=0;8>w;++w)r(ge,pe+w*d.B,M,q+32*w,8),r(re,ie+w*d.B,ne,fe+32*w,8)}}function qa(d,p,w,j,C,L,T,D,M){var q=[0],ne=[0],fe=0,pe=M!=null?M.kd:0,se=M??new bc;if(d==null||12>w)return 7;se.data=d,se.w=p,se.ha=w,p=[p],w=[w],se.gb=[se.gb];e:{var Se=p,ge=w,re=se.gb;if(t(d!=null),t(ge!=null),t(re!=null),re[0]=0,12<=ge[0]&&!n(d,Se[0],"RIFF")){if(n(d,Se[0]+8,"WEBP")){re=3;break e}var ie=Pe(d,Se[0]+4);if(12>ie||4294967286<ie){re=3;break e}if(pe&&ie>ge[0]-8){re=7;break e}re[0]=ie,Se[0]+=12,ge[0]-=12}re=0}if(re!=0)return re;for(ie=0<se.gb[0],w=w[0];;){e:{var we=d;ge=p,re=w;var je=q,be=ne,Ve=Se=[0];if((Be=fe=[fe])[0]=0,8>re[0])re=7;else{if(!n(we,ge[0],"VP8X")){if(Pe(we,ge[0]+4)!=10){re=3;break e}if(18>re[0]){re=7;break e}var De=Pe(we,ge[0]+8),tt=1+Fe(we,ge[0]+12);if(2147483648<=tt*(we=1+Fe(we,ge[0]+15))){re=3;break e}Ve!=null&&(Ve[0]=De),je!=null&&(je[0]=tt),be!=null&&(be[0]=we),ge[0]+=18,re[0]-=18,Be[0]=1}re=0}}if(fe=fe[0],Se=Se[0],re!=0)return re;if(ge=!!(2&Se),!ie&&fe)return 3;if(L!=null&&(L[0]=!!(16&Se)),T!=null&&(T[0]=ge),D!=null&&(D[0]=0),T=q[0],Se=ne[0],fe&&ge&&M==null){re=0;break}if(4>w){re=7;break}if(ie&&fe||!ie&&!fe&&!n(d,p[0],"ALPH")){w=[w],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{De=d,re=p,ie=w;var Be=se.gb;je=se.na,be=se.P,Ve=se.Sa,tt=22,t(De!=null),t(ie!=null),we=re[0];var Ft=ie[0];for(t(je!=null),t(Ve!=null),je[0]=null,be[0]=null,Ve[0]=0;;){if(re[0]=we,ie[0]=Ft,8>Ft){re=7;break e}var It=Pe(De,we+4);if(4294967286<It){re=3;break e}var Pt=8+It+1&-2;if(tt+=Pt,0<Be&&tt>Be){re=3;break e}if(!n(De,we,"VP8 ")||!n(De,we,"VP8L")){re=0;break e}if(Ft[0]<Pt){re=7;break e}n(De,we,"ALPH")||(je[0]=De,be[0]=we+8,Ve[0]=It),we+=Pt,Ft-=Pt}}if(w=w[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],re!=0)break}w=[w],se.Ja=[se.Ja],se.xa=[se.xa];e:if(Be=d,re=p,ie=w,je=se.gb[0],be=se.Ja,Ve=se.xa,De=re[0],we=!n(Be,De,"VP8 "),tt=!n(Be,De,"VP8L"),t(Be!=null),t(ie!=null),t(be!=null),t(Ve!=null),8>ie[0])re=7;else{if(we||tt){if(Be=Pe(Be,De+4),12<=je&&Be>je-12){re=3;break e}if(pe&&Be>ie[0]-8){re=7;break e}be[0]=Be,re[0]+=8,ie[0]-=8,Ve[0]=tt}else Ve[0]=5<=ie[0]&&Be[De+0]==47&&!(Be[De+4]>>5),be[0]=ie[0];re=0}if(w=w[0],se.Ja=se.Ja[0],se.xa=se.xa[0],p=p[0],re!=0)break;if(4294967286<se.Ja)return 3;if(D==null||ge||(D[0]=se.xa?2:1),T=[T],Se=[Se],se.xa){if(5>w){re=7;break}D=T,pe=Se,ge=L,d==null||5>w?d=0:5<=w&&d[p+0]==47&&!(d[p+4]>>5)?(ie=[0],Be=[0],je=[0],W(be=new N,d,p,w),et(be,ie,Be,je)?(D!=null&&(D[0]=ie[0]),pe!=null&&(pe[0]=Be[0]),ge!=null&&(ge[0]=je[0]),d=1):d=0):d=0}else{if(10>w){re=7;break}D=Se,d==null||10>w||!St(d,p+3,w-3)?d=0:(pe=d[p+0]|d[p+1]<<8|d[p+2]<<16,ge=16383&(d[p+7]<<8|d[p+6]),d=16383&(d[p+9]<<8|d[p+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=se.Ja||!ge||!d?d=0:(T&&(T[0]=ge),D&&(D[0]=d),d=1))}if(!d||(T=T[0],Se=Se[0],fe&&(q[0]!=T||ne[0]!=Se)))return 3;M!=null&&(M[0]=se,M.offset=p-M.w,t(4294967286>p-M.w),t(M.offset==M.ha-w));break}return re==0||re==7&&fe&&M==null?(L!=null&&(L[0]|=se.na!=null&&0<se.na.length),j!=null&&(j[0]=T),C!=null&&(C[0]=Se),0):re}function Cc(d,p,w){var j=p.width,C=p.height,L=0,T=0,D=j,M=C;if(p.Da=d!=null&&0<d.Da,p.Da&&(D=d.cd,M=d.bd,L=d.v,T=d.j,11>w||(L&=-2,T&=-2),0>L||0>T||0>=D||0>=M||L+D>j||T+M>C))return 0;if(p.v=L,p.j=T,p.va=L+D,p.o=T+M,p.U=D,p.T=M,p.da=d!=null&&0<d.da,p.da){if(!st(D,M,w=[d.ib],L=[d.hb]))return 0;p.ib=w[0],p.hb=L[0]}return p.ob=d!=null&&d.ob,p.Kb=d==null||!d.Sd,p.da&&(p.ob=p.ib<3*j/4&&p.hb<3*C/4,p.Kb=0),1}function Ac(d){if(d==null)return 2;if(11>d.S){var p=d.f.RGBA;p.fb+=(d.height-1)*p.A,p.A=-p.A}else p=d.f.kb,d=d.height,p.O+=(d-1)*p.fa,p.fa=-p.fa,p.N+=(d-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(d-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(d-1)*p.lb,p.lb=-p.lb);return 0}function Va(d,p,w,j){if(j==null||0>=d||0>=p)return 2;if(w!=null){if(w.Da){var C=w.cd,L=w.bd,T=-2&w.v,D=-2&w.j;if(0>T||0>D||0>=C||0>=L||T+C>d||D+L>p)return 2;d=C,p=L}if(w.da){if(!st(d,p,C=[w.ib],L=[w.hb]))return 2;d=C[0],p=L[0]}}j.width=d,j.height=p;e:{var M=j.width,q=j.height;if(d=j.S,0>=M||0>=q||!(d>=Ed&&13>d))d=2;else{if(0>=j.Rd&&j.sd==null){T=L=C=p=0;var ne=(D=M*qv[d])*q;if(11>d||(L=(q+1)/2*(p=(M+1)/2),d==12&&(T=(C=M)*q)),(q=s(ne+2*L+T))==null){d=1;break e}j.sd=q,11>d?((M=j.f.RGBA).eb=q,M.fb=0,M.A=D,M.size=ne):((M=j.f.kb).y=q,M.O=0,M.fa=D,M.Fd=ne,M.f=q,M.N=0+ne,M.Ab=p,M.Cd=L,M.ea=q,M.W=0+ne+L,M.Db=p,M.Ed=L,d==12&&(M.F=q,M.J=0+ne+2*L),M.Tc=T,M.lb=C)}if(p=1,C=j.S,L=j.width,T=j.height,C>=Ed&&13>C)if(11>C)d=j.f.RGBA,p&=(D=Math.abs(d.A))*(T-1)+L<=d.size,p&=D>=L*qv[C],p&=d.eb!=null;else{d=j.f.kb,D=(L+1)/2,ne=(T+1)/2,M=Math.abs(d.fa),q=Math.abs(d.Ab);var fe=Math.abs(d.Db),pe=Math.abs(d.lb),se=pe*(T-1)+L;p&=M*(T-1)+L<=d.Fd,p&=q*(ne-1)+D<=d.Cd,p=(p&=fe*(ne-1)+D<=d.Ed)&M>=L&q>=D&fe>=D,p&=d.y!=null,p&=d.f!=null,p&=d.ea!=null,C==12&&(p&=pe>=L,p&=se<=d.Tc,p&=d.F!=null)}else p=0;d=p?0:2}}return d!=0||w!=null&&w.fd&&(d=Ac(j)),d}var Wn=64,Ha=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wa=24,Ga=32,Pc=8,kr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(d){return d},O.Predictor2=function(d,p,w){return p[w+0]},O.Predictor3=function(d,p,w){return p[w+1]},O.Predictor4=function(d,p,w){return p[w-1]},O.Predictor5=function(d,p,w){return Oe(Oe(d,p[w+1]),p[w+0])},O.Predictor6=function(d,p,w){return Oe(d,p[w-1])},O.Predictor7=function(d,p,w){return Oe(d,p[w+0])},O.Predictor8=function(d,p,w){return Oe(p[w-1],p[w+0])},O.Predictor9=function(d,p,w){return Oe(p[w+0],p[w+1])},O.Predictor10=function(d,p,w){return Oe(Oe(d,p[w-1]),Oe(p[w+0],p[w+1]))},O.Predictor11=function(d,p,w){var j=p[w+0];return 0>=Ce(j>>24&255,d>>24&255,(p=p[w-1])>>24&255)+Ce(j>>16&255,d>>16&255,p>>16&255)+Ce(j>>8&255,d>>8&255,p>>8&255)+Ce(255&j,255&d,255&p)?j:d},O.Predictor12=function(d,p,w){var j=p[w+0];return(He((d>>24&255)+(j>>24&255)-((p=p[w-1])>>24&255))<<24|He((d>>16&255)+(j>>16&255)-(p>>16&255))<<16|He((d>>8&255)+(j>>8&255)-(p>>8&255))<<8|He((255&d)+(255&j)-(255&p)))>>>0},O.Predictor13=function(d,p,w){var j=p[w-1];return(rt((d=Oe(d,p[w+0]))>>24&255,j>>24&255)<<24|rt(d>>16&255,j>>16&255)<<16|rt(d>>8&255,j>>8&255)<<8|rt(d>>0&255,j>>0&255))>>>0};var Tp=O.PredictorAdd0;O.PredictorAdd1=ze,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var Ec=O.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var jd,ui=O.ColorIndexInverseTransform,Ka=O.MapARGB,kd=O.VP8LColorIndexInverseTransformAlpha,Nd=O.MapAlpha,eo=O.VP8LPredictorsAdd=[];eo.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Qo,Nr,gr,to,ws,xs,Ja,bs,wn,Lc,vr,di,Ya,Cd,Tc,Zo,ea,no,ta,Xa,na,ro,Fc,hi,fi,Gt,Kt,xn,Tn=s(511),Ss=s(2041),Rc=s(225),Qa=s(767),Ad=0,Fp=Ss,Pd=Rc,Gr=Qa,pi=Tn,Ed=0,Ld=1,Lv=2,Td=3,Fd=4,Rp=5,Tv=6,Ip=7,Op=8,Rd=9,Dp=10,n_=[2,3,7],r_=[3,3,11],Fv=[280,256,256,256,40],i_=[0,1,1,1,0],s_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],o_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],a_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],l_=8,Mp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ic=null,c_=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],u_=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Rv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],d_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],h_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],f_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],p_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],io=[],Ti=[],_s=[],m_=1,Iv=2,so=[],mi=[];ye("UpsampleRgbLinePair",Nt,3),ye("UpsampleBgrLinePair",sn,3),ye("UpsampleRgbaLinePair",Li,4),ye("UpsampleBgraLinePair",Dn,4),ye("UpsampleArgbLinePair",tr,4),ye("UpsampleRgba4444LinePair",Cn,2),ye("UpsampleRgb565LinePair",hn,2);var g_=O.UpsampleRgbLinePair,v_=O.UpsampleBgrLinePair,Ov=O.UpsampleRgbaLinePair,Dv=O.UpsampleBgraLinePair,Mv=O.UpsampleArgbLinePair,Bv=O.UpsampleRgba4444LinePair,y_=O.UpsampleRgb565LinePair,Id=16,Od=1<<Id-1,Oc=-227,Up=482,Uv=6,w_=(256<<Uv)-1,zv=0,x_=s(256),b_=s(256),S_=s(256),__=s(256),j_=s(Up-Oc),k_=s(Up-Oc);es("YuvToRgbRow",Nt,3),es("YuvToBgrRow",sn,3),es("YuvToRgbaRow",Li,4),es("YuvToBgraRow",Dn,4),es("YuvToArgbRow",tr,4),es("YuvToRgba4444Row",Cn,2),es("YuvToRgb565Row",hn,2);var $v=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Dd=[0,2,8],N_=[8,7,6,4,4,2,2,2,1,1,1,1],C_=1;this.WebPDecodeRGBA=function(d,p,w,j,C){var L=Ld,T=new za,D=new Br;T.ba=D,D.S=L,D.width=[D.width],D.height=[D.height];var M=D.width,q=D.height,ne=new oi;if(ne==null||d==null)var fe=2;else t(ne!=null),fe=qa(d,p,w,ne.width,ne.height,ne.Pd,ne.Qd,ne.format,null);if(fe!=0?M=0:(M!=null&&(M[0]=ne.width[0]),q!=null&&(q[0]=ne.height[0]),M=1),M){D.width=D.width[0],D.height=D.height[0],j!=null&&(j[0]=D.width),C!=null&&(C[0]=D.height);e:{if(j=new it,(C=new bc).data=d,C.w=p,C.ha=w,C.kd=1,p=[0],t(C!=null),((d=qa(C.data,C.w,C.ha,null,null,null,p,null,C))==0||d==7)&&p[0]&&(d=4),(p=d)==0){if(t(T!=null),j.data=C.data,j.w=C.w+C.offset,j.ha=C.ha-C.offset,j.put=Ur,j.ac=Nn,j.bc=ai,j.ma=T,C.xa){if((d=On())==null){T=1;break e}if(function(pe,se){var Se=[0],ge=[0],re=[0];t:for(;;){if(pe==null)return 0;if(se==null)return pe.a=2,0;if(pe.l=se,pe.a=0,W(pe.m,se.data,se.w,se.ha),!et(pe.m,Se,ge,re)){pe.a=3;break t}if(pe.xb=Iv,se.width=Se[0],se.height=ge[0],!Hr(Se[0],ge[0],1,pe,null))break t;return 1}return t(pe.a!=0),0}(d,j)){if(j=(p=Va(j.width,j.height,T.Oa,T.ba))==0){t:{j=d;n:for(;;){if(j==null){j=0;break t}if(t(j.s.yc!=null),t(j.s.Ya!=null),t(0<j.s.Wb),t((w=j.l)!=null),t((C=w.ma)!=null),j.xb!=0){if(j.ca=C.ba,j.tb=C.tb,t(j.ca!=null),!Cc(C.Oa,w,Td)){j.a=2;break n}if(!Gs(j,w.width)||w.da)break n;if((w.da||At(j.ca.S))&&de(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&de()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!Qe(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Vr(j,j.V,j.Ba,j.c,j.i,w.o,Ws))break n;C.Dc=j.Ma,j=1;break t}t(j.a!=0),j=0}j=!j}j&&(p=d.a)}else p=d.a}else{if((d=new ke)==null){T=1;break e}if(d.Fa=C.na,d.P=C.P,d.qc=C.Sa,Ee(d,j)){if((p=Va(j.width,j.height,T.Oa,T.ba))==0){if(d.Aa=0,w=T.Oa,t((C=d)!=null),w!=null){if(0<(M=0>(M=w.Md)?0:100<M?255:255*M/100)){for(q=ne=0;4>q;++q)12>(fe=C.pb[q]).lc&&(fe.ia=M*N_[0>fe.lc?0:fe.lc]>>3),ne|=fe.ia;ne&&(alert("todo:VP8InitRandom"),C.ia=1)}C.Ga=w.Id,100<C.Ga?C.Ga=100:0>C.Ga&&(C.Ga=0)}yt(d,j)||(p=d.a)}}else p=d.a}p==0&&T.Oa!=null&&T.Oa.fd&&(p=Ac(T.ba))}T=p}L=T!=0?null:11>L?D.f.RGBA.eb:D.f.kb.y}else L=null;return L};var qv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,K){for(var Y="",R=0;R<4;R++)Y+=String.fromCharCode(O[K++]);return Y}function h(O,K){return(O[K+0]<<0|O[K+1]<<8|O[K+2]<<16)>>>0}function f(O,K){return(O[K+0]<<0|O[K+1]<<8|O[K+2]<<16|O[K+3]<<24)>>>0}new l;var m=[0],g=[0],b=[],_=new l,k=e,y=function(O,K){var Y={},R=0,P=!1,J=0,V=0;if(Y.frames=[],!function(z,$,G,Z){for(var oe=0;oe<Z;oe++)if(z[$+oe]!=G.charCodeAt(oe))return!0;return!1}(O,K,"RIFF",4)){for(f(O,K+=4),K+=8;K<O.length;){var ce=u(O,K),le=f(O,K+=4);K+=4;var ae=le+(1&le);switch(ce){case"VP8 ":case"VP8L":Y.frames[R]===void 0&&(Y.frames[R]={}),(Q=Y.frames[R]).src_off=P?V:K-8,Q.src_size=J+le+8,R++,P&&(P=!1,J=0,V=0);break;case"VP8X":(Q=Y.header={}).feature_flags=O[K];var W=K+4;Q.canvas_width=1+h(O,W),W+=3,Q.canvas_height=1+h(O,W),W+=3;break;case"ALPH":P=!0,J=ae+8,V=K-8;break;case"ANIM":(Q=Y.header).bgcolor=f(O,K),W=K+4,Q.loop_count=(me=O)[(N=W)+0]<<0|me[N+1]<<8,W+=2;break;case"ANMF":var te,Q;(Q=Y.frames[R]={}).offset_x=2*h(O,K),K+=3,Q.offset_y=2*h(O,K),K+=3,Q.width=1+h(O,K),K+=3,Q.height=1+h(O,K),K+=3,Q.duration=h(O,K),K+=3,te=O[K++],Q.dispose=1&te,Q.blend=te>>1&1}ce!="ANMF"&&(K+=ae)}var me,N;return Y}}(k,0);y.response=k,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,S=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,m=[x.canvas_height],g=[x.canvas_width];for(var E=0;E<S.length&&S[E].blend!=0;E++);}var I=S[0],B=_.WebPDecodeRGBA(k,I.src_off,I.src_size,g,m);I.rgba=B,I.imgwidth=g[0],I.imgheight=m[0];for(var U=0;U<g[0]*m[0]*4;U++)b[U]=B[U];return this.width=g,this.height=m,this.data=b,this}(function(e){var t=function(){return typeof Ag=="function"},n=function(m,g,b,_){var k=4,y=o;switch(_){case e.image_compression.FAST:k=1,y=s;break;case e.image_compression.MEDIUM:k=6,y=a;break;case e.image_compression.SLOW:k=9,y=l}m=r(m,g,b,y);var x=Ag(m,{level:k});return e.__addimage__.arrayBufferToBinaryString(x)},r=function(m,g,b,_){for(var k,y,x,S=m.length/g,E=new Uint8Array(m.length+S),I=h(),B=0;B<S;B+=1){if(x=B*g,k=m.subarray(x,x+g),_)E.set(_(k,b,y),x+B);else{for(var U,O=I.length,K=[];U<O;U+=1)K[U]=I[U](k,b,y);var Y=f(K.concat());E.set(K[Y],x+B)}y=k}return E},i=function(m){var g=Array.apply([],m);return g.unshift(0),g},s=function(m,g){var b,_=[],k=m.length;_[0]=1;for(var y=0;y<k;y+=1)b=m[y-g]||0,_[y+1]=m[y]-b+256&255;return _},o=function(m,g,b){var _,k=[],y=m.length;k[0]=2;for(var x=0;x<y;x+=1)_=b&&b[x]||0,k[x+1]=m[x]-_+256&255;return k},a=function(m,g,b){var _,k,y=[],x=m.length;y[0]=3;for(var S=0;S<x;S+=1)_=m[S-g]||0,k=b&&b[S]||0,y[S+1]=m[S]+256-(_+k>>>1)&255;return y},l=function(m,g,b){var _,k,y,x,S=[],E=m.length;S[0]=4;for(var I=0;I<E;I+=1)_=m[I-g]||0,k=b&&b[I]||0,y=b&&b[I-g]||0,x=u(_,k,y),S[I+1]=m[I]-x+256&255;return S},u=function(m,g,b){if(m===g&&g===b)return m;var _=Math.abs(g-b),k=Math.abs(m-b),y=Math.abs(m+g-b-b);return _<=k&&_<=y?m:k<=y?g:b},h=function(){return[i,s,o,a,l]},f=function(m){var g=m.map(function(b){return b.reduce(function(_,k){return _+Math.abs(k)},0)});return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(m,g,b,_){var k,y,x,S,E,I,B,U,O,K,Y,R,P,J,V,ce=this.decode.FLATE_DECODE,le="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(x=new i7(m)).imgData,y=x.bits,k=x.colorSpace,E=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){O=(U=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,Y=new Uint8Array(O*x.colors),K=new Uint8Array(O);var ae,W=x.pixelBitlength-x.bits;for(J=0,V=0;J<O;J++){for(P=U[J],ae=0;ae<W;)Y[V++]=P>>>ae&255,ae+=x.bits;K[J]=P>>>ae&255}}if(x.bits===16){O=(U=new Uint32Array(x.decodePixels().buffer)).length,Y=new Uint8Array(O*(32/x.pixelBitlength)*x.colors),K=new Uint8Array(O*(32/x.pixelBitlength)),R=x.colors>1,J=0,V=0;for(var te=0;J<O;)P=U[J++],Y[V++]=P>>>0&255,R&&(Y[V++]=P>>>16&255,P=U[J++],Y[V++]=P>>>0&255),K[te++]=P>>>16&255;y=8}_!==e.image_compression.NONE&&t()?(m=n(Y,x.width*x.colors,x.colors,_),B=n(K,x.width,1,_)):(m=Y,B=K,ce=void 0)}if(x.colorType===3&&(k=this.color_spaces.INDEXED,I=x.palette,x.transparency.indexed)){var Q=x.transparency.indexed,me=0;for(J=0,O=Q.length;J<O;++J)me+=Q[J];if((me/=255)===O-1&&Q.indexOf(0)!==-1)S=[Q.indexOf(0)];else if(me!==O){for(U=x.decodePixels(),K=new Uint8Array(U.length),J=0,O=U.length;J<O;J++)K[J]=Q[U[J]];B=n(K,x.width,1)}}var N=function(z){var $;switch(z){case e.image_compression.FAST:$=11;break;case e.image_compression.MEDIUM:$=13;break;case e.image_compression.SLOW:$=14;break;default:$=12}return $}(_);return ce===this.decode.FLATE_DECODE&&(le="/Predictor "+N+" "),le+="/Colors "+E+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(B&&this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),{alias:b,data:m,index:g,filter:ce,decodeParameters:le,transparency:S,palette:I,sMask:B,predictor:N,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:k}}}})(nt.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new s7(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},h=new Qm(100).encode(u,100);return e.processJPEG.call(this,h,n,r,i)},e.processGIF87A=e.processGIF89A}(nt.API),Oi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Oi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Ht.log("bit decode error:"+n)}},Oi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Oi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Oi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Oi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,u=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=u}this.pos+=e}},Oi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/t*255|0,h=i*this.width*4+4*s;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=e}},Oi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Oi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Oi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new Oi(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new Qm(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)}}(nt.API),vw.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new vw(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new Qm(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)}}(nt.API),nt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var h=r[u],f=r[u+1],m=r[u+2],g=r[u+3];s[a++]=h,s[a++]=f,s[a++]=m,o[l++]=g}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},nt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ul=nt.API,Sh=ul.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,f=t.doKerning!==!1,m=0,g=e.length,b=0,_=a[0]||l,k=[];for(n=0;n<g;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(m=f&&Dt(u[r])==="object"&&!isNaN(parseInt(u[r][b],10))?u[r][b]/h:0,k.push((a[r]||_)/l+m)),b=r;return k},fw=ul.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return ul.processArabic&&(e=ul.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Sh.apply(this,arguments).reduce(function(s,o){return s+o},0)},pw=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},mw=function(e,t,n){n||(n={});var r,i,s,o,a,l,u,h=[],f=[h],m=n.textIndent||0,g=0,b=0,_=e.split(" "),k=Sh.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?_[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),x=[];_.map(function(E){(E=E.split(/\s*\n/)).length>1?x=x.concat(E.map(function(I,B){return(B&&I.length?`
`:"")+I})):x.push(E[0])}),_=x,l=fw.apply(this,[y,n])}for(s=0,o=_.length;s<o;s++){var S=0;if(r=_[s],l&&r[0]==`
`&&(r=r.substr(1),S=1),m+g+(b=(i=Sh.apply(this,[r,n])).reduce(function(E,I){return E+I},0))>t||S){if(b>t){for(a=pw.apply(this,[r,i,t-(m+g),t]),h.push(a.shift()),h=[a.pop()];a.length;)f.push([a.shift()]);b=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(E,I){return E+I},0)}else h=[r];f.push(h),m=b+l,g=k}else h.push(r),m+=g+b,g=k}return u=l?function(E,I){return(I?y:"")+E.join(" ")}:function(E){return E.join(" ")},f.map(u)},ul.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(mw.apply(this,[r[a],o,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var m,g,b,_,k=["{"];for(var y in f){if(m=f[y],isNaN(parseInt(y,10))?g="'"+y+"'":(y=parseInt(y,10),g=(g=s(y).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof m=="number")m<0?(b=s(m).slice(3),_="-"):(b=s(m).slice(2),_=""),b=_+b.slice(0,-1)+r[b.slice(-1)];else{if(Dt(m)!=="object")throw new Error("Don't know what to do with value type "+Dt(m)+".");b=o(m)}k.push(g+b)}return k.push("}"),k.join("")},a=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,g,b,_,k={},y=1,x=k,S=[],E="",I="",B=f.length-1,U=1;U<B;U+=1)(_=f[U])=="'"?m?(b=m.join(""),m=void 0):m=[]:m?m.push(_):_=="{"?(S.push([x,b]),x={},b=void 0):_=="}"?((g=S.pop())[0][g[1]]=x,b=void 0,x=g[0]):_=="-"?y=-1:b===void 0?n.hasOwnProperty(_)?(E+=n[_],b=parseInt(E,16)*y,y=1,E=""):E+=_:n.hasOwnProperty(_)?(I+=n[_],x[b]=parseInt(I,16)*y,y=1,b=void 0,I=""):I+=_;return k},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var m=f.font,g=h.Unicode[m.postScriptName];g&&(m.metadata.Unicode={},m.metadata.Unicode.widths=g.widths,m.metadata.Unicode.kerning=g.kerning);var b=u.Unicode[m.postScriptName];b&&(m.metadata.Unicode.encoding=b,m.encoding=b.codePages[0])}])}(nt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Nu(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(nt),function(e){function t(){return(lt.canvg?Promise.resolve(lt.canvg):hs(()=>import("./index.es-f2ef06c5.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}nt.API.addSvgAsImage=function(n,r,i,s,o,a,l,u){if(isNaN(r)||isNaN(i))throw Ht.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Ht.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=o;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then(function(b){return b.fromString(f,n,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(m)}).then(function(){g.addImage(h.toDataURL("image/jpeg",1),r,i,s,o,l,u)})}}(),nt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},nt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,h=0,f=0;function m(b,_){var k,y=!1;for(k=0;k<b.length;k+=1)b[k]===_&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=a.length;for(f=0;f<g;f+=1)n[a[f]].value=n[a[f]].defaultValue,n[a[f]].explicitSet=!1}if(Dt(e)==="object"){for(i in e)if(s=e[i],m(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&m(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(h=0;h<s[u].length;h+=1)typeof s[u][h]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,_=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?_.push("/"+b+" /"+n[b].value):_.push("/"+b+" "+n[b].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(nt.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],f=0,m=s.length;f<m;++f){if(a=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(u[4-a.length],a)}return h.join("")},r=function(s){var o,a,l,u,h,f,m;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,m=(a=Object.keys(s).sort(function(g,b){return g-b})).length;f<m;f++)o=a[f],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,h=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",b=0;b<m.length;b++)g+=String.fromCharCode(m[b]);var _=u();h({data:g,addLength1:!0,objectId:_}),l("endobj");var k=u();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ml(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var x=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+ml(a.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+ml(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,h=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,m="",g=0;g<f.length;g++)m+=String.fromCharCode(f[g]);var b=u();h({data:m,addLength1:!0,objectId:b}),l("endobj");var _=u();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var k=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+ml(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+ml(a.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,h=s.options||{},f=s.mutex||{},m=f.pdfEscape,g=f.activeFontKey,b=f.fonts,_=g,k="",y=0,x="",S=b[_].encoding;if(b[_].encoding!=="Identity-H")return{text:a,x:l,y:u,options:h,mutex:f};for(x=a,_=g,Array.isArray(a)&&(x=a[0]),y=0;y<x.length;y+=1)b[_].metadata.hasOwnProperty("cmap")&&(o=b[_].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),o||x[y].charCodeAt(0)<256&&b[_].metadata.hasOwnProperty("Unicode")?k+=x[y]:k+="";var E="";return parseInt(_.slice(1))<14||S==="WinAnsiEncoding"?E=m(k,_).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(E=n(k,b[_])),f.isHex=!0,{text:E,x:l,y:u,options:h,mutex:f}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(nt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(nt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,h,f=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,S=0;this.__bidiEngine__={};var E=function(R){var P=R.charCodeAt(),J=P>>8,V=_[J];return V!==void 0?f[256*V+(255&P)]:J===252||J===253?"AL":y.test(J)?"L":J===8?"R":"N"},I=function(R){for(var P,J=0;J<R.length;J++){if((P=E(R.charAt(J)))==="L")return!1;if(P==="R")return!0}return!1},B=function(R,P,J,V){var ce,le,ae,W,te=P[V];switch(te){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(te="AN");break;case"AL":x=!0,te="R";break;case"WS":te="N";break;case"CS":V<1||V+1>=P.length||(ce=J[V-1])!=="EN"&&ce!=="AN"||(le=P[V+1])!=="EN"&&le!=="AN"?te="N":x&&(le="AN"),te=le===ce?le:"N";break;case"ES":te=(ce=V>0?J[V-1]:"B")==="EN"&&V+1<P.length&&P[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&J[V-1]==="EN"){te="EN";break}if(x){te="N";break}for(ae=V+1,W=P.length;ae<W&&P[ae]==="ET";)ae++;te=ae<W&&P[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(W=P.length,ae=V+1;ae<W&&P[ae]==="NSM";)ae++;if(ae<W){var Q=R[V],me=Q>=1425&&Q<=2303||Q===64286;if(ce=P[ae],me&&(ce==="R"||ce==="AL")){te="R";break}}}te=V<1||(ce=P[V-1])==="B"?"N":J[V-1];break;case"B":x=!1,i=!0,te=S;break;case"S":s=!0,te="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":te="N"}return te},U=function(R,P,J){var V=R.split("");return J&&O(V,J,{hiLevel:S}),V.reverse(),P&&P.reverse(),V.join("")},O=function(R,P,J){var V,ce,le,ae,W,te=-1,Q=R.length,me=0,N=[],z=S?g:m,$=[];for(x=!1,i=!1,s=!1,ce=0;ce<Q;ce++)$[ce]=E(R[ce]);for(le=0;le<Q;le++){if(W=me,N[le]=B(R,$,N,le),V=240&(me=z[W][b[N[le]]]),me&=15,P[le]=ae=z[me][5],V>0)if(V===16){for(ce=te;ce<le;ce++)P[ce]=1;te=-1}else te=-1;if(z[me][6])te===-1&&(te=le);else if(te>-1){for(ce=te;ce<le;ce++)P[ce]=ae;te=-1}$[le]==="B"&&(P[le]=0),J.hiLevel|=ae}s&&function(G,Z,oe){for(var he=0;he<oe;he++)if(G[he]==="S"){Z[he]=S;for(var ue=he-1;ue>=0&&G[ue]==="WS";ue--)Z[ue]=S}}($,P,Q)},K=function(R,P,J,V,ce){if(!(ce.hiLevel<R)){if(R===1&&S===1&&!i)return P.reverse(),void(J&&J.reverse());for(var le,ae,W,te,Q=P.length,me=0;me<Q;){if(V[me]>=R){for(W=me+1;W<Q&&V[W]>=R;)W++;for(te=me,ae=W-1;te<ae;te++,ae--)le=P[te],P[te]=P[ae],P[ae]=le,J&&(le=J[te],J[te]=J[ae],J[ae]=le);me=W}me++}}},Y=function(R,P,J){var V=R.split(""),ce={hiLevel:S};return J||(J=[]),O(V,J,ce),function(le,ae,W){if(W.hiLevel!==0&&h)for(var te,Q=0;Q<le.length;Q++)ae[Q]===1&&(te=k.indexOf(le[Q]))>=0&&(le[Q]=k[te+1])}(V,J,ce),K(2,V,P,J,ce),K(1,V,P,J,ce),V.join("")};return this.__bidiEngine__.doBidiReorder=function(R,P,J){if(function(ce,le){if(le)for(var ae=0;ae<ce.length;ae++)le[ae]=ae;a===void 0&&(a=I(ce)),u===void 0&&(u=I(ce))}(R,P),o||!l||u)if(o&&l&&a^u)S=a?1:0,R=U(R,P,J);else if(!o&&l&&u)S=a?1:0,R=Y(R,P,J),R=U(R,P);else if(!o||a||l||u){if(o&&!l&&a^u)R=U(R,P),a?(S=0,R=Y(R,P,J)):(S=1,R=Y(R,P,J),R=U(R,P));else if(o&&a&&!l&&u)S=1,R=Y(R,P,J),R=U(R,P);else if(!o&&!l&&a^u){var V=h;a?(S=1,R=Y(R,P,J),S=0,h=!1,R=Y(R,P,J),h=V):(S=0,R=Y(R,P,J),R=U(R,P),S=1,h=!1,R=Y(R,P,J),h=V,R=U(R,P))}}else S=0,R=Y(R,P,J);else S=a?1:0,R=Y(R,P,J);return R},this.__bidiEngine__.setOptions=function(R){R&&(o=R.isInputVisual,l=R.isOutputVisual,a=R.isInputRtl,u=R.isOutputRtl,h=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(nt),nt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Bo(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new x7(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new o7(this.contents),this.head=new l7(this),this.name=new f7(this),this.cmap=new j4(this),this.toUnicode={},this.hhea=new c7(this),this.maxp=new p7(this),this.hmtx=new m7(this),this.post=new d7(this),this.os2=new u7(this),this.loca=new w7(this),this.glyf=new g7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Ji,Bo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),o7=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,a,l,u,h,f,m,g,b,_;for(_ in g=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(g)/l),o=Math.floor(f/l),h=16*g-f,(i=new Bo).writeInt(this.scalarType),i.writeShort(g),i.writeShort(f),i.writeShort(o),i.writeShort(h),s=16*g,u=i.pos+s,a=null,b=[],n)for(m=n[_],i.writeString(_),i.writeInt(e(m)),i.writeInt(u),i.writeInt(m.length),b=b.concat(m),_==="head"&&(a=u),u+=m.length;u%4;)b.push(0),u++;return i.write(b),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=k4.call(n);n.length%4;)n.push(0);for(s=new Bo(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),a7={}.hasOwnProperty,ps=function(e,t){for(var n in t)a7.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Ji=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var l7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ji),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Bo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),yw=function(){function e(t,n){var r,i,s,o,a,l,u,h,f,m,g,b,_,k,y,x,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(g=t.readUInt16(),m=g/2,t.pos+=6,s=function(){var E,I;for(I=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)I.push(t.readUInt16());return I}(),t.pos+=2,_=function(){var E,I;for(I=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)I.push(t.readUInt16());return I}(),u=function(){var E,I;for(I=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)I.push(t.readUInt16());return I}(),h=function(){var E,I;for(I=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)I.push(t.readUInt16());return I}(),i=(this.length-t.pos+this.offset)/2,a=function(){var E,I;for(I=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)I.push(t.readUInt16());return I}(),l=y=0,S=s.length;y<S;l=++y)for(k=s[l],r=x=b=_[l];b<=k?x<=k:x>=k;r=b<=k?++x:--x)h[l]===0?o=r+u[l]:(o=a[h[l]/2+(r-b)-(m-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}t.pos=f}return e.encode=function(t,n){var r,i,s,o,a,l,u,h,f,m,g,b,_,k,y,x,S,E,I,B,U,O,K,Y,R,P,J,V,ce,le,ae,W,te,Q,me,N,z,$,G,Z,oe,he,ue,xe,_e,Fe;switch(V=new Bo,o=Object.keys(t).sort(function(Pe,Qe){return Pe-Qe}),n){case"macroman":for(_=0,k=function(){var Pe=[];for(b=0;b<256;++b)Pe.push(0);return Pe}(),x={0:0},s={},ce=0,te=o.length;ce<te;ce++)x[ue=t[i=o[ce]]]==null&&(x[ue]=++_),s[i]={old:t[i],new:x[t[i]]},k[i]=x[t[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(k),{charMap:s,subtable:V.data,maxGlyphID:_+1};case"unicode":for(P=[],f=[],S=0,x={},r={},y=u=null,le=0,Q=o.length;le<Q;le++)x[I=t[i=o[le]]]==null&&(x[I]=++S),r[i]={old:I,new:x[I]},a=x[I]-i,y!=null&&a===u||(y&&f.push(y),P.push(i),u=a),y=i;for(y&&f.push(y),f.push(65535),P.push(65535),Y=2*(K=P.length),O=2*Math.pow(Math.log(K)/Math.LN2,2),m=Math.log(O/2)/Math.LN2,U=2*K-O,l=[],B=[],g=[],b=ae=0,me=P.length;ae<me;b=++ae){if(R=P[b],h=f[b],R===65535){l.push(0),B.push(0);break}if(R-(J=r[R].new)>=32768)for(l.push(0),B.push(2*(g.length+K-b)),i=W=R;R<=h?W<=h:W>=h;i=R<=h?++W:--W)g.push(r[i].new);else l.push(J-R),B.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*K+2*g.length),V.writeUInt16(0),V.writeUInt16(Y),V.writeUInt16(O),V.writeUInt16(m),V.writeUInt16(U),oe=0,N=f.length;oe<N;oe++)i=f[oe],V.writeUInt16(i);for(V.writeUInt16(0),he=0,z=P.length;he<z;he++)i=P[he],V.writeUInt16(i);for(xe=0,$=l.length;xe<$;xe++)a=l[xe],V.writeUInt16(a);for(_e=0,G=B.length;_e<G;_e++)E=B[_e],V.writeUInt16(E);for(Fe=0,Z=g.length;Fe<Z;Fe++)_=g[Fe],V.writeUInt16(_);return{charMap:r,subtable:V.data,maxGlyphID:S+1}}},e}(),j4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ji),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new yw(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=yw.encode(n,r),(s=new Bo).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),c7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ji),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),u7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ji),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),d7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ji),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,u;for(u=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)u.push(n.readUInt32());return u}).call(this)}},t}(),h7=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},f7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ji),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,o,a,l,u,h,f,m,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=f=0,m=i.length;f<m;o=++f)s=i[o],n.pos=s.offset,h=n.readString(s.length),a=new h7(h,s),u[g=s.nameID]==null&&(u[g]=[]),u[s.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),p7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ji),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),m7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ji),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,o,a,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],r=h=0;0<=s?h<s:h>s;r=0<=s?++h:--h)f.push(n.readInt16());return f}(),this.widths=(function(){var h,f,m,g;for(g=[],h=0,f=(m=this.metrics).length;h<f;h++)o=m[h],g.push(o.advance);return g}).call(this),i=this.widths[this.widths.length-1],u=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)u.push(this.widths.push(i));return u},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),k4=[].slice,g7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ji),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,o,a,l,u,h,f,m;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Bo(r.read(s))).readShort(),h=l.readShort(),m=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[n]=a===-1?new y7(l,h,m,u,f):new v7(l,a,h,m,u,f),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,o,a,l,u;for(a=[],o=[],l=0,u=r.length;l<u;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},t}(),v7=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),y7=function(){function e(t,n,r,i,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Bo(k4.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),w7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ps(t,Ji),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],u=this.offsets[a+1]-l;u>0&&(s+=u)}for(var h=new Array(4*i.length),f=0;f<i.length;++f)h[4*f+3]=255&i[f],h[4*f+2]=(65280&i[f])>>8,h[4*f+1]=(16711680&i[f])>>16,h[4*f]=(4278190080&i[f])>>24;return h},t}(),x7=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,a,l,u,h,f,m,g,b,_,k,y;for(i in r=j4.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),g={0:0},y=r.charMap)g[(l=y[i]).old]=l.new;for(b in m=r.maxGlyphID,o)b in g||(g[b]=m++);return h=function(x){var S,E;for(S in E={},x)E[x[S]]=S;return E}(g),f=Object.keys(h).sort(function(x,S){return x-S}),_=function(){var x,S,E;for(E=[],x=0,S=f.length;x<S;x++)a=f[x],E.push(h[a]);return E}(),s=this.font.glyf.encode(o,_,g),u=this.font.loca.encode(s.offsets,_),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},e}();nt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(t.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();async function b7(e,t){try{const n={id:e,prenom:t.firstName,nom:t.lastName},{data:r,error:i}=await vt.from("profiles").upsert(n,{onConflict:"id",returning:"representation"}).select().single();if(i)throw new Error(`Erreur mise  jour profil: ${i.message}`);return r}catch(n){throw n}}async function S7(e){var t,n,r,i;try{const{data:s,error:o}=await vt.from("profiles").select("prenom, nom").eq("id",e.id).single(),a={id:e.id,email:e.email,prenom:(s==null?void 0:s.prenom)||((t=e.user_metadata)==null?void 0:t.firstName)||((n=e.user_metadata)==null?void 0:n.prenom)||null,nom:(s==null?void 0:s.nom)||((r=e.user_metadata)==null?void 0:r.lastName)||((i=e.user_metadata)==null?void 0:i.nom)||null,last_login:new Date().toISOString()},{data:l,error:u}=await vt.from("profiles").upsert(a,{onConflict:"id",returning:"representation"}).select().single();if(u)throw new Error(`Erreur sync profil: ${u.message}`);return l}catch(s){throw s}}function Nv(){const[e,t]=F.useState(null),[n,r]=F.useState(!0);return F.useEffect(()=>{const i=async()=>{try{const{data:{session:o}}=await vt.auth.getSession();if(!(o!=null&&o.user)){t(null),r(!1);return}try{await S7(o.user)}catch{}const a=o.user.email.split("@")[0],l={id:o.user.id,email:o.user.email,firstName:a,lastName:"",name:a},{data:u,error:h}=await vt.from("profiles").select("*").eq("id",o.user.id).single();if(u){const f={...l,firstName:u.prenom||l.firstName,lastName:u.nom||"",name:`${u.prenom||l.firstName} ${u.nom||""}`.trim(),profile:u};t(f)}else t(l)}catch{t(null)}finally{r(!1)}};i();const{data:{subscription:s}}=vt.auth.onAuthStateChange(async(o,a)=>{o==="SIGNED_IN"?i():o==="SIGNED_OUT"&&(t(null),r(!1))});return()=>s==null?void 0:s.unsubscribe()},[]),{user:e,loading:n}}function ww(e){return e.includes("security purposes")&&e.includes("request this")||e.includes("only request this after")?"Pour des raisons de scurit, vous ne pouvez faire cette demande que toutes les 60 secondes.":e.includes("Invalid email")?"Adresse email invalide.":e.includes("User not found")?"Aucun compte trouv avec cette adresse email.":e.includes("Too many requests")?"Trop de tentatives. Veuillez ressayer dans quelques minutes.":e}async function _7({email:e}){try{const{error:t}=await vt.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return t?{error:{message:ww(t.message)}}:{data:{message:"Email de rinitialisation envoy avec succs"}}}catch(t){return{error:{message:"Erreur lors de l'envoi de l'email de rinitialisation: "+ww(t.message)}}}}const Kh=(e,t=null)=>{if(!e||!e.trim())return;const n=t?`email_history_${t}`:"email_history_guest",r=localStorage.getItem(n);let i=[];if(r)try{i=JSON.parse(r)}catch{}const s=[e,...i.filter(o=>o!==e)].slice(0,5);localStorage.setItem(n,JSON.stringify(s))},j7=e=>{const[t,n]=F.useState([]),[r,i]=F.useState(!1),[s,o]=F.useState([]);return F.useEffect(()=>{const h=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",f=localStorage.getItem(h);if(f)try{const m=JSON.parse(f);n(m)}catch{}},[e]),{showSuggestions:r,filteredEmails:s,saveEmail:h=>{if(!h||!h.trim())return;const f=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",m=[h,...t.filter(g=>g!==h)].slice(0,5);n(m),localStorage.setItem(f,JSON.stringify(m))},removeEmail:h=>{const f=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",m=t.filter(g=>g!==h);n(m),localStorage.setItem(f,JSON.stringify(m)),o(g=>g.filter(b=>b!==h))},filterEmails:h=>{if(!h||h.length<1){o([]),i(!1);return}const f=t.filter(m=>m.toLowerCase().startsWith(h.toLowerCase()));o(f),i(f.length>0)},hideSuggestions:()=>i(!1)}},Rl=({value:e,onChange:t,placeholder:n,required:r,disabled:i,user:s,onEmailSubmit:o})=>{const{showSuggestions:a,filteredEmails:l,saveEmail:u,removeEmail:h,filterEmails:f,hideSuggestions:m}=j7(s),[g,b]=F.useState(e||""),[_,k]=F.useState(-1),y=F.useRef(null),x=F.useRef(null);F.useEffect(()=>{b(e||"")},[e]),F.useEffect(()=>{const B=U=>{x.current&&!x.current.contains(U.target)&&(m(),k(-1))};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[m]);const S=B=>{const U=B.target.value;b(U),t(B),f(U),k(-1)},E=B=>{var U;b(B),t({target:{value:B}}),m(),k(-1),(U=y.current)==null||U.focus()},I=B=>{if(!a||l.length===0){B.key==="Enter"&&o&&(u(g),o());return}switch(B.key){case"ArrowDown":B.preventDefault(),k(U=>U<l.length-1?U+1:U);break;case"ArrowUp":B.preventDefault(),k(U=>U>0?U-1:-1);break;case"Enter":B.preventDefault(),_>=0&&_<l.length?E(l[_]):o&&(u(g),o());break;case"Escape":m(),k(-1);break}};return c.jsxs("div",{className:"email-input-container",ref:x,children:[c.jsx("input",{ref:y,type:"email",value:g,onChange:S,onKeyDown:I,placeholder:n,required:r,disabled:i,autoComplete:"off"}),a&&l.length>0&&c.jsx("div",{className:"email-suggestions google-style",children:l.map((B,U)=>c.jsxs("div",{className:`email-suggestion-item ${U===_?"selected":""}`,onMouseEnter:()=>k(U),children:[c.jsx("div",{className:"email-suggestion-content",onClick:()=>E(B),children:B}),c.jsx("button",{type:"button",className:"email-suggestion-remove",onClick:O=>{O.stopPropagation(),h(B)},onMouseEnter:O=>O.stopPropagation(),title:"Supprimer cet email",children:""})]},U))})]})},k7=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,onOpenSubscription:s})=>{var Ie,Me,Oe,He,rt;const[o,a]=F.useState(!1),[l,u]=F.useState(!1),[h,f]=F.useState(!1),[m,g]=F.useState(!1),[b,_]=F.useState(""),[k,y]=F.useState(""),[x,S]=F.useState(""),[E,I]=F.useState(""),[B,U]=F.useState(""),[O,K]=F.useState(!1),{user:Y,loading:R}=Nv(),P=!!Y&&!R,J=F.useRef(null),[V,ce]=F.useState(""),[le,ae]=F.useState(""),[W,te]=F.useState("");F.useState(!1),F.useState("");const[Q,me]=F.useState(!1),[N,z]=F.useState(!1),[$,G]=F.useState(""),[Z,oe]=F.useState(!1),[he,ue]=F.useState(!1),[xe,_e]=F.useState(!1),[Fe,Pe]=F.useState(!1);F.useEffect(()=>{(async()=>{if(!Y||!Y.id){ue(!1);return}try{const{data:ze,error:at}=await vt.from("profiles").select("role").eq("id",Y.id).single();if(at){ue(!1);return}const Ct=(ze==null?void 0:ze.role)==="admin"||(ze==null?void 0:ze.role)==="super_admin";ue(Ct)}catch{ue(!1)}})()},[Y]);const Qe=()=>he,ve=async Ce=>{Ce.preventDefault(),U(""),K(!0);try{const{data:ze,error:at}=await vt.auth.signInWithPassword({email:b.trim(),password:k.trim()});if(at){U(at.message==="Invalid login credentials"?"Email ou mot de passe incorrect":at.message);return}ze!=null&&ze.user&&(Kh(b.trim()),u(!1),a(!1),_(""),y(""),t&&t(ze.user))}catch{U("Erreur de connexion. Vrifiez vos identifiants.")}finally{K(!1)}},X=async Ce=>{Ce.preventDefault(),U(""),K(!0);try{const{data:ze,error:at}=await vt.auth.signUp({email:b.trim(),password:k.trim(),options:{data:{firstName:x.trim(),lastName:E.trim(),name:`${x.trim()} ${E.trim()}`}}});if(at){U(at.message==="User already registered"?"Un compte existe dj avec cet email":at.message);return}ze!=null&&ze.user&&(Kh(b.trim()),ze.session?(f(!1),a(!1),_(""),y(""),S(""),I(""),r&&r(ze.user)):U("Un email de confirmation a t envoy. Vrifiez votre bote mail."))}catch{U("Erreur d'inscription. Ressayez plus tard.")}finally{K(!1)}},st=async()=>{try{const{error:Ce}=await vt.auth.signOut();if(Ce){U("Erreur lors de la dconnexion");return}a(!1),g(!1),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userFirstName"),localStorage.removeItem("userLastName"),localStorage.removeItem("friday_supabase_user"),n&&n(),window.location.reload()}catch{U("Erreur lors de la dconnexion")}},We=async Ce=>{Ce.preventDefault(),U(""),oe(!0),U(""),Kh($.trim());try{const{data:ze,error:at}=await _7({email:$.trim()});if(at){oe(!1),U(at.message||"Erreur lors de l'envoi de l'email");return}}catch{oe(!1),U("Erreur lors de l'envoi de l'email de rinitialisation")}},Ne=async()=>{if(!(!Y||!Y.id))try{const{data:Ce,error:ze}=await vt.from("profiles").select("*").eq("id",Y.id).single();!ze&&Ce&&(te(Ce.email||Y.email||""),ce(Ce.prenom||""),ae(Ce.nom||""))}catch{}};return F.useEffect(()=>{var Ce,ze;Y&&(te(Y.email||""),ce(Y.firstName||((Ce=Y.user_metadata)==null?void 0:Ce.firstName)||""),ae(Y.lastName||((ze=Y.user_metadata)==null?void 0:ze.lastName)||""))},[Y]),F.useEffect(()=>{const Ce=ze=>{J.current&&!J.current.contains(ze.target)&&(a(!1),u(!1),f(!1),g(!1),z(!1),U(""))};return document.addEventListener("mousedown",Ce),()=>{document.removeEventListener("mousedown",Ce)}},[]),R?c.jsx("div",{className:"user-account",ref:J,children:c.jsx("div",{className:"user-avatar",children:c.jsx("span",{children:""})})}):c.jsx("div",{className:"user-account",ref:J,children:P?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-avatar",onClick:()=>a(!o),children:c.jsx("span",{className:"user-initial",children:((Me=(Ie=Y==null?void 0:Y.firstName)==null?void 0:Ie.charAt(0))==null?void 0:Me.toUpperCase())||((He=(Oe=Y==null?void 0:Y.email)==null?void 0:Oe.charAt(0))==null?void 0:He.toUpperCase())||""})}),c.jsx(Si,{children:o&&c.jsxs(Re.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[c.jsxs("div",{className:"user-info",children:[c.jsx("div",{className:"user-name",children:(Y==null?void 0:Y.firstName)||(Y==null?void 0:Y.name)||((rt=Y==null?void 0:Y.email)==null?void 0:rt.split("@")[0])}),c.jsx("div",{className:"user-email",children:Y==null?void 0:Y.email})]}),c.jsxs("div",{className:"dropdown-actions",children:[Qe()&&c.jsx("button",{onClick:()=>{window.open("/ilmysv6iepwepoa4tj2k?auth=auto","_blank")},children:" Administration"}),c.jsx("button",{onClick:()=>{a(!1),g(!0)},children:"Mon profil"}),c.jsx("button",{onClick:()=>{a(!1),i&&i()},children:"Mon historique"}),c.jsx("button",{onClick:()=>{a(!1),s&&s()},children:"Mon abonnement"}),c.jsx("button",{onClick:st,className:"logout-button",children:"Se dconnecter"})]})]})}),c.jsx(Si,{children:m&&c.jsx(Re.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>g(!1),children:c.jsxs(Re.div,{className:"auth-form profile-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Ce=>Ce.stopPropagation(),children:[c.jsx("h3",{children:"Mon profil"}),c.jsxs("form",{onSubmit:async Ce=>{Ce.preventDefault(),U("");try{await b7(Y.id,{firstName:V.trim(),lastName:le.trim()}),await Ne(),me(!0),setTimeout(()=>me(!1),3e3)}catch(ze){console.error("Erreur mise  jour profil:",ze),U("Erreur lors de la mise  jour du profil")}},children:[c.jsx(Rl,{value:W,onChange:Ce=>te(Ce.target.value),placeholder:"Email",disabled:!0,user:Y,onEmailSubmit:()=>{}}),c.jsx("input",{type:"text",placeholder:"Prnom",value:V,onChange:Ce=>ce(Ce.target.value)}),c.jsx("input",{type:"text",placeholder:"Nom",value:le,onChange:Ce=>ae(Ce.target.value)}),B&&c.jsx("div",{className:"error-message",children:B}),Q&&c.jsx("div",{className:"success-message",children:"Profil mis  jour avec succs !"}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>g(!1),children:"Fermer"}),c.jsx("button",{type:"submit",children:"Mettre  jour"})]})]})]})})})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-avatar",onClick:()=>a(!o),children:c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),c.jsx("path",{d:"M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),c.jsx(Si,{children:o&&c.jsx(Re.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:c.jsxs("div",{className:"dropdown-actions",children:[c.jsx("button",{onClick:()=>{a(!1),u(!0),U("")},children:"Se connecter"}),c.jsx("button",{onClick:()=>{a(!1),f(!0),U("")},children:"Crer un compte"})]})})}),c.jsxs(Si,{children:[l&&c.jsx(Re.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>u(!1),children:c.jsxs(Re.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Ce=>Ce.stopPropagation(),children:[c.jsx("h3",{children:"Connexion"}),c.jsxs("form",{onSubmit:ve,children:[c.jsx(Rl,{value:b,onChange:Ce=>_(Ce.target.value),placeholder:"Email",required:!0,disabled:O,user:null,onEmailSubmit:()=>{}}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:xe?"text":"password",placeholder:"Mot de passe",value:k,onChange:Ce=>y(Ce.target.value),required:!0,disabled:O,className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>_e(!xe),disabled:O,"aria-label":xe?"Masquer le mot de passe":"Afficher le mot de passe",children:xe?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),B&&c.jsx("div",{className:"error-message",children:B}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{u(!1),f(!0),U("")},disabled:O,children:"Crer un compte"}),c.jsx("button",{type:"submit",disabled:O,children:O?"Connexion...":"Se connecter"})]}),c.jsx("button",{type:"button",className:"forgot-password-link",onClick:()=>{u(!1),z(!0),U("")},disabled:O,children:"Mot de passe oubli ?"})]})]})}),h&&c.jsx(Re.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>f(!1),children:c.jsxs(Re.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Ce=>Ce.stopPropagation(),children:[c.jsx("h3",{children:"Crer un compte"}),c.jsxs("form",{onSubmit:X,children:[c.jsx("input",{type:"text",placeholder:"Prnom",value:x,onChange:Ce=>S(Ce.target.value),required:!0,disabled:O}),c.jsx("input",{type:"text",placeholder:"Nom",value:E,onChange:Ce=>I(Ce.target.value),required:!0,disabled:O}),c.jsx(Rl,{value:b,onChange:Ce=>_(Ce.target.value),placeholder:"Email",required:!0,disabled:O,user:null,onEmailSubmit:()=>{}}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:Fe?"text":"password",placeholder:"Mot de passe (min 6 caractres)",value:k,onChange:Ce=>y(Ce.target.value),required:!0,minLength:6,disabled:O,className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>Pe(!Fe),disabled:O,"aria-label":Fe?"Masquer le mot de passe":"Afficher le mot de passe",children:Fe?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),B&&c.jsx("div",{className:"error-message",children:B}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{f(!1),u(!0),U("")},disabled:O,children:"Dj un compte ?"}),c.jsx("button",{type:"submit",disabled:O,children:O?"Cration...":"Crer le compte"})]})]})]})}),N&&c.jsx(Re.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>z(!1),children:c.jsxs(Re.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Ce=>Ce.stopPropagation(),children:[c.jsx("h3",{children:"Rinitialiser le mot de passe"}),Z?c.jsxs("div",{className:"success-message",children:[c.jsxs("p",{children:["Un email de rinitialisation a t envoy  ",$]}),c.jsx("button",{onClick:()=>{z(!1),u(!0),oe(!1),G("")},children:"Retour  la connexion"})]}):c.jsxs("form",{onSubmit:We,children:[c.jsx(Rl,{value:$,onChange:Ce=>G(Ce.target.value),placeholder:"Votre email",required:!0,user:null,onEmailSubmit:()=>{}}),B&&c.jsx("div",{className:"error-message",children:B}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:()=>{z(!1),u(!0),U("")},children:"Retour  la connexion"}),c.jsx("button",{type:"submit",children:"Envoyer le lien"})]})]})]})})]})]})})},N7=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,userId:s,onOpenSubscription:o,refreshBonusTrigger:a})=>{const[l,u]=F.useState(!1);return F.useEffect(()=>{(async()=>{if(e&&s)try{const{data:f,error:m}=await vt.from("creations").select("id").eq("user_id",s).limit(1);if(m){console.error("Erreur vrification crations:",m),u(!1);return}const g=f&&f.length>0;u(!g)}catch(f){console.error("Erreur vrification bonus bienvenue:",f),u(!1)}else u(!0)})()},[e,s,a]),c.jsxs("header",{className:"header",children:[c.jsxs("div",{className:"header-content",children:[c.jsx(Re.div,{className:"logo",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:c.jsx("h1",{children:"HERBBIE"})}),c.jsx(Re.h2,{className:"tagline",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:"Offrez  vos enfants des crations ludiques et imaginatives personnalises !"}),l&&c.jsxs(Re.p,{className:"welcome-bonus-message",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:["Crez un compte !",c.jsx("br",{})," Un coloriage ou une histoire gratuit aprs inscription !"]}),c.jsx(Re.p,{className:"animation-coming-soon",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:"La cration de dessins anims sera bientt disponible."})]}),c.jsx("div",{className:"user-account-container",children:c.jsx(k7,{isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,onOpenSubscription:o})})]})};const C7="/api/features";let Ff=null,Cv=0;const A7=3e3,P7={animation:{enabled:!0,name:"Dessin anim",icon:"",description:"Gnration de dessins anims personnaliss avec IA"},comic:{enabled:!0,name:"Bande dessine",icon:"",description:"Cration de bandes dessines avec bulles de dialogue"},coloring:{enabled:!0,name:"Coloriage",icon:"",description:"Pages de coloriage  imprimer pour les enfants"},histoire:{enabled:!0,name:"Histoire",icon:"",description:"Histoires avec possibilit d'ajouter une narration audio"},rhyme:{enabled:!0,name:"Comptine",icon:"",description:"Comptines musicales avec paroles et mlodies"}},E7=e=>JSON.parse(JSON.stringify(e||{})),N4=(e={})=>{const n={...E7(e)};if(n.audio){const s=n.audio;n.histoire?n.histoire={enabled:n.histoire.enabled??s.enabled??!0,name:n.histoire.name||s.name||"Histoire",icon:n.histoire.icon||s.icon||"",description:n.histoire.description||s.description||"Histoires avec possibilit d'ajouter une narration audio",updated_at:n.histoire.updated_at||s.updated_at}:n.histoire=s,delete n.audio}n.histoire&&(n.histoire={enabled:n.histoire.enabled??!0,name:n.histoire.name||"Histoire",icon:n.histoire.icon||"",description:n.histoire.description||"Histoires avec possibilit d'ajouter une narration audio",updated_at:n.histoire.updated_at});const r=["animation","comic","coloring","histoire","rhyme"],i={};return r.forEach(s=>{n[s]&&(i[s]=n[s])}),Object.keys(n).forEach(s=>{i[s]||(i[s]=n[s])}),i},C4=async()=>{try{const e=await fetch(C7,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json(),n=N4(t);return Ff=n,Cv=Date.now(),n}else throw console.error("Erreur API lors du chargement des fonctionnalits:",e.status),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors du chargement depuis l'API:",e),e}},L7=async()=>{try{const e=Date.now();return Ff&&e-Cv<A7?Ff:await C4()}catch(e){return console.error("Erreur lors de la rcupration des fonctionnalits:",e),N4(P7)}},T7=async()=>{try{const e=await L7();return Object.entries(e).filter(([t,n])=>n.enabled).reduce((t,[n,r])=>(t[n]=r,t),{})}catch(e){return console.warn("Erreur lors de la rcupration des fonctionnalits actives:",e),{}}},F7=()=>{Ff=null,Cv=0},R7=e=>{let t=null;const n=async()=>{try{F7();const i=await C4();JSON.stringify(i)!==JSON.stringify(t)&&e&&typeof e=="function"&&(t=i,e(i))}catch(i){console.error("Erreur lors de la vrification des changements:",i)}},r=setInterval(n,5e3);return n(),()=>{clearInterval(r)}},I7=({contentType:e,setContentType:t})=>{const[n,r]=F.useState({}),[i,s]=F.useState(!0),o=F.useRef(null);F.useEffect(()=>(a(),R7(async f=>{var _,k;const m=Object.entries(f).filter(([y,x])=>x.enabled).reduce((y,[x,S])=>(y[x]=S,y),{});r(m);const g=!!((_=f.animation)!=null&&_.enabled),b=!!m[e];if(g){if(o.current===!1&&e!=="animation")t("animation");else if(!b){const y=Object.keys(m).find(x=>m[x].enabled);y&&t(y==="audio"?"histoire":y)}}else if(e==="animation"||!b){const x=(k=f.comic)!=null&&k.enabled?"comic":Object.keys(m).find(S=>m[S].enabled);if(x){const S=x==="audio"?"histoire":x;e!==S&&t(S)}}o.current=g})),[e,t]);const a=async()=>{var h,f;try{s(!0);const m=await T7();e==="audio"&&t("histoire"),r(m);const g=!!((h=m.animation)!=null&&h.enabled),b=!!m[e];if(g)o.current===!1&&e!=="animation"&&t("animation");else if(e==="animation"||!b){const k=(f=m.comic)!=null&&f.enabled?"comic":Object.keys(m).find(y=>m[y].enabled);if(k){const y=k==="audio"?"histoire":k;e!==y&&t(y)}}if(o.current=g,Object.keys(m).length>0&&!b){const[_]=Object.keys(m);_&&t(_==="audio"?"histoire":_)}}catch(m){console.error("Erreur lors du chargement des fonctionnalits:",m)}finally{s(!1)}},l=h=>{t(h)},u=Object.keys(n).length>0;return i?c.jsxs("div",{className:"content-type-selector",children:[c.jsx("h3",{children:"1. Choisissez le type de contenu"}),c.jsx("div",{className:"loading-message",children:c.jsx("p",{children:"Chargement des fonctionnalits..."})})]}):c.jsxs("div",{className:"content-type-selector",children:[c.jsx("h3",{children:"1. Choisissez le type de contenu"}),u?c.jsxs("div",{className:"content-type-options",children:[n.animation&&c.jsxs(Re.div,{className:`content-type-option animation-full-width ${e==="animation"?"selected":""}`,onClick:()=>l("animation"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Dessin anim"}),c.jsx("p",{children:"Crez un vritable dessin anim fluide et cohrent avec l'IA"})]})]}),n.comic&&c.jsxs(Re.div,{className:`content-type-option ${e==="comic"?"selected":""}`,onClick:()=>l("comic"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Bande dessine"}),c.jsx("p",{children:"Crez une vraie BD avec histoire cohrente et bulles de dialogue"})]})]}),n.coloring&&c.jsxs(Re.div,{className:`content-type-option ${e==="coloring"?"selected":""}`,onClick:()=>l("coloring"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Coloriage"}),c.jsx("p",{children:"Crez des dessins  colorier personnaliss en noir et blanc"})]})]}),(n.histoire||n.audio)&&c.jsxs(Re.div,{className:`content-type-option ${e==="histoire"?"selected":""}`,onClick:()=>l("histoire"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Histoire"}),c.jsx("p",{children:"Crez une histoire avec possibilit d'ajouter une narration audio"})]})]}),n.rhyme&&c.jsxs(Re.div,{className:`content-type-option ${e==="rhyme"?"selected":""}`,onClick:()=>l("rhyme"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[c.jsx("div",{className:"content-type-icon",children:""}),c.jsxs("div",{className:"content-type-details",children:[c.jsx("h4",{children:"Comptine"}),c.jsx("p",{children:"Crez une comptine musicale avec paroles et mlodie"})]})]})]}):c.jsx("div",{className:"no-features-message",children:c.jsx("p",{children:"Aucune fonctionnalit n'est actuellement disponible."})})]})};const O7=[{id:"lullaby",title:"Berceuse douce",description:"Mlodie apaisante pour s'endormir",emoji:"",musicStyle:"gentle lullaby"},{id:"animal",title:"Comptine animalire",description:"Animaux et leurs sons en musique",emoji:"",musicStyle:"playful with animal sounds"},{id:"counting",title:"Comptine  compter",description:"Apprendre les chiffres en chanson",emoji:"",musicStyle:"upbeat educational"},{id:"colors",title:"Comptine des couleurs",description:"Dcouvrir les couleurs en musique",emoji:"",musicStyle:"cheerful and colorful"},{id:"alphabet",title:"Comptine de l'alphabet",description:"Apprendre les lettres en chantant",emoji:"",musicStyle:"educational and catchy"},{id:"family",title:"Comptine familiale",description:"Chanson sur la famille et l'amour",emoji:"",musicStyle:"warm and loving"},{id:"nature",title:"Comptine de la nature",description:"Explorer plantes, arbres et fleurs",emoji:"",musicStyle:"peaceful and natural"},{id:"seasonal",title:"Comptine saisonnire",description:"Clbrer saisons et merveilles",emoji:"",musicStyle:"festive and warm"},{id:"movement",title:"Comptine de mouvement",description:"Bouger, sauter et danser",emoji:"",musicStyle:"energetic dance rhythm"},{id:"emotions",title:"Comptine des motions",description:"Comprendre et exprimer sentiments",emoji:"",musicStyle:"expressive and gentle"},{id:"shapes",title:"Comptine des formes",description:"Apprendre les formes gomtriques",emoji:"",musicStyle:"playful educational"}],D7=({selectedRhyme:e,setSelectedRhyme:t,customRhyme:n,setCustomRhyme:r})=>{const i=s=>{t(e===s?"":s)};return c.jsxs("div",{className:"musical-rhyme-selector",children:[c.jsx("h3",{children:"2. Choisissez un type de comptine"}),c.jsxs("div",{className:"rhyme-grid",children:[c.jsxs("div",{className:"rhyme-slot",children:[c.jsxs(Re.div,{className:`rhyme-card custom-rhyme ${e==="custom"?"selected":""}`,onClick:()=>i("custom"),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"rhyme-emoji",children:""}),c.jsx("h4",{children:"Personnalis"}),c.jsx("p",{children:"Comptine avec prnom ou thme perso"})]}),e==="custom"&&c.jsx(Re.div,{className:"custom-rhyme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{id:"customRhyme",value:n,onChange:s=>r(s.target.value),placeholder:"Dcrivez votre type de comptine personnalise...",className:"custom-textarea"})})]}),O7.map(s=>c.jsx("div",{className:"rhyme-slot",children:c.jsxs(Re.div,{className:`rhyme-card ${e===s.id?"selected":""}`,onClick:()=>i(s.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"rhyme-emoji",children:s.emoji}),c.jsx("h4",{children:s.title}),c.jsx("p",{children:s.description})]})},s.id))]})]})};const M7=[{id:"magic",title:"Monde magique",description:"Fes, sorciers, cratures enchantes",emoji:""},{id:"dinosaurs",title:"Temps des dinosaures",description:"Dinosaures gentils, voyages dans le temps",emoji:""},{id:"space",title:"Voyage spatial",description:"Plantes, fuses, aliens sympathiques",emoji:""},{id:"adventure",title:"Aventure fantastique",description:"Rebondissements, magie, dcouvertes",emoji:""},{id:"animals",title:"Amis animaux",description:"Animaux qui parlent, aventures sauvages",emoji:""},{id:"underwater",title:"Monde sous-marin",description:"Ocans, cratures marines, trsors",emoji:""},{id:"forest",title:"Fort enchante",description:"Fort mystrieuse, surprises magiques",emoji:""},{id:"funny",title:"Histoire drle",description:"Contes amusants, rires garantis",emoji:""},{id:"mystery",title:"Petit mystre",description:"nigmes pour enfants, investigations",emoji:""},{id:"friendship",title:"Belle amiti",description:"Histoire sur l'amiti, entraide",emoji:""},{id:"learning",title:"Conte ducatif",description:"Leons importantes, apprentissage",emoji:""},{id:"bedtime",title:"Histoire du soir",description:"Contes apaisants, sommeil doux",emoji:""},{id:"robots",title:"Robots amis",description:"Robots gentils, inventions magiques",emoji:""},{id:"pirates",title:"Pirates courageux",description:"Bateaux pirates, trsors cachs",emoji:""}],B7=[{id:"female",name:"Voix fminine"},{id:"male",name:"Voix masculine"}],U7=({selectedAudioStory:e,setSelectedAudioStory:t,customAudioStory:n,setCustomAudioStory:r,selectedVoice:i,setSelectedVoice:s})=>{const[o,a]=F.useState(!1),l=g=>{e===g?(t(""),a(!1)):(t(g),g!=="custom"&&a(!1))},u=()=>{e==="custom"?(t(""),a(!1)):(t("custom"),a(!0))},h=[{id:"custom",title:"Personnalis",description:"Crez votre propre type d'histoire unique",emoji:"",isCustom:!0},...M7],f=g=>{r(g.target.value)},m=g=>{s(i===g?null:g)};return c.jsxs("div",{className:"audio-story-selector",children:[c.jsx("h3",{children:"2. Choisissez un type d'histoire"}),c.jsx("div",{className:"audio-story-grid",children:h.map(g=>c.jsxs("div",{className:"audio-story-slot",children:[c.jsxs(Re.div,{className:`audio-story-card ${g.isCustom?"custom-audio-story":""} ${e===g.id?"selected":""}`,onClick:()=>g.isCustom?u():l(g.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"audio-story-emoji",children:g.emoji}),c.jsx("h4",{children:g.title}),c.jsx("p",{children:g.description})]}),g.isCustom&&o&&e==="custom"&&c.jsx(Re.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx(Re.textarea,{id:"customAudioStory",value:n,onChange:f,placeholder:"Ex: Un conte qui se droule dans un monde sous-marin avec des cratures magiques...",className:"custom-input",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})})]},g.id))}),c.jsxs("div",{className:"voice-selector-section",children:[c.jsx("h3",{children:"3. Choisissez une narration (optionnel)"}),c.jsx("div",{className:"voice-options",children:B7.map(g=>c.jsxs(Re.div,{className:`voice-option ${i===g.id?"selected":""}`,onClick:()=>m(g.id),whileHover:{scale:1.03},whileTap:{scale:.98},children:[c.jsx("div",{className:"voice-icon",children:g.id==="female"?"":""}),c.jsx("div",{className:"voice-details",children:c.jsx("h4",{children:g.name})})]},g.id))})]})]})};const z7=[{id:"space",title:"Aventure spatiale",description:"Une exploration de l'espace et des plantes lointaines",emoji:""},{id:"ocean",title:"Sous l'ocan",description:"Une aventure sous-marine avec des cratures fantastiques",emoji:""},{id:"dinosaur",title:"Monde des dinosaures",description:"Un voyage dans le temps  l'poque des dinosaures",emoji:""},{id:"fairy",title:"Conte de fes",description:"Une histoire magique avec des fes et des cratures enchantes",emoji:""},{id:"superhero",title:"Super-hros",description:"Une aventure o votre enfant devient un super-hros",emoji:""},{id:"jungle",title:"Aventure dans la jungle",description:"Une exploration de la jungle et ses animaux sauvages",emoji:""}],$7=({selectedStory:e,setSelectedStory:t,customStory:n,setCustomStory:r})=>{const[i,s]=F.useState(!1),o=u=>{t(u),u!=="custom"&&s(!1)},a=()=>{t("custom"),s(!0)},l=u=>{r(u.target.value)};return c.jsxs("div",{className:"story-selector",children:[c.jsx("h3",{children:"4. Choisissez un type d'histoire"}),c.jsxs("div",{className:"story-grid",children:[c.jsxs(Re.div,{className:`story-card custom-story ${e==="custom"?"selected":""}`,onClick:a,whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"story-emoji",children:""}),c.jsx("h4",{children:"Personnalis"}),c.jsx("p",{children:"Crez votre propre type d'histoire unique"})]}),z7.map(u=>c.jsxs(Re.div,{className:`story-card ${e===u.id?"selected":""}`,onClick:()=>o(u.id),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"story-emoji",children:u.emoji}),c.jsx("h4",{children:u.title}),c.jsx("p",{children:u.description})]},u.id))]}),i&&c.jsxs(Re.div,{className:"custom-story-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[c.jsx("label",{htmlFor:"customStory",children:"Dcrivez votre type d'histoire"}),c.jsx(Re.textarea,{id:"customStory",value:n,onChange:l,placeholder:"Ex: Une aventure dans un monde de bonbons o les arbres sont en chocolat...",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})]})},cr={}.VITE_API_BASE_URL||"",_h={}.VITE_ANIMATION_API_BASE_URL||"https://da-production-6222.up.railway.app";const q7=({selectedTheme:e,setSelectedTheme:t,selectedDuration:n,setSelectedDuration:r,selectedStyle:i,setSelectedStyle:s,customStory:o,setCustomStory:a,characterImage:l,setCharacterImage:u})=>{const[h,f]=F.useState([]),[m,g]=F.useState([]);F.useEffect(()=>{f([{id:"custom",name:"Personnalis",description:"crivez votre propre histoire",emoji:""},{id:"space",name:"Espace",description:"Voyages spatiaux",emoji:""},{id:"ocean",name:"Sous-marin",description:"Exploration sous-marine",emoji:""},{id:"nature",name:"Nature",description:"Monde naturel",emoji:""},{id:"adventure",name:"Aventure",description:"Voyages et explorations",emoji:""},{id:"animals",name:"Animaux",description:"Histoires d'animaux mignons",emoji:""},{id:"magic",name:"Magie",description:"Monde magique et sortilges",emoji:""},{id:"friendship",name:"Amiti",description:"Histoires d'amiti",emoji:""},{id:"circus",name:"Cirque",description:"Spectacle de cirque magique",emoji:""}]),g([{value:30,label:"30 secondes"},{value:60,label:"1 minute"},{value:120,label:"2 minutes"},{value:180,label:"3 minutes"},{value:240,label:"4 minutes"},{value:300,label:"5 minutes"}])},[]);const b=[{id:"3d",name:"3D",description:"Animation 3D moderne",emoji:""},{id:"realistic",name:"Raliste",description:"Style cinmatographique",emoji:""},{id:"cartoon",name:"Cartoon",description:"Style dessin anim color",emoji:""},{id:"anime",name:"Anime",description:"Style manga japonais",emoji:"",useImage:!0,imagePath:"/assets/japan-flag.png"}],_=x=>{t(e===x?null:x)},k=x=>{r(n===x?null:x)},y=x=>{s(i===x?null:x)};return c.jsxs("div",{className:"animation-selector",children:[c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"2. Choisissez un thme pour votre dessin anim"}),c.jsx("div",{className:"themes-grid",children:h.map(x=>c.jsxs("div",{children:[c.jsxs(Re.div,{className:`theme-card ${e===x.id?"selected":""} ${x.id==="custom"?"custom-animation":""}`,onClick:()=>_(x.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx("div",{className:"theme-emoji",children:x.emoji}),c.jsxs("div",{className:"theme-content",children:[c.jsx("h5",{children:x.name}),c.jsx("p",{children:x.description})]})]}),x.id==="custom"&&e==="custom"&&c.jsx(Re.div,{className:"custom-theme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{className:"custom-story-textarea",value:o,onChange:S=>a(S.target.value),placeholder:"Il tait une fois... Racontez votre histoire ici. Plus elle est dtaille, plus l'animation sera riche et personnalise !",rows:4})})]},x.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"2. Choisissez la dure de l'animation"}),c.jsx("div",{className:"duration-options",children:m.map(x=>c.jsx(Re.div,{className:`duration-option ${n===x.value?"selected":""}`,onClick:()=>k(x.value),whileHover:{scale:1.02},whileTap:{scale:.98},children:c.jsx("div",{className:"duration-label",children:x.label})},x.value))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"3. Choisissez un style visuel"}),c.jsx("div",{className:"style-options",children:b.map(x=>c.jsxs(Re.div,{className:`style-option ${i===x.id?"selected":""}`,onClick:()=>y(x.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"style-emoji",children:[x.useImage?c.jsx("img",{src:x.imagePath,alt:x.name,className:"style-flag-image",onError:S=>{S.target.style.display="none",S.target.nextSibling.style.display="block"}}):null,c.jsx("span",{style:{display:x.useImage?"none":"block"},children:x.emoji})]}),c.jsxs("div",{className:"style-content",children:[c.jsx("h5",{children:x.name}),c.jsx("p",{children:x.description})]})]},x.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h4",{children:"4. Personnage principal (optionnel)"}),c.jsx("p",{className:"section-description",children:"Uploadez une photo pour crer un personnage personnalis dans votre dessin anim"}),c.jsx("div",{className:"character-upload-container",children:l?c.jsxs("div",{className:"character-preview",children:[c.jsx("img",{src:l,alt:"Personnage",className:"character-image"}),c.jsx(Re.button,{className:"remove-character-btn",onClick:()=>u(null),whileHover:{scale:1.1},whileTap:{scale:.9},children:" Supprimer"})]}):c.jsxs(Re.label,{className:"character-upload-zone",whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx("input",{type:"file",accept:"image/*",onChange:x=>{const S=x.target.files[0];if(S){const E=new FileReader;E.onloadend=()=>{u(E.result)},E.readAsDataURL(S)}},style:{display:"none"}}),c.jsx("div",{className:"upload-icon",children:""}),c.jsxs("div",{className:"upload-text",children:[c.jsx("strong",{children:"Cliquez pour uploader une photo"}),c.jsx("span",{children:"ou glissez-dposez une image ici"})]})]})})]})]})};const V7=({animationResult:e,onClose:t})=>{var O,K,Y,R;const[n,r]=F.useState("video"),[i,s]=F.useState(null);if(!e)return null;const{status:o,clips:a=[],video_urls:l=[],scenes:u=[],generation_time:h,total_duration:f,successful_clips:m=0,fallback_clips:g=0,pipeline_type:b,scenes_count:_=0,video_count:k=0}=e,y=a.length>0?a:l.map((P,J)=>({clip_url:P,status:"success",prompt:`Scne ${J+1}`,duration:8})),x=y.some(P=>P.status==="success")||o==="completed"&&(e.final_video_url||((O=e.result)==null?void 0:O.final_video_url)),S=u||e.scenes_details||[],E=y.length||_||k,I=P=>{if(!P||isNaN(P))return"---";const J=Math.floor(P/60),V=P%60;return J>0?`${J}m ${V}s`:`${V}s`},B=P=>{switch(P){case"success":return"#4CAF50";case"fallback":return"#FF9800";case"error":return"#F44336";default:return"#9E9E9E"}},U=P=>{switch(P){case"success":return"";case"fallback":return"";case"error":return"";default:return""}};return c.jsx(Re.div,{className:"animation-viewer-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(Re.div,{className:"animation-viewer",initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},onClick:P=>P.stopPropagation(),transition:{type:"spring",damping:20,stiffness:300},children:[c.jsxs("div",{className:"viewer-header",children:[c.jsx("h2",{children:" Votre dessin anim IA"}),o&&c.jsxs("div",{className:"status-badge",style:{backgroundColor:B(o)},children:[U(o)," ",o==="generating_idea"?"Cration de l'ide...":o==="creating_scenes"?"Cration des scnes...":o==="generating_clips"?"Gnration vido...":o==="completed"?"Termin !":o==="failed"?"chou":o]}),c.jsx("button",{className:"close-button",onClick:t,children:""})]}),c.jsxs("div",{className:"animation-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:["Dure: ",I(f||e.duration)]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[E," scnes"]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[m||E," russies"]})]}),g>0&&c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:[g," fallback"]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-icon",children:""}),c.jsxs("span",{children:["Gnr en ",h?Math.round(h)+"s":"En cours..."]})]})]}),c.jsxs("div",{className:"viewer-tabs",children:[c.jsx("button",{className:`tab ${n==="video"?"active":""}`,onClick:()=>r("video"),children:" Vido"}),c.jsx("button",{className:`tab ${n==="scenes"?"active":""}`,onClick:()=>r("scenes"),children:" Scnes"}),c.jsx("button",{className:`tab ${n==="details"?"active":""}`,onClick:()=>r("details"),children:" Dtails"})]}),c.jsx("div",{className:"viewer-content",children:c.jsxs(Si,{mode:"wait",children:[n==="video"&&c.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"video-tab",children:x?c.jsx("div",{className:"video-player",children:e.final_video_url||(K=e.result)!=null&&K.final_video_url?c.jsxs("div",{className:"final-animation",children:[c.jsx("div",{className:"video-icon",children:""}),c.jsxs("h3",{children:[" ",e.title||"Votre dessin anim est prt !"]}),c.jsxs("p",{children:["Animation complte de ",I(f||e.duration)," avec ",m||E," scnes."]}),c.jsx("div",{className:"main-video-container",children:c.jsx("video",{src:e.final_video_url||((Y=e.result)==null?void 0:Y.final_video_url),className:"final-animation-video",controls:!0,autoPlay:!0,loop:!0,muted:!0,preload:"metadata",style:{width:"100%",maxWidth:"600px",height:"auto",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.2)",margin:"1rem 0"},onLoadedData:()=>{},onError:P=>{P.target.style.display="none"}})}),c.jsx("div",{className:"video-controls",children:c.jsx("button",{className:"play-btn",onClick:()=>{var P;return window.open(e.final_video_url||((P=e.result)==null?void 0:P.final_video_url),"_blank")},style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"},children:" Ouvrir en plein cran"})})]}):c.jsxs("div",{className:"animation-gallery",children:[c.jsx("div",{className:"video-icon",children:""}),c.jsx("h3",{children:" Votre dessin anim est prt !"}),c.jsxs("p",{children:["Animation de ",I(f)," gnre avec succs.",m>0&&` ${m} scnes cres avec l'IA.`]}),c.jsxs("div",{className:"scenes-gallery",children:[c.jsx("h4",{children:" Votre dessin anim en images :"}),c.jsx("div",{className:"gallery-grid",children:y.map((P,J)=>{let V=null,ce=!1;return P.video_url&&P.type==="real_video"?(V=/^https?:\/\//i.test(P.video_url)?P.video_url:`${_h}${P.video_url}`,ce=!0):P.demo_image_url?V=/^https?:\/\//i.test(P.demo_image_url)?P.demo_image_url:`${_h}${P.demo_image_url}`:P.image_url?V=/^https?:\/\//i.test(P.image_url)?P.image_url:`${_h}${P.image_url}`:P.video_url&&(V=/^https?:\/\//i.test(P.video_url)?P.video_url:`${_h}${P.video_url}`),c.jsxs("div",{className:"scene-media-card",children:[ce?c.jsx("video",{src:V,className:"scene-video",controls:!0,loop:!0,muted:!0,preload:"metadata",onLoadedData:()=>{},onError:le=>{le.target.style.display="none",le.target.nextSibling.style.display="flex"}}):c.jsx("img",{src:V,alt:`Scne ${P.scene_number}`,className:"scene-image",onLoad:()=>{},onError:le=>{le.target.style.display="none",le.target.nextSibling.style.display="flex"}}),c.jsxs("div",{className:"scene-placeholder",style:{display:"none"},children:[c.jsx("span",{children:""}),c.jsxs("p",{children:["Scne ",P.scene_number]}),c.jsx("small",{children:P.type||"En cours..."})]}),c.jsxs("div",{className:"scene-info",children:[c.jsxs("span",{children:["Scne ",P.scene_number]}),c.jsx("span",{children:I(P.duration)}),P.type==="real_video"&&c.jsx("span",{className:"clip-type real",children:" Vido"}),P.type==="demo"&&c.jsx("span",{className:"clip-type demo",children:" Dmo"}),P.status==="success"&&c.jsx("span",{className:"clip-status success",children:""}),P.status==="fallback"&&c.jsx("span",{className:"clip-status fallback",children:""})]})]},J)})}),c.jsx("div",{className:"gallery-summary",children:c.jsxs("p",{children:[c.jsx("strong",{children:" Votre animation complte :"}),E," scnes illustres reprsentant votre histoire. Chaque image correspond  un moment cl de votre rcit gnr par l'IA."]})})]}),y.filter(P=>P.status==="success").length>0&&c.jsxs("div",{className:"video-clips-list",children:[c.jsx("h4",{children:" Toutes les scnes gnres :"}),y.filter(P=>P.status==="success").map((P,J)=>c.jsxs("div",{className:"clip-item",children:[c.jsxs("span",{children:[" Scne ",P.scene_number]}),c.jsx("span",{children:I(P.duration)}),P.type==="image"&&c.jsx("span",{className:"clip-type",children:" Image"})]},J))]}),c.jsxs("div",{className:"video-actions",children:[c.jsx("button",{className:"download-btn",children:" Tlcharger"}),c.jsx("button",{className:"share-btn",children:" Partager"})]})]})}):c.jsxs("div",{className:"no-video",children:[c.jsx("div",{className:"no-video-icon",children:o==="completed"?"":""}),c.jsx("h3",{children:o==="completed"?"Animation termine !":"Gnration en cours..."}),c.jsx("p",{children:o==="completed"?"Votre animation a t gnre avec succs ! Thme: "+(e.theme||"N/A"):"La gnration vido peut prendre quelques minutes. Certaines scnes utilisent des modes de fallback."}),o==="completed"&&(e.final_video_url||((R=e.result)==null?void 0:R.final_video_url))&&c.jsx("div",{className:"video-controls",children:c.jsx("button",{className:"play-btn",onClick:()=>{var P;return window.open(e.final_video_url||((P=e.result)==null?void 0:P.final_video_url),"_blank")},children:" Voir l'animation"})})]})},"video"),n==="scenes"&&c.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"scenes-tab",children:c.jsx("div",{className:"scenes-list",children:S.map((P,J)=>{const V=y.find(ce=>ce.scene_number===P.scene_number);return c.jsxs(Re.div,{className:`scene-card ${i===J?"selected":""}`,onClick:()=>s(i===J?null:J),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"scene-header",children:[c.jsxs("span",{className:"scene-number",children:["Scne ",P.scene_number]}),c.jsxs("div",{className:"scene-status",children:[c.jsx("span",{className:"status-icon",style:{color:B((V==null?void 0:V.status)||"pending")},children:U((V==null?void 0:V.status)||"pending")}),c.jsx("span",{className:"status-text",children:(V==null?void 0:V.status)||"pending"})]})]}),c.jsx("h4",{children:P.description}),c.jsxs("p",{children:[c.jsx("strong",{children:"Action:"})," ",P.action]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Dcor:"})," ",P.setting]}),c.jsxs("div",{className:"scene-duration",children:["Dure: ",I(P.duration)]}),i===J&&V&&c.jsx(Re.div,{className:"scene-details",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:V.video_url&&c.jsx("div",{className:"clip-preview",children:c.jsxs("span",{children:[" Fichier: ",V.video_url]})})})]},P.scene_number)})})},"scenes"),n==="details"&&c.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"details-tab",children:c.jsxs("div",{className:"technical-details",children:[c.jsx("h4",{children:" Dtails techniques"}),c.jsxs("div",{className:"detail-grid",children:[c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Pipeline:"}),c.jsx("span",{children:b||"custom_animation_ai"})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Statut:"}),c.jsx("span",{className:`status ${o}`,children:o})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Temps de gnration:"}),c.jsxs("span",{children:[Math.round(h),"s"]})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Scnes totales:"}),c.jsx("span",{children:E})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Scnes russies:"}),c.jsx("span",{children:m})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Dure totale:"}),c.jsx("span",{children:I(f)})]})]}),e.note&&c.jsxs("div",{className:"generation-note",children:[c.jsx("h5",{children:" Note de gnration"}),c.jsx("p",{children:e.note})]})]})},"details")]})})]})})};const H7=({customRequest:e,setCustomRequest:t})=>c.jsxs("div",{className:"custom-request",children:[c.jsx("h3",{children:"Demandes spcifiques (optionnel)"}),c.jsx("div",{className:"request-form",children:c.jsxs("div",{className:"input-group",children:[c.jsx("label",{htmlFor:"customRequest",children:"Avez-vous des demandes particulires ?"}),c.jsx(Re.textarea,{id:"customRequest",value:e,onChange:n=>t(n.target.value),placeholder:"Ex: En anglais, avec un chien bleu, inclure un message sur l'amiti...",rows:3,whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})})]});const W7=({onGenerate:e,isGenerating:t,isDisabled:n,contentType:r,buttonText:i})=>{const s=()=>t?r==="rhyme"?"Cration de la comptine en cours...":r==="coloring"?"Cration du coloriage en cours...":r==="comic"?"Cration de la BD en cours...":r==="animation"?"Cration du dessin anim en cours...":"Cration du contenu en cours...":i||(r==="rhyme"?"Crer ma comptine":r==="coloring"?"Crer mon coloriage":r==="comic"?"Crer ma bande dessine":r==="animation"?"Crer mon dessin anim":r==="audio"?"Crer mon histoire":"Crer mon contenu");return c.jsxs("div",{className:"generate-button-container",children:[c.jsxs(Re.button,{className:"generate-button",onClick:e,disabled:n||t,whileHover:!n&&!t?{scale:1.03}:{},whileTap:!n&&!t?{scale:.98}:{},initial:{opacity:.9},animate:{opacity:n?.6:1,y:[0,t?-5:0,0]},transition:{duration:t?.5:.2,repeat:t?1/0:0},children:[t&&c.jsxs("div",{className:"button-loading-dots",children:[c.jsx("div",{className:"button-dot"}),c.jsx("div",{className:"button-dot"}),c.jsx("div",{className:"button-dot"})]}),c.jsx("span",{children:s()})]}),n&&!t&&c.jsx("p",{className:"generate-button-hint",children:r==="story"?"Veuillez remplir tous les champs requis pour crer votre BD":r==="rhyme"?"Veuillez slectionner un type de comptine pour continuer":r==="coloring"?"Veuillez slectionner un thme de coloriage pour continuer":r==="comic"?"Veuillez slectionner un thme, un style et un nombre de pages pour votre BD":r==="animation"?"Veuillez slectionner un thme et configurer votre animation":"Veuillez slectionner un type d'histoire (et une voix) pour continuer"})]})};async function G7(){var e;try{const{data:{session:t},error:n}=await vt.auth.getSession();if((e=t==null?void 0:t.user)!=null&&e.id)return t.user.id;const r=localStorage.getItem("friday_user_cache");if(r){const i=JSON.parse(r);if(i.id)return i.id}return null}catch(t){return console.error("Erreur rcupration ID utilisateur:",t),null}}async function xw({type:e,title:t,data:n}){const r=await G7();if(!r)throw new Error("Utilisateur non connect");try{const i={user_id:r,type:e,title:t,data:{...n,created_via:"friday_web",timestamp:new Date().toISOString()}},{data:s,error:o}=await vt.from("creations").insert([i]).select().single();if(o)throw console.error("Erreur Supabase lors de la cration:",o),new Error(`Erreur base de donnes: ${o.message}`);return s}catch(i){throw console.error("Erreur lors de la sauvegarde:",i),i}}async function K7(e){try{const{error:t}=await vt.from("creations").delete().eq("id",e);if(t)throw console.error("Erreur Supabase lors de la suppression:",t),new Error(`Erreur base de donnes: ${t.message}`);return!0}catch(t){throw console.error("Erreur lors de la suppression:",t),t}}async function J7(e){return new Promise((t,n)=>{const r=new window.Image;r.crossOrigin="Anonymous",r.onload=function(){const i=document.createElement("canvas");i.width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0);const o=i.toDataURL("image/png");t({width:r.width,height:r.height,dataUrl:o})},r.onerror=n,r.src=e})}function Y7(e,t=""){return(!e||e.trim()==="")&&(e={coloriage:"coloriage",comic:"bande_dessinee",comptine:"comptine",histoire:"histoire",animation:"animation"}[t]||"creation"),String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").toLowerCase()}async function Av(e,t="coloriages"){const n=new nt({orientation:"portrait",unit:"px",format:"a4"}),r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),s=40,o=r-2*s,a=i-2*s,l=await Promise.all(e.map(async h=>{try{const f=h.image_url||h;return await J7(f)}catch(f){return console.warn("Erreur chargement image pour le PDF :",h,f),null}}));let u=!0;for(let h=0;h<l.length;h++){if(!l[h])continue;u||n.addPage(),u=!1;const{dataUrl:f,width:m,height:g}=l[h],b=m/g;let _=o,k=o/b;k>a&&(k=a,_=a*b);const y=(r-_)/2,x=(i-k)/2;n.addImage(f,"PNG",y,x,_,k)}n.save(`${Y7(t)}.pdf`)}function X7(e){const[t,n]=F.useState([]),[r,i]=F.useState(!1),[s,o]=F.useState(null);return F.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{i(!0);try{const{data:u,error:h}=await vt.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});h?(console.error("Erreur rcupration crations:",h),o(h.message),n([])):(n(u||[]),o(null))}catch(u){console.error("Erreur critique rcupration crations:",u),o(u.message),n([])}finally{i(!1)}})()},[e]),{creations:t,loading:r,error:s,refreshCreations:async()=>{if(e){i(!0);try{const{data:l,error:u}=await vt.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});u?o(u.message):(n(l||[]),o(null))}catch(l){o(l.message)}finally{i(!1)}}}}}const Q7=(e,t)=>e?e.startsWith("http://")||e.startsWith("https://")?e:`${t}${e}`:null,Z7=async(e,t)=>{var g,b;const n=e.pages||((g=e.data)==null?void 0:g.pages)||((b=e.comic_data)==null?void 0:b.pages)||[];if(!n||n.length===0){alert("Aucune page disponible pour cette bande dessine.");return}const r=new nt({orientation:"portrait",unit:"px",format:"a4"}),i=r.internal.pageSize.getWidth(),s=r.internal.pageSize.getHeight(),o=40,a=i-2*o,l=s-2*o,u=_=>new Promise((k,y)=>{const x=new window.Image;x.crossOrigin="Anonymous",x.onload=function(){const S=document.createElement("canvas");S.width=x.width,S.height=x.height,S.getContext("2d").drawImage(x,0,0);const I=S.toDataURL("image/png");k({width:x.width,height:x.height,dataUrl:I})},x.onerror=y,x.src=_}),h=await Promise.all(n.map(async _=>{try{const k=Q7(_.image_url||_,t);return k?await u(k):null}catch(k){return console.warn("Erreur chargement image BD pour le PDF :",_,k),null}}));let f=!0;for(let _=0;_<h.length;_++){if(!h[_])continue;f||r.addPage(),f=!1;const{dataUrl:k,width:y,height:x}=h[_],S=y/x;let E=a,I=a/S;I>l&&(I=l,E=l*S);const B=(i-E)/2,U=(s-I)/2;r.addImage(k,"PNG",B,U,E,I)}const m=(e.title||"bande_dessinee").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");r.save(`${m}.pdf`)},eF=({onClose:e,onSelect:t})=>{const{user:n}=Nv(),{creations:r,loading:i,refreshCreations:s}=X7(n==null?void 0:n.id),o=async m=>{if(window.confirm("Supprimer cette cration ?"))try{const{error:b}=await K7(m);if(b){alert("Erreur lors de la suppression !");return}s()}catch(b){console.error("Erreur lors de la suppression:",b),alert("Erreur lors de la suppression !")}},a=m=>{const g=new Date(m);return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(g)},l=m=>{var b,_;const g=m.audio_path||((b=m.data)==null?void 0:b.audio_path);if(!g&&(m.type==="rhyme"||m.type==="comptine")){const k=m.suno_url||((_=m.data)==null?void 0:_.suno_url);if(k)return k}return g?g.startsWith("http://")||g.startsWith("https://")?g:g.startsWith("static/")?null:`${cr}/${g}`:null},u=m=>{switch(m){case"comic":case"bd":case"story":return"";case"rhyme":case"comptine":return"";case"audio":case"histoire":return"";case"coloring":case"coloriage":return"";case"crewai_animation":case"animation":return"";default:return""}},h=m=>{switch(m){case"comic":case"bd":case"story":return"Bande dessine";case"rhyme":case"comptine":return"Comptine";case"audio":case"histoire":return"Histoire";case"coloring":case"coloriage":return"Coloriage";case"crewai_animation":case"animation":return"Dessin anim";default:return"Cration"}},f=m=>{var K;const g=m.content||((K=m.data)==null?void 0:K.content)||"";if(!g||typeof g!="string"){console.error(" Contenu invalide ou manquant pour le PDF.");return}const b=new nt({orientation:"p",unit:"mm",format:"a4"}),_=40,k=210,y=297,x=12,S=Math.floor((y-_*2)/x),E=13;let I=m.title,B=g;g.startsWith("**")&&g.includes("**",2)&&(I=g.split("**")[1].trim(),B=g.replace(`**${I}**`,"").trim());const U=Y=>new Promise(R=>{const P=new Image;P.crossOrigin="anonymous",P.src=Y,P.onload=()=>R(P)});(async()=>{try{const Y="/assets/fond.png?v=1";let R=null;try{R=await U(Y)}catch{console.log(" Image de fond non disponible, PDF sans fond")}const P=b.splitTextToSize(B,150);let J=0;for(let V=0;J<P.length;V++){V>0&&b.addPage(),R&&b.addImage(R,"PNG",0,0,k,y,void 0,"FAST"),V===0&&(b.setFont("courier","bold"),b.setFontSize(22),b.setTextColor(110,50,230),b.text(I,k/2,_-20,{align:"center"})),b.setFont("courier","bold"),b.setFontSize(E),b.setTextColor(25,25,112);for(let ce=0;ce<S&&J<P.length;ce++,J++){const le=_+ce*x;b.text(P[J],k/2,le,{align:"center"})}b.setFontSize(11),b.setTextColor(106,90,205),b.text(`Page ${V+1}`,k-15,290,{align:"right"})}}catch(Y){console.error(" Erreur lors de la gnration du PDF:",Y),b.setFontSize(22),b.setTextColor(110,50,230),b.setFont("courier","bold"),b.text(I,k/2,_-20,{align:"center"}),b.setFontSize(E),b.setTextColor(25,25,112),b.setFont("courier","bold");const R=b.splitTextToSize(B,150);for(let P=0;P<R.length;P++){const J=_+P*x;b.text(R[P],k/2,J,{align:"center"})}}})().then(()=>{const Y=I.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),R=b.output("blob"),P=URL.createObjectURL(R),J=document.createElement("a");J.href=P,J.download=`${Y}.pdf`,J.style.display="none",document.body.appendChild(J),J.click(),document.body.removeChild(J),setTimeout(()=>{URL.revokeObjectURL(P)},100)})};return c.jsxs(Re.div,{className:"history-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},onClick:m=>m.stopPropagation(),children:[c.jsxs("div",{className:"history-header",children:[c.jsx("h2",{children:"Historique de vos crations"}),c.jsx("button",{className:"close-button",onClick:e,children:""})]}),c.jsx("div",{className:"history-content",children:n?r.length===0&&!i?c.jsxs("div",{className:"empty-history",children:[c.jsx("p",{children:"Vous n'avez pas encore de crations"}),c.jsx("p",{className:"empty-subtext",children:"Vos crations apparatront ici une fois gnres"})]}):c.jsx("div",{className:"creations-list",children:r.map(m=>{var k,y,x,S,E,I,B,U,O,K;const g=!!l(m),b=!!(m.content||(k=m.data)!=null&&k.content),_=["creation-item",g?"has-audio":"",b?"has-text":""].filter(Boolean).join(" ");return c.jsxs(Re.div,{className:_,onClick:()=>t({...m,action:m.type==="coloring"?"showColoring":m.type==="comic"||m.type==="bd"?"showComic":"showStory"}),whileHover:{scale:1.01},transition:{duration:.2},children:[c.jsx("div",{className:"creation-icon",children:u(m.type)}),"                  ",c.jsxs("div",{className:"creation-details",children:[c.jsx("h3",{children:m.title}),c.jsxs("div",{className:"creation-meta",children:[c.jsx("span",{className:"creation-type",children:h(m.type)}),c.jsx("span",{className:"creation-date",children:a(m.created_at)})]}),"                  ",l(m)&&c.jsx("audio",{controls:!0,className:"creation-audio",src:l(m)}),c.jsxs("div",{className:"creation-actions",children:[m.type==="rhyme"&&l(m)&&c.jsx("button",{className:"btn-pdf",onClick:async Y=>{var R;Y.stopPropagation();try{const P=l(m),V=await(await fetch(P)).blob(),ce=URL.createObjectURL(V);let le=m.title||"Comptine";const ae=m.content||((R=m.data)==null?void 0:R.content)||"";ae&&ae.startsWith("**")&&ae.includes("**",2)&&(le=ae.split("**")[1].trim());const W=le.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),te=document.createElement("a");te.href=ce,te.download=`${W}.mp3`,te.style.display="none",document.body.appendChild(te),te.click(),document.body.removeChild(te),URL.revokeObjectURL(ce)}catch(P){console.error("Erreur lors du tlchargement de la comptine:",P),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger la comptine"}),(m.type==="audio"||m.type==="histoire")&&(m.content||((y=m.data)==null?void 0:y.content))&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn-pdf",onClick:Y=>{Y.stopPropagation(),f(m)},children:" Tlcharger le PDF"}),l(m)&&(m.audio_generated||((x=m.data)==null?void 0:x.audio_generated))&&c.jsx("button",{className:"btn-pdf",onClick:async Y=>{var R;Y.stopPropagation();try{const P=l(m),V=await(await fetch(P)).blob(),ce=URL.createObjectURL(V);let le=m.title||"Histoire";const ae=m.content||((R=m.data)==null?void 0:R.content)||"";ae&&ae.startsWith("**")&&ae.includes("**",2)&&(le=ae.split("**")[1].trim());const W=le.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),te=document.createElement("a");te.href=ce,te.download=`${W}.mp3`,te.style.display="none",document.body.appendChild(te),te.click(),document.body.removeChild(te),URL.revokeObjectURL(ce)}catch(P){console.error("Erreur lors du tlchargement audio:",P),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger l'audio"})]}),l(m)&&(m.audio_generated||((S=m.data)==null?void 0:S.audio_generated))&&m.type!=="rhyme"&&m.type!=="audio"&&m.type!=="histoire"&&c.jsx("button",{className:"btn-audio",onClick:async Y=>{Y.stopPropagation();try{const R=l(m),P=await fetch(R);if(!P.ok)throw new Error("Erreur lors du tlchargement");const J=await P.blob(),V=URL.createObjectURL(J),ce=(m.title||"audio").replace(/[^a-z0-9]/gi,"_").toLowerCase(),le=document.createElement("a");le.href=V,le.download=`${ce}.mp3`,le.style.display="none",document.body.appendChild(le),le.click(),document.body.removeChild(le),URL.revokeObjectURL(V)}catch(R){console.error("Erreur lors du tlchargement audio:",R),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger l'audio"}),m.type==="coloring"&&(m.images||((E=m.data)==null?void 0:E.images))&&(((I=m.images)==null?void 0:I.length)>0||((U=(B=m.data)==null?void 0:B.images)==null?void 0:U.length)>0)&&c.jsx("button",{className:"btn-pdf",onClick:Y=>{var J;Y.stopPropagation();const R=m.title||(m.theme?`coloriages_${m.theme}`:"coloriages"),P=m.images||((J=m.data)==null?void 0:J.images)||[];Av(P,R)},children:" Tlcharger le coloriage"}),(m.type==="comic"||m.type==="bd"||m.type==="story")&&(m.pages||((O=m.data)==null?void 0:O.pages)||((K=m.comic_data)==null?void 0:K.pages))&&c.jsx("button",{className:"btn-pdf",onClick:async Y=>{Y.stopPropagation();try{await Z7(m,cr)}catch(R){console.error("Erreur lors du tlchargement de la BD:",R),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger le PDF"}),c.jsx("button",{className:"btn-delete",onClick:Y=>{Y.stopPropagation(),o(m.id)},children:" Supprimer"})]})]})]},m.id)})}):c.jsx("div",{className:"empty-history",children:c.jsx("p",{children:"Connexion en cours..."})})})]})};const tF=({title:e,content:t,onClose:n,children:r})=>{const[i,s]=F.useState(!1),o=F.useRef(null),a=()=>{var u;document.fullscreenElement?(document.exitFullscreen(),s(!1)):((u=o.current)==null||u.requestFullscreen(),s(!0))},l=u=>{u.target.classList.contains("story-popup-overlay")&&n()};return c.jsx("div",{className:"story-popup-overlay",onClick:l,children:c.jsxs("div",{className:"story-popup-content",ref:o,children:[c.jsx("div",{className:"story-background"}),c.jsx("button",{className:"story-close-btn",onClick:n,children:""}),c.jsx("button",{className:"story-fullscreen-btn",onClick:a,children:i?" Quitter le plein cran":" Plein cran"}),c.jsxs("div",{className:"story-scroll",children:[e&&c.jsx("h2",{className:"story-title",children:e}),t&&typeof t=="string"?c.jsx("div",{className:"story-text",children:t}):r]})]})})};const nF=({selectedTheme:e,setSelectedTheme:t,customColoringTheme:n,setCustomColoringTheme:r,uploadedPhoto:i,setUploadedPhoto:s,withColoredModel:o,setWithColoredModel:a})=>{const[l,u]=F.useState(!1),[h,f]=F.useState(!1),[m,g]=F.useState(null),b=[{value:"upload_photo",label:"Ma Photo",icon:"",description:"Transformez votre photo en coloriage !",special:!0},{value:"custom",label:"Personnalis",icon:"",description:"Crez votre propre thme de coloriage"},{value:"animals",label:"Animaux",icon:"",description:"Chats, chiens, lions, lphants..."},{value:"dinosaurs",label:"Dinosaures",icon:"",description:"T-Rex, Triceratops, volcans..."},{value:"dragons",label:"Dragons",icon:"",description:"Dragons mignons, chevaliers..."},{value:"farm",label:"Ferme",icon:"",description:"Vache, cochon, poule, tracteur..."},{value:"fairies",label:"Fes & Licornes",icon:"",description:"Fes, licornes, chteaux magiques..."},{value:"princess",label:"Princesses",icon:"",description:"Princesses, robes, diadmes..."},{value:"mermaids",label:"Sirnes",icon:"",description:"Sirnes, coquillages, palais sous-marin..."},{value:"pirates",label:"Pirates",icon:"",description:"Bateaux pirates, trsors, perroquets..."},{value:"superheroes",label:"Super-hros",icon:"",description:"Hros masqus, super-pouvoirs..."},{value:"space",label:"Espace",icon:"",description:"Fuses, plantes, astronautes..."},{value:"robots",label:"Robots",icon:"",description:"Robots futuristes, androdes..."},{value:"vehicles",label:"Vhicules",icon:"",description:"Voitures, avions, trains, bateaux..."},{value:"nature",label:"Nature",icon:"",description:"Fleurs, arbres, papillons, paysages..."},{value:"ocean",label:"Ocan",icon:"",description:"Poissons, dauphins, coraux, tortues..."},{value:"seasons",label:"Saisons",icon:"",description:"Automne, hiver, printemps, t..."},{value:"sports",label:"Sports",icon:"",description:"Football, basketball, natation..."},{value:"fruits",label:"Fruits & Lgumes",icon:"",description:"Fruits rigolos, lgumes souriants..."},{value:"professions",label:"Mtiers",icon:"",description:"Mdecins, pompiers, cuisiniers..."},{value:"emotions",label:"motions",icon:"",description:"Visages joyeux, tristes, surpris..."}],_=S=>{e===S?(t(""),u(!1),f(!1)):(t(S),u(S==="custom"),f(S==="upload_photo"))},k=S=>{const E=S.target.files[0];if(E){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(E.type)){alert("Format de fichier non support. Utilisez JPG, PNG, GIF ou WebP.");return}if(E.size>5*1024*1024){alert("La photo est trop grande. Taille maximale : 5 MB");return}const B=new FileReader;B.onloadend=()=>{g(B.result)},B.readAsDataURL(E),s(E)}},y=S=>{a(o===S?null:S)},x=()=>{s(null),g(null);const S=document.getElementById("photo-upload-input");S&&(S.value="")};return c.jsxs("div",{className:"coloring-selector",children:[c.jsx("h3",{children:"2. Choisissez un thme pour vos coloriages"}),c.jsx("div",{className:"theme-grid",children:b.map((S,E)=>c.jsxs("div",{className:"theme-slot",children:[c.jsxs(Re.div,{className:`theme-option ${S.special?"photo-upload-option":""} ${S.value==="custom"?"custom-coloring":""} ${e===S.value?"selected":""}`,onClick:()=>_(S.value),whileHover:{y:-5},whileTap:{scale:.98},children:[c.jsx("div",{className:"theme-icon",children:S.icon}),c.jsxs("div",{className:"theme-info",children:[c.jsx("h4",{children:S.label}),c.jsx("p",{children:S.description})]})]}),S.special&&h&&e==="upload_photo"&&c.jsxs(Re.div,{className:"photo-upload-container inline-upload",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[c.jsxs("div",{className:"upload-section",children:[c.jsx("p",{className:"upload-hint",children:"Formats accepts : JPG, PNG, GIF, WebP (max 5 MB)"}),c.jsx("input",{type:"file",id:"photo-upload-input",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:k,style:{display:"none"}}),m?c.jsx("div",{className:"photo-preview-container",children:c.jsx("img",{src:m,alt:"Aperu",className:"photo-preview"})}):c.jsxs("label",{htmlFor:"photo-upload-input",className:"upload-button",children:[c.jsx("span",{className:"upload-icon",children:""}),c.jsx("span",{children:"Choisir une photo"})]})]}),m&&c.jsx(Re.div,{className:"remove-photo-section",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:c.jsx("button",{onClick:x,className:"remove-photo-button",children:" Supprimer la photo"})})]}),S.value==="custom"&&l&&e==="custom"&&c.jsx(Re.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("input",{type:"text",placeholder:"Dcrivez votre thme de coloriage personnalis...",value:n,onChange:I=>r(I.target.value),className:"custom-input"})})]},S.value))}),c.jsxs("div",{className:"model-choice-section",children:[c.jsx("h3",{children:"3. Voulez-vous un modle ?"}),c.jsxs("div",{className:"model-buttons",children:[c.jsxs(Re.button,{className:`model-btn ${o===!0?"active":""}`,onClick:()=>y(!0),whileHover:{y:-3},whileTap:{scale:.98},children:[c.jsx("span",{className:"model-icon",children:""}),c.jsx("span",{className:"model-label",children:"Avec modle"}),c.jsx("span",{className:"model-desc",children:"Inclut un exemple color en coin"})]}),c.jsxs(Re.button,{className:`model-btn ${o===!1?"active":""}`,onClick:()=>y(!1),whileHover:{y:-3},whileTap:{scale:.98},children:[c.jsx("span",{className:"model-icon",children:""}),c.jsx("span",{className:"model-label",children:"Sans modle"}),c.jsx("span",{className:"model-desc",children:"Coloriage pur, libert crative"})]})]})]})]})};const A4=({imageUrl:e,theme:t,onClose:n,onSave:r})=>{const i=F.useRef(null),[s,o]=F.useState(null),[a,l]=F.useState("#FF6B6B"),[u,h]=F.useState("bucket"),[f,m]=F.useState(!1),[g,b]=F.useState(1),[_,k]=F.useState(!1),[y,x]=F.useState(null),[S,E]=F.useState(null),I=["#FF6B6B","#FF4757","#FF6348","#FFA07A","#FF85C0","#FFB6C1","#FF1493","#DC143C","#F8B739","#FFA500","#FFD700","#F7DC6F","#FFDAB9","#FFE4B5","#F4A460","#FDB813","#52C41A","#98D8C8","#81C784","#00C853","#20B2AA","#3CB371","#90EE90","#7FFF00","#4ECDC4","#45B7D1","#85C1E9","#A8DADC","#00BFFF","#1E90FF","#4169E1","#6495ED","#BB8FCE","#9B59B6","#8B008B","#DA70D6","#E6E6FA","#DDA0DD","#BA55D3","#9370DB","#DDA15E","#BC6C25","#D2691E","#CD853F","#8B4513","#A0522D","#F5DEB3","#FAEBD7","#95A5A6","#7F8C8D","#BDC3C7","#ECF0F1","#D3D3D3","#C0C0C0","#A9A9A9","#808080","#E07A5F","#FF6B9D","#00D9FF","#FFEB3B","#FF5722","#8BC34A","#00BCD4","#E91E63"];F.useEffect(()=>{const Q=i.current;if(!Q)return;const me=Q.getContext("2d",{willReadFrequently:!0});o(me);const N=new Image;N.crossOrigin="anonymous",N.onload=()=>{const z=window.innerWidth*.9,$=window.innerHeight*.7;let G=N.width,Z=N.height;G>z&&(Z=z/G*Z,G=z),Z>$&&(G=$/Z*G,Z=$),Q.width=G,Q.height=Z,me.drawImage(N,0,0,G,Z),x(me.getImageData(0,0,G,Z));const oe=me.createImageData(G,Z);E(oe),k(!0)},N.onerror=()=>{console.error("Erreur de chargement de l'image")},N.src=e},[e]);const B=(Q,me,N)=>{if(!s||!y)return;const z=i.current,$=s.getImageData(0,0,z.width,z.height),G=$.data,Z=O(G,Q,me,z.width),oe=Y(N);if(R(Z,oe))return;const he=[[Q,me]],ue=new Set;for(;he.length>0;){const[xe,_e]=he.pop(),Fe=`${xe},${_e}`;if(ue.has(Fe)||xe<0||xe>=z.width||_e<0||_e>=z.height)continue;const Pe=O(G,xe,_e,z.width);P(Pe)||R(Pe,Z)&&(ue.add(Fe),K(G,xe,_e,z.width,oe),he.push([xe+1,_e]),he.push([xe-1,_e]),he.push([xe,_e+1]),he.push([xe,_e-1]))}s.putImageData($,0,0)},U=(Q,me)=>{if(!s||!y)return;const N=i.current,z=s.getImageData(0,0,N.width,N.height),$=z.data,G=y.data,Z=O($,Q,me,N.width);if(J(Z))return;const oe=[[Q,me]],he=new Set;for(;oe.length>0;){const[ue,xe]=oe.pop(),_e=`${ue},${xe}`;if(he.has(_e)||ue<0||ue>=N.width||xe<0||xe>=N.height)continue;const Fe=O($,ue,xe,N.width);if(P(Fe)||!R(Fe,Z))continue;he.add(_e);const Pe=(xe*N.width+ue)*4;$[Pe]=G[Pe],$[Pe+1]=G[Pe+1],$[Pe+2]=G[Pe+2],$[Pe+3]=G[Pe+3],oe.push([ue+1,xe]),oe.push([ue-1,xe]),oe.push([ue,xe+1]),oe.push([ue,xe-1])}s.putImageData(z,0,0)},O=(Q,me,N,z)=>{const $=(N*z+me)*4;return{r:Q[$],g:Q[$+1],b:Q[$+2],a:Q[$+3]}},K=(Q,me,N,z,$)=>{const G=(N*z+me)*4;Q[G]=$.r,Q[G+1]=$.g,Q[G+2]=$.b,Q[G+3]=255},Y=Q=>{const me=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Q);return me?{r:parseInt(me[1],16),g:parseInt(me[2],16),b:parseInt(me[3],16),a:255}:{r:0,g:0,b:0,a:255}},R=(Q,me,N=10)=>Math.abs(Q.r-me.r)<=N&&Math.abs(Q.g-me.g)<=N&&Math.abs(Q.b-me.b)<=N,P=(Q,me=50)=>Q.r<me&&Q.g<me&&Q.b<me,J=(Q,me=240)=>Q.r>me&&Q.g>me&&Q.b>me||Q.a<10,V=Q=>{if(!_)return;const me=i.current,N=me.getBoundingClientRect(),z=Math.floor((Q.clientX-N.left)*(me.width/N.width)),$=Math.floor((Q.clientY-N.top)*(me.height/N.height));u==="bucket"?B(z,$,a):u==="eraser"&&U(z,$)},ce=()=>{i.current.toBlob(me=>{const N=URL.createObjectURL(me),z=document.createElement("a");z.href=N;const G=(t||"coloriage").replace(/[^a-z0-9]/gi,"_").toLowerCase();z.download=`coloriages_${G}_colorie.png`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(N)})},le=Q=>{Q.target.classList.contains("coloring-canvas-overlay")&&n()},ae=()=>{!s||!y||s.putImageData(y,0,0)},W=()=>{b(Q=>Math.min(Q+.5,3)),m(!0)},te=()=>{g>1&&(b(Q=>Math.max(Q-.5,1)),g-.5<=1&&m(!1))};return c.jsx("div",{className:"coloring-canvas-overlay",onClick:le,children:c.jsxs("div",{className:"coloring-canvas-container",children:[c.jsxs("div",{className:"coloring-toolbar-top",children:[c.jsx("h2",{className:"coloring-canvas-title",children:" Coloriez votre dessin"}),c.jsxs("div",{className:"coloring-zoom-controls",children:[c.jsx("button",{className:"coloring-zoom-btn",onClick:te,disabled:g<=1,title:"Zoom arrire",children:""}),c.jsxs("span",{style:{color:"white",fontWeight:"bold",minWidth:"60px",textAlign:"center"},children:[Math.round(g*100),"%"]}),c.jsx("button",{className:"coloring-zoom-btn",onClick:W,disabled:g>=3,title:"Zoom avant",children:"+"})]}),c.jsxs("div",{className:"coloring-toolbar-actions",children:[c.jsx("button",{className:"coloring-btn coloring-reset-btn",onClick:ae,title:"Rinitialiser",children:" Rinitialiser"}),c.jsx("button",{className:"coloring-btn coloring-save-btn",onClick:ce,title:"Tlcharger",children:" Tlcharger"}),c.jsx("button",{className:"coloring-btn coloring-close-btn-top",onClick:n,title:"Fermer",children:""})]})]}),c.jsxs("div",{className:"coloring-canvas-wrapper",children:[c.jsx("canvas",{ref:i,onClick:V,className:`coloring-canvas ${f?"zoomed":""}`,style:{transform:`scale(${g})`}}),!_&&c.jsxs("div",{className:"coloring-loading",children:[c.jsx("div",{className:"coloring-spinner"}),c.jsx("p",{children:"Chargement du coloriage..."})]})]}),c.jsxs("div",{className:"coloring-toolbar-bottom",children:[c.jsxs("div",{className:"coloring-tools",children:[c.jsx("button",{className:`coloring-tool-btn ${u==="bucket"?"active":""}`,onClick:()=>h("bucket"),title:"Seau de peinture",children:""}),c.jsx("button",{className:`coloring-tool-btn ${u==="eraser"?"active":""}`,onClick:()=>h("eraser"),title:"Gomme",children:""})]}),c.jsx("div",{className:"coloring-palette",children:I.map((Q,me)=>c.jsx("button",{className:`coloring-color-btn ${a===Q&&u==="bucket"?"active":""}`,style:{backgroundColor:Q},onClick:()=>{l(Q),h("bucket")},title:Q},me))})]})]})})},rF=({coloringResult:e,onClose:t,selectedTheme:n})=>{const[r,i]=F.useState(!1),[s,o]=F.useState(!1),a=F.useRef(null),l=()=>{var b;document.fullscreenElement?(document.exitFullscreen(),i(!1)):((b=a.current)==null||b.requestFullscreen(),i(!0))},u=b=>{b.target.classList.contains("coloring-popup-overlay")&&t()},h=()=>{if(e!=null&&e.images&&e.images.length>0){const b=e.title||(n?`coloriages_${n}`:"coloriages");Av(e.images,b)}else console.warn("Aucune image disponible pour le tlchargement PDF")};if(!e||!e.images||e.images.length===0)return null;const f=e.images[0],m=f.image_url||f,g=()=>{o(!0)};return c.jsx(c.Fragment,{children:s?c.jsx(A4,{imageUrl:m,onClose:()=>o(!1)}):c.jsx("div",{className:"coloring-popup-overlay",onClick:u,children:c.jsxs("div",{className:"coloring-popup-content",ref:a,children:[c.jsx("div",{className:"coloring-background"}),c.jsx("button",{className:"coloring-close-btn",onClick:t,children:""}),c.jsx("button",{className:"coloring-fullscreen-btn",onClick:l,children:r?" Quitter le plein cran":" Plein cran"}),c.jsxs("div",{className:"coloring-container",children:[c.jsx("h2",{className:"coloring-title",children:" Votre coloriage"}),c.jsx("div",{className:"coloring-image-wrapper",children:c.jsx("img",{src:m,alt:"Coloriage",className:"coloring-popup-image"})}),c.jsxs("div",{className:"coloring-popup-actions",children:[c.jsx("button",{className:"coloring-open-btn",onClick:g,children:" Colorier maintenant"}),c.jsx("button",{className:"coloring-download-btn",onClick:h,children:" Tlcharger le coloriage"})]})]})]})})})};const iF=({selectedTheme:e,setSelectedTheme:t,selectedStyle:n,setSelectedStyle:r,numPages:i,setNumPages:s,customStory:o,setCustomStory:a,characterPhoto:l,setCharacterPhoto:u,onCharacterPhotoUpload:h})=>{const[f,m]=F.useState(!1),g=[{id:"custom",name:"Personnalis",icon:"",description:"Votre propre histoire"},{id:"espace",name:"Espace",icon:"",description:"Aventures spatiales"},{id:"pirates",name:"Pirates",icon:"",description:"Trsors et mers"},{id:"princesses",name:"Princesses",icon:"",description:"Chteaux magiques"},{id:"dinosaures",name:"Dinosaures",icon:"",description:"Monde prhistorique"},{id:"animaux",name:"Animaux",icon:"",description:"Animaux mignons"},{id:"superheros",name:"Super-hros",icon:"",description:"Pouvoirs incroyables"},{id:"foret",name:"Fort Magique",icon:"",description:"Fort enchante"},{id:"ecole",name:"cole",icon:"",description:"Aventures scolaires"},{id:"robots",name:"Robots",icon:"",description:"Robots et technologie"},{id:"chevaliers",name:"Chevaliers",icon:"",description:"Chteaux et chevaliers"},{id:"sports",name:"Sports",icon:"",description:"Aventures sportives"},{id:"musique",name:"Musique",icon:"",description:"Concerts et instruments"},{id:"cirque",name:"Cirque",icon:"",description:"Spectacles et acrobaties"},{id:"licornes",name:"Licornes",icon:"",description:"Licornes magiques"},{id:"vehicules",name:"Vhicules",icon:"",description:"Voitures et transports"},{id:"cuisine",name:"Cuisine",icon:"",description:"Recettes et ptisseries"},{id:"jardin",name:"Jardin",icon:"",description:"Plantes et fleurs"},{id:"voyage_temps",name:"Voyage dans le temps",icon:"",description:"Aventures temporelles"},{id:"zoo",name:"Zoo",icon:"",description:"Aventures au zoo"},{id:"fete",name:"Fte",icon:"",description:"Anniversaires et clbrations"}],b=[{id:"3d",name:"3D",icon:"",description:"Effets 3D modernes"},{id:"cartoon",name:"Cartoon",icon:"",description:"Color et enfantin"},{id:"manga",name:"Manga",icon:"",description:"Style japonais"},{id:"comics",name:"Comics Marvel",icon:"",description:"Style amricain"},{id:"realistic",name:"Raliste",icon:"",description:"Dtaill et raliste"},{id:"watercolor",name:"Aquarelle",icon:"",description:"Doux et artistique"}],_=[1,2,3,4,5],k=async y=>{const x=y.target.files[0];if(x){m(!0);try{await h(x)}catch(S){console.error("Erreur upload:",S),alert("Erreur lors de l'upload de la photo")}finally{m(!1)}}};return c.jsxs("div",{className:"comics-selector",children:[c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"2. Choisissez un thme pour votre bande dessine"}),c.jsx("div",{className:"theme-grid",children:g.map(y=>c.jsxs("div",{className:"theme-slot",children:[c.jsxs(Re.div,{className:`theme-card ${e===y.id?"selected":""} ${y.id==="custom"?"custom-theme":""}`,onClick:()=>t(e===y.id?null:y.id),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[c.jsx("div",{className:"theme-icon",children:y.icon}),c.jsx("div",{className:"theme-name",children:y.name}),c.jsx("div",{className:"theme-description",children:y.description})]}),y.id==="custom"&&e==="custom"&&c.jsx(Re.div,{className:"custom-theme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:c.jsx("textarea",{className:"custom-input",placeholder:"Dcrivez votre histoire personnalise... (ex: Une petite fille qui dcouvre un monde magique dans son jardin)",value:o,onChange:x=>a(x.target.value),rows:3})})]},y.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"3. Choisissez un style de dessin"}),c.jsx("div",{className:"style-grid",children:b.map(y=>c.jsxs(Re.div,{className:`style-card ${n===y.id?"selected":""}`,onClick:()=>r(n===y.id?null:y.id),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[c.jsx("div",{className:"style-icon",children:y.icon}),c.jsx("div",{className:"style-name",children:y.name}),c.jsx("div",{className:"style-description",children:y.description})]},y.id))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"4. Nombre de pages"}),c.jsx("div",{className:"pages-selector",children:_.map(y=>c.jsxs(Re.button,{className:`page-btn ${i===y?"selected":""}`,onClick:()=>s(i===y?null:y),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[y," ",y===1?"page":"pages",c.jsxs("span",{className:"cases-info",children:["(",y*4," cases)"]})]},y))})]}),c.jsxs("div",{className:"selector-section",children:[c.jsx("h3",{children:"5. Personnage principal (optionnel)"}),c.jsxs("div",{className:"character-upload-section",children:[c.jsx("p",{className:"character-description",children:"Uploadez une photo pour crer un personnage ressemblant ! L'IA analysera la photo et crera un personnage de BD similaire."}),c.jsxs("div",{className:"upload-area",children:[c.jsx("input",{type:"file",id:"character-photo-upload",accept:"image/*",onChange:k,className:"file-input",disabled:f}),!l&&c.jsx("label",{htmlFor:"character-photo-upload",className:"upload-label",children:f?c.jsxs("div",{className:"uploading-state",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{children:"Upload en cours..."})]}):c.jsxs("div",{className:"upload-prompt",children:[c.jsx("span",{className:"upload-icon",children:""}),c.jsxs("div",{className:"upload-text",children:[c.jsx("strong",{children:"Cliquez pour uploader une photo"}),c.jsx("span",{children:"ou glissez-dposez une image ici"})]})]})})]}),l&&c.jsxs("div",{className:"photo-preview",children:[c.jsx("img",{src:l.url,alt:"Personnage upload"}),c.jsxs("div",{className:"photo-actions",children:[c.jsx("button",{className:"change-photo-btn",onClick:()=>document.getElementById("character-photo-upload").click(),children:" Changer"}),c.jsx("button",{className:"remove-photo-btn",onClick:()=>u(null),children:" Retirer"})]})]})]})]})]})};const sF=({comic:e,onClose:t,baseUrl:n})=>{const[r,i]=F.useState(0),[s,o]=F.useState(!1);if(!e||!e.pages||e.pages.length===0)return null;const a=_=>_?_.startsWith("http://")||_.startsWith("https://")?_:`${n}${_}`:null,l=e.pages[r],u=e.pages.length,h=()=>{r<u-1&&i(r+1)},f=()=>{r>0&&i(r-1)},m=async()=>{const _=a(l.image_url);if(_)try{const k=await fetch(_);if(!k.ok)throw new Error("Erreur lors du tlchargement");const y=await k.blob(),x=window.URL.createObjectURL(y),S=document.createElement("a");S.href=x;const E=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();S.download=`${E}_page_${r+1}.png`,document.body.appendChild(S),S.click(),document.body.removeChild(S),setTimeout(()=>window.URL.revokeObjectURL(x),100)}catch(k){console.error("Erreur lors du tlchargement:",k);const y=document.createElement("a");y.href=_,y.target="_blank",y.rel="noopener noreferrer";const x=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();y.download=`${x}_page_${r+1}.png`,document.body.appendChild(y),y.click(),document.body.removeChild(y)}},g=async()=>{for(let _=0;_<e.pages.length;_++){const k=e.pages[_],y=a(k.image_url);if(y){try{const x=await fetch(y);if(!x.ok)throw new Error("Erreur lors du tlchargement");const S=await x.blob(),E=window.URL.createObjectURL(S),I=document.createElement("a");I.href=E;const B=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();I.download=`${B}_page_${_+1}.png`,document.body.appendChild(I),I.click(),document.body.removeChild(I),setTimeout(()=>window.URL.revokeObjectURL(E),100)}catch(x){console.error(`Erreur lors du tlchargement de la page ${_+1}:`,x);const S=document.createElement("a");S.href=y,S.target="_blank",S.rel="noopener noreferrer";const E=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();S.download=`${E}_page_${_+1}.png`,document.body.appendChild(S),S.click(),document.body.removeChild(S)}_<e.pages.length-1&&await new Promise(x=>setTimeout(x,500))}}},b=()=>{o(!s)};return c.jsx(Si,{children:c.jsx(Re.div,{className:"comics-popup-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(Re.div,{className:`comics-popup-container ${s?"fullscreen":""}`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:_=>_.stopPropagation(),children:[c.jsx("button",{className:"close-btn",onClick:t,children:""}),c.jsxs("div",{className:"comics-viewer",children:[c.jsx(Si,{mode:"wait",children:c.jsxs(Re.div,{className:"page-display",initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},children:[c.jsx("img",{src:a(l.image_url),alt:`Planche ${r+1}`,className:"page-image",onClick:b}),c.jsxs("div",{className:"page-info",children:["Planche ",r+1," / ",u]})]},r)}),u>1&&c.jsxs("div",{className:"page-navigation",children:[c.jsx("button",{className:"nav-btn prev-btn",onClick:f,disabled:r===0,children:" Prcdent"}),c.jsx("div",{className:"page-dots",children:e.pages.map((_,k)=>c.jsx("button",{className:`page-dot ${k===r?"active":""}`,onClick:()=>i(k),"aria-label":`Aller  la planche ${k+1}`},k))}),c.jsx("button",{className:"nav-btn next-btn",onClick:h,disabled:r===u-1,children:"Suivant "})]})]}),c.jsxs("div",{className:"comics-actions",children:[c.jsxs("button",{className:"action-btn",onClick:b,children:[c.jsx("span",{className:"btn-icon",children:s?"":""}),s?"Rduire":"Plein cran"]}),c.jsxs("button",{className:"action-btn",onClick:m,children:[c.jsx("span",{className:"btn-icon",children:""}),"Tlcharger cette planche"]}),u>1&&c.jsxs("button",{className:"action-btn",onClick:g,children:[c.jsx("span",{className:"btn-icon",children:""}),"Tlcharger toutes les planches"]})]}),u>1&&c.jsxs("div",{className:"thumbnails-section",children:[c.jsx("h4",{children:"Toutes les planches"}),c.jsx("div",{className:"thumbnails-grid",children:e.pages.map((_,k)=>c.jsxs(Re.div,{className:`thumbnail ${k===r?"active":""}`,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(k),children:[c.jsx("img",{src:a(_.image_url),alt:`Miniature planche ${k+1}`}),c.jsxs("div",{className:"thumbnail-label",children:["Planche ",k+1]})]},k))})]})]})})})};async function mp(e={}){let t={};e instanceof Headers?t=Object.fromEntries(e.entries()):t={...e};const{data:{session:n}}=await vt.auth.getSession();return n!=null&&n.access_token&&(t.Authorization=t.Authorization||`Bearer ${n.access_token}`),t}async function Jn(e,t={}){const{headers:n,...r}=t;let i=n||{};return i=await mp(i),fetch(e,{...r,headers:i})}const oF=async(e,t,n,r={})=>{try{const{data:i,error:s}=await vt.from("profiles").select("role").eq("id",t).single();if((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="free")return{hasPermission:!0,reason:(i==null?void 0:i.role)==="admin"?"admin_access":"free_access",userRole:i==null?void 0:i.role,isAdmin:(i==null?void 0:i.role)==="admin"};const{data:o,error:a}=await vt.functions.invoke("check-permission",{body:{contentType:e,userId:t,userEmail:n,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice}});return a?(console.error("Erreur check-permission:",a),{hasPermission:!1,reason:"error",error:a,isAdmin:!1}):{...o,isAdmin:!1}}catch(i){return{hasPermission:!1,reason:"error",error:i,isAdmin:!1}}},aF=async(e,t,n,r={})=>{try{const s=hd(e==="audio"?"histoire":e,r),{data:o,error:a}=await vt.functions.invoke("create-payment",{body:{contentType:e,userId:t,userEmail:n,amount:s.amount,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice}});if(a)throw a;return o}catch(i){throw i}},hd=(e,t={})=>{const n={comptine:{amount:70,name:"Comptine Musicale",currency:"EUR",display:"0,70"},histoire:{amount:50,name:"Histoire",currency:"EUR",display:"0,50"},audio:{amount:50,name:"Histoire",currency:"EUR",display:"0,50"},coloriage:{amount:50,name:"Coloriage Personnalis",currency:"EUR",display:"0,50"},coloring:{amount:50,name:"Coloriage personnalis",currency:"EUR",display:"0,50"},bd:{amount:50,name:"Page de Bande Dessine",currency:"EUR",display:"0,50"},comic:{amount:50,name:"Page de Bande Dessine",currency:"EUR",display:"0,50"},story:{amount:50,name:"Histoire",currency:"EUR",display:"0,50"},rhyme:{amount:70,name:"Comptine musicale",currency:"EUR",display:"0,70"},animation:{amount:599,name:"Animation IA 30s",currency:"EUR",display:"5,99"}};if(e==="histoire"||e==="story"||e==="audio")return{amount:50,name:"Histoire",currency:"EUR",display:"0,50"};if(e==="animation"&&t.duration){const r={30:{amount:599,name:"Animation IA 30s",display:"5,99"},60:{amount:999,name:"Animation IA 1min",display:"9,99"},120:{amount:1899,name:"Animation IA 2min",display:"18,99"},180:{amount:2799,name:"Animation IA 3min",display:"27,99"},240:{amount:3699,name:"Animation IA 4min",display:"36,99"},300:{amount:4699,name:"Animation IA 5min",display:"46,99"}},i=t.duration;if(r[i])return{...n[e],...r[i],currency:"EUR"}}if((e==="bd"||e==="comic")&&t.pages){const i=n[e].amount*t.pages,s=(i/100).toFixed(2).replace(".",",")+"";return{...n[e],amount:i,name:`${t.pages} page${t.pages>1?"s":""} de Bande Dessine`,display:s}}return n[e]||{amount:149,name:"Contenu Cratif",currency:"EUR",display:"1,49"}},P4=async(e,t)=>{try{if(t==="fredagathe77@gmail.com")return!0;const{data:n,error:r}=await vt.from("profiles").select("role").eq("id",e).single();return r?!1:(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="free"}catch{return!1}},lF=async e=>{try{const{data:t,error:n}=await vt.from("profiles").select("role").eq("id",e).single();return(t==null?void 0:t.role)||"user"}catch{return"user"}},cF=async(e,t,n,r)=>{try{const{data:i,error:s}=await vt.from("generation_permissions").upsert({user_id:e,content_type:t,stripe_payment_intent_id:n,amount:r,status:"completed",created_at:new Date().toISOString()});if(s)throw s;return i}catch(i){throw i}},E4=async()=>{try{const{data:e,error:t}=await vt.functions.invoke("manage-subscription",{body:{action:"get_plans"}});if(t)throw t;return e.plans||[]}catch(e){return console.error("Erreur rcupration plans:",e),[]}},L4=async e=>{try{const{data:t,error:n}=await vt.functions.invoke("manage-subscription",{body:{action:"get_subscription",userId:e}});if(n)throw n;return t.subscription}catch(t){return console.error("Erreur rcupration abonnement:",t),null}},T4=async(e,t,n,r)=>{try{const{data:i,error:s}=await vt.functions.invoke("manage-subscription",{body:{action:"create_subscription",planId:e,userId:t,paymentMethodId:n,userEmail:r}});if(s)throw s;return i}catch(i){throw console.error("Erreur cration abonnement:",i),i}},F4=async e=>{try{const{data:t,error:n}=await vt.functions.invoke("manage-subscription",{body:{action:"cancel_subscription",userId:e}});if(n)throw n;return t}catch(t){throw console.error("Erreur annulation abonnement:",t),t}},R4=async e=>{try{const{data:t,error:n}=await vt.functions.invoke("manage-subscription",{body:{action:"confirm_subscription",stripeSubscriptionId:e}});if(n)throw n;return t}catch(t){throw console.error("Erreur confirmation abonnement:",t),t}},uF=async(e,t,n,r={})=>{try{if(!e||!t||n===void 0||n===null||n<=0)return{success:!0,type:"no_deduction",message:"Aucun token  dduire",silent:!0};const i={userId:e,contentType:t,tokensUsed:Number(n),selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice,transactionId:r.transactionId||`txn_${Date.now()}`},{data:s,error:o}=await vt.functions.invoke("deduct-tokens",{body:i});return o?{success:!1,error:o.message||"Erreur dduction tokens",silent:!0}:s}catch(i){return{success:!1,error:i.message||"Erreur dduction tokens",silent:!0}}},dF=async e=>{try{const{data:t,error:n}=await vt.from("user_tokens").select("*").eq("user_id",e).is("used_at",null).or("expires_at.is.null,expires_at.gte."+new Date().toISOString()).order("created_at",{ascending:!1});if(n)throw n;return{totalTokens:t.reduce((i,s)=>i+s.tokens_amount,0),tokens:t}}catch(t){return console.error("Erreur rcupration tokens:",t),{totalTokens:0,tokens:[]}}},hF=(e,t={},n=null)=>{let r=4;if(e==="histoire"||e==="story"||e==="audio")r=4;else if(e==="coloriage")r=13;else if(e==="bd"||e==="comic")r=13,t.pages&&t.pages>0&&(r=r*t.pages);else if(e==="comptine"||e==="rhyme")r=15;else if(e==="animation"){const o=.14*(t.duration||30);r=Math.ceil(o*100)}return r},fF=async(e,t=50)=>{try{const{data:n,error:r}=await vt.from("user_tokens").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return n||[]}catch(n){return console.error("Erreur rcupration historique tokens:",n),[]}},pF=Object.freeze(Object.defineProperty({__proto__:null,calculateTokenCost:hF,cancelSubscription:F4,checkPaymentPermission:oF,confirmSubscription:R4,createPaymentSession:aF,createSubscription:T4,deductTokens:uF,getContentPrice:hd,getSubscriptionPlans:E4,getTokenHistory:fF,getUserRole:lF,getUserSubscription:L4,getUserTokens:dF,grantPermission:cF,hasFreeAccess:P4},Symbol.toStringTag,{value:"Module"}));var I4="clover",mF=function(t){return t===3?"v3":t},O4="https://js.stripe.com",gF="".concat(O4,"/").concat(I4,"/stripe.js"),vF=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,yF=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,bw="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",wF=function(t){return vF.test(t)||yF.test(t)},xF=function(){for(var t=document.querySelectorAll('script[src^="'.concat(O4,'"]')),n=0;n<t.length;n++){var r=t[n];if(wF(r.src))return r}return null},Sw=function(t){var n=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(gF).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},bF=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.0.0",startTime:n})},eu=null,jh=null,kh=null,SF=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},_F=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},jF=function(t){return eu!==null?eu:(eu=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(bw),window.Stripe){n(window.Stripe);return}try{var i=xF();if(i&&t)console.warn(bw);else if(!i)i=Sw(t);else if(i&&kh!==null&&jh!==null){var s;i.removeEventListener("load",kh),i.removeEventListener("error",jh),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=Sw(t)}kh=_F(n,r),jh=SF(r),i.addEventListener("load",kh),i.addEventListener("error",jh)}catch(o){r(o);return}}),eu.catch(function(n){return eu=null,Promise.reject(n)}))},kF=function(t,n,r){if(t===null)return null;var i=n[0],s=i.match(/^pk_test/),o=mF(t.version),a=I4;s&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.0.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,n);return bF(l,r),l},tu,D4=!1,M4=function(){return tu||(tu=jF(null).catch(function(t){return tu=null,Promise.reject(t)}),tu)};Promise.resolve().then(function(){return M4()}).catch(function(e){D4||console.warn(e)});var B4=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];D4=!0;var i=Date.now();return M4().then(function(s){return kF(s,n,i)})},U4={exports:{}},NF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CF=NF,AF=CF;function z4(){}function $4(){}$4.resetWarningCache=z4;var PF=function(){function e(r,i,s,o,a,l){if(l!==AF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$4,resetWarningCache:z4};return n.PropTypes=n,n};U4.exports=PF();var EF=U4.exports;const Vt=Dg(EF);function _w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(n),!0).forEach(function(r){q4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_w(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jh=function(t){return typeof t}:Jh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function q4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LF(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function TF(e,t){if(e==null)return{};var n=LF(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function V4(e,t){return FF(e)||RF(e,t)||IF(e,t)||OF()}function FF(e){if(Array.isArray(e))return e}function RF(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function IF(e,t){if(e){if(typeof e=="string")return kw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(e,t)}}function kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wr=function(t,n,r){var i=!!r,s=Ut.useRef(r);Ut.useEffect(function(){s.current=r},[r]),Ut.useEffect(function(){if(!i||!t)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return t.on(n,o),function(){t.off(n,o)}},[i,n,t,s])},Ig=function(t){var n=Ut.useRef(t);return Ut.useEffect(function(){n.current=t},[t]),n.current},nc=function(t){return t!==null&&Jh(t)==="object"},DF=function(t){return nc(t)&&typeof t.then=="function"},MF=function(t){return nc(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Nw="[object Object]",BF=function e(t,n){if(!nc(t)||!nc(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(t)===Nw,o=Object.prototype.toString.call(n)===Nw;if(s!==o)return!1;if(!s&&!r)return t===n;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},h=0;h<a.length;h+=1)u[a[h]]=!0;for(var f=0;f<l.length;f+=1)u[l[f]]=!0;var m=Object.keys(u);if(m.length!==a.length)return!1;var g=t,b=n,_=function(y){return e(g[y],b[y])};return m.every(_)},H4=function(t,n,r){return nc(t)?Object.keys(t).reduce(function(i,s){var o=!nc(n)||!BF(t[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?jw(jw({},i||{}),{},q4({},s,t[s])):i},null):null},W4="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Cw=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W4;if(t===null||MF(t))return t;throw new Error(n)},UF=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W4;if(DF(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return Cw(i,n)})};var r=Cw(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},zF=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.0.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.0.0",url:"https://stripe.com/docs/stripe-js/react"}))},gp=Ut.createContext(null);gp.displayName="ElementsContext";var G4=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},Pv=function(t){var n=t.stripe,r=t.options,i=t.children,s=Ut.useMemo(function(){return UF(n)},[n]),o=Ut.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=V4(o,2),l=a[0],u=a[1];Ut.useEffect(function(){var m=!0,g=function(_){u(function(k){return k.stripe?k:{stripe:_,elements:_.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(b){b&&m&&g(b)}):s.tag==="sync"&&!l.stripe&&g(s.stripe),function(){m=!1}},[s,l,r]);var h=Ig(n);Ut.useEffect(function(){h!==null&&h!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,n]);var f=Ig(r);return Ut.useEffect(function(){if(l.elements){var m=H4(r,f,["clientSecret","fonts"]);m&&l.elements.update(m)}},[r,f,l.elements]),Ut.useEffect(function(){zF(l.stripe)},[l.stripe]),Ut.createElement(gp.Provider,{value:l},i)};Pv.propTypes={stripe:Vt.any,options:Vt.object};var $F=function(t){var n=Ut.useContext(gp);return G4(n,t)},K4=function(){var t=$F("calls useElements()"),n=t.elements;return n};Vt.func.isRequired;var J4=Ut.createContext(null);J4.displayName="CheckoutContext";Vt.any,Vt.shape({clientSecret:Vt.oneOfType([Vt.string,Vt.instanceOf(Promise)]).isRequired,elementsOptions:Vt.object}).isRequired;var Og=function(t){var n=Ut.useContext(J4),r=Ut.useContext(gp);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return G4(r,t)},qF=["mode"],VF=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Dr=function(t,n){var r="".concat(VF(t),"Element"),i=function(l){var u=l.id,h=l.className,f=l.options,m=f===void 0?{}:f,g=l.onBlur,b=l.onFocus,_=l.onReady,k=l.onChange,y=l.onEscape,x=l.onClick,S=l.onLoadError,E=l.onLoaderStart,I=l.onNetworksChange,B=l.onConfirm,U=l.onCancel,O=l.onShippingAddressChange,K=l.onShippingRateChange,Y=l.onSavedPaymentMethodRemove,R=l.onSavedPaymentMethodUpdate,P=Og("mounts <".concat(r,">")),J="elements"in P?P.elements:null,V="checkoutState"in P?P.checkoutState:null,ce=(V==null?void 0:V.type)==="success"||(V==null?void 0:V.type)==="loading"?V.sdk:null,le=Ut.useState(null),ae=V4(le,2),W=ae[0],te=ae[1],Q=Ut.useRef(null),me=Ut.useRef(null);wr(W,"blur",g),wr(W,"focus",b),wr(W,"escape",y),wr(W,"click",x),wr(W,"loaderror",S),wr(W,"loaderstart",E),wr(W,"networkschange",I),wr(W,"confirm",B),wr(W,"cancel",U),wr(W,"shippingaddresschange",O),wr(W,"shippingratechange",K),wr(W,"savedpaymentmethodremove",Y),wr(W,"savedpaymentmethodupdate",R),wr(W,"change",k);var N;_&&(t==="expressCheckout"?N=_:N=function(){_(W)}),wr(W,"ready",N),Ut.useLayoutEffect(function(){if(Q.current===null&&me.current!==null&&(J||ce)){var $=null;if(ce)switch(t){case"payment":$=ce.createPaymentElement(m);break;case"address":if("mode"in m){var G=m.mode,Z=TF(m,qF);if(G==="shipping")$=ce.createShippingAddressElement(Z);else if(G==="billing")$=ce.createBillingAddressElement(Z);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":$=ce.createExpressCheckoutElement(m);break;case"currencySelector":$=ce.createCurrencySelectorElement();break;case"taxId":$=ce.createTaxIdElement(m);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else J&&($=J.create(t,m));Q.current=$,te($),$&&$.mount(me.current)}},[J,ce,m]);var z=Ig(m);return Ut.useEffect(function(){if(Q.current){var $=H4(m,z,["paymentRequest"]);$&&"update"in Q.current&&Q.current.update($)}},[m,z]),Ut.useLayoutEffect(function(){return function(){if(Q.current&&typeof Q.current.destroy=="function")try{Q.current.destroy(),Q.current=null}catch{}}},[]),Ut.createElement("div",{id:u,className:h,ref:me})},s=function(l){Og("mounts <".concat(r,">"));var u=l.id,h=l.className;return Ut.createElement("div",{id:u,className:h})},o=n?s:i;return o.propTypes={id:Vt.string,className:Vt.string,onChange:Vt.func,onBlur:Vt.func,onFocus:Vt.func,onReady:Vt.func,onEscape:Vt.func,onClick:Vt.func,onLoadError:Vt.func,onLoaderStart:Vt.func,onNetworksChange:Vt.func,onConfirm:Vt.func,onCancel:Vt.func,onShippingAddressChange:Vt.func,onShippingRateChange:Vt.func,onSavedPaymentMethodRemove:Vt.func,onSavedPaymentMethodUpdate:Vt.func,options:Vt.object},o.displayName=r,o.__elementType=t,o},Mr=typeof window>"u",HF=Ut.createContext(null);HF.displayName="EmbeddedCheckoutProviderContext";var Y4=function(){var t=Og("calls useStripe()"),n=t.stripe;return n};Dr("auBankAccount",Mr);Dr("card",Mr);var Rf=Dr("cardNumber",Mr),X4=Dr("cardExpiry",Mr),Q4=Dr("cardCvc",Mr);Dr("iban",Mr);Dr("payment",Mr);Dr("expressCheckout",Mr);Dr("paymentRequestButton",Mr);Dr("linkAuthentication",Mr);Dr("address",Mr);Dr("shippingAddress",Mr);Dr("paymentMethodMessaging",Mr);Dr("taxId",Mr);const WF="pk_live_51S9nbM2KIKbs2fxdAx3GkjvMFW540T4gDimo0fz30ZYXcXwJd4tYv6xdF0MD0yyYxmf3MwckzJoCuniCFHjYlXYg00ZrKRqzqt",GF=B4(WF,{betas:[],locale:"fr"}),Zm={style:{base:{color:"#333",fontFamily:'"Baloo 2", sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#b8b5d1"}},invalid:{color:"#d32f2f",iconColor:"#d32f2f"},complete:{color:"#6B4EFF",iconColor:"#6B4EFF"}}},KF=({onClose:e,onSuccess:t,contentType:n,options:r})=>{const i=Y4(),s=K4(),[o,a]=F.useState(!1),[l,u]=F.useState(""),[h,f]=F.useState(""),m=n==="audio"?"histoire":n,g=hd(m,r),b=async x=>{if(x.preventDefault(),!i||!s){u("Stripe n'est pas encore charg. Veuillez ressayer.");return}if(!h.trim()){u("Veuillez entrer le nom du titulaire de la carte");return}const S=s.getElement(Rf);if(!S){u("Impossible de charger le formulaire de paiement.");return}a(!0),u("");try{const{data:{user:E}}=await vt.auth.getUser(),{data:I,error:B}=await vt.functions.invoke("create-payment",{body:{amount:g.amount,currency:g.currency,contentType:m,description:g.name,userId:(E==null?void 0:E.id)||"anonymous",userEmail:(E==null?void 0:E.email)||"anonymous@guest.com"}});if(B){console.error("Erreur Edge Function:",B);try{const K=JSON.parse(B.message);if(K&&K.error)throw new Error(K.error)}catch{}throw new Error(B.message||"Erreur lors de la cration du paiement")}if(I&&I.error)throw console.error("Erreur logique create-payment:",I),new Error(I.error);if(!I||!I.clientSecret)throw console.error("Rponse create-payment invalide:",I),new Error("Impossible de crer le paiement (rponse invalide)");const{error:U,paymentIntent:O}=await i.confirmCardPayment(I.clientSecret,{payment_method:{card:S,billing_details:{name:h,email:(E==null?void 0:E.email)||"anonymous@guest.com"}}});if(U)throw new Error(U.message||"Le paiement a chou");if(O&&O.status==="succeeded")t();else throw new Error("Le paiement n'a pas t confirm")}catch(E){console.error("Erreur de paiement:",E),u(E.message||"Une erreur est survenue lors du paiement")}finally{a(!1)}},_={width:"100%",padding:"12px 14px",fontSize:"15px",border:"1px solid #e0e0e0",borderRadius:"8px",fontFamily:'"Baloo 2", sans-serif',boxSizing:"border-box",outline:"none",transition:"border-color 0.2s ease",backgroundColor:"white"},k={display:"block",marginBottom:"5px",fontSize:"13px",fontWeight:"500",color:"#666",fontFamily:'"Baloo 2", sans-serif'},y={padding:"12px 14px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"white",transition:"border-color 0.2s ease"};return c.jsxs("form",{onSubmit:b,children:[c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:k,children:"Nom du titulaire"}),c.jsx("input",{type:"text",value:h,onChange:x=>f(x.target.value),placeholder:"Jean Dupont",required:!0,style:_,onFocus:x=>{x.target.style.borderColor="#6B4EFF"},onBlur:x=>{x.target.style.borderColor="#e0e0e0"}})]}),c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:k,children:"Numro de carte"}),c.jsx("div",{style:y,className:"stripe-card-element",children:c.jsx(Rf,{options:Zm})})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:k,children:"Date d'expiration"}),c.jsx("div",{style:y,className:"stripe-card-element",children:c.jsx(X4,{options:Zm})})]}),c.jsxs("div",{children:[c.jsx("label",{style:k,children:"CVC"}),c.jsx("div",{style:y,className:"stripe-card-element",children:c.jsx(Q4,{options:Zm})})]})]}),l&&c.jsx("div",{style:{padding:"12px",backgroundColor:"#fff5f5",color:"#e53e3e",borderRadius:"6px",marginBottom:"14px",fontSize:"14px",border:"1px solid #feb2b2",fontFamily:'"Baloo 2", sans-serif'},children:l}),c.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"0"},children:[c.jsx("button",{type:"button",onClick:e,disabled:o,style:{flex:1,padding:"12px 20px",fontSize:"15px",fontWeight:"500",borderRadius:"8px",border:"1px solid #d0d0d0",backgroundColor:"white",color:"#666",cursor:o?"not-allowed":"pointer",opacity:o?.5:1,fontFamily:'"Baloo 2", sans-serif',transition:"background-color 0.2s ease"},onMouseEnter:x=>{o||(x.target.style.backgroundColor="#f9f9f9")},onMouseLeave:x=>{x.target.style.backgroundColor="white"},children:"Annuler"}),c.jsx("button",{type:"submit",disabled:!i||o,style:{flex:1,padding:"12px 20px",fontSize:"15px",fontWeight:"500",borderRadius:"8px",border:"none",backgroundColor:"#6B4EFF",color:"white",cursor:!i||o?"not-allowed":"pointer",opacity:!i||o?.6:1,fontFamily:'"Baloo 2", sans-serif',transition:"background-color 0.2s ease"},onMouseEnter:x=>{i&&!o&&(x.target.style.backgroundColor="#5a3eef")},onMouseLeave:x=>{x.target.style.backgroundColor="#6B4EFF"},children:o?"Traitement...":`Payer ${g.display}`})]})]})},JF=({isOpen:e,onClose:t,onSuccess:n,contentType:r,options:i={}})=>{if(!e)return null;const o=hd(r==="audio"?"histoire":r,i),a=u=>{u.target===u.currentTarget&&t()},l=c.jsx("div",{onClick:a,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999999,padding:"20px",fontFamily:'"Baloo 2", sans-serif'},children:c.jsx("div",{onClick:u=>u.stopPropagation(),style:{backgroundColor:"white",borderRadius:"16px",maxWidth:"500px",width:"100%",boxShadow:"0 25px 50px rgba(107, 78, 255, 0.25), 0 10px 20px rgba(0, 0, 0, 0.1)",position:"relative",maxHeight:"90vh",overflowY:"auto",isolation:"isolate",border:"3px solid #6B4EFF"},children:c.jsxs("div",{style:{padding:"32px"},children:[c.jsx("button",{onClick:t,style:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"28px",cursor:"pointer",color:"#999",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",lineHeight:"1",zIndex:10},"aria-label":"Fermer",children:""}),c.jsx("h2",{style:{margin:"0 0 12px 0",fontSize:"24px",fontWeight:"600",color:"#333",fontFamily:'"Baloo 2", sans-serif',textAlign:"center"},children:"Paiement scuris"}),c.jsxs("div",{style:{margin:"0 0 20px 0",padding:"12px 16px",backgroundColor:"#f8f7ff",borderRadius:"12px",border:"2px solid #6B4EFF",textAlign:"center",fontFamily:'"Baloo 2", sans-serif'},children:[c.jsx("div",{style:{fontSize:"14px",color:"#666",marginBottom:"2px"},children:o.name}),c.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#6B4EFF"},children:o.display})]}),c.jsx(Pv,{stripe:GF,children:c.jsx(KF,{onClose:t,onSuccess:n,contentType:r,options:i})}),c.jsx("div",{style:{marginTop:"12px",textAlign:"right",fontSize:"11px",color:"#999",fontFamily:'"Baloo 2", sans-serif'},children:" Paiement scuris par Stripe"})]})})});return $b.createPortal(l,document.body)};const YF=107>0?B4("pk_live_51S9nbM2KIKbs2fxdAx3GkjvMFW540T4gDimo0fz30ZYXcXwJd4tYv6xdF0MD0yyYxmf3MwckzJoCuniCFHjYlXYg00ZrKRqzqt",{betas:[],locale:"fr"}):Promise.resolve(null),XF=({onSelectPlan:e,currentSubscription:t})=>{const[n,r]=F.useState([]),[i,s]=F.useState(!0);F.useEffect(()=>{o()},[]);const o=async()=>{try{const u=await E4();r(u)}catch(u){console.error("Erreur chargement plans:",u)}finally{s(!1)}},a=u=>{const h={histoire:29,coloring:69,comic:69,rhyme:69,animation30:599,animation60:999,animation120:1899,animation180:2799,animation240:3699,animation300:4699},f={histoire:4,coloring:16,comic:16,rhyme:15,animation30:420,animation60:840,animation120:1680,animation180:2520,animation240:3360,animation300:4200},g={Dcouverte:{price:499,totalTokens:250},Famille:{price:999,totalTokens:500},Cratif:{price:1999,totalTokens:1e3},Institut:{price:4999,totalTokens:2500}}[u];if(!g)return{};const b={histoire:Math.floor(g.totalTokens/f.histoire),coloring:Math.floor(g.totalTokens/f.coloring),comic:Math.floor(g.totalTokens/f.comic),rhyme:Math.floor(g.totalTokens/f.rhyme),animation30:Math.floor(g.totalTokens/f.animation30),animation60:Math.floor(g.totalTokens/f.animation60),animation120:Math.floor(g.totalTokens/f.animation120),animation180:Math.floor(g.totalTokens/f.animation180),animation240:Math.floor(g.totalTokens/f.animation240),animation300:Math.floor(g.totalTokens/f.animation300)},_=b.histoire*h.histoire+b.coloring*h.coloring+b.comic*h.comic+b.rhyme*h.rhyme+b.animation30*h.animation30+b.animation60*h.animation60+b.animation120*h.animation120+b.animation180*h.animation180+b.animation240*h.animation240+b.animation300*h.animation300,k=Math.round((_-g.price)/_*100),y=[`${g.totalTokens} tokens par mois pour crer librement`],x={Dcouverte:["40 histoires + 5 coloriages","30 histoires + 3 coloriages + 5 comptines"],Famille:["80 histoires + 10 coloriages","1 animation 30s + 20 histoires"],Cratif:["150 histoires + 20 coloriages","2 animations 30s + 40 histoires"],Institut:["300 histoires + 50 coloriages","5 animations 30s + 100 histoires","1 animation 2min + 150 histoires"]};return x[u]&&x[u].forEach(E=>{y.push(` ${E}`)}),{Dcouverte:{features:y,ideal:"Parfait pour dcouvrir Herbbie",economy:`conomisez ${k}%`},Famille:{features:y,ideal:"Pour les familles actives",economy:`conomisez ${k}%`},Cratif:{features:y,ideal:"Pour les crateurs intensifs",economy:`conomisez ${k}%`},Institut:{features:y,ideal:"Pour les coles et institutions",economy:`conomisez ${k}%`}}[u]||{}};if(i)return c.jsx("div",{className:"subscription-modal-loading",children:c.jsx("div",{className:"subscription-modal-spinner"})});const l=!!t;return c.jsx("div",{className:`subscription-plans-grid ${l?"has-active-subscription":""}`,children:n.map(u=>{var m,g;const h=a(u.name),f=((m=t==null?void 0:t.subscription_plans)==null?void 0:m.name)===u.name;return c.jsxs("div",{className:`subscription-plan-card ${f?"active":""} ${l?"compact":""}`,children:[c.jsx("div",{className:"plan-name",children:u.name}),c.jsxs("div",{className:"plan-price",children:[(u.price_monthly/100).toFixed(2).replace(".",","),""]}),c.jsx("div",{className:"plan-price-period",children:"par mois"}),c.jsx("ul",{className:"plan-features",children:(g=h.features)==null?void 0:g.map((b,_)=>c.jsx("li",{children:b},_))}),c.jsx("div",{className:"plan-ideal",children:h.ideal}),!f&&c.jsx("button",{onClick:()=>e(u),className:"plan-button primary",children:"Choisir ce plan"}),f&&c.jsx("button",{className:"plan-button secondary",disabled:!0,children:"Plan actif"})]},u.id)})})},e0={style:{base:{color:"#333",fontFamily:'"Baloo 2", sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#b8b5d1"}},invalid:{color:"#d32f2f",iconColor:"#d32f2f"},complete:{color:"#6B4EFF",iconColor:"#6B4EFF"}}},QF=({selectedPlan:e,onSuccess:t,onCancel:n,userId:r,userEmail:i})=>{const s=Y4(),o=K4(),[a,l]=F.useState(!1),[u,h]=F.useState(""),[f,m]=F.useState(null),g=async y=>{if(y.preventDefault(),!s||!o){m("Stripe n'est pas encore charg. Veuillez ressayer.");return}if(!u.trim()){m("Veuillez entrer le nom du titulaire de la carte");return}const x=o.getElement(Rf);if(!x){m("Impossible de charger le formulaire de paiement.");return}l(!0),m(null);try{const{error:S,paymentMethod:E}=await s.createPaymentMethod({type:"card",card:x,billing_details:{name:u.trim(),email:i}});if(S){m(S.message);return}const I=await T4(e.id,r,E.id,i);if(I.success){if(I.clientSecret){const{error:B}=await s.confirmCardPayment(I.clientSecret);if(B){m(B.message);return}try{await R4(I.stripeSubscription.id)}catch(U){console.error("Erreur confirmation abonnement:",U)}}t()}else m(I.error||"Erreur lors de la cration de l'abonnement")}catch(S){console.error("Erreur abonnement:",S),m("Erreur lors de la cration de l'abonnement")}finally{l(!1)}},b={width:"100%",padding:"12px 14px",fontSize:"15px",border:"1px solid #e0e0e0",borderRadius:"8px",fontFamily:'"Baloo 2", sans-serif',boxSizing:"border-box",outline:"none",transition:"border-color 0.2s ease",backgroundColor:"white"},_={display:"block",marginBottom:"5px",fontSize:"13px",fontWeight:"500",color:"#666",fontFamily:'"Baloo 2", sans-serif'},k={padding:"12px 14px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"white",transition:"border-color 0.2s ease"};return c.jsxs("form",{onSubmit:g,children:[c.jsxs("div",{style:{margin:"0 0 20px 0",padding:"12px 16px",backgroundColor:"#f8f7ff",borderRadius:"12px",border:"2px solid #6B4EFF",textAlign:"center",fontFamily:'"Baloo 2", sans-serif'},children:[c.jsxs("div",{style:{fontSize:"14px",color:"#666",marginBottom:"2px"},children:["S'abonner  ",e.name]}),c.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#6B4EFF"},children:[(e.price_monthly/100).toFixed(2).replace(".",","),"/mois"]}),c.jsx("div",{style:{fontSize:"12px",color:"#888",marginTop:"4px"},children:"Factur mensuellement  Annulable  tout moment"})]}),c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:_,children:"Nom du titulaire de la carte"}),c.jsx("input",{type:"text",value:u,onChange:y=>h(y.target.value),placeholder:"Jean Dupont",required:!0,style:b,onFocus:y=>{y.target.style.borderColor="#6B4EFF"},onBlur:y=>{y.target.style.borderColor="#e0e0e0"}})]}),c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:_,children:"Numro de carte"}),c.jsx("div",{style:k,className:"stripe-card-element",children:c.jsx(Rf,{options:e0})})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:_,children:"Date d'expiration"}),c.jsx("div",{style:k,className:"stripe-card-element",children:c.jsx(X4,{options:e0})})]}),c.jsxs("div",{children:[c.jsx("label",{style:_,children:"CVC"}),c.jsx("div",{style:k,className:"stripe-card-element",children:c.jsx(Q4,{options:e0})})]})]}),f&&c.jsx("div",{style:{padding:"12px",backgroundColor:"#fff5f5",color:"#e53e3e",borderRadius:"6px",marginBottom:"14px",fontSize:"14px",border:"1px solid #feb2b2",fontFamily:'"Baloo 2", sans-serif'},children:f}),c.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"0"},children:[c.jsx("button",{type:"button",onClick:n,disabled:a,style:{flex:1,padding:"12px 20px",fontSize:"15px",fontWeight:"500",borderRadius:"8px",border:"1px solid #d0d0d0",backgroundColor:"white",color:"#666",cursor:a?"not-allowed":"pointer",opacity:a?.5:1,fontFamily:'"Baloo 2", sans-serif',transition:"background-color 0.2s ease"},onMouseEnter:y=>{a||(y.target.style.backgroundColor="#f9f9f9")},onMouseLeave:y=>{y.target.style.backgroundColor="white"},children:"Annuler"}),c.jsx("button",{type:"submit",disabled:!s||a,style:{flex:1,padding:"12px 20px",fontSize:"15px",fontWeight:"500",borderRadius:"8px",border:"none",backgroundColor:"#6B4EFF",color:"white",cursor:!s||a?"not-allowed":"pointer",opacity:!s||a?.6:1,fontFamily:'"Baloo 2", sans-serif',transition:"background-color 0.2s ease"},onMouseEnter:y=>{s&&!a&&(y.target.style.backgroundColor="#5a3eef")},onMouseLeave:y=>{y.target.style.backgroundColor="#6B4EFF"},children:a?"Traitement...":`S'abonner pour ${(e.price_monthly/100).toFixed(2).replace(".",",")}/mois`})]}),c.jsx("div",{style:{marginTop:"12px",marginBottom:"20px",textAlign:"center",fontSize:"11px",color:"#999",fontFamily:'"Baloo 2", sans-serif'},children:" Vos informations de paiement sont scurises et cryptes. Vous pouvez annuler votre abonnement  tout moment."})]})},ZF=({subscription:e,onCancel:t,onClose:n})=>{const[r,i]=F.useState(!1),s=async()=>{if(confirm("tes-vous sr de vouloir annuler votre abonnement ? Il restera actif jusqu' la fin de la priode en cours.")){i(!0);try{await F4(e.user_id),alert("Votre abonnement a t annul. Il restera actif jusqu' la fin de la priode en cours."),t()}catch(a){console.error("Erreur annulation:",a),alert("Erreur lors de l'annulation de l'abonnement")}finally{i(!1)}}},o=a=>new Date(a).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",fontFamily:'"Baloo 2", sans-serif'},children:[c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("h3",{style:{fontSize:"24px",fontWeight:"700",color:"#1a1a1a",marginBottom:"8px"},children:"Gestion de l'abonnement"}),c.jsxs("div",{style:{backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"12px",padding:"12px"},children:[c.jsxs("div",{style:{color:"#166534",fontWeight:"500",fontSize:"15px"},children:["Plan ",e.subscription_plans.name," actif"]}),c.jsxs("div",{style:{color:"#16a34a",fontSize:"13px",marginTop:"6px"},children:["Prochaine facturation: ",o(e.current_period_end)]})]})]}),c.jsxs("div",{style:{backgroundColor:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"12px",padding:"12px"},children:[c.jsxs("div",{style:{color:"#1e40af",fontWeight:"500",fontSize:"15px"},children:["Tokens disponibles: ",e.tokens_remaining]}),c.jsxs("div",{style:{color:"#2563eb",fontSize:"13px",marginTop:"6px"},children:["Tokens utiliss ce mois: ",e.tokens_used_this_month||0]})]}),c.jsxs("div",{style:{backgroundColor:"#f9fafb",borderRadius:"12px",padding:"12px"},children:[c.jsx("h4",{style:{fontWeight:"500",color:"#1a1a1a",marginBottom:"10px",fontSize:"15px"},children:"Dtails de l'abonnement"}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",fontSize:"13px",color:"#6b7280"},children:[c.jsxs("div",{children:["Prix: ",(e.subscription_plans.price_monthly/100).toFixed(2).replace(".",","),"/mois"]}),c.jsxs("div",{children:["Dbut de priode: ",o(e.current_period_start)]}),c.jsxs("div",{children:["Fin de priode: ",o(e.current_period_end)]}),c.jsxs("div",{children:["Status: ",e.status==="active"?"Actif":e.status]})]})]}),c.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"0px"},children:[c.jsx("button",{onClick:n,style:{flex:1,backgroundColor:"#e5e7eb",color:"#1f2937",padding:"10px 14px",borderRadius:"8px",fontWeight:"500",border:"none",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s"},onMouseEnter:a=>a.target.style.backgroundColor="#d1d5db",onMouseLeave:a=>a.target.style.backgroundColor="#e5e7eb",children:"Fermer"}),c.jsx("button",{onClick:s,disabled:r||e.cancel_at_period_end,style:{flex:1,backgroundColor:e.cancel_at_period_end?"#9ca3af":"#dc2626",color:"white",padding:"10px 14px",borderRadius:"8px",fontWeight:"500",border:"none",cursor:r||e.cancel_at_period_end?"not-allowed":"pointer",fontSize:"14px",opacity:r||e.cancel_at_period_end?.5:1,transition:"background-color 0.2s"},onMouseEnter:a=>{!r&&!e.cancel_at_period_end&&(a.target.style.backgroundColor="#b91c1c")},onMouseLeave:a=>{!r&&!e.cancel_at_period_end&&(a.target.style.backgroundColor="#dc2626")},children:r?"Annulation...":"Annuler l'abonnement"})]}),e.cancel_at_period_end&&c.jsx("div",{style:{backgroundColor:"#fff7ed",border:"1px solid #fed7aa",borderRadius:"12px",padding:"10px",marginTop:"0px",marginBottom:"14px"},children:c.jsxs("div",{style:{color:"#9a3412",fontSize:"13px"},children:[" Votre abonnement sera annul le ",o(e.current_period_end)]})})]})},eR=({isOpen:e,onClose:t,userId:n,userEmail:r})=>{const[i,s]=F.useState("plans"),[o,a]=F.useState(null),[l,u]=F.useState(null),[h,f]=F.useState(!0);F.useEffect(()=>{e&&n&&m()},[e,n]);const m=async()=>{try{const I=await L4(n);u(I)}catch(I){console.error("Erreur chargement abonnement:",I)}finally{f(!1)}},g=I=>{a(I),s("payment")},b=()=>{s("plans"),a(null),m(),alert(" Flicitations ! Votre abonnement a t activ avec succs.")},_=()=>{s("plans"),a(null)},k=()=>{s("plans"),a(null),t()};if(!e)return null;const y=I=>{I.target===I.currentTarget&&k()},x=i==="payment",S=i==="management",E=c.jsx("div",{className:"subscription-modal-overlay",onClick:y,children:c.jsxs(Re.div,{className:`subscription-modal-content ${x?"subscription-modal-payment":""} ${S?"subscription-modal-management":""}`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:I=>I.stopPropagation(),children:[c.jsxs("div",{className:"subscription-modal-header",children:[c.jsx("h2",{children:l?"Mon abonnement":"Choisir un abonnement"}),c.jsx("button",{onClick:k,className:"subscription-modal-close","aria-label":"Fermer",children:""})]}),h?c.jsx("div",{className:"subscription-modal-loading",children:c.jsx("div",{className:"subscription-modal-spinner"})}):c.jsxs(c.Fragment,{children:[i==="plans"&&c.jsx(XF,{onSelectPlan:g,currentSubscription:l}),i==="payment"&&o&&c.jsx(Pv,{stripe:YF,children:c.jsx(QF,{selectedPlan:o,onSuccess:b,onCancel:_,userId:n,userEmail:r})}),i==="management"&&l&&c.jsx(ZF,{subscription:l,onCancel:m,onClose:k}),l&&i==="plans"&&c.jsx("div",{style:{marginTop:"1.2rem",paddingTop:"1rem",borderTop:"1px solid rgba(107, 78, 255, 0.12)",textAlign:"center"},children:c.jsx("button",{onClick:()=>s("management"),className:"plan-button primary",style:{maxWidth:"300px",margin:"0.5rem auto 0.75rem auto"},children:"Grer mon abonnement"})})]})]})});return $b.createPortal(E,document.body)};const tR=({onLegalClick:e})=>c.jsx("footer",{className:"app-footer",children:c.jsxs("div",{className:"footer-content",children:[c.jsxs("div",{className:"ai-notice",children:[c.jsx("p",{children:"Les crations sont gnres par IA et peuvent contenir des erreurs."}),c.jsx("p",{children:"Pour toute question, recommandation ou demande, n'hsitez pas  nous contacter !"})]}),c.jsxs("div",{className:"footer-links",children:[c.jsx("button",{className:"footer-link",onClick:()=>e("mentions"),children:"Mentions lgales"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("privacy"),children:"Confidentialit"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("cookies"),children:"Cookies"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("terms"),children:"CGU"}),c.jsx("span",{className:"separator",children:""}),c.jsx("button",{className:"footer-link",onClick:()=>e("contact"),children:"Contact"})]}),c.jsx("div",{className:"footer-info",children:c.jsxs("p",{children:[" ",new Date().getFullYear()," HERBBIE"]})})]})});const nR=({onClose:e,initialSection:t="mentions"})=>{const[n,r]=F.useState(t),[i,s]=F.useState({firstName:"",lastName:"",email:"",subject:"",message:""}),[o,a]=F.useState(!1),[l,u]=F.useState(""),h=[{id:"mentions",title:"Mentions Lgales",icon:""},{id:"privacy",title:"Confidentialit",icon:""},{id:"cookies",title:"Cookies",icon:""},{id:"terms",title:"Conditions d'utilisation",icon:""},{id:"contact",title:"Contact",icon:""}],f=()=>{switch(n){case"mentions":return m();case"privacy":return g();case"cookies":return b();case"terms":return _();case"contact":return x();default:return m()}},m=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Mentions Lgales"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Hbergement"}),c.jsxs("div",{className:"info-block",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Hbergeur :"})," Railway"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Adresse :"})," Railway, 1 Sentry Way, San Francisco, CA 94103, tats-Unis"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Site web :"})," ",c.jsx("a",{href:"https://railway.app",target:"_blank",rel:"noopener noreferrer",children:"railway.app"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Proprit intellectuelle"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"L'ensemble du contenu de ce site (textes, images, vidos, lments graphiques, logos, icnes, sons, logiciels) est la proprit exclusive de HERBBIE ou de ses partenaires, sauf mention contraire."}),c.jsx("p",{children:"Toute reproduction, distribution, modification ou exploitation commerciale, mme partielle, sans autorisation pralable crite de HERBBIE est strictement interdite et constituerait une contrefaon sanctionne par les articles L.335-2 et suivants du Code de la proprit intellectuelle."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Responsabilit"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'efforce d'assurer l'exactitude et la mise  jour des informations diffuses sur ce site, dont elle se rserve le droit de corriger,  tout moment et sans pravis, le contenu."}),c.jsx("p",{children:"Toutefois, HERBBIE ne peut garantir l'exactitude, la prcision ou l'exhaustivit des informations mises  disposition sur ce site. En consquence, HERBBIE dcline toute responsabilit :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Pour toute imprcision, inexactitude ou omission portant sur des informations disponibles sur le site"}),c.jsx("li",{children:"Pour tous dommages rsultant d'une intrusion frauduleuse d'un tiers ayant entran une modification des informations mises  disposition sur le site"}),c.jsx("li",{children:"Et plus gnralement pour tous dommages, directs ou indirects, quelles qu'en soient les causes, origines, natures ou consquences, provoqus  raison de l'accs de quiconque au site ou de l'impossibilit d'y accder"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Donnes personnelles"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Conformment  la loi n78-17 du 6 janvier 1978 relative  l'informatique, aux fichiers et aux liberts, vous disposez d'un droit d'accs, de rectification et de suppression des donnes vous concernant."}),c.jsxs("p",{children:["Pour exercer ce droit, vous pouvez nous contacter par email  l'adresse : ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Le site HERBBIE utilise des cookies pour amliorer votre exprience utilisateur et raliser des statistiques de visite."}),c.jsx("p",{children:"Conformment  la rglementation, vous pouvez refuser le dpt de cookies en configurant votre navigateur."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"diteur du site"}),c.jsxs("div",{className:"info-block personal-data",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Dnomination sociale :"})," ",c.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Forme juridique :"})," ",c.jsx("span",{className:"protect-personal-info",children:"Auto-entreprise (en cours d'immatriculation)"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Adresse du sige social :"})," ",c.jsx("span",{className:"address-protected personal-data",children:"10 bis rue Flix Arnaudin, 40100 Dax"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Numro SIRET :"})," ",c.jsx("span",{className:"protect-personal-info",children:"En cours d'attribution"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Directeur de la publication :"})," ",c.jsx("span",{className:"name-protected personal-data",children:"Adrien Gaulin"})]})]})]})]}),g=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Politique de Confidentialit"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Collecte des donnes personnelles"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Lors de votre utilisation du service HERBBIE, nous pouvons collecter les informations suivantes :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de compte :"})," adresse email, nom d'utilisateur (si inscription)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes d'utilisation :"})," historique des crations, prfrences, statistiques d'usage"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes techniques :"})," adresse IP, type de navigateur, systme d'exploitation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contenu gnr :"})," les crations ralises via notre service (histoires, coloriages, etc.)"]})]}),c.jsx("p",{children:"La collecte de ces donnes est ncessaire pour :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fournir nos services de gnration de contenu cratif"}),c.jsx("li",{children:"Amliorer la qualit de nos services"}),c.jsx("li",{children:"Assurer la scurit de la plateforme"}),c.jsx("li",{children:"Respecter nos obligations lgales"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Utilisation des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les donnes collectes sont utilises pour :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fournir le service :"})," gnration de contenu personnalis, sauvegarde des crations"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Amlioration :"})," analyse des usages pour optimiser l'exprience utilisateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Communication :"})," envoi d'informations relatives au service, support client"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," dtection et prvention des fraudes et activits malveillantes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Obligations lgales :"})," conservation des donnes requises par la loi"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Partage des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'engage  ne pas vendre, louer ou commercialiser vos donnes personnelles."}),c.jsx("p",{children:"Les donnes peuvent tre partages uniquement dans les cas suivants :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fournisseurs de services :"})," hbergeurs, prestataires techniques (sous contrat de confidentialit)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Obligations lgales :"})," sur demande des autorits comptentes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Protection des droits :"})," en cas de litige ou contentieux"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Conservation des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les donnes sont conserves pendant la dure ncessaire aux finalits pour lesquelles elles ont t collectes :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de compte :"})," tant que le compte est actif + 3 ans aprs inactivation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes d'utilisation :"})," 2 ans  compter de la collecte"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contenu gnr :"})," tant que le compte est actif"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donnes de facturation :"})," 10 ans (obligation lgale)"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Scurit des donnes"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE met en uvre des mesures techniques et organisationnelles appropries pour protger vos donnes personnelles contre :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"L'accs non autoris"}),c.jsx("li",{children:"L'utilisation illgitime"}),c.jsx("li",{children:"La perte ou destruction accidentelle"}),c.jsx("li",{children:"Toute forme de traitement illicite"})]}),c.jsx("p",{children:"Ces mesures incluent le chiffrement des donnes, des contrles d'accs stricts et des audits rguliers de scurit."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Vos droits"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Conformment au RGPD, vous disposez des droits suivants :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Droit d'accs :"})," demander l'accs  vos donnes personnelles"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit de rectification :"})," demander la correction de donnes inexactes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  l'effacement :"})," demander la suppression de vos donnes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  la limitation :"})," demander la limitation du traitement"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit  la portabilit :"})," demander la rcupration de vos donnes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Droit d'opposition :"})," vous opposer au traitement de vos donnes"]})]}),c.jsxs("p",{children:["Pour exercer ces droits, contactez-nous  : ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Cookies et technologies similaires"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE utilise uniquement des cookies strictement essentiels au fonctionnement du service :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Maintien de votre connexion et scurit"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Mmorisation de votre identit"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de scurit :"})," Protection contre les menaces"]})]}),c.jsx("h4",{children:"Stockage et scurit des cookies :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Emplacement :"})," Stocks localement dans le navigateur (localStorage)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Dure de vie :"})," Sessions temporaires (supprims  la dconnexion)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," Chiffrs et protgs contre les attaques CSRF"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Serveur :"})," Gestion automatique par Supabase avec scurit renforce"]})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Note :"})," Aucun cookie de fonctionnalit, analytique, de personnalisation ou publicitaire n'est utilis."]}),c.jsx("p",{children:"Les cookies essentiels sont automatiquement grs et exempts de consentement selon le RGPD."})]})]})]}),b=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Politique des Cookies"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Qu'est-ce qu'un cookie ?"}),c.jsx("div",{className:"info-block",children:c.jsx("p",{children:"Un cookie est un petit fichier texte dpos sur votre terminal (ordinateur, tablette, smartphone) lors de la visite d'un site internet. Il permet de stocker des informations relatives  votre navigation et d'amliorer votre exprience utilisateur."})})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Cookies utiliss par HERBBIE"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:c.jsx("strong",{children:"Conformment  la rglementation RGPD, HERBBIE utilise uniquement des cookies strictement essentiels ncessaires au fonctionnement du service."})}),c.jsx("h4",{children:"Cookies essentiels (obligatoires) :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Maintien de votre connexion et scurit pendant votre visite"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Mmorisation de votre identit pour viter de vous reconnecter"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de scurit :"})," Protection contre les attaques CSRF et autres menaces"]})]}),c.jsxs("div",{className:"alert alert-info",children:[c.jsx("strong",{children:"Note :"})," Aucun cookie de fonctionnalit, analytique, de personnalisation ou publicitaire n'est utilis sur ce site."]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Gestion des cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Les cookies essentiels utiliss par HERBBIE sont automatiquement grs et ne ncessitent pas d'action de votre part."}),c.jsx("h4",{children:"Via votre navigateur :"}),c.jsx("p",{children:"Si vous souhaitez supprimer les cookies essentiels (ce qui peut affecter le fonctionnement du site) :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Chrome :"})," Paramtres  Confidentialit et scurit  Cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Firefox :"})," Prfrences  Vie prive et scurit  Cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Safari :"})," Prfrences  Confidentialit  Grer les cookies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Edge :"})," Paramtres  Cookies et autorisations de site"]})]}),c.jsx("h4",{children:"Dure de conservation :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de session :"})," Supprims automatiquement  la fermeture du navigateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies d'authentification :"})," Conservs pendant votre session active (maximum 24h)"]})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Finalits des cookies"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE utilise uniquement des cookies essentiels pour :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fonctionnement du service :"})," Maintien de la session utilisateur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scurit :"})," Scurisation des transactions et protection contre les menaces"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Prfrences essentielles :"})," Mmorisation des paramtres de base (langue)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Performance :"})," Optimisation du fonctionnement du site"]})]}),c.jsxs("div",{className:"alert alert-info",children:[c.jsx("strong",{children:"Note :"})," Aucun cookie n'est utilis pour l'analyse d'audience, le suivi utilisateur ou la personnalisation avance."]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Cookies tiers"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE n'utilise pas de cookies tiers pour l'analyse, le suivi ou la publicit."}),c.jsx("p",{children:"Les services externes utiliss (comme les APIs d'IA) ne dposent pas de cookies sur votre navigateur."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Consentement"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:c.jsx("strong",{children:"Conformment  la rglementation RGPD, les cookies essentiels utiliss par HERBBIE ne ncessitent pas de consentement explicite car ils sont strictement ncessaires au fonctionnement du service."})}),c.jsx("p",{children:"Ces cookies sont automatiquement activs pour garantir la scurit et le bon fonctionnement du site."}),c.jsx("p",{children:"Note : La dsactivation de ces cookies essentiels peut gravement affecter le fonctionnement du service."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Mise  jour"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Cette politique des cookies peut tre mise  jour rgulirement pour reflter les volutions de nos services ou de la rglementation."}),c.jsx("p",{children:"La date de dernire modification est indique en bas de cette page."}),c.jsx("p",{children:"En cas de modification substantielle, nous vous en informerons via une notification sur le site."})]})]})]}),_=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Conditions d'utilisation"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"1. Objet du service"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE est une plateforme de gnration de contenu cratif destine aux enfants, utilisant l'intelligence artificielle pour crer :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Des histoires personnalises et ducatives"}),c.jsx("li",{children:"Des coloriages et activits cratives"}),c.jsx("li",{children:"Du contenu pdagogique adapt  chaque ge"}),c.jsx("li",{children:"Des expriences d'apprentissage ludiques"})]}),c.jsx("p",{children:"Le service est conu pour stimuler l'imagination et la crativit des enfants de manire scurise et ducative."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"2. Conditions d'accs"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"ge minimum :"}),c.jsx("p",{children:"Le service HERBBIE est accessible aux enfants de tous ges. Pour les enfants de moins de 13 ans, l'utilisation doit se faire sous la supervision d'un adulte responsable."}),c.jsx("h4",{children:"Inscription :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Les utilisateurs peuvent crer un compte gratuit"}),c.jsx("li",{children:"L'inscription ncessite une adresse email valide"}),c.jsx("li",{children:"Les mots de passe doivent tre scuriss"}),c.jsx("li",{children:"Une seule inscription par personne est autorise"})]}),c.jsx("h4",{children:"Utilisation acceptable :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Respect des autres utilisateurs"}),c.jsx("li",{children:"Utilisation dans un cadre ducatif et ludique"}),c.jsx("li",{children:"Interdiction de gnrer du contenu inappropri"}),c.jsx("li",{children:"Respect des droits d'auteur et proprit intellectuelle"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"3. Services et fonctionnalits"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Services gratuits :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Accs  un nombre limit de gnration par jour"}),c.jsx("li",{children:"Fonctionnalits de base de cration de contenu"}),c.jsx("li",{children:"Sauvegarde des crations pendant 30 jours"}),c.jsx("li",{children:"Support communautaire"})]}),c.jsx("h4",{children:"Services premium (optionnels) :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Gnrations illimites"}),c.jsx("li",{children:"Sauvegarde permanente des crations"}),c.jsx("li",{children:"Fonctionnalits avances"}),c.jsx("li",{children:"Support prioritaire"}),c.jsx("li",{children:"Contenu personnalis avanc"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"4. Rgles de conduite"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Interdictions :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Gnrer du contenu violent, haineux ou inappropri"}),c.jsx("li",{children:"Utiliser le service pour harceler ou intimider"}),c.jsx("li",{children:"Tenter de contourner les limitations techniques"}),c.jsx("li",{children:"Partager des informations personnelles d'autrui"}),c.jsx("li",{children:"Utiliser le service  des fins commerciales sans autorisation"}),c.jsx("li",{children:"Copier ou reproduire le contenu gnr par d'autres utilisateurs"})]}),c.jsx("h4",{children:"Obligations des utilisateurs :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fournir des informations exactes lors de l'inscription"}),c.jsx("li",{children:"Respecter les droits d'auteur et la proprit intellectuelle"}),c.jsx("li",{children:"Signaler tout contenu inappropri"}),c.jsx("li",{children:"Maintenir la confidentialit de leurs identifiants"}),c.jsx("li",{children:"Utiliser le service de manire responsable"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"5. Proprit intellectuelle"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Contenu gnr :"}),c.jsx("p",{children:"Le contenu cr via HERBBIE appartient  l'utilisateur qui l'a gnr. L'utilisateur peut :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Tlcharger et utiliser ses crations  des fins personnelles"}),c.jsx("li",{children:"Partager ses crations dans un cadre familial ou ducatif"}),c.jsx("li",{children:"Modifier ses propres crations"})]}),c.jsx("h4",{children:"Plateforme HERBBIE :"}),c.jsx("p",{children:"Tous les lments de la plateforme (interface, algorithmes, design, etc.) restent la proprit exclusive de HERBBIE."}),c.jsx("h4",{children:"Contenu tiers :"}),c.jsx("p",{children:"Certains lments peuvent tre soumis  des licences tierces (polices, images, sons). L'utilisation doit respecter ces licences."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"6. Limitation de responsabilit"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE s'efforce de fournir un service de qualit, mais ne peut garantir :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"La disponibilit permanente du service (maintenance, pannes)"}),c.jsx("li",{children:"L'absence totale de bugs ou erreurs"}),c.jsx("li",{children:"L'adquation du contenu gnr  tous les besoins"}),c.jsx("li",{children:"La scurit absolue contre les cyberattaques"})]}),c.jsx("p",{children:"En aucun cas HERBBIE ne pourra tre tenu responsable :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Des dommages indirects ou conscutifs  l'utilisation du service"}),c.jsx("li",{children:"De la perte de donnes ou de crations"}),c.jsx("li",{children:"Des interruptions de service non planifies"}),c.jsx("li",{children:"Des actes de tiers (piratage, virus, etc.)"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"7. Rsiliation"}),c.jsxs("div",{className:"info-block",children:[c.jsx("h4",{children:"Par l'utilisateur :"}),c.jsx("p",{children:"L'utilisateur peut rsilier son compte  tout moment via les paramtres de son profil."}),c.jsx("h4",{children:"Par HERBBIE :"}),c.jsx("p",{children:"HERBBIE peut suspendre ou rsilier un compte en cas de :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Violation grave des conditions d'utilisation"}),c.jsx("li",{children:"Utilisation abusive du service"}),c.jsx("li",{children:"Non-paiement des services premium"}),c.jsx("li",{children:"Inactivit prolonge (plus de 2 ans)"})]}),c.jsx("h4",{children:"Consquences de la rsiliation :"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Accs immdiat au service suspendu"}),c.jsx("li",{children:"Conservation des donnes pendant 30 jours"}),c.jsx("li",{children:"Suppression dfinitive aprs ce dlai"}),c.jsx("li",{children:"Possibilit de ractivation sous conditions"})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"8. Modification des conditions"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"HERBBIE se rserve le droit de modifier ces conditions d'utilisation  tout moment."}),c.jsx("p",{children:"Les modifications seront notifies aux utilisateurs par email ou notification sur le site."}),c.jsx("p",{children:"La poursuite de l'utilisation du service aprs notification vaut acceptation des nouvelles conditions."}),c.jsx("p",{children:"En cas de dsaccord avec les modifications, l'utilisateur peut rsilier son compte."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"9. Droit applicable"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Ces conditions d'utilisation sont rgies par le droit franais."}),c.jsx("p",{children:"Tout litige relatif  l'interprtation ou l'excution de ces conditions sera soumis aux tribunaux comptents du ressort de Paris."}),c.jsx("p",{children:"En cas de traduction de ces conditions, seule la version franaise fait foi."})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"10. Contact"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Pour toute question relative  ces conditions d'utilisation :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Email :"})," ",c.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Objet :"}),' "Question CGU"']}),c.jsxs("li",{children:[c.jsx("strong",{children:"Dlai de rponse :"})," 48-72 heures"]})]})]})]})]}),k=(S,E)=>{s(I=>({...I,[S]:E}))},y=async S=>{S.preventDefault(),a(!0),u("");try{const E=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:i.firstName,lastName:i.lastName,email:i.email,subject:i.subject,message:i.message})});if(!E.ok){const B=await E.json();throw new Error(B.detail||"Erreur lors de l'envoi du message")}const I=await E.json();u(" Votre message a t envoy avec succs ! Nous vous rpondrons dans les plus brefs dlais."),s({firstName:"",lastName:"",email:"",subject:"",message:""})}catch(E){u(` Erreur lors de l'envoi : ${E.message}`)}finally{a(!1)}},x=()=>c.jsxs("div",{className:"legal-content",children:[c.jsx("h2",{children:" Contact"}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:" Formulaire de contact"}),c.jsxs("div",{className:"info-block",children:[c.jsx("p",{children:"Vous pouvez nous contacter directement en remplissant le formulaire ci-dessous :"}),c.jsxs("form",{className:"contact-form",onSubmit:y,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-firstName",children:"Prnom *"}),c.jsx("input",{type:"text",id:"contact-firstName",value:i.firstName,onChange:S=>k("firstName",S.target.value),required:!0,placeholder:"Votre prnom"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-lastName",children:"Nom *"}),c.jsx("input",{type:"text",id:"contact-lastName",value:i.lastName,onChange:S=>k("lastName",S.target.value),required:!0,placeholder:"Votre nom de famille"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-email",children:"Email *"}),c.jsx(Rl,{value:i.email,onChange:S=>k("email",S.target.value),placeholder:"votre.email@exemple.com",required:!0,user:null,onEmailSubmit:()=>{}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-subject",children:"Sujet *"}),c.jsxs("select",{id:"contact-subject",value:i.subject,onChange:S=>k("subject",S.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Choisissez un sujet"}),c.jsx("option",{value:"Support technique",children:" Support technique"}),c.jsx("option",{value:"Question gnrale",children:" Question gnrale"}),c.jsx("option",{value:"Partenariat",children:" Partenariat"}),c.jsx("option",{value:"Signaler un bug",children:" Signaler un bug"}),c.jsx("option",{value:"Suggestion",children:" Suggestion"}),c.jsx("option",{value:"Autre",children:" Autre"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"contact-message",children:"Message *"}),c.jsx("textarea",{id:"contact-message",value:i.message,onChange:S=>k("message",S.target.value),required:!0,placeholder:"Dcrivez votre demande en dtail...",rows:"5"})]}),l&&c.jsx("div",{className:`submit-message ${l.includes("")?"success":"error"}`,children:l}),c.jsx("button",{type:"submit",className:"contact-submit-btn",disabled:o,children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner"}),"Envoi en cours..."]}):c.jsx(c.Fragment,{children:" Envoyer l'email"})})]})]})]}),c.jsxs("div",{className:"legal-section",children:[c.jsx("h3",{children:"Informations de contact"}),c.jsxs("div",{className:"info-block personal-data",children:[c.jsxs("p",{children:[c.jsx("strong",{children:" Email :"})," ",c.jsx("a",{href:"mailto:contact@herbbie.com",className:"email-protected",children:c.jsx("span",{className:"personal-data",children:"contact@herbbie.com"})})]}),c.jsxs("p",{children:[c.jsx("strong",{children:" Nom de l'entreprise :"})," ",c.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]})]})]})]});return c.jsx(Re.div,{className:"legal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:e,children:c.jsxs(Re.div,{className:"legal-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:S=>S.stopPropagation(),children:[c.jsxs("div",{className:"legal-header",children:[c.jsx("h1",{children:" Informations Lgales"}),c.jsx("button",{className:"close-button",onClick:e,children:""})]}),c.jsxs("div",{className:"legal-body",children:[c.jsx("nav",{className:"legal-nav",children:h.map(S=>c.jsxs("button",{className:`nav-item ${n===S.id?"active":""}`,onClick:()=>r(S.id),children:[c.jsx("span",{className:"nav-icon",children:S.icon}),c.jsx("span",{className:"nav-title",children:S.title})]},S.id))}),c.jsx("div",{className:"legal-main",children:c.jsx(Si,{mode:"wait",children:c.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:f()},n)})})]})]})})};const rR=()=>{const[e,t]=F.useState([]);return F.useEffect(()=>{const n=r=>{const i=Math.random()*1799.5+.5;setTimeout(()=>{const s={id:Date.now()+r,index:r,duration:Math.random()*2+1};t(o=>[...o,s]),setTimeout(()=>{t(o=>o.filter(a=>a.id!==s.id))},s.duration*1e3),n(r)},i*1e3)};for(let r=0;r<10;r++)setTimeout(()=>n(r),Math.random()*5e3);return()=>{t([])}},[]),c.jsx("section",{className:"shooting-stars-container",children:e.map(n=>c.jsx("span",{className:`shooting-star star-${n.index+1}`,style:{animationDuration:`${n.duration}s`}},n.id))})},dl=(e,t,n="")=>{const r={comptine:{animaux:["Les Amis de la Fort","La Danse des Animaux","Mes Amis les Animaux","Le Grand Bal des Animaux"],nature:["Les Fleurs Magiques","L'Aventure dans les Bois","Les Secrets du Jardin","La Fte de la Nature"],transport:["Le Train des Copains","L'Aventure en Voiture","Le Voyage Fantastique","En Route pour l'Aventure"],couleurs:["L'Arc-en-Ciel Magique","Le Monde des Couleurs","La Danse des Couleurs","Mon Joli Tableau"],famille:["Ma Famille d'Amour","Tous Ensemble","Les Clins de Famille","Mon Coeur de Famille"],default:["Ma Jolie Comptine","Chanson du Bonheur","Ma Petite Mlodie","Comptine Rigolote"]},histoire:{aventure:["La Grande Aventure","Voyage Extraordinaire","Mission Secrte","L'Aventure Fantastique"],animaux:["Les Amis de la Fort","L'Histoire des Petits Animaux","Mes Copains Animaux","La Famille Animaux"],magie:["Le Monde Magique","L'Aventure Enchante","Le Secret Magique","La Fe et ses Amis"],amiti:["Les Meilleurs Amis","Une Belle Amiti","Copains pour la Vie","L'Amiti Magique"],espace:["Voyage dans les toiles","L'Aventure Spatiale","Les Amis de l'Espace","Mission sur la Lune"],default:["Mon Belle Histoire","Conte Merveilleux","Histoire Fantastique","Rcit d'Aventure"]},coloriage:{animaux:["Mes Amis Animaux","Zoo Rigolo","Famille Animaux","Copains de la Fort"],licorne:["Licorne Magique","Princesse Licorne","Pays des Licornes","Licorne Arc-en-Ciel"],dinosaures:["Dino Rigolo","Mes Amis Dinosaures","Parc des Dinosaures","T-Rex et ses Copains"],nature:["Jardin Fleuri","Fort Enchante","Promenade Nature","Fleurs et Papillons"],espace:["Voyage Spatial","Plantes Rigolotes","Astronaute en Mission","toiles et Fuses"],vhicules:["Mes Voitures","Garage Rigolo","Course Automobile","Train et Avions"],default:["Mon Coloriage","Dessin Rigolo","Art Cratif","Belle Image"]},animation:{aventure:["Mon Dessin Anim","Animation Magique","Film d'Aventure","Cinma Fantastique"],animaux:["Mes Amis Anims","Zoo en Mouvement","Aventures Animales","Cirque des Animaux"],magie:["Monde Enchant","Magie en Mouvement","Film de Fe","Animation Magique"],espace:["Voyage Anim","Aventure Spatiale","Film de l'Espace","Mission Animation"],nature:["Fort Anime","Jardin en Mouvement","Nature Vivante","Fleurs Dansantes"],default:["Mon Film IA","Dessin Anim IA","Animation Crative","Film Personnalis"]}},i=r[e]||r.histoire,s=i[t]||i.default||i.aventure,o=Math.floor(Math.random()*s.length);return s[o]};function iR(e,t=600){const n=e.split(new RegExp("(?<=[.?!])\\s+")),r=[];let i="";for(const s of n)(i+s).length>t?(r.push(i.trim()),i=s+" "):i+=s+" ";return i.trim()&&r.push(i.trim()),r}const t0=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("static/")?(console.warn(`[App] Chemin audio local obsolte ignor: ${e}`),null):`${cr}/audio/${e.split("/").pop()}`:null;function sR(){const[e,t]=F.useState("animation"),[n,r]=F.useState(0),i=Te=>{t(Te==="audio"?"histoire":Te)},[s,o]=F.useState(null),[a,l]=F.useState(""),[u,h]=F.useState(!0),[f,m]=F.useState(""),[g,b]=F.useState(""),[_,k]=F.useState(null),[y,x]=F.useState(""),[S,E]=F.useState(null),[I,B]=F.useState(""),[U,O]=F.useState(!1),[K,Y]=F.useState(null);F.useState(!1);const[R,P]=F.useState(!1),[J,V]=F.useState(!1),[ce,le]=F.useState(!1),[ae,W]=F.useState(!1),[te,Q]=F.useState(null),[me,N]=F.useState(""),[z,$]=F.useState(null),[G,Z]=F.useState(null),[oe,he]=F.useState(null),[ue,xe]=F.useState(null),[_e,Fe]=F.useState(null),[Pe,Qe]=F.useState(null),[ve,X]=F.useState(""),[st,We]=F.useState(null),[Ne,Ie]=F.useState(null),[Me,Oe]=F.useState(!1);F.useEffect(()=>{e==="comic"&&(Fe(null),Qe(null))},[e]);const[He,rt]=F.useState(null),[Ce,ze]=F.useState(30),[at,Ct]=F.useState(null),[Je,bt]=F.useState(""),[Ue,In]=F.useState(null),[ct,jr]=F.useState(null),[Rt,zt]=F.useState(null),[si,At]=F.useState(!1),[Yi,$t]=F.useState(!1),[Br,oi]=F.useState(null),[Xt,ut]=F.useState(!1);F.useState("user"),F.useState(!1);const[Lt,Vn]=F.useState("Gnrer"),[Nn,Ur]=F.useState(!1),[ai,et]=F.useState(!1),[zr,li]=F.useState("mentions"),Hn=Te=>new Promise(Ye=>setTimeout(Ye,Te)),vn=async(Te,{intervalMs:Ye=5e3,maxAttempts:it=240}={})=>{let ke=0;for(;ke<it;){try{const $e=await Jn(`${cr}/status/${Te}`,{});if($e.ok){const St=await $e.json();if((St==null?void 0:St.type)==="result"){const Ee=St.data;if((Ee==null?void 0:Ee.status)==="completed"&&Ee!=null&&Ee.clips&&Ee.clips.length>0)return Ee;if((Ee==null?void 0:Ee.status)==="failed")throw new Error((Ee==null?void 0:Ee.error_message)||"Gnration choue")}}}catch{}ke+=1,await Hn(Ye)}throw new Error("Timeout de gnration de l'animation")},dn=async(Te,{intervalMs:Ye=5e3,maxAttempts:it=180}={})=>{let ke=0;for(;ke<it;){try{const $e=await Jn(`${cr}/status_comic/${Te}`,{});if($e.ok){const St=await $e.json();if((St==null?void 0:St.type)==="result"){const Ee=St.data;if(((Ee==null?void 0:Ee.status)==="completed"||(Ee==null?void 0:Ee.status)==="success")&&Ee!=null&&Ee.pages&&Ee.pages.length>0)return Ee;if((Ee==null?void 0:Ee.status)==="failed")throw new Error((Ee==null?void 0:Ee.error)||"Gnration choue")}}}catch{}ke+=1,await Hn(Ye)}throw new Error("Timeout de gnration de la BD")},mr=async Te=>{try{const Ye=new FormData;Ye.append("file",Te);const it=await Jn(`${cr}/upload_character_photo/`,{method:"POST",body:Ye});if(!it.ok)throw new Error(`Erreur upload : ${it.status}`);const ke=await it.json();return We(ke),ke}catch(Ye){throw Ye}},[Ws,$r]=F.useState(null),{user:dt,loading:qr}=Nv(),[Vr,Zn]=F.useState(!1),[On,Hr]=F.useState(!1);F.useMemo(()=>(e==="histoire"||e==="audio")&&(K!=null&&K.content)?iR(K.content):[],[K,e]);const[Gs,Ks]=F.useState(0);F.useEffect(()=>{window.location.hash==="#historique"&&Zn(!0);const Te=()=>{Zn(window.location.hash==="#historique")};return window.addEventListener("hashchange",Te),()=>{window.removeEventListener("hashchange",Te)}},[]),F.useEffect(()=>{(async()=>{if(dt){const Ye=await P4(dt.id,dt.email);Hr(Ye),Ci(Ye)}else Hr(!1),Ci(!1)})()},[dt,e]),F.useEffect(()=>{o(null),l(""),h(!0),m(""),b(""),k(null),x(""),E(null),Q(null),N(""),$(null),he(null),xe(null),Fe(null),Qe(null),X(""),We(null),Ie(null),rt(null),ze(30),Ct(null),bt(""),jr(null),Y(null),Z(null),zt(null),$r(null)},[e]);const Js=async Te=>{W(!1),setTimeout(()=>{W(!0),O(!1)},5e4)};F.useEffect(()=>{e==="animation"&&!He&&rt(null)},[e,He]);const ms=He||"space",Ci=async Te=>{if(Te)Vn("Gnrer Gratuitement");else{if(dt&&(e==="histoire"||e==="story"||e==="audio"||e==="coloriage"||e==="coloring"))try{const{data:$e,error:St}=await vt.from("creations").select("id").eq("user_id",dt.id).limit(1);if(!St&&$e&&$e.length===0){Vn(" Crer gratuitement (bonus bienvenue)");return}const Ee={};e==="animation"?Ee.selectedDuration=Ce:e==="comic"||e==="bd"?Ee.numPages=Pe||1:(e==="histoire"||e==="story"||e==="audio")&&(Ee.selectedVoice=S);const{data:Xe}=await vt.functions.invoke("check-permission",{body:{contentType:e,userId:dt.id,userEmail:dt.email,...Ee}});if(Xe!=null&&Xe.hasPermission&&(Xe==null?void 0:Xe.reason)==="subscription_active"){Vn(e==="rhyme"||e==="comptine"?"Crer ma comptine":e==="coloring"||e==="coloriage"?"Crer mon coloriage":e==="comic"||e==="bd"?"Crer ma bande dessine":e==="animation"?"Crer mon dessin anim":e==="histoire"||e==="story"||e==="audio"?"Crer mon histoire":"Crer mon contenu");return}}catch($e){console.error("Erreur vrification abonnement pour bouton:",$e)}let Ye={};e==="animation"?Ye.duration=Ce:e==="comic"||e==="bd"?Ye.pages=Pe||1:(e==="histoire"||e==="story"||e==="audio")&&(Ye.voice=S);const ke=hd(e==="audio"?"histoire":e,Ye);Vn(`Acheter pour ${ke.display}`)}};F.useEffect(()=>{Ci(On)},[S,Ce,Pe,e,On,dt]);const Ra=async()=>{if(!dt){oi(e),$t(!0);return}if(On){Ys();return}if(e==="histoire"||e==="story"||e==="audio"||e==="coloriage"||e==="coloring")try{const{data:Te,error:Ye}=await vt.from("creations").select("id").eq("user_id",dt.id).limit(1);if(!Ye&&Te&&Te.length===0){Ys();return}}catch(Te){console.error("Erreur vrification bonus:",Te)}try{const Te={};e==="animation"?Te.selectedDuration=Ce:e==="comic"||e==="bd"?Te.numPages=Pe||1:(e==="histoire"||e==="story"||e==="audio")&&(Te.selectedVoice=S);const{data:Ye,error:it}=await vt.functions.invoke("check-permission",{body:{contentType:e,userId:dt.id,userEmail:dt.email,...Te}});if(it){console.error("Erreur vrification permission:",it),alert("Erreur lors de la vrification des permissions. Veuillez ressayer.");return}if(Ye.hasPermission)Ys();else{oi(e),$t(!0);return}}catch(Te){console.error("Erreur lors de l'appel  check-permission:",Te),alert("Erreur de vrification des permissions. Veuillez ressayer.");return}},Ys=async()=>{var Te,Ye,it;if(O(!0),Y(null),!qr)try{let ke=null;if(e==="rhyme"){const Ee={theme:s==="custom"?a:s,custom_request:I,language:"fr"},Xe=await Jn(`${cr}/generate_rhyme/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ee)});if(!Xe.ok)throw new Error(`Erreur HTTP : ${Xe.status}`);ke=await Xe.json()}else if(e==="histoire"||e==="audio"){const Ee={story_type:_==="custom"?y:_,voice:S,custom_request:I,user_id:dt==null?void 0:dt.id},Xe=await Jn(`${cr}/generate_audio_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ee)});if(!Xe.ok)throw new Error(`Erreur HTTP : ${Xe.status}`);ke=await Xe.json()}else if(e==="histoire"){let Ee;if(ct&&ct!=="custom"?Ee={space:"Une aventure spatiale extraordinaire o un enfant explore les plantes lointaines et rencontre des aliens amicaux.",ocean:"Une exploration sous-marine magique avec des cratures marines colores et des trsors cachs au fond de l'ocan.",dinosaur:"Un voyage dans le temps  l'poque des dinosaures o un enfant devient ami avec un dinosaure gentil et dcouvre un monde prhistorique.",fairy:"Un conte de fes enchanteur avec des fes bienveillantes, des chteaux magiques et des aventures pleines de poussire de fe.",superhero:"Une histoire de super-hros o un enfant dcouvre ses pouvoirs extraordinaires et sauve la ville avec courage et bont.",jungle:"Une aventure dans la jungle tropicale remplie d'animaux exotiques, de plantes mystrieuses et de dcouvertes passionnantes."}[ct]||`Une belle histoire sur le thme ${ct}`:Ee=Je,!Ee||Ee.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractres");const Xe={story_type:ct==="custom"?"custom":ct,content:Ee,custom_request:I},ht=await Jn(`${cr}/generate_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Xe)});if(!ht.ok)throw new Error(`Erreur HTTP : ${ht.status}`);ke=await ht.json()}else if(e==="coloring")if(z){const Ee=new FormData;Ee.append("file",z);const Xe=await Jn(`${cr}/upload_photo_for_coloring/`,{method:"POST",body:Ee});if(!Xe.ok)throw new Error(`Erreur upload : ${Xe.status}`);const yt={photo_path:(await Xe.json()).file_path,with_colored_model:oe},Tt=await Jn(`${cr}/convert_photo_to_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(yt)});if(!Tt.ok)throw new Error(`Erreur conversion : ${Tt.status}`);const Ln=await Tt.json();Z(Ln),ke=Ln}else{if(!te||oe===null)throw new Error("Thme et modle color sont requis pour gnrer un coloriage");const Ee={theme:String(te),with_colored_model:!!oe};dt!=null&&dt.id&&(Ee.user_id=dt.id),te==="custom"&&me.trim()&&(Ee.custom_prompt=me.trim()),console.log("[DEBUG] Payload coloriage:",Ee);const Xe=await Jn(`${cr}/generate_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ee)});if(!Xe.ok)throw new Error(`Erreur HTTP : ${Xe.status}`);const ht=await Xe.json();Z(ht),ke=ht}else if(e==="comic"){const Ee={theme:ue==="custom"?ve:ue,art_style:_e||"cartoon",num_pages:Pe||1,user_id:dt==null?void 0:dt.id};ue==="custom"&&ve.trim()&&(Ee.custom_prompt=ve.trim()),st&&st.file_path&&(Ee.character_photo_path=st.file_path);const Xe=await Jn(`${cr}/generate_comic/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ee)});if(!Xe.ok)throw new Error(`Erreur HTTP : ${Xe.status}`);const ht=await Xe.json();let yt=ht;const Tt=ht==null?void 0:ht.task_id,Ln=(ht==null?void 0:ht.status)==="success"&&(ht==null?void 0:ht.pages)&&ht.pages.length>0;if(Tt&&!Ln&&(yt=await dn(Tt)),yt!=null&&yt.pages&&yt.pages.length>0){const rn={...yt,title:yt.title||"Ma Bande Dessine ",synopsis:yt.synopsis||"",art_style:yt.art_style||"cartoon",total_pages:yt.total_pages||yt.pages.length};Ie(rn),ke=rn}else console.error("[App] BD incomplte - pages manquantes:",yt)}else if(e==="animation"){let Ee;const Xe=He||"space";if(Xe&&Xe!=="custom"?Ee={magie:"Une histoire magique avec des cratures fantastiques dans un monde enchant",aventure:"Une grande aventure pleine de dcouvertes et de rebondissements",animaux:"Une histoire mettant en scne des animaux adorables et leurs aventures",espace:"Un voyage extraordinaire  travers les toiles et les plantes",nature:"Une exploration merveilleuse de la nature et de ses secrets",amiti:"Une belle histoire d'amiti et de solidarit",famille:"Une histoire touchante sur les liens familiaux"}[Xe]||`Une belle histoire sur le thme ${Xe}`:Ee=Je,!Ee||Ee.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractres");const yt={magie:"magic",aventure:"adventure",animaux:"animals",espace:"space",nature:"nature",amiti:"friendship",famille:"friendship"}[Xe]||Xe||"adventure",Tt=Ce||30,Ln=`${cr}/generate-quick?theme=${encodeURIComponent(yt)}&duration=${Tt}&style=${at||"cartoon"}&custom_prompt=${encodeURIComponent(Ee||"")}`,ci=await Jn(Ln,{...{method:"GET",headers:{Accept:"application/json"}}});if(!ci.ok){const Go=await ci.text();throw new Error(`Erreur HTTP ${ci.status}: ${Go}`)}const Wt=await ci.json();let yn=Wt;const Ai=Wt==null?void 0:Wt.task_id,Pi=(Wt==null?void 0:Wt.status)==="completed"&&((Wt==null?void 0:Wt.final_video_url)||(((Te=Wt==null?void 0:Wt.clips)==null?void 0:Te.length)||0)>0);Ai&&!Pi&&(yn=await vn(Ai)),(yn==null?void 0:yn.status)==="completed"&&(yn!=null&&yn.clips)&&yn.clips.length>0&&(zt(yn),At(!0),ke=yn)}if(Y(ke),Ks(0),e==="rhyme"&&ke.task_id){fc(ke.task_id);return}let $e;e==="rhyme"?ke.title&&!ke.title.includes("gnre")?$e=ke.title+(ke.has_music?" ":""):$e=dl("comptine",s==="custom"?"default":s)+(ke.has_music?" ":""):e==="histoire"||e==="audio"?ke.title&&!ke.title.includes("gnre")?$e=ke.title:$e=dl("histoire",_==="custom"?"default":_):e==="coloring"?$e=(ke==null?void 0:ke.title)||dl("coloriage",te):e==="comic"?$e=(ke==null?void 0:ke.title)||"Ma Bande Dessine ":e==="animation"?$e=(ke==null?void 0:ke.title)||dl("animation",ms||"aventure"):e==="histoire"&&($e=(ke==null?void 0:ke.title)||dl("histoire",ct==="custom"?"default":ct)),$r($e);let St;if(e==="coloring"?St={id:Date.now().toString(),type:e,title:$e,createdAt:new Date().toISOString(),content:ke?`${ke.total_images} coloriage(s) gnr(s)`:"Coloriage gnr",theme:te,images:(ke==null?void 0:ke.images)||[],metadata:(ke==null?void 0:ke.metadata)||{}}:e==="comic"?St={id:Date.now().toString(),type:e,title:$e,createdAt:new Date().toISOString(),content:ke?`BD de ${ke.total_pages||((Ye=ke.pages)==null?void 0:Ye.length)||0} planche(s) - ${(ke.total_pages||((it=ke.pages)==null?void 0:it.length)||0)*4} cases`:"Bande dessine gnre",theme:ue,pages:(ke==null?void 0:ke.pages)||[],comic_data:ke||{}}:e==="animation"?St={id:Date.now().toString(),type:e,title:$e,createdAt:new Date().toISOString(),content:ke?`Animation de ${ke.actual_duration}s avec ${ke.total_scenes} scnes`:"Animation gnre",theme:ms,clips:(ke==null?void 0:ke.clips)||[],animation_data:ke||{}}:e==="histoire"||e==="audio"?St={id:Date.now().toString(),type:e==="audio"?"histoire":e,title:$e,createdAt:new Date().toISOString(),content:(ke==null?void 0:ke.content)||ke||"Histoire gnre...",story_type:(ct==="custom"?"custom":ct)||(_==="custom"?"custom":_),audio_path:(ke==null?void 0:ke.audio_path)||null,audio_generated:!!(ke!=null&&ke.audio_path)}:St={id:Date.now().toString(),type:e,title:$e,createdAt:new Date().toISOString(),content:(ke==null?void 0:ke.content)||ke||"Contenu gnr...",audio_path:(ke==null?void 0:ke.audio_path)||null},dt)try{await xw({type:e,title:$e,data:St}),r(Ee=>Ee+1),Ci(On)}catch{}if(!On&&!Xt&&ke)try{const{calculateTokenCost:Ee,deductTokens:Xe}=await hs(()=>Promise.resolve().then(()=>pF),void 0);let ht={};e==="animation"?ht.duration=Ce:(e==="comic"||e==="bd")&&(ht.pages=Pe||1),(e==="audio"||e==="histoire"&&S)&&(ht.voice=S);const yt=e==="audio"?"histoire":e,Tt=Ee(yt,ht);if(!Tt||Tt<=0||typeof Tt!="number")return;const Ln=await Xe(dt.id,yt,Tt,{...ht,transactionId:`gen_${Date.now()}_${yt}`})}catch{}Xt&&ut(!1),O(!1)}catch(ke){alert(` Erreur lors de la gnration : ${ke.message}

 Conseil : Vrifiez que les cls API sont configures dans le fichier .env du serveur.`),O(!1)}},hc=Te=>{var Ye,it,ke,$e,St,Ee,Xe;if(Te.action==="showStory")Y({title:Te.title,content:Te.content||((Ye=Te.data)==null?void 0:Ye.content)||"",type:Te.type}),P(!0);else if(Te.action==="showColoring")Z({success:!0,theme:Te.theme||((it=Te.data)==null?void 0:it.theme)||"coloriage",images:Te.images||((ke=Te.data)==null?void 0:ke.images)||[],total_images:(Te.images||(($e=Te.data)==null?void 0:$e.images)||[]).length,metadata:Te.metadata||((St=Te.data)==null?void 0:St.metadata)||{}}),V(!0);else if(Te.action==="showComic"){const ht=Te.comic_data||((Ee=Te.data)==null?void 0:Ee.comic_data)||Te.data||{},yt=Te.pages||((Xe=Te.data)==null?void 0:Xe.pages)||ht.pages||[];Ie({title:Te.title||ht.title||"Ma Bande Dessine",synopsis:ht.synopsis||ht.description||"",art_style:ht.art_style||ht.style||"cartoon",pages:yt,total_pages:yt.length||ht.total_pages||0}),Oe(!0)}else Zn(!1),window.location.hash=""},gs=()=>{Zn(!1),window.location.hash=""},Ia=()=>{if(e==="rhyme"){if(!s||s==="custom"&&!a.trim())return!1}else if(e==="histoire"||e==="audio"){if(!_||_==="custom"&&!y.trim())return!1}else if(e==="coloring"){if(!te&&!z||te==="custom"&&!me.trim()||oe===null)return!1}else if(e==="comic"){if(!ue||!_e||!Pe||ue==="custom"&&!ve.trim())return!1}else if(e==="animation"){if(!He&&!Je.trim()||He==="custom"&&!Je.trim()||He==="custom"&&Je.trim().length<10)return!1}else if(e==="histoire"&&(!ct||ct==="custom"&&!Je.trim()||ct==="custom"&&Je.trim().length<10))return!1;return!0},Xi={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.25,ease:"easeInOut"}},exit:{opacity:0,transition:{duration:.2,ease:"easeInOut"}}},Wo=async(Te,Ye)=>{if(!(!Ye||typeof Ye!="string"))try{const it=new nt({orientation:"p",unit:"mm",format:"a4"}),ke=50,$e=210,St=297,Ee=6,Xe=Math.floor((St-ke-30)/Ee),ht=Wt=>new Promise((yn,Ai)=>{const Pi=new Image;Pi.crossOrigin="anonymous",Pi.onload=()=>yn(Pi),Pi.onerror=()=>Ai(new Error("Impossible de charger l'image de fond")),Pi.src=Wt});let yt=null;try{yt=await ht("/assets/fond.png?v=1")}catch{}let Tt=Te;Ye.startsWith("**")&&Ye.includes("**",2)&&(Tt=Ye.split("**")[1].trim(),Ye=Ye.replace(`**${Tt}**`,"").trim());const Ln=it.splitTextToSize(Ye,150);let rn=0;for(let Wt=0;rn<Ln.length;Wt++){if(Wt>0&&it.addPage(),yt)try{it.addImage(yt,"PNG",0,0,$e,St,void 0,"FAST")}catch{}Wt===0&&(it.setFont("courier","bold"),it.setFontSize(18),it.setTextColor(110,50,230),it.text(Tt,$e/2,ke-20,{align:"center"})),it.setFont("courier","bold"),it.setFontSize(10),it.setTextColor(25,25,112);for(let yn=0;yn<Xe&&rn<Ln.length;yn++,rn++){const Ai=ke+yn*Ee;it.text(Ln[rn],$e/2,Ai,{align:"center"})}it.setFontSize(8),it.setTextColor(106,90,205),it.text(`Page ${Wt+1}`,$e-15,St-10,{align:"right"})}const ci=Tt.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");it.save(`${ci}.pdf`)}catch{alert("Erreur lors de la gnration du PDF. Veuillez ressayer.")}},fc=async(Te,Ye=40,it=5e3)=>{let ke=0;const $e=async()=>{try{const Ee=await(await Jn(`${cr}/check_task_status/${Te}`,{})).json();if(Ee.status==="completed")return Y(Xe=>{const ht={...Xe,audio_path:Ee.audio_path,suno_url:Ee.suno_url,title:Ee.title||Xe.title,has_music:!0,service:"suno"},yt=Ee.title||Xe.title||dl("comptine",s==="custom"?"default":s)+" ";$r(yt);const Tt={id:Date.now().toString(),type:"rhyme",title:yt,createdAt:new Date().toISOString(),content:Xe.content||Xe.rhyme||"Comptine gnre",audio_path:Ee.audio_path,suno_url:Ee.suno_url};return xw({type:"rhyme",title:yt,data:Tt}).catch(Ln=>{}),ht}),Ee.suno_url?(Js(Ee.suno_url),!0):(O(!1),!0);if(Ee.status==="failed")return Y(Xe=>({...Xe,music_error:Ee.error,has_music:!1})),O(!1),!0;if(Ee.status!=="processing"){if(ke>=Ye-1)return O(!1),alert(" La gnration de musique prend plus de temps que prvu. Veuillez vrifier votre historique dans quelques minutes."),!0}return ke++,setTimeout($e,it),!1}catch{return ke++,ke<Ye&&setTimeout($e,it),!1}};await $e()};return c.jsxs("div",{className:"app-container",children:[c.jsx(N7,{isLoggedIn:!!dt,onOpenHistory:()=>Zn(!0),userId:dt==null?void 0:dt.id,onOpenSubscription:()=>Ur(!0),refreshBonusTrigger:n}),c.jsx(rR,{}),c.jsx("main",{className:"main-content",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs(Re.div,{className:"creation-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["          ",c.jsx(I7,{contentType:e,setContentType:i}),"          ",c.jsx(Si,{mode:"wait",children:e==="rhyme"?c.jsx(Re.div,{variants:Xi,initial:"hidden",animate:"visible",exit:"exit",style:{width:"100%"},children:c.jsx(D7,{selectedRhyme:s,setSelectedRhyme:o,customRhyme:a,setCustomRhyme:l})},"rhyme-selector"):e==="histoire"||e==="audio"?c.jsx(Re.div,{variants:Xi,initial:"hidden",animate:"visible",exit:"exit",children:c.jsx(U7,{selectedAudioStory:_,setSelectedAudioStory:k,customAudioStory:y,setCustomAudioStory:x,selectedVoice:S,setSelectedVoice:E})},"audio-story-selector"):e==="coloring"?c.jsxs(Re.div,{variants:Xi,initial:"hidden",animate:"visible",exit:"exit",children:["                ",c.jsx(nF,{selectedTheme:te,setSelectedTheme:Q,customColoringTheme:me,setCustomColoringTheme:N,uploadedPhoto:z,setUploadedPhoto:$,withColoredModel:oe,setWithColoredModel:he})]},"coloring-selector"):e==="comic"?c.jsx(Re.div,{variants:Xi,initial:"hidden",animate:"visible",exit:"exit",children:c.jsx(iF,{selectedTheme:ue,setSelectedTheme:xe,selectedStyle:_e,setSelectedStyle:Fe,numPages:Pe,setNumPages:Qe,customStory:ve,setCustomStory:X,characterPhoto:st,setCharacterPhoto:We,onCharacterPhotoUpload:mr})},"comics-selector"):e==="animation"?c.jsx(Re.div,{variants:Xi,initial:"hidden",animate:"visible",exit:"exit",children:c.jsx(q7,{selectedTheme:He,setSelectedTheme:rt,selectedDuration:Ce,setSelectedDuration:ze,selectedStyle:at,setSelectedStyle:Ct,customStory:Je,setCustomStory:bt,characterImage:Ue,setCharacterImage:In})},"animation-selector"):e==="histoire"?c.jsx(Re.div,{variants:Xi,initial:"hidden",animate:"visible",exit:"exit",children:c.jsx($7,{selectedStory:ct,setSelectedStory:jr,customStory:Je,setCustomStory:bt})},"story-selector"):null}),"          ",c.jsx(H7,{customRequest:I,setCustomRequest:B,stepNumber:e==="coloring"?4:3}),c.jsx(W7,{onGenerate:Ra,isGenerating:U,isDisabled:!Ia(),contentType:e,buttonText:Lt})]}),c.jsx("div",{className:"preview-column",children:c.jsx(Re.div,{className:"preview-panel",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:c.jsx("div",{className:"preview-container",children:c.jsx("div",{className:`preview ${K?"":"empty"}`,children:c.jsx(Si,{mode:"wait",children:U?c.jsxs(Re.div,{className:"generating-animation",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[c.jsxs("div",{className:"loading-dots",children:[c.jsx("div",{className:"dot"}),c.jsx("div",{className:"dot"}),c.jsx("div",{className:"dot"})]}),"      ",c.jsxs("p",{children:["        ",e==="rhyme"?"Votre comptine est en cours de cration...":e==="histoire"||e==="audio"?"Cration de l'histoire en cours...":e==="histoire"?"Cration de votre histoire en cours...":e==="coloring"?"Votre coloriage est en cours de cration...":e==="comic"?"Cration de votre bande dessine en cours...":e==="animation"?"Cration de votre dessin anim en cours...":"Gnration en cours..."]})]},"generating"):G&&e==="coloring"?c.jsxs(Re.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[c.jsx("button",{onClick:()=>V(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Ouvrir le coloriage"}),c.jsx("button",{onClick:()=>le(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Colorier maintenant"}),c.jsx("button",{onClick:()=>{if(G!=null&&G.images){const Te=`coloriages_${G.theme||te||"generes"}`;Av(G.images,Te)}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger le coloriage"})]},"coloring-result"):Ne&&e==="comic"?c.jsxs(Re.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem",padding:"1rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem"},children:[c.jsx("h3",{style:{color:"var(--primary)",marginBottom:"0.5rem"},children:Ne.title||"Votre Bande Dessine"}),c.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[Ne.total_pages," ",Ne.total_pages===1?"planche":"planches","  ",Ne.total_pages*4," cases"]})]}),c.jsx("button",{onClick:()=>Oe(!0),style:{padding:"0.8rem 2rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"700",fontSize:"1rem",boxShadow:"0 4px 12px rgba(245, 240, 255, 0.3)",transition:"all 0.2s ease"},onMouseOver:Te=>Te.target.style.transform="translateY(-2px)",onMouseOut:Te=>Te.target.style.transform="translateY(0)",children:" Lire la bande dessine"})]},"comics-result"):K&&e==="rhyme"&&K.suno_url&&ae?c.jsx(Re.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsxs("div",{style:{height:"300px",maxWidth:"500px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"0.8rem",padding:"0.5rem",overflowY:"auto"},children:[K.suno_url&&ae&&c.jsx(c.Fragment,{children:c.jsxs("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",maxWidth:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",overflow:"hidden"},children:[c.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",padding:"9px 50px 0px"},children:c.jsx("h4",{style:{margin:0,fontSize:"15px",color:"#333",fontWeight:"600"},children:"Votre comptine est prte !"})}),c.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",outline:"none"},src:K.suno_url,children:"Votre navigateur ne supporte pas l'lment audio."})]})}),K.suno_url&&ae&&c.jsx(c.Fragment,{children:c.jsx("button",{onClick:async()=>{if(K.suno_url&&ae)try{const Te=await fetch(K.suno_url);if(!Te.ok)throw new Error(`Erreur HTTP: ${Te.status}`);const Ye=await Te.blob();if(Ye.size===0)throw new Error("Fichier audio indisponible");const it=window.URL.createObjectURL(Ye),ke=(Ws||K.title||"comptine").replace(/[^a-z0-9]/gi,"_").toLowerCase(),$e=document.createElement("a");$e.href=it,$e.download=`${ke}.mp3`,$e.style.display="none",document.body.appendChild($e),$e.click(),document.body.removeChild($e),setTimeout(()=>window.URL.revokeObjectURL(it),100)}catch(Te){alert(`Erreur lors du tlchargement: ${Te.message}`)}},disabled:!ae,style:{padding:"0.8rem 2rem",backgroundColor:ae?"#6B4EFF":"#ccc",color:ae?"#fff":"#666",border:"none",borderRadius:"10px",cursor:ae?"pointer":"not-allowed",fontWeight:"600",fontSize:"14px",marginTop:"0.8rem",boxShadow:ae?"0 4px 12px rgba(245, 240, 255, 0.3)":"none",transition:"all 0.3s ease"},onMouseOver:Te=>ae&&(Te.target.style.transform="translateY(-2px)"),onMouseOut:Te=>ae&&(Te.target.style.transform="translateY(0)"),children:ae?" Tlcharger":" Prparation du tlchargement..."})})]})},"rhyme-result"):K&&(e==="histoire"||e==="audio")?c.jsx(Re.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsxs("div",{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem",padding:"1rem",overflowY:"auto"},children:[K.audio_path&&c.jsx("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",padding:"22px",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:c.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",height:"40px",outline:"none"},src:t0(K.audio_path),children:"Votre navigateur ne supporte pas l'lment audio."})}),c.jsxs("div",{style:{display:"flex",gap:"1rem",width:"100%",justifyContent:"center",flexWrap:"wrap"},children:[c.jsx("button",{onClick:()=>P(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Ouvrir l'histoire"}),c.jsx("button",{onClick:()=>Wo(K.title,K.content),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger l'histoire"}),K.audio_path&&c.jsx("button",{onClick:async()=>{try{const Te=t0(K.audio_path),Ye=(K.title||"Histoire").replace(/[^a-z0-9]/gi,"_").toLowerCase();if(K.audio_path.startsWith("http://")||K.audio_path.startsWith("https://")){const Ee=await fetch(Te);if(!Ee.ok)throw new Error(`Erreur HTTP: ${Ee.status}`);const Xe=await Ee.blob(),ht=window.URL.createObjectURL(Xe),yt=document.createElement("a");yt.href=ht,yt.download=`${Ye}.mp3`,document.body.appendChild(yt),yt.click(),document.body.removeChild(yt),setTimeout(()=>window.URL.revokeObjectURL(ht),100);return}const it=await fetch(Te);if(!it.ok)throw new Error(`Erreur HTTP: ${it.status}`);const ke=await it.blob(),$e=window.URL.createObjectURL(ke),St=document.createElement("a");St.href=$e,St.download=`${Ye}.mp3`,document.body.appendChild(St),St.click(),document.body.removeChild(St),setTimeout(()=>{window.URL.revokeObjectURL($e)},100)}catch{try{const Ye=t0(K.audio_path);window.open(Ye,"_blank")}catch{alert("Erreur lors du tlchargement. Veuillez ressayer.")}}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger l'audio"})]})]})},"audio-story-result"):c.jsxs(Re.div,{className:"preview-placeholder",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:["  ",!(K!=null&&K.content)&&!G&&c.jsxs("div",{className:"empty-preview",children:["    ",c.jsx("p",{children:e==="rhyme"?"Votre comptine apparatra ici":e==="histoire"||e==="audio"||e==="histoire"?"Votre histoire apparatra ici":e==="coloring"?"Votre coloriage apparatra ici":e==="comic"?"Votre bande dessine apparatra ici":e==="animation"?"Votre dessin anim apparatra ici":"Votre contenu apparatra ici"})]})]},"placeholder")})})})})})]})}),c.jsx(Si,{children:Vr&&c.jsx(Re.div,{className:"history-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:gs,children:c.jsx(eF,{onClose:gs,onSelect:hc})})}),R&&c.jsx(tF,{title:K.title,content:K.content,onClose:()=>P(!1)}),"    ",J&&c.jsx(rF,{coloringResult:G,selectedTheme:te,onClose:()=>V(!1)}),ce&&c.jsx(A4,{imageUrl:(()=>{var Ye;const Te=(Ye=G==null?void 0:G.images)==null?void 0:Ye[0];return Te?Te.image_url||Te:void 0})(),theme:(G==null?void 0:G.theme)||te,onClose:()=>le(!1)}),Me&&c.jsx(sF,{comic:Ne,onClose:()=>Oe(!1),baseUrl:cr}),si&&c.jsx(V7,{animationResult:Rt,onClose:()=>At(!1)}),Yi&&c.jsx(JF,{isOpen:Yi,contentType:Br,options:{duration:Ce,pages:Pe,voice:S},onSuccess:Te=>{$t(!1),ut(!0),setTimeout(()=>{Ys()},500)},onClose:()=>{$t(!1)}}),Nn&&c.jsx(eR,{isOpen:Nn,onClose:()=>Ur(!1),userId:dt==null?void 0:dt.id,userEmail:dt==null?void 0:dt.email}),c.jsx(tR,{onLegalClick:Te=>{et(!0),li(Te)}}),c.jsx(Si,{children:ai&&c.jsx(nR,{onClose:()=>et(!1),initialSection:zr})})]})}const Aw=["fredagathe77@gmail.com","admin@herbbie.com"],nu="herbbie_admin_session",aa={initAuthListener(e){const t=()=>{const r=this.getStoredSession();r&&r.user?e({user:r.user,isAdmin:r.isAdmin,session:r}):e(null)};t();const n=r=>{r.key===nu&&t()};return window.addEventListener("storage",n),{unsubscribe:()=>{window.removeEventListener("storage",n)}}},async signIn(e,t){try{if(!Aw.includes(e))throw new Error("Accs refus. Seuls les administrateurs peuvent accder  ce panneau.");const n={id:"admin-"+Date.now(),email:e,user_metadata:{full_name:e==="fredagathe77@gmail.com"?"Admin Principal":"Administrateur"}},r={user:n,access_token:"admin-token-"+Date.now(),token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:n,isAdmin:!0,session:r}),{user:n,session:r,isAdmin:!0}}catch(n){throw console.error("Erreur de connexion:",n),n}},async signOut(){try{localStorage.removeItem(nu)}catch(e){throw console.error("Erreur de dconnexion:",e),e}},async getCurrentUser(){try{const e=this.getStoredSession();return e&&e.user?{user:e.user,isAdmin:e.isAdmin}:null}catch(e){return console.error("Erreur lors de la rcupration de l'utilisateur:",e),null}},async checkUserIsAdmin(e){try{return!e||!e.email?!1:Aw.includes(e.email)}catch(t){return console.error("Erreur lors de la vrification du rle admin:",t),!1}},async authenticateWithToken(e){try{if(!e||!e.includes("admin"))return console.warn("Token invalide"),!1;const t={id:"admin-auto-"+Date.now(),email:"admin@herbbie.com",user_metadata:{full_name:"Administrateur Auto"}},n={user:t,access_token:e,token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:t,isAdmin:!0,session:n}),{user:t,isAdmin:!0,session:n}}catch(t){return console.error("Erreur authentification automatique:",t),!1}},async getCurrentSession(){try{return this.getStoredSession()}catch(e){return console.error("Erreur lors de la rcupration de la session:",e),null}},storeSession(e){try{localStorage.setItem(nu,JSON.stringify(e))}catch(t){console.error("Erreur lors du stockage de la session:",t)}},getStoredSession(){try{const e=localStorage.getItem(nu);if(e){const t=JSON.parse(e);if(t.session&&t.session.expires_at>Date.now())return t;localStorage.removeItem(nu)}}catch(e){console.error("Erreur lors de la rcupration de la session:",e)}return null}},Z4=F.createContext(),e_=()=>{const e=F.useContext(Z4);if(!e)throw new Error("useAuth doit tre utilis dans un AuthProvider");return e},oR=({children:e})=>{const[t,n]=F.useState(null),[r,i]=F.useState(!1),[s,o]=F.useState(!0),[a,l]=F.useState(null);F.useEffect(()=>{let m;return(async()=>{try{const b=await aa.getCurrentSession();if(b!=null&&b.user){const _=await aa.checkUserIsAdmin(b.user);n(b.user),i(_),l(b)}}catch(b){console.error("Erreur lors de l'initialisation de l'authentification:",b)}finally{o(!1)}m=aa.initAuthListener(async b=>{b?(n(b.user),i(b.isAdmin),l(b.session)):(n(null),i(!1),l(null)),o(!1)})})(),()=>{m&&m.unsubscribe()}},[]);const f={user:t,isAdmin:r,loading:s,session:a,signIn:async(m,g)=>{o(!0);try{const b=await aa.signIn(m,g);return b&&(n(b.user),i(b.isAdmin),l(b.session)),b}catch(b){throw b}finally{o(!1)}},signOut:async()=>{o(!0);try{await aa.signOut(),n(null),i(!1),l(null)}catch(m){throw console.error("Erreur lors de la dconnexion:",m),m}finally{o(!1)}},authenticateWithToken:aa.authenticateWithToken.bind(aa),isAuthenticated:!!t&&r};return c.jsx(Z4.Provider,{value:f,children:e})};const aR=()=>{const[e,t]=F.useState(""),[n,r]=F.useState(""),[i,s]=F.useState(""),[o,a]=F.useState(!1),[l,u]=F.useState(!1),{signIn:h}=e_(),f=async m=>{m.preventDefault(),s(""),a(!0);try{await h(e,n),Kh(e.trim())}catch(g){s(g.message||"Erreur de connexion")}finally{a(!1)}};return c.jsx("div",{className:"login-container",children:c.jsxs(Re.div,{className:"login-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"login-header",children:[c.jsx("div",{className:"login-logo",children:c.jsxs("div",{className:"login-logo-text",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("span",{children:"Administration"})]})}),c.jsx("h2",{children:"Connexion Administrateur"}),c.jsx("p",{children:"Accs rserv aux administrateurs HERBBIE"})]}),c.jsxs("form",{className:"login-form",onSubmit:f,children:[i&&c.jsxs(Re.div,{className:"login-error",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:[c.jsx("span",{children:""})," ",i]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"email",children:"Email administrateur"}),c.jsx(Rl,{value:e,onChange:m=>t(m.target.value),placeholder:"admin@herbbie.com",required:!0,disabled:o,user:null,onEmailSubmit:()=>{}})]}),c.jsxs("div",{className:"login-field",children:[c.jsx("label",{htmlFor:"password",children:"Mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:l?"text":"password",id:"password",value:n,onChange:m=>r(m.target.value),placeholder:"",required:!0,disabled:o,autoComplete:"current-password",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>u(!l),disabled:o,"aria-label":l?"Masquer le mot de passe":"Afficher le mot de passe",children:l?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),c.jsx("button",{type:"submit",className:"login-button",disabled:o||!e||!n,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"login-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),c.jsx("div",{className:"login-footer",children:c.jsx("p",{children:" Accs scuris - Seuls les administrateurs peuvent se connecter"})})]})})},Ev="/api/features",lR=async()=>{try{const e=await Jn(Ev,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok)return await e.json();throw console.error("Erreur lors de la rcupration des fonctionnalits:",e.statusText),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors de la rcupration des fonctionnalits:",e),e}},cR=async(e,t)=>{try{const n=await mp({"Content-Type":"application/json"}),r=await Jn(`${Ev}/${e}`,{method:"PUT",headers:n,body:JSON.stringify({enabled:t})});if(r.ok)return(await r.json()).features;{const i=await r.text();throw console.error("Erreur lors de la mise  jour:",r.status,i),new Error(`Erreur API: ${r.status} - ${i}`)}}catch(n){throw console.error("Erreur lors de la mise  jour de la fonctionnalit:",n),n}},uR=async()=>{try{const e=await mp({"Content-Type":"application/json"}),t=await Jn(`${Ev}/reset`,{method:"POST",headers:e});if(t.ok)return(await t.json()).features;{const n=await t.text();throw console.error("Erreur lors de la rinitialisation:",t.status,n),new Error(`Erreur API: ${t.status} - ${n}`)}}catch(e){throw console.error("Erreur lors de la rinitialisation:",e),e}},dR=async()=>{try{return await lR()}catch(e){throw e}},hR=async(e,t)=>{try{const n=await cR(e,t);return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:n})),n}catch(n){throw n}},fR=async()=>{try{const e=await uR();return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:e})),e}catch(e){throw console.error("Erreur lors de la rinitialisation des fonctionnalits:",e),e}},t_="/api/users",pR=async()=>{try{const e=await Jn(t_,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok)return(await e.json()).users||[];{const t=await e.text();throw console.error("Erreur lors du chargement des utilisateurs:",e.status,t),new Error(`Erreur API: ${e.status} ${t}`)}}catch(e){throw console.error("Erreur lors du chargement des utilisateurs:",e),e}},mR=async e=>{try{const t=await mp({"Content-Type":"application/json"}),n=await Jn(`${t_}/${e}`,{method:"DELETE",headers:t});if(n.ok)return!0;{const r=await n.text();throw console.error("Erreur lors de la suppression de l'utilisateur:",n.status,r),new Error(`Erreur API: ${n.status} - ${r}`)}}catch(t){throw console.error("Erreur lors de la suppression de l'utilisateur:",t),t}};const gR=()=>{const[e,t]=F.useState({}),[n,r]=F.useState(!0),[i,s]=F.useState(null),[o,a]=F.useState("features"),[l,u]=F.useState([]),[h,f]=F.useState(!1),[m,g]=F.useState(null),b=(B,U="info")=>{s({message:B,type:U}),setTimeout(()=>s(null),3e3)};F.useEffect(()=>{y()},[]);const _=F.useCallback(async()=>{try{f(!0),g(null);const B=await pR();u(B)}catch(B){console.error("Erreur lors du chargement des utilisateurs:",B),g("Erreur lors du chargement des utilisateurs"),b("Erreur lors du chargement des utilisateurs","error")}finally{f(!1)}},[]);F.useEffect(()=>{o==="users"&&_()},[o,_]);const k=async B=>{if(window.confirm("tes-vous sr de vouloir supprimer cet utilisateur et toutes ses crations ? Cette action est irrversible."))try{await mR(B),b("Utilisateur et toutes ses crations supprims avec succs","success"),await _()}catch(U){console.error("Erreur lors de la suppression:",U),b("Erreur lors de la suppression de l'utilisateur","error")}},y=async()=>{try{r(!0);const B=await dR();t(B)}catch(B){console.error("Erreur lors du chargement des fonctionnalits:",B),b("Erreur lors du chargement des fonctionnalits","error")}finally{r(!1)}},x=async B=>{var U,O;try{const K=((U=e[B])==null?void 0:U.enabled)||!1,Y=await hR(B,!K);if(Y){t(Y),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:Y}));const R=K?"dsactive":"active";b(`Fonctionnalit ${(O=e[B])==null?void 0:O.name} ${R}`,"success")}else b("Erreur lors de la mise  jour","error")}catch(K){console.error("Erreur lors de la mise  jour:",K),b("Erreur lors de la mise  jour","error")}},S=async()=>{try{const B=await fR();B?(t(B),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:B})),b("Toutes les fonctionnalits ont t rinitialises","success")):b("Erreur lors de la rinitialisation","error")}catch(B){console.error("Erreur lors de la rinitialisation:",B),b("Erreur lors de la rinitialisation","error")}},E=()=>Object.values(e).filter(B=>B.enabled).length,I=()=>Object.keys(e).length;return n?c.jsxs("div",{className:"admin-loading",children:[c.jsx("div",{className:"admin-loading-spinner"}),c.jsx("span",{children:"Chargement des fonctionnalits..."})]}):c.jsxs("div",{className:"feature-manager-container",children:[i&&c.jsx(Re.div,{className:`admin-notification ${i.type} show`,initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},children:i.message}),c.jsxs("div",{className:"admin-tab-bar",children:[c.jsx("button",{className:`admin-tab ${o==="features"?"active":""}`,onClick:()=>a("features"),children:"Fonctionnalits"}),c.jsx("button",{className:`admin-tab ${o==="users"?"active":""}`,onClick:()=>a("users"),children:"Utilisateurs"})]}),o==="features"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"feature-manager-header",children:[c.jsxs("div",{className:"feature-manager-stats",children:[c.jsxs("div",{className:"feature-stat",children:[c.jsx("span",{className:"feature-stat-number",children:E()}),c.jsx("span",{className:"feature-stat-label",children:"Actives"})]}),c.jsxs("div",{className:"feature-stat",children:[c.jsx("span",{className:"feature-stat-number",children:I()}),c.jsx("span",{className:"feature-stat-label",children:"Total"})]}),c.jsxs("div",{className:"feature-stat",children:[c.jsxs("span",{className:"feature-stat-number",children:[Math.round(E()/I()*100),"%"]}),c.jsx("span",{className:"feature-stat-label",children:"Taux d'activation"})]})]}),c.jsx("div",{className:"feature-manager-actions",children:c.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:S,children:" Rinitialiser"})})]}),c.jsx("div",{className:"feature-manager-grid",children:Object.entries(e).map(([B,U])=>c.jsxs(Re.div,{className:"feature-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[c.jsxs("div",{className:"feature-card-header",children:[c.jsxs("div",{className:"feature-info",children:[c.jsx("span",{className:"feature-icon",children:vR(B)}),c.jsxs("div",{className:"feature-details",children:[c.jsx("h3",{className:"feature-name",children:U.name}),c.jsx("span",{className:`feature-status ${U.enabled?"enabled":"disabled"}`,children:U.enabled?"Active":"Dsactive"})]})]}),c.jsxs("label",{className:"feature-toggle",children:[c.jsx("input",{type:"checkbox",checked:U.enabled,onChange:()=>x(B)}),c.jsx("span",{className:"toggle-slider"})]})]}),c.jsx("div",{className:"feature-card-body",children:c.jsx("p",{className:"feature-description",children:yR(B)})})]},B))}),c.jsx("div",{className:"feature-manager-info",children:c.jsxs("div",{className:"admin-card",children:[c.jsx("div",{className:"admin-card-header",children:c.jsx("h3",{children:" Informations"})}),c.jsxs("div",{className:"admin-card-body",children:[c.jsx("p",{children:"Les fonctionnalits actives sont visibles pour tous les utilisateurs de HERBBIE. Les modifications sont appliques immdiatement."}),c.jsxs("ul",{className:"feature-info-list",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Dessin anim"})," : Gnration de vidos animes"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Bande dessine"})," : Cration de BD avec bulles"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Coloriage"})," : Pages de coloriage  imprimer"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Histoire"})," : Contes audio avec narration"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Comptine"})," : Chansons avec musique gnre"]})]})]})]})})]}),o==="users"&&c.jsxs("div",{className:"admin-users-panel",children:[c.jsxs("div",{className:"admin-users-header",children:[c.jsx("h2",{children:" Gestion des utilisateurs"}),c.jsx("p",{children:"Liste de tous les utilisateurs enregistrs dans HERBBIE"})]}),h?c.jsxs("div",{className:"admin-loading",children:[c.jsx("div",{className:"admin-loading-spinner"}),c.jsx("span",{children:"Chargement des utilisateurs..."})]}):m?c.jsx("div",{className:"admin-error",children:c.jsx("p",{children:m})}):l.length===0?c.jsx("div",{className:"admin-empty",children:c.jsx("p",{children:"Aucun utilisateur trouv"})}):c.jsx("div",{className:"admin-users-table-container",children:c.jsxs("table",{className:"admin-users-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nom"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Rle"}),c.jsx("th",{children:"Date d'inscription"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:l.map(B=>c.jsxs("tr",{children:[c.jsx("td",{children:B.prenom||B.nom?`${B.prenom||""} ${B.nom||""}`.trim():"Non renseign"}),c.jsx("td",{children:B.email||"N/A"}),c.jsx("td",{children:c.jsx("span",{className:`user-role ${B.role==="admin"?"admin":B.role==="free"?"free":"user"}`,children:B.role==="admin"?" Admin":B.role==="free"?" Gratuit":" Utilisateur"})}),c.jsx("td",{children:B.created_at?new Date(B.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"N/A"}),c.jsx("td",{children:c.jsx("button",{className:"delete-user-btn",onClick:()=>k(B.id),title:"Supprimer l'utilisateur et toutes ses crations",children:" Supprimer"})})]},B.id))})]})})]})]})},vR=e=>({animation:"",comic:"",coloring:"",audio:"",rhyme:""})[e]||"",yR=e=>({animation:"Gnration de dessins anims personnaliss avec IA",comic:"Cration de bandes dessines avec bulles de dialogue",coloring:"Pages de coloriage  imprimer pour les enfants",audio:"Histoires audio avec narration automatique",rhyme:"Comptines musicales avec paroles et mlodies"})[e]||"Fonctionnalit de cration de contenu",wR=()=>{const{user:e,isAdmin:t,loading:n,signOut:r}=e_(),[i]=T6(),s=F1(),o=i.get("auth"),[a,l]=Ut.useState(!1);return F.useEffect(()=>{o==="auto"?(l(!0),window.history.replaceState({},"","/ilmysv6iepwepoa4tj2k")):!o&&!a&&localStorage.removeItem("herbbie_admin_session")},[o]),F.useEffect(()=>{const h=document.title;return document.title="HERBBIE - Administration",()=>{document.title=h}},[]),F.useEffect(()=>{const h=()=>{l(!1),localStorage.removeItem("herbbie_admin_session"),document.title="HERBBIE"};return window.addEventListener("beforeunload",h),()=>{window.removeEventListener("beforeunload",h)}},[]),n&&!a?c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#F9F4FF",color:"#333333"},children:c.jsx("div",{children:"Chargement..."})}):a||e&&t?c.jsx("div",{style:{minHeight:"100vh",background:"#F9F4FF",padding:"40px 20px"},children:c.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[c.jsx("h1",{style:{color:"#333333",textAlign:"center",marginBottom:"40px",fontSize:"2.5em",fontFamily:"'Baloo 2', cursive",fontWeight:"700"},children:" Gestion des Fonctionnalits HERBBIE"}),c.jsx(gR,{}),c.jsxs("div",{style:{marginTop:"40px",textAlign:"center",display:"flex",gap:"15px",justifyContent:"center",flexWrap:"wrap"},children:[c.jsx("a",{href:"/",onClick:h=>{h.preventDefault(),window.location.href="/"},style:{color:"#6B4EFF",textDecoration:"none",padding:"12px 30px",background:"#FFFFFF",border:"2px solid #6B4EFF",borderRadius:"12px",display:"inline-block",transition:"all 0.3s ease",cursor:"pointer",fontFamily:"'Baloo 2', cursive",fontWeight:"600",fontSize:"16px"},onMouseEnter:h=>{h.target.style.background="#6B4EFF",h.target.style.color="#FFFFFF"},onMouseLeave:h=>{h.target.style.background="#FFFFFF",h.target.style.color="#6B4EFF"},children:" Retour  HERBBIE"}),c.jsx("button",{onClick:async()=>{await r(),localStorage.removeItem("herbbie_admin_session"),s("/ilmysv6iepwepoa4tj2k")},style:{color:"#FFFFFF",border:"none",padding:"12px 30px",background:"#FF85A1",borderRadius:"12px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",fontFamily:"'Baloo 2', cursive"},onMouseEnter:h=>{h.target.style.background="#ff6b8a",h.target.style.transform="translateY(-2px)"},onMouseLeave:h=>{h.target.style.background="#FF85A1",h.target.style.transform="translateY(0)"},children:" Dconnexion"})]})]})}):c.jsx(aR,{})},xR=()=>c.jsx(oR,{children:c.jsx(wR,{})});const bR=()=>{const[e,t]=F.useState(""),[n,r]=F.useState(""),[i,s]=F.useState(""),[o,a]=F.useState(!1),[l,u]=F.useState(!1),[h,f]=F.useState(!1),[m,g]=F.useState(!1),[b,_]=F.useState(!1),[k,y]=F.useState(!1);F.useEffect(()=>{const S=document.createElement("meta");return S.name="robots",S.content="noindex, nofollow",document.head.appendChild(S),()=>{const E=document.querySelector('meta[name="robots"]');E&&E.content==="noindex, nofollow"&&E.remove()}},[]),F.useEffect(()=>{let S,E;return(async()=>{await new Promise(O=>setTimeout(O,500));const{data:{session:B}}=await vt.auth.getSession();if(B){f(!0);return}S=setTimeout(async()=>{const{data:{session:O}}=await vt.auth.getSession();O||g(!0)},15e3);const{data:{subscription:U}}=vt.auth.onAuthStateChange(async(O,K)=>{(O==="PASSWORD_RECOVERY"||O==="SIGNED_IN"||O==="INITIAL_SESSION")&&K&&(f(!0),g(!1),S&&clearTimeout(S))});E=U})(),()=>{S&&clearTimeout(S),E&&E.unsubscribe()}},[]);const x=async S=>{if(S.preventDefault(),s(""),u(!0),e.length<6){s("Le mot de passe doit contenir au moins 6 caractres"),u(!1);return}if(e!==n){s("Les mots de passe ne correspondent pas"),u(!1);return}try{const{error:E}=await vt.auth.updateUser({password:e});E?s(E.message):(a(!0),setTimeout(()=>{window.location.href="/"},3e3))}catch{s("Une erreur est survenue lors de la mise  jour du mot de passe")}u(!1)};return o?c.jsx("div",{className:"reset-password-page",children:c.jsx(Re.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:c.jsxs("div",{className:"success-message",children:[c.jsx("div",{className:"success-icon",children:""}),c.jsx("h2",{children:"Mot de passe mis  jour !"}),c.jsx("p",{children:"Votre mot de passe a t chang avec succs."}),c.jsx("p",{children:"Vous serez redirig vers la page d'accueil dans quelques secondes..."})]})})}):m?c.jsx("div",{className:"reset-password-page",children:c.jsxs(Re.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Erreur de lien"})]}),c.jsxs("div",{className:"error-message",children:[c.jsx("div",{className:"error-icon",children:""}),c.jsx("h3",{children:"Lien de rinitialisation invalide"}),c.jsx("p",{children:"Ce lien de rinitialisation de mot de passe n'est pas valide ou a expir."}),c.jsx("p",{children:"Veuillez demander un nouveau lien de rinitialisation."})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})}):h?c.jsx("div",{className:"reset-password-page",children:c.jsxs(Re.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Rinitialiser votre mot de passe"})]}),c.jsxs("form",{onSubmit:x,className:"reset-password-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"newPassword",children:"Nouveau mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:b?"text":"password",id:"newPassword",value:e,onChange:S=>t(S.target.value),placeholder:"Entrez votre nouveau mot de passe",required:!0,minLength:"6",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>_(!b),"aria-label":b?"Masquer le mot de passe":"Afficher le mot de passe",children:b?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),c.jsxs("div",{className:"password-input-container",children:[c.jsx("input",{type:k?"text":"password",id:"confirmPassword",value:n,onChange:S=>r(S.target.value),placeholder:"Confirmez votre nouveau mot de passe",required:!0,minLength:"6",className:"password-input"}),c.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>y(!k),"aria-label":k?"Masquer le mot de passe":"Afficher le mot de passe",children:k?c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),c.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):c.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),i&&c.jsx("div",{className:"error-message",children:i}),c.jsx("button",{type:"submit",className:"reset-button",disabled:l,children:l?"Mise  jour...":"Mettre  jour le mot de passe"})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})}):c.jsx("div",{className:"reset-password-page",children:c.jsxs(Re.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:"HERBBIE"}),c.jsx("h2",{children:"Rinitialiser votre mot de passe"})]}),c.jsxs("div",{className:"waiting-message",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Vrification de votre lien de rinitialisation..."}),c.jsx("p",{className:"waiting-subtitle",children:"Si cette page ne se met pas  jour automatiquement, assurez-vous d'avoir cliqu sur le lien complet dans votre email."})]}),c.jsx("div",{className:"reset-password-footer",children:c.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})})};n0.createRoot(document.getElementById("root")).render(c.jsx(Ut.StrictMode,{children:c.jsx(C6,{children:c.jsxs(n6,{children:[c.jsx(Mh,{path:"/",element:c.jsx(sR,{})}),c.jsx(Mh,{path:"/ilmysv6iepwepoa4tj2k",element:c.jsx(xR,{})}),c.jsx(Mh,{path:"/reset-password",element:c.jsx(bR,{})})]})})}));export{Dt as _,ji as c,Dg as g};
