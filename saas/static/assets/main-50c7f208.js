(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ki=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function U_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Ew={exports:{}},Mf={},Lw={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td=Symbol.for("react.element"),z_=Symbol.for("react.portal"),$_=Symbol.for("react.fragment"),q_=Symbol.for("react.strict_mode"),V_=Symbol.for("react.profiler"),W_=Symbol.for("react.provider"),H_=Symbol.for("react.context"),G_=Symbol.for("react.forward_ref"),K_=Symbol.for("react.suspense"),J_=Symbol.for("react.memo"),Y_=Symbol.for("react.lazy"),o2=Symbol.iterator;function X_(e){return e===null||typeof e!="object"?null:(e=o2&&e[o2]||e["@@iterator"],typeof e=="function"?e:null)}var Tw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fw=Object.assign,Iw={};function oc(e,t,n){this.props=e,this.context=t,this.refs=Iw,this.updater=n||Tw}oc.prototype.isReactComponent={};oc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};oc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rw(){}Rw.prototype=oc.prototype;function Bg(e,t,n){this.props=e,this.context=t,this.refs=Iw,this.updater=n||Tw}var Ug=Bg.prototype=new Rw;Ug.constructor=Bg;Fw(Ug,oc.prototype);Ug.isPureReactComponent=!0;var a2=Array.isArray,Ow=Object.prototype.hasOwnProperty,zg={current:null},Dw={key:!0,ref:!0,__self:!0,__source:!0};function Mw(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Ow.call(t,r)&&!Dw.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:td,type:e,key:s,ref:o,props:i,_owner:zg.current}}function Q_(e,t){return{$$typeof:td,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $g(e){return typeof e=="object"&&e!==null&&e.$$typeof===td}function Z_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var l2=/\/+/g;function Xp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Z_(""+e.key):t.toString(36)}function Ph(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case td:case z_:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Xp(o,0):r,a2(i)?(n="",e!=null&&(n=e.replace(l2,"$&/")+"/"),Ph(i,t,n,"",function(c){return c})):i!=null&&($g(i)&&(i=Q_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(l2,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",a2(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Xp(s,a);o+=Ph(s,t,n,l,i)}else if(l=X_(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Xp(s,a++),o+=Ph(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xd(e,t,n){if(e==null)return e;var r=[],i=0;return Ph(e,r,"","",function(s){return t.call(n,s,i++)}),r}function ej(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _r={current:null},Eh={transition:null},tj={ReactCurrentDispatcher:_r,ReactCurrentBatchConfig:Eh,ReactCurrentOwner:zg};function Bw(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:Xd,forEach:function(e,t,n){Xd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xd(e,function(){t++}),t},toArray:function(e){return Xd(e,function(t){return t})||[]},only:function(e){if(!$g(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=oc;jt.Fragment=$_;jt.Profiler=V_;jt.PureComponent=Bg;jt.StrictMode=q_;jt.Suspense=K_;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tj;jt.act=Bw;jt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Fw({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=zg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Ow.call(t,l)&&!Dw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:td,type:e.type,key:i,ref:s,props:r,_owner:o}};jt.createContext=function(e){return e={$$typeof:H_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:W_,_context:e},e.Consumer=e};jt.createElement=Mw;jt.createFactory=function(e){var t=Mw.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:G_,render:e}};jt.isValidElement=$g;jt.lazy=function(e){return{$$typeof:Y_,_payload:{_status:-1,_result:e},_init:ej}};jt.memo=function(e,t){return{$$typeof:J_,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=Eh.transition;Eh.transition={};try{e()}finally{Eh.transition=t}};jt.unstable_act=Bw;jt.useCallback=function(e,t){return _r.current.useCallback(e,t)};jt.useContext=function(e){return _r.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return _r.current.useDeferredValue(e)};jt.useEffect=function(e,t){return _r.current.useEffect(e,t)};jt.useId=function(){return _r.current.useId()};jt.useImperativeHandle=function(e,t,n){return _r.current.useImperativeHandle(e,t,n)};jt.useInsertionEffect=function(e,t){return _r.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return _r.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return _r.current.useMemo(e,t)};jt.useReducer=function(e,t,n){return _r.current.useReducer(e,t,n)};jt.useRef=function(e){return _r.current.useRef(e)};jt.useState=function(e){return _r.current.useState(e)};jt.useSyncExternalStore=function(e,t,n){return _r.current.useSyncExternalStore(e,t,n)};jt.useTransition=function(){return _r.current.useTransition()};jt.version="18.3.1";Lw.exports=jt;var T=Lw.exports;const zt=Mg(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nj=T,rj=Symbol.for("react.element"),ij=Symbol.for("react.fragment"),sj=Object.prototype.hasOwnProperty,oj=nj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aj={key:!0,ref:!0,__self:!0,__source:!0};function Uw(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)sj.call(t,r)&&!aj.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:rj,type:e,key:s,ref:o,props:i,_owner:oj.current}}Mf.Fragment=ij;Mf.jsx=Uw;Mf.jsxs=Uw;Ew.exports=Mf;var d=Ew.exports,r0={},zw={exports:{}},ni={},$w={exports:{}},qw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,ee){var Q=K.length;K.push(ee);e:for(;0<Q;){var me=Q-1>>>1,N=K[me];if(0<i(N,ee))K[me]=ee,K[Q]=N,Q=me;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ee=K[0],Q=K.pop();if(Q!==ee){K[0]=Q;e:for(var me=0,N=K.length,z=N>>>1;me<z;){var $=2*(me+1)-1,Y=K[$],Z=$+1,oe=K[Z];if(0>i(Y,Q))Z<N&&0>i(oe,Y)?(K[me]=oe,K[Z]=Q,me=Z):(K[me]=Y,K[$]=Q,me=$);else if(Z<N&&0>i(oe,Q))K[me]=oe,K[Z]=Q,me=Z;else break e}}return ee}function i(K,ee){var Q=K.sortIndex-ee.sortIndex;return Q!==0?Q:K.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,m=3,g=!1,b=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=K)r(c),ee.sortIndex=ee.expirationTime,t(l,ee);else break;ee=n(c)}}function E(K){if(S=!1,_(K),!b)if(n(l)!==null)b=!0,le(O);else{var ee=n(c);ee!==null&&ae(E,ee.startTime-K)}}function O(K,ee){b=!1,S&&(S=!1,y(L),L=-1),g=!0;var Q=m;try{for(_(ee),f=n(l);f!==null&&(!(f.expirationTime>ee)||K&&!R());){var me=f.callback;if(typeof me=="function"){f.callback=null,m=f.priorityLevel;var N=me(f.expirationTime<=ee);ee=e.unstable_now(),typeof N=="function"?f.callback=N:f===n(l)&&r(l),_(ee)}else r(l);f=n(l)}if(f!==null)var z=!0;else{var $=n(c);$!==null&&ae(E,$.startTime-ee),z=!1}return z}finally{f=null,m=Q,g=!1}}var M=!1,B=null,L=-1,V=5,H=-1;function R(){return!(e.unstable_now()-H<V)}function P(){if(B!==null){var K=e.unstable_now();H=K;var ee=!0;try{ee=B(!0,K)}finally{ee?J():(M=!1,B=null)}}else M=!1}var J;if(typeof x=="function")J=function(){x(P)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ue=W.port2;W.port1.onmessage=P,J=function(){ue.postMessage(null)}}else J=function(){k(P,0)};function le(K){B=K,M||(M=!0,J())}function ae(K,ee){L=k(function(){K(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,le(O))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(K){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var Q=m;m=ee;try{return K()}finally{m=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=m;m=K;try{return ee()}finally{m=Q}},e.unstable_scheduleCallback=function(K,ee,Q){var me=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?me+Q:me):Q=me,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=Q+N,K={id:h++,callback:ee,priorityLevel:K,startTime:Q,expirationTime:N,sortIndex:-1},Q>me?(K.sortIndex=Q,t(c,K),n(l)===null&&K===n(c)&&(S?(y(L),L=-1):S=!0,ae(E,Q-me))):(K.sortIndex=N,t(l,K),b||g||(b=!0,le(O))),K},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(K){var ee=m;return function(){var Q=m;m=ee;try{return K.apply(this,arguments)}finally{m=Q}}}})(qw);$w.exports=qw;var lj=$w.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cj=T,ei=lj;function Te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vw=new Set,Eu={};function La(e,t){Kl(e,t),Kl(e+"Capture",t)}function Kl(e,t){for(Eu[e]=t,e=0;e<t.length;e++)Vw.add(t[e])}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i0=Object.prototype.hasOwnProperty,uj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c2={},u2={};function dj(e){return i0.call(u2,e)?!0:i0.call(c2,e)?!1:uj.test(e)?u2[e]=!0:(c2[e]=!0,!1)}function hj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fj(e,t,n,r){if(t===null||typeof t>"u"||hj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yn[e]=new jr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yn[t]=new jr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yn[e]=new jr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yn[e]=new jr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yn[e]=new jr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yn[e]=new jr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yn[e]=new jr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yn[e]=new jr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yn[e]=new jr(e,5,!1,e.toLowerCase(),null,!1,!1)});var qg=/[\-:]([a-z])/g;function Vg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qg,Vg);Yn[t]=new jr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qg,Vg);Yn[t]=new jr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qg,Vg);Yn[t]=new jr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yn[e]=new jr(e,1,!1,e.toLowerCase(),null,!1,!1)});Yn.xlinkHref=new jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yn[e]=new jr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wg(e,t,n,r){var i=Yn.hasOwnProperty(t)?Yn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fj(t,n,i,r)&&(n=null),r||i===null?dj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Hs=cj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qd=Symbol.for("react.element"),wl=Symbol.for("react.portal"),xl=Symbol.for("react.fragment"),Hg=Symbol.for("react.strict_mode"),s0=Symbol.for("react.profiler"),Ww=Symbol.for("react.provider"),Hw=Symbol.for("react.context"),Gg=Symbol.for("react.forward_ref"),o0=Symbol.for("react.suspense"),a0=Symbol.for("react.suspense_list"),Kg=Symbol.for("react.memo"),bo=Symbol.for("react.lazy"),Gw=Symbol.for("react.offscreen"),d2=Symbol.iterator;function Vc(e){return e===null||typeof e!="object"?null:(e=d2&&e[d2]||e["@@iterator"],typeof e=="function"?e:null)}var un=Object.assign,Qp;function ou(e){if(Qp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qp=t&&t[1]||""}return`
`+Qp+e}var Zp=!1;function em(e,t){if(!e||Zp)return"";Zp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ou(e):""}function pj(e){switch(e.tag){case 5:return ou(e.type);case 16:return ou("Lazy");case 13:return ou("Suspense");case 19:return ou("SuspenseList");case 0:case 2:case 15:return e=em(e.type,!1),e;case 11:return e=em(e.type.render,!1),e;case 1:return e=em(e.type,!0),e;default:return""}}function l0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xl:return"Fragment";case wl:return"Portal";case s0:return"Profiler";case Hg:return"StrictMode";case o0:return"Suspense";case a0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hw:return(e.displayName||"Context")+".Consumer";case Ww:return(e._context.displayName||"Context")+".Provider";case Gg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kg:return t=e.displayName||null,t!==null?t:l0(e.type)||"Memo";case bo:t=e._payload,e=e._init;try{return l0(e(t))}catch{}}return null}function mj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return l0(t);case 8:return t===Hg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Do(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gj(e){var t=Kw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zd(e){e._valueTracker||(e._valueTracker=gj(e))}function Jw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Kw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function c0(e,t){var n=t.checked;return un({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function h2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Do(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yw(e,t){t=t.checked,t!=null&&Wg(e,"checked",t,!1)}function u0(e,t){Yw(e,t);var n=Do(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?d0(e,t.type,n):t.hasOwnProperty("defaultValue")&&d0(e,t.type,Do(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function f2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function d0(e,t,n){(t!=="number"||Zh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var au=Array.isArray;function Ml(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Do(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function h0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Te(91));return un({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function p2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Te(92));if(au(n)){if(1<n.length)throw Error(Te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Do(n)}}function Xw(e,t){var n=Do(t.value),r=Do(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function m2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function f0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var eh,Zw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(eh=eh||document.createElement("div"),eh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vj=["Webkit","ms","Moz","O"];Object.keys(pu).forEach(function(e){vj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pu[t]=pu[e]})});function ex(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pu.hasOwnProperty(e)&&pu[e]?(""+t).trim():t+"px"}function tx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ex(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var yj=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function p0(e,t){if(t){if(yj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Te(62))}}function m0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g0=null;function Jg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var v0=null,Bl=null,Ul=null;function g2(e){if(e=id(e)){if(typeof v0!="function")throw Error(Te(280));var t=e.stateNode;t&&(t=qf(t),v0(e.stateNode,e.type,t))}}function nx(e){Bl?Ul?Ul.push(e):Ul=[e]:Bl=e}function rx(){if(Bl){var e=Bl,t=Ul;if(Ul=Bl=null,g2(e),t)for(e=0;e<t.length;e++)g2(t[e])}}function ix(e,t){return e(t)}function sx(){}var tm=!1;function ox(e,t,n){if(tm)return e(t,n);tm=!0;try{return ix(e,t,n)}finally{tm=!1,(Bl!==null||Ul!==null)&&(sx(),rx())}}function Tu(e,t){var n=e.stateNode;if(n===null)return null;var r=qf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Te(231,t,typeof n));return n}var y0=!1;if(Us)try{var Wc={};Object.defineProperty(Wc,"passive",{get:function(){y0=!0}}),window.addEventListener("test",Wc,Wc),window.removeEventListener("test",Wc,Wc)}catch{y0=!1}function wj(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var mu=!1,ef=null,tf=!1,w0=null,xj={onError:function(e){mu=!0,ef=e}};function bj(e,t,n,r,i,s,o,a,l){mu=!1,ef=null,wj.apply(xj,arguments)}function Sj(e,t,n,r,i,s,o,a,l){if(bj.apply(this,arguments),mu){if(mu){var c=ef;mu=!1,ef=null}else throw Error(Te(198));tf||(tf=!0,w0=c)}}function Ta(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ax(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v2(e){if(Ta(e)!==e)throw Error(Te(188))}function _j(e){var t=e.alternate;if(!t){if(t=Ta(e),t===null)throw Error(Te(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return v2(i),e;if(s===r)return v2(i),t;s=s.sibling}throw Error(Te(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?e:t}function lx(e){return e=_j(e),e!==null?cx(e):null}function cx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cx(e);if(t!==null)return t;e=e.sibling}return null}var ux=ei.unstable_scheduleCallback,y2=ei.unstable_cancelCallback,jj=ei.unstable_shouldYield,kj=ei.unstable_requestPaint,bn=ei.unstable_now,Nj=ei.unstable_getCurrentPriorityLevel,Yg=ei.unstable_ImmediatePriority,dx=ei.unstable_UserBlockingPriority,nf=ei.unstable_NormalPriority,Aj=ei.unstable_LowPriority,hx=ei.unstable_IdlePriority,Bf=null,cs=null;function Cj(e){if(cs&&typeof cs.onCommitFiberRoot=="function")try{cs.onCommitFiberRoot(Bf,e,void 0,(e.current.flags&128)===128)}catch{}}var Hi=Math.clz32?Math.clz32:Lj,Pj=Math.log,Ej=Math.LN2;function Lj(e){return e>>>=0,e===0?32:31-(Pj(e)/Ej|0)|0}var th=64,nh=4194304;function lu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=lu(a):(s&=o,s!==0&&(r=lu(s)))}else o=n&~i,o!==0?r=lu(o):s!==0&&(r=lu(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Hi(t),i=1<<n,r|=e[n],t&=~i;return r}function Tj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Hi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Tj(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function x0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fx(){var e=th;return th<<=1,!(th&4194240)&&(th=64),e}function nm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Hi(t),e[t]=n}function Ij(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Hi(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Xg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Hi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Dt=0;function px(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mx,Qg,gx,vx,yx,b0=!1,rh=[],Po=null,Eo=null,Lo=null,Fu=new Map,Iu=new Map,_o=[],Rj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w2(e,t){switch(e){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Fu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(t.pointerId)}}function Hc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=id(t),t!==null&&Qg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Oj(e,t,n,r,i){switch(t){case"focusin":return Po=Hc(Po,e,t,n,r,i),!0;case"dragenter":return Eo=Hc(Eo,e,t,n,r,i),!0;case"mouseover":return Lo=Hc(Lo,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fu.set(s,Hc(Fu.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Iu.set(s,Hc(Iu.get(s)||null,e,t,n,r,i)),!0}return!1}function wx(e){var t=ya(e.target);if(t!==null){var n=Ta(t);if(n!==null){if(t=n.tag,t===13){if(t=ax(n),t!==null){e.blockedOn=t,yx(e.priority,function(){gx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=S0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);g0=r,n.target.dispatchEvent(r),g0=null}else return t=id(n),t!==null&&Qg(t),e.blockedOn=n,!1;t.shift()}return!0}function x2(e,t,n){Lh(e)&&n.delete(t)}function Dj(){b0=!1,Po!==null&&Lh(Po)&&(Po=null),Eo!==null&&Lh(Eo)&&(Eo=null),Lo!==null&&Lh(Lo)&&(Lo=null),Fu.forEach(x2),Iu.forEach(x2)}function Gc(e,t){e.blockedOn===t&&(e.blockedOn=null,b0||(b0=!0,ei.unstable_scheduleCallback(ei.unstable_NormalPriority,Dj)))}function Ru(e){function t(i){return Gc(i,e)}if(0<rh.length){Gc(rh[0],e);for(var n=1;n<rh.length;n++){var r=rh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Po!==null&&Gc(Po,e),Eo!==null&&Gc(Eo,e),Lo!==null&&Gc(Lo,e),Fu.forEach(t),Iu.forEach(t),n=0;n<_o.length;n++)r=_o[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_o.length&&(n=_o[0],n.blockedOn===null);)wx(n),n.blockedOn===null&&_o.shift()}var zl=Hs.ReactCurrentBatchConfig,sf=!0;function Mj(e,t,n,r){var i=Dt,s=zl.transition;zl.transition=null;try{Dt=1,Zg(e,t,n,r)}finally{Dt=i,zl.transition=s}}function Bj(e,t,n,r){var i=Dt,s=zl.transition;zl.transition=null;try{Dt=4,Zg(e,t,n,r)}finally{Dt=i,zl.transition=s}}function Zg(e,t,n,r){if(sf){var i=S0(e,t,n,r);if(i===null)hm(e,t,r,of,n),w2(e,r);else if(Oj(i,e,t,n,r))r.stopPropagation();else if(w2(e,r),t&4&&-1<Rj.indexOf(e)){for(;i!==null;){var s=id(i);if(s!==null&&mx(s),s=S0(e,t,n,r),s===null&&hm(e,t,r,of,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hm(e,t,r,null,n)}}var of=null;function S0(e,t,n,r){if(of=null,e=Jg(r),e=ya(e),e!==null)if(t=Ta(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ax(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return of=e,null}function xx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nj()){case Yg:return 1;case dx:return 4;case nf:case Aj:return 16;case hx:return 536870912;default:return 16}default:return 16}}var No=null,e1=null,Th=null;function bx(){if(Th)return Th;var e,t=e1,n=t.length,r,i="value"in No?No.value:No.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Th=i.slice(e,1<r?1-r:void 0)}function Fh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ih(){return!0}function b2(){return!1}function ri(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ih:b2,this.isPropagationStopped=b2,this}return un(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ih)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ih)},persist:function(){},isPersistent:ih}),t}var ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t1=ri(ac),rd=un({},ac,{view:0,detail:0}),Uj=ri(rd),rm,im,Kc,Uf=un({},rd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kc&&(Kc&&e.type==="mousemove"?(rm=e.screenX-Kc.screenX,im=e.screenY-Kc.screenY):im=rm=0,Kc=e),rm)},movementY:function(e){return"movementY"in e?e.movementY:im}}),S2=ri(Uf),zj=un({},Uf,{dataTransfer:0}),$j=ri(zj),qj=un({},rd,{relatedTarget:0}),sm=ri(qj),Vj=un({},ac,{animationName:0,elapsedTime:0,pseudoElement:0}),Wj=ri(Vj),Hj=un({},ac,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gj=ri(Hj),Kj=un({},ac,{data:0}),_2=ri(Kj),Jj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xj[e])?!!t[e]:!1}function n1(){return Qj}var Zj=un({},rd,{key:function(e){if(e.key){var t=Jj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n1,charCode:function(e){return e.type==="keypress"?Fh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ek=ri(Zj),tk=un({},Uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j2=ri(tk),nk=un({},rd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n1}),rk=ri(nk),ik=un({},ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),sk=ri(ik),ok=un({},Uf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ak=ri(ok),lk=[9,13,27,32],r1=Us&&"CompositionEvent"in window,gu=null;Us&&"documentMode"in document&&(gu=document.documentMode);var ck=Us&&"TextEvent"in window&&!gu,Sx=Us&&(!r1||gu&&8<gu&&11>=gu),k2=String.fromCharCode(32),N2=!1;function _x(e,t){switch(e){case"keyup":return lk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bl=!1;function uk(e,t){switch(e){case"compositionend":return jx(t);case"keypress":return t.which!==32?null:(N2=!0,k2);case"textInput":return e=t.data,e===k2&&N2?null:e;default:return null}}function dk(e,t){if(bl)return e==="compositionend"||!r1&&_x(e,t)?(e=bx(),Th=e1=No=null,bl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sx&&t.locale!=="ko"?null:t.data;default:return null}}var hk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hk[e.type]:t==="textarea"}function kx(e,t,n,r){nx(r),t=af(t,"onChange"),0<t.length&&(n=new t1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vu=null,Ou=null;function fk(e){Ox(e,0)}function zf(e){var t=jl(e);if(Jw(t))return e}function pk(e,t){if(e==="change")return t}var Nx=!1;if(Us){var om;if(Us){var am="oninput"in document;if(!am){var C2=document.createElement("div");C2.setAttribute("oninput","return;"),am=typeof C2.oninput=="function"}om=am}else om=!1;Nx=om&&(!document.documentMode||9<document.documentMode)}function P2(){vu&&(vu.detachEvent("onpropertychange",Ax),Ou=vu=null)}function Ax(e){if(e.propertyName==="value"&&zf(Ou)){var t=[];kx(t,Ou,e,Jg(e)),ox(fk,t)}}function mk(e,t,n){e==="focusin"?(P2(),vu=t,Ou=n,vu.attachEvent("onpropertychange",Ax)):e==="focusout"&&P2()}function gk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zf(Ou)}function vk(e,t){if(e==="click")return zf(t)}function yk(e,t){if(e==="input"||e==="change")return zf(t)}function wk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ki=typeof Object.is=="function"?Object.is:wk;function Du(e,t){if(Ki(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!i0.call(t,i)||!Ki(e[i],t[i]))return!1}return!0}function E2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function L2(e,t){var n=E2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E2(n)}}function Cx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Px(){for(var e=window,t=Zh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zh(e.document)}return t}function i1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xk(e){var t=Px(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cx(n.ownerDocument.documentElement,n)){if(r!==null&&i1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=L2(n,s);var o=L2(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bk=Us&&"documentMode"in document&&11>=document.documentMode,Sl=null,_0=null,yu=null,j0=!1;function T2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;j0||Sl==null||Sl!==Zh(r)||(r=Sl,"selectionStart"in r&&i1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yu&&Du(yu,r)||(yu=r,r=af(_0,"onSelect"),0<r.length&&(t=new t1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sl)))}function sh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _l={animationend:sh("Animation","AnimationEnd"),animationiteration:sh("Animation","AnimationIteration"),animationstart:sh("Animation","AnimationStart"),transitionend:sh("Transition","TransitionEnd")},lm={},Ex={};Us&&(Ex=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function $f(e){if(lm[e])return lm[e];if(!_l[e])return e;var t=_l[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ex)return lm[e]=t[n];return e}var Lx=$f("animationend"),Tx=$f("animationiteration"),Fx=$f("animationstart"),Ix=$f("transitionend"),Rx=new Map,F2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(e,t){Rx.set(e,t),La(t,[e])}for(var cm=0;cm<F2.length;cm++){var um=F2[cm],Sk=um.toLowerCase(),_k=um[0].toUpperCase()+um.slice(1);qo(Sk,"on"+_k)}qo(Lx,"onAnimationEnd");qo(Tx,"onAnimationIteration");qo(Fx,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(Ix,"onTransitionEnd");Kl("onMouseEnter",["mouseout","mouseover"]);Kl("onMouseLeave",["mouseout","mouseover"]);Kl("onPointerEnter",["pointerout","pointerover"]);Kl("onPointerLeave",["pointerout","pointerover"]);La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));La("onBeforeInput",["compositionend","keypress","textInput","paste"]);La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jk=new Set("cancel close invalid load scroll toggle".split(" ").concat(cu));function I2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Sj(r,t,void 0,e),e.currentTarget=null}function Ox(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;I2(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;I2(i,a,c),s=l}}}if(tf)throw e=w0,tf=!1,w0=null,e}function Qt(e,t){var n=t[P0];n===void 0&&(n=t[P0]=new Set);var r=e+"__bubble";n.has(r)||(Dx(t,e,2,!1),n.add(r))}function dm(e,t,n){var r=0;t&&(r|=4),Dx(n,e,r,t)}var oh="_reactListening"+Math.random().toString(36).slice(2);function Mu(e){if(!e[oh]){e[oh]=!0,Vw.forEach(function(n){n!=="selectionchange"&&(jk.has(n)||dm(n,!1,e),dm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oh]||(t[oh]=!0,dm("selectionchange",!1,t))}}function Dx(e,t,n,r){switch(xx(t)){case 1:var i=Mj;break;case 4:i=Bj;break;default:i=Zg}n=i.bind(null,t,n,e),i=void 0,!y0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function hm(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ya(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ox(function(){var c=s,h=Jg(n),f=[];e:{var m=Rx.get(e);if(m!==void 0){var g=t1,b=e;switch(e){case"keypress":if(Fh(n)===0)break e;case"keydown":case"keyup":g=ek;break;case"focusin":b="focus",g=sm;break;case"focusout":b="blur",g=sm;break;case"beforeblur":case"afterblur":g=sm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=S2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=$j;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=rk;break;case Lx:case Tx:case Fx:g=Wj;break;case Ix:g=sk;break;case"scroll":g=Uj;break;case"wheel":g=ak;break;case"copy":case"cut":case"paste":g=Gj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=j2}var S=(t&4)!==0,k=!S&&e==="scroll",y=S?m!==null?m+"Capture":null:m;S=[];for(var x=c,_;x!==null;){_=x;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,y!==null&&(E=Tu(x,y),E!=null&&S.push(Bu(x,E,_)))),k)break;x=x.return}0<S.length&&(m=new g(m,b,null,n,h),f.push({event:m,listeners:S}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==g0&&(b=n.relatedTarget||n.fromElement)&&(ya(b)||b[zs]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=c,b=b?ya(b):null,b!==null&&(k=Ta(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=c),g!==b)){if(S=S2,E="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(S=j2,E="onPointerLeave",y="onPointerEnter",x="pointer"),k=g==null?m:jl(g),_=b==null?m:jl(b),m=new S(E,x+"leave",g,n,h),m.target=k,m.relatedTarget=_,E=null,ya(h)===c&&(S=new S(y,x+"enter",b,n,h),S.target=_,S.relatedTarget=k,E=S),k=E,g&&b)t:{for(S=g,y=b,x=0,_=S;_;_=ol(_))x++;for(_=0,E=y;E;E=ol(E))_++;for(;0<x-_;)S=ol(S),x--;for(;0<_-x;)y=ol(y),_--;for(;x--;){if(S===y||y!==null&&S===y.alternate)break t;S=ol(S),y=ol(y)}S=null}else S=null;g!==null&&R2(f,m,g,S,!1),b!==null&&k!==null&&R2(f,k,b,S,!0)}}e:{if(m=c?jl(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var O=pk;else if(A2(m))if(Nx)O=yk;else{O=gk;var M=mk}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=vk);if(O&&(O=O(e,c))){kx(f,O,n,h);break e}M&&M(e,m,c),e==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&d0(m,"number",m.value)}switch(M=c?jl(c):window,e){case"focusin":(A2(M)||M.contentEditable==="true")&&(Sl=M,_0=c,yu=null);break;case"focusout":yu=_0=Sl=null;break;case"mousedown":j0=!0;break;case"contextmenu":case"mouseup":case"dragend":j0=!1,T2(f,n,h);break;case"selectionchange":if(bk)break;case"keydown":case"keyup":T2(f,n,h)}var B;if(r1)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else bl?_x(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Sx&&n.locale!=="ko"&&(bl||L!=="onCompositionStart"?L==="onCompositionEnd"&&bl&&(B=bx()):(No=h,e1="value"in No?No.value:No.textContent,bl=!0)),M=af(c,L),0<M.length&&(L=new _2(L,e,null,n,h),f.push({event:L,listeners:M}),B?L.data=B:(B=jx(n),B!==null&&(L.data=B)))),(B=ck?uk(e,n):dk(e,n))&&(c=af(c,"onBeforeInput"),0<c.length&&(h=new _2("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=B))}Ox(f,t)})}function Bu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function af(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tu(e,n),s!=null&&r.unshift(Bu(e,s,i)),s=Tu(e,t),s!=null&&r.push(Bu(e,s,i))),e=e.return}return r}function ol(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function R2(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Tu(n,s),l!=null&&o.unshift(Bu(n,l,a))):i||(l=Tu(n,s),l!=null&&o.push(Bu(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var kk=/\r\n?/g,Nk=/\u0000|\uFFFD/g;function O2(e){return(typeof e=="string"?e:""+e).replace(kk,`
`).replace(Nk,"")}function ah(e,t,n){if(t=O2(t),O2(e)!==t&&n)throw Error(Te(425))}function lf(){}var k0=null,N0=null;function A0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var C0=typeof setTimeout=="function"?setTimeout:void 0,Ak=typeof clearTimeout=="function"?clearTimeout:void 0,D2=typeof Promise=="function"?Promise:void 0,Ck=typeof queueMicrotask=="function"?queueMicrotask:typeof D2<"u"?function(e){return D2.resolve(null).then(e).catch(Pk)}:C0;function Pk(e){setTimeout(function(){throw e})}function fm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ru(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ru(t)}function To(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function M2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var lc=Math.random().toString(36).slice(2),as="__reactFiber$"+lc,Uu="__reactProps$"+lc,zs="__reactContainer$"+lc,P0="__reactEvents$"+lc,Ek="__reactListeners$"+lc,Lk="__reactHandles$"+lc;function ya(e){var t=e[as];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zs]||n[as]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=M2(e);e!==null;){if(n=e[as])return n;e=M2(e)}return t}e=n,n=e.parentNode}return null}function id(e){return e=e[as]||e[zs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Te(33))}function qf(e){return e[Uu]||null}var E0=[],kl=-1;function Vo(e){return{current:e}}function en(e){0>kl||(e.current=E0[kl],E0[kl]=null,kl--)}function Yt(e,t){kl++,E0[kl]=e.current,e.current=t}var Mo={},hr=Vo(Mo),Rr=Vo(!1),Na=Mo;function Jl(e,t){var n=e.type.contextTypes;if(!n)return Mo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Or(e){return e=e.childContextTypes,e!=null}function cf(){en(Rr),en(hr)}function B2(e,t,n){if(hr.current!==Mo)throw Error(Te(168));Yt(hr,t),Yt(Rr,n)}function Mx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Te(108,mj(e)||"Unknown",i));return un({},n,r)}function uf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mo,Na=hr.current,Yt(hr,e),Yt(Rr,Rr.current),!0}function U2(e,t,n){var r=e.stateNode;if(!r)throw Error(Te(169));n?(e=Mx(e,t,Na),r.__reactInternalMemoizedMergedChildContext=e,en(Rr),en(hr),Yt(hr,e)):en(Rr),Yt(Rr,n)}var Fs=null,Vf=!1,pm=!1;function Bx(e){Fs===null?Fs=[e]:Fs.push(e)}function Tk(e){Vf=!0,Bx(e)}function Wo(){if(!pm&&Fs!==null){pm=!0;var e=0,t=Dt;try{var n=Fs;for(Dt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Fs=null,Vf=!1}catch(i){throw Fs!==null&&(Fs=Fs.slice(e+1)),ux(Yg,Wo),i}finally{Dt=t,pm=!1}}return null}var Nl=[],Al=0,df=null,hf=0,xi=[],bi=0,Aa=null,Is=1,Rs="";function ua(e,t){Nl[Al++]=hf,Nl[Al++]=df,df=e,hf=t}function Ux(e,t,n){xi[bi++]=Is,xi[bi++]=Rs,xi[bi++]=Aa,Aa=e;var r=Is;e=Rs;var i=32-Hi(r)-1;r&=~(1<<i),n+=1;var s=32-Hi(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Is=1<<32-Hi(t)+i|n<<i|r,Rs=s+e}else Is=1<<s|n<<i|r,Rs=e}function s1(e){e.return!==null&&(ua(e,1),Ux(e,1,0))}function o1(e){for(;e===df;)df=Nl[--Al],Nl[Al]=null,hf=Nl[--Al],Nl[Al]=null;for(;e===Aa;)Aa=xi[--bi],xi[bi]=null,Rs=xi[--bi],xi[bi]=null,Is=xi[--bi],xi[bi]=null}var Qr=null,Yr=null,rn=!1,Wi=null;function zx(e,t){var n=Si(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function z2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qr=e,Yr=To(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qr=e,Yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Aa!==null?{id:Is,overflow:Rs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Si(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qr=e,Yr=null,!0):!1;default:return!1}}function L0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function T0(e){if(rn){var t=Yr;if(t){var n=t;if(!z2(e,t)){if(L0(e))throw Error(Te(418));t=To(n.nextSibling);var r=Qr;t&&z2(e,t)?zx(r,n):(e.flags=e.flags&-4097|2,rn=!1,Qr=e)}}else{if(L0(e))throw Error(Te(418));e.flags=e.flags&-4097|2,rn=!1,Qr=e}}}function $2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qr=e}function lh(e){if(e!==Qr)return!1;if(!rn)return $2(e),rn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!A0(e.type,e.memoizedProps)),t&&(t=Yr)){if(L0(e))throw $x(),Error(Te(418));for(;t;)zx(e,t),t=To(t.nextSibling)}if($2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Yr=To(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Yr=null}}else Yr=Qr?To(e.stateNode.nextSibling):null;return!0}function $x(){for(var e=Yr;e;)e=To(e.nextSibling)}function Yl(){Yr=Qr=null,rn=!1}function a1(e){Wi===null?Wi=[e]:Wi.push(e)}var Fk=Hs.ReactCurrentBatchConfig;function Jc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,e))}return e}function ch(e,t){throw e=Object.prototype.toString.call(t),Error(Te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function q2(e){var t=e._init;return t(e._payload)}function qx(e){function t(y,x){if(e){var _=y.deletions;_===null?(y.deletions=[x],y.flags|=16):_.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Oo(y,x),y.index=0,y.sibling=null,y}function s(y,x,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<x?(y.flags|=2,x):_):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,x,_,E){return x===null||x.tag!==6?(x=bm(_,y.mode,E),x.return=y,x):(x=i(x,_),x.return=y,x)}function l(y,x,_,E){var O=_.type;return O===xl?h(y,x,_.props.children,E,_.key):x!==null&&(x.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===bo&&q2(O)===x.type)?(E=i(x,_.props),E.ref=Jc(y,x,_),E.return=y,E):(E=Uh(_.type,_.key,_.props,null,y.mode,E),E.ref=Jc(y,x,_),E.return=y,E)}function c(y,x,_,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Sm(_,y.mode,E),x.return=y,x):(x=i(x,_.children||[]),x.return=y,x)}function h(y,x,_,E,O){return x===null||x.tag!==7?(x=_a(_,y.mode,E,O),x.return=y,x):(x=i(x,_),x.return=y,x)}function f(y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=bm(""+x,y.mode,_),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Qd:return _=Uh(x.type,x.key,x.props,null,y.mode,_),_.ref=Jc(y,null,x),_.return=y,_;case wl:return x=Sm(x,y.mode,_),x.return=y,x;case bo:var E=x._init;return f(y,E(x._payload),_)}if(au(x)||Vc(x))return x=_a(x,y.mode,_,null),x.return=y,x;ch(y,x)}return null}function m(y,x,_,E){var O=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(y,x,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qd:return _.key===O?l(y,x,_,E):null;case wl:return _.key===O?c(y,x,_,E):null;case bo:return O=_._init,m(y,x,O(_._payload),E)}if(au(_)||Vc(_))return O!==null?null:h(y,x,_,E,null);ch(y,_)}return null}function g(y,x,_,E,O){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(_)||null,a(x,y,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qd:return y=y.get(E.key===null?_:E.key)||null,l(x,y,E,O);case wl:return y=y.get(E.key===null?_:E.key)||null,c(x,y,E,O);case bo:var M=E._init;return g(y,x,_,M(E._payload),O)}if(au(E)||Vc(E))return y=y.get(_)||null,h(x,y,E,O,null);ch(x,E)}return null}function b(y,x,_,E){for(var O=null,M=null,B=x,L=x=0,V=null;B!==null&&L<_.length;L++){B.index>L?(V=B,B=null):V=B.sibling;var H=m(y,B,_[L],E);if(H===null){B===null&&(B=V);break}e&&B&&H.alternate===null&&t(y,B),x=s(H,x,L),M===null?O=H:M.sibling=H,M=H,B=V}if(L===_.length)return n(y,B),rn&&ua(y,L),O;if(B===null){for(;L<_.length;L++)B=f(y,_[L],E),B!==null&&(x=s(B,x,L),M===null?O=B:M.sibling=B,M=B);return rn&&ua(y,L),O}for(B=r(y,B);L<_.length;L++)V=g(B,y,L,_[L],E),V!==null&&(e&&V.alternate!==null&&B.delete(V.key===null?L:V.key),x=s(V,x,L),M===null?O=V:M.sibling=V,M=V);return e&&B.forEach(function(R){return t(y,R)}),rn&&ua(y,L),O}function S(y,x,_,E){var O=Vc(_);if(typeof O!="function")throw Error(Te(150));if(_=O.call(_),_==null)throw Error(Te(151));for(var M=O=null,B=x,L=x=0,V=null,H=_.next();B!==null&&!H.done;L++,H=_.next()){B.index>L?(V=B,B=null):V=B.sibling;var R=m(y,B,H.value,E);if(R===null){B===null&&(B=V);break}e&&B&&R.alternate===null&&t(y,B),x=s(R,x,L),M===null?O=R:M.sibling=R,M=R,B=V}if(H.done)return n(y,B),rn&&ua(y,L),O;if(B===null){for(;!H.done;L++,H=_.next())H=f(y,H.value,E),H!==null&&(x=s(H,x,L),M===null?O=H:M.sibling=H,M=H);return rn&&ua(y,L),O}for(B=r(y,B);!H.done;L++,H=_.next())H=g(B,y,L,H.value,E),H!==null&&(e&&H.alternate!==null&&B.delete(H.key===null?L:H.key),x=s(H,x,L),M===null?O=H:M.sibling=H,M=H);return e&&B.forEach(function(P){return t(y,P)}),rn&&ua(y,L),O}function k(y,x,_,E){if(typeof _=="object"&&_!==null&&_.type===xl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Qd:e:{for(var O=_.key,M=x;M!==null;){if(M.key===O){if(O=_.type,O===xl){if(M.tag===7){n(y,M.sibling),x=i(M,_.props.children),x.return=y,y=x;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===bo&&q2(O)===M.type){n(y,M.sibling),x=i(M,_.props),x.ref=Jc(y,M,_),x.return=y,y=x;break e}n(y,M);break}else t(y,M);M=M.sibling}_.type===xl?(x=_a(_.props.children,y.mode,E,_.key),x.return=y,y=x):(E=Uh(_.type,_.key,_.props,null,y.mode,E),E.ref=Jc(y,x,_),E.return=y,y=E)}return o(y);case wl:e:{for(M=_.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(y,x.sibling),x=i(x,_.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=Sm(_,y.mode,E),x.return=y,y=x}return o(y);case bo:return M=_._init,k(y,x,M(_._payload),E)}if(au(_))return b(y,x,_,E);if(Vc(_))return S(y,x,_,E);ch(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,_),x.return=y,y=x):(n(y,x),x=bm(_,y.mode,E),x.return=y,y=x),o(y)):n(y,x)}return k}var Xl=qx(!0),Vx=qx(!1),ff=Vo(null),pf=null,Cl=null,l1=null;function c1(){l1=Cl=pf=null}function u1(e){var t=ff.current;en(ff),e._currentValue=t}function F0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $l(e,t){pf=e,l1=Cl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ir=!0),e.firstContext=null)}function Ni(e){var t=e._currentValue;if(l1!==e)if(e={context:e,memoizedValue:t,next:null},Cl===null){if(pf===null)throw Error(Te(308));Cl=e,pf.dependencies={lanes:0,firstContext:e}}else Cl=Cl.next=e;return t}var wa=null;function d1(e){wa===null?wa=[e]:wa.push(e)}function Wx(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,d1(t)):(n.next=i.next,i.next=n),t.interleaved=n,$s(e,r)}function $s(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var So=!1;function h1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Lt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,$s(e,n)}return i=r.interleaved,i===null?(t.next=t,d1(r)):(t.next=i.next,i.next=t),r.interleaved=t,$s(e,n)}function Ih(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xg(e,n)}}function V2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function mf(e,t,n,r){var i=e.updateQueue;So=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=c=l=null,a=s;do{var m=a.lane,g=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,S=a;switch(m=t,g=n,S.tag){case 1:if(b=S.payload,typeof b=="function"){f=b.call(g,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,m=typeof b=="function"?b.call(g,f,m):b,m==null)break e;f=un({},f,m);break e;case 2:So=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Pa|=o,e.lanes=o,e.memoizedState=f}}function W2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Te(191,i));i.call(r)}}}var sd={},us=Vo(sd),zu=Vo(sd),$u=Vo(sd);function xa(e){if(e===sd)throw Error(Te(174));return e}function f1(e,t){switch(Yt($u,t),Yt(zu,e),Yt(us,sd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:f0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=f0(t,e)}en(us),Yt(us,t)}function Ql(){en(us),en(zu),en($u)}function Gx(e){xa($u.current);var t=xa(us.current),n=f0(t,e.type);t!==n&&(Yt(zu,e),Yt(us,n))}function p1(e){zu.current===e&&(en(us),en(zu))}var on=Vo(0);function gf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mm=[];function m1(){for(var e=0;e<mm.length;e++)mm[e]._workInProgressVersionPrimary=null;mm.length=0}var Rh=Hs.ReactCurrentDispatcher,gm=Hs.ReactCurrentBatchConfig,Ca=0,ln=null,Fn=null,Un=null,vf=!1,wu=!1,qu=0,Ik=0;function er(){throw Error(Te(321))}function g1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ki(e[n],t[n]))return!1;return!0}function v1(e,t,n,r,i,s){if(Ca=s,ln=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rh.current=e===null||e.memoizedState===null?Mk:Bk,e=n(r,i),wu){s=0;do{if(wu=!1,qu=0,25<=s)throw Error(Te(301));s+=1,Un=Fn=null,t.updateQueue=null,Rh.current=Uk,e=n(r,i)}while(wu)}if(Rh.current=yf,t=Fn!==null&&Fn.next!==null,Ca=0,Un=Fn=ln=null,vf=!1,t)throw Error(Te(300));return e}function y1(){var e=qu!==0;return qu=0,e}function os(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?ln.memoizedState=Un=e:Un=Un.next=e,Un}function Ai(){if(Fn===null){var e=ln.alternate;e=e!==null?e.memoizedState:null}else e=Fn.next;var t=Un===null?ln.memoizedState:Un.next;if(t!==null)Un=t,Fn=e;else{if(e===null)throw Error(Te(310));Fn=e,e={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},Un===null?ln.memoizedState=Un=e:Un=Un.next=e}return Un}function Vu(e,t){return typeof t=="function"?t(e):t}function vm(e){var t=Ai(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=Fn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Ca&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ln.lanes|=h,Pa|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ki(r,t.memoizedState)||(Ir=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ln.lanes|=s,Pa|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ym(e){var t=Ai(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ki(s,t.memoizedState)||(Ir=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Kx(){}function Jx(e,t){var n=ln,r=Ai(),i=t(),s=!Ki(r.memoizedState,i);if(s&&(r.memoizedState=i,Ir=!0),r=r.queue,w1(Qx.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Un!==null&&Un.memoizedState.tag&1){if(n.flags|=2048,Wu(9,Xx.bind(null,n,r,i,t),void 0,null),$n===null)throw Error(Te(349));Ca&30||Yx(n,t,i)}return i}function Yx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ln.updateQueue,t===null?(t={lastEffect:null,stores:null},ln.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xx(e,t,n,r){t.value=n,t.getSnapshot=r,Zx(t)&&eb(e)}function Qx(e,t,n){return n(function(){Zx(t)&&eb(e)})}function Zx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ki(e,n)}catch{return!0}}function eb(e){var t=$s(e,1);t!==null&&Gi(t,e,1,-1)}function H2(e){var t=os();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:e},t.queue=e,e=e.dispatch=Dk.bind(null,ln,e),[t.memoizedState,e]}function Wu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ln.updateQueue,t===null?(t={lastEffect:null,stores:null},ln.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tb(){return Ai().memoizedState}function Oh(e,t,n,r){var i=os();ln.flags|=e,i.memoizedState=Wu(1|t,n,void 0,r===void 0?null:r)}function Wf(e,t,n,r){var i=Ai();r=r===void 0?null:r;var s=void 0;if(Fn!==null){var o=Fn.memoizedState;if(s=o.destroy,r!==null&&g1(r,o.deps)){i.memoizedState=Wu(t,n,s,r);return}}ln.flags|=e,i.memoizedState=Wu(1|t,n,s,r)}function G2(e,t){return Oh(8390656,8,e,t)}function w1(e,t){return Wf(2048,8,e,t)}function nb(e,t){return Wf(4,2,e,t)}function rb(e,t){return Wf(4,4,e,t)}function ib(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sb(e,t,n){return n=n!=null?n.concat([e]):null,Wf(4,4,ib.bind(null,t,e),n)}function x1(){}function ob(e,t){var n=Ai();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&g1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ab(e,t){var n=Ai();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&g1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lb(e,t,n){return Ca&21?(Ki(n,t)||(n=fx(),ln.lanes|=n,Pa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ir=!0),e.memoizedState=n)}function Rk(e,t){var n=Dt;Dt=n!==0&&4>n?n:4,e(!0);var r=gm.transition;gm.transition={};try{e(!1),t()}finally{Dt=n,gm.transition=r}}function cb(){return Ai().memoizedState}function Ok(e,t,n){var r=Ro(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ub(e))db(t,n);else if(n=Wx(e,t,n,r),n!==null){var i=Sr();Gi(n,e,r,i),hb(n,t,r)}}function Dk(e,t,n){var r=Ro(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ub(e))db(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ki(a,o)){var l=t.interleaved;l===null?(i.next=i,d1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Wx(e,t,i,r),n!==null&&(i=Sr(),Gi(n,e,r,i),hb(n,t,r))}}function ub(e){var t=e.alternate;return e===ln||t!==null&&t===ln}function db(e,t){wu=vf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xg(e,n)}}var yf={readContext:Ni,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},Mk={readContext:Ni,useCallback:function(e,t){return os().memoizedState=[e,t===void 0?null:t],e},useContext:Ni,useEffect:G2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oh(4194308,4,ib.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oh(4,2,e,t)},useMemo:function(e,t){var n=os();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=os();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ok.bind(null,ln,e),[r.memoizedState,e]},useRef:function(e){var t=os();return e={current:e},t.memoizedState=e},useState:H2,useDebugValue:x1,useDeferredValue:function(e){return os().memoizedState=e},useTransition:function(){var e=H2(!1),t=e[0];return e=Rk.bind(null,e[1]),os().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ln,i=os();if(rn){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=t(),$n===null)throw Error(Te(349));Ca&30||Yx(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,G2(Qx.bind(null,r,s,e),[e]),r.flags|=2048,Wu(9,Xx.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=os(),t=$n.identifierPrefix;if(rn){var n=Rs,r=Is;n=(r&~(1<<32-Hi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=qu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ik++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bk={readContext:Ni,useCallback:ob,useContext:Ni,useEffect:w1,useImperativeHandle:sb,useInsertionEffect:nb,useLayoutEffect:rb,useMemo:ab,useReducer:vm,useRef:tb,useState:function(){return vm(Vu)},useDebugValue:x1,useDeferredValue:function(e){var t=Ai();return lb(t,Fn.memoizedState,e)},useTransition:function(){var e=vm(Vu)[0],t=Ai().memoizedState;return[e,t]},useMutableSource:Kx,useSyncExternalStore:Jx,useId:cb,unstable_isNewReconciler:!1},Uk={readContext:Ni,useCallback:ob,useContext:Ni,useEffect:w1,useImperativeHandle:sb,useInsertionEffect:nb,useLayoutEffect:rb,useMemo:ab,useReducer:ym,useRef:tb,useState:function(){return ym(Vu)},useDebugValue:x1,useDeferredValue:function(e){var t=Ai();return Fn===null?t.memoizedState=e:lb(t,Fn.memoizedState,e)},useTransition:function(){var e=ym(Vu)[0],t=Ai().memoizedState;return[e,t]},useMutableSource:Kx,useSyncExternalStore:Jx,useId:cb,unstable_isNewReconciler:!1};function zi(e,t){if(e&&e.defaultProps){t=un({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function I0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:un({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hf={isMounted:function(e){return(e=e._reactInternals)?Ta(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Sr(),i=Ro(e),s=Os(r,i);s.payload=t,n!=null&&(s.callback=n),t=Fo(e,s,i),t!==null&&(Gi(t,e,i,r),Ih(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Sr(),i=Ro(e),s=Os(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Fo(e,s,i),t!==null&&(Gi(t,e,i,r),Ih(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Sr(),r=Ro(e),i=Os(n,r);i.tag=2,t!=null&&(i.callback=t),t=Fo(e,i,r),t!==null&&(Gi(t,e,r,n),Ih(t,e,r))}};function K2(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Du(n,r)||!Du(i,s):!0}function fb(e,t,n){var r=!1,i=Mo,s=t.contextType;return typeof s=="object"&&s!==null?s=Ni(s):(i=Or(t)?Na:hr.current,r=t.contextTypes,s=(r=r!=null)?Jl(e,i):Mo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function J2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hf.enqueueReplaceState(t,t.state,null)}function R0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},h1(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ni(s):(s=Or(t)?Na:hr.current,i.context=Jl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(I0(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Hf.enqueueReplaceState(i,i.state,null),mf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Zl(e,t){try{var n="",r=t;do n+=pj(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function wm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function O0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zk=typeof WeakMap=="function"?WeakMap:Map;function pb(e,t,n){n=Os(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xf||(xf=!0,H0=r),O0(e,t)},n}function mb(e,t,n){n=Os(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){O0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){O0(e,t),typeof r!="function"&&(Io===null?Io=new Set([this]):Io.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Y2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zk;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=tN.bind(null,e,t,n),t.then(e,e))}function X2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Q2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Os(-1,1),t.tag=2,Fo(n,t,1))),n.lanes|=1),e)}var $k=Hs.ReactCurrentOwner,Ir=!1;function xr(e,t,n,r){t.child=e===null?Vx(t,null,n,r):Xl(t,e.child,n,r)}function Z2(e,t,n,r,i){n=n.render;var s=t.ref;return $l(t,i),r=v1(e,t,n,r,s,i),n=y1(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i)):(rn&&n&&s1(t),t.flags|=1,xr(e,t,r,i),t.child)}function ey(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!C1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,gb(e,t,s,r,i)):(e=Uh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Du,n(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,e=Oo(s,r),e.ref=t.ref,e.return=t,t.child=e}function gb(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Du(s,r)&&e.ref===t.ref)if(Ir=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ir=!0);else return t.lanes=e.lanes,qs(e,t,i)}return D0(e,t,n,r,i)}function vb(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(El,Jr),Jr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yt(El,Jr),Jr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Yt(El,Jr),Jr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Yt(El,Jr),Jr|=r;return xr(e,t,i,n),t.child}function yb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function D0(e,t,n,r,i){var s=Or(n)?Na:hr.current;return s=Jl(t,s),$l(t,i),n=v1(e,t,n,r,s,i),r=y1(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i)):(rn&&r&&s1(t),t.flags|=1,xr(e,t,n,i),t.child)}function ty(e,t,n,r,i){if(Or(n)){var s=!0;uf(t)}else s=!1;if($l(t,i),t.stateNode===null)Dh(e,t),fb(t,n,r),R0(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ni(c):(c=Or(n)?Na:hr.current,c=Jl(t,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&J2(t,o,r,c),So=!1;var m=t.memoizedState;o.state=m,mf(t,r,o,i),l=t.memoizedState,a!==r||m!==l||Rr.current||So?(typeof h=="function"&&(I0(t,n,h,r),l=t.memoizedState),(a=So||K2(t,n,a,r,m,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Hx(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:zi(t.type,a),o.props=c,f=t.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ni(l):(l=Or(n)?Na:hr.current,l=Jl(t,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&J2(t,o,r,l),So=!1,m=t.memoizedState,o.state=m,mf(t,r,o,i);var b=t.memoizedState;a!==f||m!==b||Rr.current||So?(typeof g=="function"&&(I0(t,n,g,r),b=t.memoizedState),(c=So||K2(t,n,c,r,m,b,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return M0(e,t,n,r,s,i)}function M0(e,t,n,r,i,s){yb(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&U2(t,n,!1),qs(e,t,s);r=t.stateNode,$k.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Xl(t,e.child,null,s),t.child=Xl(t,null,a,s)):xr(e,t,a,s),t.memoizedState=r.state,i&&U2(t,n,!0),t.child}function wb(e){var t=e.stateNode;t.pendingContext?B2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&B2(e,t.context,!1),f1(e,t.containerInfo)}function ny(e,t,n,r,i){return Yl(),a1(i),t.flags|=256,xr(e,t,n,r),t.child}var B0={dehydrated:null,treeContext:null,retryLane:0};function U0(e){return{baseLanes:e,cachePool:null,transitions:null}}function xb(e,t,n){var r=t.pendingProps,i=on.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Yt(on,i&1),e===null)return T0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jf(o,r,0,null),e=_a(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=U0(n),t.memoizedState=B0,e):b1(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return qk(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Oo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Oo(a,s):(s=_a(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?U0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=B0,r}return s=e.child,e=s.sibling,r=Oo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function b1(e,t){return t=Jf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uh(e,t,n,r){return r!==null&&a1(r),Xl(t,e.child,null,n),e=b1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qk(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=wm(Error(Te(422))),uh(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Jf({mode:"visible",children:r.children},i,0,null),s=_a(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Xl(t,e.child,null,o),t.child.memoizedState=U0(o),t.memoizedState=B0,s);if(!(t.mode&1))return uh(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Te(419)),r=wm(s,r,void 0),uh(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ir||a){if(r=$n,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,$s(e,i),Gi(r,e,i,-1))}return A1(),r=wm(Error(Te(421))),uh(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=nN.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Yr=To(i.nextSibling),Qr=t,rn=!0,Wi=null,e!==null&&(xi[bi++]=Is,xi[bi++]=Rs,xi[bi++]=Aa,Is=e.id,Rs=e.overflow,Aa=t),t=b1(t,r.children),t.flags|=4096,t)}function ry(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),F0(e.return,t,n)}function xm(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function bb(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xr(e,t,r.children,n),r=on.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,n,t);else if(e.tag===19)ry(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Yt(on,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&gf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xm(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xm(t,!0,n,null,s);break;case"together":xm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Te(153));if(t.child!==null){for(e=t.child,n=Oo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Oo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vk(e,t,n){switch(t.tag){case 3:wb(t),Yl();break;case 5:Gx(t);break;case 1:Or(t.type)&&uf(t);break;case 4:f1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Yt(ff,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Yt(on,on.current&1),t.flags|=128,null):n&t.child.childLanes?xb(e,t,n):(Yt(on,on.current&1),e=qs(e,t,n),e!==null?e.sibling:null);Yt(on,on.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return bb(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yt(on,on.current),r)break;return null;case 22:case 23:return t.lanes=0,vb(e,t,n)}return qs(e,t,n)}var Sb,z0,_b,jb;Sb=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};z0=function(){};_b=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,xa(us.current);var s=null;switch(n){case"input":i=c0(e,i),r=c0(e,r),s=[];break;case"select":i=un({},i,{value:void 0}),r=un({},r,{value:void 0}),s=[];break;case"textarea":i=h0(e,i),r=h0(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=lf)}p0(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Eu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Eu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Qt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};jb=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yc(e,t){if(!rn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wk(e,t,n){var r=t.pendingProps;switch(o1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(t),null;case 1:return Or(t.type)&&cf(),tr(t),null;case 3:return r=t.stateNode,Ql(),en(Rr),en(hr),m1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(lh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wi!==null&&(J0(Wi),Wi=null))),z0(e,t),tr(t),null;case 5:p1(t);var i=xa($u.current);if(n=t.type,e!==null&&t.stateNode!=null)_b(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Te(166));return tr(t),null}if(e=xa(us.current),lh(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[as]=t,r[Uu]=s,e=(t.mode&1)!==0,n){case"dialog":Qt("cancel",r),Qt("close",r);break;case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(i=0;i<cu.length;i++)Qt(cu[i],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"details":Qt("toggle",r);break;case"input":h2(r,s),Qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qt("invalid",r);break;case"textarea":p2(r,s),Qt("invalid",r)}p0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ah(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ah(r.textContent,a,e),i=["children",""+a]):Eu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Qt("scroll",r)}switch(n){case"input":Zd(r),f2(r,s,!0);break;case"textarea":Zd(r),m2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=lf)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[as]=t,e[Uu]=r,Sb(e,t,!1,!1),t.stateNode=e;e:{switch(o=m0(n,r),n){case"dialog":Qt("cancel",e),Qt("close",e),i=r;break;case"iframe":case"object":case"embed":Qt("load",e),i=r;break;case"video":case"audio":for(i=0;i<cu.length;i++)Qt(cu[i],e);i=r;break;case"source":Qt("error",e),i=r;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),i=r;break;case"details":Qt("toggle",e),i=r;break;case"input":h2(e,r),i=c0(e,r),Qt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=un({},r,{value:void 0}),Qt("invalid",e);break;case"textarea":p2(e,r),i=h0(e,r),Qt("invalid",e);break;default:i=r}p0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?tx(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Zw(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lu(e,l):typeof l=="number"&&Lu(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Qt("scroll",e):l!=null&&Wg(e,s,l,o))}switch(n){case"input":Zd(e),f2(e,r,!1);break;case"textarea":Zd(e),m2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Do(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ml(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ml(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=lf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tr(t),null;case 6:if(e&&t.stateNode!=null)jb(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Te(166));if(n=xa($u.current),xa(us.current),lh(t)){if(r=t.stateNode,n=t.memoizedProps,r[as]=t,(s=r.nodeValue!==n)&&(e=Qr,e!==null))switch(e.tag){case 3:ah(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ah(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[as]=t,t.stateNode=r}return tr(t),null;case 13:if(en(on),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rn&&Yr!==null&&t.mode&1&&!(t.flags&128))$x(),Yl(),t.flags|=98560,s=!1;else if(s=lh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Te(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Te(317));s[as]=t}else Yl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tr(t),s=!1}else Wi!==null&&(J0(Wi),Wi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||on.current&1?In===0&&(In=3):A1())),t.updateQueue!==null&&(t.flags|=4),tr(t),null);case 4:return Ql(),z0(e,t),e===null&&Mu(t.stateNode.containerInfo),tr(t),null;case 10:return u1(t.type._context),tr(t),null;case 17:return Or(t.type)&&cf(),tr(t),null;case 19:if(en(on),s=t.memoizedState,s===null)return tr(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Yc(s,!1);else{if(In!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=gf(e),o!==null){for(t.flags|=128,Yc(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Yt(on,on.current&1|2),t.child}e=e.sibling}s.tail!==null&&bn()>ec&&(t.flags|=128,r=!0,Yc(s,!1),t.lanes=4194304)}else{if(!r)if(e=gf(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rn)return tr(t),null}else 2*bn()-s.renderingStartTime>ec&&n!==1073741824&&(t.flags|=128,r=!0,Yc(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=bn(),t.sibling=null,n=on.current,Yt(on,r?n&1|2:n&1),t):(tr(t),null);case 22:case 23:return N1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jr&1073741824&&(tr(t),t.subtreeFlags&6&&(t.flags|=8192)):tr(t),null;case 24:return null;case 25:return null}throw Error(Te(156,t.tag))}function Hk(e,t){switch(o1(t),t.tag){case 1:return Or(t.type)&&cf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ql(),en(Rr),en(hr),m1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return p1(t),null;case 13:if(en(on),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Te(340));Yl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return en(on),null;case 4:return Ql(),null;case 10:return u1(t.type._context),null;case 22:case 23:return N1(),null;case 24:return null;default:return null}}var dh=!1,cr=!1,Gk=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Pl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gn(e,t,r)}else n.current=null}function $0(e,t,n){try{n()}catch(r){gn(e,t,r)}}var iy=!1;function Kk(e,t){if(k0=sf,e=Px(),i1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=e,m=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===n&&++c===i&&(a=o),m===s&&++h===r&&(l=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(N0={focusedElem:e,selectionRange:n},sf=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){t=Ge;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var S=b.memoizedProps,k=b.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?S:zi(t.type,S),k);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(E){gn(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}return b=iy,iy=!1,b}function xu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&$0(t,n,s)}i=i.next}while(i!==r)}}function Gf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function q0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kb(e){var t=e.alternate;t!==null&&(e.alternate=null,kb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[as],delete t[Uu],delete t[P0],delete t[Ek],delete t[Lk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nb(e){return e.tag===5||e.tag===3||e.tag===4}function sy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function V0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=lf));else if(r!==4&&(e=e.child,e!==null))for(V0(e,t,n),e=e.sibling;e!==null;)V0(e,t,n),e=e.sibling}function W0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(W0(e,t,n),e=e.sibling;e!==null;)W0(e,t,n),e=e.sibling}var Hn=null,qi=!1;function mo(e,t,n){for(n=n.child;n!==null;)Ab(e,t,n),n=n.sibling}function Ab(e,t,n){if(cs&&typeof cs.onCommitFiberUnmount=="function")try{cs.onCommitFiberUnmount(Bf,n)}catch{}switch(n.tag){case 5:cr||Pl(n,t);case 6:var r=Hn,i=qi;Hn=null,mo(e,t,n),Hn=r,qi=i,Hn!==null&&(qi?(e=Hn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Hn.removeChild(n.stateNode));break;case 18:Hn!==null&&(qi?(e=Hn,n=n.stateNode,e.nodeType===8?fm(e.parentNode,n):e.nodeType===1&&fm(e,n),Ru(e)):fm(Hn,n.stateNode));break;case 4:r=Hn,i=qi,Hn=n.stateNode.containerInfo,qi=!0,mo(e,t,n),Hn=r,qi=i;break;case 0:case 11:case 14:case 15:if(!cr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$0(n,t,o),i=i.next}while(i!==r)}mo(e,t,n);break;case 1:if(!cr&&(Pl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gn(n,t,a)}mo(e,t,n);break;case 21:mo(e,t,n);break;case 22:n.mode&1?(cr=(r=cr)||n.memoizedState!==null,mo(e,t,n),cr=r):mo(e,t,n);break;default:mo(e,t,n)}}function oy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gk),t.forEach(function(r){var i=rN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Oi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Hn=a.stateNode,qi=!1;break e;case 3:Hn=a.stateNode.containerInfo,qi=!0;break e;case 4:Hn=a.stateNode.containerInfo,qi=!0;break e}a=a.return}if(Hn===null)throw Error(Te(160));Ab(s,o,i),Hn=null,qi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){gn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cb(t,e),t=t.sibling}function Cb(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Oi(t,e),is(e),r&4){try{xu(3,e,e.return),Gf(3,e)}catch(S){gn(e,e.return,S)}try{xu(5,e,e.return)}catch(S){gn(e,e.return,S)}}break;case 1:Oi(t,e),is(e),r&512&&n!==null&&Pl(n,n.return);break;case 5:if(Oi(t,e),is(e),r&512&&n!==null&&Pl(n,n.return),e.flags&32){var i=e.stateNode;try{Lu(i,"")}catch(S){gn(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Yw(i,s),m0(a,o);var c=m0(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?tx(i,f):h==="dangerouslySetInnerHTML"?Zw(i,f):h==="children"?Lu(i,f):Wg(i,h,f,c)}switch(a){case"input":u0(i,s);break;case"textarea":Xw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ml(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ml(i,!!s.multiple,s.defaultValue,!0):Ml(i,!!s.multiple,s.multiple?[]:"",!1))}i[Uu]=s}catch(S){gn(e,e.return,S)}}break;case 6:if(Oi(t,e),is(e),r&4){if(e.stateNode===null)throw Error(Te(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(S){gn(e,e.return,S)}}break;case 3:if(Oi(t,e),is(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ru(t.containerInfo)}catch(S){gn(e,e.return,S)}break;case 4:Oi(t,e),is(e);break;case 13:Oi(t,e),is(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(j1=bn())),r&4&&oy(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(cr=(c=cr)||h,Oi(t,e),cr=c):Oi(t,e),is(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(Ge=e,h=e.child;h!==null;){for(f=Ge=h;Ge!==null;){switch(m=Ge,g=m.child,m.tag){case 0:case 11:case 14:case 15:xu(4,m,m.return);break;case 1:Pl(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(S){gn(r,n,S)}}break;case 5:Pl(m,m.return);break;case 22:if(m.memoizedState!==null){ly(f);continue}}g!==null?(g.return=m,Ge=g):ly(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ex("display",o))}catch(S){gn(e,e.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(S){gn(e,e.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Oi(t,e),is(e),r&4&&oy(e);break;case 21:break;default:Oi(t,e),is(e)}}function is(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Nb(n)){var r=n;break e}n=n.return}throw Error(Te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lu(i,""),r.flags&=-33);var s=sy(e);W0(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sy(e);V0(e,a,o);break;default:throw Error(Te(161))}}catch(l){gn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jk(e,t,n){Ge=e,Pb(e)}function Pb(e,t,n){for(var r=(e.mode&1)!==0;Ge!==null;){var i=Ge,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||dh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||cr;a=dh;var c=cr;if(dh=o,(cr=l)&&!c)for(Ge=i;Ge!==null;)o=Ge,l=o.child,o.tag===22&&o.memoizedState!==null?cy(i):l!==null?(l.return=o,Ge=l):cy(i);for(;s!==null;)Ge=s,Pb(s),s=s.sibling;Ge=i,dh=a,cr=c}ay(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ge=s):ay(e)}}function ay(e){for(;Ge!==null;){var t=Ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cr||Gf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!cr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&W2(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}W2(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ru(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}cr||t.flags&512&&q0(t)}catch(m){gn(t,t.return,m)}}if(t===e){Ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ge=n;break}Ge=t.return}}function ly(e){for(;Ge!==null;){var t=Ge;if(t===e){Ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ge=n;break}Ge=t.return}}function cy(e){for(;Ge!==null;){var t=Ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gf(4,t)}catch(l){gn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){gn(t,i,l)}}var s=t.return;try{q0(t)}catch(l){gn(t,s,l)}break;case 5:var o=t.return;try{q0(t)}catch(l){gn(t,o,l)}}}catch(l){gn(t,t.return,l)}if(t===e){Ge=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ge=a;break}Ge=t.return}}var Yk=Math.ceil,wf=Hs.ReactCurrentDispatcher,S1=Hs.ReactCurrentOwner,ji=Hs.ReactCurrentBatchConfig,Lt=0,$n=null,En=null,Jn=0,Jr=0,El=Vo(0),In=0,Hu=null,Pa=0,Kf=0,_1=0,bu=null,Tr=null,j1=0,ec=1/0,Es=null,xf=!1,H0=null,Io=null,hh=!1,Ao=null,bf=0,Su=0,G0=null,Mh=-1,Bh=0;function Sr(){return Lt&6?bn():Mh!==-1?Mh:Mh=bn()}function Ro(e){return e.mode&1?Lt&2&&Jn!==0?Jn&-Jn:Fk.transition!==null?(Bh===0&&(Bh=fx()),Bh):(e=Dt,e!==0||(e=window.event,e=e===void 0?16:xx(e.type)),e):1}function Gi(e,t,n,r){if(50<Su)throw Su=0,G0=null,Error(Te(185));nd(e,n,r),(!(Lt&2)||e!==$n)&&(e===$n&&(!(Lt&2)&&(Kf|=n),In===4&&jo(e,Jn)),Dr(e,r),n===1&&Lt===0&&!(t.mode&1)&&(ec=bn()+500,Vf&&Wo()))}function Dr(e,t){var n=e.callbackNode;Fj(e,t);var r=rf(e,e===$n?Jn:0);if(r===0)n!==null&&y2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&y2(n),t===1)e.tag===0?Tk(uy.bind(null,e)):Bx(uy.bind(null,e)),Ck(function(){!(Lt&6)&&Wo()}),n=null;else{switch(px(r)){case 1:n=Yg;break;case 4:n=dx;break;case 16:n=nf;break;case 536870912:n=hx;break;default:n=nf}n=Db(n,Eb.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Eb(e,t){if(Mh=-1,Bh=0,Lt&6)throw Error(Te(327));var n=e.callbackNode;if(ql()&&e.callbackNode!==n)return null;var r=rf(e,e===$n?Jn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Sf(e,r);else{t=r;var i=Lt;Lt|=2;var s=Tb();($n!==e||Jn!==t)&&(Es=null,ec=bn()+500,Sa(e,t));do try{Zk();break}catch(a){Lb(e,a)}while(1);c1(),wf.current=s,Lt=i,En!==null?t=0:($n=null,Jn=0,t=In)}if(t!==0){if(t===2&&(i=x0(e),i!==0&&(r=i,t=K0(e,i))),t===1)throw n=Hu,Sa(e,0),jo(e,r),Dr(e,bn()),n;if(t===6)jo(e,r);else{if(i=e.current.alternate,!(r&30)&&!Xk(i)&&(t=Sf(e,r),t===2&&(s=x0(e),s!==0&&(r=s,t=K0(e,s))),t===1))throw n=Hu,Sa(e,0),jo(e,r),Dr(e,bn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Te(345));case 2:da(e,Tr,Es);break;case 3:if(jo(e,r),(r&130023424)===r&&(t=j1+500-bn(),10<t)){if(rf(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Sr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=C0(da.bind(null,e,Tr,Es),t);break}da(e,Tr,Es);break;case 4:if(jo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Hi(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=bn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yk(r/1960))-r,10<r){e.timeoutHandle=C0(da.bind(null,e,Tr,Es),r);break}da(e,Tr,Es);break;case 5:da(e,Tr,Es);break;default:throw Error(Te(329))}}}return Dr(e,bn()),e.callbackNode===n?Eb.bind(null,e):null}function K0(e,t){var n=bu;return e.current.memoizedState.isDehydrated&&(Sa(e,t).flags|=256),e=Sf(e,t),e!==2&&(t=Tr,Tr=n,t!==null&&J0(t)),e}function J0(e){Tr===null?Tr=e:Tr.push.apply(Tr,e)}function Xk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ki(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jo(e,t){for(t&=~_1,t&=~Kf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Hi(t),r=1<<n;e[n]=-1,t&=~r}}function uy(e){if(Lt&6)throw Error(Te(327));ql();var t=rf(e,0);if(!(t&1))return Dr(e,bn()),null;var n=Sf(e,t);if(e.tag!==0&&n===2){var r=x0(e);r!==0&&(t=r,n=K0(e,r))}if(n===1)throw n=Hu,Sa(e,0),jo(e,t),Dr(e,bn()),n;if(n===6)throw Error(Te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,da(e,Tr,Es),Dr(e,bn()),null}function k1(e,t){var n=Lt;Lt|=1;try{return e(t)}finally{Lt=n,Lt===0&&(ec=bn()+500,Vf&&Wo())}}function Ea(e){Ao!==null&&Ao.tag===0&&!(Lt&6)&&ql();var t=Lt;Lt|=1;var n=ji.transition,r=Dt;try{if(ji.transition=null,Dt=1,e)return e()}finally{Dt=r,ji.transition=n,Lt=t,!(Lt&6)&&Wo()}}function N1(){Jr=El.current,en(El)}function Sa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ak(n)),En!==null)for(n=En.return;n!==null;){var r=n;switch(o1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cf();break;case 3:Ql(),en(Rr),en(hr),m1();break;case 5:p1(r);break;case 4:Ql();break;case 13:en(on);break;case 19:en(on);break;case 10:u1(r.type._context);break;case 22:case 23:N1()}n=n.return}if($n=e,En=e=Oo(e.current,null),Jn=Jr=t,In=0,Hu=null,_1=Kf=Pa=0,Tr=bu=null,wa!==null){for(t=0;t<wa.length;t++)if(n=wa[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}wa=null}return e}function Lb(e,t){do{var n=En;try{if(c1(),Rh.current=yf,vf){for(var r=ln.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vf=!1}if(Ca=0,Un=Fn=ln=null,wu=!1,qu=0,S1.current=null,n===null||n.return===null){In=1,Hu=t,En=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Jn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=X2(o);if(g!==null){g.flags&=-257,Q2(g,o,a,s,t),g.mode&1&&Y2(s,c,t),t=g,l=c;var b=t.updateQueue;if(b===null){var S=new Set;S.add(l),t.updateQueue=S}else b.add(l);break e}else{if(!(t&1)){Y2(s,c,t),A1();break e}l=Error(Te(426))}}else if(rn&&a.mode&1){var k=X2(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Q2(k,o,a,s,t),a1(Zl(l,a));break e}}s=l=Zl(l,a),In!==4&&(In=2),bu===null?bu=[s]:bu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=pb(s,l,t);V2(s,y);break e;case 1:a=l;var x=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Io===null||!Io.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=mb(s,a,t);V2(s,E);break e}}s=s.return}while(s!==null)}Ib(n)}catch(O){t=O,En===n&&n!==null&&(En=n=n.return);continue}break}while(1)}function Tb(){var e=wf.current;return wf.current=yf,e===null?yf:e}function A1(){(In===0||In===3||In===2)&&(In=4),$n===null||!(Pa&268435455)&&!(Kf&268435455)||jo($n,Jn)}function Sf(e,t){var n=Lt;Lt|=2;var r=Tb();($n!==e||Jn!==t)&&(Es=null,Sa(e,t));do try{Qk();break}catch(i){Lb(e,i)}while(1);if(c1(),Lt=n,wf.current=r,En!==null)throw Error(Te(261));return $n=null,Jn=0,In}function Qk(){for(;En!==null;)Fb(En)}function Zk(){for(;En!==null&&!jj();)Fb(En)}function Fb(e){var t=Ob(e.alternate,e,Jr);e.memoizedProps=e.pendingProps,t===null?Ib(e):En=t,S1.current=null}function Ib(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Hk(n,t),n!==null){n.flags&=32767,En=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{In=6,En=null;return}}else if(n=Wk(n,t,Jr),n!==null){En=n;return}if(t=t.sibling,t!==null){En=t;return}En=t=e}while(t!==null);In===0&&(In=5)}function da(e,t,n){var r=Dt,i=ji.transition;try{ji.transition=null,Dt=1,eN(e,t,n,r)}finally{ji.transition=i,Dt=r}return null}function eN(e,t,n,r){do ql();while(Ao!==null);if(Lt&6)throw Error(Te(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Te(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ij(e,s),e===$n&&(En=$n=null,Jn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hh||(hh=!0,Db(nf,function(){return ql(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ji.transition,ji.transition=null;var o=Dt;Dt=1;var a=Lt;Lt|=4,S1.current=null,Kk(e,n),Cb(n,e),xk(N0),sf=!!k0,N0=k0=null,e.current=n,Jk(n),kj(),Lt=a,Dt=o,ji.transition=s}else e.current=n;if(hh&&(hh=!1,Ao=e,bf=i),s=e.pendingLanes,s===0&&(Io=null),Cj(n.stateNode),Dr(e,bn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xf)throw xf=!1,e=H0,H0=null,e;return bf&1&&e.tag!==0&&ql(),s=e.pendingLanes,s&1?e===G0?Su++:(Su=0,G0=e):Su=0,Wo(),null}function ql(){if(Ao!==null){var e=px(bf),t=ji.transition,n=Dt;try{if(ji.transition=null,Dt=16>e?16:e,Ao===null)var r=!1;else{if(e=Ao,Ao=null,bf=0,Lt&6)throw Error(Te(331));var i=Lt;for(Lt|=4,Ge=e.current;Ge!==null;){var s=Ge,o=s.child;if(Ge.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ge=c;Ge!==null;){var h=Ge;switch(h.tag){case 0:case 11:case 15:xu(8,h,s)}var f=h.child;if(f!==null)f.return=h,Ge=f;else for(;Ge!==null;){h=Ge;var m=h.sibling,g=h.return;if(kb(h),h===c){Ge=null;break}if(m!==null){m.return=g,Ge=m;break}Ge=g}}}var b=s.alternate;if(b!==null){var S=b.child;if(S!==null){b.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}Ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ge=o;else e:for(;Ge!==null;){if(s=Ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Ge=y;break e}Ge=s.return}}var x=e.current;for(Ge=x;Ge!==null;){o=Ge;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ge=_;else e:for(o=x;Ge!==null;){if(a=Ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gf(9,a)}}catch(O){gn(a,a.return,O)}if(a===o){Ge=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ge=E;break e}Ge=a.return}}if(Lt=i,Wo(),cs&&typeof cs.onPostCommitFiberRoot=="function")try{cs.onPostCommitFiberRoot(Bf,e)}catch{}r=!0}return r}finally{Dt=n,ji.transition=t}}return!1}function dy(e,t,n){t=Zl(n,t),t=pb(e,t,1),e=Fo(e,t,1),t=Sr(),e!==null&&(nd(e,1,t),Dr(e,t))}function gn(e,t,n){if(e.tag===3)dy(e,e,n);else for(;t!==null;){if(t.tag===3){dy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Io===null||!Io.has(r))){e=Zl(n,e),e=mb(t,e,1),t=Fo(t,e,1),e=Sr(),t!==null&&(nd(t,1,e),Dr(t,e));break}}t=t.return}}function tN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Sr(),e.pingedLanes|=e.suspendedLanes&n,$n===e&&(Jn&n)===n&&(In===4||In===3&&(Jn&130023424)===Jn&&500>bn()-j1?Sa(e,0):_1|=n),Dr(e,t)}function Rb(e,t){t===0&&(e.mode&1?(t=nh,nh<<=1,!(nh&130023424)&&(nh=4194304)):t=1);var n=Sr();e=$s(e,t),e!==null&&(nd(e,t,n),Dr(e,n))}function nN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rb(e,n)}function rN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Te(314))}r!==null&&r.delete(t),Rb(e,n)}var Ob;Ob=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rr.current)Ir=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ir=!1,Vk(e,t,n);Ir=!!(e.flags&131072)}else Ir=!1,rn&&t.flags&1048576&&Ux(t,hf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Dh(e,t),e=t.pendingProps;var i=Jl(t,hr.current);$l(t,n),i=v1(null,t,r,e,i,n);var s=y1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Or(r)?(s=!0,uf(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,h1(t),i.updater=Hf,t.stateNode=i,i._reactInternals=t,R0(t,r,e,n),t=M0(null,t,r,!0,s,n)):(t.tag=0,rn&&s&&s1(t),xr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Dh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=sN(r),e=zi(r,e),i){case 0:t=D0(null,t,r,e,n);break e;case 1:t=ty(null,t,r,e,n);break e;case 11:t=Z2(null,t,r,e,n);break e;case 14:t=ey(null,t,r,zi(r.type,e),n);break e}throw Error(Te(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),D0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),ty(e,t,r,i,n);case 3:e:{if(wb(t),e===null)throw Error(Te(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Hx(e,t),mf(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Zl(Error(Te(423)),t),t=ny(e,t,r,n,i);break e}else if(r!==i){i=Zl(Error(Te(424)),t),t=ny(e,t,r,n,i);break e}else for(Yr=To(t.stateNode.containerInfo.firstChild),Qr=t,rn=!0,Wi=null,n=Vx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yl(),r===i){t=qs(e,t,n);break e}xr(e,t,r,n)}t=t.child}return t;case 5:return Gx(t),e===null&&T0(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,A0(r,i)?o=null:s!==null&&A0(r,s)&&(t.flags|=32),yb(e,t),xr(e,t,o,n),t.child;case 6:return e===null&&T0(t),null;case 13:return xb(e,t,n);case 4:return f1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xl(t,null,r,n):xr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),Z2(e,t,r,i,n);case 7:return xr(e,t,t.pendingProps,n),t.child;case 8:return xr(e,t,t.pendingProps.children,n),t.child;case 12:return xr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Yt(ff,r._currentValue),r._currentValue=o,s!==null)if(Ki(s.value,o)){if(s.children===i.children&&!Rr.current){t=qs(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Os(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),F0(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Te(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),F0(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$l(t,n),i=Ni(i),r=r(i),t.flags|=1,xr(e,t,r,n),t.child;case 14:return r=t.type,i=zi(r,t.pendingProps),i=zi(r.type,i),ey(e,t,r,i,n);case 15:return gb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),Dh(e,t),t.tag=1,Or(r)?(e=!0,uf(t)):e=!1,$l(t,n),fb(t,r,i),R0(t,r,i,n),M0(null,t,r,!0,e,n);case 19:return bb(e,t,n);case 22:return vb(e,t,n)}throw Error(Te(156,t.tag))};function Db(e,t){return ux(e,t)}function iN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(e,t,n,r){return new iN(e,t,n,r)}function C1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sN(e){if(typeof e=="function")return C1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gg)return 11;if(e===Kg)return 14}return 2}function Oo(e,t){var n=e.alternate;return n===null?(n=Si(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uh(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")C1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case xl:return _a(n.children,i,s,t);case Hg:o=8,i|=8;break;case s0:return e=Si(12,n,t,i|2),e.elementType=s0,e.lanes=s,e;case o0:return e=Si(13,n,t,i),e.elementType=o0,e.lanes=s,e;case a0:return e=Si(19,n,t,i),e.elementType=a0,e.lanes=s,e;case Gw:return Jf(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ww:o=10;break e;case Hw:o=9;break e;case Gg:o=11;break e;case Kg:o=14;break e;case bo:o=16,r=null;break e}throw Error(Te(130,e==null?e:typeof e,""))}return t=Si(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function _a(e,t,n,r){return e=Si(7,e,r,t),e.lanes=n,e}function Jf(e,t,n,r){return e=Si(22,e,r,t),e.elementType=Gw,e.lanes=n,e.stateNode={isHidden:!1},e}function bm(e,t,n){return e=Si(6,e,null,t),e.lanes=n,e}function Sm(e,t,n){return t=Si(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oN(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nm(0),this.expirationTimes=nm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function P1(e,t,n,r,i,s,o,a,l){return e=new oN(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Si(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},h1(s),e}function aN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Mb(e){if(!e)return Mo;e=e._reactInternals;e:{if(Ta(e)!==e||e.tag!==1)throw Error(Te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Or(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Te(171))}if(e.tag===1){var n=e.type;if(Or(n))return Mx(e,n,t)}return t}function Bb(e,t,n,r,i,s,o,a,l){return e=P1(n,r,!0,e,i,s,o,a,l),e.context=Mb(null),n=e.current,r=Sr(),i=Ro(n),s=Os(r,i),s.callback=t??null,Fo(n,s,i),e.current.lanes=i,nd(e,i,r),Dr(e,r),e}function Yf(e,t,n,r){var i=t.current,s=Sr(),o=Ro(i);return n=Mb(n),t.context===null?t.context=n:t.pendingContext=n,t=Os(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fo(i,t,o),e!==null&&(Gi(e,i,o,s),Ih(e,i,o)),o}function _f(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function E1(e,t){hy(e,t),(e=e.alternate)&&hy(e,t)}function lN(){return null}var Ub=typeof reportError=="function"?reportError:function(e){console.error(e)};function L1(e){this._internalRoot=e}Xf.prototype.render=L1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Te(409));Yf(e,t,null,null)};Xf.prototype.unmount=L1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ea(function(){Yf(null,e,null,null)}),t[zs]=null}};function Xf(e){this._internalRoot=e}Xf.prototype.unstable_scheduleHydration=function(e){if(e){var t=vx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_o.length&&t!==0&&t<_o[n].priority;n++);_o.splice(n,0,e),n===0&&wx(e)}};function T1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fy(){}function cN(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=_f(o);s.call(c)}}var o=Bb(t,r,e,0,null,!1,!1,"",fy);return e._reactRootContainer=o,e[zs]=o.current,Mu(e.nodeType===8?e.parentNode:e),Ea(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=_f(l);a.call(c)}}var l=P1(e,0,!1,null,null,!1,!1,"",fy);return e._reactRootContainer=l,e[zs]=l.current,Mu(e.nodeType===8?e.parentNode:e),Ea(function(){Yf(t,l,n,r)}),l}function Zf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=_f(o);a.call(l)}}Yf(t,o,e,i)}else o=cN(n,t,e,i,r);return _f(o)}mx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lu(t.pendingLanes);n!==0&&(Xg(t,n|1),Dr(t,bn()),!(Lt&6)&&(ec=bn()+500,Wo()))}break;case 13:Ea(function(){var r=$s(e,1);if(r!==null){var i=Sr();Gi(r,e,1,i)}}),E1(e,1)}};Qg=function(e){if(e.tag===13){var t=$s(e,134217728);if(t!==null){var n=Sr();Gi(t,e,134217728,n)}E1(e,134217728)}};gx=function(e){if(e.tag===13){var t=Ro(e),n=$s(e,t);if(n!==null){var r=Sr();Gi(n,e,t,r)}E1(e,t)}};vx=function(){return Dt};yx=function(e,t){var n=Dt;try{return Dt=e,t()}finally{Dt=n}};v0=function(e,t,n){switch(t){case"input":if(u0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=qf(r);if(!i)throw Error(Te(90));Jw(r),u0(r,i)}}}break;case"textarea":Xw(e,n);break;case"select":t=n.value,t!=null&&Ml(e,!!n.multiple,t,!1)}};ix=k1;sx=Ea;var uN={usingClientEntryPoint:!1,Events:[id,jl,qf,nx,rx,k1]},Xc={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dN={bundleType:Xc.bundleType,version:Xc.version,rendererPackageName:Xc.rendererPackageName,rendererConfig:Xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lx(e),e===null?null:e.stateNode},findFiberByHostInstance:Xc.findFiberByHostInstance||lN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Bf=fh.inject(dN),cs=fh}catch{}}ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uN;ni.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T1(t))throw Error(Te(200));return aN(e,t,null,n)};ni.createRoot=function(e,t){if(!T1(e))throw Error(Te(299));var n=!1,r="",i=Ub;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=P1(e,1,!1,null,null,n,!1,r,i),e[zs]=t.current,Mu(e.nodeType===8?e.parentNode:e),new L1(t)};ni.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Te(188)):(e=Object.keys(e).join(","),Error(Te(268,e)));return e=lx(t),e=e===null?null:e.stateNode,e};ni.flushSync=function(e){return Ea(e)};ni.hydrate=function(e,t,n){if(!Qf(t))throw Error(Te(200));return Zf(null,e,t,!0,n)};ni.hydrateRoot=function(e,t,n){if(!T1(e))throw Error(Te(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Ub;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Bb(t,null,e,1,n??null,i,!1,s,o),e[zs]=t.current,Mu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xf(t)};ni.render=function(e,t,n){if(!Qf(t))throw Error(Te(200));return Zf(null,e,t,!1,n)};ni.unmountComponentAtNode=function(e){if(!Qf(e))throw Error(Te(40));return e._reactRootContainer?(Ea(function(){Zf(null,null,e,!1,function(){e._reactRootContainer=null,e[zs]=null})}),!0):!1};ni.unstable_batchedUpdates=k1;ni.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qf(n))throw Error(Te(200));if(e==null||e._reactInternals===void 0)throw Error(Te(38));return Zf(e,t,n,!1,r)};ni.version="18.3.1-next-f1338f8080-20240426";function zb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zb)}catch(e){console.error(e)}}zb(),zw.exports=ni;var $b=zw.exports;const qb=Mg($b);var py=$b;r0.createRoot=py.createRoot,r0.hydrateRoot=py.hydrateRoot;const hN="modulepreload",fN=function(e){return"/"+e},my={},ps=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=fN(s),s in my)return;my[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":hN,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var gy="popstate";function pN(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Y0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gu(i)}return gN(t,n,null,e)}function cn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ji(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mN(){return Math.random().toString(36).substring(2,10)}function vy(e,t){return{usr:e.state,key:e.key,idx:t}}function Y0(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?cc(t):t,state:n,key:t&&t.key||r||mN()}}function Gu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function cc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function gN(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let k=h(),y=k==null?null:k-c;c=k,l&&l({action:a,location:S.location,delta:y})}function m(k,y){a="PUSH";let x=Y0(S.location,k,y);n&&n(x,k),c=h()+1;let _=vy(x,c),E=S.createHref(x);try{o.pushState(_,"",E)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(E)}s&&l&&l({action:a,location:S.location,delta:1})}function g(k,y){a="REPLACE";let x=Y0(S.location,k,y);n&&n(x,k),c=h();let _=vy(x,c),E=S.createHref(x);o.replaceState(_,"",E),s&&l&&l({action:a,location:S.location,delta:0})}function b(k){return vN(k)}let S={get action(){return a},get location(){return e(i,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gy,f),l=k,()=>{i.removeEventListener(gy,f),l=null}},createHref(k){return t(i,k)},createURL:b,encodeLocation(k){let y=b(k);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:g,go(k){return o.go(k)}};return S}function vN(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),cn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Gu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Vb(e,t,n="/"){return yN(e,t,n,!1)}function yN(e,t,n,r){let i=typeof t=="string"?cc(t):t,s=Vs(i.pathname||"/",n);if(s==null)return null;let o=Wb(e);wN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=EN(s);a=CN(o[l],c,r)}return a}function Wb(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&l)return;cn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let f=Ds([r,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(cn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Wb(o.children,t,m,f,l)),!(o.path==null&&!o.index)&&t.push({path:f,score:NN(f,o.index),routesMeta:m})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of Hb(o.path))s(o,a,!0,c)}),t}function Hb(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Hb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function wN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:AN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xN=/^:[\w-]+$/,bN=3,SN=2,_N=1,jN=10,kN=-2,yy=e=>e==="*";function NN(e,t){let n=e.split("/"),r=n.length;return n.some(yy)&&(r+=kN),t&&(r+=SN),n.filter(i=>!yy(i)).reduce((i,s)=>i+(xN.test(s)?bN:s===""?_N:jN),r)}function AN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function CN(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?t:t.slice(s.length)||"/",f=jf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),m=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=jf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ds([s,f.pathname]),pathnameBase:IN(Ds([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Ds([s,f.pathnameBase]))}return o}function jf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=PN(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:f},m)=>{if(h==="*"){let b=a[m]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=a[m];return f&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function PN(e,t=!1,n=!0){Ji(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function EN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ji(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Vs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function LN(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?cc(e):e;return{pathname:n?n.startsWith("/")?n:TN(n,t):t,search:RN(r),hash:ON(i)}}function TN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _m(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gb(e){let t=FN(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Kb(e,t,n,r=!1){let i;typeof e=="string"?i=cc(e):(i={...e},cn(!i.pathname||!i.pathname.includes("?"),_m("?","pathname","search",i)),cn(!i.pathname||!i.pathname.includes("#"),_m("#","pathname","hash",i)),cn(!i.search||!i.search.includes("#"),_m("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?t[f]:"/"}let l=LN(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var Ds=e=>e.join("/").replace(/\/\/+/g,"/"),IN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ON=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function DN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Jb=["POST","PUT","PATCH","DELETE"];new Set(Jb);var MN=["GET",...Jb];new Set(MN);var uc=T.createContext(null);uc.displayName="DataRouter";var ep=T.createContext(null);ep.displayName="DataRouterState";T.createContext(!1);var Yb=T.createContext({isTransitioning:!1});Yb.displayName="ViewTransition";var BN=T.createContext(new Map);BN.displayName="Fetchers";var UN=T.createContext(null);UN.displayName="Await";var ms=T.createContext(null);ms.displayName="Navigation";var od=T.createContext(null);od.displayName="Location";var Gs=T.createContext({outlet:null,matches:[],isDataRoute:!1});Gs.displayName="Route";var F1=T.createContext(null);F1.displayName="RouteError";function zN(e,{relative:t}={}){cn(ad(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(ms),{hash:i,pathname:s,search:o}=ld(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Ds([n,s])),r.createHref({pathname:a,search:o,hash:i})}function ad(){return T.useContext(od)!=null}function Ho(){return cn(ad(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(od).location}var Xb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qb(e){T.useContext(ms).static||T.useLayoutEffect(e)}function I1(){let{isDataRoute:e}=T.useContext(Gs);return e?e6():$N()}function $N(){cn(ad(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(uc),{basename:t,navigator:n}=T.useContext(ms),{matches:r}=T.useContext(Gs),{pathname:i}=Ho(),s=JSON.stringify(Gb(r)),o=T.useRef(!1);return Qb(()=>{o.current=!0}),T.useCallback((l,c={})=>{if(Ji(o.current,Xb),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=Kb(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ds([t,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[t,n,s,i,e])}T.createContext(null);function ld(e,{relative:t}={}){let{matches:n}=T.useContext(Gs),{pathname:r}=Ho(),i=JSON.stringify(Gb(n));return T.useMemo(()=>Kb(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function qN(e,t){return Zb(e,t)}function Zb(e,t,n,r,i){var x;cn(ad(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(ms),{matches:o}=T.useContext(Gs),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let _=f&&f.path||"";e3(c,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let m=Ho(),g;if(t){let _=typeof t=="string"?cc(t):t;cn(h==="/"||((x=_.pathname)==null?void 0:x.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${_.pathname}" was given in the \`location\` prop.`),g=_}else g=m;let b=g.pathname||"/",S=b;if(h!=="/"){let _=h.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let k=Vb(e,{pathname:S});Ji(f||k!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ji(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=KN(k&&k.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Ds([h,s.encodeLocation?s.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:Ds([h,s.encodeLocation?s.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),o,n,r,i);return t&&y?T.createElement(od.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},y):y}function VN(){let e=ZN(),t=DN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,o)}var WN=T.createElement(VN,null),HN=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?T.createElement(Gs.Provider,{value:this.props.routeContext},T.createElement(F1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GN({routeContext:e,match:t,children:n}){let r=T.useContext(uc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Gs.Provider,{value:e},n)}function KN(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let c=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);cn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:f,errors:m}=n,g=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,h,f)=>{let m,g=!1,b=null,S=null;n&&(m=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||WN,a&&(l<0&&f===0?(e3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,S=null):l===f&&(g=!0,S=h.route.hydrateFallbackElement||null)));let k=t.concat(s.slice(0,f+1)),y=()=>{let x;return m?x=b:g?x=S:h.route.Component?x=T.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=c,T.createElement(GN,{match:h,routeContext:{outlet:c,matches:k,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(HN,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:y(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):y()},null)}function R1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JN(e){let t=T.useContext(uc);return cn(t,R1(e)),t}function YN(e){let t=T.useContext(ep);return cn(t,R1(e)),t}function XN(e){let t=T.useContext(Gs);return cn(t,R1(e)),t}function O1(e){let t=XN(e),n=t.matches[t.matches.length-1];return cn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function QN(){return O1("useRouteId")}function ZN(){var r;let e=T.useContext(F1),t=YN("useRouteError"),n=O1("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function e6(){let{router:e}=JN("useNavigate"),t=O1("useNavigate"),n=T.useRef(!1);return Qb(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{Ji(n.current,Xb),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var wy={};function e3(e,t,n){!t&&!wy[e]&&(wy[e]=!0,Ji(!1,n))}T.memo(t6);function t6({routes:e,future:t,state:n,unstable_onError:r}){return Zb(e,void 0,n,r,t)}function zh(e){cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n6({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){cn(!ad(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=T.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=cc(n));let{pathname:l="/",search:c="",hash:h="",state:f=null,key:m="default"}=n,g=T.useMemo(()=>{let b=Vs(l,o);return b==null?null:{location:{pathname:b,search:c,hash:h,state:f,key:m},navigationType:r}},[o,l,c,h,f,m,r]);return Ji(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:T.createElement(ms.Provider,{value:a},T.createElement(od.Provider,{children:t,value:g}))}function r6({children:e,location:t}){return qN(X0(e),t)}function X0(e,t=[]){let n=[];return T.Children.forEach(e,(r,i)=>{if(!T.isValidElement(r))return;let s=[...t,i];if(r.type===T.Fragment){n.push.apply(n,X0(r.props.children,s));return}cn(r.type===zh,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=X0(r.props.children,s)),n.push(o)}),n}var $h="get",qh="application/x-www-form-urlencoded";function tp(e){return e!=null&&typeof e.tagName=="string"}function i6(e){return tp(e)&&e.tagName.toLowerCase()==="button"}function s6(e){return tp(e)&&e.tagName.toLowerCase()==="form"}function o6(e){return tp(e)&&e.tagName.toLowerCase()==="input"}function a6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l6(e,t){return e.button===0&&(!t||t==="_self")&&!a6(e)}function Q0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function c6(e,t){let n=Q0(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var ph=null;function u6(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var d6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jm(e){return e!=null&&!d6.has(e)?(Ji(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qh}"`),null):e}function h6(e,t){let n,r,i,s,o;if(s6(e)){let a=e.getAttribute("action");r=a?Vs(a,t):null,n=e.getAttribute("method")||$h,i=jm(e.getAttribute("enctype"))||qh,s=new FormData(e)}else if(i6(e)||o6(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Vs(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||$h,i=jm(e.getAttribute("formenctype"))||jm(a.getAttribute("enctype"))||qh,s=new FormData(a,e),!u6()){let{name:c,type:h,value:f}=e;if(h==="image"){let m=c?`${c}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else c&&s.append(c,f)}}else{if(tp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$h,r=null,i=qh,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function D1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function f6(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Vs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function p6(e,t){if(e.id in t)return t[e.id];try{let n=await ps(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m6(e){return e!=null&&typeof e.page=="string"}function g6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function v6(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await p6(s,n);return o.links?o.links():[]}return[]}));return b6(r.flat(1).filter(g6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function xy(e,t,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var h;return n[c].pathname!==l.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{var f;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function y6(e,t,{includeHydrateFallback:n}={}){return w6(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function w6(e){return[...new Set(e)]}function x6(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function b6(e,t){let n=new Set,r=new Set(t);return e.reduce((i,s)=>{if(t&&!m6(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(x6(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function t3(){let e=T.useContext(uc);return D1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function S6(){let e=T.useContext(ep);return D1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var M1=T.createContext(void 0);M1.displayName="FrameworkContext";function n3(){let e=T.useContext(M1);return D1(e,"You must render this element inside a <HydratedRouter> element"),e}function _6(e,t){let n=T.useContext(M1),[r,i]=T.useState(!1),[s,o]=T.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=t,m=T.useRef(null);T.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=y=>{y.forEach(x=>{o(x.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return m.current&&k.observe(m.current),()=>{k.disconnect()}}},[e]),T.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let g=()=>{i(!0)},b=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,m,{}]:[s,m,{onFocus:Qc(a,g),onBlur:Qc(l,b),onMouseEnter:Qc(c,g),onMouseLeave:Qc(h,b),onTouchStart:Qc(f,g)}]:[!1,m,{}]}function Qc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function j6({page:e,...t}){let{router:n}=t3(),r=T.useMemo(()=>Vb(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?T.createElement(N6,{page:e,matches:r,...t}):null}function k6(e){let{manifest:t,routeModules:n}=n3(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return v6(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function N6({page:e,matches:t,...n}){let r=Ho(),{manifest:i,routeModules:s}=n3(),{basename:o}=t3(),{loaderData:a,matches:l}=S6(),c=T.useMemo(()=>xy(e,t,l,i,r,"data"),[e,t,l,i,r]),h=T.useMemo(()=>xy(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=T.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,S=!1;if(t.forEach(y=>{var _;let x=i.routes[y.route.id];!x||!x.hasLoader||(!c.some(E=>E.route.id===y.route.id)&&y.route.id in a&&((_=s[y.route.id])!=null&&_.shouldRevalidate)||x.hasClientLoader?S=!0:b.add(y.route.id))}),b.size===0)return[];let k=f6(e,o,"data");return S&&b.size>0&&k.searchParams.set("_routes",t.filter(y=>b.has(y.route.id)).map(y=>y.route.id).join(",")),[k.pathname+k.search]},[o,a,r,i,c,t,e,s]),m=T.useMemo(()=>y6(h,i),[h,i]),g=k6(h);return T.createElement(T.Fragment,null,f.map(b=>T.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),m.map(b=>T.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),g.map(({key:b,link:S})=>T.createElement("link",{key:b,nonce:n.nonce,...S})))}function A6(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var r3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r3&&(window.__reactRouterVersion="7.9.3")}catch{}function C6({basename:e,children:t,window:n}){let r=T.useRef();r.current==null&&(r.current=pN({window:n,v5Compat:!0}));let i=r.current,[s,o]=T.useState({action:i.action,location:i.location}),a=T.useCallback(l=>{T.startTransition(()=>o(l))},[o]);return T.useLayoutEffect(()=>i.listen(a),[i,a]),T.createElement(n6,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var i3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s3=T.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f,...m},g){let{basename:b}=T.useContext(ms),S=typeof c=="string"&&i3.test(c),k,y=!1;if(typeof c=="string"&&S&&(k=c,r3))try{let V=new URL(window.location.href),H=c.startsWith("//")?new URL(V.protocol+c):new URL(c),R=Vs(H.pathname,b);H.origin===V.origin&&R!=null?c=R+H.search+H.hash:y=!0}catch{Ji(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=zN(c,{relative:i}),[_,E,O]=_6(r,m),M=T6(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:f});function B(V){t&&t(V),V.defaultPrevented||M(V)}let L=T.createElement("a",{...m,...O,href:k||x,onClick:y||s?t:B,ref:A6(g,E),target:l,"data-discover":!S&&n==="render"?"true":void 0});return _&&!S?T.createElement(T.Fragment,null,L,T.createElement(j6,{page:x})):L});s3.displayName="Link";var P6=T.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},h){let f=ld(o,{relative:c.relative}),m=Ho(),g=T.useContext(ep),{navigator:b,basename:S}=T.useContext(ms),k=g!=null&&M6(f)&&a===!0,y=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,x=m.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(x=x.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase()),_&&S&&(_=Vs(_,S)||_);const E=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let O=x===y||!i&&x.startsWith(y)&&x.charAt(E)==="/",M=_!=null&&(_===y||!i&&_.startsWith(y)&&_.charAt(y.length)==="/"),B={isActive:O,isPending:M,isTransitioning:k},L=O?t:void 0,V;typeof r=="function"?V=r(B):V=[r,O?"active":null,M?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(B):s;return T.createElement(s3,{...c,"aria-current":L,className:V,ref:h,style:H,to:o,viewTransition:a},typeof l=="function"?l(B):l)});P6.displayName="NavLink";var E6=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=$h,action:a,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:f,...m},g)=>{let b=O6(),S=D6(a,{relative:c}),k=o.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&i3.test(a),x=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let E=_.nativeEvent.submitter,O=(E==null?void 0:E.getAttribute("formmethod"))||o;b(E||_.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:f})};return T.createElement("form",{ref:g,method:k,action:S,onSubmit:r?l:x,...m,"data-discover":!y&&e==="render"?"true":void 0})});E6.displayName="Form";function L6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o3(e){let t=T.useContext(uc);return cn(t,L6(e)),t}function T6(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=I1(),l=Ho(),c=ld(e,{relative:s});return T.useCallback(h=>{if(l6(h,t)){h.preventDefault();let f=n!==void 0?n:Gu(l)===Gu(c);a(e,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,t,e,i,s,o])}function F6(e){Ji(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=T.useRef(Q0(e)),n=T.useRef(!1),r=Ho(),i=T.useMemo(()=>c6(r.search,n.current?null:t.current),[r.search]),s=I1(),o=T.useCallback((a,l)=>{const c=Q0(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}var I6=0,R6=()=>`__${String(++I6)}__`;function O6(){let{router:e}=o3("useSubmit"),{basename:t}=T.useContext(ms),n=QN();return T.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=h6(r,t);if(i.navigate===!1){let h=i.fetcherKey||R6();await e.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function D6(e,{relative:t}={}){let{basename:n}=T.useContext(ms),r=T.useContext(Gs);cn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ld(e||".",{relative:t})},o=Ho();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ds([n,s.pathname])),Gu(s)}function M6(e,{relative:t}={}){let n=T.useContext(Yb);cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=o3("useViewTransitionState"),i=ld(e,{relative:t});if(!n.isTransitioning)return!1;let s=Vs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Vs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jf(i.pathname,o)!=null||jf(i.pathname,s)!=null}const B1=T.createContext({});function U1(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const np=T.createContext(null),z1=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class B6 extends T.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function U6({children:e,isPresent:t}){const n=T.useId(),r=T.useRef(null),i=T.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=T.useContext(z1);return T.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),d.jsx(B6,{isPresent:t,childRef:r,sizeRef:i,children:T.cloneElement(e,{ref:r})})}const z6=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=U1($6),l=T.useId(),c=T.useCallback(f=>{a.set(f,!0);for(const m of a.values())if(!m)return;r&&r()},[a,r]),h=T.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c,register:f=>(a.set(f,!1),()=>a.delete(f))}),s?[Math.random(),c]:[n,c]);return T.useMemo(()=>{a.forEach((f,m)=>a.set(m,!1))},[n]),T.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=d.jsx(U6,{isPresent:n,children:e})),d.jsx(np.Provider,{value:h,children:e})};function $6(){return new Map}function a3(e=!0){const t=T.useContext(np);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=T.useId();T.useEffect(()=>{e&&i(s)},[e]);const o=T.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const mh=e=>e.key||"";function by(e){const t=[];return T.Children.forEach(e,n=>{T.isValidElement(n)&&t.push(n)}),t}const $1=typeof window<"u",l3=$1?T.useLayoutEffect:T.useEffect,_i=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=a3(o),c=T.useMemo(()=>by(e),[e]),h=o&&!a?[]:c.map(mh),f=T.useRef(!0),m=T.useRef(c),g=U1(()=>new Map),[b,S]=T.useState(c),[k,y]=T.useState(c);l3(()=>{f.current=!1,m.current=c;for(let E=0;E<k.length;E++){const O=mh(k[E]);h.includes(O)?g.delete(O):g.get(O)!==!0&&g.set(O,!1)}},[k,h.length,h.join("-")]);const x=[];if(c!==b){let E=[...c];for(let O=0;O<k.length;O++){const M=k[O],B=mh(M);h.includes(B)||(E.splice(O,0,M),x.push(M))}s==="wait"&&x.length&&(E=x),y(by(E)),S(c);return}const{forceRender:_}=T.useContext(B1);return d.jsx(d.Fragment,{children:k.map(E=>{const O=mh(E),M=o&&!a?!1:c===k||h.includes(O),B=()=>{if(g.has(O))g.set(O,!0);else return;let L=!0;g.forEach(V=>{V||(L=!1)}),L&&(_==null||_(),y(m.current),o&&(l==null||l()),r&&r())};return d.jsx(z6,{isPresent:M,initial:!f.current||n?void 0:!1,custom:M?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:M?void 0:B,children:E},O)})})},Zr=e=>e;let c3=Zr;function q1(e){let t;return()=>(t===void 0&&(t=e()),t)}const tc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ms=e=>e*1e3,Bs=e=>e/1e3,q6={skipAnimations:!1,useManualTiming:!1};function V6(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),e()),c(o)}const l={schedule:(c,h=!1,f=!1)=>{const g=f&&r?t:n;return h&&s.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const gh=["read","resolveKeyframes","update","preRender","render","postRender"],W6=40;function u3(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=gh.reduce((y,x)=>(y[x]=V6(s),y),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:f,postRender:m}=o,g=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,W6),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),f.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(g))},b=()=>{n=!0,r=!0,i.isProcessing||e(g)};return{schedule:gh.reduce((y,x)=>{const _=o[x];return y[x]=(E,O=!1,M=!1)=>(n||b(),_.schedule(E,O,M)),y},{}),cancel:y=>{for(let x=0;x<gh.length;x++)o[gh[x]].cancel(y)},state:i,steps:o}}const{schedule:tn,cancel:Bo,state:Kn,steps:km}=u3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zr,!0),d3=T.createContext({strict:!1}),Sy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nc={};for(const e in Sy)nc[e]={isEnabled:t=>Sy[e].some(n=>!!t[n])};function H6(e){for(const t in e)nc[t]={...nc[t],...e[t]}}const G6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||G6.has(e)}let h3=e=>!kf(e);function K6(e){e&&(h3=t=>t.startsWith("on")?!kf(t):e(t))}try{K6(require("@emotion/is-prop-valid").default)}catch{}function J6(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(h3(i)||n===!0&&kf(i)||!t&&!kf(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Y6(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const rp=T.createContext({});function Ku(e){return typeof e=="string"||Array.isArray(e)}function ip(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const V1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],W1=["initial",...V1];function sp(e){return ip(e.animate)||W1.some(t=>Ku(e[t]))}function f3(e){return!!(sp(e)||e.variants)}function X6(e,t){if(sp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ku(n)?n:void 0,animate:Ku(r)?r:void 0}}return e.inherit!==!1?t:{}}function Q6(e){const{initial:t,animate:n}=X6(e,T.useContext(rp));return T.useMemo(()=>({initial:t,animate:n}),[_y(t),_y(n)])}function _y(e){return Array.isArray(e)?e.join(" "):e}const Z6=Symbol.for("motionComponentSymbol");function Ll(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function eA(e,t,n){return T.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ll(n)&&(n.current=r))},[t])}const H1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tA="framerAppearId",p3="data-"+H1(tA),{schedule:G1,cancel:_I}=u3(queueMicrotask,!1),m3=T.createContext({});function nA(e,t,n,r,i){var s,o;const{visualElement:a}=T.useContext(rp),l=T.useContext(d3),c=T.useContext(np),h=T.useContext(z1).reducedMotion,f=T.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,g=T.useContext(m3);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&rA(f.current,n,i,g);const b=T.useRef(!1);T.useInsertionEffect(()=>{m&&b.current&&m.update(n,c)});const S=n[p3],k=T.useRef(!!S&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,S))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,S)));return l3(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),G1.render(m.render),k.current&&m.animationState&&m.animationState.animateChanges())}),T.useEffect(()=>{m&&(!k.current&&m.animationState&&m.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,S)}),k.current=!1))}),m}function rA(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:g3(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ll(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function g3(e){if(e)return e.options.allowProjection!==!1?e.projection:g3(e.parent)}function iA({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,o;e&&H6(e);function a(c,h){let f;const m={...T.useContext(z1),...c,layoutId:sA(c)},{isStatic:g}=m,b=Q6(c),S=r(c,g);if(!g&&$1){oA();const k=aA(m);f=k.MeasureLayout,b.visualElement=nA(i,S,m,t,k.ProjectionNode)}return d.jsxs(rp.Provider,{value:b,children:[f&&b.visualElement?d.jsx(f,{visualElement:b.visualElement,...m}):null,n(i,c,eA(S,b.visualElement,h),S,g,b.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=T.forwardRef(a);return l[Z6]=i,l}function sA({layoutId:e}){const t=T.useContext(B1).id;return t&&e!==void 0?t+"-"+e:e}function oA(e,t){T.useContext(d3).strict}function aA(e){const{drag:t,layout:n}=nc;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const lA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function K1(e){return typeof e!="string"||e.includes("-")?!1:!!(lA.indexOf(e)>-1||/[A-Z]/u.test(e))}function jy(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function J1(e,t,n,r){if(typeof t=="function"){const[i,s]=jy(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=jy(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const Z0=e=>Array.isArray(e),cA=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),uA=e=>Z0(e)?e[e.length-1]||0:e,dr=e=>!!(e&&e.getVelocity);function Vh(e){const t=dr(e)?e.get():e;return cA(t)?t.toValue():t}function dA({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const o={latestValues:hA(r,i,s,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const v3=e=>(t,n)=>{const r=T.useContext(rp),i=T.useContext(np),s=()=>dA(e,t,r,i);return n?s():U1(s)};function hA(e,t,n,r){const i={},s=r(e,{});for(const m in s)i[m]=Vh(s[m]);let{initial:o,animate:a}=e;const l=sp(e),c=f3(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!ip(f)){const m=Array.isArray(f)?f:[f];for(let g=0;g<m.length;g++){const b=J1(e,m[g]);if(b){const{transitionEnd:S,transition:k,...y}=b;for(const x in y){let _=y[x];if(Array.isArray(_)){const E=h?_.length-1:0;_=_[E]}_!==null&&(i[x]=_)}for(const x in S)i[x]=S[x]}}}return i}const dc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fa=new Set(dc),y3=e=>t=>typeof t=="string"&&t.startsWith(e),w3=y3("--"),fA=y3("var(--"),Y1=e=>fA(e)?pA.test(e.split("/*")[0].trim()):!1,pA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,x3=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ws=(e,t,n)=>n>t?t:n<e?e:n,hc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ju={...hc,transform:e=>Ws(0,1,e)},vh={...hc,default:1},cd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wo=cd("deg"),ds=cd("%"),at=cd("px"),mA=cd("vh"),gA=cd("vw"),ky={...ds,parse:e=>ds.parse(e)/100,transform:e=>ds.transform(e*100)},vA={borderWidth:at,borderTopWidth:at,borderRightWidth:at,borderBottomWidth:at,borderLeftWidth:at,borderRadius:at,radius:at,borderTopLeftRadius:at,borderTopRightRadius:at,borderBottomRightRadius:at,borderBottomLeftRadius:at,width:at,maxWidth:at,height:at,maxHeight:at,top:at,right:at,bottom:at,left:at,padding:at,paddingTop:at,paddingRight:at,paddingBottom:at,paddingLeft:at,margin:at,marginTop:at,marginRight:at,marginBottom:at,marginLeft:at,backgroundPositionX:at,backgroundPositionY:at},yA={rotate:wo,rotateX:wo,rotateY:wo,rotateZ:wo,scale:vh,scaleX:vh,scaleY:vh,scaleZ:vh,skew:wo,skewX:wo,skewY:wo,distance:at,translateX:at,translateY:at,translateZ:at,x:at,y:at,z:at,perspective:at,transformPerspective:at,opacity:Ju,originX:ky,originY:ky,originZ:at},Ny={...hc,transform:Math.round},X1={...vA,...yA,zIndex:Ny,size:at,fillOpacity:Ju,strokeOpacity:Ju,numOctaves:Ny},wA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xA=dc.length;function bA(e,t,n){let r="",i=!0;for(let s=0;s<xA;s++){const o=dc[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=x3(a,X1[o]);if(!l){i=!1;const h=wA[o]||o;r+=`${h}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Q1(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Fa.has(l)){o=!0;continue}else if(w3(l)){i[l]=c;continue}else{const h=x3(c,X1[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(t.transform||(o||n?r.transform=bA(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}const SA={offset:"stroke-dashoffset",array:"stroke-dasharray"},_A={offset:"strokeDashoffset",array:"strokeDasharray"};function jA(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?SA:_A;e[s.offset]=at.transform(-r);const o=at.transform(t),a=at.transform(n);e[s.array]=`${o} ${a}`}function Ay(e,t,n){return typeof e=="string"?e:at.transform(t+n*e)}function kA(e,t,n){const r=Ay(t,e.x,e.width),i=Ay(n,e.y,e.height);return`${r} ${i}`}function Z1(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,f){if(Q1(e,c,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g,dimensions:b}=e;m.transform&&(b&&(g.transform=m.transform),delete m.transform),b&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=kA(b,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&jA(m,o,a,l,!1)}const ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),b3=()=>({...ev(),attrs:{}}),tv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function S3(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const _3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function j3(e,t,n,r){S3(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(_3.has(i)?i:H1(i),t.attrs[i])}const Nf={};function NA(e){Object.assign(Nf,e)}function k3(e,{layout:t,layoutId:n}){return Fa.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Nf[e]||e==="opacity")}function nv(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(dr(i[o])||t.style&&dr(t.style[o])||k3(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function N3(e,t,n){const r=nv(e,t,n);for(const i in e)if(dr(e[i])||dr(t[i])){const s=dc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function AA(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Cy=["x","y","width","height","cx","cy","r"],CA={useVisualState:v3({scrapeMotionValuesFromProps:N3,createRenderState:b3,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in i)if(Fa.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<Cy.length;a++){const l=Cy[a];e[l]!==t[l]&&(o=!0)}o&&tn.read(()=>{AA(n,r),tn.render(()=>{Z1(r,i,tv(n.tagName),e.transformTemplate),j3(n,r)})})}})},PA={useVisualState:v3({scrapeMotionValuesFromProps:nv,createRenderState:ev})};function A3(e,t,n){for(const r in t)!dr(t[r])&&!k3(r,n)&&(e[r]=t[r])}function EA({transformTemplate:e},t){return T.useMemo(()=>{const n=ev();return Q1(n,t,e),Object.assign({},n.vars,n.style)},[t])}function LA(e,t){const n=e.style||{},r={};return A3(r,n,e),Object.assign(r,EA(e,t)),r}function TA(e,t){const n={},r=LA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function FA(e,t,n,r){const i=T.useMemo(()=>{const s=b3();return Z1(s,t,tv(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};A3(s,e.style,e),i.style={...s,...i.style}}return i}function IA(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(K1(n)?FA:TA)(r,s,o,n),c=J6(r,typeof n=="string",e),h=n!==T.Fragment?{...c,...l,ref:i}:{},{children:f}=r,m=T.useMemo(()=>dr(f)?f.get():f,[f]);return T.createElement(n,{...h,children:m})}}function RA(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...K1(r)?CA:PA,preloadedFeatures:e,useRender:IA(i),createVisualElement:t,Component:r};return iA(o)}}function C3(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function op(e,t,n){const r=e.getProps();return J1(r,t,n!==void 0?n:r.custom,e)}const OA=q1(()=>window.ScrollTimeline!==void 0);class DA{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(OA()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class MA extends DA{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function rv(e,t){return e?e[t]||e.default||e:void 0}const eg=2e4;function P3(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<eg;)t+=n,r=e.next(t);return t>=eg?1/0:t}function iv(e){return typeof e=="function"}function Py(e,t){e.timeline=t,e.onfinish=null}const sv=e=>Array.isArray(e)&&typeof e[0]=="number",BA={linearEasing:void 0};function UA(e,t){const n=q1(e);return()=>{var r;return(r=BA[t])!==null&&r!==void 0?r:n()}}const Af=UA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),E3=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(tc(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function L3(e){return!!(typeof e=="function"&&Af()||!e||typeof e=="string"&&(e in tg||Af())||sv(e)||Array.isArray(e)&&e.every(L3))}const uu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,tg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uu([0,.65,.55,1]),circOut:uu([.55,0,1,.45]),backIn:uu([.31,.01,.66,-.59]),backOut:uu([.33,1.53,.69,.99])};function T3(e,t){if(e)return typeof e=="function"&&Af()?E3(e,t):sv(e)?uu(e):Array.isArray(e)?e.map(n=>T3(n,t)||tg.easeOut):tg[e]}const Ui={x:!1,y:!1};function F3(){return Ui.x||Ui.y}function zA(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;t&&(i=t.current);const s=(r=n==null?void 0:n[e])!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function I3(e,t){const n=zA(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Ey(e){return t=>{t.pointerType==="touch"||F3()||e(t)}}function $A(e,t,n={}){const[r,i,s]=I3(e,n),o=Ey(a=>{const{target:l}=a,c=t(a);if(typeof c!="function"||!l)return;const h=Ey(f=>{c(f),l.removeEventListener("pointerleave",h)});l.addEventListener("pointerleave",h,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const R3=(e,t)=>t?e===t?!0:R3(e,t.parentElement):!1,ov=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,qA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function VA(e){return qA.has(e.tagName)||e.tabIndex!==-1}const du=new WeakSet;function Ly(e){return t=>{t.key==="Enter"&&e(t)}}function Nm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const WA=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Ly(()=>{if(du.has(n))return;Nm(n,"down");const i=Ly(()=>{Nm(n,"up")}),s=()=>Nm(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Ty(e){return ov(e)&&!F3()}function HA(e,t,n={}){const[r,i,s]=I3(e,n),o=a=>{const l=a.currentTarget;if(!Ty(a)||du.has(l))return;du.add(l);const c=t(a),h=(g,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!Ty(g)||!du.has(l))&&(du.delete(l),typeof c=="function"&&c(g,{success:b}))},f=g=>{h(g,n.useGlobalTarget||R3(l,g.target))},m=g=>{h(g,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",m,i)};return r.forEach(a=>{!VA(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>WA(c,i),i)}),s}function GA(e){return e==="x"||e==="y"?Ui[e]?null:(Ui[e]=!0,()=>{Ui[e]=!1}):Ui.x||Ui.y?null:(Ui.x=Ui.y=!0,()=>{Ui.x=Ui.y=!1})}const O3=new Set(["width","height","top","left","right","bottom",...dc]);let Wh;function KA(){Wh=void 0}const hs={now:()=>(Wh===void 0&&hs.set(Kn.isProcessing||q6.useManualTiming?Kn.timestamp:performance.now()),Wh),set:e=>{Wh=e,queueMicrotask(KA)}};function av(e,t){e.indexOf(t)===-1&&e.push(t)}function lv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class cv{constructor(){this.subscriptions=[]}add(t){return av(this.subscriptions,t),()=>lv(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function D3(e,t){return t?e*(1e3/t):0}const Fy=30,JA=e=>!isNaN(parseFloat(e));class YA{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=hs.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=hs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=JA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new cv);const r=this.events[t].add(n);return t==="change"?()=>{r(),tn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=hs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Fy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Fy);return D3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yu(e,t){return new YA(e,t)}function XA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Yu(n))}function QA(e,t){const n=op(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=uA(s[o]);XA(e,o,a)}}function ZA(e){return!!(dr(e)&&e.add)}function ng(e,t){const n=e.getValue("willChange");if(ZA(n))return n.add(t)}function M3(e){return e.props[p3]}const B3=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,eC=1e-7,tC=12;function nC(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=B3(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>eC&&++a<tC);return o}function ud(e,t,n,r){if(e===t&&n===r)return Zr;const i=s=>nC(s,0,1,e,n);return s=>s===0||s===1?s:B3(i(s),t,r)}const U3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,z3=e=>t=>1-e(1-t),$3=ud(.33,1.53,.69,.99),uv=z3($3),q3=U3(uv),V3=e=>(e*=2)<1?.5*uv(e):.5*(2-Math.pow(2,-10*(e-1))),dv=e=>1-Math.sin(Math.acos(e)),W3=z3(dv),H3=U3(dv),G3=e=>/^0[^.\s]+$/u.test(e);function rC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||G3(e):!0}const _u=e=>Math.round(e*1e5)/1e5,hv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iC(e){return e==null}const sC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fv=(e,t)=>n=>!!(typeof n=="string"&&sC.test(n)&&n.startsWith(e)||t&&!iC(n)&&Object.prototype.hasOwnProperty.call(n,t)),K3=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(hv);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},oC=e=>Ws(0,255,e),Am={...hc,transform:e=>Math.round(oC(e))},ba={test:fv("rgb","red"),parse:K3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Am.transform(e)+", "+Am.transform(t)+", "+Am.transform(n)+", "+_u(Ju.transform(r))+")"};function aC(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const rg={test:fv("#"),parse:aC,transform:ba.transform},Tl={test:fv("hsl","hue"),parse:K3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ds.transform(_u(t))+", "+ds.transform(_u(n))+", "+_u(Ju.transform(r))+")"},lr={test:e=>ba.test(e)||rg.test(e)||Tl.test(e),parse:e=>ba.test(e)?ba.parse(e):Tl.test(e)?Tl.parse(e):rg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ba.transform(e):Tl.transform(e)},lC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cC(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(hv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(lC))===null||n===void 0?void 0:n.length)||0)>0}const J3="number",Y3="color",uC="var",dC="var(",Iy="${}",hC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(hC,l=>(lr.test(l)?(r.color.push(s),i.push(Y3),n.push(lr.parse(l))):l.startsWith(dC)?(r.var.push(s),i.push(uC),n.push(l)):(r.number.push(s),i.push(J3),n.push(parseFloat(l))),++s,Iy)).split(Iy);return{values:n,split:a,indexes:r,types:i}}function X3(e){return Xu(e).values}function Q3(e){const{split:t,types:n}=Xu(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===J3?s+=_u(i[o]):a===Y3?s+=lr.transform(i[o]):s+=i[o]}return s}}const fC=e=>typeof e=="number"?0:e;function pC(e){const t=X3(e);return Q3(e)(t.map(fC))}const Uo={test:cC,parse:X3,createTransformer:Q3,getAnimatableNone:pC},mC=new Set(["brightness","contrast","saturate","opacity"]);function gC(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(hv)||[];if(!r)return e;const i=n.replace(r,"");let s=mC.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const vC=/\b([a-z-]*)\(.*?\)/gu,ig={...Uo,getAnimatableNone:e=>{const t=e.match(vC);return t?t.map(gC).join(" "):e}},yC={...X1,color:lr,backgroundColor:lr,outlineColor:lr,fill:lr,stroke:lr,borderColor:lr,borderTopColor:lr,borderRightColor:lr,borderBottomColor:lr,borderLeftColor:lr,filter:ig,WebkitFilter:ig},pv=e=>yC[e];function Z3(e,t){let n=pv(e);return n!==ig&&(n=Uo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const wC=new Set(["auto","none","0"]);function xC(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!wC.has(s)&&Xu(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=Z3(n,i)}const Ry=e=>e===hc||e===at,Oy=(e,t)=>parseFloat(e.split(", ")[t]),Dy=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Oy(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?Oy(s[1],e):0}},bC=new Set(["x","y","z"]),SC=dc.filter(e=>!bC.has(e));function _C(e){const t=[];return SC.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const rc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Dy(4,13),y:Dy(5,14)};rc.translateX=rc.x;rc.translateY=rc.y;const ja=new Set;let sg=!1,og=!1;function eS(){if(og){const e=Array.from(ja).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=_C(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}og=!1,sg=!1,ja.forEach(e=>e.complete()),ja.clear()}function tS(){ja.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(og=!0)})}function jC(){tS(),eS()}class mv{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ja.add(this),sg||(sg=!0,tn.read(tS),tn.resolveKeyframes(eS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ja.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ja.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const nS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),kC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function NC(e){const t=kC.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function rS(e,t,n=1){const[r,i]=NC(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return nS(o)?parseFloat(o):o}return Y1(i)?rS(i,t,n+1):i}const iS=e=>t=>t.test(e),AC={test:e=>e==="auto",parse:e=>e},sS=[hc,at,ds,wo,gA,mA,AC],My=e=>sS.find(iS(e));class oS extends mv{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Y1(c))){const h=rS(c,n.current);h!==void 0&&(t[l]=h),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!O3.has(r)||t.length!==2)return;const[i,s]=t,o=My(i),a=My(s);if(o!==a)if(Ry(o)&&Ry(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)rC(t[i])&&r.push(i);r.length&&xC(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=rc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const By=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Uo.test(e)||e==="0")&&!e.startsWith("url("));function CC(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function PC(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=By(i,t),a=By(s,t);return!o||!a?!1:CC(e)||(n==="spring"||iv(n))&&r}const EC=e=>e!==null;function ap(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(EC),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const LC=40;class aS{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=hs.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>LC?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&jC(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=hs.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!PC(t,r,i,s))if(o)this.options.duration=0;else{l&&l(ap(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,n);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const an=(e,t,n)=>e+(t-e)*n;function Cm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function TC({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Cm(l,a,e+1/3),s=Cm(l,a,e),o=Cm(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Cf(e,t){return n=>n>0?t:e}const Pm=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},FC=[rg,ba,Tl],IC=e=>FC.find(t=>t.test(e));function Uy(e){const t=IC(e);if(!t)return!1;let n=t.parse(e);return t===Tl&&(n=TC(n)),n}const zy=(e,t)=>{const n=Uy(e),r=Uy(t);if(!n||!r)return Cf(e,t);const i={...n};return s=>(i.red=Pm(n.red,r.red,s),i.green=Pm(n.green,r.green,s),i.blue=Pm(n.blue,r.blue,s),i.alpha=an(n.alpha,r.alpha,s),ba.transform(i))},RC=(e,t)=>n=>t(e(n)),dd=(...e)=>e.reduce(RC),ag=new Set(["none","hidden"]);function OC(e,t){return ag.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function DC(e,t){return n=>an(e,t,n)}function gv(e){return typeof e=="number"?DC:typeof e=="string"?Y1(e)?Cf:lr.test(e)?zy:UC:Array.isArray(e)?lS:typeof e=="object"?lr.test(e)?zy:MC:Cf}function lS(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>gv(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function MC(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=gv(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function BC(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const UC=(e,t)=>{const n=Uo.createTransformer(t),r=Xu(e),i=Xu(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ag.has(e)&&!i.values.length||ag.has(t)&&!r.values.length?OC(e,t):dd(lS(BC(r,i),i.values),n):Cf(e,t)};function cS(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?an(e,t,n):gv(e)(e,t)}const zC=5;function uS(e,t,n){const r=Math.max(t-zC,0);return D3(n-e(r),t-r)}const mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Em=.001;function $C({duration:e=mn.duration,bounce:t=mn.bounce,velocity:n=mn.velocity,mass:r=mn.mass}){let i,s,o=1-t;o=Ws(mn.minDamping,mn.maxDamping,o),e=Ws(mn.minDuration,mn.maxDuration,Bs(e)),o<1?(i=c=>{const h=c*o,f=h*e,m=h-n,g=lg(c,o),b=Math.exp(-f);return Em-m/g*b},s=c=>{const f=c*o*e,m=f*n+n,g=Math.pow(o,2)*Math.pow(c,2)*e,b=Math.exp(-f),S=lg(Math.pow(c,2),o);return(-i(c)+Em>0?-1:1)*((m-g)*b)/S}):(i=c=>{const h=Math.exp(-c*e),f=(c-n)*e+1;return-Em+h*f},s=c=>{const h=Math.exp(-c*e),f=(n-c)*(e*e);return h*f});const a=5/e,l=VC(i,s,a);if(e=Ms(e),isNaN(l))return{stiffness:mn.stiffness,damping:mn.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const qC=12;function VC(e,t,n){let r=n;for(let i=1;i<qC;i++)r=r-e(r)/t(r);return r}function lg(e,t){return e*Math.sqrt(1-t*t)}const WC=["duration","bounce"],HC=["stiffness","damping","mass"];function $y(e,t){return t.some(n=>e[n]!==void 0)}function GC(e){let t={velocity:mn.velocity,stiffness:mn.stiffness,damping:mn.damping,mass:mn.mass,isResolvedFromDuration:!1,...e};if(!$y(e,HC)&&$y(e,WC))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ws(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:mn.mass,stiffness:i,damping:s}}else{const n=$C(e);t={...t,...n,mass:mn.mass},t.isResolvedFromDuration=!0}return t}function dS(e=mn.visualDuration,t=mn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:f,velocity:m,isResolvedFromDuration:g}=GC({...n,velocity:-Bs(n.velocity||0)}),b=m||0,S=c/(2*Math.sqrt(l*h)),k=o-s,y=Bs(Math.sqrt(l/h)),x=Math.abs(k)<5;r||(r=x?mn.restSpeed.granular:mn.restSpeed.default),i||(i=x?mn.restDelta.granular:mn.restDelta.default);let _;if(S<1){const O=lg(y,S);_=M=>{const B=Math.exp(-S*y*M);return o-B*((b+S*y*k)/O*Math.sin(O*M)+k*Math.cos(O*M))}}else if(S===1)_=O=>o-Math.exp(-y*O)*(k+(b+y*k)*O);else{const O=y*Math.sqrt(S*S-1);_=M=>{const B=Math.exp(-S*y*M),L=Math.min(O*M,300);return o-B*((b+S*y*k)*Math.sinh(L)+O*k*Math.cosh(L))/O}}const E={calculatedDuration:g&&f||null,next:O=>{const M=_(O);if(g)a.done=O>=f;else{let B=0;S<1&&(B=O===0?Ms(b):uS(_,O,M));const L=Math.abs(B)<=r,V=Math.abs(o-M)<=i;a.done=L&&V}return a.value=a.done?o:M,a},toString:()=>{const O=Math.min(P3(E),eg),M=E3(B=>E.next(O*B).value,O,30);return O+"ms "+M}};return E}function qy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const f=e[0],m={done:!1,value:f},g=L=>a!==void 0&&L<a||l!==void 0&&L>l,b=L=>a===void 0?l:l===void 0||Math.abs(a-L)<Math.abs(l-L)?a:l;let S=n*t;const k=f+S,y=o===void 0?k:o(k);y!==k&&(S=y-f);const x=L=>-S*Math.exp(-L/r),_=L=>y+x(L),E=L=>{const V=x(L),H=_(L);m.done=Math.abs(V)<=c,m.value=m.done?y:H};let O,M;const B=L=>{g(m.value)&&(O=L,M=dS({keyframes:[m.value,b(m.value)],velocity:uS(_,L,m.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return B(0),{calculatedDuration:null,next:L=>{let V=!1;return!M&&O===void 0&&(V=!0,E(L),B(L)),O!==void 0&&L>=O?M.next(L-O):(!V&&E(L),m)}}}const KC=ud(.42,0,1,1),JC=ud(0,0,.58,1),hS=ud(.42,0,.58,1),YC=e=>Array.isArray(e)&&typeof e[0]!="number",XC={linear:Zr,easeIn:KC,easeInOut:hS,easeOut:JC,circIn:dv,circInOut:H3,circOut:W3,backIn:uv,backInOut:q3,backOut:$3,anticipate:V3},Vy=e=>{if(sv(e)){c3(e.length===4);const[t,n,r,i]=e;return ud(t,n,r,i)}else if(typeof e=="string")return XC[e];return e};function QC(e,t,n){const r=[],i=n||cS,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Zr:t;a=dd(l,a)}r.push(a)}return r}function ZC(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(c3(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=QC(t,r,i),l=a.length,c=h=>{if(o&&h<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(h<e[f+1]);f++);const m=tc(e[f],e[f+1],h);return a[f](m)};return n?h=>c(Ws(e[0],e[s-1],h)):c}function eP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=tc(0,t,r);e.push(an(n,1,i))}}function tP(e){const t=[0];return eP(t,e.length-1),t}function nP(e,t){return e.map(n=>n*t)}function rP(e,t){return e.map(()=>t||hS).splice(0,e.length-1)}function Pf({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=YC(r)?r.map(Vy):Vy(r),s={done:!1,value:t[0]},o=nP(n&&n.length===t.length?n:tP(t),e),a=ZC(o,t,{ease:Array.isArray(i)?i:rP(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const iP=e=>{const t=({timestamp:n})=>e(n);return{start:()=>tn.update(t,!0),stop:()=>Bo(t),now:()=>Kn.isProcessing?Kn.timestamp:hs.now()}},sP={decay:qy,inertia:qy,tween:Pf,keyframes:Pf,spring:dS},oP=e=>e/100;class vv extends aS{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||mv,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=iv(n)?n:sP[n]||Pf;let l,c;a!==Pf&&typeof t[0]!="number"&&(l=dd(oP,cS(t[0],t[1])),t=[0,100]);const h=a({...this.options,keyframes:t});s==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=P3(h));const{calculatedDuration:f}=h,m=f+i,g=m*(r+1)-i;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:m,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:L}=this.options;return{done:!0,value:L[L.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:m,repeat:g,repeatType:b,repeatDelay:S,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-m*(this.speed>=0?1:-1),x=this.speed>=0?y<0:y>h;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let _=this.currentTime,E=s;if(g){const L=Math.min(this.currentTime,h)/f;let V=Math.floor(L),H=L%1;!H&&L>=1&&(H=1),H===1&&V--,V=Math.min(V,g+1),!!(V%2)&&(b==="reverse"?(H=1-H,S&&(H-=S/f)):b==="mirror"&&(E=o)),_=Ws(0,1,H)*f}const O=x?{done:!1,value:l[0]}:E.next(_);a&&(O.value=a(O.value));let{done:M}=O;!x&&c!==null&&(M=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return B&&i!==void 0&&(O.value=ap(l,this.options,i)),k&&k(O.value),B&&this.finish(),O}get duration(){const{resolved:t}=this;return t?Bs(t.calculatedDuration):0}get time(){return Bs(this.currentTime)}set time(t){t=Ms(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Bs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=iP,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const aP=new Set(["opacity","clipPath","filter","transform"]);function lP(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const h=T3(a,i);return Array.isArray(h)&&(c.easing=h),e.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const cP=q1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ef=10,uP=2e4;function dP(e){return iv(e.type)||e.type==="spring"||!L3(e.ease)}function hP(e,t){const n=new vv({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<uP;)r=n.sample(s),i.push(r.value),s+=Ef;return{times:void 0,keyframes:i,duration:s-Ef,ease:"linear"}}const fS={anticipate:V3,backInOut:q3,circInOut:H3};function fP(e){return e in fS}class Wy extends aS{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new oS(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Af()&&fP(s)&&(s=fS[s]),dP(this.options)){const{onComplete:f,onUpdate:m,motionValue:g,element:b,...S}=this.options,k=hP(t,S);t=k.keyframes,t.length===1&&(t[1]=t[0]),r=k.duration,i=k.times,s=k.ease,o="keyframes"}const h=lP(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:s});return h.startTime=c??this.calcStartTime(),this.pendingTimeline?(Py(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;a.set(ap(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Bs(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Bs(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ms(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Zr;const{animation:r}=n;Py(r,t)}return Zr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:f,element:m,...g}=this.options,b=new vv({...g,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),S=Ms(this.time);c.setWithVelocity(b.sample(S-Ef).value,b.sample(S).value,Ef)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return cP()&&r&&aP.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const pP={type:"spring",stiffness:500,damping:25,restSpeed:10},mP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gP={type:"keyframes",duration:.8},vP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yP=(e,{keyframes:t})=>t.length>2?gP:Fa.has(e)?e.startsWith("scale")?mP(t[1]):pP:vP;function wP({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const yv=(e,t,n,r={},i,s)=>o=>{const a=rv(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ms(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:m=>{t.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};wP(a)||(h={...h,...yP(e,h)}),h.duration&&(h.duration=Ms(h.duration)),h.repeatDelay&&(h.repeatDelay=Ms(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!s&&t.get()!==void 0){const m=ap(h.keyframes,a);if(m!==void 0)return tn.update(()=>{h.onUpdate(m),h.onComplete()}),new MA([])}return!s&&Wy.supports(h)?new Wy(h):new vv(h)};function xP({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function pS(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const c=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in l){const m=e.getValue(f,(s=e.latestValues[f])!==null&&s!==void 0?s:null),g=l[f];if(g===void 0||h&&xP(h,f))continue;const b={delay:n,...rv(o||{},f)};let S=!1;if(window.MotionHandoffAnimation){const y=M3(e);if(y){const x=window.MotionHandoffAnimation(y,f,tn);x!==null&&(b.startTime=x,S=!0)}}ng(e,f),m.start(yv(f,m,g,e.shouldReduceMotion&&O3.has(f)?{type:!1}:b,e,S));const k=m.animation;k&&c.push(k)}return a&&Promise.all(c).then(()=>{tn.update(()=>{a&&QA(e,a)})}),c}function cg(e,t,n={}){var r;const i=op(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(pS(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=s;return bP(e,t,h+c,f,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function bP(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(SP).forEach((c,h)=>{c.notify("AnimationStart",t),o.push(cg(c,t,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function SP(e,t){return e.sortNodePosition(t)}function _P(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>cg(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=cg(e,t,n);else{const i=typeof t=="function"?op(e,t,n.custom):t;r=Promise.all(pS(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const jP=W1.length;function mS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?mS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<jP;n++){const r=W1[n],i=e.props[r];(Ku(i)||i===!1)&&(t[r]=i)}return t}const kP=[...V1].reverse(),NP=V1.length;function AP(e){return t=>Promise.all(t.map(({animation:n,options:r})=>_P(e,n,r)))}function CP(e){let t=AP(e),n=Hy(),r=!0;const i=l=>(c,h)=>{var f;const m=op(e,h,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(m){const{transition:g,transitionEnd:b,...S}=m;c={...c,...S,...b}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,h=mS(e.parent)||{},f=[],m=new Set;let g={},b=1/0;for(let k=0;k<NP;k++){const y=kP[k],x=n[y],_=c[y]!==void 0?c[y]:h[y],E=Ku(_),O=y===l?x.isActive:null;O===!1&&(b=k);let M=_===h[y]&&_!==c[y]&&E;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),x.protectedKeys={...g},!x.isActive&&O===null||!_&&!x.prevProp||ip(_)||typeof _=="boolean")continue;const B=PP(x.prevProp,_);let L=B||y===l&&x.isActive&&!M&&E||k>b&&E,V=!1;const H=Array.isArray(_)?_:[_];let R=H.reduce(i(y),{});O===!1&&(R={});const{prevResolvedValues:P={}}=x,J={...P,...R},W=ae=>{L=!0,m.has(ae)&&(V=!0,m.delete(ae)),x.needsAnimating[ae]=!0;const K=e.getValue(ae);K&&(K.liveStyle=!1)};for(const ae in J){const K=R[ae],ee=P[ae];if(g.hasOwnProperty(ae))continue;let Q=!1;Z0(K)&&Z0(ee)?Q=!C3(K,ee):Q=K!==ee,Q?K!=null?W(ae):m.add(ae):K!==void 0&&m.has(ae)?W(ae):x.protectedKeys[ae]=!0}x.prevProp=_,x.prevResolvedValues=R,x.isActive&&(g={...g,...R}),r&&e.blockInitialAnimation&&(L=!1),L&&(!(M&&B)||V)&&f.push(...H.map(ae=>({animation:ae,options:{type:y}})))}if(m.size){const k={};m.forEach(y=>{const x=e.getBaseTarget(y),_=e.getValue(y);_&&(_.liveStyle=!0),k[y]=x??null}),f.push({animation:k})}let S=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(f):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const f=o(l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Hy(),r=!0}}}function PP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!C3(t,e):!1}function oa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hy(){return{animate:oa(!0),whileInView:oa(),whileHover:oa(),whileTap:oa(),whileDrag:oa(),whileFocus:oa(),exit:oa()}}class Go{constructor(t){this.isMounted=!1,this.node=t}update(){}}class EP extends Go{constructor(t){super(t),t.animationState||(t.animationState=CP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ip(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let LP=0;class TP extends Go{constructor(){super(...arguments),this.id=LP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const FP={animation:{Feature:EP},exit:{Feature:TP}};function Qu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function hd(e){return{point:{x:e.pageX,y:e.pageY}}}const IP=e=>t=>ov(t)&&e(t,hd(t));function ju(e,t,n,r){return Qu(e,t,IP(n),r)}const Gy=(e,t)=>Math.abs(e-t);function RP(e,t){const n=Gy(e.x,t.x),r=Gy(e.y,t.y);return Math.sqrt(n**2+r**2)}class gS{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Tm(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=RP(f.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:b}=f,{timestamp:S}=Kn;this.history.push({...b,timestamp:S});const{onStart:k,onMove:y}=this.handlers;m||(k&&k(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Lm(m,this.transformPagePoint),tn.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Tm(f.type==="pointercancel"?this.lastMoveEventInfo:Lm(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,k),b&&b(f,k)},!ov(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=hd(t),a=Lm(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Kn;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(t,Tm(a,this.history)),this.removeListeners=dd(ju(this.contextWindow,"pointermove",this.handlePointerMove),ju(this.contextWindow,"pointerup",this.handlePointerUp),ju(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Bo(this.updatePoint)}}function Lm(e,t){return t?{point:t(e.point)}:e}function Ky(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Tm({point:e},t){return{point:e,delta:Ky(e,vS(t)),offset:Ky(e,OP(t)),velocity:DP(t,.1)}}function OP(e){return e[0]}function vS(e){return e[e.length-1]}function DP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=vS(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ms(t)));)n--;if(!r)return{x:0,y:0};const s=Bs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const yS=1e-4,MP=1-yS,BP=1+yS,wS=.01,UP=0-wS,zP=0+wS;function ti(e){return e.max-e.min}function $P(e,t,n){return Math.abs(e-t)<=n}function Jy(e,t,n,r=.5){e.origin=r,e.originPoint=an(t.min,t.max,e.origin),e.scale=ti(n)/ti(t),e.translate=an(n.min,n.max,e.origin)-e.originPoint,(e.scale>=MP&&e.scale<=BP||isNaN(e.scale))&&(e.scale=1),(e.translate>=UP&&e.translate<=zP||isNaN(e.translate))&&(e.translate=0)}function ku(e,t,n,r){Jy(e.x,t.x,n.x,r?r.originX:void 0),Jy(e.y,t.y,n.y,r?r.originY:void 0)}function Yy(e,t,n){e.min=n.min+t.min,e.max=e.min+ti(t)}function qP(e,t,n){Yy(e.x,t.x,n.x),Yy(e.y,t.y,n.y)}function Xy(e,t,n){e.min=t.min-n.min,e.max=e.min+ti(t)}function Nu(e,t,n){Xy(e.x,t.x,n.x),Xy(e.y,t.y,n.y)}function VP(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?an(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?an(n,e,r.max):Math.min(e,n)),e}function Qy(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function WP(e,{top:t,left:n,bottom:r,right:i}){return{x:Qy(e.x,n,i),y:Qy(e.y,t,r)}}function Zy(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function HP(e,t){return{x:Zy(e.x,t.x),y:Zy(e.y,t.y)}}function GP(e,t){let n=.5;const r=ti(e),i=ti(t);return i>r?n=tc(t.min,t.max-r,e.min):r>i&&(n=tc(e.min,e.max-i,t.min)),Ws(0,1,n)}function KP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ug=.35;function JP(e=ug){return e===!1?e=0:e===!0&&(e=ug),{x:e5(e,"left","right"),y:e5(e,"top","bottom")}}function e5(e,t,n){return{min:t5(e,t),max:t5(e,n)}}function t5(e,t){return typeof e=="number"?e:e[t]||0}const n5=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fl=()=>({x:n5(),y:n5()}),r5=()=>({min:0,max:0}),xn=()=>({x:r5(),y:r5()});function wi(e){return[e("x"),e("y")]}function xS({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function YP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function XP(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Fm(e){return e===void 0||e===1}function dg({scale:e,scaleX:t,scaleY:n}){return!Fm(e)||!Fm(t)||!Fm(n)}function ha(e){return dg(e)||bS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bS(e){return i5(e.x)||i5(e.y)}function i5(e){return e&&e!=="0%"}function Lf(e,t,n){const r=e-n,i=t*r;return n+i}function s5(e,t,n,r,i){return i!==void 0&&(e=Lf(e,i,r)),Lf(e,n,r)+t}function hg(e,t=0,n=1,r,i){e.min=s5(e.min,t,n,r,i),e.max=s5(e.max,t,n,r,i)}function SS(e,{x:t,y:n}){hg(e.x,t.translate,t.scale,t.originPoint),hg(e.y,n.translate,n.scale,n.originPoint)}const o5=.999999999999,a5=1.0000000000001;function QP(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Rl(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,SS(e,o)),r&&ha(s.latestValues)&&Rl(e,s.latestValues))}t.x<a5&&t.x>o5&&(t.x=1),t.y<a5&&t.y>o5&&(t.y=1)}function Il(e,t){e.min=e.min+t,e.max=e.max+t}function l5(e,t,n,r,i=.5){const s=an(e.min,e.max,i);hg(e,t,n,s,r)}function Rl(e,t){l5(e.x,t.x,t.scaleX,t.scale,t.originX),l5(e.y,t.y,t.scaleY,t.scale,t.originY)}function _S(e,t){return xS(XP(e.getBoundingClientRect(),t))}function ZP(e,t,n){const r=_S(e,n),{scroll:i}=t;return i&&(Il(r.x,i.offset.x),Il(r.y,i.offset.y)),r}const jS=({current:e})=>e?e.ownerDocument.defaultView:null,eE=new WeakMap;class tE{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hd(h).point)},s=(h,f)=>{const{drag:m,dragPropagation:g,onDragStart:b}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GA(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wi(k=>{let y=this.getAxisMotionValue(k).get()||0;if(ds.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const _=x.layout.layoutBox[k];_&&(y=ti(_)*(parseFloat(y)/100))}}this.originPoint[k]=y}),b&&tn.postRender(()=>b(h,f)),ng(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:b,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:k}=f;if(g&&this.currentDirection===null){this.currentDirection=nE(k),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,k),this.updateAxis("y",f.point,k),this.visualElement.render(),S&&S(h,f)},a=(h,f)=>this.stop(h,f),l=()=>wi(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new gS(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:jS(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&tn.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!yh(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=VP(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Ll(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=WP(i.layoutBox,n):this.constraints=!1,this.elastic=JP(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&wi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=KP(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ll(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=ZP(r,i.root,this.visualElement.getTransformPagePoint());let o=HP(i.layout.layoutBox,s);if(n){const a=n(YP(o));this.hasMutatedConstraints=!!a,a&&(o=xS(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=wi(h=>{if(!yh(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,b={type:"inertia",velocity:r?t[h]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,b)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ng(this.visualElement,t),r.start(yv(t,r,0,n,this.visualElement,!1))}stopAnimation(){wi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){wi(n=>{const{drag:r}=this.getProps();if(!yh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-an(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ll(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wi(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=GP({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wi(o=>{if(!yh(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(an(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;eE.set(this.visualElement,this);const t=this.visualElement.current,n=ju(t,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ll(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),tn.read(r);const o=Qu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(wi(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ug,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function yh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function nE(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class rE extends Go{constructor(t){super(t),this.removeGroupControls=Zr,this.removeListeners=Zr,this.controls=new tE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const c5=e=>(t,n)=>{e&&tn.postRender(()=>e(t,n))};class iE extends Go{constructor(){super(...arguments),this.removePointerDownListener=Zr}onPointerDown(t){this.session=new gS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:c5(t),onStart:c5(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&tn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=ju(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function u5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(at.test(e))e=parseFloat(e);else return e;const n=u5(e,t.target.x),r=u5(e,t.target.y);return`${n}% ${r}%`}},sE={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Uo.parse(e);if(i.length>5)return r;const s=Uo.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=an(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class oE extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;NA(aE),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Hh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||tn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),G1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function kS(e){const[t,n]=a3(),r=T.useContext(B1);return d.jsx(oE,{...e,layoutGroup:r,switchLayoutGroup:T.useContext(m3),isPresent:t,safeToRemove:n})}const aE={borderRadius:{...Zc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zc,borderTopRightRadius:Zc,borderBottomLeftRadius:Zc,borderBottomRightRadius:Zc,boxShadow:sE};function lE(e,t,n){const r=dr(e)?e:Yu(e);return r.start(yv("",r,t,n)),r.animation}function cE(e){return e instanceof SVGElement&&e.tagName!=="svg"}const uE=(e,t)=>e.depth-t.depth;class dE{constructor(){this.children=[],this.isDirty=!1}add(t){av(this.children,t),this.isDirty=!0}remove(t){lv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uE),this.isDirty=!1,this.children.forEach(t)}}function hE(e,t){const n=hs.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Bo(r),e(s-t))};return tn.read(r,!0),()=>Bo(r)}const NS=["TopLeft","TopRight","BottomLeft","BottomRight"],fE=NS.length,d5=e=>typeof e=="string"?parseFloat(e):e,h5=e=>typeof e=="number"||at.test(e);function pE(e,t,n,r,i,s){i?(e.opacity=an(0,n.opacity!==void 0?n.opacity:1,mE(r)),e.opacityExit=an(t.opacity!==void 0?t.opacity:1,0,gE(r))):s&&(e.opacity=an(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<fE;o++){const a=`border${NS[o]}Radius`;let l=f5(t,a),c=f5(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||h5(l)===h5(c)?(e[a]=Math.max(an(d5(l),d5(c),r),0),(ds.test(c)||ds.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=an(t.rotate||0,n.rotate||0,r))}function f5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const mE=AS(0,.5,W3),gE=AS(.5,.95,Zr);function AS(e,t,n){return r=>r<e?0:r>t?1:n(tc(e,t,r))}function p5(e,t){e.min=t.min,e.max=t.max}function yi(e,t){p5(e.x,t.x),p5(e.y,t.y)}function m5(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function g5(e,t,n,r,i){return e-=t,e=Lf(e,1/n,r),i!==void 0&&(e=Lf(e,1/i,r)),e}function vE(e,t=0,n=1,r=.5,i,s=e,o=e){if(ds.test(t)&&(t=parseFloat(t),t=an(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=an(s.min,s.max,r);e===s&&(a-=t),e.min=g5(e.min,t,n,a,i),e.max=g5(e.max,t,n,a,i)}function v5(e,t,[n,r,i],s,o){vE(e,t[n],t[r],t[i],t.scale,s,o)}const yE=["x","scaleX","originX"],wE=["y","scaleY","originY"];function y5(e,t,n,r){v5(e.x,t,yE,n?n.x:void 0,r?r.x:void 0),v5(e.y,t,wE,n?n.y:void 0,r?r.y:void 0)}function w5(e){return e.translate===0&&e.scale===1}function CS(e){return w5(e.x)&&w5(e.y)}function x5(e,t){return e.min===t.min&&e.max===t.max}function xE(e,t){return x5(e.x,t.x)&&x5(e.y,t.y)}function b5(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function PS(e,t){return b5(e.x,t.x)&&b5(e.y,t.y)}function S5(e){return ti(e.x)/ti(e.y)}function _5(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class bE{constructor(){this.members=[]}add(t){av(this.members,t),t.scheduleRender()}remove(t){if(lv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SE(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:m,skewX:g,skewY:b}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const fa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},hu=typeof window<"u"&&window.MotionDebug!==void 0,Im=["","X","Y","Z"],_E={visibility:"hidden"},j5=1e3;let jE=0;function Rm(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function ES(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=M3(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",tn,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&ES(r)}function LS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=jE++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,hu&&(fa.totalNodes=fa.resolvedTargetDeltas=fa.recalculatedProjection=0),this.nodes.forEach(AE),this.nodes.forEach(TE),this.nodes.forEach(FE),this.nodes.forEach(CE),hu&&window.MotionDebug.record(fa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new dE)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cE(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=hE(m,250),Hh.hasAnimatedSinceResize&&(Hh.hasAnimatedSinceResize=!1,this.nodes.forEach(N5))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||ME,{onLayoutAnimationStart:k,onLayoutAnimationComplete:y}=h.getProps(),x=!this.targetLayout||!PS(this.targetLayout,b)||g,_=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const E={...rv(S,"layout"),onPlay:k,onComplete:y};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else m||N5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Bo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IE),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ES(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k5);return}this.isUpdating||this.nodes.forEach(EE),this.isUpdating=!1,this.nodes.forEach(LE),this.nodes.forEach(kE),this.nodes.forEach(NE),this.clearAllSnapshots();const a=hs.now();Kn.delta=Ws(0,1e3/60,a-Kn.timestamp),Kn.timestamp=a,Kn.isProcessing=!0,km.update.process(Kn),km.preRender.process(Kn),km.render.process(Kn),Kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,G1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PE),this.sharedNodes.forEach(RE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!CS(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||ha(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),BE(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return xn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(UE))){const{scroll:h}=this.root;h&&(Il(l.x,h.offset.x),Il(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=xn();if(yi(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&yi(l,o),Il(l.x,f.offset.x),Il(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=xn();yi(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Rl(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ha(h.latestValues)&&Rl(l,h.latestValues)}return ha(this.latestValues)&&Rl(l,this.latestValues),l}removeTransform(o){const a=xn();yi(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ha(c.latestValues))continue;dg(c.latestValues)&&c.updateSnapshot();const h=xn(),f=c.measurePageBox();yi(h,f),y5(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return ha(this.latestValues)&&y5(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Kn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xn(),this.relativeTargetOrigin=xn(),Nu(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xn(),this.targetWithTransforms=xn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),SS(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xn(),this.relativeTargetOrigin=xn(),Nu(this.relativeTargetOrigin,this.target,g.target),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hu&&fa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dg(this.parent.latestValues)||bS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Kn.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;yi(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;QP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=xn());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m5(this.prevProjectionDelta.x,this.projectionDelta.x),m5(this.prevProjectionDelta.y,this.projectionDelta.y)),ku(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!_5(this.projectionDelta.x,this.prevProjectionDelta.x)||!_5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),hu&&fa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fl(),this.projectionDelta=Fl(),this.projectionDeltaWithTransform=Fl()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},f=Fl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=xn(),g=l?l.source:void 0,b=this.layout?this.layout.source:void 0,S=g!==b,k=this.getStack(),y=!k||k.members.length<=1,x=!!(S&&!y&&this.options.crossfade===!0&&!this.path.some(DE));this.animationProgress=0;let _;this.mixTargetDelta=E=>{const O=E/1e3;A5(f.x,o.x,O),A5(f.y,o.y,O),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nu(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OE(this.relativeTarget,this.relativeTargetOrigin,m,O),_&&xE(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=xn()),yi(_,this.relativeTarget)),S&&(this.animationValues=h,pE(h,c,this.latestValues,O,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Bo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tn.update(()=>{Hh.hasAnimatedSinceResize=!0,this.currentAnimation=lE(0,j5,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(j5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&TS(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||xn();const f=ti(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const m=ti(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}yi(a,l),Rl(a,h),ku(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new bE),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Rm("z",o,c,this.animationValues);for(let h=0;h<Im.length;h++)Rm(`rotate${Im[h]}`,o,c,this.animationValues),Rm(`skew${Im[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return _E;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Vh(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Vh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ha(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=SE(this.projectionDeltaWithTransform,this.treeScale,m),h&&(c.transform=h(m,c.transform));const{x:g,y:b}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in Nf){if(m[S]===void 0)continue;const{correct:k,applyTo:y}=Nf[S],x=c.transform==="none"?m[S]:k(m[S],f);if(y){const _=y.length;for(let E=0;E<_;E++)c[y[E]]=x}else c[S]=x}return this.options.layoutId&&(c.pointerEvents=f===this?Vh(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(k5),this.root.sharedNodes.clear()}}}function kE(e){e.updateLayout()}function NE(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?wi(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],g=ti(m);m.min=r[f].min,m.max=m.min+g}):TS(s,n.layoutBox,r)&&wi(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],g=ti(r[f]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const a=Fl();ku(a,r,n.layoutBox);const l=Fl();o?ku(l,e.applyTransform(i,!0),n.measuredBox):ku(l,r,n.layoutBox);const c=!CS(a);let h=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const b=xn();Nu(b,n.layoutBox,m.layoutBox);const S=xn();Nu(S,r,g.layoutBox),PS(b,S)||(h=!0),f.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=b,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function AE(e){hu&&fa.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function CE(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function PE(e){e.clearSnapshot()}function k5(e){e.clearMeasurements()}function EE(e){e.isLayoutDirty=!1}function LE(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function N5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function TE(e){e.resolveTargetDelta()}function FE(e){e.calcProjection()}function IE(e){e.resetSkewAndRotation()}function RE(e){e.removeLeadSnapshot()}function A5(e,t,n){e.translate=an(t.translate,0,n),e.scale=an(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function C5(e,t,n,r){e.min=an(t.min,n.min,r),e.max=an(t.max,n.max,r)}function OE(e,t,n,r){C5(e.x,t.x,n.x,r),C5(e.y,t.y,n.y,r)}function DE(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ME={duration:.45,ease:[.4,0,.1,1]},P5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),E5=P5("applewebkit/")&&!P5("chrome/")?Math.round:Zr;function L5(e){e.min=E5(e.min),e.max=E5(e.max)}function BE(e){L5(e.x),L5(e.y)}function TS(e,t,n){return e==="position"||e==="preserve-aspect"&&!$P(S5(t),S5(n),.2)}function UE(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const zE=LS({attachResizeListener:(e,t)=>Qu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Om={current:void 0},FS=LS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Om.current){const e=new zE({});e.mount(window),e.setOptions({layoutScroll:!0}),Om.current=e}return Om.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$E={pan:{Feature:iE},drag:{Feature:rE,ProjectionNode:FS,MeasureLayout:kS}};function T5(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&tn.postRender(()=>s(t,hd(t)))}class qE extends Go{mount(){const{current:t}=this.node;t&&(this.unmount=$A(t,n=>(T5(this.node,n,"Start"),r=>T5(this.node,r,"End"))))}unmount(){}}class VE extends Go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dd(Qu(this.node.current,"focus",()=>this.onFocus()),Qu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function F5(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&tn.postRender(()=>s(t,hd(t)))}class WE extends Go{mount(){const{current:t}=this.node;t&&(this.unmount=HA(t,n=>(F5(this.node,n,"Start"),(r,{success:i})=>F5(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fg=new WeakMap,Dm=new WeakMap,HE=e=>{const t=fg.get(e.target);t&&t(e)},GE=e=>{e.forEach(HE)};function KE({root:e,...t}){const n=e||document;Dm.has(n)||Dm.set(n,{});const r=Dm.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(GE,{root:e,...t})),r[i]}function JE(e,t,n){const r=KE(t);return fg.set(e,n),r.observe(e),()=>{fg.delete(e),r.unobserve(e)}}const YE={some:0,all:1};class XE extends Go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:YE[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=c?h:f;m&&m(l)};return JE(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(QE(t,n))&&this.startObserver()}unmount(){}}function QE({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ZE={inView:{Feature:XE},tap:{Feature:WE},focus:{Feature:VE},hover:{Feature:qE}},eL={layout:{ProjectionNode:FS,MeasureLayout:kS}},pg={current:null},IS={current:!1};function tL(){if(IS.current=!0,!!$1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pg.current=e.matches;e.addListener(t),t()}else pg.current=!1}const nL=[...sS,lr,Uo],rL=e=>nL.find(iS(e)),I5=new WeakMap;function iL(e,t,n){for(const r in t){const i=t[r],s=n[r];if(dr(i))e.addValue(r,i);else if(dr(s))e.addValue(r,Yu(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Yu(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const R5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sL{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=hs.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,tn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:h}=o;this.onUpdate=h,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=sp(n),this.isVariantNode=f3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const b=m[g];l[g]!==void 0&&dr(b)&&b.set(l[g],!1)}}mount(t){this.current=t,I5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),IS.current||tL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){I5.delete(this.current),this.projection&&this.projection.unmount(),Bo(this.notifyUpdate),Bo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Fa.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&tn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in nc){const n=nc[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<R5.length;r++){const i=R5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=iL(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Yu(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(nS(i)||G3(i))?i=parseFloat(i):!rL(i)&&Uo.test(n)&&(i=Z3(t,n)),this.setBaseTarget(t,dr(i)?i.get():i)),dr(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=J1(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!dr(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new cv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class RS extends sL{constructor(){super(...arguments),this.KeyframeResolver=oS}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;dr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function oL(e){return window.getComputedStyle(e)}class aL extends RS{constructor(){super(...arguments),this.type="html",this.renderInstance=S3}readValueFromInstance(t,n){if(Fa.has(n)){const r=pv(n);return r&&r.default||0}else{const r=oL(t),i=(w3(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return _S(t,n)}build(t,n,r){Q1(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return nv(t,n,r)}}class lL extends RS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Fa.has(n)){const r=pv(n);return r&&r.default||0}return n=_3.has(n)?n:H1(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return N3(t,n,r)}build(t,n,r){Z1(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){j3(t,n,r,i)}mount(t){this.isSVGTag=tv(t.tagName),super.mount(t)}}const cL=(e,t)=>K1(e)?new lL(t):new aL(t,{allowProjection:e!==T.Fragment}),uL=RA({...FP,...ZE,...$E,...eL},cL),Ie=Y6(uL);const dL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ps(()=>Promise.resolve().then(()=>fc),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class wv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class hL extends wv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class O5 extends wv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class D5 extends wv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var mg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(mg||(mg={}));var fL=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function l(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class pL{constructor(t,{headers:n={},customFetch:r,region:i=mg.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=dL(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return fL(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let h;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(a["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(a["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:h}).catch(S=>{throw new hL(S)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new O5(f);if(!f.ok)throw new D5(f);let g=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return g==="application/json"?b=yield f.json():g==="application/octet-stream"?b=yield f.blob():g==="text/event-stream"?b=f:g==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof D5||i instanceof O5?i.context:void 0}}})}}var Fr={},xv={},lp={},fd={},cp={},up={},mL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ic=mL();const gL=ic.fetch,OS=ic.fetch.bind(ic),DS=ic.Headers,vL=ic.Request,yL=ic.Response,fc=Object.freeze(Object.defineProperty({__proto__:null,Headers:DS,Request:vL,Response:yL,default:OS,fetch:gL},Symbol.toStringTag,{value:"Module"})),wL=U_(fc);var dp={};Object.defineProperty(dp,"__esModule",{value:!0});let xL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};dp.default=xL;var MS=ki&&ki.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(up,"__esModule",{value:!0});const bL=MS(wL),SL=MS(dp);let _L=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=bL.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,h=null,f=null,m=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=y:h=JSON.parse(y))}const S=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");S&&k&&k.length>1&&(f=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const S=await s.text();try{c=JSON.parse(S),Array.isArray(c)&&s.status===404&&(h=[],c=null,m=200,g="OK")}catch{s.status===404&&S===""?(m=204,g="No Content"):c={message:S}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,m=200,g="OK"),c&&this.shouldThrowOnError)throw new SL.default(c)}return{error:c,data:h,count:f,status:m,statusText:g}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};up.default=_L;var jL=ki&&ki.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cp,"__esModule",{value:!0});const kL=jL(up);let NL=class extends kL.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};cp.default=NL;var AL=ki&&ki.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fd,"__esModule",{value:!0});const CL=AL(cp);let PL=class extends CL.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};fd.default=PL;var EL=ki&&ki.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lp,"__esModule",{value:!0});const eu=EL(fd);let LL=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new eu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new eu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new eu.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new eu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new eu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};lp.default=LL;var hp={},fp={};Object.defineProperty(fp,"__esModule",{value:!0});fp.version=void 0;fp.version="0.0.0-automated";Object.defineProperty(hp,"__esModule",{value:!0});hp.DEFAULT_HEADERS=void 0;const TL=fp;hp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${TL.version}`};var BS=ki&&ki.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xv,"__esModule",{value:!0});const FL=BS(lp),IL=BS(fd),RL=hp;let OL=class US{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},RL.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new FL.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new US(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{a.searchParams.append(h,f)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new IL.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};xv.default=OL;var pc=ki&&ki.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.PostgrestError=Fr.PostgrestBuilder=Fr.PostgrestTransformBuilder=Fr.PostgrestFilterBuilder=Fr.PostgrestQueryBuilder=Fr.PostgrestClient=void 0;const zS=pc(xv);Fr.PostgrestClient=zS.default;const $S=pc(lp);Fr.PostgrestQueryBuilder=$S.default;const qS=pc(fd);Fr.PostgrestFilterBuilder=qS.default;const VS=pc(cp);Fr.PostgrestTransformBuilder=VS.default;const WS=pc(up);Fr.PostgrestBuilder=WS.default;const HS=pc(dp);Fr.PostgrestError=HS.default;var DL=Fr.default={PostgrestClient:zS.default,PostgrestQueryBuilder:$S.default,PostgrestFilterBuilder:qS.default,PostgrestTransformBuilder:VS.default,PostgrestBuilder:WS.default,PostgrestError:HS.default};const{PostgrestClient:ML,PostgrestQueryBuilder:EI,PostgrestFilterBuilder:LI,PostgrestTransformBuilder:TI,PostgrestBuilder:FI,PostgrestError:II}=DL;function BL(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const UL=BL(),zL="2.11.15",$L=`realtime-js/${zL}`,qL="1.0.0",GS=1e4,VL=1e3;var Au;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Au||(Au={}));var or;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(or||(or={}));var Vi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Vi||(Vi={}));var gg;(function(e){e.websocket="websocket"})(gg||(gg={}));var ga;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ga||(ga={}));class WL{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class KS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Jt||(Jt={}));const M5=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=HL(o,e,t,i),s),{})},HL=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?JS(s,o):vg(o)},JS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return YL(t,n)}switch(e){case Jt.bool:return GL(t);case Jt.float4:case Jt.float8:case Jt.int2:case Jt.int4:case Jt.int8:case Jt.numeric:case Jt.oid:return KL(t);case Jt.json:case Jt.jsonb:return JL(t);case Jt.timestamp:return XL(t);case Jt.abstime:case Jt.date:case Jt.daterange:case Jt.int4range:case Jt.int8range:case Jt.money:case Jt.reltime:case Jt.text:case Jt.time:case Jt.timestamptz:case Jt.timetz:case Jt.tsrange:case Jt.tstzrange:return vg(t);default:return vg(t)}},vg=e=>e,GL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},KL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},JL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},YL=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>JS(t,a))}return e},XL=e=>typeof e=="string"?e.replace(" ","T"):e,YS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Mm{constructor(t,n,r={},i=GS){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var B5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(B5||(B5={}));class Cu{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cu.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Cu.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Cu.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(c,h)=>{o[c]||(l[c]=h)}),this.map(o,(c,h)=>{const f=s[c];if(f){const m=h.map(k=>k.presence_ref),g=f.map(k=>k.presence_ref),b=h.filter(k=>g.indexOf(k.presence_ref)<0),S=f.filter(k=>m.indexOf(k.presence_ref)<0);b.length>0&&(a[c]=b),S.length>0&&(l[c]=S)}else a[c]=h}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const h=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),h.length>0){const f=t[a].map(g=>g.presence_ref),m=h.filter(g=>f.indexOf(g.presence_ref)<0);t[a].unshift(...m)}r(a,h,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const h=l.map(f=>f.presence_ref);c=c.filter(f=>h.indexOf(f.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var U5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(U5||(U5={}));var z5;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(z5||(z5={}));var Ls;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ls||(Ls={}));class bv{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Mm(this,Vi.join,this.params,this.timeout),this.rejoinTimer=new KS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=or.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Cu(this),this.broadcastEndpointURL=YS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==or.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(h=>t==null?void 0:t(Ls.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Ls.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var f;if(this.socket.setAuth(),h===void 0){t==null||t(Ls.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,b=[];for(let S=0;S<g;S++){const k=m[S],{filter:{event:y,schema:x,table:_,filter:E}}=k,O=h&&h[S];if(O&&O.event===y&&O.schema===x&&O.table===_&&O.filter===E)b.push(Object.assign(Object.assign({},k),{id:O.id}));else{this.unsubscribe(),this.state=or.errored,t==null||t(Ls.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Ls.SUBSCRIBED);return}}).receive("error",h=>{this.state=or.errored,t==null||t(Ls.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ls.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=or.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Mm(this,Vi.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Mm(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:h}=Vi;if(r&&[a,l,c,h].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var b,S,k;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((k=(S=g.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(g=>g.callback(m,r)):(s=this.bindings[o])===null||s===void 0||s.filter(g=>{var b,S,k,y,x,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const E=g.id,O=(b=g.filter)===null||b===void 0?void 0:b.event;return E&&((S=n.ids)===null||S===void 0?void 0:S.includes(E))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const E=(x=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return E==="*"||E===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:S,table:k,commit_timestamp:y,type:x,errors:_}=b;m=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:y,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(b))}g.callback(m,r)})}_isClosed(){return this.state===or.closed}_isJoined(){return this.state===or.joined}_isJoining(){return this.state===or.joining}_isLeaving(){return this.state===or.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&bv.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vi.close,{},t)}_onError(t){this._on(Vi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=or.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=M5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=M5(t.columns,t.old_record)),n}}const $5=()=>{},QL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ZL{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=GS,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$5,this.ref=0,this.logger=$5,this.conn=null,this.sendBuffer=[],this.serializer=new WL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>ps(()=>Promise.resolve().then(()=>fc),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${gg.websocket}`,this.httpEndpoint=YS(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new KS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=UL),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qL}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Au.connecting:return ga.Connecting;case Au.open:return ga.Open;case Au.closing:return ga.Closing;default:return ga.Closed}}isConnected(){return this.connectionState()===ga.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new bv(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:$L};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Vi.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(VL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([QL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Sv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Bn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class e8 extends Sv{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yg extends Sv{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var t8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function l(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const XS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ps(()=>Promise.resolve().then(()=>fc),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},n8=()=>t8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ps(()=>Promise.resolve().then(()=>fc),void 0)).Response:Response}),wg=e=>{if(Array.isArray(e))return e.map(n=>wg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=wg(r)}),t},r8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ia=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function l(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Bm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),i8=(e,t,n)=>Ia(void 0,void 0,void 0,function*(){const r=yield n8();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new e8(Bm(i),s,o))}).catch(i=>{t(new yg(Bm(i),i))}):t(new yg(Bm(e),e))}),s8=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(r8(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function pd(e,t,n,r,i,s){return Ia(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,s8(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>i8(l,a,r))})})}function Tf(e,t,n,r){return Ia(this,void 0,void 0,function*(){return pd(e,"GET",t,n,r)})}function Ts(e,t,n,r,i){return Ia(this,void 0,void 0,function*(){return pd(e,"POST",t,r,i,n)})}function xg(e,t,n,r,i){return Ia(this,void 0,void 0,function*(){return pd(e,"PUT",t,r,i,n)})}function o8(e,t,n,r){return Ia(this,void 0,void 0,function*(){return pd(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function QS(e,t,n,r,i){return Ia(this,void 0,void 0,function*(){return pd(e,"DELETE",t,r,i,n)})}var Lr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function l(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const a8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},q5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class l8{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=XS(i)}uploadOrUpdate(t,n,r,i){return Lr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},q5),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),f=yield(t=="PUT"?xg:Ts)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(Bn(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Lr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Lr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:q5.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const f=yield xg(this.fetch,a.toString(),l,{headers:h});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(Bn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Lr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Ts(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Sv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Lr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Lr(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Lr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Lr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Ts(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Lr(this,void 0,void 0,function*(){try{const i=yield Ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}download(t,n){return Lr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Tf(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Bn(a))return{data:null,error:a};throw a}})}info(t){return Lr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Tf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:wg(r),error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}exists(t){return Lr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield o8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Bn(r)&&r instanceof yg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Lr(this,void 0,void 0,function*(){try{return{data:yield QS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Lr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},a8),n),{prefix:t||""});return{data:yield Ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const c8="2.10.4",u8={"X-Client-Info":`storage-js/${c8}`};var al=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function l(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class d8{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},u8),n),this.fetch=XS(r)}listBuckets(){return al(this,void 0,void 0,function*(){try{return{data:yield Tf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Bn(t))return{data:null,error:t};throw t}})}getBucket(t){return al(this,void 0,void 0,function*(){try{return{data:yield Tf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return al(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return al(this,void 0,void 0,function*(){try{return{data:yield xg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return al(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return al(this,void 0,void 0,function*(){try{return{data:yield QS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}}class h8 extends d8{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new l8(this.url,this.headers,t,this.fetch)}}const f8="2.53.0";let fu="";typeof Deno<"u"?fu="deno":typeof document<"u"?fu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fu="react-native":fu="node";const p8={"X-Client-Info":`supabase-js-${fu}/${f8}`},m8={headers:p8},g8={schema:"public"},v8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},y8={};var w8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function l(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const x8=e=>{let t;return e?t=e:typeof fetch>"u"?t=OS:t=fetch,(...n)=>t(...n)},b8=()=>typeof Headers>"u"?DS:Headers,S8=(e,t,n)=>{const r=x8(n),i=b8();return(s,o)=>w8(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var _8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function l(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function j8(e){return e.endsWith("/")?e:e+"/"}function k8(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:c,realtime:h,global:f}=t,m={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>_8(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const ZS="2.71.1",ml=30*1e3,bg=3,Um=bg*ml,N8="http://localhost:9999",A8="supabase.auth.token",C8={"X-Client-Info":`gotrue-js/${ZS}`},Sg="X-Supabase-Api-Version",e4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},P8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,E8=10*60*1e3;class _v extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function xt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class L8 extends _v{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function T8(e){return xt(e)&&e.name==="AuthApiError"}class t4 extends _v{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ko extends _v{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class xo extends Ko{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function F8(e){return xt(e)&&e.name==="AuthSessionMissingError"}class wh extends Ko{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xh extends Ko{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bh extends Ko{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I8(e){return xt(e)&&e.name==="AuthImplicitGrantRedirectError"}class V5 extends Ko{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _g extends Ko{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function zm(e){return xt(e)&&e.name==="AuthRetryableFetchError"}class W5 extends Ko{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class jg extends Ko{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ff="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),H5=` 	
\r=`.split(""),R8=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<H5.length;t+=1)e[H5[t].charCodeAt(0)]=-2;for(let t=0;t<Ff.length;t+=1)e[Ff[t].charCodeAt(0)]=t;return e})();function G5(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ff[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ff[r]),t.queuedBits-=6}}function n4(e,t,n){const r=R8[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function K5(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{M8(o,r,n)};for(let o=0;o<e.length;o+=1)n4(e.charCodeAt(o),i,s);return t.join("")}function O8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function D8(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}O8(r,t)}}function M8(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function B8(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)n4(e.charCodeAt(i),n,r);return new Uint8Array(t)}function U8(e){const t=[];return D8(e,n=>t.push(n)),new Uint8Array(t)}function z8(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>G5(i,n,r)),G5(null,n,r),t.join("")}function $8(e){return Math.round(Date.now()/1e3)+e}function q8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Bi=()=>typeof window<"u"&&typeof document<"u",aa={tested:!1,writable:!1},r4=()=>{if(!Bi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(aa.tested)return aa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),aa.tested=!0,aa.writable=!0}catch{aa.tested=!0,aa.writable=!1}return aa.writable};function V8(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const i4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ps(()=>Promise.resolve().then(()=>fc),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},W8=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},la=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},go=async(e,t)=>{await e.removeItem(t)};class pp{constructor(){this.promise=new pp.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}pp.promiseConstructor=Promise;function $m(e){const t=e.split(".");if(t.length!==3)throw new jg("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!P8.test(t[r]))throw new jg("JWT not in base64url format");return{header:JSON.parse(K5(t[0])),payload:JSON.parse(K5(t[1])),signature:B8(t[2]),raw:{header:t[0],payload:t[1]}}}async function H8(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function G8(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function K8(e){return("0"+e.toString(16)).substr(-2)}function J8(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,K8).join("")}async function Y8(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function X8(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Y8(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ll(e,t,n=!1){const r=J8();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await gl(e,`${t}-code-verifier`,i);const s=await X8(r);return[s,r===s?"plain":"s256"]}const Q8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Z8(e){const t=e.headers.get(Sg);if(!t||!t.match(Q8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cl(e){if(!nT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function J5(e){return JSON.parse(JSON.stringify(e))}var rT=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const pa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iT=[502,503,504];async function Y5(e){var t;if(!W8(e))throw new _g(pa(e),0);if(iT.includes(e.status))throw new _g(pa(e),e.status);let n;try{n=await e.json()}catch(s){throw new t4(pa(s),s)}let r;const i=Z8(e);if(i&&i.getTime()>=e4["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new W5(pa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new xo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new W5(pa(n),e.status,n.weak_password.reasons);throw new L8(pa(n),e.status||500,r)}const sT=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function _t(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Sg]||(s[Sg]=e4["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await oT(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function oT(e,t,n,r,i,s){const o=sT(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new _g(pa(l),0)}if(a.ok||await Y5(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Y5(l)}}function Ps(e){var t;let n=null;uT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=$8(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function X5(e){const t=Ps(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ko(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function aT(e){return{data:e,error:null}}function lT(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=rT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function cT(e){return e}function uT(e){return e.access_token&&e.refresh_token&&e.expires_in}const Vm=["global","local","others"];var dT=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class hT{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=i4(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Vm[0]){if(Vm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vm.join(", ")}`);try{return await _t(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await _t(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ko})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=dT(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await _t(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:lT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(xt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await _t(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ko})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},h=await _t(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:cT});if(h.error)throw h.error;const f=await h.json(),m=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);c[`${k}Page`]=S}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(xt(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){cl(t);try{return await _t(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ko})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){cl(t);try{return await _t(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ko})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){cl(t);try{return await _t(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ko})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){cl(t.userId);try{const{data:n,error:r}=await _t(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(xt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){cl(t.userId),cl(t.id);try{return{data:await _t(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}}}function Q5(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function fT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ul={debug:!!(globalThis&&r4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class s4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pT extends s4{}async function mT(e,t,n){ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ul.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ul.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}fT();const gT={url:N8,storageKey:A8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Z5(e,t,n){return await n()}const dl={};class Zu{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zu.nextInstanceID,Zu.nextInstanceID+=1,this.instanceID>0&&Bi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},gT),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new hT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=i4(i.fetch),this.lock=i.lock||Z5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Bi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=mT:this.lock=Z5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:r4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Q5(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Q5(this.memoryStorage)),Bi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=dl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){dl[this.storageKey]=Object.assign(Object.assign({},dl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=dl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){dl[this.storageKey]=Object.assign(Object.assign({},dl[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ZS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=V8(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Bi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),I8(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xt(n)?{error:n}:{error:new t4("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ps}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(xt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:h,password:f,options:m}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await ll(this.storage,this.storageKey)),s=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:b},xform:Ps})}else if("phone"in t){const{phone:h,password:f,options:m}=t;s=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ps})}else throw new xh("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(xt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:X5})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:X5})}else throw new xh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new wh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(xt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,l,c,h,f,m,g;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:k,wallet:y,statement:x,options:_}=t;let E;if(Bi())if(typeof y=="object")E=y;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))E=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}const O=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const M=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),x?{statement:x}:null));let B;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")B=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)B=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)b=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),S=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${O.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(h=_==null?void 0:_.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const M=await E.signMessage(new TextEncoder().encode(b),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=M}}try{const{data:k,error:y}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:z8(S)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ps});if(y)throw y;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new wh}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:y})}catch(k){if(xt(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await la(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ps});if(await go(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new wh}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(xt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ps}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new wh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(xt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await ll(this.storage,this.storageKey));const{error:f}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:h}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new xh("You must provide either an email or phone number.")}catch(a){if(xt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await _t(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ps});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(xt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await ll(this.storage,this.storageKey)),await _t(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:aT})}catch(s){if(xt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new xo;const{error:i}=await _t(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(xt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await _t(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await _t(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new xh("You must provide either an email or phone number and a type")}catch(n){if(xt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await la(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Um:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await la(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=qm()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,h)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,h))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ko}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xo}:await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ko})})}catch(n){if(xt(n))return F8(n)&&(await this._removeSession(),await go(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new xo;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await ll(this.storage,this.storageKey));const{data:c,error:h}=await _t(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ko});if(h)throw h;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xo;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=$m(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(xt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new xo;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(xt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Bi())throw new bh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new V5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new V5("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!o||!c)throw new bh("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(a);let m=h+f;l&&(m=parseInt(l));const g=m-h;g*1e3<=ml&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const b=m-f;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,h);const{data:S,error:k}=await this._getUser(s);if(k)throw k;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:m,refresh_token:o,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(xt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await la(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(T8(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await go(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=q8(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ll(this.storage,this.storageKey,!0));try{return await _t(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(xt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,h;const{data:f,error:m}=s;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await _t(this.fetch,"GET",g,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Bi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(xt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await _t(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(xt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await G8(async i=>(i>0&&await H8(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await _t(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ps})),(i,s)=>{const o=200*Math.pow(2,i);return s&&zm(s)&&Date.now()+o-r<ml})}catch(r){if(this._debug(n,"error",r),xt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Bi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await la(this.storage,this.storageKey);if(i&&this.userStorage){let o=await la(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await gl(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:qm()}else if(i&&!i.user&&!i.user){const o=await la(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await go(this.storage,this.storageKey+"-user"),await gl(this.storage,this.storageKey,i)):i.user=qm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Um;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Um}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),zm(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new xo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new pp;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new xo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),xt(s)){const o={session:null,error:s};return zm(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await gl(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=J5(i);await gl(this.storage,this.storageKey,s)}else{const i=J5(n);await gl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await go(this.storage,this.storageKey),await go(this.storage,this.storageKey+"-code-verifier"),await go(this.storage,this.storageKey+"-user"),this.userStorage&&await go(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ml);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ml);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ml}ms, refresh threshold is ${bg} ticks`),i<=bg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof s4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await ll(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await _t(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await _t(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(xt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await _t(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(xt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await _t(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=$m(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+E8>i)return r;const{data:s,error:o}=await _t(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:g,error:b}=await this.getSession();if(b||!g.session)return{data:null,error:b};r=g.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=$m(r);n!=null&&n.allowExpired||eT(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:s,header:i,signature:o},error:null}}const h=tT(i.alg),f=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,U8(`${a}.${l}`)))throw new jg("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}}}Zu.nextInstanceID=0;const vT=Zu;class yT extends vT{constructor(t){super(t)}}var wT=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function l(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class xT{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=j8(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:g8,realtime:y8,auth:Object.assign(Object.assign({},v8),{storageKey:c}),global:m8},f=k8(r??{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=S8(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new ML(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new h8(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new pL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return wT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yT({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ZL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bT=(e,t,n)=>new xT(e,t,n);function ST(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ST()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _T={}.VITE_SUPABASE_URL||"https://xfbmdeuzuyixpmouhqcv.supabase.co",jT={}.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhmYm1kZXV6dXlpeHBtb3VocWN2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkzMzE3ODQsImV4cCI6MjA2NDkwNzc4NH0.XzFIT3BwW9dKRrmFFbSAufCpC1SZuUI-VU2Uer5VoTw",pt=bT(_T,jT,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"herbbie-auth",flowType:"pkce",onAuthStateChange:(e,t)=>{e==="SIGNED_OUT"&&Object.keys(localStorage).forEach(r=>{(r.startsWith("sb-")||r.startsWith("supabase.")||r.startsWith("herbbie-auth"))&&localStorage.removeItem(r)})}},global:{headers:{"x-client-info":"herbbie-web"},fetch:(e,t={})=>fetch(e,t).catch(n=>{if(n.message.includes("Failed to fetch")||n.message.includes("ERR_NAME_NOT_RESOLVED"))return Promise.resolve(new Response(JSON.stringify({error:"Network error"}),{status:503,headers:{"Content-Type":"application/json"}}));throw n})}});function Ot(e){"@babel/helpers - typeof";return Ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(e)}var ur=Uint8Array,Xr=Uint16Array,jv=Int32Array,mp=new ur([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gp=new ur([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kg=new ur([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o4=function(e,t){for(var n=new Xr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new jv(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},a4=o4(mp,2),l4=a4.b,Ng=a4.r;l4[28]=258,Ng[258]=28;var c4=o4(gp,0),kT=c4.b,ew=c4.r,Ag=new Xr(32768);for(var Zt=0;Zt<32768;++Zt){var vo=(Zt&43690)>>1|(Zt&21845)<<1;vo=(vo&52428)>>2|(vo&13107)<<2,vo=(vo&61680)>>4|(vo&3855)<<4,Ag[Zt]=((vo&65280)>>8|(vo&255)<<8)>>1}var fs=function(e,t,n){for(var r=e.length,i=0,s=new Xr(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Xr(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Xr(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],h=t-e[i],f=o[e[i]-1]++<<h,m=f|(1<<h)-1;f<=m;++f)a[Ag[f]>>l]=c}else for(a=new Xr(r),i=0;i<r;++i)e[i]&&(a[i]=Ag[o[e[i]-1]++]>>15-e[i]);return a},zo=new ur(288);for(var Zt=0;Zt<144;++Zt)zo[Zt]=8;for(var Zt=144;Zt<256;++Zt)zo[Zt]=9;for(var Zt=256;Zt<280;++Zt)zo[Zt]=7;for(var Zt=280;Zt<288;++Zt)zo[Zt]=8;var ed=new ur(32);for(var Zt=0;Zt<32;++Zt)ed[Zt]=5;var NT=fs(zo,9,0),AT=fs(zo,9,1),CT=fs(ed,5,0),PT=fs(ed,5,1),Wm=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Di=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Hm=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},kv=function(e){return(e+7)/8|0},u4=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new ur(e.subarray(t,n))},ET=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$i=function(e,t,n){var r=new Error(t||ET[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,$i),!n)throw r;return r},LT=function(e,t,n,r){var i=e.length,s=r?r.length:0;if(!i||t.f&&!t.l)return n||new ur(0);var o=!n,a=o||t.i!=2,l=t.i;o&&(n=new ur(i*3));var c=function(_e){var Fe=n.length;if(_e>Fe){var Pe=new ur(Math.max(Fe*2,_e));Pe.set(n),n=Pe}},h=t.f||0,f=t.p||0,m=t.b||0,g=t.l,b=t.d,S=t.m,k=t.n,y=i*8;do{if(!g){h=Di(e,f,1);var x=Di(e,f+1,3);if(f+=3,x)if(x==1)g=AT,b=PT,S=9,k=5;else if(x==2){var M=Di(e,f,31)+257,B=Di(e,f+10,15)+4,L=M+Di(e,f+5,31)+1;f+=14;for(var V=new ur(L),H=new ur(19),R=0;R<B;++R)H[kg[R]]=Di(e,f+R*3,7);f+=B*3;for(var P=Wm(H),J=(1<<P)-1,W=fs(H,P,1),R=0;R<L;){var ue=W[Di(e,f,J)];f+=ue&15;var _=ue>>4;if(_<16)V[R++]=_;else{var le=0,ae=0;for(_==16?(ae=3+Di(e,f,3),f+=2,le=V[R-1]):_==17?(ae=3+Di(e,f,7),f+=3):_==18&&(ae=11+Di(e,f,127),f+=7);ae--;)V[R++]=le}}var K=V.subarray(0,M),ee=V.subarray(M);S=Wm(K),k=Wm(ee),g=fs(K,S,1),b=fs(ee,k,1)}else $i(1);else{var _=kv(f)+4,E=e[_-4]|e[_-3]<<8,O=_+E;if(O>i){l&&$i(0);break}a&&c(m+E),n.set(e.subarray(_,O),m),t.b=m+=E,t.p=f=O*8,t.f=h;continue}if(f>y){l&&$i(0);break}}a&&c(m+131072);for(var Q=(1<<S)-1,me=(1<<k)-1,N=f;;N=f){var le=g[Hm(e,f)&Q],z=le>>4;if(f+=le&15,f>y){l&&$i(0);break}if(le||$i(2),z<256)n[m++]=z;else if(z==256){N=f,g=null;break}else{var $=z-254;if(z>264){var R=z-257,Y=mp[R];$=Di(e,f,(1<<Y)-1)+l4[R],f+=Y}var Z=b[Hm(e,f)&me],oe=Z>>4;Z||$i(3),f+=Z&15;var ee=kT[oe];if(oe>3){var Y=gp[oe];ee+=Hm(e,f)&(1<<Y)-1,f+=Y}if(f>y){l&&$i(0);break}a&&c(m+131072);var he=m+$;if(m<ee){var ce=s-ee,xe=Math.min(ee,he);for(ce+m<0&&$i(3);m<xe;++m)n[m]=r[ce+m]}for(;m<he;++m)n[m]=n[m-ee]}}t.l=g,t.p=N,t.b=m,t.f=h,g&&(h=1,t.m=S,t.d=b,t.n=k)}while(!h);return m!=n.length&&o?u4(n,0,m):n.subarray(0,m)},Cs=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},tu=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Gm=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:h4,l:0};if(i==1){var o=new ur(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(O,M){return O.f-M.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,h=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=i-1;)a=n[n[c].f<n[f].f?c++:f++],l=n[c!=h&&n[c].f<n[f].f?c++:f++],n[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var g=new Xr(m+1),b=Cg(n[h-1],g,0);if(b>t){var r=0,S=0,k=b-t,y=1<<k;for(s.sort(function(M,B){return g[B.s]-g[M.s]||M.f-B.f});r<i;++r){var x=s[r].s;if(g[x]>t)S+=y-(1<<b-g[x]),g[x]=t;else break}for(S>>=k;S>0;){var _=s[r].s;g[_]<t?S-=1<<t-g[_]++-1:++r}for(;r>=0&&S;--r){var E=s[r].s;g[E]==t&&(--g[E],++S)}b=t}return{t:new ur(g),l:b}},Cg=function(e,t,n){return e.s==-1?Math.max(Cg(e.l,t,n+1),Cg(e.r,t,n+1)):t[e.s]=n},tw=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Xr(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},nu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},d4=function(e,t,n){var r=n.length,i=kv(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},nw=function(e,t,n,r,i,s,o,a,l,c,h){Cs(t,h++,n),++i[256];for(var f=Gm(i,15),m=f.t,g=f.l,b=Gm(s,15),S=b.t,k=b.l,y=tw(m),x=y.c,_=y.n,E=tw(S),O=E.c,M=E.n,B=new Xr(19),L=0;L<x.length;++L)++B[x[L]&31];for(var L=0;L<O.length;++L)++B[O[L]&31];for(var V=Gm(B,7),H=V.t,R=V.l,P=19;P>4&&!H[kg[P-1]];--P);var J=c+5<<3,W=nu(i,zo)+nu(s,ed)+o,ue=nu(i,m)+nu(s,S)+o+14+3*P+nu(B,H)+2*B[16]+3*B[17]+7*B[18];if(l>=0&&J<=W&&J<=ue)return d4(t,h,e.subarray(l,l+c));var le,ae,K,ee;if(Cs(t,h,1+(ue<W)),h+=2,ue<W){le=fs(m,g,0),ae=m,K=fs(S,k,0),ee=S;var Q=fs(H,R,0);Cs(t,h,_-257),Cs(t,h+5,M-1),Cs(t,h+10,P-4),h+=14;for(var L=0;L<P;++L)Cs(t,h+3*L,H[kg[L]]);h+=3*P;for(var me=[x,O],N=0;N<2;++N)for(var z=me[N],L=0;L<z.length;++L){var $=z[L]&31;Cs(t,h,Q[$]),h+=H[$],$>15&&(Cs(t,h,z[L]>>5&127),h+=z[L]>>12)}}else le=NT,ae=zo,K=CT,ee=ed;for(var L=0;L<a;++L){var Y=r[L];if(Y>255){var $=Y>>18&31;tu(t,h,le[$+257]),h+=ae[$+257],$>7&&(Cs(t,h,Y>>23&31),h+=mp[$]);var Z=Y&31;tu(t,h,K[Z]),h+=ee[Z],Z>3&&(tu(t,h,Y>>5&8191),h+=gp[Z])}else tu(t,h,le[Y]),h+=ae[Y]}return tu(t,h,le[256]),h+ae[256]},TT=new jv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),h4=new ur(0),FT=function(e,t,n,r,i,s){var o=s.z||e.length,a=new ur(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,h=(s.r||0)&7;if(t){h&&(l[0]=s.r>>3);for(var f=TT[t-1],m=f>>13,g=f&8191,b=(1<<n)-1,S=s.p||new Xr(32768),k=s.h||new Xr(b+1),y=Math.ceil(n/3),x=2*y,_=function(Ze){return(e[Ze]^e[Ze+1]<<y^e[Ze+2]<<x)&b},E=new jv(25e3),O=new Xr(288),M=new Xr(32),B=0,L=0,V=s.i||0,H=0,R=s.w||0,P=0;V+2<o;++V){var J=_(V),W=V&32767,ue=k[J];if(S[W]=ue,k[J]=W,R<=V){var le=o-V;if((B>7e3||H>24576)&&(le>423||!c)){h=nw(e,l,0,E,O,M,L,H,P,V-P,h),H=B=L=0,P=V;for(var ae=0;ae<286;++ae)O[ae]=0;for(var ae=0;ae<30;++ae)M[ae]=0}var K=2,ee=0,Q=g,me=W-ue&32767;if(le>2&&J==_(V-me))for(var N=Math.min(m,le)-1,z=Math.min(32767,V),$=Math.min(258,le);me<=z&&--Q&&W!=ue;){if(e[V+K]==e[V+K-me]){for(var Y=0;Y<$&&e[V+Y]==e[V+Y-me];++Y);if(Y>K){if(K=Y,ee=me,Y>N)break;for(var Z=Math.min(me,Y-2),oe=0,ae=0;ae<Z;++ae){var he=V-me+ae&32767,ce=S[he],xe=he-ce&32767;xe>oe&&(oe=xe,ue=he)}}}W=ue,ue=S[W],me+=W-ue&32767}if(ee){E[H++]=268435456|Ng[K]<<18|ew[ee];var _e=Ng[K]&31,Fe=ew[ee]&31;L+=mp[_e]+gp[Fe],++O[257+_e],++M[Fe],R=V+K,++B}else E[H++]=e[V],++O[e[V]]}}for(V=Math.max(V,R);V<o;++V)E[H++]=e[V],++O[e[V]];h=nw(e,l,c,E,O,M,L,H,P,V-P,h),c||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=k,s.p=S,s.i=V,s.w=R)}else{for(var V=s.w||0;V<o+c;V+=65535){var Pe=V+65535;Pe>=o&&(l[h/8|0]=c,Pe=o),h=d4(l,h+1,e.subarray(V,Pe))}s.i=o}return u4(a,0,r+kv(h)+i)},f4=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},IT=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new ur(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return FT(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},p4=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},RT=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=f4();i.p(t.dictionary),p4(e,2,i.d())}},OT=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&$i(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&$i(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Pg(e,t){t||(t={});var n=f4();n.p(e);var r=IT(e,t,t.dictionary?6:2,4);return RT(r,t),p4(r,r.length-4,n.d()),r}function DT(e,t){return LT(e.subarray(OT(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var MT=typeof TextDecoder<"u"&&new TextDecoder,BT=0;try{MT.decode(h4,{stream:!0}),BT=1}catch{}var ct=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Km(){ct.console&&typeof ct.console.log=="function"&&ct.console.log.apply(ct.console,arguments)}var Vt={log:Km,warn:function(e){ct.console&&(typeof ct.console.warn=="function"?ct.console.warn.apply(ct.console,arguments):Km.call(null,arguments))},error:function(e){ct.console&&(typeof ct.console.error=="function"?ct.console.error.apply(ct.console,arguments):Km(e))}};function Jm(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){ma(r.response,t,n)},r.onerror=function(){Vt.error("could not download file")},r.send()}function rw(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Sh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Pu,Eg,ma=ct.saveAs||((typeof window>"u"?"undefined":Ot(window))!=="object"||window!==ct?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=ct.URL||ct.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?rw(i.href)?Jm(e,t,n):Sh(i,i.target="_blank"):Sh(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Sh(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(rw(e))Jm(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Sh(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Ot(s)!=="object"&&(Vt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Jm(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(ct.HTMLElement)||ct.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Ot(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},a.readAsDataURL(e)}else{var l=ct.URL||ct.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function m4(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ym(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=nr(n,r,i,s,t[0],7,-680876936),s=nr(s,n,r,i,t[1],12,-389564586),i=nr(i,s,n,r,t[2],17,606105819),r=nr(r,i,s,n,t[3],22,-1044525330),n=nr(n,r,i,s,t[4],7,-176418897),s=nr(s,n,r,i,t[5],12,1200080426),i=nr(i,s,n,r,t[6],17,-1473231341),r=nr(r,i,s,n,t[7],22,-45705983),n=nr(n,r,i,s,t[8],7,1770035416),s=nr(s,n,r,i,t[9],12,-1958414417),i=nr(i,s,n,r,t[10],17,-42063),r=nr(r,i,s,n,t[11],22,-1990404162),n=nr(n,r,i,s,t[12],7,1804603682),s=nr(s,n,r,i,t[13],12,-40341101),i=nr(i,s,n,r,t[14],17,-1502002290),n=rr(n,r=nr(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=rr(s,n,r,i,t[6],9,-1069501632),i=rr(i,s,n,r,t[11],14,643717713),r=rr(r,i,s,n,t[0],20,-373897302),n=rr(n,r,i,s,t[5],5,-701558691),s=rr(s,n,r,i,t[10],9,38016083),i=rr(i,s,n,r,t[15],14,-660478335),r=rr(r,i,s,n,t[4],20,-405537848),n=rr(n,r,i,s,t[9],5,568446438),s=rr(s,n,r,i,t[14],9,-1019803690),i=rr(i,s,n,r,t[3],14,-187363961),r=rr(r,i,s,n,t[8],20,1163531501),n=rr(n,r,i,s,t[13],5,-1444681467),s=rr(s,n,r,i,t[2],9,-51403784),i=rr(i,s,n,r,t[7],14,1735328473),n=ir(n,r=rr(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=ir(s,n,r,i,t[8],11,-2022574463),i=ir(i,s,n,r,t[11],16,1839030562),r=ir(r,i,s,n,t[14],23,-35309556),n=ir(n,r,i,s,t[1],4,-1530992060),s=ir(s,n,r,i,t[4],11,1272893353),i=ir(i,s,n,r,t[7],16,-155497632),r=ir(r,i,s,n,t[10],23,-1094730640),n=ir(n,r,i,s,t[13],4,681279174),s=ir(s,n,r,i,t[0],11,-358537222),i=ir(i,s,n,r,t[3],16,-722521979),r=ir(r,i,s,n,t[6],23,76029189),n=ir(n,r,i,s,t[9],4,-640364487),s=ir(s,n,r,i,t[12],11,-421815835),i=ir(i,s,n,r,t[15],16,530742520),n=sr(n,r=ir(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=sr(s,n,r,i,t[7],10,1126891415),i=sr(i,s,n,r,t[14],15,-1416354905),r=sr(r,i,s,n,t[5],21,-57434055),n=sr(n,r,i,s,t[12],6,1700485571),s=sr(s,n,r,i,t[3],10,-1894986606),i=sr(i,s,n,r,t[10],15,-1051523),r=sr(r,i,s,n,t[1],21,-2054922799),n=sr(n,r,i,s,t[8],6,1873313359),s=sr(s,n,r,i,t[15],10,-30611744),i=sr(i,s,n,r,t[6],15,-1560198380),r=sr(r,i,s,n,t[13],21,1309151649),n=sr(n,r,i,s,t[4],6,-145523070),s=sr(s,n,r,i,t[11],10,-1120210379),i=sr(i,s,n,r,t[2],15,718787259),r=sr(r,i,s,n,t[9],21,-343485551),e[0]=Co(n,e[0]),e[1]=Co(r,e[1]),e[2]=Co(i,e[2]),e[3]=Co(s,e[3])}function vp(e,t,n,r,i,s){return t=Co(Co(t,e),Co(r,s)),Co(t<<i|t>>>32-i,n)}function nr(e,t,n,r,i,s,o){return vp(t&n|~t&r,e,t,i,s,o)}function rr(e,t,n,r,i,s,o){return vp(t&r|n&~r,e,t,i,s,o)}function ir(e,t,n,r,i,s,o){return vp(t^n^r,e,t,i,s,o)}function sr(e,t,n,r,i,s,o){return vp(n^(t|~r),e,t,i,s,o)}function g4(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ym(r,UT(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Ym(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Ym(r,i),r}function UT(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Pu=ct.atob.bind(ct),Eg=ct.btoa.bind(ct);var iw="0123456789abcdef".split("");function zT(e){for(var t="",n=0;n<4;n++)t+=iw[e>>8*n+4&15]+iw[e>>8*n&15];return t}function $T(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Lg(e){return g4(e).map($T).join("")}var qT=function(e){for(var t=0;t<e.length;t++)e[t]=zT(e[t]);return e.join("")}(g4("hello"))!="5d41402abc4b2a76b9719d911017c592";function Co(e,t){if(qT){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Tg(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var h=a[l];c=(c+h+o.charCodeAt(l))%256,a[l]=a[c],a[c]=h}n=e,r=a}else a=r;var f=t.length,m=0,g=0,b="";for(l=0;l<f;l++)g=(g+(h=a[m=(m+1)%256]))%256,a[m]=a[g],a[g]=h,o=a[(a[m]+a[g])%256],b+=String.fromCharCode(t.charCodeAt(l)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var sw={print:4,modify:8,copy:16,"annot-forms":32};function vl(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(sw.perm!==void 0)throw new Error("Invalid permission: "+a);i+=sw[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Lg(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Tg(this.encryptionKey,this.padding)}function yl(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function ow(e){if(Ot(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(a){ct.console&&Vt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function If(e){if(!(this instanceof If))return new If(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function v4(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function va(e,t,n,r,i){if(!(this instanceof va))return new va(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,v4.call(this,r,i)}function Ol(e,t,n,r,i){if(!(this instanceof Ol))return new Ol(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,v4.call(this,r,i)}function it(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",h=null;Ot(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,m={},g={internal:{},__private__:{}};g.__private__.PubSub=ow;var b="1.3",S=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(v){b=v};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return k};var y=g.__private__.getPageFormat=function(v){return k[v]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},_=x.COMPAT;function E(){this.saveGraphicsState(),X(new et(ze,0,0,-ze,0,no()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),c="n",_=x.ADVANCED}function O(){this.restoreGraphicsState(),c="S",_=x.COMPAT}var M=g.__private__.combineFontStyleAndFontWeight=function(v,C){if(v=="bold"&&C=="normal"||v=="bold"&&C==400||v=="normal"&&C=="italic"||v=="bold"&&C=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(v=C==400||C==="normal"?v==="italic"?"italic":"normal":C!=700&&C!=="bold"||v!=="normal"?(C==700?"bold":C)+""+v:"bold"),v};g.advancedAPI=function(v){var C=_===x.COMPAT;return C&&E.call(this),typeof v!="function"||(v(this),C&&O.call(this)),this},g.compatAPI=function(v){var C=_===x.ADVANCED;return C&&O.call(this),typeof v!="function"||(v(this),C&&E.call(this)),this},g.isAdvancedAPI=function(){return _===x.ADVANCED};var B,L=function(v){if(_!==x.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=g.roundToPrecision=g.__private__.roundToPrecision=function(v,C){var G=t||C;if(isNaN(v)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(G).replace(/0+$/,"")};B=g.hpf=g.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return V(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return V(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return V(v,16)};var H=g.f2=g.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return V(v,2)},R=g.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return V(v,3)},P=g.scale=g.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return _===x.COMPAT?v*ze:_===x.ADVANCED?v:void 0},J=function(v){return _===x.COMPAT?no()-v:_===x.ADVANCED?v:void 0},W=function(v){return P(J(v))};g.__private__.setPrecision=g.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var ue,le="00000000000000000000000000000000",ae=g.__private__.getFileId=function(){return le},K=g.__private__.setFileId=function(v){return le=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Qn=new vl(h.userPermissions,h.userPassword,h.ownerPassword,le)),le};g.setFileId=function(v){return K(v),this},g.getFileId=function(){return ae()};var ee=g.__private__.convertDateToPDFDate=function(v){var C=v.getTimezoneOffset(),G=C<0?"+":"-",te=Math.floor(Math.abs(C/60)),de=Math.abs(C%60),ye=[G,$(te),"'",$(de),"'"].join("");return["D:",v.getFullYear(),$(v.getMonth()+1),$(v.getDate()),$(v.getHours()),$(v.getMinutes()),$(v.getSeconds()),ye].join("")},Q=g.__private__.convertPDFDateToDate=function(v){var C=parseInt(v.substr(2,4),10),G=parseInt(v.substr(6,2),10)-1,te=parseInt(v.substr(8,2),10),de=parseInt(v.substr(10,2),10),ye=parseInt(v.substr(12,2),10),Ce=parseInt(v.substr(14,2),10);return new Date(C,G,te,de,ye,Ce,0)},me=g.__private__.setCreationDate=function(v){var C;if(v===void 0&&(v=new Date),v instanceof Date)C=ee(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=v}return ue=C},N=g.__private__.getCreationDate=function(v){var C=ue;return v==="jsDate"&&(C=Q(ue)),C};g.setCreationDate=function(v){return me(v),this},g.getCreationDate=function(v){return N(v)};var z,$=g.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},Y=g.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},Z=0,oe=[],he=[],ce=0,xe=[],_e=[],Fe=!1,Pe=he,Ze=function(){Z=0,ce=0,he=[],oe=[],xe=[],Pi=nn(),zr=nn()};g.__private__.setCustomOutputDestination=function(v){Fe=!0,Pe=v};var ve=function(v){Fe||(Pe=v)};g.__private__.resetCustomOutputDestination=function(){Fe=!1,Pe=he};var X=g.__private__.out=function(v){return v=v.toString(),ce+=v.length+1,Pe.push(v),Pe},ot=g.__private__.write=function(v){return X(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},He=g.__private__.getArrayBuffer=function(v){for(var C=v.length,G=new ArrayBuffer(C),te=new Uint8Array(G);C--;)te[C]=v.charCodeAt(C);return G},Ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ne};var Re=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(v){return Re=_===x.ADVANCED?v/ze:v,this};var Me,Oe=g.__private__.getFontSize=g.getFontSize=function(){return _===x.COMPAT?Re:Re*ze},qe=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(v){return qe=v,this},g.__private__.getR2L=g.getR2L=function(){return qe};var st,Ae=g.__private__.setZoomMode=function(v){var C=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Me=v;else if(isNaN(v)){if(C.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Me=v}else Me=parseInt(v,10)};g.__private__.getZoomMode=function(){return Me};var $e,lt=g.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');st=v};g.__private__.getPageMode=function(){return st};var At=g.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');$e=v};g.__private__.getLayoutMode=function(){return $e},g.__private__.setDisplayMode=g.setDisplayMode=function(v,C,G){return Ae(v),At(C),lt(G),this};var Ye={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(v){if(Object.keys(Ye).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ye[v]},g.__private__.getDocumentProperties=function(){return Ye},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(v){for(var C in Ye)Ye.hasOwnProperty(C)&&v[C]&&(Ye[C]=v[C]);return this},g.__private__.setDocumentProperty=function(v,C){if(Object.keys(Ye).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ye[v]=C};var bt,ze,Rn,dt,kr,Ft={},Mt={},ii=[],Ct={},Ci={},Wt={},fr={},si=null,Bt=0,ht=[],Pt=new ow(g),Qi=e.hotfixes||[],kn={},oi={},Nn=[],et=function v(C,G,te,de,ye,Ce){if(!(this instanceof v))return new v(C,G,te,de,ye,Ce);isNaN(C)&&(C=1),isNaN(G)&&(G=0),isNaN(te)&&(te=0),isNaN(de)&&(de=1),isNaN(ye)&&(ye=0),isNaN(Ce)&&(Ce=0),this._matrix=[C,G,te,de,ye,Ce]};Object.defineProperty(et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(et.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(et.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(et.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(et.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(et.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(et.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),et.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(v)},et.prototype.multiply=function(v){var C=v.sx*this.sx+v.shy*this.shx,G=v.sx*this.shy+v.shy*this.sy,te=v.shx*this.sx+v.sy*this.shx,de=v.shx*this.shy+v.sy*this.sy,ye=v.tx*this.sx+v.ty*this.shx+this.tx,Ce=v.tx*this.shy+v.ty*this.sy+this.ty;return new et(C,G,te,de,ye,Ce)},et.prototype.decompose=function(){var v=this.sx,C=this.shy,G=this.shx,te=this.sy,de=this.tx,ye=this.ty,Ce=Math.sqrt(v*v+C*C),Ve=(v/=Ce)*G+(C/=Ce)*te;G-=v*Ve,te-=C*Ve;var Qe=Math.sqrt(G*G+te*te);return Ve/=Qe,v*(te/=Qe)<C*(G/=Qe)&&(v=-v,C=-C,Ve=-Ve,Ce=-Ce),{scale:new et(Ce,0,0,Qe,0,0),translate:new et(1,0,0,1,de,ye),rotate:new et(v,C,-C,v,0,0),skew:new et(1,0,Ve,1,0,0)}},et.prototype.toString=function(v){return this.join(" ")},et.prototype.inversed=function(){var v=this.sx,C=this.shy,G=this.shx,te=this.sy,de=this.tx,ye=this.ty,Ce=1/(v*te-C*G),Ve=te*Ce,Qe=-C*Ce,yt=-G*Ce,gt=v*Ce;return new et(Ve,Qe,yt,gt,-Ve*de-yt*ye,-Qe*de-gt*ye)},et.prototype.applyToPoint=function(v){var C=v.x*this.sx+v.y*this.shx+this.tx,G=v.x*this.shy+v.y*this.sy+this.ty;return new Va(C,G)},et.prototype.applyToRectangle=function(v){var C=this.applyToPoint(v),G=this.applyToPoint(new Va(v.x+v.w,v.y+v.h));return new jc(C.x,C.y,G.x-C.x,G.y-C.y)},et.prototype.clone=function(){var v=this.sx,C=this.shy,G=this.shx,te=this.sy,de=this.tx,ye=this.ty;return new et(v,C,G,te,de,ye)},g.Matrix=et;var pr=g.matrixMult=function(v,C){return C.multiply(v)},ai=new et(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=ai;var Ln=function(v,C){if(!Ci[v]){var G=(C instanceof va?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);C.id=G,Ci[v]=G,Ct[G]=C,Pt.publish("addPattern",C)}};g.ShadingPattern=va,g.TilingPattern=Ol,g.addShadingPattern=function(v,C){return L("addShadingPattern()"),Ln(v,C),this},g.beginTilingPattern=function(v){L("beginTilingPattern()"),kd(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},g.endTilingPattern=function(v,C){L("endTilingPattern()"),C.stream=_e[z].join(`
`),Ln(v,C),Pt.publish("endTilingPattern",C),Nn.pop().restore()};var vn=g.__private__.newObject=function(){var v=nn();return Xn(v,!0),v},nn=g.__private__.newObjectDeferred=function(){return Z++,oe[Z]=function(){return ce},Z},Xn=function(v,C){return C=typeof C=="boolean"&&C,oe[v]=ce,C&&X(v+" 0 obj"),v},Ks=g.__private__.newAdditionalObject=function(){var v={objId:nn(),content:""};return xe.push(v),v},Pi=nn(),zr=nn(),$r=g.__private__.decodeColorString=function(v){var C=v.split(" ");if(C.length!==2||C[1]!=="g"&&C[1]!=="G")C.length===5&&(C[4]==="k"||C[4]==="K")&&(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var G=parseFloat(C[0]);C=[G,G,G,"r"]}for(var te="#",de=0;de<3;de++)te+=("0"+Math.floor(255*parseFloat(C[de])).toString(16)).slice(-2);return te},mr=g.__private__.encodeColorString=function(v){var C;typeof v=="string"&&(v={ch1:v});var G=v.ch1,te=v.ch2,de=v.ch3,ye=v.ch4,Ce=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var Ve=new m4(G);if(Ve.ok)G=Ve.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var Qe=parseInt(G.substr(1),16);G=Qe>>16&255,te=Qe>>8&255,de=255&Qe}if(te===void 0||ye===void 0&&G===te&&te===de)if(typeof G=="string")C=G+" "+Ce[0];else switch(v.precision){case 2:C=H(G/255)+" "+Ce[0];break;case 3:default:C=R(G/255)+" "+Ce[0]}else if(ye===void 0||Ot(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return C=["1.","1.","1.",Ce[1]].join(" ");if(typeof G=="string")C=[G,te,de,Ce[1]].join(" ");else switch(v.precision){case 2:C=[H(G/255),H(te/255),H(de/255),Ce[1]].join(" ");break;default:case 3:C=[R(G/255),R(te/255),R(de/255),Ce[1]].join(" ")}}else if(typeof G=="string")C=[G,te,de,ye,Ce[2]].join(" ");else switch(v.precision){case 2:C=[H(G),H(te),H(de),H(ye),Ce[2]].join(" ");break;case 3:default:C=[R(G),R(te),R(de),R(ye),Ce[2]].join(" ")}return C},ft=g.__private__.getFilters=function(){return o},Nr=g.__private__.putStream=function(v){var C=(v=v||{}).data||"",G=v.filters||ft(),te=v.alreadyAppliedFilters||[],de=v.addLength1||!1,ye=C.length,Ce=v.objectId,Ve=function(Zn){return Zn};if(h!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Ve=Qn.encryptor(Ce,0));var Qe={};G===!0&&(G=["FlateEncode"]);var yt=v.additionalKeyValues||[],gt=(Qe=it.API.processDataByFilters!==void 0?it.API.processDataByFilters(C,G):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(Qe.data.length!==0&&(yt.push({key:"Length",value:Qe.data.length}),de===!0&&yt.push({key:"Length1",value:ye})),gt.length!=0)if(gt.split("/").length-1==1)yt.push({key:"Filter",value:gt});else{yt.push({key:"Filter",value:"["+gt+"]"});for(var Nt=0;Nt<yt.length;Nt+=1)if(yt[Nt].key==="DecodeParms"){for(var sn=[],hn=0;hn<Qe.reverseChain.split("/").length-1;hn+=1)sn.push("null");sn.push(yt[Nt].value),yt[Nt].value="["+sn.join(" ")+"]"}}X("<<");for(var An=0;An<yt.length;An++)X("/"+yt[An].key+" "+yt[An].value);X(">>"),Qe.data.length!==0&&(X("stream"),X(Ve(Qe.data)),X("endstream"))},li=g.__private__.putPage=function(v){var C=v.number,G=v.data,te=v.objId,de=v.contentsObjId;Xn(te,!0),X("<</Type /Page"),X("/Parent "+v.rootDictionaryObjId+" 0 R"),X("/Resources "+v.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(B(v.mediaBox.bottomLeftX))+" "+parseFloat(B(v.mediaBox.bottomLeftY))+" "+B(v.mediaBox.topRightX)+" "+B(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&X("/CropBox ["+B(v.cropBox.bottomLeftX)+" "+B(v.cropBox.bottomLeftY)+" "+B(v.cropBox.topRightX)+" "+B(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&X("/BleedBox ["+B(v.bleedBox.bottomLeftX)+" "+B(v.bleedBox.bottomLeftY)+" "+B(v.bleedBox.topRightX)+" "+B(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&X("/TrimBox ["+B(v.trimBox.bottomLeftX)+" "+B(v.trimBox.bottomLeftY)+" "+B(v.trimBox.topRightX)+" "+B(v.trimBox.topRightY)+"]"),v.artBox!==null&&X("/ArtBox ["+B(v.artBox.bottomLeftX)+" "+B(v.artBox.bottomLeftY)+" "+B(v.artBox.topRightX)+" "+B(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&X("/UserUnit "+v.userUnit),Pt.publish("putPage",{objId:te,pageContext:ht[C],pageNumber:C,page:G}),X("/Contents "+de+" 0 R"),X(">>"),X("endobj");var ye=G.join(`
`);return _===x.ADVANCED&&(ye+=`
Q`),Xn(de,!0),Nr({data:ye,filters:ft(),objectId:de}),X("endobj"),te},qr=g.__private__.putPages=function(){var v,C,G=[];for(v=1;v<=Bt;v++)ht[v].objId=nn(),ht[v].contentsObjId=nn();for(v=1;v<=Bt;v++)G.push(li({number:v,data:_e[v],objId:ht[v].objId,contentsObjId:ht[v].contentsObjId,mediaBox:ht[v].mediaBox,cropBox:ht[v].cropBox,bleedBox:ht[v].bleedBox,trimBox:ht[v].trimBox,artBox:ht[v].artBox,userUnit:ht[v].userUnit,rootDictionaryObjId:Pi,resourceDictionaryObjId:zr}));Xn(Pi,!0),X("<</Type /Pages");var te="/Kids [";for(C=0;C<Bt;C++)te+=G[C]+" 0 R ";X(te+"]"),X("/Count "+Bt),X(">>"),X("endobj"),Pt.publish("postPutPages")},ci=function(v){Pt.publish("putFont",{font:v,out:X,newObject:vn,putStream:Nr}),v.isAlreadyPutted!==!0&&(v.objectNumber=vn(),X("<<"),X("/Type /Font"),X("/BaseFont /"+yl(v.postScriptName)),X("/Subtype /Type1"),typeof v.encoding=="string"&&X("/Encoding /"+v.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},vs=function(){for(var v in Ft)Ft.hasOwnProperty(v)&&(f===!1||f===!0&&m.hasOwnProperty(v))&&ci(Ft[v])},Jo=function(v){v.objectNumber=vn();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[B(v.x),B(v.y),B(v.x+v.width),B(v.y+v.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var G=v.pages[1].join(`
`);Nr({data:G,additionalKeyValues:C,objectId:v.objectNumber}),X("endobj")},Js=function(){for(var v in kn)kn.hasOwnProperty(v)&&Jo(kn[v])},Oa=function(v,C){var G,te=[],de=1/(C-1);for(G=0;G<1;G+=de)te.push(G);if(te.push(1),v[0].offset!=0){var ye={offset:0,color:v[0].color};v.unshift(ye)}if(v[v.length-1].offset!=1){var Ce={offset:1,color:v[v.length-1].color};v.push(Ce)}for(var Ve="",Qe=0,yt=0;yt<te.length;yt++){for(G=te[yt];G>v[Qe+1].offset;)Qe++;var gt=v[Qe].offset,Nt=(G-gt)/(v[Qe+1].offset-gt),sn=v[Qe].color,hn=v[Qe+1].color;Ve+=Y(Math.round((1-Nt)*sn[0]+Nt*hn[0]).toString(16))+Y(Math.round((1-Nt)*sn[1]+Nt*hn[1]).toString(16))+Y(Math.round((1-Nt)*sn[2]+Nt*hn[2]).toString(16))}return Ve.trim()},Da=function(v,C){C||(C=21);var G=vn(),te=Oa(v.colors,C),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+C+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Nr({data:te,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),X("endobj"),v.objectNumber=vn(),X("<< /ShadingType "+v.type),X("/ColorSpace /DeviceRGB");var ye="/Coords ["+B(parseFloat(v.coords[0]))+" "+B(parseFloat(v.coords[1]))+" ";v.type===2?ye+=B(parseFloat(v.coords[2]))+" "+B(parseFloat(v.coords[3])):ye+=B(parseFloat(v.coords[2]))+" "+B(parseFloat(v.coords[3]))+" "+B(parseFloat(v.coords[4]))+" "+B(parseFloat(v.coords[5])),X(ye+="]"),v.matrix&&X("/Matrix ["+v.matrix.toString()+"]"),X("/Function "+G+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Ys=function(v,C){var G=nn(),te=vn();C.push({resourcesOid:G,objectOid:te}),v.objectNumber=te;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+v.boundingBox.map(B).join(" ")+"]"}),de.push({key:"XStep",value:B(v.xStep)}),de.push({key:"YStep",value:B(v.yStep)}),de.push({key:"Resources",value:G+" 0 R"}),v.matrix&&de.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Nr({data:v.stream,additionalKeyValues:de,objectId:v.objectNumber}),X("endobj")},Xs=function(v){var C;for(C in Ct)Ct.hasOwnProperty(C)&&(Ct[C]instanceof va?Da(Ct[C]):Ct[C]instanceof Ol&&Ys(Ct[C],v))},ys=function(v){for(var C in v.objectNumber=vn(),X("<<"),v)switch(C){case"opacity":X("/ca "+H(v[C]));break;case"stroke-opacity":X("/CA "+H(v[C]))}X(">>"),X("endobj")},mc=function(){var v;for(v in Wt)Wt.hasOwnProperty(v)&&ys(Wt[v])},Qs=function(){for(var v in X("/XObject <<"),kn)kn.hasOwnProperty(v)&&kn[v].objectNumber>=0&&X("/"+v+" "+kn[v].objectNumber+" 0 R");Pt.publish("putXobjectDict"),X(">>")},gc=function(){Qn.oid=vn(),X("<<"),X("/Filter /Standard"),X("/V "+Qn.v),X("/R "+Qn.r),X("/U <"+Qn.toHexString(Qn.U)+">"),X("/O <"+Qn.toHexString(Qn.O)+">"),X("/P "+Qn.P),X(">>"),X("endobj")},Ei=function(){for(var v in X("/Font <<"),Ft)Ft.hasOwnProperty(v)&&(f===!1||f===!0&&m.hasOwnProperty(v))&&X("/"+v+" "+Ft[v].objectNumber+" 0 R");X(">>")},vc=function(){if(Object.keys(Ct).length>0){for(var v in X("/Shading <<"),Ct)Ct.hasOwnProperty(v)&&Ct[v]instanceof va&&Ct[v].objectNumber>=0&&X("/"+v+" "+Ct[v].objectNumber+" 0 R");Pt.publish("putShadingPatternDict"),X(">>")}},Zs=function(v){if(Object.keys(Ct).length>0){for(var C in X("/Pattern <<"),Ct)Ct.hasOwnProperty(C)&&Ct[C]instanceof g.TilingPattern&&Ct[C].objectNumber>=0&&Ct[C].objectNumber<v&&X("/"+C+" "+Ct[C].objectNumber+" 0 R");Pt.publish("putTilingPatternDict"),X(">>")}},Le=function(){if(Object.keys(Wt).length>0){var v;for(v in X("/ExtGState <<"),Wt)Wt.hasOwnProperty(v)&&Wt[v].objectNumber>=0&&X("/"+v+" "+Wt[v].objectNumber+" 0 R");Pt.publish("putGStateDict"),X(">>")}},Ue=function(v){Xn(v.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ei(),vc(),Zs(v.objectOid),Le(),Qs(),X(">>"),X("endobj")},nt=function(){var v=[];vs(),mc(),Js(),Xs(v),Pt.publish("putResources"),v.forEach(Ue),Ue({resourcesOid:zr,objectOid:Number.MAX_SAFE_INTEGER}),Pt.publish("postPutResources")},je=function(){Pt.publish("putAdditionalObjects");for(var v=0;v<xe.length;v++){var C=xe[v];Xn(C.objId,!0),X(C.content),X("endobj")}Pt.publish("postPutAdditionalObjects")},Xe=function(v){Mt[v.fontName]=Mt[v.fontName]||{},Mt[v.fontName][v.fontStyle]=v.id},St=function(v,C,G,te,de){var ye={id:"F"+(Object.keys(Ft).length+1).toString(10),postScriptName:v,fontName:C,fontStyle:G,encoding:te,isStandardFont:de||!1,metadata:{}};return Pt.publish("addFont",{font:ye,instance:this}),Ft[ye.id]=ye,Xe(ye),ye.id},Ee=function(v){for(var C=0,G=Ne.length;C<G;C++){var te=St.call(this,v[C][0],v[C][1],v[C][2],Ne[C][3],!0);f===!1&&(m[te]=!0);var de=v[C][0].split("-");Xe({id:te,fontName:de[0],fontStyle:de[1]||""})}Pt.publish("addFonts",{fonts:Ft,dictionary:Mt})},Ke=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(te){var C=te.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var G="Error in function "+C.split(`
`)[0].split("<")[0]+": "+te.message;if(!ct.console)throw new Error(G);ct.console.error(G,te),ct.alert&&alert(G)}},v.foo.bar=v,v.foo},ut=function(v,C){var G,te,de,ye,Ce,Ve,Qe,yt,gt;if(de=(C=C||{}).sourceEncoding||"Unicode",Ce=C.outputEncoding,(C.autoencode||Ce)&&Ft[bt].metadata&&Ft[bt].metadata[de]&&Ft[bt].metadata[de].encoding&&(ye=Ft[bt].metadata[de].encoding,!Ce&&Ft[bt].encoding&&(Ce=Ft[bt].encoding),!Ce&&ye.codePages&&(Ce=ye.codePages[0]),typeof Ce=="string"&&(Ce=ye[Ce]),Ce)){for(Qe=!1,Ve=[],G=0,te=v.length;G<te;G++)(yt=Ce[v.charCodeAt(G)])?Ve.push(String.fromCharCode(yt)):Ve.push(v[G]),Ve[G].charCodeAt(0)>>8&&(Qe=!0);v=Ve.join("")}for(G=v.length;Qe===void 0&&G!==0;)v.charCodeAt(G-1)>>8&&(Qe=!0),G--;if(!Qe)return v;for(Ve=C.noBOM?[]:[254,255],G=0,te=v.length;G<te;G++){if((gt=(yt=v.charCodeAt(G))>>8)>>8)throw new Error("Character at position "+G+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ve.push(gt),Ve.push(yt-(gt<<8))}return String.fromCharCode.apply(void 0,Ve)},tt=g.__private__.pdfEscape=g.pdfEscape=function(v,C){return ut(v,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ht=g.__private__.beginPage=function(v){_e[++Bt]=[],ht[Bt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},Li(Bt),ve(_e[z])},qn=function(v,C){var G,te,de;switch(n=C||n,typeof v=="string"&&(G=y(v.toLowerCase()),Array.isArray(G)&&(te=G[0],de=G[1])),Array.isArray(v)&&(te=v[0]*ze,de=v[1]*ze),isNaN(te)&&(te=i[0],de=i[1]),(te>14400||de>14400)&&(Vt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),de=Math.min(14400,de)),i=[te,de],n.substr(0,1)){case"l":de>te&&(i=[de,te]);break;case"p":te>de&&(i=[de,te])}Ht(i),xd(xc),X(Ti),Sc!==0&&X(Sc+" J"),_c!==0&&X(_c+" j"),Pt.publish("addPage",{pageNumber:Bt})},ui=function(v){v>0&&v<=Bt&&(_e.splice(v,1),ht.splice(v,1),Bt--,z>Bt&&(z=Bt),this.setPage(z))},Li=function(v){v>0&&v<=Bt&&(z=v)},Xt=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return _e.length-1},dn=function(v,C,G){var te,de=void 0;return G=G||{},v=v!==void 0?v:Ft[bt].fontName,C=C!==void 0?C:Ft[bt].fontStyle,te=v.toLowerCase(),Mt[te]!==void 0&&Mt[te][C]!==void 0?de=Mt[te][C]:Mt[v]!==void 0&&Mt[v][C]!==void 0?de=Mt[v][C]:G.disableWarning===!1&&Vt.warn("Unable to look up font label for font '"+v+"', '"+C+"'. Refer to getFontList() for available fonts."),de||G.noFallback||(de=Mt.times[C])==null&&(de=Mt.times.normal),de},Zi=g.__private__.putInfo=function(){var v=vn(),C=function(te){return te};for(var G in h!==null&&(C=Qn.encryptor(v,0)),X("<<"),X("/Producer ("+tt(C("jsPDF "+it.version))+")"),Ye)Ye.hasOwnProperty(G)&&Ye[G]&&X("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+tt(C(Ye[G]))+")");X("/CreationDate ("+tt(C(ue))+")"),X(">>"),X("endobj")},Vr=g.__private__.putCatalog=function(v){var C=(v=v||{}).rootDictionaryObjId||Pi;switch(vn(),X("<<"),X("/Type /Catalog"),X("/Pages "+C+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+Me;G.substr(G.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&X("/OpenAction [3 0 R /XYZ null null "+H(Me)+"]")}switch($e||($e="continuous"),$e){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}st&&X("/PageMode /"+st),Pt.publish("putCatalog"),X(">>"),X("endobj")},Ma=g.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(Z+1)),X("/Root "+Z+" 0 R"),X("/Info "+(Z-1)+" 0 R"),h!==null&&X("/Encrypt "+Qn.oid+" 0 R"),X("/ID [ <"+le+"> <"+le+"> ]"),X(">>")},xp=g.__private__.putHeader=function(){X("%PDF-"+b),X("%")},bp=g.__private__.putXRef=function(){var v="0000000000";X("xref"),X("0 "+(Z+1)),X("0000000000 65535 f ");for(var C=1;C<=Z;C++)typeof oe[C]=="function"?X((v+oe[C]()).slice(-10)+" 00000 n "):oe[C]!==void 0?X((v+oe[C]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},ws=g.__private__.buildDocument=function(){Ze(),ve(he),Pt.publish("buildDocument"),xp(),qr(),je(),nt(),h!==null&&gc(),Zi(),Vr();var v=ce;return bp(),Ma(),X("startxref"),X(""+v),X("%%EOF"),ve(_e[z]),he.join(`
`)},Ba=g.__private__.getBlob=function(v){return new Blob([He(v)],{type:"application/pdf"})},Ua=g.output=g.__private__.output=Ke(function(v,C){switch(typeof(C=C||{})=="string"?C={filename:C}:C.filename=C.filename||"generated.pdf",v){case void 0:return ws();case"save":g.save(C.filename);break;case"arraybuffer":return He(ws());case"blob":return Ba(ws());case"bloburi":case"bloburl":if(ct.URL!==void 0&&typeof ct.URL.createObjectURL=="function")return ct.URL&&ct.URL.createObjectURL(Ba(ws()))||void 0;Vt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",te=ws();try{G=Eg(te)}catch{G=Eg(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+C.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(de=C.pdfObjectUrl,ye="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",Ve=ct.open();return Ve!==null&&Ve.document.write(Ce),Ve}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',yt=ct.open();if(yt!==null){yt.document.write(Qe);var gt=this;yt.document.documentElement.querySelector("#pdfViewer").onload=function(){yt.document.title=C.filename,yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gt.output("bloburl"))}}return yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ct)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',sn=ct.open();if(sn!==null&&(sn.document.write(Nt),sn.document.title=C.filename),sn||typeof safari>"u")return sn;break;case"datauri":case"dataurl":return ct.document.location.href=this.output("datauristring",C);default:return null}}),gd=function(v){return Array.isArray(Qi)===!0&&Qi.indexOf(v)>-1};switch(r){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=gd("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ze=r}var Qn=null;me(),K();var Sp=function(v){return h!==null?Qn.encryptor(v,0):function(C){return C}},vd=g.__private__.getPageInfo=g.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ht[v].objId,pageNumber:v,pageContext:ht[v]}},mt=g.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in ht)if(ht[C].objId===v)break;return vd(C)},_p=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ht[z].objId,pageNumber:z,pageContext:ht[z]}};g.addPage=function(){return qn.apply(this,arguments),this},g.setPage=function(){return Li.apply(this,arguments),ve.call(this,_e[z]),this},g.insertPage=function(v){return this.addPage(),this.movePage(z,v),this},g.movePage=function(v,C){var G,te;if(v>C){G=_e[v],te=ht[v];for(var de=v;de>C;de--)_e[de]=_e[de-1],ht[de]=ht[de-1];_e[C]=G,ht[C]=te,this.setPage(C)}else if(v<C){G=_e[v],te=ht[v];for(var ye=v;ye<C;ye++)_e[ye]=_e[ye+1],ht[ye]=ht[ye+1];_e[C]=G,ht[C]=te,this.setPage(C)}return this},g.deletePage=function(){return ui.apply(this,arguments),this},g.__private__.text=g.text=function(v,C,G,te,de){var ye,Ce,Ve,Qe,yt,gt,Nt,sn,hn,An=(te=te||{}).scope||this;if(typeof v=="number"&&typeof C=="number"&&(typeof G=="string"||Array.isArray(G))){var Zn=G;G=C,C=v,v=Zn}if(arguments[3]instanceof et?(L("The transform parameter of text() with a Matrix value"),hn=de):(Ve=arguments[4],Qe=arguments[5],Ot(Nt=arguments[3])==="object"&&Nt!==null||(typeof Ve=="string"&&(Qe=Ve,Ve=null),typeof Nt=="string"&&(Qe=Nt,Nt=null),typeof Nt=="number"&&(Ve=Nt,Nt=null),te={flags:Nt,angle:Ve,align:Qe})),isNaN(C)||isNaN(G)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return An;var On="",Fi=!1,Wr=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:Xo,ns=An.internal.scaleFactor;function Nd(Gt){return Gt=Gt.split("	").join(Array(te.TabLen||9).join(" ")),tt(Gt,Nt)}function Cc(Gt){for(var Kt,wn=Gt.concat(),Tn=[],js=wn.length;js--;)typeof(Kt=wn.shift())=="string"?Tn.push(Kt):Array.isArray(Gt)&&(Kt.length===1||Kt[1]===void 0&&Kt[2]===void 0)?Tn.push(Kt[0]):Tn.push([Kt[0],Kt[1],Kt[2]]);return Tn}function Pc(Gt,Kt){var wn;if(typeof Gt=="string")wn=Kt(Gt)[0];else if(Array.isArray(Gt)){for(var Tn,js,Dc=Gt.concat(),tl=[],Ld=Dc.length;Ld--;)typeof(Tn=Dc.shift())=="string"?tl.push(Kt(Tn)[0]):Array.isArray(Tn)&&typeof Tn[0]=="string"&&(js=Kt(Tn[0],Tn[1],Tn[2]),tl.push([js[0],js[1],js[2]]));wn=tl}return wn}var Ha=!1,Ec=!0;if(typeof v=="string")Ha=!0;else if(Array.isArray(v)){var Lc=v.concat();Ce=[];for(var Ga,Vn=Lc.length;Vn--;)(typeof(Ga=Lc.shift())!="string"||Array.isArray(Ga)&&typeof Ga[0]!="string")&&(Ec=!1);Ha=Ec}if(Ha===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Ka=Re/An.internal.scaleFactor,Ja=Ka*(Wr-1);switch(te.baseline){case"bottom":G-=Ja;break;case"top":G+=Ka-Ja;break;case"hanging":G+=Ka-2*Ja;break;case"middle":G+=Ka/2-Ja}if((gt=te.maxWidth||0)>0&&(typeof v=="string"?v=An.splitTextToSize(v,gt):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(Gt,Kt){return Gt.concat(An.splitTextToSize(Kt,gt))},[]))),ye={text:v,x:C,y:G,options:te,mutex:{pdfEscape:tt,activeFontKey:bt,fonts:Ft,activeFontSize:Re}},Pt.publish("preProcessText",ye),v=ye.text,Ve=(te=ye.options).angle,!(hn instanceof et)&&Ve&&typeof Ve=="number"){Ve*=Math.PI/180,te.rotationDirection===0&&(Ve=-Ve),_===x.ADVANCED&&(Ve=-Ve);var Ya=Math.cos(Ve),Tc=Math.sin(Ve);hn=new et(Ya,Tc,-Tc,Ya,0,0)}else Ve&&Ve instanceof et&&(hn=Ve);_!==x.ADVANCED||hn||(hn=ai),(yt=te.charSpace||qa)!==void 0&&(On+=B(P(yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(sn=te.horizontalScale)!==void 0&&(On+=B(100*sn)+` Tz
`),te.lang;var Ar=-1,Fp=te.renderingMode!==void 0?te.renderingMode:te.stroke,Fc=An.internal.getCurrentPageInfo().pageContext;switch(Fp){case 0:case!1:case"fill":Ar=0;break;case 1:case!0:case"stroke":Ar=1;break;case 2:case"fillThenStroke":Ar=2;break;case 3:case"invisible":Ar=3;break;case 4:case"fillAndAddForClipping":Ar=4;break;case 5:case"strokeAndAddPathForClipping":Ar=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ar=6;break;case 7:case"addToPathForClipping":Ar=7}var Ad=Fc.usedRenderingMode!==void 0?Fc.usedRenderingMode:-1;Ar!==-1?On+=Ar+` Tr
`:Ad!==-1&&(On+=`0 Tr
`),Ar!==-1&&(Fc.usedRenderingMode=Ar),Qe=te.align||"left";var di,Xa=Re*Wr,Cd=An.internal.pageSize.getWidth(),Pd=Ft[bt];yt=te.charSpace||qa,gt=te.maxWidth||0,Nt=Object.assign({autoencode:!0,noBOM:!0},te.flags);var ro=[],ea=function(Gt){return An.getStringUnitWidth(Gt,{font:Pd,charSpace:yt,fontSize:Re,doKerning:!1})*Re/ns};if(Object.prototype.toString.call(v)==="[object Array]"){var Cr;Ce=Cc(v),Qe!=="left"&&(di=Ce.map(ea));var gr,io=0;if(Qe==="right"){C-=di[0],v=[],Vn=Ce.length;for(var bs=0;bs<Vn;bs++)bs===0?(gr=ts(C),Cr=xs(G)):(gr=P(io-di[bs]),Cr=-Xa),v.push([Ce[bs],gr,Cr]),io=di[bs]}else if(Qe==="center"){C-=di[0]/2,v=[],Vn=Ce.length;for(var Ss=0;Ss<Vn;Ss++)Ss===0?(gr=ts(C),Cr=xs(G)):(gr=P((io-di[Ss])/2),Cr=-Xa),v.push([Ce[Ss],gr,Cr]),io=di[Ss]}else if(Qe==="left"){v=[],Vn=Ce.length;for(var Qa=0;Qa<Vn;Qa++)v.push(Ce[Qa])}else if(Qe==="justify"&&Pd.encoding==="Identity-H"){v=[],Vn=Ce.length,gt=gt!==0?gt:Cd;for(var _s=0,yn=0;yn<Vn;yn++)if(Cr=yn===0?xs(G):-Xa,gr=yn===0?ts(C):_s,yn<Vn-1){var Ic=P((gt-di[yn])/(Ce[yn].split(" ").length-1)),vr=Ce[yn].split(" ");v.push([vr[0]+" ",gr,Cr]),_s=0;for(var hi=1;hi<vr.length;hi++){var Za=(ea(vr[hi-1]+" "+vr[hi])-ea(vr[hi]))*ns+Ic;hi==vr.length-1?v.push([vr[hi],Za,0]):v.push([vr[hi]+" ",Za,0]),_s-=Za}}else v.push([Ce[yn],gr,Cr]);v.push(["",_s,0])}else{if(Qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Vn=Ce.length,gt=gt!==0?gt:Cd,yn=0;yn<Vn;yn++)Cr=yn===0?xs(G):-Xa,gr=yn===0?ts(C):0,yn<Vn-1?ro.push(B(P((gt-di[yn])/(Ce[yn].split(" ").length-1)))):ro.push(0),v.push([Ce[yn],gr,Cr])}}var Ed=typeof te.R2L=="boolean"?te.R2L:qe;Ed===!0&&(v=Pc(v,function(Gt,Kt,wn){return[Gt.split("").reverse().join(""),Kt,wn]})),ye={text:v,x:C,y:G,options:te,mutex:{pdfEscape:tt,activeFontKey:bt,fonts:Ft,activeFontSize:Re}},Pt.publish("postProcessText",ye),v=ye.text,Fi=ye.mutex.isHex||!1;var Rc=Ft[bt].encoding;Rc!=="WinAnsiEncoding"&&Rc!=="StandardEncoding"||(v=Pc(v,function(Gt,Kt,wn){return[Nd(Gt),Kt,wn]})),Ce=Cc(v),v=[];for(var ta,na,so,ra=0,el=1,ia=Array.isArray(Ce[0])?el:ra,oo="",Oc=function(Gt,Kt,wn){var Tn="";return wn instanceof et?(wn=typeof te.angle=="number"?pr(wn,new et(1,0,0,1,Gt,Kt)):pr(new et(1,0,0,1,Gt,Kt),wn),_===x.ADVANCED&&(wn=pr(new et(1,0,0,-1,0,0),wn)),Tn=wn.join(" ")+` Tm
`):Tn=B(Gt)+" "+B(Kt)+` Td
`,Tn},fi=0;fi<Ce.length;fi++){switch(oo="",ia){case el:so=(Fi?"<":"(")+Ce[fi][0]+(Fi?">":")"),ta=parseFloat(Ce[fi][1]),na=parseFloat(Ce[fi][2]);break;case ra:so=(Fi?"<":"(")+Ce[fi]+(Fi?">":")"),ta=ts(C),na=xs(G)}ro!==void 0&&ro[fi]!==void 0&&(oo=ro[fi]+` Tw
`),fi===0?v.push(oo+Oc(ta,na,hn)+so):ia===ra?v.push(oo+so):ia===el&&v.push(oo+Oc(ta,na,hn)+so)}v=ia===ra?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var pi=`BT
/`;return pi+=bt+" "+Re+` Tf
`,pi+=B(Re*Wr)+` TL
`,pi+=Qo+`
`,pi+=On,pi+=v,X(pi+="ET"),m[bt]=!0,An};var jp=g.__private__.clip=g.clip=function(v){return X(v==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return jp("evenodd")},g.__private__.discardPath=g.discardPath=function(){return X("n"),this};var es=g.__private__.isValidStyle=function(v){var C=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(C=!0),C};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(v){return es(v)&&(c=v),this};var yd=g.__private__.getStyle=g.getStyle=function(v){var C=c;switch(v){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=v}return C},wd=g.close=function(){return X("h"),this};g.stroke=function(){return X("S"),this},g.fill=function(v){return za("f",v),this},g.fillEvenOdd=function(v){return za("f*",v),this},g.fillStroke=function(v){return za("B",v),this},g.fillStrokeEvenOdd=function(v){return za("B*",v),this};var za=function(v,C){Ot(C)==="object"?Np(C,v):X(v)},yc=function(v){v===null||_===x.ADVANCED&&v===void 0||(v=yd(v),X(v))};function kp(v,C,G,te,de){var ye=new Ol(C||this.boundingBox,G||this.xStep,te||this.yStep,this.gState,de||this.matrix);ye.stream=this.stream;var Ce=v+"$$"+this.cloneIndex+++"$$";return Ln(Ce,ye),ye}var Np=function(v,C){var G=Ci[v.key],te=Ct[G];if(te instanceof va)X("q"),X(Ap(C)),te.gState&&g.setGState(te.gState),X(v.matrix.toString()+" cm"),X("/"+G+" sh"),X("Q");else if(te instanceof Ol){var de=new et(1,0,0,-1,0,no());v.matrix&&(de=de.multiply(v.matrix||ai),G=kp.call(te,v.key,v.boundingBox,v.xStep,v.yStep,de).id),X("q"),X("/Pattern cs"),X("/"+G+" scn"),te.gState&&g.setGState(te.gState),X(C),X("Q")}},Ap=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},wc=g.moveTo=function(v,C){return X(B(P(v))+" "+B(W(C))+" m"),this},Yo=g.lineTo=function(v,C){return X(B(P(v))+" "+B(W(C))+" l"),this},eo=g.curveTo=function(v,C,G,te,de,ye){return X([B(P(v)),B(W(C)),B(P(G)),B(W(te)),B(P(de)),B(W(ye)),"c"].join(" ")),this};g.__private__.line=g.line=function(v,C,G,te,de){if(isNaN(v)||isNaN(C)||isNaN(G)||isNaN(te)||!es(de))throw new Error("Invalid arguments passed to jsPDF.line");return _===x.COMPAT?this.lines([[G-v,te-C]],v,C,[1,1],de||"S"):this.lines([[G-v,te-C]],v,C,[1,1]).stroke()},g.__private__.lines=g.lines=function(v,C,G,te,de,ye){var Ce,Ve,Qe,yt,gt,Nt,sn,hn,An,Zn,On,Fi;if(typeof v=="number"&&(Fi=G,G=C,C=v,v=Fi),te=te||[1,1],ye=ye||!1,isNaN(C)||isNaN(G)||!Array.isArray(v)||!Array.isArray(te)||!es(de)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wc(C,G),Ce=te[0],Ve=te[1],yt=v.length,Zn=C,On=G,Qe=0;Qe<yt;Qe++)(gt=v[Qe]).length===2?(Zn=gt[0]*Ce+Zn,On=gt[1]*Ve+On,Yo(Zn,On)):(Nt=gt[0]*Ce+Zn,sn=gt[1]*Ve+On,hn=gt[2]*Ce+Zn,An=gt[3]*Ve+On,Zn=gt[4]*Ce+Zn,On=gt[5]*Ve+On,eo(Nt,sn,hn,An,Zn,On));return ye&&wd(),yc(de),this},g.path=function(v){for(var C=0;C<v.length;C++){var G=v[C],te=G.c;switch(G.op){case"m":wc(te[0],te[1]);break;case"l":Yo(te[0],te[1]);break;case"c":eo.apply(this,te);break;case"h":wd()}}return this},g.__private__.rect=g.rect=function(v,C,G,te,de){if(isNaN(v)||isNaN(C)||isNaN(G)||isNaN(te)||!es(de))throw new Error("Invalid arguments passed to jsPDF.rect");return _===x.COMPAT&&(te=-te),X([B(P(v)),B(W(C)),B(P(G)),B(P(te)),"re"].join(" ")),yc(de),this},g.__private__.triangle=g.triangle=function(v,C,G,te,de,ye,Ce){if(isNaN(v)||isNaN(C)||isNaN(G)||isNaN(te)||isNaN(de)||isNaN(ye)||!es(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-v,te-C],[de-G,ye-te],[v-de,C-ye]],v,C,[1,1],Ce,!0),this},g.__private__.roundedRect=g.roundedRect=function(v,C,G,te,de,ye,Ce){if(isNaN(v)||isNaN(C)||isNaN(G)||isNaN(te)||isNaN(de)||isNaN(ye)||!es(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ve=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*G),ye=Math.min(ye,.5*te),this.lines([[G-2*de,0],[de*Ve,0,de,ye-ye*Ve,de,ye],[0,te-2*ye],[0,ye*Ve,-de*Ve,ye,-de,ye],[2*de-G,0],[-de*Ve,0,-de,-ye*Ve,-de,-ye],[0,2*ye-te],[0,-ye*Ve,de*Ve,-ye,de,-ye]],v+de,C,[1,1],Ce,!0),this},g.__private__.ellipse=g.ellipse=function(v,C,G,te,de){if(isNaN(v)||isNaN(C)||isNaN(G)||isNaN(te)||!es(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*G,Ce=4/3*(Math.SQRT2-1)*te;return wc(v+G,C),eo(v+G,C-Ce,v+ye,C-te,v,C-te),eo(v-ye,C-te,v-G,C-Ce,v-G,C),eo(v-G,C+Ce,v-ye,C+te,v,C+te),eo(v+ye,C+te,v+G,C+Ce,v+G,C),yc(de),this},g.__private__.circle=g.circle=function(v,C,G,te){if(isNaN(v)||isNaN(C)||isNaN(G)||!es(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,C,G,G,te)},g.setFont=function(v,C,G){return G&&(C=M(C,G)),bt=dn(v,C,{disableWarning:!1}),this};var Cp=g.__private__.getFont=g.getFont=function(){return Ft[dn.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var v,C,G={};for(v in Mt)if(Mt.hasOwnProperty(v))for(C in G[v]=[],Mt[v])Mt[v].hasOwnProperty(C)&&G[v].push(C);return G},g.addFont=function(v,C,G,te,de){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(G=M(G,te)),de=de||"Identity-H",St.call(this,v,C,G,de)};var Xo,xc=e.lineWidth||.200025,$a=g.__private__.getLineWidth=g.getLineWidth=function(){return xc},xd=g.__private__.setLineWidth=g.setLineWidth=function(v){return xc=v,X(B(P(v))+" w"),this};g.__private__.setLineDash=it.API.setLineDash=it.API.setLineDashPattern=function(v,C){if(v=v||[],C=C||0,isNaN(C)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(G){return B(P(G))}).join(" "),C=B(P(C)),X("["+v+"] "+C+" d"),this};var bd=g.__private__.getLineHeight=g.getLineHeight=function(){return Re*Xo};g.__private__.getLineHeight=g.getLineHeight=function(){return Re*Xo};var Sd=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Xo=v),this},_d=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Xo};Sd(e.lineHeight);var ts=g.__private__.getHorizontalCoordinate=function(v){return P(v)},xs=g.__private__.getVerticalCoordinate=function(v){return _===x.ADVANCED?v:ht[z].mediaBox.topRightY-ht[z].mediaBox.bottomLeftY-P(v)},Pp=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(v){return B(ts(v))},to=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(v){return B(xs(v))},Ti=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return $r(Ti)},g.__private__.setStrokeColor=g.setDrawColor=function(v,C,G,te){return Ti=mr({ch1:v,ch2:C,ch3:G,ch4:te,pdfColorType:"draw",precision:2}),X(Ti),this};var bc=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return $r(bc)},g.__private__.setFillColor=g.setFillColor=function(v,C,G,te){return bc=mr({ch1:v,ch2:C,ch3:G,ch4:te,pdfColorType:"fill",precision:2}),X(bc),this};var Qo=e.textColor||"0 g",Ep=g.__private__.getTextColor=g.getTextColor=function(){return $r(Qo)};g.__private__.setTextColor=g.setTextColor=function(v,C,G,te){return Qo=mr({ch1:v,ch2:C,ch3:G,ch4:te,pdfColorType:"text",precision:3}),this};var qa=e.charSpace,Lp=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(qa||0)};g.__private__.setCharSpace=g.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return qa=v,this};var Sc=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(v){var C=g.CapJoinStyles[v];if(C===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sc=C,X(C+" J"),this};var _c=0;g.__private__.setLineJoin=g.setLineJoin=function(v){var C=g.CapJoinStyles[v];if(C===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _c=C,X(C+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(B(P(v))+" M"),this},g.GState=If,g.setGState=function(v){(v=typeof v=="string"?Wt[fr[v]]:jd(null,v)).equals(si)||(X("/"+v.id+" gs"),si=v)};var jd=function(v,C){if(!v||!fr[v]){var G=!1;for(var te in Wt)if(Wt.hasOwnProperty(te)&&Wt[te].equals(C)){G=!0;break}if(G)C=Wt[te];else{var de="GS"+(Object.keys(Wt).length+1).toString(10);Wt[de]=C,C.id=de}return v&&(fr[v]=C.id),Pt.publish("addGState",C),C}};g.addGState=function(v,C){return jd(v,C),this},g.saveGraphicsState=function(){return X("q"),ii.push({key:bt,size:Re,color:Qo}),this},g.restoreGraphicsState=function(){X("Q");var v=ii.pop();return bt=v.key,Re=v.size,Qo=v.color,si=null,this},g.setCurrentTransformationMatrix=function(v){return X(v.toString()+" cm"),this},g.comment=function(v){return X("#"+v),this};var Va=function(v,C){var G=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(ye){isNaN(ye)||(G=parseFloat(ye))}});var te=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(ye){isNaN(ye)||(te=parseFloat(ye))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(ye){de=ye.toString()}}),this},jc=function(v,C,G,te){Va.call(this,v,C),this.type="rect";var de=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(Ce){isNaN(Ce)||(de=parseFloat(Ce))}});var ye=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(Ce){isNaN(Ce)||(ye=parseFloat(Ce))}}),this},kc=function(){this.page=Bt,this.currentPage=z,this.pages=_e.slice(0),this.pagesContext=ht.slice(0),this.x=Rn,this.y=dt,this.matrix=kr,this.width=Zo(z),this.height=no(z),this.outputDestination=Pe,this.id="",this.objectNumber=-1};kc.prototype.restore=function(){Bt=this.page,z=this.currentPage,ht=this.pagesContext,_e=this.pages,Rn=this.x,dt=this.y,kr=this.matrix,Nc(z,this.width),Ac(z,this.height),Pe=this.outputDestination};var kd=function(v,C,G,te,de){Nn.push(new kc),Bt=z=0,_e=[],Rn=v,dt=C,kr=de,Ht([G,te])},Tp=function(v){if(oi[v])Nn.pop().restore();else{var C=new kc,G="Xo"+(Object.keys(kn).length+1).toString(10);C.id=G,oi[v]=G,kn[G]=C,Pt.publish("addFormObject",C),Nn.pop().restore()}};for(var Wa in g.beginFormObject=function(v,C,G,te,de){return kd(v,C,G,te,de),this},g.endFormObject=function(v){return Tp(v),this},g.doFormObject=function(v,C){var G=kn[oi[v]];return X("q"),X(C.toString()+" cm"),X("/"+G.id+" Do"),X("Q"),this},g.getFormObject=function(v){var C=kn[oi[v]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},g.save=function(v,C){return v=v||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,C.returnPromise===!1?(ma(Ba(ws()),v),typeof ma.unload=="function"&&ct.setTimeout&&setTimeout(ma.unload,911),this):new Promise(function(G,te){try{var de=ma(Ba(ws()),v);typeof ma.unload=="function"&&ct.setTimeout&&setTimeout(ma.unload,911),G(de)}catch(ye){te(ye.message)}})},it.API)it.API.hasOwnProperty(Wa)&&(Wa==="events"&&it.API.events.length?function(v,C){var G,te,de;for(de=C.length-1;de!==-1;de--)G=C[de][0],te=C[de][1],v.subscribe.apply(v,[G].concat(typeof te=="function"?[te]:te))}(Pt,it.API.events):g[Wa]=it.API[Wa]);var Zo=g.getPageWidth=function(v){return(ht[v=v||z].mediaBox.topRightX-ht[v].mediaBox.bottomLeftX)/ze},Nc=g.setPageWidth=function(v,C){ht[v].mediaBox.topRightX=C*ze+ht[v].mediaBox.bottomLeftX},no=g.getPageHeight=function(v){return(ht[v=v||z].mediaBox.topRightY-ht[v].mediaBox.bottomLeftY)/ze},Ac=g.setPageHeight=function(v,C){ht[v].mediaBox.topRightY=C*ze+ht[v].mediaBox.bottomLeftY};return g.internal={pdfEscape:tt,getStyle:yd,getFont:Cp,getFontSize:Oe,getCharSpace:Lp,getTextColor:Ep,getLineHeight:bd,getLineHeightFactor:_d,getLineWidth:$a,write:ot,getHorizontalCoordinate:ts,getVerticalCoordinate:xs,getCoordinateString:Pp,getVerticalCoordinateString:to,collections:{},newObject:vn,newAdditionalObject:Ks,newObjectDeferred:nn,newObjectDeferredBegin:Xn,getFilters:ft,putStream:Nr,events:Pt,scaleFactor:ze,pageSize:{getWidth:function(){return Zo(z)},setWidth:function(v){Nc(z,v)},getHeight:function(){return no(z)},setHeight:function(v){Ac(z,v)}},encryptionOptions:h,encryption:Qn,getEncryptor:Sp,output:Ua,getNumberOfPages:Xt,pages:_e,out:X,f2:H,f3:R,getPageInfo:vd,getPageInfoByObjId:mt,getCurrentPageInfo:_p,getPDFVersion:S,Point:Va,Rectangle:jc,Matrix:et,hasHotfix:gd},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Zo(z)},set:function(v){Nc(z,v)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return no(z)},set:function(v){Ac(z,v)},enumerable:!0,configurable:!0}),Ee.call(g,Ne),bt="F1",qn(i,n),Pt.publish("initialized"),g}vl.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},vl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vl.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},vl.prototype.processOwnerPassword=function(e,t){return Tg(Lg(t).substr(0,5),e)},vl.prototype.encryptor=function(e,t){var n=Lg(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Tg(n,r)}},If.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Ot(e)!==Ot(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},it.API={events:[]},it.version="3.0.1";var pn=it.API,Nv=1,Ra=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hl=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vt=function(e){return e.toFixed(2)},yo=function(e){return e.toFixed(5)};pn.__acroform__={};var Mr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},aw=function(e){return e*Nv},ss=function(e){var t=new w4,n=Je.internal.getHeight(e)||0,r=Je.internal.getWidth(e)||0;return t.BBox=[0,0,Number(vt(r)),Number(vt(n))],t},VT=pn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},WT=pn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},HT=pn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Sn=pn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return HT(e,t-1)},_n=pn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return VT(e,t-1)},jn=pn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return WT(e,t-1)},GT=pn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(vt(l.lowerLeft_X)),Number(vt(l.lowerLeft_Y)),Number(vt(l.upperRight_X)),Number(vt(l.upperRight_Y))]},KT=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Fg(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+vt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ss(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},Fg=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(R){return R.split(`
`)}):i.map(function(R){return[R]});var s=n,o=Je.internal.getHeight(e)||0;o=o<0?-o:o;var a=Je.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(R,P,J){if(R+1<i.length){var W=P+" "+i[R+1][0];return _h(W,e,J).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var c,h,f=_h("3",e,s).height,m=e.multiline?o-s:(o-f)/2,g=m+=2,b=0,S=0,k=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+_h(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var y="",x=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var E=!1;if(i[_].length!==1&&k!==i[_].length-1){if((f+2)*(x+2)+2>o)continue e;y+=i[_][k],E=!0,S=_,_--}else{y=(y+=i[_][k]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var O=parseInt(_),M=l(O,y,s),B=_>=i.length-1;if(M&&!B){y+=" ",k=0;continue}if(M||B){if(B)S=O;else if(e.multiline&&(f+2)*(x+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(x+2)+2>o)continue e;S=O}}for(var L="",V=b;V<=S;V++){var H=i[V];if(e.multiline){if(V===S){L+=H[k]+" ",k=(k+1)%H.length;continue}if(V===b){L+=H[H.length-1]+" ";continue}}L+=H[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,h=_h(L,e,s).width,e.textAlign){case"right":c=a-h-2;break;case"center":c=(a-h)/2;break;case"left":default:c=2}t+=vt(c)+" "+vt(g)+` Td
`,t+="("+Ra(L)+`) Tj
`,t+=-vt(c)+` 0 Td
`,g=-(s+2),h=0,b=E?S:S+1,x++,y=""}break}return r.text=t,r.fontSize=s,r},_h=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},JT={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},YT=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},XT=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Ot(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},QT=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Yi.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(JT)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Nv=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new x4,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&YT(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=GT(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Je.createDefaultAppearanceStream(a),Ot(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=KT(a);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var f="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var g=a.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var b=g[o];typeof b=="function"&&(b=b.call(i,a)),f+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(i,a)),f+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&XT(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},y4=pn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Ot(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Ra(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Xm=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ra(r(e))+")"},ls=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ls.prototype.toString=function(){return this.objId+" 0 R"},ls.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ls.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:y4(i,this.objId,this.scope)}):i instanceof ls?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var w4=function(){ls.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Mr(w4,ls);var x4=function(){ls.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ra(n(e))+")"}},set:function(n){e=n}})};Mr(x4,ls);var Yi=function e(){ls.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Sn(t,3)},set:function(y){y?this.F=_n(t,3):this.F=jn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Rf)return;s="FieldObject"+e.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Ra(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Nv:c},set:function(y){c=y}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(y){h=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Rf||this instanceof ka))return Xm(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof zn?m:Xm(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof zn?y:y.substr(0,1)==="("?hl(y.substr(1,y.length-2)):hl(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zn?hl(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof zn?"/"+y:y}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof zn?g:Xm(g,this.objId,this.scope)},set:function(y){y=y.toString(),g=this instanceof zn?y:y.substr(0,1)==="("?hl(y.substr(1,y.length-2)):hl(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zn?hl(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof zn?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(y){y=!!y,S=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(y){b=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,1)},set:function(y){y?this.Ff=_n(this.Ff,1):this.Ff=jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,2)},set:function(y){y?this.Ff=_n(this.Ff,2):this.Ff=jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,3)},set:function(y){y?this.Ff=_n(this.Ff,3):this.Ff=jn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');k=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(k){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Mr(Yi,ls);var Vl=function(){Yi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return y4(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,18)},set:function(n){n?this.Ff=_n(this.Ff,18):this.Ff=jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=_n(this.Ff,19):this.Ff=jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,20)},set:function(n){n?(this.Ff=_n(this.Ff,20),t.sort()):this.Ff=jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,22)},set:function(n){n?this.Ff=_n(this.Ff,22):this.Ff=jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,23)},set:function(n){n?this.Ff=_n(this.Ff,23):this.Ff=jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,27)},set:function(n){n?this.Ff=_n(this.Ff,27):this.Ff=jn(this.Ff,27)}}),this.hasAppearanceStream=!1};Mr(Vl,Yi);var Wl=function(){Vl.call(this),this.fontName="helvetica",this.combo=!1};Mr(Wl,Vl);var Hl=function(){Wl.call(this),this.combo=!0};Mr(Hl,Wl);var Gh=function(){Hl.call(this),this.edit=!0};Mr(Gh,Hl);var zn=function(){Yi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,15)},set:function(n){n?this.Ff=_n(this.Ff,15):this.Ff=jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,16)},set:function(n){n?this.Ff=_n(this.Ff,16):this.Ff=jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,17)},set:function(n){n?this.Ff=_n(this.Ff,17):this.Ff=jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,26)},set:function(n){n?this.Ff=_n(this.Ff,26):this.Ff=jn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Ra(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ot(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Mr(zn,Yi);var Kh=function(){zn.call(this),this.pushButton=!0};Mr(Kh,zn);var Gl=function(){zn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Mr(Gl,zn);var Rf=function(){var e,t;Yi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Ra(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Ot(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Je.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Mr(Rf,Yi),Gl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Gl.prototype.createOption=function(e){var t=new Rf;return t.Parent=this,t.optionName=e,this.Kids.push(t),ZT.call(this.scope,t),t};var Jh=function(){zn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Je.CheckBox.createAppearanceStream()};Mr(Jh,zn);var ka=function(){Yi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,13)},set:function(t){t?this.Ff=_n(this.Ff,13):this.Ff=jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,21)},set:function(t){t?this.Ff=_n(this.Ff,21):this.Ff=jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,23)},set:function(t){t?this.Ff=_n(this.Ff,23):this.Ff=jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,24)},set:function(t){t?this.Ff=_n(this.Ff,24):this.Ff=jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,25)},set:function(t){t?this.Ff=_n(this.Ff,25):this.Ff=jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,26)},set:function(t){t?this.Ff=_n(this.Ff,26):this.Ff=jn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Mr(ka,Yi);var Yh=function(){ka.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,14)},set:function(e){e?this.Ff=_n(this.Ff,14):this.Ff=jn(this.Ff,14)}}),this.password=!0};Mr(Yh,ka);var Je={CheckBox:{createAppearanceStream:function(){return{N:{On:Je.CheckBox.YesNormal},D:{On:Je.CheckBox.YesPushDown,Off:Je.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ss(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=Fg(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+vt(Je.internal.getWidth(e))+" "+vt(Je.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+vt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=ss(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Je.internal.getHeight(e),o=Je.internal.getWidth(e),a=Fg(e,e.caption);return i.push("1 g"),i.push("0 0 "+vt(o)+" "+vt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+vt(o-1)+" "+vt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+vt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=ss(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+vt(Je.internal.getWidth(e))+" "+vt(Je.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Je.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Je.RadioButton.Circle.YesNormal,t.D[e]=Je.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ss(e);t.scope=e.scope;var n=[],r=Je.internal.getWidth(e)<=Je.internal.getHeight(e)?Je.internal.getWidth(e)/4:Je.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Je.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+yo(Je.internal.getWidth(e)/2)+" "+yo(Je.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ss(e);t.scope=e.scope;var n=[],r=Je.internal.getWidth(e)<=Je.internal.getHeight(e)?Je.internal.getWidth(e)/4:Je.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Je.internal.Bezier_C).toFixed(5)),o=Number((r*Je.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+yo(Je.internal.getWidth(e)/2)+" "+yo(Je.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+yo(Je.internal.getWidth(e)/2)+" "+yo(Je.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ss(e);t.scope=e.scope;var n=[],r=Je.internal.getWidth(e)<=Je.internal.getHeight(e)?Je.internal.getWidth(e)/4:Je.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Je.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+yo(Je.internal.getWidth(e)/2)+" "+yo(Je.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Je.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Je.RadioButton.Cross.YesNormal,t.D[e]=Je.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ss(e);t.scope=e.scope;var n=[],r=Je.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+vt(Je.internal.getWidth(e)-2)+" "+vt(Je.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(vt(r.x1.x)+" "+vt(r.x1.y)+" m"),n.push(vt(r.x2.x)+" "+vt(r.x2.y)+" l"),n.push(vt(r.x4.x)+" "+vt(r.x4.y)+" m"),n.push(vt(r.x3.x)+" "+vt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ss(e);t.scope=e.scope;var n=Je.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+vt(Je.internal.getWidth(e))+" "+vt(Je.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+vt(Je.internal.getWidth(e)-2)+" "+vt(Je.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(vt(n.x1.x)+" "+vt(n.x1.y)+" m"),r.push(vt(n.x2.x)+" "+vt(n.x2.y)+" l"),r.push(vt(n.x4.x)+" "+vt(n.x4.y)+" m"),r.push(vt(n.x3.x)+" "+vt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ss(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+vt(Je.internal.getWidth(e))+" "+vt(Je.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Je.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Je.internal.getWidth(e),n=Je.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Je.internal.getWidth=function(e){var t=0;return Ot(e)==="object"&&(t=aw(e.Rect[2])),t},Je.internal.getHeight=function(e){var t=0;return Ot(e)==="object"&&(t=aw(e.Rect[3])),t};var ZT=pn.addField=function(e){if(QT(this,e),!(e instanceof Yi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};pn.AcroFormChoiceField=Vl,pn.AcroFormListBox=Wl,pn.AcroFormComboBox=Hl,pn.AcroFormEditBox=Gh,pn.AcroFormButton=zn,pn.AcroFormPushButton=Kh,pn.AcroFormRadioButton=Gl,pn.AcroFormCheckBox=Jh,pn.AcroFormTextField=ka,pn.AcroFormPasswordField=Yh,pn.AcroFormAppearance=Je,pn.AcroForm={ChoiceField:Vl,ListBox:Wl,ComboBox:Hl,EditBox:Gh,Button:zn,PushButton:Kh,RadioButton:Gl,CheckBox:Jh,TextField:ka,PasswordField:Yh,Appearance:Je},it.AcroForm={ChoiceField:Vl,ListBox:Wl,ComboBox:Hl,EditBox:Gh,Button:zn,PushButton:Kh,RadioButton:Gl,CheckBox:Jh,TextField:ka,PasswordField:Yh,Appearance:Je};function b4(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(R,P){var J,W,ue,le,ae,K=t;if((P=P||t)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(M(R))for(ae in n)for(ue=n[ae],J=0;J<ue.length;J+=1){for(le=!0,W=0;W<ue[J].length;W+=1)if(ue[J][W]!==void 0&&ue[J][W]!==R[W]){le=!1;break}if(le===!0){K=ae;break}}else for(ae in n)for(ue=n[ae],J=0;J<ue.length;J+=1){for(le=!0,W=0;W<ue[J].length;W+=1)if(ue[J][W]!==void 0&&ue[J][W]!==R.charCodeAt(W)){le=!1;break}if(le===!0){K=ae;break}}return K===t&&P!==t&&(K=P),K},i=function R(P){for(var J=this.internal.write,W=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:P.width}),le.push({key:"Height",value:P.height}),P.colorSpace===k.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===k.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var ae="",K=0,ee=P.transparency.length;K<ee;K++)ae+=P.transparency[K]+" "+P.transparency[K]+" ";le.push({key:"Mask",value:"["+ae+"]"})}P.sMask!==void 0&&le.push({key:"SMask",value:P.objectId+1+" 0 R"});var Q=P.filter!==void 0?["/"+P.filter]:void 0;if(W({data:P.data,additionalKeyValues:le,alreadyAppliedFilters:Q,objectId:P.objectId}),J("endobj"),"sMask"in P&&P.sMask!==void 0){var me="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,N={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:me,data:P.sMask};"filter"in P&&(N.filter=P.filter),R.call(this,N)}if(P.colorSpace===k.INDEXED){var z=this.internal.newObject();W({data:L(new Uint8Array(P.palette)),objectId:z}),J("endobj")}},s=function(){var R=this.internal.collections.addImage_images;for(var P in R)i.call(this,R[P])},o=function(){var R,P=this.internal.collections.addImage_images,J=this.internal.write;for(var W in P)J("/I"+(R=P[W]).index,R.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var R=this.internal.collections.addImage_images;return a.call(this),R},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(R){return typeof e["process"+R.toUpperCase()]=="function"},f=function(R){return Ot(R)==="object"&&R.nodeType===1},m=function(R,P){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var J=""+R.getAttribute("src");if(J.indexOf("data:image/")===0)return Pu(unescape(J).split("base64,").pop());var W=e.loadFile(J,!0);if(W!==void 0)return W}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var ue;switch(P){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;case"JPEG":case"JPG":default:ue="image/jpeg"}return Pu(R.toDataURL(ue,1).split("base64,").pop())}},g=function(R){var P=this.internal.collections.addImage_images;if(P){for(var J in P)if(R===P[J].alias)return P[J]}},b=function(R,P,J){return R||P||(R=-96,P=-96),R<0&&(R=-1*J.width*72/R/this.internal.scaleFactor),P<0&&(P=-1*J.height*72/P/this.internal.scaleFactor),R===0&&(R=P*J.width/J.height),P===0&&(P=R*J.height/J.width),[R,P]},S=function(R,P,J,W,ue,le){var ae=b.call(this,J,W,ue),K=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,Q=l.call(this);if(J=ae[0],W=ae[1],Q[ue.index]=ue,le){le*=Math.PI/180;var me=Math.cos(le),N=Math.sin(le),z=function(Y){return Y.toFixed(4)},$=[z(me),z(N),z(-1*N),z(me),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,K(R),ee(P+W),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([K(J),"0","0",K(W),"0","0","cm"].join(" "))):this.internal.write([K(J),"0","0",K(W),K(R),ee(P+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(R){var P,J,W=0;if(typeof R=="string")for(J=R.length,P=0;P<J;P++)W=(W<<5)-W+R.charCodeAt(P),W|=0;else if(M(R))for(J=R.byteLength/2,P=0;P<J;P++)W=(W<<5)-W+R[P],W|=0;return W},_=e.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var P=!0;return R.length===0&&(P=!1),R.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(P=!1),P},E=e.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var P=R.indexOf(",");return P<0?null:R.substring(0,P).trim().endsWith("base64")?R.substring(P+1):null},O=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(R){return O()&&R instanceof ArrayBuffer};var M=e.__addimage__.isArrayBufferView=function(R){return O()&&typeof Uint32Array<"u"&&(R instanceof Int8Array||R instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array)},B=e.__addimage__.binaryStringToUint8Array=function(R){for(var P=R.length,J=new Uint8Array(P),W=0;W<P;W++)J[W]=R.charCodeAt(W);return J},L=e.__addimage__.arrayBufferToBinaryString=function(R){for(var P="",J=M(R)?R:new Uint8Array(R),W=0;W<J.length;W+=8192)P+=String.fromCharCode.apply(null,J.subarray(W,W+8192));return P};e.addImage=function(){var R,P,J,W,ue,le,ae,K,ee;if(typeof arguments[1]=="number"?(P=t,J=arguments[1],W=arguments[2],ue=arguments[3],le=arguments[4],ae=arguments[5],K=arguments[6],ee=arguments[7]):(P=arguments[1],J=arguments[2],W=arguments[3],ue=arguments[4],le=arguments[5],ae=arguments[6],K=arguments[7],ee=arguments[8]),Ot(R=arguments[0])==="object"&&!f(R)&&"imageData"in R){var Q=R;R=Q.imageData,P=Q.format||P||t,J=Q.x||J||0,W=Q.y||W||0,ue=Q.w||Q.width||ue,le=Q.h||Q.height||le,ae=Q.alias||ae,K=Q.compression||K,ee=Q.rotation||Q.angle||ee}var me=this.internal.getFilters();if(K===void 0&&me.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(J)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var N=V.call(this,R,P,ae,K);return S.call(this,J,W,ue,le,N,ee),this};var V=function(R,P,J,W){var ue,le,ae;if(typeof R=="string"&&r(R)===t){R=unescape(R);var K=H(R,!1);(K!==""||(K=e.loadFile(R,!0))!==void 0)&&(R=K)}if(f(R)&&(R=m(R,P)),P=r(R,P),!h(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((ae=J)==null||ae.length===0)&&(J=function(ee){return typeof ee=="string"||M(ee)?x(ee):M(ee.data)?x(ee.data):null}(R)),(ue=g.call(this,J))||(O()&&(R instanceof Uint8Array||P==="RGBA"||(le=R,R=B(R))),ue=this["process"+P.toUpperCase()](R,c.call(this),J,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in e.image_compression?ee:y.NONE}(W),le)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},H=e.__addimage__.convertBase64ToBinaryString=function(R,P){P=typeof P!="boolean"||P;var J,W="";if(typeof R=="string"){var ue;J=(ue=E(R))!==null&&ue!==void 0?ue:R;try{W=Pu(J)}catch(le){if(P)throw _(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};e.getImageProperties=function(R){var P,J,W="";if(f(R)&&(R=m(R)),typeof R=="string"&&r(R)===t&&((W=H(R,!1))===""&&(W=e.loadFile(R)||""),R=W),J=r(R),!h(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(!O()||R instanceof Uint8Array||(R=B(R)),!(P=this["process"+J.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=J,P}})(it.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};it.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,h=!1,f=0;f<c.length&&!h;f++)switch((r=c[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){r=c[m];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(S.objId),x=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(y(r.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+g(y(x))+") >>",S.content=s;var _=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(S.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var E=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var O=this.annotations._nameMap[r.options.name];r.options.pageNumber=O.page,r.options.top=O.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var M=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+M+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var h=this.splitTextToSize(n,a).length;o=Math.ceil(c*h)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(it.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(S){return t[S.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},a=e.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&i.indexOf(S.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&s(S)&&t[S.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(S){var k=0,y=n,x="",_=0;for(k=0;k<S.length;k+=1)y[S.charCodeAt(k)]!==void 0?(_++,typeof(y=y[S.charCodeAt(k)])=="number"&&(x+=String.fromCharCode(y),y=n,_=0),k===S.length-1&&(y=n,x+=S.charAt(k-(_-1)),k-=_-1,_=0)):(y=n,x+=S.charAt(k-_),k-=_,_=0);return x};e.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(S,k,y){return o(S)?s(S)===!1?-1:!c(S)||!o(k)&&!o(y)||!o(y)&&a(k)||a(S)&&!o(k)||a(S)&&l(k)||a(S)&&a(k)?0:h(S)&&o(k)&&!a(k)&&o(y)&&c(y)?3:a(S)||!o(y)?1:2:-1},g=function(S){var k=0,y=0,x=0,_="",E="",O="",M=(S=S||"").split("\\s+"),B=[];for(k=0;k<M.length;k+=1){for(B.push(""),y=0;y<M[k].length;y+=1)_=M[k][y],E=M[k][y-1],O=M[k][y+1],o(_)?(x=m(_,E,O),B[k]+=x!==-1?String.fromCharCode(t[_.charCodeAt(0)][x]):_):B[k]+=_;B[k]=f(B[k])}return B.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var S,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(k)){var x=0;for(y=[],x=0;x<k.length;x+=1)Array.isArray(k[x])?y.push([g(k[x][0]),k[x][1],k[x][2]]):y.push([g(k[x])]);S=y}else S=g(k);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};e.events.push(["preProcessText",b])}(it.API),it.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(it.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(S){l=S}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(S){b=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){r.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,g=0,b=0,S=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,E){return _.concat(k.splitTextToSize(E,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)g<(S=this.getStringUnitWidth(l[x],{font:f})*h)&&(g=S);return g!==0&&(b=l.length),{w:g/=m,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,g&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,h,f,m){if(r.call(this),!h)throw new Error("No data for PDF table.");var g,b,S,k,y=[],x=[],_=[],E={},O={},M=[],B=[],L=(m=m||{}).autoSize||!1,V=m.printHeaders!==!1,H=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,R=m.margins||Object.assign({width:this.getPageWidth()},t),P=typeof m.padding=="number"?m.padding:3,J=m.headerBackgroundColor||"#c8c8c8",W=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=W,this.setFontSize(H),f==null)x=y=Object.keys(h[0]),_=y.map(function(){return"left"});else if(Array.isArray(f)&&Ot(f[0])==="object")for(y=f.map(function(Q){return Q.name}),x=f.map(function(Q){return Q.prompt||Q.name||""}),_=f.map(function(Q){return Q.align||"left"}),g=0;g<f.length;g+=1)O[f[g].name]=f[g].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=y=f,_=y.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<y.length;g+=1){for(E[k=y[g]]=h.map(function(Q){return Q[k]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=E[k],this.setFont(void 0,"normal"),S=0;S<b.length;S+=1)M.push(this.getTextDimensions(b[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[k]=Math.max.apply(null,M)+P+P,M=[]}if(V){var ue={};for(g=0;g<y.length;g+=1)ue[y[g]]={},ue[y[g]].text=x[g],ue[y[g]].align=_[g];var le=a.call(this,ue,O);B=y.map(function(Q){return new s(l,c,O[Q],le,ue[Q].text,void 0,ue[Q].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var ae=f.reduce(function(Q,me){return Q[me.name]=me.align,Q},{});for(g=0;g<h.length;g+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:g,data:h[g]},this);var K=a.call(this,h[g],O);for(S=0;S<y.length;S+=1){var ee=h[g][y[S]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:g,col:S,data:ee},this),o.call(this,new s(l,c,O[y[S]],K,ee,g+2,ae[y[S]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(g){var b=l[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/m+h+h},this).reduce(function(g,b){return Math.max(g,b)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,m.push(h)),h.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(b)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(it.API);var S4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ig=b4(_4),j4=[100,200,300,400,500,600,700,800,900],e7=b4(j4);function Rg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return S4[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof Ig[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function lw(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var t7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},cw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function uw(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function n7(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},t7,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=Rg(t[a])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+uw(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var h=Ig[l],f=h<=Ig.normal?-1:1,m=lw(c,_4,h,f);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var h=S4[l],f=0;f<h.length;++f)if(c[h[f]])return c[h[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var h=e7[l],f=lw(c,j4,h,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+uw(s)+"'.");return o}function dw(e){return e.trimLeft()}function r7(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function i7(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var jh,hw,fw,Qm=["times"];(function(e){var t,n,r,i,s,o,a,l,c,h=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new l,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new o,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new o,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var f=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=N;Object.defineProperty(this,"pdf",{get:function(){return z}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(ve){$=!!ve}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(ve){Y=!!ve}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ve){isNaN(ve)||(Z=ve)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(ve){isNaN(ve)||(oe=ve)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ve){var X;typeof ve=="number"?X=[ve,ve,ve,ve]:((X=new Array(4))[0]=ve[0],X[1]=ve.length>=2?ve[1]:X[0],X[2]=ve.length>=3?ve[2]:X[0],X[3]=ve.length>=4?ve[3]:X[1]),c.margin=X}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ve){he=ve}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(ve){ce=ve}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(ve){xe=ve}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ve){ve instanceof h&&(c=ve)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ve){c.path=ve}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(ve){_e=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var X;X=m(ve),this.ctx.fillStyle=X.style,this.ctx.isFillTransparent=X.a===0,this.ctx.fillOpacity=X.a,this.pdf.setFillColor(X.r,X.g,X.b,{a:X.a}),this.pdf.setTextColor(X.r,X.g,X.b,{a:X.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var X=m(ve);this.ctx.strokeStyle=X.style,this.ctx.isStrokeTransparent=X.a===0,this.ctx.strokeOpacity=X.a,X.a===0?this.pdf.setDrawColor(255,255,255):(X.a,this.pdf.setDrawColor(X.r,X.g,X.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Fe=null;function Pe(ve,X){if(Fe===null){var ot=function(He){var Ne=[];return Object.keys(He).forEach(function(Re){He[Re].forEach(function(Me){var Oe=null;switch(Me){case"bold":Oe={family:Re,weight:"bold"};break;case"italic":Oe={family:Re,style:"italic"};break;case"bolditalic":Oe={family:Re,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:Re}}Oe!==null&&(Oe.ref={name:Re,style:Me},Ne.push(Oe))})}),Ne}(ve.getFontList());Fe=function(He){for(var Ne={},Re=0;Re<He.length;++Re){var Me=Rg(He[Re]),Oe=Me.family,qe=Me.stretch,st=Me.style,Ae=Me.weight;Ne[Oe]=Ne[Oe]||{},Ne[Oe][qe]=Ne[Oe][qe]||{},Ne[Oe][qe][st]=Ne[Oe][qe][st]||{},Ne[Oe][qe][st][Ae]=Me}return Ne}(ot.concat(X))}return Fe}var Ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ze},set:function(ve){Fe=null,Ze=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var X;if(this.ctx.font=ve,(X=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var ot=X[1];X[2];var He=X[3],Ne=X[4];X[5];var Re=X[6],Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(Me==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var Oe=function(Ye){var bt,ze,Rn=[],dt=Ye.trim();if(dt==="")return Qm;if(dt in cw)return[cw[dt]];for(;dt!=="";){switch(ze=null,bt=(dt=dw(dt)).charAt(0)){case'"':case"'":ze=r7(dt.substring(1),bt);break;default:ze=i7(dt)}if(ze===null||(Rn.push(ze[0]),(dt=dw(ze[1]))!==""&&dt.charAt(0)!==","))return Qm;dt=dt.replace(/^,/,"")}return Rn}(Re);if(this.fontFaces){var qe=n7(Pe(this.pdf,this.fontFaces),Oe.map(function(Ye){return{family:Ye,stretch:"normal",weight:He,style:ot}}));this.pdf.setFont(qe.ref.name,qe.ref.style)}else{var st="";(He==="bold"||parseInt(He,10)>=700||ot==="bold")&&(st="bold"),ot==="italic"&&(st+="italic"),st.length===0&&(st="normal");for(var Ae="",$e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<Oe.length;lt++){if(this.pdf.internal.getFont(Oe[lt],st,{noFallback:!0,disableWarning:!0})!==void 0){Ae=Oe[lt];break}if(st==="bolditalic"&&this.pdf.internal.getFont(Oe[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ae=Oe[lt],st="bold";else if(this.pdf.internal.getFont(Oe[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ae=Oe[lt],st="normal";break}}if(Ae===""){for(var At=0;At<Oe.length;At++)if($e[Oe[At]]){Ae=$e[Oe[At]];break}}Ae=Ae===""?"Times":Ae,this.pdf.setFont(Ae,st)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};f.prototype.setLineDash=function(N){this.lineDash=N},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){E.call(this,"fill",!1)},f.prototype.stroke=function(){E.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(N,z){if(isNaN(N)||isNaN(z))throw Vt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new o(N,z));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new o(N,z)},f.prototype.closePath=function(){var N=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Ot(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){N=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(N.x,N.y)},f.prototype.lineTo=function(N,z){if(isNaN(N)||isNaN(z))throw Vt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new o(N,z));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new o($.x,$.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},f.prototype.quadraticCurveTo=function(N,z,$,Y){if(isNaN($)||isNaN(Y)||isNaN(N)||isNaN(z))throw Vt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new o($,Y)),oe=this.ctx.transform.applyToPoint(new o(N,z));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},f.prototype.bezierCurveTo=function(N,z,$,Y,Z,oe){if(isNaN(Z)||isNaN(oe)||isNaN(N)||isNaN(z)||isNaN($)||isNaN(Y))throw Vt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(Z,oe)),ce=this.ctx.transform.applyToPoint(new o(N,z)),xe=this.ctx.transform.applyToPoint(new o($,Y));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:xe.x,y2:xe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},f.prototype.arc=function(N,z,$,Y,Z,oe){if(isNaN(N)||isNaN(z)||isNaN($)||isNaN(Y)||isNaN(Z))throw Vt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(N,z));N=he.x,z=he.y;var ce=this.ctx.transform.applyToPoint(new o(0,$)),xe=this.ctx.transform.applyToPoint(new o(0,0));$=Math.sqrt(Math.pow(ce.x-xe.x,2)+Math.pow(ce.y-xe.y,2))}Math.abs(Z-Y)>=2*Math.PI&&(Y=0,Z=2*Math.PI),this.path.push({type:"arc",x:N,y:z,radius:$,startAngle:Y,endAngle:Z,counterclockwise:oe})},f.prototype.arcTo=function(N,z,$,Y,Z){throw new Error("arcTo not implemented.")},f.prototype.rect=function(N,z,$,Y){if(isNaN(N)||isNaN(z)||isNaN($)||isNaN(Y))throw Vt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,z),this.lineTo(N+$,z),this.lineTo(N+$,z+Y),this.lineTo(N,z+Y),this.lineTo(N,z),this.lineTo(N+$,z),this.lineTo(N,z)},f.prototype.fillRect=function(N,z,$,Y){if(isNaN(N)||isNaN(z)||isNaN($)||isNaN(Y))throw Vt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,z,$,Y),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},f.prototype.strokeRect=function(N,z,$,Y){if(isNaN(N)||isNaN(z)||isNaN($)||isNaN(Y))throw Vt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(N,z,$,Y),this.stroke())},f.prototype.clearRect=function(N,z,$,Y){if(isNaN(N)||isNaN(z)||isNaN($)||isNaN(Y))throw Vt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,z,$,Y))},f.prototype.save=function(N){N=typeof N!="boolean"||N;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},f.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(z),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(N){var z,$,Y,Z;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))z=0,$=0,Y=0,Z=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(oe!==null)z=parseInt(oe[1]),$=parseInt(oe[2]),Y=parseInt(oe[3]),Z=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)z=parseInt(oe[1]),$=parseInt(oe[2]),Y=parseInt(oe[3]),Z=parseFloat(oe[4]);else{if(Z=1,typeof N=="string"&&N.charAt(0)!=="#"){var he=new m4(N);N=he.ok?he.toHex():"#000000"}N.length===4?(z=N.substring(1,2),z+=z,$=N.substring(2,3),$+=$,Y=N.substring(3,4),Y+=Y):(z=N.substring(1,3),$=N.substring(3,5),Y=N.substring(5,7)),z=parseInt(z,16),$=parseInt($,16),Y=parseInt(Y,16)}}return{r:z,g:$,b:Y,a:Z,style:N}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(N,z,$,Y){if(isNaN(z)||isNaN($)||typeof N!="string")throw Vt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!g.call(this)){var Z=K(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;P.call(this,{text:N,x:z,y:$,scale:oe,angle:Z,align:this.textAlign,maxWidth:Y})}},f.prototype.strokeText=function(N,z,$,Y){if(isNaN(z)||isNaN($)||typeof N!="string")throw Vt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){Y=isNaN(Y)?void 0:Y;var Z=K(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;P.call(this,{text:N,x:z,y:$,scale:oe,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:Y})}},f.prototype.measureText=function(N){if(typeof N!="string")throw Vt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,$=this.pdf.internal.scaleFactor,Y=z.internal.getFontSize(),Z=z.getStringUnitWidth(N)*Y/z.internal.scaleFactor,oe=function(he){var ce=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this};return new oe({width:Z*=Math.round(96*$/72*1e4)/1e4})},f.prototype.scale=function(N,z){if(isNaN(N)||isNaN(z))throw Vt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new l(N,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply($)},f.prototype.rotate=function(N){if(isNaN(N))throw Vt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.translate=function(N,z){if(isNaN(N)||isNaN(z))throw Vt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new l(1,0,0,1,N,z);this.ctx.transform=this.ctx.transform.multiply($)},f.prototype.transform=function(N,z,$,Y,Z,oe){if(isNaN(N)||isNaN(z)||isNaN($)||isNaN(Y)||isNaN(Z)||isNaN(oe))throw Vt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(N,z,$,Y,Z,oe);this.ctx.transform=this.ctx.transform.multiply(he)},f.prototype.setTransform=function(N,z,$,Y,Z,oe){N=isNaN(N)?1:N,z=isNaN(z)?0:z,$=isNaN($)?0:$,Y=isNaN(Y)?1:Y,Z=isNaN(Z)?0:Z,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(N,z,$,Y,Z,oe)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(N,z,$,Y,Z,oe,he,ce,xe){var _e=this.pdf.getImageProperties(N),Fe=1,Pe=1,Ze=1,ve=1;Y!==void 0&&ce!==void 0&&(Ze=ce/Y,ve=xe/Z,Fe=_e.width/Y*ce/Y,Pe=_e.height/Z*xe/Z),oe===void 0&&(oe=z,he=$,z=0,$=0),Y!==void 0&&ce===void 0&&(ce=Y,xe=Z),Y===void 0&&ce===void 0&&(ce=_e.width,xe=_e.height);for(var X,ot=this.ctx.transform.decompose(),He=K(ot.rotate.shx),Ne=new l,Re=(Ne=(Ne=(Ne=Ne.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale)).applyToRectangle(new a(oe-z*Ze,he-$*ve,Y*Fe,Z*Pe)),Me=k.call(this,Re),Oe=[],qe=0;qe<Me.length;qe+=1)Oe.indexOf(Me[qe])===-1&&Oe.push(Me[qe]);if(_(Oe),this.autoPaging)for(var st=Oe[0],Ae=Oe[Oe.length-1],$e=st;$e<Ae+1;$e++){this.pdf.setPage($e);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=$e===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=$e===1?0:Ye+($e-2)*bt;if(this.ctx.clip_path.length!==0){var Rn=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(X,this.posX+this.margin[3],-ze+At+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Rn}var dt=JSON.parse(JSON.stringify(Re));dt=x([dt],this.posX+this.margin[3],-ze+At+this.ctx.prevPageLastElemOffset)[0];var kr=($e>st||$e<Ae)&&S.call(this);kr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,bt,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,He),kr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,He)};var k=function(N,z,$){var Y=[];z=z||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":Y.push(Math.floor((N.y+Z)/$)+1);break;case"arc":Y.push(Math.floor((N.y+Z-N.radius)/$)+1),Y.push(Math.floor((N.y+Z+N.radius)/$)+1);break;case"qct":var oe=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);Y.push(Math.floor((oe.y+Z)/$)+1),Y.push(Math.floor((oe.y+oe.h+Z)/$)+1);break;case"bct":var he=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);Y.push(Math.floor((he.y+Z)/$)+1),Y.push(Math.floor((he.y+he.h+Z)/$)+1);break;case"rect":Y.push(Math.floor((N.y+Z)/$)+1),Y.push(Math.floor((N.y+N.h+Z)/$)+1)}for(var ce=0;ce<Y.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<Y[ce];)y.call(this);return Y},y=function(){var N=this.fillStyle,z=this.strokeStyle,$=this.font,Y=this.lineCap,Z=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=z,this.font=$,this.lineCap=Y,this.lineWidth=Z,this.lineJoin=oe},x=function(N,z,$){for(var Y=0;Y<N.length;Y++)switch(N[Y].type){case"bct":N[Y].x2+=z,N[Y].y2+=$;case"qct":N[Y].x1+=z,N[Y].y1+=$;case"mt":case"lt":case"arc":default:N[Y].x+=z,N[Y].y+=$}return N},_=function(N){return N.sort(function(z,$){return z-$})},E=function(N,z){for(var $,Y,Z=this.fillStyle,oe=this.strokeStyle,he=this.lineCap,ce=this.lineWidth,xe=Math.abs(ce*this.ctx.transform.scaleX),_e=this.lineJoin,Fe=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),Ze=[],ve=0;ve<Pe.length;ve++)if(Pe[ve].x!==void 0)for(var X=k.call(this,Pe[ve]),ot=0;ot<X.length;ot+=1)Ze.indexOf(X[ot])===-1&&Ze.push(X[ot]);for(var He=0;He<Ze.length;He++)for(;this.pdf.internal.getNumberOfPages()<Ze[He];)y.call(this);if(_(Ze),this.autoPaging)for(var Ne=Ze[0],Re=Ze[Ze.length-1],Me=Ne;Me<Re+1;Me++){this.pdf.setPage(Me),this.fillStyle=Z,this.strokeStyle=oe,this.lineCap=he,this.lineWidth=xe,this.lineJoin=_e;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qe=Me===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ae=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=Me===1?0:st+(Me-2)*Ae;if(this.ctx.clip_path.length!==0){var lt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x($,this.posX+this.margin[3],-$e+qe+this.ctx.prevPageLastElemOffset),O.call(this,N,!0),this.path=lt}if(Y=JSON.parse(JSON.stringify(Fe)),this.path=x(Y,this.posX+this.margin[3],-$e+qe+this.ctx.prevPageLastElemOffset),z===!1||Me===0){var At=(Me>Ne||Me<Re)&&S.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,Ae,null).clip().discardPath()),O.call(this,N,z),At&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=xe,O.call(this,N,z),this.lineWidth=ce;this.path=Fe},O=function(N,z){if((N!=="stroke"||z||!b.call(this))&&(N==="stroke"||z||!g.call(this))){for(var $,Y,Z=[],oe=this.path,he=0;he<oe.length;he++){var ce=oe[he];switch(ce.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:ce,deltas:[],abs:[]});break;case"lt":var xe=Z.length;if(oe[he-1]&&!isNaN(oe[he-1].x)&&($=[ce.x-oe[he-1].x,ce.y-oe[he-1].y],xe>0)){for(;xe>=0;xe--)if(Z[xe-1].close!==!0&&Z[xe-1].begin!==!0){Z[xe-1].deltas.push($),Z[xe-1].abs.push(ce);break}}break;case"bct":$=[ce.x1-oe[he-1].x,ce.y1-oe[he-1].y,ce.x2-oe[he-1].x,ce.y2-oe[he-1].y,ce.x-oe[he-1].x,ce.y-oe[he-1].y],Z[Z.length-1].deltas.push($);break;case"qct":var _e=oe[he-1].x+2/3*(ce.x1-oe[he-1].x),Fe=oe[he-1].y+2/3*(ce.y1-oe[he-1].y),Pe=ce.x+2/3*(ce.x1-ce.x),Ze=ce.y+2/3*(ce.y1-ce.y),ve=ce.x,X=ce.y;$=[_e-oe[he-1].x,Fe-oe[he-1].y,Pe-oe[he-1].x,Ze-oe[he-1].y,ve-oe[he-1].x,X-oe[he-1].y],Z[Z.length-1].deltas.push($);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(ce)}}Y=z?null:N==="stroke"?"stroke":"fill";for(var ot=!1,He=0;He<Z.length;He++)if(Z[He].arc)for(var Ne=Z[He].abs,Re=0;Re<Ne.length;Re++){var Me=Ne[Re];Me.type==="arc"?L.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,z,!ot):J.call(this,Me.x,Me.y),ot=!0}else if(Z[He].close===!0)this.pdf.internal.out("h"),ot=!1;else if(Z[He].begin!==!0){var Oe=Z[He].start.x,qe=Z[He].start.y;W.call(this,Z[He].deltas,Oe,qe),ot=!0}Y&&V.call(this,Y),z&&H.call(this)}},M=function(N){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-$;case"top":return N+z-$;case"hanging":return N+z-2*$;case"middle":return N+z/2-$;case"ideographic":return N;case"alphabetic":default:return N}},B=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(z,$){this.colorStops.push([z,$])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(N,z,$,Y,Z,oe,he,ce,xe){for(var _e=le.call(this,$,Y,Z,oe),Fe=0;Fe<_e.length;Fe++){var Pe=_e[Fe];Fe===0&&(xe?R.call(this,Pe.x1+N,Pe.y1+z):J.call(this,Pe.x1+N,Pe.y1+z)),ue.call(this,N,z,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}ce?H.call(this):V.call(this,he)},V=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(N,z){this.pdf.internal.out(n(N)+" "+r(z)+" m")},P=function(N){var z;switch(N.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var $=this.pdf.getTextDimensions(N.text),Y=M.call(this,N.y),Z=B.call(this,Y)-$.h,oe=this.ctx.transform.applyToPoint(new o(N.x,Y)),he=this.ctx.transform.decompose(),ce=new l;ce=(ce=(ce=ce.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var xe,_e,Fe,Pe=this.ctx.transform.applyToRectangle(new a(N.x,Y,$.w,$.h)),Ze=ce.applyToRectangle(new a(N.x,Z,$.w,$.h)),ve=k.call(this,Ze),X=[],ot=0;ot<ve.length;ot+=1)X.indexOf(ve[ot])===-1&&X.push(ve[ot]);if(_(X),this.autoPaging)for(var He=X[0],Ne=X[X.length-1],Re=He;Re<Ne+1;Re++){this.pdf.setPage(Re);var Me=Re===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[2],st=qe-this.margin[0],Ae=this.pdf.internal.pageSize.width-this.margin[1],$e=Ae-this.margin[3],lt=Re===1?0:Oe+(Re-2)*st;if(this.ctx.clip_path.length!==0){var At=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(xe,this.posX+this.margin[3],-1*lt+Me),O.call(this,"fill",!0),this.path=At}var Ye=x([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-lt+Me+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*N.scale),Fe=this.lineWidth,this.lineWidth=Fe*N.scale);var bt=this.autoPaging!=="text";if(bt||Ye.y+Ye.h<=qe){if(bt||Ye.y>=Me&&Ye.x<=Ae){var ze=bt?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Ae-Ye.x)[0],Rn=x([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-lt+Me+this.ctx.prevPageLastElemOffset)[0],dt=bt&&(Re>He||Re<Ne)&&S.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,st,null).clip().discardPath()),this.pdf.text(ze,Rn.x,Rn.y,{angle:N.angle,align:z,renderingMode:N.renderingMode}),dt&&this.pdf.restoreGraphicsState()}}else Ye.y<qe&&(this.ctx.prevPageLastElemOffset+=qe-Ye.y);N.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Fe)}else N.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*N.scale),Fe=this.lineWidth,this.lineWidth=Fe*N.scale),this.pdf.text(N.text,oe.x+this.posX,oe.y+this.posY,{angle:N.angle,align:z,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Fe)},J=function(N,z,$,Y){$=$||0,Y=Y||0,this.pdf.internal.out(n(N+$)+" "+r(z+Y)+" l")},W=function(N,z,$){return this.pdf.lines(N,z,$,null,null)},ue=function(N,z,$,Y,Z,oe,he,ce){this.pdf.internal.out([t(i($+N)),t(s(Y+z)),t(i(Z+N)),t(s(oe+z)),t(i(he+N)),t(s(ce+z)),"c"].join(" "))},le=function(N,z,$,Y){for(var Z=2*Math.PI,oe=Math.PI/2;z>$;)z-=Z;var he=Math.abs($-z);he<Z&&Y&&(he=Z-he);for(var ce=[],xe=Y?-1:1,_e=z;he>1e-5;){var Fe=_e+xe*Math.min(he,oe);ce.push(ae.call(this,N,_e,Fe)),he-=Math.abs(Fe-_e),_e=Fe}return ce},ae=function(N,z,$){var Y=($-z)/2,Z=N*Math.cos(Y),oe=N*Math.sin(Y),he=Z,ce=-oe,xe=he*he+ce*ce,_e=xe+he*Z+ce*oe,Fe=4/3*(Math.sqrt(2*xe*_e)-_e)/(he*oe-ce*Z),Pe=he-Fe*ce,Ze=ce+Fe*he,ve=Pe,X=-Ze,ot=Y+z,He=Math.cos(ot),Ne=Math.sin(ot);return{x1:N*Math.cos(z),y1:N*Math.sin(z),x2:Pe*He-Ze*Ne,y2:Pe*Ne+Ze*He,x3:ve*He-X*Ne,y3:ve*Ne+X*He,x4:N*Math.cos($),y4:N*Math.sin($)}},K=function(N){return 180*N/Math.PI},ee=function(N,z,$,Y,Z,oe){var he=N+.5*($-N),ce=z+.5*(Y-z),xe=Z+.5*($-Z),_e=oe+.5*(Y-oe),Fe=Math.min(N,Z,he,xe),Pe=Math.max(N,Z,he,xe),Ze=Math.min(z,oe,ce,_e),ve=Math.max(z,oe,ce,_e);return new a(Fe,Ze,Pe-Fe,ve-Ze)},Q=function(N,z,$,Y,Z,oe,he,ce){var xe,_e,Fe,Pe,Ze,ve,X,ot,He,Ne,Re,Me,Oe,qe,st=$-N,Ae=Y-z,$e=Z-$,lt=oe-Y,At=he-Z,Ye=ce-oe;for(_e=0;_e<41;_e++)He=(X=(Fe=N+(xe=_e/40)*st)+xe*((Ze=$+xe*$e)-Fe))+xe*(Ze+xe*(Z+xe*At-Ze)-X),Ne=(ot=(Pe=z+xe*Ae)+xe*((ve=Y+xe*lt)-Pe))+xe*(ve+xe*(oe+xe*Ye-ve)-ot),_e==0?(Re=He,Me=Ne,Oe=He,qe=Ne):(Re=Math.min(Re,He),Me=Math.min(Me,Ne),Oe=Math.max(Oe,He),qe=Math.max(qe,Ne));return new a(Math.round(Re),Math.round(Me),Math.round(Oe-Re),Math.round(qe-Me))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,z,$=(N=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:z}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(it.API),function(e){var t=function(s){var o,a,l,c,h,f,m,g,b,S;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(h=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(h=((h=((h=((h=(h-(S=h%85))/85)-(b=h%85))/85)-(g=h%85))/85)-(m=h%85))/85)%85,a.push(f+33,m+33,g+33,b+33,S+33)):a.push(122);return function(k,y){for(var x=y;x>0;x--)k.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,c,h,f=String,m="length",g=255,b="charCodeAt",S="slice",k="replace";for(s[S](-2),s=s[S](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),l=[],c=0,h=(s+=o="uuuuu"[S](s[m]%5||5))[m];h>c;c+=5)a=52200625*(s[b](c)-33)+614125*(s[b](c+1)-33)+7225*(s[b](c+2)-33)+85*(s[b](c+3)-33)+(s[b](c+4)-33),l.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(y,x){for(var _=x;_>0;_--)y.pop()}(l,o[m]),f.fromCharCode.apply(f,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=Pg(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(it.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,h){var f=new XMLHttpRequest,m=0,g=function(b){var S=b.length,k=[],y=String.fromCharCode;for(m=0;m<S;m+=1)k.push(y(255&b.charCodeAt(m)));return k.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?h(g(this.responseText)):h(void 0)}),f.send(null),c&&f.status===200)return g(f.responseText)}(i,s,o)}catch{}return a}(t,n,r)},e.loadImageFile=e.loadFile}(it.API),function(e){function t(){return(ct.html2canvas?Promise.resolve(ct.html2canvas):ps(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(ct.DOMPurify?Promise.resolve(ct.DOMPurify):ps(()=>import("./purify.es-31816194.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Ot(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,h){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)h!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(l(m,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var m=0;m<c.length;++m){var g=c[m],b=g.src.find(function(S){return S.format==="truetype"});b&&l.addFont(b.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||it.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,h){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,h).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=l.call(c,o,a);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,it.getPageSize=function(o,a,l){if(Ot(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var h,f=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}var g,b=0,S=0;if(m.hasOwnProperty(f))b=m[f][1]/h,S=m[f][0]/h;else try{b=l[1],S=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",S>b&&(g=S,S=b,b=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>S&&(g=S,S=b,b=g)}return{width:S,height:b,unit:a,k:h,orientation:o}},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(Rg):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(it.API),it.API.addJS=function(e){return fw=e,this.internal.events.subscribe("postPutResources",function(){jh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),hw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+fw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jh!==void 0&&hw!==void 0&&this.internal.out("/Names <</JavaScript "+jh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(s=0;s<c;s++){var f=n.internal.newObject();h.push(f);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<h.length;s++)n.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(it.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var m,g=256*f.charCodeAt(4)+f.charCodeAt(5),b=f.length,S={width:0,height:0,numcomponents:1},k=4;k<b;k+=2){if(k+=g,t.indexOf(f.charCodeAt(k+1))!==-1){m=256*f.charCodeAt(k+5)+f.charCodeAt(k+6),S={width:256*f.charCodeAt(k+7)+f.charCodeAt(k+8),height:m,numcomponents:f.charCodeAt(k+9)};break}g=256*f.charCodeAt(k+2)+f.charCodeAt(k+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return h}}(it.API);var fl,kh,pw,mw,gw,s7=function(){var e,t,n;function r(s){var o,a,l,c,h,f,m,g,b,S,k,y,x,_;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),b=(function(){var E,O;for(O=[],E=0;E<4;++E)O.push(String.fromCharCode(this.data[this.pos++]));return O}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*h/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,o-=4),s=(f!=null?f.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((S=l-this.transparency.indexed.length)>0)for(x=0;0<=S?x<S:x>S;0<=S?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(k=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,k.slice(0,m)),this.text[g]=String.fromCharCode.apply(String,k.slice(m+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(f,m,g,b){var S,k,y,x,_,E,O,M,B,L,V,H,R,P,J,W,ue,le,ae,K,ee,Q=Math.ceil((c.width-f)/g),me=Math.ceil((c.height-m)/b),N=c.width==Q&&c.height==me;for(P=o*Q,H=N?a:new Uint8Array(P*me),E=s.length,R=0,k=0;R<me&&l<E;){switch(s[l++]){case 0:for(x=ue=0;ue<P;x=ue+=1)H[k++]=s[l++];break;case 1:for(x=le=0;le<P;x=le+=1)S=s[l++],_=x<o?0:H[k-o],H[k++]=(S+_)%256;break;case 2:for(x=ae=0;ae<P;x=ae+=1)S=s[l++],y=(x-x%o)/o,J=R&&H[(R-1)*P+y*o+x%o],H[k++]=(J+S)%256;break;case 3:for(x=K=0;K<P;x=K+=1)S=s[l++],y=(x-x%o)/o,_=x<o?0:H[k-o],J=R&&H[(R-1)*P+y*o+x%o],H[k++]=(S+Math.floor((_+J)/2))%256;break;case 4:for(x=ee=0;ee<P;x=ee+=1)S=s[l++],y=(x-x%o)/o,_=x<o?0:H[k-o],R===0?J=W=0:(J=H[(R-1)*P+y*o+x%o],W=y&&H[(R-1)*P+(y-1)*o+x%o]),O=_+J-W,M=Math.abs(O-_),L=Math.abs(O-J),V=Math.abs(O-W),B=M<=L&&M<=V?_:L<=V?J:W,H[k++]=(S+B)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!N){var z=((m+R*b)*c.width+f)*o,$=R*P;for(x=0;x<Q;x+=1){for(var Y=0;Y<o;Y+=1)a[z++]=H[$++];z+=(g-1)*o}}R++}}return s=DT(s),c.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,h,f,m,g;for(a=this.palette,h=this.transparency.indexed||[],c=new Uint8Array((h.length||0)+a.length),l=0,s=0,o=f=0,m=a.length;f<m;o=f+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(g=h[s++])!=null?g:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,h,f,m,g,b,S,k,y;if(l=this.colors,S=null,a=this.hasAlphaChannel,this.palette.length&&(S=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,a=!0),b=(c=s.data||s).length,f=S||o,h=m=0,l===1)for(;h<b;)g=S?4*o[h/4]:m,k=f[g++],c[h++]=k,c[h++]=k,c[h++]=k,c[h++]=a?f[g++]:255,m=g;else for(;h<b;)g=S?4*o[h/4]:m,c[h++]=f[g++],c[h++]=f[g++],c[h++]=f[g++],c[h++]=a?f[g++]:255,m=g},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ct)==="[object Window]"){try{t=ct.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,h,f,m,g;if(this.animation){for(g=[],a=h=0,f=(m=this.animation.frames).length;h<f;a=++h)o=m[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,g.push(o.image=e(l));return g}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,h,f,m=this;return a=0,f=this.animation,c=f.numFrames,l=f.frames,h=f.numPlays,(o=function(){var g,b;if(g=a++%c,b=l[g],m.renderFrame(s,g),c>1&&a/c<h)return m.animation._timeout=setTimeout(o,b.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function o7(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var c=!0,h=[],f=0,m=null,g=0,b=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var S=e[t++];f=e[t++]|e[t++]<<8,m=e[t++],!(1&S)&&(m=null),g=S>>2&7,t++;break;case 254:for(;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var k=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,E=e[t++],O=E>>6&1,M=1<<(7&E)+1,B=a,L=l,V=!1;E>>7&&(V=!0,B=t,L=M,t+=3*M);var H=t;for(t++;;){var R;if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}h.push({x:k,y,width:x,height:_,has_local_palette:V,palette_offset:B,palette_size:L,data_offset:H,data_length:t-H,transparent_index:m,interlaced:!!O,delay:f,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(P){if(P<0||P>=h.length)throw new Error("Frame index out of range.");return h[P]},this.decodeAndBlitFrameBGRA=function(P,J){var W=this.frameInfo(P),ue=W.width*W.height,le=new Uint8Array(ue);vw(e,W.data_offset,le,ue);var ae=W.palette_offset,K=W.transparent_index;K===null&&(K=256);var ee=W.width,Q=n-ee,me=ee,N=4*(W.y*n+W.x),z=4*((W.y+W.height)*n+W.x),$=N,Y=4*Q;W.interlaced===!0&&(Y+=4*n*7);for(var Z=8,oe=0,he=le.length;oe<he;++oe){var ce=le[oe];if(me===0&&(me=ee,($+=Y)>=z&&(Y=4*Q+4*n*(Z-1),$=N+(ee+Q)*(Z<<1),Z>>=1)),ce===K)$+=4;else{var xe=e[ae+3*ce],_e=e[ae+3*ce+1],Fe=e[ae+3*ce+2];J[$++]=Fe,J[$++]=_e,J[$++]=xe,J[$++]=255}--me}},this.decodeAndBlitFrameRGBA=function(P,J){var W=this.frameInfo(P),ue=W.width*W.height,le=new Uint8Array(ue);vw(e,W.data_offset,le,ue);var ae=W.palette_offset,K=W.transparent_index;K===null&&(K=256);var ee=W.width,Q=n-ee,me=ee,N=4*(W.y*n+W.x),z=4*((W.y+W.height)*n+W.x),$=N,Y=4*Q;W.interlaced===!0&&(Y+=4*n*7);for(var Z=8,oe=0,he=le.length;oe<he;++oe){var ce=le[oe];if(me===0&&(me=ee,($+=Y)>=z&&(Y=4*Q+4*n*(Z-1),$=N+(ee+Q)*(Z<<1),Z>>=1)),ce===K)$+=4;else{var xe=e[ae+3*ce],_e=e[ae+3*ce+1],Fe=e[ae+3*ce+2];J[$++]=xe,J[$++]=_e,J[$++]=Fe,J[$++]=255}--me}}}function vw(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,h=0,f=0,m=0,g=e[t++],b=new Int32Array(4096),S=null;;){for(;h<16&&g!==0;)f|=e[t++]<<h,h+=8,g===1?g=e[t++]:--g;if(h<l)break;var k=f&c;if(f>>=l,h-=l,k!==s){if(k===o)break;for(var y=k<a?k:S,x=0,_=y;_>s;)_=b[_]>>8,++x;var E=_;if(m+x+(y!==k?1:0)>r)return void Vt.log("Warning, gif stream longer than expected.");n[m++]=E;var O=m+=x;for(y!==k&&(n[m++]=E),_=y;x--;)_=b[_],n[--O]=255&_,_>>=8;S!==null&&a<4096&&(b[a++]=S<<8|E,a>=c+1&&l<12&&(++l,c=c<<1|1)),S=k}else a=o+1,c=(1<<(l=i+1))-1,S=null}return m!==r&&Vt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Zm(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),f=new Array(65535),m=new Array(65535),g=new Array(64),b=new Array(64),S=[],k=0,y=7,x=new Array(64),_=new Array(64),E=new Array(64),O=new Array(256),M=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(N,z){for(var $=0,Y=0,Z=new Array,oe=1;oe<=16;oe++){for(var he=1;he<=N[oe];he++)Z[z[Y]]=[],Z[z[Y]][0]=$,Z[z[Y]][1]=oe,Y++,$++;$*=2}return Z}function ae(N){for(var z=N[0],$=N[1]-1;$>=0;)z&1<<$&&(k|=1<<y),$--,--y<0&&(k==255?(K(255),K(0)):K(k),y=7,k=0)}function K(N){S.push(N)}function ee(N){K(N>>8&255),K(255&N)}function Q(N,z,$,Y,Z){for(var oe,he=Z[0],ce=Z[240],xe=function(Ne,Re){var Me,Oe,qe,st,Ae,$e,lt,At,Ye,bt,ze=0;for(Ye=0;Ye<8;++Ye){Me=Ne[ze],Oe=Ne[ze+1],qe=Ne[ze+2],st=Ne[ze+3],Ae=Ne[ze+4],$e=Ne[ze+5],lt=Ne[ze+6];var Rn=Me+(At=Ne[ze+7]),dt=Me-At,kr=Oe+lt,Ft=Oe-lt,Mt=qe+$e,ii=qe-$e,Ct=st+Ae,Ci=st-Ae,Wt=Rn+Ct,fr=Rn-Ct,si=kr+Mt,Bt=kr-Mt;Ne[ze]=Wt+si,Ne[ze+4]=Wt-si;var ht=.707106781*(Bt+fr);Ne[ze+2]=fr+ht,Ne[ze+6]=fr-ht;var Pt=.382683433*((Wt=Ci+ii)-(Bt=Ft+dt)),Qi=.5411961*Wt+Pt,kn=1.306562965*Bt+Pt,oi=.707106781*(si=ii+Ft),Nn=dt+oi,et=dt-oi;Ne[ze+5]=et+Qi,Ne[ze+3]=et-Qi,Ne[ze+1]=Nn+kn,Ne[ze+7]=Nn-kn,ze+=8}for(ze=0,Ye=0;Ye<8;++Ye){Me=Ne[ze],Oe=Ne[ze+8],qe=Ne[ze+16],st=Ne[ze+24],Ae=Ne[ze+32],$e=Ne[ze+40],lt=Ne[ze+48];var pr=Me+(At=Ne[ze+56]),ai=Me-At,Ln=Oe+lt,vn=Oe-lt,nn=qe+$e,Xn=qe-$e,Ks=st+Ae,Pi=st-Ae,zr=pr+Ks,$r=pr-Ks,mr=Ln+nn,ft=Ln-nn;Ne[ze]=zr+mr,Ne[ze+32]=zr-mr;var Nr=.707106781*(ft+$r);Ne[ze+16]=$r+Nr,Ne[ze+48]=$r-Nr;var li=.382683433*((zr=Pi+Xn)-(ft=vn+ai)),qr=.5411961*zr+li,ci=1.306562965*ft+li,vs=.707106781*(mr=Xn+vn),Jo=ai+vs,Js=ai-vs;Ne[ze+40]=Js+qr,Ne[ze+24]=Js-qr,Ne[ze+8]=Jo+ci,Ne[ze+56]=Jo-ci,ze++}for(Ye=0;Ye<64;++Ye)bt=Ne[Ye]*Re[Ye],g[Ye]=bt>0?bt+.5|0:bt-.5|0;return g}(N,z),_e=0;_e<64;++_e)b[B[_e]]=xe[_e];var Fe=b[0]-$;$=b[0],Fe==0?ae(Y[0]):(ae(Y[m[oe=32767+Fe]]),ae(f[oe]));for(var Pe=63;Pe>0&&b[Pe]==0;)Pe--;if(Pe==0)return ae(he),$;for(var Ze,ve=1;ve<=Pe;){for(var X=ve;b[ve]==0&&ve<=Pe;)++ve;var ot=ve-X;if(ot>=16){Ze=ot>>4;for(var He=1;He<=Ze;++He)ae(ce);ot&=15}oe=32767+b[ve],ae(Z[(ot<<4)+m[oe]]),ae(f[oe]),ve++}return Pe!=63&&ae(he),$}function me(N){N=Math.min(Math.max(N,1),100),s!=N&&(function(z){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var Z=o(($[Y]*z+50)/100);Z=Math.min(Math.max(Z,1),255),a[B[Y]]=Z}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var ce=o((oe[he]*z+50)/100);ce=Math.min(Math.max(ce,1),255),l[B[he]]=ce}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,Fe=0;Fe<8;Fe++)for(var Pe=0;Pe<8;Pe++)c[_e]=1/(a[B[_e]]*xe[Fe]*xe[Pe]*8),h[_e]=1/(l[B[_e]]*xe[Fe]*xe[Pe]*8),_e++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),s=N)}this.encode=function(N,z){z&&me(z),S=new Array,k=0,y=7,ee(65496),ee(65504),ee(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),ee(1),ee(1),K(0),K(0),function(){ee(65499),ee(132),K(0);for(var Oe=0;Oe<64;Oe++)K(a[Oe]);K(1);for(var qe=0;qe<64;qe++)K(l[qe])}(),function(Oe,qe){ee(65472),ee(17),K(8),ee(qe),ee(Oe),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(N.width,N.height),function(){ee(65476),ee(418),K(0);for(var Oe=0;Oe<16;Oe++)K(L[Oe+1]);for(var qe=0;qe<=11;qe++)K(V[qe]);K(16);for(var st=0;st<16;st++)K(H[st+1]);for(var Ae=0;Ae<=161;Ae++)K(R[Ae]);K(1);for(var $e=0;$e<16;$e++)K(P[$e+1]);for(var lt=0;lt<=11;lt++)K(J[lt]);K(17);for(var At=0;At<16;At++)K(W[At+1]);for(var Ye=0;Ye<=161;Ye++)K(ue[Ye])}(),ee(65498),ee(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var $=0,Y=0,Z=0;k=0,y=7,this.encode.displayName="_encode_";for(var oe,he,ce,xe,_e,Fe,Pe,Ze,ve,X=N.data,ot=N.width,He=N.height,Ne=4*ot,Re=0;Re<He;){for(oe=0;oe<Ne;){for(_e=Ne*Re+oe,Pe=-1,Ze=0,ve=0;ve<64;ve++)Fe=_e+(Ze=ve>>3)*Ne+(Pe=4*(7&ve)),Re+Ze>=He&&(Fe-=Ne*(Re+1+Ze-He)),oe+Pe>=Ne&&(Fe-=oe+Pe-Ne+4),he=X[Fe++],ce=X[Fe++],xe=X[Fe++],x[ve]=(M[he]+M[ce+256>>0]+M[xe+512>>0]>>16)-128,_[ve]=(M[he+768>>0]+M[ce+1024>>0]+M[xe+1280>>0]>>16)-128,E[ve]=(M[he+1280>>0]+M[ce+1536>>0]+M[xe+1792>>0]>>16)-128;$=Q(x,c,$,t,r),Y=Q(_,h,Y,n,i),Z=Q(E,h,Z,n,i),oe+=32}Re+=8}if(y>=0){var Me=[];Me[1]=y+1,Me[0]=(1<<y+1)-1,ae(Me)}return ee(65497),new Uint8Array(S)},e=e||50,function(){for(var N=String.fromCharCode,z=0;z<256;z++)O[z]=N(z)}(),t=le(L,V),n=le(P,J),r=le(H,R),i=le(W,ue),function(){for(var N=1,z=2,$=1;$<=15;$++){for(var Y=N;Y<z;Y++)m[32767+Y]=$,f[32767+Y]=[],f[32767+Y][1]=$,f[32767+Y][0]=Y;for(var Z=-(z-1);Z<=-N;Z++)m[32767+Z]=$,f[32767+Z]=[],f[32767+Z][1]=$,f[32767+Z][0]=z-1+Z;N<<=1,z<<=1}}(),function(){for(var N=0;N<256;N++)M[N]=19595*N,M[N+256>>0]=38470*N,M[N+512>>0]=7471*N+32768,M[N+768>>0]=-11059*N,M[N+1024>>0]=-21709*N,M[N+1280>>0]=32768*N+8421375,M[N+1536>>0]=-27439*N,M[N+1792>>0]=-5329*N}(),me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Mi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function yw(e){function t(L){if(!L)throw Error("assert :P")}function n(L,V,H){for(var R=0;4>R;R++)if(L[V+R]!=H.charCodeAt(R))return!0;return!1}function r(L,V,H,R,P){for(var J=0;J<P;J++)L[V+J]=H[R+J]}function i(L,V,H,R){for(var P=0;P<R;P++)L[V+P]=H}function s(L){return new Int32Array(L)}function o(L,V){for(var H=[],R=0;R<L;R++)H.push(new V);return H}function a(L,V){var H=[];return function R(P,J,W){for(var ue=W[J],le=0;le<ue&&(P.push(W.length>J+1?[]:new V),!(W.length<J+1));le++)R(P[le],J+1,W)}(H,0,L),H}var l=function(){var L=this;function V(u,p){for(var w=1<<p-1>>>0;u&w;)w>>>=1;return w?(u&w-1)+w:u}function H(u,p,w,j,A){t(!(j%w));do u[p+(j-=w)]=A;while(0<j)}function R(u,p,w,j,A){if(t(2328>=A),512>=A)var F=s(512);else if((F=s(A))==null)return 0;return function(I,D,U,q,ne,fe){var pe,se,Se=D,ge=1<<U,re=s(16),ie=s(16);for(t(ne!=0),t(q!=null),t(I!=null),t(0<U),se=0;se<ne;++se){if(15<q[se])return 0;++re[q[se]]}if(re[0]==ne)return 0;for(ie[1]=0,pe=1;15>pe;++pe){if(re[pe]>1<<pe)return 0;ie[pe+1]=ie[pe]+re[pe]}for(se=0;se<ne;++se)pe=q[se],0<q[se]&&(fe[ie[pe]++]=se);if(ie[15]==1)return(q=new P).g=0,q.value=fe[0],H(I,Se,1,ge,q),ge;var we,ke=-1,be=ge-1,We=0,De=1,rt=1,Be=1<<U;for(se=0,pe=1,ne=2;pe<=U;++pe,ne<<=1){if(De+=rt<<=1,0>(rt-=re[pe]))return 0;for(;0<re[pe];--re[pe])(q=new P).g=pe,q.value=fe[se++],H(I,Se+We,ne,Be,q),We=V(We,pe)}for(pe=U+1,ne=2;15>=pe;++pe,ne<<=1){if(De+=rt<<=1,0>(rt-=re[pe]))return 0;for(;0<re[pe];--re[pe]){if(q=new P,(We&be)!=ke){for(Se+=Be,we=1<<(ke=pe)-U;15>ke&&!(0>=(we-=re[ke]));)++ke,we<<=1;ge+=Be=1<<(we=ke-U),I[D+(ke=We&be)].g=we+U,I[D+ke].value=Se-D-ke}q.g=pe-U,q.value=fe[se++],H(I,Se+(We>>U),ne,Be,q),We=V(We,pe)}}return De!=2*ie[15]-1?0:ge}(u,p,w,j,A,F)}function P(){this.value=this.g=0}function J(){this.value=this.g=0}function W(){this.G=o(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Vn,J)}function ue(u,p,w,j){t(u!=null),t(p!=null),t(2147483648>j),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=p,u.pa=w,u.Jd=p,u.Yc=w+j,u.Zc=4<=j?w+j-4+1:w,oe(u)}function le(u,p){for(var w=0;0<p--;)w|=ce(u,128)<<p;return w}function ae(u,p){var w=le(u,p);return he(u)?-w:w}function K(u,p,w,j){var A,F=0;for(t(u!=null),t(p!=null),t(4294967288>j),u.Sb=j,u.Ra=0,u.u=0,u.h=0,4<j&&(j=4),A=0;A<j;++A)F+=p[w+A]<<8*A;u.Ra=F,u.bb=j,u.oa=p,u.pa=w}function ee(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Ya-8>>>0,++u.bb,u.u-=8;$(u)&&(u.h=1,u.u=0)}function Q(u,p){if(t(0<=p),!u.h&&p<=Ja){var w=z(u)&Ka[p];return u.u+=p,ee(u),w}return u.h=1,u.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(u){return u.Ra>>>(u.u&Ya-1)>>>0}function $(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Ya}function Y(u,p){u.u=p,u.h=$(u)}function Z(u){u.u>=Tc&&(t(u.u>=Tc),ee(u))}function oe(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function he(u){return le(u,1)}function ce(u,p){var w=u.Ca;0>u.b&&oe(u);var j=u.b,A=w*p>>>8,F=(u.I>>>j>A)+0;for(F?(w-=A,u.I-=A+1<<j>>>0):w=A+1,j=w,A=0;256<=j;)A+=8,j>>=8;return j=7^A+Ar[j],u.b-=j,u.Ca=(w<<j)-1,F}function xe(u,p,w){u[p+0]=w>>24&255,u[p+1]=w>>16&255,u[p+2]=w>>8&255,u[p+3]=w>>0&255}function _e(u,p){return u[p+0]<<0|u[p+1]<<8}function Fe(u,p){return _e(u,p)|u[p+2]<<16}function Pe(u,p){return _e(u,p)|_e(u,p+2)<<16}function Ze(u,p){var w=1<<p;return t(u!=null),t(0<p),u.X=s(w),u.X==null?0:(u.Mb=32-p,u.Xa=p,1)}function ve(u,p){t(u!=null),t(p!=null),t(u.Xa==p.Xa),r(p.X,0,u.X,0,1<<p.Xa)}function X(){this.X=[],this.Xa=this.Mb=0}function ot(u,p,w,j){t(w!=null),t(j!=null);var A=w[0],F=j[0];return A==0&&(A=(u*F+p/2)/p),F==0&&(F=(p*A+u/2)/u),0>=A||0>=F?0:(w[0]=A,j[0]=F,1)}function He(u,p){return u+(1<<p)-1>>>p}function Ne(u,p){return((4278255360&u)+(4278255360&p)>>>0&4278255360)+((16711935&u)+(16711935&p)>>>0&16711935)>>>0}function Re(u,p){L[p]=function(w,j,A,F,I,D,U){var q;for(q=0;q<I;++q){var ne=L[u](D[U+q-1],A,F+q);D[U+q]=Ne(w[j+q],ne)}}}function Me(){this.ud=this.hd=this.jd=0}function Oe(u,p){return((4278124286&(u^p))>>>1)+(u&p)>>>0}function qe(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function st(u,p){return qe(u+(u-p+.5>>1))}function Ae(u,p,w){return Math.abs(p-w)-Math.abs(u-w)}function $e(u,p,w,j,A,F,I){for(j=F[I-1],w=0;w<A;++w)F[I+w]=j=Ne(u[p+w],j)}function lt(u,p,w,j,A){var F;for(F=0;F<w;++F){var I=u[p+F],D=I>>8&255,U=16711935&(U=(U=16711935&I)+((D<<16)+D));j[A+F]=(4278255360&I)+U>>>0}}function At(u,p){p.jd=u>>0&255,p.hd=u>>8&255,p.ud=u>>16&255}function Ye(u,p,w,j,A,F){var I;for(I=0;I<j;++I){var D=p[w+I],U=D>>>8,q=D,ne=255&(ne=(ne=D>>>16)+((u.jd<<24>>24)*(U<<24>>24)>>>5));q=255&(q=(q=q+((u.hd<<24>>24)*(U<<24>>24)>>>5))+((u.ud<<24>>24)*(ne<<24>>24)>>>5)),A[F+I]=(4278255360&D)+(ne<<16)+q}}function bt(u,p,w,j,A){L[p]=function(F,I,D,U,q,ne,fe,pe,se){for(U=fe;U<pe;++U)for(fe=0;fe<se;++fe)q[ne++]=A(D[j(F[I++])])},L[u]=function(F,I,D,U,q,ne,fe){var pe=8>>F.b,se=F.Ea,Se=F.K[0],ge=F.w;if(8>pe)for(F=(1<<F.b)-1,ge=(1<<pe)-1;I<D;++I){var re,ie=0;for(re=0;re<se;++re)re&F||(ie=j(U[q++])),ne[fe++]=A(Se[ie&ge]),ie>>=pe}else L["VP8LMapColor"+w](U,q,Se,ge,ne,fe,I,D,se)}}function ze(u,p,w,j,A){for(w=p+w;p<w;){var F=u[p++];j[A++]=F>>16&255,j[A++]=F>>8&255,j[A++]=F>>0&255}}function Rn(u,p,w,j,A){for(w=p+w;p<w;){var F=u[p++];j[A++]=F>>16&255,j[A++]=F>>8&255,j[A++]=F>>0&255,j[A++]=F>>24&255}}function dt(u,p,w,j,A){for(w=p+w;p<w;){var F=(I=u[p++])>>16&240|I>>12&15,I=I>>0&240|I>>28&15;j[A++]=F,j[A++]=I}}function kr(u,p,w,j,A){for(w=p+w;p<w;){var F=(I=u[p++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;j[A++]=F,j[A++]=I}}function Ft(u,p,w,j,A){for(w=p+w;p<w;){var F=u[p++];j[A++]=F>>0&255,j[A++]=F>>8&255,j[A++]=F>>16&255}}function Mt(u,p,w,j,A,F){if(F==0)for(w=p+w;p<w;)xe(j,((F=u[p++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),A+=32;else r(j,A,u,p,w)}function ii(u,p){L[p][0]=L[u+"0"],L[p][1]=L[u+"1"],L[p][2]=L[u+"2"],L[p][3]=L[u+"3"],L[p][4]=L[u+"4"],L[p][5]=L[u+"5"],L[p][6]=L[u+"6"],L[p][7]=L[u+"7"],L[p][8]=L[u+"8"],L[p][9]=L[u+"9"],L[p][10]=L[u+"10"],L[p][11]=L[u+"11"],L[p][12]=L[u+"12"],L[p][13]=L[u+"13"],L[p][14]=L[u+"0"],L[p][15]=L[u+"0"]}function Ct(u){return u==Op||u==Dp||u==Dd||u==Mp}function Ci(){this.eb=[],this.size=this.A=this.fb=0}function Wt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function fr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ci,this.f.kb=new Wt,this.sd=null}function si(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ht(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Pt(u,p){var w=u.T,j=p.ba.f.RGBA,A=j.eb,F=j.fb+u.ka*j.A,I=gi[p.ba.S],D=u.y,U=u.O,q=u.f,ne=u.N,fe=u.ea,pe=u.W,se=p.cc,Se=p.dc,ge=p.Mc,re=p.Nc,ie=u.ka,we=u.ka+u.T,ke=u.U,be=ke+1>>1;for(ie==0?I(D,U,null,null,q,ne,fe,pe,q,ne,fe,pe,A,F,null,null,ke):(I(p.ec,p.fc,D,U,se,Se,ge,re,q,ne,fe,pe,A,F-j.A,A,F,ke),++w);ie+2<we;ie+=2)se=q,Se=ne,ge=fe,re=pe,ne+=u.Rc,pe+=u.Rc,F+=2*j.A,I(D,(U+=2*u.fa)-u.fa,D,U,se,Se,ge,re,q,ne,fe,pe,A,F-j.A,A,F,ke);return U+=u.fa,u.j+we<u.o?(r(p.ec,p.fc,D,U,ke),r(p.cc,p.dc,q,ne,be),r(p.Mc,p.Nc,fe,pe,be),w--):1&we||I(D,U,null,null,q,ne,fe,pe,q,ne,fe,pe,A,F+j.A,null,null,ke),w}function Qi(u,p,w){var j=u.F,A=[u.J];if(j!=null){var F=u.U,I=p.ba.S,D=I==Od||I==Dd;p=p.ba.f.RGBA;var U=[0],q=u.ka;U[0]=u.T,u.Kb&&(q==0?--U[0]:(--q,A[0]-=u.width),u.j+u.ka+u.T==u.o&&(U[0]=u.o-u.j-q));var ne=p.eb;q=p.fb+q*p.A,u=Kt(j,A[0],u.width,F,U,ne,q+(D?0:3),p.A),t(w==U),u&&Ct(I)&&pi(ne,q,D,F,U,p.A)}return 0}function kn(u){var p=u.ma,w=p.ba.S,j=11>w,A=w==Id||w==Rd||w==Od||w==Rp||w==12||Ct(w);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!Ec(p.Oa,u,A?11:12))return 0;if(A&&Ct(w)&&Ce(),u.da)alert("todo:use_scaling");else{if(j){if(p.Ib=ht,u.Kb){if(w=u.U+1>>1,p.memory=s(u.U+2*w),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+u.U,p.Mc=p.cc,p.Nc=p.dc+w,p.Ib=Pt,Ce()}}else alert("todo:EmitYUV");A&&(p.Jb=Qi,j&&de())}if(j&&!$v){for(u=0;256>u;++u)b_[u]=89858*(u-128)+Bd>>Md,j_[u]=-22014*(u-128)+Bd,__[u]=-45773*(u-128),S_[u]=113618*(u-128)+Bd>>Md;for(u=Bc;u<zp;++u)p=76283*(u-16)+Bd>>Md,k_[u-Bc]=Wr(p,255),N_[u-Bc]=Wr(p+8>>4,15);$v=1}return 1}function oi(u){var p=u.ma,w=u.U,j=u.T;return t(!(1&u.ka)),0>=w||0>=j?0:(w=p.Ib(u,p),p.Jb!=null&&p.Jb(u,p,w),p.Dc+=w,1)}function Nn(u){u.ma.memory=null}function et(u,p,w,j){return Q(u,8)!=47?0:(p[0]=Q(u,14)+1,w[0]=Q(u,14)+1,j[0]=Q(u,1),Q(u,3)!=0?0:!u.h)}function pr(u,p){if(4>u)return u+1;var w=u-2>>1;return(2+(1&u)<<w)+Q(p,w)+1}function ai(u,p){return 120<p?p-120:1<=(w=((w=a_[p-1])>>4)*u+(8-(15&w)))?w:1;var w}function Ln(u,p,w){var j=z(w),A=u[p+=255&j].g-8;return 0<A&&(Y(w,w.u+8),j=z(w),p+=u[p].value,p+=j&(1<<A)-1),Y(w,w.u+u[p].g),u[p].value}function vn(u,p,w){return w.g+=u.g,w.value+=u.value<<p>>>0,t(8>=w.g),u.g}function nn(u,p,w){var j=u.xc;return t((p=j==0?0:u.vc[u.md*(w>>j)+(p>>j)])<u.Wb),u.Ya[p]}function Xn(u,p,w,j){var A=u.ab,F=u.c*p,I=u.C;p=I+p;var D=w,U=j;for(j=u.Ta,w=u.Ua;0<A--;){var q=u.gc[A],ne=I,fe=p,pe=D,se=U,Se=(U=j,D=w,q.Ea);switch(t(ne<fe),t(fe<=q.nc),q.hc){case 2:Ad(pe,se,(fe-ne)*Se,U,D);break;case 0:var ge=ne,re=fe,ie=U,we=D,ke=(Be=q).Ea;ge==0&&(Fp(pe,se,null,null,1,ie,we),$e(pe,se+1,0,0,ke-1,ie,we+1),se+=ke,we+=ke,++ge);for(var be=1<<Be.b,We=be-1,De=He(ke,Be.b),rt=Be.K,Be=Be.w+(ge>>Be.b)*De;ge<re;){var Tt=rt,It=Be,Et=1;for(Fc(pe,se,ie,we-ke,1,ie,we);Et<ke;){var kt=(Et&~We)+be;kt>ke&&(kt=ke),(0,ro[Tt[It++]>>8&15])(pe,se+ +Et,ie,we+Et-ke,kt-Et,ie,we+Et),Et=kt}se+=ke,we+=ke,++ge&We||(Be+=De)}fe!=q.nc&&r(U,D-Se,U,D+(fe-ne-1)*Se,Se);break;case 1:for(Se=pe,re=se,ke=(pe=q.Ea)-(we=pe&~(ie=(se=1<<q.b)-1)),ge=He(pe,q.b),be=q.K,q=q.w+(ne>>q.b)*ge;ne<fe;){for(We=be,De=q,rt=new Me,Be=re+we,Tt=re+pe;re<Be;)At(We[De++],rt),ea(rt,Se,re,se,U,D),re+=se,D+=se;re<Tt&&(At(We[De++],rt),ea(rt,Se,re,ke,U,D),re+=ke,D+=ke),++ne&ie||(q+=ge)}break;case 3:if(pe==U&&se==D&&0<q.b){for(re=U,pe=Se=D+(fe-ne)*Se-(we=(fe-ne)*He(q.Ea,q.b)),se=U,ie=D,ge=[],we=(ke=we)-1;0<=we;--we)ge[we]=se[ie+we];for(we=ke-1;0<=we;--we)re[pe+we]=ge[we];di(q,ne,fe,U,Se,U,D)}else di(q,ne,fe,pe,se,U,D)}D=j,U=w}U!=w&&r(j,w,D,U,F)}function Ks(u,p){var w=u.V,j=u.Ba+u.c*u.C,A=p-u.C;if(t(p<=u.l.o),t(16>=A),0<A){var F=u.l,I=u.Ta,D=u.Ua,U=F.width;if(Xn(u,A,w,j),A=D=[D],t((w=u.C)<(j=p)),t(F.v<F.va),j>F.o&&(j=F.o),w<F.j){var q=F.j-w;w=F.j,A[0]+=q*U}if(w>=j?w=0:(A[0]+=4*F.v,F.ka=w-F.j,F.U=F.va-F.v,F.T=j-w,w=1),w){if(D=D[0],11>(w=u.ca).S){var ne=w.f.RGBA,fe=(j=w.S,A=F.U,F=F.T,q=ne.eb,ne.A),pe=F;for(ne=ne.fb+u.Ma*ne.A;0<pe--;){var se=I,Se=D,ge=A,re=q,ie=ne;switch(j){case Fd:Cr(se,Se,ge,re,ie);break;case Id:gr(se,Se,ge,re,ie);break;case Op:gr(se,Se,ge,re,ie),pi(re,ie,0,ge,1,0);break;case Tv:Ss(se,Se,ge,re,ie);break;case Rd:Mt(se,Se,ge,re,ie,1);break;case Dp:Mt(se,Se,ge,re,ie,1),pi(re,ie,0,ge,1,0);break;case Od:Mt(se,Se,ge,re,ie,0);break;case Dd:Mt(se,Se,ge,re,ie,0),pi(re,ie,1,ge,1,0);break;case Rp:io(se,Se,ge,re,ie);break;case Mp:io(se,Se,ge,re,ie),Gt(re,ie,ge,1,0);break;case Fv:bs(se,Se,ge,re,ie);break;default:t(0)}D+=U,ne+=fe}u.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=w.height)}}u.C=p,t(u.C<=u.i)}function Pi(u){var p;if(0<u.ua)return 0;for(p=0;p<u.Wb;++p){var w=u.Ya[p].G,j=u.Ya[p].H;if(0<w[1][j[1]+0].g||0<w[2][j[2]+0].g||0<w[3][j[3]+0].g)return 0}return 1}function zr(u,p,w,j,A,F){if(u.Z!=0){var I=u.qd,D=u.rd;for(t(lo[u.Z]!=null);p<w;++p)lo[u.Z](I,D,j,A,j,A,F),I=j,D=A,A+=F;u.qd=I,u.rd=D}}function $r(u,p){var w=u.l.ma,j=w.Z==0||w.Z==1?u.l.j:u.C;if(j=u.C<j?j:u.C,t(p<=u.l.o),p>j){var A=u.l.width,F=w.ca,I=w.tb+A*j,D=u.V,U=u.Ba+u.c*j,q=u.gc;t(u.ab==1),t(q[0].hc==3),Cd(q[0],j,p,D,U,F,I),zr(w,j,p,F,I,A)}u.C=u.Ma=p}function mr(u,p,w,j,A,F,I){var D=u.$/j,U=u.$%j,q=u.m,ne=u.s,fe=w+u.$,pe=fe;A=w+j*A;var se=w+j*F,Se=280+ne.ua,ge=u.Pb?D:16777216,re=0<ne.ua?ne.Wa:null,ie=ne.wc,we=fe<se?nn(ne,U,D):null;t(u.C<F),t(se<=A);var ke=!1;e:for(;;){for(;ke||fe<se;){var be=0;if(D>=ge){var We=fe-w;t((ge=u).Pb),ge.wd=ge.m,ge.xd=We,0<ge.s.ua&&ve(ge.s.Wa,ge.s.vb),ge=D+c_}if(U&ie||(we=nn(ne,U,D)),t(we!=null),we.Qb&&(p[fe]=we.qb,ke=!0),!ke)if(Z(q),we.jc){be=q,We=p;var De=fe,rt=we.pd[z(be)&Vn-1];t(we.jc),256>rt.g?(Y(be,be.u+rt.g),We[De]=rt.value,be=0):(Y(be,be.u+rt.g-256),t(256<=rt.value),be=rt.value),be==0&&(ke=!0)}else be=Ln(we.G[0],we.H[0],q);if(q.h)break;if(ke||256>be){if(!ke)if(we.nd)p[fe]=(we.qb|be<<8)>>>0;else{if(Z(q),ke=Ln(we.G[1],we.H[1],q),Z(q),We=Ln(we.G[2],we.H[2],q),De=Ln(we.G[3],we.H[3],q),q.h)break;p[fe]=(De<<24|ke<<16|be<<8|We)>>>0}if(ke=!1,++fe,++U>=j&&(U=0,++D,I!=null&&D<=F&&!(D%16)&&I(u,D),re!=null))for(;pe<fe;)be=p[pe++],re.X[(506832829*be&4294967295)>>>re.Mb]=be}else if(280>be){if(be=pr(be-256,q),We=Ln(we.G[4],we.H[4],q),Z(q),We=ai(j,We=pr(We,q)),q.h)break;if(fe-w<We||A-fe<be)break e;for(De=0;De<be;++De)p[fe+De]=p[fe+De-We];for(fe+=be,U+=be;U>=j;)U-=j,++D,I!=null&&D<=F&&!(D%16)&&I(u,D);if(t(fe<=A),U&ie&&(we=nn(ne,U,D)),re!=null)for(;pe<fe;)be=p[pe++],re.X[(506832829*be&4294967295)>>>re.Mb]=be}else{if(!(be<Se))break e;for(ke=be-280,t(re!=null);pe<fe;)be=p[pe++],re.X[(506832829*be&4294967295)>>>re.Mb]=be;be=fe,t(!(ke>>>(We=re).Xa)),p[be]=We.X[ke],ke=!0}ke||t(q.h==$(q))}if(u.Pb&&q.h&&fe<A)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ve(u.s.vb,u.s.Wa);else{if(q.h)break e;I!=null&&I(u,D>F?F:D),u.a=0,u.$=fe-w}return 1}return u.a=3,0}function ft(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var p=u.Wa;p!=null&&(p.X=null),u.vb=null,t(u!=null)}function Nr(){var u=new Tp;return u==null?null:(u.a=0,u.xb=Ov,ii("Predictor","VP8LPredictors"),ii("Predictor","VP8LPredictors_C"),ii("PredictorAdd","VP8LPredictorsAdd"),ii("PredictorAdd","VP8LPredictorsAdd_C"),Ad=lt,ea=Ye,Cr=ze,gr=Rn,io=dt,bs=kr,Ss=Ft,L.VP8LMapColor32b=Xa,L.VP8LMapColor8b=Pd,u)}function li(u,p,w,j,A){var F=1,I=[u],D=[p],U=j.m,q=j.s,ne=null,fe=0;e:for(;;){if(w)for(;F&&Q(U,1);){var pe=I,se=D,Se=j,ge=1,re=Se.m,ie=Se.gc[Se.ab],we=Q(re,2);if(Se.Oc&1<<we)F=0;else{switch(Se.Oc|=1<<we,ie.hc=we,ie.Ea=pe[0],ie.nc=se[0],ie.K=[null],++Se.ab,t(4>=Se.ab),we){case 0:case 1:ie.b=Q(re,3)+2,ge=li(He(ie.Ea,ie.b),He(ie.nc,ie.b),0,Se,ie.K),ie.K=ie.K[0];break;case 3:var ke,be=Q(re,8)+1,We=16<be?0:4<be?1:2<be?2:3;if(pe[0]=He(ie.Ea,We),ie.b=We,ke=ge=li(be,1,0,Se,ie.K)){var De,rt=be,Be=ie,Tt=1<<(8>>Be.b),It=s(Tt);if(It==null)ke=0;else{var Et=Be.K[0],kt=Be.w;for(It[0]=Be.K[0][0],De=1;De<1*rt;++De)It[De]=Ne(Et[kt+De],It[De-1]);for(;De<4*Tt;++De)It[De]=0;Be.K[0]=null,Be.K[0]=It,ke=1}}ge=ke;break;case 2:break;default:t(0)}F=ge}}if(I=I[0],D=D[0],F&&Q(U,1)&&!(F=1<=(fe=Q(U,4))&&11>=fe)){j.a=3;break e}var $t;if($t=F)t:{var Ut,wt,Cn,Pr=j,Pn=I,Er=D,Rt=fe,Gr=w,Kr=Pr.m,Dn=Pr.s,Wn=[null],yr=1,vi=0,rs=l_[Rt];n:for(;;){if(Gr&&Q(Kr,1)){var Mn=Q(Kr,3)+2,Ns=He(Pn,Mn),sa=He(Er,Mn),nl=Ns*sa;if(!li(Ns,sa,0,Pr,Wn))break n;for(Wn=Wn[0],Dn.xc=Mn,Ut=0;Ut<nl;++Ut){var co=Wn[Ut]>>8&65535;Wn[Ut]=co,co>=yr&&(yr=co+1)}}if(Kr.h)break n;for(wt=0;5>wt;++wt){var fn=Iv[wt];!wt&&0<Rt&&(fn+=1<<Rt),vi<fn&&(vi=fn)}var $p=o(yr*rs,P),Wv=yr,Hv=o(Wv,W);if(Hv==null)var zd=null;else t(65536>=Wv),zd=Hv;var Uc=s(vi);if(zd==null||Uc==null||$p==null){Pr.a=1;break n}var $d=$p;for(Ut=Cn=0;Ut<yr;++Ut){var Ri=zd[Ut],rl=Ri.G,il=Ri.H,Gv=0,qd=1,Kv=0;for(wt=0;5>wt;++wt){fn=Iv[wt],rl[wt]=$d,il[wt]=Cn,!wt&&0<Rt&&(fn+=1<<Rt);i:{var Vd,qp=fn,Wd=Pr,zc=Uc,P_=$d,E_=Cn,Vp=0,uo=Wd.m,L_=Q(uo,1);if(i(zc,0,0,qp),L_){var T_=Q(uo,1)+1,F_=Q(uo,1),Jv=Q(uo,F_==0?1:8);zc[Jv]=1,T_==2&&(zc[Jv=Q(uo,8)]=1);var Hd=1}else{var Yv=s(19),Xv=Q(uo,4)+4;if(19<Xv){Wd.a=3;var Gd=0;break i}for(Vd=0;Vd<Xv;++Vd)Yv[o_[Vd]]=Q(uo,3);var Wp=void 0,$c=void 0,Qv=Wd,I_=Yv,Kd=qp,Zv=zc,Hp=0,ho=Qv.m,e2=8,t2=o(128,P);r:for(;R(t2,0,7,I_,19);){if(Q(ho,1)){var R_=2+2*Q(ho,3);if((Wp=2+Q(ho,R_))>Kd)break r}else Wp=Kd;for($c=0;$c<Kd&&Wp--;){Z(ho);var n2=t2[0+(127&z(ho))];Y(ho,ho.u+n2.g);var sl=n2.value;if(16>sl)Zv[$c++]=sl,sl!=0&&(e2=sl);else{var O_=sl==16,r2=sl-16,D_=i_[r2],i2=Q(ho,r_[r2])+D_;if($c+i2>Kd)break r;for(var M_=O_?e2:0;0<i2--;)Zv[$c++]=M_}}Hp=1;break r}Hp||(Qv.a=3),Hd=Hp}(Hd=Hd&&!uo.h)&&(Vp=R(P_,E_,8,zc,qp)),Hd&&Vp!=0?Gd=Vp:(Wd.a=3,Gd=0)}if(Gd==0)break n;if(qd&&s_[wt]==1&&(qd=$d[Cn].g==0),Gv+=$d[Cn].g,Cn+=Gd,3>=wt){var qc,Gp=Uc[0];for(qc=1;qc<fn;++qc)Uc[qc]>Gp&&(Gp=Uc[qc]);Kv+=Gp}}if(Ri.nd=qd,Ri.Qb=0,qd&&(Ri.qb=(rl[3][il[3]+0].value<<24|rl[1][il[1]+0].value<<16|rl[2][il[2]+0].value)>>>0,Gv==0&&256>rl[0][il[0]+0].value&&(Ri.Qb=1,Ri.qb+=rl[0][il[0]+0].value<<8)),Ri.jc=!Ri.Qb&&6>Kv,Ri.jc){var Jd,As=Ri;for(Jd=0;Jd<Vn;++Jd){var fo=Jd,po=As.pd[fo],Yd=As.G[0][As.H[0]+fo];256<=Yd.value?(po.g=Yd.g+256,po.value=Yd.value):(po.g=0,po.value=0,fo>>=vn(Yd,8,po),fo>>=vn(As.G[1][As.H[1]+fo],16,po),fo>>=vn(As.G[2][As.H[2]+fo],0,po),vn(As.G[3][As.H[3]+fo],24,po))}}}Dn.vc=Wn,Dn.Wb=yr,Dn.Ya=zd,Dn.yc=$p,$t=1;break t}$t=0}if(!(F=$t)){j.a=3;break e}if(0<fe){if(q.ua=1<<fe,!Ze(q.Wa,fe)){j.a=1,F=0;break e}}else q.ua=0;var Kp=j,s2=I,B_=D,Jp=Kp.s,Yp=Jp.xc;if(Kp.c=s2,Kp.i=B_,Jp.md=He(s2,Yp),Jp.wc=Yp==0?-1:(1<<Yp)-1,w){j.xb=g_;break e}if((ne=s(I*D))==null){j.a=1,F=0;break e}F=(F=mr(j,ne,0,I,D,D,null))&&!U.h;break e}return F?(A!=null?A[0]=ne:(t(ne==null),t(w)),j.$=0,w||ft(q)):ft(q),F}function qr(u,p){var w=u.c*u.i,j=w+p+16*p;return t(u.c<=p),u.V=s(j),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+w+p,1)}function ci(u,p){var w=u.C,j=p-w,A=u.V,F=u.Ba+u.c*w;for(t(p<=u.l.o);0<j;){var I=16<j?16:j,D=u.l.ma,U=u.l.width,q=U*I,ne=D.ca,fe=D.tb+U*w,pe=u.Ta,se=u.Ua;Xn(u,I,A,F),wn(pe,se,ne,fe,q),zr(D,w,w+I,ne,fe,U),j-=I,A+=I*u.c,w+=I}t(w==p),u.C=u.Ma=p}function vs(){this.ub=this.yd=this.td=this.Rb=0}function Jo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Js(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Oa(){this.Yb=function(){var u=[];return function p(w,j,A){for(var F=A[j],I=0;I<F&&(w.push(A.length>j+1?[]:0),!(A.length<j+1));I++)p(w[I],j+1,A)}(u,0,[3,11]),u}()}function Da(){this.jb=s(3),this.Wc=a([4,8],Oa),this.Xc=a([4,17],Oa)}function Ys(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Xs(){this.ld=this.La=this.dd=this.tc=0}function ys(){this.Na=this.la=0}function mc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qs(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function gc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xs),this.Y=0,this.ya=Array(new Qs),this.aa=0,this.l=new Zs}function Ei(){this.y=s(16),this.f=s(8),this.ea=s(8)}function vc(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new vs,this.Kc=new Jo,this.ed=new Ys,this.Qa=new Js,this.Ic=this.$c=this.Aa=0,this.D=new gc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,mc),this.Pa=new Da,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ei),this.Hd=0,this.rb=Array(new ys),this.sb=0,this.wa=Array(new Xs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qs),this.L=this.aa=0,this.gd=a([4,2],Xs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Le(){var u=new vc;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Mc||(Mc=Xe)),u}function Ue(u,p,w){return u.a==0&&(u.a=p,u.sc=w,u.cb=0),0}function nt(u,p,w){return 3<=w&&u[p+0]==157&&u[p+1]==1&&u[p+2]==42}function je(u,p){if(u==null)return 0;if(u.a=0,u.sc="OK",p==null)return Ue(u,2,"null VP8Io passed to VP8GetHeaders()");var w=p.data,j=p.w,A=p.ha;if(4>A)return Ue(u,7,"Truncated header.");var F=w[j+0]|w[j+1]<<8|w[j+2]<<16,I=u.Od;if(I.Rb=!(1&F),I.td=F>>1&7,I.yd=F>>4&1,I.ub=F>>5,3<I.td)return Ue(u,3,"Incorrect keyframe parameters.");if(!I.yd)return Ue(u,4,"Frame not displayable.");j+=3,A-=3;var D=u.Kc;if(I.Rb){if(7>A)return Ue(u,7,"cannot parse picture header");if(!nt(w,j,A))return Ue(u,3,"Bad code word");D.c=16383&(w[j+4]<<8|w[j+3]),D.Td=w[j+4]>>6,D.i=16383&(w[j+6]<<8|w[j+5]),D.Ud=w[j+6]>>6,j+=7,A-=7,u.za=D.c+15>>4,u.Ub=D.i+15>>4,p.width=D.c,p.height=D.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((F=u.Pa).jb,0,255,F.jb.length),t((F=u.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,i(F.Zb,0,0,F.Zb.length),i(F.Lb,0,0,F.Lb)}if(I.ub>A)return Ue(u,7,"bad partition length");ue(F=u.m,w,j,I.ub),j+=I.ub,A-=I.ub,I.Rb&&(D.Ld=he(F),D.Kd=he(F)),D=u.Qa;var U,q=u.Pa;if(t(F!=null),t(D!=null),D.Cb=he(F),D.Cb){if(D.Bb=he(F),he(F)){for(D.Fb=he(F),U=0;4>U;++U)D.Zb[U]=he(F)?ae(F,7):0;for(U=0;4>U;++U)D.Lb[U]=he(F)?ae(F,6):0}if(D.Bb)for(U=0;3>U;++U)q.jb[U]=he(F)?le(F,8):255}else D.Bb=0;if(F.Ka)return Ue(u,3,"cannot parse segment header");if((D=u.ed).zd=he(F),D.Tb=le(F,6),D.wb=le(F,3),D.Pc=he(F),D.Pc&&he(F)){for(q=0;4>q;++q)he(F)&&(D.vd[q]=ae(F,6));for(q=0;4>q;++q)he(F)&&(D.od[q]=ae(F,6))}if(u.L=D.Tb==0?0:D.zd?1:2,F.Ka)return Ue(u,3,"cannot parse filter header");var ne=A;if(A=U=j,j=U+ne,D=ne,u.Xb=(1<<le(u.m,2))-1,ne<3*(q=u.Xb))w=7;else{for(U+=3*q,D-=3*q,ne=0;ne<q;++ne){var fe=w[A+0]|w[A+1]<<8|w[A+2]<<16;fe>D&&(fe=D),ue(u.Jc[+ne],w,U,fe),U+=fe,D-=fe,A+=3}ue(u.Jc[+q],w,U,D),w=U<j?0:5}if(w!=0)return Ue(u,w,"cannot parse partitions");for(w=le(U=u.m,7),A=he(U)?ae(U,4):0,j=he(U)?ae(U,4):0,D=he(U)?ae(U,4):0,q=he(U)?ae(U,4):0,U=he(U)?ae(U,4):0,ne=u.Qa,fe=0;4>fe;++fe){if(ne.Cb){var pe=ne.Zb[fe];ne.Fb||(pe+=w)}else{if(0<fe){u.pb[fe]=u.pb[0];continue}pe=w}var se=u.pb[fe];se.Sc[0]=Bp[Wr(pe+A,127)],se.Sc[1]=Up[Wr(pe+0,127)],se.Eb[0]=2*Bp[Wr(pe+j,127)],se.Eb[1]=101581*Up[Wr(pe+D,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=Bp[Wr(pe+q,117)],se.Qc[1]=Up[Wr(pe+U,127)],se.lc=pe+U}if(!I.Rb)return Ue(u,4,"Not a key frame.");for(he(F),I=u.Pa,w=0;4>w;++w){for(A=0;8>A;++A)for(j=0;3>j;++j)for(D=0;11>D;++D)q=ce(F,p_[w][A][j][D])?le(F,8):h_[w][A][j][D],I.Wc[w][A].Yb[j][D]=q;for(A=0;17>A;++A)I.Xc[w][A]=I.Wc[w][m_[A]]}return u.kc=he(F),u.kc&&(u.Bd=le(F,8)),u.cb=1}function Xe(u,p,w,j,A,F,I){var D=p[A].Yb[w];for(w=0;16>A;++A){if(!ce(u,D[w+0]))return A;for(;!ce(u,D[w+1]);)if(D=p[++A].Yb[0],w=0,A==16)return 16;var U=p[A+1].Yb;if(ce(u,D[w+2])){var q=u,ne=0;if(ce(q,(pe=D)[(fe=w)+3]))if(ce(q,pe[fe+6])){for(D=0,fe=2*(ne=ce(q,pe[fe+8]))+(pe=ce(q,pe[fe+9+ne])),ne=0,pe=u_[fe];pe[D];++D)ne+=ne+ce(q,pe[D]);ne+=3+(8<<fe)}else ce(q,pe[fe+7])?(ne=7+2*ce(q,165),ne+=ce(q,145)):ne=5+ce(q,159);else ne=ce(q,pe[fe+4])?3+ce(q,pe[fe+5]):2;D=U[2]}else ne=1,D=U[1];U=I+d_[A],0>(q=u).b&&oe(q);var fe,pe=q.b,se=(fe=q.Ca>>1)-(q.I>>pe)>>31;--q.b,q.Ca+=se,q.Ca|=1,q.I-=(fe+1&se)<<pe,F[U]=((ne^se)-se)*j[(0<A)+0]}return 16}function St(u){var p=u.rb[u.sb-1];p.la=0,p.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function Ee(u,p){if(u==null)return 0;if(p==null)return Ue(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!je(u,p))return 0;if(t(u.cb),p.ac==null||p.ac(p)){p.ob&&(u.L=0);var w=Ud[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=p.v-w>>4,u.zb=p.j-w>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=p.o+15+w>>4,u.Hb=p.va+15+w>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var j=u.ed;for(w=0;4>w;++w){var A;if(u.Qa.Cb){var F=u.Qa.Lb[w];u.Qa.Fb||(F+=j.Tb)}else F=j.Tb;for(A=0;1>=A;++A){var I=u.gd[w][A],D=F;if(j.Pc&&(D+=j.vd[0],A&&(D+=j.od[0])),0<(D=0>D?0:63<D?63:D)){var U=D;0<j.wb&&(U=4<j.wb?U>>2:U>>1)>9-j.wb&&(U=9-j.wb),1>U&&(U=1),I.dd=U,I.tc=2*D+U,I.ld=40<=D?2:15<=D?1:0}else I.tc=0;I.La=A}}}w=0}else Ue(u,6,"Frame setup failed"),w=u.a;if(w=w==0){if(w){u.$c=0,0<u.Aa||(u.Ic=C_);e:{w=u.Ic,j=4*(U=u.za);var q=32*U,ne=U+1,fe=0<u.L?U*(0<u.Aa?2:1):0,pe=(u.Aa==2?2:1)*U;if((I=j+832+(A=3*(16*w+Ud[u.L])/2*q)+(F=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=I)w=0;else{if(I>u.Vb){if(u.Vb=0,u.Ec=s(I),u.Fc=0,u.Ec==null){w=Ue(u,1,"no memory during frame initialization.");break e}u.Vb=I}I=u.Ec,D=u.Fc,u.Ac=I,u.Bc=D,D+=j,u.Gd=o(q,Ei),u.Hd=0,u.rb=o(ne+1,ys),u.sb=1,u.wa=fe?o(fe,Xs):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=U),t(!0),u.oc=I,u.pc=D,D+=832,u.ya=o(pe,Qs),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=U),u.R=16*U,u.B=8*U,U=(q=Ud[u.L])*u.R,q=q/2*u.B,u.sa=I,u.ta=D+U,u.qa=u.sa,u.ra=u.ta+16*w*u.R+q,u.Ha=u.qa,u.Ia=u.ra+8*w*u.B+q,u.$c=0,D+=A,u.mb=F?I:null,u.nb=F?D:null,t(D+F<=u.Fc+u.Vb),St(u),i(u.Ac,u.Bc,0,j),w=1}}if(w){if(p.ka=0,p.y=u.sa,p.O=u.ta,p.f=u.qa,p.N=u.ra,p.ea=u.Ha,p.Vd=u.Ia,p.fa=u.R,p.Rc=u.B,p.F=null,p.J=0,!Ld){for(w=-255;255>=w;++w)Tn[255+w]=0>w?-w:w;for(w=-1020;1020>=w;++w)js[1020+w]=-128>w?-128:127<w?127:w;for(w=-112;112>=w;++w)Dc[112+w]=-16>w?-16:15<w?15:w;for(w=-255;510>=w;++w)tl[255+w]=0>w?0:255<w?255:w;Ld=1}Qa=Zi,_s=ui,Ic=Li,vr=Xt,hi=dn,yn=qn,Za=bc,Ed=Qo,Rc=Lp,ta=Sc,na=Ep,so=qa,ra=_c,el=jd,ia=_d,oo=ts,Oc=xs,fi=Pp,Ii[0]=es,Ii[1]=Ma,Ii[2]=_p,Ii[3]=jp,Ii[4]=yd,Ii[5]=za,Ii[6]=wd,Ii[7]=yc,Ii[8]=Np,Ii[9]=kp,ao[0]=gd,ao[1]=bp,ao[2]=ws,ao[3]=Ba,ao[4]=Qn,ao[5]=Sp,ao[6]=vd,ks[0]=eo,ks[1]=xp,ks[2]=Ap,ks[3]=wc,ks[4]=Xo,ks[5]=Cp,ks[6]=xc,w=1}else w=0}w&&(w=function(se,Se){for(se.M=0;se.M<se.Va;++se.M){var ge,re=se.Jc[se.M&se.Xb],ie=se.m,we=se;for(ge=0;ge<we.za;++ge){var ke=ie,be=we,We=be.Ac,De=be.Bc+4*ge,rt=be.zc,Be=be.ya[be.aa+ge];if(be.Qa.Bb?Be.$b=ce(ke,be.Pa.jb[0])?2+ce(ke,be.Pa.jb[2]):ce(ke,be.Pa.jb[1]):Be.$b=0,be.kc&&(Be.Ad=ce(ke,be.Bd)),Be.Za=!ce(ke,145)+0,Be.Za){var Tt=Be.Ob,It=0;for(be=0;4>be;++be){var Et,kt=rt[0+be];for(Et=0;4>Et;++Et){kt=f_[We[De+Et]][kt];for(var $t=Rv[ce(ke,kt[0])];0<$t;)$t=Rv[2*$t+ce(ke,kt[$t])];kt=-$t,We[De+Et]=kt}r(Tt,It,We,De,4),It+=4,rt[0+be]=kt}}else kt=ce(ke,156)?ce(ke,128)?1:3:ce(ke,163)?2:0,Be.Ob[0]=kt,i(We,De,kt,4),i(rt,0,kt,4);Be.Dd=ce(ke,142)?ce(ke,114)?ce(ke,183)?1:3:2:0}if(we.m.Ka)return Ue(se,7,"Premature end-of-partition0 encountered.");for(;se.ja<se.za;++se.ja){if(we=re,ke=(ie=se).rb[ie.sb-1],We=ie.rb[ie.sb+ie.ja],ge=ie.ya[ie.aa+ie.ja],De=ie.kc?ge.Ad:0)ke.la=We.la=0,ge.Za||(ke.Na=We.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var Ut,wt;if(ke=We,We=we,De=ie.Pa.Xc,rt=ie.ya[ie.aa+ie.ja],Be=ie.pb[rt.$b],be=rt.ad,Tt=0,It=ie.rb[ie.sb-1],kt=Et=0,i(be,Tt,0,384),rt.Za)var Cn=0,Pr=De[3];else{$t=s(16);var Pn=ke.Na+It.Na;if(Pn=Mc(We,De[1],Pn,Be.Eb,0,$t,0),ke.Na=It.Na=(0<Pn)+0,1<Pn)Qa($t,0,be,Tt);else{var Er=$t[0]+3>>3;for($t=0;256>$t;$t+=16)be[Tt+$t]=Er}Cn=1,Pr=De[0]}var Rt=15&ke.la,Gr=15&It.la;for($t=0;4>$t;++$t){var Kr=1&Gr;for(Er=wt=0;4>Er;++Er)Rt=Rt>>1|(Kr=(Pn=Mc(We,Pr,Pn=Kr+(1&Rt),Be.Sc,Cn,be,Tt))>Cn)<<7,wt=wt<<2|(3<Pn?3:1<Pn?2:be[Tt+0]!=0),Tt+=16;Rt>>=4,Gr=Gr>>1|Kr<<7,Et=(Et<<8|wt)>>>0}for(Pr=Rt,Cn=Gr>>4,Ut=0;4>Ut;Ut+=2){for(wt=0,Rt=ke.la>>4+Ut,Gr=It.la>>4+Ut,$t=0;2>$t;++$t){for(Kr=1&Gr,Er=0;2>Er;++Er)Pn=Kr+(1&Rt),Rt=Rt>>1|(Kr=0<(Pn=Mc(We,De[2],Pn,Be.Qc,0,be,Tt)))<<3,wt=wt<<2|(3<Pn?3:1<Pn?2:be[Tt+0]!=0),Tt+=16;Rt>>=2,Gr=Gr>>1|Kr<<5}kt|=wt<<4*Ut,Pr|=Rt<<4<<Ut,Cn|=(240&Gr)<<Ut}ke.la=Pr,It.la=Cn,rt.Hc=Et,rt.Gc=kt,rt.ia=43690&kt?0:Be.ia,De=!(Et|kt)}if(0<ie.L&&(ie.wa[ie.Y+ie.ja]=ie.gd[ge.$b][ge.Za],ie.wa[ie.Y+ie.ja].La|=!De),we.Ka)return Ue(se,7,"Premature end-of-file encountered.")}if(St(se),ie=Se,we=1,ge=(re=se).D,ke=0<re.L&&re.M>=re.zb&&re.M<=re.Va,re.Aa==0)e:{if(ge.M=re.M,ge.uc=ke,Pc(re,ge),we=1,ge=(wt=re.D).Nb,ke=(kt=Ud[re.L])*re.R,We=kt/2*re.B,$t=16*ge*re.R,Er=8*ge*re.B,De=re.sa,rt=re.ta-ke+$t,Be=re.qa,be=re.ra-We+Er,Tt=re.Ha,It=re.Ia-We+Er,Gr=(Rt=wt.M)==0,Et=Rt>=re.Va-1,re.Aa==2&&Pc(re,wt),wt.uc)for(Kr=(Pn=re).D.M,t(Pn.D.uc),wt=Pn.yb;wt<Pn.Hb;++wt){Cn=wt,Pr=Kr;var Dn=(Wn=(fn=Pn).D).Nb;Ut=fn.R;var Wn=Wn.wa[Wn.Y+Cn],yr=fn.sa,vi=fn.ta+16*Dn*Ut+16*Cn,rs=Wn.dd,Mn=Wn.tc;if(Mn!=0)if(t(3<=Mn),fn.L==1)0<Cn&&oo(yr,vi,Ut,Mn+4),Wn.La&&fi(yr,vi,Ut,Mn),0<Pr&&ia(yr,vi,Ut,Mn+4),Wn.La&&Oc(yr,vi,Ut,Mn);else{var Ns=fn.B,sa=fn.qa,nl=fn.ra+8*Dn*Ns+8*Cn,co=fn.Ha,fn=fn.Ia+8*Dn*Ns+8*Cn;Dn=Wn.ld,0<Cn&&(Ed(yr,vi,Ut,Mn+4,rs,Dn),ta(sa,nl,co,fn,Ns,Mn+4,rs,Dn)),Wn.La&&(so(yr,vi,Ut,Mn,rs,Dn),el(sa,nl,co,fn,Ns,Mn,rs,Dn)),0<Pr&&(Za(yr,vi,Ut,Mn+4,rs,Dn),Rc(sa,nl,co,fn,Ns,Mn+4,rs,Dn)),Wn.La&&(na(yr,vi,Ut,Mn,rs,Dn),ra(sa,nl,co,fn,Ns,Mn,rs,Dn))}}if(re.ia&&alert("todo:DitherRow"),ie.put!=null){if(wt=16*Rt,Rt=16*(Rt+1),Gr?(ie.y=re.sa,ie.O=re.ta+$t,ie.f=re.qa,ie.N=re.ra+Er,ie.ea=re.Ha,ie.W=re.Ia+Er):(wt-=kt,ie.y=De,ie.O=rt,ie.f=Be,ie.N=be,ie.ea=Tt,ie.W=It),Et||(Rt-=kt),Rt>ie.o&&(Rt=ie.o),ie.F=null,ie.J=null,re.Fa!=null&&0<re.Fa.length&&wt<Rt&&(ie.J=Ac(re,ie,wt,Rt-wt),ie.F=re.mb,ie.F==null&&ie.F.length==0)){we=Ue(re,3,"Could not decode alpha data.");break e}wt<ie.j&&(kt=ie.j-wt,wt=ie.j,t(!(1&kt)),ie.O+=re.R*kt,ie.N+=re.B*(kt>>1),ie.W+=re.B*(kt>>1),ie.F!=null&&(ie.J+=ie.width*kt)),wt<Rt&&(ie.O+=ie.v,ie.N+=ie.v>>1,ie.W+=ie.v>>1,ie.F!=null&&(ie.J+=ie.v),ie.ka=wt-ie.j,ie.U=ie.va-ie.v,ie.T=Rt-wt,we=ie.put(ie))}ge+1!=re.Ic||Et||(r(re.sa,re.ta-ke,De,rt+16*re.R,ke),r(re.qa,re.ra-We,Be,be+8*re.B,We),r(re.Ha,re.Ia-We,Tt,It+8*re.B,We))}if(!we)return Ue(se,6,"Output aborted.")}return 1}(u,p)),p.bc!=null&&p.bc(p),w&=1}return w?(u.cb=0,w):0}function Ke(u,p,w,j,A){A=u[p+w+32*j]+(A>>3),u[p+w+32*j]=-256&A?0>A?0:255:A}function ut(u,p,w,j,A,F){Ke(u,p,0,w,j+A),Ke(u,p,1,w,j+F),Ke(u,p,2,w,j-F),Ke(u,p,3,w,j-A)}function tt(u){return(20091*u>>16)+u}function Ht(u,p,w,j){var A,F=0,I=s(16);for(A=0;4>A;++A){var D=u[p+0]+u[p+8],U=u[p+0]-u[p+8],q=(35468*u[p+4]>>16)-tt(u[p+12]),ne=tt(u[p+4])+(35468*u[p+12]>>16);I[F+0]=D+ne,I[F+1]=U+q,I[F+2]=U-q,I[F+3]=D-ne,F+=4,p++}for(A=F=0;4>A;++A)D=(u=I[F+0]+4)+I[F+8],U=u-I[F+8],q=(35468*I[F+4]>>16)-tt(I[F+12]),Ke(w,j,0,0,D+(ne=tt(I[F+4])+(35468*I[F+12]>>16))),Ke(w,j,1,0,U+q),Ke(w,j,2,0,U-q),Ke(w,j,3,0,D-ne),F++,j+=32}function qn(u,p,w,j){var A=u[p+0]+4,F=35468*u[p+4]>>16,I=tt(u[p+4]),D=35468*u[p+1]>>16;ut(w,j,0,A+I,u=tt(u[p+1]),D),ut(w,j,1,A+F,u,D),ut(w,j,2,A-F,u,D),ut(w,j,3,A-I,u,D)}function ui(u,p,w,j,A){Ht(u,p,w,j),A&&Ht(u,p+16,w,j+4)}function Li(u,p,w,j){_s(u,p+0,w,j,1),_s(u,p+32,w,j+128,1)}function Xt(u,p,w,j){var A;for(u=u[p+0]+4,A=0;4>A;++A)for(p=0;4>p;++p)Ke(w,j,p,A,u)}function dn(u,p,w,j){u[p+0]&&vr(u,p+0,w,j),u[p+16]&&vr(u,p+16,w,j+4),u[p+32]&&vr(u,p+32,w,j+128),u[p+48]&&vr(u,p+48,w,j+128+4)}function Zi(u,p,w,j){var A,F=s(16);for(A=0;4>A;++A){var I=u[p+0+A]+u[p+12+A],D=u[p+4+A]+u[p+8+A],U=u[p+4+A]-u[p+8+A],q=u[p+0+A]-u[p+12+A];F[0+A]=I+D,F[8+A]=I-D,F[4+A]=q+U,F[12+A]=q-U}for(A=0;4>A;++A)I=(u=F[0+4*A]+3)+F[3+4*A],D=F[1+4*A]+F[2+4*A],U=F[1+4*A]-F[2+4*A],q=u-F[3+4*A],w[j+0]=I+D>>3,w[j+16]=q+U>>3,w[j+32]=I-D>>3,w[j+48]=q-U>>3,j+=64}function Vr(u,p,w){var j,A=p-32,F=Hr,I=255-u[A-1];for(j=0;j<w;++j){var D,U=F,q=I+u[p-1];for(D=0;D<w;++D)u[p+D]=U[q+u[A+D]];p+=32}}function Ma(u,p){Vr(u,p,4)}function xp(u,p){Vr(u,p,8)}function bp(u,p){Vr(u,p,16)}function ws(u,p){var w;for(w=0;16>w;++w)r(u,p+32*w,u,p-32,16)}function Ba(u,p){var w;for(w=16;0<w;--w)i(u,p,u[p-1],16),p+=32}function Ua(u,p,w){var j;for(j=0;16>j;++j)i(p,w+32*j,u,16)}function gd(u,p){var w,j=16;for(w=0;16>w;++w)j+=u[p-1+32*w]+u[p+w-32];Ua(j>>5,u,p)}function Qn(u,p){var w,j=8;for(w=0;16>w;++w)j+=u[p-1+32*w];Ua(j>>4,u,p)}function Sp(u,p){var w,j=8;for(w=0;16>w;++w)j+=u[p+w-32];Ua(j>>4,u,p)}function vd(u,p){Ua(128,u,p)}function mt(u,p,w){return u+2*p+w+2>>2}function _p(u,p){var w,j=p-32;for(j=new Uint8Array([mt(u[j-1],u[j+0],u[j+1]),mt(u[j+0],u[j+1],u[j+2]),mt(u[j+1],u[j+2],u[j+3]),mt(u[j+2],u[j+3],u[j+4])]),w=0;4>w;++w)r(u,p+32*w,j,0,j.length)}function jp(u,p){var w=u[p-1],j=u[p-1+32],A=u[p-1+64],F=u[p-1+96];xe(u,p+0,16843009*mt(u[p-1-32],w,j)),xe(u,p+32,16843009*mt(w,j,A)),xe(u,p+64,16843009*mt(j,A,F)),xe(u,p+96,16843009*mt(A,F,F))}function es(u,p){var w,j=4;for(w=0;4>w;++w)j+=u[p+w-32]+u[p-1+32*w];for(j>>=3,w=0;4>w;++w)i(u,p+32*w,j,4)}function yd(u,p){var w=u[p-1+0],j=u[p-1+32],A=u[p-1+64],F=u[p-1-32],I=u[p+0-32],D=u[p+1-32],U=u[p+2-32],q=u[p+3-32];u[p+0+96]=mt(j,A,u[p-1+96]),u[p+1+96]=u[p+0+64]=mt(w,j,A),u[p+2+96]=u[p+1+64]=u[p+0+32]=mt(F,w,j),u[p+3+96]=u[p+2+64]=u[p+1+32]=u[p+0+0]=mt(I,F,w),u[p+3+64]=u[p+2+32]=u[p+1+0]=mt(D,I,F),u[p+3+32]=u[p+2+0]=mt(U,D,I),u[p+3+0]=mt(q,U,D)}function wd(u,p){var w=u[p+1-32],j=u[p+2-32],A=u[p+3-32],F=u[p+4-32],I=u[p+5-32],D=u[p+6-32],U=u[p+7-32];u[p+0+0]=mt(u[p+0-32],w,j),u[p+1+0]=u[p+0+32]=mt(w,j,A),u[p+2+0]=u[p+1+32]=u[p+0+64]=mt(j,A,F),u[p+3+0]=u[p+2+32]=u[p+1+64]=u[p+0+96]=mt(A,F,I),u[p+3+32]=u[p+2+64]=u[p+1+96]=mt(F,I,D),u[p+3+64]=u[p+2+96]=mt(I,D,U),u[p+3+96]=mt(D,U,U)}function za(u,p){var w=u[p-1+0],j=u[p-1+32],A=u[p-1+64],F=u[p-1-32],I=u[p+0-32],D=u[p+1-32],U=u[p+2-32],q=u[p+3-32];u[p+0+0]=u[p+1+64]=F+I+1>>1,u[p+1+0]=u[p+2+64]=I+D+1>>1,u[p+2+0]=u[p+3+64]=D+U+1>>1,u[p+3+0]=U+q+1>>1,u[p+0+96]=mt(A,j,w),u[p+0+64]=mt(j,w,F),u[p+0+32]=u[p+1+96]=mt(w,F,I),u[p+1+32]=u[p+2+96]=mt(F,I,D),u[p+2+32]=u[p+3+96]=mt(I,D,U),u[p+3+32]=mt(D,U,q)}function yc(u,p){var w=u[p+0-32],j=u[p+1-32],A=u[p+2-32],F=u[p+3-32],I=u[p+4-32],D=u[p+5-32],U=u[p+6-32],q=u[p+7-32];u[p+0+0]=w+j+1>>1,u[p+1+0]=u[p+0+64]=j+A+1>>1,u[p+2+0]=u[p+1+64]=A+F+1>>1,u[p+3+0]=u[p+2+64]=F+I+1>>1,u[p+0+32]=mt(w,j,A),u[p+1+32]=u[p+0+96]=mt(j,A,F),u[p+2+32]=u[p+1+96]=mt(A,F,I),u[p+3+32]=u[p+2+96]=mt(F,I,D),u[p+3+64]=mt(I,D,U),u[p+3+96]=mt(D,U,q)}function kp(u,p){var w=u[p-1+0],j=u[p-1+32],A=u[p-1+64],F=u[p-1+96];u[p+0+0]=w+j+1>>1,u[p+2+0]=u[p+0+32]=j+A+1>>1,u[p+2+32]=u[p+0+64]=A+F+1>>1,u[p+1+0]=mt(w,j,A),u[p+3+0]=u[p+1+32]=mt(j,A,F),u[p+3+32]=u[p+1+64]=mt(A,F,F),u[p+3+64]=u[p+2+64]=u[p+0+96]=u[p+1+96]=u[p+2+96]=u[p+3+96]=F}function Np(u,p){var w=u[p-1+0],j=u[p-1+32],A=u[p-1+64],F=u[p-1+96],I=u[p-1-32],D=u[p+0-32],U=u[p+1-32],q=u[p+2-32];u[p+0+0]=u[p+2+32]=w+I+1>>1,u[p+0+32]=u[p+2+64]=j+w+1>>1,u[p+0+64]=u[p+2+96]=A+j+1>>1,u[p+0+96]=F+A+1>>1,u[p+3+0]=mt(D,U,q),u[p+2+0]=mt(I,D,U),u[p+1+0]=u[p+3+32]=mt(w,I,D),u[p+1+32]=u[p+3+64]=mt(j,w,I),u[p+1+64]=u[p+3+96]=mt(A,j,w),u[p+1+96]=mt(F,A,j)}function Ap(u,p){var w;for(w=0;8>w;++w)r(u,p+32*w,u,p-32,8)}function wc(u,p){var w;for(w=0;8>w;++w)i(u,p,u[p-1],8),p+=32}function Yo(u,p,w){var j;for(j=0;8>j;++j)i(p,w+32*j,u,8)}function eo(u,p){var w,j=8;for(w=0;8>w;++w)j+=u[p+w-32]+u[p-1+32*w];Yo(j>>4,u,p)}function Cp(u,p){var w,j=4;for(w=0;8>w;++w)j+=u[p+w-32];Yo(j>>3,u,p)}function Xo(u,p){var w,j=4;for(w=0;8>w;++w)j+=u[p-1+32*w];Yo(j>>3,u,p)}function xc(u,p){Yo(128,u,p)}function $a(u,p,w){var j=u[p-w],A=u[p+0],F=3*(A-j)+Ip[1020+u[p-2*w]-u[p+w]],I=Td[112+(F+4>>3)];u[p-w]=Hr[255+j+Td[112+(F+3>>3)]],u[p+0]=Hr[255+A-I]}function xd(u,p,w,j){var A=u[p+0],F=u[p+w];return mi[255+u[p-2*w]-u[p-w]]>j||mi[255+F-A]>j}function bd(u,p,w,j){return 4*mi[255+u[p-w]-u[p+0]]+mi[255+u[p-2*w]-u[p+w]]<=j}function Sd(u,p,w,j,A){var F=u[p-3*w],I=u[p-2*w],D=u[p-w],U=u[p+0],q=u[p+w],ne=u[p+2*w],fe=u[p+3*w];return 4*mi[255+D-U]+mi[255+I-q]>j?0:mi[255+u[p-4*w]-F]<=A&&mi[255+F-I]<=A&&mi[255+I-D]<=A&&mi[255+fe-ne]<=A&&mi[255+ne-q]<=A&&mi[255+q-U]<=A}function _d(u,p,w,j){var A=2*j+1;for(j=0;16>j;++j)bd(u,p+j,w,A)&&$a(u,p+j,w)}function ts(u,p,w,j){var A=2*j+1;for(j=0;16>j;++j)bd(u,p+j*w,1,A)&&$a(u,p+j*w,1)}function xs(u,p,w,j){var A;for(A=3;0<A;--A)_d(u,p+=4*w,w,j)}function Pp(u,p,w,j){var A;for(A=3;0<A;--A)ts(u,p+=4,w,j)}function to(u,p,w,j,A,F,I,D){for(F=2*F+1;0<A--;){if(Sd(u,p,w,F,I))if(xd(u,p,w,D))$a(u,p,w);else{var U=u,q=p,ne=w,fe=U[q-2*ne],pe=U[q-ne],se=U[q+0],Se=U[q+ne],ge=U[q+2*ne],re=27*(we=Ip[1020+3*(se-pe)+Ip[1020+fe-Se]])+63>>7,ie=18*we+63>>7,we=9*we+63>>7;U[q-3*ne]=Hr[255+U[q-3*ne]+we],U[q-2*ne]=Hr[255+fe+ie],U[q-ne]=Hr[255+pe+re],U[q+0]=Hr[255+se-re],U[q+ne]=Hr[255+Se-ie],U[q+2*ne]=Hr[255+ge-we]}p+=j}}function Ti(u,p,w,j,A,F,I,D){for(F=2*F+1;0<A--;){if(Sd(u,p,w,F,I))if(xd(u,p,w,D))$a(u,p,w);else{var U=u,q=p,ne=w,fe=U[q-ne],pe=U[q+0],se=U[q+ne],Se=Td[112+((ge=3*(pe-fe))+4>>3)],ge=Td[112+(ge+3>>3)],re=Se+1>>1;U[q-2*ne]=Hr[255+U[q-2*ne]+re],U[q-ne]=Hr[255+fe+ge],U[q+0]=Hr[255+pe-Se],U[q+ne]=Hr[255+se-re]}p+=j}}function bc(u,p,w,j,A,F){to(u,p,w,1,16,j,A,F)}function Qo(u,p,w,j,A,F){to(u,p,1,w,16,j,A,F)}function Ep(u,p,w,j,A,F){var I;for(I=3;0<I;--I)Ti(u,p+=4*w,w,1,16,j,A,F)}function qa(u,p,w,j,A,F){var I;for(I=3;0<I;--I)Ti(u,p+=4,1,w,16,j,A,F)}function Lp(u,p,w,j,A,F,I,D){to(u,p,A,1,8,F,I,D),to(w,j,A,1,8,F,I,D)}function Sc(u,p,w,j,A,F,I,D){to(u,p,1,A,8,F,I,D),to(w,j,1,A,8,F,I,D)}function _c(u,p,w,j,A,F,I,D){Ti(u,p+4*A,A,1,8,F,I,D),Ti(w,j+4*A,A,1,8,F,I,D)}function jd(u,p,w,j,A,F,I,D){Ti(u,p+4,1,A,8,F,I,D),Ti(w,j+4,1,A,8,F,I,D)}function Va(){this.ba=new fr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function jc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function kc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function kd(){this.ua=0,this.Wa=new X,this.vb=new X,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new P}function Tp(){this.xb=this.a=0,this.l=new Zs,this.ca=new fr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new kd,this.ab=0,this.gc=o(4,kc),this.Oc=0}function Wa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Zs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Zo(u,p,w,j,A,F,I){for(u=u==null?0:u[p+0],p=0;p<I;++p)A[F+p]=u+w[j+p]&255,u=A[F+p]}function Nc(u,p,w,j,A,F,I){var D;if(u==null)Zo(null,null,w,j,A,F,I);else for(D=0;D<I;++D)A[F+D]=u[p+D]+w[j+D]&255}function no(u,p,w,j,A,F,I){if(u==null)Zo(null,null,w,j,A,F,I);else{var D,U=u[p+0],q=U,ne=U;for(D=0;D<I;++D)q=ne+(U=u[p+D])-q,ne=w[j+D]+(-256&q?0>q?0:255:q)&255,q=U,A[F+D]=ne}}function Ac(u,p,w,j){var A=p.width,F=p.o;if(t(u!=null&&p!=null),0>w||0>=j||w+j>F)return null;if(!u.Cc){if(u.ga==null){var I;if(u.ga=new Wa,(I=u.ga==null)||(I=p.width*p.o,t(u.Gb.length==0),u.Gb=s(I),u.Uc=0,u.Gb==null?I=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,I=1),I=!I),!I){I=u.ga;var D=u.Fa,U=u.P,q=u.qc,ne=u.mb,fe=u.nb,pe=U+1,se=q-1,Se=I.l;if(t(D!=null&&ne!=null&&p!=null),lo[0]=null,lo[1]=Zo,lo[2]=Nc,lo[3]=no,I.ca=ne,I.tb=fe,I.c=p.width,I.i=p.height,t(0<I.c&&0<I.i),1>=q)p=0;else if(I.$a=D[U+0]>>0&3,I.Z=D[U+0]>>2&3,I.Lc=D[U+0]>>4&3,U=D[U+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||U)p=0;else if(Se.put=oi,Se.ac=kn,Se.bc=Nn,Se.ma=I,Se.width=p.width,Se.height=p.height,Se.Da=p.Da,Se.v=p.v,Se.va=p.va,Se.j=p.j,Se.o=p.o,I.$a)e:{t(I.$a==1),p=Nr();t:for(;;){if(p==null){p=0;break e}if(t(I!=null),I.mc=p,p.c=I.c,p.i=I.i,p.l=I.l,p.l.ma=I,p.l.width=I.c,p.l.height=I.i,p.a=0,K(p.m,D,pe,se),!li(I.c,I.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&Pi(p.s)?(I.ic=1,D=p.c*p.i,p.Ta=null,p.Ua=0,p.V=s(D),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(I.ic=0,p=qr(p,I.c)),!p))break t;p=1;break e}I.mc=null,p=0}else p=se>=I.c*I.i;I=!p}if(I)return null;u.ga.Lc!=1?u.Ga=0:j=F-w}t(u.ga!=null),t(w+j<=F);e:{if(p=(D=u.ga).c,F=D.l.o,D.$a==0){if(pe=u.rc,se=u.Vc,Se=u.Fa,U=u.P+1+w*p,q=u.mb,ne=u.nb+w*p,t(U<=u.P+u.qc),D.Z!=0)for(t(lo[D.Z]!=null),I=0;I<j;++I)lo[D.Z](pe,se,Se,U,q,ne,p),pe=q,se=ne,ne+=p,U+=p;else for(I=0;I<j;++I)r(q,ne,Se,U,p),pe=q,se=ne,ne+=p,U+=p;u.rc=pe,u.Vc=se}else{if(t(D.mc!=null),p=w+j,t((I=D.mc)!=null),t(p<=I.i),I.C>=p)p=1;else if(D.ic||de(),D.ic){D=I.V,pe=I.Ba,se=I.c;var ge=I.i,re=(Se=1,U=I.$/se,q=I.$%se,ne=I.m,fe=I.s,I.$),ie=se*ge,we=se*p,ke=fe.wc,be=re<we?nn(fe,q,U):null;t(re<=ie),t(p<=ge),t(Pi(fe));t:for(;;){for(;!ne.h&&re<we;){if(q&ke||(be=nn(fe,q,U)),t(be!=null),Z(ne),256>(ge=Ln(be.G[0],be.H[0],ne)))D[pe+re]=ge,++re,++q>=se&&(q=0,++U<=p&&!(U%16)&&$r(I,U));else{if(!(280>ge)){Se=0;break t}ge=pr(ge-256,ne);var We,De=Ln(be.G[4],be.H[4],ne);if(Z(ne),!(re>=(De=ai(se,De=pr(De,ne)))&&ie-re>=ge)){Se=0;break t}for(We=0;We<ge;++We)D[pe+re+We]=D[pe+re+We-De];for(re+=ge,q+=ge;q>=se;)q-=se,++U<=p&&!(U%16)&&$r(I,U);re<we&&q&ke&&(be=nn(fe,q,U))}t(ne.h==$(ne))}$r(I,U>p?p:U);break t}!Se||ne.h&&re<ie?(Se=0,I.a=ne.h?5:3):I.$=re,p=Se}else p=mr(I,I.V,I.Ba,I.c,I.i,p,ci);if(!p){j=0;break e}}w+j>=F&&(u.Cc=1),j=1}if(!j)return null;if(u.Cc&&((j=u.ga)!=null&&(j.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+w*A}function v(u,p,w,j,A,F){for(;0<A--;){var I,D=u,U=p+(w?1:0),q=u,ne=p+(w?0:3);for(I=0;I<j;++I){var fe=q[ne+4*I];fe!=255&&(fe*=32897,D[U+4*I+0]=D[U+4*I+0]*fe>>23,D[U+4*I+1]=D[U+4*I+1]*fe>>23,D[U+4*I+2]=D[U+4*I+2]*fe>>23)}p+=F}}function C(u,p,w,j,A){for(;0<j--;){var F;for(F=0;F<w;++F){var I=u[p+2*F+0],D=15&(q=u[p+2*F+1]),U=4369*D,q=(240&q|q>>4)*U>>16;u[p+2*F+0]=(240&I|I>>4)*U>>16&240|(15&I|I<<4)*U>>16>>4&15,u[p+2*F+1]=240&q|D}p+=A}}function G(u,p,w,j,A,F,I,D){var U,q,ne=255;for(q=0;q<A;++q){for(U=0;U<j;++U){var fe=u[p+U];F[I+4*U]=fe,ne&=fe}p+=w,I+=D}return ne!=255}function te(u,p,w,j,A){var F;for(F=0;F<A;++F)w[j+F]=u[p+F]>>8}function de(){pi=v,Gt=C,Kt=G,wn=te}function ye(u,p,w){L[u]=function(j,A,F,I,D,U,q,ne,fe,pe,se,Se,ge,re,ie,we,ke){var be,We=ke-1>>1,De=D[U+0]|q[ne+0]<<16,rt=fe[pe+0]|se[Se+0]<<16;t(j!=null);var Be=3*De+rt+131074>>2;for(p(j[A+0],255&Be,Be>>16,ge,re),F!=null&&(Be=3*rt+De+131074>>2,p(F[I+0],255&Be,Be>>16,ie,we)),be=1;be<=We;++be){var Tt=D[U+be]|q[ne+be]<<16,It=fe[pe+be]|se[Se+be]<<16,Et=De+Tt+rt+It+524296,kt=Et+2*(Tt+rt)>>3;Be=kt+De>>1,De=(Et=Et+2*(De+It)>>3)+Tt>>1,p(j[A+2*be-1],255&Be,Be>>16,ge,re+(2*be-1)*w),p(j[A+2*be-0],255&De,De>>16,ge,re+(2*be-0)*w),F!=null&&(Be=Et+rt>>1,De=kt+It>>1,p(F[I+2*be-1],255&Be,Be>>16,ie,we+(2*be-1)*w),p(F[I+2*be+0],255&De,De>>16,ie,we+(2*be+0)*w)),De=Tt,rt=It}1&ke||(Be=3*De+rt+131074>>2,p(j[A+ke-1],255&Be,Be>>16,ge,re+(ke-1)*w),F!=null&&(Be=3*rt+De+131074>>2,p(F[I+ke-1],255&Be,Be>>16,ie,we+(ke-1)*w)))}}function Ce(){gi[Fd]=v_,gi[Id]=Dv,gi[Tv]=y_,gi[Rd]=Mv,gi[Od]=Bv,gi[Rp]=Uv,gi[Fv]=w_,gi[Op]=Dv,gi[Dp]=Mv,gi[Dd]=Bv,gi[Mp]=Uv}function Ve(u){return u&~x_?0>u?0:255:u>>zv}function Qe(u,p){return Ve((19077*u>>8)+(26149*p>>8)-14234)}function yt(u,p,w){return Ve((19077*u>>8)-(6419*p>>8)-(13320*w>>8)+8708)}function gt(u,p){return Ve((19077*u>>8)+(33050*p>>8)-17685)}function Nt(u,p,w,j,A){j[A+0]=Qe(u,w),j[A+1]=yt(u,p,w),j[A+2]=gt(u,p)}function sn(u,p,w,j,A){j[A+0]=gt(u,p),j[A+1]=yt(u,p,w),j[A+2]=Qe(u,w)}function hn(u,p,w,j,A){var F=yt(u,p,w);p=F<<3&224|gt(u,p)>>3,j[A+0]=248&Qe(u,w)|F>>5,j[A+1]=p}function An(u,p,w,j,A){var F=240&gt(u,p)|15;j[A+0]=240&Qe(u,w)|yt(u,p,w)>>4,j[A+1]=F}function Zn(u,p,w,j,A){j[A+0]=255,Nt(u,p,w,j,A+1)}function On(u,p,w,j,A){sn(u,p,w,j,A),j[A+3]=255}function Fi(u,p,w,j,A){Nt(u,p,w,j,A),j[A+3]=255}function Wr(u,p){return 0>u?0:u>p?p:u}function ns(u,p,w){L[u]=function(j,A,F,I,D,U,q,ne,fe){for(var pe=ne+(-2&fe)*w;ne!=pe;)p(j[A+0],F[I+0],D[U+0],q,ne),p(j[A+1],F[I+0],D[U+0],q,ne+w),A+=2,++I,++U,ne+=2*w;1&fe&&p(j[A+0],F[I+0],D[U+0],q,ne)}}function Nd(u,p,w){return w==0?u==0?p==0?6:5:p==0?4:0:w}function Cc(u,p,w,j,A){switch(u>>>30){case 3:_s(p,w,j,A,0);break;case 2:yn(p,w,j,A);break;case 1:vr(p,w,j,A)}}function Pc(u,p){var w,j,A=p.M,F=p.Nb,I=u.oc,D=u.pc+40,U=u.oc,q=u.pc+584,ne=u.oc,fe=u.pc+600;for(w=0;16>w;++w)I[D+32*w-1]=129;for(w=0;8>w;++w)U[q+32*w-1]=129,ne[fe+32*w-1]=129;for(0<A?I[D-1-32]=U[q-1-32]=ne[fe-1-32]=129:(i(I,D-32-1,127,21),i(U,q-32-1,127,9),i(ne,fe-32-1,127,9)),j=0;j<u.za;++j){var pe=p.ya[p.aa+j];if(0<j){for(w=-1;16>w;++w)r(I,D+32*w-4,I,D+32*w+12,4);for(w=-1;8>w;++w)r(U,q+32*w-4,U,q+32*w+4,4),r(ne,fe+32*w-4,ne,fe+32*w+4,4)}var se=u.Gd,Se=u.Hd+j,ge=pe.ad,re=pe.Hc;if(0<A&&(r(I,D-32,se[Se].y,0,16),r(U,q-32,se[Se].f,0,8),r(ne,fe-32,se[Se].ea,0,8)),pe.Za){var ie=I,we=D-32+16;for(0<A&&(j>=u.za-1?i(ie,we,se[Se].y[15],4):r(ie,we,se[Se+1].y,0,4)),w=0;4>w;w++)ie[we+128+w]=ie[we+256+w]=ie[we+384+w]=ie[we+0+w];for(w=0;16>w;++w,re<<=2)ie=I,we=D+qv[w],Ii[pe.Ob[w]](ie,we),Cc(re,ge,16*+w,ie,we)}else if(ie=Nd(j,A,pe.Ob[0]),ao[ie](I,D),re!=0)for(w=0;16>w;++w,re<<=2)Cc(re,ge,16*+w,I,D+qv[w]);for(w=pe.Gc,ie=Nd(j,A,pe.Dd),ks[ie](U,q),ks[ie](ne,fe),re=ge,ie=U,we=q,255&(pe=w>>0)&&(170&pe?Ic(re,256,ie,we):hi(re,256,ie,we)),pe=ne,re=fe,255&(w>>=8)&&(170&w?Ic(ge,320,pe,re):hi(ge,320,pe,re)),A<u.Ub-1&&(r(se[Se].y,0,I,D+480,16),r(se[Se].f,0,U,q+224,8),r(se[Se].ea,0,ne,fe+224,8)),w=8*F*u.B,se=u.sa,Se=u.ta+16*j+16*F*u.R,ge=u.qa,pe=u.ra+8*j+w,re=u.Ha,ie=u.Ia+8*j+w,w=0;16>w;++w)r(se,Se+w*u.R,I,D+32*w,16);for(w=0;8>w;++w)r(ge,pe+w*u.B,U,q+32*w,8),r(re,ie+w*u.B,ne,fe+32*w,8)}}function Ha(u,p,w,j,A,F,I,D,U){var q=[0],ne=[0],fe=0,pe=U!=null?U.kd:0,se=U??new jc;if(u==null||12>w)return 7;se.data=u,se.w=p,se.ha=w,p=[p],w=[w],se.gb=[se.gb];e:{var Se=p,ge=w,re=se.gb;if(t(u!=null),t(ge!=null),t(re!=null),re[0]=0,12<=ge[0]&&!n(u,Se[0],"RIFF")){if(n(u,Se[0]+8,"WEBP")){re=3;break e}var ie=Pe(u,Se[0]+4);if(12>ie||4294967286<ie){re=3;break e}if(pe&&ie>ge[0]-8){re=7;break e}re[0]=ie,Se[0]+=12,ge[0]-=12}re=0}if(re!=0)return re;for(ie=0<se.gb[0],w=w[0];;){e:{var we=u;ge=p,re=w;var ke=q,be=ne,We=Se=[0];if((Be=fe=[fe])[0]=0,8>re[0])re=7;else{if(!n(we,ge[0],"VP8X")){if(Pe(we,ge[0]+4)!=10){re=3;break e}if(18>re[0]){re=7;break e}var De=Pe(we,ge[0]+8),rt=1+Fe(we,ge[0]+12);if(2147483648<=rt*(we=1+Fe(we,ge[0]+15))){re=3;break e}We!=null&&(We[0]=De),ke!=null&&(ke[0]=rt),be!=null&&(be[0]=we),ge[0]+=18,re[0]-=18,Be[0]=1}re=0}}if(fe=fe[0],Se=Se[0],re!=0)return re;if(ge=!!(2&Se),!ie&&fe)return 3;if(F!=null&&(F[0]=!!(16&Se)),I!=null&&(I[0]=ge),D!=null&&(D[0]=0),I=q[0],Se=ne[0],fe&&ge&&U==null){re=0;break}if(4>w){re=7;break}if(ie&&fe||!ie&&!fe&&!n(u,p[0],"ALPH")){w=[w],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{De=u,re=p,ie=w;var Be=se.gb;ke=se.na,be=se.P,We=se.Sa,rt=22,t(De!=null),t(ie!=null),we=re[0];var Tt=ie[0];for(t(ke!=null),t(We!=null),ke[0]=null,be[0]=null,We[0]=0;;){if(re[0]=we,ie[0]=Tt,8>Tt){re=7;break e}var It=Pe(De,we+4);if(4294967286<It){re=3;break e}var Et=8+It+1&-2;if(rt+=Et,0<Be&&rt>Be){re=3;break e}if(!n(De,we,"VP8 ")||!n(De,we,"VP8L")){re=0;break e}if(Tt[0]<Et){re=7;break e}n(De,we,"ALPH")||(ke[0]=De,be[0]=we+8,We[0]=It),we+=Et,Tt-=Et}}if(w=w[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],re!=0)break}w=[w],se.Ja=[se.Ja],se.xa=[se.xa];e:if(Be=u,re=p,ie=w,ke=se.gb[0],be=se.Ja,We=se.xa,De=re[0],we=!n(Be,De,"VP8 "),rt=!n(Be,De,"VP8L"),t(Be!=null),t(ie!=null),t(be!=null),t(We!=null),8>ie[0])re=7;else{if(we||rt){if(Be=Pe(Be,De+4),12<=ke&&Be>ke-12){re=3;break e}if(pe&&Be>ie[0]-8){re=7;break e}be[0]=Be,re[0]+=8,ie[0]-=8,We[0]=rt}else We[0]=5<=ie[0]&&Be[De+0]==47&&!(Be[De+4]>>5),be[0]=ie[0];re=0}if(w=w[0],se.Ja=se.Ja[0],se.xa=se.xa[0],p=p[0],re!=0)break;if(4294967286<se.Ja)return 3;if(D==null||ge||(D[0]=se.xa?2:1),I=[I],Se=[Se],se.xa){if(5>w){re=7;break}D=I,pe=Se,ge=F,u==null||5>w?u=0:5<=w&&u[p+0]==47&&!(u[p+4]>>5)?(ie=[0],Be=[0],ke=[0],K(be=new N,u,p,w),et(be,ie,Be,ke)?(D!=null&&(D[0]=ie[0]),pe!=null&&(pe[0]=Be[0]),ge!=null&&(ge[0]=ke[0]),u=1):u=0):u=0}else{if(10>w){re=7;break}D=Se,u==null||10>w||!nt(u,p+3,w-3)?u=0:(pe=u[p+0]|u[p+1]<<8|u[p+2]<<16,ge=16383&(u[p+7]<<8|u[p+6]),u=16383&(u[p+9]<<8|u[p+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=se.Ja||!ge||!u?u=0:(I&&(I[0]=ge),D&&(D[0]=u),u=1))}if(!u||(I=I[0],Se=Se[0],fe&&(q[0]!=I||ne[0]!=Se)))return 3;U!=null&&(U[0]=se,U.offset=p-U.w,t(4294967286>p-U.w),t(U.offset==U.ha-w));break}return re==0||re==7&&fe&&U==null?(F!=null&&(F[0]|=se.na!=null&&0<se.na.length),j!=null&&(j[0]=I),A!=null&&(A[0]=Se),0):re}function Ec(u,p,w){var j=p.width,A=p.height,F=0,I=0,D=j,U=A;if(p.Da=u!=null&&0<u.Da,p.Da&&(D=u.cd,U=u.bd,F=u.v,I=u.j,11>w||(F&=-2,I&=-2),0>F||0>I||0>=D||0>=U||F+D>j||I+U>A))return 0;if(p.v=F,p.j=I,p.va=F+D,p.o=I+U,p.U=D,p.T=U,p.da=u!=null&&0<u.da,p.da){if(!ot(D,U,w=[u.ib],F=[u.hb]))return 0;p.ib=w[0],p.hb=F[0]}return p.ob=u!=null&&u.ob,p.Kb=u==null||!u.Sd,p.da&&(p.ob=p.ib<3*j/4&&p.hb<3*A/4,p.Kb=0),1}function Lc(u){if(u==null)return 2;if(11>u.S){var p=u.f.RGBA;p.fb+=(u.height-1)*p.A,p.A=-p.A}else p=u.f.kb,u=u.height,p.O+=(u-1)*p.fa,p.fa=-p.fa,p.N+=(u-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(u-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(u-1)*p.lb,p.lb=-p.lb);return 0}function Ga(u,p,w,j){if(j==null||0>=u||0>=p)return 2;if(w!=null){if(w.Da){var A=w.cd,F=w.bd,I=-2&w.v,D=-2&w.j;if(0>I||0>D||0>=A||0>=F||I+A>u||D+F>p)return 2;u=A,p=F}if(w.da){if(!ot(u,p,A=[w.ib],F=[w.hb]))return 2;u=A[0],p=F[0]}}j.width=u,j.height=p;e:{var U=j.width,q=j.height;if(u=j.S,0>=U||0>=q||!(u>=Fd&&13>u))u=2;else{if(0>=j.Rd&&j.sd==null){I=F=A=p=0;var ne=(D=U*Vv[u])*q;if(11>u||(F=(q+1)/2*(p=(U+1)/2),u==12&&(I=(A=U)*q)),(q=s(ne+2*F+I))==null){u=1;break e}j.sd=q,11>u?((U=j.f.RGBA).eb=q,U.fb=0,U.A=D,U.size=ne):((U=j.f.kb).y=q,U.O=0,U.fa=D,U.Fd=ne,U.f=q,U.N=0+ne,U.Ab=p,U.Cd=F,U.ea=q,U.W=0+ne+F,U.Db=p,U.Ed=F,u==12&&(U.F=q,U.J=0+ne+2*F),U.Tc=I,U.lb=A)}if(p=1,A=j.S,F=j.width,I=j.height,A>=Fd&&13>A)if(11>A)u=j.f.RGBA,p&=(D=Math.abs(u.A))*(I-1)+F<=u.size,p&=D>=F*Vv[A],p&=u.eb!=null;else{u=j.f.kb,D=(F+1)/2,ne=(I+1)/2,U=Math.abs(u.fa),q=Math.abs(u.Ab);var fe=Math.abs(u.Db),pe=Math.abs(u.lb),se=pe*(I-1)+F;p&=U*(I-1)+F<=u.Fd,p&=q*(ne-1)+D<=u.Cd,p=(p&=fe*(ne-1)+D<=u.Ed)&U>=F&q>=D&fe>=D,p&=u.y!=null,p&=u.f!=null,p&=u.ea!=null,A==12&&(p&=pe>=F,p&=se<=u.Tc,p&=u.F!=null)}else p=0;u=p?0:2}}return u!=0||w!=null&&w.fd&&(u=Lc(j)),u}var Vn=64,Ka=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ja=24,Ya=32,Tc=8,Ar=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(u){return u},L.Predictor2=function(u,p,w){return p[w+0]},L.Predictor3=function(u,p,w){return p[w+1]},L.Predictor4=function(u,p,w){return p[w-1]},L.Predictor5=function(u,p,w){return Oe(Oe(u,p[w+1]),p[w+0])},L.Predictor6=function(u,p,w){return Oe(u,p[w-1])},L.Predictor7=function(u,p,w){return Oe(u,p[w+0])},L.Predictor8=function(u,p,w){return Oe(p[w-1],p[w+0])},L.Predictor9=function(u,p,w){return Oe(p[w+0],p[w+1])},L.Predictor10=function(u,p,w){return Oe(Oe(u,p[w-1]),Oe(p[w+0],p[w+1]))},L.Predictor11=function(u,p,w){var j=p[w+0];return 0>=Ae(j>>24&255,u>>24&255,(p=p[w-1])>>24&255)+Ae(j>>16&255,u>>16&255,p>>16&255)+Ae(j>>8&255,u>>8&255,p>>8&255)+Ae(255&j,255&u,255&p)?j:u},L.Predictor12=function(u,p,w){var j=p[w+0];return(qe((u>>24&255)+(j>>24&255)-((p=p[w-1])>>24&255))<<24|qe((u>>16&255)+(j>>16&255)-(p>>16&255))<<16|qe((u>>8&255)+(j>>8&255)-(p>>8&255))<<8|qe((255&u)+(255&j)-(255&p)))>>>0},L.Predictor13=function(u,p,w){var j=p[w-1];return(st((u=Oe(u,p[w+0]))>>24&255,j>>24&255)<<24|st(u>>16&255,j>>16&255)<<16|st(u>>8&255,j>>8&255)<<8|st(u>>0&255,j>>0&255))>>>0};var Fp=L.PredictorAdd0;L.PredictorAdd1=$e,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var Fc=L.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Ad,di=L.ColorIndexInverseTransform,Xa=L.MapARGB,Cd=L.VP8LColorIndexInverseTransformAlpha,Pd=L.MapAlpha,ro=L.VP8LPredictorsAdd=[];ro.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var ea,Cr,gr,io,bs,Ss,Qa,_s,yn,Ic,vr,hi,Za,Ed,Rc,ta,na,so,ra,el,ia,oo,Oc,fi,pi,Gt,Kt,wn,Tn=s(511),js=s(2041),Dc=s(225),tl=s(767),Ld=0,Ip=js,Td=Dc,Hr=tl,mi=Tn,Fd=0,Id=1,Tv=2,Rd=3,Od=4,Rp=5,Fv=6,Op=7,Dp=8,Dd=9,Mp=10,r_=[2,3,7],i_=[3,3,11],Iv=[280,256,256,256,40],s_=[0,1,1,1,0],o_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],a_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],l_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],c_=8,Bp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Up=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Mc=null,u_=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],d_=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Rv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],h_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],f_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],p_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],m_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ao=[],Ii=[],ks=[],g_=1,Ov=2,lo=[],gi=[];ye("UpsampleRgbLinePair",Nt,3),ye("UpsampleBgrLinePair",sn,3),ye("UpsampleRgbaLinePair",Fi,4),ye("UpsampleBgraLinePair",On,4),ye("UpsampleArgbLinePair",Zn,4),ye("UpsampleRgba4444LinePair",An,2),ye("UpsampleRgb565LinePair",hn,2);var v_=L.UpsampleRgbLinePair,y_=L.UpsampleBgrLinePair,Dv=L.UpsampleRgbaLinePair,Mv=L.UpsampleBgraLinePair,Bv=L.UpsampleArgbLinePair,Uv=L.UpsampleRgba4444LinePair,w_=L.UpsampleRgb565LinePair,Md=16,Bd=1<<Md-1,Bc=-227,zp=482,zv=6,x_=(256<<zv)-1,$v=0,b_=s(256),S_=s(256),__=s(256),j_=s(256),k_=s(zp-Bc),N_=s(zp-Bc);ns("YuvToRgbRow",Nt,3),ns("YuvToBgrRow",sn,3),ns("YuvToRgbaRow",Fi,4),ns("YuvToBgraRow",On,4),ns("YuvToArgbRow",Zn,4),ns("YuvToRgba4444Row",An,2),ns("YuvToRgb565Row",hn,2);var qv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ud=[0,2,8],A_=[8,7,6,4,4,2,2,2,1,1,1,1],C_=1;this.WebPDecodeRGBA=function(u,p,w,j,A){var F=Id,I=new Va,D=new fr;I.ba=D,D.S=F,D.width=[D.width],D.height=[D.height];var U=D.width,q=D.height,ne=new si;if(ne==null||u==null)var fe=2;else t(ne!=null),fe=Ha(u,p,w,ne.width,ne.height,ne.Pd,ne.Qd,ne.format,null);if(fe!=0?U=0:(U!=null&&(U[0]=ne.width[0]),q!=null&&(q[0]=ne.height[0]),U=1),U){D.width=D.width[0],D.height=D.height[0],j!=null&&(j[0]=D.width),A!=null&&(A[0]=D.height);e:{if(j=new Zs,(A=new jc).data=u,A.w=p,A.ha=w,A.kd=1,p=[0],t(A!=null),((u=Ha(A.data,A.w,A.ha,null,null,null,p,null,A))==0||u==7)&&p[0]&&(u=4),(p=u)==0){if(t(I!=null),j.data=A.data,j.w=A.w+A.offset,j.ha=A.ha-A.offset,j.put=oi,j.ac=kn,j.bc=Nn,j.ma=I,A.xa){if((u=Nr())==null){I=1;break e}if(function(pe,se){var Se=[0],ge=[0],re=[0];t:for(;;){if(pe==null)return 0;if(se==null)return pe.a=2,0;if(pe.l=se,pe.a=0,K(pe.m,se.data,se.w,se.ha),!et(pe.m,Se,ge,re)){pe.a=3;break t}if(pe.xb=Ov,se.width=Se[0],se.height=ge[0],!li(Se[0],ge[0],1,pe,null))break t;return 1}return t(pe.a!=0),0}(u,j)){if(j=(p=Ga(j.width,j.height,I.Oa,I.ba))==0){t:{j=u;n:for(;;){if(j==null){j=0;break t}if(t(j.s.yc!=null),t(j.s.Ya!=null),t(0<j.s.Wb),t((w=j.l)!=null),t((A=w.ma)!=null),j.xb!=0){if(j.ca=A.ba,j.tb=A.tb,t(j.ca!=null),!Ec(A.Oa,w,Rd)){j.a=2;break n}if(!qr(j,w.width)||w.da)break n;if((w.da||Ct(j.ca.S))&&de(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&de()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!Ze(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!mr(j,j.V,j.Ba,j.c,j.i,w.o,Ks))break n;A.Dc=j.Ma,j=1;break t}t(j.a!=0),j=0}j=!j}j&&(p=u.a)}else p=u.a}else{if((u=new Le)==null){I=1;break e}if(u.Fa=A.na,u.P=A.P,u.qc=A.Sa,je(u,j)){if((p=Ga(j.width,j.height,I.Oa,I.ba))==0){if(u.Aa=0,w=I.Oa,t((A=u)!=null),w!=null){if(0<(U=0>(U=w.Md)?0:100<U?255:255*U/100)){for(q=ne=0;4>q;++q)12>(fe=A.pb[q]).lc&&(fe.ia=U*A_[0>fe.lc?0:fe.lc]>>3),ne|=fe.ia;ne&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=w.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}Ee(u,j)||(p=u.a)}}else p=u.a}p==0&&I.Oa!=null&&I.Oa.fd&&(p=Lc(I.ba))}I=p}F=I!=0?null:11>F?D.f.RGBA.eb:D.f.kb.y}else F=null;return F};var Vv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(L,V){for(var H="",R=0;R<4;R++)H+=String.fromCharCode(L[V++]);return H}function h(L,V){return(L[V+0]<<0|L[V+1]<<8|L[V+2]<<16)>>>0}function f(L,V){return(L[V+0]<<0|L[V+1]<<8|L[V+2]<<16|L[V+3]<<24)>>>0}new l;var m=[0],g=[0],b=[],S=new l,k=e,y=function(L,V){var H={},R=0,P=!1,J=0,W=0;if(H.frames=[],!function(z,$,Y,Z){for(var oe=0;oe<Z;oe++)if(z[$+oe]!=Y.charCodeAt(oe))return!0;return!1}(L,V,"RIFF",4)){for(f(L,V+=4),V+=8;V<L.length;){var ue=c(L,V),le=f(L,V+=4);V+=4;var ae=le+(1&le);switch(ue){case"VP8 ":case"VP8L":H.frames[R]===void 0&&(H.frames[R]={}),(Q=H.frames[R]).src_off=P?W:V-8,Q.src_size=J+le+8,R++,P&&(P=!1,J=0,W=0);break;case"VP8X":(Q=H.header={}).feature_flags=L[V];var K=V+4;Q.canvas_width=1+h(L,K),K+=3,Q.canvas_height=1+h(L,K),K+=3;break;case"ALPH":P=!0,J=ae+8,W=V-8;break;case"ANIM":(Q=H.header).bgcolor=f(L,V),K=V+4,Q.loop_count=(me=L)[(N=K)+0]<<0|me[N+1]<<8,K+=2;break;case"ANMF":var ee,Q;(Q=H.frames[R]={}).offset_x=2*h(L,V),V+=3,Q.offset_y=2*h(L,V),V+=3,Q.width=1+h(L,V),V+=3,Q.height=1+h(L,V),V+=3,Q.duration=h(L,V),V+=3,ee=L[V++],Q.dispose=1&ee,Q.blend=ee>>1&1}ue!="ANMF"&&(V+=ae)}var me,N;return H}}(k,0);y.response=k,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,_=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,m=[x.canvas_height],g=[x.canvas_width];for(var E=0;E<_.length&&_[E].blend!=0;E++);}var O=_[0],M=S.WebPDecodeRGBA(k,O.src_off,O.src_size,g,m);O.rgba=M,O.imgwidth=g[0],O.imgheight=m[0];for(var B=0;B<g[0]*m[0]*4;B++)b[B]=M[B];return this.width=g,this.height=m,this.data=b,this}(function(e){var t=function(){return typeof Pg=="function"},n=function(m,g,b,S){var k=4,y=o;switch(S){case e.image_compression.FAST:k=1,y=s;break;case e.image_compression.MEDIUM:k=6,y=a;break;case e.image_compression.SLOW:k=9,y=l}m=r(m,g,b,y);var x=Pg(m,{level:k});return e.__addimage__.arrayBufferToBinaryString(x)},r=function(m,g,b,S){for(var k,y,x,_=m.length/g,E=new Uint8Array(m.length+_),O=h(),M=0;M<_;M+=1){if(x=M*g,k=m.subarray(x,x+g),S)E.set(S(k,b,y),x+M);else{for(var B,L=O.length,V=[];B<L;B+=1)V[B]=O[B](k,b,y);var H=f(V.concat());E.set(V[H],x+M)}y=k}return E},i=function(m){var g=Array.apply([],m);return g.unshift(0),g},s=function(m,g){var b,S=[],k=m.length;S[0]=1;for(var y=0;y<k;y+=1)b=m[y-g]||0,S[y+1]=m[y]-b+256&255;return S},o=function(m,g,b){var S,k=[],y=m.length;k[0]=2;for(var x=0;x<y;x+=1)S=b&&b[x]||0,k[x+1]=m[x]-S+256&255;return k},a=function(m,g,b){var S,k,y=[],x=m.length;y[0]=3;for(var _=0;_<x;_+=1)S=m[_-g]||0,k=b&&b[_]||0,y[_+1]=m[_]+256-(S+k>>>1)&255;return y},l=function(m,g,b){var S,k,y,x,_=[],E=m.length;_[0]=4;for(var O=0;O<E;O+=1)S=m[O-g]||0,k=b&&b[O]||0,y=b&&b[O-g]||0,x=c(S,k,y),_[O+1]=m[O]-x+256&255;return _},c=function(m,g,b){if(m===g&&g===b)return m;var S=Math.abs(g-b),k=Math.abs(m-b),y=Math.abs(m+g-b-b);return S<=k&&S<=y?m:k<=y?g:b},h=function(){return[i,s,o,a,l]},f=function(m){var g=m.map(function(b){return b.reduce(function(S,k){return S+Math.abs(k)},0)});return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(m,g,b,S){var k,y,x,_,E,O,M,B,L,V,H,R,P,J,W,ue=this.decode.FLATE_DECODE,le="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(x=new s7(m)).imgData,y=x.bits,k=x.colorSpace,E=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){L=(B=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,H=new Uint8Array(L*x.colors),V=new Uint8Array(L);var ae,K=x.pixelBitlength-x.bits;for(J=0,W=0;J<L;J++){for(P=B[J],ae=0;ae<K;)H[W++]=P>>>ae&255,ae+=x.bits;V[J]=P>>>ae&255}}if(x.bits===16){L=(B=new Uint32Array(x.decodePixels().buffer)).length,H=new Uint8Array(L*(32/x.pixelBitlength)*x.colors),V=new Uint8Array(L*(32/x.pixelBitlength)),R=x.colors>1,J=0,W=0;for(var ee=0;J<L;)P=B[J++],H[W++]=P>>>0&255,R&&(H[W++]=P>>>16&255,P=B[J++],H[W++]=P>>>0&255),V[ee++]=P>>>16&255;y=8}S!==e.image_compression.NONE&&t()?(m=n(H,x.width*x.colors,x.colors,S),M=n(V,x.width,1,S)):(m=H,M=V,ue=void 0)}if(x.colorType===3&&(k=this.color_spaces.INDEXED,O=x.palette,x.transparency.indexed)){var Q=x.transparency.indexed,me=0;for(J=0,L=Q.length;J<L;++J)me+=Q[J];if((me/=255)===L-1&&Q.indexOf(0)!==-1)_=[Q.indexOf(0)];else if(me!==L){for(B=x.decodePixels(),V=new Uint8Array(B.length),J=0,L=B.length;J<L;J++)V[J]=Q[B[J]];M=n(V,x.width,1)}}var N=function(z){var $;switch(z){case e.image_compression.FAST:$=11;break;case e.image_compression.MEDIUM:$=13;break;case e.image_compression.SLOW:$=14;break;default:$=12}return $}(S);return ue===this.decode.FLATE_DECODE&&(le="/Predictor "+N+" "),le+="/Colors "+E+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(M&&this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),{alias:b,data:m,index:g,filter:ue,decodeParameters:le,transparency:_,palette:O,sMask:M,predictor:N,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:k}}}})(it.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new o7(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},h=new Zm(100).encode(c,100);return e.processJPEG.call(this,h,n,r,i)},e.processGIF87A=e.processGIF89A}(it.API),Mi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Mi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Vt.log("bit decode error:"+n)}},Mi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Mi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Mi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Mi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=c}this.pos+=e}},Mi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,h=i*this.width*4+4*s;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=e}},Mi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Mi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Mi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new Mi(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Zm(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(it.API),yw.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new yw(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Zm(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(it.API),it.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var h=r[c],f=r[c+1],m=r[c+2],g=r[c+3];s[a++]=h,s[a++]=f,s[a++]=m,o[l++]=g}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},it.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fl=it.API,kh=fl.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=c.fof?c.fof:1,f=t.doKerning!==!1,m=0,g=e.length,b=0,S=a[0]||l,k=[];for(n=0;n<g;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(m=f&&Ot(c[r])==="object"&&!isNaN(parseInt(c[r][b],10))?c[r][b]/h:0,k.push((a[r]||S)/l+m)),b=r;return k},pw=fl.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return fl.processArabic&&(e=fl.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:kh.apply(this,arguments).reduce(function(s,o){return s+o},0)},mw=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},gw=function(e,t,n){n||(n={});var r,i,s,o,a,l,c,h=[],f=[h],m=n.textIndent||0,g=0,b=0,S=e.split(" "),k=kh.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),x=[];S.map(function(E){(E=E.split(/\s*\n/)).length>1?x=x.concat(E.map(function(O,M){return(M&&O.length?`
`:"")+O})):x.push(E[0])}),S=x,l=pw.apply(this,[y,n])}for(s=0,o=S.length;s<o;s++){var _=0;if(r=S[s],l&&r[0]==`
`&&(r=r.substr(1),_=1),m+g+(b=(i=kh.apply(this,[r,n])).reduce(function(E,O){return E+O},0))>t||_){if(b>t){for(a=mw.apply(this,[r,i,t-(m+g),t]),h.push(a.shift()),h=[a.pop()];a.length;)f.push([a.shift()]);b=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(E,O){return E+O},0)}else h=[r];f.push(h),m=b+l,g=k}else h.push(r),m+=g+b,g=k}return c=l?function(E,O){return(O?y:"")+E.join(" ")}:function(E){return E.join(" ")},f.map(c)},fl.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(gw.apply(this,[r[a],o,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var m,g,b,S,k=["{"];for(var y in f){if(m=f[y],isNaN(parseInt(y,10))?g="'"+y+"'":(y=parseInt(y,10),g=(g=s(y).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof m=="number")m<0?(b=s(m).slice(3),S="-"):(b=s(m).slice(2),S=""),b=S+b.slice(0,-1)+r[b.slice(-1)];else{if(Ot(m)!=="object")throw new Error("Don't know what to do with value type "+Ot(m)+".");b=o(m)}k.push(g+b)}return k.push("}"),k.join("")},a=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,g,b,S,k={},y=1,x=k,_=[],E="",O="",M=f.length-1,B=1;B<M;B+=1)(S=f[B])=="'"?m?(b=m.join(""),m=void 0):m=[]:m?m.push(S):S=="{"?(_.push([x,b]),x={},b=void 0):S=="}"?((g=_.pop())[0][g[1]]=x,b=void 0,x=g[0]):S=="-"?y=-1:b===void 0?n.hasOwnProperty(S)?(E+=n[S],b=parseInt(E,16)*y,y=1,E=""):E+=S:n.hasOwnProperty(S)?(O+=n[S],x[b]=parseInt(O,16)*y,y=1,b=void 0,O=""):O+=S;return k},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var m=f.font,g=h.Unicode[m.postScriptName];g&&(m.metadata.Unicode={},m.metadata.Unicode.widths=g.widths,m.metadata.Unicode.kerning=g.kerning);var b=c.Unicode[m.postScriptName];b&&(m.metadata.Unicode.encoding=b,m.encoding=b.codePages[0])}])}(it.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Pu(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(it),function(e){function t(){return(ct.canvg?Promise.resolve(ct.canvg):ps(()=>import("./index.es-4c6f6975.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}it.API.addSvgAsImage=function(n,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw Vt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Vt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=o;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then(function(b){return b.fromString(f,n,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(m)}).then(function(){g.addImage(h.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),it.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},it.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,h=0,f=0;function m(b,S){var k,y=!1;for(k=0;k<b.length;k+=1)b[k]===S&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=a.length;for(f=0;f<g;f+=1)n[a[f]].value=n[a[f]].defaultValue,n[a[f]].explicitSet=!1}if(Ot(e)==="object"){for(i in e)if(s=e[i],m(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&m(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(h=0;h<s[c].length;h+=1)typeof s[c][h]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,S=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?S.push("/"+b+" /"+n[b].value):S.push("/"+b+" "+n[b].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(it.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],f=0,m=s.length;f<m;++f){if(a=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(c[4-a.length],a)}return h.join("")},r=function(s){var o,a,l,c,h,f,m;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,m=(a=Object.keys(s).sort(function(g,b){return g-b})).length;f<m;f++)o=a[f],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,h=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",b=0;b<m.length;b++)g+=String.fromCharCode(m[b]);var S=c();h({data:g,addLength1:!0,objectId:S}),l("endobj");var k=c();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+yl(a.fontName)),l("/FontFile2 "+S+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+yl(a.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+yl(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,h=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,m="",g=0;g<f.length;g++)m+=String.fromCharCode(f[g]);var b=c();h({data:m,addLength1:!0,objectId:b}),l("endobj");var S=c();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var k=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+yl(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+yl(a.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,h=s.options||{},f=s.mutex||{},m=f.pdfEscape,g=f.activeFontKey,b=f.fonts,S=g,k="",y=0,x="",_=b[S].encoding;if(b[S].encoding!=="Identity-H")return{text:a,x:l,y:c,options:h,mutex:f};for(x=a,S=g,Array.isArray(a)&&(x=a[0]),y=0;y<x.length;y+=1)b[S].metadata.hasOwnProperty("cmap")&&(o=b[S].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),o||x[y].charCodeAt(0)<256&&b[S].metadata.hasOwnProperty("Unicode")?k+=x[y]:k+="";var E="";return parseInt(S.slice(1))<14||_==="WinAnsiEncoding"?E=m(k,S).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(E=n(k,b[S])),f.isHex=!0,{text:E,x:l,y:c,options:h,mutex:f}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(it),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(it.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,h,f=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,_=0;this.__bidiEngine__={};var E=function(R){var P=R.charCodeAt(),J=P>>8,W=S[J];return W!==void 0?f[256*W+(255&P)]:J===252||J===253?"AL":y.test(J)?"L":J===8?"R":"N"},O=function(R){for(var P,J=0;J<R.length;J++){if((P=E(R.charAt(J)))==="L")return!1;if(P==="R")return!0}return!1},M=function(R,P,J,W){var ue,le,ae,K,ee=P[W];switch(ee){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(ee="AN");break;case"AL":x=!0,ee="R";break;case"WS":ee="N";break;case"CS":W<1||W+1>=P.length||(ue=J[W-1])!=="EN"&&ue!=="AN"||(le=P[W+1])!=="EN"&&le!=="AN"?ee="N":x&&(le="AN"),ee=le===ue?le:"N";break;case"ES":ee=(ue=W>0?J[W-1]:"B")==="EN"&&W+1<P.length&&P[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&J[W-1]==="EN"){ee="EN";break}if(x){ee="N";break}for(ae=W+1,K=P.length;ae<K&&P[ae]==="ET";)ae++;ee=ae<K&&P[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(K=P.length,ae=W+1;ae<K&&P[ae]==="NSM";)ae++;if(ae<K){var Q=R[W],me=Q>=1425&&Q<=2303||Q===64286;if(ue=P[ae],me&&(ue==="R"||ue==="AL")){ee="R";break}}}ee=W<1||(ue=P[W-1])==="B"?"N":J[W-1];break;case"B":x=!1,i=!0,ee=_;break;case"S":s=!0,ee="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":ee="N"}return ee},B=function(R,P,J){var W=R.split("");return J&&L(W,J,{hiLevel:_}),W.reverse(),P&&P.reverse(),W.join("")},L=function(R,P,J){var W,ue,le,ae,K,ee=-1,Q=R.length,me=0,N=[],z=_?g:m,$=[];for(x=!1,i=!1,s=!1,ue=0;ue<Q;ue++)$[ue]=E(R[ue]);for(le=0;le<Q;le++){if(K=me,N[le]=M(R,$,N,le),W=240&(me=z[K][b[N[le]]]),me&=15,P[le]=ae=z[me][5],W>0)if(W===16){for(ue=ee;ue<le;ue++)P[ue]=1;ee=-1}else ee=-1;if(z[me][6])ee===-1&&(ee=le);else if(ee>-1){for(ue=ee;ue<le;ue++)P[ue]=ae;ee=-1}$[le]==="B"&&(P[le]=0),J.hiLevel|=ae}s&&function(Y,Z,oe){for(var he=0;he<oe;he++)if(Y[he]==="S"){Z[he]=_;for(var ce=he-1;ce>=0&&Y[ce]==="WS";ce--)Z[ce]=_}}($,P,Q)},V=function(R,P,J,W,ue){if(!(ue.hiLevel<R)){if(R===1&&_===1&&!i)return P.reverse(),void(J&&J.reverse());for(var le,ae,K,ee,Q=P.length,me=0;me<Q;){if(W[me]>=R){for(K=me+1;K<Q&&W[K]>=R;)K++;for(ee=me,ae=K-1;ee<ae;ee++,ae--)le=P[ee],P[ee]=P[ae],P[ae]=le,J&&(le=J[ee],J[ee]=J[ae],J[ae]=le);me=K}me++}}},H=function(R,P,J){var W=R.split(""),ue={hiLevel:_};return J||(J=[]),L(W,J,ue),function(le,ae,K){if(K.hiLevel!==0&&h)for(var ee,Q=0;Q<le.length;Q++)ae[Q]===1&&(ee=k.indexOf(le[Q]))>=0&&(le[Q]=k[ee+1])}(W,J,ue),V(2,W,P,J,ue),V(1,W,P,J,ue),W.join("")};return this.__bidiEngine__.doBidiReorder=function(R,P,J){if(function(ue,le){if(le)for(var ae=0;ae<ue.length;ae++)le[ae]=ae;a===void 0&&(a=O(ue)),c===void 0&&(c=O(ue))}(R,P),o||!l||c)if(o&&l&&a^c)_=a?1:0,R=B(R,P,J);else if(!o&&l&&c)_=a?1:0,R=H(R,P,J),R=B(R,P);else if(!o||a||l||c){if(o&&!l&&a^c)R=B(R,P),a?(_=0,R=H(R,P,J)):(_=1,R=H(R,P,J),R=B(R,P));else if(o&&a&&!l&&c)_=1,R=H(R,P,J),R=B(R,P);else if(!o&&!l&&a^c){var W=h;a?(_=1,R=H(R,P,J),_=0,h=!1,R=H(R,P,J),h=W):(_=0,R=H(R,P,J),R=B(R,P),_=1,h=!1,R=H(R,P,J),h=W,R=B(R,P))}}else _=0,R=H(R,P,J);else _=a?1:0,R=H(R,P,J);return R},this.__bidiEngine__.setOptions=function(R){R&&(o=R.isInputVisual,l=R.isOutputVisual,a=R.isInputRtl,c=R.isOutputRtl,h=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(it),it.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new $o(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new b7(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new a7(this.contents),this.head=new c7(this),this.name=new p7(this),this.cmap=new k4(this),this.toUnicode={},this.hhea=new u7(this),this.maxp=new m7(this),this.hmtx=new g7(this),this.post=new h7(this),this.os2=new d7(this),this.loca=new x7(this),this.glyf=new v7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Xi,$o=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),a7=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,a,l,c,h,f,m,g,b,S;for(S in g=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(g)/l),o=Math.floor(f/l),h=16*g-f,(i=new $o).writeInt(this.scalarType),i.writeShort(g),i.writeShort(f),i.writeShort(o),i.writeShort(h),s=16*g,c=i.pos+s,a=null,b=[],n)for(m=n[S],i.writeString(S),i.writeInt(e(m)),i.writeInt(c),i.writeInt(m.length),b=b.concat(m),S==="head"&&(a=c),c+=m.length;c%4;)b.push(0),c++;return i.write(b),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=N4.call(n);n.length%4;)n.push(0);for(s=new $o(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),l7={}.hasOwnProperty,gs=function(e,t){for(var n in t)l7.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Xi=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var c7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Xi),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new $o).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),ww=function(){function e(t,n){var r,i,s,o,a,l,c,h,f,m,g,b,S,k,y,x,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(g=t.readUInt16(),m=g/2,t.pos+=6,s=function(){var E,O;for(O=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)O.push(t.readUInt16());return O}(),t.pos+=2,S=function(){var E,O;for(O=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)O.push(t.readUInt16());return O}(),c=function(){var E,O;for(O=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)O.push(t.readUInt16());return O}(),h=function(){var E,O;for(O=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)O.push(t.readUInt16());return O}(),i=(this.length-t.pos+this.offset)/2,a=function(){var E,O;for(O=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)O.push(t.readUInt16());return O}(),l=y=0,_=s.length;y<_;l=++y)for(k=s[l],r=x=b=S[l];b<=k?x<=k:x>=k;r=b<=k?++x:--x)h[l]===0?o=r+c[l]:(o=a[h[l]/2+(r-b)-(m-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}t.pos=f}return e.encode=function(t,n){var r,i,s,o,a,l,c,h,f,m,g,b,S,k,y,x,_,E,O,M,B,L,V,H,R,P,J,W,ue,le,ae,K,ee,Q,me,N,z,$,Y,Z,oe,he,ce,xe,_e,Fe;switch(W=new $o,o=Object.keys(t).sort(function(Pe,Ze){return Pe-Ze}),n){case"macroman":for(S=0,k=function(){var Pe=[];for(b=0;b<256;++b)Pe.push(0);return Pe}(),x={0:0},s={},ue=0,ee=o.length;ue<ee;ue++)x[ce=t[i=o[ue]]]==null&&(x[ce]=++S),s[i]={old:t[i],new:x[t[i]]},k[i]=x[t[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(k),{charMap:s,subtable:W.data,maxGlyphID:S+1};case"unicode":for(P=[],f=[],_=0,x={},r={},y=c=null,le=0,Q=o.length;le<Q;le++)x[O=t[i=o[le]]]==null&&(x[O]=++_),r[i]={old:O,new:x[O]},a=x[O]-i,y!=null&&a===c||(y&&f.push(y),P.push(i),c=a),y=i;for(y&&f.push(y),f.push(65535),P.push(65535),H=2*(V=P.length),L=2*Math.pow(Math.log(V)/Math.LN2,2),m=Math.log(L/2)/Math.LN2,B=2*V-L,l=[],M=[],g=[],b=ae=0,me=P.length;ae<me;b=++ae){if(R=P[b],h=f[b],R===65535){l.push(0),M.push(0);break}if(R-(J=r[R].new)>=32768)for(l.push(0),M.push(2*(g.length+V-b)),i=K=R;R<=h?K<=h:K>=h;i=R<=h?++K:--K)g.push(r[i].new);else l.push(J-R),M.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*V+2*g.length),W.writeUInt16(0),W.writeUInt16(H),W.writeUInt16(L),W.writeUInt16(m),W.writeUInt16(B),oe=0,N=f.length;oe<N;oe++)i=f[oe],W.writeUInt16(i);for(W.writeUInt16(0),he=0,z=P.length;he<z;he++)i=P[he],W.writeUInt16(i);for(xe=0,$=l.length;xe<$;xe++)a=l[xe],W.writeUInt16(a);for(_e=0,Y=M.length;_e<Y;_e++)E=M[_e],W.writeUInt16(E);for(Fe=0,Z=g.length;Fe<Z;Fe++)S=g[Fe],W.writeUInt16(S);return{charMap:r,subtable:W.data,maxGlyphID:_+1}}},e}(),k4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Xi),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new ww(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=ww.encode(n,r),(s=new $o).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),u7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Xi),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),d7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Xi),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),h7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Xi),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},t}(),f7=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},p7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Xi),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,o,a,l,c,h,f,m,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=f=0,m=i.length;f<m;o=++f)s=i[o],n.pos=s.offset,h=n.readString(s.length),a=new f7(h,s),c[g=s.nameID]==null&&(c[g]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),m7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Xi),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),g7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Xi),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],r=h=0;0<=s?h<s:h>s;r=0<=s?++h:--h)f.push(n.readInt16());return f}(),this.widths=(function(){var h,f,m,g;for(g=[],h=0,f=(m=this.metrics).length;h<f;h++)o=m[h],g.push(o.advance);return g}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),N4=[].slice,v7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Xi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,o,a,l,c,h,f,m;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new $o(r.read(s))).readShort(),h=l.readShort(),m=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[n]=a===-1?new w7(l,h,m,c,f):new y7(l,a,h,m,c,f),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},t}(),y7=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),w7=function(){function e(t,n,r,i,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new $o(N4.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),x7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Xi),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var h=new Array(4*i.length),f=0;f<i.length;++f)h[4*f+3]=255&i[f],h[4*f+2]=(65280&i[f])>>8,h[4*f+1]=(16711680&i[f])>>16,h[4*f]=(4278190080&i[f])>>24;return h},t}(),b7=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,a,l,c,h,f,m,g,b,S,k,y;for(i in r=k4.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),g={0:0},y=r.charMap)g[(l=y[i]).old]=l.new;for(b in m=r.maxGlyphID,o)b in g||(g[b]=m++);return h=function(x){var _,E;for(_ in E={},x)E[x[_]]=_;return E}(g),f=Object.keys(h).sort(function(x,_){return x-_}),S=function(){var x,_,E;for(E=[],x=0,_=f.length;x<_;x++)a=f[x],E.push(h[a]);return E}(),s=this.font.glyf.encode(o,S,g),c=this.font.loca.encode(s.offsets,S),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},e}();it.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();async function S7(e,t){try{const n={id:e,prenom:t.firstName,nom:t.lastName},{data:r,error:i}=await pt.from("profiles").upsert(n,{onConflict:"id",returning:"representation"}).select().single();if(i)throw new Error(`Erreur mise  jour profil: ${i.message}`);return r}catch(n){throw n}}async function _7(e){var t,n,r,i;try{const{data:s,error:o}=await pt.from("profiles").select("prenom, nom").eq("id",e.id).single(),a={id:e.id,email:e.email,prenom:(s==null?void 0:s.prenom)||((t=e.user_metadata)==null?void 0:t.firstName)||((n=e.user_metadata)==null?void 0:n.prenom)||null,nom:(s==null?void 0:s.nom)||((r=e.user_metadata)==null?void 0:r.lastName)||((i=e.user_metadata)==null?void 0:i.nom)||null,last_login:new Date().toISOString()},{data:l,error:c}=await pt.from("profiles").upsert(a,{onConflict:"id",returning:"representation"}).select().single();if(c)throw new Error(`Erreur sync profil: ${c.message}`);return l}catch(s){throw s}}function Av(){const[e,t]=T.useState(null),[n,r]=T.useState(!0);return T.useEffect(()=>{const i=async()=>{try{const{data:{session:o}}=await pt.auth.getSession();if(!(o!=null&&o.user)){t(null),r(!1);return}try{await _7(o.user)}catch{}const a=o.user.email.split("@")[0],l={id:o.user.id,email:o.user.email,firstName:a,lastName:"",name:a},{data:c,error:h}=await pt.from("profiles").select("*").eq("id",o.user.id).single();if(c){const f={...l,firstName:c.prenom||l.firstName,lastName:c.nom||"",name:`${c.prenom||l.firstName} ${c.nom||""}`.trim(),profile:c};t(f)}else t(l)}catch{t(null)}finally{r(!1)}};i();const{data:{subscription:s}}=pt.auth.onAuthStateChange(async(o,a)=>{o==="SIGNED_IN"?i():o==="SIGNED_OUT"&&(t(null),r(!1))});return()=>s==null?void 0:s.unsubscribe()},[]),{user:e,loading:n}}function xw(e){return e.includes("security purposes")&&e.includes("request this")||e.includes("only request this after")?"Pour des raisons de scurit, vous ne pouvez faire cette demande que toutes les 60 secondes.":e.includes("Invalid email")?"Adresse email invalide.":e.includes("User not found")?"Aucun compte trouv avec cette adresse email.":e.includes("Too many requests")?"Trop de tentatives. Veuillez ressayer dans quelques minutes.":e}async function j7({email:e}){try{const{error:t}=await pt.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return t?{error:{message:xw(t.message)}}:{data:{message:"Email de rinitialisation envoy avec succs"}}}catch(t){return{error:{message:"Erreur lors de l'envoi de l'email de rinitialisation: "+xw(t.message)}}}}const Xh=(e,t=null)=>{if(!e||!e.trim())return;const n=t?`email_history_${t}`:"email_history_guest",r=localStorage.getItem(n);let i=[];if(r)try{i=JSON.parse(r)}catch{}const s=[e,...i.filter(o=>o!==e)].slice(0,5);localStorage.setItem(n,JSON.stringify(s))},k7=e=>{const[t,n]=T.useState([]),[r,i]=T.useState(!1),[s,o]=T.useState([]);return T.useEffect(()=>{const h=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",f=localStorage.getItem(h);if(f)try{const m=JSON.parse(f);n(m)}catch{}},[e]),{showSuggestions:r,filteredEmails:s,saveEmail:h=>{if(!h||!h.trim())return;const f=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",m=[h,...t.filter(g=>g!==h)].slice(0,5);n(m),localStorage.setItem(f,JSON.stringify(m))},removeEmail:h=>{const f=e!=null&&e.id?`email_history_${e.id}`:"email_history_guest",m=t.filter(g=>g!==h);n(m),localStorage.setItem(f,JSON.stringify(m)),o(g=>g.filter(b=>b!==h))},filterEmails:h=>{if(!h||h.length<1){o([]),i(!1);return}const f=t.filter(m=>m.toLowerCase().startsWith(h.toLowerCase()));o(f),i(f.length>0)},hideSuggestions:()=>i(!1)}},Dl=({value:e,onChange:t,placeholder:n,required:r,disabled:i,user:s,onEmailSubmit:o})=>{const{showSuggestions:a,filteredEmails:l,saveEmail:c,removeEmail:h,filterEmails:f,hideSuggestions:m}=k7(s),[g,b]=T.useState(e||""),[S,k]=T.useState(-1),y=T.useRef(null),x=T.useRef(null);T.useEffect(()=>{b(e||"")},[e]),T.useEffect(()=>{const M=B=>{x.current&&!x.current.contains(B.target)&&(m(),k(-1))};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[m]);const _=M=>{const B=M.target.value;b(B),t(M),f(B),k(-1)},E=M=>{var B;b(M),t({target:{value:M}}),m(),k(-1),(B=y.current)==null||B.focus()},O=M=>{if(!a||l.length===0){M.key==="Enter"&&o&&(c(g),o());return}switch(M.key){case"ArrowDown":M.preventDefault(),k(B=>B<l.length-1?B+1:B);break;case"ArrowUp":M.preventDefault(),k(B=>B>0?B-1:-1);break;case"Enter":M.preventDefault(),S>=0&&S<l.length?E(l[S]):o&&(c(g),o());break;case"Escape":m(),k(-1);break}};return d.jsxs("div",{className:"email-input-container",ref:x,children:[d.jsx("input",{ref:y,type:"email",value:g,onChange:_,onKeyDown:O,placeholder:n,required:r,disabled:i,autoComplete:"off"}),a&&l.length>0&&d.jsx("div",{className:"email-suggestions google-style",children:l.map((M,B)=>d.jsxs("div",{className:`email-suggestion-item ${B===S?"selected":""}`,onMouseEnter:()=>k(B),children:[d.jsx("div",{className:"email-suggestion-content",onClick:()=>E(M),children:M}),d.jsx("button",{type:"button",className:"email-suggestion-remove",onClick:L=>{L.stopPropagation(),h(M)},onMouseEnter:L=>L.stopPropagation(),title:"Supprimer cet email",children:""})]},B))})]})},N7=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,onOpenSubscription:s})=>{var Re,Me,Oe,qe,st;const[o,a]=T.useState(!1),[l,c]=T.useState(!1),[h,f]=T.useState(!1),[m,g]=T.useState(!1),[b,S]=T.useState(""),[k,y]=T.useState(""),[x,_]=T.useState(""),[E,O]=T.useState(""),[M,B]=T.useState(""),[L,V]=T.useState(!1),{user:H,loading:R}=Av(),P=!!H&&!R,J=T.useRef(null),[W,ue]=T.useState(""),[le,ae]=T.useState(""),[K,ee]=T.useState("");T.useState(!1),T.useState("");const[Q,me]=T.useState(!1),[N,z]=T.useState(!1),[$,Y]=T.useState(""),[Z,oe]=T.useState(!1),[he,ce]=T.useState(!1),[xe,_e]=T.useState(!1),[Fe,Pe]=T.useState(!1);T.useEffect(()=>{(async()=>{if(!H||!H.id){ce(!1);return}try{const{data:$e,error:lt}=await pt.from("profiles").select("role").eq("id",H.id).single();if(lt){ce(!1);return}const At=($e==null?void 0:$e.role)==="admin"||($e==null?void 0:$e.role)==="super_admin";ce(At)}catch{ce(!1)}})()},[H]);const Ze=()=>he,ve=async Ae=>{Ae.preventDefault(),B(""),V(!0);try{const{data:$e,error:lt}=await pt.auth.signInWithPassword({email:b.trim(),password:k.trim()});if(lt){B(lt.message==="Invalid login credentials"?"Email ou mot de passe incorrect":lt.message);return}$e!=null&&$e.user&&(Xh(b.trim()),c(!1),a(!1),S(""),y(""),t&&t($e.user))}catch{B("Erreur de connexion. Vrifiez vos identifiants.")}finally{V(!1)}},X=async Ae=>{Ae.preventDefault(),B(""),V(!0);try{const{data:$e,error:lt}=await pt.auth.signUp({email:b.trim(),password:k.trim(),options:{data:{firstName:x.trim(),lastName:E.trim(),name:`${x.trim()} ${E.trim()}`}}});if(lt){B(lt.message==="User already registered"?"Un compte existe dj avec cet email":lt.message);return}$e!=null&&$e.user&&(Xh(b.trim()),$e.session?(f(!1),a(!1),S(""),y(""),_(""),O(""),r&&r($e.user)):B("Un email de confirmation a t envoy. Vrifiez votre bote mail."))}catch{B("Erreur d'inscription. Ressayez plus tard.")}finally{V(!1)}},ot=async()=>{try{const{error:Ae}=await pt.auth.signOut();if(Ae){B("Erreur lors de la dconnexion");return}a(!1),g(!1),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userFirstName"),localStorage.removeItem("userLastName"),localStorage.removeItem("friday_supabase_user"),n&&n(),window.location.reload()}catch{B("Erreur lors de la dconnexion")}},He=async Ae=>{Ae.preventDefault(),B(""),oe(!0),B(""),Xh($.trim());try{const{data:$e,error:lt}=await j7({email:$.trim()});if(lt){oe(!1),B(lt.message||"Erreur lors de l'envoi de l'email");return}}catch{oe(!1),B("Erreur lors de l'envoi de l'email de rinitialisation")}},Ne=async()=>{if(!(!H||!H.id))try{const{data:Ae,error:$e}=await pt.from("profiles").select("*").eq("id",H.id).single();!$e&&Ae&&(ee(Ae.email||H.email||""),ue(Ae.prenom||""),ae(Ae.nom||""))}catch{}};return T.useEffect(()=>{var Ae,$e;H&&(ee(H.email||""),ue(H.firstName||((Ae=H.user_metadata)==null?void 0:Ae.firstName)||""),ae(H.lastName||(($e=H.user_metadata)==null?void 0:$e.lastName)||""))},[H]),T.useEffect(()=>{const Ae=$e=>{J.current&&!J.current.contains($e.target)&&(a(!1),c(!1),f(!1),g(!1),z(!1),B(""))};return document.addEventListener("mousedown",Ae),()=>{document.removeEventListener("mousedown",Ae)}},[]),R?d.jsx("div",{className:"user-account",ref:J,children:d.jsx("div",{className:"user-avatar",children:d.jsx("span",{children:""})})}):d.jsx("div",{className:"user-account",ref:J,children:P?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"user-avatar",onClick:()=>a(!o),children:d.jsx("span",{className:"user-initial",children:((Me=(Re=H==null?void 0:H.firstName)==null?void 0:Re.charAt(0))==null?void 0:Me.toUpperCase())||((qe=(Oe=H==null?void 0:H.email)==null?void 0:Oe.charAt(0))==null?void 0:qe.toUpperCase())||""})}),d.jsx(_i,{children:o&&d.jsxs(Ie.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[d.jsxs("div",{className:"user-info",children:[d.jsx("div",{className:"user-name",children:(H==null?void 0:H.firstName)||(H==null?void 0:H.name)||((st=H==null?void 0:H.email)==null?void 0:st.split("@")[0])}),d.jsx("div",{className:"user-email",children:H==null?void 0:H.email})]}),d.jsxs("div",{className:"dropdown-actions",children:[Ze()&&d.jsx("button",{onClick:()=>{window.open("/ilmysv6iepwepoa4tj2k?auth=auto","_blank")},children:" Administration"}),d.jsx("button",{onClick:()=>{a(!1),g(!0)},children:"Mon profil"}),d.jsx("button",{onClick:()=>{a(!1),i&&i()},children:"Mon historique"}),d.jsx("button",{onClick:()=>{a(!1),s&&s()},children:"Mon abonnement"}),d.jsx("button",{onClick:ot,className:"logout-button",children:"Se dconnecter"})]})]})}),d.jsx(_i,{children:m&&d.jsx(Ie.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>g(!1),children:d.jsxs(Ie.div,{className:"auth-form profile-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Ae=>Ae.stopPropagation(),children:[d.jsx("h3",{children:"Mon profil"}),d.jsxs("form",{onSubmit:async Ae=>{Ae.preventDefault(),B("");try{await S7(H.id,{firstName:W.trim(),lastName:le.trim()}),await Ne(),me(!0),setTimeout(()=>me(!1),3e3)}catch($e){console.error("Erreur mise  jour profil:",$e),B("Erreur lors de la mise  jour du profil")}},children:[d.jsx(Dl,{value:K,onChange:Ae=>ee(Ae.target.value),placeholder:"Email",disabled:!0,user:H,onEmailSubmit:()=>{}}),d.jsx("input",{type:"text",placeholder:"Prnom",value:W,onChange:Ae=>ue(Ae.target.value)}),d.jsx("input",{type:"text",placeholder:"Nom",value:le,onChange:Ae=>ae(Ae.target.value)}),M&&d.jsx("div",{className:"error-message",children:M}),Q&&d.jsx("div",{className:"success-message",children:"Profil mis  jour avec succs !"}),d.jsxs("div",{className:"form-buttons",children:[d.jsx("button",{type:"button",onClick:()=>g(!1),children:"Fermer"}),d.jsx("button",{type:"submit",children:"Mettre  jour"})]})]})]})})})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"user-avatar",onClick:()=>a(!o),children:d.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),d.jsx("path",{d:"M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),d.jsx(_i,{children:o&&d.jsx(Ie.div,{className:"user-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:d.jsxs("div",{className:"dropdown-actions",children:[d.jsx("button",{onClick:()=>{a(!1),c(!0),B("")},children:"Se connecter"}),d.jsx("button",{onClick:()=>{a(!1),f(!0),B("")},children:"Crer un compte"})]})})}),d.jsxs(_i,{children:[l&&d.jsx(Ie.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>c(!1),children:d.jsxs(Ie.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Ae=>Ae.stopPropagation(),children:[d.jsx("h3",{children:"Connexion"}),d.jsxs("form",{onSubmit:ve,children:[d.jsx(Dl,{value:b,onChange:Ae=>S(Ae.target.value),placeholder:"Email",required:!0,disabled:L,user:null,onEmailSubmit:()=>{}}),d.jsxs("div",{className:"password-input-container",children:[d.jsx("input",{type:xe?"text":"password",placeholder:"Mot de passe",value:k,onChange:Ae=>y(Ae.target.value),required:!0,disabled:L,className:"password-input"}),d.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>_e(!xe),disabled:L,"aria-label":xe?"Masquer le mot de passe":"Afficher le mot de passe",children:xe?d.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):d.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),M&&d.jsx("div",{className:"error-message",children:M}),d.jsxs("div",{className:"form-buttons",children:[d.jsx("button",{type:"button",onClick:()=>{c(!1),f(!0),B("")},disabled:L,children:"Crer un compte"}),d.jsx("button",{type:"submit",disabled:L,children:L?"Connexion...":"Se connecter"})]}),d.jsx("button",{type:"button",className:"forgot-password-link",onClick:()=>{c(!1),z(!0),B("")},disabled:L,children:"Mot de passe oubli ?"})]})]})}),h&&d.jsx(Ie.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>f(!1),children:d.jsxs(Ie.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Ae=>Ae.stopPropagation(),children:[d.jsx("h3",{children:"Crer un compte"}),d.jsxs("form",{onSubmit:X,children:[d.jsx("input",{type:"text",placeholder:"Prnom",value:x,onChange:Ae=>_(Ae.target.value),required:!0,disabled:L}),d.jsx("input",{type:"text",placeholder:"Nom",value:E,onChange:Ae=>O(Ae.target.value),required:!0,disabled:L}),d.jsx(Dl,{value:b,onChange:Ae=>S(Ae.target.value),placeholder:"Email",required:!0,disabled:L,user:null,onEmailSubmit:()=>{}}),d.jsxs("div",{className:"password-input-container",children:[d.jsx("input",{type:Fe?"text":"password",placeholder:"Mot de passe (min 6 caractres)",value:k,onChange:Ae=>y(Ae.target.value),required:!0,minLength:6,disabled:L,className:"password-input"}),d.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>Pe(!Fe),disabled:L,"aria-label":Fe?"Masquer le mot de passe":"Afficher le mot de passe",children:Fe?d.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):d.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),M&&d.jsx("div",{className:"error-message",children:M}),d.jsxs("div",{className:"form-buttons",children:[d.jsx("button",{type:"button",onClick:()=>{f(!1),c(!0),B("")},disabled:L,children:"Dj un compte ?"}),d.jsx("button",{type:"submit",disabled:L,children:L?"Cration...":"Crer le compte"})]})]})]})}),N&&d.jsx(Ie.div,{className:"auth-form-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>z(!1),children:d.jsxs(Ie.div,{className:"auth-form",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:Ae=>Ae.stopPropagation(),children:[d.jsx("h3",{children:"Rinitialiser le mot de passe"}),Z?d.jsxs("div",{className:"success-message",children:[d.jsxs("p",{children:["Un email de rinitialisation a t envoy  ",$]}),d.jsx("button",{onClick:()=>{z(!1),c(!0),oe(!1),Y("")},children:"Retour  la connexion"})]}):d.jsxs("form",{onSubmit:He,children:[d.jsx(Dl,{value:$,onChange:Ae=>Y(Ae.target.value),placeholder:"Votre email",required:!0,user:null,onEmailSubmit:()=>{}}),M&&d.jsx("div",{className:"error-message",children:M}),d.jsxs("div",{className:"form-buttons",children:[d.jsx("button",{type:"button",onClick:()=>{z(!1),c(!0),B("")},children:"Retour  la connexion"}),d.jsx("button",{type:"submit",children:"Envoyer le lien"})]})]})]})})]})]})})},A7=({isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,userId:s,onOpenSubscription:o,refreshBonusTrigger:a})=>{const[l,c]=T.useState(!1);return T.useEffect(()=>{(async()=>{if(e&&s)try{const{data:f,error:m}=await pt.from("creations").select("id").eq("user_id",s).limit(1);if(m){console.error("Erreur vrification crations:",m),c(!1);return}const g=f&&f.length>0;c(!g)}catch(f){console.error("Erreur vrification bonus bienvenue:",f),c(!1)}else c(!0)})()},[e,s,a]),d.jsxs("header",{className:"header",children:[d.jsxs("div",{className:"header-content",children:[d.jsx(Ie.div,{className:"logo",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:d.jsx("h1",{children:"HERBBIE"})}),d.jsx(Ie.h2,{className:"tagline",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:"Offrez  vos enfants des crations ludiques et imaginatives personnalises !"}),l&&d.jsxs(Ie.p,{className:"welcome-bonus-message",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:["Crez un compte !",d.jsx("br",{})," Un coloriage ou une histoire gratuit aprs inscription !"]}),d.jsx(Ie.p,{className:"animation-coming-soon",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:"La cration de dessins anims sera bientt disponible."})]}),d.jsx("div",{className:"user-account-container",children:d.jsx(N7,{isLoggedIn:e,onLogin:t,onLogout:n,onRegister:r,onOpenHistory:i,onOpenSubscription:o})})]})};const C7="/api/features";let Of=null,Cv=0;const P7=3e3,E7={animation:{enabled:!0,name:"Dessin anim",icon:"",description:"Gnration de dessins anims personnaliss avec IA"},comic:{enabled:!0,name:"Bande dessine",icon:"",description:"Cration de bandes dessines avec bulles de dialogue"},coloring:{enabled:!0,name:"Coloriage",icon:"",description:"Pages de coloriage  imprimer pour les enfants"},histoire:{enabled:!0,name:"Histoire",icon:"",description:"Histoires avec possibilit d'ajouter une narration audio"},rhyme:{enabled:!0,name:"Comptine",icon:"",description:"Comptines musicales avec paroles et mlodies"}},L7=e=>JSON.parse(JSON.stringify(e||{})),A4=(e={})=>{const n={...L7(e)};if(n.audio){const s=n.audio;n.histoire?n.histoire={enabled:n.histoire.enabled??s.enabled??!0,name:n.histoire.name||s.name||"Histoire",icon:n.histoire.icon||s.icon||"",description:n.histoire.description||s.description||"Histoires avec possibilit d'ajouter une narration audio",updated_at:n.histoire.updated_at||s.updated_at}:n.histoire=s,delete n.audio}n.histoire&&(n.histoire={enabled:n.histoire.enabled??!0,name:n.histoire.name||"Histoire",icon:n.histoire.icon||"",description:n.histoire.description||"Histoires avec possibilit d'ajouter une narration audio",updated_at:n.histoire.updated_at});const r=["animation","comic","coloring","histoire","rhyme"],i={};return r.forEach(s=>{n[s]&&(i[s]=n[s])}),Object.keys(n).forEach(s=>{i[s]||(i[s]=n[s])}),i},C4=async()=>{try{const e=await fetch(C7,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json(),n=A4(t);return Of=n,Cv=Date.now(),n}else throw console.error("Erreur API lors du chargement des fonctionnalits:",e.status),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors du chargement depuis l'API:",e),e}},T7=async()=>{try{const e=Date.now();return Of&&e-Cv<P7?Of:await C4()}catch(e){return console.error("Erreur lors de la rcupration des fonctionnalits:",e),A4(E7)}},F7=async()=>{try{const e=await T7();return Object.entries(e).filter(([t,n])=>n.enabled).reduce((t,[n,r])=>(t[n]=r,t),{})}catch(e){return console.warn("Erreur lors de la rcupration des fonctionnalits actives:",e),{}}},I7=()=>{Of=null,Cv=0},R7=e=>{let t=null;const n=async()=>{try{I7();const i=await C4();JSON.stringify(i)!==JSON.stringify(t)&&e&&typeof e=="function"&&(t=i,e(i))}catch(i){console.error("Erreur lors de la vrification des changements:",i)}},r=setInterval(n,5e3);return n(),()=>{clearInterval(r)}},O7=({contentType:e,setContentType:t})=>{const[n,r]=T.useState({}),[i,s]=T.useState(!0),o=T.useRef(null);T.useEffect(()=>(a(),R7(async f=>{var S,k;const m=Object.entries(f).filter(([y,x])=>x.enabled).reduce((y,[x,_])=>(y[x]=_,y),{});r(m);const g=!!((S=f.animation)!=null&&S.enabled),b=!!m[e];if(g){if(o.current===!1&&e!=="animation")t("animation");else if(!b){const y=Object.keys(m).find(x=>m[x].enabled);y&&t(y==="audio"?"histoire":y)}}else if(e==="animation"||!b){const x=(k=f.comic)!=null&&k.enabled?"comic":Object.keys(m).find(_=>m[_].enabled);if(x){const _=x==="audio"?"histoire":x;e!==_&&t(_)}}o.current=g})),[e,t]);const a=async()=>{var h,f;try{s(!0);const m=await F7();e==="audio"&&t("histoire"),r(m);const g=!!((h=m.animation)!=null&&h.enabled),b=!!m[e];if(g)o.current===!1&&e!=="animation"&&t("animation");else if(e==="animation"||!b){const k=(f=m.comic)!=null&&f.enabled?"comic":Object.keys(m).find(y=>m[y].enabled);if(k){const y=k==="audio"?"histoire":k;e!==y&&t(y)}}if(o.current=g,Object.keys(m).length>0&&!b){const[S]=Object.keys(m);S&&t(S==="audio"?"histoire":S)}}catch(m){console.error("Erreur lors du chargement des fonctionnalits:",m)}finally{s(!1)}},l=h=>{t(h)},c=Object.keys(n).length>0;return i?d.jsxs("div",{className:"content-type-selector",children:[d.jsx("h3",{children:"1. Choisissez le type de contenu"}),d.jsx("div",{className:"loading-message",children:d.jsx("p",{children:"Chargement des fonctionnalits..."})})]}):d.jsxs("div",{className:"content-type-selector",children:[d.jsx("h3",{children:"1. Choisissez le type de contenu"}),c?d.jsxs("div",{className:"content-type-options",children:[n.animation&&d.jsxs(Ie.div,{className:`content-type-option animation-full-width ${e==="animation"?"selected":""}`,onClick:()=>l("animation"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[d.jsx("div",{className:"content-type-icon",children:""}),d.jsxs("div",{className:"content-type-details",children:[d.jsx("h4",{children:"Dessin anim"}),d.jsx("p",{children:"Crez un vritable dessin anim fluide et cohrent avec l'IA"})]})]}),n.comic&&d.jsxs(Ie.div,{className:`content-type-option ${e==="comic"?"selected":""}`,onClick:()=>l("comic"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[d.jsx("div",{className:"content-type-icon",children:""}),d.jsxs("div",{className:"content-type-details",children:[d.jsx("h4",{children:"Bande dessine"}),d.jsx("p",{children:"Crez une vraie BD avec histoire cohrente et bulles de dialogue"})]})]}),n.coloring&&d.jsxs(Ie.div,{className:`content-type-option ${e==="coloring"?"selected":""}`,onClick:()=>l("coloring"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[d.jsx("div",{className:"content-type-icon",children:""}),d.jsxs("div",{className:"content-type-details",children:[d.jsx("h4",{children:"Coloriage"}),d.jsx("p",{children:"Crez des dessins  colorier personnaliss en noir et blanc"})]})]}),(n.histoire||n.audio)&&d.jsxs(Ie.div,{className:`content-type-option ${e==="histoire"?"selected":""}`,onClick:()=>l("histoire"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[d.jsx("div",{className:"content-type-icon",children:""}),d.jsxs("div",{className:"content-type-details",children:[d.jsx("h4",{children:"Histoire"}),d.jsx("p",{children:"Crez une histoire avec possibilit d'ajouter une narration audio"})]})]}),n.rhyme&&d.jsxs(Ie.div,{className:`content-type-option ${e==="rhyme"?"selected":""}`,onClick:()=>l("rhyme"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:[d.jsx("div",{className:"content-type-icon",children:""}),d.jsxs("div",{className:"content-type-details",children:[d.jsx("h4",{children:"Comptine"}),d.jsx("p",{children:"Crez une comptine musicale avec paroles et mlodie"})]})]})]}):d.jsx("div",{className:"no-features-message",children:d.jsx("p",{children:"Aucune fonctionnalit n'est actuellement disponible."})})]})};const D7=[{id:"lullaby",title:"Berceuse douce",description:"Mlodie apaisante pour s'endormir",emoji:"",musicStyle:"gentle lullaby"},{id:"animal",title:"Comptine animalire",description:"Animaux et leurs sons en musique",emoji:"",musicStyle:"playful with animal sounds"},{id:"counting",title:"Comptine  compter",description:"Apprendre les chiffres en chanson",emoji:"",musicStyle:"upbeat educational"},{id:"colors",title:"Comptine des couleurs",description:"Dcouvrir les couleurs en musique",emoji:"",musicStyle:"cheerful and colorful"},{id:"alphabet",title:"Comptine de l'alphabet",description:"Apprendre les lettres en chantant",emoji:"",musicStyle:"educational and catchy"},{id:"family",title:"Comptine familiale",description:"Chanson sur la famille et l'amour",emoji:"",musicStyle:"warm and loving"},{id:"nature",title:"Comptine de la nature",description:"Explorer plantes, arbres et fleurs",emoji:"",musicStyle:"peaceful and natural"},{id:"seasonal",title:"Comptine saisonnire",description:"Clbrer saisons et merveilles",emoji:"",musicStyle:"festive and warm"},{id:"movement",title:"Comptine de mouvement",description:"Bouger, sauter et danser",emoji:"",musicStyle:"energetic dance rhythm"},{id:"emotions",title:"Comptine des motions",description:"Comprendre et exprimer sentiments",emoji:"",musicStyle:"expressive and gentle"},{id:"shapes",title:"Comptine des formes",description:"Apprendre les formes gomtriques",emoji:"",musicStyle:"playful educational"}],M7=({selectedRhyme:e,setSelectedRhyme:t,customRhyme:n,setCustomRhyme:r})=>{const i=s=>{t(e===s?"":s)};return d.jsxs("div",{className:"musical-rhyme-selector",children:[d.jsx("h3",{children:"2. Choisissez un type de comptine"}),d.jsxs("div",{className:"rhyme-grid",children:[d.jsxs("div",{className:"rhyme-slot",children:[d.jsxs(Ie.div,{className:`rhyme-card custom-rhyme ${e==="custom"?"selected":""}`,onClick:()=>i("custom"),whileHover:{y:-5},whileTap:{scale:.98},children:[d.jsx("div",{className:"rhyme-emoji",children:""}),d.jsx("h4",{children:"Personnalis"}),d.jsx("p",{children:"Comptine avec prnom ou thme perso"})]}),e==="custom"&&d.jsx(Ie.div,{className:"custom-rhyme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:d.jsx("textarea",{id:"customRhyme",value:n,onChange:s=>r(s.target.value),placeholder:"Dcrivez votre type de comptine personnalise...",className:"custom-textarea"})})]}),D7.map(s=>d.jsx("div",{className:"rhyme-slot",children:d.jsxs(Ie.div,{className:`rhyme-card ${e===s.id?"selected":""}`,onClick:()=>i(s.id),whileHover:{y:-5},whileTap:{scale:.98},children:[d.jsx("div",{className:"rhyme-emoji",children:s.emoji}),d.jsx("h4",{children:s.title}),d.jsx("p",{children:s.description})]})},s.id))]})]})};const B7=[{id:"magic",title:"Monde magique",description:"Fes, sorciers, cratures enchantes",emoji:""},{id:"dinosaurs",title:"Temps des dinosaures",description:"Dinosaures gentils, voyages dans le temps",emoji:""},{id:"space",title:"Voyage spatial",description:"Plantes, fuses, aliens sympathiques",emoji:""},{id:"adventure",title:"Aventure fantastique",description:"Rebondissements, magie, dcouvertes",emoji:""},{id:"animals",title:"Amis animaux",description:"Animaux qui parlent, aventures sauvages",emoji:""},{id:"underwater",title:"Monde sous-marin",description:"Ocans, cratures marines, trsors",emoji:""},{id:"forest",title:"Fort enchante",description:"Fort mystrieuse, surprises magiques",emoji:""},{id:"funny",title:"Histoire drle",description:"Contes amusants, rires garantis",emoji:""},{id:"mystery",title:"Petit mystre",description:"nigmes pour enfants, investigations",emoji:""},{id:"friendship",title:"Belle amiti",description:"Histoire sur l'amiti, entraide",emoji:""},{id:"learning",title:"Conte ducatif",description:"Leons importantes, apprentissage",emoji:""},{id:"bedtime",title:"Histoire du soir",description:"Contes apaisants, sommeil doux",emoji:""},{id:"robots",title:"Robots amis",description:"Robots gentils, inventions magiques",emoji:""},{id:"pirates",title:"Pirates courageux",description:"Bateaux pirates, trsors cachs",emoji:""}],U7=[{id:"female",name:"Voix fminine"},{id:"male",name:"Voix masculine"}],z7=({selectedAudioStory:e,setSelectedAudioStory:t,customAudioStory:n,setCustomAudioStory:r,selectedVoice:i,setSelectedVoice:s})=>{const[o,a]=T.useState(!1),l=g=>{e===g?(t(""),a(!1)):(t(g),g!=="custom"&&a(!1))},c=()=>{e==="custom"?(t(""),a(!1)):(t("custom"),a(!0))},h=[{id:"custom",title:"Personnalis",description:"Crez votre propre type d'histoire unique",emoji:"",isCustom:!0},...B7],f=g=>{r(g.target.value)},m=g=>{s(i===g?null:g)};return d.jsxs("div",{className:"audio-story-selector",children:[d.jsx("h3",{children:"2. Choisissez un type d'histoire"}),d.jsx("div",{className:"audio-story-grid",children:h.map(g=>d.jsxs("div",{className:"audio-story-slot",children:[d.jsxs(Ie.div,{className:`audio-story-card ${g.isCustom?"custom-audio-story":""} ${e===g.id?"selected":""}`,onClick:()=>g.isCustom?c():l(g.id),whileHover:{y:-5},whileTap:{scale:.98},children:[d.jsx("div",{className:"audio-story-emoji",children:g.emoji}),d.jsx("h4",{children:g.title}),d.jsx("p",{children:g.description})]}),g.isCustom&&o&&e==="custom"&&d.jsx(Ie.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:d.jsx(Ie.textarea,{id:"customAudioStory",value:n,onChange:f,placeholder:"Ex: Un conte qui se droule dans un monde sous-marin avec des cratures magiques...",className:"custom-input",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})})]},g.id))}),d.jsxs("div",{className:"voice-selector-section",children:[d.jsx("h3",{children:"3. Choisissez une narration (optionnel)"}),d.jsx("div",{className:"voice-options",children:U7.map(g=>d.jsxs(Ie.div,{className:`voice-option ${i===g.id?"selected":""}`,onClick:()=>m(g.id),whileHover:{scale:1.03},whileTap:{scale:.98},children:[d.jsx("div",{className:"voice-icon",children:g.id==="female"?"":""}),d.jsx("div",{className:"voice-details",children:d.jsx("h4",{children:g.name})})]},g.id))})]})]})};const $7=[{id:"space",title:"Aventure spatiale",description:"Une exploration de l'espace et des plantes lointaines",emoji:""},{id:"ocean",title:"Sous l'ocan",description:"Une aventure sous-marine avec des cratures fantastiques",emoji:""},{id:"dinosaur",title:"Monde des dinosaures",description:"Un voyage dans le temps  l'poque des dinosaures",emoji:""},{id:"fairy",title:"Conte de fes",description:"Une histoire magique avec des fes et des cratures enchantes",emoji:""},{id:"superhero",title:"Super-hros",description:"Une aventure o votre enfant devient un super-hros",emoji:""},{id:"jungle",title:"Aventure dans la jungle",description:"Une exploration de la jungle et ses animaux sauvages",emoji:""}],q7=({selectedStory:e,setSelectedStory:t,customStory:n,setCustomStory:r})=>{const[i,s]=T.useState(!1),o=c=>{t(c),c!=="custom"&&s(!1)},a=()=>{t("custom"),s(!0)},l=c=>{r(c.target.value)};return d.jsxs("div",{className:"story-selector",children:[d.jsx("h3",{children:"4. Choisissez un type d'histoire"}),d.jsxs("div",{className:"story-grid",children:[d.jsxs(Ie.div,{className:`story-card custom-story ${e==="custom"?"selected":""}`,onClick:a,whileHover:{y:-5},whileTap:{scale:.98},children:[d.jsx("div",{className:"story-emoji",children:""}),d.jsx("h4",{children:"Personnalis"}),d.jsx("p",{children:"Crez votre propre type d'histoire unique"})]}),$7.map(c=>d.jsxs(Ie.div,{className:`story-card ${e===c.id?"selected":""}`,onClick:()=>o(c.id),whileHover:{y:-5},whileTap:{scale:.98},children:[d.jsx("div",{className:"story-emoji",children:c.emoji}),d.jsx("h4",{children:c.title}),d.jsx("p",{children:c.description})]},c.id))]}),i&&d.jsxs(Ie.div,{className:"custom-story-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[d.jsx("label",{htmlFor:"customStory",children:"Dcrivez votre type d'histoire"}),d.jsx(Ie.textarea,{id:"customStory",value:n,onChange:l,placeholder:"Ex: Une aventure dans un monde de bonbons o les arbres sont en chocolat...",whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})]})},ar={}.VITE_API_BASE_URL||"",Nh={}.VITE_ANIMATION_API_BASE_URL||"https://da-production-6222.up.railway.app";const V7=({selectedTheme:e,setSelectedTheme:t,selectedDuration:n,setSelectedDuration:r,selectedStyle:i,setSelectedStyle:s,customStory:o,setCustomStory:a,characterImage:l,setCharacterImage:c})=>{const[h,f]=T.useState([]),[m,g]=T.useState([]);T.useEffect(()=>{f([{id:"custom",name:"Personnalis",description:"crivez votre propre histoire",emoji:""},{id:"space",name:"Espace",description:"Voyages spatiaux",emoji:""},{id:"ocean",name:"Sous-marin",description:"Exploration sous-marine",emoji:""},{id:"nature",name:"Nature",description:"Monde naturel",emoji:""},{id:"adventure",name:"Aventure",description:"Voyages et explorations",emoji:""},{id:"animals",name:"Animaux",description:"Histoires d'animaux mignons",emoji:""},{id:"magic",name:"Magie",description:"Monde magique et sortilges",emoji:""},{id:"friendship",name:"Amiti",description:"Histoires d'amiti",emoji:""},{id:"circus",name:"Cirque",description:"Spectacle de cirque magique",emoji:""}]),g([{value:30,label:"30 secondes"},{value:60,label:"1 minute"},{value:120,label:"2 minutes"},{value:180,label:"3 minutes"},{value:240,label:"4 minutes"},{value:300,label:"5 minutes"}])},[]);const b=[{id:"3d",name:"3D",description:"Animation 3D moderne",emoji:""},{id:"realistic",name:"Raliste",description:"Style cinmatographique",emoji:""},{id:"cartoon",name:"Cartoon",description:"Style dessin anim color",emoji:""},{id:"anime",name:"Anime",description:"Style manga japonais",emoji:"",useImage:!0,imagePath:"/assets/japan-flag.png"}],S=x=>{t(e===x?null:x)},k=x=>{r(n===x?null:x)},y=x=>{s(i===x?null:x)};return d.jsxs("div",{className:"animation-selector",children:[d.jsxs("div",{className:"selector-section",children:[d.jsx("h4",{children:"2. Choisissez un thme pour votre dessin anim"}),d.jsx("div",{className:"themes-grid",children:h.map(x=>d.jsxs("div",{children:[d.jsxs(Ie.div,{className:`theme-card ${e===x.id?"selected":""} ${x.id==="custom"?"custom-animation":""}`,onClick:()=>S(x.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx("div",{className:"theme-emoji",children:x.emoji}),d.jsxs("div",{className:"theme-content",children:[d.jsx("h5",{children:x.name}),d.jsx("p",{children:x.description})]})]}),x.id==="custom"&&e==="custom"&&d.jsx(Ie.div,{className:"custom-theme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:d.jsx("textarea",{className:"custom-story-textarea",value:o,onChange:_=>a(_.target.value),placeholder:"Il tait une fois... Racontez votre histoire ici. Plus elle est dtaille, plus l'animation sera riche et personnalise !",rows:4})})]},x.id))})]}),d.jsxs("div",{className:"selector-section",children:[d.jsx("h4",{children:"2. Choisissez la dure de l'animation"}),d.jsx("div",{className:"duration-options",children:m.map(x=>d.jsx(Ie.div,{className:`duration-option ${n===x.value?"selected":""}`,onClick:()=>k(x.value),whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsx("div",{className:"duration-label",children:x.label})},x.value))})]}),d.jsxs("div",{className:"selector-section",children:[d.jsx("h4",{children:"3. Choisissez un style visuel"}),d.jsx("div",{className:"style-options",children:b.map(x=>d.jsxs(Ie.div,{className:`style-option ${i===x.id?"selected":""}`,onClick:()=>y(x.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsxs("div",{className:"style-emoji",children:[x.useImage?d.jsx("img",{src:x.imagePath,alt:x.name,className:"style-flag-image",onError:_=>{_.target.style.display="none",_.target.nextSibling.style.display="block"}}):null,d.jsx("span",{style:{display:x.useImage?"none":"block"},children:x.emoji})]}),d.jsxs("div",{className:"style-content",children:[d.jsx("h5",{children:x.name}),d.jsx("p",{children:x.description})]})]},x.id))})]}),d.jsxs("div",{className:"selector-section",children:[d.jsx("h4",{children:"4. Personnage principal (optionnel)"}),d.jsx("p",{className:"section-description",children:"Uploadez une photo pour crer un personnage personnalis dans votre dessin anim"}),d.jsx("div",{className:"character-upload-container",children:l?d.jsxs("div",{className:"character-preview",children:[d.jsx("img",{src:l,alt:"Personnage",className:"character-image"}),d.jsx(Ie.button,{className:"remove-character-btn",onClick:()=>c(null),whileHover:{scale:1.1},whileTap:{scale:.9},children:" Supprimer"})]}):d.jsxs(Ie.label,{className:"character-upload-zone",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx("input",{type:"file",accept:"image/*",onChange:x=>{const _=x.target.files[0];if(_){const E=new FileReader;E.onloadend=()=>{c(E.result)},E.readAsDataURL(_)}},style:{display:"none"}}),d.jsx("div",{className:"upload-icon",children:""}),d.jsxs("div",{className:"upload-text",children:[d.jsx("strong",{children:"Cliquez pour uploader une photo"}),d.jsx("span",{children:"ou glissez-dposez une image ici"})]})]})})]})]})};const W7=({animationResult:e,onClose:t})=>{var L,V,H,R;const[n,r]=T.useState("video"),[i,s]=T.useState(null);if(!e)return null;const{status:o,clips:a=[],video_urls:l=[],scenes:c=[],generation_time:h,total_duration:f,successful_clips:m=0,fallback_clips:g=0,pipeline_type:b,scenes_count:S=0,video_count:k=0}=e,y=a.length>0?a:l.map((P,J)=>({clip_url:P,status:"success",prompt:`Scne ${J+1}`,duration:8})),x=y.some(P=>P.status==="success")||o==="completed"&&(e.final_video_url||((L=e.result)==null?void 0:L.final_video_url)),_=c||e.scenes_details||[],E=y.length||S||k,O=P=>{if(!P||isNaN(P))return"---";const J=Math.floor(P/60),W=P%60;return J>0?`${J}m ${W}s`:`${W}s`},M=P=>{switch(P){case"success":return"#4CAF50";case"fallback":return"#FF9800";case"error":return"#F44336";default:return"#9E9E9E"}},B=P=>{switch(P){case"success":return"";case"fallback":return"";case"error":return"";default:return""}};return d.jsx(Ie.div,{className:"animation-viewer-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:d.jsxs(Ie.div,{className:"animation-viewer",initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},onClick:P=>P.stopPropagation(),transition:{type:"spring",damping:20,stiffness:300},children:[d.jsxs("div",{className:"viewer-header",children:[d.jsx("h2",{children:" Votre dessin anim IA"}),o&&d.jsxs("div",{className:"status-badge",style:{backgroundColor:M(o)},children:[B(o)," ",o==="generating_idea"?"Cration de l'ide...":o==="creating_scenes"?"Cration des scnes...":o==="generating_clips"?"Gnration vido...":o==="completed"?"Termin !":o==="failed"?"chou":o]}),d.jsx("button",{className:"close-button",onClick:t,children:""})]}),d.jsxs("div",{className:"animation-stats",children:[d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-icon",children:""}),d.jsxs("span",{children:["Dure: ",O(f||e.duration)]})]}),d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-icon",children:""}),d.jsxs("span",{children:[E," scnes"]})]}),d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-icon",children:""}),d.jsxs("span",{children:[m||E," russies"]})]}),g>0&&d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-icon",children:""}),d.jsxs("span",{children:[g," fallback"]})]}),d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-icon",children:""}),d.jsxs("span",{children:["Gnr en ",h?Math.round(h)+"s":"En cours..."]})]})]}),d.jsxs("div",{className:"viewer-tabs",children:[d.jsx("button",{className:`tab ${n==="video"?"active":""}`,onClick:()=>r("video"),children:" Vido"}),d.jsx("button",{className:`tab ${n==="scenes"?"active":""}`,onClick:()=>r("scenes"),children:" Scnes"}),d.jsx("button",{className:`tab ${n==="details"?"active":""}`,onClick:()=>r("details"),children:" Dtails"})]}),d.jsx("div",{className:"viewer-content",children:d.jsxs(_i,{mode:"wait",children:[n==="video"&&d.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"video-tab",children:x?d.jsx("div",{className:"video-player",children:e.final_video_url||(V=e.result)!=null&&V.final_video_url?d.jsxs("div",{className:"final-animation",children:[d.jsx("div",{className:"video-icon",children:""}),d.jsxs("h3",{children:[" ",e.title||"Votre dessin anim est prt !"]}),d.jsxs("p",{children:["Animation complte de ",O(f||e.duration)," avec ",m||E," scnes."]}),d.jsx("div",{className:"main-video-container",children:d.jsx("video",{src:e.final_video_url||((H=e.result)==null?void 0:H.final_video_url),className:"final-animation-video",controls:!0,autoPlay:!0,loop:!0,muted:!0,preload:"metadata",style:{width:"100%",maxWidth:"600px",height:"auto",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.2)",margin:"1rem 0"},onLoadedData:()=>{},onError:P=>{P.target.style.display="none"}})}),d.jsx("div",{className:"video-controls",children:d.jsx("button",{className:"play-btn",onClick:()=>{var P;return window.open(e.final_video_url||((P=e.result)==null?void 0:P.final_video_url),"_blank")},style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"},children:" Ouvrir en plein cran"})})]}):d.jsxs("div",{className:"animation-gallery",children:[d.jsx("div",{className:"video-icon",children:""}),d.jsx("h3",{children:" Votre dessin anim est prt !"}),d.jsxs("p",{children:["Animation de ",O(f)," gnre avec succs.",m>0&&` ${m} scnes cres avec l'IA.`]}),d.jsxs("div",{className:"scenes-gallery",children:[d.jsx("h4",{children:" Votre dessin anim en images :"}),d.jsx("div",{className:"gallery-grid",children:y.map((P,J)=>{let W=null,ue=!1;return P.video_url&&P.type==="real_video"?(W=/^https?:\/\//i.test(P.video_url)?P.video_url:`${Nh}${P.video_url}`,ue=!0):P.demo_image_url?W=/^https?:\/\//i.test(P.demo_image_url)?P.demo_image_url:`${Nh}${P.demo_image_url}`:P.image_url?W=/^https?:\/\//i.test(P.image_url)?P.image_url:`${Nh}${P.image_url}`:P.video_url&&(W=/^https?:\/\//i.test(P.video_url)?P.video_url:`${Nh}${P.video_url}`),d.jsxs("div",{className:"scene-media-card",children:[ue?d.jsx("video",{src:W,className:"scene-video",controls:!0,loop:!0,muted:!0,preload:"metadata",onLoadedData:()=>{},onError:le=>{le.target.style.display="none",le.target.nextSibling.style.display="flex"}}):d.jsx("img",{src:W,alt:`Scne ${P.scene_number}`,className:"scene-image",onLoad:()=>{},onError:le=>{le.target.style.display="none",le.target.nextSibling.style.display="flex"}}),d.jsxs("div",{className:"scene-placeholder",style:{display:"none"},children:[d.jsx("span",{children:""}),d.jsxs("p",{children:["Scne ",P.scene_number]}),d.jsx("small",{children:P.type||"En cours..."})]}),d.jsxs("div",{className:"scene-info",children:[d.jsxs("span",{children:["Scne ",P.scene_number]}),d.jsx("span",{children:O(P.duration)}),P.type==="real_video"&&d.jsx("span",{className:"clip-type real",children:" Vido"}),P.type==="demo"&&d.jsx("span",{className:"clip-type demo",children:" Dmo"}),P.status==="success"&&d.jsx("span",{className:"clip-status success",children:""}),P.status==="fallback"&&d.jsx("span",{className:"clip-status fallback",children:""})]})]},J)})}),d.jsx("div",{className:"gallery-summary",children:d.jsxs("p",{children:[d.jsx("strong",{children:" Votre animation complte :"}),E," scnes illustres reprsentant votre histoire. Chaque image correspond  un moment cl de votre rcit gnr par l'IA."]})})]}),y.filter(P=>P.status==="success").length>0&&d.jsxs("div",{className:"video-clips-list",children:[d.jsx("h4",{children:" Toutes les scnes gnres :"}),y.filter(P=>P.status==="success").map((P,J)=>d.jsxs("div",{className:"clip-item",children:[d.jsxs("span",{children:[" Scne ",P.scene_number]}),d.jsx("span",{children:O(P.duration)}),P.type==="image"&&d.jsx("span",{className:"clip-type",children:" Image"})]},J))]}),d.jsxs("div",{className:"video-actions",children:[d.jsx("button",{className:"download-btn",children:" Tlcharger"}),d.jsx("button",{className:"share-btn",children:" Partager"})]})]})}):d.jsxs("div",{className:"no-video",children:[d.jsx("div",{className:"no-video-icon",children:o==="completed"?"":""}),d.jsx("h3",{children:o==="completed"?"Animation termine !":"Gnration en cours..."}),d.jsx("p",{children:o==="completed"?"Votre animation a t gnre avec succs ! Thme: "+(e.theme||"N/A"):"La gnration vido peut prendre quelques minutes. Certaines scnes utilisent des modes de fallback."}),o==="completed"&&(e.final_video_url||((R=e.result)==null?void 0:R.final_video_url))&&d.jsx("div",{className:"video-controls",children:d.jsx("button",{className:"play-btn",onClick:()=>{var P;return window.open(e.final_video_url||((P=e.result)==null?void 0:P.final_video_url),"_blank")},children:" Voir l'animation"})})]})},"video"),n==="scenes"&&d.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"scenes-tab",children:d.jsx("div",{className:"scenes-list",children:_.map((P,J)=>{const W=y.find(ue=>ue.scene_number===P.scene_number);return d.jsxs(Ie.div,{className:`scene-card ${i===J?"selected":""}`,onClick:()=>s(i===J?null:J),whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsxs("div",{className:"scene-header",children:[d.jsxs("span",{className:"scene-number",children:["Scne ",P.scene_number]}),d.jsxs("div",{className:"scene-status",children:[d.jsx("span",{className:"status-icon",style:{color:M((W==null?void 0:W.status)||"pending")},children:B((W==null?void 0:W.status)||"pending")}),d.jsx("span",{className:"status-text",children:(W==null?void 0:W.status)||"pending"})]})]}),d.jsx("h4",{children:P.description}),d.jsxs("p",{children:[d.jsx("strong",{children:"Action:"})," ",P.action]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Dcor:"})," ",P.setting]}),d.jsxs("div",{className:"scene-duration",children:["Dure: ",O(P.duration)]}),i===J&&W&&d.jsx(Ie.div,{className:"scene-details",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:W.video_url&&d.jsx("div",{className:"clip-preview",children:d.jsxs("span",{children:[" Fichier: ",W.video_url]})})})]},P.scene_number)})})},"scenes"),n==="details"&&d.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"details-tab",children:d.jsxs("div",{className:"technical-details",children:[d.jsx("h4",{children:" Dtails techniques"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("strong",{children:"Pipeline:"}),d.jsx("span",{children:b||"custom_animation_ai"})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("strong",{children:"Statut:"}),d.jsx("span",{className:`status ${o}`,children:o})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("strong",{children:"Temps de gnration:"}),d.jsxs("span",{children:[Math.round(h),"s"]})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("strong",{children:"Scnes totales:"}),d.jsx("span",{children:E})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("strong",{children:"Scnes russies:"}),d.jsx("span",{children:m})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("strong",{children:"Dure totale:"}),d.jsx("span",{children:O(f)})]})]}),e.note&&d.jsxs("div",{className:"generation-note",children:[d.jsx("h5",{children:" Note de gnration"}),d.jsx("p",{children:e.note})]})]})},"details")]})})]})})};const H7=({customRequest:e,setCustomRequest:t})=>d.jsxs("div",{className:"custom-request",children:[d.jsx("h3",{children:"Demandes spcifiques (optionnel)"}),d.jsx("div",{className:"request-form",children:d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"customRequest",children:"Avez-vous des demandes particulires ?"}),d.jsx(Ie.textarea,{id:"customRequest",value:e,onChange:n=>t(n.target.value),placeholder:"Ex: En anglais, avec un chien bleu, inclure un message sur l'amiti...",rows:3,whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300,damping:10}})]})})]});const G7=({onGenerate:e,isGenerating:t,isDisabled:n,contentType:r,buttonText:i})=>{const s=()=>t?r==="rhyme"?"Cration de la comptine en cours...":r==="coloring"?"Cration du coloriage en cours...":r==="comic"?"Cration de la BD en cours...":r==="animation"?"Cration du dessin anim en cours...":"Cration du contenu en cours...":i||(r==="rhyme"?"Crer ma comptine":r==="coloring"?"Crer mon coloriage":r==="comic"?"Crer ma bande dessine":r==="animation"?"Crer mon dessin anim":r==="audio"?"Crer mon histoire":"Crer mon contenu");return d.jsxs("div",{className:"generate-button-container",children:[d.jsxs(Ie.button,{className:"generate-button",onClick:e,disabled:n||t,whileHover:!n&&!t?{scale:1.03}:{},whileTap:!n&&!t?{scale:.98}:{},initial:{opacity:.9},animate:{opacity:n?.6:1,y:[0,t?-5:0,0]},transition:{duration:t?.5:.2,repeat:t?1/0:0},children:[t&&d.jsxs("div",{className:"button-loading-dots",children:[d.jsx("div",{className:"button-dot"}),d.jsx("div",{className:"button-dot"}),d.jsx("div",{className:"button-dot"})]}),d.jsx("span",{children:s()})]}),n&&!t&&d.jsx("p",{className:"generate-button-hint",children:r==="story"?"Veuillez remplir tous les champs requis pour crer votre BD":r==="rhyme"?"Veuillez slectionner un type de comptine pour continuer":r==="coloring"?"Veuillez slectionner un thme de coloriage pour continuer":r==="comic"?"Veuillez slectionner un thme, un style et un nombre de pages pour votre BD":r==="animation"?"Veuillez slectionner un thme et configurer votre animation":"Veuillez slectionner un type d'histoire (et une voix) pour continuer"})]})};async function K7(){var e;try{const{data:{session:t},error:n}=await pt.auth.getSession();if((e=t==null?void 0:t.user)!=null&&e.id)return t.user.id;const r=localStorage.getItem("friday_user_cache");if(r){const i=JSON.parse(r);if(i.id)return i.id}return null}catch(t){return console.error("Erreur rcupration ID utilisateur:",t),null}}async function bw({type:e,title:t,data:n}){const r=await K7();if(!r)throw new Error("Utilisateur non connect");try{const i={user_id:r,type:e,title:t,data:{...n,created_via:"friday_web",timestamp:new Date().toISOString()}},{data:s,error:o}=await pt.from("creations").insert([i]).select().single();if(o)throw console.error("Erreur Supabase lors de la cration:",o),new Error(`Erreur base de donnes: ${o.message}`);return s}catch(i){throw console.error("Erreur lors de la sauvegarde:",i),i}}async function J7(e){try{const{error:t}=await pt.from("creations").delete().eq("id",e);if(t)throw console.error("Erreur Supabase lors de la suppression:",t),new Error(`Erreur base de donnes: ${t.message}`);return!0}catch(t){throw console.error("Erreur lors de la suppression:",t),t}}async function Y7(e){return new Promise((t,n)=>{const r=new window.Image;r.crossOrigin="Anonymous",r.onload=function(){const i=document.createElement("canvas");i.width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0);const o=i.toDataURL("image/png");t({width:r.width,height:r.height,dataUrl:o})},r.onerror=n,r.src=e})}function X7(e,t=""){return(!e||e.trim()==="")&&(e={coloriage:"coloriage",comic:"bande_dessinee",comptine:"comptine",histoire:"histoire",animation:"animation"}[t]||"creation"),String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").toLowerCase()}function br(e,t){return`${e.replace(new RegExp(`\\.${t}$`,"i"),"")}_herbbie.${t}`}async function Pv(e,t="coloriages"){const n=new it({orientation:"portrait",unit:"px",format:"a4"}),r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),s=40,o=r-2*s,a=i-2*s,l=await Promise.all(e.map(async h=>{try{const f=h.image_url||h;return await Y7(f)}catch(f){return console.warn("Erreur chargement image pour le PDF :",h,f),null}}));let c=!0;for(let h=0;h<l.length;h++){if(!l[h])continue;c||n.addPage(),c=!1;const{dataUrl:f,width:m,height:g}=l[h],b=m/g;let S=o,k=o/b;k>a&&(k=a,S=a*b);const y=(r-S)/2,x=(i-k)/2;n.addImage(f,"PNG",y,x,S,k),n.setFontSize(8),n.setTextColor(107,78,255),n.text("Cr avec HERBBIE",15,i-10,{align:"left"})}n.save(br(X7(t),"pdf"))}function Q7(e){const[t,n]=T.useState([]),[r,i]=T.useState(!1),[s,o]=T.useState(null);return T.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{i(!0);try{const{data:c,error:h}=await pt.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});h?(console.error("Erreur rcupration crations:",h),o(h.message),n([])):(n(c||[]),o(null))}catch(c){console.error("Erreur critique rcupration crations:",c),o(c.message),n([])}finally{i(!1)}})()},[e]),{creations:t,loading:r,error:s,refreshCreations:async()=>{if(e){i(!0);try{const{data:l,error:c}=await pt.from("creations").select("*").eq("user_id",e).order("created_at",{ascending:!1});c?o(c.message):(n(l||[]),o(null))}catch(l){o(l.message)}finally{i(!1)}}}}}const Z7=(e,t)=>e?e.startsWith("http://")||e.startsWith("https://")?e:`${t}${e}`:null,eF=async(e,t)=>{var g,b;const n=e.pages||((g=e.data)==null?void 0:g.pages)||((b=e.comic_data)==null?void 0:b.pages)||[];if(!n||n.length===0){alert("Aucune page disponible pour cette bande dessine.");return}const r=new it({orientation:"portrait",unit:"px",format:"a4"}),i=r.internal.pageSize.getWidth(),s=r.internal.pageSize.getHeight(),o=40,a=i-2*o,l=s-2*o,c=S=>new Promise((k,y)=>{const x=new window.Image;x.crossOrigin="Anonymous",x.onload=function(){const _=document.createElement("canvas");_.width=x.width,_.height=x.height,_.getContext("2d").drawImage(x,0,0);const O=_.toDataURL("image/png");k({width:x.width,height:x.height,dataUrl:O})},x.onerror=y,x.src=S}),h=await Promise.all(n.map(async S=>{try{const k=Z7(S.image_url||S,t);return k?await c(k):null}catch(k){return console.warn("Erreur chargement image BD pour le PDF :",S,k),null}}));let f=!0;for(let S=0;S<h.length;S++){if(!h[S])continue;f||r.addPage(),f=!1;const{dataUrl:k,width:y,height:x}=h[S],_=y/x;let E=a,O=a/_;O>l&&(O=l,E=l*_);const M=(L-E)/2,B=(V-O)/2;r.addImage(k,"PNG",M,B,E,O);const L=r.internal.pageSize.getWidth(),V=r.internal.pageSize.getHeight();r.setFontSize(8),r.setTextColor(106,90,205),r.text("Cr avec HERBBIE",15,V-10,{align:"left"})}const m=(e.title||"bande_dessinee").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");r.save(br(m,"pdf"))},tF=({onClose:e,onSelect:t})=>{const{user:n}=Av(),{creations:r,loading:i,refreshCreations:s}=Q7(n==null?void 0:n.id),o=async m=>{if(window.confirm("Supprimer cette cration ?"))try{const{error:b}=await J7(m);if(b){alert("Erreur lors de la suppression !");return}s()}catch(b){console.error("Erreur lors de la suppression:",b),alert("Erreur lors de la suppression !")}},a=m=>{const g=new Date(m);return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(g)},l=m=>{var b,S;const g=m.audio_path||((b=m.data)==null?void 0:b.audio_path);if(!g&&(m.type==="rhyme"||m.type==="comptine")){const k=m.suno_url||((S=m.data)==null?void 0:S.suno_url);if(k)return k}return g?g.startsWith("http://")||g.startsWith("https://")?g:g.startsWith("static/")?null:`${ar}/${g}`:null},c=m=>{switch(m){case"comic":case"bd":case"story":return"";case"rhyme":case"comptine":return"";case"audio":case"histoire":return"";case"coloring":case"coloriage":return"";case"crewai_animation":case"animation":return"";default:return""}},h=m=>{switch(m){case"comic":case"bd":case"story":return"Bande dessine";case"rhyme":case"comptine":return"Comptine";case"audio":case"histoire":return"Histoire";case"coloring":case"coloriage":return"Coloriage";case"crewai_animation":case"animation":return"Dessin anim";default:return"Cration"}},f=m=>{var V;const g=m.content||((V=m.data)==null?void 0:V.content)||"";if(!g||typeof g!="string"){console.error(" Contenu invalide ou manquant pour le PDF.");return}const b=new it({orientation:"p",unit:"mm",format:"a4"}),S=40,k=210,y=297,x=12,_=Math.floor((y-S*2)/x),E=13;let O=m.title,M=g;g.startsWith("**")&&g.includes("**",2)&&(O=g.split("**")[1].trim(),M=g.replace(`**${O}**`,"").trim());const B=H=>new Promise(R=>{const P=new Image;P.crossOrigin="anonymous",P.src=H,P.onload=()=>R(P)});(async()=>{try{const H="/assets/fond.png?v=1";let R=null;try{R=await B(H)}catch{console.log(" Image de fond non disponible, PDF sans fond")}const P=b.splitTextToSize(M,150);let J=0;for(let W=0;J<P.length;W++){W>0&&b.addPage(),R&&b.addImage(R,"PNG",0,0,k,y,void 0,"FAST"),W===0&&(b.setFont("courier","bold"),b.setFontSize(22),b.setTextColor(110,50,230),b.text(O,k/2,S-20,{align:"center"})),b.setFont("courier","bold"),b.setFontSize(E),b.setTextColor(25,25,112);for(let ue=0;ue<_&&J<P.length;ue++,J++){const le=S+ue*x;b.text(P[J],k/2,le,{align:"center"})}b.setFontSize(11),b.setTextColor(106,90,205),b.text(`Page ${W+1}`,k-15,290,{align:"right"}),b.setFontSize(8),b.setTextColor(106,90,205),b.text("Cr avec HERBBIE",15,290,{align:"left"})}}catch(H){console.error(" Erreur lors de la gnration du PDF:",H),b.setFontSize(22),b.setTextColor(110,50,230),b.setFont("courier","bold"),b.text(O,k/2,S-20,{align:"center"}),b.setFontSize(E),b.setTextColor(25,25,112),b.setFont("courier","bold");const R=b.splitTextToSize(M,150);for(let P=0;P<R.length;P++){const J=S+P*x;b.text(R[P],k/2,J,{align:"center"})}}})().then(()=>{const H=O.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),R=b.output("blob"),P=URL.createObjectURL(R),J=document.createElement("a");J.href=P,J.download=br(H,"pdf"),J.style.display="none",document.body.appendChild(J),J.click(),document.body.removeChild(J),setTimeout(()=>{URL.revokeObjectURL(P)},100)})};return d.jsxs(Ie.div,{className:"history-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},onClick:m=>m.stopPropagation(),children:[d.jsxs("div",{className:"history-header",children:[d.jsx("h2",{children:"Historique de vos crations"}),d.jsx("button",{className:"close-button",onClick:e,children:""})]}),d.jsx("div",{className:"history-content",children:n?r.length===0&&!i?d.jsxs("div",{className:"empty-history",children:[d.jsx("p",{children:"Vous n'avez pas encore de crations"}),d.jsx("p",{className:"empty-subtext",children:"Vos crations apparatront ici une fois gnres"})]}):d.jsx("div",{className:"creations-list",children:r.map(m=>{var k,y,x,_,E,O,M,B,L,V;const g=!!l(m),b=!!(m.content||(k=m.data)!=null&&k.content),S=["creation-item",g?"has-audio":"",b?"has-text":""].filter(Boolean).join(" ");return d.jsxs(Ie.div,{className:S,onClick:()=>t({...m,action:m.type==="coloring"?"showColoring":m.type==="comic"||m.type==="bd"?"showComic":"showStory"}),whileHover:{scale:1.01},transition:{duration:.2},children:[d.jsx("div",{className:"creation-icon",children:c(m.type)}),"                  ",d.jsxs("div",{className:"creation-details",children:[d.jsx("h3",{children:m.title}),d.jsxs("div",{className:"creation-meta",children:[d.jsx("span",{className:"creation-type",children:h(m.type)}),d.jsx("span",{className:"creation-date",children:a(m.created_at)})]}),"                  ",l(m)&&d.jsx("audio",{controls:!0,className:"creation-audio",src:l(m)}),d.jsxs("div",{className:"creation-actions",children:[m.type==="rhyme"&&l(m)&&d.jsx("button",{className:"btn-pdf",onClick:async H=>{var R;H.stopPropagation();try{const P=l(m),W=await(await fetch(P)).blob(),ue=URL.createObjectURL(W);let le=m.title||"Comptine";const ae=m.content||((R=m.data)==null?void 0:R.content)||"";ae&&ae.startsWith("**")&&ae.includes("**",2)&&(le=ae.split("**")[1].trim());const K=le.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),ee=document.createElement("a");ee.href=ue,ee.download=br(K,"mp3"),ee.style.display="none",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(ue)}catch(P){console.error("Erreur lors du tlchargement de la comptine:",P),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger la comptine"}),(m.type==="audio"||m.type==="histoire")&&(m.content||((y=m.data)==null?void 0:y.content))&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn-pdf",onClick:H=>{H.stopPropagation(),f(m)},children:" Tlcharger le PDF"}),l(m)&&(m.audio_generated||((x=m.data)==null?void 0:x.audio_generated))&&d.jsx("button",{className:"btn-pdf",onClick:async H=>{var R;H.stopPropagation();try{const P=l(m),W=await(await fetch(P)).blob(),ue=URL.createObjectURL(W);let le=m.title||"Histoire";const ae=m.content||((R=m.data)==null?void 0:R.content)||"";ae&&ae.startsWith("**")&&ae.includes("**",2)&&(le=ae.split("**")[1].trim());const K=le.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),ee=document.createElement("a");ee.href=ue,ee.download=br(K,"mp3"),ee.style.display="none",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(ue)}catch(P){console.error("Erreur lors du tlchargement audio:",P),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger l'audio"})]}),l(m)&&(m.audio_generated||((_=m.data)==null?void 0:_.audio_generated))&&m.type!=="rhyme"&&m.type!=="audio"&&m.type!=="histoire"&&d.jsx("button",{className:"btn-audio",onClick:async H=>{H.stopPropagation();try{const R=l(m),P=await fetch(R);if(!P.ok)throw new Error("Erreur lors du tlchargement");const J=await P.blob(),W=URL.createObjectURL(J),ue=(m.title||"audio").replace(/[^a-z0-9]/gi,"_").toLowerCase(),le=document.createElement("a");le.href=W,le.download=br(ue,"mp3"),le.style.display="none",document.body.appendChild(le),le.click(),document.body.removeChild(le),URL.revokeObjectURL(W)}catch(R){console.error("Erreur lors du tlchargement audio:",R),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger l'audio"}),m.type==="coloring"&&(m.images||((E=m.data)==null?void 0:E.images))&&(((O=m.images)==null?void 0:O.length)>0||((B=(M=m.data)==null?void 0:M.images)==null?void 0:B.length)>0)&&d.jsx("button",{className:"btn-pdf",onClick:H=>{var J;H.stopPropagation();const R=m.title||(m.theme?`coloriages_${m.theme}`:"coloriages"),P=m.images||((J=m.data)==null?void 0:J.images)||[];Pv(P,R)},children:" Tlcharger le coloriage"}),(m.type==="comic"||m.type==="bd"||m.type==="story")&&(m.pages||((L=m.data)==null?void 0:L.pages)||((V=m.comic_data)==null?void 0:V.pages))&&d.jsx("button",{className:"btn-pdf",onClick:async H=>{H.stopPropagation();try{await eF(m,ar)}catch(R){console.error("Erreur lors du tlchargement de la BD:",R),alert("Erreur lors du tlchargement. Veuillez ressayer.")}},children:" Tlcharger le PDF"}),d.jsx("button",{className:"btn-delete",onClick:H=>{H.stopPropagation(),o(m.id)},children:" Supprimer"})]})]})]},m.id)})}):d.jsx("div",{className:"empty-history",children:d.jsx("p",{children:"Connexion en cours..."})})})]})};const nF=({title:e,content:t,onClose:n,children:r})=>{const[i,s]=T.useState(!1),o=T.useRef(null),a=()=>{var c;document.fullscreenElement?(document.exitFullscreen(),s(!1)):((c=o.current)==null||c.requestFullscreen(),s(!0))},l=c=>{c.target.classList.contains("story-popup-overlay")&&n()};return d.jsx("div",{className:"story-popup-overlay",onClick:l,children:d.jsxs("div",{className:"story-popup-content",ref:o,children:[d.jsx("div",{className:"story-background"}),d.jsx("button",{className:"story-close-btn",onClick:n,children:""}),d.jsx("button",{className:"story-fullscreen-btn",onClick:a,children:i?" Quitter le plein cran":" Plein cran"}),d.jsxs("div",{className:"story-scroll",children:[e&&d.jsx("h2",{className:"story-title",children:e}),t&&typeof t=="string"?d.jsx("div",{className:"story-text",children:t}):r]})]})})};const rF=({selectedTheme:e,setSelectedTheme:t,customColoringTheme:n,setCustomColoringTheme:r,uploadedPhoto:i,setUploadedPhoto:s,withColoredModel:o,setWithColoredModel:a})=>{const[l,c]=T.useState(!1),[h,f]=T.useState(!1),[m,g]=T.useState(null),b=[{value:"upload_photo",label:"Ma Photo",icon:"",description:"Transformez votre photo en coloriage !",special:!0},{value:"custom",label:"Personnalis",icon:"",description:"Crez votre propre thme de coloriage"},{value:"animals",label:"Animaux",icon:"",description:"Chats, chiens, lions, lphants..."},{value:"dinosaurs",label:"Dinosaures",icon:"",description:"T-Rex, Triceratops, volcans..."},{value:"dragons",label:"Dragons",icon:"",description:"Dragons mignons, chevaliers..."},{value:"farm",label:"Ferme",icon:"",description:"Vache, cochon, poule, tracteur..."},{value:"fairies",label:"Fes & Licornes",icon:"",description:"Fes, licornes, chteaux magiques..."},{value:"princess",label:"Princesses",icon:"",description:"Princesses, robes, diadmes..."},{value:"mermaids",label:"Sirnes",icon:"",description:"Sirnes, coquillages, palais sous-marin..."},{value:"pirates",label:"Pirates",icon:"",description:"Bateaux pirates, trsors, perroquets..."},{value:"superheroes",label:"Super-hros",icon:"",description:"Hros masqus, super-pouvoirs..."},{value:"space",label:"Espace",icon:"",description:"Fuses, plantes, astronautes..."},{value:"robots",label:"Robots",icon:"",description:"Robots futuristes, androdes..."},{value:"vehicles",label:"Vhicules",icon:"",description:"Voitures, avions, trains, bateaux..."},{value:"nature",label:"Nature",icon:"",description:"Fleurs, arbres, papillons, paysages..."},{value:"ocean",label:"Ocan",icon:"",description:"Poissons, dauphins, coraux, tortues..."},{value:"seasons",label:"Saisons",icon:"",description:"Automne, hiver, printemps, t..."},{value:"sports",label:"Sports",icon:"",description:"Football, basketball, natation..."},{value:"fruits",label:"Fruits & Lgumes",icon:"",description:"Fruits rigolos, lgumes souriants..."},{value:"professions",label:"Mtiers",icon:"",description:"Mdecins, pompiers, cuisiniers..."},{value:"emotions",label:"motions",icon:"",description:"Visages joyeux, tristes, surpris..."}],S=_=>{e===_?(t(""),c(!1),f(!1)):(t(_),c(_==="custom"),f(_==="upload_photo"))},k=_=>{const E=_.target.files[0];if(E){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(E.type)){alert("Format de fichier non support. Utilisez JPG, PNG, GIF ou WebP.");return}if(E.size>5*1024*1024){alert("La photo est trop grande. Taille maximale : 5 MB");return}const M=new FileReader;M.onloadend=()=>{g(M.result)},M.readAsDataURL(E),s(E)}},y=_=>{a(o===_?null:_)},x=()=>{s(null),g(null);const _=document.getElementById("photo-upload-input");_&&(_.value="")};return d.jsxs("div",{className:"coloring-selector",children:[d.jsx("h3",{children:"2. Choisissez un thme pour vos coloriages"}),d.jsx("div",{className:"theme-grid",children:b.map((_,E)=>d.jsxs("div",{className:"theme-slot",children:[d.jsxs(Ie.div,{className:`theme-option ${_.special?"photo-upload-option":""} ${_.value==="custom"?"custom-coloring":""} ${e===_.value?"selected":""}`,onClick:()=>S(_.value),whileHover:{y:-5},whileTap:{scale:.98},children:[d.jsx("div",{className:"theme-icon",children:_.icon}),d.jsxs("div",{className:"theme-info",children:[d.jsx("h4",{children:_.label}),d.jsx("p",{children:_.description})]})]}),_.special&&h&&e==="upload_photo"&&d.jsxs(Ie.div,{className:"photo-upload-container inline-upload",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[d.jsxs("div",{className:"upload-section",children:[d.jsx("p",{className:"upload-hint",children:"Formats accepts : JPG, PNG, GIF, WebP (max 5 MB)"}),d.jsx("input",{type:"file",id:"photo-upload-input",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:k,style:{display:"none"}}),m?d.jsx("div",{className:"photo-preview-container",children:d.jsx("img",{src:m,alt:"Aperu",className:"photo-preview"})}):d.jsxs("label",{htmlFor:"photo-upload-input",className:"upload-button",children:[d.jsx("span",{className:"upload-icon",children:""}),d.jsx("span",{children:"Choisir une photo"})]})]}),m&&d.jsx(Ie.div,{className:"remove-photo-section",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:d.jsx("button",{onClick:x,className:"remove-photo-button",children:" Supprimer la photo"})})]}),_.value==="custom"&&l&&e==="custom"&&d.jsx(Ie.div,{className:"custom-theme-input inline-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:d.jsx("input",{type:"text",placeholder:"Dcrivez votre thme de coloriage personnalis...",value:n,onChange:O=>r(O.target.value),className:"custom-input"})})]},_.value))}),d.jsxs("div",{className:"model-choice-section",children:[d.jsx("h3",{children:"3. Voulez-vous un modle ?"}),d.jsxs("div",{className:"model-buttons",children:[d.jsxs(Ie.button,{className:`model-btn ${o===!0?"active":""}`,onClick:()=>y(!0),whileHover:{y:-3},whileTap:{scale:.98},children:[d.jsx("span",{className:"model-icon",children:""}),d.jsx("span",{className:"model-label",children:"Avec modle"}),d.jsx("span",{className:"model-desc",children:"Inclut un exemple color en coin"})]}),d.jsxs(Ie.button,{className:`model-btn ${o===!1?"active":""}`,onClick:()=>y(!1),whileHover:{y:-3},whileTap:{scale:.98},children:[d.jsx("span",{className:"model-icon",children:""}),d.jsx("span",{className:"model-label",children:"Sans modle"}),d.jsx("span",{className:"model-desc",children:"Coloriage pur, libert crative"})]})]})]})]})};const P4=({imageUrl:e,theme:t,onClose:n,onSave:r})=>{const i=T.useRef(null),[s,o]=T.useState(null),[a,l]=T.useState("#FF6B6B"),[c,h]=T.useState("bucket"),[f,m]=T.useState(!1),[g,b]=T.useState(1),[S,k]=T.useState(!1),[y,x]=T.useState(null),[_,E]=T.useState(null),O=["#FF6B6B","#FF4757","#FF6348","#FFA07A","#FF85C0","#FFB6C1","#FF1493","#DC143C","#F8B739","#FFA500","#FFD700","#F7DC6F","#FFDAB9","#FFE4B5","#F4A460","#FDB813","#52C41A","#98D8C8","#81C784","#00C853","#20B2AA","#3CB371","#90EE90","#7FFF00","#4ECDC4","#45B7D1","#85C1E9","#A8DADC","#00BFFF","#1E90FF","#4169E1","#6495ED","#BB8FCE","#9B59B6","#8B008B","#DA70D6","#E6E6FA","#DDA0DD","#BA55D3","#9370DB","#DDA15E","#BC6C25","#D2691E","#CD853F","#8B4513","#A0522D","#F5DEB3","#FAEBD7","#95A5A6","#7F8C8D","#BDC3C7","#ECF0F1","#D3D3D3","#C0C0C0","#A9A9A9","#808080","#E07A5F","#FF6B9D","#00D9FF","#FFEB3B","#FF5722","#8BC34A","#00BCD4","#E91E63"];T.useEffect(()=>{const Q=i.current;if(!Q)return;const me=Q.getContext("2d",{willReadFrequently:!0});o(me);const N=new Image;N.crossOrigin="anonymous",N.onload=()=>{const z=window.innerWidth*.9,$=window.innerHeight*.7;let Y=N.width,Z=N.height;Y>z&&(Z=z/Y*Z,Y=z),Z>$&&(Y=$/Z*Y,Z=$),Q.width=Y,Q.height=Z,me.drawImage(N,0,0,Y,Z),x(me.getImageData(0,0,Y,Z));const oe=me.createImageData(Y,Z);E(oe),k(!0)},N.onerror=()=>{console.error("Erreur de chargement de l'image")},N.src=e},[e]);const M=(Q,me,N)=>{if(!s||!y)return;const z=i.current,$=s.getImageData(0,0,z.width,z.height),Y=$.data,Z=L(Y,Q,me,z.width),oe=H(N);if(R(Z,oe))return;const he=[[Q,me]],ce=new Set;for(;he.length>0;){const[xe,_e]=he.pop(),Fe=`${xe},${_e}`;if(ce.has(Fe)||xe<0||xe>=z.width||_e<0||_e>=z.height)continue;const Pe=L(Y,xe,_e,z.width);P(Pe)||R(Pe,Z)&&(ce.add(Fe),V(Y,xe,_e,z.width,oe),he.push([xe+1,_e]),he.push([xe-1,_e]),he.push([xe,_e+1]),he.push([xe,_e-1]))}s.putImageData($,0,0)},B=(Q,me)=>{if(!s||!y)return;const N=i.current,z=s.getImageData(0,0,N.width,N.height),$=z.data,Y=y.data,Z=L($,Q,me,N.width);if(J(Z))return;const oe=[[Q,me]],he=new Set;for(;oe.length>0;){const[ce,xe]=oe.pop(),_e=`${ce},${xe}`;if(he.has(_e)||ce<0||ce>=N.width||xe<0||xe>=N.height)continue;const Fe=L($,ce,xe,N.width);if(P(Fe)||!R(Fe,Z))continue;he.add(_e);const Pe=(xe*N.width+ce)*4;$[Pe]=Y[Pe],$[Pe+1]=Y[Pe+1],$[Pe+2]=Y[Pe+2],$[Pe+3]=Y[Pe+3],oe.push([ce+1,xe]),oe.push([ce-1,xe]),oe.push([ce,xe+1]),oe.push([ce,xe-1])}s.putImageData(z,0,0)},L=(Q,me,N,z)=>{const $=(N*z+me)*4;return{r:Q[$],g:Q[$+1],b:Q[$+2],a:Q[$+3]}},V=(Q,me,N,z,$)=>{const Y=(N*z+me)*4;Q[Y]=$.r,Q[Y+1]=$.g,Q[Y+2]=$.b,Q[Y+3]=255},H=Q=>{const me=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Q);return me?{r:parseInt(me[1],16),g:parseInt(me[2],16),b:parseInt(me[3],16),a:255}:{r:0,g:0,b:0,a:255}},R=(Q,me,N=10)=>Math.abs(Q.r-me.r)<=N&&Math.abs(Q.g-me.g)<=N&&Math.abs(Q.b-me.b)<=N,P=(Q,me=50)=>Q.r<me&&Q.g<me&&Q.b<me,J=(Q,me=240)=>Q.r>me&&Q.g>me&&Q.b>me||Q.a<10,W=Q=>{if(!S)return;const me=i.current,N=me.getBoundingClientRect(),z=Math.floor((Q.clientX-N.left)*(me.width/N.width)),$=Math.floor((Q.clientY-N.top)*(me.height/N.height));c==="bucket"?M(z,$,a):c==="eraser"&&B(z,$)},ue=()=>{i.current.toBlob(me=>{const N=URL.createObjectURL(me),z=document.createElement("a");z.href=N;const Y=(t||"coloriage").replace(/[^a-z0-9]/gi,"_").toLowerCase();z.download=br(`coloriages_${Y}_colorie`,"png"),document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(N)})},le=Q=>{Q.target.classList.contains("coloring-canvas-overlay")&&n()},ae=()=>{!s||!y||s.putImageData(y,0,0)},K=()=>{b(Q=>Math.min(Q+.5,3)),m(!0)},ee=()=>{g>1&&(b(Q=>Math.max(Q-.5,1)),g-.5<=1&&m(!1))};return d.jsx("div",{className:"coloring-canvas-overlay",onClick:le,children:d.jsxs("div",{className:"coloring-canvas-container",children:[d.jsxs("div",{className:"coloring-toolbar-top",children:[d.jsx("h2",{className:"coloring-canvas-title",children:" Coloriez votre dessin"}),d.jsxs("div",{className:"coloring-zoom-controls",children:[d.jsx("button",{className:"coloring-zoom-btn",onClick:ee,disabled:g<=1,title:"Zoom arrire",children:""}),d.jsxs("span",{style:{color:"white",fontWeight:"bold",minWidth:"60px",textAlign:"center"},children:[Math.round(g*100),"%"]}),d.jsx("button",{className:"coloring-zoom-btn",onClick:K,disabled:g>=3,title:"Zoom avant",children:"+"})]}),d.jsxs("div",{className:"coloring-toolbar-actions",children:[d.jsx("button",{className:"coloring-btn coloring-reset-btn",onClick:ae,title:"Rinitialiser",children:" Rinitialiser"}),d.jsx("button",{className:"coloring-btn coloring-save-btn",onClick:ue,title:"Tlcharger",children:" Tlcharger"}),d.jsx("button",{className:"coloring-btn coloring-close-btn-top",onClick:n,title:"Fermer",children:""})]})]}),d.jsxs("div",{className:"coloring-canvas-wrapper",children:[d.jsx("canvas",{ref:i,onClick:W,className:`coloring-canvas ${f?"zoomed":""}`,style:{transform:`scale(${g})`}}),!S&&d.jsxs("div",{className:"coloring-loading",children:[d.jsx("div",{className:"coloring-spinner"}),d.jsx("p",{children:"Chargement du coloriage..."})]})]}),d.jsxs("div",{className:"coloring-toolbar-bottom",children:[d.jsxs("div",{className:"coloring-tools",children:[d.jsx("button",{className:`coloring-tool-btn ${c==="bucket"?"active":""}`,onClick:()=>h("bucket"),title:"Seau de peinture",children:""}),d.jsx("button",{className:`coloring-tool-btn ${c==="eraser"?"active":""}`,onClick:()=>h("eraser"),title:"Gomme",children:""})]}),d.jsx("div",{className:"coloring-palette",children:O.map((Q,me)=>d.jsx("button",{className:`coloring-color-btn ${a===Q&&c==="bucket"?"active":""}`,style:{backgroundColor:Q},onClick:()=>{l(Q),h("bucket")},title:Q},me))})]})]})})},iF=({coloringResult:e,onClose:t,selectedTheme:n})=>{const[r,i]=T.useState(!1),[s,o]=T.useState(!1),a=T.useRef(null),l=()=>{var b;document.fullscreenElement?(document.exitFullscreen(),i(!1)):((b=a.current)==null||b.requestFullscreen(),i(!0))},c=b=>{b.target.classList.contains("coloring-popup-overlay")&&t()},h=()=>{if(e!=null&&e.images&&e.images.length>0){const b=e.title||(n?`coloriages_${n}`:"coloriages");Pv(e.images,b)}else console.warn("Aucune image disponible pour le tlchargement PDF")};if(!e||!e.images||e.images.length===0)return null;const f=e.images[0],m=f.image_url||f,g=()=>{o(!0)};return d.jsx(d.Fragment,{children:s?d.jsx(P4,{imageUrl:m,onClose:()=>o(!1)}):d.jsx("div",{className:"coloring-popup-overlay",onClick:c,children:d.jsxs("div",{className:"coloring-popup-content",ref:a,children:[d.jsx("div",{className:"coloring-background"}),d.jsx("button",{className:"coloring-close-btn",onClick:t,children:""}),d.jsx("button",{className:"coloring-fullscreen-btn",onClick:l,children:r?" Quitter le plein cran":" Plein cran"}),d.jsxs("div",{className:"coloring-container",children:[d.jsx("h2",{className:"coloring-title",children:" Votre coloriage"}),d.jsx("div",{className:"coloring-image-wrapper",children:d.jsx("img",{src:m,alt:"Coloriage",className:"coloring-popup-image"})}),d.jsxs("div",{className:"coloring-popup-actions",children:[d.jsx("button",{className:"coloring-open-btn",onClick:g,children:" Colorier maintenant"}),d.jsx("button",{className:"coloring-download-btn",onClick:h,children:" Tlcharger le coloriage"})]})]})]})})})};const sF=({selectedTheme:e,setSelectedTheme:t,selectedStyle:n,setSelectedStyle:r,numPages:i,setNumPages:s,customStory:o,setCustomStory:a,characterPhoto:l,setCharacterPhoto:c,onCharacterPhotoUpload:h})=>{const[f,m]=T.useState(!1),g=[{id:"custom",name:"Personnalis",icon:"",description:"Votre propre histoire"},{id:"espace",name:"Espace",icon:"",description:"Aventures spatiales"},{id:"pirates",name:"Pirates",icon:"",description:"Trsors et mers"},{id:"princesses",name:"Princesses",icon:"",description:"Chteaux magiques"},{id:"dinosaures",name:"Dinosaures",icon:"",description:"Monde prhistorique"},{id:"animaux",name:"Animaux",icon:"",description:"Animaux mignons"},{id:"superheros",name:"Super-hros",icon:"",description:"Pouvoirs incroyables"},{id:"foret",name:"Fort Magique",icon:"",description:"Fort enchante"},{id:"ecole",name:"cole",icon:"",description:"Aventures scolaires"},{id:"robots",name:"Robots",icon:"",description:"Robots et technologie"},{id:"chevaliers",name:"Chevaliers",icon:"",description:"Chteaux et chevaliers"},{id:"sports",name:"Sports",icon:"",description:"Aventures sportives"},{id:"musique",name:"Musique",icon:"",description:"Concerts et instruments"},{id:"cirque",name:"Cirque",icon:"",description:"Spectacles et acrobaties"},{id:"licornes",name:"Licornes",icon:"",description:"Licornes magiques"},{id:"vehicules",name:"Vhicules",icon:"",description:"Voitures et transports"},{id:"cuisine",name:"Cuisine",icon:"",description:"Recettes et ptisseries"},{id:"jardin",name:"Jardin",icon:"",description:"Plantes et fleurs"},{id:"voyage_temps",name:"Voyage dans le temps",icon:"",description:"Aventures temporelles"},{id:"zoo",name:"Zoo",icon:"",description:"Aventures au zoo"},{id:"fete",name:"Fte",icon:"",description:"Anniversaires et clbrations"}],b=[{id:"3d",name:"3D",icon:"",description:"Effets 3D modernes"},{id:"cartoon",name:"Cartoon",icon:"",description:"Color et enfantin"},{id:"manga",name:"Manga",icon:"",description:"Style japonais"},{id:"comics",name:"Comics Marvel",icon:"",description:"Style amricain"},{id:"realistic",name:"Raliste",icon:"",description:"Dtaill et raliste"},{id:"watercolor",name:"Aquarelle",icon:"",description:"Doux et artistique"}],S=[1,2,3,4,5],k=async y=>{const x=y.target.files[0];if(x){m(!0);try{await h(x)}catch(_){console.error("Erreur upload:",_),alert("Erreur lors de l'upload de la photo")}finally{m(!1)}}};return d.jsxs("div",{className:"comics-selector",children:[d.jsxs("div",{className:"selector-section",children:[d.jsx("h3",{children:"2. Choisissez un thme pour votre bande dessine"}),d.jsx("div",{className:"theme-grid",children:g.map(y=>d.jsxs("div",{className:"theme-slot",children:[d.jsxs(Ie.div,{className:`theme-card ${e===y.id?"selected":""} ${y.id==="custom"?"custom-theme":""}`,onClick:()=>t(e===y.id?null:y.id),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[d.jsx("div",{className:"theme-icon",children:y.icon}),d.jsx("div",{className:"theme-name",children:y.name}),d.jsx("div",{className:"theme-description",children:y.description})]}),y.id==="custom"&&e==="custom"&&d.jsx(Ie.div,{className:"custom-theme-input",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:d.jsx("textarea",{className:"custom-input",placeholder:"Dcrivez votre histoire personnalise... (ex: Une petite fille qui dcouvre un monde magique dans son jardin)",value:o,onChange:x=>a(x.target.value),rows:3})})]},y.id))})]}),d.jsxs("div",{className:"selector-section",children:[d.jsx("h3",{children:"3. Choisissez un style de dessin"}),d.jsx("div",{className:"style-grid",children:b.map(y=>d.jsxs(Ie.div,{className:`style-card ${n===y.id?"selected":""}`,onClick:()=>r(n===y.id?null:y.id),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[d.jsx("div",{className:"style-icon",children:y.icon}),d.jsx("div",{className:"style-name",children:y.name}),d.jsx("div",{className:"style-description",children:y.description})]},y.id))})]}),d.jsxs("div",{className:"selector-section",children:[d.jsx("h3",{children:"4. Nombre de pages"}),d.jsx("div",{className:"pages-selector",children:S.map(y=>d.jsxs(Ie.button,{className:`page-btn ${i===y?"selected":""}`,onClick:()=>s(i===y?null:y),whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},children:[y," ",y===1?"page":"pages",d.jsxs("span",{className:"cases-info",children:["(",y*4," cases)"]})]},y))})]}),d.jsxs("div",{className:"selector-section",children:[d.jsx("h3",{children:"5. Personnage principal (optionnel)"}),d.jsxs("div",{className:"character-upload-section",children:[d.jsx("p",{className:"character-description",children:"Uploadez une photo pour crer un personnage ressemblant ! L'IA analysera la photo et crera un personnage de BD similaire."}),d.jsxs("div",{className:"upload-area",children:[d.jsx("input",{type:"file",id:"character-photo-upload",accept:"image/*",onChange:k,className:"file-input",disabled:f}),!l&&d.jsx("label",{htmlFor:"character-photo-upload",className:"upload-label",children:f?d.jsxs("div",{className:"uploading-state",children:[d.jsx("div",{className:"spinner"}),d.jsx("span",{children:"Upload en cours..."})]}):d.jsxs("div",{className:"upload-prompt",children:[d.jsx("span",{className:"upload-icon",children:""}),d.jsxs("div",{className:"upload-text",children:[d.jsx("strong",{children:"Cliquez pour uploader une photo"}),d.jsx("span",{children:"ou glissez-dposez une image ici"})]})]})})]}),l&&d.jsxs("div",{className:"photo-preview",children:[d.jsx("img",{src:l.url,alt:"Personnage upload"}),d.jsxs("div",{className:"photo-actions",children:[d.jsx("button",{className:"change-photo-btn",onClick:()=>document.getElementById("character-photo-upload").click(),children:" Changer"}),d.jsx("button",{className:"remove-photo-btn",onClick:()=>c(null),children:" Retirer"})]})]})]})]})]})};const oF=({comic:e,onClose:t,baseUrl:n})=>{const[r,i]=T.useState(0),[s,o]=T.useState(!1);if(!e||!e.pages||e.pages.length===0)return null;const a=S=>S?S.startsWith("http://")||S.startsWith("https://")?S:`${n}${S}`:null,l=e.pages[r],c=e.pages.length,h=()=>{r<c-1&&i(r+1)},f=()=>{r>0&&i(r-1)},m=async()=>{const S=a(l.image_url);if(S)try{const k=await fetch(S);if(!k.ok)throw new Error("Erreur lors du tlchargement");const y=await k.blob(),x=window.URL.createObjectURL(y),_=document.createElement("a");_.href=x;const E=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();_.download=br(`${E}_page_${r+1}`,"png"),document.body.appendChild(_),_.click(),document.body.removeChild(_),setTimeout(()=>window.URL.revokeObjectURL(x),100)}catch(k){console.error("Erreur lors du tlchargement:",k);const y=document.createElement("a");y.href=S,y.target="_blank",y.rel="noopener noreferrer";const x=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();y.download=br(`${x}_page_${r+1}`,"png"),document.body.appendChild(y),y.click(),document.body.removeChild(y)}},g=async()=>{for(let S=0;S<e.pages.length;S++){const k=e.pages[S],y=a(k.image_url);if(y){try{const x=await fetch(y);if(!x.ok)throw new Error("Erreur lors du tlchargement");const _=await x.blob(),E=window.URL.createObjectURL(_),O=document.createElement("a");O.href=E;const M=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();O.download=br(`${M}_page_${S+1}`,"png"),document.body.appendChild(O),O.click(),document.body.removeChild(O),setTimeout(()=>window.URL.revokeObjectURL(E),100)}catch(x){console.error(`Erreur lors du tlchargement de la page ${S+1}:`,x);const _=document.createElement("a");_.href=y,_.target="_blank",_.rel="noopener noreferrer";const E=(e.title||"bande_dessinee").replace(/[^a-z0-9]/gi,"_").toLowerCase();_.download=br(`${E}_page_${S+1}`,"png"),document.body.appendChild(_),_.click(),document.body.removeChild(_)}S<e.pages.length-1&&await new Promise(x=>setTimeout(x,500))}}},b=()=>{o(!s)};return d.jsx(_i,{children:d.jsx(Ie.div,{className:"comics-popup-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:d.jsxs(Ie.div,{className:`comics-popup-container ${s?"fullscreen":""}`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:S=>S.stopPropagation(),children:[d.jsx("button",{className:"close-btn",onClick:t,children:""}),d.jsxs("div",{className:"comics-viewer",children:[d.jsx(_i,{mode:"wait",children:d.jsxs(Ie.div,{className:"page-display",initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},children:[d.jsx("img",{src:a(l.image_url),alt:`Planche ${r+1}`,className:"page-image",onClick:b}),d.jsxs("div",{className:"page-info",children:["Planche ",r+1," / ",c]})]},r)}),c>1&&d.jsxs("div",{className:"page-navigation",children:[d.jsx("button",{className:"nav-btn prev-btn",onClick:f,disabled:r===0,children:" Prcdent"}),d.jsx("div",{className:"page-dots",children:e.pages.map((S,k)=>d.jsx("button",{className:`page-dot ${k===r?"active":""}`,onClick:()=>i(k),"aria-label":`Aller  la planche ${k+1}`},k))}),d.jsx("button",{className:"nav-btn next-btn",onClick:h,disabled:r===c-1,children:"Suivant "})]})]}),d.jsxs("div",{className:"comics-actions",children:[d.jsxs("button",{className:"action-btn",onClick:b,children:[d.jsx("span",{className:"btn-icon",children:s?"":""}),s?"Rduire":"Plein cran"]}),d.jsxs("button",{className:"action-btn",onClick:m,children:[d.jsx("span",{className:"btn-icon",children:""}),"Tlcharger cette planche"]}),c>1&&d.jsxs("button",{className:"action-btn",onClick:g,children:[d.jsx("span",{className:"btn-icon",children:""}),"Tlcharger toutes les planches"]})]}),c>1&&d.jsxs("div",{className:"thumbnails-section",children:[d.jsx("h4",{children:"Toutes les planches"}),d.jsx("div",{className:"thumbnails-grid",children:e.pages.map((S,k)=>d.jsxs(Ie.div,{className:`thumbnail ${k===r?"active":""}`,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(k),children:[d.jsx("img",{src:a(S.image_url),alt:`Miniature planche ${k+1}`}),d.jsxs("div",{className:"thumbnail-label",children:["Planche ",k+1]})]},k))})]})]})})})};async function yp(e={}){let t={};e instanceof Headers?t=Object.fromEntries(e.entries()):t={...e};const{data:{session:n}}=await pt.auth.getSession();return n!=null&&n.access_token&&(t.Authorization=t.Authorization||`Bearer ${n.access_token}`),t}async function Gn(e,t={}){const{headers:n,...r}=t;let i=n||{};return i=await yp(i),fetch(e,{...r,headers:i})}const aF=async(e,t,n,r={})=>{try{const{data:i,error:s}=await pt.from("profiles").select("role").eq("id",t).single();if((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="free")return{hasPermission:!0,reason:(i==null?void 0:i.role)==="admin"?"admin_access":"free_access",userRole:i==null?void 0:i.role,isAdmin:(i==null?void 0:i.role)==="admin"};const{data:o,error:a}=await pt.functions.invoke("check-permission",{body:{contentType:e,userId:t,userEmail:n,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice}});return a?(console.error("Erreur check-permission:",a),{hasPermission:!1,reason:"error",error:a,isAdmin:!1}):{...o,isAdmin:!1}}catch(i){return{hasPermission:!1,reason:"error",error:i,isAdmin:!1}}},lF=async(e,t,n,r={})=>{try{const s=md(e==="audio"?"histoire":e,r),{data:o,error:a}=await pt.functions.invoke("create-payment",{body:{contentType:e,userId:t,userEmail:n,amount:s.amount,selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice}});if(a)throw a;return o}catch(i){throw i}},md=(e,t={})=>{const n={comptine:{amount:60,name:"Comptine Musicale",currency:"EUR",display:"0,60"},histoire:{amount:50,name:"Histoire",currency:"EUR",display:"0,50"},audio:{amount:50,name:"Histoire",currency:"EUR",display:"0,50"},coloriage:{amount:60,name:"Coloriage Personnalis",currency:"EUR",display:"0,60"},coloring:{amount:60,name:"Coloriage personnalis",currency:"EUR",display:"0,60"},bd:{amount:60,name:"Page de Bande Dessine",currency:"EUR",display:"0,60"},comic:{amount:60,name:"Page de Bande Dessine",currency:"EUR",display:"0,60"},story:{amount:50,name:"Histoire",currency:"EUR",display:"0,50"},rhyme:{amount:60,name:"Comptine musicale",currency:"EUR",display:"0,60"},animation:{amount:599,name:"Animation IA 30s",currency:"EUR",display:"5,99"}};if(e==="histoire"||e==="story"||e==="audio")return{amount:50,name:"Histoire",currency:"EUR",display:"0,50"};if(e==="animation"&&t.duration){const r={30:{amount:599,name:"Animation IA 30s",display:"5,99"},60:{amount:999,name:"Animation IA 1min",display:"9,99"},120:{amount:1899,name:"Animation IA 2min",display:"18,99"},180:{amount:2799,name:"Animation IA 3min",display:"27,99"},240:{amount:3699,name:"Animation IA 4min",display:"36,99"},300:{amount:4699,name:"Animation IA 5min",display:"46,99"}},i=t.duration;if(r[i])return{...n[e],...r[i],currency:"EUR"}}if((e==="bd"||e==="comic")&&t.pages){const i=n[e].amount*t.pages,s=(i/100).toFixed(2).replace(".",",")+"";return{...n[e],amount:i,name:`${t.pages} page${t.pages>1?"s":""} de Bande Dessine`,display:s}}return n[e]||{amount:149,name:"Contenu Cratif",currency:"EUR",display:"1,49"}},E4=async(e,t)=>{try{if(t==="fredagathe77@gmail.com")return!0;const{data:n,error:r}=await pt.from("profiles").select("role").eq("id",e).single();return r?!1:(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="free"}catch{return!1}},cF=async e=>{try{const{data:t,error:n}=await pt.from("profiles").select("role").eq("id",e).single();return(t==null?void 0:t.role)||"user"}catch{return"user"}},uF=async(e,t,n,r)=>{try{const{data:i,error:s}=await pt.from("generation_permissions").upsert({user_id:e,content_type:t,stripe_payment_intent_id:n,amount:r,status:"completed",created_at:new Date().toISOString()});if(s)throw s;return i}catch(i){throw i}},L4=async()=>{try{const{data:e,error:t}=await pt.functions.invoke("manage-subscription",{body:{action:"get_plans"}});if(t)throw t;return e.plans||[]}catch(e){return console.error("Erreur rcupration plans:",e),[]}},T4=async e=>{try{const{data:t,error:n}=await pt.functions.invoke("manage-subscription",{body:{action:"get_subscription",userId:e}});if(n)throw n;return t.subscription}catch(t){return console.error("Erreur rcupration abonnement:",t),null}},F4=async(e,t,n,r)=>{try{const{data:i,error:s}=await pt.functions.invoke("manage-subscription",{body:{action:"create_subscription",planId:e,userId:t,paymentMethodId:n,userEmail:r}});if(s)throw s;return i}catch(i){throw console.error("Erreur cration abonnement:",i),i}},I4=async e=>{try{const{data:t,error:n}=await pt.functions.invoke("manage-subscription",{body:{action:"cancel_subscription",userId:e}});if(n)throw n;return t}catch(t){throw console.error("Erreur annulation abonnement:",t),t}},R4=async e=>{try{const{data:t,error:n}=await pt.functions.invoke("manage-subscription",{body:{action:"confirm_subscription",stripeSubscriptionId:e}});if(n)throw n;return t}catch(t){throw console.error("Erreur confirmation abonnement:",t),t}},dF=async(e,t,n,r={})=>{try{if(!e||!t||n===void 0||n===null||n<=0)return{success:!0,type:"no_deduction",message:"Aucun token  dduire",silent:!0};const i={userId:e,contentType:t,tokensUsed:Number(n),selectedDuration:r.duration,numPages:r.pages,selectedVoice:r.voice,transactionId:r.transactionId||`txn_${Date.now()}`},{data:s,error:o}=await pt.functions.invoke("deduct-tokens",{body:i});return o?{success:!1,error:o.message||"Erreur dduction tokens",silent:!0}:s}catch(i){return{success:!1,error:i.message||"Erreur dduction tokens",silent:!0}}},hF=async e=>{try{const{data:t,error:n}=await pt.from("user_tokens").select("*").eq("user_id",e).is("used_at",null).or("expires_at.is.null,expires_at.gte."+new Date().toISOString()).order("created_at",{ascending:!1});if(n)throw n;return{totalTokens:t.reduce((i,s)=>i+s.tokens_amount,0),tokens:t}}catch(t){return console.error("Erreur rcupration tokens:",t),{totalTokens:0,tokens:[]}}},fF=(e,t={},n=null)=>{let r=4;if(e==="histoire"||e==="story"||e==="audio")r=4;else if(e==="coloriage")r=13;else if(e==="bd"||e==="comic")r=13,t.pages&&t.pages>0&&(r=r*t.pages);else if(e==="comptine"||e==="rhyme")r=15;else if(e==="animation"){const o=.14*(t.duration||30);r=Math.ceil(o*100)}return r},pF=async(e,t=50)=>{try{const{data:n,error:r}=await pt.from("user_tokens").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return n||[]}catch(n){return console.error("Erreur rcupration historique tokens:",n),[]}},mF=Object.freeze(Object.defineProperty({__proto__:null,calculateTokenCost:fF,cancelSubscription:I4,checkPaymentPermission:aF,confirmSubscription:R4,createPaymentSession:lF,createSubscription:F4,deductTokens:dF,getContentPrice:md,getSubscriptionPlans:L4,getTokenHistory:pF,getUserRole:cF,getUserSubscription:T4,getUserTokens:hF,grantPermission:uF,hasFreeAccess:E4},Symbol.toStringTag,{value:"Module"}));var O4="clover",gF=function(t){return t===3?"v3":t},D4="https://js.stripe.com",vF="".concat(D4,"/").concat(O4,"/stripe.js"),yF=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,wF=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Sw="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",xF=function(t){return yF.test(t)||wF.test(t)},bF=function(){for(var t=document.querySelectorAll('script[src^="'.concat(D4,'"]')),n=0;n<t.length;n++){var r=t[n];if(xF(r.src))return r}return null},_w=function(t){var n=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(vF).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},SF=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.0.0",startTime:n})},ru=null,Ah=null,Ch=null,_F=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},jF=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},kF=function(t){return ru!==null?ru:(ru=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(Sw),window.Stripe){n(window.Stripe);return}try{var i=bF();if(i&&t)console.warn(Sw);else if(!i)i=_w(t);else if(i&&Ch!==null&&Ah!==null){var s;i.removeEventListener("load",Ch),i.removeEventListener("error",Ah),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=_w(t)}Ch=jF(n,r),Ah=_F(r),i.addEventListener("load",Ch),i.addEventListener("error",Ah)}catch(o){r(o);return}}),ru.catch(function(n){return ru=null,Promise.reject(n)}))},NF=function(t,n,r){if(t===null)return null;var i=n[0],s=i.match(/^pk_test/),o=gF(t.version),a=O4;s&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.0.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,n);return SF(l,r),l},iu,M4=!1,B4=function(){return iu||(iu=kF(null).catch(function(t){return iu=null,Promise.reject(t)}),iu)};Promise.resolve().then(function(){return B4()}).catch(function(e){M4||console.warn(e)});var U4=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];M4=!0;var i=Date.now();return B4().then(function(s){return NF(s,n,i)})},z4={exports:{}},AF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CF=AF,PF=CF;function $4(){}function q4(){}q4.resetWarningCache=$4;var EF=function(){function e(r,i,s,o,a,l){if(l!==PF){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:q4,resetWarningCache:$4};return n.PropTypes=n,n};z4.exports=EF();var LF=z4.exports;const qt=Mg(LF);function jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(n),!0).forEach(function(r){V4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qh=function(t){return typeof t}:Qh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function V4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TF(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function FF(e,t){if(e==null)return{};var n=TF(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function W4(e,t){return IF(e)||RF(e,t)||OF(e,t)||DF()}function IF(e){if(Array.isArray(e))return e}function RF(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function OF(e,t){if(e){if(typeof e=="string")return Nw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(e,t)}}function Nw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wr=function(t,n,r){var i=!!r,s=zt.useRef(r);zt.useEffect(function(){s.current=r},[r]),zt.useEffect(function(){if(!i||!t)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return t.on(n,o),function(){t.off(n,o)}},[i,n,t,s])},Og=function(t){var n=zt.useRef(t);return zt.useEffect(function(){n.current=t},[t]),n.current},sc=function(t){return t!==null&&Qh(t)==="object"},MF=function(t){return sc(t)&&typeof t.then=="function"},BF=function(t){return sc(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Aw="[object Object]",UF=function e(t,n){if(!sc(t)||!sc(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(t)===Aw,o=Object.prototype.toString.call(n)===Aw;if(s!==o)return!1;if(!s&&!r)return t===n;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(var c={},h=0;h<a.length;h+=1)c[a[h]]=!0;for(var f=0;f<l.length;f+=1)c[l[f]]=!0;var m=Object.keys(c);if(m.length!==a.length)return!1;var g=t,b=n,S=function(y){return e(g[y],b[y])};return m.every(S)},H4=function(t,n,r){return sc(t)?Object.keys(t).reduce(function(i,s){var o=!sc(n)||!UF(t[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?kw(kw({},i||{}),{},V4({},s,t[s])):i},null):null},G4="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Cw=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G4;if(t===null||BF(t))return t;throw new Error(n)},zF=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G4;if(MF(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return Cw(i,n)})};var r=Cw(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},$F=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.0.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.0.0",url:"https://stripe.com/docs/stripe-js/react"}))},wp=zt.createContext(null);wp.displayName="ElementsContext";var K4=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},Ev=function(t){var n=t.stripe,r=t.options,i=t.children,s=zt.useMemo(function(){return zF(n)},[n]),o=zt.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=W4(o,2),l=a[0],c=a[1];zt.useEffect(function(){var m=!0,g=function(S){c(function(k){return k.stripe?k:{stripe:S,elements:S.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(b){b&&m&&g(b)}):s.tag==="sync"&&!l.stripe&&g(s.stripe),function(){m=!1}},[s,l,r]);var h=Og(n);zt.useEffect(function(){h!==null&&h!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,n]);var f=Og(r);return zt.useEffect(function(){if(l.elements){var m=H4(r,f,["clientSecret","fonts"]);m&&l.elements.update(m)}},[r,f,l.elements]),zt.useEffect(function(){$F(l.stripe)},[l.stripe]),zt.createElement(wp.Provider,{value:l},i)};Ev.propTypes={stripe:qt.any,options:qt.object};var qF=function(t){var n=zt.useContext(wp);return K4(n,t)},J4=function(){var t=qF("calls useElements()"),n=t.elements;return n};qt.func.isRequired;var Y4=zt.createContext(null);Y4.displayName="CheckoutContext";qt.any,qt.shape({clientSecret:qt.oneOfType([qt.string,qt.instanceOf(Promise)]).isRequired,elementsOptions:qt.object}).isRequired;var Dg=function(t){var n=zt.useContext(Y4),r=zt.useContext(wp);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return K4(r,t)},VF=["mode"],WF=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Br=function(t,n){var r="".concat(WF(t),"Element"),i=function(l){var c=l.id,h=l.className,f=l.options,m=f===void 0?{}:f,g=l.onBlur,b=l.onFocus,S=l.onReady,k=l.onChange,y=l.onEscape,x=l.onClick,_=l.onLoadError,E=l.onLoaderStart,O=l.onNetworksChange,M=l.onConfirm,B=l.onCancel,L=l.onShippingAddressChange,V=l.onShippingRateChange,H=l.onSavedPaymentMethodRemove,R=l.onSavedPaymentMethodUpdate,P=Dg("mounts <".concat(r,">")),J="elements"in P?P.elements:null,W="checkoutState"in P?P.checkoutState:null,ue=(W==null?void 0:W.type)==="success"||(W==null?void 0:W.type)==="loading"?W.sdk:null,le=zt.useState(null),ae=W4(le,2),K=ae[0],ee=ae[1],Q=zt.useRef(null),me=zt.useRef(null);wr(K,"blur",g),wr(K,"focus",b),wr(K,"escape",y),wr(K,"click",x),wr(K,"loaderror",_),wr(K,"loaderstart",E),wr(K,"networkschange",O),wr(K,"confirm",M),wr(K,"cancel",B),wr(K,"shippingaddresschange",L),wr(K,"shippingratechange",V),wr(K,"savedpaymentmethodremove",H),wr(K,"savedpaymentmethodupdate",R),wr(K,"change",k);var N;S&&(t==="expressCheckout"?N=S:N=function(){S(K)}),wr(K,"ready",N),zt.useLayoutEffect(function(){if(Q.current===null&&me.current!==null&&(J||ue)){var $=null;if(ue)switch(t){case"payment":$=ue.createPaymentElement(m);break;case"address":if("mode"in m){var Y=m.mode,Z=FF(m,VF);if(Y==="shipping")$=ue.createShippingAddressElement(Z);else if(Y==="billing")$=ue.createBillingAddressElement(Z);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":$=ue.createExpressCheckoutElement(m);break;case"currencySelector":$=ue.createCurrencySelectorElement();break;case"taxId":$=ue.createTaxIdElement(m);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else J&&($=J.create(t,m));Q.current=$,ee($),$&&$.mount(me.current)}},[J,ue,m]);var z=Og(m);return zt.useEffect(function(){if(Q.current){var $=H4(m,z,["paymentRequest"]);$&&"update"in Q.current&&Q.current.update($)}},[m,z]),zt.useLayoutEffect(function(){return function(){if(Q.current&&typeof Q.current.destroy=="function")try{Q.current.destroy(),Q.current=null}catch{}}},[]),zt.createElement("div",{id:c,className:h,ref:me})},s=function(l){Dg("mounts <".concat(r,">"));var c=l.id,h=l.className;return zt.createElement("div",{id:c,className:h})},o=n?s:i;return o.propTypes={id:qt.string,className:qt.string,onChange:qt.func,onBlur:qt.func,onFocus:qt.func,onReady:qt.func,onEscape:qt.func,onClick:qt.func,onLoadError:qt.func,onLoaderStart:qt.func,onNetworksChange:qt.func,onConfirm:qt.func,onCancel:qt.func,onShippingAddressChange:qt.func,onShippingRateChange:qt.func,onSavedPaymentMethodRemove:qt.func,onSavedPaymentMethodUpdate:qt.func,options:qt.object},o.displayName=r,o.__elementType=t,o},Ur=typeof window>"u",HF=zt.createContext(null);HF.displayName="EmbeddedCheckoutProviderContext";var X4=function(){var t=Dg("calls useStripe()"),n=t.stripe;return n};Br("auBankAccount",Ur);Br("card",Ur);var Df=Br("cardNumber",Ur),Q4=Br("cardExpiry",Ur),Z4=Br("cardCvc",Ur);Br("iban",Ur);Br("payment",Ur);Br("expressCheckout",Ur);Br("paymentRequestButton",Ur);Br("linkAuthentication",Ur);Br("address",Ur);Br("shippingAddress",Ur);Br("paymentMethodMessaging",Ur);Br("taxId",Ur);const GF="pk_live_51S9nbM2KIKbs2fxdAx3GkjvMFW540T4gDimo0fz30ZYXcXwJd4tYv6xdF0MD0yyYxmf3MwckzJoCuniCFHjYlXYg00ZrKRqzqt",KF=U4(GF,{betas:[],locale:"fr"}),e0={style:{base:{color:"#333",fontFamily:'"Baloo 2", sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#b8b5d1"}},invalid:{color:"#d32f2f",iconColor:"#d32f2f"},complete:{color:"#6B4EFF",iconColor:"#6B4EFF"}}},JF=({onClose:e,onSuccess:t,contentType:n,options:r,showCheckbox:i,onOpenCGV:s})=>{const o=X4(),a=J4(),[l,c]=T.useState(!1),[h,f]=T.useState(""),[m,g]=T.useState(""),[b,S]=T.useState(!1);T.useState(!1);const k=n==="audio"?"histoire":n,y=md(k,r),x=async M=>{if(M.preventDefault(),!o||!a){f("Stripe n'est pas encore charg. Veuillez ressayer.");return}if(!m.trim()){f("Veuillez entrer le nom du titulaire de la carte");return}if(i&&!b){f("Veuillez accepter les Conditions Gnrales de Vente");return}const B=a.getElement(Df);if(!B){f("Impossible de charger le formulaire de paiement.");return}c(!0),f("");try{const{data:{user:L}}=await pt.auth.getUser(),{data:V,error:H}=await pt.functions.invoke("create-payment",{body:{amount:y.amount,currency:y.currency,contentType:k,description:y.name,userId:(L==null?void 0:L.id)||"anonymous",userEmail:(L==null?void 0:L.email)||"anonymous@guest.com"}});if(H){console.error("Erreur Edge Function:",H);try{const J=JSON.parse(H.message);if(J&&J.error)throw new Error(J.error)}catch{}throw new Error(H.message||"Erreur lors de la cration du paiement")}if(V&&V.error)throw console.error("Erreur logique create-payment:",V),new Error(V.error);if(!V||!V.clientSecret)throw console.error("Rponse create-payment invalide:",V),new Error("Impossible de crer le paiement (rponse invalide)");const{error:R,paymentIntent:P}=await o.confirmCardPayment(V.clientSecret,{payment_method:{card:B,billing_details:{name:m,email:(L==null?void 0:L.email)||"anonymous@guest.com"}}});if(R)throw new Error(R.message||"Le paiement a chou");if(P&&P.status==="succeeded")t();else throw new Error("Le paiement n'a pas t confirm")}catch(L){console.error("Erreur de paiement:",L),f(L.message||"Une erreur est survenue lors du paiement")}finally{c(!1)}},_={width:"100%",padding:"12px 14px",fontSize:"15px",border:"1px solid #e0e0e0",borderRadius:"8px",fontFamily:'"Baloo 2", sans-serif',boxSizing:"border-box",outline:"none",transition:"border-color 0.2s ease",backgroundColor:"white"},E={display:"block",marginBottom:"5px",fontSize:"13px",fontWeight:"500",color:"#666",fontFamily:'"Baloo 2", sans-serif'},O={padding:"12px 14px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"white",transition:"border-color 0.2s ease"};return d.jsxs("form",{onSubmit:x,children:[d.jsxs("div",{style:{marginBottom:"14px"},children:[d.jsx("label",{style:E,children:"Nom du titulaire"}),d.jsx("input",{type:"text",value:m,onChange:M=>g(M.target.value),placeholder:"Jean Dupont",required:!0,style:_,onFocus:M=>{M.target.style.borderColor="#6B4EFF"},onBlur:M=>{M.target.style.borderColor="#e0e0e0"}})]}),d.jsxs("div",{style:{marginBottom:"14px"},children:[d.jsx("label",{style:E,children:"Numro de carte"}),d.jsx("div",{style:O,className:"stripe-card-element",children:d.jsx(Df,{options:e0})})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[d.jsxs("div",{children:[d.jsx("label",{style:E,children:"Date d'expiration"}),d.jsx("div",{style:O,className:"stripe-card-element",children:d.jsx(Q4,{options:e0})})]}),d.jsxs("div",{children:[d.jsx("label",{style:E,children:"CVC"}),d.jsx("div",{style:O,className:"stripe-card-element",children:d.jsx(Z4,{options:e0})})]})]}),h&&d.jsx("div",{style:{padding:"12px",backgroundColor:"#fff5f5",color:"#e53e3e",borderRadius:"6px",marginBottom:"14px",fontSize:"14px",border:"1px solid #feb2b2",fontFamily:'"Baloo 2", sans-serif'},children:h}),i&&d.jsxs("div",{style:{marginTop:"0px",marginBottom:"6px",display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx("input",{type:"checkbox",id:"accept-cgv-payment",checked:b,onChange:M=>S(M.target.checked),style:{cursor:"pointer",width:"14px",height:"14px",accentColor:"#6B4EFF",flexShrink:0}}),d.jsxs("label",{htmlFor:"accept-cgv-payment",style:{fontSize:"12px",color:"#333",fontFamily:'"Baloo 2", sans-serif',cursor:"pointer",lineHeight:"1.4",flex:1},children:["J'ai lu et j'accepte les"," ",d.jsx("a",{href:"#",onClick:M=>{M.preventDefault(),s&&s("terms")},style:{color:"#6B4EFF",textDecoration:"underline",cursor:"pointer"},children:"CGV"})," ","et l'accs immdiat au service."]})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"0"},children:[d.jsx("button",{type:"button",onClick:e,disabled:l,style:{flex:1,padding:"12px 20px",fontSize:"15px",fontWeight:"500",borderRadius:"8px",border:"1px solid #d0d0d0",backgroundColor:"white",color:"#666",cursor:l?"not-allowed":"pointer",opacity:l?.5:1,fontFamily:'"Baloo 2", sans-serif',transition:"background-color 0.2s ease"},onMouseEnter:M=>{l||(M.target.style.backgroundColor="#f9f9f9")},onMouseLeave:M=>{M.target.style.backgroundColor="white"},children:"Annuler"}),d.jsx("button",{type:"submit",disabled:!o||l||i&&!b||!m.trim(),style:{flex:1,padding:"12px 20px",fontSize:"15px",fontWeight:"500",borderRadius:"8px",border:"none",backgroundColor:"#6B4EFF",color:"white",cursor:!o||l||i&&!b||!m.trim()?"not-allowed":"pointer",opacity:!o||l||i&&!b||!m.trim()?.6:1,fontFamily:'"Baloo 2", sans-serif',transition:"background-color 0.2s ease"},onMouseEnter:M=>{o&&!l&&(!i||b)&&m.trim()&&(M.target.style.backgroundColor="#5a3eef")},onMouseLeave:M=>{M.target.style.backgroundColor="#6B4EFF"},children:l?"Traitement...":`Payer ${y.display}`})]})]})},YF=({isOpen:e,onClose:t,onSuccess:n,contentType:r,options:i={},onOpenCGV:s})=>{if(!e)return null;const a=md(r==="audio"?"histoire":r,i),[l,c]=T.useState(!1),[h,f]=T.useState(null);T.useEffect(()=>{e&&(async()=>{try{const{data:{user:S}}=await pt.auth.getUser();if(!S){c(!0);return}const{data:k,error:y}=await pt.from("profiles").select("role").eq("id",S.id).single();if(y||!k){c(!0);return}c(k.role!=="admin"&&k.role!=="free"),f(k.role)}catch(S){console.error("Erreur vrification rle:",S),c(!0)}})()},[e]);const m=b=>{b.target===b.currentTarget&&t()},g=d.jsx("div",{onClick:m,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999999,padding:"20px",fontFamily:'"Baloo 2", sans-serif'},children:d.jsx("div",{onClick:b=>b.stopPropagation(),style:{backgroundColor:"white",borderRadius:"16px",maxWidth:"500px",width:"100%",boxShadow:"0 25px 50px rgba(107, 78, 255, 0.25), 0 10px 20px rgba(0, 0, 0, 0.1)",position:"relative",maxHeight:"90vh",overflowY:"auto",isolation:"isolate",border:"3px solid #6B4EFF"},children:d.jsxs("div",{style:{padding:"32px"},children:[d.jsx("button",{onClick:t,style:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"28px",cursor:"pointer",color:"#999",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",lineHeight:"1",zIndex:10},"aria-label":"Fermer",children:""}),d.jsx("h2",{style:{margin:"0 0 12px 0",fontSize:"24px",fontWeight:"600",color:"#333",fontFamily:'"Baloo 2", sans-serif',textAlign:"center"},children:"Paiement scuris"}),d.jsxs("div",{style:{margin:"0 0 20px 0",padding:"12px 16px",backgroundColor:"#f8f7ff",borderRadius:"12px",border:"2px solid #6B4EFF",textAlign:"center",fontFamily:'"Baloo 2", sans-serif'},children:[d.jsx("div",{style:{fontSize:"14px",color:"#666",marginBottom:"2px"},children:a.name}),d.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#6B4EFF"},children:a.display})]}),d.jsx(Ev,{stripe:KF,children:d.jsx(JF,{onClose:t,onSuccess:n,contentType:r,options:i,showCheckbox:l,onOpenCGV:s})}),d.jsx("div",{style:{marginTop:"12px",textAlign:"right",fontSize:"11px",color:"#999",fontFamily:'"Baloo 2", sans-serif'},children:" Paiement scuris par Stripe"})]})})});return qb.createPortal(g,document.body)};const XF=107>0?U4("pk_live_51S9nbM2KIKbs2fxdAx3GkjvMFW540T4gDimo0fz30ZYXcXwJd4tYv6xdF0MD0yyYxmf3MwckzJoCuniCFHjYlXYg00ZrKRqzqt",{betas:[],locale:"fr"}):Promise.resolve(null),QF=({onSelectPlan:e,currentSubscription:t})=>{const[n,r]=T.useState([]),[i,s]=T.useState(!0);T.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await L4();r(c)}catch(c){console.error("Erreur chargement plans:",c)}finally{s(!1)}},a=c=>{const h={histoire:29,coloring:69,comic:69,rhyme:69,animation30:599,animation60:999,animation120:1899,animation180:2799,animation240:3699,animation300:4699},f={histoire:4,coloring:16,comic:16,rhyme:15,animation30:420,animation60:840,animation120:1680,animation180:2520,animation240:3360,animation300:4200},g={Dcouverte:{price:499,totalTokens:250},Famille:{price:999,totalTokens:500},Cratif:{price:1999,totalTokens:1e3},Institut:{price:4999,totalTokens:2500}}[c];if(!g)return{};const b={histoire:Math.floor(g.totalTokens/f.histoire),coloring:Math.floor(g.totalTokens/f.coloring),comic:Math.floor(g.totalTokens/f.comic),rhyme:Math.floor(g.totalTokens/f.rhyme),animation30:Math.floor(g.totalTokens/f.animation30),animation60:Math.floor(g.totalTokens/f.animation60),animation120:Math.floor(g.totalTokens/f.animation120),animation180:Math.floor(g.totalTokens/f.animation180),animation240:Math.floor(g.totalTokens/f.animation240),animation300:Math.floor(g.totalTokens/f.animation300)},S=b.histoire*h.histoire+b.coloring*h.coloring+b.comic*h.comic+b.rhyme*h.rhyme+b.animation30*h.animation30+b.animation60*h.animation60+b.animation120*h.animation120+b.animation180*h.animation180+b.animation240*h.animation240+b.animation300*h.animation300,k=Math.round((S-g.price)/S*100),y=[`${g.totalTokens} tokens par mois pour crer librement`],x={Dcouverte:["40 histoires + 5 coloriages","30 histoires + 3 coloriages + 5 comptines"],Famille:["80 histoires + 10 coloriages","1 animation 30s + 20 histoires"],Cratif:["150 histoires + 20 coloriages","2 animations 30s + 40 histoires"],Institut:["300 histoires + 50 coloriages","5 animations 30s + 100 histoires","1 animation 2min + 150 histoires"]};return x[c]&&x[c].forEach(E=>{y.push(` ${E}`)}),{Dcouverte:{features:y,ideal:"Parfait pour dcouvrir Herbbie",economy:`conomisez ${k}%`},Famille:{features:y,ideal:"Pour les familles actives",economy:`conomisez ${k}%`},Cratif:{features:y,ideal:"Pour les crateurs intensifs",economy:`conomisez ${k}%`},Institut:{features:y,ideal:"Pour les coles et institutions",economy:`conomisez ${k}%`}}[c]||{}};if(i)return d.jsx("div",{className:"subscription-modal-loading",children:d.jsx("div",{className:"subscription-modal-spinner"})});const l=!!t;return d.jsx("div",{className:`subscription-plans-grid ${l?"has-active-subscription":""}`,children:n.map(c=>{var m,g;const h=a(c.name),f=((m=t==null?void 0:t.subscription_plans)==null?void 0:m.name)===c.name;return d.jsxs("div",{className:`subscription-plan-card ${f?"active":""} ${l?"compact":""}`,children:[d.jsx("div",{className:"plan-name",children:c.name}),d.jsxs("div",{className:"plan-price",children:[(c.price_monthly/100).toFixed(2).replace(".",","),""]}),d.jsx("div",{className:"plan-price-period",children:"par mois"}),d.jsx("ul",{className:"plan-features",children:(g=h.features)==null?void 0:g.map((b,S)=>d.jsx("li",{children:b},S))}),d.jsx("div",{className:"plan-ideal",children:h.ideal}),!f&&d.jsx("button",{onClick:()=>e(c),className:"plan-button primary",children:"Choisir ce plan"}),f&&d.jsx("button",{className:"plan-button secondary",disabled:!0,children:"Plan actif"})]},c.id)})})},t0={style:{base:{color:"#333",fontFamily:'"Baloo 2", sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#b8b5d1"}},invalid:{color:"#d32f2f",iconColor:"#d32f2f"},complete:{color:"#6B4EFF",iconColor:"#6B4EFF"}}},ZF=({selectedPlan:e,onSuccess:t,onCancel:n,userId:r,userEmail:i,showCheckbox:s,onOpenCGV:o})=>{const a=X4(),l=J4(),[c,h]=T.useState(!1),[f,m]=T.useState(""),[g,b]=T.useState(null),[S,k]=T.useState(!1),y=async O=>{if(O.preventDefault(),!a||!l){b("Stripe n'est pas encore charg. Veuillez ressayer.");return}if(!f.trim()){b("Veuillez entrer le nom du titulaire de la carte");return}if(s&&!S){b("Veuillez accepter les Conditions Gnrales de Vente");return}const M=l.getElement(Df);if(!M){b("Impossible de charger le formulaire de paiement.");return}h(!0),b(null);try{const{error:B,paymentMethod:L}=await a.createPaymentMethod({type:"card",card:M,billing_details:{name:f.trim(),email:i}});if(B){b(B.message);return}const V=await F4(e.id,r,L.id,i);if(V.success){if(V.clientSecret){const{error:H}=await a.confirmCardPayment(V.clientSecret);if(H){b(H.message);return}try{await R4(V.stripeSubscription.id)}catch(R){console.error("Erreur confirmation abonnement:",R)}}t()}else b(V.error||"Erreur lors de la cration de l'abonnement")}catch(B){console.error("Erreur abonnement:",B),b("Erreur lors de la cration de l'abonnement")}finally{h(!1)}},x={width:"100%",padding:"12px 14px",fontSize:"15px",border:"1px solid #e0e0e0",borderRadius:"8px",fontFamily:'"Baloo 2", sans-serif',boxSizing:"border-box",outline:"none",transition:"border-color 0.2s ease",backgroundColor:"white"},_={display:"block",marginBottom:"5px",fontSize:"13px",fontWeight:"500",color:"#666",fontFamily:'"Baloo 2", sans-serif'},E={padding:"12px 14px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"white",transition:"border-color 0.2s ease"};return d.jsxs("form",{onSubmit:y,children:[d.jsxs("div",{style:{margin:"0 0 20px 0",padding:"12px 16px",backgroundColor:"#f8f7ff",borderRadius:"12px",border:"2px solid #6B4EFF",textAlign:"center",fontFamily:'"Baloo 2", sans-serif'},children:[d.jsxs("div",{style:{fontSize:"14px",color:"#666",marginBottom:"2px"},children:["S'abonner  ",e.name]}),d.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#6B4EFF"},children:[(e.price_monthly/100).toFixed(2).replace(".",","),"/mois"]}),d.jsx("div",{style:{fontSize:"12px",color:"#888",marginTop:"4px"},children:"Factur mensuellement  Annulable  tout moment"})]}),d.jsxs("div",{style:{marginBottom:"14px"},children:[d.jsx("label",{style:_,children:"Nom du titulaire de la carte"}),d.jsx("input",{type:"text",value:f,onChange:O=>m(O.target.value),placeholder:"Jean Dupont",required:!0,style:x,onFocus:O=>{O.target.style.borderColor="#6B4EFF"},onBlur:O=>{O.target.style.borderColor="#e0e0e0"}})]}),d.jsxs("div",{style:{marginBottom:"14px"},children:[d.jsx("label",{style:_,children:"Numro de carte"}),d.jsx("div",{style:E,className:"stripe-card-element",children:d.jsx(Df,{options:t0})})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[d.jsxs("div",{children:[d.jsx("label",{style:_,children:"Date d'expiration"}),d.jsx("div",{style:E,className:"stripe-card-element",children:d.jsx(Q4,{options:t0})})]}),d.jsxs("div",{children:[d.jsx("label",{style:_,children:"CVC"}),d.jsx("div",{style:E,className:"stripe-card-element",children:d.jsx(Z4,{options:t0})})]})]}),g&&d.jsx("div",{style:{padding:"12px",backgroundColor:"#fff5f5",color:"#e53e3e",borderRadius:"6px",marginBottom:"14px",fontSize:"14px",border:"1px solid #feb2b2",fontFamily:'"Baloo 2", sans-serif'},children:g}),s&&d.jsxs("div",{style:{marginTop:"0px",marginBottom:"6px",display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx("input",{type:"checkbox",id:"accept-cgv-subscription",checked:S,onChange:O=>k(O.target.checked),style:{cursor:"pointer",width:"14px",height:"14px",accentColor:"#6B4EFF",flexShrink:0}}),d.jsxs("label",{htmlFor:"accept-cgv-subscription",style:{fontSize:"12px",color:"#333",fontFamily:'"Baloo 2", sans-serif',cursor:"pointer",lineHeight:"1.4",flex:1},children:["J'ai lu et j'accepte les"," ",d.jsx("a",{href:"#",onClick:O=>{O.preventDefault(),o&&o("terms")},style:{color:"#6B4EFF",textDecoration:"underline",cursor:"pointer"},children:"CGV"})," ","et l'accs immdiat au service."]})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"0"},children:[d.jsx("button",{type:"button",onClick:n,disabled:c,style:{flex:1,padding:"12px 20px",fontSize:"15px",fontWeight:"500",borderRadius:"8px",border:"1px solid #d0d0d0",backgroundColor:"white",color:"#666",cursor:c?"not-allowed":"pointer",opacity:c?.5:1,fontFamily:'"Baloo 2", sans-serif',transition:"background-color 0.2s ease"},onMouseEnter:O=>{c||(O.target.style.backgroundColor="#f9f9f9")},onMouseLeave:O=>{O.target.style.backgroundColor="white"},children:"Annuler"}),d.jsx("button",{type:"submit",disabled:!a||c||s&&!S||!f.trim(),style:{flex:1,padding:"12px 20px",fontSize:"15px",fontWeight:"500",borderRadius:"8px",border:"none",backgroundColor:"#6B4EFF",color:"white",cursor:!a||c||s&&!S||!f.trim()?"not-allowed":"pointer",opacity:!a||c||s&&!S||!f.trim()?.6:1,fontFamily:'"Baloo 2", sans-serif',transition:"background-color 0.2s ease"},onMouseEnter:O=>{a&&!c&&(!s||S)&&f.trim()&&(O.target.style.backgroundColor="#5a3eef")},onMouseLeave:O=>{O.target.style.backgroundColor="#6B4EFF"},children:c?"Traitement...":`S'abonner pour ${(e.price_monthly/100).toFixed(2).replace(".",",")}/mois`})]}),d.jsx("div",{style:{marginTop:"12px",marginBottom:"20px",textAlign:"center",fontSize:"11px",color:"#999",fontFamily:'"Baloo 2", sans-serif'},children:" Vos informations de paiement sont scurises et cryptes. Vous pouvez annuler votre abonnement  tout moment."})]})},eI=({subscription:e,onCancel:t,onClose:n})=>{const[r,i]=T.useState(!1),s=async()=>{if(confirm("tes-vous sr de vouloir annuler votre abonnement ? Il restera actif jusqu' la fin de la priode en cours.")){i(!0);try{await I4(e.user_id),alert("Votre abonnement a t annul. Il restera actif jusqu' la fin de la priode en cours."),t()}catch(a){console.error("Erreur annulation:",a),alert("Erreur lors de l'annulation de l'abonnement")}finally{i(!1)}}},o=a=>new Date(a).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",fontFamily:'"Baloo 2", sans-serif'},children:[d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("h3",{style:{fontSize:"24px",fontWeight:"700",color:"#1a1a1a",marginBottom:"8px"},children:"Gestion de l'abonnement"}),d.jsxs("div",{style:{backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"12px",padding:"12px"},children:[d.jsxs("div",{style:{color:"#166534",fontWeight:"500",fontSize:"15px"},children:["Plan ",e.subscription_plans.name," actif"]}),d.jsxs("div",{style:{color:"#16a34a",fontSize:"13px",marginTop:"6px"},children:["Prochaine facturation: ",o(e.current_period_end)]})]})]}),d.jsxs("div",{style:{backgroundColor:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"12px",padding:"12px"},children:[d.jsxs("div",{style:{color:"#1e40af",fontWeight:"500",fontSize:"15px"},children:["Tokens disponibles: ",e.tokens_remaining]}),d.jsxs("div",{style:{color:"#2563eb",fontSize:"13px",marginTop:"6px"},children:["Tokens utiliss ce mois: ",e.tokens_used_this_month||0]})]}),d.jsxs("div",{style:{backgroundColor:"#f9fafb",borderRadius:"12px",padding:"12px"},children:[d.jsx("h4",{style:{fontWeight:"500",color:"#1a1a1a",marginBottom:"10px",fontSize:"15px"},children:"Dtails de l'abonnement"}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",fontSize:"13px",color:"#6b7280"},children:[d.jsxs("div",{children:["Prix: ",(e.subscription_plans.price_monthly/100).toFixed(2).replace(".",","),"/mois"]}),d.jsxs("div",{children:["Dbut de priode: ",o(e.current_period_start)]}),d.jsxs("div",{children:["Fin de priode: ",o(e.current_period_end)]}),d.jsxs("div",{children:["Status: ",e.status==="active"?"Actif":e.status]})]})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"0px"},children:[d.jsx("button",{onClick:n,style:{flex:1,backgroundColor:"#e5e7eb",color:"#1f2937",padding:"10px 14px",borderRadius:"8px",fontWeight:"500",border:"none",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s"},onMouseEnter:a=>a.target.style.backgroundColor="#d1d5db",onMouseLeave:a=>a.target.style.backgroundColor="#e5e7eb",children:"Fermer"}),d.jsx("button",{onClick:s,disabled:r||e.cancel_at_period_end,style:{flex:1,backgroundColor:e.cancel_at_period_end?"#9ca3af":"#dc2626",color:"white",padding:"10px 14px",borderRadius:"8px",fontWeight:"500",border:"none",cursor:r||e.cancel_at_period_end?"not-allowed":"pointer",fontSize:"14px",opacity:r||e.cancel_at_period_end?.5:1,transition:"background-color 0.2s"},onMouseEnter:a=>{!r&&!e.cancel_at_period_end&&(a.target.style.backgroundColor="#b91c1c")},onMouseLeave:a=>{!r&&!e.cancel_at_period_end&&(a.target.style.backgroundColor="#dc2626")},children:r?"Annulation...":"Annuler l'abonnement"})]}),e.cancel_at_period_end&&d.jsx("div",{style:{backgroundColor:"#fff7ed",border:"1px solid #fed7aa",borderRadius:"12px",padding:"10px",marginTop:"0px",marginBottom:"14px"},children:d.jsxs("div",{style:{color:"#9a3412",fontSize:"13px"},children:[" Votre abonnement sera annul le ",o(e.current_period_end)]})})]})},tI=({isOpen:e,onClose:t,userId:n,userEmail:r,onOpenCGV:i})=>{const[s,o]=T.useState("plans"),[a,l]=T.useState(null),[c,h]=T.useState(null),[f,m]=T.useState(!0),[g,b]=T.useState(!1);T.useEffect(()=>{e&&n&&S()},[e,n]),T.useEffect(()=>{e&&(async()=>{if(!n){b(!0);return}try{const{data:V,error:H}=await pt.from("profiles").select("role").eq("id",n).single();if(H||!V){b(!0);return}b(V.role!=="admin"&&V.role!=="free")}catch(V){console.error("Erreur vrification rle:",V),b(!0)}})()},[e,n]);const S=async()=>{try{const L=await T4(n);h(L)}catch(L){console.error("Erreur chargement abonnement:",L)}finally{m(!1)}},k=L=>{l(L),o("payment")},y=()=>{o("plans"),l(null),S(),alert(" Flicitations ! Votre abonnement a t activ avec succs.")},x=()=>{o("plans"),l(null)},_=()=>{o("plans"),l(null),t()};if(!e)return null;const E=L=>{L.target===L.currentTarget&&_()},O=s==="payment",M=s==="management",B=d.jsx("div",{className:"subscription-modal-overlay",onClick:E,children:d.jsxs(Ie.div,{className:`subscription-modal-content ${O?"subscription-modal-payment":""} ${M?"subscription-modal-management":""}`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:L=>L.stopPropagation(),children:[d.jsxs("div",{className:"subscription-modal-header",children:[d.jsx("h2",{children:c?"Mon abonnement":"Choisir un abonnement"}),d.jsx("button",{onClick:_,className:"subscription-modal-close","aria-label":"Fermer",children:""})]}),f?d.jsx("div",{className:"subscription-modal-loading",children:d.jsx("div",{className:"subscription-modal-spinner"})}):d.jsxs(d.Fragment,{children:[s==="plans"&&d.jsx(QF,{onSelectPlan:k,currentSubscription:c}),s==="payment"&&a&&d.jsx(Ev,{stripe:XF,children:d.jsx(ZF,{selectedPlan:a,onSuccess:y,onCancel:x,userId:n,userEmail:r,showCheckbox:g,onOpenCGV:i})}),s==="management"&&c&&d.jsx(eI,{subscription:c,onCancel:S,onClose:_}),c&&s==="plans"&&d.jsx("div",{style:{marginTop:"1.2rem",paddingTop:"1rem",borderTop:"1px solid rgba(107, 78, 255, 0.12)",textAlign:"center"},children:d.jsx("button",{onClick:()=>o("management"),className:"plan-button primary",style:{maxWidth:"300px",margin:"0.5rem auto 0.75rem auto"},children:"Grer mon abonnement"})})]})]})});return qb.createPortal(B,document.body)};const nI=({onLegalClick:e})=>d.jsx("footer",{className:"app-footer",children:d.jsxs("div",{className:"footer-content",children:[d.jsxs("div",{className:"ai-notice",children:[d.jsx("p",{children:"Les crations sont gnres par IA et peuvent contenir des erreurs."}),d.jsx("p",{children:"Pour toute question, recommandation ou demande, n'hsitez pas  nous contacter !"})]}),d.jsxs("div",{className:"footer-links",children:[d.jsx("button",{className:"footer-link",onClick:()=>e("mentions"),children:"Mentions lgales"}),d.jsx("span",{className:"separator",children:""}),d.jsx("button",{className:"footer-link",onClick:()=>e("privacy"),children:"Confidentialit"}),d.jsx("span",{className:"separator",children:""}),d.jsx("button",{className:"footer-link",onClick:()=>e("cookies"),children:"Cookies"}),d.jsx("span",{className:"separator",children:""}),d.jsx("button",{className:"footer-link",onClick:()=>e("terms"),children:"CGU"}),d.jsx("span",{className:"separator",children:""}),d.jsx("button",{className:"footer-link",onClick:()=>e("contact"),children:"Contact"})]}),d.jsx("div",{className:"footer-info",children:d.jsxs("p",{children:[" ",new Date().getFullYear()," HERBBIE"]})})]})});const rI=({onClose:e,initialSection:t="mentions"})=>{const[n,r]=T.useState(t),[i,s]=T.useState({firstName:"",lastName:"",email:"",subject:"",message:""}),[o,a]=T.useState(!1),[l,c]=T.useState(""),h=[{id:"mentions",title:"Mentions Lgales",icon:""},{id:"terms",title:"Conditions d'utilisation",icon:""},{id:"privacy",title:"Confidentialit",icon:""},{id:"cookies",title:"Cookies",icon:""},{id:"contact",title:"Contact",icon:""}],f=()=>{switch(n){case"mentions":return m();case"privacy":return g();case"cookies":return b();case"terms":return S();case"contact":return x();default:return m()}},m=()=>d.jsxs("div",{className:"legal-content",children:[d.jsx("h2",{children:" Mentions Lgales"}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"1. dition du site"}),d.jsxs("div",{className:"info-block",children:[d.jsx("p",{children:"En vertu de l'article 6 de la loi n 2004-575 du 21 juin 2004 pour la confiance dans l'conomie numrique, il est prcis aux utilisateurs du site internet https://herbbie.com l'identit des diffrents intervenants dans le cadre de sa ralisation et de son suivi :"}),d.jsxs("p",{children:[d.jsx("strong",{children:"Propritaire et diteur du site :"})," Monsieur Adrien Gaulin"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Statut juridique :"})," Entrepreneur Individuel (EI)"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Adresse du sige :"})," 10 B RUE Flix Arnaudin, 40100 Dax, FRANCE"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"SIREN :"})," 992 909 051"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"SIRET :"})," 992 909 051 00011"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Code APE/NAF :"})," 62.01Z (Programmation informatique)"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Numro de TVA Intracommunautaire :"})," FR 46 992909051"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Contact :"})," Email : ",d.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Directeur de la publication :"})," ",d.jsx("span",{className:"name-protected personal-data",children:"Monsieur Adrien Gaulin"})]})]})]}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"2. Hbergement"}),d.jsx("div",{className:"info-block",children:d.jsx("p",{children:"Le site est hberg par la socit Vercel Inc. Sige social : 340 S Lemon Ave #4133, Walnut, CA 91789, tats-Unis. Le stockage des donnes personnelles des utilisateurs est effectu conformment au RGPD, sur des serveurs scuriss."})})]}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"3. Proprit intellectuelle"}),d.jsx("div",{className:"info-block",children:d.jsx("p",{children:"L'ensemble des lments figurant sur le site Herbbie (textes, graphismes, logiciels, photographies, images, vidos, sons, plans, noms, logos, marques, crations et uvres protgeables diverses, bases de donnes, etc...) ainsi que le site lui-mme, sont protgs par les dispositions du Code de la Proprit Intellectuelle. Monsieur Adrien Gaulin est titulaire exclusif de tous les droits de proprit intellectuelle sur la structure et le contenu du site,  l'exception des lments gnrs par les utilisateurs via l'IA (voir CGU). Toute reproduction non autorise est interdite."})})]})]}),g=()=>d.jsxs("div",{className:"legal-content",children:[d.jsx("h2",{children:" Politique de Confidentialit"}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:`1. Protection de l'Enfance et Photos "Hros"`}),d.jsxs("div",{className:"info-block",children:[d.jsx("p",{children:`Nous appliquons une politique de scurit maximale concernant les photos d'enfants tlcharges pour la fonction "Hros" :`}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Usage unique :"})," La photo sert exclusivement  crer l'avatar vectoris."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Purge immdiate :"}),` La photo source originale est automatiquement et dfinitivement supprime de nos serveurs ds que l'avatar est gnr. Nous ne conservons aucune base de donnes de visages ("No Face Storage").`]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Pas d'entranement d'IA :"})," Nous garantissons que les photos des utilisateurs ne sont JAMAIS utilises pour entraner nos modles d'intelligence artificielle ni vendues  des tiers."]})]})]})]}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"2. Donnes collectes"}),d.jsxs("div",{className:"info-block",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Commande :"})," Email."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Paiement :"})," Gr par Stripe. Herbbie n'a jamais accs  vos coordonnes bancaires compltes."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Navigation :"})," Adresse IP et cookies techniques (panier)."]})]})]}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"3. Dure de conservation"}),d.jsxs("div",{className:"info-block",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Donnes de facturation :"})," 10 ans (obligation lgale comptable, art. L123-22 du code de commerce)."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Histoires gnres :"})," Conserves sur votre compte client jusqu' votre demande de suppression, pour vous permettre de les retrouver."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Compte inactif :"})," Suppression aprs 3 ans sans connexion."]})]})]}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"4. Vos Droits"}),d.jsx("div",{className:"info-block",children:d.jsxs("p",{children:["Conformment au RGPD, vous disposez d'un droit d'accs, de rectification et d'effacement de vos donnes. Pour exercer ce droit ou supprimer votre compte, crivez  : ",d.jsx("span",{className:"email-protected personal-data",children:"contact@herbbie.com"})]})})]})]}),b=()=>d.jsxs("div",{className:"legal-content",children:[d.jsx("h2",{children:" Politique des Cookies"}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"Gestion des Cookies sur Herbbie"}),d.jsxs("div",{className:"info-block",children:[d.jsx("h4",{children:"1. Qu'est-ce qu'un cookie ?"}),d.jsx("p",{children:"Un cookie est un petit fichier texte dpos sur votre appareil lors de la visite du site."})]})]}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"2. Les cookies que nous utilisons"}),d.jsxs("div",{className:"info-block",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Cookies Indispensables (Techniques) :"})," Ils sont ncessaires au fonctionnement du site (gestion du panier d'achat, maintien de la connexion scurise). Ils ne peuvent pas tre dsactivs."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Cookies de Mesure d'Audience (Analytiques) :"})," Nous utilisons des outils anonymiss (comme Vercel Analytics) pour comprendre le trafic sur notre site."]})]})]}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"3. Vos Choix"}),d.jsx("div",{className:"info-block",children:d.jsx("p",{children:"Lors de votre arrive sur le site, un bandeau vous permet d'accepter ou de refuser les cookies non essentiels. Vous pouvez modifier ce choix  tout moment. Conformment aux recommandations de la CNIL, le refus des cookies n'empche pas l'accs au site (sauf fonctionnalits lies au panier d'achat)."})})]})]}),S=()=>d.jsxs("div",{className:"legal-content",children:[d.jsx("h2",{children:" Conditions Gnrales de Vente et d'Utilisation (CGV/CGU)"}),d.jsx("div",{className:"legal-section",children:d.jsx("h3",{children:"Date de dernire mise  jour : 01 Dcembre 2025"})}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"PRAMBULE"}),d.jsx("div",{className:"info-block",children:d.jsx("p",{children:`Les prsentes conditions rgissent les ventes de contenus numriques (histoires, BD, coloriages) sur le site herbbie.com par Monsieur Adrien Gaulin (ci-aprs "l'diteur")  toute personne physique consommatrice (ci-aprs "le Client").`})})]}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"AVERTISSEMENT SUR L'INTELLIGENCE ARTIFICIELLE (IA)"}),d.jsxs("div",{className:"info-block",children:[d.jsx("p",{children:"Le service repose sur des technologies d'IA gnrative. Le Client reconnat tre inform que :"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Les rsultats sont probabilistes et peuvent comporter des imperfections visuelles (artefacts) ou des incohrences narratives mineures."}),d.jsx("li",{children:"L'acceptation de cet ala technologique est une condition substantielle du contrat."}),d.jsx("li",{children:"Ces imperfections ne constituent pas un dfaut de conformit au sens lgal, tant que le contenu respecte le thme global de la commande."})]})]})]}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"ARTICLE 1 : PRIX ET PAIEMENT"}),d.jsx("div",{className:"info-block",children:d.jsx("p",{children:"Les prix sont indiqus en euros () toutes taxes comprises (TTC). Le tarif unitaire par gnration est indiqu clairement avant la validation de la commande (ex: 0,70 ). L'diteur se rserve le droit de modifier ses prix  tout moment. Le paiement est exigible immdiatement  la commande par carte bancaire via le prestataire scuris Stripe."})})]}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"ARTICLE 2 : RENONCIATION AU DROIT DE RTRACTATION"}),d.jsxs("div",{className:"info-block",children:[d.jsx("p",{children:"Le Client est inform que le droit de rtractation de 14 jours (article L.221-18 du Code de la consommation) ne s'applique pas aux contrats de fourniture d'un contenu numrique non fourni sur un support matriel, dont l'excution a commenc aprs accord pralable exprs du consommateur et renoncement exprs  son droit de rtractation (Article L.221-28 13)."}),d.jsx("p",{children:'En validant sa commande et en cochant la case prvue  cet effet ("Je renonce  mon droit de rtractation pour un accs immdiat"), le Client :'}),d.jsxs("ul",{children:[d.jsx("li",{children:"Demande expressment l'excution immdiate du service (gnration de l'histoire) avant la fin du dlai lgal de rtractation."}),d.jsx("li",{children:"Reconnat expressment perdre son droit de rtractation une fois la commande valide. En consquence, aucun remboursement ne sera effectu aprs la validation du paiement, sauf en cas de dfaut technique avr empchant le tlchargement du fichier."})]})]})]}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"ARTICLE 3 : LICENCE D'UTILISATION DES CONTENUS"}),d.jsxs("div",{className:"info-block",children:[d.jsx("p",{children:"L'diteur concde au Client une licence d'utilisation personnelle, non exclusive, mondiale et perptuelle sur les fichiers gnrs."}),d.jsxs("p",{children:[d.jsx("strong",{children:"Autoris :"})," Usage priv, lecture, impression pour usage familial, partage sur les rseaux sociaux privs."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Interdit :"})," Revente du fichier numrique brut, revendication d'un monopole de droit d'auteur empchant des tiers de gnrer des contenus similaires. L'diteur ne garantit pas la protection par le droit d'auteur des uvres gnres exclusivement par IA, conformment  l'tat actuel de la jurisprudence."]})]})]}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"ARTICLE 4 : RESPONSABILIT DE L'UTILISATEUR"}),d.jsxs("div",{className:"info-block",children:[d.jsx("p",{children:"Le Client est seul responsable des textes (prompts) et des photos qu'il soumet  l'IA. Il s'interdit de soumettre :"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Des contenus illicites, haineux, pornographiques ou diffamatoires."}),d.jsx("li",{children:"Des photos de tiers sans leur consentement."}),d.jsx("li",{children:"Des demandes violant le droit d'auteur de tiers (ex: personnages de marques protges)."})]}),d.jsx("p",{children:"Le Client garantit l'diteur contre toute action judiciaire rsultant d'une utilisation illicite du service."})]})]}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"ARTICLE 5 : MDIATION DE LA CONSOMMATION"}),d.jsxs("div",{className:"info-block",children:[d.jsxs("p",{children:["Conformment aux articles L.616-1 et R.616-1 du code de la consommation, notre entreprise a mis en place un dispositif de mdiation de la consommation. L'entit de mdiation retenue est : CM2C. En cas de litige, vous pouvez dposer votre rclamation sur son site : ",d.jsx("a",{href:"https://www.cm2c.net",target:"_blank",rel:"noopener noreferrer",children:"https://www.cm2c.net"})]}),d.jsx("p",{children:"Ou par voie postale : CM2C, 14 rue Saint Jean, 75017 Paris."})]})]})]}),k=(_,E)=>{s(O=>({...O,[_]:E}))},y=async _=>{_.preventDefault(),a(!0),c("");try{const E=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:i.firstName,lastName:i.lastName,email:i.email,subject:i.subject,message:i.message})});if(!E.ok){const M=await E.json();throw new Error(M.detail||"Erreur lors de l'envoi du message")}const O=await E.json();c(" Votre message a t envoy avec succs ! Nous vous rpondrons dans les plus brefs dlais."),s({firstName:"",lastName:"",email:"",subject:"",message:""})}catch(E){c(` Erreur lors de l'envoi : ${E.message}`)}finally{a(!1)}},x=()=>d.jsxs("div",{className:"legal-content",children:[d.jsx("h2",{children:" Contact"}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:" Formulaire de contact"}),d.jsxs("div",{className:"info-block",children:[d.jsx("p",{children:"Vous pouvez nous contacter directement en remplissant le formulaire ci-dessous :"}),d.jsxs("form",{className:"contact-form",onSubmit:y,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"contact-firstName",children:"Prnom *"}),d.jsx("input",{type:"text",id:"contact-firstName",value:i.firstName,onChange:_=>k("firstName",_.target.value),required:!0,placeholder:"Votre prnom"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"contact-lastName",children:"Nom *"}),d.jsx("input",{type:"text",id:"contact-lastName",value:i.lastName,onChange:_=>k("lastName",_.target.value),required:!0,placeholder:"Votre nom de famille"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"contact-email",children:"Email *"}),d.jsx(Dl,{value:i.email,onChange:_=>k("email",_.target.value),placeholder:"votre.email@exemple.com",required:!0,user:null,onEmailSubmit:()=>{}})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"contact-subject",children:"Sujet *"}),d.jsxs("select",{id:"contact-subject",value:i.subject,onChange:_=>k("subject",_.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Choisissez un sujet"}),d.jsx("option",{value:"Support technique",children:" Support technique"}),d.jsx("option",{value:"Question gnrale",children:" Question gnrale"}),d.jsx("option",{value:"Partenariat",children:" Partenariat"}),d.jsx("option",{value:"Signaler un bug",children:" Signaler un bug"}),d.jsx("option",{value:"Suggestion",children:" Suggestion"}),d.jsx("option",{value:"Autre",children:" Autre"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"contact-message",children:"Message *"}),d.jsx("textarea",{id:"contact-message",value:i.message,onChange:_=>k("message",_.target.value),required:!0,placeholder:"Dcrivez votre demande en dtail...",rows:"5"})]}),l&&d.jsx("div",{className:`submit-message ${l.includes("")?"success":"error"}`,children:l}),d.jsx("button",{type:"submit",className:"contact-submit-btn",disabled:o,children:o?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Envoi en cours..."]}):d.jsx(d.Fragment,{children:" Envoyer l'email"})})]})]})]}),d.jsxs("div",{className:"legal-section",children:[d.jsx("h3",{children:"Informations de contact"}),d.jsxs("div",{className:"info-block personal-data",children:[d.jsxs("p",{children:[d.jsx("strong",{children:" Email :"})," ",d.jsx("a",{href:"mailto:contact@herbbie.com",className:"email-protected",children:d.jsx("span",{className:"personal-data",children:"contact@herbbie.com"})})]}),d.jsxs("p",{children:[d.jsx("strong",{children:" Nom de l'entreprise :"})," ",d.jsx("span",{className:"protect-personal-info",children:"HERBBIE"})]})]})]})]});return d.jsx(Ie.div,{className:"legal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:e,children:d.jsxs(Ie.div,{className:"legal-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:_=>_.stopPropagation(),children:[d.jsxs("div",{className:"legal-header",children:[d.jsx("h1",{children:" Informations Lgales"}),d.jsx("button",{className:"close-button",onClick:e,children:""})]}),d.jsxs("div",{className:"legal-body",children:[d.jsx("nav",{className:"legal-nav",children:h.map(_=>d.jsxs("button",{className:`nav-item ${n===_.id?"active":""}`,onClick:()=>r(_.id),children:[d.jsx("span",{className:"nav-icon",children:_.icon}),d.jsx("span",{className:"nav-title",children:_.title})]},_.id))}),d.jsx("div",{className:"legal-main",children:d.jsx(_i,{mode:"wait",children:d.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:f()},n)})})]})]})})};const iI=()=>{const[e,t]=T.useState([]);return T.useEffect(()=>{const n=r=>{const i=Math.random()*1799.5+.5;setTimeout(()=>{const s={id:Date.now()+r,index:r,duration:Math.random()*2+1};t(o=>[...o,s]),setTimeout(()=>{t(o=>o.filter(a=>a.id!==s.id))},s.duration*1e3),n(r)},i*1e3)};for(let r=0;r<10;r++)setTimeout(()=>n(r),Math.random()*5e3);return()=>{t([])}},[]),d.jsx("section",{className:"shooting-stars-container",children:e.map(n=>d.jsx("span",{className:`shooting-star star-${n.index+1}`,style:{animationDuration:`${n.duration}s`}},n.id))})},pl=(e,t,n="")=>{const r={comptine:{animaux:["Les Amis de la Fort","La Danse des Animaux","Mes Amis les Animaux","Le Grand Bal des Animaux"],nature:["Les Fleurs Magiques","L'Aventure dans les Bois","Les Secrets du Jardin","La Fte de la Nature"],transport:["Le Train des Copains","L'Aventure en Voiture","Le Voyage Fantastique","En Route pour l'Aventure"],couleurs:["L'Arc-en-Ciel Magique","Le Monde des Couleurs","La Danse des Couleurs","Mon Joli Tableau"],famille:["Ma Famille d'Amour","Tous Ensemble","Les Clins de Famille","Mon Coeur de Famille"],default:["Ma Jolie Comptine","Chanson du Bonheur","Ma Petite Mlodie","Comptine Rigolote"]},histoire:{aventure:["La Grande Aventure","Voyage Extraordinaire","Mission Secrte","L'Aventure Fantastique"],animaux:["Les Amis de la Fort","L'Histoire des Petits Animaux","Mes Copains Animaux","La Famille Animaux"],magie:["Le Monde Magique","L'Aventure Enchante","Le Secret Magique","La Fe et ses Amis"],amiti:["Les Meilleurs Amis","Une Belle Amiti","Copains pour la Vie","L'Amiti Magique"],espace:["Voyage dans les toiles","L'Aventure Spatiale","Les Amis de l'Espace","Mission sur la Lune"],default:["Mon Belle Histoire","Conte Merveilleux","Histoire Fantastique","Rcit d'Aventure"]},coloriage:{animaux:["Mes Amis Animaux","Zoo Rigolo","Famille Animaux","Copains de la Fort"],licorne:["Licorne Magique","Princesse Licorne","Pays des Licornes","Licorne Arc-en-Ciel"],dinosaures:["Dino Rigolo","Mes Amis Dinosaures","Parc des Dinosaures","T-Rex et ses Copains"],nature:["Jardin Fleuri","Fort Enchante","Promenade Nature","Fleurs et Papillons"],espace:["Voyage Spatial","Plantes Rigolotes","Astronaute en Mission","toiles et Fuses"],vhicules:["Mes Voitures","Garage Rigolo","Course Automobile","Train et Avions"],default:["Mon Coloriage","Dessin Rigolo","Art Cratif","Belle Image"]},animation:{aventure:["Mon Dessin Anim","Animation Magique","Film d'Aventure","Cinma Fantastique"],animaux:["Mes Amis Anims","Zoo en Mouvement","Aventures Animales","Cirque des Animaux"],magie:["Monde Enchant","Magie en Mouvement","Film de Fe","Animation Magique"],espace:["Voyage Anim","Aventure Spatiale","Film de l'Espace","Mission Animation"],nature:["Fort Anime","Jardin en Mouvement","Nature Vivante","Fleurs Dansantes"],default:["Mon Film IA","Dessin Anim IA","Animation Crative","Film Personnalis"]}},i=r[e]||r.histoire,s=i[t]||i.default||i.aventure,o=Math.floor(Math.random()*s.length);return s[o]};function sI(e,t=600){const n=e.split(new RegExp("(?<=[.?!])\\s+")),r=[];let i="";for(const s of n)(i+s).length>t?(r.push(i.trim()),i=s+" "):i+=s+" ";return i.trim()&&r.push(i.trim()),r}const n0=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("static/")?(console.warn(`[App] Chemin audio local obsolte ignor: ${e}`),null):`${ar}/audio/${e.split("/").pop()}`:null;function oI(){const[e,t]=T.useState("animation"),[n,r]=T.useState(0),i=Le=>{t(Le==="audio"?"histoire":Le)},[s,o]=T.useState(null),[a,l]=T.useState(""),[c,h]=T.useState(!0),[f,m]=T.useState(""),[g,b]=T.useState(""),[S,k]=T.useState(null),[y,x]=T.useState(""),[_,E]=T.useState(null),[O,M]=T.useState(""),[B,L]=T.useState(!1),[V,H]=T.useState(null);T.useState(!1);const[R,P]=T.useState(!1),[J,W]=T.useState(!1),[ue,le]=T.useState(!1),[ae,K]=T.useState(!1),[ee,Q]=T.useState(null),[me,N]=T.useState(""),[z,$]=T.useState(null),[Y,Z]=T.useState(null),[oe,he]=T.useState(null),[ce,xe]=T.useState(null),[_e,Fe]=T.useState(null),[Pe,Ze]=T.useState(null),[ve,X]=T.useState(""),[ot,He]=T.useState(null),[Ne,Re]=T.useState(null),[Me,Oe]=T.useState(!1),[qe,st]=T.useState(null),[Ae,$e]=T.useState(30),[lt,At]=T.useState(null),[Ye,bt]=T.useState(""),[ze,Rn]=T.useState(null),[dt,kr]=T.useState(null),[Ft,Mt]=T.useState(null),[ii,Ct]=T.useState(!1),Ci=T.useRef(null),Wt=T.useRef(null),fr=T.useRef(null),[si,Bt]=T.useState(!1),[ht,Pt]=T.useState(null),[Qi,kn]=T.useState(!1);T.useState("user"),T.useState(!1);const[oi,Nn]=T.useState("Gnrer"),[et,pr]=T.useState(!1),[ai,Ln]=T.useState(!1),[vn,nn]=T.useState("mentions"),Xn=Le=>new Promise(Ue=>setTimeout(Ue,Le)),Ks=async(Le,{intervalMs:Ue=5e3,maxAttempts:nt=240}={})=>{let je=0;for(;je<nt;){try{const Xe=await Gn(`${ar}/status/${Le}`,{});if(Xe.ok){const St=await Xe.json();if((St==null?void 0:St.type)==="result"){const Ee=St.data;if((Ee==null?void 0:Ee.status)==="completed"&&Ee!=null&&Ee.clips&&Ee.clips.length>0)return Ee;if((Ee==null?void 0:Ee.status)==="failed")throw new Error((Ee==null?void 0:Ee.error_message)||"Gnration choue")}}}catch{}je+=1,await Xn(Ue)}throw new Error("Timeout de gnration de l'animation")},Pi=async(Le,{intervalMs:Ue=5e3,maxAttempts:nt=180}={})=>{let je=0;for(;je<nt;){try{const Xe=await Gn(`${ar}/status_comic/${Le}`,{});if(Xe.ok){const St=await Xe.json();if((St==null?void 0:St.type)==="result"){const Ee=St.data;if(((Ee==null?void 0:Ee.status)==="completed"||(Ee==null?void 0:Ee.status)==="success")&&Ee!=null&&Ee.pages&&Ee.pages.length>0)return Ee;if((Ee==null?void 0:Ee.status)==="failed")throw new Error((Ee==null?void 0:Ee.error)||"Gnration choue")}}}catch{}je+=1,await Xn(Ue)}throw new Error("Timeout de gnration de la BD")},zr=async Le=>{try{const Ue=new FormData;Ue.append("file",Le);const nt=await Gn(`${ar}/upload_character_photo/`,{method:"POST",body:Ue});if(!nt.ok)throw new Error(`Erreur upload : ${nt.status}`);const je=await nt.json();return He(je),je}catch(Ue){throw Ue}},[$r,mr]=T.useState(null),{user:ft,loading:Nr}=Av(),[li,qr]=T.useState(!1),[ci,vs]=T.useState(!1);T.useMemo(()=>(e==="histoire"||e==="audio")&&(V!=null&&V.content)?sI(V.content):[],[V,e]);const[Jo,Js]=T.useState(0);T.useEffect(()=>{window.location.hash==="#historique"&&qr(!0);const Le=()=>{qr(window.location.hash==="#historique")};return window.addEventListener("hashchange",Le),()=>{window.removeEventListener("hashchange",Le)}},[]),T.useEffect(()=>{(async()=>{if(ft){const Ue=await E4(ft.id,ft.email);vs(Ue),Ys(Ue)}else vs(!1),Ys(!1)})()},[ft,e]),T.useEffect(()=>{o(null),l(""),h(!0),m(""),b(""),k(null),x(""),E(null),Q(null),N(""),$(null),he(null),xe(null),Fe(null),Ze(null),X(""),He(null),Re(null),st(null),$e(30),At(null),bt(""),kr(null),H(null),Z(null),Mt(null),mr(null)},[e]);const Oa=async Le=>{K(!1),setTimeout(()=>{K(!0),L(!1)},5e4)};T.useEffect(()=>{e==="animation"&&!qe&&st(null)},[e,qe]),T.useEffect(()=>{e==="coloring"&&ee!==null&&Ci.current!==null&&Ci.current!==ee&&(Z(null),W(!1),le(!1)),Ci.current=ee},[ee,e]),T.useEffect(()=>{e==="comic"&&ce!==null&&Wt.current!==null&&Wt.current!==ce&&(Re(null),Oe(!1)),Wt.current=ce},[ce,e]),T.useEffect(()=>{e==="animation"&&qe!==null&&fr.current!==null&&fr.current!==qe&&Mt(null),fr.current=qe},[qe,e]);const Da=qe||"space",Ys=async Le=>{if(Le)Nn("Gnrer Gratuitement");else{if(ft&&(e==="histoire"||e==="story"||e==="audio"||e==="coloriage"||e==="coloring"))try{const{data:Xe,error:St}=await pt.from("creations").select("id").eq("user_id",ft.id).limit(1);if(!St&&Xe&&Xe.length===0){Nn(" Crer gratuitement (bonus bienvenue)");return}const Ee={};e==="animation"?Ee.selectedDuration=Ae:e==="comic"||e==="bd"?Ee.numPages=Pe||1:(e==="histoire"||e==="story"||e==="audio")&&(Ee.selectedVoice=_);const{data:Ke}=await pt.functions.invoke("check-permission",{body:{contentType:e,userId:ft.id,userEmail:ft.email,...Ee}});if(Ke!=null&&Ke.hasPermission&&(Ke==null?void 0:Ke.reason)==="subscription_active"){Nn(e==="rhyme"||e==="comptine"?"Crer ma comptine":e==="coloring"||e==="coloriage"?"Crer mon coloriage":e==="comic"||e==="bd"?"Crer ma bande dessine":e==="animation"?"Crer mon dessin anim":e==="histoire"||e==="story"||e==="audio"?"Crer mon histoire":"Crer mon contenu");return}}catch(Xe){console.error("Erreur vrification abonnement pour bouton:",Xe)}let Ue={};e==="animation"?Ue.duration=Ae:e==="comic"||e==="bd"?Ue.pages=Pe||1:(e==="histoire"||e==="story"||e==="audio")&&(Ue.voice=_);const je=md(e==="audio"?"histoire":e,Ue);Nn(`Acheter pour ${je.display}`)}};T.useEffect(()=>{Ys(ci)},[_,Ae,Pe,e,ci,ft]);const Xs=async()=>{if(!ft){Pt(e),Bt(!0);return}if(ci){ys();return}if(e==="histoire"||e==="story"||e==="audio"||e==="coloriage"||e==="coloring")try{const{data:Le,error:Ue}=await pt.from("creations").select("id").eq("user_id",ft.id).limit(1);if(!Ue&&Le&&Le.length===0){ys();return}}catch(Le){console.error("Erreur vrification bonus:",Le)}try{const Le={};e==="animation"?Le.selectedDuration=Ae:e==="comic"||e==="bd"?Le.numPages=Pe||1:(e==="histoire"||e==="story"||e==="audio")&&(Le.selectedVoice=_);const{data:Ue,error:nt}=await pt.functions.invoke("check-permission",{body:{contentType:e,userId:ft.id,userEmail:ft.email,...Le}});if(nt){console.error("Erreur vrification permission:",nt),alert("Erreur lors de la vrification des permissions. Veuillez ressayer.");return}if(Ue.hasPermission)ys();else{Pt(e),Bt(!0);return}}catch(Le){console.error("Erreur lors de l'appel  check-permission:",Le),alert("Erreur de vrification des permissions. Veuillez ressayer.");return}},ys=async()=>{var Le,Ue,nt;if(L(!0),H(null),!Nr)try{let je=null;if(e==="rhyme"){const Ee={theme:s==="custom"?a:s,custom_request:O,language:"fr"},Ke=await Gn(`${ar}/generate_rhyme/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ee)});if(!Ke.ok)throw new Error(`Erreur HTTP : ${Ke.status}`);je=await Ke.json()}else if(e==="histoire"||e==="audio"){const Ee={story_type:S==="custom"?y:S,voice:_,custom_request:O,user_id:ft==null?void 0:ft.id},Ke=await Gn(`${ar}/generate_audio_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ee)});if(!Ke.ok)throw new Error(`Erreur HTTP : ${Ke.status}`);je=await Ke.json()}else if(e==="histoire"){let Ee;if(dt&&dt!=="custom"?Ee={space:"Une aventure spatiale extraordinaire o un enfant explore les plantes lointaines et rencontre des aliens amicaux.",ocean:"Une exploration sous-marine magique avec des cratures marines colores et des trsors cachs au fond de l'ocan.",dinosaur:"Un voyage dans le temps  l'poque des dinosaures o un enfant devient ami avec un dinosaure gentil et dcouvre un monde prhistorique.",fairy:"Un conte de fes enchanteur avec des fes bienveillantes, des chteaux magiques et des aventures pleines de poussire de fe.",superhero:"Une histoire de super-hros o un enfant dcouvre ses pouvoirs extraordinaires et sauve la ville avec courage et bont.",jungle:"Une aventure dans la jungle tropicale remplie d'animaux exotiques, de plantes mystrieuses et de dcouvertes passionnantes."}[dt]||`Une belle histoire sur le thme ${dt}`:Ee=Ye,!Ee||Ee.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractres");const Ke={story_type:dt==="custom"?"custom":dt,content:Ee,custom_request:O},ut=await Gn(`${ar}/generate_story/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ke)});if(!ut.ok)throw new Error(`Erreur HTTP : ${ut.status}`);je=await ut.json()}else if(e==="coloring")if(z){const Ee=new FormData;Ee.append("file",z);const Ke=await Gn(`${ar}/upload_photo_for_coloring/`,{method:"POST",body:Ee});if(!Ke.ok)throw new Error(`Erreur upload : ${Ke.status}`);const tt={photo_path:(await Ke.json()).file_path,with_colored_model:oe},Ht=await Gn(`${ar}/convert_photo_to_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(tt)});if(!Ht.ok)throw new Error(`Erreur conversion : ${Ht.status}`);const qn=await Ht.json();Z(qn),je=qn}else{if(!ee||oe===null)throw new Error("Thme et modle color sont requis pour gnrer un coloriage");const Ee={theme:String(ee),with_colored_model:!!oe};ft!=null&&ft.id&&(Ee.user_id=ft.id),ee==="custom"&&me.trim()&&(Ee.custom_prompt=me.trim()),console.log("[DEBUG] Payload coloriage:",Ee);const Ke=await Gn(`${ar}/generate_coloring/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ee)});if(!Ke.ok)throw new Error(`Erreur HTTP : ${Ke.status}`);const ut=await Ke.json();Z(ut),je=ut}else if(e==="comic"){const Ee={theme:ce==="custom"?ve:ce,art_style:_e||"cartoon",num_pages:Pe||1,user_id:ft==null?void 0:ft.id};ce==="custom"&&ve.trim()&&(Ee.custom_prompt=ve.trim()),ot&&ot.file_path&&(Ee.character_photo_path=ot.file_path);const Ke=await Gn(`${ar}/generate_comic/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ee)});if(!Ke.ok)throw new Error(`Erreur HTTP : ${Ke.status}`);const ut=await Ke.json();let tt=ut;const Ht=ut==null?void 0:ut.task_id,qn=(ut==null?void 0:ut.status)==="success"&&(ut==null?void 0:ut.pages)&&ut.pages.length>0;if(Ht&&!qn&&(tt=await Pi(Ht)),tt!=null&&tt.pages&&tt.pages.length>0){const ui={...tt,title:tt.title||"Ma Bande Dessine ",synopsis:tt.synopsis||"",art_style:tt.art_style||"cartoon",total_pages:tt.total_pages||tt.pages.length};Re(ui),je=ui}else console.error("[App] BD incomplte - pages manquantes:",tt)}else if(e==="animation"){let Ee;const Ke=qe||"space";if(Ke&&Ke!=="custom"?Ee={magie:"Une histoire magique avec des cratures fantastiques dans un monde enchant",aventure:"Une grande aventure pleine de dcouvertes et de rebondissements",animaux:"Une histoire mettant en scne des animaux adorables et leurs aventures",espace:"Un voyage extraordinaire  travers les toiles et les plantes",nature:"Une exploration merveilleuse de la nature et de ses secrets",amiti:"Une belle histoire d'amiti et de solidarit",famille:"Une histoire touchante sur les liens familiaux"}[Ke]||`Une belle histoire sur le thme ${Ke}`:Ee=Ye,!Ee||Ee.trim().length<10)throw new Error("L'histoire doit contenir au moins 10 caractres");const tt={magie:"magic",aventure:"adventure",animaux:"animals",espace:"space",nature:"nature",amiti:"friendship",famille:"friendship"}[Ke]||Ke||"adventure",Ht=Ae||30,qn=`${ar}/generate-quick?theme=${encodeURIComponent(tt)}&duration=${Ht}&style=${lt||"cartoon"}&custom_prompt=${encodeURIComponent(Ee||"")}`,Li=await Gn(qn,{...{method:"GET",headers:{Accept:"application/json"}}});if(!Li.ok){const Ma=await Li.text();throw new Error(`Erreur HTTP ${Li.status}: ${Ma}`)}const Xt=await Li.json();let dn=Xt;const Zi=Xt==null?void 0:Xt.task_id,Vr=(Xt==null?void 0:Xt.status)==="completed"&&((Xt==null?void 0:Xt.final_video_url)||(((Le=Xt==null?void 0:Xt.clips)==null?void 0:Le.length)||0)>0);Zi&&!Vr&&(dn=await Ks(Zi)),(dn==null?void 0:dn.status)==="completed"&&(dn!=null&&dn.clips)&&dn.clips.length>0&&(Mt(dn),Ct(!0),je=dn)}if(H(je),Js(0),e==="rhyme"&&je.task_id){Zs(je.task_id);return}let Xe;e==="rhyme"?je.title&&!je.title.includes("gnre")?Xe=je.title+(je.has_music?" ":""):Xe=pl("comptine",s==="custom"?"default":s)+(je.has_music?" ":""):e==="histoire"||e==="audio"?je.title&&!je.title.includes("gnre")?Xe=je.title:Xe=pl("histoire",S==="custom"?"default":S):e==="coloring"?Xe=(je==null?void 0:je.title)||pl("coloriage",ee):e==="comic"?Xe=(je==null?void 0:je.title)||"Ma Bande Dessine ":e==="animation"?Xe=(je==null?void 0:je.title)||pl("animation",Da||"aventure"):e==="histoire"&&(Xe=(je==null?void 0:je.title)||pl("histoire",dt==="custom"?"default":dt)),mr(Xe);let St;if(e==="coloring"?St={id:Date.now().toString(),type:e,title:Xe,createdAt:new Date().toISOString(),content:je?`${je.total_images} coloriage(s) gnr(s)`:"Coloriage gnr",theme:ee,images:(je==null?void 0:je.images)||[],metadata:(je==null?void 0:je.metadata)||{}}:e==="comic"?St={id:Date.now().toString(),type:e,title:Xe,createdAt:new Date().toISOString(),content:je?`BD de ${je.total_pages||((Ue=je.pages)==null?void 0:Ue.length)||0} planche(s) - ${(je.total_pages||((nt=je.pages)==null?void 0:nt.length)||0)*4} cases`:"Bande dessine gnre",theme:ce,pages:(je==null?void 0:je.pages)||[],comic_data:je||{}}:e==="animation"?St={id:Date.now().toString(),type:e,title:Xe,createdAt:new Date().toISOString(),content:je?`Animation de ${je.actual_duration}s avec ${je.total_scenes} scnes`:"Animation gnre",theme:Da,clips:(je==null?void 0:je.clips)||[],animation_data:je||{}}:e==="histoire"||e==="audio"?St={id:Date.now().toString(),type:e==="audio"?"histoire":e,title:Xe,createdAt:new Date().toISOString(),content:(je==null?void 0:je.content)||je||"Histoire gnre...",story_type:(dt==="custom"?"custom":dt)||(S==="custom"?"custom":S),audio_path:(je==null?void 0:je.audio_path)||null,audio_generated:!!(je!=null&&je.audio_path)}:St={id:Date.now().toString(),type:e,title:Xe,createdAt:new Date().toISOString(),content:(je==null?void 0:je.content)||je||"Contenu gnr...",audio_path:(je==null?void 0:je.audio_path)||null},ft)try{await bw({type:e,title:Xe,data:St}),r(Ee=>Ee+1),Ys(ci)}catch{}if(!ci&&!Qi&&je)try{const{calculateTokenCost:Ee,deductTokens:Ke}=await ps(()=>Promise.resolve().then(()=>mF),void 0);let ut={};e==="animation"?ut.duration=Ae:(e==="comic"||e==="bd")&&(ut.pages=Pe||1),(e==="audio"||e==="histoire"&&_)&&(ut.voice=_);const tt=e==="audio"?"histoire":e,Ht=Ee(tt,ut);if(!Ht||Ht<=0||typeof Ht!="number")return;const qn=await Ke(ft.id,tt,Ht,{...ut,transactionId:`gen_${Date.now()}_${tt}`})}catch{}Qi&&kn(!1),L(!1)}catch(je){alert(` Erreur lors de la gnration : ${je.message}

 Conseil : Vrifiez que les cls API sont configures dans le fichier .env du serveur.`),L(!1)}},mc=Le=>{var Ue,nt,je,Xe,St,Ee,Ke;if(Le.action==="showStory")H({title:Le.title,content:Le.content||((Ue=Le.data)==null?void 0:Ue.content)||"",type:Le.type}),P(!0);else if(Le.action==="showColoring")Z({success:!0,theme:Le.theme||((nt=Le.data)==null?void 0:nt.theme)||"coloriage",images:Le.images||((je=Le.data)==null?void 0:je.images)||[],total_images:(Le.images||((Xe=Le.data)==null?void 0:Xe.images)||[]).length,metadata:Le.metadata||((St=Le.data)==null?void 0:St.metadata)||{}}),W(!0);else if(Le.action==="showComic"){const ut=Le.comic_data||((Ee=Le.data)==null?void 0:Ee.comic_data)||Le.data||{},tt=Le.pages||((Ke=Le.data)==null?void 0:Ke.pages)||ut.pages||[];Re({title:Le.title||ut.title||"Ma Bande Dessine",synopsis:ut.synopsis||ut.description||"",art_style:ut.art_style||ut.style||"cartoon",pages:tt,total_pages:tt.length||ut.total_pages||0}),Oe(!0)}else qr(!1),window.location.hash=""},Qs=()=>{qr(!1),window.location.hash=""},gc=()=>{if(e==="rhyme"){if(!s||s==="custom"&&!a.trim())return!1}else if(e==="histoire"||e==="audio"){if(!S||S==="custom"&&!y.trim())return!1}else if(e==="coloring"){if(!ee&&!z||ee==="custom"&&!me.trim()||oe===null)return!1}else if(e==="comic"){if(!ce||!_e||!Pe||ce==="custom"&&!ve.trim())return!1}else if(e==="animation"){if(!qe&&!Ye.trim()||qe==="custom"&&!Ye.trim()||qe==="custom"&&Ye.trim().length<10)return!1}else if(e==="histoire"&&(!dt||dt==="custom"&&!Ye.trim()||dt==="custom"&&Ye.trim().length<10))return!1;return!0},Ei={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.25,ease:"easeInOut"}},exit:{opacity:0,transition:{duration:.2,ease:"easeInOut"}}},vc=async(Le,Ue)=>{if(!(!Ue||typeof Ue!="string"))try{const nt=new it({orientation:"p",unit:"mm",format:"a4"}),je=50,Xe=210,St=297,Ee=6,Ke=Math.floor((St-je-30)/Ee),ut=Xt=>new Promise((dn,Zi)=>{const Vr=new Image;Vr.crossOrigin="anonymous",Vr.onload=()=>dn(Vr),Vr.onerror=()=>Zi(new Error("Impossible de charger l'image de fond")),Vr.src=Xt});let tt=null;try{tt=await ut("/assets/fond.png?v=1")}catch{}let Ht=Le;Ue.startsWith("**")&&Ue.includes("**",2)&&(Ht=Ue.split("**")[1].trim(),Ue=Ue.replace(`**${Ht}**`,"").trim());const qn=nt.splitTextToSize(Ue,150);let ui=0;for(let Xt=0;ui<qn.length;Xt++){if(Xt>0&&nt.addPage(),tt)try{nt.addImage(tt,"PNG",0,0,Xe,St,void 0,"FAST")}catch{}Xt===0&&(nt.setFont("courier","bold"),nt.setFontSize(18),nt.setTextColor(110,50,230),nt.text(Ht,Xe/2,je-20,{align:"center"})),nt.setFont("courier","bold"),nt.setFontSize(10),nt.setTextColor(25,25,112);for(let dn=0;dn<Ke&&ui<qn.length;dn++,ui++){const Zi=je+dn*Ee;nt.text(qn[ui],Xe/2,Zi,{align:"center"})}nt.setFontSize(8),nt.setTextColor(106,90,205),nt.text(`Page ${Xt+1}`,Xe-15,St-10,{align:"right"}),nt.setFontSize(8),nt.setTextColor(106,90,205),nt.text("Cr avec HERBBIE",15,St-10,{align:"left"})}const Li=Ht.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");nt.save(br(Li,"pdf"))}catch{alert("Erreur lors de la gnration du PDF. Veuillez ressayer.")}},Zs=async(Le,Ue=40,nt=5e3)=>{let je=0;const Xe=async()=>{try{const Ee=await(await Gn(`${ar}/check_task_status/${Le}`,{})).json();if(Ee.status==="completed")return H(Ke=>{const ut={...Ke,audio_path:Ee.audio_path,suno_url:Ee.suno_url,title:Ee.title||Ke.title,has_music:!0,service:"suno"},tt=Ee.title||Ke.title||pl("comptine",s==="custom"?"default":s)+" ";mr(tt);const Ht={id:Date.now().toString(),type:"rhyme",title:tt,createdAt:new Date().toISOString(),content:Ke.content||Ke.rhyme||"Comptine gnre",audio_path:Ee.audio_path,suno_url:Ee.suno_url};return bw({type:"rhyme",title:tt,data:Ht}).catch(qn=>{}),ut}),Ee.suno_url?(Oa(Ee.suno_url),!0):(L(!1),!0);if(Ee.status==="failed")return H(Ke=>({...Ke,music_error:Ee.error,has_music:!1})),L(!1),!0;if(Ee.status!=="processing"){if(je>=Ue-1)return L(!1),alert(" La gnration de musique prend plus de temps que prvu. Veuillez vrifier votre historique dans quelques minutes."),!0}return je++,setTimeout(Xe,nt),!1}catch{return je++,je<Ue&&setTimeout(Xe,nt),!1}};await Xe()};return d.jsxs("div",{className:"app-container",children:[d.jsx(A7,{isLoggedIn:!!ft,onOpenHistory:()=>qr(!0),userId:ft==null?void 0:ft.id,onOpenSubscription:()=>pr(!0),refreshBonusTrigger:n}),d.jsx(iI,{}),d.jsx("main",{className:"main-content",children:d.jsxs("div",{className:"content-wrapper",children:[d.jsxs(Ie.div,{className:"creation-panel",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["          ",d.jsx(O7,{contentType:e,setContentType:i}),"          ",d.jsx(_i,{mode:"wait",children:e==="rhyme"?d.jsx(Ie.div,{variants:Ei,initial:"hidden",animate:"visible",exit:"exit",style:{width:"100%"},children:d.jsx(M7,{selectedRhyme:s,setSelectedRhyme:o,customRhyme:a,setCustomRhyme:l})},"rhyme-selector"):e==="histoire"||e==="audio"?d.jsx(Ie.div,{variants:Ei,initial:"hidden",animate:"visible",exit:"exit",children:d.jsx(z7,{selectedAudioStory:S,setSelectedAudioStory:k,customAudioStory:y,setCustomAudioStory:x,selectedVoice:_,setSelectedVoice:E})},"audio-story-selector"):e==="coloring"?d.jsxs(Ie.div,{variants:Ei,initial:"hidden",animate:"visible",exit:"exit",children:["                ",d.jsx(rF,{selectedTheme:ee,setSelectedTheme:Q,customColoringTheme:me,setCustomColoringTheme:N,uploadedPhoto:z,setUploadedPhoto:$,withColoredModel:oe,setWithColoredModel:he})]},"coloring-selector"):e==="comic"?d.jsx(Ie.div,{variants:Ei,initial:"hidden",animate:"visible",exit:"exit",children:d.jsx(sF,{selectedTheme:ce,setSelectedTheme:xe,selectedStyle:_e,setSelectedStyle:Fe,numPages:Pe,setNumPages:Ze,customStory:ve,setCustomStory:X,characterPhoto:ot,setCharacterPhoto:He,onCharacterPhotoUpload:zr})},"comics-selector"):e==="animation"?d.jsx(Ie.div,{variants:Ei,initial:"hidden",animate:"visible",exit:"exit",children:d.jsx(V7,{selectedTheme:qe,setSelectedTheme:st,selectedDuration:Ae,setSelectedDuration:$e,selectedStyle:lt,setSelectedStyle:At,customStory:Ye,setCustomStory:bt,characterImage:ze,setCharacterImage:Rn})},"animation-selector"):e==="histoire"?d.jsx(Ie.div,{variants:Ei,initial:"hidden",animate:"visible",exit:"exit",children:d.jsx(q7,{selectedStory:dt,setSelectedStory:kr,customStory:Ye,setCustomStory:bt})},"story-selector"):null}),"          ",d.jsx(H7,{customRequest:O,setCustomRequest:M,stepNumber:e==="coloring"?4:3}),d.jsx(G7,{onGenerate:Xs,isGenerating:B,isDisabled:!gc(),contentType:e,buttonText:oi})]}),d.jsx("div",{className:"preview-column",children:d.jsx(Ie.div,{className:"preview-panel",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:d.jsx("div",{className:"preview-container",children:d.jsx("div",{className:`preview ${V?"":"empty"}`,children:d.jsx(_i,{mode:"wait",children:B?d.jsxs(Ie.div,{className:"generating-animation",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[d.jsxs("div",{className:"loading-dots",children:[d.jsx("div",{className:"dot"}),d.jsx("div",{className:"dot"}),d.jsx("div",{className:"dot"})]}),"      ",d.jsxs("p",{children:["        ",e==="rhyme"?"Votre comptine est en cours de cration...":e==="histoire"||e==="audio"?"Cration de l'histoire en cours...":e==="histoire"?"Cration de votre histoire en cours...":e==="coloring"?"Votre coloriage est en cours de cration...":e==="comic"?"Cration de votre bande dessine en cours...":e==="animation"?"Cration de votre dessin anim en cours...":"Gnration en cours..."]})]},"generating"):Y&&e==="coloring"?d.jsxs(Ie.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[d.jsx("button",{onClick:()=>W(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Ouvrir le coloriage"}),d.jsx("button",{onClick:()=>le(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Colorier maintenant"}),d.jsx("button",{onClick:()=>{if(Y!=null&&Y.images){const Le=`coloriages_${Y.theme||ee||"generes"}`;Pv(Y.images,Le)}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger le coloriage"})]},"coloring-result"):Ne&&e==="comic"?d.jsxs(Ie.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem",padding:"1rem"},children:[d.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem"},children:[d.jsx("h3",{style:{color:"var(--primary)",marginBottom:"0.5rem"},children:Ne.title||"Votre Bande Dessine"}),d.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[Ne.total_pages," ",Ne.total_pages===1?"planche":"planches","  ",Ne.total_pages*4," cases"]})]}),d.jsx("button",{onClick:()=>Oe(!0),style:{padding:"0.8rem 2rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"700",fontSize:"1rem",boxShadow:"0 4px 12px rgba(245, 240, 255, 0.3)",transition:"all 0.2s ease"},onMouseOver:Le=>Le.target.style.transform="translateY(-2px)",onMouseOut:Le=>Le.target.style.transform="translateY(0)",children:" Lire la bande dessine"})]},"comics-result"):V&&e==="rhyme"&&V.suno_url&&ae?d.jsx(Ie.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs("div",{style:{height:"300px",maxWidth:"500px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"0.8rem",padding:"0.5rem",overflowY:"auto"},children:[V.suno_url&&ae&&d.jsx(d.Fragment,{children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",maxWidth:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",overflow:"hidden"},children:[d.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",padding:"9px 50px 0px"},children:d.jsx("h4",{style:{margin:0,fontSize:"15px",color:"#333",fontWeight:"600"},children:"Votre comptine est prte !"})}),d.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",outline:"none"},src:V.suno_url,children:"Votre navigateur ne supporte pas l'lment audio."})]})}),V.suno_url&&ae&&d.jsx(d.Fragment,{children:d.jsx("button",{onClick:async()=>{if(V.suno_url&&ae)try{const Le=await fetch(V.suno_url);if(!Le.ok)throw new Error(`Erreur HTTP: ${Le.status}`);const Ue=await Le.blob();if(Ue.size===0)throw new Error("Fichier audio indisponible");const nt=window.URL.createObjectURL(Ue),je=($r||V.title||"comptine").replace(/[^a-z0-9]/gi,"_").toLowerCase(),Xe=document.createElement("a");Xe.href=nt,Xe.download=br(je,"mp3"),Xe.style.display="none",document.body.appendChild(Xe),Xe.click(),document.body.removeChild(Xe),setTimeout(()=>window.URL.revokeObjectURL(nt),100)}catch(Le){alert(`Erreur lors du tlchargement: ${Le.message}`)}},disabled:!ae,style:{padding:"0.8rem 2rem",backgroundColor:ae?"#6B4EFF":"#ccc",color:ae?"#fff":"#666",border:"none",borderRadius:"10px",cursor:ae?"pointer":"not-allowed",fontWeight:"600",fontSize:"14px",marginTop:"0.8rem",boxShadow:ae?"0 4px 12px rgba(245, 240, 255, 0.3)":"none",transition:"all 0.3s ease"},onMouseOver:Le=>ae&&(Le.target.style.transform="translateY(-2px)"),onMouseOut:Le=>ae&&(Le.target.style.transform="translateY(0)"),children:ae?" Tlcharger":" Prparation du tlchargement..."})})]})},"rhyme-result"):V&&(e==="histoire"||e==="audio")?d.jsx(Ie.div,{className:"generated-result",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs("div",{style:{height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem",padding:"1rem",overflowY:"auto"},children:[V.audio_path&&d.jsx("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",padding:"22px",borderRadius:"15px",border:"2px solid #dee2e6",width:"100%",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:d.jsx("audio",{controls:!0,preload:"metadata",controlsList:"nodownload",style:{width:"100%",height:"40px",outline:"none"},src:n0(V.audio_path),children:"Votre navigateur ne supporte pas l'lment audio."})}),d.jsxs("div",{style:{display:"flex",gap:"1rem",width:"100%",justifyContent:"center",flexWrap:"wrap"},children:[d.jsx("button",{onClick:()=>P(!0),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Ouvrir l'histoire"}),d.jsx("button",{onClick:()=>vc(V.title,V.content),style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger l'histoire"}),V.audio_path&&d.jsx("button",{onClick:async()=>{try{const Le=n0(V.audio_path),Ue=(V.title||"Histoire").replace(/[^a-z0-9]/gi,"_").toLowerCase();if(V.audio_path.startsWith("http://")||V.audio_path.startsWith("https://")){const Ee=await fetch(Le);if(!Ee.ok)throw new Error(`Erreur HTTP: ${Ee.status}`);const Ke=await Ee.blob(),ut=window.URL.createObjectURL(Ke),tt=document.createElement("a");tt.href=ut,tt.download=br(Ue,"mp3"),document.body.appendChild(tt),tt.click(),document.body.removeChild(tt),setTimeout(()=>window.URL.revokeObjectURL(ut),100);return}const nt=await fetch(Le);if(!nt.ok)throw new Error(`Erreur HTTP: ${nt.status}`);const je=await nt.blob(),Xe=window.URL.createObjectURL(je),St=document.createElement("a");St.href=Xe,St.download=br(Ue,"mp3"),document.body.appendChild(St),St.click(),document.body.removeChild(St),setTimeout(()=>{window.URL.revokeObjectURL(Xe)},100)}catch{try{const Ue=n0(V.audio_path);window.open(Ue,"_blank")}catch{alert("Erreur lors du tlchargement. Veuillez ressayer.")}}},style:{padding:"0.6rem 1.4rem",backgroundColor:"#6B4EFF",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:" Tlcharger l'audio"})]})]})},"audio-story-result"):d.jsxs(Ie.div,{className:"preview-placeholder",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:["  ",!(V!=null&&V.content)&&!Y&&d.jsxs("div",{className:"empty-preview",children:["    ",d.jsx("p",{children:e==="rhyme"?"Votre comptine apparatra ici":e==="histoire"||e==="audio"||e==="histoire"?"Votre histoire apparatra ici":e==="coloring"?"Votre coloriage apparatra ici":e==="comic"?"Votre bande dessine apparatra ici":e==="animation"?"Votre dessin anim apparatra ici":"Votre contenu apparatra ici"})]})]},"placeholder")})})})})})]})}),d.jsx(_i,{children:li&&d.jsx(Ie.div,{className:"history-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:Qs,children:d.jsx(tF,{onClose:Qs,onSelect:mc})})}),R&&d.jsx(nF,{title:V.title,content:V.content,onClose:()=>P(!1)}),"    ",J&&d.jsx(iF,{coloringResult:Y,selectedTheme:ee,onClose:()=>W(!1)}),ue&&d.jsx(P4,{imageUrl:(()=>{var Ue;const Le=(Ue=Y==null?void 0:Y.images)==null?void 0:Ue[0];return Le?Le.image_url||Le:void 0})(),theme:(Y==null?void 0:Y.theme)||ee,onClose:()=>le(!1)}),Me&&d.jsx(oF,{comic:Ne,onClose:()=>Oe(!1),baseUrl:ar}),ii&&d.jsx(W7,{animationResult:Ft,onClose:()=>Ct(!1)}),si&&d.jsx(YF,{isOpen:si,contentType:ht,options:{duration:Ae,pages:Pe,voice:_},onSuccess:Le=>{Bt(!1),kn(!0),setTimeout(()=>{ys()},500)},onClose:()=>{Bt(!1)},onOpenCGV:Le=>{Bt(!1),Ln(!0),nn(Le||"terms")}}),et&&d.jsx(tI,{isOpen:et,onClose:()=>pr(!1),userId:ft==null?void 0:ft.id,userEmail:ft==null?void 0:ft.email,onOpenCGV:Le=>{pr(!1),Ln(!0),nn(Le||"terms")}}),d.jsx(nI,{onLegalClick:Le=>{Ln(!0),nn(Le)}}),d.jsx(_i,{children:ai&&d.jsx(rI,{onClose:()=>Ln(!1),initialSection:vn})})]})}const Pw=["fredagathe77@gmail.com","admin@herbbie.com"],su="herbbie_admin_session",ca={initAuthListener(e){const t=()=>{const r=this.getStoredSession();r&&r.user?e({user:r.user,isAdmin:r.isAdmin,session:r}):e(null)};t();const n=r=>{r.key===su&&t()};return window.addEventListener("storage",n),{unsubscribe:()=>{window.removeEventListener("storage",n)}}},async signIn(e,t){try{if(!Pw.includes(e))throw new Error("Accs refus. Seuls les administrateurs peuvent accder  ce panneau.");const n={id:"admin-"+Date.now(),email:e,user_metadata:{full_name:e==="fredagathe77@gmail.com"?"Admin Principal":"Administrateur"}},r={user:n,access_token:"admin-token-"+Date.now(),token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:n,isAdmin:!0,session:r}),{user:n,session:r,isAdmin:!0}}catch(n){throw console.error("Erreur de connexion:",n),n}},async signOut(){try{localStorage.removeItem(su)}catch(e){throw console.error("Erreur de dconnexion:",e),e}},async getCurrentUser(){try{const e=this.getStoredSession();return e&&e.user?{user:e.user,isAdmin:e.isAdmin}:null}catch(e){return console.error("Erreur lors de la rcupration de l'utilisateur:",e),null}},async checkUserIsAdmin(e){try{return!e||!e.email?!1:Pw.includes(e.email)}catch(t){return console.error("Erreur lors de la vrification du rle admin:",t),!1}},async authenticateWithToken(e){try{if(!e||!e.includes("admin"))return console.warn("Token invalide"),!1;const t={id:"admin-auto-"+Date.now(),email:"admin@herbbie.com",user_metadata:{full_name:"Administrateur Auto"}},n={user:t,access_token:e,token_type:"bearer",expires_at:Date.now()+24*60*60*1e3};return this.storeSession({user:t,isAdmin:!0,session:n}),{user:t,isAdmin:!0,session:n}}catch(t){return console.error("Erreur authentification automatique:",t),!1}},async getCurrentSession(){try{return this.getStoredSession()}catch(e){return console.error("Erreur lors de la rcupration de la session:",e),null}},storeSession(e){try{localStorage.setItem(su,JSON.stringify(e))}catch(t){console.error("Erreur lors du stockage de la session:",t)}},getStoredSession(){try{const e=localStorage.getItem(su);if(e){const t=JSON.parse(e);if(t.session&&t.session.expires_at>Date.now())return t;localStorage.removeItem(su)}}catch(e){console.error("Erreur lors de la rcupration de la session:",e)}return null}},e_=T.createContext(),t_=()=>{const e=T.useContext(e_);if(!e)throw new Error("useAuth doit tre utilis dans un AuthProvider");return e},aI=({children:e})=>{const[t,n]=T.useState(null),[r,i]=T.useState(!1),[s,o]=T.useState(!0),[a,l]=T.useState(null);T.useEffect(()=>{let m;return(async()=>{try{const b=await ca.getCurrentSession();if(b!=null&&b.user){const S=await ca.checkUserIsAdmin(b.user);n(b.user),i(S),l(b)}}catch(b){console.error("Erreur lors de l'initialisation de l'authentification:",b)}finally{o(!1)}m=ca.initAuthListener(async b=>{b?(n(b.user),i(b.isAdmin),l(b.session)):(n(null),i(!1),l(null)),o(!1)})})(),()=>{m&&m.unsubscribe()}},[]);const f={user:t,isAdmin:r,loading:s,session:a,signIn:async(m,g)=>{o(!0);try{const b=await ca.signIn(m,g);return b&&(n(b.user),i(b.isAdmin),l(b.session)),b}catch(b){throw b}finally{o(!1)}},signOut:async()=>{o(!0);try{await ca.signOut(),n(null),i(!1),l(null)}catch(m){throw console.error("Erreur lors de la dconnexion:",m),m}finally{o(!1)}},authenticateWithToken:ca.authenticateWithToken.bind(ca),isAuthenticated:!!t&&r};return d.jsx(e_.Provider,{value:f,children:e})};const lI=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState(!1),[l,c]=T.useState(!1),{signIn:h}=t_(),f=async m=>{m.preventDefault(),s(""),a(!0);try{await h(e,n),Xh(e.trim())}catch(g){s(g.message||"Erreur de connexion")}finally{a(!1)}};return d.jsx("div",{className:"login-container",children:d.jsxs(Ie.div,{className:"login-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsxs("div",{className:"login-header",children:[d.jsx("div",{className:"login-logo",children:d.jsxs("div",{className:"login-logo-text",children:[d.jsx("h1",{children:"HERBBIE"}),d.jsx("span",{children:"Administration"})]})}),d.jsx("h2",{children:"Connexion Administrateur"}),d.jsx("p",{children:"Accs rserv aux administrateurs HERBBIE"})]}),d.jsxs("form",{className:"login-form",onSubmit:f,children:[i&&d.jsxs(Ie.div,{className:"login-error",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:[d.jsx("span",{children:""})," ",i]}),d.jsxs("div",{className:"login-field",children:[d.jsx("label",{htmlFor:"email",children:"Email administrateur"}),d.jsx(Dl,{value:e,onChange:m=>t(m.target.value),placeholder:"admin@herbbie.com",required:!0,disabled:o,user:null,onEmailSubmit:()=>{}})]}),d.jsxs("div",{className:"login-field",children:[d.jsx("label",{htmlFor:"password",children:"Mot de passe"}),d.jsxs("div",{className:"password-input-container",children:[d.jsx("input",{type:l?"text":"password",id:"password",value:n,onChange:m=>r(m.target.value),placeholder:"",required:!0,disabled:o,autoComplete:"current-password",className:"password-input"}),d.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>c(!l),disabled:o,"aria-label":l?"Masquer le mot de passe":"Afficher le mot de passe",children:l?d.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):d.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),d.jsx("button",{type:"submit",className:"login-button",disabled:o||!e||!n,children:o?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"login-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),d.jsx("div",{className:"login-footer",children:d.jsx("p",{children:" Accs scuris - Seuls les administrateurs peuvent se connecter"})})]})})},Lv="/api/features",cI=async()=>{try{const e=await Gn(Lv,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok)return await e.json();throw console.error("Erreur lors de la rcupration des fonctionnalits:",e.statusText),new Error(`Erreur API: ${e.status}`)}catch(e){throw console.error("Erreur lors de la rcupration des fonctionnalits:",e),e}},uI=async(e,t)=>{try{const n=await yp({"Content-Type":"application/json"}),r=await Gn(`${Lv}/${e}`,{method:"PUT",headers:n,body:JSON.stringify({enabled:t})});if(r.ok)return(await r.json()).features;{const i=await r.text();throw console.error("Erreur lors de la mise  jour:",r.status,i),new Error(`Erreur API: ${r.status} - ${i}`)}}catch(n){throw console.error("Erreur lors de la mise  jour de la fonctionnalit:",n),n}},dI=async()=>{try{const e=await yp({"Content-Type":"application/json"}),t=await Gn(`${Lv}/reset`,{method:"POST",headers:e});if(t.ok)return(await t.json()).features;{const n=await t.text();throw console.error("Erreur lors de la rinitialisation:",t.status,n),new Error(`Erreur API: ${t.status} - ${n}`)}}catch(e){throw console.error("Erreur lors de la rinitialisation:",e),e}},hI=async()=>{try{return await cI()}catch(e){throw e}},fI=async(e,t)=>{try{const n=await uI(e,t);return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:n})),n}catch(n){throw n}},pI=async()=>{try{const e=await dI();return window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:e})),e}catch(e){throw console.error("Erreur lors de la rinitialisation des fonctionnalits:",e),e}},n_="/api/users",mI=async()=>{try{const e=await Gn(n_,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok)return(await e.json()).users||[];{const t=await e.text();throw console.error("Erreur lors du chargement des utilisateurs:",e.status,t),new Error(`Erreur API: ${e.status} ${t}`)}}catch(e){throw console.error("Erreur lors du chargement des utilisateurs:",e),e}},gI=async e=>{try{const t=await yp({"Content-Type":"application/json"}),n=await Gn(`${n_}/${e}`,{method:"DELETE",headers:t});if(n.ok)return!0;{const r=await n.text();throw console.error("Erreur lors de la suppression de l'utilisateur:",n.status,r),new Error(`Erreur API: ${n.status} - ${r}`)}}catch(t){throw console.error("Erreur lors de la suppression de l'utilisateur:",t),t}};const vI=()=>{const[e,t]=T.useState({}),[n,r]=T.useState(!0),[i,s]=T.useState(null),[o,a]=T.useState("features"),[l,c]=T.useState([]),[h,f]=T.useState(!1),[m,g]=T.useState(null),b=(M,B="info")=>{s({message:M,type:B}),setTimeout(()=>s(null),3e3)};T.useEffect(()=>{y()},[]);const S=T.useCallback(async()=>{try{f(!0),g(null);const M=await mI();c(M)}catch(M){console.error("Erreur lors du chargement des utilisateurs:",M),g("Erreur lors du chargement des utilisateurs"),b("Erreur lors du chargement des utilisateurs","error")}finally{f(!1)}},[]);T.useEffect(()=>{o==="users"&&S()},[o,S]);const k=async M=>{if(window.confirm("tes-vous sr de vouloir supprimer cet utilisateur et toutes ses crations ? Cette action est irrversible."))try{await gI(M),b("Utilisateur et toutes ses crations supprims avec succs","success"),await S()}catch(B){console.error("Erreur lors de la suppression:",B),b("Erreur lors de la suppression de l'utilisateur","error")}},y=async()=>{try{r(!0);const M=await hI();t(M)}catch(M){console.error("Erreur lors du chargement des fonctionnalits:",M),b("Erreur lors du chargement des fonctionnalits","error")}finally{r(!1)}},x=async M=>{var B,L;try{const V=((B=e[M])==null?void 0:B.enabled)||!1,H=await fI(M,!V);if(H){t(H),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:H}));const R=V?"dsactive":"active";b(`Fonctionnalit ${(L=e[M])==null?void 0:L.name} ${R}`,"success")}else b("Erreur lors de la mise  jour","error")}catch(V){console.error("Erreur lors de la mise  jour:",V),b("Erreur lors de la mise  jour","error")}},_=async()=>{try{const M=await pI();M?(t(M),window.dispatchEvent(new CustomEvent("featuresUpdated",{detail:M})),b("Toutes les fonctionnalits ont t rinitialises","success")):b("Erreur lors de la rinitialisation","error")}catch(M){console.error("Erreur lors de la rinitialisation:",M),b("Erreur lors de la rinitialisation","error")}},E=()=>Object.values(e).filter(M=>M.enabled).length,O=()=>Object.keys(e).length;return n?d.jsxs("div",{className:"admin-loading",children:[d.jsx("div",{className:"admin-loading-spinner"}),d.jsx("span",{children:"Chargement des fonctionnalits..."})]}):d.jsxs("div",{className:"feature-manager-container",children:[i&&d.jsx(Ie.div,{className:`admin-notification ${i.type} show`,initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},children:i.message}),d.jsxs("div",{className:"admin-tab-bar",children:[d.jsx("button",{className:`admin-tab ${o==="features"?"active":""}`,onClick:()=>a("features"),children:"Fonctionnalits"}),d.jsx("button",{className:`admin-tab ${o==="users"?"active":""}`,onClick:()=>a("users"),children:"Utilisateurs"})]}),o==="features"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"feature-manager-header",children:[d.jsxs("div",{className:"feature-manager-stats",children:[d.jsxs("div",{className:"feature-stat",children:[d.jsx("span",{className:"feature-stat-number",children:E()}),d.jsx("span",{className:"feature-stat-label",children:"Actives"})]}),d.jsxs("div",{className:"feature-stat",children:[d.jsx("span",{className:"feature-stat-number",children:O()}),d.jsx("span",{className:"feature-stat-label",children:"Total"})]}),d.jsxs("div",{className:"feature-stat",children:[d.jsxs("span",{className:"feature-stat-number",children:[Math.round(E()/O()*100),"%"]}),d.jsx("span",{className:"feature-stat-label",children:"Taux d'activation"})]})]}),d.jsx("div",{className:"feature-manager-actions",children:d.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:_,children:" Rinitialiser"})})]}),d.jsx("div",{className:"feature-manager-grid",children:Object.entries(e).map(([M,B])=>d.jsxs(Ie.div,{className:"feature-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[d.jsxs("div",{className:"feature-card-header",children:[d.jsxs("div",{className:"feature-info",children:[d.jsx("span",{className:"feature-icon",children:yI(M)}),d.jsxs("div",{className:"feature-details",children:[d.jsx("h3",{className:"feature-name",children:B.name}),d.jsx("span",{className:`feature-status ${B.enabled?"enabled":"disabled"}`,children:B.enabled?"Active":"Dsactive"})]})]}),d.jsxs("label",{className:"feature-toggle",children:[d.jsx("input",{type:"checkbox",checked:B.enabled,onChange:()=>x(M)}),d.jsx("span",{className:"toggle-slider"})]})]}),d.jsx("div",{className:"feature-card-body",children:d.jsx("p",{className:"feature-description",children:wI(M)})})]},M))}),d.jsx("div",{className:"feature-manager-info",children:d.jsxs("div",{className:"admin-card",children:[d.jsx("div",{className:"admin-card-header",children:d.jsx("h3",{children:" Informations"})}),d.jsxs("div",{className:"admin-card-body",children:[d.jsx("p",{children:"Les fonctionnalits actives sont visibles pour tous les utilisateurs de HERBBIE. Les modifications sont appliques immdiatement."}),d.jsxs("ul",{className:"feature-info-list",children:[d.jsxs("li",{children:[" ",d.jsx("strong",{children:"Dessin anim"})," : Gnration de vidos animes"]}),d.jsxs("li",{children:[" ",d.jsx("strong",{children:"Bande dessine"})," : Cration de BD avec bulles"]}),d.jsxs("li",{children:[" ",d.jsx("strong",{children:"Coloriage"})," : Pages de coloriage  imprimer"]}),d.jsxs("li",{children:[" ",d.jsx("strong",{children:"Histoire"})," : Contes audio avec narration"]}),d.jsxs("li",{children:[" ",d.jsx("strong",{children:"Comptine"})," : Chansons avec musique gnre"]})]})]})]})})]}),o==="users"&&d.jsxs("div",{className:"admin-users-panel",children:[d.jsxs("div",{className:"admin-users-header",children:[d.jsx("h2",{children:" Gestion des utilisateurs"}),d.jsx("p",{children:"Liste de tous les utilisateurs enregistrs dans HERBBIE"})]}),h?d.jsxs("div",{className:"admin-loading",children:[d.jsx("div",{className:"admin-loading-spinner"}),d.jsx("span",{children:"Chargement des utilisateurs..."})]}):m?d.jsx("div",{className:"admin-error",children:d.jsx("p",{children:m})}):l.length===0?d.jsx("div",{className:"admin-empty",children:d.jsx("p",{children:"Aucun utilisateur trouv"})}):d.jsx("div",{className:"admin-users-table-container",children:d.jsxs("table",{className:"admin-users-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Nom"}),d.jsx("th",{children:"Email"}),d.jsx("th",{children:"Rle"}),d.jsx("th",{children:"Date d'inscription"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:l.map(M=>d.jsxs("tr",{children:[d.jsx("td",{children:M.prenom||M.nom?`${M.prenom||""} ${M.nom||""}`.trim():"Non renseign"}),d.jsx("td",{children:M.email||"N/A"}),d.jsx("td",{children:d.jsx("span",{className:`user-role ${M.role==="admin"?"admin":M.role==="free"?"free":"user"}`,children:M.role==="admin"?" Admin":M.role==="free"?" Gratuit":" Utilisateur"})}),d.jsx("td",{children:M.created_at?new Date(M.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"N/A"}),d.jsx("td",{children:d.jsx("button",{className:"delete-user-btn",onClick:()=>k(M.id),title:"Supprimer l'utilisateur et toutes ses crations",children:" Supprimer"})})]},M.id))})]})})]})]})},yI=e=>({animation:"",comic:"",coloring:"",audio:"",rhyme:""})[e]||"",wI=e=>({animation:"Gnration de dessins anims personnaliss avec IA",comic:"Cration de bandes dessines avec bulles de dialogue",coloring:"Pages de coloriage  imprimer pour les enfants",audio:"Histoires audio avec narration automatique",rhyme:"Comptines musicales avec paroles et mlodies"})[e]||"Fonctionnalit de cration de contenu",xI=()=>{const{user:e,isAdmin:t,loading:n,signOut:r}=t_(),[i]=F6(),s=I1(),o=i.get("auth"),[a,l]=zt.useState(!1);return T.useEffect(()=>{o==="auto"?(l(!0),window.history.replaceState({},"","/ilmysv6iepwepoa4tj2k")):!o&&!a&&localStorage.removeItem("herbbie_admin_session")},[o]),T.useEffect(()=>{const h=document.title;return document.title="HERBBIE - Administration",()=>{document.title=h}},[]),T.useEffect(()=>{const h=()=>{l(!1),localStorage.removeItem("herbbie_admin_session"),document.title="HERBBIE"};return window.addEventListener("beforeunload",h),()=>{window.removeEventListener("beforeunload",h)}},[]),n&&!a?d.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#F9F4FF",color:"#333333"},children:d.jsx("div",{children:"Chargement..."})}):a||e&&t?d.jsx("div",{style:{minHeight:"100vh",background:"#F9F4FF",padding:"40px 20px"},children:d.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[d.jsx("h1",{style:{color:"#333333",textAlign:"center",marginBottom:"40px",fontSize:"2.5em",fontFamily:"'Baloo 2', cursive",fontWeight:"700"},children:" Gestion des Fonctionnalits HERBBIE"}),d.jsx(vI,{}),d.jsxs("div",{style:{marginTop:"40px",textAlign:"center",display:"flex",gap:"15px",justifyContent:"center",flexWrap:"wrap"},children:[d.jsx("a",{href:"/",onClick:h=>{h.preventDefault(),window.location.href="/"},style:{color:"#6B4EFF",textDecoration:"none",padding:"12px 30px",background:"#FFFFFF",border:"2px solid #6B4EFF",borderRadius:"12px",display:"inline-block",transition:"all 0.3s ease",cursor:"pointer",fontFamily:"'Baloo 2', cursive",fontWeight:"600",fontSize:"16px"},onMouseEnter:h=>{h.target.style.background="#6B4EFF",h.target.style.color="#FFFFFF"},onMouseLeave:h=>{h.target.style.background="#FFFFFF",h.target.style.color="#6B4EFF"},children:" Retour  HERBBIE"}),d.jsx("button",{onClick:async()=>{await r(),localStorage.removeItem("herbbie_admin_session"),s("/ilmysv6iepwepoa4tj2k")},style:{color:"#FFFFFF",border:"none",padding:"12px 30px",background:"#FF85A1",borderRadius:"12px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",fontFamily:"'Baloo 2', cursive"},onMouseEnter:h=>{h.target.style.background="#ff6b8a",h.target.style.transform="translateY(-2px)"},onMouseLeave:h=>{h.target.style.background="#FF85A1",h.target.style.transform="translateY(0)"},children:" Dconnexion"})]})]})}):d.jsx(lI,{})},bI=()=>d.jsx(aI,{children:d.jsx(xI,{})});const SI=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState(!1),[l,c]=T.useState(!1),[h,f]=T.useState(!1),[m,g]=T.useState(!1),[b,S]=T.useState(!1),[k,y]=T.useState(!1);T.useEffect(()=>{const _=document.createElement("meta");return _.name="robots",_.content="noindex, nofollow",document.head.appendChild(_),()=>{const E=document.querySelector('meta[name="robots"]');E&&E.content==="noindex, nofollow"&&E.remove()}},[]),T.useEffect(()=>{let _,E;return(async()=>{await new Promise(L=>setTimeout(L,500));const{data:{session:M}}=await pt.auth.getSession();if(M){f(!0);return}_=setTimeout(async()=>{const{data:{session:L}}=await pt.auth.getSession();L||g(!0)},15e3);const{data:{subscription:B}}=pt.auth.onAuthStateChange(async(L,V)=>{(L==="PASSWORD_RECOVERY"||L==="SIGNED_IN"||L==="INITIAL_SESSION")&&V&&(f(!0),g(!1),_&&clearTimeout(_))});E=B})(),()=>{_&&clearTimeout(_),E&&E.unsubscribe()}},[]);const x=async _=>{if(_.preventDefault(),s(""),c(!0),e.length<6){s("Le mot de passe doit contenir au moins 6 caractres"),c(!1);return}if(e!==n){s("Les mots de passe ne correspondent pas"),c(!1);return}try{const{error:E}=await pt.auth.updateUser({password:e});E?s(E.message):(a(!0),setTimeout(()=>{window.location.href="/"},3e3))}catch{s("Une erreur est survenue lors de la mise  jour du mot de passe")}c(!1)};return o?d.jsx("div",{className:"reset-password-page",children:d.jsx(Ie.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs("div",{className:"success-message",children:[d.jsx("div",{className:"success-icon",children:""}),d.jsx("h2",{children:"Mot de passe mis  jour !"}),d.jsx("p",{children:"Votre mot de passe a t chang avec succs."}),d.jsx("p",{children:"Vous serez redirig vers la page d'accueil dans quelques secondes..."})]})})}):m?d.jsx("div",{className:"reset-password-page",children:d.jsxs(Ie.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsxs("div",{className:"reset-password-header",children:[d.jsx("h1",{children:"HERBBIE"}),d.jsx("h2",{children:"Erreur de lien"})]}),d.jsxs("div",{className:"error-message",children:[d.jsx("div",{className:"error-icon",children:""}),d.jsx("h3",{children:"Lien de rinitialisation invalide"}),d.jsx("p",{children:"Ce lien de rinitialisation de mot de passe n'est pas valide ou a expir."}),d.jsx("p",{children:"Veuillez demander un nouveau lien de rinitialisation."})]}),d.jsx("div",{className:"reset-password-footer",children:d.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})}):h?d.jsx("div",{className:"reset-password-page",children:d.jsxs(Ie.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsxs("div",{className:"reset-password-header",children:[d.jsx("h1",{children:"HERBBIE"}),d.jsx("h2",{children:"Rinitialiser votre mot de passe"})]}),d.jsxs("form",{onSubmit:x,className:"reset-password-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"newPassword",children:"Nouveau mot de passe"}),d.jsxs("div",{className:"password-input-container",children:[d.jsx("input",{type:b?"text":"password",id:"newPassword",value:e,onChange:_=>t(_.target.value),placeholder:"Entrez votre nouveau mot de passe",required:!0,minLength:"6",className:"password-input"}),d.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>S(!b),"aria-label":b?"Masquer le mot de passe":"Afficher le mot de passe",children:b?d.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):d.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),d.jsxs("div",{className:"password-input-container",children:[d.jsx("input",{type:k?"text":"password",id:"confirmPassword",value:n,onChange:_=>r(_.target.value),placeholder:"Confirmez votre nouveau mot de passe",required:!0,minLength:"6",className:"password-input"}),d.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>y(!k),"aria-label":k?"Masquer le mot de passe":"Afficher le mot de passe",children:k?d.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):d.jsxs("svg",{className:"password-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),i&&d.jsx("div",{className:"error-message",children:i}),d.jsx("button",{type:"submit",className:"reset-button",disabled:l,children:l?"Mise  jour...":"Mettre  jour le mot de passe"})]}),d.jsx("div",{className:"reset-password-footer",children:d.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})}):d.jsx("div",{className:"reset-password-page",children:d.jsxs(Ie.div,{className:"reset-password-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsxs("div",{className:"reset-password-header",children:[d.jsx("h1",{children:"HERBBIE"}),d.jsx("h2",{children:"Rinitialiser votre mot de passe"})]}),d.jsxs("div",{className:"waiting-message",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Vrification de votre lien de rinitialisation..."}),d.jsx("p",{className:"waiting-subtitle",children:"Si cette page ne se met pas  jour automatiquement, assurez-vous d'avoir cliqu sur le lien complet dans votre email."})]}),d.jsx("div",{className:"reset-password-footer",children:d.jsx("a",{href:"/",children:"Retour  l'accueil"})})]})})};r0.createRoot(document.getElementById("root")).render(d.jsx(zt.StrictMode,{children:d.jsx(C6,{children:d.jsxs(r6,{children:[d.jsx(zh,{path:"/",element:d.jsx(oI,{})}),d.jsx(zh,{path:"/ilmysv6iepwepoa4tj2k",element:d.jsx(bI,{})}),d.jsx(zh,{path:"/reset-password",element:d.jsx(SI,{})})]})})}));export{Ot as _,ki as c,Mg as g};
